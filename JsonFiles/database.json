{"count":44176,"tag":"database","questions":[{"tags":["database","mongodb","count"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13281572,"title":"Multiple counts one request?","body":"<p>Is there any way for me to return multiple counts in one request?</p>\n\n<p>Rather then running <code>users.find({gender:\"male\"}).count();</code> and getting <code>231</code> then running <code>users.find({gender:\"female\"}).count();</code> getting <code>416</code> something that could return <code>{male:\"231\",female:\"416\"}</code>. I know map reduce can do this, is that my best bet?</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3426,"score":1,"question_id":8015098,"title":"How to check if value already exists in MySQL database","body":"<p>I know this is pretty basic.. but for some reason this is not working for me. I have a form that stores a Facebook user's ID to check if they already submitted the form. I have the form that submits the User ID into the database working perfectly. Its just this part of checking if the User ID value exists in the database that is tripping me up.</p>\n\n<p>Here's my code....</p>\n\n<pre><code>$user_id = 1234567890;\n\n$checkUserID = mysql_query(\"SELECT fbUserID from submissions WHERE fbUserID = '$user_id'\");\n\nif ($checkUserID) {\necho \"GTFO BRO\";\n} \n</code></pre>\n\n<p>Whenever I do an \"echo\" on the $checkUserID variable I get this returned.. \"Resource id #9\"</p>\n"},{"tags":["mysql","sql","database","query","relational-database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13281216,"title":"hard mysql stmnt about creating this view using various tables","body":"<p>So here are three relations:</p>\n\n<p><strong>Table Members</strong></p>\n\n<blockquote>\n  <p>Members(member_id, name, city, state)</p>\n</blockquote>\n\n<p>where member_id is the primary key</p>\n\n<p><strong>Table Borrowed</strong></p>\n\n<blockquote>\n  <p>Borrowed(borrow_id, lib_id, member_id)</p>\n</blockquote>\n\n<p>where borrow_id is the primary key </p>\n\n<p><strong>Table Libraries</strong></p>\n\n<blockquote>\n  <p>Libraries(lib_id, lib_address, lib_city, lib_state)</p>\n</blockquote>\n\n<p>where lib_id is the primary key</p>\n\n<p>Both lib_id and member_id are foreign keys</p>\n\n<p>Create a view called frequent_borrowers that reports, for every library, the member that has borrowed from that library the largest number of times. The view should contain the columns: (lib_id, member_id, name, num_borrowed). The last column is a count of how many times the borrower has made a check out at the library. (Note that you are not counting how many items the borrower has borrowed, but the number of times the borrower has gone to the library and checked out things.) In situations where multiple members tie for the most visits to a given library, include all such members in your results. Make sure your view includes every library, even ones where no members have checked out anything. Stores with no borrows should have NULL values for all columns except the lib_id column. </p>\n"},{"tags":["database","design","cookies","asp.net-mvc-4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13281252,"title":"User defined website design","body":"<p>I will be building a website, where user can drag,drop,open,close,resize window like <code>div</code> elements how he or she likes. The problem is, where should I store data about element position - cookies or database?</p>\n"},{"tags":["sql","ruby-on-rails","database","performance","postgresql"],"answer_count":2,"favorite_count":6,"up_vote_count":14,"down_vote_count":0,"view_count":919,"score":14,"question_id":9407442,"title":"Optimise PostgreSQL for fast testing","body":"<p>I am switching to PostgreSQL from SQLite for a typical Rails application.</p>\n\n<p>The problem is that running specs became slow with PG.<br>\nOn SQLite it took ~34 seconds, on PG it's ~76 seconds which is <strong>more than 2x slower</strong>.</p>\n\n<p>So now I want to apply some techniques to <strong>bring the performance of the specs on par with SQLite</strong> with no code modifications (ideally just by setting the connection options, which is probably not possible).</p>\n\n<p>Couple of obvious things from top of my head are:</p>\n\n<ul>\n<li>RAM Disk (good setup with RSpec on OSX would be good to see)</li>\n<li>Unlogged tables (can it be applied on the whole database so I don't have change all the scripts?)</li>\n</ul>\n\n<p>As you may have understood I don't care about reliability and the rest (the DB is just a throwaway thingy here).<br>\nI need to get the most out of the PG and make it <strong>as fast as it can possibly be</strong>.</p>\n\n<p><strong>Best answer</strong> would ideally describe the <em>tricks</em> for doing just that, setup and the drawbacks of those tricks.</p>\n\n<p><strong>UPDATE:</strong> <code>fsync = off</code> + <code>full_page_writes = off</code> only decreased time to ~65 seconds (~-16 secs). Good start, but far from the target of 34.</p>\n\n<p><strong>UPDATE 2:</strong> I <a href=\"https://gist.github.com/1573414\">tried to use RAM disk</a> but the performance gain was within an error margin. So doesn't seem to be worth it.</p>\n\n<p><strong>UPDATE 3:*</strong>\nI found the biggest bottleneck and now my specs run as fast as the SQLite ones.</p>\n\n<p>The issue was the database cleanup that did the <strong>truncation</strong>. Apparently SQLite is way too fast there.</p>\n\n<p>To \"fix\" it I open a <strong>transaction</strong> before each test and roll it back at the end.</p>\n\n<p>Some numbers for ~700 tests.</p>\n\n<ul>\n<li>Truncation: SQLite - 34s, PG - 76s.</li>\n<li>Transaction: SQLite - 17s, PG - 18s.</li>\n</ul>\n\n<p>2x speed increase for SQLite.\n4x speed increase for PG.</p>\n"},{"tags":["database","performance","csv","migration","redis"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13280993,"title":"How to move this data to redis for speedy access?","body":"<p>I've purchased a MaxMind.com's geoIP country database. They have a neat little tutorial about accessing it <a href=\"http://dev.maxmind.com/geoip/csv\" rel=\"nofollow\">here</a>.</p>\n\n<p>Here's a snippet of code that would be used with MySQL:</p>\n\n<pre><code>SELECT ip_country\nFROM geoip\nWHERE\nINET_ATON('174.36.207.186') BETWEEN begin_ip_num AND end_ip_num\nLIMIT 1\n</code></pre>\n\n<p>So, there's two columns, begin_ip_num and end_ip_num - determining the country of origin is as easy as finding a value between the two.</p>\n\n<p>Say I want to have this same data in Redis for quick access. What do I do? Will I have to run through the list and generate every possible ip thereby increasing the size of the instance DRAMATICALLY, or is there a clever way to do the same thing BETWEEN does?</p>\n"},{"tags":["database","joomla"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13279433,"title":"should i use the joomla user profile table?","body":"<p>When Joomla 1.6 came out and onwards I started using the joomla profile plugin to manage my user's profile data.</p>\n\n<p>I have been wondering for quite a while about the pros and cons of such a table where the data is stored in rows and not in fields.</p>\n\n<p>The pro is definitely that I can add new profile fields very easily.</p>\n\n<p>The con is how do you search on the information when different field types are stored in a text field - ie: the dob of the user is stored in a text field.</p>\n\n<p>Perhaps this question is more database than joomla related?</p>\n\n<p>But it boils down to - should I be using the joomla profile table for large numbers of users?</p>\n\n<p>Thanks,</p>\n\n<p>Mat</p>\n"},{"tags":["ruby-on-rails","database","paperclip","photo-gallery","image-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13280989,"title":"User photos album ruby on rails","body":"<p>I am building an app where user can upload pictures. For now only one picture at a time will do. I have searched around the Web and here at stackoverflow, but don't really seem to find what I am looking for or at least I don't know what I am looking for if it exists here at the site. \nI have tried implementing paperclip and allow users to upload pictures through that and not deleting the old picture when uploading a new one. But I don't really know where to go from here to display all the pictures that a user has uploaded. How do I do this the best way? Should I continue using paperclip or is there an even more suitable gem for my needs? </p>\n"},{"tags":["php","html","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13278506,"title":"Creating a table with Search boxes for each colum","body":"<p>I need someone to show me how you would create a simple table to search each colum of data that I insert from this form. I am looking for the easiest way to create a table with search boxes that can filter each colum. DB: <code>Mysql</code> Field types: <code>text</code> Below shows the variables I am using for my form that posts the data to the database. I am new to writing code so I need a simple but full example on how someone would create a 2 colum html table that can search data per colum. Once I see it works I will get it and be able to reuse. I found this:  <a href=\"http://www.javascriptkit.com/script/script2/tablefilter.shtml\" rel=\"nofollow\">http://www.javascriptkit.com/script/script2/tablefilter.shtml</a> This is pretty much what I'm looking to do but I just dont know how to write it. </p>\n\n<p>My Code</p>\n\n<pre><code>if (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n\n    $insert = \"INSERT INTO Carriers (`fromzip` ,`tozip` ,`date`) VALUES('$fromzip' ,'$tozip' , NOW())\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `fromzip` ,`tozip` , FROM `Carriers` ORDER BY `date` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n\n}\n?&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n            &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>My Table</p>\n\n<pre><code>&lt;?php /**/ ?&gt;&lt;?php\n\n\n$con = mysql_connect(\"local\", \"user\", \"pass\");\nmysql_select_db(\"DB\", $con)\n\n\n//$select = \"SELECT * FROM `loads` ORDER BY `index` DESC\";\n//$select = \"SELECT * FROM `loads` ORDER BY startingstate,startingcity,destinationstate,destinationcity;\";\n$select = \"SELECT * FROM `Carriers` ORDER BY date DESC\";\n\n$result = mysql_query($select) or die(mysql_error());\n\n$table = \"&lt;table style=\\\"width:100%;font-size:12px;text-align:center;\\\" cellspacing=\\\"0px\\\" cellpadding=\\\"2px\\\" border=\\\"1px\\\" bordercolor=\\\"#929087\\\"&gt;\";\n$table .= \"&lt;tr style=\\\"font-weight:bold;\\\"&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Pick Zip&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Drop Zip&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;Date&lt;/td&gt;&lt;/tr&gt;\";\n\n$count = 0;\n\nwhile($fields = mysql_fetch_row($result))\n{\n    //$table .= \"&lt;tr&gt;&lt;td&gt;&lt;input type=\\\"checkbox\\\" name=\\\"deleteme[]\\\" value=\\\"$fields[18]\\\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[0]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[2]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[3]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[9]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;a href=\\\"board_load_view.php?index=$fields[18]\\\"&gt;$fields[11]&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    $table .= \"&lt;tr&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[1]&lt;/&gt;&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[2]&lt;/&gt;&lt;/td&gt;&lt;td nowrap=\\\"nowrap\\\"&gt;$fields[9]&lt;/&gt;&lt;/td&gt;&lt;/tr&gt;\";\n    $count = $count + 1;\n}\n\n$table .= \"&lt;tr&gt;&lt;td colspan=\\\"12\\\"&gt;&lt;input type=\\\"submit\\\" name=\\\"delete\\\" value=\\\"Remove\\\" /&gt;&lt;/td&gt;&lt;/tr&gt;\";\n\nif ($count &lt; 1)\n{\n    $table = \"\";\n}\n\nmysql_close($con);\n\n//$table = strtoupper(\"You currently have \" . $count . \" LOADS posted. \" . $table);\n$table = \"You currently have \" . $count . \" LOADS posted. \" . $table;\n\necho $table;\n\n?&gt;\n</code></pre>\n"},{"tags":["database","content-management-system"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":6181751,"title":"Classroom management software; storing data?","body":"<p>So I am working on a mini-project for the summer to keep my coding skills sharp.  I will be using the Qt4 and C++ to make a classroom management system for college professors.  I just came up with the idea like 10 minutes ago so I don't have much.</p>\n\n<p>One question I have is what is the best way to store student/class/assignment information so that the software could still be portable and used my different schools.</p>\n\n<p>My first guess would be a MySQL database.  I need a gurus opinion on this one though.</p>\n"},{"tags":["sql","database","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13280165,"title":"SQLite3 do a SELECT, order by multiple cross-table columns","body":"<p>I'm trying to produce a \"history/logs page\" out of 3 tables, tables looks like this:</p>\n\n<h2>TableA</h2>\n\n<pre><code>CreationDate\nModifDate\nLastAccessedDate\nFileName\n</code></pre>\n\n<h2>TableB</h2>\n\n<pre><code>Guid_TableA\nCreationDate\nModifDate\nLastAccessedDate\nFileName\n</code></pre>\n\n<h2>TableC</h2>\n\n<pre><code>Guid_TableA\nLastModifDate\nFileName\n</code></pre>\n\n<p>FWIW, despite the similarities in columns names, <strong>there's no relation between dates in these tables</strong>. The only valid column that related between them is <strong>Guid_TableA</strong></p>\n\n<h2>What I want is...</h2>\n\n<p>Select records &amp; order them by date. <strong>I'm trying to build an event log, so returning duplicated entries like this is valid</strong> (as long as results are ordered correctly by dates)</p>\n\n<pre><code>(TableA)  file-1.txt    '01/01/2012 00:00:00' (CreationDate)\n(TableA)  file-1.txt    '01/01/2012 00:00:01' (ModifDate)\n(TableB)  file-2.txt    '01/01/2012 00:00:02' (CreationDate)\n(TableA)  file-1.txt    '01/01/2012 00:00:03' (LastAccessedDate)\n</code></pre>\n\n<p>Hopefully my intention is clear; I basically want to select records ordered by date (that is, ordered against multiple cross-tables columns, <strong>including duplicated entries</strong>)</p>\n\n<p><strong>My question is:</strong> Is this possible? If so, how?</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13279604,"title":"What would be a sql query of \" USA State\" come first?","body":"<p>I have MySQL table named employees with </p>\n\n<pre><code> 1. id \n 2. employee \n 3. state\n</code></pre>\n\n<p>I am not getting an idea how I can query the database where state with the name \"New York\" will come first and all other records will come normally. Here is what I have so far </p>\n\n<pre><code>$sql = \"select * from employees order by\";\n</code></pre>\n"},{"tags":["c#","database","winforms","data-binding"],"answer_count":5,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":847,"score":6,"question_id":5209661,"title":"C# - Should i use databinding?","body":"<p>Im developing applications in C# winforms, and have gone down the path of databinding my grids using a bindingsource. My question is:</p>\n\n<p>Is this the best approach to take? Should i manually populate the cells instead of letting the binding source do it for me? Could it lead to problems further down the track?</p>\n\n<p>If there any any situations where databinding would create issues that would be useful.</p>\n\n<p>One of my colleagues swears black and blue to NOT use databinding. I dont really trust what he says, so any pros/cons would be valuable.</p>\n\n<p>EDIT: In the situation of a multi-user applications connecting to a single database and editable datagrids, how would you solve concurrency issues for updating of data?</p>\n\n<p>Thanks</p>\n"},{"tags":["database","database-design","relational-database","rdbms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13279887,"title":"Relate Reply Table to Ticket Table","body":"<p>Assume i have a ticket/question that can have zero or many replies.</p>\n\n<p>I can relate 'reply' and 'ticket' tables in two ways. </p>\n\n<p><em>First method:</em></p>\n\n<pre><code>Ticket(**ticket_id**, title, message) //ticket_id: PK\nReply(**reply_id**, reply_message, ticket_id) //reply_id: PK and ticket_id: FK\n</code></pre>\n\n<p><em>Second Method:</em></p>\n\n<pre><code>Ticket(**ticket_id**, title, message) //ticket_id: PK\nReply(**reply_id**, **ticket_id**, reply_message) //reply_id: PK and ticket_id: FK &amp; PK\n</code></pre>\n\n<p>In my opinion, both of them are correct.</p>\n\n<p>As i see it, the Reply in second method is considered Weak entity because reply is strongly tied to ticket. However, i prefer the first method because its easier to deal with at the programming level; in first method, we only have to handle one PK. <strong>Do you agree? Why and Why Not?</strong>.</p>\n\n<p><em>NOTE: ticket and reply are mock-up samples.</em></p>\n"},{"tags":["database","google","script","google-apps-script","spreadsheet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12086212,"title":"How to update a Google spreadsheet from a webpage","body":"<p>I am working on a website that uses a Google spreadsheet like an SQL database (did so by publishing the csv file to the web, and reading that as a multidimensional array). Now, I have come to the issue of updating fields in the spreadsheet when a user updates their information on the site. Does anyone have any suggestions on how best to do this? Could I do it with a Google Apps Script, triggered when going to a certain webpage? Or even just straight up PHP/javascript/whatever else?</p>\n\n<p>I'm just looking for general strategies for how to go about this, any information would be very helpful!</p>\n"},{"tags":["php","mysql","database","avatar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13260364,"title":"Assign random avatar to userprofile php","body":"<p>This topic maybe sound familiar but im not quite pleased with any of the Stackoverflow questions that are asked. See I´m creating a website with a small amount of members, say somewhere around 50. And I have created my registration form and my login form. But now I wan´t to assign a avatar to each new registered member. When i new member successfully register, a random avatar saved on the server will be assigned to them. The user will carry this avatar with them at every visit. So to clear my question:</p>\n\n<p>How can I assign a random picture to each new user and save the picture to their <code>user_id</code>?</p>\n\n<p>I'm currently using a MySQL and coding in PHP. I have a \"Select-random-picture\" function, but not sure how to store a picture with a user. I'm happy for any kind of advice.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After some considerations, I have been able to state a clearer goal.\nI'm having images stored in a file system that i want to assign randomly to new members, AND when the image has been assign, it should be \"taken\". So if a new user register he will get a random image without the possibility to getting a already taken image.</p>\n\n<p>I have only succeded in creating a generator that uploads random images, but not assuring that the same picture won't come again:</p>\n\n<pre><code>                    $avatarDir = 'members/images/avatars/';\n                    $pics= glob($avatarDir . '*.{jpg,jpeg,png,gif}', GLOB_BRACE);\n                    $randomPics = $pics[array_rand($pics)]; \n                    $query_new_user_picture = $this-&gt;connection-&gt;query(\"INSERT INTO my_images (image) VALUES('$randomPics')\");\n                    $results = mysql_query($query_new_user_picture);\n</code></pre>\n"},{"tags":["mysql","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":298,"score":0,"question_id":7843296,"title":"How to drop tables with cyclic foreign keys in MySQL","body":"<p>I have two tables, Parent and Child. The column Parent.favorite_child has a foreign key constraint pointing to Child.id. And the column Child.parent has a foreign key constraint pointing to Parent.id.</p>\n\n<p>Now here's the weird part. I'm trying to drop my Child table, which <strong>contains no records</strong>, but MySQL is giving me the error:</p>\n\n<pre><code>ERROR 1217: Cannot delete or update a parent row: a foreign key constraint fails\nSQL Statement:\ndrop table `mydatabase`.`Child`\n</code></pre>\n\n<p>Why is MySQL throwing this error? There are literally no records in the Child table with which anything could be pointing to or from.</p>\n"},{"tags":["sql","database","query","postgresql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13278632,"title":"Not sure how to write a query to return column associated with max value in group by","body":"<p>This query in postgres 9.2:</p>\n\n<pre><code>select max(amount) as max_analyte,concat(sarea,' ',sloc) as location,analyte\nfrom sample natural join station\ngroup by analyte,location\norder by max_analyte desc;\n</code></pre>\n\n<p>returns the following results:</p>\n\n<pre><code>max_analyte;location;analyte\n24196;\"CANDLESTICK POINT WINDSURFER CIRCLE\";\"COLI_TOTAL  \"\n19863;\"CHINA BEACH/BAKER BEACH LOBOS CREEK\";\"COLI_TOTAL  \"\n14136;\"CRISSY FIELD EAST\";\"COLI_TOTAL  \"\n12033;\"CHINA BEACH/BAKER BEACH BAKER BEACH WEST\";\"COLI_TOTAL  \"\n4352;\"CHINA BEACH/BAKER BEACH LOBOS CREEK\";\"COLI_E      \"\n3076;\"CHINA BEACH/BAKER BEACH BACKER BEACH EAST\";\"COLI_TOTAL  \"\n2851;\"CHINA BEACH/BAKER BEACH LOBOS CREEK\";\"ENTERO      \"\n2064;\"AQUATIC PARK SHORELINE\";\"COLI_TOTAL  \"\n1918;\"CRISSY FIELD EAST\";\"ENTERO      \"\n...\n...\n\n74;\"CHINA BEACH/BAKER BEACH CHINA BEACH\";\"ENTERO      \"\n41;\"CRISSY FIELD WEST\";\"ENTERO      \"\n41;\"OCEAN BEACH NORTH LINCOLN WAY\";\"ENTERO      \"\n31;\"OCEAN BEACH NORTH LINCOLN WAY\";\"COLI_E      \"\n</code></pre>\n\n<p>The data set contains the levels of 3 types of bacteria (COLI_TOTAL, COLI_E, ENTERO) sampled at various locations around the Bay Area on many different dates. The query above finds the max value at each location for each type of bacteria, but now I'd like to find which type of bacteria is associated with the maximum value for each location. I'm just not sure how to write that query. I should mention I'm doing this to improve my SQL skills. Thanks for any help/suggestions.</p>\n\n<p>The tables schemas are as follows:</p>\n\n<pre><code>CREATE TABLE sample\n(\n  analyte character(12),\n  amount integer,\n  sdate date,\n  sid character varying(20)\n)\n\nCREATE TABLE station\n(\n  sid character(20),\n  sarea character varying(24),\n  sloc character varying(24),\n  sfreq character varying(24)\n)\n</code></pre>\n"},{"tags":["php","database","excel","sqlite","data-manipulation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13277142,"title":"Using PHP to manipulate data, transforming an SQLite database to an excel spreadsheet","body":"<p>I have tables such as tbl_building, tbl_rooms, tbl_lighting. </p>\n\n<p>Each have their tuples so that there can be many buildings, many rooms within buildings and many lighting items within rooms. This is structured by giving each of the buildings/rooms/lighting their own ID.</p>\n\n<p>One of the tasks that I'm trying to achieve is to display a list of lights, for each room within each building in an excel spreadsheet. </p>\n\n<p>Here is my code. It is obviously wrong but I can't get my head around outputting the data. </p>\n\n<pre><code>function getLights($buildingID, $d, $objPHPExcel, $status){\n\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Please Enter Hours Of Usage: ');\n        include(\"setText.php\");$status[2]++;\n\n        $groupStart = $status[1].$status[2];\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Lights Used:');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Count');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Energy Saving kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Saving(£)');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Cost');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Change To...');    \n        $groupEnd = $status[1].$status[2];\n\n        include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n        $status[2]++;$status[1] = chr(65);\n\n        $query = \"SELECT r_id FROM tbl_roomDesc WHERE b_id = '$buildingID'\";\n        $result = $d-&gt;query($query);\n        $rooms = array();\n\n        array_push($rooms, 2);//echo \"&lt;br/&gt;\".$row['r_id'];\n\n\n\n            //echo \"&lt;br/&gt;Building:\";\n        /*while($row = $result-&gt;fetchArray(SQLITE3_ASSOC)){ \n            array_push($rooms, $row['r_id']);//echo \"&lt;br/&gt;\".$row['r_id'];\n        }*/\n\n        //echo \"&lt;br/&gt;\";\n        //var_dump($rooms);\n\n        $lightArray = array(\n            \"CFL\",\n            \"CFL Equivalent Halogen 100w spot\",\n            \"CFL Equivalent Halogen 50w spot\",\n            \"Double d\",\n            \"Halogen 100w spot\",\n            \"Halogen 50w spot\",\n            \"PL\",\n            \"T12 Single 4ft\",\n            \"T12 Single 5ft\",\n            \"T12 Single 6ft\",\n            \"T12 Single 8ft\",\n            \"T12 Twin 4ft\",\n            \"T12 Twin 5ft\",\n            \"T12 Twin 6ft\",\n            \"T12 Twin 8ft\",\n            \"T5 Quad 2ft\",\n            \"T5 Quad 4ft\",\n            \"T5 Single 4ft\",\n            \"T5 Single 5ft\",\n            \"T5 Triple 2ft\",\n            \"T5 Triple 4ft\",\n            \"T5 Triple 5ft\",\n            \"T5 Twin 2ft\",\n            \"T5 Twin 4ft\",\n            \"T5 Twin 5ft\",\n            \"T8 Quad 2ft\",\n            \"T8 Quad 4ft\",\n            \"T8 Single 4ft\",\n            \"T8 Single 5ft\",\n            \"T8 Single 6ft\",\n            \"T8 Twin 2ft\",\n            \"T8 Twin 4ft\",\n            \"T8 Twin 5ft\",\n            \"T8 Twin 6ft\", \n            \"Tungsten 60w\",\n            \"Other\"\n            );\n\n        //echo sizeof($lightArray);\n\n        //for each room, get quant wattage and hours of each light referenced by the room id\n\n        echo sizeOf($rooms);\n        echo \"&lt;br/&gt;\";\n        for($i=0; $i&lt;sizeof($rooms);$i++){\n\n            //set empty arrays\n            $size = 36;\n            $lightQuantityCount = array_fill(0, $size, 0);\n            $lightWattageCount = array_fill(0, $size, 0);\n            $lightHoursCount = array_fill(0, $size, 0);\n\n            //get all lighting data of particular room\n            $query2 = \"SELECT * FROM tbl_lightingData WHERE r_id = '$rooms[$i]'\";\n            $result2 = $d-&gt;query($query2);\n            $row2= $result2-&gt;fetchArray(SQLITE3_ASSOC);\n\n            //for each light type in the lightarray chechk if light type from query == light type in array, if so add quantity, wattage and hours to arrays\n\n\n            while($row2=$result2-&gt;fetchArray(SQLITE3_ASSOC)){\n\n                echo \"&lt;br/&gt;Room ID: \".$rooms[$i].\"&lt;br/&gt;\";\n                $lightID = $row2['l_id'];\n                $lightType = $row2['lightType'];\n                $lightQuantity = $row2['lightQuantity'];\n                $lightWattage = $row2['lightWattage'];\n                $lightHours = $row2['lightHours'];\n                echo \"Light Profile:&lt;br/&gt;Light ID:  \".$lightID.\"&lt;br/&gt;Light Type:  \".$lightType.\"&lt;br/&gt;Light Wattage:  \".$lightWattage.\"&lt;br/&gt;Light Hours:  \".$lightHours.\"&lt;br/&gt;\";\n\n                for($j=0; $j&lt;sizeof($lightArray); $j++){\n                    if($lightType == $lightArray[$j]){\n                        echo \"&lt;br/&gt;MATCH&lt;br/&gt;\";\n                        $lightQuantityCount[$j] = $lightQuantityCount[$j] + $lightQuantity;\n                        $lightWattageCount[$j] = $lightWattage;\n                        $lightHoursCount[$j] = $lightHoursCount[$j] + $lightHours;\n                    }\n                    else{\n                        echo \"&lt;br/&gt;NO MATCH&lt;br/&gt;\";\n                    }\n                }\n            }\n\n            //echo\"&lt;br/&gt;ARRAY DUMP START:&lt;br/&gt;\";\n            //var_dump($lightQuantityCount);\n            //echo\"&lt;br/&gt;ARRAY DUMP END:&lt;br/&gt;&lt;br/&gt;\";\n\n            echo \"&lt;br/&gt;ADFSDFADFA : \".sizeof($lightQuantityCount);\n            echo \"&lt;br/&gt;ADFSDFADFA : \";\n\n            for($k=0; $k&lt;sizeof($lightQuantityCount); $k++){\n\n                if($lightQuantityCount[$k] != 0){\n\n                    echo \"&lt;br/&gt;Light Type: \".$lightArray[$k].\"&lt;br/&gt;\";\n                    echo \"Light Quantity Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n                    echo \"Wattage Count: \".$lightWattageCount[$k].\"&lt;br/&gt;\";\n                    echo \"Hours Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n\n                    include(\"setText.php\");$status[2]++;\n\n                    $groupStart = $status[1].$status[2];\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightArray[$k]);\n                        $status[1]++;\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightQuantityCount[$k]);\n                        $status[1]++;\n\n                        $calc = $lightWattageCount[$k] * $lightQuantityCount[$k];\n                        $calc2 = $calc / 1000;\n\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $calc2);\n                    $groupEnd = $status[1].$status[2];\n\n                    include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n                    $status[2]++;$status[1] = chr(65);\n                }\n            }\n        }\n\nreturn $status;\n</code></pre>\n\n<p>}</p>\n\n<p>Comment for more information, thanks</p>\n\n<p>Chris</p>\n"},{"tags":["sql","database","query","postgresql","select"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13278880,"title":"sql query returning multiple result using WHERE","body":"<p>There is a table name <code>Top_Up</code>. Its current snapshot is:\n<img src=\"http://i.stack.imgur.com/5CQha.png\" alt=\"Top_Up Table\">  </p>\n\n<p>When I run query <code>SELECT * FROM Top_Up WHERE Top_up_ID = (round(random() * 9 ) + 1);</code> on it, I am getting random result. Sometimes it is returning with two tuples, sometimes no tuples and sometime one tuple.  </p>\n\n<p>To debug I run the query <code>Select (round(random() * 9 ) + 1);</code> and it is always returning only one tuple in the result.  </p>\n\n<p><strong>Why I am getting this vague and random result?</strong></p>\n"},{"tags":["c++","database","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13278679,"title":"sqlite3 transactions and the exec call","body":"<p>I have an entire set of data i want to insert into a table.  I am trying to have it insert/update everything OR rollback.  I was going to do it in a transaction, but i wasnt sure if the <em>sql_exec()</em> command did the same thing.</p>\n\n<p>My goal was to iterate through the list.\nSelect from each iteration based on the Primary Key.</p>\n\n<pre><code>If result was found:\n  append update to string;\nelse\n  append insert to string;\n</code></pre>\n\n<p>Then after iterating through the loop, i would have a giant string and say:</p>\n\n<p><em>sql_exec(string);\nsql_close(db);</em></p>\n\n<p>Is that how i should do it?  I was going to do it on each iteration of the loop, but i didnt think a global rollback if there was an error.</p>\n"},{"tags":["php","mysql","database","content-management-system","photo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13278239,"title":"Databases and user's photos management","body":"<p>I was wondering the best option to build a website that will allow an user to send photos to be displayed on a open part of the site and I don't know if I should build a database in mysql to receive those photos and then to this table to be pushed on the screen and it grows. Is there any other options? Like getting these photos on a folder and then make a system to get them as I'd do if programming normal html and css...Thanks guys!</p>\n"},{"tags":["php","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13260945,"title":"Adding search filters to my table colums","body":"<p>I need someone to show me how you would create a simple table to search each colum of data that I insert from this form. I am looking for the easiest way to create a table with search boxes that can filter each colum. \nDB: Mysql\nField types: text\nBelow shows the variables I am using for my form that posts the data to the database.<br>\n  \n\n<pre><code>if (isset($_POST[\"submit\"]) &amp;&amp; $_POST[\"submit\"] == \"Submit\")\n{\n    for ($count = 1; $count &lt;= 9; $count++)\n    {\n        $fields[$count] = \"\";\n        if (isset($_POST[\"field\" . $count . \"\"]))\n        {\n            $fields[$count] = trim($_POST[\"field\" . $count . \"\"]);\n            //echo $fields[$count] . \"&lt;br /&gt;\";\n        }\n    }\n\n    $con = mysql_connect(\"local\", \"user\", \"pass\");\n    mysql_select_db(\"DB\", $con);\n\n    $fromzip = mysql_real_escape_string($_POST['fromzip']);\n    $tozip = mysql_real_escape_string($_POST['tozip']);\n\n    $insert = \"INSERT INTO Carriers (`fromzip` ,`tozip` ,`date`) VALUES('$fromzip' ,'$tozip' , NOW())\";\n    mysql_query($insert) or die(mysql_error());\n\n    $select = \"SELECT `fromzip` ,`tozip` , FROM `Carriers` ORDER BY `date` DESC;\";\n    $result = mysql_query($select) or die(mysql_error());\n\n}\n?&gt;\n&lt;style =\"text-align: center; margin-left: auto; margin-right: auto;\"&gt;&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div\n style=\"border: 2px solid rgb(0, 0, 0); margin: 16px 20px 20px; width: 400px; background-color: rgb(236, 233, 216); text-align: center; float: left;\"&gt;\n&lt;form action=\"\" method=\"post\";\"&gt;\n  &lt;div\n  style=\"margin: 8px auto auto; width: 300px; font-family: arial; text-align: left;\"&gt;&lt;br&gt;\n  &lt;table style=\"font-weight: normal; width: 100%; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n   &lt;table\n style=\"font-weight: normal; width: 100%; text-align: right; font-size: 12px;\"\n border=\"1\" bordercolor=\"#929087\" cellpadding=\"6\" cellspacing=\"0\"&gt;\n    &lt;tbody&gt;\n            &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Pick Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"fromzip\" name=\"fromzip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n              &lt;td style=\"width: 35%;\"&gt;Drop Zip:&lt;/td&gt;&lt;td&gt; &lt;input id=\"tozip\" name=\"tozip\" maxlength=\"50\"\n style=\"width: 100%;\" type=\"text\"&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;p style=\"text-align: center;\"&gt;&lt;input name=\"submit\" value=\"Submit\"\n class=\"submit\" type=\"submit\"&gt;&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;p style=\"margin-bottom: -20px;\"&gt;&amp;nbsp;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["database","prolog","logic","datalog"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":111,"score":2,"question_id":10889254,"title":"How do I prevent a Datalog rule from pruning nulls?","body":"<p>I have the following facts and rules:</p>\n\n<pre><code>% frequents(D,P) % D=drinker, P=pub\n% serves(P,B) % B=beer\n% likes(D,B)\n\nfrequents(janus, godthaab).\nfrequents(janus, goldenekrone).\nfrequents(yanai, goldenekrone).\nfrequents(dimi,  schlosskeller).\n\nserves(godthaab, tuborg).\nserves(godthaab, carlsberg).\nserves(goldenekrone, pfungstaedter).\nserves(schlosskeller, fix).\n\nlikes(janus, tuborg).\nlikes(janus, carlsberg).\n\ncount_good_beers_for_at(D,P,F) :- group_by((frequents(D,P), serves(P,B), likes(D,B)),[D,P],(F = count)).\npossible_beers_served_for_at(D,P,B) :- lj(serves(P,B), frequents(D,R), P=R).\n</code></pre>\n\n<p>Now I would like to construct a rule that should work like a predicate returning \"true\" when the number of available \"liked\" beers at each pub that a \"drinker\" \"frequents\" is bigger than 0.</p>\n\n<p>I would consider the predicate true when the rule returns no tuples. If the predicate is false, I was planning to make it return the bars not having a single \"liked\" beer.</p>\n\n<p>As you can see, I already have a rule counting the good beers for a given drinker at a given pub. I also have a rule giving me the number of servable beers. </p>\n\n<pre><code>DES&gt; count_good_beers_for_at(A,B,C)\n\n{                                           \n  count_good_beers_for_at(janus,godthaab,2)\n}\nInfo: 1 tuple computed.          \n</code></pre>\n\n<p>As you can see, the counter doesn't return the pubs frequented but having 0 liked beers. I was planning to work around this by using a left outer join.</p>\n\n<pre><code>DES&gt; is_happy_at(D,P,Z) :- lj(serves(P,B), count_good_beers_for_at(D,Y,Z), (Y=P))\n\nInfo: Processing:\n  is_happy_at(D,P,Z) :-\n    lj(serves(P,B),count_good_beers_for_at(D,Y,Z),Y = P).\n{                                           \n  is_happy_at(janus,godthaab,2),\n  is_happy_at(null,goldenekrone,null),\n  is_happy_at(null,schlosskeller,null)\n}\nInfo: 3 tuples computed.\n</code></pre>\n\n<p>This is almost right, except it is also giving me the pubs not frequented. I try adding an extra condition:</p>\n\n<pre><code>DES&gt; is_happy_at(D,P,Z) :- lj(serves(P,B), count_good_beers_for_at(D,Y,Z), (Y=P)), frequents(D,P)\n\nInfo: Processing:\n  is_happy_at(D,P,Z) :-\n    lj(serves(P,B),count_good_beers_for_at(D,Y,Z),Y = P),\n    frequents(D,P).\n{                                           \n  is_happy_at(janus,godthaab,2)\n}\nInfo: 1 tuple computed.\n</code></pre>\n\n<p>Now I somehow filtered everything containing nulls away! I suspect this is due to null-value logic in DES.</p>\n\n<p>I recognize that I might be approaching this whole problem in a wrong way. Any help is appreciated.</p>\n\n<p>EDIT: Assignment is \"very_happy(D) ist wahr, genau dann wenn jede Bar, die Trinker D besucht, wenigstens ein Bier ausschenkt, das er mag.\" which translates to \"<strong>very_happy(D) is true, iff each bar drinker D visits, serves at least 1 beer, that he likes</strong>\". Since this assignment is about Datalog, I would think it is definitely possible to solve without using Prolog.</p>\n"},{"tags":["c#","database","idisposable"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13049784,"title":"Whats the correct way to dispose table adapters and data sets?","body":"<p>I've been working on a project that uses table adapters and datasets to access an access database. I'm near completion and ran code analysis from visual studio and it came up with some errors about needing to implement IDisposable on specific classes that I use these methods. While I've looked at a few different things on this about having a dispose method or using a using block, I'm not really sure how to make this work. The dataset and table adapters are created as global variables to be used by the whole class, many classes will call on other classes which will also use different table adapters and datasets. I've tried creating a Dispose method, but I don't know when to call it and I am wondering if it is called at the wrong time will it crash my program. Here is a sample of one of the classes that I need to implement Idisposable :</p>\n\n<pre><code>   using System;\n   using System.Collections.Generic;\n   using System.Linq;\n    using System.Text;\n\n namespace recipeDataBase \n {\n     class NewRecipe : IDisposable\n     {\n         recipiesNewDataSet recipeDataSet = new recipiesNewDataSet();\n         recipiesNewDataSetTableAdapters.RecipeTableAdapter recipeTableAdapter = new      recipiesNewDataSetTableAdapters.RecipeTableAdapter();\n    recipiesNewDataSetTableAdapters.RecipeIngredientTableAdapter recipeIngredientTableAdapter = new recipiesNewDataSetTableAdapters.RecipeIngredientTableAdapter();\n    recipiesNewDataSetTableAdapters.RatingTableAdapter ratingTableAdapter = new recipiesNewDataSetTableAdapters.RatingTableAdapter();\n    recipeDataBase.recipiesNewDataSetTableAdapters.IngredientTableAdapter ingredientTableAdapter = new recipiesNewDataSetTableAdapters.IngredientTableAdapter();\n    private RecipeInfo newRecipe;\n    private RatingNum originalRatingNum;\n    private RatingNum newRating;\n    private RecipeInfo originalRecipe;\n    private string[] ingredients;\n\n    public NewRecipe(RecipeInfo incommingNewRecipe, RatingNum IncommingNewRating, string[] incommingIngredients)\n    {\n        newRecipe = incommingNewRecipe;\n        newRating = IncommingNewRating;\n        ingredients = incommingIngredients;\n        CreateNewRecipe();\n        UpdateNewRecipe();\n    }\n    public void CreateNewRecipe()\n    {\n        originalRatingNum = new RatingNum();\n        originalRecipe = new RecipeInfo();\n        originalRatingNum.cookingTime = 0;\n        originalRatingNum.easeOfCooking = 0;\n        originalRatingNum.familyRating = 0;\n        originalRatingNum.healthRating = 0;\n        originalRatingNum.userRating = 0;\n\n        ratingTableAdapter.Fill(recipeDataSet.Rating);\n        ratingTableAdapter.Insert(originalRatingNum.userRating, originalRatingNum.familyRating, originalRatingNum.healthRating, originalRatingNum.easeOfCooking, originalRatingNum.cookingTime);\n        Query getNewRecipeNumbers = new Query();\n        int newRatingNumber = getNewRecipeNumbers.newRatingNum();\n\n\n\n        originalRatingNum.ratingNum = newRatingNumber;\n        newRating.ratingNum = newRatingNumber;\n        newRecipe.ratingNum = newRatingNumber;\n        originalRecipe.recipeName = \"newRecipe\";\n        originalRecipe.nationality = \"newRecipe\";\n        originalRecipe.recipeEvent = \"newRecipe\";\n        originalRecipe.source = \"newRecipe\";\n        originalRecipe.type = \"newRecipe\";\n        originalRecipe.servings = \"0\";\n        originalRecipe.ratingNum = newRatingNumber;\n\n\n        recipeTableAdapter.Fill(recipeDataSet.Recipe);\n        recipeTableAdapter.Insert(originalRecipe.recipeName, originalRecipe.nationality, originalRecipe.recipeEvent, originalRecipe.source, originalRecipe.type, originalRecipe.servings, originalRecipe.ratingNum); \n        int newRecipeNum = getNewRecipeNumbers.newRecipeNum();\n        newRecipe.recipeNum = newRecipeNum;\n        originalRecipe.recipeNum = newRecipeNum;\n        recipeDataSet.AcceptChanges();\n    }\n\n    public void UpdateNewRecipe()\n    {\n        UpdateRatingNum updateRatingNum = new UpdateRatingNum(originalRatingNum, newRating);\n        UpdateRecipe updateRecipe = new UpdateRecipe(newRecipe, originalRecipe);\n\n        UpdateIngredients updateIngredients = new UpdateIngredients(ingredients);\n        UpdateRecipeIngredient updateRecpeIngredients = new UpdateRecipeIngredient(ingredients, newRecipe.recipeNum);\n        recipeDataSet.AcceptChanges();\n\n    }\n\n\n    public void Dispose()\n    {\n        ratingTableAdapter.Dispose();\n        recipeTableAdapter.Dispose();\n        recipeTableAdapter.Dispose();\n        ingredientTableAdapter.Dispose();\n        recipeDataSet.Dispose();\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>As you can see I did implement Idisposable and used the automatically created method to put all of the table adapters and dataset in there to be disposed, but how do I use it and where?</p>\n\n<p>Thanks for the help</p>\n\n<p>Craig</p>\n"},{"tags":["mysql","database","query"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13277453,"title":"Populating fields in MySQL Database","body":"<p>I have currently created a total of 12 tables in MySQL database. 11 of those tables share correlated data and are indexing with each other. I am undergoing some difficulties populating the values in each individual field of the tables and making sure they index properly. I was wondering if there is an easier way that I can populate each field in all tables for one record without doing it manually and having to worry for the proper <code>foreign_key</code> matches with the other table(indexing). Possibly a query can do the job but I am not sure how I can build such query. Or any other suggestions specifically tying to this example.</p>\n\n<p>Below are links to the desing of tables and a query if you will like to create an exact copy of tables in my database.</p>\n\n<p><a href=\"http://webprolearner.ueuo.com/class_des/table_structure.php\" rel=\"nofollow\">TABLE STRUCTURE/DESIGN</a></p>\n\n<p><a href=\"http://webprolearner.ueuo.com/class_des/query_create.php\" rel=\"nofollow\">QUERY FOR CREATING ALL TABLES</a></p>\n"},{"tags":["database","paas"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13218301,"title":"Database as a Service for use with JavaScript","body":"<p>I'm looking for a database service which will allow me to store and retrieve data from javascript ajax calls. I was thinking it will be a really good way to reduce the load from my server, and I will be willing to pay good money for such a service.</p>\n\n<p>So I searched, and couldn't find anything to my satisfaction. I checked out <a href=\"https://postgres.heroku.com/\" rel=\"nofollow\">Heroku Postgres</a> and also <a href=\"https://www.mongohq.com/home\" rel=\"nofollow\">monohq</a> but I don't think it's quite what I need. </p>\n\n<p>Do you know of such a service?</p>\n"},{"tags":["php","database","nosql","riak"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":13,"score":-2,"question_id":13277076,"title":"PHP Riak code examples and information","body":"<p>I would like to get some suggestions on websites that provides code snippets and examples on how to use Riak with PHP. Everything is interesting, if you have Riak-PHP solutions (search forms, different solutions of bucket listing etc.) you can also post them here. </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","database","oop","class","session"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13276556,"title":"Custom PHP Session Class","body":"<p>What I want to do is write a custom PHP session class that stores sessions in the database without using <code>session_set_save_handler()</code>.</p>\n\n<p>The purpose of this is so I can easily store data using <code>serialize()</code> and return it using <code>unserialize()</code>.</p>\n\n<p>I've been looking all day, can't find anything on this subject. Can anyone help get me started or link me to a useful tutorial?</p>\n\n<p>Thanks.</p>\n"},{"tags":["database","vim","tags","ctags","cscope"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":691,"score":1,"question_id":6450265,"title":"vim cannot connect to cscope database","body":"<p>I have opensuse 11.4 installed. Vim is version 7. Now I normally use it to browse the linux kernel source. So I generated the cscope database inside a directory within my home folder i.e. /home/aijazbaig1/cscope_DB/ and I got 3 files viz. cscope.out, cscope.po.out and cscope.in.out besides the cscope.files file which contains a list of all the relevant files which I want to search.</p>\n\n<p>Additionally I have added the following to my .bashrc:</p>\n\n<pre><code>CSCOPE_DB=/home/aijazbaig1/cscope_DB/cscope.out\nexport CSCOPE_DB\n</code></pre>\n\n<p>But when I do a <code>:cscope show</code> from within vim it says there are no connections. Can anyone please let me know what is going wrong.</p>\n\n<p>Keen to hear from you,</p>\n"},{"tags":["android","database","sqlite","sqlite3","adb"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":219,"score":-1,"question_id":11935491,"title":"Android Cannot see anything inside data folder","body":"<p>i am trying to see SQLite database in anyway possible (I have a rooted device). I tried File explorer in eclipse but i cannot see anything under data folder. Can anybody please help me with this\nI tried to search everywhere but couldnt find a clear solution. \nI also tried adb shell but i cannot see list of things inside data folder using \"ls\" command.\nerror\nOpendir failed. Permission denied</p>\n\n<p>I am guessing this has something to do with rights but how can i fix it</p>\n\n<p>Please help</p>\n"},{"tags":["java","javascript","database","security","mongodb"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":2,"view_count":45,"score":1,"question_id":13276329,"title":"MongoDB Security issue","body":"<p>My confidence in MongoDB security is shaken, and I'm hopping it will be restored with an explanation that I'm doing something wrong...</p>\n\n<p>I've created MongoDB's Windows Service like this:</p>\n\n<blockquote>\n  <p>mongod --logpath \"C:\\mongoDB\\logs\" --logappend --dbpath\n  \"C:\\mongoDB\\data\\db\" --serviceName MongoDB --serviceDisplayName \"Mongo\n  DB\" --port 27017 <strong>--auth</strong> --install</p>\n</blockquote>\n\n<p>I've then created a DB and added the administration user to that DB's system.users collection.</p>\n\n<p>Then I filled that DB with some random information to a test collection I've created.</p>\n\n<p>Up until now, everything is great and I am able to access the DB only if I have the administrator credentials...</p>\n\n<p>Now the important part...</p>\n\n<p>I removed the service like this:</p>\n\n<blockquote>\n  <p>mongod --remove --serviceName \"MongoDB\"</p>\n</blockquote>\n\n<p>Then I recreated the service but with no authentication like this:</p>\n\n<blockquote>\n  <p>mongod --logpath \"C:\\mongoDB\\logs\" --logappend --dbpath\n  \"C:\\mongoDB\\data\\db\" --serviceName MongoDB --serviceDisplayName \"Mongo\n  DB\" --port 27017 <strong>--noauth</strong> --install</p>\n</blockquote>\n\n<p>What amazes me is that I am now able to access the DB I've created with now authentication...</p>\n\n<p>Please tell me I should have done something differently.</p>\n"},{"tags":["sql","database","query"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13273966,"title":"SQL: unique constraint and aggregate function","body":"<p>Presently I'm learning (MS) SQL, and was trying out various aggregate function samples. The question  I have is: Is there any scenario (sample query that uses aggregate function) where having a unique constraint column (on a table) helps when using an aggregate function.</p>\n\n<p>Please note: I'm not trying to find a solution to a problem, but trying to see if such a scenario exist in real world SQL programming.</p>\n"},{"tags":["php","database","global-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13275053,"title":"global Tag Stopped Working : Wrong way to define global variable?","body":"<p>I'm trying to pull data from the server without having to repeat <code>$parentQ</code>, <code>$parentResult</code>, and <code>$link</code>. I thought adding global inside each function would fix it, and it did.. but for whatever reason just stopped working. </p>\n\n<p>If I put them back inside the function, it works. I'm confused. Why did it work, and now, isn't working. I didn't change anything that I know of. Here's the code:</p>\n\n<pre><code>//URL in Reference\n  $URL = 'path/file.php';\n\n//Initialize Query for Table Data\n$parentQ = \"select * from cdi_content where URL=\\\"$URL\\\"\";\n$parentResult = mysql_query($parentQ); // Run the Query\n$link = mysql_fetch_assoc($parentResult); // Query Result\n\n// Write Main Content\nfunction writeContent($URL){\nglobal $parentQ, $parentQuery, $link;\necho $link['Content']; // Pull Data From Server\n</code></pre>\n"},{"tags":["database","dynamic","spring-security","role"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13276071,"title":"spring security dynamic roles to load from db","body":"<p>my question is similar to post [question]: <a href=\"http://stackoverflow.com/questions/8381776/dynamic-spring-security-using-sql-query\">Dynamic Spring Security using SQL Query</a></p>\n\n<p>I've tried the solution given by Rob Winch but spring security complains as such. So not sure whether this due to spring latest version 3.1 or something else I've missed. Any guidance is much appreciated.</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: com.xx.web.security.filter.JdbcFilterInvocationSecurityMetadataSource cannot be cast to org.springframework.security.web.access.intercept.DefaultFilterInvocationSecurityMetadataSource\n</code></pre>\n"},{"tags":["database","oracle","plsql"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13275534,"title":"Maximum number of records entered per day in db table","body":"<p>I would like to know how can i limit the number of records entered into a db table per day. I am using Oracle database. I basically want the user to only enter 1 record per hour and throw an error if they try to go over that. any ideas people? thanks in advance.</p>\n"},{"tags":["sql","database","postgresql","datetime","stored-procedures"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13272022,"title":"Declaring timestamp in postgres","body":"<p>I have to insert a timestamp value into a table. I am inserting values by writing an stored procedure.<br>\nThis is the code to my stored procedure.  </p>\n\n<pre><code>CREATE OR REPLACE FUNCTION dataInsert_Schedule() RETURNS boolean As\n$$\nDECLARE\n    i integer;\n    j integer;\n    dur integer;\n    tup Channel%rowtype;\nBEGIN\n    FOR tup IN SELECT * FROM Channel\n    LOOP\n        for i in 0..6 LOOP --days\n            for j in 0..23 LOOP  --hours\n                dur = round((random() * 2) + 1);\n                IF i + dur &gt; 24 then\n                    dur = 24 - i;\n                END IF;\n                INSERT INTO Schedule VALUES(tup.Channel_ID, round((random() * 999) + 1),( current_date + (integer to_char(i,'9')) )+ (interval to_char(j,'99') || ' hour'), (interval  dur ||' hour'));\n                i = i + dur - 1;\n            END LOOP;\n        END LOOP;\n    END LOOP;\n    return true;\nEND\n$$ LANGUAGE plpgsql;\n</code></pre>\n\n<p>When I write the query <code>Select * From dataInsert_Schedule();</code> I got the following error :  </p>\n\n<pre><code>ERROR:  syntax error at or near \"to_char\"\nLINE 1: ...d((random() * 999) + 1),( current_date + (integer to_char( $...\n                                                             ^\nQUERY:  INSERT INTO Schedule VALUES( $1 , round((random() * 999) + 1),( current_date + (integer to_char( $2 ,'9')) )+ (interval to_char( $3 ,'99') || ' hour'), (interval  $4  ||' hour'))\nCONTEXT:  SQL statement in PL/PgSQL function \"datainsert_schedule\" near line 15\n\n********** Error **********\n\nERROR: syntax error at or near \"to_char\"\nSQL state: 42601\nContext: SQL statement in PL/PgSQL function \"datainsert_schedule\" near line 15\n</code></pre>\n\n<p>I First tried this</p>\n\n<blockquote>\n  <p><code>INSERT INTO Schedule VALUES(tup.Channel_ID, round((random() * 999) + 1),( current_date + (integer ''||i) )+ (interval (j ||' hour')), (interval  dur ||' hour'));</code>  </p>\n</blockquote>\n\n<p>way of inserting, but I was getting the same kind of error.</p>\n\n<p><strong>Why I am getting this error?</strong></p>\n\n<p>And the <code>schedule</code> table is defined as following:  </p>\n\n<pre><code>CREATE TABLE Schedule(\nChannel_ID Integer  REFERENCES Channel(Channel_ID),\nProgram_ID Integer  REFERENCES Program(Program_ID),\nStart_Time Timestamp NOT NULL,\nDuration Interval NOT NULL,\nCONSTRAINT Schedule_Key PRIMARY KEY(Channel_ID, Program_ID)\n);\n</code></pre>\n"},{"tags":["mysql","sql","database","wordpress","query"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13275271,"title":"SQL Joining another table based on the ID of the initial table","body":"<p>I really just can't seem to grasb the sytanx of SQL Joins, etc ... so I'm needing some help with this (which I think is quite simple)</p>\n\n<p>I'm querying <code>bid_tag</code> as follows:</p>\n\n<pre><code>SELECT paid_date, term, pet_id FROM bid_tag WHERE active = 1\n</code></pre>\n\n<p>And I need to use the <code>pet_id</code> to then grab some information from another table <code>wp_postmeta</code>, where the table is actually in a <code>meta_key</code> <code>meta_value</code> structure (WordPress) ...</p>\n\n<p>So I need to grab the <code>meta_value</code> of <code>meta_key</code> \"bid_name\", for example... amongst other values.</p>\n\n<pre><code>TABLE\nid | meta_key | meta_value\n1    bid_name    Max\n</code></pre>\n\n<p>That <code>ID</code> is the same <code>ID</code> that I need to connect the initial table to...</p>\n\n<p>I really appreciate it!</p>\n"},{"tags":["sql","sql-server","database","sql-server-2005"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13274950,"title":"list all tables that don't exist but are used in a view sql server","body":"<p>I can't seem to get all the table names that a view is trying to use.</p>\n\n<p>Currently, I am using <code>INFORMATION_SCHEMA.VIEW_COLUMN_USAGE</code> to find which tables are used. But, it only finds tables that currently exist. I want to find out if that view is trying to use tables that don't exist.</p>\n\n<p><code>View_Column_Usage</code> will only find columns that are used in the view. You can check to see if those columns are in any of the current tables columns to find which columns aren't used, but you can't find which tables aren't used.</p>\n\n<p>Does anyone know a table I can use to find which tables are used in a view, but do not exist?</p>\n"},{"tags":["mysql","sql","database","oracle"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":32,"score":0,"question_id":13275137,"title":"Regarding formatting of the query","body":"<p>I have made an application in which I have put the sql queries in java method as below..</p>\n\n<pre><code>private static String getSaleTransactionsQuery(final String currentTradingDate){\n\n        final String query =\n            \" SELECT '990' line_code, \" +\n            \" sum(toti_wag.TTIW_CUST_CNT) amount \" +\n            \" FROM total_till_wag toti_wag \" +\n            \" where toti_wag.TOTI_TRADING_DATE = '\" + currentTradingDate + \"' \";\n\n        return query;\n    }\n</code></pre>\n\n<p>Now when I want to filter out sql queries then I have to copy this query on the sql file and have to manually remove the quotes(\"\") and the plus(+) sign in order to make them as pure sql and then have to execute them to see the query output , is there any other tool which will format all these means remove the quotes and the plus sign ,please advise</p>\n"},{"tags":["database","cursor","rdbms","berkeley-db"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13225344,"title":"How to retrieve data whose key is less than a specified key using berkeley db?","body":"<p>As you see in the title, I want to retrieve data whose key is less than a specified key, and then I need to join many cursors which one could be more than a specified string, and another might be less than a specified integer. By default, the DB_SET_RANGE will return keys that are greater or equal than specified key. </p>\n\n<p>Should I implement it using a rewrite of comparison function, and set it as the comparison function of database, just like set_bt_compare()?</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13274605,"title":"how to create stored procedure to update product stock when customer order is created","body":"<p>There is this stored procedure that I'm trying to modify. I have the following tables tables:</p>\n\n<ol>\n<li>Product (product_id, name, description,price, discounted_price, stock, image)</li>\n<li>orders (order_id, total_amount, created_on, shipped_on, customer_id)</li>\n<li>order_details (item_id, order_id, product_id, product_name, quantity, unit_cost)</li>\n</ol>\n\n<p>This stored procedure is called when a customer creates an order. </p>\n\n<pre><code>CREATE  PROCEDURE `shopping_cart_create_order`(IN inCartId CHAR(32),\n  IN inCustomerId INT, IN inShippingId INT, IN inTaxId INT)\nBEGIN\n  DECLARE orderId INT;\n\n  -- Insert a new record into orders and obtain the new order ID\n  INSERT INTO orders (created_on, customer_id, shipping_id, tax_id) VALUES\n         (NOW(), inCustomerId, inShippingId, inTaxId);\n  -- Obtain the new Order ID\n  SELECT LAST_INSERT_ID() INTO orderId;\n\n  -- Insert order details in order_detail table\n  INSERT INTO order_detail (order_id, product_id, attributes,\n                            product_name, quantity, unit_cost)\n  SELECT      orderId, p.product_id, sc.attributes, p.name, sc.quantity,\n              COALESCE(NULLIF(p.discounted_price, 0), p.price) AS unit_cost\n  FROM        shopping_cart sc\n  INNER JOIN  product p\n                ON sc.product_id = p.product_id\n  WHERE       sc.cart_id = inCartId AND sc.buy_now;\n\n\n  -- Save the order's total amount\n  UPDATE orders\n  SET    total_amount = (SELECT SUM(unit_cost * quantity) \n                         FROM   order_detail\n                         WHERE  order_id = orderId)\n  WHERE  order_id = orderId;\n\n  -- Clear the shopping cart\n  CALL shopping_cart_empty(inCartId);\n\n  -- Return the Order ID\n  SELECT orderId;\nEND$$ \n</code></pre>\n\n<p>How can I create a stored procedure that modifies the above to update the stock (in the product table) based on the quantity of products in a customer's order?</p>\n"},{"tags":["java","sql","database","jdbc","odbc"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":4,"view_count":69,"score":-3,"question_id":13266332,"title":"Strange SQL statements being inserted into database","body":"<p>I have a problem with my Java application. The application is based on users who have to enter their <code>username (their email address)</code> so as to fill in an input form. The functionality of the input form is that the user has to enter for <code>book names</code> in order of priority. </p>\n\n<p>In the application, suppose a user's email address is <code>\"david.ferno@gmail.com\"</code>. He will have to input only <code>\"david.ferno\"</code> in the <code>JTextBox</code>, and a <code>SQL LIKE</code> statement is used check the corresponding User ID from the \"bookuser\" table and store it into the <code>\"priority\" table</code> along with the <code>book priority choices</code>. </p>\n\n<p>I have used <code>PreparedStatement</code> for the <code>SQL</code> retrieval from <code>database</code> but when values are being inserted to the , instead of saving <code>User ID</code> like <code>\"user88\"</code>, it is <code>saving the SQL statement</code> itself inside the database.  </p>\n\n<p>What I mean to say is, in the <code>\"priority\"</code> table, instead of saving <code>user88</code> (as an example), it is saving <code>\"SELECT User_ID FROM user WHERE email_address\"</code></p>\n\n<p>Please help me to find out what is wrong with my code.</p>\n\n<p><strong>Here are my codes</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport javax.swing.*;\nimport java.sql.*;\nimport javax.*;\n\npublic class addpriority extends JFrame{\npublic JTextField txt_email, txt_book1, txt_book2,txt_book3, txt_book4;\npublic JLabel label1;\npublic JButton confirm;\n\npublic addpriority(){\n    super(\"Book Choice Input Menu\");\n    this.setSize(506,620);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setVisible(true);\n\n    Toolkit toolkit =  Toolkit.getDefaultToolkit ();\n    Dimension dim = toolkit.getScreenSize();\n\n    setLocation((int) (dim.width*0.25), 50);\n\n    JPanel label = new JPanel();\n    JLabel welcome = new JLabel(\"Input Book Priorities\");\n\n    Font f = new Font(\"Verdana\", Font.BOLD,16);\n    welcome.setForeground(Color.BLACK);\n    welcome.setFont(f);\n    add(label);\n    label.add(welcome);\n\n    GridLayout g1 = new GridLayout(15, 2, 0, 10);\n    setLayout(g1);\n\n    JPanel textfield1 = new JPanel();\n    JLabel userid = new JLabel(\"Please Enter your username:\");\n    txt_mail = new JTextField(20);\n    JLabel lect2 = new JLabel(\"@gmail.com\");\n    add(textfield1);\n    textfield1.add(userid);\n    textfield1.add(txt_mail);\n    textfield1.add(lect2);\n\n\n    JPanel textfield2 = new JPanel();\n    add(textfield2);\n\n    JPanel textfield3 = new JPanel();\n    JLabel lbl1 = new JLabel(\"Set Priority by entering Books' name:\");\n    add(textfield3);\n    textfield3.add(lbl1);\n\n\n    JPanel textfield4 = new JPanel();\n    JLabel lbl2 = new JLabel(\"1st Priority:\");\n    txt_module1 = new JTextField(10);\n    add(textfield4);\n    textfield4.add(lbl2);\n    textfield4.add(txt_module1);\n\n    JPanel textfield5 = new JPanel();\n    JLabel lbl3 = new JLabel(\"2nd Priority:\");\n    txt_module2 = new JTextField(10);\n    add(textfield5);\n    textfield5.add(lbl3);\n    textfield5.add(txt_module2);\n\n\n    JPanel textfield6 = new JPanel();\n    JLabel lbl4 = new JLabel(\"3rd Priority:\");\n    txt_module3 = new JTextField(10);\n    add(textfield6);\n    textfield6.add(lbl4);\n    textfield6.add(txt_module3);\n\n    JPanel textfield7 = new JPanel();\n    JLabel lbl5 = new JLabel(\"4th Priority:\");\n    txt_module4 = new JTextField(10);\n    add(textfield7);\n    textfield7.add(lbl5);\n    textfield7.add(txt_module4);\n\n    JPanel button = new JPanel();\n    confirm = new JButton(\"Confirm\");\n    confirm.setMnemonic('C');\n    confirm.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e)\n        {\n            confirm.setEnabled(true);\n            }\n    });\n\n\n    Handleraddclassroom h = new Handleraddclassroom();\n    confirm.addActionListener(h);\n\n    button.add(confirm);\n    add(button);\n\n\n}\n\n\npublic class Handleraddclassroom implements ActionListener{\n    public void actionPerformed(ActionEvent event){\n\n        String name = ((JButton)event.getSource()).getText();\n\n\n        if (name.equals(\"Confirm\")){\n\n            String filename = \"C:/JAVA/book.accdb\";\n            String database = \"jdbc:odbc:booking\";\n\n            if(txt_mail.getText().equals(\"\")){\n                JOptionPane.showMessageDialog(addpriority.this,\"Your Username Field cannot be blank\");\n\n\n            }\n\n            else{\n\n\n            try {\n                Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\n                Connection con = DriverManager.getConnection(database ,\"\",\"\");  //username &amp;password not being used\n\n                Statement s = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY); //The Result set can now scroll forward and back\n\n\n\n\n            String squery = \"SELECT User_ID FROM bookuser WHERE email_address LIKE ? \";\n            PreparedStatement pstmt = con.prepareStatement(squery);\n            pstmt.setString (1, txt_mail.getText() + '*');\n                            pstmt.executeQuery();\n\n            String sql = \"INSERT INTO priority VALUES('\" \n\n                + squery + \"','\"\n                + txt_book1.getText() + \"','\"\n                + txt_book2.getText() + \"','\" \n                + txt_book3.getText() + \"','\"\n                + txt_book4.getText()+ \"' )\";\n\n            JOptionPane.showMessageDialog(addpriority.this,\"Choice Records Saved.\");\n\n            dispose();\n\n            Mainmenulecturer mml = new Mainmenulecturer();\n\n            s.execute(sql);\n\n            s.close();\n            con.close();\n\n            } catch (Exception e) {System.out.print(\"Error: \" + e);}\n            }\n        }\n    }   \n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php","database","module","moodle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13157163,"title":"Moodle module no database","body":"<p>I want to develop a <strong>module</strong> for Moodle 2.0 that <strong>doesn't need database</strong>. </p>\n\n<p>How should I fill the <strong>install.xml</strong> file when I will not have tables in the database?</p>\n\n<p>Thanks for the help.</p>\n\n<p>Greetings!</p>\n"},{"tags":["c#","sql","database","api","concurrency"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":13224787,"title":"Database recommendations needed -> Columnar, Embedded (if possible), fast, fast, fast","body":"<p>I am searching for the ideal database structure/solution that meets most of my below requirements but so far I utterly failed. Can you please help?</p>\n\n<p>My tasks: I run a process in .Net 4.5 (C#) and generate (generally) value types that I want to use for further analysis in other applications and therefore like to either preserve in-memory or persist on disk. More below. The data is generated within different tasks/threads and thus a row based data format does not lend itself well to match this situation (because the data generated in different threads is generated at different times and is thus not aligned). Thus I thought a columnar data structure may be suitable but please correct me if I am wrong.</p>\n\n<p>Example:</p>\n\n<p>Tasks/Thread #1 generates the following data at given time stamps</p>\n\n<p>datetime.ticks / value of output data</p>\n\n<p>1000000001 233.23</p>\n\n<p>1000000002 233.34</p>\n\n<p>1000000006 234.23\n...</p>\n\n<p>Taks/Thread #2 generates the following data at given time stamps</p>\n\n<p>datetime.ticks / value of output data</p>\n\n<p>1000000002 33.32</p>\n\n<p>1000000005 34.34</p>\n\n<p>1000000015 54.32\n...</p>\n\n<p>I do not need to align the time stamps at the .Net run-time, I am first and foremost after preserving the data and to process the data within R or Python at a later point.</p>\n\n<p>My requirements:</p>\n\n<ul>\n<li><p>Fast writes, fast writes, fast writes: It can happen that I generate 100,000- 1,000,000 data points per second and need to persist (worst case) or retain in memory the data. Its ok to run the writes on its own thread so this process can lag the data generation process but limitation is 16gb RAM (64bit code), more below.</p></li>\n<li><p>Preference is for columnar db format as it lends itself well to how I want to query the data later but I am open to any other structure if it makes sense in regards to the examples above (document/key-value also ok if all other requirements are met, especially in terms of write speed). </p></li>\n<li><p>API that can be referenced from within .Net. Example: HDF5 may be considered capable by some but I find their .Net port horrible.Something that supports .Net a little better would be a plus but if all other requirements are met then I can deal with something similar to the HDF5 .Net port.  </p></li>\n<li><p>Concurrent writes if possible: As described earlier I like to write data concurrently from different tasks/threads.</p></li>\n<li><p>I am constrained by 16gb memory (run .Net process in 64bit) and thus I probably look for something that is not purely in-memory as I may sometimes generate more data than that. Something in-memory which persists at times or a pure persistence model is probably preferable. </p></li>\n<li><p>Preference for embedded but if a server in a client/server solution can run as a windows service then no issue. </p></li>\n<li><p>In terms of data access I have strong preference for a db solution for which interfaces from R and Python already exist because I like to use the Panda library within Python for time series alignments and other analysis and run analyses within R.</p></li>\n<li><p>If the API/library supports in addition SQL/SQL-like/Linq/ like queries that would be terrific but generally I just need the absolute bare bones such as load columnar data in between start and end date (given the \"key\"/index is in such format) because I analyze and run queries within R/Python.</p></li>\n<li><p>If it comes with a management console or data visualizer that would be a plus but not a must. </p></li>\n<li><p>Should be open source or priced within \"reach\" (no, KDB does not qualify in that regards ;-)</p></li>\n</ul>\n\n<p>OK, here is what I have so far, and again its all I got because most db solution simply fail already on the write performance requirement:</p>\n\n<ul>\n<li>Infobright and Db4o. I like what I read so far but I admit I have not checked into any performance stats</li>\n<li>Something done myself. I can easily store value types in binary format and index the data by datetime.ticks (8 bit longs), I just would need to somehow write scripts to load/deserialize the data in Python/R. But it would be a massive tasks if I wanted to add concurrency, a query engine, and other goodies. Thus I look for something already out there. </li>\n</ul>\n"},{"tags":["database","activerecord","orm","doctrine","codeigniter-2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":882,"score":1,"question_id":8838147,"title":"What Does Doctrine Add Above Active Record - CodeIgniter?","body":"<p>I really like CodeIgniter's Active Record and how nicely it allows all my needed database queries.</p>\n\n<p>But I've also been reading about ORMs like Doctrine.  When I read Doctrine's documentation, it does not seem as clear to use as Active Record, and I can't see what makes it better (if it is).</p>\n\n<p>What does Doctrine allow that is not possible with Active Record?  Does Doctrine make the same job faster, easier, better?  Or does it do things Active Record cannot do?</p>\n\n<p>Best would be if people could post examples of tasks showing what we're talking about.</p>\n\n<p>Thanks,\nMatthew</p>\n"},{"tags":["sql","database","vb.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13273849,"title":"How do I access data in a database table with SQL","body":"<p>My database has table <code>UserTBL</code> with fields <code>UserID</code>, <code>Name</code> and <code>Email</code>.</p>\n\n<p>Now i already have created a database and GUI in visual Basic and now configuring database.\nThere are few problems i am facing in extracting the exact user from the database because the thing i learned to filter from database is </p>\n\n<pre><code>Me.UserTBLBindingSource.Filter = String.Format(\"UserName =  '{0}'\", Me.TextBox4.Text)\n</code></pre>\n\n<p>Where textbox4 is my input box. Now as many user can have same name. My first problem is how do i extract exact user by using additions details such as email ?</p>\n\n<p>Also i am also planning to store some of the database elements in visual basic variables.\nSomething like,</p>\n\n<pre><code>Dim str1 As String\nstr1 = Me.UserTBLBindingSource.UserID\n</code></pre>\n\n<p>Now, if anyone really know how to do above, kindly try to help me.</p>\n"},{"tags":["database","database-design","uml","er-diagrams"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13273055,"title":"when do u use ER diagram and when do u use UML diagram?","body":"<p>I know that UML diagram can be used both to model database designs and class design designs. But ER diagram can be used only in database problems. so when do u use ER diagram and when to use UML diagram??</p>\n"},{"tags":["sql","database","query","count","db2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13273023,"title":"DB2 - Printing info in a Count","body":"<p>Here is the question and my attempt at an answer. I believe that it's successfully selecting records that have borrowed more than one book, I just don't know how to print the book info.</p>\n\n<p>--Find the cardholders (b_name, b_addr) who have borrowed exactly 3 books. Include in your answer the author and title of the borrowed books. </p>\n\n<pre><code>SELECT DISTINCT b_name, b_addr\nFROM cardholder ch, copy c, book k\nWHERE ch.borrowerid IN (SELECT borrowerid\n                        FROM borrows b\n                        WHERE b.borrowerid = ch.borrowerid \n                        AND c.accession_no = b.accession_no\n                        GROUP BY borrowerid\n                        HAVING COUNT(DISTINCT l_date) = 3);\n</code></pre>\n"},{"tags":["mysql","sql","database","query","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13267870,"title":"optimizing a delete query for table with no index?","body":"<p>Let's say we have the following tables:\nr(a, b, c)\nwhere a is some integer, and the table has 50 rows\ns(d, e, f, a)\ns.a is a foreign key onto t.a.\neach tuple is 400 bytes and s is a multiset since this is a SQL database.\ns holds about 1 million tuples. \nwhen a table is added, the database server automatically creates an index on the primary-­‐key columns in the table so for example t has an index on a. However, Oracle does not create indexes on columns that are foreign keys. So s has no index.\nWe want to delete 15 rows from t. So here is what we do:\n1) We remove rows from s that have the same a values in t. This takes 10 minutes.\n2) Then we run the statement DELETE FROM t WHERE a IN (values we are trying to remove, 15 of them to be exact)\nThis takes about 6 hours. </p>\n\n<p>So my guess is the second step takes a long time because for every tuple in t, we are comparing the value of a to every value within the query list. So how can we optimize this query to get the same result but much faster!?</p>\n"},{"tags":["php","database","security","query","hash"],"answer_count":7,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":3426,"score":14,"question_id":3665247,"title":"Fastest hash for non-cryptographic uses?","body":"<p>I'm essentially preparing phrases to be put into the database, they may be malformed so I want to store a short hash of them instead (I will be simply comparing if they exist or not, so hash is ideal).</p>\n\n<p>I assume MD5 is fairly slow on 100,000+ requests so I wanted to know what would be the best method to hash the phrases, maybe rolling out my own hash function or using <code>hash('md4', '...'</code> would be faster in the end?</p>\n\n<p>I know MySQL has MD5(), so that would complement a bit of speed on the query end, but maybe there's further a faster hashing function in MySQL I don't know about that would work with PHP..</p>\n"},{"tags":["php","database","web-applications","cookies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13274257,"title":"set each database data element to a Cookie in web app","body":"<p>i had developed mobile webapp which set fullscreen option for like native feel, there is user login page also, when user resume this webapp section expired, in my mobile safari no problem, but when i run fullscreen mode webbapp its expired my login section.</p>\n\n<p>i used this php code for resume my webapp previous position</p>\n\n<pre><code>&lt;?php     \n    $pageUrl = 'http://mydomain.com/index.php?route=customer/account';\n    setcookie('lastPage', $pageUrl, time()+86400, '/');\n?&gt;\n</code></pre>\n\n<p>how to set each database data element to a Cookie,? when resume webapp in iphone check if the Cookie exists...</p>\n\n<p>any idea.?</p>\n"},{"tags":["php","mysql","database","cakephp","cakephp-1.2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13271267,"title":"Change id from autoincrement to char 36 in CakePHP","body":"<p>I have web application built on CakePHP 1.2.11. and mysql database. In this application I have two tables, namely, users and actions. Users hasMany actions and the user_id (id in users tables) is the foreign key in actions table. The id field is autoincrement integer.</p>\n\n<p>CakePHP documentation said that setting the id field to be Char(36) will make CakePHP able to generate Unique string for each record to be the id.</p>\n\n<p>My application is running and I don't want to loss the data records that my application already has. I need to know if it is safely possible to migrate from autoincrement integer id to char(36) keeping in mind the related table?</p>\n\n<p>In other word, How could I change integer value to the unique string id that cakephp do? Is there any rules? If there any tool automate this kind of migration, I will be appreciated to know it.</p>\n"},{"tags":["java","database","forms","readonly"],"answer_count":7,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":402,"score":4,"question_id":3491540,"title":"java ORM for a read only DB","body":"<p>I know hibernate but I wonder if there would be a lighter ORM engine for a <strong>read only</strong> database. I mean, I don't need some transactional queries or to update some records. On the other side, I need to handle some large list of records:</p>\n\n<pre><code>List&lt;MyRecord&gt; list= object.getMyRecords(); // list.size() &gt; 1E7\n</code></pre>\n\n<p>Does such engine exist ?\nMany thanks,</p>\n\n<p>Pierre</p>\n"},{"tags":["c#","database","listbox"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3148,"score":0,"question_id":2438796,"title":"Transferring data from one list box to another c#","body":"<p>Ok so I have 2 list boxes one is connected to a database the other isnt.</p>\n\n<p>I want to be able to send the selected item from the listbox connected to the database to the one that isnt.</p>\n\n<p>Ive written this code</p>\n\n<pre><code>listBox2.Items.Add(listBox1.SelectedItem);\n</code></pre>\n\n<p>But instead of copyin the item i get \"</p>\n\n<pre><code>System.Data.DataRowView\n</code></pre>\n\n<p>Anyone havin any advice?</p>\n"},{"tags":["php","javascript","database"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13273244,"title":"Is there a script I can use to create multiple web pages? One for each day of the year?","body":"<p>I'm creating a website that displays different content each day of the year, and includes Social buttons to share the content. </p>\n\n<p>As the social buttons are sharing the <em>content</em> and not the <em>website</em>, I figured the easiest way to do this is to create 365 different webpages and make the index page load a different one each day - but obviously I don't want to create 365 different webpages if I can help it.</p>\n\n<p>I know very little PHP, but I noticed in the Wordpress install, there seems to be a way of actually creating pages on the server. Maybe I'm wrong, but if I'm not, surely it means my problem can be solved fairly simply?</p>\n\n<p>Any help is very much appreciated.</p>\n"},{"tags":["sql","database","ms-access"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13272764,"title":"Retrieve values In the same order of values given in IN caluse","body":"<p>I have a query like (MS ACCESS). \nThe <code>number values in the IN caluse is a variant</code>.In the given example I given only 4.somethimes its more than 30 numbers.</p>\n\n<pre><code>SELECT        ID\nFROM          TableName\nWHERE        (ID IN (16, 18, 15, 20 ))\n\nResult : 15 ,16,18,20 \n</code></pre>\n\n<p>Is there any way to  retrieve values In the <code>same order</code> of values given in <code>IN</code> caluse.<br>\nResult should like  this  <code>Result : 16,18,15,20</code></p>\n"},{"tags":["sql","database","oracle","sql-developer","database-administration"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13272225,"title":"Oracle SQL Developer copy database step by step","body":"<p>I'm having big trouble in copying an Oracle DB to the same server but with another name, to use as a development DB.</p>\n\n<p>I'm used to SQL Server, I'm new to Oracle (11g).</p>\n\n<p>I wanted to use the 'Database copy' from SQL Developer, but I'm getting errors all the way. First it was about missing tablespaces.\nThen when I manually created them in my new empty DB the errors were about missing users.\nI wanted to create the users manually, but then I first needed to create missing roles.\nWhen all that was done, it failed on missing indexes...</p>\n\n<p><strong>How do I copy everything I need with 'Database copy'?</strong></p>\n\n<p>Any advice is greatly appreciated!</p>\n"},{"tags":["c#","database","path","privileges","appdata"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13272429,"title":"Crash for the deletion of a database in AppData: Access denied","body":"<p>I have this code for creating a path for a database:</p>\n\n<pre><code>static string folder = Application.UserAppDataPath; \nstatic string fisier = \"prog.db\"; \nstring file = folder + \"\\\\\" + fisier;\n</code></pre>\n\n<p>And this code for delete the database:</p>\n\n<pre><code>if (System.IO.File.Exists(file))\n   System.IO.File.Delete(file);\n</code></pre>\n\n<p>And this code for wirting the database:</p>\n\n<pre><code>if (!System.IO.File.Exists(file)) \n            {\n                System.IO.File.WriteAllText(file, \"\");\n            }\n</code></pre>\n\n<p>The codes work perfectly, but the problem is with the privileges. To some people, is a problem with the deleting of database, the application will crash becouse will can not delete the database. Not works only for some people, in my case, work perfectly, but I want to resolve the problem to not crash if you don't have the privileges.</p>\n"},{"tags":["android","sql","database","sqlite","upgrade"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13266667,"title":"How to modify type in a table of SQLite in Android, using onUpgrade method?","body":"<p>Following this good example <a href=\"http://code.google.com/p/openintents/source/browse/trunk/notepad/NotePad/src/org/openintents/notepad/NotePadProvider.java?r=3878\" rel=\"nofollow\">http://code.google.com/p/openintents/source/browse/trunk/notepad/NotePad/src/org/openintents/notepad/NotePadProvider.java?r=3878</a></p>\n\n<p>I implement my sqlite database upgrade system. But in the link above the only example show how add new column in a table. The piece of code in the onUpgrade method is</p>\n\n<pre><code> try {\n      db.execSQL(\"ALTER TABLE \" +   NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.TAGS + \" TEXT;\");\n      db.execSQL(\"ALTER TABLE \" + NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.ENCRYPTED + \" INTEGER;\");\n      db.execSQL(\"ALTER TABLE \" + NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.THEME + \" TEXT;\");\n      } catch (SQLException e) {\n      Log.e(TAG, \"Error executing SQL: \", e);\n      // If the error is \"duplicate column name\" then everything is fine,\n      // as this happens after upgrading 2-&gt;3, then downgrading 3-&gt;2, \n      // and then upgrading again 2-&gt;3.\n      }\n      //  *** other upgrade from version x-&gt;y\n      // ***\n</code></pre>\n\n<p>and in onCreate, something like this:</p>\n\n<pre><code>  public void onCreate(SQLiteDatabase db) {\n      db.execSQL(\"CREATE TABLE \" + NOTES_TABLE_NAME + \" (\"\n           // Version 2:\n           + Notes._ID + \" INTEGER PRIMARY KEY,\"\n           + Notes.TITLE + \" TEXT,\"\n           + Notes.NOTE + \" TEXT,\"\n           + Notes.CREATED_DATE + \" INTEGER,\"\n           + Notes.MODIFIED_DATE + \" INTEGER,\"\n           // Version 3:\n           + Notes.TAGS + \" TEXT,\"\n           + Notes.ENCRYPTED + \" INTEGER,\"\n           + Notes.THEME + \" TEXT,\"\n           // Version 4:\n           + Notes.SELECTION_START + \" INTEGER,\"\n           + Notes.SELECTION_END + \" INTEGER,\"\n           + Notes.SCROLL_POSITION + \" REAL\"\n           + \");\");\n          }\n</code></pre>\n\n<p>Now I want a new database version where no column is added, but I want just change type of some field in a table. How can I do this?</p>\n\n<p>Here <a href=\"http://sqlite.org/lang_altertable.html\" rel=\"nofollow\">http://sqlite.org/lang_altertable.html</a> is said that is not possible to change a field type. How can I circumvent the problem?</p>\n\n<p>I'm inserting data in database in this way:</p>\n\n<pre><code>   ContentValues v = new ContentValues();\n   v.put(\"field1\", myString); // fileld1 in db is defined as integer\n\n   dbManager.updateTable(\"mytable\", v, whereClause);\n</code></pre>\n\n<p>How can I make a CAST in this situation?</p>\n"},{"tags":["mysql","database","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13271678,"title":"MySQL Optimize query to Enhance Performance for Comparison Report","body":"<p>I have two tables \"<code>users</code>\" and \"<code>temp_users</code>\". Now, \"users\" table contains millions of data and \"temp_users\" contains thousands. Both the table contains same sort of information but sometime some record might be missing. </p>\n\n<p>So, the requirement is to compare these two tables and show the differences between them. I wrote the comparison Query but may be due to huge volume of data (millions) it is taking more than 5 minutes to execute. Any Suggestion??</p>\n\n<p>The comparison query which I wrote is below:</p>\n\n<pre><code>SELECT \n   id,\n   dateTime,\n   phone,\n   address \nFROM \n   tempUsers t1 \nWHERE NOT EXISTS (\n   SELECT id,dateTime \n   FROM users t2 \n   WHERE t1.id = t2.id \n   OR t1.dateTime=t2.dateTime\n)\n</code></pre>\n\n<p>The system is developed in JSP and MySQL and is deployed in Apache Tomcat</p>\n\n<p>Thanks,</p>\n"},{"tags":["ios","database","sqlite","double"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":17,"score":0,"question_id":13228230,"title":"Assigning to 'double*' from incompatible type 'double'","body":"<p>I have a SQLite database with some fields of type double  and I have to extract this value and put them in an instance variable, but I get this error</p>\n\n<pre><code>  Assigning to 'double *' from incompatible type 'double'\n</code></pre>\n\n<p>this is the code:</p>\n\n<p>DatabaseTable.h</p>\n\n<pre><code>   @interface DatabaseTable : NSObject {\nsqlite3 * database;\n\n   }\n\n   //........\n   @property (nonatomic, assign)double *latitude; //latitude is a field of type double\n   @property (nonatomic, assign)double *longitude; //longitude is a field of a type double\n\n   @end\n</code></pre>\n\n<p>DatabaseTable.m</p>\n\n<pre><code>   //.....\n    while (sqlite3_step(statement) == SQLITE_ROW) {\n\n       DatabaseTable * rowTable =[[ChinaDatabaseTable alloc]init];\n           //.......\n\n           rowTable.latitude =sqlite3_column_double(statement, 15); //here the error\n           rowTable.longitude =sqlite3_column_double(statement, 16);//here the error\n\n           //.....\n     }\n</code></pre>\n\n<p>What can I do?</p>\n"},{"tags":["database","windows-8","microsoft-metro"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13264845,"title":"Windows 8 Local DataBase (Capture and store images) C#","body":"<p>I am making a Windows 8 application where user will capture images and save it in local database.</p>\n\n<p>After doing a lot of search regarding \"DataBase on windows 8\" Still I am not sure what Database will best for such application that captures and store images with some \"details\".</p>\n\n<p>I read that SQLlite creates problem while submitting apps to Windows 8 app store, </p>\n\n<p>Is there any option other than writing to text files or using JSON?</p>\n\n<p>Please guide me. ( also please let me know if any one knows about a sample app I can take help)</p>\n\n<p>Thanks \nZauk</p>\n"},{"tags":["database","oop","database-design","class-design"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13272093,"title":"how to tell if specifications are modelled using database oriented approach or class design oriented approach","body":"<p>Given a problem specification, how to tell if it is a database design problem or class design(object oriented design) problem?</p>\n"},{"tags":["php","mysql","database","cart","shopping"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13272617,"title":"Php code for shopping cart with pricing by weight or quantity","body":"<p>i'm building a shopping cart that selects items from a list which is pulled from the database. As the cashier selects the item, they can indicate the quantity and weight and discount if any. Some items are priced by weight whilst the others by quantity. The cart should loop all these criterias and instantly list the items in the cart, computes the total with discounts and tax. Can someone help me with this code to make it be able to calculate the pricing correctly depending on what is priced by weight or quantity and displays it in the cart also.</p>\n\n<p>Currently, I was trying to use an if statement in the for loop. Then I calculate the price and store it in a table and then fetch the value from the table and display in the cart. But the displayed value is not up to date and the calculations are mixed up sometimes.</p>\n\n<p>Code:</p>\n\n<p><pre></p>\n\n<code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1252\"&gt;\n&lt;title&gt;Customer Purchases&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;?php\n$time = time();\n\n  // Check if there is a cookie, if there isn't then redirect to login screen\n  if (!isset($_COOKIE['cookie_info'])) {\n      include (\"index.htm\");\n      exit;\n  }\n\n  // If there is a cookie, validate the cookie\n  else {\n\n      // Use Connect Script\n      include(\"connect.php\");\n\n      // Include the validation of user file\n      include(\"validateuser.php\");\n\n      // If user and password are correct\n      if (validateuser() == true) {\n\n          // Header\n          include(\"header.php\");\n          login();\n\n          // Use cookie and Extract the cookie data (Username and Password)\n          $cookie_info = explode(\"-\", $_COOKIE['cookie_info']);\n          $namecookie = $cookie_info[0];\n          $passcookie = $cookie_info[1];\n\n          // Get username from Database and it in a variable\n          $query = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n          $nameuser = mysql_result($query,0,13);\n\n  // Check the level of the user\n  $checklevel = mysql_query(\"SELECT * FROM userdata WHERE userid = '$namecookie'\");\n  $checklevel1 = mysql_result($checklevel,0,14);\n\n  // If the user is staff\n  if (($checklevel1 == 2)||($checklevel1 == 1)) {\n\n          echo \"&lt;b&gt;&lt;center&gt;&lt;font face='Verdana'&gt;Customer Purchases&lt;/font&gt;&lt;/b&gt;&lt;/center&gt;&lt;/p&gt;\";\n?&gt;\n\n&lt;body&gt;\n&lt;form action=\"customerpurchases.php\" method=\"POST\"&gt;\n&lt;table border=\"0\"  id=\"table1\" height=\"145\"&gt;\n        &lt;tr&gt;\n                &lt;td width=\"268\" height=\"33\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"33\"&gt; &lt;font face=\"Verdana\"&gt;ITEM ID:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"187\" height=\"33\"&gt;\n                &lt;select size=\"1\" name=\"itemid\"&gt;\n&lt;?php\n  // Get all the items from the database and allow user to choose one\n  $items = mysql_query(\"SELECT * FROM items\");\n  $items1 = mysql_num_rows($items);\n  for ($x = 0; $x &lt; $items1; $x++) {\n          $itemid1= mysql_result($items,$x,0);\n?&gt;\n           &lt;option&gt;&lt;?php echo \"$itemid1\"; ?&gt; &lt;/option&gt;\n&lt;?php\n  }\n?&gt;\n                &lt;/select&gt; \n                &lt;/td&gt;\n\n                &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Quantity:&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"quantity\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n         &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Weight (lb):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"weight\" value=\"1\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt; &lt;font face=\"Verdana\"&gt;Discount($):&lt;/font&gt;&lt;/td&gt;\n                &lt;td width=\"157\"&gt;\n                &lt;input type=\"text\" name=\"discount\" value=\"\"/&gt;&lt;/td&gt;\n                &lt;td width=\"450\"&gt;&lt;input type=\"hidden\" name=\"tax\" value=\"0\"/&gt;\n                &amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"47\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"47\" width=\"157\"&gt;\n &lt;input type=\"submit\" value=\"Add Item\"&gt;\n &lt;input type=\"reset\" value=\"Reset\"&gt;&lt;/form&gt; &lt;/tr&gt;\n                &lt;td height=\"47\" width=\"450\"&gt;\n                        &lt;form action=\"customerpurchases_processtransaction.php\" method=\"POST\"&gt;\n                        &lt;input type=\"submit\" value=\"Checkout\"/&gt;&lt;/form&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n        &lt;tr&gt;\n                &lt;td width=\"249\" height=\"28\"&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\"&gt; &amp;nbsp;&lt;/td&gt;\n                &lt;td height=\"28\" width=\"157\"&gt;\n                &lt;/form&gt;\n                &lt;/tr&gt;\n                &lt;td height=\"28\" width=\"450\"&gt;\n &lt;/td&gt;\n        &lt;/p&gt;\n        &lt;/tr&gt;\n        &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;?php\n\n  $itemid = $_POST[\"itemid\"];\n  $quantity = $_POST[\"quantity\"];\n  $weight2 = $_POST[\"weight\"];\n  $discount = $_POST[\"discount\"];\n  $tax= $_POST[\"tax\"];\n\n  // Check that item exists in database\n  $checkitem = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemid'\");\n  $checkitem1 = mysql_num_rows($checkitem);\n\n  // If there is no such item as the one typed in\n  if ($checkitem1 == 0) {\n\n      // If something was actually typing in the itemid\n      if ($itemid{1}) {\n          echo \"&lt;font face='Verdana' size='3'&gt;&lt;center&gt;No such item as $itemid&lt;BR&gt;&lt;BR&gt;\";\n      }\n  }\n\n  else {\n\n      $data = file('temp.txt'); // read the file\n\n      // If there is something in the file then use the number in the file as\n      // the table number and add the item there\n      if ($data[0]) {\n\n          // Check if the item is already in the table\n          $checkifitemexists = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n          $checkifitemexists1 = mysql_num_rows($checkifitemexists);\n\n          // If item is already in the table then add this quantity to the previous quantity\n          if ($checkifitemexists1 &gt;= 1) {\n              $oldquantity = mysql_result($checkifitemexists,0,1);\n              $newquantity = $oldquantity + $quantity;\n\n              $oldquantity11 = mysql_result($checkifitemexists,0,2);\n              $newquantity22 = $oldquantity11 + $weight2;\n\n              $oldquantity111 = mysql_result($checkifitemexists,0,3);\n              $newquantity222 = $oldquantity111 + $discount;\n\n              $oldquantity1111 = mysql_result($checkifitemexists,0,4);\n              $newquantity2222 = $oldquantity1111 + $tax;\n\n              mysql_query(\"UPDATE temp$data[0] SET quantity = '$newquantity', weight2= '$newquantity22', discount2 = '$newquantity222', tax = '$newquantity2222' WHERE itemid = '$itemid'\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item updated: $itemid&lt;br&gt;Quantity added: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n\n          // Else insert the item into the table\n          else {\n\n\n\n\n\n\n\n\n              mysql_query(\"INSERT INTO temp$data[0] VALUES ('$itemid','$quantity','$weight2', '$discount', '$tax','0')\");\n              echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n          }\n      }\n\n      // Make a temporary table\n      else {\n\n\n\n\n\n\n      // Make a temporary table and find if there is a temp table with the same\n      // name as we are about to name it\n      for ($x = 1; $x &lt; 1000000; $x++) {\n          if (mysql_query(\"SELECT * FROM temp$x\")) {\n              $temptabledone = 0;\n          }\n          else {\n              $temptabledone = 1;\n              break;\n          }\n      }\n\n      // Check if there is a temp table done\n      if ($temptabledone == 1) {\n          mysql_query(\"CREATE TABLE temp$x (itemid VARCHAR (50), quantity INT (10), weight2 FLOAT, discount2 FLOAT, tax FLOAT, cost FLOAT)\");\n\n          // Add the temp table number to a new file\n          $filename =\"temp.txt\";\n          $handle= fopen($filename,'a');\n          $string = \"$x\";\n          fputs($handle, $string);\n          fclose($handle);\n\n          $temptabledone = 2;\n      }\n\n      // Else print a error message\n      else {\n          echo \"An error occurred.\";\n      }\n\n      // Add the item and quantity to the Temp table\n      if ($temptabledone == 2) {\n\n\n\n\n\n\n\n\n\n     // $weight2 = $weight * $quantity;\n          mysql_query(\"INSERT INTO temp$x VALUES ('$itemid','$quantity','$weight2','$discount2', '$tax', '0')\");\n          echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;Item inserted: $itemid&lt;br&gt;Quantity: $quantity&lt;br&gt;Weight added: $weight&lt;br&gt;Discount added: $discount&lt;br&gt;\";\n\n      }\n\n      // Print the number of items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$x\");\n      $countitem1 = mysql_num_rows($countitem);\n\n      }\n  }\n\n  /* Print the items in the table */\n\n  $data = file('temp.txt'); // read the file\n\n  // If there is a number in the file then use that as the temp table number\n  if ($data[0]) {\n\n      // Print the items in the temp table\n      $countitem = mysql_query(\"SELECT * FROM temp$data[0]\");\n      $countitem1 = mysql_num_rows($countitem);\n      echo \"&lt;center&gt;&lt;font face='Verdana' size='3'&gt;There are $countitem1 items in the cart&lt;br&gt;&lt;br&gt;\";\n      echo \"\n      &lt;div align='center'&gt;\n        &lt;table border='1' id='table2' width='100%' cellspacing='0'&gt;\n                &lt;tr&gt;\n                        &lt;td width='106' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item ID&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='348' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Description&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Quantity&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='92' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Item Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Stock after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Weight after Sale&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='112' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Discount&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Price&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Tax&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Remove?&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                &lt;/tr&gt;\";\n\n      $fullcost = 0;\n\n      // Loop for all the times already in the temptable and print them out\n      for ($y = 0; $y &lt; $countitem1; $y++) {\n          for ($z = 0; $z &lt; 2; $z++) {\n              $query = mysql_query(\"SELECT * FROM temp$data[0]\");\n              $itemandquantity = mysql_result($query,$y,$z);\n             // $itemandweight = mysql_result($query,$y,$z);\n              //$query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              if ($z == 0) {\n\n                  echo \"&lt;tr&gt;&lt;td width='106' align='center'&gt;&lt;font face='Verdana' size='3'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n                  $theitemid = $itemandquantity;\n                  $itemdes = mysql_query(\"SELECT * FROM items WHERE itemno = '$itemandquantity'\");\n                  $itemdes1 = mysql_result($itemdes,0,1);\n                  echo \"&lt;td width='348' align='center'&gt;&lt;font face='Verdana'&gt;$itemdes1&lt;/font&gt;&lt;/td&gt;\";\n\n                 // $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n              }\n\n              else {\n                  echo \"&lt;td width='92' align='center'&gt;&lt;font face='Verdana'&gt;$itemandquantity&lt;/font&gt;&lt;/td&gt;\";\n\n                  // \n                  $query = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n                   $weightnn= mysql_result($query,0,2);\n\n                   // $ddvvq = mysql_result($query,$y,5);\n\n\n                  // echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$newquantity22 &lt;/font&gt;&lt;/td&gt;\";\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$weightnn&lt;/font&gt;&lt;/td&gt;\";\n\n                  $itemprice1 = mysql_result($itemdes,0,3);\n                  echo \"&lt;td align='center'&gt;&lt;font face='Verdana'&gt;$$itemprice1&lt;/font&gt;&lt;/td&gt;\";\n\n                  // Check the stock and print either low, medium or high\n                  $checkstock = mysql_result($itemdes,0,2);\n                  if ($checkstock == 0) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt;= 6 &amp;&amp; $checkstock &lt;= 20) {$ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkstock &gt; 20) {\n\n                    $ww=$checkstock-$itemandquantity;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($ww)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n\n\n                   $checkweight = mysql_result($itemdes,0,4);\n                  if ($checkweight == 0) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Out of Stock($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 1 &amp;&amp; $checkstock &lt;= 5) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Low($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt;= 6 &amp;&amp; $checkweight &lt;= 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;Medium($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n                  if ($checkweight &gt; 20) {$www=$checkweight-$weightnn;\n                      echo \"&lt;td width='112' align='center'&gt;&lt;font face='Verdana'&gt;High($www)&lt;/font&gt;&lt;/td&gt;\";\n                  }\n\n                  $ddc = mysql_result($query,0,3);\n                  // $dcost= mysql_result($query,$y,5);\n\n                   $query2 = mysql_query(\"SELECT SUM(discount2) FROM temp$data[0] \");\n                   $rowc = mysql_fetch_array($query2);\n                   $ddvv = $rowc[0];\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$ddc&lt;/font&gt;&lt;/td&gt;\";\n\n        //$itemid = $_POST[\"itemid\"];         \n\n                   if (($_POST['itemid']=='Small Fish Soup')) {\n\n\n                  $cal = $weightnn;\n\n\n\n\n                  }\n\n\nelse \n\n        {\n                  $cal = $itemandquantity;          \n\n\n\n                  }\n\n\n\n                  $totalprice = $itemprice1*$cal;\n\n                  $bnm = mysql_query(\"SELECT * FROM temp$data[0] WHERE itemid = '$itemid'\");\n\n              $cost = mysql_result($bnm,0,5);\n              $cow = $cost + $totalprice ;\n\n\n\n                   mysql_query(\"UPDATE temp$data[0] SET cost = '$cow' WHERE itemid = '$itemid'\");\n\n                    echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$cow&lt;/font&gt;&lt;/td&gt;\";\n\n                       $fullcost = $fullcost + $totalprice;\n                 $fullcost2 = $fullcost-$ddvv;\n                  $fulltax = 0.175*($fullcost2);\n                  $finalcost = $fulltax + $fullcost2;\n\n              $tax1 = ($totalprice-$ddc)*0.175;\n\n\n\n\n              $dcost= mysql_result($query,0,5);\n\n\n\n\n                  mysql_query(\"UPDATE temp$data[0] SET tax = '$tax1' WHERE itemid = '$itemid'\");\n\n                  echo \"&lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;$$tax1&lt;/font&gt;&lt;/td&gt;\";\n\n                  echo \"&lt;td width='91' align='center'&gt;&lt;font face='Verdana'&gt;\n                  &lt;a href='customerpurchases_removeitem.php?itemid=$theitemid'&gt;Remove&lt;/a&gt;\n                  &lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;\";     \n\n\n              }\n          }\n\n\n      }\n\n\n\n      echo \"&lt;/table&gt;&lt;/div&gt;\";\n\n      // Print the total of all the items\n      echo \"&lt;div align='center'&gt;\n        &lt;table border='1' id='table3' width='100%' cellspacing='0'&gt;\n\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Cost:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fullcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Discount:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$ddvv&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='559' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Total Tax:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$fulltax&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='91' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                        &lt;td width='579' td align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td align='center' width='219'&gt;&lt;b&gt;&lt;font face='Verdana'&gt;Grand Total:&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;\n                        &lt;td width='103' align='center'&gt;&lt;font face='Verdana'&gt;&lt;b&gt;$$finalcost&lt;/font&gt;&lt;/td&gt;\n                        &lt;td width='71' align='center'&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;/table&gt;\n      &lt;/div&gt;\";\n  }\n  }\n\n      // If user and password are not correct print error message\n      }\n      else {\n          echo \"Incorrect username/password\";\n          exit;\n      }\n  }\n?&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["database","amazon-s3","amazon-web-services","user-management"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13264364,"title":"iPhone App Built on Amazon Web Services","body":"<p>I am building an iPhone app that stores user logon credentials in an AWS DynamoDB.  In another DynamoDB I am storing locations of files (stored in S3) for that user.  What I don't understand is how to make this secure.  If I use a Token Vending Machine that gives that application an ID with access to the user DynamoDB, isn't it possible that any user could access the entire DB and just add or delete any information that they desire?  They would also be able to access the entire S3 bucket using this setup.  Any recommendations on how I could set this up securely and properly?</p>\n\n<p>I am new to user DB management, and any links to helpful resources would be much appreciated.</p>\n"},{"tags":["database","oracle","date"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13272463,"title":"select date+time+timezone with oracle db","body":"<p>I would like to get a date with the following format: </p>\n\n<blockquote>\n  <p>2009-01-15T09:13:51.0Z</p>\n</blockquote>\n\n<p>I use the following statement: </p>\n\n<pre><code>SELECT to_char(sysdate, 'YYYY-mm-DD HH24:MI:SS.') \n</code></pre>\n\n<p>But that returns:</p>\n\n<blockquote>\n  <p>2012-11-07 16:12:00.</p>\n</blockquote>\n\n<p>How can I ad the <code>T</code> in the middle and <code>0Z</code> at the end?</p>\n\n<p>Is this possible or do I have to use concatenation?</p>\n"},{"tags":["mysql","sql","database","query","sum"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":17,"score":3,"question_id":13272230,"title":"mysql - sum columns from multiple tables based on multiple id's","body":"<p>I have a mySQL database with a couple of identical tables. I need to join all the tables and sum up the views and hits every time the <code>id1</code> and <code>id2</code> are equal in at least 2 tables, or simply show the row if not. </p>\n\n<p>Please see below the tables structure:</p>\n\n<pre><code>Table1:\nid..id2...views...hits\n1...102...55......12\n2...103...12......22\n\nTable2:\nid..id2...views...hits\n1...123...512......13\n2...103...123......43\n\nTable3:\nid..id2...views...hits\n1...102...232......43\n2...103...100......70\n</code></pre>\n\n<p>The end result should be the following table:<br></p>\n\n<pre><code>id...id2...views...hits\n1....102...287....65   &lt;-- This one is the result of adding 1st row of table1 and 2nd row of table 2\n1....123...512....13   &lt;-- This is the 1st row of table2 as there's no other id2 = 123\n2....103...235....135 &lt;-- This is the sum of 2nd row in table1 + 2nd row in table2 + 2nd row in table3\n</code></pre>\n\n<p>I hope this makes sense and someone can help with it.</p>\n\n<p>Thanks !</p>\n"},{"tags":["java","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13271149,"title":"Performing cyclic polling in Java for a database table with respect to time","body":"<p>I have been asked to do cyclic polling for a database table through java for my project.I am a begginer in Java using eclipse and so far I have succeeded only in connecting Java to oracle and converting it to pojo object.Can you please guide me...how to proceed...?\nher is my code</p>\n\n<pre><code>public static void main(String[] args) throws SQLException {\n\n    DummyClass dc = new DummyClass();\n\n    Connection conn = null;\n    Statement st = null;\n    ResultSet rs = null;\n\n    try {\n        System.out.println(\"JDBC connection\");\n        DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\n         conn = DriverManager.getConnection( \"jdbc:oracle:thin:@VM-SALES-MB:1521:SALESDB1\", \"bdeuser\", \"edb\" );\n          st = conn.createStatement();\n          rs = st.executeQuery( \"select * from msg_new_to_bde\" );\n        conn = DriverManager.getConnection(\n                \"jdbc:oracle:thin:@VM-SALES-MB:1521:SALESDB1\", \"bdeuser\",\n                \"edb\");\n        st = conn.createStatement();\n        rs = st.executeQuery(\"select * from msg_new_to_bde\");*/\n\n        Collection&lt;KpiMessage&gt; pojoCol = new ArrayList&lt;KpiMessage&gt;();\n    while (rs.next()) {             \n        KpiMessage filedClass = dc.convertRecordsetToPojo(rs);\n            pojoCol.add(filedClass);\n\n        }\n        for (KpiMessage pojoClass : pojoCol) {\n        System.out.print(pojoClass.getSequence());\n        System.out.print(pojoClass.getTableName());\n        System.out.print(pojoClass.getEntryTime());\n        System.out.print(pojoClass.getProcessingTime());\n        System.out.println(pojoClass.getStatus());\n        }\n        System.out.print(pojoCol.size());\n\n        System.out.println(pojoCol.size());\n        System.out.println(\"close connection\");\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            rs.close();\n            st.close();\n            conn.close();\n\n        } catch (Exception se) {\n            se.printStackTrace();\n        }\n\n    }\n\n}\n\n\n/**\n * Converts a provided recordeset to a {@link KpiMessage}.\n * \n * The following attributs are copied from recordset to pojo:\n * \n * &lt;ul&gt; \n * &lt;li&gt;SEQ&lt;/li&gt;\n * &lt;li&gt;TABLENAME&lt;/li&gt;\n * &lt;li&gt;ENTRYTIME&lt;/li&gt;\n * &lt;li&gt;STATUS&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param rs the recordset to convert\n * @return the converted pojo class object\n * @throws SQLException if an sql error occurrs during processing of recordset\n */\nprivate KpiMessage convertRecordsetToPojo(ResultSet rs) throws SQLException {\n\n    KpiMessage msg = new KpiMessage();\n\n    int sequence = rs.getInt(\"SEQ\");\n    msg.setSequence(sequence);\n    String tablename = rs.getString(\"TABLENAME\");\n    msg.setTableName(tablename);\n    Timestamp entrytime = rs.getTimestamp(\"ENTRYTIME\");\n    Date entryTime = new Date(entrytime.getTime());\n    msg.setEntryTime(entryTime);\n    Timestamp processingtime=rs.getTimestamp(\"PROCESSINGTIME\");\n    if(processingtime!=null){\n        Date processingTime = new Date(processingtime.getTime());\n        msg.setProcessingTime(processingTime);   \n    }\n\n    int status = rs.getInt(\"STATUS\");\n    msg.setStatus(status);\n    return msg;\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13272029,"title":"Efficient Way to Select if a database row value match a group of string","body":"<p>Efficient Way to Select if a database row value match a group of string</p>\n\n<pre><code>  SELECT id FROM tablename where \n    LeadStatus like \"%Contact Attempt 1%\" or \n    LeadStatus like \"%Contact Attempt 2%\" or \n    LeadStatus like \"%Contact Attempt 3%\" or \n    LeadStatus like \"%Contact Attempt 4%\" or \n    LeadStatus like \"%Contact Attempt 5%\" or \n    LeadStatus like \"%Contact Attempt 6%\" or \n    LeadStatus like \"%Contact Attempt 7%\" or \n    LeadStatus like \"%Call Back/Follow-up%\" or \n    LeadStatus like \"%Working%\" or \n    LeadStatus like \"%Credit Pulled%\" or \n    LeadStatus like \"%Selected other Lender%\" or \n    LeadStatus like \"%Pre-Approved%\" or \n    LeadStatus like \"%Application Taken/Sent%\" or \n    LeadStatus like \"%Application Received%\" or \n    LeadStatus like \"%Submitted%\" or \n    LeadStatus like \"%Funded%\" or \n    LeadStatus like \"%Future Opportunity%\" or \n    LeadStatus like \"%Manager Review%\"\n</code></pre>\n\n<p>I think it clear enough that what I want?</p>\n\n<p><strong>Note :</strong> I can't change the <code>LeadStatus</code> value as it is fetched from a API not in my control </p>\n"},{"tags":["database","amazon-web-services","nosql","amazon-dynamodb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13269527,"title":"Storing time series data in DynamoDB","body":"<p>We are collecting time series events for users and need to be able to query over a time range. An example row might be:</p>\n\n<pre><code>{ user_id: 100, timestamp: 1352293487, location: \"UK\", rating:5 }\n</code></pre>\n\n<p>We need to be able to query over a time range based on the timestamp for a particular user. Would I be correct in thinking we could utilise DynamoDB's Query operation and set the user_id to the primary key, timestamp to the range key in order to efficiently query between two timestamp values?</p>\n"},{"tags":["sql-server","database","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":19,"score":-1,"question_id":13262025,"title":"Creating a trigger in SQL Server Management Studio 2012","body":"<p>Given the following question based on the database below.\na)  Create a trigger that will automatically update the quantity on hand each time that a product is sold as listed as a row in the LINE table. In other words, a line row is inserted as part of an invoice. Each line is linked to a product. Decrement the quantity on hand (P_QOH) by the number ordered.</p>\n\n<p><a href=\"http://i.stack.imgur.com/wWX17.png\" rel=\"nofollow\">http://i.stack.imgur.com/wWX17.png</a></p>\n"},{"tags":["java","database","hibernate","spring-mvc","db2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13250758,"title":"DB use an excessive amount of CPU - 95%","body":"<p>I am using Spring MVC + hibernate in my application. Application server is IBM WebSphere v7. While restarting and after restart application, <strong>Db2syscs</strong> process makes CPU usage 99% and consumes memory usage about <strong>1,034,352K</strong>. This goes about <strong>10~15 minutes</strong>. I tried increasing the heap size allocated to DB2, which made no difference.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>These are my hibernate properties in spring configuration file. Will adding cache, pool properties will affect?</p>\n\n<pre><code>&lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.DB2Dialect&lt;/prop&gt;\n&lt;prop key=\"hibernate.generate_statistics\"&gt;true&lt;/prop&gt;\n&lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n&lt;prop key=\"hibernate.connection.datasource\"&gt;jdbc/logincfg&lt;/prop&gt;\n&lt;prop key=\"hibernate.transaction.factory_class\"&gt;org.hibernate.transaction.CMTTransactionFactory\n&lt;/prop&gt;\n&lt;prop key=\"hibernate.transaction.manager_lookup_class\"&gt;org.hibernate.transaction.WebSphereExtendedJTATransactionLookup\n&lt;/prop&gt;\n</code></pre>\n"},{"tags":["c#","database","razor","webmatrix"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":10286353,"title":"Need Help to solve and understand this error: Exception Details: System.InvalidOperationException: 2","body":"<p>I got this error:</p>\n\n<pre><code>Exception Details: System.InvalidOperationException: 2 : String truncation: max=0, len=1, value='3'.\n</code></pre>\n\n<p>From this set of code:</p>\n\n<pre><code>var reqcategory=Request[\"category\"];\n        foreach (var cat in reqcategory)\n        {\n        var sql5 = \"SELECT Type.PreReq1, Type.PreReq2, (CASE WHEN (Type.PreReq1 IS NOT   NULL) AND (PermitApp1.RPClass IS NULL) AND (PermitApp1.RPCategory IS NULL) THEN 1 ELSE 0 END) AS missing1, (CASE WHEN (Type.PreReq2 IS NOT NULL) AND (PermitApp2.RPClass IS NULL)AND (PermitApp2.RPCategory IS NULL) THEN 1 ELSE 0 END) AS missing2 FROM Type LEFT JOIN PermitApp AS PermitApp1 ON (Type.PreReq1=PermitApp1.RPClass) OR (Type.PreReq1=PermitApp1.RPCategory) AND ( PermitApp1.CDSID = @0 ) AND (PermitApp1.MDecision='1') LEFT JOIN PermitApp AS PermitApp2 ON (Type.PreReq2=PermitApp2.RPClass) OR (Type.PreReq2=PermitApp2.RPCategory) AND ( PermitApp2.CDSID = @1 ) AND (PermitApp2.MDecision='1') WHERE Type.PType = @2\";\n        var result = db.QuerySingle(sql5, myCDSID, username, cat);\n        var miss1 = result.missing1;\n        var miss2 = result.missing2;\n\n\n        if(miss1 == '1' || miss2 == '1'){\n            ModelState.AddError(\"missing\", \"You have not met the Pre-Requisites for \"+ cat +\" yet.\");\n            } else if (miss1 == '0' &amp;&amp; miss2 == '0'){\n\n        Session[\"license\"] = Request[\"licence\"];\n        Session[\"from\"] = Request[\"from\"];\n        Session[\"to\"] = Request[\"to\"];\n        Session[\"group\"] = Request[\"group\"];\n        Session[\"class1\"] = Request[\"class1\"];\n        Session[\"category1\"] = Request[\"category1\"];\n        Session[\"class\"] = Request[\"class\"];\n        Session[\"category\"] = Request[\"category\"];\n        Response.Redirect(\"~/Questionnaire\");\n        }\n        }\n</code></pre>\n\n<p>the highlighted line was :</p>\n\n<pre><code>var result = db.QuerySingle(sql5, myCDSID, username, cat);\n</code></pre>\n\n<p>I don't understand what was mentioned on the error page and i could not find someone in the same case as my. Thanks</p>\n"},{"tags":["database","diagram","project-planning","er-diagrams"],"answer_count":11,"favorite_count":14,"up_vote_count":45,"down_vote_count":0,"view_count":54050,"score":45,"question_id":674911,"title":"light weight ER diagram tool","body":"<p>Looking for a light weight ER Diagram tool. We are only looking to visualize our tables and their relationships, however none of them have primary key constraints defined. We use certain index/NOT NULL fields as primary keys (eg: claim_num). <strong>We simply need a tool that let's you draw the diagram itself, nothing more nor less</strong>. Also, for something so <strong>lightweight, open source / freeware</strong> would be ideal.</p>\n"},{"tags":["java","mysql","database","tomcat","jdbc"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":10252642,"title":"What's wrong with this SQL syntax?","body":"<p>I am trying to build registration system with java servlet. And insert data into a mySQL database. But I get a syntax error. I just finished reading Wiley mySQL and Java developers guide book. </p>\n\n<p>And I am kinda new to servlet programming, so if there is easy way to do things I do please tell me.</p>\n\n<pre><code> package com.app.base;\n\n import java.io.IOException;\n import java.io.PrintWriter;\n import java.sql.Connection;\n import java.sql.DriverManager;\n import java.sql.ResultSet;\n import java.sql.Statement;\n\n import javax.servlet.RequestDispatcher;\n import javax.servlet.ServletException;\n import javax.servlet.http.HttpServlet;\n import javax.servlet.http.HttpServletRequest;\n import javax.servlet.http.HttpServletResponse;\n\n import com.app.pojo.*;\n\n public class RegisterServlet extends HttpServlet{\n\nMySqlDB mysql;\n\n@Override\npublic void init() throws ServletException {\n    // TODO Auto-generated method stub\n    mysql = new MySqlDB();\n\n}\n\n@Override\nprotected void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws ServletException, IOException {\n\n    PrintWriter out = null;\n    //Connection connection = null;\n    //Statement statement;\n    //ResultSet rs;\n\n    resp.setContentType(\"text/html\");\n    out = resp.getWriter();\n\n\n    try{\n        mysql.createConnection();\n    }catch(Error e){\n        out.write(\"Couldn't connect to mysql\");\n    }\n    String fname = req.getParameter(\"fname\");\n    String lname = req.getParameter(\"lname\");\n    String email = req.getParameter(\"email\");\n    String password = req.getParameter(\"password\");\n    String city = req.getParameter(\"city\");\n    String country = req.getParameter(\"country\");\n\n    if(fname == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else if(lname == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else if(email == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else if(password == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else if(city == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else if(country == null){\n        String destination = \"signup.jsp?error=Complete All Fields\";\n        RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n        rd.forward(req, resp);\n    }else{\n\n        String sql = \"INSERT INTO main.users(first_name, last_name, email, password, city, country, registered_time) VALUES(\"\n                + fname +\", \"+ lname + \", \"+ email +\", \" + password +\", \" + city +\",\" + country + \",Now());\";\n        int answer = mysql.insertSQL(sql);\n        if(answer == 1){\n            resp.sendRedirect( \"index.jsp?registered=true\");\n            //String destination = \"index.jsp?registered=true\";\n            //RequestDispatcher rd = getServletContext().getRequestDispatcher(destination);\n            //rd.forward(req, resp);\n        }\n    }\n\n\n}\n\n }\n</code></pre>\n\n<p>And this is the MySql Class to connect.</p>\n\n<pre><code>package com.app.pojo;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class MySqlDB{\n\nprivate static String username = \"root\", password = \"root\";\n\npublic Connection createConnection(){\n    Connection connection = null;\n    try{\n        //Load the JDBC driver\n        Class.forName(\"com.mysql.jdbc.Driver\");\n\n        connection = DriverManager.getConnection(\"jdbc:mysql://localhost:3306,/main\", username, password);\n        //Create a connection to the database\n\n\n    }catch(SQLException ex){\n        System.out.println(ex);\n    }catch(ClassNotFoundException e){\n        System.out.println(e);\n    }\n\n    return connection;\n}\n\npublic void runSqlStatement(String sql){\n    try{\n        Statement statement = createConnection().createStatement();\n        //statement executeQuery(Query)\n        boolean rs = statement.execute(sql);\n    }catch(SQLException ex){\n        System.out.println(ex);\n    }\n}\n\npublic ResultSet executeSQL(String sql){\n\n    Statement statement = null;\n    ResultSet rs = null;\n\n    try{\n        statement = createConnection().createStatement();\n        rs = statement.executeQuery(sql);\n\n        /*while(rs.next()){\n            System.out.println(rs.getString(1));\n        }*/\n\n\n  //            rs.close();\n  //            statement.close();\n    }catch (SQLException e) {\n        System.out.println(e);\n    }\n\n    return rs;\n}\n\npublic int insertSQL(String sql){\n\n    int rs;\n\n    try{\n        Statement statement = createConnection().createStatement();\n        rs = statement.executeUpdate(sql);\n        return rs;\n\n    }catch(SQLException ex){\n        System.out.println(ex);\n        return 0;\n    }\n\n\n}\n}\n</code></pre>\n\n<p>This is the tomcat console</p>\n\n<pre><code>INFO: Reloading Context with name [/Map] has started\nApr 21, 2012 12:59:14 AM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc\nSEVERE: The web application [/Map] registered the JDBC driver [com.mysql.jdbc.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.\nApr 21, 2012 12:59:17 AM org.apache.catalina.core.StandardContext reload\nINFO: Reloading Context with name [/Map] is completed\n\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '********,Colombo,Sri Lanka,Now())' at line 1\n</code></pre>\n"},{"tags":["java","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":23,"score":-2,"question_id":13270768,"title":"Regard database view :- shall we use view for simple join query (two or three table join)?","body":"<p>I am working on java application for retrieving data and showing it in UI.</p>\n\n<p>Please suggest...........</p>\n\n<ol>\n<li>shall we use view for simple join query (two or three table join) ?<br>\nOR</li>\n<li>direct join query</li>\n</ol>\n"},{"tags":["java","sql","database","query","jdbc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":65,"score":-1,"question_id":13270154,"title":"SQL statements are being stored into database instead of values (simple but challenging )","body":"<p>I have a problem with my Java application. The application is based on users who have to enter their username (their email address) so as to fill in an input form. The functionality of the input form is that the user has to enter for book names in order of priority.</p>\n\n<p>In the application, suppose a user's email address is \"david.ferno@gmail.com\". He will have to input only \"david.ferno\" in the JTextBox, and a SQL LIKE statement is used check the corresponding User ID from the \"bookuser\" table and store it into the \"priority\" table along with the book priority choices.</p>\n\n<p>I have used PreparedStatement for the SQL retrieval from database but when values are being inserted to the , instead of saving User ID like \"user88\", it is saving the SQL statement itself inside the database.</p>\n\n<p>What I mean to say is, in the \"priority\" table, instead of saving user88 (as an example), it is saving \"SELECT User_ID FROM user WHERE email_address\"</p>\n\n<p>Please help me to find out what is wrong with my code.</p>\n\n<p><strong>Here is the \"user\" table structure >></strong> <br/></p>\n\n<pre><code> COLUMNNAME     TYPE\n ------------------- \n User_ID        Text\n full_name      Text \n last_name      Text\n email_address  Text\n phone          Text\n</code></pre>\n\n<p><code>User_ID</code> has been set as primary key</p>\n\n<p><strong>Here is the \"priority\" table structure >></strong> <br/></p>\n\n<pre><code>COLUMNNAME  TYPE \n----------------\nUser_ID     Text \nBook1       Text \nBook2       Text \nBook3       Text\nBook4       Text\n</code></pre>\n\n<p><code>User_ID</code> has been set as primary key </p>\n\n<p><strong>Here are my codes</strong></p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport javax.swing.*;\nimport java.sql.*;\nimport javax.*;\n\n  public class Handleraddclassroom implements ActionListener{\n\n      public void actionPerformed(ActionEvent event) {\n          String name = ((JButton)event.getSource()).getText();\n\n          if (name.equals(\"Confirm\")) {\n              String filename = \"C:/JAVA/book.accdb\";\n              String database = \"jdbc:odbc:booking\";\n\n              if(txt_mail.getText().equals(\"\")) {\n                   JOptionPane.showMessageDialog(\n                                     addpriority.this, \n                                     \"Your Username Field cannot be blank\");\n              } else {\n                   try {\n                       Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\n                       //username &amp;password not being used\n                       Connection con = DriverManager.getConnection(database ,\"\",\"\"); \n                       Statement s = con.createStatement(\n                                          ResultSet.TYPE_SCROLL_INSENSITIVE, \n                                          ResultSet.CONCUR_READ_ONLY);\n\n                       String squery = \"SELECT User_ID FROM bookuser WHERE \" +\n                                        + \"email_address LIKE ?\";\n                       PreparedStatement pstmt = con.prepareStatement(squery);\n                       pstmt.setString (1, txt_mail.getText() + '*');\n                       pstmt.executeQuery();\n\n                       String sql = \"INSERT INTO priority VALUES('\" \n                                                 + squery + \"','\"\n                                                 + txt_book1.getText() + \"','\"\n                                                 + txt_book2.getText() + \"','\" \n                                                 + txt_book3.getText() + \"','\"\n                                                 + txt_book4.getText()+ \"')\";\n\n                       JOptionPane.showMessageDialog(addpriority.this,\n                                                     \"Choice Records Saved.\");\n\n                       dispose();\n                       Mainmenulecturer mml = new Mainmenulecturer();\n\n                       s.execute(sql);\n\n                       s.close();\n                       con.close();\n\n                   } catch (Exception e) {\n                        System.out.print(\"Error: \" + e);\n                   }\n              }\n          }\n      }   \n\n}\n</code></pre>\n"},{"tags":["mysql","database","query"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":27,"score":5,"question_id":13261636,"title":"Query: Tables with indexing/foregeing keys/correlated data","body":"<p>I am currently working with a MySQL database table structure. I found a great table structure online but i am not sure how to duplicate such thing. I am new to this and I am requesting help in creating a query that will create all tables( which have correlated data(index), foreign keys, many to many relationships, etc.). </p>\n\n<p><strong>Random</strong> I was able to make a query to select all fields:</p>\n\n<pre><code>SELECT *\n\nFROM schedule \n\nINNER JOIN semester \n\nON schedule.semester_id = semester.id\n\nINNER JOIN office_hours\n\nON office_hours.schedule_id = schedule.semester_id\n\nINNER JOIN faculty\n\nON faculty.id = office_hours.faculty_id\n\nINNER JOIN faculty_titles\n\nON faculty_titles.faculty_id = faculty.id\n\nINNER JOIN faculty_education\n\nON faculty_education.faculty_id = faculty.id \n\nINNER JOIN section\n\nON section.faculty_id = faculty.id \n\nINNER JOIN class\n\nON class.id = section.class_id\n\nINNER JOIN major_class_br\n</code></pre>\n"},{"tags":["php","database","table","rowspan"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13270137,"title":"Php- Get records from database in table with rowspan","body":"<p>I've try a lot of ways to get this table print as good as it should but i failed\ni know it's simple thing so i hope u help me with it<br>\nhere's my code</p>\n\n<pre><code>&lt;?php\n    include('../connect.php');\n    $id=$_SESSION['login_user'];\n    $sql = \"Select CourseName , Studentname from course p natural join student t\"; \n    $rs_result = mysql_query ($sql, $connection); \n\n    echo \"&lt;center&gt;\";\n    echo \"&lt;table&gt;\";\n    echo \"&lt;tr&gt; &lt;th&gt;Course Name&lt;/th&gt; &lt;th&gt; Students Name&lt;/th&gt;  &lt;/tr&gt;\";\n\n    // loop through results of database query, displaying them in the table\n    while($row = mysql_fetch_array( $rs_result )) {\n        // echo out the contents of each row into a table\n        echo \"&lt;tr&gt;\";\n        echo '&lt;td&gt;' . $row['CourseName'] . '&lt;/td&gt;';\n        echo \"&lt;td rowspan=''&gt; $row[Studentname] &lt;/td&gt; \";\n        echo \"&lt;/tr&gt;\";\n    }\n\n    echo \"&lt;/table&gt;\"; \n    echo \"&lt;/center&gt;\";\n</code></pre>\n\n<p>?></p>\n\n<p>I want to be something like this</p>\n\n<pre><code>Course   |  Name   |   Student name  |\nMath101  |  john, Mike               |\n...\n</code></pre>\n\n<p>Also, is the JOIN query between the two tables CORRECT or not ???</p>\n\n<p>The two tables are:\nCourse ( Course name - Course id )\nStudent ( Student name - Course id )</p>\n"},{"tags":["database","arrays","multilingual"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13256776,"title":"Multilingual site: what is the best way to store translations?","body":"<p>Is it more efficient to store translated text in a database or inside a file using an array?</p>\n"},{"tags":["sql","database","sql-server-2008","query"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13263023,"title":"Need advice to re-create history of a table based on audit tables","body":"<p>OK folks, I have an urgent need. I am tasked with re-creating an accurate history of changes to  multiple fields of an active table retroactively based on individual audit tables for each field.  I have a SQL Server Agent job that does this currently on a daily basis starting 10/16/2012, but need to immediately add records to retrofit the history back to 1/1/2012.</p>\n\n<p>To compound my issue, I need to reflect daily changes to the full hierarchy from the top down based on these audit records.</p>\n\n<p>Here's what I have:</p>\n\n<p>Active Table:</p>\n\n<pre><code>empId varchar(20),\nfirst_name varchar(50),\nlast_name varchar(50),\ncost_center varchar(20), -- need to re-create history\nmgr_empId varchar(20), -- need to re-create history\nstart_dt date, -- starting date range of active record\nend_dt date, -- end of active record - default value of 12/31/2999 = active record\nhierarchy_empId varchar (200), --derived field from a nasty self-referencing function (12x)\nhierarchy_name varchar(1000) -- derived from the same functino as the field above.\n</code></pre>\n\n<p>Example:</p>\n\n<p>Employee A1000, Tim Lee enters the org on 3/1/2012 with manager Bill A with emp Id B1000 into cost center 01552.</p>\n\n<pre>\nA1000  Tim Lee  01552   B1000   3/1/2012   12/31/2999   B1000>A1000   Bill A>Tim Lee\nB1000  Bill A   01552   NULL    1/1/2011   12/31/2999   B1000         Bill A\n</pre>\n\n<p>On 5/1/2012 the nightly job picks up a delta for Tim, and Tim's cost center changes to  31550.  So his current record is updated with an end date of yesterday, and a new \"current\" record is entered, reflected below:</p>\n\n<pre>\nA1000  Tim Lee  01552   B1000   3/1/2012   4/30/2012   B1000>A1000   Bill A>Tim Lee\nB1000  Bill A   01552   NULL    1/1/2011   12/31/2999  B1000         Bill A\nA1000  Tim Lee  31550   B1000   5/1/2012   12/31/2999  B1000>A1000   Bill A>Tim Lee\n</pre>\n\n<p>On 6/15/2012, a new manager Ben C, emp Id C1000, was hired underneath Tim's manager:</p>\n\n<pre>\nA1000  Tim Lee  01552   B1000   3/1/2012    4/30/2012   B1000>A1000         Bill A>Tim Lee\nB1000  Bill A   01552   NULL    1/1/2011    12/31/2999  B1000               Bill A\nA1000  Tim Lee  31550   B1000   5/1/2012    6/14/2012   B1000>A1000         Bill A>Tim Lee\nC1000  Ben C    31550   A1000   6/15/2012   12/31/2999  A1000>C1000         Bill A>Ben C\nA1000  Tim Lee  31550   B1000   6/15/2012   12/31/2999  B1000>C1000>A1000   Bill A>Ben C>Tim Lee\n</pre>\n\n<p>These updates must trickle down the hierarchy.  So, if something changes above Tim, it also must be reflected in his record.   </p>\n\n<p>On 7/15, Tim's original manager Bill A gets a new manager, Mark S, emp Id X3000.</p>\n\n<pre>\nA1000  Tim Lee  01552   B1000   3/1/2012    4/30/2012   B1000>A1000               Bill A>Tim Lee\nB1000  Bill A   01552   NULL    1/1/2011    7/14/2012   B1000                     Bill A\nA1000  Tim Lee  31550   B1000   5/1/2012    6/14/2012   B1000>A1000               Bill A>Tim Lee\nC1000  Ben C    31550   A1000   6/15/2012   7/14/2012   A1000>C1000               Bill A>Ben C\nA1000  Tim Lee  31550   C1000   6/15/2012   7/14/2012   B1000>C1000>A1000         Bill A>Ben C>Tim Lee\nX3000  Mark S   01000   NULL    7/15/2012   12/31/2999  X3000                     Mark S\nA1000  Tim Lee  31550   C1000   7/15/2012   12/31/2999  X3000>B1000>C1000>A1000   Mark S>Bill A>Ben C>Tim Lee\nB1000  Bill A   01552   X3000   7/15/2012   12/31/2999  X3000>B1000               Mark S>Bill A\nC1000  Ben C    31550   B1000   7/15/2012   12/31/2999  X3000>B1000>C1000              Mark S>Bill A>Ben C\n\n</pre>\n\n<p>I have these audit tables:</p>\n\n<p><strong>tblManagerAudit</strong></p>\n\n<pre><code>empId varchar(20),\nchgTimestamp datetime,\noldMgr varchar(20),\nnewMgr varchar(20)\n</code></pre>\n\n<p><strong>tblCostCenterAudit</strong></p>\n\n<pre><code>empId varchar(20),\nchgTimnestamp datetime,\noldCostCenter varchar(20),\nnewCostCenter varchar(20)\n</code></pre>\n\n<p>I have struggled with how to combine the audit records for a very long time and appreciate any input.</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","activerecord","transactions"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":20,"score":3,"question_id":13269109,"title":"ActiveRecord: Concurrent access between validation and writing to the database","body":"<p>Let's say I have on online book store whose data model lookes like that:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FhjaG.png\" alt=\"enter image description here\"></p>\n\n<p>Prior to creating a new order, I want to make sure that enough items are in stock, so I have a method like this</p>\n\n<pre><code>def ensure_enough_in_stock\n    errors.add(:quantity, \"not enough in stock\") if quantity &gt; book.stock\nend\n</code></pre>\n\n<p>To make sure that this method is called prior to saving in the database, I use a validate:</p>\n\n<pre><code>validate :ensure_enough_in_stock, :on =&gt; create\n</code></pre>\n\n<p>So to sum things up, when I create an order:</p>\n\n<ol>\n<li>the validation method is called</li>\n<li>the new order is written into the database (if validation passes)</li>\n</ol>\n\n<p>What happens if between 1. and 2., another process (a concurrent access, another thread, ...) performs a modification on the stock attribute of the same book? Is the exception raised or not?</p>\n\n<p>More generally, how to deal with the cases where something happens <strong>between validation and saving</strong> to the database?</p>\n\n<p>I think that I should put a validation into the database as well, but I don't know what impact it would have on performance. Is there a clever way to deal with this kind of situation?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Locking the transactions as explained <a href=\"http://guides.rubyonrails.org/active_record_querying.html#locking-records-for-update\" rel=\"nofollow\">here</a> prevents write access to stock, but what happens if I also have a \"published\" attribute in the Book model, that can take the values \"public\" or \"private\", and then I want to make sure that you can't buy a book that's private.</p>\n\n<p>But the same way that the stock value could be changed by an external process, the published value can be changed as well: in this case the locking would not be of any help, would it?</p>\n\n<p><img src=\"http://i.stack.imgur.com/Jsb1Y.png\" alt=\"enter image description here\"></p>\n"},{"tags":["c#","asp.net","sql","database","polling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13269609,"title":"Datatable: Does it retrieve all data at once or when it is needed","body":"<p>We have a performance problem in production, we are trying to solve. During our attempt to solve it, we have our eyes on the datatable. </p>\n\n<p><strong>Our flow</strong>:</p>\n\n<ol>\n<li>We run a select query on the database</li>\n<li>Put the data into a <code>DataTable</code></li>\n<li>We write out all the data into a <code>StringBuilder</code> with a separator</li>\n<li>The <code>StringBuilder</code> writes all text into the <code>Response.Write</code>, which builds a CSV file</li>\n</ol>\n\n<p>The problem is in production, our client says the operation times out. We can't reproduce the timeout in development, which might be because of the amounts of data in production.</p>\n\n<p><strong>Step 1</strong>:</p>\n\n<p>We've run a profiler on the select query, and that runs really fast.</p>\n\n<p><strong>Step 2</strong>:</p>\n\n<p>We have the following code:</p>\n\n<pre><code>SqlDataReader reader = searchQuery.ExecuteReader();\nreturnTable.Load(reader);\n</code></pre>\n\n<p><strong>Step 3</strong>:</p>\n\n<p>We iterate the <code>returnTable</code> like this:</p>\n\n<pre><code>foreach (DataRow order in orders.Rows)\n{\n      trackingNumber = order[\"TrackingNumber\"] != null ? order[\"TrackingNumber\"].ToString() : errString;\n      created = order[\"Created\"] != null ? ((DateTime)order[\"Created\"]).ToString() : errString;\n      // rest of the fields\n}\n</code></pre>\n\n<p><strong>Step 4:</strong></p>\n\n<pre><code>HttpContext.Current.Response.Write(bld.ToString());\n</code></pre>\n\n<p>Now, when we have run step 2, what happens? Is the <code>DataTable</code> fully loaded? </p>\n\n<p>I could see a problem if we poll the database in each and every row in step 3, as that could slow our process. But if it loads it all at once, I can't see how this could be a problem.</p>\n\n<p>So basically: does the <code>DataTable</code> load everything at once, or does it use lazy loading?</p>\n"},{"tags":["database","oracle","copy","clone"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13268607,"title":"Easiest way to copy Oracle DB to test DB on same server?","body":"<p>I'm used to working with SQL Server and when I want to copy a DB there, I just need a handful of clicks in the wizard and voila...a complete copy of the DB, without taking the source DB offline.</p>\n\n<p>We now also have an Oracle 11g because some machines require it, and I want to make a copy of the database. Just a copy on the same server, to use as a test DB for my software development.</p>\n\n<p>All instructions that I find are pages full of steps, using RMAN or not, you have to write scripts, use command line stuff...I'm amazed at how inefficient such a common task is when using Oracle.</p>\n\n<p>Aren't there any easy ways of copying a DB? Maybe just exporting everything to a SQL file, then editing it to use another DB name, and then executing it again?</p>\n\n<p>I see that in SQL Developer you can choose 'Database Copy...' from the Tools menu, but it asks a destination connection. How can I select a destination when creating the destination DB is the whole point of running the wizard? Or is a connection not the same as a DB?</p>\n\n<p>Thanks for helping me out here!</p>\n"},{"tags":["java","mysql","database","jdbc","transactions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13269718,"title":"How to maintain acid property of 3 sequential transaction of three diffrenet databases","body":"<p>I am currently working on a project where I have to use <strong>3 three different databases</strong>. I am using jdbc 3, mysql 5.x ,struts2.x and hibernate3.x</p>\n\n<p>suppose these databases connections are <strong>x,y,z</strong> \nI have to perform <strong>crud</strong> operations on these databases.So basically process is as follows:</p>\n\n<pre><code>1)insert some data into diffrent tables of database X\n2)insert some data into diffrent tables of database Y \n3)insert some data into diffrent tables of database Z\n</code></pre>\n\n<p>I am using savepoints to maintains integrity as well as for rollback. But my problem is with commit() operation as follows: I am committing these database one by one like this-</p>\n\n<pre><code>x.commit()\ny.commit()\nz.commit() \n</code></pre>\n\n<p>Suppose database <strong>X</strong> is successfully committed. But exception occurs while committing database <strong>Y</strong>, Then I cant rollback the <strong>Database X</strong>. or entire process.</p>\n\n<p>which is the best solution to handle these scenario. Any help would be greatly appropriate.  </p>\n"},{"tags":["php","javascript","mysql","database","mongodb"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":13268270,"title":"Suggestion needed for developing enormous web application","body":"<p>I have been given the contract of making a big web application for a private bus transport company. Before I elaborate the question, here's a few things:</p>\n\n<p>It is a complete web based and application that will be used to:</p>\n\n<ul>\n<li>Manage Vehicles, Routes, Bus Stoppages</li>\n<li>Current location using GPS and calculations.</li>\n<li>Print tickets</li>\n<li>Online Purchase</li>\n<li>Membership</li>\n<li>Full accounts management (i.e. income, expenses, graphical reports etc)</li>\n<li>A website working simultaneously allowing to book/cancel tickets, and live chat.</li>\n</ul>\n\n<p>All that said, my question is that what would be the appropriate environment and tools to build the app?</p>\n\n<ol>\n<li>Programming Lingo: (My choice, MVC based JavaScript framework with PHP in the back to provide data and views) Give me your suggestions.</li>\n<li>DataBase: This is where I am mostly confused. Should I use mysql? or something OOP like mongoDB?</li>\n<li>Other tools: What other tools may aid me? suggest please.</li>\n</ol>\n\n<p>And, I have to do this alone. Hiring people/outsourcing/teaming is not an option.</p>\n"},{"tags":["java","mysql","database","jsp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":24,"score":-4,"question_id":13269616,"title":"Insert Huge Data to MySQL and then display comparison between two tables","body":"<p>I have a requirement where 1000+ records to be inserted in MySQL database from JSP page and then these records are compared with another Table and display the differences between them. But the problem I face is I cannot insert the record, it gives me blank. The process is below </p>\n\n<ol>\n<li>There are two tables \"users\" and \"temp_users\" </li>\n<li>CSV file contains the list of users which is inserted into \"temp_users\" table. </li>\n<li>Comparison is made between \"users\" table and \"temp_users\" table.</li>\n<li>Differences is displayed which includes the record existing in \"users\" table but not in \"temp_users\" and vice versa. </li>\n</ol>\n\n<p>All these function are done in a single JSP page. Please advise what can be done to remedy this slowness. I think it will even give the problem in comparison and displaying the differences. </p>\n\n<p>The application is in Apache Tomcat, MySQL. </p>\n\n<p>Thanks,</p>\n"},{"tags":["sql","database","query"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13248287,"title":"appending 2 columns into one list in sql","body":"<p>I have 2 tables and each table has some 3 columns. i want to get one column such that one column from each table are apended one after the other</p>\n\n<pre><code> eg:- suppose one column in a table contains  hai, how, are, you.\n and another column in another column contains i, am, fine.\n i want a query which gives hai, how, are, you,i,am,fine. in just one column\n</code></pre>\n\n<p>can anybody give a query for this in sql...</p>\n"},{"tags":["mysql","sql","database","database-design","many-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13268579,"title":"PHP/MySQL Many to Many. How?","body":"<p>I recently thought that storing an array in MySQL database would solve my problems... then I went and banged my head on a wall until I realised that there was an easier solution to my problem. Unfortunately I can't seem to figure out what the hell I need to do. </p>\n\n<p>I have two tables. User and Entry. Each user can be the Author of any number of entries. One to many right? Well the problem comes from the fact that each entry can have many users. -_-;</p>\n\n<p>As you can imagine, doing this using arrays would be...not only cumbersome but also stupid, especially if someone managed to accumulate 2000 entries. I had anticipated that I might need to create an extra table and some resources do seem to suggest it but the resources aren't as clear as I would have hoped. I will need to get all the users for a post and somewhere else, I'll need to get all the posts for a user. </p>\n\n<p>Can someone explain the best way of doing this? (Without using arrays of course =p)</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13267264,"title":"How to create database driver independent of database types","body":"<p>I want to create a custom database driver that will be independent of database types like <code>SQL Server</code>, <code>SQL LITE</code> or <code>MDB</code>. Please give some ideas on how to implement this.</p>\n"},{"tags":["android","database","date","time"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13264960,"title":"compare current system date with date with type datetime stored in database in android","body":"<p>I Create a table with a field for date(type datetime) that default is current date,when user insert data,this time set automatically,i want to compare current system date with this field,what do i do?</p>\n\n<pre><code>public static long s;\n\n String query = \"SELECT Cart_Date from Tbl_Cart where Cart_ID=\"+lastId+\" \";\n\n          Cursor c = db.rawQuery(query, null);\n           if (c != null &amp;&amp; c.moveToFirst() ) {\n               s = c.getLong(0);\n}\n if( System.getTimeInMillis()!=s)\n</code></pre>\n\n<p>{\n..\n}\nit is my code,but it doesn t work</p>\n"},{"tags":["sql-server","database","text","website","oracle11g"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13268124,"title":"Copying text from website to database","body":"<p>I plan to create a database, which gets filled and expanded regularly based on newsticker entries from the web.\nFor example the rows of the \"Latest Vessel Casualties\" box at <a href=\"http://www.lloydslistintelligence.com/llint/index.htm\" rel=\"nofollow\">http://www.lloydslistintelligence.com/llint/index.htm</a> should be added to a local database every day at a certain time.</p>\n\n<p>How would you approach this? Are there features provided by Oracle's database, or SQL Server? If not, how could you generally copy text from a certain website to a local text file?</p>\n"},{"tags":["sql","database","sql-server-2008","query","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13261087,"title":"How to generate the mapping table in a many to many insert","body":"<p>I have a table of trades for Companys in an exchange. So for a given day I can have many trades for a company. I now want to take these trades and group them into positions.</p>\n\n<p>A trade can below to many positions depending on its attributes like country, type etc\na position can be made up of many trades.</p>\n\n<p>So I have the following tables</p>\n\n<p><strong>Table Trades</strong><br/></p>\n\n<pre><code>Id   Date      Company   Trade  Type\n1 2012-11-01     IBM     1000    A\n2 2012-11-01     IBM     3000    B\n3 2012-11-01     Dell    1000    A\n4 2012-11-01     HP      5000    A\n5 2012-11-01     HP      6000    A\n6 2012-11-01     HP      7000    B\n</code></pre>\n\n<p><strong>Table TradePositionMapping</strong><br/></p>\n\n<pre><code>PK     TableTradeID      PositionID\n1          1                100      --IBM 1000\n2          1                101      --IBM 1000\n3          2                101      --IBM 3000\n4          3                102      --Dell 1000\n5          4                103      --HP 5000\n6          5                103      --HP 6000\n7          4                104      --Hp 5000\n7          5                104      --Hp 6000\n7          6                104      --Hp 7000\n</code></pre>\n\n<p><strong>Table Position</strong><br/></p>\n\n<pre><code>PK   Company Position\n100   IBM      1000\n101   IBM      4000\n102   Dell     1000\n103   Hp      11000\n104   Hp      18000\n</code></pre>\n\n<p>So in the Positions above the IBM Trade ID 1 went to 2 Positions 100 and 101. Trade Id 2 also went to Position 101 giving a total of 4000</p>\n\n<p>Ok so the idea being that a trade can make up 1 or more positions and a position can have many trades. The business logic will determine what positions the trades flow to, so I have used A and B as flags for now just as an example.</p>\n\n<p>So to the question which is..</p>\n\n<p>When I select and aggregate from the Trades Table, I insert all the new positions that are made up from the various trades into the Positions table. Now what is the best way to create the mapping table.</p>\n\n<p>What I do at the moment is that I store the newly created Position Ids in a tempory table and then repeat the select that I would do to generate the postions in the first place.. and join to the tempory table. THis seems like a lot of duplication of code and I would like to know what the best practice is out there to do such a thing.</p>\n\n<p>best regards Mick</p>\n"},{"tags":["database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":9,"score":-2,"question_id":13266390,"title":"Definition of Reference table","body":"<p>I have difficult to understand the definition of \"Reference table\" from the page <a href=\"http://en.wikipedia.org/wiki/Reference_table\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Reference_table</a></p>\n\n<p>Note the third paragraph:</p>\n\n<blockquote>\n  <p>In the context of database design a reference table is a table into which an enumerated set of possible values of a certain field data type is divested.  </p>\n</blockquote>\n\n<p>Somebody provide me with a better definition or explanation?</p>\n"},{"tags":["mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13266408,"title":"MySQL Database collation shows gibberish data","body":"<p>I exported mysql database (structure and data) using phpmyadmin as a .sql file.\nOn the top of the dump file I have following codes:</p>\n\n<pre><code>CREATE DATABASE `my_site` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;\nUSE `my_site`;\n</code></pre>\n\n<p>And the unicode characters are visible (readable) if the dump file is opened in notepad.</p>\n\n<p>I was using 'charset = utf8' in those fields where I had to insert unicode characters.</p>\n\n<p>Now I need to import the sql file to a new server where the whole site is being shifted.\nI tried several times to import the dump in the new server using both 'latin1_swedish_ci' and\nand 'utf8_unicode_ci' collation, but in both cases all I can see is either bunch of\nquestion marks or some weird characters. The same data were showing perfectly in the previous\nserver. I know I have done something stupid while exporting or importing.\nCould you please find a solution for it? Thanks in advance.</p>\n"},{"tags":["java","mysql","database","spring","jdbc"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":582,"score":1,"question_id":9809100,"title":"How to use same connection for two queries in Spring?","body":"<p>I have the following code in a Spring JdbcTemplate based dao - </p>\n\n<pre><code>getJdbcTemplate().update(\"Record Insert Query...\");\nint recordId = getJdbcTemplate().queryForInt(\"SELECT last_insert_id()\");\n</code></pre>\n\n<p>The problem is that my sometimes my update and queryForInt queries get executed using different connections from the connection pool.</p>\n\n<p>This results in an incorrect recordId being returned since MySql last_insert_id() is supposed to be called from the same connection that issued insert query.</p>\n\n<p>I have considered the SingleConnectionDataSource but do not want to use it since it degrades the application performance. I only want single connection for these two queries. Not for all the requests for all the services.</p>\n\n<p>So I have two questions:</p>\n\n<ol>\n<li>Can I manage the connection used by the template class?</li>\n<li>Does JdbcTemplate perform automatic transaction management? If i manually apply a transaction to my Dao method does that mean two transactions will be created per query?</li>\n</ol>\n\n<p>Hoping that you guys can shed some light on the topic.</p>\n\n<p><strong>Update</strong> - I tried nwinkler's approach and wrapped my service layer in a transaction. I was surprised to see the same bug pop up again after sometime. Digging into the Spring source code i found this -  </p>\n\n<pre><code>public &lt;T&gt; T execute(PreparedStatementCreator psc, PreparedStatementCallback&lt;T&gt; action) \nthrows DataAccessException {\n//Lots of code  \nConnection con = DataSourceUtils.getConnection(getDataSource()); \n//Lots of code \n}\n</code></pre>\n\n<p>So contrary to what I thought, there isn't necessarily one database connection per transaction, but one connection for each query executed.\nWhich brings me back to my problem. I want to execute two queries from the same connection. :-(</p>\n\n<p><strong>Update</strong> - </p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${db.driver}\" /&gt;\n        &lt;property name=\"url\" value=\"${db.jdbc.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${db.user}\" /&gt;\n        &lt;property name=\"password\" value=\"${db.password}\" /&gt;\n        &lt;property name=\"maxActive\" value=\"${db.max.active}\" /&gt;\n        &lt;property name=\"initialSize\" value=\"20\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"\n        autowire=\"byName\"&gt;\n        &lt;property name=\"dataSource\"&gt;\n            &lt;ref local=\"dataSource\" /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:advice id=\"transactionAdvice\" transaction-manager=\"transactionManager\"&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=\"*\" propagation=\"REQUIRES_NEW\" rollback-for=\"java.lang.Exception\" timeout=\"30\" /&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n    &lt;aop:config&gt;\n        &lt;aop:pointcut id=\"pointcut\" expression=\"execution(* service.*.*(..))\" /&gt;\n        &lt;aop:pointcut id=\"pointcut2\" expression=\"execution(* *.ws.*.*(..))\" /&gt;\n\n        &lt;aop:advisor pointcut-ref=\"pointcut\" advice-ref=\"transactionAdvice\" /&gt;\n        &lt;aop:advisor pointcut-ref=\"pointcut2\" advice-ref=\"transactionAdvice\" /&gt;\n    &lt;/aop:config&gt;\n</code></pre>\n"},{"tags":["php","mysql","database"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1743,"score":0,"question_id":2400126,"title":"Using PHP variable inside a query","body":"<p>I am using a query inside <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a> as:</p>\n\n<pre><code> $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,1';\n</code></pre>\n\n<p>Where I am trying to insert a PHP variable instead of 1 in the limit..</p>\n\n<pre><code>   $query =  'SELECT * from #__chronoforms_UploadAuthor where text_6 like \"%'.$_GET['title'].'%\" and text_7 like \"%'.$_GET['author'].'%\" limit 0,\"'.$_GET['limit'].'\"';\n</code></pre>\n\n<p>but it shows me an error. There are some errors in keeping <code>$_GET['limit']</code>.</p>\n"},{"tags":["c#",".net","database","asp.net-membership","membership-provider"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13265957,"title":"Setting Membership provider's database at runtime...?","body":"<p>We're using ASP.Net membership providers (the SQL Server provider), and I want to be able to change only the database name in the class . To do this, I need the ASP.Net membership provider configured so that my installer can use it </p>\n\n<p>i used code as</p>\n\n<pre><code>public class CodeFirstMembershipProvider : SqlMembershipProvider\n    {    \n      public override void Initialize(string name, System.Collections.Specialized.NameValueCollection config)  \n      { \n          base.Initialize(name, config);  \n\n          // hard coded for testing  \n          string connectionString = @\"server=localhost;database=masterdb;uid=master;pwd=password\";\n\n          // Set private property of Membership provider.  \n          FieldInfo connectionStringField = GetType().BaseType.GetField(\"_sqlConnectionString\", BindingFlags.Instance | BindingFlags.NonPublic);  \n          if(connectionStringField != null)\n            connectionStringField.SetValue(this, connectionString);  \n      }\n}\n</code></pre>\n\n<p>in above code i need to enter and change the full connection string values..</p>\n\n<p>it too works fine .....</p>\n\n<p>but my query is to change only the database name only of the current connection string mentioned in web.config file..</p>\n\n<p>So is there a way to switch the databse name through an ASP.Net membership through code ?</p>\n"},{"tags":["python","database","sqlite","commit","journal"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13258948,"title":"Commit existing journal file in SQLite from prior terminated connection to database","body":"<p>I'm prototyping a script that creates large SQLite databases with a four day time limit.  The time limit was reached before the script finished and the connection.commit() command would be executed.  The script is dropped and the database connection terminated but the journal is still in the file directory where the database was being created.</p>\n\n<p>I'd like to commit the existing journal to see if the current script is on the right track.  Initially I just try (using the Python sqlite3 module on iPython):</p>\n\n<pre><code>connection = sqlite3.connect('mydatabase')\n\nconnection.commit()\n</code></pre>\n\n<p>but I suspect I need to specify that I want to commit the existing journal.  I tried passing the journal name as an argument in commit(), but commit() doesn't take arguments in the sqlite3 Python module.</p>\n\n<p>In the future I'll incrementally .commit()</p>\n"},{"tags":["mysql","database","scala","playframework-2.0","anorm"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":13054935,"title":"Play 2.0 Complex join query how to parse (Anorm )","body":"<p>I am writing website using play 2.0 framework. And I have a problem when parsing results. \nThis request to mysql db gets all the links(can be several per episode) added to the database per episode together with all the information about episode and anime.</p>\n\n<pre><code>  def lastReleasedLink(limit:Long=5):List[(((Episode,Anime),Link),Genre)] = {\n    DB.withConnection { implicit c =&gt;\n      SQL(\n        \"\"\"\n          select * from yas_episodes as a\n          inner join anime as b on a.ep_anime_id=b.id\n          left outer join yas_links as c on a.ep_id=c.ep_id\n          LEFT JOIN yas_animes_genres AS d ON a.ep_anime_id = d.ag_anime_id\n          INNER JOIN yas_genres AS e ON e.g_id = d.ag_genre_id\n          where c.ep_id IS NOT NULL group by c.ep_id order by c.date desc limit {limit}\n        \"\"\").on('limit -&gt;limit)as(Episode.simple~Anime.simple~Link.simple~Genre.simple map{\n        case episode~anime~link~genre =&gt; episode -&gt; anime -&gt; link -&gt; Genre\n      } *)\n    }\n  }\n</code></pre>\n\n<p>The return value is type of List[(((Episode,Anime),Link),Genre)]\nbut how can I form output to the list of \nlet say  List[episode,anime,Seq[links]] or List[episode,anime,Seq[Genres],Seq[links]] don't know where to put genres.</p>\n\n<p>You can imagine that when you have two links per one episode information from table anime and yas_episodes will be copied for every row. So I need somehow stack them together(group) by episode record. Then it will be possible to iterate list and access to all objects.</p>\n\n<p>As you can see, in the request there is many-to-many relation of anime with genres. \nI have no idea how can I put all together to one list to be able to access it in view. Should Genre be part of Anime model?</p>\n"},{"tags":["mysql","database","entity-relationship","mysql-workbench"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13265204,"title":"How can I draw ER diagram for a existing mysql database with virtual realtionships which contain tables of engine: MyISAM with no contraints defined?","body":"<p>I have used <strong>SchemaSpyGui</strong> for drawing  ER diagram for a existing mysql database which contain tables of type of engine: MyISAM with no contraints defined. </p>\n\n<p>Virtual realtionship are created based on naming conventions of the column names.</p>\n\n<p>myIsam dont have the concept of foreign keys</p>\n\n<p>It works as follows :</p>\n\n<p>author(authorid,name)\nbook(authorid,isbn,name)</p>\n\n<p>It is able to create virtual relationship between the two tables if their column name are same but it didnt simply work when i gave 150 tables. It was able to draw the schema but not the ER diagram</p>\n\n<p>Iam even ok even with other pattern too, fk to be pktable_id, ...etc</p>\n\n<p>Even the <strong>Reverse Engineer</strong> of <strong>MysqlWorkbench</strong> doesnt failed.</p>\n\n<p>Does someone know any application which can draw virtual relationship for tables with MyISAM engine just with the naming convention followed ?</p>\n"},{"tags":["html","database","unicode"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1240,"score":2,"question_id":745501,"title":"Ellipsis unviewable in HTML","body":"<p>When pulling data from a MySQL database onto a web page, all ellipses (...) in the data are displayed with a � in Firefox or a square box in IE7.</p>\n\n<p>Has anyone ever encountered this problem before?</p>\n\n<p>Thanks.</p>\n\n<p>update 1: I just changed the original ellipsis '…' with '...' (three dots) and now it works? Any idea what this could be?</p>\n"},{"tags":["android","database","sqlite","illegalstateexception"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":13137184,"title":"Android: java.lang.IllegalStateException: database xxx.db (conn# 0) already closed","body":"<p>I have read a lot of topics about this error message but I can't resolve my problem.</p>\n\n<p>I have an app on google play and I get some error reports from the users. When I am trying the app, everything works fine.</p>\n\n<p>In the application, I am managing a big database with something like 30 tables. I am closing the database in my main activity onDestroy() and all the cursors are closed when the query is finished. </p>\n\n<p>I really don't know why from time to time the users are getting this error message.</p>\n\n<p>Here is the entire error log:</p>\n\n<pre><code>java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2213)\nat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1565)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1525)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1605)\nat mdpi.android.database.LocalDatabase.getHistoryLastSuccessfullUpdate(LocalDatabase.java:661)\nat mdpi.android.Journals$7.onItemClick(Journals.java:723)\nat android.widget.AdapterView.performItemClick(AdapterView.java:292)\nat android.widget.Gallery.onSingleTapUp(Gallery.java:960)\nat android.view.GestureDetector.onTouchEvent(GestureDetector.java:1310)\nat android.widget.Gallery.onTouchEvent(Gallery.java:937)\nat android.view.View.dispatchTouchEvent(View.java:5724)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1964)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1725)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2071)\nat com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)\nat android.app.Activity.dispatchTouchEvent(Activity.java:2426)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2019)\nat android.view.View.dispatchPointerEvent(View.java:5904)\nat android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3155)\nat android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2670)\nat android.view.ViewRootImpl.processInputEvents(ViewRootImpl.java:1000)\nat android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2679)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:137)\nat android.app.ActivityThread.main(ActivityThread.java:4517)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>And another one:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{mdpi.android/mdpi.android.UserInformations}: java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2202)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2237)\nat android.app.ActivityThread.access$600(ActivityThread.java:139)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1262)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:4974)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\nat dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2194)\nat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1536)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1496)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1576)\nat mdpi.android.database.LocalDatabase.getUserInformations(LocalDatabase.java:357)\nat mdpi.android.UserInformations.onCreate(UserInformations.java:122)\nat android.app.Activity.performCreate(Activity.java:4538)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2158)\n... 11 more\n</code></pre>\n\n<p>EDIT: One new error.</p>\n\n<p>Today, I got a new error related to the database access:</p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\n\nat android.os.AsyncTask$3.done(AsyncTask.java:278)\nat java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\nat java.util.concurrent.FutureTask.setException(FutureTask.java:124)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\nat java.util.concurrent.FutureTask.run(FutureTask.java:137)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\nat java.lang.Thread.run(Thread.java:856)\nCaused by: java.lang.NullPointerException\nat android.database.sqlite.SQLiteStatement.releaseAndUnlock(SQLiteStatement.java:290)\nat android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:115)\nat android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1718)\nat android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1591)\nat mdpi.android.database.LocalDatabase.insertCountry(LocalDatabase.java:143)\nat mdpi.android.database.CountryTable.EnterCountry(CountryTable.java:21)\nat mdpi.android.UserInformations$insertCountryAsync.doInBackground(UserInformations.java:270)\nat mdpi.android.UserInformations$insertCountryAsync.doInBackground(UserInformations.java:1)\nat android.os.AsyncTask$2.call(AsyncTask.java:264)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n... 4 more\n</code></pre>\n"},{"tags":["asp.net","mysql","database","books"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":16,"score":-2,"question_id":13264998,"title":"mysql book for beginner","body":"<p>I have searched for a book for mysql and found that most of the books use php/perl for examples in the book.\nCan any one help me with a book on <strong>mysql</strong> that uses <strong>asp.net</strong> with examples?</p>\n"},{"tags":["database","hibernate","postgresql","gregorian-calendar","hijri"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12794072,"title":"Hijri Date Inserting to the Database","body":"<p>In my database, I used gregorian Date. I want to insert hijri date. How can it be done or is there any problem with it. I used hibernate and JPA.</p>\n\n<p>e.g. 2/30/1433 is hijri date. However, february is at most 29 days. In that case, is  there any error? </p>\n\n<p>best regards</p>\n"},{"tags":["sql-server","database","oracle","migration"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":17,"score":0,"question_id":13265099,"title":"Migration of SQL Server database to Oracle","body":"<p>I searched many converters and migration tools over internet but couldn't find the one I really need.</p>\n\n<p>Though there are some but they are on trial, I want free one, mysql provides migration facility but it doesn't convert 100%</p>\n"},{"tags":["c#","asp.net","sql","database","informix"],"answer_count":7,"favorite_count":7,"up_vote_count":11,"down_vote_count":0,"view_count":9468,"score":11,"question_id":7026566,"title":"Failed to enable constraints. One or more rows contain values violating non-null, unique, or foreign-key constraints","body":"<p>I make an outer join and executed successfully in the <code>informix</code> database but I get the following exception in my code:</p>\n\n<pre><code>DataTable dt = TeachingLoadDAL.GetCoursesWithEvalState(i, bat);\n</code></pre>\n\n<blockquote>\n  <p>Failed to enable constraints. One or more rows contain values\n  violating non-null, unique, or foreign-key constraints.</p>\n</blockquote>\n\n<p>I know the problem, but I don't know how to fix it.</p>\n\n<p>The second table I make the outer join on contains a composite primary key which are null in the previous outer join query.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>    SELECT UNIQUE a.crsnum_e,  a.crsnum_e  || '/ ' || a.crstteng crs_name, b.period,\n           b.crscls, c.crsday, c.from_lect, c.to_lect,\n           c.to_lect - c.from_lect + 1 Subtraction, c.lect_kind, e.eval, e.batch_no,\n           e.crsnum, e.lect_code, e.prof_course\n    FROM rg1course a, rg3crsgrp b, ct1table c, ct1tablelect d,\n         OUTER(cc1assiscrseval e)  \n    WHERE a.crsnum = b.crsnum \n    AND b.crsnum = c.crsnum \n    AND b.crscls = c.crscls \n    AND b.batch_no = c.batch_no \n    AND c.serial_key = d.serial_key  \n    AND c.crsnum = e.crsnum  \n    AND c.batch_no = e.batch_no  \n    AND d.lect_code= e.lect_code \n    AND d.lect_code = .... \n    AND b.batch_no = ....\n</code></pre>\n\n<p>The problem happens with the table <code>cc1assiscrseval</code>. The primary key is (batch_no, crsnum, lect_code).</p>\n\n<p>How to fix this problem?</p>\n\n<p>EDIT:</p>\n\n<p>According to @PaulStock advice:\nI do what he said, and i get:</p>\n\n<blockquote>\n  <p>? dt.GetErrors()[0] {System.Data.DataRow} HasErrors: true ItemArray:\n  {object[10]} RowError: \"Column 'eval' does not allow DBNull.Value.\"</p>\n</blockquote>\n\n<p>So I solve my problem by replacing  <code>e.eval</code> to ,<code>NVL (e.eval,'') eval</code>.and this solves my problem.\nThanks a lot.</p>\n"},{"tags":["asp.net-mvc","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13265026,"title":"deployment script","body":"<p>I have created deployment script using database project.\nI have also created empty database in my sql and have run that script to check.\nThe script was executed successfully but when i see the database then no table was created.\nso any idea how to use the script and what was the reason why the tables was not created. </p>\n"},{"tags":["sql","sql-server","database","sql-server-2008"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13258850,"title":"table name of column from view","body":"<p>I have a view which returns 30 columns. The view is created by inner join of three tables. I wish to find out which column was taken from which table using a query rather than going through the view line by line.\nIs there a way to do that in sql server 2008?\nthanks in advance </p>\n"},{"tags":["database","wordpress","plugins","wpdb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13262982,"title":"How to list all rows from table and display specific column data from wordpress database","body":"<p>I have table called wp_email_subscription and inside table i have rows of emails from subscribed users. Each row contains id, email, and name column. </p>\n\n<p>I have also created admin page for plugin where i would like to list all emails from subscribed table.</p>\n\n<p>Basically i don't know how to use wpdb functions, i have read wpdb instructions from wp website but i don't understand.</p>\n\n<p>what i need is to select all from wp_email_subscription and foreach row to display email and name column in list.</p>\n"},{"tags":["javascript","html","database","image","jsp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13253260,"title":"showing database value with an image using JSP","body":"<p>I have created a simple site that reads a database table and displays it in a html table in the browser.\nI have a button that allows for the table to be altered, saved &amp; then automatically forwarded to the homepage with the updated table.\nI also have a select button with which the user can select that particular row and it updates a column in the table.</p>\n\n<p>My problem is that I need a way to show which row has been selected.\nI prefer to have a column in the HTML table that shows an image as to which one is selected. </p>\n\n<p>Here is my homepage where the database table is being displayed.\nIn the left column of the html is where I would like to add an image if that row is selected.</p>\n\n<p>I have tried several things like using javascript and just can't wrap my head around it?\nCan I get some help?</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@page contentType=\"text/html\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@page import=\"java.io.*, java.util.*, java.sql.*\"%&gt;\n&lt;%@page import=\"oracle.jdbc.driver.OracleConnection\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n    &lt;script language=\"javascript\"&gt;\n\n    function editRecord(id) {\n        var f=document.form;\n        f.method=\"post\";\n        f.action='edit.jsp?id='+id;\n        f.submit();\n    }\n\n    function selectRecord(id, btn, i) {\n        var f=document.form;\n        f.method=\"post\";\n        f.action='select.jsp?id='+id;\n        f.submit();\n\n        if(!btn.style) {\n            alert(\"not supported\");\n            return;\n        } else{\n            btn.style.background = \"red\";\n            return;\n        }\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;form method=\"post\" name=\"form\"&gt;\n        &lt;table id=\"data\" border=\"1\"&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Selected&lt;/th&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Address&lt;/th&gt;\n            &lt;th&gt;Contact No&lt;/th&gt;\n            &lt;th&gt;Email&lt;/th&gt;\n            &lt;th&gt;Select&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;%\n        int sumcount=0;\n        ResultSet rs = null;\n        Connection con = null;\n        Statement st = null;\n\n        try {\n            DriverManager.registerDriver (new oracle.jdbc.OracleDriver());\n            con = DriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:XE\", \"username\", \"password\");\n\n            st = con.createStatement();\n            rs = st.executeQuery(\"SELECT * FROM employee\");\n        %&gt; \n        &lt;%\n            while(rs.next()) {\n        %&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=rs.getString(2)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=rs.getString(3)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=rs.getString(4)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;%=rs.getString(5)%&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"button\" name=\"edit\" value=\"Edit\" style=\"background-color:#49743D;font-weight:bold;color:#ffffff;\" onclick=\"editRecord(&lt;%=rs.getString(1)%&gt;);\" /&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"button\" name=\"select\" value=\"Select\" style=\"background-color:#49743D;font-weight:bold;color:#ffffff;\" onclick=\"selectRecord(&lt;%=rs.getString(1)%&gt;, this);\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;%\n            }\n        %&gt;\n        &lt;%\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n        %&gt;\n\n        &lt;/table&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["html","database","table","dom","extract"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13264431,"title":"Tool to extract data from html tables","body":"<p>Is there any tool that can allow to extract data from HTML table into \"database-like\" table, i.e. including operations like \"de-crossing\" the table? </p>\n\n<p>For example, tool that can convert table like this</p>\n\n<p><img src=\"http://i.stack.imgur.com/Edvbl.png\" alt=\"enter image description here\"></p>\n\n<p>into data like this</p>\n\n<pre><code>Meteo station     Month    Temperature\nBrno, Tuřany      1        -3.0\nBrno, Tuřany      2        -0.3\nBrno, Tuřany      3        4.8\n...\nČeské Budějovice  1        -3.0\n...\n</code></pre>\n\n<p>I know I can use various DOM/XML parser libraries for various languages, but I prefer an out-of-the-box tool/script that doesn't require any programming. Thanks!</p>\n"},{"tags":["java","sql","database","jdbc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13263493,"title":"Java not recognising SQL statement to retrieve data from database","body":"<p>I have a problem with my Java application. The application is based on users who have to enter their username (their email address) so as to fill in an input form. The functionality of the input form is that the user has to enter for book names in order of priority. In the application, suppose a user's email address is \"david.ferno@gmail.com\"....he will have to input only \"david.ferno\" in the JTextBox...and a SQL LIKE statement is used check the corresponding User ID from the \"bookuser\" table and store it into the \"priority\" table along with the book priority choices. </p>\n\n<p>The issue is that everytime java is displaying syntax error. </p>\n\n<p>Here is the error appearing>>> </p>\n\n<pre><code>Error: java.sql.SQLException: [Microsoft][ODBC Microsoft Access Driver] Syntax error (missing operator) in query expression ''SELECT User_ID FROM bookuser WHERE email_address Like 'david.ferno%' ''.\n</code></pre>\n\n<p>I can't figure out where is my mistake...please help. </p>\n\n<pre><code>    import java.awt.*;\n    import java.awt.event.*;\n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.ResultSet;\n    import java.sql.SQLException;\n    import java.sql.Statement;\n    import javax.swing.*;\n    import java.sql.*;\n    import javax.*;\n\n    public class addpriority extends JFrame{\n    public JTextField txt_email, txt_book1, txt_book2,txt_book3, txt_book4;\n    public JLabel label1;\n    public JButton confirm;\n\n    public addpriority(){\n        super(\"Book Choice Input Menu\");\n        this.setSize(506,620);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n\n        Toolkit toolkit =  Toolkit.getDefaultToolkit ();\n        Dimension dim = toolkit.getScreenSize();\n\n        setLocation((int) (dim.width*0.25), 50);\n\n        JPanel label = new JPanel();\n        JLabel welcome = new JLabel(\"Input Book Priorities\");\n\n        Font f = new Font(\"Verdana\", Font.BOLD,16);\n        welcome.setForeground(Color.BLACK);\n        welcome.setFont(f);\n        add(label);\n        label.add(welcome);\n\n        GridLayout g1 = new GridLayout(15, 2, 0, 10);\n        setLayout(g1);\n\n        JPanel textfield1 = new JPanel();\n        JLabel userid = new JLabel(\"Please Enter your username:\");\n        txt_mail = new JTextField(20);\n        JLabel lect2 = new JLabel(\"@gmail.com\");\n        add(textfield1);\n        textfield1.add(userid);\n        textfield1.add(txt_mail);\n        textfield1.add(lect2);\n\n\n        JPanel textfield2 = new JPanel();\n        add(textfield2);\n\n        JPanel textfield3 = new JPanel();\n        JLabel lbl1 = new JLabel(\"Set Priority by entering Books' name:\");\n        add(textfield3);\n        textfield3.add(lbl1);\n\n\n        JPanel textfield4 = new JPanel();\n        JLabel lbl2 = new JLabel(\"1st Priority:\");\n        txt_module1 = new JTextField(10);\n        add(textfield4);\n        textfield4.add(lbl2);\n        textfield4.add(txt_module1);\n\n        JPanel textfield5 = new JPanel();\n        JLabel lbl3 = new JLabel(\"2nd Priority:\");\n        txt_module2 = new JTextField(10);\n        add(textfield5);\n        textfield5.add(lbl3);\n        textfield5.add(txt_module2);\n\n\n        JPanel textfield6 = new JPanel();\n        JLabel lbl4 = new JLabel(\"3rd Priority:\");\n        txt_module3 = new JTextField(10);\n        add(textfield6);\n        textfield6.add(lbl4);\n        textfield6.add(txt_module3);\n\n        JPanel textfield7 = new JPanel();\n        JLabel lbl5 = new JLabel(\"4th Priority:\");\n        txt_module4 = new JTextField(10);\n        add(textfield7);\n        textfield7.add(lbl5);\n        textfield7.add(txt_module4);\n\n        JPanel button = new JPanel();\n        confirm = new JButton(\"Confirm\");\n        confirm.setMnemonic('C');\n        confirm.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e)\n            {\n                confirm.setEnabled(true);\n                }\n        });\n\n\n        Handleraddclassroom h = new Handleraddclassroom();\n        confirm.addActionListener(h);\n\n        button.add(confirm);\n        add(button);\n\n\n    }\n\n\n    public class Handleraddclassroom implements ActionListener{\n        public void actionPerformed(ActionEvent event){\n\n            String name = ((JButton)event.getSource()).getText();\n\n\n            if (name.equals(\"Confirm\")){\n\n                String filename = \"C:/JAVA/book.accdb\";\n                String database = \"jdbc:odbc:booking\";\n\n                if(txt_mail.getText().equals(\"\")){\n                    JOptionPane.showMessageDialog(addpriority.this,\"Your Username Field cannot be blank\");\n\n\n                }\n\n                else{\n\n\n                try {\n                    Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\n                    Connection con = DriverManager.getConnection(database ,\"\",\"\");  //username &amp;password not being used\n\n                    Statement s = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY); //The Result set can now scroll forward and back\n\n\n\n\n                String squery = \"SELECT User_ID FROM bookuser WHERE email_address = '\"+txt_mail.getText()+\"%' \";\n                s.executeQuery(squery);\n\n                String sql = \"INSERT INTO priority VALUES('\" \n\n                    + squery + \"','\"\n                    + txt_book1.getText() + \"','\"\n                    + txt_book2.getText() + \"','\" \n                    + txt_book3.getText() + \"','\"\n                    + txt_book4.getText()+ \"' )\";\n\n                JOptionPane.showMessageDialog(addpriority.this,\"Choice Records Saved.\");\n\n                dispose();\n\n                Mainmenulecturer mml = new Mainmenulecturer();\n\n                s.execute(sql);\n\n                s.close();\n                con.close();\n\n                } catch (Exception e) {System.out.print(\"Error: \" + e);}\n                }\n            }\n        }   \n\n    }\n\n}\n</code></pre>\n"},{"tags":["mysql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13263149,"title":"How to handle translations for many languages with many different contexts?","body":"<p>Forever i have been doing my translations in the same table where object/element is created.<br>\nSo for example if i work with posts and title of post needs a translation i do this -> <code>post_title_en</code>, <code>post_title_fr</code>, <code>post_title_nl</code>.<br>\nWell, this is quite terrible way to maintain application, you have to hard code in a lot of stuff in your code.</p>\n\n<p>So i'm writing an application at the moment and i would like to break out of this bad habit to translate like this. </p>\n\n<p>How would i approach translations if i don't know what kind of data length i have to hold in table fields?</p>\n\n<p>I could have translation for <code>post_title</code> witch typically would be <code>varchar(255)</code> and i could have something like <code>post_content</code> witch typically would be <code>text</code>. And how would i reference all this with main object? </p>\n\n<p>Any pointers are welcome. Thanks. </p>\n"},{"tags":["database","view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13263905,"title":"View in a relational database","body":"<p>What is the purpose of a view and are views stored on disk?</p>\n\n<p>I know what views are doing in a relational database but cannot find its purpose and whether\nthey are stored on disk. </p>\n\n<p>Thanks</p>\n"},{"tags":["database","spring","aop","audit"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13261702,"title":"Spring AOP - Database Auditing","body":"<p>I'm using Spring AOP trying to define a good approach to have all my tables audited with no much hassle. Example of scenario:\nI have a table named Person and its respective table PersonLog, which will store the Person values in addition to the user who modified, when and the type of the event, for each update.</p>\n\n<p>Simply put, my question is:</p>\n\n<p>I'm trying to come up with a way that my advice class would be smart enough to handle any new table being audited without any needed modification to it... let's say that I created the table Car and its CarLog table, if I could avoid the need to change anything in my advice implementation (it would automatically identify Car as being audited and would be able to persist a CarLog entity) ---> I can identify table Car as being audited pretty easily (by annotation), but I'm struggling to find a way to create and persist a CarLog instance dynamically.</p>\n\n<p>Can anyone think of a way to accomplish that? Thanks.</p>\n"},{"tags":["java","database","excel"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12746572,"title":"import data from database to Excel using java?","body":"<p>import data from excel to database using java, i find \"Apachi POI\" . </p>\n\n<p>But now, i want to import data from database to excel using java. May i use for this \"Apachi POI\" too? if no, what i must do? thanks </p>\n"},{"tags":["c#","database","caching","dynamic","storage"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":182,"score":3,"question_id":13108416,"title":"Best approach to incremently update application data","body":"<p>I have been working on an application for a couple of years that I updated using a back-end database. The whole key is that everything is cached on the client, so that it never requires an network connection to operate, but when it does have a connection it will always pickup the latest updates. Every application updated is shipped with the latest version of the database and I wanted it to download only the minimum amount of data when the database has been updated.</p>\n\n<p>I currently use a table with a timestamp to check for updates. It looks something like this.</p>\n\n<pre><code>ID - Name - Description- Severity - LastUpdated\n0 - test.exe - KnownVirus - Critical - 2009-09-11 13:38\n1 - test2.exe - Firewall - None - 2009-09-12 14:38\n</code></pre>\n\n<p>This approach was fine for what I previously needed, but I am looking to expand more function of the application to use this type of dynamic approach. All the data is currently stored as <code>XML</code>, but I do not want to store complete XML files in the database and only transmit changed data.</p>\n\n<p>So how would you go about allowing a fairly simple approach to storing dynamic content (text/xml/json/xaml) in a database, and have the client only download new updates? I was thinking of having logic that can handle XML inserted directly</p>\n\n<pre><code>ID - Data - Revision\n15 - XXX - 15\n</code></pre>\n\n<p><code>XXX</code> would be something like <code>&lt;Content&gt;&lt;File&gt;Test.dll&lt;File/&gt;&lt;Description&gt;New DLL to load.&lt;/Description&gt;&lt;/Content&gt;</code> and would be inserted into the cache, but this would obviously be complicated as I would need to load them in sequence. </p>\n\n<p>Another approach that has been mentioned was to base it on something similar to Source Control, storing the version in the root of the file and calculating the delta to figure out the minimal amount of data that need to be sent to the client.</p>\n\n<p>Anyone got any suggestions on how to approach this with no risk for data corruption? I would also to expand with features that allows me to revert possibly bad revisions, and replace them with new working ones.</p>\n"},{"tags":["java","database","ms-access"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5126,"score":1,"question_id":6880879,"title":"How to connect MS Access Database using Java program?","body":"<p>I want to write a program to retrieve data from MS Access database. I wrote program as bellow:</p>\n\n<pre><code>package db;\n\nimport java.sql.*;\n\npublic class MSaccess_archive {\n    public static void main(String[] args) {\n\n        try {\n\n            Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\n            String accessFileName = \"E:/L4_project/sample/db/Database\";\n\n            String connURL=\"jdbc:odbc:DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=\"+accessFileName+\".accdb;\";\n\n            Connection con = DriverManager.getConnection(connURL, \"\",\"\");\n\n            Statement stmt = con.createStatement();\n\n            stmt.execute(\"select * from student\"); // execute query in table student\n\n            ResultSet rs = stmt.getResultSet(); // get any Result that came from our query\n\n            if (rs != null)\n             while ( rs.next() ){\n\n                System.out.println(\"Name: \" + rs.getString(\"Name\") + \" ID: \"+rs.getString(\"ID\"));\n                }\n\n                stmt.close();\n                con.close();\n            }\n            catch (Exception err) {\n                System.out.println(\"ERROR: \" + err);\n            }\n    }\n\n}\n</code></pre>\n\n<p>But I got Exception as below:</p>\n\n<blockquote>\n  <p>ERROR: java.sql.SQLException: [Microsoft][ODBC Microsoft Access\n  Driver] Could not find file '(unknown)'.</p>\n</blockquote>\n\n<p>When I used a <code>.mdb</code> file the above program works correctly but if I use a <code>.accdb</code> file it gives the above exception.</p>\n\n<p>Any ideas why?</p>\n"},{"tags":["sql","database","database-design","sqlite3","one-to-many"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":361,"score":1,"question_id":7541595,"title":"How to create one to many in SQLITE3?","body":"<p>How to create one to many in SQLITE3?\nI have 2 tables:</p>\n\n<pre><code>    Mans:\n   _id   name\n     1    antony\n     2    fred\n</code></pre>\n\n<p>and </p>\n\n<pre><code>       point\n  _id   date   point   \n   1     23     77\n         24     99 \n\n   2     25     78\n          5     0\n</code></pre>\n\n<p>i dont now SQL syntax, help me , please.</p>\n"},{"tags":["sql","database","database-design"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13260262,"title":"Data separated by commas inside a field vs new table","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3653462/is-storing-a-comma-separated-list-in-a-database-column-really-that-bad\">Is storing a comma separated list in a database column really that bad?</a>  </p>\n</blockquote>\n\n\n\n<p>This is a problem I often encounter when trying to expand the database.</p>\n\n<p>For example:</p>\n\n<p>I want to keep track of how many users saw a particular article in my website, so in the database I added a <code>views</code> field to the <code>article</code> table. Now, if I wanted to make sure that these are <em>unique</em> views then this is clearly not enough.</p>\n\n<p>So let's say that in my design I can identify a user (or at least a computer) with a single number that's stored along with an IP or something.</p>\n\n<p>Then, if I wanted to keep track of how many <em>unique</em> users saw a particular article which is the best way to go?</p>\n\n<ul>\n<li>To create another table <code>article_views</code> with the fields <code>article_id</code> and\n<code>user_id</code>.</li>\n<li>To save the <code>user_id</code>s separated by commas inside the <code>views</code> field of the <code>article</code> table.</li>\n</ul>\n"},{"tags":["mysql","database","query-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":13259391,"title":"How to speed up MySQL query","body":"<p>I'm trying to join two tables in a MySQL database but it doesn't seem to be using the primary key on the second table. I'm not sure if I'm querying it wrong or if the primary key can't be used, how to further optimize it. Currently the query is taking 20 seconds to run.</p>\n\n<p>The query I'm running is:</p>\n\n<pre><code>SELECT * FROM journeyPatternTimingLink2 INNER JOIN stops ON stops.atcoCode = journeyPatternTimingLink2.from WHERE journeyPatternId = '113958'\n</code></pre>\n\n<p>My table structure is as follows: </p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `journeyPatternTimingLink2` (\n  `journeyPatternTimingLinkId` int(11) NOT NULL AUTO_INCREMENT,\n  `journeyPatternId` int(11) NOT NULL,\n  `from` varchar(15) NOT NULL,\n  `to` varchar(15) NOT NULL,\n  `direction` enum('inbound','outbound') NOT NULL,\n  `runTime` varchar(15) NOT NULL,\n  PRIMARY KEY (`journeyPatternTimingLinkId`),\n  KEY `journeyPatternId` (`journeyPatternId`),\n  KEY `from` (`from`)\n) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=13652793 ;\n\n--\n-- Table structure for table `stops`\n--\n\nCREATE TABLE IF NOT EXISTS `stops` (\n  `atcoCode` varchar(25) NOT NULL,\n  `longitude` varchar(30) NOT NULL,\n  `latitude` varchar(30) NOT NULL,\n  PRIMARY KEY (`atcoCode`),\n  KEY `location` (`longitude`,`latitude`),\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\n\n</code></pre>\n\n<p>And finally here's <a href=\"http://i.imgur.com/Rt564.png\" rel=\"nofollow\">a screenshot me running explain on the query</a>. Shouldn't I be seeing some kind of index being used on the stops table?</p>\n\n<p>Thanks.</p>\n"},{"tags":["sql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13262161,"title":"Good online resources to learn about databases","body":"<p>Do you know good online resources to learn about databases?</p>\n\n<ul>\n<li>The different types of DBs (relational, object, etc...) and the\ntheory behind DBs structures/models. </li>\n<li>How to choose? Best for REST? </li>\n<li>Comparison between couchDB, mongoDB, D3, PostgresSQL, MySQL and\nother.</li>\n</ul>\n\n<p>I found many interesting things out there, but I thought it might be worth it to ask, to see what experienced programmers would recommend. Thanks in advance.</p>\n"},{"tags":["android","database","sqlite","application"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13238681,"title":"Writing to second table in database for Android Application","body":"<p>I am (and have been for a while) working on an android project that will serve as a very basic class schedule app. So far, I have the following working: add courses to database, remove courses from database, display courses with location and subject on a list, open up an \"assignments\" menu to create an assignment for a course. </p>\n\n<p>The problem is that when I attempt to click the save button on the assignment creation menu, it just doesn't add the assignment to the list.</p>\n\n<p>The assignment list is a second table within the \"courses\" database (labeled lunchlist.db). Attached below are the three classes that are responsible for handling the assignments. </p>\n\n<p>Assignment List:</p>\n\n<pre><code>public class AssList extends ListActivity {\n    public final static String ID_EXTRA = \"apt.tutorial._ID\";\n    Cursor model = null;\n    AssAdapter adapter = null;\n    AssHelper helper = null;\n    SharedPreferences prefs = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.ass);\n\n        helper = new AssHelper(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n\n        helper.close();\n    }\n\n    @Override\n    public void onListItemClick(ListView list, View view, int position, long id) {\n        Intent i = new Intent(AssList.this, AssForm.class);\n\n        i.putExtra(ID_EXTRA, String.valueOf(id));\n        startActivity(i);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        new MenuInflater(this).inflate(R.menu.ass_option, menu);\n\n        return (super.onCreateOptionsMenu(menu));\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.add_ass) {\n            startActivity(new Intent(AssList.this, AssForm.class));\n\n            return (true);\n        }\n\n        return (super.onOptionsItemSelected(item));\n    }\n\n    public void initList() {\n        if (model != null) {\n            stopManagingCursor(model);\n            model.close();\n        }\n\n        model = helper.getAll(prefs.getString(\"sort_order\", \"name\"));\n        startManagingCursor(model);\n        adapter = new AssAdapter(model);\n        setListAdapter(adapter);\n    }\n\n    private SharedPreferences.OnSharedPreferenceChangeListener prefListener = new SharedPreferences.OnSharedPreferenceChangeListener() {\n        public void onSharedPreferenceChanged(SharedPreferences sharedPrefs,\n                String key) {\n            if (key.equals(\"sort_order\")) {\n                initList();\n            }\n        }\n    };\n\n    class AssAdapter extends CursorAdapter {\n        AssAdapter(Cursor c) {\n            super(AssList.this, c);\n        }\n\n        @Override\n        public void bindView(View row, Context ctxt, Cursor c) {\n            AssHolder holder = (AssHolder) row.getTag();\n\n            holder.populateFrom(c, helper);\n        }\n\n        @Override\n        public View newView(Context ctxt, Cursor c, ViewGroup parent) {\n            LayoutInflater inflater = getLayoutInflater();\n            View row = inflater.inflate(R.layout.row, parent, false);\n            AssHolder holder = new AssHolder(row);\n\n            row.setTag(holder);\n\n            return (row);\n        }\n    }\n\n    static class AssHolder {\n        private TextView name = null;\n        private TextView address = null;\n        private ImageView icon = null;\n\n        AssHolder(View row) {\n            name = (TextView) row.findViewById(R.id.title);\n            address = (TextView) row.findViewById(R.id.address);\n            icon = (ImageView) row.findViewById(R.id.icon);\n        }\n\n        void populateFrom(Cursor c, AssHelper helper) {\n            name.setText(helper.getName(c));\n            address.setText(helper.getUrgency(c));\n\n            if (helper.getUrgency(c).equals(\"normal\")) {\n                icon.setImageResource(R.drawable.eg);\n            } else if (helper.getUrgency(c).equals(\"pending\")) {\n                icon.setImageResource(R.drawable.ey);\n            } else {\n                icon.setImageResource(R.drawable.er);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Assignment Form:</p>\n\n<pre><code>public class AssForm extends Activity {\n    EditText name = null;\n    RadioGroup types = null;\n    AssHelper helper = null;\n    String AssId = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.ass_edit);\n\n        helper = new AssHelper(this);\n\n        name = (EditText) findViewById(R.id.assname);\n        types = (RadioGroup) findViewById(R.id.urge);\n\n        Button save = (Button) findViewById(R.id.save_ass);\n        Button del = (Button) findViewById(R.id.del_ass);\n        save.setOnClickListener(onSave);\n        del.setOnClickListener(onDel);\n\n        AssId = getIntent().getStringExtra(AssList.ID_EXTRA);\n\n        if (AssId != null) {\n            load();\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n\n        helper.close();\n    }\n\n    private void load() {\n        Cursor c = helper.getById(AssId);\n\n        c.moveToFirst();\n        name.setText(helper.getName(c));\n\n        if (helper.getUrgency(c).equals(\"normal\")) {\n            types.check(R.id.normal);\n        } else if (helper.getUrgency(c).equals(\"pending\")) {\n            types.check(R.id.pending);\n        } else {\n            types.check(R.id.due);\n        }\n\n        c.close();\n    }\n\n    private View.OnClickListener onSave = new View.OnClickListener() {\n        public void onClick(View v) {\n            String type = null;\n\n            switch (types.getCheckedRadioButtonId()) {\n            case R.id.normal:\n                type = \"normal\";\n                break;\n            case R.id.pending:\n                type = \"pending\";\n                break;\n            case R.id.due:\n                type = \"due\";\n                break;\n            }\n\n            if (AssId == null) {\n                helper.insert(name.getText().toString(), type);\n            } else {\n                helper.update(AssId, name.getText().toString(), type);\n            }\n\n            finish();\n        }\n    };\n\n    private View.OnClickListener onDel = new View.OnClickListener() {\n        public void onClick(View v) {\n            helper.deleteValue(name.getText().toString());\n\n            finish();\n        }\n    };\n}\n</code></pre>\n\n<p>Assignment Helper:</p>\n\n<pre><code>class AssHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"lunchlist.db\";\n    private static final int SCHEMA_VERSION = 1;\n\n    public AssHelper(Context context) {\n        super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"CREATE TABLE assignments (_id INTEGER PRIMARY KEY AUTOINCREMENT, assname TEXT, urge TEXT);\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // no-op, since will not be called until 2nd schema\n        // version exists\n    }\n\n    public Cursor getAll(String orderBy) {\n        return (getReadableDatabase().rawQuery(\n                \"SELECT _id, assname, urge FROM assignments ORDER BY \"\n                        + orderBy, null));\n    }\n\n    public Cursor getById(String id) {\n        String[] args = { id };\n\n        return (getReadableDatabase().rawQuery(\n                \"SELECT _id, assname, urge FROM assignments WHERE _ID=?\",\n                args));\n    }\n\n    public void insert(String name, String type) {\n        ContentValues cv = new ContentValues();\n\n        cv.put(\"assname\", name);\n        cv.put(\"urge\", type);\n\n        getWritableDatabase().insert(\"assignments\", \"assname\", cv);\n    }\n\n    public void deleteValue(String value) {\n        SQLiteDatabase db = getWritableDatabase();\n\n        String whereClause = \"assname\" + \"=?\";\n        String[] whereArgs = new String[] { String.valueOf(value) };\n        db.delete(\"assignments\", whereClause, whereArgs);\n        db.close();\n    }\n\n    public void update(String id, String name, String type) {\n        ContentValues cv = new ContentValues();\n        String[] args = { id };\n\n        cv.put(\"assname\", name);\n        cv.put(\"urge\", type);\n\n        getWritableDatabase().update(\"assignments\", cv, \"_ID=?\", args);\n    }\n\n    public String getName(Cursor c) {\n        return (c.getString(1));\n    }\n\n    public String getUrgency(Cursor c) {\n        return (c.getString(2));\n    }\n}\n</code></pre>\n\n<p>I know it is a lot to read through, however I am really stuck on this final part to my project. These three classes are (for all intents and purposes) almost identical to the three for adding courses. The only differences are that the variable names are changed and that the class references are switched to match the assignment classes. Any help or criticism is greatly welcomed. Thank you in advance for taking the time to read through my question.</p>\n"},{"tags":["database","postgresql","greenplum"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13234818,"title":"Formatting External tables in Greenplum (PostgreSQL)","body":"<p>I want to load a plain file into Greenplum database using external tables. \nCan I specify input format for timestamps/date/time fields? (If you know the answer for PostgreSQL, please reply as well)</p>\n\n<p>For example, with Oracle I can use DATE_FORMAT DATE MASK 'YYYYMMDD' to tell how to parse the date. For Netezza I can specify DATESTYLE 'YMD'. For Greenplum I cannot find the answer. I can describe fields as char, and then parse them during the load, but this is an ugly workaround. </p>\n\n<p>Here is my tentative code:</p>\n\n<pre><code>CREATE EXTERNAL TABLE MY_TBL (X date, Y time, Z timestamp ) \nLOCATION (\n 'gpfdist://host:8001/file1.txt',\n 'gpfdist://host:8002/file2.txt'\n) FORMAT 'TEXT' (DELIMITER '|' NULL '')\n</code></pre>\n"},{"tags":["java","database","flyway"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1070,"score":3,"question_id":4959299,"title":"How to roll back migrations using Flyway?","body":"<p>MyBatis migrations splits each SQL file into two sections:</p>\n\n<ol>\n<li>One for migrating forward one version</li>\n<li>One for migrating back one version</li>\n</ol>\n\n<p>How does one roll back versions using <a href=\"http://code.google.com/p/flyway/\" rel=\"nofollow\">Flyway</a>?</p>\n"},{"tags":["database","forms","ms-access-2007","access-vba"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13226472,"title":"How can I get the ID of a record when it isn't mentioned on a form in Access 2007 via VBA?","body":"<p>I have a multiple items form which does not mention the ID of the record.  I have a button for each row which, when clicked, opens up a new form containing more details.</p>\n\n<p>In the past, I've added a field for the ID but made it invisible, but this seems silly - the ID is a unique field of the original query, so I should be able to access purely with code somehow.</p>\n\n<p>Does anybody know how to do this?  Let me know if you want more clarification.</p>\n\n<p><strong>Update</strong></p>\n\n<p>The fastest way for me to do this is to add a field in the form for the field in the query, call it the query field name, save it all and close it, then delete the field.  Though of course I'd rather just be able to do Me.ID without any of that prior nonsense.</p>\n"},{"tags":["java","database","jdbc","resultset"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13260810,"title":"Caching data on JDBC","body":"<p>I have created a database application using java swing. My program retrieves data from the database whenever I call the find class. The find class simply creates a statement, get the current database connection, then execute the statement. The returned values from the database will be placed on a ResultSet then will be displayed on a jTable. The problem is this:</p>\n\n<p>I opened the find class, the result was displayed. Then I go to SQLyog or HeidiSQL (applications to manipulate the database), edit the values which was displayed on my program, then save. I went back to my program, close the find class then reopen it, I still get the previous data, not the edited one. Please help. Updates must be displayed once the find class is open. The only way for me to get the updated data is to close my entire program then reopen it, which I dont want to do.</p>\n\n<p>EDIT:\nThis is what I tried. Basically, once my program creates a connection to the database the first time, I save it to another class which makes the connection always open(I assume). So whenever I want to create a query, I'll just call the class to get the connection. What I did now is, after executing the query from the find class, I close the connection with the .close() function. It works, but do I really need to do close the connection every time? Again this is just a desktop application, not a web program.</p>\n"},{"tags":["database","oracle","virtualbox"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1323,"score":1,"question_id":8375515,"title":"TNS:listener does not currently know of SID given in connect descriptor","body":"<p>I got file <code>.ova</code> to restore virtual machine with installed and configured some jee application. Unfortunatelly, I have got some problem with connect to database (which is also preinstalled on that <code>.ova</code> file). I have no idea what it could mean and what should I do. Worth to say, my 2 other coworkers imported whole thing without trouble, they can connect to database. </p>\n\n<p>Anyway on their virtual machine they have connection to the Internet, I don't, could it be the reason? Project use <code>hibernate</code> to connect to <code>localhost</code> with following details: <strong>(but I get the same error with any other tool to connect db)</strong></p>\n\n<pre><code>&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\"&gt;\n        &lt;value&gt;oracle.jdbc.driver.OracleDriver&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"url\"&gt;\n        &lt;value&gt;jdbc:oracle:thin:@localhost:1521:xe&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"username\"&gt;\n        &lt;value&gt;ad&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property name=\"password\"&gt;\n        &lt;value&gt;ad&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Another diffrence between my hardware and them, my host system is <code>windows 7 x64</code>, their are  <code>windows xp</code>.</p>\n\n<p>Please help! Thanks in advance!</p>\n"},{"tags":["c#","database","entity-framework","ef-code-first","foreign-keys"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":13260306,"title":"Entity Framework 5: Code-First Cyclical Relationship Issues","body":"<p>I understand why EF does not allow \"cyclical references\" in the PK/FK relationships. I am looking for advice on how to alter my model to make the following scenario work.</p>\n\n<h3>Scenario</h3>\n\n<p>Three entities: <code>Employee</code>, <code>Agency</code>, <code>WorkRecord</code>. Their purpose is to log Employee time spent doing work. <code>Employee</code> then contains reference to the <code>Agency</code> he/she is employed by, and his/her <code>WorkRecord</code> contain reference to the <code>Agency</code> the work was done for.</p>\n\n<pre><code>public class Employee\n{\n    [Key]\n    public int Id { get; set; }\n\n    public string Name { get; set; }\n\n    public int AgencyId { get; set; }\n    public virtual Agency Agency { get; set; }\n\n    public virtual IEnumerable&lt;WorkRecord&gt; WorkRecords { get; set; }\n}\n\npublic class Agency\n{\n    [Key]\n    public int Id { get; set; } \n}\n\npublic class WorkRecord\n{\n    [Key]\n    public int Id { get; set; } \n\n    public int Hours { get; set; } \n\n    public int AgencyId { get; set; } \n    public virtual Agency Agency { get; set; } \n\n    public int EmployeeId { get; set; }\n    public virtual Employee { get; set; }\n}\n</code></pre>\n\n<p>Like this, it bitches: <code>FK_dbo.WorkRecords_dbo.Employees_EmployeeId</code> causes a cyclical reference.</p>\n\n<h3>Experiments</h3>\n\n<p>My first thought was because of the bi-directional virtual properties, so I decided to designate one of the two a top-level entity with a 1-way relationship:</p>\n\n<p>First, I designated <code>WorkRecord</code> as a top-level entity and remove the virtual <code>WorkRecords</code> reference reference from the <code>Employee</code> entity... the same message is produced.</p>\n\n<p>Second, I made <code>Employee</code> the top-level entity, leaving its virtual <code>WorkRecords</code> collection, and removing the virtual <code>Employee</code> reference property from the <code>WorkRecord</code> entity... works fine but does not achieve my goal.</p>\n\n<p>After more investigation, I find it is the Agency virtual reference property on both entities that causes the circular reference. If one entity removes this, the <code>Employee</code>/<code>WorkRecord</code> entity relationships work in all directions. </p>\n\n<h3>Question:</h3>\n\n<p>So, clear as i can ask - how can I express this business model, using <code>WorkRecord</code> as my top-level entity, without making EF5 upset?</p>\n"},{"tags":["mysql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13252509,"title":"Query for correlated tables","body":"<p>I am currently trying to run a query that will show all tables that correlate with each other. I did not make the table design. So I am running into some trouble in making: It's not clear how <code>office_hours</code> table correlates with <code>schedule</code> table? Overall how can I display properly all tables that correlate through a query? </p>\n\n<pre><code>SELECT * \nFROM schedule\nINNER JOIN semester ON schedule.semester_id = semester.id\nINNER JOIN office_hours ON office_hours.id = schedule.???\n</code></pre>\n"},{"tags":["database","performance","sqlalchemy","uuid","sharding"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":43,"score":4,"question_id":13167799,"title":"SQLAlchemy, UUIDs, Sharding, and AUTO_INCREMENT primary key... how to get them to work together?","body":"<p>I have a question pertaining to SQLAlchemy, database sharding, and UUIDs for you fine folks. </p>\n\n<p>I'm currently using MySQL in which I have a table of the form:</p>\n\n<pre><code>CREATE TABLE foo (\n    added_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    id BINARY(16) NOT NULL,\n    ... other stuff ...\n    UNIQUE KEY(id)\n);\n</code></pre>\n\n<p>A little background on this table. I never care about the 'added_id', I'm only using to ensure that the inserted items are clustered together on disk (since the B-Tree used to index the table in MySQL uses the primary key as the cluster index). The 'id' column contains the binary representation of a UUID -- this is the column I actually care about and all other things reference this ID. Again, I don't want the UUID to be the primary key, since the UUID is random and thus making the B-Tree created to index the table have horrible IO characteristics (at least that is what has been said elsewhere). Also, although UUID1 includes the timestamp to ensure that IDs are generated in \"sequential\" order, the inclusion of the MAC address in the ID makes it something I'd rather avoid. Thus, I'd like to use UUID4s.</p>\n\n<p>Ok, now moving on to the SQLAlchemy part. In SQLAlchemy one can define a model using their ORM for the above table by doing something like:</p>\n\n<pre><code># The SQL Alchemy ORM base class\nBase = declerative_base()\n\n# The model for table 'foo'\nclass Foo(Base):\n    __table__ = 'foo'\n    add_id = Column(Integer, primary_key=True, nullable=False)\n    id = Column(Binary, index=True, unique=True, nullable=False)\n    ...\n</code></pre>\n\n<p>Again, this is basically the same as the SQL above. </p>\n\n<p>And now to the question. Let's say that this database is going to be sharded (horizontally partitioned) into 2 (or more) separate databases. Now, (assuming no deletions) each of these databases will have records with added_id of 1, 2, 3, etc in table foo. Since SQLAlchemy uses a session to manage the objects that are being worked on such that each object is identified only by its primary key, it seems like it would be possible to have the situation where I could end trying to access two Foo objects from the two shards with the same added_id resulting in some conflict in the managed session. </p>\n\n<p>Has anyone run in to this issue? What have you done to solve it? Or, more than likely, am I missing something from the SQLAlchemy documentation that ensures that this cannot happen. However, looking at the sharding example provided with the SQLAlchemy download (examples/sharding/attribute_shard.py) they seem to side-step this issue by designating one of the database shards as an ID generator... creating an implicit bottle neck as all INSERTS  have to go against that single database to get an ID. (They also mention using UUIDs, but apparently that causes the performance issue for the indexes.)</p>\n\n<p>Alternatively, is there a way to set the UUID as the primary key and have the data be clustered on disk using the added_id? If it's not possible in MySQL is it possible in another DB like Postgres?</p>\n\n<p>Thanks in advance for any and all input!</p>\n"},{"tags":["jquery","database","xcode","sqlite","uiwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13260369,"title":"Xcode UIWebView with SQLite Database","body":"<p>I'm creating an iPhone app that uses UIWebView, I have a MySQL database with 7 tables and about 100 rows in each table. I want to avoid using PHP so that I can locally load the html file into my app using:</p>\n\n<pre><code>[myWebView loadRequest:[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@\"index\" ofType:@\"html\"]isDirectory:NO]]];\n</code></pre>\n\n<p>rather than an external URL...</p>\n\n<p>I've exported the MySQL database, and formatted all the information into a SQLite database.</p>\n\n<p>Is there a way to add the database into my Xcode project, and then query the data into my HTML file without having access to the internet?</p>\n\n<p>Clarification, is there a localized, offline alternative to:</p>\n\n<pre><code>&lt;?php\ninclude(\"connect.php\");\n$variable = mysql_query(\"SELECT * FROM table ORDER BY name\");\n?&gt;\n</code></pre>\n\n<p>Essentially, I'm looking for an ALL jQuery approach so that my application doesn't require internet!</p>\n\n<p>Thanks!</p>\n"},{"tags":["database","database-design"],"answer_count":9,"favorite_count":12,"up_vote_count":25,"down_vote_count":0,"view_count":3788,"score":25,"question_id":502501,"title":"Database: To delete or not to delete records","body":"<p>I don't think I am the only person wondering about this. What do you usually practice about database behavior? Do you prefer to delete a record from the database physically? Or is it better to just flag the record with a \"deleted\" flag or a boolean column to denote the record is active or inactive?</p>\n"},{"tags":["sql","database","sql-server-2008","query"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13259028,"title":"SQL Server bulk insert - \"Bulk load data conversion error\"","body":"<pre><code>bulk insert dbo.A\nFROM 'd:\\AData.csv'\nWITH \n(\nFIELDTERMINATOR = ',',\nROWTERMINATOR = '\\n'\n)\n</code></pre>\n\n<p>Inserting bulk data into a database, I approached an unexplainable error after review of the suspect data:</p>\n\n<blockquote>\n  <p><em>Msg 4867, Level 16, State 1, Line 6</em><br>\n  <em>Bulk load data conversion error (overflow) for row 1, column 42 (FES).</em></p>\n</blockquote>\n\n<p>Column FES was <code>tinyint</code>, now <code>smallint</code>. <code>d:\\AData.csv</code> contains a <code>2</code> in row 1, column 42. Are there any other sources for this type of error?</p>\n\n<p>---APPEND---</p>\n\n<p>I'm not sure how to properly post this. </p>\n\n<p>Create Table Script </p>\n\n<pre><code>create table AcsBy320082010Hus(\nserialnoId bigint,\nRT char,\nDIVISION tinyint,\nPUMA int,\nREGION tinyint,\nST tinyint,\nADJHSG int,\nADJINC int,\nWGTP int,\nNP tinyint,\nTYPE tinyint,\nACR tinyint,\nAGS tinyint,\nBDS tinyint,\nBLD tinyint,\nBUS tinyint,\nCONP smallint,\nELEP smallint,\nFS smallint,\nFULP int,\nGASP int,\nHFL tinyint,\nINSP varchar(6),\nKIT tinyint,\nMHP int,\nMRGI tinyint,\nMRGP int,\nMRGT tinyint,\nMRGX tinyint,\nPLM tinyint,\nRMS tinyint,\nRNTM tinyint,\nRNTP int,\nSMP int,\nTEL tinyint,\nTEN tinyint,\nVACS tinyint,\nVAL tinyint,\nVEH tinyint,\nWATP int,\nYBL tinyint,\nFES tinyint,\nFINCP int,\nFPARC tinyint,\nGRNTP int,\nGRPIP tinyint,\nHHL tinyint,\nHHT tinyint,\nHINCP int,\nHUGCL bit,\nHUPAC tinyint,\nHUPAOC tinyint,\nHUPARC tinyint,\nLNGI tinyint,\nMV tinyint,\nNOC tinyint,\nNPF tinyint,\nNPP bit,\nNR bit,\nNRC tinyint,\nOCPIP tinyint,\nPARTNER tinyint,\nPSF bit,\nR18 bit,\nR60 tinyint,\nR65 tinyint,\nRESMODE tinyint,\nSMOCP int,\nSMX tinyint,\nSRNT bit,\nSVAL bit,\nTAXP tinyint,\nWIF tinyint,\nWKEXREL tinyint,\nWORKSTAT tinyint,\nFACRP bit,\nFAGSP bit,\nFBDSP bit,\nFBLDP bit,\nFBUSP bit,\nFCONP bit,\nFELEP bit,\nFFSP bit,\nFFULP bit,\nFGASP bit,\nFHFLP bit,\nFINSP bit,\nFKITP bit,\nFMHP bit,\nFMRGIP bit,\nFMRGP bit,\nFMRGTP bit,\nFMRGXP bit,\nFMVYP bit,\nFPLMP bit,\nFRMSP bit,\nFRNTMP bit,\nFRNTP bit,\nFSMP bit,\nFSMXHP bit,\nFSMXSP bit,\nFTAXP bit,\nFTELP bit,\nFTENP bit,\nFVACSP bit,\nFVALP bit,\nFVEHP bit,\nFWATP bit,\nFYBLP bit,\nWGTP1 int,\nWGTP2 int,\nWGTP3 int,\nWGTP4 int,\nWGTP5 int,\nWGTP6 int,\nWGTP7 int,\nWGTP8 int,\nWGTP9 int,\nWGTP10 int,\nWGTP11 int,\nWGTP12 int,\nWGTP13 int,\nWGTP14 int,\nWGTP15 int,\nWGTP16 int,\nWGTP17 int,\nWGTP18 int,\nWGTP19 int,\nWGTP20 int,\nWGTP21 int,\nWGTP22 int,\nWGTP23 int,\nWGTP24 int,\nWGTP25 int,\nWGTP26 int,\nWGTP27 int,\nWGTP28 int,\nWGTP29 int,\nWGTP30 int,\nWGTP31 int,\nWGTP32 int,\nWGTP33 int,\nWGTP34 int,\nWGTP35 int,\nWGTP36 int,\nWGTP37 int,\nWGTP38 int,\nWGTP39 int,\nWGTP40 int,\nWGTP41 int,\nWGTP42 int,\nWGTP43 int,\nWGTP44 int,\nWGTP45 int,\nWGTP46 int,\nWGTP47 int,\nWGTP48 int,\nWGTP49 int,\nWGTP50 int,\nWGTP51 int,\nWGTP52 int,\nWGTP53 int,\nWGTP54 int,\nWGTP55 int,\nWGTP56 int,\nWGTP57 int,\nWGTP58 int,\nWGTP59 int,\nWGTP60 int,\nWGTP61 int,\nWGTP62 int,\nWGTP63 int,\nWGTP64 int,\nWGTP65 int,\nWGTP66 int,\nWGTP67 int,\nWGTP68 int,\nWGTP69 int,\nWGTP70 int,\nWGTP71 int,\nWGTP72 int,\nWGTP73 int,\nWGTP74 int,\nWGTP75 int,\nWGTP76 int,\nWGTP77 int,\nWGTP78 int,\nWGTP79 int,\nWGTP80 int)\n</code></pre>\n\n<p>Headers row </p>\n\n<blockquote>\n  <p>serialno,RT,DIVISION,PUMA,REGION,ST,ADJHSG,ADJINC,WGTP,NP,TYPE,ACR,AGS,BATH,BDSP,BLD,BUS,CONP,ELEP,FS,FULP,GASP,HFL,INSP,MHP,MRGI,MRGP,MRGT,MRGX,REFR,RMSP,RNTM,RNTP,RWAT,SINK,SMP,STOV,TEL,TEN,TOIL,VACS,VALP,VEH,WATP,YBL,FES,FINCP,FPARC,GRNTP,GRPIP,HHL,HHT,HINCP,HUGCL,HUPAC,HUPAOC,HUPARC,KIT,LNGI,MULTG,MV,NOC,NPF,NPP,NR,NRC,OCPIP,PARTNER,PLM,PSF,R18,R60,R65,RESMODE,SMOCP,SMX,SRNT,SVAL,TAXP,WIF,WKEXREL,WORKSTAT,FACRP,FAGSP,FBATHP,FBDSP,FBLDP,FBUSP,FCONP,FELEP,FFSP,FFULP,FGASP,FHFLP,FINSP,FKITP,FMHP,FMRGIP,FMRGP,FMRGTP,FMRGXP,FMVP,FPLMP,FREFRP,FRMSP,FRNTMP,FRNTP,FRWATP,FSINKP,FSMP,FSMXHP,FSMXSP,FSTOVP,FTAXP,FTELP,FTENP,FTOILP,FVACSP,FVALP,FVEHP,FWATP,FYBLP,WGTP1,WGTP2,WGTP3,WGTP4,WGTP5,WGTP6,WGTP7,WGTP8,WGTP9,WGTP10,WGTP11,WGTP12,WGTP13,WGTP14,WGTP15,WGTP16,WGTP17,WGTP18,WGTP19,WGTP20,WGTP21,WGTP22,WGTP23,WGTP24,WGTP25,WGTP26,WGTP27,WGTP28,WGTP29,WGTP30,WGTP31,WGTP32,WGTP33,WGTP34,WGTP35,WGTP36,WGTP37,WGTP38,WGTP39,WGTP40,WGTP41,WGTP42,WGTP43,WGTP44,WGTP45,WGTP46,WGTP47,WGTP48,WGTP49,WGTP50,WGTP51,WGTP52,WGTP53,WGTP54,WGTP55,WGTP56,WGTP57,WGTP58,WGTP59,WGTP60,WGTP61,WGTP62,WGTP63,WGTP64,WGTP65,WGTP66,WGTP67,WGTP68,WGTP69,WGTP70,WGTP71,WGTP72,WGTP73,WGTP74,WGTP75,WGTP76,WGTP77,WGTP78,WGTP79,WGTP80</p>\n</blockquote>\n\n<p>Row 1</p>\n\n<blockquote>\n  <p>2008000000023,H,6,01300,3,01,1012650,1031272,00043,04,1,1,,1,02,02,2,0000,150,2,0002,020,3,00150,,2,00980,1,1,1,03,,,1,1,,1,1,1,1,,0210000,2,0080,09,2,000058100,2,,,4,1,000058100,0,3,3,3,1,1,1,3,02,04,0,0,02,024,0,1,0,1,0,0,1,01170,3,0,1,19,1,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,00112,00045,00068,00017,00044,00091,00071,00032,00036,00042,00048,00041,00013,00031,00063,00013,00037,00017,00063,00098,00026,00036,00017,00065,00036,00020,00014,00035,00037,00046,00047,00048,00080,00034,00012,00061,00031,00069,00043,00060,00011,00050,00016,00057,00050,00013,00016,00068,00056,00039,00042,00049,00081,00041,00012,00092,00050,00055,00049,00016,00062,00041,00103,00012,00048,00060,00073,00052,00063,00038,00047,00040,00017,00040,00059,00020,00042,00010,00038,00018</p>\n</blockquote>\n\n<p><a href=\"http://www.census.gov/acs/www/Downloads/data_documentation/pums/DataDict/PUMS_Data_Dictionary_2008-2010.pdf\" rel=\"nofollow\">Link to ACS 2008-2010 Data Dictionary</a></p>\n"},{"tags":["java","database","google-app-engine","google-cloud-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13257721,"title":"App Engine - Cloud Sql - java.sql.SQLException: This Connection is closed","body":"<p>After a while I got this error, so how do I make sure that the connection is not dead before giving my singleton?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static Connection getInstance() throws Exception {\n\n    if(connection != null) {\n        return connection;\n    }\n\n        DriverManager.registerDriver(new AppEngineDriver());\n        connection = DriverManager.getConnection(\"jdbc:google:rdbms://\"+instanceName+\"/vidaao\");\n\n    return connection;\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: This Connection is closed.     at\n  com.google.cloud.sql.jdbc.internal.Exceptions.newConnectionClosedException(Exceptions.java:52)\n    at\n  com.google.cloud.sql.jdbc.Connection.throwIfNotOpen(Connection.java:633)\n    at\n  com.google.cloud.sql.jdbc.Connection.getHoldability(Connection.java:194)\n    at\n  com.google.cloud.sql.jdbc.Connection.createStatement(Connection.java:123)\n    at\n  com.google.cloud.sql.jdbc.Connection.createStatement(Connection.java:54)\n    at db.DbUser.exist(DbUser.java:209)     at\n  controller.CtrlUser.login(CtrlUser.java:343)  at\n  vidaao.ConnectServlet.doPost(ConnectServlet.java:36)  at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:637)  at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:717)  at\n  org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at\n  com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at\n  org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at\n  org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at\n  org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at\n  org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at\n  com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at\n  com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)     at\n  org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at\n  org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)  at\n  org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)  at\n  org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)  at\n  org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at\n  org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)</p>\n</blockquote>\n\n<p>I tried to use isClosed() but doesn't work and isValid() looks like it is working but it's slowing down the connection to the database each time</p>\n"},{"tags":["database","local-storage","winrt","microsoft-metro"],"answer_count":7,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":3794,"score":9,"question_id":9342511,"title":"Local database storage for WinRT/Metro applications","body":"<p>I am trying to find an API within WinRT that will allow me to create a local database that can be used to store data for an occasionally connected application. I am looking for something like SQL Compact Edition.</p>\n\n<p>I have seen various messages on various boards indicating that there either (a) will be no local databases whatsoever, (b) no local \"server\" databases (i.e. SQL Express type instances) and (c) A local database code named \"Jet Blue\".</p>\n\n<p>Does anybody have a definitive answer to this? I do not want to start down this road if it is blocked.</p>\n\n<p>Thanks.</p>\n"},{"tags":["sql-server","database","data-warehouse"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13259594,"title":"retrieve data from multiple tables and store them in one table confronted the duplicates","body":"<p>I'm working on some critical data retrieving report tasks and find some difficulties to\nproceed. Basically, it's belonging to medical area and the whole data is distributed in\nseveral tables and I can't change the architecture of database tables design. In order to\nfinish my report, I need the following steps:</p>\n\n<pre><code>1- divide the whole report to several parts, for each parts retrieve data by using\nseveral joins. (like for part A can be retrieved by this:\nselect a1.field1, a2.field2 from a1 left join a2 on a1.fieldA= a2.fieldA ) then I can\ngot all the data from part A.\n\n2- the same things happened for part B\nselect b1.field1, b2.field2 from b1 left join b2 on b1.fieldB= b2.fieldB, then I also\nget all the data from part B.\n\n3- same case for part C, part D.....and so on.\n</code></pre>\n\n<p>The reason I divide them is that for each part I need to have more than 8 joins (medical data is always complex) so I can't finish all of them within a single join (with more than 50 joins which is impossible to finish...)</p>\n\n<p>After that, I run my Spring Batch program to insert all the data from part A and data from part b, part c.. into one table as my final report table. The problem is not every part will have same number of rows which means part A may return 10 rows while part b may return 20 rows. Since the time condition for each part is the same (1 day) and can't be changed so just wondering how can I store all these different part of data into one table with minimum overhead. I don't want to have to many duplicates, thanks for the great help.</p>\n\n<p>Lei</p>\n"},{"tags":["mysql","database","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13257057,"title":"Bulk delete/edit excerpts in Wordpress?","body":"<p>I've taken over and built a new theme utilizing all the goodies Wordpress comes with. I'm also using the built-in excerpts functions within Wordpress... however, the previous user wasn't using automatic excerpts and was manually typing their own excerpts.</p>\n\n<p>I was wondering if there is a method to either override the manual excerpts or to perform a bulk edit on the excerpts?</p>\n"},{"tags":["php","database","login","mysqli"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13259109,"title":"PHP mysqli query isnt working","body":"<p>when the user enters their details they click on login but its not working, my connection to the database is fine its this file that is not working, any help would be appreciated, thanks\n    \n\n<pre><code>include '../connection.php'; //used to include connection file that is 1 level higher in the directory \n\n$username = $_REQUEST['username'];\n$password = $_REQUEST['password'];\n\n$fquery = 'SELECT Username FROM login LIMIT 0, 30 ';\n$squery = 'SELECT Password FROM login LIMIT 0, 30 ';\n\n$username_query = mysqli_query($dbc, $fquery);\n$password_query = mysqli_query($dbc, $squery);\n\n$username_row = mysqli_fetch_array($username_query);\n$password_row = mysqli_fetch_array($password_query);\n\nif($username == $username_row &amp;&amp; $password == $password_row) {\n    echo 'username and password correct';\n}\n\n\n?&gt;\n</code></pre>\n"},{"tags":["sql","database","null","nullable"],"answer_count":6,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":4159,"score":6,"question_id":1833949,"title":"why is null not equal to null false","body":"<p>I was reading this article:\n<a href=\"http://stackoverflow.com/questions/191640/get-null-null-in-sql\">http://stackoverflow.com/questions/191640/get-null-null-in-sql</a></p>\n\n<p>And the consensus is that when trying to test equality between two (nullable) sql columns, the right approach is:</p>\n\n<pre><code>where ((A=B) OR (A IS NULL AND B IS NULL))\n</code></pre>\n\n<p>When A and B are NULL, (A=B) still returns FALSE, since NULL is not equal to NULL. That is why the extra check is required.</p>\n\n<p>What about when testing inequalities? Following from the above discussion, it made me think that to test inequality I would need to do something like:</p>\n\n<pre><code>WHERE ((A &lt;&gt; B) OR (A IS NOT NULL AND B IS NULL) OR (A IS NULL AND B IS NOT NULL))\n</code></pre>\n\n<p>However, I noticed that that is not necessary (at least not on informix 11.5), and I can just do:</p>\n\n<pre><code>where (A&lt;&gt;B)\n</code></pre>\n\n<p>If A and B are NULL, this returns FALSE. If NULL is not equal to NULL, then shouldn't this return TRUE?</p>\n\n<p><strong>EDIT</strong><br>\nThese are all good answers, but I think my question was a little vague. Allow me to rephrase:</p>\n\n<p>Given that either A or B can be NULL, is it enough to check their inequality with</p>\n\n<pre><code>where (A&lt;&gt;B)\n</code></pre>\n\n<p>Or do I need to explicitly check it like this:</p>\n\n<pre><code>WHERE ((A &lt;&gt; B) OR (A IS NOT NULL AND B IS NULL) OR (A IS NULL AND B IS NOT NULL))\n</code></pre>\n\n<p>REFER to this <a href=\"http://stackoverflow.com/questions/1835546/testing-inequality-with-columns-that-can-be-null\">thread</a> for the answer to this question.</p>\n"},{"tags":["database","oracle","database-design","oracle11g","bitmask"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13247179,"title":"Alternative design for a bitmask in DB","body":"<p>I have a <code>users</code> table, with following format :</p>\n\n<pre><code>users(id,name.....,settings)\n</code></pre>\n\n<p><code>settings</code> field is of type <code>number</code> and contains a bitmask of settings.</p>\n\n<p>I have to support(inter alia) queries like :</p>\n\n<ul>\n<li>find all users which have setting1, setting23, setting125</li>\n</ul>\n\n<p>Today such a query looks like :</p>\n\n<pre><code> select * from users where bit_and(settings,2^1+2^23+2^125) = 2^1+2^23+2^125\n</code></pre>\n\n<p>Of course it is not a perfect implementation, but it already works in this way a lot of time.</p>\n\n<p>The problem is that today we have 126 different settings and it is exactly the limit of <code>oracle 11g</code> for bitwise operations. That means that we can't add new settings anymore.</p>\n\n<p>I'm trying to find an alternative solution to this issue.\nThe obvious way is instead of setting field, create table of mapping (user-->setting), like :</p>\n\n<pre><code>user_id | setting\n  128   |   1\n  128   |   23\n  128   |   125\n</code></pre>\n\n<p>But then the query like above will be like :</p>\n\n<pre><code>select * \nfrom users u1 join settings s1 on u1.id = s1.user_id and s1.setting  = 1\n              join settings s2 on u1.id = s2.user_id and s2.setting  = 23\n              join settings s3 on u1.id = s3.user_id and s3.setting  = 125\n</code></pre>\n\n<p>It doesn't look good...</p>\n\n<p>So if someone can advise any solution/approach to this issue it will be very helpful...</p>\n"},{"tags":["python","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13258793,"title":"new line character in fetchall() python","body":"<p>I am selecting data from a database in python.</p>\n\n<pre><code>cur.execute(\"Select a,b,c from tab1\")\nprint \"a,b,c\"\nprint \"\\n\"\ndata = cur.fetchall()\nprint \"\".join(str(e) for e in data).replace(\"(\",\"\").replace(\")\",\"\")\n</code></pre>\n\n<p>I want to put a newline character at the end of each row.</p>\n\n<p>Output should look like</p>\n\n<pre><code>a,b,c\nA,B,C        //These values are from the database.\nD,E,F\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["database","web-services","soa","bus","osb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13258853,"title":"While implementing SOA and OSB, how worth is to consider change from dblink to web service?","body":"<p>Where I work, there are a high number of dblink between databases. Some dblinks aim to be the way for loading immense amount of data while others only exist for simple queries. \nI am wondering whether it could be better to use web services than dblink. As a principle, I am thinking that simple queries could be fit as web service to improve the reuse and governance but I find web service not apropriated for data loads.\nObviously, the decision is more complex than only thinking about tecnology. Even so, it will be helpfull to hear if there are people around the world thinking to change from dblinks to web services even heavy load as well querys with small amount of data to be trafficked and what the principles, patterns or motivations behind that decision. \nBasically we are implementing SOA and OSB and I am trying the best I can to rethink how we are used to do until now. I heard from a friend of mine that we must avoid the use of dblinks and only use web services. This sounds strange to me because I am wondering how much overhead by the net we are going to face. Could someone give your personal opinion or suggest some article? Are there some advantages and disadvantages previously known about this consideration?</p>\n"},{"tags":["php","sql","database","function"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13257934,"title":"PHP SQL Discount Code For Specific Items?","body":"<p>This function successfully calculates a global percentage using a single discount code, although I'm having problems making the code discount a specific range of items instead of globally.   The basket session holds id, name, desc, price, qty etc... but everything I've tried thus far has failed, I realize I need to implement it into the foreach loop (which I keep breaking or updates every item one way or another) or use a different method entirely but I'm really unsure as how to proceed.</p>\n\n<p>I'm not an experienced PHP Dev by the way I just enjoy learning and working basic markup.  Any helpful pointers someone can provide would be very much appreciated.  Thanks!</p>\n\n<pre><code>    $code = $this-&gt;request['code'];\n\n    $discount_status = 'NONE'; // no discount available / applied\n    if ( !empty($this-&gt;config['DISCOUNT_CODE']) &amp;&amp; !empty($this-&gt;config['DISCOUNT_PERCENT']) &amp;&amp; !empty($code) ) {\n        if ( $code == $this-&gt;config['DISCOUNT_CODE'] ) {\n            $discount_status = 'OK';\n        }\n        else {\n            $discount_status = 'ERROR';\n        }\n    }       \n\n    // calculate basket total\n    $basket_value = 0;\n    $discount_factor = 1;\n    if ( $discount_status == 'OK' ) {\n        // apply discount\n        $discount_factor = ( 100 - $this-&gt;config['DISCOUNT_PERCENT'] ) / 100;\n    }   \n\n    if ( !empty($_SESSION['basket']) &amp;&amp; is_array($_SESSION['basket']) ) {       \n    foreach( $_SESSION['basket'] as $basketItem ) {                 \n        // Apply discount to each item separately       \n        $basket_value += sprintf(\"%.02f\", $basketItem['detail_price'] * $discount_factor) * $basketItem['qty'];  \n        }       \n    }   \n\n    // check delivery cost\n    $delivery_area = $this-&gt;DeliveryAreaManager-&gt;getRecord($this-&gt;request['da']);\n    if ( !empty($delivery_area['cost']) &amp;&amp; ( $delivery_area['free_from'] &lt;= 0 || $basket_value &lt; $delivery_area['free_from'] ) ) {\n        $basket_value += $delivery_area['cost'];\n    }\n\n    // return JSON response\n    $data = JSONUtils::encode(\n        array(\n            'discount_status' =&gt; $discount_status,\n            'basket_value' =&gt; sprintf(\"%.02f\", $basket_value),\n        )\n    );\n\n    return $data;\n</code></pre>\n"},{"tags":["mysql","database","logging","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":605,"score":2,"question_id":2499288,"title":"How to use Triggers for Logging History of database changes in MySQL?","body":"<p>How can one use Triggers for Logging History of database changes in MySQL?<br>\nIf it is possible, can one create a separate database for trigger tables for tracking history of other Db tables?</p>\n"},{"tags":["sql-server","database"],"answer_count":12,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":700,"score":3,"question_id":1006977,"title":"Altering a SQL Server table without impact","body":"<p>I have a table with some 30 columns, already used in the application extensively. i.e Select, Insert and Update operations for this table written in many different ways(in whatever ways the developers thought they were comfortable) in number of stored procedures and UDFs. I'm now handed with a task to extend the functionality for which the table serves and I'm in need to add additional detail to the table(generally can be assumed as an additional column to the table). Adding additional column to the table is a massive and inefficient task I don't want to do considering the impact it will cause elsewhere.</p>\n\n<p>Another way i can think of now is creating a new table with foreign key to the main table and maintaining the records in the new table. I'm skeptical of this way too. What is the effective way to handle this sort of modifications in the schema of the table?</p>\n\n<p>Using SQL Server 2000 in case it's needed.</p>\n\n<p>Edit:</p>\n\n<p>Unfortuantely, column should not accept NULL values. Missed this crucial info indeed</p>\n\n<p>Impacts i think which can occur due to already implemented poor practices are,</p>\n\n<blockquote>\n  <p>1) \"SELECT *\" and binding to some\n  datagrid directly to front end. (very\n  very low probable)</p>\n  \n  <p>2) using Column numbers to fetch from\n  dataset or datatable instead of column\n  names in front end when using \"SELECT\n  *\"</p>\n  \n  <p>3) \"Insert into\" with values given\n  sequentially instead of with column\n  names.</p>\n</blockquote>\n\n<p>By some way, if i can make the column to accept \"NULL\" values(by tweaking requirements a bit) any impact due to the above points?</p>\n\n<p>I'm doubtful of analysisng existing code because number of SPs and functions using this table can run into hundreds.</p>\n"},{"tags":["mysql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13257697,"title":"How to make a timestamp not show the time","body":"<p>Is there a way to simply change a field properties to to not show the time? I want it to just show the date.</p>\n\n<p>My field name is \"date\". I am using mysql. It is type <code>TIMESTAMP</code>, and defaulted to current timestamp.</p>\n"},{"tags":["mysql","database","mysql-error-1091"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13256545,"title":"Can't DROP \"MUL\" key/index in MySQL - column listed in SHOW","body":"<p>I'm using mysql-server-5.0.45-7.el5 on CentOs 5.</p>\n\n<p>In my database, there is a table which, I don't know when, a MUL key was created (the database is shared, under control of a group), and now when I try to insert some values I get an error like shown above:</p>\n\n<pre><code>Duplicate entry '2-1-2004-09-11 13:13:41.526' for key 2:INSERT INTO ephemeris SET\nEPH_TYPE_ID = 1, FILENAME = 'CBERS_2_CCD1_DRD_2004_09_11.13_13_23', ID = 0, \nIS_NEW = 1, SATELLITE_ID = 2, TIME = '2004-09-11 13:13:41.526'\n</code></pre>\n\n<p>I got this error once, and I tried <code>ALTER TABLE ephemeris DROP INDEX SATELLITE_ID;</code>\nIt worked at first time, but now the same constraint appeared and it didn't worked at all.</p>\n\n<p>The structure of table (resumed):</p>\n\n<pre><code>mysql&gt; show columns from ephemeris;\n\n+--------------+--------------+------+-----+---------+----------------+\n| Field        | Type         | Null | Key | Default | Extra          |\n+--------------+--------------+------+-----+---------+----------------+\n| ID           | int(11)      | NO   | PRI | NULL    | auto_increment |\n| SATELLITE_ID | int(11)      | NO   | MUL | 0       |                |\n| EPH_TYPE_ID  | int(11)      | NO   |     | 0       |                |\n</code></pre>\n\n<p>When I type the <code>ALTER TABLE</code> command, mysql returns as:</p>\n\n<pre><code>mysql&gt; ALTER TABLE ephemeris DROP INDEX ephemeris.SATELLITE_ID ;\nERROR 1091 (42000): Can't DROP 'SATELLITE_ID'; check that column/key exists\n</code></pre>\n\n<p>Anybody have already gotten this error? Any help?</p>\n\n<p>Rgds.</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","gem","database-connection"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":10352638,"title":"Rails gem uses the development db instead of the testing one when executing \"rake test\"","body":"<p>I'm using a gem with my rails 3 project, \"rails-settings-cached\", and when I'm in development mode the gem can access the database without any problem.\nHowever, when I run \"rake test\", a lot of tests fails because \"rails-settings-cached\" keeps using the development db instead of the testing one.</p>\n\n<p>The other parts of my application works fine. What should I do to connect the gem to the right database?</p>\n\n<pre><code>development:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: mmdb_development\n  pool: 5\n  username: ***\n  password: ***\n  socket: /var/run/mysqld/mysqld.sock\n\ntest:\n  adapter: mysql2\n  encoding: utf8\n  reconnect: false\n  database: mmdb_test\n  pool: 5\n  username: ***\n  password: ***\n  socket: /var/run/mysqld/mysqld.sock\n</code></pre>\n"},{"tags":["java","database","hibernate","java-ee","struts2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":27,"score":-2,"question_id":13257445,"title":"How should I manage a hibernate session in struts 2 web application","body":"<p>I am working on a web application but I am confuse how I should manage hibernate session object in struts 2 application.\nthere are two ways to use session\n1- using session factory\n2 using thread local</p>\n"},{"tags":["php","mysql","database","session"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13256560,"title":"Storing user data in sessions - from DB","body":"<p>If I have a login system or something similar, I store a session_id and a user_id  in sessions, but any other data pertaining to a certain user is stored in a database. I've seen other scripts where people store other data (<em>username, email etc</em>) in sessions. </p>\n\n<p>I was just wondering, which would be \"better\"? Saving data in sessions from the DB or having less sessions and grabbing the data from the database?</p>\n\n<p>Thanks!</p>\n"},{"tags":["mysql","sql","database"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13257118,"title":"Link field values and ID to another table?","body":"<p>How do I link or add the field with all my users called \"username\" from my main table to another table so I can run checks and compare values without having to add a ton of rows to my main table? This would be a much cleaner and more organized setup. </p>\n\n<p>Table called login_users. This is my main table that stores their basic information</p>\n\n<pre><code>username       email                 password\nAnthony        user@email.com\nJosh           user@email.com\nTsuyoshi       user@email.com\n</code></pre>\n\n<p>Table 2 called badge_status. This table will hold their status with whether or not they have unlocked an achievement on my site. I want to bring in the <strong>usernames.</strong></p>\n\n<pre><code>username       badge1               badge2\nAnthony        locked               unlocked\nJosh           unlocked             locked\nTsuyoshi       unlocked             locked\n</code></pre>\n\n<p>Also, could table 2 automatically be updated with a new user when they sign up since all new sign ups are imported into the first table. As a side note, I am using phpmyadmin.</p>\n\n<p>Thanks for any help with getting this set up. Very much appreciated.</p>\n"},{"tags":["sql","database","performance","query","filter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13257155,"title":"Architecture for a fast screener","body":"<p>I'm building a screener that should be able to search through a table about 50 columns wide and 7000 rows long really fast.</p>\n\n<p>Each row is composed of the following columns.</p>\n\n<p>primary_key, quantity1, quantity2, quantity3...quantity50.</p>\n\n<p>All quantities are essentially floats or integers. Hence a typical screener would look like this.</p>\n\n<pre><code>Get all rows which have quantity1 &gt; x and quantity2 &lt; y and quantity3 &gt;= z.\n</code></pre>\n\n<p>Indexing all columns should lead to really fast search times however some of the columns will be updating in realtime. Indexing everything obviously leads to very low insert/update times.</p>\n\n<p>A portion of the columns are fairly static though. Hence an idea was to segregate the data into two tables, one containing all columns that are static while the other containing data that is dynamic. Any screener would then be applied to both tables based on the actual query. And the results combined in the end.</p>\n\n<p>I am currently planning on using a MySQL engine, most probably INNoDB. However I'm looking to get much faster response times. An implementation of the same problem on a certain site was very snappy. Regardless of the query size, i was getting the results within 500 ms. Wondering what other options are available out there to implement this function.</p>\n\n<p>Any thoughts/hints towards a potential solution would be greatly appreciated.</p>\n"},{"tags":["database","export","specifications","dot"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13254467,"title":"Exporting data in access to text file with a dot seperator","body":"<p>I am using Access 2007 and I wish to be able to export my data to a text file while having the export specifications to allow me to use a '.' instead of a comma or the other default characters given to me. Is this possible?</p>\n"},{"tags":["database","algorithm","oracle","scaling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13254422,"title":"Database Algorithmic Scaling","body":"<p>I've recently been tasked with doing some \"big data\" stuff with an existing Oracle database. The relevant table has 300 million entries, and is ridiculously slow. Are there any good books out there that explain how various options in the DB construction effect the algorithmic scaling (O(n), etc) of various queries? And how different query operations themselves effect scalings? </p>\n\n<p>I'd prefer to get an understanding of how the underlying algorithms work rather than just ad hoc suggestions.</p>\n"},{"tags":["database","spring","hibernate","spring-mvc","spring-security"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13254715,"title":"Authentication using Spring 3 and Hibernate 3 (annotation based)","body":"<p>My application is based on Spring 3, Hibernate 3, MySQL. I read the Spring Security document and learnt that I can implement Authentication as given below,</p>\n\n<pre><code>&lt;authentication-manager&gt;\n   &lt;authentication-provider&gt;\n    &lt;jdbc-user-service data-source-ref=\"dataSource\"\n\n       users-by-username-query=\"\n          select username,password, enabled \n          from users where username=?\" \n\n       authorities-by-username-query=\"\n          select u.username, ur.authority from users u, user_roles ur \n          where u.user_id = ur.user_id and u.username =?  \" \n\n    /&gt;\n   &lt;/authentication-provider&gt;\n&lt;/authentication-manager&gt;\n</code></pre>\n\n<p>I understood above part but my concern is, in my application user table doesn't only store the userName, password and enabled field. It also stores first and last name, emailID, phone etc. On successful authentication, I want next jsp to populate all user details automatically and not ask user the same information which it will ask to non-regirstered user.</p>\n\n<ol>\n<li>I want to use annotation based configuration and not xml based (unlike\nmentioned in spring 2.5 examples)</li>\n<li>spring document doesnt use hibernate for security. Should i use\nhibernate or jdbc-user-service? if hibernate then how?</li>\n<li>I saw couple of examples use customized UserService. Is that I need\nto do as well?</li>\n</ol>\n\n<p>Can someone kindly advice with good examples? any references to other posts will help too.</p>\n"},{"tags":["database","prefix"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13251452,"title":"login authentication from saved session in mysql (0,1)","body":"<p>i have</p>\n\n<pre><code> foo.com \n foo.com/foo\n</code></pre>\n\n<p>both sites are the same script.  main site have  <code>Prefix</code>  and second site have <code>Prefix_1</code>\nthey share one DB name same db_tables but connects upon the <code>Prefix</code> name. so both sites are executed in same mysql for different <code>prefix</code></p>\n\n<p>example table:</p>\n\n<pre><code>Prefix_users\nPrefix_1_users\n</code></pre>\n\n<p>i manage that when registration from the main foo.com it will also update the <code>prefix_1</code> which are connected to foo.com/foo </p>\n\n<p>in this way if someone register on foo.com he will be also able to login in foo.com/foo\nsuccessfully.</p>\n\n<p>My question is, when session <code>start()</code> on foo.com and create <code>$session-&gt;value('user_id')</code> i want also to start on foo.com/foo so the same user dont need to login again on the other site foo.com/foo</p>\n\n<p>i was thinking to save the session from foo.com into <code>prefix</code> and table <code>prefix_1</code>\nand when user login from foo.com he will be also start the session from foo.com/foo</p>\n\n<p>because they share one DB name , and same user name and password from 2 different table (different prefixed table )  but the session will not start on foo.com/foo\nunless the user post the same user name and password again.</p>\n\n<p>so any suggestions, \nthis is the code</p>\n\n<pre><code>`&lt;pre&gt;session_start();\n define ('IN_SITE', 1);\n include_once ('includes/global.php');\n include_once ('includes/class_user.php');\n include_once ('includes/functions_login.php');\n if (!$session-&gt;value('user_id'))\n {\nheader_redirect('login.php');\n }\n  else\n  {\n$template-&gt;set('session', $session);\n(array) $summary_page_content = null;   \n$default_landing_page = 'summary';\n$default_landing_section = 'summary_main';&lt;/pre&gt;`\n</code></pre>\n\n<p>The Idea IS Here-\n the idea is that from function_login.php   $is_login = $db->num_rows($login_query); are executed on that file and create the session and redirect to member_area.php , so i want to know how i can execute the code and start 2 sessions one for the foo.com/member_area.php and other session to be included for foo.com/foo/member_area.php </p>\n\n<p>remember that both have same tables but different prefixes and both tables have the same user_id , user_name, password </p>\n"},{"tags":["mysql","database","character-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13254896,"title":"MySQL character set and collation","body":"<p>Ok, quick question regarding charset/collation.</p>\n\n<p>If I have a database where the collation_database=latin1_swedish_ci but all the tables and columns have been created using utf8 will it differ from a database that has collation_database=utf8_general_ci with the same tables/columns? (I realise that creating new tables will pick up latin1 unless specified).</p>\n\n<p>Am I right in thinking that collation_database (and character_set_database) are only defaults and they can just be overridden on table creation?</p>\n\n<p>Cheers,\nDave</p>\n"},{"tags":["sql","database","data","dbms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13254791,"title":"I'm looking for literature about theory of data management","body":"<p>I seek basic and common theoretical literature about DBMS and data managing. I found books only about concrete technologies like MySQL.</p>\n"},{"tags":["database","java-me","gis","mobile-application"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":12,"score":2,"question_id":13254693,"title":"java me database and floggy","body":"<p>I'm developing a gis java me mobile application and I need simple database to store my ATM and bank branch for a simple search on map. I decide to use floggy as database.\nDoes any body know better database for my situation?</p>\n"},{"tags":["database","performance","algorithm","caching","graph"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":11216410,"title":"Caching Strategy for a Deep, Traversable Egocentric Graph","body":"<p><strong>Firstly, let me explain what I'm building:</strong></p>\n\n<ul>\n<li><p>I have a D3.js Force Layout graph which is rooted at the center, and has a bunch of nodes spread around it. The center node is an Entity of some sort, the nodes around it are other Entities which are somehow related to the root. The edges are the actual relations (i.e. how the two are related).</p></li>\n<li><p>The outer nodes can be clicked to center the target Entity and load its relations</p></li>\n<li><p>This graph is \"Egocentric\" in the sense that every time a node is clicked, it becomes the center, and only relations <em>directly</em> involved with itself are displayed.</p></li>\n</ul>\n\n<p><strong>My Setup, in case any of it matters:</strong></p>\n\n<ul>\n<li><p>I'm serving an API through Node.js, which translates requests into queries to a CouchDB server with huge data sets.</p></li>\n<li><p>D3.js is used for layout, and aside from jQuery and Bootstrap, I'm not using any other client-side libraries. If any would help with this caching task, I'm open to suggestions :)</p></li>\n</ul>\n\n<p><strong>My Ideas:</strong></p>\n\n<ul>\n<li><p>I could easily grab a few levels of the graph each time (recurse through the process of listing and expanding children a few times) but since clicking on any given node loads completely unrelated data, it is not guaranteed to yield a high percentage of the similar data as was loaded for the root. This seems like a complete waste, and actually a step in the <em>opposite</em> direction -- I'd end up doing <em>more</em> processing this way!</p></li>\n<li><p>I can easily maintain a hash table of Entities that have already been retrieved, and check the list before requesting data for that entity from the server. I'll probably end up doing this regardless of the cache strategy I implement, since it's a really simple way of reducing queries.</p></li>\n</ul>\n\n<p><strong>Now, how do you suggest I cache this data?</strong></p>\n\n<p>Is there any super-effective strategy you can think of for doing this kind of caching? Both server-and-client-side options are greatly welcomed. A <em>ton</em> of data is involved in this process, and any reduction of querying/processing puts me miles ahead of the game.</p>\n\n<p>Thanks!</p>\n"},{"tags":["c#","database","xeround"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12754817,"title":"connecting a C# application to Xeround cloud Database","body":"<p>Hello I am trying to connect my c# application I used this code I found on net but it doest seem to work here is the code</p>\n\n<pre><code>SqlConnection myConnection = new SqlConnection(\"user id=ayoya;\" +\n                                   \"password=12333;\" + \n                                    \"server=instance28181.db.xeround.com:18422;\" +\n                                   \"Trusted_Connection=yes;\" +\n                                   \"database=salam;\" +\n                                   \"connection timeout=30;\");\n        try\n        {\n            myConnection.Open();\n\n        }\n        catch (Exception a)\n        {\n            Console.WriteLine(a.ToString());\n            MessageBox.Show(\"Failed\");\n        }\n</code></pre>\n\n<p>can someone please tell me where I went wrong?</p>\n"},{"tags":["database","vba","ms-access","vb6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":41,"score":-3,"question_id":13252483,"title":"How to Open textfile in two different databases","body":"<p>I'm writing a code to see what the possibilties are by creating a certain text file to and link it to a tabel in MS-access.</p>\n\n<pre><code>Sub Testtxt()\n Open \"C:\\test.txt\" For Output Shared As #1\n  Write #1, \"A1\"\n  Write #1, \"B1\"\n  Write #1, \"C1\"\n  Write #1, \"D1\"\n  Write #1, \"E1\"\n\n Close #1\n End Sub\n</code></pre>\n"},{"tags":["mysql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13242531,"title":"Recommended Database Structure for User's Information","body":"<p>I am trying to figure out how I should go about building my database structure (tables) for user information on my website. The kinds of information that I will be storing (at this time anyways) are:</p>\n\n<ul>\n<li>About Me</li>\n<li>Birthday (January, 1, 1970)</li>\n<li>Sex (Male/Female)</li>\n<li>Interested In: (Male, Female, Both)</li>\n<li>Relationship Status: (Single, In a Relationship, Engaged, Married)</li>\n<li>Website: (mywebsite.com)</li>\n<li>From: (Cupertino, California)</li>\n</ul>\n\n<p>So this is the type of information I will be storing for now. My question basically is, should I have this be one table only? Or would it be better to split the information up depending on what it was (my users have a unique ID which would go along with each table of information, obviously). So I'm not sure if I should have a table exclusively for Birthdays with the columns: userID, Month, Day, Year; or what.</p>\n"},{"tags":["java","database","google-app-engine","simultaneous"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13247492,"title":"Accessing simultaneusly to the database","body":"<p>I`m developing the server side for a mobile app with Google App Engine and JDO in Java, and I have some problems accessing simultaneously to the database.</p>\n\n<p>The app that Im doing is a chat, and when two persons are accessing the database simultaneously, one of the messages is lost. I think that is because the two access are doing before one of them save his changes in the database, and that`s why one of the messages are lost.</p>\n\n<p>Do you know some solution for this? Something like get the access to the same registry in the database and put them in a queue or a stack for accessing lately.</p>\n\n<p>Thanks in advance!</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Conversation.java:</strong></p>\n\n<pre><code>import java.util.LinkedList;\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Conversation \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Long id;\n\n    @Persistent\n    private Long idUser;\n\n    @Persistent(mappedBy = \"conversation\")\n    private LinkedList&lt;Message&gt; messages;\n\n    public Conversation(Long idUser) \n    {\n        this.idUser = idUser;\n\n        messages = new LinkedList&lt;Message&gt;();       \n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Long getIdUser() {\n        return idUser;\n    }\n\n    public LinkedList&lt;Message&gt; getMessages() {\n        return messages;\n    }\n}\n</code></pre>\n\n<p><strong>Message.java:</strong></p>\n\n<pre><code>import javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\nimport com.google.appengine.api.datastore.Key;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Message \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Key id;\n\n    @Persistent\n    private Conversation conversation;\n\n    @Persistent\n    private String text;\n\n    @Persistent\n    private String hour;\n\n    public Message(String text, String hour)\n    {\n        this.text = text;\n        this.hour = hour;\n    }\n\n    public String getText() \n    {\n        return text;\n    }\n\n    public String getHour() \n    {\n        return hour;\n    }\n\n    public Key getId() \n    {\n        return id;\n    }\n\n    public Conversation getConversation() {\n        return conversation;\n    }\n}\n</code></pre>\n\n<p><strong>Save the Messages:</strong></p>\n\n<pre><code>final PersistenceManager persistenceManager = PMF.get().getPersistenceManager();      \n\nString strQuery = \"select from \" + Conversation.class.getName() + \" where id == \" + id;\npersistenceManager.getFetchPlan().setGroup(FetchGroup.ALL);\nfinal Query query = persistenceManager.newQuery(strQuery);\n\ntry \n{\n    List&lt;Conversation&gt; conversations = (List&lt;Conversation&gt;) query.execute;\n\n    Conversation detached = null;\n    detached = persistenceManager.detachCopy(conversations.get(0));\n\n    detached.getMessages().add(message);\n    persistenceManager.makePersistent(detached);\n} finally {\n    persistenceManager.close();\n}\n</code></pre>\n"},{"tags":["android","ios","database","sqlite","couchdb"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13254057,"title":"One to one synchronization of SQLite db between app and server","body":"<p>In my app I have a SQLite DB want to backup to server but what I want is one to one synchronization for off-line backup (e.g. standalone SQLite file instead of a centralized MySQL server, mainly performance reason and I don't need real time query)</p>\n\n<p>Ideally I don't want to upload the database everytime when I need to sync, prefer only sync the changes?</p>\n\n<p>Are there any existing solution for this? (I can consider using other file DB as currently I mainly use SQLite as Key-Value database)</p>\n\n<p>Thanks.</p>\n"},{"tags":["c#",".net","database","oracle","stored-procedures"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13253000,"title":"ORA-06550 wrong number or types of arguments when calling Oracle stored procedure","body":"<pre><code>procedure select_card_transaction(trans_id   nvarchar2,\n                                    usr_id    number,\n                                    Quantity out number) is\n  begin\n    select count(*)\n      into Quantity\n      from user_cards u\n     where u.transaction_id = trans_id\n       and u.user_id = usr_id;\n  end;\n</code></pre>\n\n<p><strong>and Consuming it:</strong></p>\n\n<pre><code>using(var conn = new OracleConnection(Settings.Default.OraWUConnString))\n            { \n                var cmd = conn.CreateCommand();\n                cmd.CommandText = \"for_temporary_testing.select_card_transaction\";\n                cmd.CommandType = CommandType.StoredProcedure;\n\n\n\n                cmd.Parameters.AddWithValue(\"trans_id\", TransactionID);\n                cmd.Parameters.AddWithValue(\"usr_id\", UserID);\n\n                var q = new OracleParameter(\"Quantity\", OracleType.Number);\n                q.Direction = ParameterDirection.Output;\n                cmd.Parameters.Add(q);\n                //cmd.Parameters[0].OracleType = OracleType.NVarChar;\n                //cmd.Parameters[1].OracleType = OracleType.Number; \n\n                conn.Open();\n                var obj = cmd.ExecuteNonQuery();\n\n                conn.Close();\n                return (int)q.Value == 1;\n            }\n</code></pre>\n\n<p>It returns the following error.\nORA-06550 wrong number or types of arguments when calling Oracle stored procedure...\n<strong>ANY IDEA?</strong></p>\n"},{"tags":["mysql","database"],"answer_count":6,"favorite_count":1,"up_vote_count":6,"down_vote_count":1,"view_count":4003,"score":5,"question_id":6924823,"title":"How to recover just deleted rows in mysql?","body":"<p>Is it possible to restore table to last time with data if all data was deleted accidentally.</p>\n"},{"tags":["mysql","sql","database","database-design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13250277,"title":"Designing the database layout for a webshop plugin","body":"<p>I'm working on a webshop plugin for a small Content Management System.</p>\n\n<p>The idea is that a <strong>product</strong> is within a certain <strong>category</strong> (for instance T-shirts). The category determines which <strong>attributes</strong> (for instance Color and Size in case of the T-shirt, or capacity in case of an MP3 player) can apply to the product. Based on those attributes, a product can have multiple <strong>variants</strong>.</p>\n\n<p>In case of the t-shirt, those variants could be:</p>\n\n<ul>\n<li>Small Black</li>\n<li>Medium Black</li>\n<li>Large Black</li>\n<li>Small White</li>\n<li>Medium White</li>\n<li>Large White</li>\n</ul>\n\n<p>This is what I currently have:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FNTlq.png\" alt=\"current database layout\"></p>\n\n<p>Does this make sense? Or can I improve this design?</p>\n\n<p>Second question is, I want to display a list of attributes to provide a way of filtering products. For instance, for attribute Color one should be able to click 'Black', which displays a list of products that</p>\n\n<ul>\n<li>have a row in product_attribute with value 'Black', or</li>\n<li>have a variant with a row in product_variant_attribute with value 'Black'</li>\n</ul>\n\n<p>Would that be possible, and how?</p>\n\n<p>Currently I have the following SQL:</p>\n\n<pre><code>SELECT\n    variant_attr.*,\n    COUNT(DISTINCT prod.id) AS prod_count\nFROM catalog_product_variant_attribute AS variant_attr\nINNER JOIN catalog_product_variant AS variant ON variant.id = variant_attr.variant_id\nINNER JOIN  catalog_product AS prod ON prod.id = variant.product_id\nWHERE variant_attr.attribute_id = 1 AND prod.category_id IN (4,6,7,5,2)\nGROUP BY variant_attr.value ASC\n</code></pre>\n\n<p>1 is the attribute's <code>id</code> and (4,6,7,5,2) are the id's of the current category and all it's children (because if category T-shirts has a parent category Clothing, I want to display all the t-shirts in Clothing as well)</p>\n"},{"tags":["database","time","intervals"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13211432,"title":"Creating an \"anti-botting\" system by adding values into the database","body":"<p>I have no clue on how to make this to work, so I'm just looking for ideas currently, let me explain what I want to make;\nLet's say I have a button named \"click\".\nEverytime I press this button, it adds 1 to the database, so when I have pressed it 10 times, it holds the value \"10\" in the database column named \"clicks\". This is already made though.\nI just need something that can check how fast I was pressing the button the 10 times to make an anti botting system. So I thought that making a column in the database named \"time\" this \"time\" column resets itself every 10 seconds and adds 1 to the column everytime the \"click\" button is pressed. Then I can make something in my PHP script like this:\nIf time > 200 DELETE USER etc.</p>\n\n<p>So if a someone should be able to get the \"time\" column on 200 before it resets itself, it must be a bot pressing since it is not human-like to press that many times in only 10 seconds.</p>\n\n<p>I have read something about TIMESTAMP and INTERVAL but I cannot get it to woth the way I thought. I simply just need a column that will delete all data inside it, after a certain time.</p>\n\n<p>Any suggestions are welcome! \nThanks in advance.</p>\n\n<p>I've come this far with the code:</p>\n\n<pre><code>if (isset($_POST['djahff'])) { // The button\nrequire_once('connectvars.php'); // The DB connection\n    $dbc = mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n    $idsession = $_SESSION['id'];\n    $result = mysqli_query($dbc, \"INSERT INTO pbclickslogin SET cps=1, id='$idsession' ON DUPLICATE KEY UPDATE cps=cps+1\"); // Adding 1 to the column \"cps\" where username=$username\n\n    $data = mysql_query(\"SELECT TIMESTAMPDIFF(SECOND, NOW(), mark) &gt; 10 FROM pbclickslogin WHERE username='$username'\") // Checking if the difference from mark and now is 10 seconds I assume?\n    or die(mysql_error());\nwhile($info = mysql_fetch_array( $data )) {\n$result = mysqli_query($dbc, \"UPDATE pbclickslogin SET cps='0', mark=NOW() WHERE username='$username'\"); // Updating cps and mark because the difference from mark and now was 10 seconds.\n }\n}\n</code></pre>\n\n<p>The site updates everytime the button is pressed, it's a button made with input type \"submit\". </p>\n\n<p>Uhmm I didn't really understand you fully Algomorph but I assume it was because of my code posting mistakes. Sorry I am still new on this forum. Anyway I guess I have an update statement here etc.? Are there still the same problems as you mentioned before?</p>\n\n<p>Ps. Thanks for noticing me about the forum format</p>\n\n<p>I have now added a little more code:</p>\n\n<pre><code>if ($info[0] == 1) {\n    $result = mysqli_query($dbc, \"UPDATE pbclickslogin SET cps='0', mark=NOW() WHERE username='$username'\"); // Updating cps and mark because the difference from mark and now was 10 seconds.\n}\n</code></pre>\n\n<p>The code however, never Update now. I tried with ($info['0'] == 1) aswell but with no luck unfortunatly. Besides that I don't really understand this now, what is $info[0]? Is it finding something inside the database that is 0 or something? I usually only use $info when calling on columns. Thanks again man :)</p>\n\n<p>Another few changes were added, the code we've got now is as followed:</p>\n\n<pre><code>if (isset($_POST['djahff'])) { // The button\n\nrequire_once('connectvars.php'); // The DB connection\n    $dbc = mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n    $idsession = $_SESSION['id'];\n    $result = mysqli_query($dbc, \"INSERT INTO pbclickslogin SET cps=1, id='$idsession' ON DUPLICATE KEY UPDATE cps=cps+1\"); // Adding 1 to the column \"cps\" where username=$username\n\n    $data = mysql_query(\"SELECT TIMESTAMPDIFF(SECOND, mark, NOW() ) &gt; 10 FROM pbclickslogin WHERE id='$idsession';\") // Checking if the difference from mark and now is 10 seconds I assume?\n    or die(mysql_error());\nwhile($info = mysql_fetch_array( $data )) {\nif ($info[0] == 1) {\n    $result = mysqli_query($dbc, \"UPDATE pbclickslogin SET cps='0', mark=NOW() WHERE id='$idsession'\"); // Updating cps and mark because the difference from mark and now was 10 seconds.\n}\n }\n}\n</code></pre>\n\n<p>to Algomorph: Why did you change NOW() ) > 10 to NOW() ) > 1000 by the way? \nPlus: The problem I am having at the moment is that when I press the button \"djahff\" it updates the timestamp \"mark\" but not the integer \"cps\". </p>\n\n<p>Thanks :-) - We're getting closer!</p>\n"},{"tags":["android","iphone","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13243792,"title":"storing sqlite database online","body":"<p>Previously, I developed an application with an internal sqlite database stored. \nNow I need to upload that database in an online server so that admins can easily modify the contents.</p>\n\n<p>Is it possible for my app to access/use the sqlite database online?</p>\n\n<p>The application is done on both ios and android. </p>\n"},{"tags":["java","database","listener"],"answer_count":4,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":154,"score":6,"question_id":12618915,"title":"How to implement a db listener in Java","body":"<p>I have a requirement where if a record is inserted in a db table , then automatically a java process needs to be executed.What is the easiest way to implement a db listener ?</p>\n"},{"tags":["c#","database","visual-studio","sqlite","windows-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13228990,"title":"Open database in Visual Studio (Windows Mobile)","body":"<p>I try to open a database with Visual Studio 2008 but I have a error: no such table. </p>\n\n<p>I created database with SQLiteAdmin and I added to project (View -> Server Explorer -> Data Connections -> Add -> SQLiteDatabaseSource)</p>\n\n<p>Moreover, this database (myDatabase.sqlite) is in the folder of the project and the query: \"SELECT Descripcion FROM Productos\" in a SQLiteAdmin is OK.</p>\n\n<p>I tried to change the path of Data Source but the error continues.</p>\n\n<p>Sorry for my english. Thanks!!!</p>\n\n<pre><code>   string myConnString = \"Data Source = myDatabase.sqlite\";\n   string mySelectQuery = \"SELECT Descripcion FROM Productos\";\n   SQLiteConnection sqConnection = new SQLiteConnection(myConnString);\n   SQLiteCommand sqCommand = new SQLiteCommand(mySelectQuery, sqConnection);\n   sqConnection.Open();\n\n   try\n   {\n       SQLiteDataReader sqReader = sqCommand.ExecuteReader(); //ERROR in run ###\n\n       while (sqReader.Read())\n       {\n            Console.WriteLine(sqReader.GetInt32(0) + \", \" + sqReader.GetString(sqReader.GetOrdinal(\"Descripcion\")));\n       }\n\n            sqReader.Close();\n\n    }\n\n    finally\n    {\n            sqConnection.Close();\n    }\n</code></pre>\n"},{"tags":["java","database","provider"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13251371,"title":"SQL Provider with Java","body":"<p>i am about to create a project where i want to have a class that connects my application with a database.</p>\n\n<p>i want to do this in the best object orientated way. And follow the Solid principles!</p>\n\n<p>My question to you is:</p>\n\n<p>is it ever smart to devide your Provider up into sub classes for example a subclass that gets information from the database and a sub class that can insert data into the database? or do you keep these functionailitys in one huge class?</p>\n"},{"tags":["database","performance","plsql","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13251545,"title":"PLSQL block takes very long time to declare a cursor","body":"<p>I'm executing a PL/SQL blocks that updates some rows from an explicit cursor. The code to declare the cursor is the following:    </p>\n\n<pre><code>cursor DUP_SUBJECTS is  \n  select * \n    from ODS_SUBJECT_D  \n   WHERE SUBJECT_COD = ANY (SELECT SUBJECT_COD  \n                              FROM ODS_SUBJECT_D  \n                             WHERE END_DATE = TO_DATE ('31-12-9999','DD-MM-YYYY')   \n                             GROUP BY SUBJECT_COD, ROW_TYPE_DE  \n                            HAVING COUNT(*) &gt; 1)  \n   ORDER BY SUBJECT_COD, START_DATE; \n</code></pre>\n\n<p>The first statement in the body is a <code>DBMS_OUTPUT.PUT_LINE</code> in order to notify when it starts to executing the block. The query in the above script returns 20000 rows out of 2900000 rows in the table. It seems to take very long time in the declaration block of the script (after 30 minutes it does not print the message yet).<br>\nAny suggestion to optimize the performances of the script?  </p>\n\n<p>Thanks,<br>\nAntonio</p>\n"},{"tags":["database","database-design","relational-database"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13242188,"title":"Boyce-Codd normal form with circular functional dependencies","body":"<p>In relational database design, For example, there is schema S(banker, bname, customer) and function dependencies (FDs)</p>\n\n<p>banker->bname\ncustomer,bname->banker</p>\n\n<p>Is schema S in BCNF? Or it should be:\n(banker, bname) and (customer, banker)</p>\n"},{"tags":["php","mysql","database","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13241786,"title":"How to Insert info to the database","body":"<p>Sorry for the long post. I got the index.html to work with the quiz1.php, but I can't get the questions and checkbox to work right meaning be inserted to the database with the other info from the index.html. It should insert the info from index.html and the info from quiz1.php. Need help getting this to work. </p>\n\n<p>This is what I have done so far.</p>\n\n<p>Form (index.html) First page (Gets the person info)</p>\n\n<pre><code>&lt;form action=\"quiz1.php\" method=\"post\"&gt;\n    Full Name: &lt;input type=\"text\" name=\"full_name\" /&gt;\n    Quiz Name: &lt;input type=\"text\" name=\"quiz_name\" /&gt;\n    Class Name: &lt;input type=\"text\" name=\"class_name\" /&gt;\n    Date: &lt;input type=\"text\" name=\"quiz_taken\" /&gt;\n    &lt;input type=\"submit\" value=\"Submit\" class=\"flashit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Quiz (quiz1.php) Second page (Puts the info from the index.html on the top)</p>\n\n<pre><code>&lt;?php\n// info from index.html\n$_SESSION['full_name']  = $_POST['full_name'];\n$_SESSION['quiz_name']  = $_POST['quiz_name'];\n$_SESSION['class_name'] = $_POST['class_name'];\n$_SESSION['quiz_taken'] = $_POST['quiz_taken'];\n\necho $_SESSION['full_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['quiz_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['class_name'];\necho \"&lt;br /&gt;\";\necho $_SESSION['quiz_taken'];\necho \"&lt;br /&gt;\";\necho \"&lt;br /&gt;\";\n\n?&gt;\n\n// quiz info\n\n&lt;?php\n\n$db_host = \"localhost\"; \n// Place the username for the MySQL database here \n$db_username = \"root\";  \n// Place the password for the MySQL database here \n$db_pass = \"\";  \n// Place the name for the MySQL database here \n$db_name = \"test\"; \n\n// Run the actual connection here  \nmysql_connect(\"$db_host\",\"$db_username\",\"$db_pass\") or die (\"could not connect to mysql\");\nmysql_select_db(\"$db_name\") or die (\"no database\");\n\n//retreive questions from database and put into question box\n$query2 = \"SELECT `id`, `question`, `aee`, `bee`, \"\n        . \"`cee`, `dee`, `quizAnswer` FROM `quiz1question`\";\n\n$question2    = mysql_query($query2);\n$answerFields = array(\n                    'aee'=&gt;'aee', \n                    'bee'=&gt;'bee', \n                    'cee'=&gt;'cee', \n                    'dee'=&gt;'dee'\n                );\n\nwhile ($row = mysql_fetch_array($question2))\n{\n\n    $id         = $row['id'];\n    $question   = $row['question'];\n\n    echo '&lt;form action=\"insert.php\" method=\"post\"&gt;';\n\n    // Print Question\n    printf('&lt;div id=\"ContainerQuestion\"&gt;');\n    printf('&lt;span class=\"Question\"&gt;%s. %s&lt;/span&gt;', $id, $question);\n\n    // Print Answers\n    foreach ($answerFields as $field=&gt;$ans)\n    {\n        if (array_key_exists($field, $row) &amp;&amp; $row[$field])\n        {\n            $checked = ($row[\"quizAnswer\"] == $ans) ? 'checked' : '';\n            printf(\n                '&lt;p&gt;&lt;input type=\"checkbox\" name=\"%s\" %s value=\"%s\"&gt;%s&lt;/p&gt;', \n                $id, \n                $checked, \n                $ans, \n                $row[$field]\n            );\n        }\n    }\n}\n\n echo '&lt;input type=\"submit\" value=\"Submit Quiz\"&gt;&lt;/form&gt;';\n\n?&gt;\n</code></pre>\n\n<p>results (insert.php) Third page (Input the info from page one and two to the database)</p>\n\n<pre><code>&lt;?php \n\n$localhost = \"localhost\";\n$username  = \"root\";\n$password  = \"\";\n$database  = \"test\";\n$table     = \"quiz_results\";\n\nmysql_connect(\"$localhost\",\"$username\",\"$password\") or die(mysql_error());\nmysql_select_db(\"$database\") or die(mysql_error());\n\n// question &amp; answers\n$mysql1 = \"INSERT INTO $table (question, aee, bee, cee, dee) \"\n        . \"VALUES ('$_POST[question]','$_POST[aee]',\"\n        . \"'$_POST[bee]','$_POST[cee]','$_POST[dee]')\";\n\nif(!mysql_query($mysql1)) \n{\n    die(mysql_error());\n}\n\n// insert Name, quiz name, class name, and quiz taken \n$mysql = \"INSERT INTO $table (full_name, quiz_name, class_name, quiz_taken) \"\n       . \"VALUES ('$_POST[full_name]','$_POST[quiz_name]',\"\n       . \"'$_POST[class_name]','$_POST[quiz_taken]')\";\n\nif(!mysql_query($mysql))\n{\n    die(mysql_error());\n}\n\n// echo\necho\"Thank you!\"; // mysql1\necho \"&lt;br /&gt;\";\necho\"Your Quiz has been Inserted\"; // mysql\n\nmysql_close();\n\n?&gt;\n</code></pre>\n"},{"tags":["c#","sql","sql-server","database"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13251809,"title":"how to re-order IDs after deleting a row in database","body":"<p>Im using C# to make program that has a sql database, in the database I have a table named <code>Workers</code>, it has an auto increament and Primary key <code>ID_column</code>, when I delete a record the IDs will have a gap between each other.</p>\n\n<p>what should I do re-order the IDs after deleting a record??</p>\n\n<p>UPDATE</p>\n\n<p>what i am going to do is to display the record on the screen after finding it,\nso I tried to do that using the <code>ID</code> but it make some exception because of these gaps !!</p>\n\n<p>UPDATE 2</p>\n\n<p>this is the code I tried to use</p>\n\n<pre><code>private void btnFind_Click(object sender, EventArgs e)\n    {\n        string searchFor = \"\";\n        string searchOn = \"\";\n        string searchString = \"\";\n        int results = 0;\n\n        if (searchTextBox.Text.Trim() == \"\")\n            MessageBox.Show(\"Nothing to search for\");\n\n        if (cb1.Text == \"Last Name\")\n        {\n            searchFor = searchTextBox.Text.Trim();\n            searchOn = \"last_Name=\";\n            searchString = searchOn + \"'\" + searchFor + \"'\";\n        }\n\n        if (cb1.Text == \"Job Title\")\n        {\n            searchFor = searchTextBox.Text.Trim();\n            searchOn = \"job_Title=\";\n            searchString = searchOn + \"'\" + searchFor + \"'\";\n        }\n\n        DataRow[] returnedRows;\n\n        returnedRows = ds1.Tables[\"Workers\"].Select(searchString);\n\n        results = returnedRows.Length;\n\n        if (results &gt; 0)\n        {\n            DataRow dr1;\n\n            dr1 = returnedRows[0];\n            inc = (int)dr1[\"Worker_ID\"]-1;\n\n            NavigateRecords();\n\n        }\n        else\n        {\n            MessageBox.Show(\"No such Record\");\n        }\n\n    }\n</code></pre>\n\n<p><code>inc</code> is the currently displayed record and <code>NavigateRecords()</code> is do display the recored with the giving number <code>inc</code></p>\n\n<pre><code>void NavigateRecords()\n    {\n        DataRow dRow = ds1.Tables[\"Workers\"].Rows[inc];\n\n        textBox1.Text =  dRow.ItemArray.GetValue(1).ToString();\n        textBox2.Text =  dRow.ItemArray.GetValue(2).ToString();\n        textBox3.Text =  dRow.ItemArray.GetValue(3).ToString();\n    }\n</code></pre>\n"},{"tags":["c#","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13251425,"title":"SQL query returns wrong result because of ä","body":"<p>I have an item in db with this content:</p>\n\n<pre><code>B &amp;amp; b / v (st&amp;auml;rrfood) - 1,0l\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>var item = (from x in db.tblMyTable where x.item_name == \"B &amp; b / v (stärrfood) - 1,0l\" select x).First();\n</code></pre>\n\n<p>returns that there is no such item. I think it's because of the ä. What to do?</p>\n"},{"tags":["database","database-design","data-structures"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13229992,"title":"Database structure for dynamic requirements","body":"<p>In our Ticket System, as per varying requirements of tickets, we need varying table structure to store different type of fields for each type of ticket. e.g. Ticket for customer complain for a product, requires customer no. and product id but Ticket for simple inquiry doesn't require product id. Some type of ticket may not require Customer no. also. </p>\n\n<p>We also need Analytic and Reporting features for this system which includes such dynamic details like product detail and customer details.</p>\n\n<p>As a solution, I've thought of Non-SQL DB (Cassandra here), which could support dynamic DB structure and improves efficiency for analytic and reporting functionality. But I've not used any Non-SQL DB before, so I'm not very sure for this solution.</p>\n\n<p>Can anybody suggest any better solution or give some light on thought of Non-SQL solution for this problem?</p>\n"},{"tags":["mysql","database","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13249860,"title":"GWT DataBase implementation","body":"<p>I'm new to GWT. Someone please help me out to figure out how to connect database(preferably MySQL) and use it... </p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["php","jquery","database","web-site-project"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13249282,"title":"send data on button click from javascript to database","body":"<p>So I have a php page that gets data from database and displays a table. Each td symbolises a seat in a movie theater. What i want to do is when a user clicks on one or more tds, and clicks send, the Status column for each td in the database changes to 1 from 0(default). And next time the database is accessed, the td's with status=1 have a different color.\nMy code uptil now is:</p>\n\n<pre><code>    &lt;div id=\"screen\"&gt;SCREEN&lt;/div&gt;\n&lt;div id=\"Seatings\"&gt;\n    &lt;?php echo \"&lt;table border='1'&gt;\n        &lt;tr&gt;\n        &lt;th&gt;Seating&lt;/th&gt;\n        &lt;/tr&gt;\";\n        $count=0;\n    echo \"&lt;tr&gt;\";\n    echo\"&lt;td id='Seat_rn'&gt;A&lt;/td&gt;\";\n    while($row = mysql_fetch_array($sql))\n    {\n\n        if($count&lt;10){\n        echo \"&lt;td id='Seat_A' class='count'&gt;\" . $row['Seat'] . \"&lt;/td&gt;\";  \n        }\n    $count++;\n    }   \n    echo \"&lt;/tr&gt;\";\n   $sql=mysql_query(\"SELECT * FROM Seating_para_20 Where Seat &gt; '10'\");\n   echo \"&lt;tr&gt;\";\n   echo\"&lt;td id='Seat_rn'&gt;B&lt;/td&gt;\";\n   while($row = mysql_fetch_array($sql))\n   {\n      if($count&gt;=10){\n       echo \"&lt;td id='Seat_B' class='count'&gt;\" . $row['Seat'] . \"&lt;/td&gt;\";  \n      }\n   $count++;\n   }\n   echo\"&lt;/tr&gt;\";\n   echo \"&lt;/table&gt;\";\n   ?&gt;\n&lt;/div&gt;\n&lt;input type=\"button\" value=\"Done\" name=\"done\" onclick=\"window.close()\"&gt; \n</code></pre>\n\n<p>My jquery code is:</p>\n\n<pre><code>        $(\"td #Seat_A\").click(function(){\n    $(this).css(\"background\", \"red\");\n        });\n        $(\"td #Seat_B\").click(function(){\n    $(this).css(\"background\", \"red\");\n        });\n        $(document.\"done\").click(function(){\n    alert(price:750 Baht);\n        }) \n</code></pre>\n\n<p>I am nowhere near what i want and I'm sorry if any of my code is \"amatuer-ish\" but I am new to this and I have been trying very hard. Would appreciate any help that I can get. </p>\n"},{"tags":["mysql","database","database-design","primary-key","relational-database"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":312,"score":0,"question_id":8852758,"title":"Should one generate a unique id for each row in a database table that otherwise has no unique keys?","body":"<p>I'm designing a MySQL database for a startup working with patient medical records. I have several tables that can have no unique keys: medical conditions, allergies, family history, etc. For example the <code>medications</code> table might have fields <code>patient_id</code>, <code>med_name</code>, <code>usage_dates</code>, <code>dosage</code>, <code>reason</code>, etc. The only guaranteed unique key is all of the fields together.</p>\n\n<p>A web application can easily retrieve this data for a given patient by selecting for <code>patient_id</code>, but unless it is possible to save pointers to rows inside a database with multiple users, it strikes me as a clumsy system for editing or deleting rows in this table. The DBMS would have to select for each field's value in order to find the correct row. From what (little) I know about databases, I imagine this could be inefficient in a large database.</p>\n\n<p>Would it be more efficient to create a new field with an ID number to function as a primary key in each of these tables, or is the DBMS way smarter than me and this is totally unnecessary?</p>\n"},{"tags":["java","database","hibernate","revision","hibernate-envers"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13235093,"title":"Hibernate Envers dont create revisions","body":"<p>I have a problem with hibernate envers. I added the eventlisteners and I added the @Audited Annotation, but when I change the name (or anything else) there are no revisions in the database created. I hope you can help me. </p>\n\n<p>This is the Main class where I build the session etc.</p>\n\n<pre><code>import org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.hibernate.service.ServiceRegistryBuilder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n\n        Configuration configuration = new Configuration().configure();\n        ServiceRegistryBuilder registry = new ServiceRegistryBuilder();\n        registry.applySettings(configuration.getProperties());\n        ServiceRegistry serviceRegistry = registry.buildServiceRegistry();\n        SessionFactory sessionFactory = configuration\n                .buildSessionFactory(serviceRegistry);\n        Session session = sessionFactory.openSession();\n\n        Address address1 = new Address();\n        address1.setStreetName(\"Privet Drive\");\n        address1.setHouseNumber(4);\n        Person person1 = new Person();\n\n\n        person1.setName(\"Hi\");\n        person1.setSurname(\"test\");\n        person1.setAddress(address1);\n\n        session.beginTransaction();\n        session.persist(person1);\n        session.persist(address1);\n        session.getTransaction().commit();\n\n        person1.setName(\"Hans\");\n\n        session.beginTransaction();\n        session.persist(person1);\n        session.persist(address1);\n        session.getTransaction().commit();\n\n        session.close();\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here the Person class: </p>\n\n<pre><code>package Main;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\n\nimport org.hibernate.envers.Audited;\nimport org.hibernate.envers.RevisionEntity;\nimport org.hibernate.envers.RevisionNumber;\nimport org.hibernate.envers.RevisionTimestamp;\n\n@Entity\n@Table(name=\"PERSON\")\n@Audited\npublic class Person{\n    @Id\n    @GeneratedValue\n    @RevisionNumber\n    private int id;\n\n    private String name;\n\n    private String surname;\n\n    private String username;\n\n    @ManyToOne\n    private Address address;\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n}\n</code></pre>\n\n<p>The adress:</p>\n\n<pre><code>package Main;\n\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\nimport org.hibernate.envers.Audited;\n\n@Entity\n@Table(name=\"ADDRESS\")\n@Audited\npublic class Address {\n    @Id\n    @GeneratedValue\n    private int id;\n\n    private String streetName;\n\n    private Integer houseNumber;\n\n    private Integer flatNumber;\n\n    @OneToMany(mappedBy = \"address\")\n    private Set&lt;Person&gt; persons;\n\n    public int getId() {\n        return id;\n    }\n\n    public String getStreetName() {\n        return streetName;\n    }\n\n    public Integer getHouseNumber() {\n        return houseNumber;\n    }\n\n    public Integer getFlatNumber() {\n        return flatNumber;\n    }\n\n    public Set&lt;Person&gt; getPersons() {\n        return persons;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setStreetName(String streetName) {\n        this.streetName = streetName;\n    }\n\n    public void setHouseNumber(Integer houseNumber) {\n        this.houseNumber = houseNumber;\n    }\n\n    public void setFlatNumber(Integer flatNumber) {\n        this.flatNumber = flatNumber;\n    }\n\n    public void setPersons(Set&lt;Person&gt; persons) {\n        this.persons = persons;\n    }\n\n\n}\n</code></pre>\n\n<p>And my hibernate.cfg.xml: </p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;\n            jdbc:mysql://localhost:3306/hwdb2&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;property name=\"hibernate.ejb.event.post-insert\"&gt;org.hibernate.ejb.event.EJB3PostInsertEventListener,org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n        &lt;property name=\"hibernate.ejb.event.post-update\"&gt;org.hibernate.ejb.event.EJB3PostUpdateEventListener,org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n        &lt;property name=\"hibernate.ejb.event.post-delete\"&gt;org.hibernate.ejb.event.EJB3PostDeleteEventListener,org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n        &lt;property name=\"hibernate.ejb.event.pre-collection-update\"&gt;org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n        &lt;property name=\"hibernate.ejb.event.pre-collection-remove\"&gt;org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n        &lt;property name=\"hibernate.ejb.event.post-collection-recreate\"&gt;org.hibernate.envers.event.AuditEventListener&lt;/property&gt;\n\n\n        &lt;!-- Mapping files --&gt;\n        &lt;mapping class=\"Main.Person\" /&gt;\n        &lt;mapping class=\"Main.Address\" /&gt;\n        &lt;mapping class=\"Main.ExampleListener\" /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>I hope you have a solution for me. Many thanks!</p>\n"},{"tags":["android","database","date","time"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13249343,"title":"compare current system date&time with date that is stored in data&time base in android","body":"<p>how to compare current system time with time that is stored in data base in android?\ni use this code:</p>\n\n<pre><code> public static long s ;\n.\n.\n.\n.\n\nTime now = new Time();\n now.setToNow();\nString query = \"SELECT Cart_ID,Cart_Date from Tbl_Cart where Cart_ID=\"+lastId+\" \";\n         // String queryt = \"SELECT Cart_Date from Tbl_Cart where Cart_ID=\"+lastId+\" \";\n          Cursor c = db.rawQuery(query, null);\n           if (c != null &amp;&amp; c.moveToFirst() ) {\n               s = c.getLong(0);\n\n\n           }\n\n          if(s==now.setToNow())\n{\n...\n}\n</code></pre>\n"},{"tags":["android","database","sqlite","cursor"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13249129,"title":"close() the cursor and DB when use the sqlite database","body":"<p>In my application I use the <code>sqlite Database</code>,When I run the application Logcat display me </p>\n\n<pre><code>close() was never explicitly called on database '/data/data/com.MAT.CanadaImmigrationApp/databases/CanadaianImmigrationApp' \nE/Database(13822): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n</code></pre>\n\n<p>I search on google and I found </p>\n\n<pre><code>db.close();  // to close your Database,\ncur.close();     //to close your cursor\n</code></pre>\n\n<p>But I don't get the idea where I add this code?</p>\n\n<p><strong>DbHelper.class</strong></p>\n\n<pre><code>public class DbHelper extends SQLiteOpenHelper {\n// Database attributes\n\npublic static final String DB_NAME = \"DB_NAME\";\npublic static final int DB_VERSION = 1;\n\npublic static final String TABLE_QUESTIONS = \"Questions_Answers\";\npublic static final String COLUMN_CHAPTERS = \"Chapters\";\npublic static final String COLUMN_QUESTIONS = \"Question\";\npublic static final String COLUMN_CORRECT_ANSWER = \"Correct_Answer\";\npublic static final String COLUMN_OPT1 = \"Answer1\";\npublic static final String COLUMN_OPT2 = \"Answer2\";\npublic static final String COLUMN_OPT3 = \"Answer3\";\n\npublic DbHelper(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n\n    String createTable = \"create table if not exists \" + TABLE_QUESTIONS + \" ( \" + BaseColumns._ID + \" integer primary key autoincrement, \" \n                                                            + COLUMN_CHAPTERS + \" text not null, \"\n                                                            + COLUMN_QUESTIONS + \" text not null, \"\n                                                            + COLUMN_CORRECT_ANSWER + \" text not null, \"\n                                                            + COLUMN_OPT1 + \" text not null, \"\n                                                            + COLUMN_OPT2 + \" text not null, \"\n                                                            + COLUMN_OPT3 + \" text not null);\";\n\n    // Execute a single SQL statement that is NOT a SELECT or any other SQL statement that returns data.\n    db.execSQL(createTable);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \"+ TABLE_QUESTIONS);\n    onCreate(db);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Db_Adapter.class</strong></p>\n\n<pre><code> public class Db_Adapter  {\n\npublic static final String TABLE_QUESTIONS = \"Questions_Answers\";\npublic static final String COLUMN_CHAPTERS = \"Chapters\";\npublic static final String COLUMN_QUESTIONS = \"Question\";\npublic static final String COLUMN_CORRECT_ANSWER = \"Correct_Answer\";\npublic static final String COLUMN_OPT1 = \"Answer1\";\npublic static final String COLUMN_OPT2 = \"Answer2\";\npublic static final String COLUMN_OPT3 = \"Answer3\";\n\n\npublic static  SQLiteDatabase databasesql;\nprivate  DbHelper Android_OpenDb_Helper;\nprivate   Context mycontext;\n\npublic static List&lt;String&gt; question_Set;\npublic static List&lt;String&gt; Answers_Set;\npublic static List&lt;String&gt; Option1;\npublic static List&lt;String&gt; Option2;\npublic static List&lt;String&gt; Option3;\n\n\npublic Db_Adapter( Context context)\n{\n    this.mycontext =context;\n}\npublic void close() {\n    Android_OpenDb_Helper.close();\n  }\n\npublic DbHelper createDatabase()\n{\n    Android_OpenDb_Helper = new DbHelper(mycontext);\n    databasesql = Android_OpenDb_Helper.getWritableDatabase();\n    return Android_OpenDb_Helper;\n\n} \n\npublic long addToDB(String chapters, String question,\n        String correctAnswer, String answer1, String answer2, String answer3)\n{\n    return databasesql.insert(TABLE_QUESTIONS,null, createContentValues(chapters,question,correctAnswer,answer1,answer2,answer3));\n} \n\n  private ContentValues createContentValues(String chapters, String question,\n        String correctAnswer, String answer1, String answer2, String answer3)\n{\n    ContentValues myContentVal =  new ContentValues();\n    myContentVal.put(COLUMN_CHAPTERS, chapters);\n    myContentVal.put(COLUMN_QUESTIONS, question);\n    myContentVal.put(COLUMN_CORRECT_ANSWER, correctAnswer);\n    myContentVal.put(COLUMN_OPT1, answer1);\n    myContentVal.put(COLUMN_OPT2, answer2);\n    myContentVal.put(COLUMN_OPT3, answer3);\n\n\n    return myContentVal;\n} \n\npublic Cursor readData()\n{\n    return databasesql.query(TABLE_QUESTIONS, new String[]{COLUMN_CHAPTERS,COLUMN_QUESTIONS,COLUMN_CORRECT_ANSWER,COLUMN_OPT1,COLUMN_OPT2,COLUMN_OPT3}, null, null, null, null, null);\n}\n\npublic Cursor getQuestion()\n{\n    return databasesql.query(TABLE_QUESTIONS, new String[]{COLUMN_QUESTIONS}, null, null, null, null, null); \n}\n\npublic Cursor getQuizQuestions(int numQ)\n{\n    return databasesql.rawQuery(\n            \"select * from \"+ TABLE_QUESTIONS +\" ORDER BY RANDOM() LIMIT \"\n                    + numQ, null);\n}\n\npublic List&lt;String&gt; getQuestions(String difficulty) {\n\n    question_Set = new ArrayList&lt;String&gt;();\n    Answers_Set = new ArrayList&lt;String&gt;();\n\n    Option1= new ArrayList&lt;String&gt;();\n    Option2 = new ArrayList&lt;String&gt;();\n    Option3 = new ArrayList&lt;String&gt;();\n\n\n\n    Cursor c = databasesql.rawQuery(\n            \"select * from \"+TABLE_QUESTIONS+\" where CHAPTERS = ?\",\n            new String[] { difficulty });\n\n    while (c.moveToNext()) {\n\n        question_Set.add(c.getString(2).trim());\n        Answers_Set.add(c.getString(3).trim());\n        Option1.add(c.getString(4).trim());\n        Option2.add(c.getString(5).trim());\n        Option3.add(c.getString(6).trim());\n\n\n    }\n\n    return question_Set;\n} \n\npublic int DropTable()\n{\n\n    return databasesql.delete(TABLE_QUESTIONS, null, null);\n} \n\n}\n</code></pre>\n\n<p>And I am call this methods like:</p>\n\n<p>For get question :</p>\n\n<pre><code>Cursor cursor = DB_Adapter.getQuestion();     \n</code></pre>\n\n<p>For get insert :</p>\n\n<pre><code>DB_Adapter.addToDB(Chapters,Question,CorrectAnswer,Answer1,Answer2,Answer3);\n</code></pre>\n\n<p>Please let me know where should I add the <strong><code>db.close();</code></strong>  and  <strong><code>cur.close();</code></strong></p>\n\n<p>Thanks.</p>\n"},{"tags":["sql","database","query","postgresql","geospatial"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13249348,"title":"Extrude 2d polygon into 3d polygon","body":"<p>I am using postgresql and I have a table containing 2d polygons. Now my question is how can I extrude this polygon into a nice 3d building.? </p>\n\n<p>Can anyone help please? because I couldn't find a good tutorial on it.</p>\n\n<p>Many thanks</p>\n"},{"tags":["iphone","database","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13247283,"title":"Delete all the records in table in iphone sdk with sqlite3","body":"<p><strong>EDITED:-</strong> This is what i had implements:-</p>\n\n<pre><code>- (void) Delete_LoginData {\n    sqlite3 *database;\n    if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK)\n    {\n        const char *sql = \"DELETE FROM Login\";\n        sqlite3_stmt *statement;\n        if(sqlite3_prepare_v2(database, sql,-1, &amp;statement, NULL) == SQLITE_OK)\n        {\n            sqlite3_reset(statement);\n        }       \n    }\n}\n</code></pre>\n\n<p>I want to delete all the rows from the database in one click.I had implemented the below methods:-</p>\n\n<pre><code>- (void) Delete_LoginData {\n        sqlite3 *database;\n        if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK) {\n            const char *sql = \"DELETE * FROM Login\";\n            sqlite3_stmt *statement;\n\n            statement = [self PrepareStatement:sql];    \n          //  int a1 = sqlite3_bind_int(statement, 1, 1);\n\n            sqlite3_step(statement);\n            sqlite3_reset(statement);\n        }       \n    }\n\n    -(sqlite3_stmt*) PrepareStatement:(const char *)sql{\n        // Setup the database object\n        sqlite3 *database;\n        // Init the animals Array\n\n        // Open the database from the users filessytem\n        if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK) {\n            // Setup the SQL Statement and compile it for faster access\n            const char *sqlStatement = sql;\n            sqlite3_stmt *compiledStatement;\n\n            if(sqlite3_prepare_v2(database, sqlStatement,-1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n                //NSLog(@\"COMPILED STATEMENT: %@\",compiledStatement);\n                return compiledStatement;\n\n            }\n        }\n        return nil;\n    }\n</code></pre>\n\n<p>But it not working.\nI am getting 0X0 for this statement = [self PrepareStatement:sql];\nin delete_logindata method.</p>\n\n<p>How to solve this.\nIs there any solution regarding this?</p>\n"},{"tags":["c#","database","sql-server-ce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13235527,"title":"How can I update a cell value in a dB table, using SQL Server CE and C# (Visual Studio 2010)","body":"<p>I'm writing a small application for college, a video rental application. I have no problems reading from the database, but I cannot update the data in the tables. </p>\n\n<p>In particular I'm looking to update the cell showing the quantity of a film in stock after someone rents a movie. </p>\n\n<p>So far I've been trying this:</p>\n\n<pre><code>string updateDVDs = \"UPDATE Products SET dvd_quantity = \" + product.Quantity + \" WHERE title = '\"+ product.Name +\"';\";\ncmdUpdateDVDs = new SqlCeCommand(updateDVDs, dBConnection);\ndBConnection.Open();\ncmdUpdateDVDs.ExecuteNonQuery();\ndBConnection.Close();\n</code></pre>\n\n<p>I don't get any errors, but the cell doesn't update in the table. Any help would be greatly appreciated, please let me know if you require further information. </p>\n\n<p><strong>UPDATE:</strong>\nOK, I have some interesting developments, I have updated the code to this:</p>\n\n<pre><code>string updateDVDs = \"UPDATE Products SET dvd_quantity = \" + product.Quantity + \" WHERE title = '\" + product.Name + \"'\";\ndBConnection = new SqlCeConnection(connectionString);\ncmdUpdateDVDs = new SqlCeCommand(updateDVDs, dBConnection);\ncmdUpdateDVDs.Connection.Open();\nint rows = cmdUpdateDVDs.ExecuteNonQuery();\ndBConnection.Close();\n</code></pre>\n\n<p>From what I can tell looking on MSDN both methods are valid, but this second one seems to be working. \nNow the weird bit, I rent the movie 'Die Hard', it all goes swimmingly, I get these results:</p>\n\n<p><img src=\"http://i.stack.imgur.com/KYhcl.png\" alt=\"Database updated\"></p>\n\n<p>All good, There is no way back from this point, so I quit the application and start again. \nI go to rent 'Die Hard' a second time to confirm, and, success!! the new reading on the DVD quantity is 0 as expected:\n<img src=\"http://i.stack.imgur.com/9nGQN.png\" alt=\"DVD quantity successfully updated!\"> </p>\n\n<p>But, when I open the Product table in Visual Studio the original values are still there:\n<img src=\"http://i.stack.imgur.com/AqHbp.png\" alt=\"In Visual Studio the table hasn't updated\"></p>\n\n<p>Not only that, but when I run the application again after opening the table in Visual Studio the DVD quantities are reset to the original values and the updated values are gone. </p>\n\n<p>Am I missing something simple here? I've tried refreshing the table, it doesn't make any difference. \nAs long as I don't open the table in Visual Studio the application behaves as expected, no matter how many times I run it, the values update as expected, until I open the table itself. </p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":35,"score":-4,"question_id":13248419,"title":"Want to store 3:00 AM in MySQL database","body":"<p>I know its a childish question but I m not able to fix it . plz help me out of this.</p>\n\n<p>I want to store </p>\n\n<pre><code>3:00 AM\n</code></pre>\n\n<p>in my database. </p>\n\n<p>I m taking TIME type in database . Thanks In Advance.</p>\n"},{"tags":["mysql","database","query"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13247243,"title":"Regarding query for db2","body":"<p>I have the query, I have the below relationships among the following tables </p>\n\n<pre><code>select * from PRODGP_STRUCTURE\nselect * from PRODGP_STR_LINK\nselect * from PRODUCT_GROUP\nselect * from PROD_PGRP_LINK\nselect * from PRODUCT\n</code></pre>\n\n<p>the relationship is ...</p>\n\n<pre><code>select pstr.PSTR_NAME, PG.PRGP_NAME, PRD.PROD_NAME\nfrom prodgp_structure pstr\nJOIN PRODGP_STR_LINK pgstrlnk\n  ON pgstrlnk.PSTR_ID = pstr.PSTR_ID  \nJOIN PRODUCT_GROUP pg \n  ON pgstrlnk.PRGP_CHILD_ID = PG.PRGP_ID\nJOIN PROD_PGRP_LINK prdprdgp\n  ON prdprdgp.PRGP_ID = pg.PRGP_ID\nJOIN product prd\n  ON prdprdgp.PROD_ID = prd.PROD_ID;\n</code></pre>\n\n<p>I have come up to the following query, </p>\n\n<pre><code>select * from PRODGP_STRUCTURE where pstr_id in \n(select pstr_id from PRODGP_STR_LINK where PRGP_CHILD_ID  in\n(select  prgp_id from PRODUCT_GROUP where PRGP_ID in ( select  PRGP_ID from PROD_PGRP_LINK where PROD_ID in ( select PROD_ID from product where PROD_ID=2))))\n</code></pre>\n\n<p>Please let e know is there any other way to write this query..!!</p>\n"},{"tags":["c#","sql-server","database","backup","restore"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1437,"score":0,"question_id":5984553,"title":"c# express back up/restore database","body":"<p>I am completely lost here and I am running out of time. Let me explain my situation:</p>\n\n<p>I have created a software in C# express 2010 and SQL Server Express 2008 R2.</p>\n\n<p>Now in the settings section of my software, the user is supposed to be able to make manual back ups/restores of the database.</p>\n\n<p>Also he is supposed to be able to schedule back ups of the database, which will run at time that he will set.</p>\n\n<p>I do not have a clue on how to get both of these working and I am hoping that someone here may point me in the correct direction.</p>\n\n<ul>\n<li>I need to be able to create a\nbackup/restore of the database from\nthe click of a button</li>\n<li>I need to be able to schedule backup\nprocesses</li>\n</ul>\n\n<p>Please keep in mind that when the user will install the software on his computer, he will not have sql server installed (I am saying this because I am under the impression that SMO requires sql server to be pre installed on the client machine).</p>\n\n<p>Thank you</p>\n"},{"tags":["database","table","analytics","business","software-tools"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":12,"score":-1,"question_id":13247425,"title":"Top n Clients Accounting for Half of the Total Sales This Year","body":"<p>I have two tables, one is about sales contracts as blow:</p>\n\n<pre><code>ContractNo  SaleDate   Products Quartities Amount  Client Area\n10953       2010-3-21  52       6          1122.00 TOMP   Alaska\n...         ...        ...      ...        ...     ...    ...\n</code></pre>\n\n<p>The other is about the clients:</p>\n\n<pre><code>ID  Name     City   State   Country Salesgoal\nKFI Bon app' Fermi  Alaska  USA     7\n... ...      ...    ...     ...     ...\n</code></pre>\n\n<p>How to get the top n clients accounting for half of the total sales value in 2011?</p>\n"},{"tags":["database","solaris","sync","flush"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":13248124,"title":"Solaris - Synchronous Disk Flush/Synchronous Sync?","body":"<p>What is the best way to do synchronous disk flush on Solaris? I want to flush all disk, not a single file.</p>\n\n<p>Sync() on Solaris (opposite to Linux) works ASYNCHRONOUSLY, I'm looking for SYNCHRONOUS sync() (it returns when it's done)</p>\n\n<p>Consequent question: how to check sync is done properly? How can I write test showing it's done?</p>\n\n<p>Thanks!</p>\n"},{"tags":["database","linux","db2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13234855,"title":"different of DB2 Instance User and DAS User","body":"<p>What is different DB2 Instance user (<em>on my linux machine is : <strong>db2inst1</em></strong>) and DB2 Administration Server User / DAS User (<em>on my linux machine is : <strong>dasusr1</em></strong>) ?</p>\n\n<p>Already search it through google, didn't find any useful information. </p>\n\n<p>When i want create a database, what i should use to create with? <strong>db2inst1</strong> or <strong>dasusr1</strong> ?</p>\n\n<p>and last question, when i run <code>db2sampl</code> (to create database sample) as dasusr1 it will make an error like permission denied, but when run via db2inst1 it worked! why that happens?</p>\n\n<p>(ps : i insert '<code>source /home/db2inst1/sqllib/db2profile</code>' to dasusr1's .bashrc, so i can run <code>db2</code> and <code>db2sampl</code> command with dasusr1)</p>\n\n<p>so confuse about it, any reference about it will be appreciated. Thx for advice :D</p>\n"},{"tags":["c#","database","nosql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13247856,"title":"Solutions (with .NET) for storing billions items: documents, geo data, messages and pictures","body":"<p>I develop something like a specific social network using c#, asp.net, mssql. \nFor a number of tasks i need to store large amounts of data (billions items). </p>\n\n<p>This is my tasks:</p>\n\n<ol>\n<li>Store documents (with support for versioning)</li>\n<li>Store Messages </li>\n<li>Store Pictures</li>\n<li>Store GEO data (saved routes, consisting of any number of geo points)</li>\n</ol>\n\n<p>Which databases can be (and should be) used for such tasks? I'm going to use some of the NoSQL databases and i want to use best practices.</p>\n"},{"tags":["php","ajax","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13247471,"title":"AJAX to get data from the server","body":"<p>A page is sending AJAX call to server and should get item info in response. The array to look-up/return is a rather big one and I can’t hold it in the PHP file to accept the request. So, as far as my knowledge and experience tell, there are 2 methods:</p>\n\n<ol>\n<li>Access database for each request.</li>\n<li>Store items in files (e.g. “item12.txt”) and send contents to the user.</li>\n</ol>\n\n<p>My C experience says that opening and closing a file takes much more system time than the rest of the program. How is it in PHP? What is the preferred method (most importantly, resource-wise) – <strong>file system or database</strong>? Is there any other way you would recommend (e.g. JavaScript directly loading the file with variable array from the server for each request)? <strong>Maybe there’s some innovative method lying around you’re aware of?</strong></p>\n\n<p><em>P.S. On the server-side a number only will be accepted, so no worries regarding someone trying to access files in the server or trying to do some fancy stuff on database.</em></p>\n"},{"tags":["java","sql","database","query"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13247844,"title":"Delete state for sql query","body":"<p>I've met up with some problems regarding to sql statement. I screenshot a photo of tables for you guys to see.</p>\n\n<p><img src=\"http://i.stack.imgur.com/pXzYD.png\" alt=\"Picture delete\"></p>\n\n<p>Okay, so what I'm trying to do here is that i retrieve a parameter from the user, which is '14' in this case. So the query has to link the other foreign keys and delete them off. For this, 'User' table is the \"Parent\" of the other 2 tables which is 'camera' and 'mob_dev'. However, camera can't be deleted as there is another foreign key connected to the table 'camera' which is 'device'. So is there any idea on how I can delete the 4 tables by only inputting a single parameter at 'User' table 'userid'. I tried it by doing this in the controller:</p>\n\n<pre><code>String querycam = \"DELETE FROM ip_camera where user_id =\"  +params.userinput\nString querydevice = \"DELETE FROM mobile_device where user_id =\"  +params.userinput\nString queryvalue = \"DELETE FROM sec_user where id =\"  +params.userinput\n</code></pre>\n\n<p>Or is there a better way for doing this? Thanks in advance to anyone who can solve this :).</p>\n"},{"tags":["c#","database","desktop-application","sql-server-2012"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12981474,"title":"Desktop application cannot connect to database but web application can","body":"<p>I have written a C# desktop (winforms) application which is essentially a clone of a web application I wrote. The web application is able to talk back and forth with the database just fine. However, when I install the desktop application, I get the following error:</p>\n\n<p><em>A network-related or instance-specific error occurred while establishing a connection to SQL Server</em></p>\n\n<p>I am using the exact same connection string in the desktop application as I am using in the web app which looks like this:</p>\n\n<pre><code>\"Data Source=tcp:s08.winhost.com;Initial Catalog=THEDATABASE;\n            User ID=USERNAME;Password=******;Integrated Security=False;\"\n</code></pre>\n\n<p>I am unable to use SQL Server Configuration Manager as my databases are hosted on Winhost.com. However they have made it clear to me that the proper ports are open, named pipes are on and SQL Browser is configured correctly. If anyone has had a similar problem, please let me know what you did to resolve this issue. I have also included the entire error below.</p>\n\n<p>Thanks</p>\n\n<p><code>************** Exception Text **************</code><br>\n<code>System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.) ---&gt; System.ComponentModel.Win32Exception (0x80004005): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond</code></p>\n"},{"tags":["database","tfs","ef-code-first","backup"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13082779,"title":"SQL Server database backup from Team foundation server","body":"<p>I have searched for this but I cant seem to find any information pertaining to backing up a MS SQL server using team foundation server. Is this possible?</p>\n\n<p>Essentially what i would like to do is while in the process of changing the database and then loading the new entity into the application using the entity framework I want to backup the database when I update the entity, So that the two are in sync in the event of some sort of data corruption. </p>\n\n<p>I am thinking that code first is probably the best solution maybe .. not sure.</p>\n"},{"tags":["ruby-on-rails","database","deployment","rake","staging"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3134,"score":4,"question_id":6906715,"title":"clearing rails app database on heroku production site","body":"<p>So I'm new to ROR and Heroku and need a little help. I've created an app and have deployed it; however, I'd like to clear out the database associated with it. Meaning I'd like to clear any users (and their attached data) that have been created thus far.</p>\n\n<p>I've basically created several phony accounts to test out whether the database on the production site works, but now i'd like to clear this out, and start with a fresh database.</p>\n\n<p>Is this possible without deleting the database entirely?</p>\n\n<p>Any help would be sincerely appreciated. Thank you very much for your time!</p>\n"},{"tags":["database","oracle","distributed","materialized-views"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13247720,"title":"Syncing and Updating Database Tables Using Materialized Views","body":"<p>We have a mini-project were we need to implement an oracle (10g) distributed database in such way:</p>\n\n<ul>\n<li>site 1 : database in New York for example, containing table <em>emp1</em>, <em>projects</em>.</li>\n<li>site 2 : database in Paris, containing table <em>emp2</em>, table <em>projects</em> synchronised with site 1's <em>projects</em>.</li>\n<li>site 3 : client for site 1 and site 2, will contain all info on site 1 and\nsite 2 : view <em>emp</em> joining <em>emp1</em> and <em>emp2</em>, view <em>projects</em>. Materialized views are suggested.</li>\n</ul>\n\n<p>We need also to be able to insert data into tables by querying site 3, but that cannot be done with materialized views as the changes won't propagate and will disappear after the first refresh. How can this be done otherwise?\nAlso we're syncing <em>projects</em> using triggers instead of MV, is this a good implementation?</p>\n"},{"tags":["sql","database","web-applications","rdbms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13213706,"title":"Ready web query interface to SQL databases","body":"<p>Do you know any free tool which would constitute a <strong>web-based SQL database generic query interface</strong>, incl.:</p>\n\n<ul>\n<li>(mainly) allowing to type in an SQL query and display the result in some nice way</li>\n<li>the interface should allow for some basic security - allowing only <code>SELECT</code> queries </li>\n<li>the very need is to support MS SQL Server, but Oracle support would be useful</li>\n<li>should run against an existing database instance without any re-configuration needed</li>\n<li>might be simple, no need to browse tables, analyze database columns or anything else you would experience in SQLDeveloper or SQL Server Management Studio</li>\n</ul>\n\n<p>Platform / language / etc. is of second importance.</p>\n"},{"tags":["python","database","algorithm","sets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13246654,"title":"Python finding out sets highest match","body":"<p>I want to make a tool to help me planning the production. </p>\n\n<p>I have table of 2000 products, and roughly 1500 different model plates (I am working in a foundry). Each model plate has up to 10 different (or same) models on it (models = products). When I get the order I break it down and end up with list such as:</p>\n\n<pre><code>product1 = 200\nproduct2 = 500\nproduct3 = 300\n</code></pre>\n\n<p>where productX is code and numbers are needed ammounts.</p>\n\n<p>I'd like to make a tool that would scan through the model plates and find me the plates that have most of the ordered pieces on it. I would also like to do it in Python because I am familiar with it and I have wrote programs that interact with our database before.</p>\n\n<p>Now I hope that I explained it well enough :)</p>\n"},{"tags":["database","entity-relationship","erd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":358,"score":0,"question_id":7524974,"title":"ERD - Entity relationship diagram - complex and tricky relations","body":"<p>Here is the scenario. </p>\n\n<p>Two completely different Entities are independently related to the third entity in the same way. How do we represent it in the ERD? or (Enhanced ER)</p>\n\n<p>Ex: </p>\n\n<ul>\n<li>Student \"BORROWS\" BOOK (from the library)</li>\n<li>DEPARTMENT \"BORROWS\" BOOK (from the same library). </li>\n</ul>\n\n<p>If I define 'BORROWS' relationship twice, it would be awkward and clumsy in terms of appearance in the diagram, and increase the complexity of implementation as well.</p>\n\n<p>At the same time, I can not declare a ternary relationship since STUDENT and DEPARTMENT are not inter-related in a relationship-instance.</p>\n\n<p>However, I couldn't find a better way. </p>\n\n<p>How do I solve it?</p>\n"},{"tags":["database","data","business","software-tools","finance"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13246582,"title":"What tools are more easy to use for interactive data analysis?","body":"<p>There are many tools available for interactive data analytics, like <code>R</code>, <code>Matlab</code>, <code>esProc</code>, <code>SAS</code>, <code>SPSS</code>, <code>Excel</code>, and <code>SQL</code>,etc. But which is more suitable and cost effective for a mid-sized insurance company to analyze the financial data?</p>\n"},{"tags":["android","database","listview"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13232302,"title":"delete data form database?","body":"<p>how can i delete data in database when i click an item in listview? please give me some code to that.\nthis my method to choose item in listview: </p>\n\n<pre><code>listview.setOnItemClickListener(new OnItemClickListener(){\n        public void onItemClick(AdapterView adapterView, View convertView, int position, long id)\n        {\n            AlertDialog.Builder alertDialog = new AlertDialog.Builder(AndroidSpinnerFromSQLiteActivity.this);\n\n\n            alertDialog.setTitle(\"Confirm Delete...\");\n\n\n            alertDialog.setMessage(\"Are you sure you want delete this?\");\n\n\n            alertDialog.setIcon(R.drawable.delete);\n\n\n            alertDialog.setPositiveButton(\"YES\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog,int which) {\n\n\n                        }\n                    });\n\n            alertDialog.setNegativeButton(\"NO\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n\n                        }\n                    });\n\n            alertDialog.show();\n            }\n        });\n    };\n</code></pre>\n\n<p>this my database class:</p>\n\n<p>public class DatabaseHandler extends SQLiteOpenHelper {</p>\n\n<pre><code>private static final int DATABASE_VERSION = 1;\n\n\nprivate static final String DATABASE_NAME = \"spinnerExample\";\n\n\nprivate static final String TABLE_LABELS = \"labels\";\n\n\nprivate static final String KEY_ID = \"id\";\nprivate static final String KEY_NAME = \"name\";\npublic DatabaseHandler(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n    String CREATE_CATEGORIES_TABLE = \"CREATE TABLE \" + TABLE_LABELS + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_NAME + \" TEXT\" +\")\";\n    db.execSQL(CREATE_CATEGORIES_TABLE);\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LABELS);\n\n\n    onCreate(db);\n}\n\n\npublic void insertLabel(String label){\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, label);\n\n\n    db.insert(TABLE_LABELS, null, values);\n    db.close(); \n}\n\n\npublic List&lt;String&gt; getAllLabels(){\n    List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n\n\n    String selectQuery = \"SELECT  * FROM \" + TABLE_LABELS;\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n\n    if (cursor.moveToFirst()) {\n        do {\n            labels.add(cursor.getString(1));\n        } while (cursor.moveToNext());\n    }\n\n\n    cursor.close();\n    db.close();\n\n\n    return labels;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13245750,"title":"How to manage user database when number of choices of user is random","body":"<p>I am creating a small playlist program on VB, which contains adduser, deleteuser and also user can modify its playlist.</p>\n\n<p>My stupid question is, how do I manage user playlist? Consider I am using database, where should I add user? </p>\n\n<ol>\n<li>As a new table in Database?</li>\n<li>As a new Entry in some kind of Table which contains userID, Name and its undefined number of choices?</li>\n</ol>\n\n<p>If I select option 2, what kind of datatype handles a integer set of undefined size?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":304,"score":1,"question_id":5170509,"title":"mysql query not inserting to database","body":"<p>i have a db query in php that is not inserting into database. Have used this format lots of times but for some reason its not working now. any ideas please </p>\n\n<pre><code>    $query = \"INSERT INTO `databasename`.`member_users` (`id`, `first_name`, `last_name`, `username`, `password`, `address1`, `address2`, `postcode`, `access`, `expires`) VALUES (NULL, '$fname', '$lname', '$email', '', '$add1', '$add2', '$postcode', '0', '')\";\n$result = mysql_query($query);\nif($result){\n    echo\"query inserted\";\n\n}else{\n\n    echo \"nope\";\n}\n</code></pre>\n"},{"tags":["mysql","database","linux","windows","mysql-workbench"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13225379,"title":"mysql dump from linux to windows","body":"<p>Good day stack overflow.</p>\n\n<p>I am having problems on importing an sql file to my windows machine. The sql file is from a linux machine. What happens is that the table names from linux are camel cased and when migrated to windows, all becomes lower cased. I don't want to adjust my codes to be able to access my database so is there anyway that I could achieve the camel-cased table names in windows?</p>\n\n<p>Many thanks.</p>\n\n<hr>\n\n<p>From linux table names:\n -> FooBar</p>\n\n<p>When it is imported to mysql workbench in windows:\n -> foobar</p>\n\n<p>the query looks like this:</p>\n\n<pre><code>SELECT * FROM FooBar; // when the program is pointed to the database in windows, it will spit out that the table does not exist because the table name is \"foobar\"\n</code></pre>\n"},{"tags":["android","database","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":58,"score":-2,"question_id":13245191,"title":"Android : How to create database and fetch the data in a list view in Android?","body":"<p>I am new to this site . Will any one tell me How to create Database ?</p>\n\n<p>and How to fetch that data in List View ? </p>\n\n<p>Advance thanks.</p>\n"},{"tags":["database","sqlite"],"answer_count":11,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":5665,"score":7,"question_id":107005,"title":"Predict next auto-inserted row id (SQLite)","body":"<p>I'm trying to find if there is a reliable way (using <a href=\"http://en.wikipedia.org/wiki/SQLite\" rel=\"nofollow\">SQLite</a>) to find the ID of the next row to be inserted, <em>before it gets inserted</em>. I need to use the id for another insert statement, but don't have the option of instantly inserting and getting the next row.</p>\n\n<p>Is predicting the next id as simple as getting the last id and adding one? Is that a guarantee?</p>\n\n<p>Edit: A little more reasoning...\nI can't insert immediately because the insert may end up being canceled by the user. User will make some changes, SQL statements will be stored, and from there the user can either save (inserting all the rows at once), or cancel (not changing anything). In the case of a program crash, the desired functionality is that nothing gets changed.</p>\n"},{"tags":["sql-server","database","oracle","triggers","sybase-ase"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":273,"score":0,"question_id":9639254,"title":"Is it better to have single trigger for Insert/Update/Delete, or multiple?","body":"<p>I have a requirement to mirror insert/update/delete operations from one table to another.\nFor example insert on tableA has to be copied into tableB, update to tableA applied to tableB, and delete from tableA be applied to tableB.\nIt's as simple as that, except tableB has 1 additional column for a constant value, so very simple triggers are needed.</p>\n\n<p>I'm not sure if it is better to write 3 separate triggers, or have one trigger that does all of the operations.</p>\n\n<p>This is for 3 databases: Sybase ASE, MSSQL and Oracle, and I'd like to keep it the solution similar (so either 3 for all databases or 1 for all of them).</p>\n\n<p>Is it just a matter of preference, to have 3 triggers vs. 1, or are there actual benefits to either solution?</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13243626,"title":"Efficient Query, Table Bridge/Indexing and strucuture","body":"<p>In my PhpMyAdmin database I have 9 tables. 8 of those tables are relevant to me at this moment. I would like my queries to be executed quickly enough but I am not sure the design/structure of the tables are the most effecient. Any suggestion of merging a table with another or creating another bridge table?  Also, I am struggling in building a query that will display bridge results from the following tables: <code>semester</code>, <code>schedule</code>, <code>office_hours</code>, <code>faculty</code>, <code>section</code>, <code>major_minor</code>, <code>major_class_br</code>, <code>class</code>?</p>\n\n<p><a href=\"http://webprolearner2346.zxq.net/class_des/\" rel=\"nofollow\">TABLE STRUCTURE</a></p>\n\n<p>Basic Query- that shows class details</p>\n\n<pre><code>SELECT  class_name, class_caption, class_credit_hours, class_description\nFROM class  \n</code></pre>\n"},{"tags":["database","https","connection","h2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13240913,"title":"H2 database HTTPS connection","body":"<p>I'm using the H2 Database embedded mode to connect to local databases, but, is it possible to open a database file located on a remote server, using HTTPS?</p>\n\n<p>The goal is to use a dropbox file: <a href=\"https://dl.dropbox.com/.../database\" rel=\"nofollow\">https://dl.dropbox.com/.../database</a></p>\n"},{"tags":["mysql","database","compatibility","psql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13244294,"title":"Errors running mysql queries in psql","body":"<p>I wrote queries in what is supposed to be standard SQL, and tested them in mySQL.</p>\n\n<p>Now when I try to run them in psql I get all sorts of errors, which I don't really understand.\nHere's the original query, that works in mySQL:</p>\n\n<pre><code>CREATE VIEW popularCSsections AS (\n    SELECT  sect.csid, COUNT(sc.sid) as numStudents\n    FROM courseSection sect, studentCourse sc, department d\n    WHERE sect.csid = sc.csid \n        AND sect.dcode = d.dcode \n        AND dname = \"Computer Science\"\n    GROUP BY sect.csid\n    HAVING numStudents &gt; 2\n);\n</code></pre>\n\n<p>gives this error:</p>\n\n<pre><code>psql:a2tables:60: ERROR:  column \"Computer Science\" does not exist\nLINE 8:   AND department.dname = \"Computer Science\" \n                                 ^\n</code></pre>\n\n<p>Can you please help me understand the nature of the errors and help me fix them?</p>\n\n<hr>\n\n<p>Additional issue:</p>\n\n<pre><code>CREATE VIEW popularCSsections AS (\nSELECT  sect.csid, COUNT(sc.sid) as numStudents\nFROM courseSection sect, studentCourse sc, department d\nWHERE sect.csid = sc.csid \n    AND sect.dcode = d.dcode \n    AND dname = 'Computer Science'\n    GROUP BY sect.csid\n    HAVING numStudents &gt; 2\n);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>psql:a2tables:70: ERROR:  column \"numstudents\" does not exist\nLINE 8:  HAVING numStudents &gt; 2\n                ^\n</code></pre>\n"},{"tags":["php","mysql","database","wamp"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":2417,"score":-1,"question_id":4237793,"title":"MySQL Error: \"Unknown table engine 'InnoDBopt'\"","body":"<p>I'm getting the following error on some code from an old app:</p>\n\n<pre><code>A Database Error Occurred\nError Number: 1286\n\nUnknown table engine 'InnoDBopt'\n\nINSERT INTO `sessions` (`session_id`, `ip_address`, `user_agent`, `last_activity`) VALUES ('2ef196aba7f060308be6b7bc1133671f', '127.0.0.1', 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) Ap', 1290342372)\n</code></pre>\n\n<p>I'm using MySQL version 5.1.36. This app was developed a while ago, so most likely I just need to downgrade my MySQL version to run this? If so, please advise what version I need to run this.</p>\n\n<p><strong>Edit:</strong> To clarify, I had to copy my database from one mysql installation to another, so I copied everything inside `c:/mysql/data' to the other installation of MySQL, that's likely what's causing this issue.</p>\n"},{"tags":["mysql","sql","database"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13242427,"title":"How to structure my Users Database?","body":"<p>I have a website that allows users to be different types. Each of these types can do specific things. I am asking if I should set up 1 table for ALL my users and store the types in an enum, or should I make different tables for each type. Now, if the only thing different was the type it would be easy for me to choose only using one table. However, here's a scenario.</p>\n\n<p>The 4 users are A, B, C, D.</p>\n\n<p>User A has data for:</p>\n\n<ul>\n<li>name</li>\n<li>email</li>\n</ul>\n\n<p>User B has data for:</p>\n\n<ul>\n<li>name</li>\n<li>email</li>\n<li>phone</li>\n</ul>\n\n<p>User C has data for:</p>\n\n<ul>\n<li>name</li>\n<li>email</li>\n<li>phone</li>\n<li>about</li>\n</ul>\n\n<p>User D has data for:</p>\n\n<ul>\n<li>name</li>\n<li>email</li>\n<li>phone</li>\n<li>about</li>\n<li>address</li>\n</ul>\n\n<p>If I were to create a single table, should I just leave different fields null for the different users? Or should I create a whole separate table for each user?</p>\n"},{"tags":["sql","sql-server","database","query","sql-server-2008-r2"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":78,"score":0,"question_id":11666009,"title":"SQL server query to get this output","body":"<p>I have a query which i am unable to get the output.\nBelow is the query to be executed</p>\n\n<p>Q: 2.   Write a query to find the city Name, Id and Count that has got maximum number of vehicles associated.</p>\n\n<p>Now, Given is the one table on which the query should be executed.</p>\n\n<pre><code>Vehicle_Detail_ID   City_ID\n56                    242\n57                    242\n58                    242\n59                    243\n60                    241\n61                    242\n62                    245\n</code></pre>\n\n<p>Another table which has the city name</p>\n\n<pre><code>City_ID City_Name\n242          Bangalore\n243          ChamarajNager\n241          Bellary\n245          Chitradurga\n</code></pre>\n\n<p>EXPECTED OUTPUT: </p>\n\n<pre><code>City_ID No_Vehicles\n242          4\n</code></pre>\n\n<p>Please tell me how to write the query which fetches me the right output.</p>\n\n<p>Given below is the query which gives the city Id and its vehicle count.\nTRIED: </p>\n\n<pre><code>SELECT c.city_id, COUNT(c.City_ID) AS NO_vehicles\n  FROM city c, vehicle_details v \n WHERE c.City_ID = v.City_ID\n GROUP BY c.City_ID\n</code></pre>\n\n<p>ACTUAL OUTPUT </p>\n\n<pre><code>City_ID No_Vehicles\n242             4\n243             1\n241             1\n245             1\n</code></pre>\n\n<p>Please help me to get max of these as shown in EXPECTED OUTPUT.</p>\n"},{"tags":["mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13234030,"title":"MySQL Table structure and design- effieciency","body":"<p>I am currently working with a database in <code>MyphpAdmin</code>. There are a total of 9 tables that have been structured to bridge between each other. I am not sure that our table structure is the best and most efficient possible.  I am running a query that only displays <code>class_caption</code>, <code>class_name</code>, <code>course_name</code>, and <code>class_description</code>. How can I create a MySQL query that will display all tables bridged together (except <code>event</code>)? Also, what modifications should be done to make this tables structure more efficient?</p>\n\n<p><strong>Basic Query</strong></p>\n\n<pre><code>SELECT  class_name, class_caption, class_credit_hours, class_description\nFROM class  \n</code></pre>\n"},{"tags":["android","database","listview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13243055,"title":"delete delete ListView items","body":"<p>Can somebody please give me an example code of delete  ListView items? </p>\n\n<p>my method to insert data worked well, but my method to delete  item in listwiew didnt work.\nplease help me fix my delete method.</p>\n\n<p>this is my insert and delete method:</p>\n\n<pre><code>btnAdd.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View arg0) {\n            String label = inputLabel.getText().toString();\n\n                DatabaseHandler db = new DatabaseHandler(\n                        getApplicationContext());\n\n\n                db.insertLabel(label);\n\n\n                inputLabel.setText(\"\");\n\n\n\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(inputLabel.getWindowToken(), 0);\n\n\n                loadListViewData();\n\n\n\n        }\n    });\n\n    listview.setOnItemClickListener(new OnItemClickListener(){\n        public void onItemClick(AdapterView adapterView, View convertView, int position, long id)\n        {\n            AlertDialog.Builder alertDialog = new AlertDialog.Builder(AndroidSpinnerFromSQLiteActivity.this);\n\n            alertDialog.setTitle(\"Confirm Delete...\");\n\n\n            alertDialog.setMessage(\"Are you sure you want delete this?\");\n\n\n            alertDialog.setIcon(R.drawable.delete);\n\n\n            alertDialog.setPositiveButton(\"YES\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog,int which) {\n\n\n                            DatabaseHandler db = new DatabaseHandler(\n                                    getApplicationContext());\n\n\n                            db.deleteLabel(label);\n\n\n                            Toast.makeText(getApplicationContext(), \"YOU ITEM WAS DELETED\", Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n            alertDialog.setNegativeButton(\"NO\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n\n                            Toast.makeText(getApplicationContext(), \"You clicked on NO\", Toast.LENGTH_SHORT).show();\n                            dialog.cancel();\n                        }\n                    });\n\n\n            alertDialog.show();\n            }\n        });\n    };\n</code></pre>\n"},{"tags":["database","transactions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13242979,"title":"Optimistic locking in a single update statement","body":"<p>If I have two threads updating a database in separate transactions with statements that look like</p>\n\n<p>Thread 1</p>\n\n<pre><code>UPDATE people set id='12346' WHERE name='Jeff'\n</code></pre>\n\n<p>Thread 2</p>\n\n<pre><code>UPDATE people SET name = 'Jeff' WHERE id='12345'\n</code></pre>\n\n<p>Obviously there is a race here. If Thread 1 changes the id before Thread 2, 12345 will be an invalid ID (assuming no one else is using it).</p>\n\n<p>What I'm wondering is, when using optimistic locking, is this a situation in which an optimistic lock error may be thrown (e.g. a stale record error)? Does the UPDATE/WHERE constitute a read and write or is each UPDATE executed an atomic statement (or does it vary by database)?</p>\n"},{"tags":["java","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":37,"score":-6,"question_id":13242514,"title":"java and database","body":"<p>I have a project to do in which I have to know the performance time of both a serial execution and serializable execution of transactions</p>\n\n<p>The explanation is as follows</p>\n\n<p>A text file has transactios like </p>\n\n<pre><code>T1                   \nRead(A)=10 \n\nA:=A+10                 \n\nwrite(A)                       \n\nRead(B)=10           \n\nB:=B+10              \n\nwrite(B)             \nT2\n\nRead(B)=11  \n\nB:=B+10\n\nwrite(B)\n\nRead(C)=15\n\nC:=C+20\n\nwrite(C)\n\nT3\n\nRead(C)=18\n\nC:=C+10\n\nwrite(C)\n\nRead(D)=11\n\nD:=D+15\n\nwrite(D)\n</code></pre>\n\n<p>And in case of serial execution T1->T2->T3 should be the order of execution and </p>\n\n<p>in case of serializable we should execute one or two statements in T1 then some statements in T2 and then in T3 and this process should be followed till all the transactions end.</p>\n\n<p>No specific order is required to be followed in case of serializable...</p>\n\n<p>please help me out guys please help me even if you have a little part of code of this project </p>\n"},{"tags":["android","database","json","rest"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13242549,"title":"getting data daily from an API","body":"<p>I'm new to Android programming and I am currently trying to build an Android app that gets data from a RESTful API (returned in JSON). I already have an idea of parsing the data (JSON) into the app. The data from the API needs to be fetched daily as it contains some chart information on artists which are updated everyday. </p>\n\n<p>What would be the most efficient way to fetch the data from the API? I was thinking of implementing a database that would take note of the time and make requests to the API daily but I'm not sure if this would be an efficient solution. </p>\n\n<p>Thanks</p>\n"},{"tags":["database","oledb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13241262,"title":"OLE DB Client Side Cursor - max. RAM Buffer Size","body":"<p>When using client size cursors, the <em>OLE DB Cursor Service</em> (which implements them) immediately reads the complete result set from the server and stores it in some kind of temporary buffer (RAM, temp-file, ...?).</p>\n\n<p>What I couldn't find out: <em>how can I configure, get or at least estimate the maximum amount of RAM that can be used for one client side cursor with an arbitrarily large result-set?</em></p>\n\n<p><strong>BACKGROUND</strong></p>\n\n<p>The reason I'm asking is that I have a 32 bit server application that transfers rather big result-sets to it's clients. Currently the application uses firehose cursors (server side, read-only, forward-only), but since transmitting the result to the clients (WAN connection) can take some time this is using a lot of SQL server resources; and sometimes even leads to table-locks that are held for an unpleasantly long time. So I'd like to change the server application to use client side cursors. I cannot do this however unless I can control or at least estimate how much RAM one such cursor can use -- the total sum of all open result-sets could easily exceed 2 GB, and if the <em>OLE DB Cursor Service</em> tries to stuff everything into RAM, or uses a too big maximum for it's RAM buffer size, then we would run into problems.</p>\n\n<p>Of course I could always write my own buffering code that uses temp-files, but that's something that I would really like to avoid.</p>\n"},{"tags":["python","database","olap","star-schema"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13233809,"title":"Python Cubes OLAP Framework - how to work with joins?","body":"<p>I'm trying to use python's olap framework <a href=\"http://packages.python.org/cubes/\" rel=\"nofollow\">cubes</a> on a very simple database, but I am having some trouble joining tables.</p>\n\n<p>My schema looks like this:</p>\n\n<pre><code>Users table\nID | name\n\nProducts table\nID | name | price\n\nPurchases table\nID | user_id | product_id | date\n</code></pre>\n\n<p>And the cubes model:</p>\n\n<pre><code>{\n    'dimensions': [\n        {'name': 'user_id'},\n        {'name': 'product_id'},\n        {'name': 'date'},\n    ],\n    'cubes': [\n        {\n            'name': 'purchases',\n            'dimensions': ['user_id', 'product_id', 'date'],\n            'measures': ['price']\n            'mappings': {\n                'purchases.user_id': 'users.id',\n                'purchases.product_id': 'products.id',\n                'purchases.price': 'products.price'\n            },\n            'joins': [\n                {\n                    'master': 'purchases.user_id',\n                    'detail': 'users.id'\n                },\n                {\n                    'master': 'purchases.product_id',\n                    'detail': 'products.id'\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>Now I would like to display all the purchases, showing the product's name, user's name and purchase date. I can't seem to find a way to do this. The documentation is a bit scarce.</p>\n\n<p>Thank you</p>\n"},{"tags":["php","mysql","database","query","many-to-many"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":10884677,"title":"A library database","body":"<p>So me and my colleague have been assigned for making a library database as the lesson's assignement and then make an html database interface where someone would be able to perform certain tasks within the database such as inserting rows, deleting rows, finding rows etc.</p>\n\n<p>We have created the database, imported it and all that but the problem is in inserting elements into it.</p>\n\n<p>Well for example the books table has a many-to-many relationship with the authors table (where primary keys of each table are the ISBN and the authors ID respectively) so when we want to insert a book with it's authors in our DB we don't know exactly how to do it because they are in different tables. We are confused as to how we would put data from a single form in multiple tables with different primary keys.</p>\n\n<p>We have been trying to find examples like that but to no avail.</p>\n\n<p><img src=\"http://i.stack.imgur.com/FCVs4.png\" alt=\"\"></p>\n\n<p>Even links to tutorials and whatnot are mostly welcome.</p>\n\n<p>Server side code is PHP.</p>\n\n<p>Thank you very much.</p>\n"},{"tags":["database","django","amazon-web-services","rds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13241712,"title":"amazon rds django recreate database","body":"<p>i've made some changes in the model.py and i would like to have them reflected to the db.</p>\n\n<p>As far as i understood, <code>syncdb</code> actually does not recreate the db but only updates it. </p>\n\n<p>since i modified a field from <code>integer</code> to <code>biginteger</code> the syncdb doesn't change the database structure.</p>\n\n<p>how can i have my database updated?</p>\n\n<p>locally i remove the sqllite file and it's recreated.\nnow, i don't know what to do since i can't remove the db. Yet, i can delete the db but by doing this the EB machine stop working.</p>\n\n<p>thanks</p>\n"},{"tags":["database","whitespace","trim","removing-whitespace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13241625,"title":"White spaces in database's field","body":"<p>I have field called <code>Name</code> in my database. Its type is <code>nvarchar(20)</code>. When I add data to database and fill this field with some \"<strong>Foo data</strong>\" it turns out that value from this database's field is not equal to \"<strong>Foo data</strong>\" because in database there is \"<strong>Foo data</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\" (with 8 spaces). It really makes me furious because I have to use <code>String.Trim()</code> after fetching data from DB.</p>\n\n<p>Is there any way to fix it?</p>\n"},{"tags":["database","oracle","oracle11g","storage","raid"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13239806,"title":"2 RAC node clusters with different RAID layouts?","body":"<p>I am comparing RAID 10 and RAID 5 configurations for Oracle database in order to determine the best choice in terms of performance for mixed workloads. </p>\n\n<p><strong>Is it possible to have 2 RAC node clusters and have one of them using the RAID 10 layout whereas the other one using RAID 5 layout?</strong> </p>\n\n<p>This would make testing for things like \"User load vs. Transactions per second for OLTP workloads\" more fair and insightful..  </p>\n\n<hr>\n\n<p>Would it be feasible (for testing) to just use a single instance (ie. NO RAC) and run tests using RAID 5 layout and then change the layout to RAID 10 and re run the tests? What advantages/extra information does using RAC clusters when testing have? </p>\n"},{"tags":["mysql","ios","database","database-connection","http-post"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":14,"score":-2,"question_id":13241042,"title":"Exporting fields of data from app to mysql database","body":"<p>I am developing an app for IOS that will require the user to fill out a large number of fields, but I am very new and am not sure how to export that data to a MySQL database. I am trying to avoid making this a direct web application or using email to export the data.</p>\n"},{"tags":["php","database","oop","post"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":78,"score":5,"question_id":13240473,"title":"Compare $_POST array with database","body":"<p>Ok, I'm pretty sure I'm not the first one to run into this, I just don't know the right words to search for a solution.\nConsider the following database tables (simplified for this question):</p>\n\n<p><img src=\"http://www.nth-root.nl/public/images/wolf/cat_attr.png\" alt=\"database tables\"></p>\n\n<p>As you can see in the picture, there is a category table that holds product categories and an attribute table that holds different attributes. For instance: Color (for clothing), Capacity (for mp3 players), etc.</p>\n\n<p>The third table, in the center of the picture, links the attributes to the categories.</p>\n\n<p>Now in the backend I have an 'Edit category' page with a form to edit (or add) a category. On the same page I want to display a list of dropdown lists in order to manage which attributes are linked to the current product category.</p>\n\n<p><img src=\"http://www.nth-root.nl/public/images/wolf-commerce/edit_category.png\" alt=\"backend\"></p>\n\n<p>It uses jquery to add / delete dropdowns.</p>\n\n<p>The problem is: how do I manipulate the data in the category_attribute table, using the $_POST data of the form.</p>\n\n<p>The lazy solution would be (and yes I've done this in the past):<br>\n1. Delete all current rows in category_attribute for the given category<br>\n2. Then insert all selected attributes to category_attribute</p>\n\n<p>But this isn't very efficient, it deletes and re-adds all rows even if someone only changes the category's title.</p>\n\n<p>So I'm looking for a way to do the right inserts, updates and deletions:<br>\n1. Delete the rows that don't appear in $_POST (the dropdown has been removed)<br>\n2. Update the rows that are changed (another option from the dropdown has been selected)<br>\n3. Insert rows that are new (a new dropdown has been added)</p>\n\n<p>I'm just not sure how to do it or where to find a good example. It's probably easy to do with some ajax but I am looking for a solution that's purely php, comparing the $_POST values with the values in the database.</p>\n\n<p>If someone knows a good article that explains the best (and most efficient) solution, please let me know, I'd be very grateful.</p>\n\n<p>-edit-<br>\nI had included some pictures to clarify my question, but stack overflow refused to include them because my reputation is too low, so I hope my question is clear enough without the images.</p>\n\n<p>-edit2-\nNow I have enough reputation, I've added the images.</p>\n\n<p>Thanks in advance,</p>\n\n<p>Nic</p>\n"},{"tags":["c++","sql-server","database","odbc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13238821,"title":"trying to connect to MSSQL through a C++ ODBC connection but cant find the right demo","body":"<p>I am programming on my macbook pro and need to connect to my company's MSSQL server for programming a commercial product.</p>\n\n<p>How do you actually connect to it?  I was looking on the MSDN website, and i didnt quite get it.</p>\n\n<p>for the purposes of my demo, i was just going to create a new project within XCODE and just create a console application which will output the data.  Once that it set up, ill implement different things with the connection.</p>\n\n<p><strong>Edit:  Added some code:</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n//#include &lt;windows.h&gt;\n#include &lt;sqlext.h&gt;\n#include &lt;sqltypes.h&gt;\n#include &lt;sql.h&gt;\n\nusing namespace std;\n\nint main(int argc, const char * argv[])\n{\nSQLHENV hEnv;\nSQLHDBC hDbc;\nstring connection = \"AAA\";\nstring db = \"DB\";\nstring user = \"user\";\nstring pass = \"password\";\nstring data = \"DRIVER={SQL Server Native Client 11.0};SERVER=\"+connection+\";DATABASE=\"+db+\";UID=\"+user+\";PWD=\"+pass+\";\";\n//SQLCHAR* pwszConnStr = (SQLCHAR*)(\"Driver={SQL Server Native Client 11.0};Server=\"+connection+\";Database=\"+db+\";Uid=\"+user+\";Pwd=\"+pass+\";\");\nSQLCHAR* pwszConnStr = (SQLCHAR*)data.c_str();\n//cout  &lt;&lt; data &lt;&lt; endl;\ncout  &lt;&lt; pwszConnStr &lt;&lt; endl;\n//error seems to occur in 1 of the 3 SQL statements below.\nSQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &amp;hEnv);\nSQLSetEnvAttr(hEnv, SQL_ATTR_ODBC_VERSION, (SQLPOINTER)SQL_OV_ODBC3, 0);\nSQLAllocHandle(SQL_HANDLE_DBC, hEnv, &amp;hDbc);\n\nRETCODE rc = SQLDriverConnect(hDbc, NULL, pwszConnStr, SQL_NTS, NULL, 0, NULL, SQL_DRIVER_PROMPT);\n\nif(rc == SQL_SUCCESS){\n    cout &lt;&lt; \"Connected to the Database\" &lt;&lt; endl;\n}else{\n    cout &lt;&lt; \"No Connection Established\" &lt;&lt; endl;\n}\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>It fails to compile, and i am thinking it is related to me commenting out the windows.h file.  The issue is that windows.h is not found on my macbook pro and figure it is when developing in VStudios.</p>\n"},{"tags":["python","database","postgresql"],"answer_count":3,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":4128,"score":10,"question_id":1219326,"title":"How do I do database transactions with psycopg2/python db api?","body":"<p>Im fiddling with psycopg2 , and while there's a .commit() and .rollback() there's no .begin() or similar to start a transaction , or so it seems ?\nI'd expect to be able to do </p>\n\n<pre><code>db.begin() # possible even set the isolation level here\ncurs = db.cursor()\ncursor.execute('select etc... for update')\n...\ncursor.execute('update ... etc.')\ndb.commit();\n</code></pre>\n\n<p>So, how do transactions work with psycopg2 ? \nHow would I set/change the isolation level ?</p>\n"},{"tags":["php","html","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13240327,"title":"How to address every line of a mysql table?","body":"<p>To create a dynamic table within php, I set the variable <code>$count</code> from a query, which counts the rows in specific table. Then I would like to create a table with the exact number of rows as a html table:</p>\n\n<pre><code>for($i=1;$i=&lt;$count;$i++){\n    echo\"&lt;tr&gt;&lt;td&gt;$name&lt;/td&gt;&lt;td&gt;$rights&lt;/td&gt;&lt;/tr&gt;\";\n}\n</code></pre>\n\n<p>That's the way i want the table to be displayed. But everytime the for-loop is called, the values of <code>$name</code> and <code>$rights</code> should be taken from the database-table. But how should i handle this? I thought about a simple query selecting the name from the line where ID equals i. But then i remembered that always when i delete an entry from the table there will be gaps.\nFor example when there 3 entries and i delete the second one. There just are 2 entries; so the name of the second row, which ID is 3, will never be selected. Is there any way of handling this problem in an appropriated way?</p>\n"},{"tags":["database","string","perl","casting","integer"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13232519,"title":"Casting of Integer to String in perl for DB insertion","body":"<p>I have a perl script which reads rows from text file and inserts into db.</p>\n\n<h1>Sample text file can look like this</h1>\n\n<pre><code>country   zipcode\n------------------\nIndia      712501\nIndia      00032\n</code></pre>\n\n<p>where first row is column name and the rows denote column value. It is stored as EAV format with both column name and column value as  VARCHAR.</p>\n\n<p>Now for zipcode 00032 the perl script is thinking it as Integer and  the insert query is becoming \nINSERT VALUES('India',00032) //Quote is not coming as perl is treating it as String\nSO while inserting it is inserting India 32 (treating it as integer)</p>\n\n<p>So can I make it String by force so the perl module puts VALUES('India','00032') instead ??</p>\n"},{"tags":["php","mysql","database","pdo","badge"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13239104,"title":"Badge Unlocked Notification setup","body":"<p>I have been brainstorming for ideas on the best ways to notify a user that they have unlocked a badge. It does not need to be instantaneous or live. I was thinking at least every time they view their dashboard it would run to check the status then display. Here is the general direction I have been thinking. </p>\n\n<p>I have two tables. One called <strong>badge_status</strong> and another the <strong>users</strong> table.</p>\n\n<p>in the users table I have the users and the badge fields such as Badge1, Badge2, Badge3 and etc. The badge fields default value are set to \"locked\". When the users do the right actions to unlock the badge the field then becomes \"unlocked\"</p>\n\n<p>I was thinking of a set up like this for the notifications but am wondering if it is overkill or there is an easier way?</p>\n\n<pre><code>&lt;?php\n$db = new PDO('mysql:host=hostname;dbname=dbname;charset=UTF-8', 'username', 'password');\n$username = $_SESSION['jigowatt']['username'];\n$statement = $db-&gt;prepare(\"SELECT badge1, badge1_status FROM login_users, status_table WHERE username = :username\");\n$badge1 = $row['badge1'];\n$badge1_status = $row['badge1_status'];\n\n\n\nif($badge1_status == \"finished\")  {\n}\nelse if($badge1 ==\"unlocked\")   {\n// Show fade in pop up div for notification &lt;div id=\"notification-div\"&gt;Badge Unlocked!&lt;/div&gt;\n$setBadgeValue = $db-&gt;prepare(\"UPDATE status_table SET badge1_status='finished' WHERE username= :username\");\n\n}\n\n&lt;?\n</code></pre>\n\n<p>I would have the second table set up if the status of badge 1 is \"finished\" then it won't do anything, thus making sure the notification only displays once.</p>\n\n<p>if it is not finished and badge1s status is \"unlocked\" the then show the notification DIV and then write to the table for badge1_status as \"finished\".</p>\n\n<p>On a side note I am still in the process of converting over to proper PDO. Thanks for any advice, tips or improvement you can give on this setup! </p>\n"},{"tags":["database","oracle","oracle10g","oracle11g","cluster-computing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":15,"score":-2,"question_id":13240102,"title":"understand RAC clusters?","body":"<p>I am getting a little confused regarding what a \"two Oracle two-node RAC clusters\" actually is. Is it possible to draw a diagram indicating what this actually represents? </p>\n\n<p>Thanks!</p>\n"},{"tags":["android","database","android-contentprovider","bookmarks","android-browser"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13029121,"title":"Folder hierarchy of bookmarks in Android Browser","body":"<p>I am developing an application for bookmarks management. Currently, I am displaying all the bookmarks in the <code>listview</code>. This approach works well if the number of bookmarks is small. But if there are large number of bookmarks, then the list becomes too long and difficult to locate a particular bookmark. So, I want the user to be able to create folders and move respective bookmarks to the folders. As there is no folder column in the Android bookmarks database, I can't store the information of which bookmarks belongs to which folder.</p>\n\n<p>I can create my own database and maintain this information but then the folder hierarchy won't be visible to the Android. How can I create this folder hierarchy and store this information?</p>\n"},{"tags":["c#","database","visual-studio-2010"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13238427,"title":"Accessing Local Database","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7720491/microsoft-visual-c-sharp-2010-adding-data-to-local-database\">Microsoft Visual C# 2010 - Adding Data to Local Database</a>  </p>\n</blockquote>\n\n\n\n<p>I'm trying to develop simple Windows Froms application that stores data in local database instead of a <code>.txt</code> file. I'm adding local database to my project via <code>Add new item -&gt; Local Database -&gt; Dataset</code>. Afterwards, I'm adding a simple table with 3 columns using <code>Database Explorer</code> - so far so good.\n<br>but then I would like to access this database within my <code>Form1</code> class, filling created table by using loop (since I don't want to fill 255 rows manually when they are supposed to be filled with 0's by default), making some queries to get data from database and put some data in database. \n<br>I tried following several tutorials but I always ended up getting an error at </p>\n\n<pre><code>con.Open();\n</code></pre>\n\n<p>How should I approach local databases in C#?\n<br>Which connection string should I use in this context?\n<br>What my code initializing access to database should look like?</p>\n\n<pre><code>DataSet ds1 = new DataSet();\nSqlConnection conn = new SqlConnection();\nconn.ConnectionString =\n\"Data Source=.\\\\SQLExpress;\" +\n\"User Instance=true;\" +\n\"Integrated Security=true;\" +\n\"AttachDbFilename=|DataDirectory|\\\\Database.sdf;\";\nconn.Open();\n\nstring sql = \"SELECT * From LootServers\";\nSystem.Data.SqlClient.SqlDataAdapter da;\nda = new System.Data.SqlClient.SqlDataAdapter(sql, conn);\nda.Fill(ds1, \"Servers\");\nDataRow dRow = ds1.Tables[0].Rows[0];\nMessageBox.Show(dRow.ItemArray.GetValue(0).ToString());\nconn.Close();\n</code></pre>\n\n<p>and the error is:</p>\n\n<blockquote>\n  <p>An attempt to attach an auto-named database for file C:\\Users\\User1\\Documents\\VisualStudio 2010\\Projects\\LootServers\\LootServers\\bin\\Debug\\Database.sdf failed. A database with the same name exists, or specified file cannot be opened, or it is located on UNC share.</p>\n</blockquote>\n"},{"tags":["sql","sql-server","database","database-design","database-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13238584,"title":"good ebooks/resources for designing a database for Reporting & analysis purposes","body":"<p>I am working on designing a seperate database in Sql Server for analysis and reporting purposes.</p>\n\n<p>I searched online and found the below link to be somewhat useful:\n<a href=\"http://stackoverflow.com/questions/3331637/when-to-build-a-separate-reporting-database\">When to build a separate reporting database?</a></p>\n\n<p>I also denormalized some of the tables where I felt are necessary.</p>\n\n<p>I would like to know if someone could point me out to any resources ebooks/tutorials/blogs that would exclusively focus on designing of databases for analysis and reporting purposes.</p>\n\n<p>We currently have around 1TB of data within the database and the data is expected to grow\ntremendously within the coming months.</p>\n"},{"tags":["java","mysql","database","jsp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13238839,"title":"Displaying Huge Calculated Statistical Information on a JSP page","body":"<p>I have a page which displays statistical data. More than 200,000+ data are calculated in Database and then result is shown in JSP page. So, I am suffering from Blank page whenever this JSP page is called upon. </p>\n\n<p>Any suggestion what can be done to improve it? I hope some of you have already gone through this problem. How did you solve it? Please share your experience which might help me a lot. </p>\n\n<p>Thank You,</p>\n"},{"tags":["sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":57,"score":1,"question_id":13238036,"title":"Please review my database schema - need input","body":"<p>I am researching database design and theory and have finally made a thoughtful attempt at creating a schema that would be based upon SQL.  I would like, if someone has time, to review my layout and make sure that it is logical.  Tips and criticism aimed at bettering my knowledge is of course welcome! :)</p>\n\n<p>Here is my general goal:\nCreate a database that will allow for a business with multiple stores to be able to track employee training progress by simply marking date trained and date verified.  Basically, this would be the hierarchy:</p>\n\n<pre><code>Business 1 \n--Store Location (a)\n----Employee\n----Employee\n----Employee\n--Store Location (b)\n----employee\n----employee\n----employee\n\nBusiness 2\n--Store Location (a)\n----employee\n----employee\n--Store Location (b)\n----employee\n----etc...\n</code></pre>\n\n<p>This schema should allow for unlimited businesses, stores, and employees.</p>\n\n<p>As far as the training goes, there should be this type of hierarchy:</p>\n\n<pre><code>Business 1\n--Employee Class           (Manager, Employee, Salesman, Associate, etc)\n----Training Category      (Sales, Stocking, Manufacturing, etc)\n------Training Activity    (How to sell X product, How to stock Y aisle, etc)\n------Training Activity\n------Training Activity\n----Training Category\n------Training Activity\n------Training Activity\n--Employee Class\n----Training Category\n----Training Category\n\nBusiness 2\n--Employee Class           \n----Training Category     \n------Training Activity    \n------Training Activity\n------Training Activity\n----Training Category\n------Training Activity\n------Training Activity\n--Employee Class\n----Training Category\n----Training Category\n</code></pre>\n\n<p>The following things should be variable based on business needs and created upon creation of business's account:</p>\n\n<pre><code>*Number of Stores\n*Number of Employees \n*Employee Classes\n\n*Training Categories\n*Training Activities\n</code></pre>\n\n<p>So the grand questions are: <br>\n1) How close did I get?<br>\n2) How can it be done better?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Here is the link to the picture of the Diagram:\n<a href=\"http://i1227.photobucket.com/albums/ee422/CorySCline/diagram.jpg\" rel=\"nofollow\">http://i1227.photobucket.com/albums/ee422/CorySCline/diagram.jpg</a></p>\n"},{"tags":["ruby-on-rails","database","postgresql","ps"],"answer_count":4,"favorite_count":19,"up_vote_count":26,"down_vote_count":0,"view_count":8264,"score":26,"question_id":5108876,"title":"Kill a postgresql session/connection","body":"<p>How can I kill all my postgresql connections?</p>\n\n<p>I'm trying a <code>rake db:drop</code> but I get:</p>\n\n<pre><code>ERROR:  database \"database_name\" is being accessed by other users\nDETAIL:  There are 1 other session(s) using the database.\n</code></pre>\n\n<p>I've tried shutting down the processes I see from a <code>ps -ef | grep postgres</code> but this doesn't work either:</p>\n\n<pre><code>kill: kill 2358 failed: operation not permitted\n</code></pre>\n"},{"tags":["database","schema","sage-line-50"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":846,"score":1,"question_id":2191756,"title":"Sage 50 Accounts Database Schema","body":"<p>I am accessing Sage 50 data via their ODBC Driver but cannot seem to establish if the tables have a unique / primary key. The ODBC.NET Driver does not seem to return any information relating to indexes or key field information.  </p>\n\n<p>Anyone got any clues?</p>\n\n<p>Tim</p>\n"},{"tags":["java","mysql","database","file","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":32,"score":-3,"question_id":13238448,"title":"JSP/MySQL Copy Database Result to File and then Display those in JSP page","body":"<p>I have a huge data to be displayed on a JSP page. I am having a problem of white page appearing whenever the jsp page is requested. I have thought of a following idea to remedy this problem. </p>\n\n<ol>\n<li>Write all the database result to a file (text,csv) </li>\n<li>Then display the data from that file in JSP page. </li>\n<li>Refresh the file in every 15 minutes so that the file contains updated data. </li>\n</ol>\n\n<p>In this way, jsp page shows the result from file and doesn't contain the heavy loading from database.  </p>\n\n<p>But the problem is I am just being limited to this theory.Please suggest me how to proceed.. some sample code?? </p>\n\n<p>This system is running on Apache Tomcat having MySQL Database. </p>\n\n<p>Thanks,</p>\n"},{"tags":["database","caching","database-design","memcached","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13215113,"title":"When should I use Memcached vs adding a column to the database?","body":"<p>I'd like to track the last date each user of my application has visited a certain page. One way to do this would be to add a column to the users table in my database, and update it every time the user visits the page. An alternative method would be to store this data in Memcached for each user.</p>\n\n<p>I realized that I was favoring the Memcached solution, but for reasons that don't <em>seem</em> legitimate:</p>\n\n<ul>\n<li>The users table has lots of columns already, and I don't want to add to that unnecessarily.</li>\n<li>It's easier to use Memcached than it is to add a table to the db by creating a migration, etc.</li>\n</ul>\n\n<p>So what <em>is</em> the appropriate choice here? And why?</p>\n"},{"tags":["android","database","sqlite","android-sdcard"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13222533,"title":"how import sqlite database android","body":"<p>When I export a database on sd card I use</p>\n\n<pre><code>try {\n    File sd = new File(Environment.getExternalStorageDirectory()+\"/ABC\");\n                    File data = Environment.getDataDirectory();\n                    boolean success = false;\n                    if (!sd.exists()) {\n                        success = sd.mkdir();\n                    }\n                    if (sd.canWrite()) {\n                        String currentDBPath = \"\\\\data\\\\com.example.skurat\\\\databases\\\\Income.db\";\n                        String backupDBPath = \"Income.db\";\n                        File currentDB = new File(data, currentDBPath);\n                        File backupDB = new File(sd, backupDBPath);\n\n                        if (currentDB.exists() &amp;&amp; success) {\n                            FileChannel src = new FileInputStream(currentDB).getChannel();\n                            FileChannel dst = new FileOutputStream(backupDB).getChannel();\n                            dst.transferFrom(src, 0, src.size());\n                            src.close();\n                            dst.close();\n                        }\n                    }\n                } catch (Exception e) {\n                }\n</code></pre>\n\n<p>as a result file \"Income.db\" is stored on the sd card.</p>\n\n<p>When I import a new database from sd card I use</p>\n\n<pre><code>File dbfile = new File(Environment.getExternalStorageDirectory().getAbsolutePath() +\"/ABC/Income.db\" ); \n             String backupDBPath = \"Income.db\";\n             File backupDB = new File(dbfile, backupDBPath);\n            SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n            // toDoDBAdapter = new DBAdapter(this, \"Income.db\"); written in the \"onCreate\" method, working correctly\n            toDoDBAdapter.dbHelper.onUpgrade(db, 1, 2);\n            // refresh screen, working correctly\n            populateTodoList();\n</code></pre>\n\n<p>And database is not updated. Why? I use API 7</p>\n\n<p>p.s.</p>\n\n<p><strong>If you know another way to import the database from sd card in the application, please tell, thanks</strong></p>\n"},{"tags":["database","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13238308,"title":"Running wordpress with no database","body":"<p>I was looking for a way to configure wordpress to run using only a filesystem database. </p>\n\n<p>Sort of like H2 in Java, or in memory. Anyone ?</p>\n\n<p>Just for demonstration purposes</p>\n"},{"tags":["php","database","search","text","sphinx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13238011,"title":"Sphinx Search not returning results or errors","body":"<p>I have been working with sphinxapi.php and the script works fine you can check it out <a href=\"http://pastebin.com/DnaRmSxu\" rel=\"nofollow\">at this pastebin</a>. You can check out my table structure <a href=\"http://pastebin.com/RkXcz5gQ\" rel=\"nofollow\">right here</a> and this is how my sphinx.conf file is setup:</p>\n\n<pre><code># Minimal Sphinx configuration sample (clean, simple, functional)\n#\n\n#Movie Source\nsource movielist\n{\n    type            = mysql\n    sql_host        = localhost\n    sql_user        = root\n    sql_pass        = jetru9rU\n    sql_db          = imdb\n    sql_port        = 3306\n\n    sql_query   = \\\n        SELECT id, title, subtitle, year_created FROM movielist\n\n    sql_attr_string     = title\n    sql_attr_string     = subtitle\n    sql_attr_uint       = year_created\n\n    sql_query_info      = SELECT * FROM movielist WHERE id=$id\n\n}\n#Movie Index\nindex movieindex\n{\n    source          = movielist\n    path            = /var/data/movieindex\n    docinfo         = extern\n    charset_type        = sbcs\n}\n\n#Realtime indexing\nindex movieindexrt\n{\n    type            = rt\n    rt_mem_limit        = 32M\n\n    path            = /var/data/movieindexrt\n    charset_type        = utf-8\n\n    rt_field        = title\n    rt_field        = subtitle\n}\n\nindexer\n{\n    mem_limit       = 32M\n}\n\n\nsearchd\n{\n    listen          = 9312\n    listen          = 9306:mysql41\n    log         = /var/log/sphinxsearch/searchd.log\n    query_log       = /var/log/sphinxsearch/query.log\n    read_timeout        = 5\n    max_children        = 30\n    pid_file        = /var/log/sphinxsearch/searchd.pid\n    max_matches     = 1000\n    seamless_rotate     = 1\n    preopen_indexes     = 1\n    unlink_old      = 1\n    workers         = threads # for RT to work\n    binlog_path     = /var/data\n}\n</code></pre>\n\n<p>What is wrong with my .conf file that I am not seeing?</p>\n"},{"tags":["database","django","config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13225403,"title":"django database_options for specific database in settings","body":"<p>Just wondering if I can only apply <a href=\"https://docs.djangoproject.com/en/1.1/ref/databases/\" rel=\"nofollow\">database_options</a> to a specific database if multiple databases are defined in settings? And how???</p>\n\n<p>eg. I have defined the databases like this:</p>\n\n<pre><code>DATABASES = {\n  'default': {...},\n  'db2': {...}\n}\n</code></pre>\n\n<p>the ultimate goal is to set the connection timeout value for db2 database without affecting default database</p>\n"},{"tags":["sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13235236,"title":"Can't add new SQL database - error 26 - web developer 2010","body":"<p>My whole project is a Default.aspx and a web.config. When i go to add new item > SQL Server Database, i get this error:</p>\n\n<pre><code>i.stack.imgur.com/0kbia.png\n</code></pre>\n\n<p>I have looked around the internet for the past couple of hours and i just cant find anything :(\nplease keep in mind i am still a beginner so simple, detailed explanations are very welcome\nthank you! :)</p>\n"},{"tags":["mysql","database","database-design","rdbms","database-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13234743,"title":"Save history editable data RDBMS","body":"<p>I want to make application like testing system. Every question has one or many variant of answers (and one or many can be right). I apologize that tutors and students use my testing system. It means that tutor can make CRUD operations with subject, questions and answers. But in this case appeares one big problem as saving version. For example,  I am a tutor and I decide edit some question or answer ( or may be several questions and several answers). When I  enter as student, I want to get a list of questions in which I made mistakes but tutor already  edited this question and I get wrong information.</p>\n\n<p>Main question: How I can save editable data in database? </p>\n\n<p><img src=\"http://i.stack.imgur.com/se0xV.png\" alt=\"My database\"></p>\n\n<p>Each test has questions and every question has naswers. Tutors can edit/add/delete any of those components. For example, he or she can modify one of the questsion's text, add several questions to a test and edit one of the answers to the question that has just been modified. Any hints how I can handle all this so that I could retreive a version of the test at the exact time in the past?</p>\n\n<p>Here is what I have come up with so far. The solution is extremely complex and I feel there is a better way of doing that.</p>\n"},{"tags":["database"],"answer_count":11,"favorite_count":1,"up_vote_count":9,"down_vote_count":1,"view_count":1373,"score":8,"question_id":1131183,"title":"Why did object oriented databases fail?","body":"<p>Why did object oriented databases fail?</p>\n\n<p>I find it astonishing that:</p>\n\n<pre><code>foo bar = new foo();\n\nbar.saveToDatabase();\n</code></pre>\n\n<p>Lost to:</p>\n\n<pre><code>foo bar = new foo();\n/* write complicated code to extract stuff from foo */\n/* write complicated code to write stuff to database */\n</code></pre>\n\n<p>Related questions:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/353258/are-object-oriented-databases-still-in-use\">Are Object oriented databases still\n   in use?</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/800/object-oriented-vs-relational-databases\">Object Oriented vs Relational\n   Databases</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/170649/why-have-object-oriented-databases-not-been-succesful-yet\">Why have object oriented databases not been successful (yet)?</a></p>\n"},{"tags":["ios","database","xcode","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13236685,"title":"SQLite, insert data into a DB from different Views","body":"<p><strong>We have declared the following code in the default ViewController.m:</strong></p>\n\n<pre><code>-(void)saveData{\nsqlite3_stmt *statement;\nconst char *dbpath = [databasePath UTF8String];\n\nif (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n{\n    NSString *insertSQL = [NSString stringWithFormat:\n                           @\"INSERT INTO CONTACTS (name, address, phone) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\")\",\n                           name.text, address.text, phone.text];\n    const char *insert_stmt = [insertSQL UTF8String];\n    sqlite3_prepare_v2(contactDB, insert_stmt,-1, &amp;statement, NULL);\n    if (sqlite3_step(statement) == SQLITE_DONE)\n    {\n        name.text = @\"\";\n        address.text = @\"\";\n        phone.text = @\"\";\n    sqlite3_finalize(statement);\n    sqlite3_close(contactDB);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>-(void)findContact{</p>\n\n<pre><code>const char *dbpath = [databasePath UTF8String];\nsqlite3_stmt *statement;\n\nif (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n{\n    NSString *querySQL = [NSString stringWithFormat:@\"SELECT address, phone FROM contacts WHERE name=\\\"%@\\\"\", name.text];\n    const char *query_stmt = [querySQL UTF8String];\n\n    if (sqlite3_prepare_v2(contactDB, query_stmt, -1, &amp;statement, NULL) == SQLITE_OK)\n    {\n        if (sqlite3_step(statement) == SQLITE_ROW)\n        {\n            NSString *addressField = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];\n            address.text = addressField;\n            NSString *phoneField = [[NSString alloc]\n                                    initWithUTF8String:(const char *)\n                                    sqlite3_column_text(statement, 1)];\n            phone.text = phoneField;\n\n            status.text = @\"Match found\";\n        } else {\n            status.text = @\"Match not found\";\n            address.text = @\"\";\n            phone.text = @\"\";\n\n        }\n        sqlite3_finalize(statement);\n    }\n    sqlite3_close(contactDB);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>-(void)viewDidLoad{</p>\n\n<pre><code>[super viewDidLoad];\nNSString *docsDir;\nNSArray *dirPaths;\ndirPaths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\ndocsDir=[dirPaths objectAtIndex:0];\ndatabasePath=[[NSString alloc]initWithString:[docsDir stringByAppendingPathComponent:@\"contacts.db\"]];\nNSFileManager *filemgr=[NSFileManager defaultManager];\nif([filemgr fileExistsAtPath:databasePath]==NO)\n{\n    const char *dbpath=[databasePath UTF8String];\n    if(sqlite3_open(dbpath, &amp;contactDB)==SQLITE_OK)\n    {\n        char *errMsg;\n        const char *sql_stmt =\n        \"CREATE TABLE IF NOT EXISTS CONTACTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT, ADDRESS TEXT, PHONE TEXT)\";\n\n        if (sqlite3_exec(contactDB, sql_stmt, NULL, NULL, &amp;errMsg) != SQLITE_OK)\n        {\n            status.text = @\"Failed to create table\";\n        }\n        sqlite3_close(contactDB);\n    } else {\n        status.text = @\"Failed to open/create database\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>It works, but we want to access to that database (contactDB) from different viewControllerName.m ; we have tried the following:</strong></p>\n\n<p>//  Scene2ViewController.m</p>\n\n<p>-(void)incrementoBarra {</p>\n\n<p>if (barra.progress == 1) {</p>\n\n<pre><code>   //In this method we want to insert the address data into the specified name. \n\n   sqlite3_stmt *statement;\n   const char *dbpath = [databasePath UTF8String];\n\n   if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n   {\n       NSString *insertSQL = [NSString stringWithFormat:\n                              @\"INSERT INTO CONTACTS (name, address) VALUES (\\\"%@\\\", \\\"%d\\\")\",\n                              usuario, tiempo];\n       const char *insert_stmt = [insertSQL UTF8String];\n       sqlite3_prepare_v2(contactDB, insert_stmt,-1, &amp;statement, NULL);\n       if (sqlite3_step(statement) == SQLITE_DONE)\n       {\n           sqlite3_finalize(statement);\n           sqlite3_close(contactDB);\n       }\n   }\n\n   //\n\n\n   [self performSelector:@selector(hideImage) withObject: nil afterDelay:1.0];\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>It didn´t work due to errors with the variables and the database as these were not well declared</strong></p>\n\n<p><em><strong>How do we have to implement those variables and database to work with them from different .m?\nThank you for your time!</em></strong></p>\n"},{"tags":["php","mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":256,"score":0,"question_id":7865466,"title":"Php mysql LOWER function with AES_DECRYPT","body":"<p>I have AES encrypted data stored in the database using php mysql. Which I entered using AES_ENCRYPT. Problem is that data is coming from iphone and \"first name\" of member is coming with first letter in UPPER CASE and stored as Upper. For examle 'Pooja' </p>\n\n<p>I am wondering when I go for searching the following then it does not give me any result.</p>\n\n<pre><code>SELECT *\nFROM member\nWHERE LOWER(AES_DECRYPT(fname,'xxxxxxxxxxxxxxxxx')) LIKE'%$pooja%'\n</code></pre>\n\n<p>It gives me 'Pooja' when I dont use LOWER.</p>\n\n<p>Can anybody please correct me here ?? </p>\n"},{"tags":["asp.net","database","transfer","dbml"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13235916,"title":"Two identical dbml data context's in one asp.net application","body":"<p>I have a separate copy of a sql server2008 database that we used to isolate data. I would now like to bring a few records into the production database from this separate database. I am not sure of the best way to do this, but I need to transfer several tables and ensure the relations remain. The easiest way I think of is to (if possible) create another dbml data context of the separate database and set all variables equal to a new object in the new database. I realized that I am getting many conflict errors. Is there a way to have two databases coexist like this in one application? There a few minor differences in the databases. The production database does have a few added rows.</p>\n\n<p>Thank you for the help,</p>\n\n<p>Chris</p>\n"},{"tags":["database","sqlite","production-environment"],"answer_count":8,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1620,"score":6,"question_id":913067,"title":"SQLite as a production database for a low-traffic site?","body":"<p>I'm considering using SQLite as a production database for a site that would receive perhaps 20 simultaneous users, but with the potential for a peak that could be many multiples of that (since the site would be accessible on the open internet and there's always a possibility that someone will post a link somewhere that could drive many people to the site all at once). </p>\n\n<p>Is SQLite a possibility? </p>\n\n<p>I know it's not an ideal production scenario. I'm only asking if this is within the realm of being a realistic possibility.</p>\n"},{"tags":["php","mysql","database","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":34,"score":-1,"question_id":13236102,"title":"Is j-query table possible to read 2000 rows from database?","body":"<p>I have a table with 2000 rows and 200 column and I want to read 4 columns from mysql and show theme in browser...\nwitch way is best for me\nI want to sort theme with user request like name or ... (like j-query Ajax tables )</p>\n\n<p>Is j-query table possible or its heavy?<br>\n<a href=\"http://www.jtable.org/\" rel=\"nofollow\">http://www.jtable.org/</a></p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":11664545,"title":"retrieve data from databse in edit text box in android and want to display simple dropdown items in one line","body":"<p>I want to display simple dropdown items in one line for purpose of auto-completion of the route name EditText on the <code>AddItemsActivity</code> that I have entered as displayed below. I have created the database table, the entered data is displayed in database using <code>DDMS-&gt;data-&gt;data-&gt; my program name-&gt;databse -&gt;android_ap.db</code>  </p>\n\n<p>Here is my java class</p>\n\n<p>LoginDB.java</p>\n\n<pre><code>public class LoginDB extends SQLiteOpenHelper{\n    // All Static variables\n    // Database Version\n    private static final int DATABASE_VERSION = 2;\n\n    // Database Name\n    private static final String DATABASE_NAME = \"android_ap.db\";\n\n    // Login table name\n    private static final String TABLE_LOGIN = \"login\";\n    // Login Table Columns names\n    private static final String KEY_ID = \"_id\";\n    private static final String KEY_NAME = \"name\";\n    private static final String KEY_PASSWORD = \"password\";\n    private static final String TABLE_PARTY=\"party_master\";\n    private static final String KEY_PID=\"party_id\";\n    private static final String KEY_PNAME=\"party_name\";\n    private static final String KEY_ROUTE_NAME=\"route_name\";\n    private static final String KEY_ROUTE_NUM=\"RootNo\";\n\n    private static final String KEY_CONTACT_PERSON=\"contect_person\";\n    private static final String KEY_CELL_NUM=\"cell_no\";\n\n\n    private static final String CREATE_LOGIN_TABLE = \"CREATE TABLE \" + TABLE_LOGIN + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" \n            + KEY_NAME + \" TEXT NOT NULL,\"\n            + KEY_PASSWORD + \" TEXT NOT NULL);\";\n    private static final String CREATE_PARTY_TABLE = \"CREATE TABLE \" + TABLE_PARTY + \"(\"\n            + KEY_PID + \" INTEGER PRIMARY KEY,\" \n            + KEY_PNAME + \" TEXT NOT NULL,\"\n            + KEY_ROUTE_NAME + \" TEXT NOT NULL);\";\n\n\n    public LoginDB(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_LOGIN_TABLE);\n        db.execSQL(CREATE_PARTY_TABLE);\n        }\n\n\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LOGIN);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_PARTY);\n\n        // Create tables again\n        onCreate(db);\n    }\n\n\n    /**\n     * Storing user details in database\n     * */\n    public void addUser(String name, String password) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_NAME, name); // Name\n        values.put(KEY_PASSWORD, password); // password\n\n        // Inserting Row\n        db.insert(TABLE_LOGIN, null, values);\n        db.close(); // Closing database connection\n    }\n\n    public void add_party_master(String party_name, String route_name) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_PNAME, party_name); // Party Name\n        values.put(KEY_ROUTE_NAME, route_name); // Route Name\n\n        // Inserting Row\n        db.insert(TABLE_PARTY, null, values);\n        db.close(); // Closing database connection\n    }\n\n\n    /**\n     * Getting user data from database\n     * */\n    public HashMap&lt;String, String&gt; getUserDetails(String party_name,String route_name,String RootNo, String contect_person,String cell_no){\n        HashMap&lt;String,String&gt; user = new HashMap&lt;String,String&gt;();\n        String selectQuery = \"SELECT  * FROM \" + TABLE_PARTY;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n        // Move to first row\n        cursor.moveToFirst();\n        if(cursor.getCount() &gt; 0){\n            user.put(\"party_name\", cursor.getString(1));\n            user.put(\"route_name\", cursor.getString(2));\n            user.put(\"RootNo\", cursor.getString(3));\n            user.put(\"contect_person\", cursor.getString(4));\n            user.put(\"cell_no\", cursor.getString(5));\n        }\n        cursor.close();\n        db.close();\n        // return user\n        return user;\n    }\n\n    public ArrayList&lt;String&gt;  getUserRecords(String route_name){\n        //HashMap&lt;String,String&gt; userNew = new HashMap&lt;String,String&gt;();\n        ArrayList&lt;String&gt; a=new ArrayList&lt;String&gt;(); \n        String selectQuery = \"SELECT  * FROM \" + TABLE_PARTY;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n        // Move to first row\n        cursor.moveToFirst();\n        if(cursor.getCount() &gt; 0){\n            //userNew.put(\"party_name\", cursor.getString(1));\n        //  userNew.put(\"route_name\", cursor.getString(2));\n        //  userNew.put(\"RootNo\", cursor.getString(3));\n       //   userNew.put(\"contect_person\", cursor.getString(4));\n        //  userNew.put(\"cell_no\", cursor.getString(5));\n\n        a.add(cursor.getString(1));\n        }\n        cursor.close();\n        db.close();\n        // return user\n        return a;\n    }\n\n\n    /**\n     * Getting user login status\n     * return true if rows are there in table\n     * */\n    public int getRowCount() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_LOGIN ;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(countQuery, null);\n        int rowCount = cursor.getCount();\n        db.close();\n        cursor.close();\n\n        // return row count\n        return rowCount;\n    }\n    public int getRowCount_party() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_PARTY ;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor curs = db.rawQuery(countQuery, null);\n        int rowCount_p = curs.getCount();\n        db.close();\n        curs.close();\n\n        // return row count\n        return rowCount_p;\n    }\n\n\n    /**\n     * Re crate database\n     * Delete all tables and create them again\n     * @param pas1 \n     * @param username1 \n     * */\n\n        public int getAllname(String username1, String password1)\n      {  \n       SQLiteDatabase db=this.getReadableDatabase();\n       Cursor cur=db.rawQuery(\"SELECT KEY_NAME from \"+TABLE_LOGIN +\"WHERE KEY_NAME = '\" +username1+\"' and KEY_PASSWORD = '\"+password1+\"'\",null);\n       int rowCount = cur.getCount();\n        db.close();\n        cur.close();\n        return rowCount;            \n      }\n        public String getroot() throws SQLException\n          {  \n           SQLiteDatabase db=this.getReadableDatabase();\n           Cursor cur=db.rawQuery(\"SELECT * from \"+ TABLE_PARTY + \"WHERE route_name=?\",null);\n           cur.getString(cur.getColumnIndex(\"route_name\"));\n           db.close();\n           cur.close();\n        return getroot();\n          }\n\n\n      public boolean Login(String username, String password) throws SQLException \n        {\n          SQLiteDatabase db=this.getReadableDatabase();\n           Cursor mCursor = db.rawQuery(\"SELECT * FROM \" + TABLE_LOGIN + \" WHERE name=? AND password=?\", new String[]{username,password});\n            if (mCursor != null) {           \n                if(mCursor.getCount() &gt; 0)\n                {\n                    return true;\n                }\n            }\n         return false;\n        }\n\n      public int rootnm(String[] route_name) throws SQLException \n        {\n          SQLiteDatabase db=this.getReadableDatabase();\n           Cursor mnCursor = db.rawQuery(\"SELECT * FROM \" + TABLE_PARTY + \" WHERE route_name=? \", new String[] {});\n            if (mnCursor != null) {           \n                if(mnCursor.getCount() &gt; 0)\n                {\n                    db.getSyncedTables();\n                }\n            }\n            return 0;\n\n        }\n\n      public Cursor queueAll(){\n          String[] columns = new String[]{KEY_PID, KEY_ROUTE_NAME};\n          SQLiteDatabase db = null;\n        Cursor cursor123 = db.query(TABLE_PARTY, columns,\n            null, null, null, null, null);\n\n          return cursor123;\n          }\n\n      public Cursor retrieveRecords()\n      {\n        Cursor c = null;\n        SQLiteDatabase db = null;\n        c = db.rawQuery(\"select DISTICT route_name from party_master\", null);\n       return c;\n      }\n\n      private Cursor query(String selection, String[] selectionArgs, String[] columns) {\n            /* The SQLiteBuilder provides a map for all possible columns requested to\n             * actual columns in the database, creating a simple column alias mechanism\n             * by which the ContentProvider does not need to know the real column names\n             */\n            SQLiteQueryBuilder builder = new SQLiteQueryBuilder();\n            builder.setTables(TABLE_PARTY);\n\n            SQLiteOpenHelper db = null;\n            Cursor cursor = builder.query(db.getReadableDatabase(),\n                    columns, selection, selectionArgs, null, null, null);\n\n            if (cursor == null) {\n                return null;\n            } else if (!cursor.moveToFirst()) {\n                cursor.close();\n                return null;\n            }\n            return cursor;\n        }\n\n      public Cursor getWord(String route_name1, String[] columns) {\n            String selection = \"route_name = ?\";\n            String[] selectionArgs = new String[] {route_name1};\n\n            return query(selection, selectionArgs, columns);\n\n            /* This builds a query that looks like:\n             *     SELECT &lt;columns&gt; FROM &lt;table&gt; WHERE rowid = &lt;rowId&gt;\n             */\n        }\n\n      String[] rt = new String[]{KEY_ROUTE_NAME};\n\n\n\n    public void resetTables(){\n        SQLiteDatabase db = this.getWritableDatabase();\n        // Delete All Rows\n        db.delete(TABLE_LOGIN, null, null);\n        db.delete(TABLE_PARTY, null, null);\n        db.close();\n    }\n\n}\n</code></pre>\n\n<p>and AddItemActivity is </p>\n\n<p>public class AddItemActivity extends Activity{</p>\n\n<pre><code>private EditText etroute;\nprivate EditText etshop;\nprivate Button btnAddItem;\nprivate Button btnOkRoute;\nprivate Button btnOkShop;\npublic SQLiteDatabase db;\n\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.additem);\n\n    LoginDB lg =new LoginDB(AddItemActivity.this);\n\n  // String[] route_name = lg.retrieveRecords();\n\nString[] route = lg.rt ;\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_dropdown_item_1line, route);\n         AutoCompleteTextView textView = (AutoCompleteTextView)\n            findViewById(R.id.route);\n\n         textView.setThreshold(0);\n         textView.setAdapter(adapter);\n\n // Get the EditText and Button References\n     etroute = (EditText)findViewById(R.id.route);\n     etshop = (EditText)findViewById(R.id.shop);\n\n     db =openOrCreateDatabase(\"DATABASE_NAME\", MODE_PRIVATE, null);\n     db.execSQL(\"CREATE TABLE IF NOT EXISTS TABLE_PARTY (KEY_ROUTE_NAME TEXT);\");\n     Cursor c1=db.rawQuery(\"SELECT * FROM TABLE_PARTY\", null);\n     if (c1.moveToNext())\n       etroute.setText(c1.getString(0));\n\n\n     etshop = (EditText)findViewById(R.id.shop);\n     btnAddItem = (Button)findViewById(R.id.add_item);\n     btnOkRoute = (Button)findViewById(R.id.btn_ok_route);\n     btnOkShop = (Button)findViewById(R.id.btn_ok_shop);\n\n\n     btnOkRoute.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String route_name = etroute.getText().toString();\n\n         }\n     });\n\n     btnOkShop.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String party_name = etshop.getText().toString();\n\n         }\n     });\n\n     btnAddItem.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String route_name = etroute.getText().toString();\n             String party_name = etshop.getText().toString();\n\n             {\n                     Toast.makeText(AddItemActivity.this, \"Record Successfully Inserted\", 2000).show();\n                    }\n              db.close();\n         }\n     });\n\n\n}\n}\n</code></pre>\n"},{"tags":["php","database","wordpress","wpdb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13235084,"title":"Create wordpress table, where am i going wrong?","body":"<pre><code>        global $wpdb;\n        $table_name = $wpdb-&gt;prefix . \"product_order\";   \n\n        $sql = \"CREATE TABLE $table_name (\n            id mediumint(9) NOT NULL AUTO_INCREMENT,\n            range VARCHAR(255),\n            category VARCHAR(255),\n            order mediumint(9),\n            relation mediumint(9),\n            UNIQUE KEY id (id)\n        );\";\n\n        $wpdb-&gt;query($sql);\n</code></pre>\n\n<p>That doesn't seem to create a table... any reasons why? I tried dbdelta too.</p>\n"},{"tags":["sql","database","sql-server-2008","query","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13235606,"title":"SQL query :Copy one table to another from different servers","body":"<p>What's wrong with my query, I want to copy three columns to another server\\table if one of the column (ID_DIRCT) is not null :</p>\n\n<pre><code>INSERT INTO  System\\Syst3.Server1.dbo.TABLE_RESRC (NO_EMPLY,PR,NM_FAML,CO_DIRCT)\nSELECT NO_EMPLY, PR_EMPLY, NM_EMPLY, ID_DIRCT \nFROM System\\Syst3.Server2.dbo.RESRC\nWHERE System\\Syst3.Server2.dbo.RESRC.ID_DIRCT IS NOT NULL\n</code></pre>\n\n<p>Using SQL Server 2008 R2.</p>\n\n<p>Thanks.</p>\n"},{"tags":["sql","database","oracle","query"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13198395,"title":"Select with SQL the oldest payment associated to a list of persons","body":"<p>Having troubles with a SQL query on an Oracle database (11G I think).</p>\n\n<p>I need to make a query on two tables. The first one contains identifiers of persons. The second one contains payments (you can consider it as salaries), each record associated to the person with a foreign key.</p>\n\n<p>What I need to do is retrieve, for a known list of persons (let's say identifiers 1, 2, 5 and 10), the oldest payment (based on the payment date).</p>\n\n<p>What I made first is this : </p>\n\n<pre><code>select id_person, MIN(payment_date) \nfrom payment where id_person in (1, 2, 5, 10)\ngroup by id_person;\n</code></pre>\n\n<p>This retrieves something like :</p>\n\n<pre><code>1   19940623\n2   20100429\n5   20100204\n10  20100111\n</code></pre>\n\n<p>Now, how do I get, for each person, the complete record of the ´payment´ table which correspond to the oldest payment ?</p>\n\n<p>I cannot figure out a way of doing this...</p>\n\n<p>The answer must be in a single SQL query (I cannot make a call for each person, which would be very easy to do...)</p>\n"},{"tags":["c#","asp.net",".net","database","razor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12799339,"title":"A form for each WebGrid row","body":"<p>I have a WebGrid. Now, I would like to let the user edit a quantity in each Column row.</p>\n\n<p>Sine I have little experience with jQuery and AJAX, I would like to do this with just HTML/C#. So I was thinking, the simplest way would be to have a form for each row.</p>\n\n<p>The WebGrid may have hundreds, if not thousands of rows.</p>\n\n<p>Is this common practice? Is there a better way?</p>\n"},{"tags":["sql","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":13233495,"title":"Using \"power of two numbers\" for length of database columns","body":"<p>I always try to use power of two numbers to define the length of my database columns, either VARCHAR or CHAR type.</p>\n\n<p>Researching by Internet and debate with partners we do not achieve clarify anything about that, if it take advantaged of full clusters usage or something like that, so the question es simple:</p>\n\n<p><strong>Is it better use power of two numbers to define the length of the database VARCHAR and CHAR columns?</strong></p>\n"},{"tags":["ruby-on-rails","ruby","database","heroku","pull"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":290,"score":6,"question_id":12580982,"title":"Unable to fetch tables information when running heroku db:pull","body":"<p>I have an application that uses postgres in development and production. I recently pushed to heroku and everything was working fine. I was able to pull the database from heroku and push back up with no problem. Today however, I tried to pull the DB down from heroku and I received this error</p>\n\n<pre><code>heroku db:pull\n\nLoaded Taps v0.3.24\n    Auto-detected local database: postgres://postgres:a@127.0.0.1/app_development?encoding=utf8\n    Warning: Data in the database 'postgres://postgres:a@127.0.0.1/app_development?encoding=utf8' will be overwritten and will not be recoverable.\n\n     !    WARNING: Destructive Action\n     !    This command will affect the app: app\n     !    To proceed, type \"app\" or re-run this command with --confirm app\n\n    &gt; app\nReceiving schema\nUnable to fetch tables information from http://heroku:osui59a24am79x@taps19.heroku.com. Please check the server log.\n</code></pre>\n\n<p>So I run <code>heroku logs</code> after:</p>\n\n<pre><code>james@james-Vostro-3550:~/Desktop/app$ heroku logs\n2012-09-25T10:08:32+00:00 app[web.1]: Started GET \"/users\" for X.X.X.X at 2012-09-25 10:08:32 +0000\n2012-09-25T10:08:32+00:00 heroku[router]: GET app.herokuapp.com/users? dyno=web.1 queue=0 wait=0ms service=38ms status=200 bytes=10727\n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]: Started GET \"/application.css\" for X.X.X.X at 2012-09-25 10:08:32 +0000\n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]: ActionController::RoutingError (No route matches [GET] \"/application.css\"):\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/rack/logger.rb:26:in `call_app'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/rack/logger.rb:16:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/request_id.rb:22:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'\n2012-09-25T10:08:32+00:00 heroku[router]: GET app.herokuapp.com/application.css dyno=web.1 queue=0 wait=0ms service=6ms status=404 bytes=728\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/static.rb:62:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:136:in `forward'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:245:in `fetch'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:185:in `lookup'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/engine.rb:479:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/application.rb:220:in `call'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/railtie/configurable.rb:30:in `method_missing'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:78:in `catch'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:80:in `block in pre_process'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:53:in `process'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:78:in `pre_process'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:38:in `receive_data'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in `run_machine'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in `run'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/backends/base.rb:63:in `start'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/server.rb:159:in `start'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/controllers/controller.rb:86:in `start'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/runner.rb:185:in `run_command'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/runner.rb:151:in `run!'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/bin/thin:6:in `&lt;top (required)&gt;'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/bin/thin:19:in `load'\n2012-09-25T10:08:32+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/bin/thin:19:in `&lt;main&gt;'\n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 heroku[router]: GET app.herokuapp.com/assets/admin-e0756c8b3550bb800d5f58837c42ec80.css dyno=web.1 queue=0 wait=0ms service=7ms status=200 bytes=1941\n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]: \n2012-09-25T10:08:32+00:00 app[web.1]: Started GET \"/assets/admin-e0756c8b3550bb800d5f58837c42ec80.css\" for X.X.X.X at 2012-09-25 10:08:32 +0000\n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]: Started GET \"/projects\" for X.X.X.X at 2012-09-25 10:08:41 +0000\n2012-09-25T10:08:41+00:00 heroku[router]: GET app.herokuapp.com/projects dyno=web.1 queue=0 wait=0ms service=31ms status=304 bytes=0\n2012-09-25T10:08:41+00:00 app[web.1]: Started GET \"/application.css\" for X.X.X.X at 2012-09-25 10:08:41 +0000\n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'\n2012-09-25T10:08\n:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/request_id.rb:22:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/lock.rb:15:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/activesupport-3.2.6/lib/active_support/cache/strategy/local_cache.rb:72:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]: ActionController::RoutingError (No route matches [GET] \"/application.css\"):\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:185:in `lookup'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/rack/logger.rb:26:in `call_app'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:245:in `fetch'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/rack/logger.rb:16:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/runtime.rb:17:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/railtie/configurable.rb:30:in `method_missing'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/actionpack-3.2.6/lib/action_dispatch/middleware/static.rb:62:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:136:in `forward'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/application.rb:220:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/server.rb:159:in `start'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:78:in `catch'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/railties-3.2.6/lib/rails/engine.rb:479:in `call'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in `run_machine'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/rack-cache-1.2/lib/rack/cache/context.rb:66:in `call!'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:80:in `block in pre_process'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:53:in `process'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/backends/base.rb:63:in `start'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:78:in `pre_process'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in `run'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/connection.rb:38:in `receive_data'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/runner.rb:151:in `run!'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/runner.rb:185:in `run_command'\n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/bin/thin:19:in `&lt;main&gt;'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/lib/thin/controllers/controller.rb:86:in `start'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/gems/thin-1.4.1/bin/thin:6:in `&lt;top (required)&gt;'\n2012-09-25T10:08:41+00:00 app[web.1]:   vendor/bundle/ruby/1.9.1/bin/thin:19:in `load'\n2012-09-25T10:08:41+00:00 app[web.1]: \n2012-09-25T10:08:41+00:00 heroku[router]: GET app.herokuapp.com/application.css dyno=web.1 queue=0 wait=0ms service=9ms status=404 bytes=728\n2012-09-25T10:11:00+00:00 heroku[run.1]: Awaiting client\n2012-09-25T10:11:00+00:00 heroku[run.1]: Starting process with command `bundle exec rake db:migrate`\n2012-09-25T10:11:00+00:00 heroku[run.1]: State changed from starting to up\n2012-09-25T10:11:06+00:00 heroku[run.1]: Client connection closed. Sending SIGHUP to all processes\n2012-09-25T10:11:07+00:00 heroku[run.1]: Process exited with status 1\n2012-09-25T10:11:07+00:00 heroku[run.1]: State changed from up to complete\n2012-09-25T10:08:23+00:00 heroku[web.1]: State changed from starting to up\n2012-09-25T10:08:01+00:00 heroku[web.1]: Unidling\n2012-09-25T10:08:01+00:00 heroku[web.1]: State changed from down to starting\n</code></pre>\n\n<p>I have no idea where to look for a solution, so hopefully someone can help. I've just started learning rails so please remember this when trying to help.</p>\n\n<p>Thanks in advance.</p>\n\n<p>EDIT:</p>\n\n<p>I have tried all sorts: \nreinstalling heroku, taps.\nremade my app and pushing to heroku.\nreinstalled postgres.</p>\n\n<p>Nothing seems to work. Driving me mad!</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":13233649,"title":"MySQL: Impossible WHERE noticed after reading const table","body":"<p>A very simple query always returns an empty result set, after running EXPLAIN, this is what I got:</p>\n\n<pre><code>EXPLAIN SELECT u.id, fname\nFROM user u\nWHERE (birthdate\nBETWEEN \"1992-04-05\"\nAND \"1990-04-05\")\nLIMIT 0,20\n</code></pre>\n\n<p>No matter, if I turn birthdays arround (1990-1992), it's the same... </p>\n\n<pre><code>id  select_type table   type    possible_keys   key key_len ref rows    Extra\n1   SIMPLE  NULL    NULL    NULL    NULL    NULL    NULL    NULL    Impossible WHERE noticed after reading const table...\n</code></pre>\n\n<p>What does this error say? I only found other issues on SO where people tried to join tables, but this query is so simple, what is the matter with it? Any ideas would be highly appreciated, thank you already!</p>\n"},{"tags":["database","google","tabs","maps","infobubble"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12326021,"title":"Infowindows with tabs (Infobubble) only displaying content from last marker added (via PHP/Mysql))","body":"<p>Ok I've been trying to implement <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/trunk/infobubble/examples/example.html\" rel=\"nofollow\">Infobubbles with tabs</a> on a map populated with many markers, recovered from a Mysql database with an ajax call (built with <a href=\"https://developers.google.com/maps/articles/phpsqlajax_v3\" rel=\"nofollow\">this tutorial from Google</a> ).</p>\n\n<p>The click event is reacting well with every marker, but the problem is that every infobubble is displaying the same html content in the tabs, from the last marker added I guess... There must be a closure problem, but I feel quite useless for the moment, this is driving me crazy ! Thx for any help you could provide...</p>\n\n<pre><code>function init() {\n\n    var mapCenter = new google.maps.LatLng(48.204612, 7.419058);\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 9,\n      center: mapCenter,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n\n    var infoBubble = new InfoBubble({\n        map: map,\n        maxWidth: 300,\n        disableAnimation: true\n    });\n\n    // Get markers and info from the database\ndownloadUrl(\"phpsqlajax_genxml3.php\", function(data) {\n    var xml = data.responseXML;\n    var markers = xml.documentElement.getElementsByTagName(\"marker\");\n    for (var i = 0; i &lt; markers.length; i++) {\n        var name = markers[i].getAttribute(\"name\");\n        var address = markers[i].getAttribute(\"address\");\n        var description = markers[i].getAttribute(\"description\");\n        var type = markers[i].getAttribute(\"type\");\n        var point = new google.maps.LatLng(\n          parseFloat(markers[i].getAttribute(\"lat\")),\n          parseFloat(markers[i].getAttribute(\"lng\")));\n        var html = \"&lt;b&gt;\" + name + \"&lt;/b&gt; &lt;br/&gt;\" + address;\n        var icon = customIcons[type] || {};\n        var marker = new google.maps.Marker({\n        map: map,\n        title: name,\n        position: point,\n        icon: icon.icon,\n        shadow: icon.shadow,\n        });\n\n        google.maps.event.addListener(marker, 'click', function() {\n        if (!infoBubble.isOpen()) {\n        infoBubble.open(map, this); \n        }\n        });\n\n        google.maps.event.addListener(map, \"click\", function(){\n        infoBubble.close();\n        });\n    }\n\ninfoBubble.addTab('Tab1', html);\ninfoBubble.addTab('Tab2', description);\n\n});\n}\n</code></pre>\n"},{"tags":["sql","database","oracle"],"answer_count":7,"favorite_count":0,"up_vote_count":3,"down_vote_count":3,"view_count":362,"score":0,"question_id":9930364,"title":"How do I print a triangle of stars using SQL","body":"<p>Is it practically possible to create a triangle of stars like this as below in SQL.I know that this could be done easily in any other programming language like C,C++,Java but want to know whether it is really possible with just SQL or PL/SQL.I tried working on it with dual table in Oracle but couldn't get through it.</p>\n\n<pre><code>  *              *\n * *             * * \n* * *    or      * * *\n</code></pre>\n\n<p>Can someone please shed somelight if anyone knows about it.</p>\n"},{"tags":["database","vb.net","visual-studio-2005"],"answer_count":1,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":7853,"score":9,"question_id":16443,"title":"Create DB table from dataset table","body":"<p>Is it possible (in Vb.Net 2005), without manually parsing the dataset table properties, to create the table and add it to the database?</p>\n\n<p>We have old versions of our program on some machines, which obviously has our old database, and we are looking for a way to detect if there is a missing table and then generate the table based on the current status of the table in the dataset.  We were re-scripting the table every time we released a new version (if new columns were added) but we would like to avoid this step if possible.</p>\n"},{"tags":["php","jquery","database","image","lightbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13233753,"title":"Get size of an image from database","body":"<p>i have a simple tag based image gallery which saves all images in a database. To show these images there is a small php script</p>\n\n<pre><code>&lt;?php\n    include_once(\"config/config.php\");\n\n    $mysql_user = USER;\n    $password = PWD;\n    $database_host = HOST;\n    $database = DB;\n\n    mysql_connect($database_host, $mysql_user, $password) or die (\"Unable to connect to DB server. Error: \".mysql_error());\n    mysql_select_db($database);\n\n\n    header('Content-type: image/jpeg');\n    $query = \"SELECT imgblob from images where id=\". intval($_GET[\"id\"]);\n    $rs = mysql_fetch_array(mysql_query($query));\n    //echo mysql_error();\n    echo base64_decode($rs[\"imgblob\"]);\n?&gt;\n</code></pre>\n\n<p>After a search there is a list of images that looks like </p>\n\n<pre><code>&lt;a class=\"lightbox\" href=\"showimage.php?id=1\" title=\"\" &gt;&lt;img src=\"showimage.php?id=1\" /&gt;&lt;/a&gt;\n</code></pre>\n\n<p>I use lightbox to resize the image on click. So i need to get the size of the image source (showimage.php?id=1).</p>\n\n<p>I have the following code snippet</p>\n\n<pre><code> $('a.lightbox').each(function() {\nvar img = $(this).children(\"img\");\n\nvar theImage = new Image();\ntheImage.src = img.attr(\"src\");\n$(this).fancybox({\n'transitionIn' : 'elastic',\n'transitionOut' : 'elastic',\n'speedIn' : 600,\n'speedOut' : 200,\n'overlayShow' : false,\n'type' : 'iframe',\n'width' : theImage.width + 20,\n'height' : theImage.height + 20\n});\n});\n</code></pre>\n\n<p>These function doesn't work all time. Often the resize image is very small. I don't have any idea to fix it.</p>\n\n<p>Here is a sample gallery <a href=\"http://www.phyxius.de/projects/phx.imga/\" rel=\"nofollow\">www.phyxius.de/projects/phx.imga/</a></p>\n"},{"tags":["database","spring","h2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13180781,"title":"Spring H2 embedded-database file?","body":"<p>I currently run my petproject on maven using an embedded jetty and H2 database:</p>\n\n<pre><code>&lt;jdbc:embedded-database id=\"dataSource\" type=\"H2\"&gt;\n   &lt;jdbc:script location=\"/WEB-INF/database.sql\"/&gt;\n&lt;/jdbc:embedded-database&gt;\n</code></pre>\n\n<p>This setup resets my DB every time I run the server. I want to save the DB as a file in disk so that I do not lose my data upon every server start. How do I accomplish this?</p>\n"},{"tags":["iphone","database","xcode","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13229498,"title":"get data form webservice by sendAsynchronousRequest.","body":"<pre><code>+ (NSData *) sendGETRequest:(NSString *) url\n{\n    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url]\n                                                           cachePolicy:NSURLRequestReloadIgnoringLocalAndRemoteCacheData\n                                                       timeoutInterval:10];\n    [request setHTTPMethod: @\"GET\"];\n    [NSURLConnection sendAsynchronousRequest:request queue:[[NSOperationQueue alloc] init] completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) \n        {\n        [Common alertStatus:@\"N/A PTZ\" :@\"System error!\"];\n        }];\n}\n</code></pre>\n\n<p>I want to get data from web services and I have used <code>sendAsynchronousRequest</code> but It does not run! Maybe I have done something wrong. Please help !!</p>\n"},{"tags":["jquery","ajax","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13232807,"title":"retrieve more than json with ajax","body":"<p>how I can retrieve more than 1000 of the database table row with ajax . </p>\n\n<p>Status Code 500 on AJAX</p>\n\n<pre><code>    $.ajax({\n        type: \"POST\",\n        url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n        async: false,\n        success:function (data)\n        {\n            alert(\"Succes, des retirer les données PhrasesTypes\");\n            var result = $.parseJSON(data.d);\n            //////alert(\"les données\"+result);\n            callback(result);\n        },\n        error: function(xhr, ajaxOptions, thrownError) \n        {\n            alert(\"Statu: \"+xhr.status);\n            alert(\"Throw: \"+thrownError);\n        }\n    });\n\n},\n</code></pre>\n"},{"tags":["mysql","database","enums"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13218639,"title":"how can we dont allow enum in mysql that doesn't be empty?","body":"<p>I have an enum in mysql, i want that it doesn't get some thing except it's variables.\n when i pass it a strange variable, it doesn't accept it, but the last variable is cleared.\nhow can i do that?(sorry for my poor English!)\nwhen some incorrect var inserts, it doesn't insert actually, but the last var is cleared!\ni want keep it. how can i do that?</p>\n"},{"tags":["java","sql","database","hibernate","jpql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13230956,"title":"conditional left outer join SQL query To JPQL","body":"<p>What is a <strong>jpql</strong> equivalent of following <strong>SQL</strong> query :</p>\n\n<pre><code>select * from App left outer join App_Child on (App.id=App_Child.id and App_Child.status = 'active') where App.status='active' and App.id=1;\n</code></pre>\n\n<p><strong>Sample Data:</strong></p>\n\n<pre><code>ij&gt; select * from App;\nID         |STATUS\n----------------------\n1          |active\n2          |active1\n3          |active3\n5          |active\n\n4 rows selected\nij&gt; select * from App_Child;\nID         |STATUS    |D\n----------------------------------\n1          |active    |1\n2          |active11  |2\n1          |active111 |3\n1          |active    |4\n\n4 rows selected\nij&gt; select * from App left outer join App_Child on (App.id=App_Child.id and App_Child.status = 'active') where App.status='active' and App.id=1;\nID         |STATUS    |ID         |STATUS    |D\n---------------------------------------------------------\n1          |active    |1          |active    |1\n1          |active    |1          |active    |4\n\n2 rows selected\nij&gt; select * from App left outer join App_Child on (App.id=App_Child.id and App_Child.status = 'active') where App.status='active' and App.id=5;\nID         |STATUS    |ID         |STATUS    |D\n---------------------------------------------------------\n5          |active    |NULL       |NULL      |NULL\n\n1 row selected\n</code></pre>\n\n<p>EDIT : We are using <strong>jpa 2.0</strong></p>\n"},{"tags":["mysql","database","database-design","database-schema"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":13167365,"title":"(Somewhat) complicated database structure vs. simple — with null fields","body":"<p>I'm currently choosing between two different database designs. One <strong>complicated</strong> which <strong>separates data</strong> better then the more simple one. The more complicated design will require more <strong>complex queries</strong>, while the <strong>simpler</strong> one will have a couple of <strong><code>null</code> fields</strong>.</p>\n\n<p>Consider the examples below: </p>\n\n<p><strong>Complicated:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/XgIwO.png\" alt=\"Complicated\"></p>\n\n<p><strong>Simpler:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/DqD5l.png\" alt=\"Simpler\"></p>\n\n<p>The above examples are for separating regular users and Facebook users (they will access the same data, eventually, but login differently). On the first example, the data is clearly separated. The second example is way simplier, but will have at least one <code>null</code> field per row. <code>facebookUserId</code> will be null if it's a normal user, while <code>username</code> and <code>password</code> will be null if it's a Facebook-user.</p>\n\n<p>My question is: <strong>what's prefered</strong>? Pros/cons? Which one is easiest to maintain over time?</p>\n"},{"tags":["sql","database","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13221068,"title":"How to download data from web server and save for core data","body":"<p>I have an app I'm working on that will have about 500 contacts, names, email addresses, website addresses ,etc. I will be updating the contacts frequently adding new contacts, and updating emails that change. I was advised the best way to do this with core data would be to do a fetch to find the youngest record and ask my server for all the records that are even younger.</p>\n\n<p>My question is how to download the youngest record from my server and save it for use with core data.</p>\n\n<p>I've looked around, but dont see anything on using core data with a database stored on a server. Or am I missing something, is there another way to go about creating this app. </p>\n\n<p>I need to be able to update my database frequently and for the results to reach the app user</p>\n"},{"tags":["php","mysql","database","class","global"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13231804,"title":"Call to a member function fire_query() on a non-object","body":"<p>I keep getting the error Call to a member function fire_query() on a non-object, it's really frustrating, I just don't know what is wrong.</p>\n\n<p>my class:</p>\n\n<pre><code>require_once(\"MySQLDatabase.class.php\");  \n\nglobal $database;\n$result = $database-&gt;fire_query($query);\n$object_array = array();\n</code></pre>\n\n<p>This is my MySQLDatabase class</p>\n\n<pre><code>&lt;?php   \n    require_once(\"config.php\");\n    class MySQLDatabase_class\n    {\n        //Some stuff\n\n\n        public function fire_query($query)\n        {\n            $result = mysqli_query($this-&gt;db_connection, $query) or die(\"&lt;font color='red'&gt;Error code: 1x1003&lt;/font&gt;&lt;br&gt;\".$query);\n            return $result;\n        }\n\n\n        //Some more stuff\n    }\n\n    $database = new MySQLDatabase_class();\n?&gt;\n</code></pre>\n\n<p>I have done this tons of times, and it always works.\nI just can't figure it out why \"global $database\" doesn't work.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","mysql","database","excel"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":13231547,"title":"Export simple excel data into MySQL using PHP","body":"<p>My client got a excel file with the following structure</p>\n\n<pre><code>name     |     email\n----------------------------\nName     |   email here\nName     |   email here\nName     |   email here\nName     |   email here\nName     |   email here\nName     |   email here\n</code></pre>\n\n<p>I would likes to make a MySQL database table according to this pattern and save the data into MySQL.</p>\n\n<p>I am wonder how to do this. \nAlso there is an option needed</p>\n\n<p>We have to check that if that corresponding user had a correct email address, ie of the form @ . </p>\n\n<p>Can we check the data as a loop while importing ?</p>\n\n<p>Also how to convert this data to MySQL ?</p>\n"},{"tags":["java","database","netbeans","derby"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13231065,"title":"Netbeans 7.2.1. Java Application with Embedded Derby Database","body":"<p>I pretend to build a java application with a derby database embedded. However, I can't establish a connection with my database. After following some tutorials I found on Internet, I ended up adding this code to my main method. </p>\n\n<pre><code>String dbms = \"jdbc:derby:database;create=true\";\nString uName = \"admin\";\nString uPass= \"pass\";\n\nConnection con = DriverManager.getConnection(dbms, uName, uPass);\n</code></pre>\n\n<p>But I get the following error: <code>\"No suitable driver found for jdbc:derby....\"</code>\nStrange is that if I use a not embedded connection like this: </p>\n\n<pre><code>String dbms = \"jdbc:derby://localhost:1527/database\";\n</code></pre>\n\n<p>The connection works. Am i missing some file on libraries or something, in a tutorial i found it was saying to add the \"derbyclient.jar\" to the libraries of the project, but still not working!</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13230881,"title":"android sqlite database disk image is malformed","body":"<p>I have a problem with my database in android app.</p>\n\n<p>I'm copying the database from the assets folder to the datbase path\nafter that, some queries work just find &amp; other queries return :</p>\n\n<p>database disk image is malformed.\nbut when I check those tables using sqlbrowser, it works just fine.\nNote : all the queries are select statements only.</p>\n"},{"tags":["jquery","ajax","database","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13230575,"title":"synchronizing a database using PhoneGap","body":"<p>I am trying to synchronize database with PhoneGap.</p>\n\n<p>the problem is as follows:</p>\n\n<p>when I select 30 line  from the database, $. ajax (using web service) all goes well, but when i select  300 line I got no line.</p>\n\n<blockquote>\n  <p>$.ajax({\n                 type: \"POST\",\n                   url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n                   contentType: \"application/json; charset=utf-8\",\n                   dataType: \"json\",\n                   async_PhrasesTypes : false,\n                   success:function (data)\n                {\n                     ////alert(\"Succes, des retirer les données PhrasesTypes\");\n                     var result = $.parseJSON(data.d);\n                     //////alert(\"les données\"+result);\n                     callback(result);\n                  },\n                  error: function(model, response) \n                {\n                      ////alert(\"pas des données\");\n                  }\n              });</p>\n\n<pre><code>    }\n</code></pre>\n</blockquote>\n\n<p>sorry if the code is not clear.</p>\n"},{"tags":["python","sql","database","firebird","firebird2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":38,"score":-2,"question_id":13230203,"title":"Receiving quantity and list of fields of the table in Firebird","body":"<p>What sql request receives quantity of fields of the table Firebird in firebirdsql connection with database? What sql request receives the list of fields of the table Firebird in firebirdsql connection with database? It is not duplicate of <a href=\"http://stackoverflow.com/questions/13227764/receiving-quantity-and-list-of-fields-of-the-table\">Receiving quantity and list of fields of the table</a>, Now I want to know this for firebird database with firebirdsql connection in Python?</p>\n"},{"tags":["database","phpunit","yaml"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":333,"score":0,"question_id":10948273,"title":"Loading schema from SQL file, in PHPUnit test","body":"<p>I'm trying to build a teste case that uses the database extension of PHPUnit. I've followed the <a href=\"http://www.phpunit.de/manual/3.6/en/database.html\" rel=\"nofollow\">official documentation</a> and <a href=\"http://digitalsandwich.com/archives/63-PHPUnit-Database-Extension-DBUnit-Port.html\" rel=\"nofollow\">this post</a> of Mike Lively, but PHPUnit keeps complaining:</p>\n\n<pre><code>1) ClearanceProfileTest::testFetchPrivileges\nPHPUnit_Extensions_Database_Operation_Exception: COMPOSITE[TRUNCATE] operation failed on query:\n            DELETE FROM \"profile_privilege_mappings\"\n         using args: Array\n(\n)\n[SQLSTATE[HY000]: General error: 1 no such table: profile_privilege_mappings]\n</code></pre>\n\n<p>I believe that the error is caused because my databse schema wasn't set, but I can't find a way to load it. I tried loading my <code>.sql</code> file contents, and executing it as PDO query, but it just did nothing.</p>\n\n<p>Here is my testcase code:</p>\n\n<pre><code>class ClearanceProfileTest extends PHPUnit_Extensions_Database_TestCase{\n/**\n * @return PHPUnit_Extensions_Database_DB_IDatabaseConnection\n */\npublic function getConnection(){\n    $pdo = new PDO('sqlite::memory:');\n    return $this-&gt;createDefaultDBConnection($pdo, ':memory:');\n}\n\n/**\n * @return PHPUnit_Extensions_Database_DataSet_IDataSet\n */\nprotected function getDataSet(){\n    $yaml = dirname(__FILE__) . \"/ClearanceProfileTestDataset.yml\";\n    $dataset = new PHPUnit_Extensions_Database_DataSet_YamlDataSet($yaml);\n    return $dataset;\n}\npublic function testFetchPrivileges(){\n    $cp = ClearanceProfile::retrieve_one('id = ?', 1);\n    $privileges = $cp-&gt;fetchPrivileges();\n    $this-&gt;assertEquals(count($privileges), 1);\n}\n}\n</code></pre>\n"},{"tags":["java","mysql","database","jdbc","jndi"],"answer_count":8,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":229,"score":4,"question_id":11500257,"title":"What is faster: JDBC or JNDI?","body":"<p>I have two options to configure my application database connection - one is using JDBC, another one is using JNDI. What will be the best option in terms of how fast those connection types work with the database. </p>\n\n<p>I understand those are two different types of database connections using different principles (JDBC is a direct db connection, JNDI is a database connection pool configuration on application server side). But are there other general JDBC/JNDI pros and cons which might be more important than operating speed? If yes, what are they?</p>\n"},{"tags":["sql","database","oracle","query"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":10430335,"title":"sql query to find absent tables from database","body":"<p>I am using ORACLE database. \n<strong>EDIT</strong>:</p>\n\n<p>I want only tables not present in a list, not all those tables in database.</p>\n\n<p>Ex: In my database following tables are present:</p>\n\n<pre><code>a\nb\nc\nd\ne\nr\ns\n</code></pre>\n\n<p>I am being given a list of tables:</p>\n\n<pre><code>a\nb\nc\nv\nh\n</code></pre>\n\n<p>out of which i want to find out which tables are <strong>absent(not present)</strong> in my database.</p>\n\n<p>so: a, b, c are those tables which are present in my database. So excluding these tables my answer will be:</p>\n\n<pre><code>v and h \n</code></pre>\n\n<p><strong>My answer is not d,e,r,s</strong></p>\n\n<p>How can i write a query for this to find out?</p>\n"},{"tags":["sql","database","oracle","left-join","oracle9i"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13194453,"title":"leftouter join in sql","body":"<p>I have two tables initially in the application. They are as</p>\n\n<pre><code>user                       \n------------------------      \nuser_id                      \ncolumn1                         \ncolumn2\n..\n\nColumnn\n</code></pre>\n\n<h2>user_account_info</h2>\n\n<pre><code>user_id                   \naccount_number (can have multiple a/c number on single user_id)        \ncolumn1                      \ncolumn2          \n..            \nColumnn  \n</code></pre>\n\n<hr>\n\n<p>the query is like </p>\n\n<pre><code>SELECT u.column1, uai.column1, uai.Keycolumn2\n        FROM user u\n        LEFT OUTER JOIN user_account_info uai on u.user_id  = uai.user_id\n</code></pre>\n\n<p>But later a new table user_account_map is added and user_account_info is changed</p>\n\n<h2>user</h2>\n\n<pre><code>user_id                 \ncolumn1                                        \ncolumn2             \n..               \nColumnn   \n</code></pre>\n\n<h2>user_account_info</h2>\n\n<pre><code>account_number (can have multiple a/c number on single user_id)                       \ncolumn1                  \ncolumn2               \n..               \nColumnn \n</code></pre>\n\n<h2>user_account_map</h2>\n\n<pre><code>user_id                      \naccount_number (can have multiple a/c number on single user_id)                \ncolumn1              \ncolumn2 \n</code></pre>\n\n<p>How to rewrite the query to match the output that of the previous query.\n Is it ok to write like                   </p>\n\n<pre><code>SELECT u.column1, uai.column1, uai.Keycolumn2\nFROM user u\nLEFT OUTER JOIN user_account_map uam on u.user_id  = uam.user_id\nLEFT OUTER JOIN user_account_info uai on u.account_number  = uai.account_number\n</code></pre>\n"},{"tags":["ruby-on-rails","database","path"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":196,"score":2,"question_id":8122757,"title":"Rails is looking for /config/config/database.yml","body":"<p>I'm trying to migrate a Rails 2.3.4 application to Rails 3.1.1, and when i try to reach my root_path, i get a 500 errors.</p>\n\n<p>In my Nginx's log, i get this : </p>\n\n<blockquote>\n  <p>[ pid=12653 thr=2225406380 file=utils.rb:176 time=2011-11-14 14:39:42.907 ]: <em>*</em> Exception Errno::ENOENT in application (No such file or directory - /Users/cedric/Code/my-app/config/config/database.yml) (process 12653, thread #):     </p>\n</blockquote>\n\n<p>It seems that Rails is looking for my database.yml in <code>config/config</code> path instead of <code>config/</code>.</p>\n\n<p>Does anyone know how i can fix this problem?</p>\n\n<p>Thank you</p>\n"},{"tags":["database","oracle","insert"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13228609,"title":"How to insert simple string with ' char into oracle database","body":"<p>So my problem is that i need to insert company names into some database. It works fine but when i try to insert, for example Mc'Donalds it doesnt work because it finds end before the real end. So when i try that:</p>\n\n<pre><code>Inert into mydatabase (name, adress) values ('Mc'Donalds', 'somewhere') \n</code></pre>\n\n<p>It crashes. Is there some char like  \\ to ignore it? Thank u!</p>\n"},{"tags":["database","mongodb","database-design","nosql"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13225506,"title":"How should I store an object which belongs to multiple other objects in MongoDB?","body":"<p>I have a project I've been working on recently using MongoDB. Basically, the core element of my website is \"projects\". Each project will contain a nested \"strings\" object, which will contain a large amount of strings... So, each project is quite massive and can approach a megabyte or more. As such, I want to have the projects in their own collection.</p>\n\n<p>The problem I'm having is that I'm not for sure how to assign users to a project. Should a user contain a list of the projects they're enrolled in, or should the project contain a list of users? When should I choose one or the other? And is there a better way? (I haven't touched MongoDB in quite a while, so I'm a bit rusty) </p>\n"},{"tags":["javascript","sql-server","database","connection"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9793,"score":0,"question_id":5622242,"title":"Using Javascript to connect SQL Server database","body":"<p>I need to use Javascript to read some data from SQl Server 2008 Database.\nSo I wrote this:(html page code)</p>\n\n<pre><code>&lt;!DOCTYPE html \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"/&gt;\n&lt;title&gt;Database Connect&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction loadDB(){\nvar connection = new ActiveXObject(\"ADODB.Connection\");\n\nvar connectionstring=\"Data Source=ИЛЬЯ-ПК;Initial Catalog=C:\\Program Files\\Microsoft SQL Server\\MSSQL10.MSSQLSERVER\\MSSQL\\DATA\\SIGMA_Database.mdf;User ID=Илья;Password=\"\";Provider=SQLOLEDB\";\n\nconnection.open(connectionstring);\nvar rs = new ActiveXObject(\"ADODB.Recordset\");\n\nrs.Open(\"SELECT Username FROM Users\", connection);\nrs.MoveFirst();\nwhile(!rs.eof)\n{\n   document.write(rs.fields(1));\n   rs.MoveNext();\n}\n\nrs.close();\nconnection.close();\n\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"loadDB()\"&gt;\n&lt;div id=\"main\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>However, nothing happens!\nWhat is wrong with it?There're some cyrillic alphabet symbols in connection string, can it be a source of problem?Or another thing is going wrong?</p>\n"},{"tags":["c#","sql-server","database","sql-server-2008","database-administration"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13227146,"title":"Want an idea in writing a code section","body":"<p>Scenario :\nI am creating a admin tool in C# which will restore a full sql server backup in a server and apply the transaction logs. After db come up. I have run a few scripts shown below. </p>\n\n<pre><code>use master\nEXEC sp_addlogin '&lt;destsid&gt;', '&lt;sidadmpass&gt;','&lt;dbname&gt;'\nuse &lt;dbname&gt;\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nEXEC sp_change_users_login 'Update_One','&lt;destsid&gt;','&lt;destsid&gt;'\nuse master\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse msdb\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC     sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse model\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse tempdb\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse master\ngrant all on xp_cmdshell to &lt;destsid&gt;\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'serveradmin'\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'dbcreator'\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'bulkadmin'\nuse &lt;dbname&gt;\nif object_id('sp_change_sapuser') is not null\n    drop procedure sp_change_sapuser \ncreate procedure sp_change_sapuser @oldid sysname, @newid sysname\nas begin\ndeclare @oldid_uid  smallint\ndeclare @newid_uid  smallint    \ndeclare @object     sysname\ndeclare @object_full    nvarchar(999)\nset @oldid_uid = user_id(@oldid)\nset @newid_uid = user_id(@newid)\nif @oldid_uid is not null and @newid_uid is not null\nbegin\ndeclare object_cursor cursor local for \nselect name from sysobjects where((xtype='U' and name &lt;&gt; 'dtproperties') or (xtype='V' and name not in ('syssegments','sysconstraints')) or (xtype='P' and name not like 'dt_%') or (xtype='D' and name not like 'DF__dtpropert%') or (xtype in ('FN','TF','IF'))) and @oldid_uid = uid\nopen object_cursor\nfetch next from object_cursor into @object\nwhile @@fetch_status=0\nbegin\nset @object_full = user_name(@oldid_uid) + '.' + @object\nexec sp_changeobjectowner @object_full, @newid\nfetch next from object_cursor into @object\nend\nend\nelse\nif @oldid_uid is null\nbegin\nprint '*** old database user does not exist ***'\nend\nif @newid_uid is null\nbegin\nprint '*** new database user does not exist ***'\nend\nend\nexec sp_change_sapuser '&lt;sourcesid&gt;', '&lt;destsid&gt;'\nuse master\nEXEC sp_grantlogin   'AMR\\&lt;destsid&gt;adm'\nEXEC sp_grantlogin   'AMR\\SAPService&lt;dbname&gt;'\nEXEC sp_defaultdb    'AMR\\&lt;destsid&gt;adm','&lt;dbname&gt;'\nEXEC sp_defaultdb    'AMR\\SAPService&lt;dbname&gt;','&lt;dbname&gt;'\nEXEC sp_addsrvrolemember 'AMR\\&lt;destsid&gt;adm',     'sysadmin'\nEXEC sp_addsrvrolemember 'AMR\\SAPService&lt;dbname&gt;', 'sysadmin'\nEXEC xp_sqlagent_proxy_account 'SET', '&lt;servername&gt;', 'SAPMssXPUser',N'&lt;sidadmpass&gt;'\nuse master\nEXEC sp_addlogin '&lt;destsid&gt;', '&lt;sidadmpass&gt;', &lt;dbname&gt;\nuse &lt;dbname&gt;\nEXEC sp_change_users_login 'Update_One','&lt;destsid&gt;','&lt;destsid&gt;'\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse master\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse msdb\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse model\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse tempdb\nEXEC sp_grantdbaccess '&lt;destsid&gt;'\nEXEC sp_addrolemember 'db_owner', '&lt;destsid&gt;'\nuse master\ngrant all on xp_cmdshell to &lt;destsid&gt;\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'serveradmin'\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'dbcreator'\nEXEC sp_addsrvrolemember '&lt;destsid&gt;', 'bulkadmin'\n--EXEC xp_sqlagent_proxy_account 'SET', '&lt;servername&gt;', 'SAPMssXPUser', N'&lt;sidadmpass&gt;'\nEXEC sp_grantlogin   '&lt;destsid&gt;adm'\nEXEC sp_grantlogin   'SAPService&lt;dbname&gt;'\nEXEC sp_defaultdb    '&lt;destsid&gt;adm','&lt;dbname&gt;'\nEXEC sp_defaultdb    'SAPService&lt;dbname&gt;','&lt;dbname&gt;'\nEXEC sp_addsrvrolemember '&lt;destsid&gt;adm',     'sysadmin'\nEXEC sp_addsrvrolemember 'SAPService&lt;dbname&gt;', 'sysadmin'\n</code></pre>\n\n<p>Note : values given  will be replaced with actual values.</p>\n\n<p>While running these scripts few may throw exceptions. But i want to continue even though some scripts throws error. And also i have removed GO(batch terminator) because i cannot add separate dll into server. Please suggest some idea to get this problem solved. </p>\n\n<p>Details :\nProgramming lang : C#\nDb - Sql Server 2005,08</p>\n"},{"tags":["python","sql","database","ms-access","pyodbc"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13227764,"title":"Receiving quantity and list of fields of the table","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4539254/how-to-get-datatypes-of-specific-fields-of-an-access-database-using-pyodbc\">How to get datatypes of specific fields of an Access database using pyodbc?</a>  </p>\n</blockquote>\n\n\n\n<p>What sql request receives quantity of fields of the table Access in pyodbc connection with database? What sql request receives the list of fields of the table Access in pyodbc connection with database?</p>\n"},{"tags":["database","database-design","database-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13193412,"title":"Efficient way to store directories and files for backups","body":"<p>Typically for backup applications, I have seen the following database tables,</p>\n\n<p>DIRECTORY - has primary key of directory ID, name etc</p>\n\n<p>FILE      - has primary key of file ID, name, etc</p>\n\n<p>FILE_VERSIONS - has both directory ID and file ID along with version ID (all are primary) plus some other file statistics. This is the key table where most of the file stat and other informations are stored.</p>\n\n<p>We are using MySQL InnoDB engine. Based on the experience we might have more than 1 million entry in DIRECTORY and FILE table. Whenever files are coming to the server, we used to write it in a file and then commit the changes in the database (similar to the one i mentioned above) using Transaction. Within transaction, we might in need of directoryID, fileID (which in turn require SELECT query in DIRECTORY and FILE table) to INSERT/UPDATE FILE_VERSIONS table.</p>\n\n<p>For the above scenario, is there any other better alternative design ?. Some people have suggested to have full file name in FILE table alone eliminating DIRECTORY table. But I don't find it as a better one (as most of the directory name is getting repeated result in poor normalization).</p>\n\n<p>Normally transaction is used to INSERT/UPDATE or update queries. Do SELECT queries within transaction for InnoDB engine in MySQL affect performance ?</p>\n\n<p>Kindly share some of your ideas for this case to handle better way for directories and files.</p>\n\n<p>thanks,\nprabu</p>\n"},{"tags":["android","database","integer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13227412,"title":"store integer value into android database","body":"<p>In android, how can get I get a value (that is of type integer) from <code>EditText</code> and insert it into database that has a integer field?</p>\n\n<p>I am using the below code but it doesn't save integer data into database!</p>\n\n<pre><code>EditText Price;\nname = (EditText)findViewById(R.id.txt_GoodsName);\nPrice = (EditText)findViewById(R.id.txt_Price);\ndb.insertQuote(name.getText().toString(),Price.getText());\n\n// ----------------------------------------------------------\n\npublic long insertQuote(String Quote,int Price1) \n{\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(GoodName, Quote);\n    initialValues.put(Price, Price1);\n    return db.insert(DATABASE_TABLE, null, initialValues);\n}\n</code></pre>\n"},{"tags":["php","mysql","database","data","import"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13043304,"title":"Auto Import Mysql from XSLX","body":"<p>I have datas that will be added monthly, every month I must import more than 30 XSLX! When I am using Navicat I must set the relation from xslx column with mysql table column and I do it repatedly! It's wasting my time ...\nI was wondering that I can import from xlsx to MYSQL automatically, using PHP or Navicat or anything else maybe? Please help me, thanks</p>\n\n<p><hr />\nSOLVED :\nI am using SimpleXLSX, it's faster and efficient. Very recommended for everyone!</p>\n"},{"tags":["c#","c++",".net","database","odbc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13226920,"title":"generic odbc class support for all database","body":"<p>For the past few days i was working with various database with odbc connector based on my previous question on...</p>\n\n<p><a href=\"http://stackoverflow.com/questions/13133804/writing-driver-class-generic-for-any-database-support\">writing driver class generic for any database support</a> </p>\n\n<p>i have found that all the driver class has implemented the <strong>IDBDriver.cpp</strong> and wrote their own connection class to support through odbc</p>\n\n<p>my question is ...</p>\n\n<p>1) Is it possible for me to write my own class;\n2) If it succeed den just by changing the name in web.config file and placing the dll to that project can i able to handle the various connections.\n3) Is there any other way...?\n4) Am i proceeding in right way? </p>\n\n<p>Waiting for your valuable responses </p>\n"},{"tags":["php","database","mysqli","fatal-error","var-dump"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13225247,"title":"Call to a member function bind_param() on a non-object when inserting database information","body":"<p>This is the first time I have ever used Mysqli, so when it comes to adding information in the database I am a little lost. Here is the script that I have.</p>\n\n<pre><code>&lt;?php\ninclude(\"config.php\");\n\n$username = $_POST['username'];\n$password = $_POST['password'];\n$passcheck = $_POST['password-check'];\n$email = $_POST['email'];\n$address = $_POST['address'];\n$suite = $_POST['apt'];\n$city = $_POST['city'];\n$state = $_POST['state'];\n$zip = $_POST['zip'];\n$passcrypt = md5($passcheck);\n\nif($_POST['submit']){\n$stmt = $db-&gt;prepare(\"SELECT * FROM `accounts` WHERE `username`= ?\");\n$stmt-&gt;bind_param('s', $username);\n$stmt-&gt;execute();\nif($stmt-&gt;num_rows != 0){\n$final_report = \"That username already exists.\";\n}\nif($password &lt;&gt; $passcheck){\n$final_report = \"Your passwords do not match\";\n}\nif($final_report == NULL){\n$stmt = $db-&gt;prepare(\"INSERT INTO `accounts` (`email`, `username`, `password`, `address`, `city`, `state`, `zip`) VALUES (?, ?, ?, ?, ?, ?, ?)\");\nif (false === $stmt) {\n    var_dump($db-&gt;error);\n}\n$stmt-&gt;bind_param('sssssss',$email, $username, $passcrypt, $address, $city, $state, $zip);\n$stmt-&gt;execute();\n}\n$stmt-&gt;close();\n}\n?&gt;\n&lt;form method=\"POST\" action=\"\"&gt;\n&lt;?php\nif($final_report != NULL){\nprint\"{$final_report}\";\n}\n?&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt;Username:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"username\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Password:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"password\" name=\"password\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Repeat Password:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"password\" name=\"password-check\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;E-Mail:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"email\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Address:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"address\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Apt #/Suite:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"apt\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;City:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"city\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;State:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"state\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;Zip Code:&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"zip\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"submit\" name=\"submit\" value=\"Submit\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and these are the errors I am returning once the page is submitted.\n<code>Notice: Undefined variable: final_report in C:\\xampp\\htdocs\\gptcode\\signup.php on line 25</code></p>\n\n<p><code>string(0) \"\"</code></p>\n\n<p><code>Fatal error: Call to a member function bind_param() on a non-object in C:\\xampp\\htdocs\\gptcode\\signup.php on line 30</code></p>\n\n<p>I am not worried about the notice obviously, but the <code>vardump()</code> is showing nothing so I am not sure what is causing the error for <code>bind_param()</code> I have triple checked table and column names. If the code here is right then my question is, if the actual table has more values and columns in which are listed will it produce such an error, because I did not include all of the columns in the <code>prepare</code> statement?</p>\n"},{"tags":["mysql","database","procedure"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13225069,"title":"How to avoid Unknown column when creating a procedure in mysql?","body":"<p>Having the following procedure in MySql 5.5.23:</p>\n\n<pre><code>create table if not exists t1 (col1 int);\n\nCREATE  PROCEDURE `a_proc`()\nBEGIN\n      select inexistent_column from t1;       \nEND\n</code></pre>\n\n<p>Only at runtime, when calling to this procedure, you know it has an error:</p>\n\n<pre><code>Error Code: 1054. Unknown column 'inexistent_column' in 'field list'    0.062 sec\n</code></pre>\n\n<p>As inexistent_column does not exists in t1, why this throws no errors when creating the procedure? \nIs there anything to automatically check for this while creating any procedure \"at compile time\"?</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13222020,"title":"Database Problems","body":"<p>I have a database schema in an Oracle database. I also have data dumps from third party vendors.  I load their data using sql loader scripts on a Linux machine.</p>\n\n<p>We also have batch updates everyday.</p>\n\n<p>The data is assumed to be free from data errors. E.g. if on the first day a data viz 'A' is inserted into the db and the data 'A' would not occur in the further loading (assumption). If we get a data named 'A' then we get a primary key violation. </p>\n\n<p>Question: To avoid these violations should we build an analyzer to analyze the data errors or are there better solutions.</p>\n"},{"tags":["php","mysql","database","file-upload"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13224611,"title":"php upload script","body":"<p>i am trying to insert data in a 'songs' column of a table with name same as the current session variable username. but it is giving following error\n    Parse error: syntax error, unexpected '\"', expecting T_STRING or T_VARIABLE or T_NUM_STRING</p>\n\n<pre><code>mysql_query(\"INSERT INTO \".$_SESSION['username'].\"('songs') VALUES(\\\"$_FILES[\"file\"][\"name\"]\\\")\");\n</code></pre>\n"},{"tags":["php","database","wordpress","login","external"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":477,"score":0,"question_id":10724414,"title":"Login in Wordpress using external database data","body":"<p>I have a WP site and also have a external DB (means not WP DB) with users. The insertion process at that table uses the same algorithm as WP uses. What I'm need to do here is login in WP but using this external DB which is in the same host by the way. I check this links <a href=\"http://www.tyssendesign.com.au/articles/cms/connecting-to-external-database-from-within-wordpress/\" rel=\"nofollow\">http://www.tyssendesign.com.au/articles/cms/connecting-to-external-database-from-within-wordpress/</a> and <a href=\"http://wordpress.org/extend/plugins/external-database-authentication/\" rel=\"nofollow\">http://wordpress.org/extend/plugins/external-database-authentication/</a> and for the first is not what I'm want but for the second one is not compatible with WP 3+ and I'm using 3.3.1, any suggestion or docs or something else?</p>\n"},{"tags":["database","postgresql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13224432,"title":"Viewing data graphically in postgresql","body":"<p>I've been trying to figure how postgresql works for the last couple of days. There's something I don't get. Is there a way to see the data inside the tables graphically? Something similar to MySQL's phpMyadmin? Or can I only see the data by querying it?</p>\n"},{"tags":["c#","database","migration","code-first-migrations"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13224308,"title":"How MVC automated database migration works","body":"<p>For a project I'm doing (and any future ones), I'm looking to find more information on how MVC database migrations works using code first.</p>\n\n<p>I have the below two values set and the following method:</p>\n\n<pre><code>AutomaticMigrationsEnabled = true;\nAutomaticMigrationDataLossAllowed = false;\n\nprotected override void OnModelCreating(DbModelBuilder modelBuilder)\n{\nDatabase.SetInitializer(new MigrateDatabaseToLatestVersion&lt;UsersContext, Configuration&gt;());\n}\n</code></pre>\n\n<p>If my understanding is correct, this will automatically update the database structure if/when any of the models change when I'm developing my application and with the added advantage of keeping the data. If any data could be lost, an exception will be thrown and I will have to manually apply the change with the \"Add-Migration\" command.</p>\n\n<p>My question is how this applies to a production environment on an already live project. If there are no manual changes, then I assume the database is updated just as it would have been on the development environment. However, if I'm manually scaffolding changes as well as letting it apply changes automatically, how does this work? I assume the manual migrations are built into the application, so are available to the live environment, but how does it know when to apply the change?</p>\n\n<p>I hope my query makes sense. I've read up as much as possible on how this works, but find very little about how it relates to a production environment.</p>\n"},{"tags":["database","naming-conventions","address","street-address"],"answer_count":6,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":4775,"score":4,"question_id":373084,"title":"How many address fields would you use for a UK database?","body":"<p>Address records are probably used in most database, but I've seen a number of slightly different sets of fields used to store them. The number of fields seems to vary from 3-7, and sometimes all fields are simple labelled address1..addressN, other times given specific meaning (town, city, etc).</p>\n\n<p>This is UK specific, though I'm open to comments about the rest of the world too. Here you need the first line of the address (actually just the number) and the post code to identify the address - everything else is mostly an added bonus.</p>\n\n<p>I'm currently favouring:</p>\n\n<ul>\n<li>Address 1</li>\n<li>Address 2</li>\n<li>Address 3</li>\n<li>Town</li>\n<li>County</li>\n<li>Post Code</li>\n</ul>\n\n<p>We could add Country if we ever needed it (unlikely).</p>\n\n<p>What do you think? Is this too little, too much?</p>\n"},{"tags":["database","google-chrome","google-chrome-extension"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13222778,"title":"Chrome extension data connection to server","body":"<p>I would like to connect my Chrome Extension to my server, and send data back and forth. In particular, when the user clicks a button on the extension when he's navigating a certain URL, the server checks its database to see how many times that URL has been clicked, increment the count, and send the new count back to the user. </p>\n\n<p>I know that sending the data to the server is possible with an AJAX request, but what about getting the data back from the server?</p>\n"},{"tags":["php","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13223728,"title":"PHP Database with files","body":"<p>For example, I have a file <code>.user1-info</code> and the content of the file is:</p>\n\n<pre><code>nick=\"Test\"\npassword=\"403926033d001b5279df37cbbe5287b7c7c267fa\"\njoin_date=\"1111111111\"\nrank=\"1\"\n</code></pre>\n\n<p>How do I make an array with the content to use it as a database? For example:</p>\n\n<p><code>echo $usr_info['nick']</code></p>\n"},{"tags":["mysql","sql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":13213624,"title":"How to find percentages of values in SQL?","body":"<p>I use following query to find out percentage of winning by Hero in games:</p>\n\n<pre><code>SELECT Hero, (COUNT(*) * g.games) AS p\nFROM gamestatistics\nJOIN (\nSELECT 100/COUNT(*) AS games\nFROM gamestatistics\n) AS g\nWHERE PointEarned&gt;0\nGROUP BY Hero\nORDER BY p DESC\n</code></pre>\n\n<p>But this gives me percent for ALL games. And I want  to know</p>\n\n<blockquote>\n  <p><code>percentage(for Hero)=(Won games by this player)/(Played games by this hero)</code></p>\n</blockquote>\n\n<p>instead of</p>\n\n<blockquote>\n  <p>percentage(for Hero)=(Won games by this player)/(All games)<br>\n  Thanks.</p>\n</blockquote>\n"},{"tags":["database","android-button"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13223386,"title":"How can I set a background image for a button from ..Activity.java, in android?","body":"<p>I wrote the following code:</p>\n\n<pre><code>            ImageButton b = (ImageButton) v;  \n                b.setBackgroundResource(R.drawable.tom);  \n</code></pre>\n\n<p>tom.png is in res/drawable. The code above it's working, but I saved in database the image name (for example \"tom\"). And I tried the code behind:</p>\n\n<pre><code>    InfoDataSource datasourceRuta = new InfoDataSource(this);\n    datasourceRuta.open();\n\n    String strInfo = \"\";        \n\n\n    List&lt;Info&gt; objInfo = datasourceRuta.GetInfo()\n\n    for (Info info : objInfo) {\n        strInfo = info.getImg0();\n\n            ImageButton b = (ImageButton) v;  \n                b.setBackgroundResource(R.drawable.strInfo);  \n\n        } \n</code></pre>\n\n<p>strInfo = \"tom\", and I get an error: strInfo cannot be resolved or is not a field.\nDo you have a solution for me?\nShould I save the image in database?</p>\n"},{"tags":["ruby-on-rails","ruby","database","csv","import"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13222947,"title":"How to import data to the database from a CSV file?","body":"<p>I am using Ruby 1.9.2, the Ruby on Rails v3.2.2 gem and the MySQL database. I would like to import data to the database from a <a href=\"http://www.maxmind.com/download/worldcities/worldcitiespop.txt.gz\" rel=\"nofollow\">CSV file</a> containing world cities. I think this process should be made by running a RoR migration but I don't know how to properly proceed.</p>\n\n<p>In particular, I don't know <em>where</em> (that is, in which directory relating my RoR application) I should put the CSV file and <em>how to access</em> that file from my migration file in order to add data to the database.</p>\n"},{"tags":["database","magento","structure","apc","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13221864,"title":"Magento gives error page instead of product view","body":"<p>I have a problem with a Magento webshop (already live -> <a href=\"http://tinyurl.com/bu8vzay\" rel=\"nofollow\">http://tinyurl.com/bu8vzay</a>).\nWhen you choose a product in a category you will always get an 404 error page.</p>\n\n<p>Do you have any idea?</p>\n\n<p>Things I tried:</p>\n\n<ul>\n<li>updating attributes for all products live (no problems)</li>\n<li>clear cache</li>\n<li>clearing the indexes</li>\n</ul>\n\n<p>I've been searching for too many hours now. All help is welcome :)</p>\n"},{"tags":["php","jquery","database","json"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13206067,"title":"Inserting into Database using jSON","body":"<p>Trying to add content to my database using a form and JSON. My query runs fine through phpmyadmin, but for some reason my PHP file is unable to receive the information from my form. </p>\n\n<p>(Please save me the typical \"Don't use mysql functions\".)</p>\n\n<p>Chrome's Network Preview shows me this:</p>\n\n<pre><code>      data: null\n      debug: \"SQL query was: INSERT INTO linktb (catName, title, desc, URL) VALUES ('1', '', '', '');&lt;br&gt;SQL query failed &lt;br&gt;Other output: \"\n      retval: 2\n</code></pre>\n\n<p>Debugging of my update.php: </p>\n\n<pre><code>      {\"retval\":2,\"data\":null,\"debug\":\"SQL query was: INSERT INTO linktb (catName, title, desc, URL) VALUES ('', '', '', '');\n      SQL query failed \n      Other output: \"}\n</code></pre>\n\n<p>HTML &amp; JS:</p>\n\n<pre><code>      &lt;form method=\"post\" id=\"addURL\" name=\"addURL\" method=\"post\"&gt;\n            &lt;select id=\"catList\" name=\"catList\"&gt;\n            &lt;option value=\"1\"&gt;Milk&lt;/option&gt;\n            &lt;option value=\"2\"&gt;Coffee&lt;/option&gt;\n            &lt;option value=\"3\"&gt;Tea&lt;/option&gt;\n            &lt;/select&gt;&lt;br /&gt;\n            &lt;input id=\"title\" name=\"title\" type=\"text\" placeholder=\"Title\"&gt;&lt;br /&gt;\n            &lt;input id=\"desc\" name=\"desc\" type=\"text\" placeholder=\"Description\"&gt;&lt;br /&gt;                \n            &lt;input id=\"URL\" name=\"URL\" type=\"text\" placeholder=\"URL\"&gt;&lt;br /&gt;\n            &lt;input id=\"key\" name=\"key\" type=\"text\" placeholder=\"Key\"&gt;&lt;br /&gt;\n            &lt;input type=\"submit\" value=\"Submit\"&gt;\n      &lt;/form&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){   \n    $(\"#addURL\").submit(function(e) {\n        e.preventDefault();\n        var action = $(\"#addURL\").attr('action');\n        var form_data = {\n            catList: $(\"#catList\").val(),\n            title: $(\"#title\").val(),\n            desc: $(\"#desc\").val(),\n            URL: $(\"#URL\").val(),\n            key: $(\"#key\").val(),\n        };\n    $.getJSON(\"update.php\",form_data,function(data){\n        switch(data.retval){\n            case 0: $(\"#status\").html(\"Unable to update!\");\n                    $(\"#status\").css(\"background-color\",\"red\");\n            break;\n            case 1: $(\"#status\").html(\"Update successful!\");\n                    $(\"#status\").css(\"background-color\",\"green\");\n            break;\n            default: $(\"#status\").html(\"Database error, please try again.\");\n                    $(\"#status\").css(\"background-color\",\"red\");\n            break;\n        }\n    });\n});         \n});\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>$json = array(\"retval\" =&gt; 2, \"data\" =&gt; NULL, \"debug\" =&gt; \"\");\n\n$catList = mysql_real_escape_string($_REQUEST['catList']);\n$title = mysql_real_escape_string($_REQUEST['title']);\n$desc = mysql_real_escape_string($_REQUEST['desc']);\n$URL = mysql_real_escape_string($_REQUEST['URL']);\n$key = mysql_real_escape_string($_REQUEST['key']);\n\n\n$sql = \"INSERT INTO linktb (catName, title, desc, URL) VALUES ('\".$catList.\"', '\".$title.\"', '\".$desc.\"', '\".$URL.\"');\";\n\n$json['debug'] .= \"SQL query was: \".$sql.\"&lt;br&gt;\";\n$result=mysql_query($sql);\nif (!$result) {\n    $json['debug'] .= \"SQL query failed &lt;br&gt;\";\n    $json['debug'] .= \"Other output: \". ob_get_contents();\n    ob_end_clean();\n    die(json_encode($json));\n}\n$count=mysql_num_rows($result);\n\nif($count==1){\n    $json['retval'] = 0;\n    $json['data'] = mysql_fetch_assoc($result);\n} else {\n    $json['retval'] = 1;\n}\n$json['debug'] .= \"Other output: \". ob_get_contents();\nob_end_clean();\necho json_encode($json);\n</code></pre>\n"},{"tags":["database","database-design","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13222572,"title":"Designing a (simple) relational database for photographs?","body":"<p>I have what I believe to be a good book on database desgin (Essence of Databases by Fred Rolland) and I have also read through this website; <a href=\"http://goo.gl/TxDq4\" rel=\"nofollow\">http://goo.gl/TxDq4</a>. Both of these resources are great, but they use very structured examples involving customers and companies interacting.</p>\n\n<p>I am trying to create a database that will contain references to hundreds of photographs. As part of the project I am working on I hope to allow the user to create slideshows. If I understand the theory correctly, this represents a \"many to many\" relationship, which I need to break with a \"joining table\".</p>\n\n<p>What I can't get my head around is what this joining table should look like, or what function it actually performs. My feeling is that the joining class I'm trying to create is more nebulous than having an \"Order Line\" or such like. My first draft, with a joining class, looks like this: <a href=\"http://img28.imageshack.us/img28/2756/photodb2.png\" rel=\"nofollow\">http://img28.imageshack.us/img28/2756/photodb2.png</a></p>\n\n<p>And then I just get confused about what I'm actually trying to achieve with the joining class. A Slideshow can contain many Photographs and a Photograph can appear in many Slideshows.</p>\n\n<p>With the joining class, SlideshowView, I think I'm creating an \"instance\" of a Slideshow, where that specific Slideshow can only contain one instance of any one Photograph. In this case, I'm confused about the relationship between the SlideshowView and Slideshow!</p>\n\n<p>In fact, looking over this again, my diagram makes even less sense... A SlideshowView can only contain one Slideshow, but a Slideshow can be part of more than one SlideshowView? The trouble is, if I make the relationship one-to-one, doesn't that make SlideshowView redundant?</p>\n\n<p>When I think about this from a programming perspective, I would simply ask the user to select a Slideshow that would contain many Photographs, in which case, what is the difference between Slideshow and SlideshowView? Am I over-complicating this? It's really \"twisting my melon\"! Any advice on how to proceed with this would be gratefully received.</p>\n"},{"tags":["ruby-on-rails","database","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13221541,"title":"How to disable database connection for local development?","body":"<p>I'm currently developing my Rails app on my local machine. I have no DB installed on my local machine, and I'm sending my codes to remote testing server which actually runs the app in development mode.</p>\n\n<p>Until yesterday all commands like <code>rails g model foo</code> or <code>rails g controller foo</code> on my local machine worked with no errors.</p>\n\n<p>But now all of <code>rails generate</code> commands started to fail due to no database connections. I think the direct reason is because I made some changes to my app configs, but I'm not sure where the changes are.</p>\n\n<p>I guess the wrong part is that <code>rails generate</code> commands are always invoking <code>active_record</code>\n which always verifies the DB connection.</p>\n\n<hr>\n\n<p>Now, my question is:</p>\n\n<p>Is there any way to temporally disable <code>rails</code> to verify the database connections, for local development(which has no DB connection available)?</p>\n\n<p>I tried removing <code>config/database.yml</code> but it didn't help.</p>\n"},{"tags":["database","data","view","doophp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":13,"score":-2,"question_id":13221465,"title":"Return db data in view to doophp","body":"<p>I want to ask to doophp with what way can I return my db data from the model -controller to my view.</p>\n\n<p>Here is mycontroller: </p>\n\n<pre><code>`class CategoryController extends DooController { \n    public function Index(){ \n        Doo::loadModel('Category'); \n        $category = new Category; \n        Doo::db()-&gt;find( $category, array('limit'=&gt;1) ); \n        $this-&gt;view()-&gt;render('Category/Index', $category); \n    } \n} \n</code></pre>\n\n<p>And I have a view(category.html)like this for example: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt; \n&lt;html&gt; \n    &lt;head&gt; \n        &lt;title&gt;&lt;/title&gt; \n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt; \n    &lt;/head&gt; \n    &lt;body&gt; \n        &lt;div&gt;{{category.categoryname}}&lt;/div&gt; \n    &lt;/body&gt; \n&lt;/html&gt;`\n</code></pre>\n"},{"tags":["mysql","sql-server","database","dedicated-server","development-machine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13221704,"title":"MySQL configuration type?","body":"<p>I am installing MySQL and when it reaches the configuration step it is asking me to select from on of the following server configuration types:</p>\n\n<ul>\n<li>Development Machine</li>\n<li>Server Machine</li>\n<li>Dedicated Machine</li>\n</ul>\n\n<p>I am new to mysql, the reason I am installing this is because I am making an application which will store data on a database using MySQL. Now, can someone explain what does these server configurable type mean and which one should I be selecting? </p>\n"},{"tags":["ruby-on-rails","database","heroku","push","taps"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":196,"score":0,"question_id":12088640,"title":"heroku db:push - Heroku client internal error","body":"<p>I am trying to put my local database to my existing app on Heroku and getting this error:</p>\n\n<pre><code>Sending schema\nSchema:        100% |==========================================| Time: 00:00:07\nSending indexes\nschema_migrat: 100% |==========================================| Time: 00:00:00\nSending data\n3 tables, 3,621 records\nschema_migrat: 100% |==========================================| Time: 00:00:00\n !    Heroku client internal error.===                         | ETA:  00:01:04\n !    Search for help at: https://help.heroku.com\n !    Or report a bug at: https://github.com/heroku/heroku/issues/new\n\n    Error:       undefined method `headers' for nil:NilClass (NoMethodError)\n    Backtrace:   /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/utils.rb:173:in `reraise_server_exception'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:522:in `rescue in block (2 levels) in push_data_from_table'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:507:in `block (2 levels) in push_data_from_table'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/utils.rb:102:in `calculate_chunksize'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:491:in `block in push_data_from_table'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:481:in `loop'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:481:in `push_data_from_table'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:476:in `block in push_data'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:471:in `each'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:471:in `push_data'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:412:in `block in run'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:203:in `call'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:203:in `catch_errors'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/operation.rb:405:in `run'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/taps-0.3.24/lib/taps/cli.rb:172:in `clientxfer'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/heroku-2.30.3/lib/heroku/command/db.rb:192:in `taps_client'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/heroku-2.30.3/lib/heroku/command/db.rb:30:in `push'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/heroku-2.30.3/lib/heroku/command.rb:193:in `run'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/heroku-2.30.3/lib/heroku/cli.rb:25:in `start'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/gems/heroku-2.30.3/bin/heroku:16:in `&lt;top (required)&gt;'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/bin/heroku:19:in `load'\n                 /Users/adam/.rvm/gems/ruby-1.9.2-p290/bin/heroku:19:in `&lt;main&gt;'\n\n    Command:     heroku db:push\n    Plugins:     heroku-sql-console\n    Version:     heroku-gem/2.30.3 (x86_64-darwin10.8.0) ruby/1.9.2\n</code></pre>\n\n<p>The weird thing is, that yesterday was everything ok and I was able to push my local database to Heroku without any problems.\nToday, I just add another column to my database and wanted to push it live - and got this error.</p>\n\n<p>I attempted to push the database live 3 times, all attempts failed.</p>\n\n<p>Where could be a problem?</p>\n"},{"tags":["php","javascript","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13220714,"title":"client-side vs server-side","body":"<p>In general, should one design in order to place processing load on client-side?</p>\n\n<p>More specifically, a search engine to locate subscriber information requires a fair amount of parsing (multiple phone numbers to sort and format, hour of day, timezone, comparisons for possible substitutions of user information, etc.). </p>\n\n<p>Again, in general, is it preferred that one have client-side do the work?</p>\n\n<p>It seems to me 'yes' in a situation in which one will have many thousands of hits per minute.</p>\n\n<p>Use php for quick database queries ... process retrieved data client-side. </p>\n\n<p>yes ... no?</p>\n"},{"tags":["android","database","cursor","insert-into"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13194815,"title":"insert doesn`t work why?","body":"<p>the table is generated from xml and it look like this \n<code>CREATE TABLE orders (id INTEGER AUTO-INCREMENT PRIMARY KEY , id_room INTEGER, nr_table INTEGER, id_user INTEGER, id_payment INTEGER, total INTEGER)</code></p>\n\n<pre><code>com.DataConnector.DataConnector.getInstance(getApplicationContext()).executeQuery(\"INSERT INTO sync_log (table_name,rec_id,upd,del,synchronized)\" +\"VALUES (\\\"orders\\\",2,1,0,0) \");\n</code></pre>\n\n<p>This one works without problem .                </p>\n\n<pre><code>Boolean ab=com.DataConnector.DataConnector.getInstance(getApplicationContext()).executeQuery(\n\"INSERT INTO orders (id_room,nr_table,id_user,id_payment,total)\" +\"VALUES (1,1,1,0,100) \");\n</code></pre>\n\n<p>This throws </p>\n\n<pre><code>no such column: orders (code 1): , while compiling: INSERT INTO orders (id_room,nr_table,id_user,id_payment,total)VALUES (1,1,1,0,100)\n\nLog.i(\"cursor id\", cursor.getColumnName(0) + cursor.getColumnName(1) + cursor.getColumnName(2) + cursor.getColumnName(3) +cursor.getColumnName(4) + cursor.getColumnName(5));\nreturns `idid_roomnr_tableid_userid_paymenttotal\n</code></pre>\n\n<p>so i have the table, the columns </p>\n"},{"tags":["c#",".net","database","dll"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":13133804,"title":"writing driver class generic for any database support","body":"<p>for the past few days i was working with various database such as MySQL,oracle,Ibmdb2 etc... which connect with dot net through  odbc providers..</p>\n\n<p>for example:</p>\n\n<pre><code>1)MySQL:\n\nDriver={MySQL ODBC 5.1 Driver};server=**********;uid=**;database=**;port=***;pwd=***;\"\n\n2)oracle:\n\nDriver={Microsoft ODBC for Oracle};server=**********;uid=**;database=**;port=***;pwd=***;\"\n\n3)Db2:\n\nDriver={IBM DB2 ODBC DRIVER};server=**********;uid=**;database=**;port=***;pwd=***;\"\n</code></pre>\n\n<p>now my question? is </p>\n\n<p>is it possible to write generic class for any database provider </p>\n\n<p>as </p>\n\n<pre><code>Driver={My own driver};server=**********;uid=**;database=**;port=***;pwd=***;\"\n</code></pre>\n\n<p>which connects every databases just by changing driver name in web.config and placing that dll file in bin folder of my published web application or website project.    </p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13210735,"title":"Ecommerce Database structure","body":"<p>Just joined dropshipping company.  They have a data feed which they update daily, this is in the form of a csv file.  There is one field called <code>product variation1</code> which holds the colour and the size of a product(i.e. Black - Large).  My database is structured to have a <code>ColourID</code> and <code>SizeID</code>.</p>\n\n<p>I'm using php.</p>\n\n<p>How can I get the colour and the size of the product in the database from this one field?</p>\n"},{"tags":["mysql","database","eclipse","orm","jpa-2.0"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13216203,"title":"JPA generate tables from entities not doing anything","body":"<p>I am using Eclipse Indigo with Hibernate's JPA-2 implementation. The problem is that when I use that tool to \"Generate Tables from Entities\" there is no effect at all. I get 45 errors saying my tables do not exist.\nCan anyone help me figure this out, googling has not helped. I am stuck at this for a long time now.</p>\n\n<p>Here is my Hibernate Config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\" xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n    &lt;persistence-unit name=\"testjpa\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.UserTypeEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.SystemRoleEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.SchoolRoleEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.PreferenceGroupEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.PreferenceEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.PostTypeEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.NoteTypeEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.NotePermissionEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.IssueTypeEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.IssueCategoryEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.GenderEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.enums.CaseStatusEnum&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.Recipient&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.Name&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.Mobile&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.Landline&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.BlobField&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.AuditTrail&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.helper.embeddables.Address&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.UserCredential&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.User&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.Teacher&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.SystemUser&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.SystemAdmin&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.Student&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.SchoolStaff&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.Principal&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.Parent&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.users.OfficeAdmin&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Syllabus&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Subject&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Schedule&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Homework&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Grade&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.ExamSeries&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Exam&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.subject.Assignment&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.preferences.UserPreference&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.preferences.SchoolPreference&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.preferences.ParentSMSFilter&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.PostRecipient&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.Post&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.NoteSharing&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.Note&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.Message&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.posts.LeaveRequest&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.misc.SchoolClass&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.misc.School&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.events.EventRSVP&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.events.EventInvitee&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.events.Event&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.casemgmt.Contact&lt;/class&gt;\n        &lt;class&gt;com.myclassregister.model.base.casemgmt.Case&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt;\n            &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\"/&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:mysql://localhost/dummyissoyummy\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"master\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"root\"/&gt;\n            &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/dummyissoyummy\"/&gt;\n            &lt;property name=\"javax.persistence.jdbc.user\" value=\"root\"/&gt;\n            &lt;property name=\"javax.persistence.jdbc.password\" value=\"master\"/&gt;\n            &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>import java.util.Set;\n\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport org.hibernate.annotations.Cascade;\n\nimport com.myclassregister.model.base.casemgmt.Contact;\nimport com.myclassregister.model.base.users.UserCredential;\nimport com.myclassregister.model.helper.enums.CaseStatusEnum;\nimport com.myclassregister.model.helper.enums.IssueTypeEnum;\n\n@Entity\npublic class Case implements java.io.Serializable {\n\n    private static final long serialVersionUID = 1226071621948838470L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE)\n    @Column(nullable=false,unique=true)\n    private Long caseID;    \n\n    @Column(nullable=true)\n    @ManyToOne(optional=true)\n    @JoinColumn(name=\"caseOwnerID\", referencedColumnName=\"userID\", nullable=true)\n    private UserCredential caseOwner;\n\n    @Column(nullable=true)\n    @ManyToOne(optional=true)\n    @JoinColumn(name=\"caseRequestorID\", referencedColumnName=\"userID\", nullable=true)\n    private UserCredential caseRequestor;\n\n    @Column(nullable=false)\n    @ManyToOne(optional=true)\n    @JoinColumn(name=\"caseStatus\", referencedColumnName=\"caseStatus\", nullable=true)\n    private CaseStatusEnum caseStatus;\n\n    @Column(nullable=false)\n    @ManyToOne(optional=true)\n    @JoinColumn(name=\"issueType\", referencedColumnName=\"issueType\", nullable=true)\n    private IssueTypeEnum issueType;\n\n    @Column(nullable=false)\n    private Integer severity=5;\n\n    @OneToMany\n    @Basic(optional=true,fetch=FetchType.LAZY)\n    @Cascade(org.hibernate.annotations.CascadeType.SAVE_UPDATE)\n    @JoinTable(name=\"caseContact\", \n               joinColumns= {@JoinColumn(name=\"caseID\",referencedColumnName=\"caseID\")}, \n               inverseJoinColumns= {@JoinColumn(name=\"contactID\", referencedColumnName = \"contactID\")}\n    )\n    private Set&lt;Contact&gt; caseContacts;\n\n    public Case() {\n    }\n\n    public Case(Long caseID, UserCredential caseOwner,\n            UserCredential caseRequestor, CaseStatusEnum caseStatus,\n            IssueTypeEnum issueType, Integer severity, Set&lt;Contact&gt; caseContacts) {\n        this.caseID = caseID;\n        this.caseOwner = caseOwner;\n        this.caseRequestor = caseRequestor;\n        this.caseStatus = caseStatus;\n        this.issueType = issueType;\n        this.severity = severity;\n        this.caseContacts = caseContacts;\n    }\n\n    public Long getCaseID() {\n        return caseID;\n    }\n\n    public void setCaseID(Long caseID) {\n        this.caseID = caseID;\n    }\n\n    public UserCredential getCaseOwner() {\n        return caseOwner;\n    }\n\n    public void setCaseOwner(UserCredential caseOwner) {\n        this.caseOwner = caseOwner;\n    }\n\n    public UserCredential getCaseRequestor() {\n        return caseRequestor;\n    }\n\n    public void setCaseRequestor(UserCredential caseRequestor) {\n        this.caseRequestor = caseRequestor;\n    }\n\n    public CaseStatusEnum getCaseStatus() {\n        return caseStatus;\n    }\n\n    public void setCaseStatus(CaseStatusEnum caseStatus) {\n        this.caseStatus = caseStatus;\n    }\n\n    public IssueTypeEnum getIssueType() {\n        return issueType;\n    }\n\n    public void setIssueType(IssueTypeEnum issueType) {\n        this.issueType = issueType;\n    }\n\n    public Integer getSeverity() {\n        return severity;\n    }\n\n    public void setSeverity(Integer severity) {\n        this.severity = severity;\n    }\n\n    public Set&lt;Contact&gt; getCaseContacts() {\n        return caseContacts;\n    }\n\n    public void setCaseContacts(Set&lt;Contact&gt; caseContacts) {\n        this.caseContacts = caseContacts;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result\n                + ((caseContacts == null) ? 0 : caseContacts.hashCode());\n        result = prime * result + ((caseID == null) ? 0 : caseID.hashCode());\n        result = prime * result\n                + ((caseOwner == null) ? 0 : caseOwner.hashCode());\n        result = prime * result\n                + ((caseRequestor == null) ? 0 : caseRequestor.hashCode());\n        result = prime * result\n                + ((caseStatus == null) ? 0 : caseStatus.hashCode());\n        result = prime * result\n                + ((issueType == null) ? 0 : issueType.hashCode());\n        result = prime * result\n                + ((severity == null) ? 0 : severity.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Case other = (Case) obj;\n        if (caseContacts == null) {\n            if (other.caseContacts != null)\n                return false;\n        } else if (!caseContacts.equals(other.caseContacts))\n            return false;\n        if (caseID == null) {\n            if (other.caseID != null)\n                return false;\n        } else if (!caseID.equals(other.caseID))\n            return false;\n        if (caseOwner == null) {\n            if (other.caseOwner != null)\n                return false;\n        } else if (!caseOwner.equals(other.caseOwner))\n            return false;\n        if (caseRequestor == null) {\n            if (other.caseRequestor != null)\n                return false;\n        } else if (!caseRequestor.equals(other.caseRequestor))\n            return false;\n        if (caseStatus == null) {\n            if (other.caseStatus != null)\n                return false;\n        } else if (!caseStatus.equals(other.caseStatus))\n            return false;\n        if (issueType == null) {\n            if (other.issueType != null)\n                return false;\n        } else if (!issueType.equals(other.issueType))\n            return false;\n        if (severity == null) {\n            if (other.severity != null)\n                return false;\n        } else if (!severity.equals(other.severity))\n            return false;\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["sql","database","programming-techniques","technology-choice","tidesdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13209958,"title":"Best way for storing shared contents between different kind of apps","body":"<p>We are starting a new project in my company and I would like to get some opinions on what you think is the best way to go.</p>\n\n<p>There are 3 apps involved: 1 desktop app, an online app (accessible through the browser) and mobile apps, and all of them share most of their contents (text contents basically). Actually they will be quite similar.</p>\n\n<p>We will start with the desktop app. My approach is using TideSDK for developing it and using SQLite for storing those contents that are the same in all apps. This will save us time when we have to use that information for the browser app and for the mobile app although we will probabilly have to migrate from SQLite to mySQL when developing the \"big\" ones. I am thinking in a RESTful web service at this point.</p>\n\n<p>My main question here is, what do you think it is the best way for storing these contents in the database? I'm thinking on having just HTML snippets so that I can embed them on the different apps, but not sure wether using a JSON might be better.</p>\n\n<p>I hope it is clear enough... If any question, let me know. Your opinions will be of great help.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["mysql","database","innodb","myisam"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13218566,"title":"mysql myisam update","body":"<p>We use MySQL with MyIsam engine and have a situation where we need to update a huge number of rows (millions) on a daily basis while users can still be accessing the database.</p>\n\n<p>We have users from different timezones from USA, UK, India, China. Data is downloaded from a third party source when the user first signs up. All users share the same set of tables, but their data does not overlap i.e. No user will ever be accessing the same rows as another user. </p>\n\n<p>The third party system modifies the data so to keep our database up to date we download a new snapshot of the user’s data every night.The user’s data is updated at midnight relative to that user timezone.  </p>\n\n<p>Since all users share the same tables, this means the data update process can be updating the data of a user in an American timezone, while the users in the UK are actively browsing their data. This is where the problem lies. We have millions of data to be updated but we are not able to do. </p>\n\n<p>Please suggest how to best update a users' data without affecting other users accessing the database.  The data stored in database are numbers and all the columns are integers. </p>\n"},{"tags":["database","drupal","drupal-6","watchdog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13177099,"title":"drupal watchdog filter the entries in the database","body":"<p>On drupal 6 can i filter the entries of the watchdog into the database depending on the severity?</p>\n\n<p>For example i want to exclude the \"error\" severity messages. </p>\n"},{"tags":["sql","database","oracle","database-design","audit"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":13218873,"title":"General database design - can I reference field names in other tables","body":"<p>I have a table with various fields that can be updated.  Let's called it <code>table1</code> and assume it has these fields:</p>\n\n<pre><code>user VARCHAR2\nfirst_name VARCHAR2\nlast_name VARCHAR2\n</code></pre>\n\n<p>My question: I want to keep track of edits to these fields.  I have an application that allows these fields to be updated but I want to keep track of <em>when</em> a field is edited, <em>who</em> edited the field and <em>which</em> field was edited - the <em>which</em> is the bit I need help with.</p>\n\n<p>I could have a history table:</p>\n\n<pre><code>date_edited DATE\nwho_edited VARCHAR2\nfield_name_edited VARCHAR2\n</code></pre>\n\n<p>what if the field name got changed though?.. It would mean that <code>field_name_edited</code> would refer to a non-existent field.  This seems like a silly approach.</p>\n\n<p>There must be some common way of doing this sort of thing?</p>\n\n<p>Many thanks.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I am using an Oracle DB - see new question tags.</p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13219197,"title":"copy table rows and paste they in same table","body":"<p>I want to copy all rows from table and insert this rows in itself this table, that is if in table are rows</p>\n\n<pre><code>column\n--------\nA\nB\n</code></pre>\n\n<p>I want obtain</p>\n\n<pre><code>column\n--------\nA\nB\nA\nB\n</code></pre>\n\n<p>This may be make with php (or other language) right? but I interest, possible make this as 1 query? own mysql can this?</p>\n"},{"tags":["database","database-design","barcode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13219029,"title":"How are products stored in database?","body":"<p>I have a database to store different types of products for a shop. Do I keep record of every instance of the product? Or do I just decrease the quantity count every time a product is sold? I also want to store barcodes in the database. Is the barocde printed on the product unique to every instance? or is it just unique to product. For instance if I have 4 cans of Heinz Tomato soup, will they have same barcode value? If yes then how do I identify every instance uniquely? If no then how do I guarantee that the barcode value on the Heinz Tomato Soup can will not match barcode of any other product in a given shop?</p>\n\n<p>Any help will be appreciated.\nThank you. :D</p>\n"},{"tags":["php","mysql","sql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13216196,"title":"Database relation of purchased items","body":"<p>I'm trying to come up with a database relation to keep track of purchased items that will be used for look up afterwards--for example ebooks. Ignore the ellipses--they represent miscellaneous data such as timestamp, etc...</p>\n\n<p>Here's the table I have right now:</p>\n\n<pre><code>purchased:\ntransaction_id(int)(pk)(auto_inc) | username (varchar) | purchases (text) | ...\n</code></pre>\n\n<p>In this design, the column \"purchases\" is just a string of text that would contain the item_id of items purchased, separated by commas. Simplified example: \"book1, book23, book5, book8\".</p>\n\n<p>In a successful transaction, this query would insert the transaction data into the \"purchased\" table:</p>\n\n<pre><code>INSERT INTO purchased VALUES (null, username, purchases, ...)\n</code></pre>\n\n<hr>\n\n<p>From this point on, two things can happen:     </p>\n\n<ol>\n<li>The user can lookup what ebooks they've purchased</li>\n<li>The user can make another purchase transaction.</li>\n</ol>\n\n<p>If the user (theusername) wants to see their ebooks, the system performs a selection query e.g.</p>\n\n<pre><code>SELECT purchases FROM purchased WHERE username=theusername\n</code></pre>\n\n<p>which returns a string containing the item IDs.</p>\n\n<p>One a sidenot, is it possible to get an php array of purchases without having to use extra php code, i.e. explode? <b>Can you use something besides the data type \"text\" in SQL to store a list of items?</b> If not, that's okay.</p>\n\n<hr>\n\n<p>Either way, here's the main problem. Say the user makes another transaction--there will now be two rows in \"purchased\" that contains the user's purchased items. That means that in this table, the user's purchases are split into multiple rows.</p>\n\n<p>Ideally, I want these purchases to all be in the same row. I can't use an UPDATE statement because each purchase has it's own unique transaction_id.</p>\n\n<p>I was thinking that I could make another table that contains all purchases by a user</p>\n\n<pre><code>all_purchased:\nusername (pk) | purchases (text) | ...\n</code></pre>\n\n<p>and whenever the user makes another transaction, the \"all_purchased\" table would just update its purchases column with the item ID of any new ebooks.</p>\n\n<p>But this table seems redundant because the selection query I mentioned would get the task done.</p>\n\n<p><b>What would be the best way to structure the database relation(s)?</b></p>\n"},{"tags":["python","sql","database","python-2.7","firebird"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":44,"score":-3,"question_id":13218115,"title":"AttributeError: Transaction instance has no attribute 'trans_handle'","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13210956/programmingerror-42s02-42s02-microsoft\">ProgrammingError: ‘42S02’, &#39;[42S02] [Microsoft]</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote this programm which should insert record into a database</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\nconn=firebirdsql.create_database(host='localhost', database='D:/test2.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\nconn.begin()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\"\"\"\ncur.execute(s)\nconn.commit()\ns=\"INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Organization A')\"\nconn.begin()\ncur.execute(s)\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>As a result, when you run, I got the following error that very much afflicted me</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/ThirdTask/connectthree.py\", line 37, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 456, in _execute\n    self.transaction.trans_handle, query)\nAttributeError: Transaction instance has no attribute 'trans_handle'\n</code></pre>\n\n<p>In the following version of the program</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\nconn=firebirdsql.create_database(host='localhost', database='D:/test2.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\"\"\"\ncur.execute(s)\ns=\"INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Organization A')\"\ncur.execute(s)\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>I received the following mistake that very much afflicted me</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/ThirdTask/connectthree.py\", line 35, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 457, in _execute\n    (h, oid, buf) = self.transaction.connection._op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 764, in _op_response\n    return self._parse_op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 308, in _parse_op_response\n    raise OperationalError(message, gds_codes, sql_code)\nOperationalError: Dynamic SQL Error\nSQL error code = -204\nTable unknown\nCLIENTS\nAt line 1, column 13\n</code></pre>\n"},{"tags":["php","mysql","database","ms-access"],"answer_count":7,"favorite_count":7,"up_vote_count":8,"down_vote_count":0,"view_count":13375,"score":8,"question_id":470362,"title":"Tools to convert Microsoft Access to an online PHP/mySQL system","body":"<p>We have a Microsoft Access database that has been used for many years. Our staff is very used to using the Access tables and forms to query, view, update and add to the data.</p>\n\n<p>But the database is at the end of its lifetime. We want to convert it to a PHP/mySQL solution.</p>\n\n<p>I have found tools that can convert the Access database to mySQL.</p>\n\n<p>But are there any tools that can analyze the way the tables and forms look and work in Access, and generate an equivalent easy to use PHP web-based interface with the same functionality: to query, view, update and add to the data? </p>\n\n<p><hr /></p>\n\n<p>Okay. I did a bit of searching on the web and I found one tool that seems to do exactly what I'm looking for:  <a href=\"http://www.xlinesoft.com/phprunner/\">PHPrunner</a></p>\n\n<p>Does anyone have experience with this tool? Are there any other similar tools worth considering, maybe something less expensive or even free?</p>\n"},{"tags":["php","database","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13217782,"title":"PHP and true MVC structure with an advanced database structure","body":"<p>I'm busy developing the first phase of a hotel booking system based on a pure PHP MVC structure. I tried getting acquainted with the libraries like Cake and CodeIgniter but I wasn't comfortable with how little control I had.</p>\n\n<p>So I opted to build my own mini framework which has worked out quite well for me so far. Now, the database structure I'm using is rather complex. There are quite a few many-to-many relationships and one-to-many relationships. I opted to not enforce any referential integrity in the database itself as I believe that should be done at a programming level to avoid frustration later on - things don't always work as planned and I find it easier to figure out what's going on programmatically than in an SQL database with less then explanatory error messages</p>\n\n<p>SO, to the crux - the decision I'm struggling to make is where to place those arbitrary SQL statements to do with relationships between my different objects.</p>\n\n<p>So, for example, I have two objects - users and properties. In this relationship, users are owners of properties that might house a room that will be rented out. In my Users object model (MVC) I have methods like 'insert', 'delete', 'update', 'getUser', 'userExists'. Similar methods exist in my properties model.</p>\n\n<p>Each model extends a Database class that I created to leverage a connection to the database.</p>\n\n<p>In this structure, where and how do I manage the relationships between these objects? The relationship is Properties_has_Users -> it's may-to-many. Where do I create the insert, update and delete methods for the relationship? In it's own object called \"Properties_Users_Relationships? In the controller of one of the objects?</p>\n\n<p>I'm new to these forums and in fact in my three years of development I've never posted on a forum - just read them so please let me know if there's something else you'd like me to post to reference or make it clearer.</p>\n\n<p>Thanks </p>\n"},{"tags":["sql","database","query","select"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":13217069,"title":"Using max() in SQL","body":"<p>One part of my homework assignment is to find the student with the highest average from each department. </p>\n\n<p>QUERY: </p>\n\n<pre><code>SELECT g.sid as studentID, s.sfirstname, s.dcode, AVG(grade) as average\nFROM studentgrades g, student s\nWHERE g.sid = s.sid\nGROUP BY s.sid\n</code></pre>\n\n<p>RESULT:</p>\n\n<pre><code>1   Robert  ger 80.0000\n2   Julie   sta 77.0000\n3   Michael csc 84.0000\n4   Julia   csc 100.0000\n5   Patric  csc 86.0000\n6   Jill    sta 74.5000\n</code></pre>\n\n<p>To answer The question, I ran the query </p>\n\n<pre><code>SELECT dcode, averages.sfirstName, MAX(averages.average)\nFROM (\n    SELECT g.sid as studentID, s.sfirstname, s.dcode, AVG(grade) as average\n    FROM studentgrades g, student s\n    WHERE g.sid = s.sid\n    GROUP BY s.sid) averages\nGROUP BY dcode\n</code></pre>\n\n<p>RESULT:</p>\n\n<pre><code>csc Michael 100.0000\nger Robert  80.0000\nsta Julie   77.0000\n</code></pre>\n\n<p>Even though the averages are correct, the names are not!\nJulia is the one who has the average 100 in csc, so why does Michael show up?</p>\n\n<hr>\n\n<p>Here's an example:</p>\n\n<p>a student takes courses and gets grades for these courses. EG:</p>\n\n<pre><code>student1 from dept1 took course A and got grade 80\nstudent1 from dept1 took course B and got grade 90\nstudent2 from dept1 took course C and got grade 100\nstudent3 from dept2 took course X and got grade 90\n</code></pre>\n\n<p>AFTER RUNNING THE FIRST QUERY we get the averages for each student</p>\n\n<pre><code>student 1 from dept1 has average 85\nstudent 2 from dept1 has average 100\nstudent 3 from dept2 has average 90\n</code></pre>\n\n<p>Now we find the student with the highest average from each department</p>\n\n<pre><code>dept1, student2, 100\ndept2, student3, 90\n</code></pre>\n"},{"tags":["java","android","database","eclipse","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13216404,"title":"Securing database and saving all sorts of files","body":"<p>I am trying to save some documents/Images and files in <code>sqlite database</code>. The documents contain diff types of <code>pdf,.doc</code> etc files and diff format images. Now once I store it in the blob format, I want to do a backup of the database to <code>sdCard</code>. I however want this backup to be readable only by app for securing the data inside.</p>\n\n<p>Now the question is , for storing diff types of files Do I have to use some sort of other database and for securing what should I do</p>\n\n<p>Best Regards</p>\n"},{"tags":["database","jtable"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13217632,"title":"how to make jtable automatically update when database change with interval time","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2348416/database-polling-using-java\">database polling using Java</a>  </p>\n</blockquote>\n\n\n\n<p>How can I update my JTable data automatically when my database is updated?</p>\n\n<p>here's the code:</p>\n\n<pre><code>private void BacaTabel(){\n   DefaultTableModel tabeldata = new DefaultTableModel();\n    tabeldata.fireTableDataChanged();\n    jTable1.setModel(tabeldata);\n    tabeldata.addColumn(\"POS\");\n    tabeldata.addColumn(\"BUKA\");\n    tabeldata.addColumn(\"TUTUP\");\n    tabeldata.addColumn(\"SALES\");\n    try{\n        s=c.createStatement();\n        String sql=\"SELECT B.Cash_Register_ID AS POS,B.Active_Status AS BUKA,B.ZReset_Status AS TUTUP,SUM(A.Net_Amount) AS SALES FROM Sales_Transactions A full join  Cash_Register B  ON  A.Cash_Register_ID=B.Cash_Register_ID WHERE B.Active_Status=1 OR B.ZReset_Status=1  GROUP BY B.Cash_Register_ID,Active_Status,ZReset_Status ORDER BY Active_Status,ZReset_Status,POS,SALES\";\n        r=s.executeQuery(sql);\n        while (r.next()){\n            tabeldata.addRow(new Object[]{r.getString(\"POS\"),r.getString(\"BUKA\"),r.getString(\"TUTUP\"),r.getString(\"SALES\")});\n        }\n    }catch (Exception e){\n\n\n    }\n}\n</code></pre>\n\n<p>that's not working..</p>\n"},{"tags":["java","database","testing","scala","dbunit"],"answer_count":7,"favorite_count":12,"up_vote_count":18,"down_vote_count":0,"view_count":5320,"score":18,"question_id":3950002,"title":"Is there a dbunit-like framework that doesn't suck for java/scala?","body":"<p>I was thinking of making a new, light-weight database population framework. I absolutely hate dbunit. Before I do, I want to know if someone already did it.</p>\n\n<p>Things i dislike about dbunit:</p>\n\n<p>1) The simplest format to write and get started is deprecated. They want you to use formats that are bloated. Some even require xml schemas. Yeah, whatever.</p>\n\n<p>2) They populate rows not in the order you write them, but in the order tables are defined in the xml file. This is really bad because you can't order your data in such a way that foreign key constraints won't cause problems. This just forces you to go through the hassle of turning them off altogether. </p>\n\n<p>This also wastes time and bloats up your junit base classes to include code to disable the foreign key constraints. You will probably have to test for the database type (hsqldb, etc.) and disable them in database-specific ways. This is way bad.</p>\n\n<p>It could be better if dbunit helped in disabling foreign key constraints as part of their framework automatically, but they don't do this. They do keep track of dialects... so why not use them for this? Ultimately, all of this does is force the programmer to waste time and not get up and testing quickly.</p>\n\n<p>3) XML is a pain to write. I don't need to say more about this. They also offer so many ways to do it, that I think it just complicates matters. Just offer one really solid way and be done with it.</p>\n\n<p>4) When your data gets large, keeping track of the ids and their consistent/correct relationships is a royal pain. </p>\n\n<p>Also, if you don't work on a project for a month, how are you to remember that user_id 1 was an admin, user_id 2 was a business user, user_id 3 was an engineer and user_id 4 was something else? Going back to check this is wasting more time. There should be a meaningful way to retrieve it other than an arbitrary number.</p>\n\n<p>5) It's slow. I've found that unless hsqldb is used, it is painfully slow. It doesn't have to be. There are also numerous ways to mess up its configuration as it is not easy to do \"out of the box\". There is a hump that you must go through to get it working right. All this does is encourage people to not use it, or be pissed of when they do start to use it.</p>\n\n<p>6) Some values tend to repeat a lot, likes dates. It'd be nice to specify defaults, or even have the framework put defaults in automatically, even without you telling it to put defaults in there. That way you can create objects just with the values you want, and leave the rest off. This sure beats specifying every nook and cranny of a column if it's not required.</p>\n\n<p>7) Probably the most annoying thing is that the first entry must include ALL the values - even null placeholders - or future rows won't pick the columns that you actually specified.</p>\n\n<p>DBunit doesn't have a sensible default for translating [NULL] to a real null value either. You have to manually add it. Tell me, who hasn't done this with dbunit? Everyone has. It shouldn't be like this!</p>\n\n<p>What this means is that if you have a polymorphic object, you must declare all the foreign keys to the joining tables of each subclass in the first row, even though they are null. If you do a table for all subclasses pattern, you still have to specify all the fields on the first row. This is just awful.</p>\n\n<p>Anything out there to satisfy me, or should I become the next framework developer of a much better database testing framework?</p>\n"},{"tags":["database","relational-database","diagram"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13213632,"title":"How relations I should use? How draw diagram?","body":"<p>I have problem because I am not sure it is possible and if it is which kind of relations I should use, my issue looks like:</p>\n\n<p>Table <code>Users</code></p>\n\n<pre><code>Id\n</code></pre>\n\n<p>Table <code>Transaction</code></p>\n\n<pre><code>Id\nIdProducentUser\nIdConsumerUser\n</code></pre>\n\n<p>each columns are required.</p>\n\n<p>And in this case both <code>IdProducentUser</code> and <code>IdConsumerUser</code> should be <code>foreign key</code> so each User can have a lot of Transactions but I don't know which kind of relation I shoud use and how I should draw it on diagram.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["php","database","configuration","chat","comet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13217522,"title":"how to integrate comet chat on a stand alone site","body":"<p>i already installed comet chat on my website the problem now is i don't know hot to configure my database to match this values, if anyone knows how to configure a custom php site for comet chat that will be a great help, or just help me read the script to configure my database correctly</p>\n\n<pre><code>define('DB_SERVER','localhost');\ndefine('DB_PORT','3306');\ndefine('DB_USERNAME','xxx_admin');\ndefine('DB_PASSWORD','xxx');\ndefine('DB_NAME','xxx_database');\ndefine('TABLE_PREFIX','');\ndefine('DB_USERTABLE',              'users');\ndefine('DB_USERTABLE_NAME',         'chat_user');\ndefine('DB_USERTABLE_USERID',       'cometchat_user');\ndefine('DB_USERTABLE_LASTACTIVITY', 'lastactivity');\n\n\n\n\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* FUNCTIONS */\n\nfunction getUserID() {\n    $userid = 0; // Return 0 if user is not logged in\n\n    if (!empty($_SESSION['userid'])) {\n        $userid = $_SESSION['userid'];\n    }\n\n    return $userid;\n}\n\nfunction getFriendsList($userid,$time) {\n    $sql = (\"select DISTINCT \".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" userid, \n\".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_NAME.\" username, \n\".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_LASTACTIVITY.\" lastactivity, \n\".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" avatar, \".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" link, \ncometchat_status.message, cometchat_status.status \nfrom \".TABLE_PREFIX.\"friends join \".TABLE_PREFIX.DB_USERTABLE.\" \non  \".TABLE_PREFIX.\"friends.toid = \".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" \nleft join cometchat_status on \".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" = cometchat_status.userid \nwhere \".TABLE_PREFIX.\"friends.fromid = '\".mysql_real_escape_string($userid).\"' \norder by username asc\");\n    return $sql;\n}\n\nfunction getUserDetails($userid) {\n    $sql = (\"select \".TABLE_PREFIX.DB_USERTABLE.\".\".DB_USERTABLE_USERID.\" userid, \".TABLE_PREFIX.\"users.\".DB_USERTABLE_NAME.\" username, \".TABLE_PREFIX.\"users.\".DB_USERTABLE_LASTACTIVITY.\" lastactivity,  \".TABLE_PREFIX.DB_USERTABLE.\".username link, (select storage_path from \".TABLE_PREFIX.\"storage_files where parent_file_id is null and file_id = \".TABLE_PREFIX.DB_USERTABLE.\".photo_id) avatar, cometchat_status.message, cometchat_status.status from \".TABLE_PREFIX.\"users left join cometchat_status on \".TABLE_PREFIX.\"users.user_id = cometchat_status.userid where \".TABLE_PREFIX.\"users.user_id = '\".mysql_real_escape_string($userid).\"'\");\n    return $sql;\n}\n\nfunction updateLastActivity($userid) {\n    $sql = (\"update `\".TABLE_PREFIX.DB_USERTABLE.\"` set \".DB_USERTABLE_LASTACTIVITY.\" = '\".getTimeStamp().\"' where \".DB_USERTABLE_USERID.\" = '\".mysql_real_escape_string($userid).\"'\");\n    return $sql;\n}\n\nfunction getUserStatus($userid) {\n     $sql = (\"select \".TABLE_PREFIX.\"users.status message, cometchat_status.status from \".TABLE_PREFIX.\"users left join cometchat_status on \".TABLE_PREFIX.\"users.user_id = cometchat_status.userid where \".TABLE_PREFIX.\"users.user_id = '\".mysql_real_escape_string($userid).\"'\");\n     return $sql;\n}\n\nfunction getLink($link) {\n    return BASE_URL.\"../profile/\".$link;\n}\n\nfunction getAvatar($image) {\n    if (is_file(dirname(dirname(__FILE__)).\"/\".$image)) {\n        return BASE_URL.\"../\".$image;\n    } else {\n        return BASE_URL.\"../application/modules/User/externals/images/nophoto_user_thumb_icon.png\";\n    }\n}\n\n\nfunction getTimeStamp() {\n    return time();\n}\n\nfunction processTime($time) {\n    return $time;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n/* HOOKS */\n\nfunction hooks_statusupdate($userid,$statusmessage) {\n    $sql = (\"update \".TABLE_PREFIX.\"users set status = '\".mysql_real_escape_string($statusmessage).\"', status_date = '\".date(\"Y-m-d H:i:s\",getTimeStamp()).\"' where user_id = '\".mysql_real_escape_string($userid).\"'\");\n    $query = mysql_query($sql);\n}\n\nfunction hooks_forcefriends() {\n\n}\n\nfunction hooks_activityupdate($userid,$status) {\n\n}\n\nfunction hooks_message($userid,$unsanitizedmessage) {\n\n}\n</code></pre>\n"},{"tags":["python","sql","database","ms-access","firebird"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":67,"score":-1,"question_id":13216539,"title":"Error in INSERT query : Table unknown","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13210956/programmingerror-42s02-42s02-microsoft\">ProgrammingError: ‘42S02’, &#39;[42S02] [Microsoft]</a>  </p>\n</blockquote>\n\n\n\n<p>I wrote the program which on a descriptor (to a database, containing structure of a database Northwind - in the separate tables, containing the list of tables, indexes, restrictions, domains) databases Northwind builds it in Firebird. Then I am connected to the database Northwind (Access) and I want to copy by means of inquiry sql contents of tables of a database Northwind (Access) in tables of the created identical Firebird database.</p>\n\n<pre><code>import pyodbc\n#import kinterbasdb\nimport firebirdsql\nimport os\nimport json,sqlite3,sql\ncon = sqlite3.connect('borey.db')\nsampling_tables=con.cursor()\nsampling_fields=con.cursor()\nsampling_constraints=con.cursor()\nsampling_constraints_fields=con.cursor()\nsampling_indices=con.cursor()\nsampling_indices_fields=con.cursor()\nsampling_indices_props=con.cursor()\nsampling_fields_from_constraints=con.cursor()\njs=[]\n\nsampling_tables.execute(sql.sqltables)\n\nfor table in sampling_tables:\n    tabledict=dict(inform_about_table='?', fields='?', constraints='?', indices='?')\n    information_about_table_dict=dict(name=table[1], description=table[2], can_add=table[3], can_edit=table[4], can_delete=table[5])\n    #print(js_information_about_table)\n    tabledict['inform_about_table']=information_about_table_dict\n    #print(tabledict)\n    table_id=table[0]\n    sampling_fields.execute(sql.sqlfields,(table_id,))\n    listfields=[]\n    for field in sampling_fields:\n        fielddict=dict(position=field[0], name=field[1], description=field[2], datatype=field[3], char_length=field[4], can_input=field[5], can_edit=field[6], show_in_grid=field[7],\n                      is_mean=field[8], autocalculated=field[9], required=field[10])\n        listfields.append(fielddict)\n    tabledict['fields']=listfields\n    #print(tabledict)\n    sampling_constraints.execute(sql.sqlconstraints,(table_id,))\n    listconstraints=[]\n    for constraint in sampling_constraints:\n        constraintdict=dict(name=constraint[1], constrtype=constraint[2], items='?', reference=constraint[3])\n        sampling_constraints_fields.execute(sql.sql_constr_det,(constraint[0],table_id))\n        listitems=[]\n        for constr_det in sampling_constraints_fields:\n            listitems.append(constr_det[0])\n        constraintdict['items']=listitems\n        listconstraints.append(constraintdict)\n    tabledict['constraints']=listconstraints\n    #print(tabledict)\n    sampling_indices.execute(sql.sqlindices,(table_id,))\n    listindices=[]\n    for index in sampling_indices:\n        indexdict=dict(name=index[1], items='?', position='?', props='?')\n        index_id=index[0]\n        sampling_indices_fields.execute(sql.sql_indices_fields,(table_id,index_id))\n        #sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id, ))\n        listfields=[]\n        listpositions=[]\n        listprops=[]\n        for index_det in sampling_indices_fields:\n            listfields.append(index_det[0])\n            listpositions.append(index_det[1])\n            fieldinindex=index_det[0]\n        sampling_indices_props.execute(sql.sql_indices_descend,(table_id,index_id,fieldinindex))            \n        for index_desc in sampling_indices_props:\n            listprops.append(index_desc[0])\n        indexdict['items']=listfields\n        indexdict['position']=listpositions\n        indexdict['props']=listprops\n        listindices.append(indexdict)\n    tabledict['indices']=listindices\n    #print(tabledict)\n    js.append(tabledict)\nos.remove('D:/boreas.fdb')\nconn=firebirdsql.create_database(host='localhost', database='D:/boreas.fdb', user='sysdba', password='masterkey')\n#conn=firebirdsql.connect(host='localhost',database='D:/ThirdTask/test.fdb', user='sysdba', password='masterkey')\ncur=conn.cursor()\nfor nametable in js:\n    s=''\n    s+='create table '+nametable['inform_about_table']['name']+'\\n'\n    s+='('+'\\n'\n    countfield=0\n    for namefield in nametable['fields']:\n        s+='   '\n        if namefield['name']=='COUNT':\n            s+='QUANTITY'\n        else:\n            if namefield['name']=='MINIMUM QUANTITY FOR ORDER REPETITION':\n                s+='MINIMUM_QUANTITY'\n            else:\n                if namefield['name']=='PRICE ACCORDING TO THE PRICE-LIST':\n                    s+='LIST_PRICE'\n                else:\n                    if (namefield['name'].count(' ')!=0) or (namefield['name'].count('-')!=0) or (namefield['name'].count('/')!=0):\n                        s+='\"'+namefield['name']+'\"'\n                    else:                    \n                        s+=namefield['name']\n        if namefield['datatype']=='FMTBCD':\n            s+='   '+' INTEGER NOT NULL'\n        else:\n            if namefield['datatype']=='STRING': \n                s+='   '+'VARCHAR'\n            else:\n                if namefield['datatype']=='MEMO':\n                    s+='   '+'BLOB SUB_TYPE 1'\n                else:            \n                    if namefield['datatype']=='LARGEINT':\n                        s+='   '+'INTEGER'\n                    else:\n                        if namefield['datatype']=='SMALLINT':\n                            s+='   '+'INTEGER'\n                        else:\n                            if namefield['datatype']=='CURRENCY':\n                                s+='   '+'NUMERIC(18,2)'\n                            else:\n                                if namefield['datatype']=='BOOLEAN':\n                                    s+='   '+'INTEGER'\n                                else:    \n                                    s+='   '+namefield['datatype']           \n        if namefield['datatype']=='STRING':\n            s+='('+str(namefield['char_length'])+')'\n        countfield+=1\n        #if countfield!=len(nametable['fields']):\n        s+=','+'\\n'\n        #else:\n            #s+='\\n'\n            #s+='\\n'\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='PRIMARY':\n            s+='   CONSTRAINT '+nameconstraint['name']+ ' PRIMARY KEY('\n            countfieldinconstr=0\n            for namefield in nameconstraint['items']:\n                countfieldinconstr+=1\n                if countfieldinconstr!=len(nameconstraint['items']):\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+','\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+','\n                            else:    \n                                s+=namefield+','\n                else:\n                        if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                            s+='\"'+namefield+'\"'+')'+'\\n'\n                        else:\n                            if namefield=='COUNT':\n                                s+='QUANTITY'+')'+'\\n'\n                            else:       \n                                s+=namefield+')'+'\\n'\n    s+=');'+'\\n'\n    print s\n    cur.execute(s)\n    #conn.commit()\n    #conn.begin()\n    for nameindex in nametable['indices']:\n        #print 'nameidex[props] ', nameindex['props']\n        s=''\n        for prop in nameindex['props']:\n            if prop==0:\n                if (nameindex['name'].count(' ')!=0) or (nameindex['name'].count('-')!=0) or (nameindex['name'].count('/')!=0):\n                    s+='create ascending index \"'+nameindex['name'] + '\" on '+nametable['inform_about_table']['name']+' ('\n                else:\n                    if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_INVENTORY_ID':\n                        s+='create ascending index ' + 'IDX_INVENTORY_ID' + ' on '+nametable['inform_about_table']['name']+' ('\n                    else:\n                        if nameindex['name']=='IDX_INFORMATION_ABOUT_ORDER_ORDERDETAILS':\n                            s+='create ascending index ' + 'IDX_ORDERDETAILS' + ' on '+nametable['inform_about_table']['name']+' ('\n                        else:    \n                            if nameindex['name'].count('INFORMATION_ABOUT_ORDER_')!=0:\n                                s+='create ascending index ' + nameindex['name'][1:4]+nameindex['name'][-len(nameindex['name'])+28:] + ' on '+nametable['inform_about_table']['name']+' ('\n                            else:\n                                s+='create ascending index '+nameindex['name'] + ' on '+nametable['inform_about_table']['name']+' ('\n            countitem=0\n            for nameitem in nameindex['items']:\n                if countitem!=len(nameindex['items'])-1:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+', '\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+', '\n                            else:  \n                                s+=nameitem+', '\n                else:\n                        if (nameitem.count(' ')!=0) or (nameitem.count('-')!=0) or (nameitem.count('/')!=0):\n                            s+='\"'+nameitem+'\"'+');'+'\\n'\n                        else:\n                            if nameitem=='COUNT':\n                                s+='QUANTITY'+');'+'\\n'\n                            else:  \n                                s+=nameitem+');'+'\\n'\n                countitem+=1\n        print s\n        cur.execute(s)\n        #conn.commit()\nfor nametable in js:\n    for nameconstraint in nametable['constraints']:\n        if nameconstraint['constrtype']=='FOREIGN':\n            s=''\n            s+='ALTER TABLE '+nametable['inform_about_table']['name']+'\\n'\n            s+='  '+'ADD CONSTRAINT '+nameconstraint['name']+' FOREIGN KEY ('  \n            for namefield in nameconstraint['items']:\n                if (namefield.count(' ')!=0) or (namefield.count('-')!=0) or (namefield.count('/')!=0):\n                    s+='\"'+namefield+'\")'+'\\n'\n                else:\n                    s+=namefield+')'+'\\n'\n            s+='      '+'REFERENCES '+nameconstraint['reference']\n            sampling_fields_from_constraints.execute(sql.sql_fields, (nameconstraint['reference'],))\n            for fields in sampling_fields_from_constraints:\n                field=fields[0]\n                if (field.count(' ')!=0) or (field.count('-')!=0) or (field.count('/')!=0):\n                    s+=' (\"'+field+'\");'+'\\n'\n                else:\n                    s+=' ('+field+');'+'\\n'\n            print s\n            cur.execute(s)\n            #conn.commit()            \n#conn.commit()\ns=\"\"\"\ncreate table CLIENTS\n(\n   ID   INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"    VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB\n);\n\"\"\"\ns1='create ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);'\n\"\"\"db = 'D:/ThirdTask/Northwind.accdb' \nconnaccess = win32com.client.Dispatch(r'ADODB.Connection')\nDSN = ('PROVIDER = Microsoft.Jet.OLEDB.4.0;DATA SOURCE = ' + db +  ';') \nconnaccess.Open(DSN) \nrs = win32com.client.Dispatch(r'ADODB.Recordset') \nstrsql = \"select * from deer\" \nrs.Open(strsql, conn, 1, 3) \nt = rs.GetRows() \nconnaccess.Close() \n\"\"\"\nconAcc = pyodbc.connect('DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\ThirdTask\\Northwind.accdb')\nSqlAccess=conAcc.cursor();\nSqlAccess.execute(sql.sql_count_records_clients);\nCountOfRecords=SqlAccess.fetchone()[0];\nprint CountOfRecords\nid=0\nwhile id&lt;CountOfRecords:\n    id+=1\n    SqlAccess.execute(sql.sql_allfields_clients, (id,))\n    clientdict=dict(ident=id, organization=SqlAccess.fetchone()[1]);\n    print clientdict\n    s='INSERT INTO CLIENTS (ID, COMPANY) VALUES'\n    s+='('+str(clientdict['ident'])+', ' +'\\''+clientdict['organization']+'\\''+')';\n    print s\n    cur.execute(s)\nconn.commit()    \n#print s\n#cur.execute(s)\n#conn.commit()\n#cur.execute(s1)\n#conn.commit()\n#cur=con.cursor()\ncon.close()\nconn.close()\nconAcc.close();\n#print \"Connect succesfully\"\n</code></pre>\n\n<p>When the debugging I display text sql queries, which included (all output not cite)</p>\n\n<pre><code>create table CLIENTS\n(\n   ID    INTEGER NOT NULL,\n   COMPANY   VARCHAR(50),\n   \"LAST NAME\"   VARCHAR(50),\n   \"FIRST NAME\"   VARCHAR(50),\n   \"E-MAIL ADDRESS\"   VARCHAR(50),\n   \"JOB TITLE\"   VARCHAR(50),\n   \"BUSINESS PHONE\"   VARCHAR(25),\n   \"HOME PHONE\"   VARCHAR(25),\n   \"MOBILE PHONE\"   VARCHAR(25),\n   \"FAX NUMBER\"   VARCHAR(25),\n   ADDRESS   BLOB SUB_TYPE 1,\n   CITY   VARCHAR(50),\n   \"STATE/PROVINCE\"   VARCHAR(50),\n   \"ZIP/POSTAL CODE\"   VARCHAR(15),\n   \"COUNTRY/REGION\"   VARCHAR(50),\n   \"WEB-SITE\"   VARCHAR(25),\n   NOTES   BLOB SUB_TYPE 1,\n   INCLUDING   BLOB,\n   CONSTRAINT PK_CLIENTS_ID PRIMARY KEY(ID)\n);\n\ncreate ascending index IDX_CLIENTS_CITY on CLIENTS (CITY);\n\ncreate ascending index IDX_CLIENTS_COMPANY on CLIENTS (COMPANY);\n\ncreate ascending index IDX_CLIENTS_FIRST_NAME on CLIENTS (\"FIRST NAME\");\n\ncreate ascending index IDX_CLIENTS_LAST_NAME on CLIENTS (\"LAST NAME\");\n\ncreate ascending index IDX_CLIENTS_POSTAL_CODE on CLIENTS (\"ZIP/POSTAL CODE\");\n\ncreate ascending index IDX_CLIENTS_PRIMARYKEY on CLIENTS (ID);\n\ncreate ascending index \"IDX_CLIENTS_STATE/PROVINCE\" on CLIENTS (\"STATE/PROVINCE\");\n29\n{'organization': u'\\u041e\\u0440\\u0433\\u0430\\u043d\\u0438\\u0437\\u0430\\u0446\\u0438\\u044f \\u0410', 'ident': 1}\nINSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Организация А')\n\nTraceback (most recent call last):\n  File \"D:\\ThirdTask\\connect.py\", line 263, in &lt;module&gt;\n    cur.execute(s)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 495, in execute\n    stmt_type, stmt_handle = self._execute(query, params)\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\fbcore.py\", line 457, in _execute\n    (h, oid, buf) = self.transaction.connection._op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 764, in _op_response\n    return self._parse_op_response()\n  File \"C:\\Python27\\lib\\site-packages\\firebirdsql\\wireprotocol.py\", line 308, in _parse_op_response\n    raise OperationalError(message, gds_codes, sql_code)\nOperationalError: Dynamic SQL Error\nSQL error code = -204\nTable unknown\nCLIENTS\nAt line 1, column 13\n</code></pre>\n\n<p>Specifically brought to the printing paste formed request</p>\n\n<pre><code>INSERT INTO CLIENTS (ID, COMPANY) VALUES(1, 'Организация А')\n</code></pre>\n\n<p>and when it is running an error (see above). How to fix?</p>\n"},{"tags":["python","database","url","links","extract"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13216254,"title":"Extract links (URLs) from database -","body":"<p>I need to extract all links (URLs) from a database.  Either, using a SQL statement or Python, how can I extract just links from a table? </p>\n\n<p>Sometimes there is no links, sometime 1 and sometime more than 1. </p>\n\n<p>To give an example:</p>\n\n<p>Database name (dbase)\nTables:\nid ( int) \ncol1 ( has text including URLs)\ncol2 ( has text including URLs)\ncol3 ( has text including URLs)\ncol4 ( has text including URLs)</p>\n\n<p>col1, col2, col3 and col4 contain texts and URLs. (imagen an email contain URLs)</p>\n\n<p>I want to create a new coloum name for example name (URL_found) to have all the URLs found in the col1, col2, col3 and col4.</p>\n\n<p>example </p>\n\n<p>in col1 has \nHello, Hi this is a test <a href=\"http://www.example.com/somewhereelse/some/where\" rel=\"nofollow\">http://www.example.com/somewhereelse/some/where</a>  if you buy this I will get you a free one form </p>\n\n<p>Any idea on how to do that?</p>\n\n<p>THANKS --</p>\n"},{"tags":["mysql","sql","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":7926904,"title":"CHADIM in information technology context","body":"<p>What is CHADIM in information technology context?\nMy assignment for one IT class(Relational database management system) is a investigation report on CHADIM.</p>\n\n<p>Can someone give me some pointers on the subject? i cant find anything related  on search engines.</p>\n"},{"tags":["php","mysql","sql","database","sync"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13216042,"title":"MySQL database sync betwen two servers using PHP","body":"<p>I have two same websites on two different servers. </p>\n\n<pre><code>Master Database - server1\nSlave Database - Server2\n</code></pre>\n\n<p>I wanna make PHP script which will check for changes in master database and if found any it will syncronize it with slave database. I will set chronjob for that script so it will run every few minutes.</p>\n\n<p>I found some scripts on Google but it doesn't work at all.\nI tried using PMS(<a href=\"http://sourceforge.net/projects/mysqlsync/\" rel=\"nofollow\">http://sourceforge.net/projects/mysqlsync/</a>) but i reciving:</p>\n\n<p>Notice: Use of undefined constant host - assumed 'host' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant user - assumed 'user' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant pass - assumed 'pass' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant base - assumed 'base' in /var/www/demos/pms/pmslib.php on line 63</p>\n\n<p>Notice: Use of undefined constant host - assumed 'host' in /var/www/demos/pms/pmslib.php on line 79</p>\n\n<p>Notice: Use of undefined constant host - assumed 'host' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant user - assumed 'user' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant pass - assumed 'pass' in /var/www/demos/pms/pmslib.php on line 57</p>\n\n<p>Notice: Use of undefined constant base - assumed 'base' in /var/www/demos/pms/pmslib.php on line 63</p>\n\n<p>Notice: Use of undefined constant host - assumed 'host' in /var/www/demos/pms/pmslib.php on line 79</p>\n"},{"tags":["sql","database","postgresql"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13214391,"title":"Can I create a foreign key for a table with elements which don't exist in the referenced table?","body":"<p>I'm working on an assignment which wants me to write some referential integrity constraints on a table.  It asks me to ensure that every battle in Outcomes is also mentioned in Battles and to handle all violations by setting the referencing value to NULL. </p>\n\n<p>I'm  working with the following schemas</p>\n\n<pre><code>Battles(\n    name VARCHAR(255) PRIMARY KEY, \n    date VARCHAR(255), \n)\nOutcomes(\n    ship VARCHAR(255),\n    battle VARCHAR(255),\n    RESULT VARCAHR(255),\n    PRIMARY KEY(ship, battle)\n)\n</code></pre>\n\n<p>I'm trying to add the foregin key like this:</p>\n\n<pre><code>alter table outcomes \nadd foreign key (battle) \nreferences battles(name) \non delete set null \non update cascade;\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>SQL error:\n\nERROR:  insert or update on table \"outcomes\" violates foreign key constraint \"outcomes_battle_fkey\"\nDETAIL:  Key (battle)=(Pearl Harbor \n</code></pre>\n\n<p>I know this is because \"Pearl Harbor\" is in OUTCOMES but not in BATTLES, what I want to know is if there is some way to ignore that fact and set the foreign key anyway? </p>\n"},{"tags":["mysql","sql","database","structure","ranking"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13215230,"title":"Ranking Script - Database Structure","body":"<p>For like 2 last months I was thinking about makin ranking site for an fps game. Suddenly I had no time to start the project, so it was waiting in my mind for better times :)\nNow I would like to start it and I consider what type of database I should do for it.\nIn my opinion the relation one, should be the best, but I am not 100% is it possible to do it like that, since I saw like 2-3 ranking systems where the tables had no relations at all.</p>\n\n<p>In fact I did, such structure for the database:\n<a href=\"http://postimage.org/image/n1lackjfz/\" rel=\"nofollow\">http://postimage.org/image/n1lackjfz/</a> (no dots means 1:1, white dot-black dot means 1:n)</p>\n\n<p>I would really appreciate, if you could give me some advices. If is okey or I should forget about InnoDB one and just make an simple MyISAM engine based database.</p>\n"},{"tags":["php","mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13214442,"title":"quering multiple tables","body":"<p>I am trying to fetch data from multiple tables depending on what is selected in a dropdown menu. My dropdown menu consists of a list of ID's (001, 002, etc). </p>\n\n<p>Once a user selects one of them, I am using AJAX to dynamically fetch data depending on what was selected. I was able to fetch a single value depending on what was selected but having problems when multiple tables are involved. </p>\n\n<p><strong>My tables are set up like this:</strong></p>\n\n<pre><code>Inventory table:\ninven_ID (primary)\ncost\ndescription\n\nOrder table:\norder_ID(primary)\norderdesc\n\nSale table:\ninven_ID\norder_ID\nquantity\nprimary(inven_ID,order_ID)\n</code></pre>\n\n<p><strong>My query is as follows:</strong></p>\n\n<pre><code>$QRY = \"SELECT \n          inven_ID, \n          order_ID, \n          cost, \n          description \n        FROM \n          Inventory, \n          Order, \n          Sale \n        WHERE Inventory.inven_ID = Sale.inven_id \n        AND Sale.order_ID = Order.order_ID \n        AND Order.order_ID ='\".$q.\"'\";\n</code></pre>\n\n<p>The <code>$q</code> represents the value from the dropdown menu (which I checked is valid). I am getting the error Column '<code>inven_ID</code>' in field list is ambiguous. Basically, when they select some order id from the drop down (say 001), it looks for <code>order_ID</code> in my Order table, and fetches the inven_ID/cost/description of that particular order ID. </p>\n\n<p>Eg. if someone ordered parts xy, yz, xyz for cost 10,20,30. </p>\n\n<pre><code>Selecting 001 would bring up:\n001 xy 10\n001 yz 20\n001 xyz 30\n</code></pre>\n\n<p>I think I am not joining tables properly since the error says its ambiguous. </p>\n\n<p>Any help on this?</p>\n\n<p>edit: yes that fixed the problem, quite obvious that I did not catch it.</p>\n"},{"tags":["database","design","teaching"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13214171,"title":"db design for lessons with unrelated prices","body":"<p>I am buildin an administration tool for private teachers. In the db four tables. </p>\n\n<ul>\n<li>Pupils. Columns:   Id, name</li>\n<li>Lessons. Columns:  length, price and pupilId (amongst other aspects).\nLessons can be put on an invoice: </li>\n<li>Invoices. Columns: Id nr, date etc. </li>\n<li>And a coupling table with lessonId and invoiceId to connect lessons and invoices.</li>\n</ul>\n\n<p>This works fine. I.e. to see what lessons are given in a certain period; how much is earned in that period; which pupil still needs to pay his lesson, invoice lessons etc etc.</p>\n\n<p><strong>Problem:</strong> a teacher wants to teach ten months and send an invoice with the amount of ten / twelve of the \"real price\" of the lessons given so as to send invoices every month of the year.</p>\n\n<p>I cannot think of a way to handle this correctly. What keeps puzzling me is that prize has no relation to the lesson any more - since non-existing lessons can be put on an invoice.</p>\n\n<p>How would the forum solve this? Change db design? And if so how? Or solve it by scripting?</p>\n\n<p>I am curious.</p>\n"},{"tags":["sql","database","oracle","query"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13213923,"title":"How to create sql query results in columns from rows?","body":"<p>From the following tables:</p>\n\n<ul>\n<li>store(store_id, ...) {1 ..., 2 ...} two stores</li>\n<li>film(film_id, ...)</li>\n<li>inventory(inventory_id, film_id, store_id)</li>\n<li>rental(rental_id, rental_date, inventory_id, return_date, ...)</li>\n<li>category(category_id, name)</li>\n<li>film_category(film_id, category_id)</li>\n<li>film(film_id, rental_duration, rental_rate, ...)</li>\n<li>customer(customer_id, store_id, ...)</li>\n</ul>\n\n<p>Can I have a query resutls on a table just like the follwoing?</p>\n\n<p>CategoryName | \"Store 1: avaliable items\" | \"Store 1: unavaliable items\" | \"Store 2: avaliable items\" | \"Store 2: unavaliable items\"</p>\n\n<p>Notice that the store fileds in the result table are inseperate columns not in the same columns !!</p>\n\n<p>I am not looking for the result query, I am looking for how to make them side by side store 1, store 2.</p>\n\n<p>Can case sql statement help here?</p>\n"},{"tags":["mysql","sql","database","query","join"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13213948,"title":"join two tables with different rows and multiple select statements","body":"<p>I have a result as</p>\n\n<pre><code>select D.name as username, E.maxViews AS EmaxViews from (select A.video_id, A.uploaded_by AS username,max(B.numViews) AS maxViews,count(*) AS C from Videos A, (select video,count(*) AS numViews from Views GROUP BY video) B where A.video_id=B.video GROUP BY A.uploaded_by) E, Users D where D.username=E.username\n</code></pre>\n\n<p>which gives me the columns as <code>username,EmaxViews</code> and gives me 93 rows</p>\n\n<p>and I have another table as <code>Users (username,date_registered,name)</code> which has 100 queries in it</p>\n\n<p>I would like to join my above two queries as a single table as</p>\n\n<pre><code>username, date_registered, EmaxViews\n</code></pre>\n\n<p>I tried like this</p>\n\n<pre><code>select name, date_registered,G.EmaxViews from Users F LEFT OUTER JOIN (select D.name as username, E.maxViews AS EmaxViews from (select A.video_id, A.uploaded_by AS username,max(B.numViews) AS maxViews,count(*) AS C from Videos A, (select video,count(*) AS numViews from Views GROUP BY video) B where A.video_id=B.video GROUP BY A.uploaded_by) E, Users D where D.username=E.username) G ON F.username=G.username ORDER BY F.date_registered;\n</code></pre>\n\n<p>Now I am getting 100 rows and proper values for name and date_registered but I am getting NULL for EmaxViews for all the rows..</p>\n\n<p>whats wrong in my query ?</p>\n"},{"tags":["database","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13213927,"title":"How to determine the types of indexes in a database?","body":"<p>I'm fiddling around with PostgreSQL right now.</p>\n\n<p>I can see the user indexes using <code>SELECT * FROM pg_stat_user_indexes</code></p>\n\n<p>However, it doesn't seem like the result gives any information on the type of each index such as 'B-tree', 'R-tree', 'Hash', and 'GiST'.</p>\n\n<p>Anyone know how I can find out the type of each index?</p>\n"},{"tags":["php","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13213883,"title":"My MySQL query with Count/Group By doesn't work correctly","body":"<p>I'm writing a PM (private messages) system in PHP for one of my projects, and I'm stuck with a single MySQL query that uses (or should be using) Count. The query would take place in a function, which is supposed to return the value of unread messages for <code>$id</code> user.</p>\n\n<p>My table layout looks like this:</p>\n\n<pre><code>___________________________________________________________________________________\n+-message_id--||--from_user--||--to_user--||--content--||--date_sent--||--is_read-+\n</code></pre>\n\n<p>And I wrote a query like that:</p>\n\n<pre><code>$count = mysql_query(\"\n    SELECT Count(from_user) \n    FROM messages \n    WHERE to_user='$id' \n    AND is_read=0 \n    GROUP BY to_user\n\",$connection);\n</code></pre>\n\n<p>I'm not really familiar with this Count/Group By stuff, so I'm not sure about what I did wrong. I did a few Google searches, but didn't find anything which could be useful for me. </p>\n\n<p>If you could help me about this little problem, that would be awesome. </p>\n\n<p>Thanks! :)</p>\n"},{"tags":["android","sql","database","eclipse","debugging"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":6606,"score":1,"question_id":6333412,"title":"How to view SQL database in Eclipse Debug mode for android","body":"<p>I am looking for a way to see realtime (as I debug) what is in my SQL database.</p>\n\n<p>Does anyone know how to do this?  I have tried looking through the variables tab but can't seem to find anything.</p>\n"},{"tags":["java","mysql","sql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13166471,"title":"MySQL syntax error using Java in Eclipse","body":"<p>I have the following prepared statement for sql  in Java :</p>\n\n<p>com.mysql.jdbc.JDBC4PreparedStatement@6e56103e:</p>\n\n<pre><code>INSERT INTO `game` (Id , GameStart ,Name, Lenght, MapVersion, Mode)VALUES(2502591,'2000-03-02 02:02:02','5x5 aptb wdw','00:55:48','DotA v6.75b.w3x','aptb ')ON DUPLICATE KEY UPDATE `Id`=VALUES(Id),`GameStart` = VALUES(GameStart),`Name`=VALUES(Name),`Lenght`=VALUES(Lenght),`MapVersion`=VALUES(MapVersion),`Mode`=VALUES(Mode).\n</code></pre>\n\n<p>When I execute it in Eclipse I get the following error:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '?,?,?,?,?,?)ON DUPLICATE KEY UPDATE `Id`=VALUES(Id),`GameStart` = VALUES(GameSta' at line 1.\n</code></pre>\n\n<p>But at the same time when I execute the same query in SQLyog I don't get an error. Rows are updated. What can be a problem? Thanks in advance</p>\n\n<p>Code:</p>\n\n<pre><code>  Class.forName(\"com.mysql.jdbc.Driver\");\n    Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/dota\",\"root\",\"root\");\n    PreparedStatement updateGame = null;\n    String updatingGame = \"INSERT INTO `game` (Id , GameStart ,Name, Lenght, MapVersion, Mode)\" +\n                \"VALUES(?,?,?,?,?,?)\" +\n                \"ON DUPLICATE KEY UPDATE \" +\n                \"`Id`=VALUES(Id),\"+\n                \"`GameStart` = VALUES(GameStart),\" +\n                \"`Name`=VALUES(Name),\" +\n                \"`Lenght`=VALUES(Lenght),\" +\n                \"`MapVersion`=VALUES(MapVersion),\" +\n                \"`Mode`=VALUES(Mode)\";\n    con.setAutoCommit(false);\n    updateGame=con.prepareStatement(updatingGame);\n                updateGame.setInt(1, game.Id);\n                Timestamp timestamp = new Timestamp(100,2,2,2,2,2,2);\n                updateGame.setTimestamp(2,timestamp);\n                updateGame.setString(3, game.GameName);\n                updateGame.setTime(4, (Time) game.Time);\n                updateGame.setString(5, game.MapVersion);\n                updateGame.setString(6, game.Mode);\n                updateGame.executeUpdate(updatingGame);\n</code></pre>\n\n<p>And on:</p>\n\n<pre><code>updateGame.executeUpdate(updatingGame);\n</code></pre>\n\n<p>I get an error</p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13212837,"title":"Mysql database design multiple values for multiple values","body":"<p>Sorry for my ignorance about mysql and databases, but I'm kind of learning it.</p>\n\n<p>So, suppose the following situation:</p>\n\n<p>I have a table with definitions (ball_definitions) of balls of different colors:</p>\n\n<pre><code>id color\n1 red\n2 blue\n3 green\n...\nN\n</code></pre>\n\n<p>where id is the primary value.</p>\n\n<p>and I have a second table (persons) with definitions of persons:</p>\n\n<pre><code>id name\n1 John\n2 Peter\n3 Michel\n...\nM\n</code></pre>\n\n<p>(where id is the primary key)</p>\n\n<p>Now, I want to relate to each person, the amount of owned balls by that persons, conceptually, something like this:</p>\n\n<pre><code>john: 1 red ball, 3 green ball, 0 blue ball\npeter: 3 red ball, 2 green ball, 1 blue ball.\n...\n</code></pre>\n\n<p>In such a way that both the M and N can vary (for portability reasons).</p>\n\n<p>My first tough was to let persons' table to have N columns where each column was referring to each color, but that is not portable (requires triggers of each change on the ball_definitions change, and it seems quite hard to query).</p>\n\n<p>On the other hand, creating a new table with a \"ManyToMany\" relation:</p>\n\n<pre><code>persons_id ball_definitions_id amount\n1 1 1\n1 2 3\n1 3 0\n2 1 3\n2 2 2\n2 3 1\n</code></pre>\n\n<p>seemed to me a little effort when either the number of persons or the number of balls change.</p>\n\n<p>Is there any better solution?</p>\n\n<p>Cheers,\nJorge</p>\n"},{"tags":["mysql","database","database-design"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13212457,"title":"database structure - how do I know I need multiple tables","body":"<p>How do you know if data should be in a separate table or all clumped into one table per product? Is there a general rule or best practice?</p>\n\n<p>For example.</p>\n\n<p>A product has a name, brand, classifications, directions, warnings, a recommended use,  comments, notes, restrictions.</p>\n\n<p>I could see how they could all benefit from separate tables but could it work just as well with comma separated entries all under one table of products?</p>\n\n<p>How do you know if a relational database is overkill or essential?</p>\n"},{"tags":["python","sql","database","in-memory-database"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":932,"score":7,"question_id":3047412,"title":"in-memory database in Python","body":"<p>I'm doing some queries in Python on a large database to get some stats out of the database. I want these stats to be in-memory so other programs can use them without going to a database. </p>\n\n<p>I was thinking of how to structure them, and after trying to set up some complicated nested dictionaries, I realized that a good representation would be an SQL table. I don't want to store the data back into the persistent database, though. Are there any in-memory implementations of an SQL database that supports querying the data with SQL syntax?</p>\n"},{"tags":["php",".net","database","entity-framework","orm"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2601,"score":3,"question_id":5532688,"title":"ORM for PHP like .NET Entity Framework","body":"<p>I'm a .NET developer and new in PHP. I want to know, is there a ORM for PHP like the Entity Framework in the Microsoft .NET Framework? </p>\n\n<p>Are there any utility applications to make working with data faster and easier?</p>\n"},{"tags":["php","sql-server","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":557,"score":0,"question_id":2407670,"title":"Store image data type using PHP","body":"<p>I have an SQL Server database with following table.</p>\n\nTable PROMO, column:\n\n<ul>\n<li>code , varchar(10)</li>\n<li>name , varchar(10)</li>\n<li>image_data, image</li>\n<li>desc , text</li>\n</ul>\n\n<p>How do I insert an image file as a binary into SQL&nbsp;Server using PHP <a href=\"http://en.wikipedia.org/wiki/PHP#History\" rel=\"nofollow\">PDO</a>? The image will be stored in column <strong>image_data</strong>.</p>\n\n<p>What type of variable should I pass to the PDO parameter?</p>\n\n<pre><code>$stmt = $conn-&gt;prepare($query, array(\n    ':code'        =&gt; $code,\n    ':name'        =&gt; $name,\n    ':image_data'  =&gt; $imageData,\n    ':desc'        =&gt; $desc\n));\n</code></pre>\n"},{"tags":["ruby-on-rails","database","postgresql","webbynode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13167306,"title":"Rails / Webbynode: Database push with postgresql?","body":"<p>When I do </p>\n\n<pre><code>webbynode database push \n</code></pre>\n\n<p>Webbynode looks for a mysql database, how do I make it look for postgresql instead ?\nMy webbynode and the app are both setup for postgresql.</p>\n\n<p>This is the error message I get: </p>\n\n<pre><code>ERROR: Invalid MySQL credentials for your local database (Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2))\nStopping taps server...\n</code></pre>\n\n<p>Jakob</p>\n"},{"tags":["sql","database","scala","jdbc"],"answer_count":15,"favorite_count":116,"up_vote_count":135,"down_vote_count":0,"view_count":32104,"score":135,"question_id":1362748,"title":"Wanted: Good examples of Scala database persistence","body":"<p>I would like to use Scala to persist data to a relational database, so what I am looking for are examples of CRUD operations using Scala.  </p>\n\n<p>I would like to code on a lower level of abstraction than an ORM like Hibernate/Toplink (read:JDBC), but between us, I would like to see examples of all types.</p>\n"},{"tags":["php","mysql","sql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13211439,"title":"SQL copy data from one column to another table specified column","body":"<p>i have two tables name called by <strong><code>order</code></strong> and <strong><code>order_product</code></strong>, both tables have a column same name <code>model</code>, <code>order_product</code> <code>model</code> column have lots of data, but <code>order</code> <code>model</code> empty field. </p>\n\n<p>i want copy <code>model</code> data from table <code>order_product</code> to <code>model</code> table <code>order</code>, how can i do this.? </p>\n\n<p>i tried some SQL query, but the result not like really what i want, its look all field will be duplicate...</p>\n\n<pre><code>INSERT INTO `order` (model) SELECT (model) FROM `order_product`\n</code></pre>\n"},{"tags":["database","oracle","oracle10g","toad","dblink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4487,"score":0,"question_id":8532757,"title":"Testing DB Link - ORA-12154: TNS:could not resolve the connect identifier specified","body":"<p>I know there is a load of times this question has been asked but I can't quite figure out how to apply this information to my situation.</p>\n\n<p>I have two databases of which I'm trying to connect with a DB LINK.  These are:</p>\n\n<ul>\n<li>BBEGMTD1</li>\n<li>OPEGMTP1.WORLD</li>\n</ul>\n\n<p>A DB link has already been defined by someone, with the name PE_DBLINK.WORLD.</p>\n\n<p>I can access <strong>both</strong> of these databases from my machine, so I can't see how tnsnames.ora would be affected.</p>\n\n<p>However when I test the DB LINK I get the famous:</p>\n\n<blockquote>\n  <p>Link  : \"PE_DBLINK.WORLD\" Error : ORA-12154: TNS:could not resolve the\n  connect identifier specified</p>\n</blockquote>\n\n<p>Could you please point me in the right direction, does the tnsnames.ora need to be modified on the BBEGMTD1 server?</p>\n\n<p>As per @Chance comment, <code>select * from ALL_DB_LINKS</code> returns:</p>\n\n<pre><code>PUBLIC                        \nPE_DBLINK.WORLD                                                                 \nPRICING                       \nOPEGMTP1.WORLD                                                                  \n03-NOV-11\n\nPUBLIC                        \nEBPROJ.WORLD                                                                    \nEBPROJ                        \nMIDGMTP1                                                                        \n17-JUN-09\n\nMYOPEGMTP1WORLD.WORLD                                                           \nPRICING                       \n(DESCRIPTION= (ADDRESS= (PROTOCOL=TCP) (HOST=ORA04SOUK) (PORT=1521) ) (CONNECT_D\nATA= (SERVER=dedicated) (SERVICE_NAME=OPEGMTT1) ) ) )                           \n16-DEC-11\n</code></pre>\n\n<p>This is the TNSNames Editor in TOAD to show the details are being shown up:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ErFEA.png\" alt=\"enter image description here\"></p>\n"},{"tags":["php","database","symfony2","callback","doctrine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13211018,"title":"Symfony2 and Doctrine - Generate code on insertion","body":"<p>Using Symfon2.0 and Doctrine, I am trying to do the following:</p>\n\n<ol>\n<li>Insert a new row in the database</li>\n<li>in the moment of inserting, automatically generate a code and also insert it.</li>\n<li>That code is related to the ID of the table. Something like <code>&lt;something&gt;/row_id</code></li>\n</ol>\n\n<p>How can I easily do this?</p>\n\n<p>I've been trying Doctrine Livecycle callbacks. But:</p>\n\n<ul>\n<li>PrePersist still doesn't have the ID.</li>\n<li>PostPersist have the ID, but somehow the insertion has already been done and, although I can  set any property from the Entity, I don't know how to make it to be persisted \"again\" to the database.</li>\n</ul>\n\n<p>Any clue overthere?</p>\n\n<p>Any other way to do it properly?</p>\n"},{"tags":["php","database","table","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13210429,"title":"phpMyAdmin Duplicate Table","body":"<p>Is there some way to get phpMyAdmin to spit out the SQL needed to duplicate the table in another DB?</p>\n\n<p>I saved it when I initially made the table but I've changed it quite a bit since then. It's a pretty big table and this would really help.</p>\n\n<p>Thanks</p>\n"},{"tags":["php","sql","database","append"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":13208219,"title":"My SQL is not working","body":"<p>I'm trying to add a value to a row in a database table that currently has other values. I want to effect only one field in the table. here's what I'm doing:</p>\n\n<pre><code>$sql = \"UPDATE users SET photo = \".$m_fname.\" WHERE pin = \".$_SESSION['pin'].\";\";\n</code></pre>\n\n<p>What's the correct way to do this?</p>\n\n<p>Here's a little more:</p>\n\n<pre><code>  $m_fname = mysql_real_escape_string($dest_filename);\n  $sql = \"UPDATE users SET photo = \".$m_fname.\" WHERE pin = \".$_SESSION['pin'].\";\";\n  $res = @mysql_query($sql);\n  if (!$res) {\n    $errors[] = \"Could not run query.\";\n    break;\n  }\n</code></pre>\n\n<p><strong>Before anyone else downvotes..</strong>\nI'm aware I should be using mysqli. Sorry if I offended anyone by using an old function.</p>\n"},{"tags":["php","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13210216,"title":"Editing php files through another php file","body":"<p>I'm working at a project right now, which is a very simple database-application. There are some php files which the user should upload. Then he calls a specific file - let it be <code>install.html</code>, where he should enter his root and password for accessing the server. Then a database and some tables will be created. Now, there are other files, for which this information is also needed. I thought about including a <code>connect.php</code>. But here's the question: Is it possible to edit the root and password in this <code>connect.php</code> through another php file? If not, do you know any other user-friendly way of avoiding this problem?</p>\n"},{"tags":["sql","database","dicom"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13134037,"title":"Storing file location of DICOM images in SQL database","body":"<p>I want to store <code>DICOM</code> images in a directory somewhere, create a database of specific parameters relating to the <code>DICOM</code> images and add the relative location of the <code>DICOM</code> files to the database. </p>\n\n<p>How do I go about doing this in Design view instead of coding explicitly? (I'm relatively new to database / SQL that sort of thing which is why I'd prefer doing it in design view at least at first). </p>\n\n<p>I have searched for questions related to this topic, however all I came up with was posts debating whether it was better to store the images themselves in the database or a pointer to the location. </p>\n\n<p>Can somebody tell me exactly how to go about doing it instead of the pros and cons of the different methods?</p>\n"},{"tags":["mysql","database","localhost"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13208614,"title":"Restricting MySQL connections from localhost to improve security","body":"<p>I heard that anyone that knows my MySQL Username and Password can access it, Even if it's listening only to <em>localhost</em>.</p>\n\n<p>Supposing my info is as following:</p>\n\n<pre><code>USER: root\nPASS: 123456\nHost: LOCALHOST (only)\n</code></pre>\n\n<p>How is it possible that anyone out there (local) can access it?</p>\n"},{"tags":["mysql","sql","database","foreign-keys"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13210016,"title":"How to Ignore \"Cannot add or update a child row\" error","body":"<p>I have an sql query from my backup files, it has huge amount of insert statements.</p>\n\n<blockquote>\n  <p>INSERT INTO <code>tns_spo_hotel</code> (<code>id_spo</code>, <code>id_hotel</code>) VALUES\n  (523,149),(523,195), ...</p>\n</blockquote>\n\n<p>I have a foreign keys on both columns.</p>\n\n<p>When i run this query, it returns </p>\n\n<pre><code>#1452 - Cannot add or update a child row: a foreign key constraint fails (`tsakhkad_tour_new`.`tns_spo_hotel`, CONSTRAINT `tns_spo_hotel_22` FOREIGN KEY (`id_hotel`) REFERENCES `tns_hotel` (`id`) ON DELETE CASCADE ON UPDATE CASCADE)\n</code></pre>\n\n<p>Because there are some rows, with missing values.</p>\n\n<p>Is it possible to ignore that error message and continue sql execution ?</p>\n"},{"tags":["database","address","zipcode"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":875,"score":1,"question_id":6345485,"title":"International Database for Zip/Postal Code to city/state|region/country?","body":"<p>Does anyone know of an <em>international</em> zipcode/postal code to city, state or region and country database? Free would be nice, but that seems unlikely.</p>\n\n<p>(There are several questions regarding domestic US zipcodes, but I'd like to include the UK, Germany and a few other countries).</p>\n"},{"tags":["database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13209749,"title":"What is property in a table?","body":"<p>I am taking database subject this semester. I am unable to get the meaning of the word 'property' in the following text,</p>\n\n<blockquote>\n  <p>A secondary key is a data item that normally does not uniquely\n  identify a record but identifies a number of records in a set that\n  share the same property.</p>\n</blockquote>\n\n<p>Does it mean attribute? Please guide. Thanks</p>\n"},{"tags":["mysql","sql","database","table","import"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13209349,"title":"Can't see tables while importing database - MYSQL","body":"<p>Why can't I see tables while i am importing database in phpmyadmin. It shows me success but then still I am not able to see any tables. Though if i run any query it does show me the result. What is the problem? I have tried finding answers online but couldn't find anything.</p>\n"},{"tags":["php","database","list","sorting","alphabetical"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13209257,"title":"How would I sort this category list alphabetically with php?","body":"<p>I have looked at other examples and attempted to get this to work but the modifications to the code return only errors. Basically, I have a list of categories that are pulled from my database and displayed on 2 columns. I would like to have the categories listed alphabetically with the first half of the list in column 1 and the second half in column 2. I assume simply listing them alphabetically will automatically display them in the categories as I want. Thanks for any help. The code I have is:</p>\n\n<pre><code>&lt;ul class=\"links\"&gt;\n            &lt;?php if($this-&gt;is_loged) { ?&gt;\n            &lt;li&gt;&lt;a href=\"./\"&gt;&lt;strong&gt;&lt;?php echo $this-&gt;translate('Pinners you follow');?&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;\n            &lt;?php } ?&gt;\n            &lt;?php if($this-&gt;categories) { ?&gt;\n            &lt;li&gt;\n                &lt;a class=\"arrow\" href=\"&lt;?php echo $this-&gt;all_url;?&gt;\"&gt;&lt;?php echo $this-&gt;translate('Everything');?&gt;&lt;?php if($this-&gt;category_active) { ?&gt;: &lt;?php echo $this-&gt;category_active;?&gt;&lt;?php } ?&gt;&lt;/a&gt;\n                &lt;div class=\"dropdown columns-2\"&gt;\n                    &lt;?php $total = count($this-&gt;categories); ?&gt;\n                    &lt;?php for($r=$i=0; $i&lt;2; $i++) { ?&gt;\n                    &lt;ul&gt;\n                        &lt;?php for($j=0; $j&lt;ceil( $total/2 ); $j++, $r++) { ?&gt;\n                        &lt;?php if(isset($this-&gt;categories[$r])) { ?&gt;\n                        &lt;?php \n                            $class = $this-&gt;categories[$r]['active'] ? 'active' : '';\n                            if($r==0 || ceil( $total/2 ) == $r) { $class .= ' first'; }\n                            if($r==($total-1) || (ceil( $total/2 )-1) == $r) { $class .= ' last'; }\n                            $class = trim($class);\n                        ?&gt;\n                        &lt;li&lt;?php if($class) {?&gt; class=\"&lt;?php echo $class;?&gt;\"&lt;?php } ?&gt;&gt;&lt;a href=\"&lt;?php echo $this-&gt;categories[$r]['href'];?&gt;\"&gt;&lt;?php echo $this-&gt;categories[$r]['title'];?&gt;&lt;/a&gt;&lt;/li&gt;\n                        &lt;?php } ?&gt;\n                        &lt;?php } ?&gt;\n                    &lt;/ul&gt;\n                    &lt;?php } ?&gt;\n                    &lt;div class=\"clear\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/li&gt;\n            &lt;?php } ?&gt;&lt;/ul&gt;\n</code></pre>\n"},{"tags":["sql","database","oracle","one-to-many"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2803,"score":1,"question_id":2690192,"title":"Combining multiple rows into one row, Oracle","body":"<p>I'm working with a database which is created in Oracle and used in a GIS-software through SDE. One of my colleuges is going to make some statistics out of this database and I'm not capable of finding a reasonable SQL-query for getting the data.</p>\n\n<p>I have two tables, one with registrations and one with registrationdetails. It's a one to many relationship, so the registration can have one or more details connected to it (no maximum number).</p>\n\n<ol>\n<li>table: Registration  </li>\n</ol>\n\n<pre>\nRegistrationID          Date       TotLenght\n1                    01.01.2010        5\n2                    01.02.2010        15\n3                    05.02.2009        10\n</pre>\n\n<p>2.table: RegistrationDetail</p>\n\n<pre>\nDetailID     RegistrationID   Owner      Type      Distance\n1                  1           TD          UB          1,5\n2                  1           AB          US          2\n3                  1           TD          UQ          4\n4                  2           AB          UQ         13\n5                  2           AB          UR         13,1\n6                  3           TD          US          5\n</pre>\n\n<p>I want the resulting selection to be something like this:</p>\n\n<pre>\nRegistrationID          Date       TotLenght DetailID     RegistrationID   Owner     Type      Distance  DetailID     RegistrationID   Owner      Type      Distance  DetailID     RegistrationID   Owner      Type      Distance\n1                    01.01.2010        5         1              1           TD        UB          1,5          2               1          AB        US          2         3                  1              TD          UQ          4\n2                    01.02.2010        15        4              2           AB        UQ         13            5               2          AB        UR         13,1\n3                    05.02.2009        10        6              3           TD        US          5\n</pre>\n\n<p>With a normal join I get one row per each registration and detail. Can anyone help me with this? I don't have administrator-rights for the database, so I can't create any tables or variables. If it's possible, I could copy the tables into Access.</p>\n"},{"tags":["sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13208147,"title":"Multivalued Attribute","body":"<p>Assume here we have a column to describe the description of a product.</p>\n\n<p>I think I have to use multivalue to fill in the table.</p>\n\n<p>Is that kind of mistake to violate the principle of 1NF?</p>\n\n<p>I am beginner to database design, recently I feel really confused about it.</p>\n"},{"tags":["mysql","database","dart"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":254,"score":3,"question_id":11963444,"title":"How to connect mysql Database with Dart?","body":"<p>Does anyone can tell me how to connect to mysql database with Dart? I've been reading and searching for days but can't find any suitable answers. I just learning web programming. Thank you! </p>\n"},{"tags":["php","database","table","mysqli","where"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13208014,"title":"how to select values from multiple tables","body":"<p>I'm trying to get the row where all of the user inputs are equivalent but i'm trying to get values from multiple tables</p>\n\n<pre><code>$query=\n\"SELECT * \n FROM (client OR agent OR admin) \n WHERE (first='\".$mysqli-&gt;real_escape_string($_SESSION['first']).\"' \n    AND last='\".$mysqli-&gt;real_escape_string($_SESSION['last']).\"' \n    AND password='\".$mysqli-&gt;real_escape_string($_SESSION['pass']).\"')\";\n</code></pre>\n\n<p>is there any way to do this?</p>\n"},{"tags":["android","database","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13208068,"title":"Android database framework for complex queries and comfortable engineering","body":"<p>I've been using the native Android SQLite library in the last time, but I am not pleased with the re-usability and readability. There are some ORM database libraries I found for Android, but I wonder whether those are useful as I got a whole bunch of complex select and delete operations I have to be able to run.</p>\n\n<p>Can you suggest me any appropriate library?</p>\n"},{"tags":["mysql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":55,"score":5,"question_id":13207838,"title":"Disk space implications of setting MySQL column value to NULL instead of 0 or ''","body":"<p>I'm trying to understand the best way to handle columns which are mostly empty in terms of <strong>disk-space</strong> and <strong>index-performance</strong>. Is there a difference between putting in all empty places NULL vs '' (for varchar / text) vs 0 (for int).</p>\n\n<p>Thanks.</p>\n"},{"tags":["database","data-structures"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":7017736,"title":"Change in database structure","body":"<p>We already have a database structure, but it is the structure without normalization and very confused and in need of change, but already has a large volume of stored data, for example, all financial data company, which finance department officials are afraid of losing.\nWe are undecided about remodeling the entire structure of the database and retrieve the most basic and all that is possible, or continue with the same model along with their problems.</p>\n\n<p>I wonder if someone has made a change like this, if you can actually transfer the data to a new structure.</p>\n\n<p>thanks</p>\n"},{"tags":["database","blackberry"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":976,"score":2,"question_id":5481547,"title":"filesystem error(12)","body":"<p>i got a file system error(12) in in blackberry application when creating a sqlite database. can plz help me what is that error </p>\n"},{"tags":["database","nosql","cloud"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":17,"score":-2,"question_id":13207381,"title":"Looking for cloud based NOSQL db provider","body":"<p>I am looking for a cloud based or hosting any NOSQL database like mongodb,couchdb etc.. service provider. Though my entire app is deployed on AWS cloud infa I am using MySql Database too. I have an option choose dynamodb provided AWS, I feel its not matured enough to use it for production. Can any one suggest me any cloud based nosql service provider.</p>\n"},{"tags":["android","database","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":102,"score":3,"question_id":12829917,"title":"Why is my Cursor not closed in an Android Activity?","body":"<p>In my Android Activity I need to read things from a database.  I've created a helper class which deals with my database access.  This helper class has several different methods designed to read different things and return them without much fuss.  Here is one example.</p>\n\n<pre><code>public String GetName(int id)\n{\n    String toReturn = null;\n    Cursor cursor = null;\n\n    try\n    {\n        cursor = db.query(TABLE_NAME,\n            new String[] {\"name\"},\n            \"id = \" + id,\n            null,\n            null,\n            null,\n            null,\n            null);\n\n        assert(cursor.getCount() == 1);\n\n        cursor.moveToFirst();\n\n        toReturn = new String(cursor.getString(0)); \n    }\n    finally\n    {\n        if(cursor != null)\n            cursor.close();\n    }\n\n    return toReturn;\n}\n</code></pre>\n\n<p>I keep getting the error </p>\n\n<blockquote>\n  <p>10-10 15:52:18.991: W/SQLiteCompiledSql(28313): Releasing statement in a finalizer. Please ensure that you explicitly call close() on your cursor: SELECT name FROM my_table WHERE id = 0\n  10-10 15:52:18.991: W/SQLiteCompiledSql(28313): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here</p>\n</blockquote>\n\n<p>with a stack trace that leads right to this function (and ones very similar to it), although the Activity works fine.  What am I doing wrong?  I looked around here for a while, and that's when I added the try/finally to make sure I always close the Cursor, but I'm still getting the error.  How can I fix this?</p>\n"},{"tags":["php","mysql","database"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13206530,"title":"Search Filtering with PHP/MySQL","body":"<p>I,m trying to create a search/ filtering option in my blood donar application. Where donar can be searched by sex,name,blood group or with selecting all Here are my code</p>\n\n<pre><code>function search_donar($_POST) {\n\n        $by_name = $_POST['by_name'];\n        $by_sex = $_POST['by_sex'];\n        $by_group = $_POST['by_group'];\n        $by_level = $_POST['by_level'];\n\n        $search_query = \"SELECT * FROM donar WHERE\";\n        if($by_name !=\"\") {\n          $search_query .= \" name='$by_name'\";\n        }\n        if($by_sex !=\"\") {\n          $search_query .= \" sex='$by_sex'\";\n        }\n        if($by_group !=\"\") {\n          $search_query .= \" blood_group='$by_group'\";\n        }\n        if($by_level !=\"\") {\n          $search_query .= \" e_level='$by_level'\";\n        }\n        $search_query;\n        $result = mysql_query($search_query);\n\n        return $result;\n    }\n</code></pre>\n\n<p>And here is the html</p>\n\n<pre><code>if(isset($_POST['submit'])) {\n\n    $retrived_result = $donar-&gt;search_donar($_POST);\n\n}\n\n   &lt;form action=\"\" method=\"post\"&gt;\n    &lt;table width=\"100%\" border=\"0\" style=\"border:none;\"&gt;\n      &lt;tr&gt;\n        &lt;td&gt;&lt;label&gt;Name:&amp;nbsp;&lt;/label&gt;&lt;input type=\"text\" name=\"by_name\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;label&gt;Sex:&amp;nbsp;&lt;/label&gt;&lt;input type=\"text\" name=\"by_sex\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;label&gt;Blood Group:&amp;nbsp;&lt;/label&gt;&lt;input type=\"text\" name=\"by_group\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;label&gt;Level:&amp;nbsp;&lt;/label&gt;&lt;input type=\"text\" name=\"by_level\" /&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;input class=\"button\" type=\"submit\" name=\"submit\" value=\"Search\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>Single filtering works very fine. But To filter with all I used AND , but it gives me error. Can anyone help ? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["database","extjs4","store"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13206950,"title":"Extjs data insertion into localproxy store","body":"<p>i am learning extjs. i have view form with two fields as Question and option. When user enters these values,then that values need to be get inserted into store on buttonclick. But data is not getting inserted into store. So can you please help me. i have view form with code as-</p>\n\n<pre><code>Ext.create('Ext.form.Panel', {\n    title: 'Question-option',\n    width: 300,\n    bodyPadding: 10,\n    renderTo: Ext.getBody(),        \n\n  //  initComponent: function(){\n    items: [{\n        xtype: 'textfield',\n        name: 'Question',\n        fieldLabel: 'Question',\n        allowBlank: false  // requires a non-empty value\n    }, {\n        xtype: 'textfield',\n        name: 'Option',\n        fieldLabel: 'Option',\n        vtype: 'Option'  // requires value to be a valid email address format\n    },\n    {\n    xtype:'button',\n    text:'Save',\n\n   }\n    }],\n\n});\n</code></pre>\n\n<p>I had created model as-</p>\n\n<pre><code>Ext.define('AM.model.User', {\n    extend: 'Ext.data.Model',\n    fields: ['Question', 'Option']\n});\n</code></pre>\n\n<p>I have localstorageProxy as-</p>\n\n<pre><code>Ext.define('AM.store.Users', {\n    extend:'Ext.data.Store', {\n    model: 'AM.model.User',\n    proxy: {\n        type: 'localstorage',\n       // id  : 'twitter-Searches'\n    }\n    }\n    autoLoad: true\n});\n</code></pre>\n\n<p>And i am having controller with-</p>\n\n<pre><code>Ext.define('AM.controller.Users', {\n     extend: 'Ext.app.Controller',\n     views: [\n                'user.List',\n               // 'user.Grid'\n            ],\n     store: ['Users'],\n     model: ['User'],\n\n\n     init: function() {\n            this.control({\n                'button': {\n                    click: function() {\n                        //Ext.Msg.alert('Boo', 'Here I am');\n\n                    var form = button.up('form').getForm ();\n                     Validate the form\n                     if (form.isValid ()) {\n                        var values = form.getFieldValues ();\n                        store.add ({\n                          Question: values.Question ,\n                          Option: values.Option\n                        });\n                      }\n                      else {\n                          alert(\"Insert values in textfields\");\n                            } \n                    }\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["php","database","mysqli","order","output"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13206546,"title":"how to post data by ID desc","body":"<pre><code>$query=\"select * from messages where client_id='$client_id' ORDER BY `id` DESC\";\n</code></pre>\n\n<p>the script above doesn't seems to work, i want to select all data equal to the useer input while posting it in descending order</p>\n\n<pre><code>  $result = $mysqli-&gt;query( $query );\n\n                                        while ($row = $result-&gt;fetch_object())\n                                        {\n                                                $mes_agent_id = $row-&gt;poster_id;\n                                                $id = $row-&gt;msg_id;\n                                                $mes = $row-&gt;message;\n                                                $mes = nl2br($mes);\n                                                $cdate = $row-&gt;date_post;\n                                                $msg =\"{$mes} &lt;br&gt; . {$cdate}\";\n\n                                                $query_agnt =\"select * from agent_info where id='$mes_agent_id'\";\n                                                $result_agnt = $mysqli-&gt;query( $query_agnt );\n                                                $row_agnt = $result_agnt-&gt;fetch_object();\n                                                        $mes_agent_first = $row_agnt-&gt;first;\n                                                        $mes_agent_last = $row_agnt-&gt;last;\n//wall ===================================================\n?&gt;\n&lt;li class=\"bar&lt;?php echo $id; ?&gt;\"&gt;\n&lt;div id=\"news-avatar\"&gt;\n&lt;img src=\"data/agentpic/&lt;?php echo $mes_agent_first.$mes_agent_last; ?&gt;.jpg\" style=\"height:50px;float:left;margin-right:10px;\"/&gt;\n&lt;/div&gt;\n&lt;div align=\"left\" class=\"post_box\"&gt;\n&lt;br&gt;&lt;label&gt;&lt;strong&gt;&lt;?php echo $mes_agent_first.' '.$mes_agent_last; ?&gt;&lt;/strong&gt;&lt;/label&gt; &lt;br&gt; &lt;br&gt;\n&lt;?php echo $msg; ?&gt; \n\n&lt;br&gt;&lt;br&gt;&lt;a href=\"#\" class=\"comment\" id=\"4\"&gt;comment&lt;/a&gt;&lt;br&gt;\n&lt;/div&gt;\n&lt;div id='expand_box'&gt;\n&lt;div id='expand_url'&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"fullbox\" class=\"fullbox&lt;?php echo $id; ?&gt;\"&gt;\n&lt;div id=\"commentload&lt;?php echo $id; ?&gt;\" &gt;\n</code></pre>\n\n<p>how can i post data from database in descending order, while picking where the data should be selected ?</p>\n"},{"tags":["c#","asp.net","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13206137,"title":"asp.net websecurity custom fields","body":"<p>hello im very new asp and c sharp.</p>\n\n<p>i would like to know how to add custom fields to the database like first name and phone number.</p>\n\n<p>I've tried many different techniques but i get all types of errors.\nI've found the website im using the easiest to follow and understand i see that they have mentioned adding custom fields but i don't know how to implement it.</p>\n\n<p>i don't feel like changing my code but if i must and i will.</p>\n\n<p>the code im using is off of this website:\n<a href=\"http://www.thecodingguys.net/tutorials/asp/webpages-membership\" rel=\"nofollow\">http://www.thecodingguys.net/tutorials/asp/webpages-membership</a></p>\n\n<p>thanks</p>\n"},{"tags":["database","database-design","postgresql"],"answer_count":4,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":607,"score":5,"question_id":5678902,"title":"PostgreSQL Schemas -- Usage Scenario/Case","body":"<p>I apologize for my newbie like question but I am a newbie to PostgreSQl and schemas.  I have a hard time grasping the purpose of schemas in PostgreSQL.. and in general.  What are the potential use-cases for schemas? </p>\n\n<p>The book I have states that schemas are like directories that can't be nested.  OK, so I take it schemas are a means to group tables in a db.  The book does not address how this is implemented, nor does it mention the potential uses except for one trivial example (next paragraph).</p>\n\n<p><strong>A Benefit &amp; Potential use case #1</strong>  </p>\n\n<p>Thus far I have only understood one (seemingly trivial) benefit to schemas.  This benefit being that you can have multiple tables with the same name and as long as each such table is in a different schema, there will be no conflict because the namespace qualifier (the schema name) can be used to address the particular table desired.</p>\n\n<p>I don't really understand why you would have multiple tables of the same name to begin with. I'd think this is an extremely rare case, yet the docs come accross to me as if schemas should be used by everyone.  Having multiple tables of the same name seems like poor project management to me and allowing for such bad practice doesn't seem like value.\nIn the end you are just allowing for a mess to be made.  </p>\n\n<p>The only scenario I can think of where you could have name conflicts of tables which should be allowed is when you have a class that is learning SQL and the school IT admin wants each student to be able to create tables of their liking. Of course, the question in my mind is why doesn't the admin just create 1 db per student rather than 1 db for all and 1 schema for each student?  <strong>Q1:</strong> Why?</p>\n\n<p>What are some other use cases that show the benefit of schemas? </p>\n\n<p><strong>IMPLEMENTATION - OR - NATURE OF</strong>  </p>\n\n<p>I'm also confused about the implementation/nature of schemas.<br>\nLet us assume that we have 1 DB which has 3 schemas. 1 schema per user as such:<br>\n<strong>user1='admin'</strong>  -- tableA, tableU, tableJ, tableK,<br>\n<strong>user2='joe</strong>'  ------ tableU, tableJ,<br>\n<strong>user3='kate</strong> ----- tableU, tableK.     </p>\n\n<p>In the above example, my intention is for <strong>tableU</strong> to be shared between the users (accross the schema joe &amp; schema kate).  They shouldn't get their own stand-alone copy of the table, they should share common access to this table.  This type of usage makes sense to me.  Users should be adding/modding/potentially removing records... not adding/modding/removing tables.  I am not sure however that this is possible with PostgreSQL schemas.  <strong>Q2:</strong> If I wanted to share tableU as I described above, would schema joe &amp; schema kate each get thair own copy of the table or can I specify that they should not get their own copy and instead just share access to an existing table?</p>\n\n<p><strong>tableJ</strong> is the <strong>same</strong> as <strong>tableK</strong>... except that Kate can't use tableJ and joe can't use tableK.  This seems to be the essence of schemas to me according to my limited understanding of schemas.  <strong>Q3:</strong> What is the purpose of making a copy of a table for each user?  The 2 tables have the same structure (columns and constraints) and it is a waste of storage space to make a stand alone copy of such a table for each user.  I'd also think that it would be nightmare if each user had their own copy of every table.  We'd be throwing key concepts like normalization out the window.  It would be an unmaintainable mess.  In my mind each user should be adding/modifying/ removing records to a common table in a common DB. </p>\n\n<p>I've seen people in my Google searches about schemas make a separate schema+tables for each online customer to their website.  They have like 100,000 schemas.  <strong>Q4:</strong> What am I missing here?  This seems extreme to say the least.  They should be adding record(s) to standard table(s) for each customer not making schemas and tables for each customer. This only adds to my confusion.</p>\n\n<p>Anyway, I hope I've stated the key points of my confusion clearly enough.</p>\n\n<p>What I'm looking for is:<br>\n(1) To clear up the benefits of schemas via realistic use case examples.<br>\n(2) To clear up the implementation detail of schemas.  </p>\n\n<hr>\n\n<p><strong>EDIT v.3</strong></p>\n\n<p><strong>Potential use case #2</strong></p>\n\n<p>If I understood Neville K correctly, he suggest as a use case:</p>\n\n<p>1 DB which has 3 schemas. 1 schema per user as such (username==schema_name in ex.):<br>\n<strong>user1='admin'</strong>  -- tableA, tableLogin, tblFin1, tblFin2, tblFin3, tblPrj1, tblPrj2, tblPrj3.<br>\n<strong>user2='joe</strong>'  ------ tableLogin, tblFin1, tblFin2, tblFin3<br>\n<strong>user3='kate</strong> ----- tableLogin, tblPrj1, tblPrj2, tblPrj3. </p>\n\n<p>Here, joe is in Fin department, and Kate is project manager.  The app that joe uses is restricted to Finance related tables, the application that kate uses is restricted to project management tables.  This restriction is enforced via their user name being tied to a schema which is tied to a search path (enforced at DB level).  </p>\n\n<p><strong>Q5:</strong> Wouldn't the same restriction be in place without schemas?  What tables are available to which application is a function of what tables were set to be used by the application at the time the application was made by the dev team. No?  Or are we assuming that we are using off the shelf applications that you point to a db and we are concerned that the application can not in its settings be restricted to certain tables (and this restriction locked with a password within the off-the-shelf application)? </p>\n\n<p><strong>Potential use case #3</strong></p>\n\n<p>If I understood Catcall correctly, he suggest as a use case:</p>\n\n<p>A scenario where you wish to rent/lease the services of a database server hosted on 1 physical system to multiple customers needing database service. As such, a multi-tenant like scenario arises.  At this point you can choose to have:<br>\n(1) A separate database for each tenant (customer)<br>\n  -More secure and convenient but can support less tenants per system.<br>\n(2) One shared database with a schema for each tenant (customer)<br>\n  -Less secure and slightly less convenient but can support more tenants per system.  </p>\n\n<p><strong>Potential use case #4</strong></p>\n\n<p>If I understood Scott Marlowe and Catcall correctly, another use case would be:</p>\n\n<p>Using schemas to isolate the new content of developers during development.  Later can merge work to another schema.        </p>\n"},{"tags":["database","google-chrome","google-chrome-extension"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13206250,"title":"Connecting Chrome extension to server","body":"<p>I know that Google Chrome extension can have some HTML and JavaScript. But I would like to connect it to my server. When the user clicks a button on the extension when he's navigating a certain URL, the URL is added to the database on the server. Is it possible to implement this functionality?</p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13206180,"title":"import data from .txt file into mySQL table","body":"<p>I have created the table in mysql and the table is created Now I want to insert the data into the table but the issue is that the data which I want to inset into that particular table is saved with me in a separate text file , the same data I want to insert into the table , Please advise how I can insert the data of the text file into that particular table .I have also downloaded the sql gui browser tool also, Please advise.</p>\n"},{"tags":["php","mysql","database","exception","pdo"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":13160420,"title":"In PHP scripts, how should I deal with exceptions when connecting/sending queries to database?","body":"<p>Here are my possible solutions:</p>\n\n<p>1) Use <code>exit()</code> to terminate the script. (problem: affects the loading of contents of whole page not just the data from database)</p>\n\n<p>2) Embed a <code>&lt;div&gt;</code> element in the page specially for showing possible exceptions.</p>\n\n<p>What's the standard approach?</p>\n"},{"tags":["database","postgresql","database-design","data-structures","database-replication"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":13194906,"title":"Data structure design for database replication support","body":"<p>I'm developing a small ad-hoc replication framework (for a reatil company), which replicates only certain records of certain tables (about 200) depending on specific domain-level logic.</p>\n\n<p>In order to know the replication status of each record for each target host, I have a <strong>repStatus</strong> <em>character</em>(NUMBER_OF_HOSTS) type column; where a host always represents the same position.</p>\n\n<p>The values in each position of this column could be <strong>0</strong> (<em>no action</em>), <strong>1</strong> (<em>replicate record</em>), <strong>2</strong> (<em>record replicated</em>), <strong>3</strong> (<em>resend after confirmation</em>), <strong>A</strong> (<em>first time error</em>), <strong>B</strong> (<em>second time error</em>)... etc.</p>\n\n<p>So for instance: <strong>012A</strong> means: </p>\n\n<ul>\n<li>Don't send anything to host 1</li>\n<li>Send this record to host 2</li>\n<li>Record correctly received in host 3</li>\n<li>Error received from host 3</li>\n</ul>\n\n<p>This looks pretty easy and simple, and has a <em>\"straightforward reading\"</em>: in order to know the status of a record, I simply read the <strong>repStatus</strong> column.</p>\n\n<p>However, looks like this approach leads to <a href=\"http://stackoverflow.com/questions/13183735/query-performance-in-postgresql-using-similar-to\">performance problems when the application has to look for the target records to replicate</a>.</p>\n\n<p>So I'm sure there's a better design to solve this problem performance-wise.  Maybe an aditional table referencing table, record and host could be a solution:</p>\n\n<pre><code>CREATE TABLE repStatus (tableID int, recordID int, targetHostID int, status int);\n</code></pre>\n\n<p>Where <strong>status</strong> value now could even be normalized to a new table.  However 200 tables * ~500000 records per table might be a considerably large number of rows to handle in a single table any way.</p>\n\n<p>Any alternative  based on experience is welcome.</p>\n"},{"tags":["database","oracle11g","schema","terminology"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":18,"score":-1,"question_id":13205250,"title":"Oracle terminology - instance, database, schema","body":"<p>I am new to Oracle. I start to learn Oracle 11g. I read some document but still not clear about some terminology.</p>\n\n<ul>\n<li>Oracle Database Instance?</li>\n<li>User?</li>\n<li>Schema?</li>\n<li>Database?</li>\n<li>and How it's related with each other?</li>\n</ul>\n"},{"tags":["mysql","sql","database","schema","normalization"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13204690,"title":"Combine or Separate Tables","body":"<p>I'm confused on whether I should combine two tables or leave them separated. The ff is just one set of that problem of mine:</p>\n\n<pre><code>tblPhone(Phone_ID, Phone_Number, Phone_Type_ID, Person_ID)\ntblPhone(Phone_Type_ID, Phone_Type_Name)\n</code></pre>\n\n<p>or</p>\n\n<p>I should simply have it as:</p>\n\n<pre><code>tblPhone(Phone_ID, Phone_Number, Phone_Type_Name, Person_ID)\n</code></pre>\n\n<p><strong>Does one have advantage over the other?</strong> Is there like a <strong>standard guideline or practice</strong> for table creation? For example, I remember someone telling me if a table isn't 3 or more, just combine it to another table, something like that...how true is that? I remember a little bit of normalization rules...but it can be very confusing at times. I think this falls on the third normalization rule that's why they should be separated, am I mistaken? Thanks!</p>\n"},{"tags":["database","mongodb","index","metadata"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13203556,"title":"How to store metadata describing documents in a MongoDB collection?","body":"<p>What is the best way to store metadata that describe a collection in MongoDB?</p>\n\n<p>I have a collection with an arbitrary and changing number of documents within.  As I create new documents, I want to assign a new, temporary name (String) based on the number of documents currently in the collection, e.g. \"Doc 1\", \"Doc 2\", ...  Since documents could be removed, just doing a count() will not yield a useful result.</p>\n\n<p>One option is to store metadata describing a collection within a different collection, but this seems awkward.</p>\n\n<p>Since Mongo is schema-free, I could keep the collection's metadata within the collection itself, perhaps within a document with the name \"metadata\".  In that case, how would I access that document quickly?  Would I need to build an index for \"metadata\" to get at it immediately, without O(n) search time?</p>\n\n<p>Is there a more standard, or simpler, way than what I described in the previous paragraph?  I may end up with more metadata in the future than just a count.</p>\n"},{"tags":["database","email","attachment","qmail"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13203872,"title":"How do I attach a file using qmail on a Solaris server?","body":"<p>Specifically, I would like to attach multiple files to an outgoing email using tcl and qmail on a solaris server.</p>\n"},{"tags":["sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13203638,"title":"Lossless Decomposition","body":"<p>Consider a schema R(A, B, C, D) and functional dependencies A ⟶ B and C ⟶ D. Then why isn't the decomposition of R into R1(A, B) and R2(C, D) a lossless decomposition? Can you please explain with real life example that what info is lost here?</p>\n"},{"tags":["sql","sql-server","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13203682,"title":"I am stuck on creating constraint on SQL Server","body":"<p>I am totally new to SQL Server management, I tried to add a constraint in a table.</p>\n\n<p>The situation is that I created a column with <strong>only 'Y'or 'N' allowed to be valued</strong>.</p>\n\n<p>So I tried to create a constraint in Management Studio by right clicking \"Constraints\" in the table.</p>\n\n<p>However, I really have no idea about the syntax of creating a constraint. Finally, I tried to input the code into \"Check Constraint Expression\" window by referring the template from the Internet. The SQL Server always tell me \"Error Validating constaint\".</p>\n\n<p>Can you guys just help me to write the first constraint for me? Because I really dont know how to start.</p>\n\n<p>My requirement is:</p>\n\n<pre><code>I have a table called \"Customer\"\nI created a column called \"AllowRefund\"\nThe column \"AllowRefund\" is only allowed to 'Y' or 'N'\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["database","git","version-control","postgresql"],"answer_count":14,"favorite_count":19,"up_vote_count":45,"down_vote_count":1,"view_count":8498,"score":44,"question_id":846659,"title":"How can I put a database under git (version control)?","body":"<p>I'm doing a web app, and I need to make a branch for some major changes, the thing is, these changes require changes to the database schema, so I'd like to put the entire database under git as well.</p>\n\n<p>How do I do that? is there a specific folder that I can keep under a git repository? How do I know which one? How can I be sure that I'm putting the right folder?</p>\n\n<p>I need to be sure, because these changes are not backward compatible; I can't afford to screw up.</p>\n\n<p>The database in my case is PostgreSQL</p>\n\n<h3>Edit:</h3>\n\n<p>Someone suggested taking backups and putting the backup file under version control instead of the database. To be honest, I find that really hard to swallow. </p>\n\n<p><strike>There has to be a better way.</strike></p>\n\n<h3>Update:</h3>\n\n<p>OK, so there' no better way, but I'm still not quite convinced, so I will change the question a bit:</p>\n\n<p>I'd like to put the entire database under version control, what database engine can I use so that I can put the actual database under version control instead of its dump?</p>\n\n<p>Would sqlite be git-friendly?</p>\n\n<p>Since this is only the development environment, I can choose whatever database I want.</p>\n\n<h3>Edit2:</h3>\n\n<p>What I really want is not to track my development history, but to be able to switch from my \"new radical changes\" branch to the \"current stable branch\" and be able for instance to fix some bugs/issues, etc, with the current stable branch. Such that when I switch branches, the database auto-magically becomes compatible with the branch I'm currently on.\nI don't really care much about the actual data.</p>\n"},{"tags":["mysql","sql","database","database-design","aggregate-functions"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13199060,"title":"Finding the average age of users with 0 posts, 1-5 posts, and >5 posts","body":"<p>I need to generate a report on the age of some of our users with respect to their post count grouped by their country of residence.</p>\n\n<p>Here's a simplified version of my schema right now:</p>\n\n<pre><code>DESCRIBE countries;\n+-------+-------------+------+-----+---------+----------------+\n| Field | Type        | Null | Key | Default | Extra          |\n+-------+-------------+------+-----+---------+----------------+\n| id    | int(11)     | NO   | PRI | NULL    | auto_increment |\n| name  | varchar(45) | NO   |     | NULL    |                |\n+-------+-------------+------+-----+---------+----------------+\n\nDESCRIBE users;\n+------------+---------+------+-----+---------+----------------+\n| Field      | Type    | Null | Key | Default | Extra          |\n+------------+---------+------+-----+---------+----------------+\n| id         | int(11) | NO   | PRI | NULL    | auto_increment |\n| age        | int(11) | NO   |     | NULL    |                |\n| country_id | int(11) | NO   | MUL | NULL    |                |\n+------------+---------+------+-----+---------+----------------+\n\nDESCRIBE posts;\n+---------+-------------+------+-----+---------+----------------+\n| Field   | Type        | Null | Key | Default | Extra          |\n+---------+-------------+------+-----+---------+----------------+\n| id      | int(11)     | NO   | PRI | NULL    | auto_increment |\n| content | text        | NO   |     | NULL    |                |\n| user_id | int(11)     | NO   | MUL | NULL    |                |\n+---------+-------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>And I'd like a result set that looks something like this:</p>\n\n<pre><code>country.name | AVG(age of users with 0 posts) | AVG(age of users with 1-5 posts | AVG(age of users with 1-5 posts\n----------------------------------------\nDenmark  | 17.4   | 23.2   | NULL\nGermany  | 20.1   | 27.8   | 34.7\nEngland  | 31.1   | NULL   | 28.3\n</code></pre>\n\n<p>where NULL would represent a country who has no users at a particular post-count level. For example, everyone in Denmark has 0 through 5 posts, and no more. I suppose it doesn't have to say NULL, but it should be clear that this value is undetermined.</p>\n\n<p>So far, this is my query:</p>\n\n<pre><code>SELECT\n    c.name,\n    AVG(something) AS avg_age_with_no_posts,\n    AVG(something) AS `avg_age_with_1-5_posts`,\n    AVG(something) AS `avg_age_with_gt5_posts`\nFROM\n    users u\n    JOIN posts p ON p.user_id=u.id\n    JOIN countries c ON c.id=u.country_id\nGROUP BY c.id;\n</code></pre>\n\n<p>I know it's not much, but I've actually foiled with other clauses (nested selects, HAVING, COUNT(CASE ... WHEN ...)) quite a bit (several hours). The query above is just the fundamental things I know I need.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","mysql","database","privileges"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":462,"score":1,"question_id":9720587,"title":"create db and user mysql and set privileges php","body":"<p>Is there a way to create a new MySQL database, a new MySQL user and give the new user privileges on the new database all using PHP?</p>\n"},{"tags":["mysql","database","delete","views"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":1,"view_count":553,"score":1,"question_id":8848834,"title":"How to delete all views from mysql database using mysql query/command?","body":"<p>I need to delete all views from my mysql database. How can I do that using query.</p>\n\n<p>Any one can help me plz.</p>\n\n<p>Thanks</p>\n"},{"tags":["c#","database","query","asp.net-mvc-4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13193514,"title":"connect with C# console application to internal DB of asp.net mvc 4 website","body":"<p>is there any chance to connect into default DB of asp.net mvc 4 application?</p>\n\n<p>I have one running website on server, and another C# console application, also on same server. And I'm trying to figure how to put some queries (insert/update) from that console app to database created in asp.net application. Of course website app is running.</p>\n\n<p>Any ideas?</p>\n\n<p>//edit</p>\n\n<p>I need this cause of creating web application for \"imports\" (it's bigger amount of data, about 300k records from Excel file). And I don't want push user to have opened website whole time while updating database (\"backside processing\"). If you have some another idea how to make it, I will be really happy to hear it</p>\n"},{"tags":["java","android","database","sqlite","search"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12989643,"title":"How to fetch record from Sqlite","body":"<p>This is my Method in DBMethods class:</p>\n\n<pre><code>public void getResult(EditText keyWord2){\n\n    EditText keyWord = null;\n\n    String SQL =\"localSearch.php?querey=\"+keyWord.getText();\n    mDb.rawQuery(SQL, null);\n}\n</code></pre>\n\n<p>And this is my method in which I am opening Database and all that in webServices class. </p>\n\n<pre><code>public void startSearch(View v){\n\n    keyWord = (EditText)findViewById(R.id.searchField);\n        String data = null;\n        DBMethods mDbHelper = new DBMethods(this);         \n        mDbHelper.createDatabase();       \n        mDbHelper.open(); \n\n        mDbHelper.getResult(keyWord);\n        mDbHelper.close();\n\n}\n</code></pre>\n\n<p>When I try to fetch data from the database by entering some keyword in the search bar, a force close error occurs. </p>\n"},{"tags":["database","testing","documentum"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12936069,"title":"ECM Documentum migration testing","body":"<p>I am new to Documentum, and currently working on a migration project.  A legacy database is going to be migrated to the Documentum platform.  Any ideas on how to perform database testing between a legacy database and a Documentum database?</p>\n\n<p>If somebody has DQL that is useful from a testing perspective, kindly share with me.</p>\n"},{"tags":["java","android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13202269,"title":"android database (SQLite) connection","body":"<p>I'm trying to create an android application which can store users location (cell tower code) with a name of his choice, i.e for example the cell tower code is 405673 and I want to store that as a 'Home' location.\nSo, essentially my program contains the following modules</p>\n\n<ol>\n<li>to get users tower code.</li>\n<li>to create a database.</li>\n<li>to get an input string for location name from user.</li>\n<li>to store these values in database.</li>\n<li>to display these values when requested.</li>\n</ol>\n\n<p>modules 1 and 2 were working perfectly individually, but when i integrate them I get a Fatal main and a null pointer exception.</p>\n\n<p>My code is as below</p>\n\n<pre><code>package my.project.mil;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class Cbdata extends MainActivity {\n\n    public String str;\n\n    public void onReceive(Context context, Intent intent) {\n        //---get the CB message passed in---\n        Bundle bundle = intent.getExtras();        \n        SmsCbMessage[] msgs = null;\n        str = \"\";            \n        if (bundle != null)  {\n            //---retrieve the SMS message received---\n            Object[] pdus = (Object[]) bundle.get(\"pdus\");\n            msgs = new SmsCbMessage[pdus.length];            \n            for (int i=0; i&lt;msgs.length; i++) {\n                msgs[i] = SmsCbMessage.createFromPdu((byte[])pdus[i]);                \n                str += \"CB \" + msgs[i].getGeographicalScope() + msgs[i].getMessageCode() + msgs[i].getMessageIdentifier() + msgs[i].getUpdateNumber();                     \n                str += \" :\";\n                str += msgs[i].getMessageBody().toString();\n                str += \"\\n\";        \n            }}\n}\n\n    SQLiteDatabase cd = openOrCreateDatabase(\"mydata\", MODE_WORLD_READABLE, null);\n\n\n\nButton submit;\nButton viewdb;\nEditText name;\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.seventh);\n\n    viewdb = (Button) findViewById(R.id.viewdb);\n    submit = (Button) findViewById(R.id.submit);\n    name = (EditText) findViewById(R.id.name);\n\n    submit.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n\n            String locname = name.getText().toString();\n            if (locname.length()&gt;0)\n            {\n\n                cd.execSQL(\"CREATE TABLE IF NOT EXITSTS MLITable     (CblocationCode INT(10), CblocationName VARCHAR);\");\n                cd.execSQL(\"INSERT INTO MLITable VALUES (' ',' ');\" +str +locname);\n                Toast.makeText(getBaseContext(), \"value successfully entered.\", Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                Toast.makeText(getBaseContext(), \"Please enter the location name, for example 'Home'.\", Toast.LENGTH_LONG).show();\n            }\n\n        }\n    });\n\n    cd.close();\n\n    viewdb.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n            // TODO Auto-generated method stub\n            // here comes the code for viewing the database\n\n\n        }\n    });\n}\n\n\n\n} \n</code></pre>\n\n<p>My logcat is as follows </p>\n\n<p><img src=\"http://i.stack.imgur.com/Jk3R7.png\" alt=\"logcat\"></p>\n\n<p>Interestingly, I've removed database commands to see if my code is working or not, from that I could conclude that I made a mistake in database connection line. </p>\n\n<p>Now, my queries are</p>\n\n<ol>\n<li>Why I'm a getting a null point exception error with my database connection and how can I resolve it?</li>\n<li><p>I've used the following code to insert values into a table,</p>\n\n<p>cd.execSQL(\"CREATE TABLE IF NOT EXITSTS MLITable     (CblocationCode INT(10), CblocationName VARCHAR);\");\ncd.execSQL(\"INSERT INTO MLITable VALUES (' ',' ');\" +str +locname);\nis it the correct way to pass user values to my database?</p></li>\n</ol>\n\n<p>Thank you.</p>\n"},{"tags":["sql","database","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":38,"score":3,"question_id":13202148,"title":"How can I represent this idea to the database design?","body":"<p>I am new to database design, I am trying to build a database of shopping system.</p>\n\n<p>Assume we have a Customer table and a Staff table.</p>\n\n<p>The requirement is: </p>\n\n<ol>\n<li>To allow part of the customers to have privilege of \"Item return &amp; refund\".</li>\n<li>To allow part of the staff to have the authority to process the refund.</li>\n</ol>\n\n<p>My idea is to <strong>simply add a column with a Boolean value to \"Flag\" which customer or which staff has the authority or not?</strong></p>\n\n<p>Is that correct to solve this problem? Any potential problem?</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13201682,"title":"One large table or break them down? (Optimal database)","body":"<p>I've looked around trying to figure out the best way to handle my database, and I have some questions.</p>\n\n<p>Is it better to have a large table or separate tables? Is there any real difference as far as server load?</p>\n\n<p>I paid a guy to put together a database and some php so I could break into it, and he made 2 separate tables for what, I think, should be one. Seems to be redundant, and I no likey repeating myself.</p>\n\n<p>Basically, <code>x_content</code> is: <pre>ID | section | page | heading | content</pre></p>\n\n<p>and <code>x_menu</code> is <pre>ID | PARENT | LINK | DISPLAY | HASCHILD</pre></p>\n\n<p>(personally, it bugs me about the caps. I think I'll go Standard Case since everything else on the site is all-lowercase or in script camelCase)</p>\n\n<p>Anyway, ID, (heading/DISPLAY), and (page/LINK) are more/less (can be) the same. Seems to me I'd be doing myself a favor by combining these, and adding the rest of what I want.</p>\n\n<p>What I'd Like: <pre>ID | Category | Name | URL | Description | Keywords | Content | Theme</pre></p>\n\n<p>So- should I delete the <code>x_menu</code> and combine them?</p>\n\n<p>*If I link all of the pages in my site right now, it would be something like 40+</p>\n"},{"tags":["database","external","restore","database-backups"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13201738,"title":"Using External Hard Drive to Store Database","body":"<p>Any help will be very much appreciated!</p>\n\n<p>I have a historian server that stores data in a SQL Server Database.  I want to be able to review the data on a different machine other than the server.  Currently, the database is 450GB.</p>\n\n<p>I have a backup file stored on a 1TB external hard drive right now.  Is it possible to do a restore of the backup file and view the data on a laptop that doesn't have the 450GB space?</p>\n\n<p>Or, is there a way to backup only specific data so the backup isn't as large?</p>\n"},{"tags":["php","jquery","database","json"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13166455,"title":".append() with Database","body":"<p>I'm trying to retrieve information from my database, and output it to my page. I'm able to hardcore it, so to show exactly what I want to be able to do is located here: <a href=\"http://samaradionne.com/links/\" rel=\"nofollow\">http://samaradionne.com/links/</a></p>\n\n<p>I'm not having any console errors in the javascript, but I am unable to append data to the list once it is clicked.</p>\n\n<p>HTML &amp; JS:</p>\n\n<pre><code>&lt;!doctype html&gt;&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;Samara Dionne: Bookmarks&lt;/title&gt;\n&lt;link rel=\"shortcut icon\" href=\"../img/sd.ico\" /&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;  \n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"body\"&gt;\n&lt;div id=\"header\"&gt;&lt;h1&gt;&lt;a href=\"#\"&gt;Bookmarks&lt;/a&gt;&lt;/h1&gt;&lt;/div&gt;&lt;!-- header --&gt;\n&lt;iframe id=\"iFrame\" name=\"iFrame\"&gt;&lt;/iframe&gt;\n&lt;div id=\"links\"&gt;&lt;ul id=\"accordion\"&gt;\n\n&lt;li&gt;&lt;div class=\"bookmarkTitle\"&gt;&lt;p&gt;&lt;h4&gt;CareerResources&lt;/h4&gt;&lt;/p&gt;&lt;/div&gt;&lt;/li&gt;&lt;ul id=\"CareerResources\"&gt;\n\n&lt;/ul&gt;&lt;li&gt;&lt;div class=\"bookmarkTitle\"&gt;&lt;p&gt;&lt;h4&gt;CSS&lt;/h4&gt;&lt;/p&gt;&lt;/div&gt;&lt;/li&gt;&lt;ul id=\"CSS\"&gt;\n\n&lt;/ul&gt;&lt;li&gt;&lt;div class=\"bookmarkTitle\"&gt;&lt;p&gt;&lt;h4&gt;JS&lt;/h4&gt;&lt;/p&gt;&lt;/div&gt;&lt;/li&gt;&lt;ul id=\"JS\"&gt;\n\n&lt;/ul&gt;&lt;li&gt;&lt;div class=\"bookmarkTitle\"&gt;&lt;p&gt;&lt;h4&gt;JS: Jquery&lt;/h4&gt;&lt;/p&gt;&lt;/div&gt;&lt;/li&gt;&lt;ul id=\"JS: jQuery\"&gt;\n\n&lt;/ul&gt;&lt;/div&gt;&lt;!-- links end --&gt;\n&lt;/div&gt;&lt;!-- body end --&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){       \n    $(\"#accordion &gt; li\").click(function(e){\n        var catName=$(e.target).text();\n        $.getJSON(\"get.php?catName=\" + catName, function(data){ \n            if (data.data){ \n                $.each(data.data,function(index,value){ \n                    var url = value.URL; \n                    var title = value.title; \n                    var desc = value.desc; \n                    alert(catName);\n                    $(\"#\"+catName).append('&lt;a href=\"'+url+'\" target=\"iFrame\"&gt;&lt;div class=\"bookmark\"&gt;&lt;p&gt;&lt;h3&gt;'+title+'&lt;/h3&gt;&lt;br /&gt;'+desc+'&lt;/p&gt;&lt;/div&gt;&lt;/a&gt;'); \n                }); \n            } \n        });\n    }); \n}); \n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>// retval: 0 - login ok, 1 - login failed, 2 - internal error\n$json = array(\"retval\" =&gt; 2, \"data\" =&gt; NULL, \"debug\" =&gt; \"\");\n\n$catName=mysql_real_escape_string($_REQUEST['catName']);\n\n\n$sql=\"SELECT * FROM linktb WHERE catName='$catName'\";\n\n$json['debug'] .= \"SQL query was: \".$sql.\"\\n\";\n$result=mysql_query($sql);\nif (!$result) {\n    $json['debug'] .= \"SQL query failed\\n\";\n    $json['debug'] .= \"Other output: \". ob_get_contents();\n    ob_end_clean();\n    die(json_encode($json));\n}\n$count=mysql_num_rows($result);\n\nif($count &gt; 0){ \n$json['retval'] = 0; \n$json['data'] = array(); \nwhile ($row = mysql_fetch_assoc($result)){ \n$json['data'][] = $row; \n} \n} else { \n$json['retval'] = 1; \n}\n\n$json['debug'] .= \"Other output: \". ob_get_contents();\nob_end_clean();\necho json_encode($json);\n</code></pre>\n\n<p>What the current page looks like: <a href=\"http://samaradionne.com/links2/\" rel=\"nofollow\">http://samaradionne.com/links2/</a></p>\n"},{"tags":["database","oracle","oracle11g","tnsnames","ora-12154"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13201220,"title":"ora-12154 issue when connecting with instant-client","body":"<p>I am running Oracle 11g on Windows Server 2008R2. I have a client application(Zabbix) running elsewhere that is trying to connect to it.</p>\n\n<p>The client machine has:</p>\n\n<ul>\n<li>oracle-instantclient11.2-basic-11.2.0.3.0-1.i386.rpm</li>\n<li>oracle-instantclient11.2-devel-11.2.0.3.0-1.i386.rpm</li>\n</ul>\n\n<p>And as such, it does not have sqlnet.ora or tnsnames.ora files. It is attempting to establish a connection with direct addressing. With a print statement in the php, I see that it is calling</p>\n\n<pre><code>ociplogon(user,password,$connect);\n</code></pre>\n\n<p>with connect being set to <strong>//dbhostmachine:1521/zabbix</strong>. So everything looks good there.   </p>\n\n<pre><code>C:\\Users\\mdobrini&gt; lsnrctl services\n\nLSNRCTL for 64-bit Windows: Version 11.1.0.7.0 - Production on 02-NOV-2012 13:00:55\n\nCopyright (c) 1991, 2008, Oracle.  All rights reserved.\n\nConnecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=dbhostmachine.dddd.cccc.com)(POR\nServices Summary...\nService \"zabbix\" has 1 instance(s).\n  Instance \"zabbix\", status READY, has 1 handler(s) for this service...\n    Handler(s):\n      \"DEDICATED\" established:578 refused:0 state:ready\n         LOCAL SERVER\nService \"zabbixXDB\" has 1 instance(s).\n  Instance \"zabbix\", status READY, has 1 handler(s) for this service...\n    Handler(s):\n      \"D000\" established:0 refused:0 current:0 max:1022 state:ready\n         DISPATCHER &lt;machine: dbhostmachine, pid: 6384&gt;\n         (ADDRESS=(PROTOCOL=tcp)(HOST=dbhostmachine.dddd.cccc.com)(PORT=61396))\nService \"zabbix_XPT\" has 1 instance(s).\n  Instance \"zabbix\", status READY, has 1 handler(s) for this service...\n    Handler(s):\n      \"DEDICATED\" established:578 refused:0 state:ready\n         LOCAL SERVER\nThe command completed successfully\n</code></pre>\n\n<p>Attempting to connect locally works fine:</p>\n\n<pre><code>SQL*Plus: Release 11.1.0.7.0 - Production on Fri Nov 2 13:06:31 2012\n\nCopyright (c) 1982, 2008, Oracle.  All rights reserved.\n\nEnter user-name: SYSTEM\nEnter password:\n\nConnected to:\nOracle Database 11g Enterprise Edition Release 11.1.0.7.0 - 64bit Production\n\nSQL&gt; connect uuu/ppp@localhost/zabbix\nConnected.\nSQL&gt;  \n</code></pre>\n\n<p>However, remotely I get the popular error:</p>\n\n<pre><code>ociplogon(): ORA-12154: TNS:could not resolve the connect identifier specified \n</code></pre>\n\n<p>The strange thing is that it was working intermittently before. I would get an error about every 10 seconds in my application:</p>\n\n<pre><code>30923:20121101:142237.595 [Z3001] connection to database '//dbhostmachine:1521/zabbix'     failed: [-1] ORA-12516: TNS:listener could not find available handler with matching   protocol stack\n30923:20121101:142237.596 watchdog: database is down\n</code></pre>\n\n<p>but there was definitely data being sent across the network, and persisted in the db. After restarting application and server I am no longer able to get a connection at all and am stuch on ORA-12154</p>\n"},{"tags":["database","validation","integration-testing","environment","puppet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12961435,"title":"Server Environment validation/test","body":"<p>I have proxy servers, real servers for applications, and a SSO server for authentication. </p>\n\n<p>After installation of various applications, there are configuration (in property/XML files) like database connection configuration (data source, JNDI, etc.), server names, proxy server names, ports,etc. </p>\n\n<p>Ususally this configuration is a manually process and error-prune. We want to validate the environment after installation and configuration.</p>\n\n<p>Is there a tool or framework available for this kind environment validation/test to make sure everything is correct? </p>\n\n<p>As an example, what's the best practice to validate database connection string configured in a property file?\nlike below:</p>\n\n<pre><code>DB_CONNECTION_STRING=server:1526:SID\nUSER_NAME=xxxx\nUSER_PSWD=xxxx\n</code></pre>\n\n<p>Any one know how to do the above example with Puppet?</p>\n"},{"tags":["java","database","sqlite","netbeans","blob"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13200789,"title":"inserting image to sqlite","body":"<p>I'm creating application using sqlite database and netbeans .I have a problem when I save an image to data base.\nI have an image field in database which data type is BLOB and i'm inserting a byte array . i know it doesn't match.but when i save it holds value like this  \"[B@2c8f544b\" but actual values should be like this  \"BLOB (Size: 1850)\". if there is some value like that then only i can retrieve the image. I really can't figure out how to do this.if you have any reference  please let me know. </p>\n\n<p>my idea is before save to database convert byte array to BLOB type.but I couldn't find any code.</p>\n\n<pre><code>        String fname = p.fname;\n        String lname = p.lname;\n        byte[] image = p.image_det;\n        String mob = p.mobile;\n        String wor = p.work;\n        String hom = p.home;\n        String fax = p.fax;\n        int pID ;\n\n        ResultSet rst = stmt.executeQuery(\"SELECT MAX(pID) FROM person\");\n\n        pID =    Integer.parseInt(rst.getString(1))+1;\n\n\n        Statement stmt1 = con.createStatement();\n        stmt1.executeUpdate(\"INSERT INTO person(pID,F_name,L_name,image) VALUES (\"+pID+\" ,'\"+fname+\"','\"+lname+\"','\"+image+\"' ) \");\n</code></pre>\n\n<p>//-------------------------getting image path and  get image data to array called image_details</p>\n\n<pre><code>    File f;\n    String ipath = f.getAbsolutePath();  // getting image path\n    byte[] image_detail = null;\n\n    try \n    {\n        File image = new File(ipath);\n        FileInputStream fis = new FileInputStream(image); \n\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        byte[] buf = new byte[1024];\n\n        for(int readNum;(readNum = fis.read(buf))!= -1;)\n        {\n            baos.write(buf, 0,readNum);\n        }\n\n        image_detail =  baos.toByteArray();\n\n        per.setImage_det(image_detail); // set image data for person class\n</code></pre>\n"},{"tags":["database","svn","version-control"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13197815,"title":"Some db with pics in svn","body":"<p>I have a large set of picture, which I plan to save in some ODB. Thse pictures can be changed after insertion into the database (although not often). </p>\n\n<p>My question: How can I use SVN in connection with these pictures?</p>\n"},{"tags":["database","performance","full-text-search","sql-server-2012","sql-server-performance"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13200498,"title":"What is the fastest approach to populate a SQL Server database with large amount of data","body":"<p><strong>Dilemma:</strong></p>\n\n<p>I am about to perform population of data on SQL Server 2012 Dev Edition. Data is based on production data. Amount is around 4TB. </p>\n\n<p><strong>Purpose:</strong></p>\n\n<p>To test performance on full text search and on regular index as well. Target number should be around 300 million items around 500K each. </p>\n\n<p><strong>Question:</strong> </p>\n\n<p>What should I do before to speed up the process or consequences that I should worry about?</p>\n\n<p>Ex. </p>\n\n<ol>\n<li>Switching off statistics? </li>\n<li>Should I do a bulk insert of 1k items per transaction instead of single transaction? </li>\n<li>Simple recovery model? </li>\n<li>Log truncation? </li>\n</ol>\n\n<p><strong>Important:</strong></p>\n\n<p>I will use sample of 2k of production items to create every random item that will be inserted into database. I will use near unique samples generated in c#. It will be one table:</p>\n\n<pre><code>table \n(\n    long[id], \n    nvarchar(50)[index], \n    nvarchar(50)[index], \n    int[index], \n    float, \n    nvarchar(50)[index], \n    text[full text search index]\n)\n</code></pre>\n"},{"tags":["php","mysql","sql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13200676,"title":"Multiple MySQL Database user logins conflicting","body":"<p>I have 2 databases that I INSERT INTO on my php page. I have anti-injection, however my problem lies in the following mysql_error(); message: INSERT command denied to user 'username'@'50.63.197.56' for table 'something_clients'.</p>\n\n<p>My first database is the 'username', and it cannot access the other database, which is good. However, I would my 2nd connection to access its database. Any help is greatly appreciated! Here is my code: \n</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php  \n{  \nrequire_once('client-config.php');  \n$link = mysql_connect(DB_HOST, DB_USER, DB_PASSWORD);  \nif(!$link) {  \n    die('Failed to connect to server: ' . mysql_error());  \n}  \n$DBName1 = mysql_select_db(DB_DATABASE);  \nif(!$DBName1) {  \n    die(\"Unable to select database\");  \n}  \n    $sqv = \"CREATE TABLE `$DBName1`.`{$login}_weekly` (  \nDate1 int,  \nDate2 int,  \nDate3 int,   \nDate4 int,  \nDate5 int,  \nDate6 int,  \nDate7 int,  \nClientTotal int  \n)\";   \n    mysql_query($sqv,$link);  \n    mysql_close($link);  \n}  \n{  \nrequire_once('agent-config.php');  \n//Connect to mysql server  \n$link2 = mysql_connect(DB_HOST, DB_USER, DB_PASSWORD, true);  \nif(!$link2) {  \n    die('Failed to connect to server: ' . mysql_error());  \n}  \n$DBName2 = mysql_select_db(DB_DATABASE);  \nif(!$DBName2) {  \n    die(\"Unable to select database\");  \n}  \n//Create INSERT query  \n$qry2 = \"INSERT INTO `$DBName2`.`{$agentlogin}_clients` (AgentClients)   VALUES('$login')\";  \n$result2 = @mysql_query($qry2);  \n    echo mysql_error($link2);  \nif($result2) {  \n    header(\"location: client-register-success.php\");  \n    exit();  \n}else {     \n    die(\"Query failed\");  \n}  \n}   \n?&gt;\n</code></pre>\n"},{"tags":["database","time-series","opentsdb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13199712,"title":"TSDB - metric vs tag and raw data","body":"<p>I am just starting with tsdb and I have the following two questions:</p>\n\n<ol>\n<li>I have read in the intro manual that metric should represent a general desciption of what you want to store i.e. server.datapackets, and tags should differentiate between specifics e.g. servername=server1, or region-EU. Does this differentiattion to tags/metrics carry any performance/memory implications i.e. are tags more lightweight/faster than metrics?</li>\n<li>Is there a way (a library?) that would allow to get back the raw data from teh db, even as a string, rather than just the time series graph?</li>\n</ol>\n\n<p>Thanks a lot for your help</p>\n"},{"tags":["python","database","migration"],"answer_count":9,"favorite_count":6,"up_vote_count":25,"down_vote_count":0,"view_count":1759,"score":25,"question_id":3923280,"title":"Can you recommend a database schema migration tool that is not tied to a particular framework or ORM?","body":"<p>I've used <a href=\"http://south.aeracode.org/\">South migrations</a> in the past, but am now looking for a database migration tool that is not tied to a particular framework or Object Relational Mapper (South is for Django). I need it simply for managing schema updates (and rollbacks) and nothing else. Various tools and applications use the same database, so I'd like a dedicated tool to manage the schema and not have it integrated with the ORM of one particular web-application that might use the shared DB.</p>\n\n<p><strong>Edit:</strong> To clarify, I <strong>don't</strong> need a tool that reads changes to models in an app and generates the schema updates for me. I want a tool that uses migrations and applies updates and rollbacks on request, but where I explicitly write the update and rollback actions myself. Basically a better managed, and slightly abstracted version of <code>source</code>ing <code>.sql</code> scripts to do schema upgrades.</p>\n\n<p>Preferably Python-based, as that is what the team is familiar with, the tool needs to work with MySQL but would hopefully also have some abstraction for other RDBMS backends.</p>\n\n<p>Obviously I could find a few myself, but I'd like to harness the experience of the community here to shortcut the process a little by gathering some \"reviews\" from personal experience using the tools in real world scenarios:</p>\n\n<ul>\n<li>What are the good things about the solution?</li>\n<li>What are the pitfalls and problems you've encountered with it?</li>\n<li>Is it actively developed, does it have a good community, support etc?</li>\n</ul>\n\n<p>So far I've found <a href=\"http://pypi.python.org/pypi/yoyo-migrations\">yoyo-migrations</a> which looks promising, but no info from anyone using it.</p>\n"},{"tags":["php","mysql","database","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":42,"score":1,"question_id":13198875,"title":"pass a PDO db object instance to other class function","body":"<p>I have an PDO object in an included file and when i use it in main page it works great.\nAnd when i pass it into an object to use it inside of them it simply dont work.</p>\n\n<p>I've tried directly and with reference (function xxxx(&amp;dbd){ this->$db = &amp;dbd }), simply dont work, but if i pass another type of value (as a string) that works perfect. If i send a $db = \"olaola\" it works but if it is an PDO it fails. I'm a newbie in php and in english, so be patient please :P</p>\n\n<p>included file:</p>\n\n<pre><code>$username = \"root\";\n$password = \"*****\";\n$host = \"localhost\";\n$dbname = \"dbname\";\n$db = NULL;\n$options = array(PDO::MYSQL_ATTR_INIT_COMMAND =&gt; 'SET NAMES utf8');\n\ntry\n{\n    $db = new PDO(\"mysql:host={$host};dbname={$dbname};charset=utf8\", $username, $password, $options);\n}\ncatch(PDOException $ex)\n{\n    die(\"Failed to connect to the database: \" . $ex-&gt;getMessage());\n}\n\n$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n$db-&gt;setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);\n</code></pre>\n\n<p>in main:</p>\n\n<pre><code>$pagMenu = new pages($db);\n</code></pre>\n\n<p>in pages class:</p>\n\n<pre><code>class pages {\n\n    private $db;\n\n    function __construct($db) { \n        $this-&gt;$db = $db;\n    }\n}\n</code></pre>\n"},{"tags":["database","entity-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13198869,"title":"Is there a command to check to see if a database exists from Entity Framework?","body":"<p>I may have worded the question poorly but in my global.asx file i use </p>\n\n<pre><code> if (System.Diagnostics.Debugger.IsAttached)\n        {\n            var test = new TestDbSeeder(App_Start.NinjectWebCommon.UcxDbContext);\n            test.seed();\n       }\n</code></pre>\n\n<p>This checks to see if the debugger is attached and runs my test seeder so that my acceptance tests always pass.</p>\n\n<p>I need to check to see if the database exists as well and if not run this code first:</p>\n\n<pre><code>  var test2 = new DataSeeder();\n  test2.Seed(App_Start.NinjectWebCommon.UcxDbContext);\n</code></pre>\n\n<p>This dataseeder is the actual data that has to always be in the database. Is there a command to check  if the database exists so that I can run that code block.  Thanks!</p>\n"},{"tags":["sql","database","tsql"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13198746,"title":"sql - group/order same column DESC and with random values","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8305920/sql-how-to-sort-order-query-result-in-somewhat-arbitrary-manner\">SQL: How to sort / order query result in somewhat arbitrary manner?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to order a column like so (DESC values):\n c,b,a. \nHowever at the very end of the DESC, I want to display values g,h,i (if exist) . Do I need to do a union on the column from a sub-query?</p>\n\n<p>This is the SQL script so far:</p>\n\n<pre><code>SELECT cars,size from car_table\nGROUP BY cars, size\nORDER BY cars DESC,size ASC\n</code></pre>\n\n<p>Cars is the column I am trying to run my multi-sort on.</p>\n"},{"tags":["mysql","database","mapping","datamodel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13197381,"title":"Best practice for storing GPS data of a tracking app in mysql database","body":"<p>I have a datamodel question for a GPS tracking app. When someone uses our app it will save latitude, longitude, current speed, timestamp and burned_calories every 5 seconds. When a workout is completed, the average speed, total time/distance and burned calories of the workout will be stored in a database. So far so good..</p>\n\n<p>What we want is to also store the data that is saved those every 5 seconds, so we can utilize this later on to plot graphs/charts of a workout for example.</p>\n\n<p>How should we store this amount of data in a database? A single workout can contain 720 rows if someone runs for an hour. Perhaps a serialised/gzcompressed data array in a single row. I'm aware though that this is bad practice..</p>\n\n<p>A relational one/many to many model would be undone? I know MySQL can easily handle large amounts of data, but we are talking about 720 * workouts \ntwice a week * 7000 users = over 10 million rows a week.\n(Ofcourse we could only store the data of every 10 seconds to halve the no. of rows, or every 20 seconds, etc... but it would still be a large amount of data over time + the accuracy of the graphs would decrease)</p>\n\n<p>How would you do this?\nThanks in advance for your input!</p>\n"},{"tags":["sql","sql-server","database","sql-server-2008"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13198384,"title":"What does &gt; 0 mean in SQL?","body":"<p>I have the following SQL statement. Please tell me if my translation of it is accurate. I'm using MS SQL Server 2008. Thanks</p>\n\n<pre><code>(bld_sqft &amp;gt; 0 OR bld_area &amp;gt; 0)\n</code></pre>\n\n<p>My translation</p>\n\n<pre><code>bld_sqft &gt; 0 OR bld_area &gt; 0\n</code></pre>\n"},{"tags":["sql","database","teradata"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13197934,"title":"SQL difference between =0, ='0', IN(0), IN('0')","body":"<p>I inherited some code from a coworker and I noticed that the way that some of the code is not consistent\nFor example, is ther any functional difference between the following:</p>\n\n<pre><code>sum(case when (elephants = 0)then 1 else 0 end),\n\nsum(case when (elephants = '0')then 1 else 0 end),\n\nsum(case when (elephants IN (0))then 1 else 0 end),\n\nsum(case when (elephants IN ('0'))then 1 else 0 end);\n</code></pre>\n\n<p>If there isn't a functional difference between using single qutoes or IN vs = when looking for a single value, what other reason could account for it (other than sloppy code)?</p>\n"},{"tags":["android","mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13198286,"title":"How to use stored data for android application?","body":"<p>I have created GPS application and database on MYSQL. Now I want to take a value(LAT and Long) from that database as a location 2 and current location will be location 1 for following equation: </p>\n\n<pre><code>float distanceInMeters=location1.distanceTo(location2); \n</code></pre>\n\n<p>Any help following this? How do I connect with the database, how do I select that specific value and at the end and how to find the distance?</p>\n"},{"tags":["sql","database","count","group-by"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12693111,"title":"count multiple columns with group by in one query","body":"<p>I count values from multiple columns like this:   </p>\n\n<pre><code>SELECT COUNT(column1),column1 FROM table GROUP BY column1\nSELECT COUNT(column2),column2 FROM table GROUP BY column2\nSELECT COUNT(column3),column3 FROM table GROUP BY column3\n</code></pre>\n\n<p>This returns for example for column1 array(attr1 => 2000, attr2 => 3000...) (Each column has specific and few values). The problem is that \"table\" in my application can be a query with some joins and where clauses, that may take 0.1sec. By doing all that counts \"table\" is computed each time again which is not necessary. Is there any way to take the results i want with one query, or \"cache\" the query that produces table? Otherwise i believe denormalization would be the only solution here. And i want the same results with the above queries. I am using mysql-myisam.</p>\n"},{"tags":["sql","database","indexing"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":6316,"score":2,"question_id":6593765,"title":"How to use index in select statement?","body":"<p>i have created an index suppose IDX_name on the name attribute.\nIs it necessary to use this index name in select clause or it will automatically used to speed up queries related to name attribute,</p>\n\n<p>If the index must be used in select clause then how to use it ?</p>\n"},{"tags":["android","mysql","sql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13197318,"title":"Storing line-by-line data in single database field","body":"<p>In MySQL database, I have a table in which there is a field named features. I have nearly 20 features to store there. I am trying to retrieve these features from my Android mobile application. In app, it has to be shown as line by line (so 20 lines in total). Is there anyway to store the 20 features in that single field by doing something like <code>\\n</code>? Or is there anyway to get those features in new lines by doing something in my android app?</p>\n"},{"tags":["android","database","sqlite","sqlite3"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4145,"score":0,"question_id":4991368,"title":"SQLiteException: no such table","body":"<p>I am using my own SQLite3 database as opposed to creating a new one each time my app runs, as I have a few tables with static data that I am trying to display. I created my database and placed it in my assets folder. I then created my database helper and when I start my app I can open my database without problem but when I try to open my first table using the following code</p>\n\n<pre><code>private Cursor getData() \n{\n    try\n    {\n        myDbHelper = new DatabaseHelper(this);\n        SQLiteDatabase db = myDbHelper.getReadableDatabase();\n        Cursor cursor = db.query(\"exhibitor\", FROM, null, null, null,null, ORDER_BY);\n        startManagingCursor(cursor);\n        return cursor;\n    }\n    catch(SQLiteException e)\n    {\n        String err = e.toString();\n        return null;\n    }\n}\n</code></pre>\n\n<p><br>\nIt throws an error saying <code>android.database.sqlite.SQLiteException: no such table: exhibitor: , while compiling: SELECT _id, EXHIBITOR FROM exhibitor ORDER BY EXHIBITOR</code> but when I check the database exhibitor is there.\n<br><br>What am I missing?</p>\n"},{"tags":["mysql","ruby-on-rails","database","ruby-on-rails-3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":330,"score":0,"question_id":9779998,"title":"rail servers error? (rails 3) in windows","body":"<p>I created a new project using the command:</p>\n\n<blockquote>\n  <p>rails new simple_cms -d mysql </p>\n</blockquote>\n\n<p>but when I try to launch the web server, this happens:  </p>\n\n<pre><code>C:\\Users\\johnny\\Sites\\simple_cms&gt;rails server\nC:/Ruby193/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11-x86-mingw32/lib/mysql2/mysql2.rb:2:in `require': 193: %1 is not a valid Win32 application.   - C:/Ruby193/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11-x86-mingw32/lib/mysql2/1.9/mysql2.so (LoadError)\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11-x86-mingw32/lib/mysql2/mysql2.rb:2:in `&lt;top (required)&gt;'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11-x86-mingw32/lib/mysql2.rb:9:in `require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11-x86-mingw32/lib/mysql2.rb:9:in `&lt;top (required)&gt;'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:68:in `require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:68:in `block (2 levels) in require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:66:in `each'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:66:in `block in require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:55:in `each'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler/runtime.rb:55:in `require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/bundler-1.1.1/lib/bundler.rb:119:in `require'\n    from C:/Users/johnny/Sites/simple_cms/config/application.rb:7:in `&lt;top (required)&gt;'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.2/lib/rails/commands.rb:53:in `require'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.2/lib/rails/commands.rb:53:in `block in &lt;top (required)&gt;'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.2/lib/rails/commands.rb:50:in `tap'\n    from C:/Ruby193/lib/ruby/gems/1.9.1/gems/railties-3.2.2/lib/rails/commands.rb:50:in `&lt;top (required)&gt;'\n    from script/rails:6:in `require'\n    from script/rails:6:in `&lt;main&gt;'\n\nC:\\Users\\johnny\\Sites\\simple_cms&gt;\n</code></pre>\n\n<p>Some version info just in case:</p>\n\n<pre><code>C:\\Users\\j\\Sites\\simple_cms&gt;ruby -v\nruby 1.9.3p125 (2012-02-16) [i386-mingw32]\n\nC:\\Users\\j\\Sites\\simple_cms&gt;ruby -v\nruby 1.9.3p125 (2012-02-16) [i386-mingw32]\n\nC:\\Users\\j\\Sites\\simple_cms&gt;mysql --version\nmysql  Ver 14.14 Distrib 5.5.21, for Win64 (x86)\n</code></pre>\n\n<p>I've already searched the web looking for solutions, but none of them\nseem to work. Any help would be greatly appreciated, thank you.</p>\n"},{"tags":["database","sql-server-2008-r2","workgroup"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13196697,"title":"Adding workgroup user to SQL Server on another Workgroup machine","body":"<p>We have 2 workgroup machines (say WG1 and WG2)</p>\n\n<p>WG1 has SQL Server 2008 installed. and WG2 is web server.</p>\n\n<p>I need to install application on WG2 server connecting to WG1 database server using Windows Authentication for database.</p>\n\n<p>For doing so, i need to add user of WG2 server on SQL Server on WG1 server. But as the servers are in workggroup, from WG1 server i can't add user of WG2 server.</p>\n\n<p>Is this possible? Can someone please guide me on this.</p>\n"},{"tags":["java","database","spring","hibernate","gwt"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13196441,"title":"Self teaching professional java skills","body":"<p>I've been programming in java for a while and I really like the language, I've mostly just done game programming, but I want to get a feel for some of the more commonly used api's and frameworks and just get a generally more well-rounded grasp of the language and the common libraries in the current job market.</p>\n\n<p>From what I found things like spring, hibernate, and GWT are pretty in demand right now. I looked at some tutorials online and they weren't hard to follow but I really felt like I had no context for what I was learning - I had no idea how any of it would be use in a real work environment. I know nothing can rival the benefit I'd get from actual work experience but that's not an option for me right now, I need another way to learn these technologies in a way where I'll at least feel comfortable working with them and know what I'm doing beyond just understanding what code does what. I checked out a few books but they were all really old(like pre-2006, am I right to assume those books would be kind of out of date today?) or required experience with libraries that I didn't have and can't get. I hate getting stuck looking for the best resource to learn something instead of spending my time actually learning.</p>\n\n<p>All I really want is someone to point me to a resource(website or ebook) that is aimed at already experienced java developers and will not only teach me some interesting useful java technology(anything that is useful, I dont know much outside of graphics libraries and game related things so I was thinking some database or web programming api's) but also give me a good perspective of it and leave me feeling confident that I could actually use what I learned on a practical application.</p>\n\n<p>If my post makes you think I'm not yet experienced to be learning these things, which I doubted earlier today but am now starting to question, then what do you think is the next step for me? I just want to get better at java.</p>\n\n<p>Thanks everyone</p>\n"},{"tags":["php","mysql","database","api","schema"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13196289,"title":"PHP API creation software, database schema","body":"<p>I'm creating a software that lets you create any REST API you want, online.</p>\n\n<p>For example you want to create API that shares a list of car models/manufacturers of 20th century, so you would need fields like: color, model, manufacturer, and \"unlimited\" amount of other fields.</p>\n\n<p>Any registered user, can create \"unlimited\" amount of APIs, that discloses \"unlimited\" amount of data (to be specific: rows od data in format: id|color|model|manufacturer|and so on).</p>\n\n<p>The question is <strong>how to store this kind of data</strong>. </p>\n\n<p>I created a working mockup that uses 4 tables: <strong>feeds, rows, columns and values</strong></p>\n\n<p>But this leads to:</p>\n\n<ul>\n<li>complex joins</li>\n<li>limited functionality due to some processing must be done on the PHP site</li>\n<li>need of additional abstraction layer</li>\n</ul>\n\n<p>So <strong>my next idea is to create a separate database</strong> (which would be partitioned horizontally if needed), like <strong>myproject_data</strong>. </p>\n\n<p>When creating an API, the table would be created in myproject_data with appropriate name. </p>\n\n<p>This solution would eliminate abstraction layer that is needed to process data (columns, rows, values, feeds) to usable data (properly formatted rows populated with data).</p>\n\n<p>As far as I am concerned about performance issues I may expect from using hundreds of tables, I believe that performance loss would not be as big as when using complex joins and using only 4 tables with hundreds of thousands of records.\nAdditionaly that would eliminate additional abstraction layer.</p>\n\n<p><strong>What do you think ?</strong></p>\n"},{"tags":["java","database","spring"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13195988,"title":"Where to find list of exceptions and when their occurs","body":"<p>I am using <code>SimpleJdbcTemplate</code> to connect to database. Where I can found all exception and also when they are thrown? I know just few for example:</p>\n\n<pre><code>org.springframework.jdbc.BadSqlGrammarException\n</code></pre>\n\n<p>occurs when the SQL query has bad grammar. But I need to know more for example what exception is thrown when database is unreachble or there is lock etc.</p>\n"},{"tags":["objective-c","ios","database","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":25,"score":-2,"question_id":13195258,"title":"How to resolve \"Error delete commonQuery while creating add statement\" in iOS?","body":"<p>I am getting error as <strong>\"Error delete commonQuery while creating add statement\"</strong> while retrieving data from <strong>SQLITE3(Database)</strong>, and when i am connecting device to MAC and looking in iPhone configuration utility I am getting the following error in console log.</p>\n\n<p>This is error I am getting </p>\n\n<pre><code>Nov  2 17:48:48 unknown Tle[3082] &lt;Warning&gt;: totalcount 1, 0\nNov  2 17:48:50 unknown Tle[3082] &lt;Warning&gt;: prolist ########################################## 1\nNov  2 17:48:50 unknown Tle[3082] &lt;Warning&gt;: Errordelete commonQuery  while creating add statement\nNov  2 17:48:51 unknown Tle[3082] &lt;Warning&gt;: Errordelete commonQuery  while creating add statement\nNov  2 17:48:51 unknown Tle[3082] &lt;Warning&gt;: Errordelete commonQuery  while creating add statement\nNov  2 17:48:53 unknown Tle[3082] &lt;Warning&gt;: Errordelete commonQuery  while creating add statement\nNov  2 17:48:53 unknown Tle[3082] &lt;Warning&gt;: fsdf delete from productlist where proid IN ('');\n</code></pre>\n"},{"tags":["asp.net","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":7439765,"title":"SQL Server or Access Database for ASP.NET web app?","body":"<p>Using Access Database (*.mdb or *.accdb) is very simple. <br />\nBut I wonder about performance in comparison to using SQL Server in a production app with medium traffic websites!<br>\nIs it comparable to using SQLite with PHP?<br>\nCan you help me to choose?</p>\n"},{"tags":["mysql","database","eclipse","jsp","dynamic-websites"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13191829,"title":"Eclipse Dynamic Web Project MySQL","body":"<p>I'm currently working on creating a Dynamic Web Project in Eclipse. I was wondering if anyone could tell me what currently (today is the 02.11.2012) is the best way to include persistent storage like a mysql database into the project.\nI googled for some time now and there are so many answers out there, that I got really confused.\nAlso I have never worked with maven nor do I even know what that is (except for what wikipedia tells me). Same counts for batis, derby,...</p>\n\n<p>Can anyone help me out here please? Is mysql even the right choice?</p>\n\n<p>Btw. the database is not static, it will be changed all the time. (entries in some tables)</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":7962147,"title":"Sqlite returning old value after reboot in android","body":"<p>I am storing data in sqlite in my android device in a table where present month is primary key. I then  reboot and keep on updating the data in regular interval and retrieving the data from sqlite and it is showing me exact figure. But after all subsequent reboot,it shows me the initial value on first reboot, rather then showing last updated value. I can not find, where it is storing the initial value, Does sqlite cache the value. I am stuck with this problem for last two days. Anyone ever faced this problem.\nHere is my code.Code for Table is:</p>\n\n<pre><code>SQLiteDatabase dataUsageDataBase = null;\nprivate final String TOTAL_DATA_TABLE =\"DeviceData\";\ndataUsageDataBase.execSQL(\"CREATE TABLE IF NOT EXISTS \"+ TOTAL_DATA_TABLE+ \"( presentMonth INT , Data1 INT(12),Data2 INT(12),Data3 INT(12),Data4 INT(12),PRIMARY KEY(presentMonth) );\n</code></pre>\n\n<p>todayMonth is a number represeting present month(0 to 11)\nCursor for extracting old value:</p>\n\n<pre><code>Cursor totalData = dataUsageDataBase.rawQuery(\"SELECT * FROM \" + TOTAL_DATA_TABLE + \" WHERE presentMonth = \"+todayMonth +\"\", null);\n</code></pre>\n\n<p>// Some calculation is done here on the data after extracting data\nThen deleting exiting data and inserting new record</p>\n\n<pre><code>dataUsageDataBase.delete(TOTAL_DATA_TABLE, \" presentMonth =  \" + todayMonth+\"\" , null); \ndataUsageDataBase.execSQL(\"INSERT INTO \"+ TOTAL_DATA_TABLE+ \" Values( \"+todayMonth + \",\"+Data1+   \",\"   +Data2 + \",\"+ Data3 +\",\"+Data4+\");\"); \n</code></pre>\n"},{"tags":["sql","database","vb.net","dbf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":195,"score":0,"question_id":11234298,"title":"SQL/DBF Updating records from one table to another table located in different folder (*.dbf)","body":"<p>Updating records from one table to another table located in different folder.</p>\n\n<pre><code>Dim connection As New ADODB.Connection\nDim strConnection As String\nDim pathPrincipal As String\nDim pathUpdate As String 'External data base to update with TablePrincipal\nDim strSQL As String\n\npathPrincipal = \"D:\\DBFs\"\nstrConnection = \"Driver={Microsoft dBASE Driver (*.dbf)};DriverID=277;Dbq=\" &amp; PathPrincipal \n\nconnection.Open strConnection\nIf connection.State &lt;&gt; adStateOpen Then Exit Sub\n</code></pre>\n\n<p>'Correct :)</p>\n\n<pre><code>strSQL=\"UPDATE TablePrincipal#DBF\" &amp; \" A INNER JOIN \" &amp; \"TableUpdate#DBF\" &amp; \" B ON A.ID = B.ID SET A.X=B.X, A.Y=B.Y\"\n'Execute \nconnection.Execute strSQL, n, adCmdText\n</code></pre>\n\n<p>PREVIOUS CODE WORKS TO PERFECTION.....</p>\n\n<p>BUT MY PROBLEM IS WHEN BOTH DBF NOT IN THE SAME FOLDER BUT I AM TRYING THIS IS NOT WHAT ELSE DO</p>\n\n<pre><code>'No working for external DBF :'( :(\nstrSQL = \"UPDATE TablePrincipal#DBF A INNER JOIN\" &amp; _\n         \" OPENROWSET('MSDASQL','Driver={Microsoft dBase Driver (*.dbf)}; DBQ=\" &amp; _\n         pathUpdate &amp; \"; SourceType = DBF ','SELECT * FROM TableUpdate#DBF') B\" &amp; _\n         \" ON A.ID=B.ID SET A.X=B.X, A.Y=B.Y\"\n</code></pre>\n\n<p>ANYONE CAN HELP ME.....PLEASEEEE!!!! HELP\nAPOLOGIES FOR MY ENGLISH :)</p>\n"},{"tags":["mysql","database","database-indexes"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13194219,"title":"Mysql effective indexes","body":"<p>Currently I am creating indexes as I need them for a particular sql query.\nBut they are starting to overlap each other.</p>\n\n<p>Is there any rule to define them effectively?</p>\n\n<p>For example:</p>\n\n<ul>\n<li>If I have two indexes for column1 and column2, does the composite index by column1, column2 improve select by both columns?</li>\n<li>What is there any difference between an index by column1 and column2 over index by column2 and column1?</li>\n</ul>\n"},{"tags":["android","database","caching","storage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13194612,"title":"Efficency data storage in Android","body":"<p>I need to store localisated data from the web, which comes in a <code>JSON</code> string. So far I have a <code>DataAdapter</code> which expects data in a <code>JSONObject</code> and collectes the data for visualisation. But now I have no caching at all.</p>\n\n<p>I want to store the data from the last call including a <code>Etag</code> for observing changes. So I want to show at first the cached data and look on the web if there are some changes and show them as far they are aviable. I see there three options:</p>\n\n<ul>\n<li>Plain storage of the whole JSON in a file</li>\n<li>Storage of the data in a SQLite database</li>\n<li>Using a <a href=\"https://github.com/couchbase/Android-Couchbase\" rel=\"nofollow\">CouchDB for Android</a></li>\n</ul>\n\n<p>I'm not sure which way is most efficency... I want also to store/cache images. By the way I also want that the data are encrypted so far the <em>storage system</em> must not write any data directly on the flash memory, when seconds later comes another bound of data. And also I want to save the battery.</p>\n\n<p><strong>Which is the most energy efficency way to store data?<br>\nWhich is the fastes way to store data?</strong></p>\n"},{"tags":["c#","sql","database","dbf","elevatedb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11265333,"title":"How to Import Data from .DBF file to Some Other Database like ElevateDB?","body":"<p>I have large file say named as \"customers\" and it is in .DBF format. Now I want to import that .DBF file data to ElevateDB database. ,,,Is ther any ways to import data by Query or write program for import from .DBF to ElevateDB...</p>\n"},{"tags":["python","database","django","data-migration","schema-migration"],"answer_count":7,"favorite_count":21,"up_vote_count":24,"down_vote_count":1,"view_count":3142,"score":23,"question_id":426378,"title":"What is your favorite solution for managing database migrations in django?","body":"<p>I quite like Rails' database migration management system.  It is not 100% perfect, but it does the trick.  Django does not ship with such a database migration system (yet?) but there are a number of open source projects to do just that, such as django-evolution and south for example.</p>\n\n<p>So I am wondering, what database migration management solution for django do you prefer? (one option per answer please)</p>\n"},{"tags":["database","symfony2","doctrine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13194395,"title":"Symfony - how to commit several DB operations together","body":"<p>Using Symfony2.0 and Doctrine, how several DB operations can be committed all together? In other words, I want to make sure that some first operation on the database is not commited until I make sure that a second operation is committed successfully.</p>\n\n<p>I guess that in doctrine, to do that, we have <code>$em -&gt; flush()</code>, don't we?</p>\n\n<p>So, I'd like to know if this is the correct approach:</p>\n\n<p>In Repo1Repository:</p>\n\n<pre><code>public function update_something_else_in_DB($value){\n    $entity1 = do_whatever_with_the_entity();\n    $new_id = $em -&gt; persist ($entity1);\n    // Note that I am not flushing anything here.\n    return $new_id;\n}\n</code></pre>\n\n<p>In Repo2Repository:</p>\n\n<pre><code>public function update_something_else_in_DB($value){\n    $entity2 = do_whatever_with_the_entity2($value);\n    $new_id = $em -&gt; persist ($entity2);\n    // Note that I am not flushing anything here.\n    return $new_id;\n}\n</code></pre>\n\n<p>In the controller:</p>\n\n<pre><code>$em = $this-&gt;getDoctrine()-&gt;getEntityManager();\n\n$returned_value = $em-&gt;getRepository('AcmeStoreBundle:Repo1') -&gt; insert_something_in_DB();\n$em-&gt;getRepository('AcmeStoreBundle:Repo2')-&gt; update_something_else_in_DB($returned_value);\n$em -&gt; flush()\n// Putting here the flush, and not in the repositories.\n</code></pre>\n\n<p>Is this valid? Will it work? Is the best way to do it?</p>\n"},{"tags":["javascript","html","database","sqlite"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":13192643,"title":"Is it possible to access an SQLite database from javascript?","body":"<p>I have a set of html files and an SQLite database, which I would like to access from the browser, using the file:// scheme. Is it possible to access the database and create queries (and tables) using javascript?</p>\n"},{"tags":["android","database","sqlite","synchronization"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":204,"score":4,"question_id":8935078,"title":"Persisting user data from online services for \"offline viewing\" on Android applications","body":"<p>I have a webserver that hosts data for an application that I'm building on Android tablets.  The data changes fairly frequently, but I realize that tablets and phones aren't always connected to data, necessarily, and it would be good for users to already have access to data that they had viewed before.</p>\n\n<p>I want an application to pull data from the webserver whenever possible, and when it's not possible, to pull from the SQLite server (or whatever the proper method is) on the phone.</p>\n\n<p>Is there an implementation or practice already set in place to do this?  If so, what is the current method for implementing such a feature?  And could this same method be applied to making changes to data and then pushing those changes whenever a data-connection came back?</p>\n"},{"tags":["database","design-patterns","architecture","business-rules"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13168307,"title":"Modeling Business Rules into database","body":"<p>There's any pattern or modeling technique to store business rules in database?\nI'm looking for something that gives to my system business rules the same extensibility that EAV (Entity-Attribute-Value) gives-me in terms of fields.</p>\n"},{"tags":["php","mysql","database","sql-update","insert-update"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13173888,"title":"How to add to an existing value in the database","body":"<p>I'm back with another absolute beginner question, I have values stored in a database, my goal is to allow users to either subtract or add to a specific database value (quantity) using a drop down menu with values from ranging from 1 - 10. I'm keeping it simple for now.</p>\n\n<pre><code>mysql_select_db(\"toner\", $con);\n$sql=INSERT INTO inventory (partnumber, quantity)\nVALUES\n('$_POST[partnumber]','$_POST[quantity]');\nif (!mysql_query($sql,$con))\n{\ndie('Error: ' . mysql_error());\n}\nmysql_close($con);\n</code></pre>\n\n<p>I can find plenty of examples just adding or deleting a static value however that's not what I need. I've searched around and few examples resembling what I'm looking for <a href=\"http://stackoverflow.com/questions/2721127/how-can-i-update-a-field-in-a-mysql-database-table-by-addition-in-mysql-database\">1</a> &amp; <a href=\"http://stackoverflow.com/questions/10536929/how-to-update-mysql-with-php-when-subtracting\">2</a> It seems as though UPDATE would be the best solution however I'm not sure exactly how it should be implemented, I've also looking into concatenation but I'm not sure it can accomplish what I need, any assistance you can offer this novice is appreciated. Thanks</p>\n"},{"tags":["c#","database","linq","entity-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13191517,"title":"Accessing properties of second table via element of first table","body":"<p>I have two tables which are in a relationship. They are called tblX and tblY.</p>\n\n<pre><code>var x = (from v in db.tblX select v).First();\n</code></pre>\n\n<p>Now x has these properties:</p>\n\n<pre><code>x.name\nx.id\nx.tblY\n</code></pre>\n\n<p>tblY has these properties: idY, nameY.</p>\n\n<p>After I use the linq statement above, I can get to idY without making a join. I can access x.tblY.idY and x.tblY.nameY. Is it ok if I access them like this? Is it a good programming practise?</p>\n"},{"tags":["sql","database","json","database-design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13191733,"title":"intellectual challenge: how to turn the following DB schema into JSON?","body":"<p>I need to populate a javascript grid with monthly data on product sales. the grid looks something like this: </p>\n\n<pre><code>Product    January   February   March   ....\n-------    -------   --------   -------\nProduct A    421        453       571\nProduct B    274        312       305\n...\n</code></pre>\n\n<p>on the server side, I have a DB table that contains the following fields:</p>\n\n<p>id, product_name, month, value</p>\n\n<p>question is - my JS grid expects a json input. how would you serialize the sql table into json effeciently? </p>\n\n<p>is it better to do it server-side or client-side? how?</p>\n"},{"tags":["c#","database","linq","entity-framework","types"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13191320,"title":"The property 'x' on 'tblX' could not be set to a 'null' value. You must set this property to a non-null value of type 'Int16'","body":"<pre><code>List&lt;tblX&gt; messages = (from x in db.tblX where x.msg_id == id_id \n                           || x.name == firstName  select x).ToList();\n</code></pre>\n\n<p>I get the error: </p>\n\n<blockquote>\n  <p>The property 'x' on 'tblX' could not be set to a 'null' value. You must set this property to a non-null value of type 'Int16'.</p>\n</blockquote>\n\n<p>I have a property msg_blocked in db, which is nullable and integer. I know that I need to make a conversion, but I don't use it or need it anywhere in my linq.</p>\n"},{"tags":["android","database","phonegap","jsonp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13139931,"title":"how to store json data into local database in a phonegap android app?","body":"<p>im trying to store the json data pull from xampp localhost into the phonegap database.</p>\n\n<pre><code>function insertDB(tx) {\nvar output = $('#dealList');\n\n$.ajax({\n    type: 'POST',\n    url: 'http://localhost/deals.php?&amp;jsoncallback=?',\n    dataType: 'jsonp',\n    timeout: 5000,\n    success: function(data, status){\n            var sql = 'INSERT INTO deal (id,name,summary,deals_price,market_price,image,detail,notice) VALUES (?,?,?,?,?,?,?,?)';\n            $.each(data, function(i,item){ \n                var params = [item.id,item.name,item.summary,item.deals_price,item.market_price,item.image,item.detail,item.notice];\n                tx.executeSql(sql, params);\n            });         \n    },\n    error: function(){\n       output.text('There was an error loading the data.');\n    }\n}); \n</code></pre>\n\n<p>}</p>\n\n<p>I try to run the code in android emulator, and i get the error code below.</p>\n\n<p>INVALID_STATE_ERR: DOM Exception 11: An attempt was made to use an object that is not, or is no longer, usable.</p>\n\n<p>the error point to the line \"tx.executeSql\". </p>\n\n<p>Can anyone help to solve this?</p>\n"},{"tags":["android","database","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13191172,"title":"Italic/Bold font in Sqlite Android","body":"<p>I m working on app which uses sqlite database . I got sucess to store Strings in various languages and also fetching from database .</p>\n\n<p>But My problem is that <strong>i want to store it in bold or italic style.</strong></p>\n\n<p>Is it possible ?? If yes then how can i achieve that kind of thing ?</p>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["sql-server","database","foreign-keys"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2940,"score":0,"question_id":9565939,"title":"Cannot truncate table because it is being referenced by a FOREIGN KEY constraint","body":"<p>I get the following message even when the table that references it is empty: \"Cannot truncate table 'dbo.Link' because it is being referenced by a FOREIGN KEY constraint\" Doesn't seem to make much sense why this is occurring. Any suggestions?</p>\n"},{"tags":["mysql","sql","database","dbms"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13140524,"title":"How can I change the character sets of an existing database in SQL and MySQL DBMS?","body":"<p>I am managing a website that was created by another programmer. The contents of the web page loads from a DB (MySQL / SQL) - he used JOOMLA for the design. Some special characters were showing on the webpage which are not suppose to be (e toÂ theirÂ st). I want to change the default character set to UTF_8_general_ci on the server (SQL server). Please how can I do this? Thanks.</p>\n"},{"tags":["iphone","sql","ios","database","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":40,"score":0,"question_id":13189964,"title":"store and fetch bold/italic font from sqlite database","body":"<p>I  tried by make Excel file &amp; import as a csv file in sqlite. But it shows me in normal font rather than bold or italic font.</p>\n\n<p>In my app, I uses the sqlite database and fetches data from it. I want to display some text in italic font,How can i do that??</p>\n\n<p><strong>Does Sqlite supports Italic?</strong></p>\n"},{"tags":["database","synchronize"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13190563,"title":"Does anyone have any idea on synchronize android database with MSSQL server?","body":"<p>I want to make a solution so that I can synchronize the database (SQLite is better) on android and MSSQL server. Does anyone have any idea how to perform this task? I tried to Google it before asking this question here but had few examples about it. It would be better if it had some framework or API to solve this problem as I don't want to spend time to write my own code. </p>\n"},{"tags":["mysql","database","limit","firebird"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13190670,"title":"Maximum number of records in a Firebird database table same as mysql?","body":"<p>I've been using mysql database to database management system but I found errors with mysql when it reached six hundred thousand records in the table. whether it will be the same happens when I use firebird database? whether the storage limit in firebird database with mysql if I use the same hard drive capacity?</p>\n"},{"tags":["iphone","objective-c","database","sqlite","mathematica"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13190064,"title":"How to find power of a number in SQLite","body":"<p>I want to update Interest field in my database SQL query is like as per below </p>\n\n<blockquote>\n  <p>Update Table_Name set Interest  = Principal * Power(( 1 + (rate /\n  100),year)</p>\n</blockquote>\n\n<p>This query is work fine in MYSQL but don't work in SQLite for objetive c </p>\n\n<p>The error says that <strong>No Power funcation found</strong> </p>\n\n<p>Did anyone knows how to resolve this problem as I have do this using query because I need to update more thans 3000 record at time. </p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["sql","database","query","join"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13190155,"title":"join tables sql","body":"<p>I have the following tables \n<img src=\"http://i.stack.imgur.com/gJCad.png\" alt=\"enter image description here\">\nDishes table:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ex0ps.png\" alt=\"enter image description here\"></p>\n\n<p>Category table:\n<img src=\"http://i.stack.imgur.com/NWNAO.png\" alt=\"enter image description here\"></p>\n\n<p>t_time table:\n<img src=\"http://i.stack.imgur.com/gMPGU.png\" alt=\"enter image description here\"></p>\n\n<p>To get connect a dish with the ingredients I have the following code which works:</p>\n\n<pre><code>$sql = \"SELECT d.name, i.item\\n\"\n    . \"FROM dish d\\n\"\n    . \"JOIN dish_ingredients di ON ( d.id = di.dish_id )\\n\"\n    . \"JOIN ingredients i ON ( di.ingredient_id = i.id )\\n\"\n    . \"WHERE d.id =1\\n\"\n    . \"LIMIT 0 , 30\";\n</code></pre>\n\n<p>but now I want to connect the dish with the matching <code>categories</code>/<code>t_time</code> and <code>cuisine</code> . instead of having time= 6 and Category 3 being displayed when I do the query I want it to display 60 and fish instead. What would be the easiest way to do this?  a good tutorial might help as well. </p>\n"},{"tags":["database","sql-server-2008","sql-server-2008-r2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13188121,"title":"Creating a local database SQL Server 2008 R2","body":"<p>I would like to create a local database in SQL Server 2008 R2.</p>\n\n<p>I tried entering in the server name <code>myComputerName\\SQLEXPRESS</code> and also <code>(local)\\SQLEXPRESS</code> (windows authentication) but I keep getting an error that the server is not found.</p>\n\n<p>What is the problem?</p>\n"},{"tags":["database","entity-framework","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13166823,"title":"The DELETE statement conflicted with the REFERENCE constraint \"FK_EntityAEntityB\"","body":"<p>I saw the answers about this topic but not exactly such as mine.</p>\n\n<p>I created a db schema by using EF1 in designer.\nI added relation <strong>One Or Zero To Many</strong> between 2 tables (<strong>EntityA</strong> and <strong>EntityB</strong>).\nNext I added one record to table EntityA and one record to EntityB which has id to EntityA record.\nAs I see in design mode (in MS SMS) that field EntityA_id (in table EntityB) is set to ALLOW NULL,\nI tried to delete the record in table EntityA.</p>\n\n<p>I expected that the record would be deleted and the field EntityA_id in table EntityB would be automatically set to NULL.\nUnfortunately I got exception: <strong>The DELETE statement conflicted with the REFERENCE constraint \"FK_EntityAEntityB\"</strong></p>\n\n<p>Why does the exception throw if the field with foreign key is set to ALLOW NULL?</p>\n"},{"tags":["android","xml","database","sqlite","url"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":315,"score":1,"question_id":11426294,"title":"How to store data from XML file to SQLite database in android","body":"<p>I am developing an application -- When a user is successfully logged in, an XML file is fetched from a URL and the XML data is displayed in list view. </p>\n\n<p>How do I store that data in SQLite database, such that an offline user can see the data stored in the  database? I also want to create a refresh button, which displays an updated XML file and stores it in SQLite, when it is clicked.</p>\n"},{"tags":["database","storage","column"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":9,"score":-3,"question_id":13189595,"title":"What is the difference between bitmap index and bit-vector encoding in column-based storage","body":"<p>IMHO, if we build bitmap index for every values appears in this column, it should be the same size with the bit-vector encoding of the data, is that true? does it mean that if we have bit-vector encoding, the bitmap index should not be built on this column?</p>\n"},{"tags":["android","database","encoding","android-emulator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13189142,"title":"app can run on emulator but can't run on phone","body":"<p>i'm building an android quiz app which take questions from the data.txt, the ecoding in data.txt is \"utf-8\" . but my android quiz app can run on emulator but it's doesn't work on my phone. when i change the encoding \"utf-8\" to encoding \"ANSI\" this app can run on my phone. how can i run it which encoding \"utf-8\"? please help me!</p>\n"},{"tags":["ruby-on-rails","ruby","database","sqlite"],"answer_count":10,"favorite_count":9,"up_vote_count":18,"down_vote_count":0,"view_count":8684,"score":18,"question_id":78801,"title":"SQLite3::BusyException","body":"<p>Running a rails site right now using SQLite3.</p>\n\n<p>About once every 500 requests or so, I get a</p>\n\n<p>ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked:...</p>\n\n<p>What's the way to fix this that would be minimally invasive to my code?</p>\n\n<p>I'm using SQLLite at the moment because you can store the DB in source control which makes backing up natural and you can push changes out very quickly. However, it's obviously not really set up for concurrent access. I'll migrate over to MySQL tomorrow morning.</p>\n"},{"tags":["database","database-design","membership","diagram","er-diagrams"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":44,"score":-2,"question_id":13186307,"title":"E-R Diagram About Membership","body":"<p>I am preparing an E-R diagram for my project (Real Estate).</p>\n\n<p>In the system, there are 2 kinds of members; standard members and authorized members. </p>\n\n<p>Authorized membership will accepted after administrator's confirmation. Standard members can only view the state of the system. Authorized members can give a property advert. Also there is a administrator on their higher level. </p>\n\n<p>There is also a region table and each region is related to an sub-administrator member.Sub-administrator manages the region belongs to him. Members will login the system with user-name and password I could not draw the tables of this. I mean I don't know how to make relation between them. I don't want you to draw for me, I want you help me about how to make relation between this membership.  Could anyone help me with this, please?</p>\n"},{"tags":["ruby-on-rails","ruby","database","activerecord"],"answer_count":3,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":1034,"score":6,"question_id":3609482,"title":"ActiveRecord talk to two databases?","body":"<p>We've recently revamped a project, and are looking to bring all our old data into the new system.  The problem is that the schema is marginally different, so a straight SQL import isn't possible.  Due to some denormalization and database changes, we'll need to do some massaging of the data before it's ready for import.  I was hoping for something like this:</p>\n\n<pre><code>OldUser.all.each do |ou|\n  NewUser.create({\n    :first_name   =&gt; ou.first_name\n    :last_name    =&gt; ou.last_name\n    :login        =&gt; ou.login\n    :company_name =&gt; ou.company.name\n  })\nend\n</code></pre>\n\n<p>In the example above, OldUser is reading from the old database, and NewUser is working on the new database.  I need both sets of models (new and old) to retain their associations to properly denormalize some of that data.</p>\n\n<p>Is there any project/library that can help me do this?</p>\n"},{"tags":["php","database","sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13188461,"title":"Removing Duplicate Data From SQL Query Output For Display On A Web Page","body":"<p>I had asked <a href=\"http://stackoverflow.com/questions/11086726/php-sql-combine-records-within-foreach\">a similar question on stackoverflow</a> but didn't really get anywhere.</p>\n\n<p><a href=\"http://www.flcbranson.org/events-array.php\" rel=\"nofollow\">This page</a> shows the output that I'm currently getting from my MSSQL server.</p>\n\n<p>I have a table of venue information (name, address, etc...) that our events happen on.  Separately, I have a table of the actual events that are scheduled (an event may happen multiple times in one day and/or over multiple days).  I join those tables with this query:</p>\n\n<pre><code>&lt;?php\ntry {\n    $dbh = new PDO(\"sqlsrv:Server=localhost;Database=Sermons\", \"\", \"\");\n    $dbh-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    $sql = \"SELECT TOP (100) PERCENT dbo.TblSermon.Day, dbo.TblSermon.Date, dbo.TblSermon.Time, dbo.TblSermon.Speaker, dbo.TblSermon.Series, dbo.TblSermon.Sarasota, dbo.TblSermon.NonFlc, dbo.TblJoinSermonLocation.MeetingName, dbo.TblLocation.Location, dbo.TblLocation.Pastors, dbo.TblLocation.Address, dbo.TblLocation.City, dbo.TblLocation.State, dbo.TblLocation.Zip, dbo.TblLocation.Country, dbo.TblLocation.Phone, dbo.TblLocation.Email, dbo.TblLocation.WebAddress\n        FROM dbo.TblLocation RIGHT OUTER JOIN dbo.TblJoinSermonLocation ON dbo.TblLocation.ID = dbo.TblJoinSermonLocation.Location RIGHT OUTER JOIN dbo.TblSermon ON dbo.TblJoinSermonLocation.Sermon = dbo.TblSermon.ID\n        WHERE (dbo.TblSermon.Date &gt;= { fn NOW() })\n        ORDER BY dbo.TblSermon.Date, dbo.TblSermon.Time\";\n    $stmt = $dbh-&gt;prepare($sql);\n    $stmt-&gt;execute(); \n    $stmt-&gt;setFetchMode(PDO::FETCH_ASSOC);\n    foreach ($stmt as $row) {\n        echo \"&lt;pre&gt;\";\n        print_r($row);\n        echo \"&lt;/pre&gt;\";\n    }\n    unset($row);\n    $dbh = null;\n}\ncatch(PDOException $e) {\n    echo $e-&gt;getMessage();\n}\n?&gt;\n</code></pre>\n\n<p>So, as it loops through the query results, it creates an array for each record and ends up like this:</p>\n\n<pre><code>Array\n(\n    [Day] =&gt; Tuesday\n    [Date] =&gt; 2012-10-30 00:00:00.000\n    [Time] =&gt; 07:00 PM\n    [Speaker] =&gt; Keith Moore\n    [Location] =&gt; The Ark Church\n    [Pastors] =&gt; Alan &amp; Joy Clayton\n    [Address] =&gt; 450 Humble Tank Rd.\n    [City] =&gt; Conroe\n    [State] =&gt; TX\n    [Zip] =&gt; 77305.0\n    [Phone] =&gt; (936) 756-1988\n    [Email] =&gt; info@thearkchurch.com\n    [WebAddress] =&gt; http://www.thearkchurch.org\n)\nArray\n(\n    [Day] =&gt; Wednesday\n    [Date] =&gt; 2012-10-31 00:00:00.000\n    [Time] =&gt; 07:00 PM\n    [Speaker] =&gt; Keith Moore\n    [Location] =&gt; The Ark Church\n    [Pastors] =&gt; Alan &amp; Joy Clayton\n    [Address] =&gt; 450 Humble Tank Rd.\n    [City] =&gt; Conroe\n    [State] =&gt; TX\n    [Zip] =&gt; 77305.0\n    [Phone] =&gt; (936) 756-1988\n    [Email] =&gt; info@thearkchurch.com\n    [WebAddress] =&gt; http://www.thearkchurch.org\n)\nArray\n(\n    [Day] =&gt; Tuesday\n    [Date] =&gt; 2012-11-06 00:00:00.000\n    [Time] =&gt; 07:00 PM\n    [Speaker] =&gt; Keith Moore\n    [Location] =&gt; Fellowship Of Faith Christian Center\n    [Pastors] =&gt; Michael &amp; Joan Kalstrup\n    [Address] =&gt; 18999 Hwy. 59\n    [City] =&gt; Oakland\n    [State] =&gt; IA\n    [Zip] =&gt; 51560.0\n    [Phone] =&gt; (712) 482-3455\n    [Email] =&gt; ffcc@frontiernet.net\n    [WebAddress] =&gt; http://www.fellowshipoffaith.cc\n)\nArray\n(\n    [Day] =&gt; Wednesday\n    [Date] =&gt; 2012-11-14 00:00:00.000\n    [Time] =&gt; 07:00 PM\n    [Speaker] =&gt; Keith Moore\n    [Location] =&gt; Faith Family Church\n    [Pastors] =&gt; Michael &amp; Barbara Cameneti\n    [Address] =&gt; 8200 Freedom Ave NW\n    [City] =&gt; Canton\n    [State] =&gt; OH\n    [Zip] =&gt; 44720.0\n    [Phone] =&gt; (330) 492-0925\n    [Email] =&gt; \n    [WebAddress] =&gt; http://www.myfaithfamily.com\n)\n</code></pre>\n\n<p>As you can see, The Ark Church and its associated contact information is duplicated, so when I work with those arrays and output them to the page, I see a bunch of duplicate content.</p>\n\n<p>I'd like to remove the duplicate information so that I get results similar to this:</p>\n\n<pre><code>The Ark Church\nAlan &amp; Joy Clayton\n450 Humble Tank Rd.\nConroe, TX  77305\n(936) 756-1988\ninfo@thearkchurch.com\nhttp://www.thearkchurch.org\nMeetings:\nTuesday, 2012-10-30 07:00 PM\nWednesday, 2012-10-31 07:00 PM\n\nFellowship Of Faith Christian Center\nMichael &amp; Joan Kalstrup\n18999 Hwy. 59\nOakland, IA  51560\n(712) 482-3455\nffcc@frontiernet.net\nhttp://www.fellowshipoffaith.cc\nMeetings:\nTuesday, 2012-11-06 07:00 PM\n\nFaith Family Church\nMichael &amp; Barbara Cameneti\n8200 Freedom Ave NW\nCanton, OH  44720\n(330) 492-0925\nhttp://www.myfaithfamily.com\nMeetings:\nWednesday, 2012-11-14 07:00 PM\n</code></pre>\n\n<p>It doesn't necessarily have to end up like that (I'm not looking for code specific for these results, but a concept of how to not show the duplicated information).  I'm assuming that an additional <code>foreach</code> or <code>while</code> will do it, but I haven't figured out any logic that says <code>&lt;?php if ($location == $previouslocation) echo \"\"; ?&gt;</code>.</p>\n"},{"tags":["sql","database","query","postgresql","select"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13163057,"title":"PostgreSQL - select only when specific multiple apperance in column","body":"<p>I'm using PostgreSQL.\nI have a table with 3 fields\nperson, recipe and ingredient</p>\n\n<pre><code>person = creator of the recipe\nrecipe = the recipe\ningredient = one of the ingredients in the recipe\n</code></pre>\n\n<p>I want to create a query which results in every person who whenever has added carrot to a recipe, the person must also have added salt to the same recipe.</p>\n\n<p>More than one person can have created the recipe, in which case the person who added the ingredient will be credited for adding the ingredient. Sometimes the ingredient is used more than once, even by the same person.</p>\n\n<p>If this the table:</p>\n\n<pre><code>person1, rec1, carrot\nperson1, rec1, salt\nperson1, rec1, salt\nperson1, rec2, salt\nperson1, rec2, pepper\nperson2, rec1, carrot\nperson2, rec1, salt\nperson2, rec2, carrot\nperson2, rec2, pepper\nperson3, rec1, sugar\nperson3, rec1, carrot\n</code></pre>\n\n<p>Then I want this result:\nperson1</p>\n\n<p>Because this person is the only one who whenever has added carrot also have added salt.</p>\n\n<p>\"Nothing but the carrot could affect the result. I only want persons who has added at least one carrot in one of their recipes, but I don't want persons who have not also added salt to all of the same recipes they've added carrot to. Sorry, but I just can't explain it any clearer than that.\"</p>\n"},{"tags":["database","vb.net"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13186174,"title":"simulate database vb.net","body":"<p>I search a way to simulate a database and link between table.</p>\n\n<p>sample:</p>\n\n<pre><code>Table A\ncolA\n</code></pre>\n\n<p>And</p>\n\n<pre><code>Table B\ncolB\ncolD\n</code></pre>\n\n<p>linked by</p>\n\n<pre><code>Table C\ncolA\ncolB\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Table D\ncolD\n</code></pre>\n\n<p>That made TableA linked to TableB by TableC.\nAnd tableD linked to tableB.</p>\n\n<p>what I think to do its a kind of linkedlist.</p>\n\n<p>a little like :</p>\n\n<pre><code>Class Table\n    Private cols As List(Of Column)\nEnd Class\n\nPublic Delegate Sub TableDelegate(ByVal tbl As Table)\n\nClass Column\n    Private name As String 'use for column name like colA,colB....\n\n    Private fk As List(Of TableDelegate) 'linked foreign key\nEnd Class\n</code></pre>\n\n<p>I never work with delegate, I usely do this in pointer, but I'm stuck in vb.</p>\n\n<p>So its a beginning, if you have idea where to go or a complete other way to do it?</p>\n\n<p>tank you</p>\n"},{"tags":["android","database","sqlite","application","upgrade"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13188161,"title":"Upgrading the SQLite Database of a Production Android App, is this Correct?","body":"<p>As the title says, I have a production Android app with about 1000 installs. I had to make a DB change in SQLite, up to this point the version of the SQLite DB has been set to version \"1\". </p>\n\n<p>Hopefully I explain the code below sufficiently in the comments, this code resides in my SQLiteOpenHelper Class so the onUpgrade method is part of the Class:</p>\n\n<pre><code>// Provides an upgrade path for the DB when the apps version is updated.\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        // First version of the DB was 1. Logic: each if statement will\n        // alter the DB cumulatively based on the version code. So, if the\n        // newVersion was version 3, there would be two if statements, one\n        // for oldVersion 1 and one for oldVersion 2. oldVersion 2 will\n        // contain the logic for upgrading from version 2 to 3, while\n        // oldVersion 1 will contain a combination of alter statements\n        // allowing the database to upgrade from version 1 directly to\n        // version 3.\n        if (oldVersion == 1) {\n            db.execSQL(\"ALTER TABLE plans ADD COLUMN \" + App.CURRENCYCODE\n                    + \" TEXT\");\n            Locale locale = Locale.getDefault();\n            ContentValues content_values = new ContentValues();\n            content_values.put(App.CURRENCYCODE, locale.toString());\n\n            db.update(App.DBPLANS, content_values, App.ID + \" &gt; ?\", new String[] {\n                    \"0\"\n            });\n        }\n\n        if (oldVersion == 2) {\n            // Placeholder for next database upgrade instructions.\n        }\n    }\n</code></pre>\n\n<p>Please let me know if there are any pitfalls here. So far, it's tested fine, though I'm very concerned about messing up my first DB upgrade. I have a 1,000 users or so, I'd hate to lose them all.</p>\n\n<p>Thanks again!</p>\n"},{"tags":["php","mysql","database","roles","user-management"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13188010,"title":"Databases: Save users and admins in the same table (pros/cons)?","body":"<p>I'm interested in your opinion: at the moment I've only one user-table in my database but I think about adding a new one to separate public accounts from the admin accounts.</p>\n\n<p>Pro: I don't have to check the \"roles\"-table for validating the user who tries to log in. </p>\n\n<p>Con: Admin accounts cannot be part of the community and are just for the backend. Thats too much redundance if you promote somebody to an moderator: he cannot write posts with his public account.</p>\n\n<p>My current solution to check, if a user is a team-mate (pseudo-code):</p>\n\n<pre><code>$needed_role = \"admin\";\nif ($User-&gt;is_in_team($user_id)) { // SELECT id FROM user WHERE team=1 AND user_id=$user_id\n    $roles = $User-&gt;getRoles($user_id);\n    if (in_array($needed_role, $roles)) {\n        // login...\n    }\n}\n</code></pre>\n\n<p>That's an easy example. The Roles are divided in rights like \"blog_post_write\", \"blog_post_delete\", ...</p>\n\n<p>The solution I'm currently isn't perfect, so please help me to pimp my database! :)</p>\n"},{"tags":["database","distribution"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":21,"score":-3,"question_id":13188104,"title":"Which distributed database should I choose?","body":"<p>I'm a newbie in database. My project recently decided it needs a distributed database because of the performance. So, could somebody give me any suggestions? Which distributed database should I choose?</p>\n"},{"tags":["php","database","performance","messaging","dbms"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13187476,"title":"PHP-MYSQL messaging system performance problems","body":"<p>I want to create a messaging module for the social network web-site project (PHP &amp; MySQL) I've been working on. What substructures do well-known sites use for modules like this?</p>\n\n<p>I think, generating a new record on MySQL for each of new messages will slow down the system and cause problems after a while. What would you suggest me for saving the datas? SQLLite, file system or a high-performance dbms ? (exp: postgresql)</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mysql","sql","database","salt"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":195,"score":5,"question_id":11869428,"title":"How to generate random string to salt passowrd in sql?","body":"<p>Got a question salting passwords in sql:</p>\n\n<p>The code below salts a particular password by randomly generating a 10 character string:</p>\n\n<pre><code>Update Teacher \nSET    TeacherSalt = SUBSTRING(MD5(RAND()), -10), \n       TeacherPassword = SHA1(CONCAT('009b9b624aaecc4b3217dcd4bfee15ab704745d7',SUBSTRING(MD5(RAND()), -10)))\nWHERE TeacherPassword = '009b9b624aaecc4b3217dcd4bfee15ab704745d7'\n</code></pre>\n\n<p>But what my question is that I want to change the salt so that the string it is generating comes from all of these characters:</p>\n\n<p>./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</p>\n\n<p>There are 63 characters. The php way of doing this is below:</p>\n\n<pre><code>$salt = \"\"; \nfor ($i = 0; $i &lt; 40; $i++) { \n   $salt .= substr(\n     \"./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", \n     mt_rand(0, 63), \n     1); \n}\n</code></pre>\n\n<p>But how can I write this in the sql way above?</p>\n"},{"tags":["database","algorithm","search"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13186639,"title":"Finding the Most Similar Match in a Set","body":"<p>I have a database of animals, each with many attributes ranging from 0 to 1-- these attributes are things like size, speed, hairiness, etc.  Given an input set of attributes, and weights for each type of attribute, I need to find the \"closest\" match in the set of animals.  Is there an algorithm that accomplishes this in better than O(n) time?</p>\n\n<p>What I'm specifically trying to do is find suitable textures for \"animals\" produced by a genetic algorithm in a game, by matching them to animals that already exist.  By \"closest,\" I mean the animal whose weighted sum of attribute differences is minimal.  The database and weights are known at application launch time, so a lot of time can be invested towards preparing the data.</p>\n\n<p>I've found algorithms on string matching and product matching given user preferences, but either I'm not finding what I'm looking for or I'm not understanding how to reapply such concepts to my dilemma.  Perhaps there's something from the world of graph theory to help me out?</p>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["php","mysql","database","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13187322,"title":"PHP PDO: How to deal with bindValue() and reserved keywords?","body":"<p>In my database I've fields like <em>\"status\"</em>, which are reserved keywords. This code works fine for me (<em>status</em> is escaped by <em>``</em>):</p>\n\n<pre><code>$sql = \"UPDATE $table SET `status`='$status' WHERE `id`='123'\";\n</code></pre>\n\n<p>But now I want to use prepared statements only! My Database.class:</p>\n\n<pre><code>class Database extends \\PDO {\n    private $_sth; // statement\n    private $_sql;\n\n    public function update($tbl, $data, $where, $where_params = array()) {\n        // prepare update string and query\n        $update_str = $this-&gt;_prepare_update_string($data);\n        $this-&gt;_sql = \"UPDATE $tbl SET $update_str WHERE $where\";\n        $this-&gt;_sth = $this-&gt;prepare($this-&gt;_sql);\n\n        // bind values to update\n        foreach ($data as $k =&gt; $v) {\n            $this-&gt;_sth-&gt;bindValue(\":{$k}\", $v);\n        }\n\n        // bind values for the where-clause\n        foreach ($where_params as $k =&gt; $v) {\n            $this-&gt;_sth-&gt;bindValue(\":{$k}\", $v);\n        }\n\n        return $this-&gt;_sth-&gt;execute();\n    }\n\n    private function _prepare_update_string($data) {\n        $fields = \"\";\n        foreach ($data as $k =&gt; $v) {\n            $fields .= \"`$k`=:{$k}, \";\n        }\n        return rtrim($fields, \", \");\n    }\n}\n</code></pre>\n\n<p>Update example that won't work:</p>\n\n<pre><code>$DB = new Database();\n$DB-&gt;update(\"tablename\",\n        array(\"status\" =&gt; \"active\"),\n        \"`username`=:username AND `status`=:status\",\n        array(\"username\" =&gt; \"foofoo\", \"status\" =&gt; \"waiting\"));\n</code></pre>\n\n<p>I think, its because of the reserverd keyword \"status\". But I don't know how to escape it. I tried to escape the placeholder in _prepare_update_string($data) to:</p>\n\n<pre><code>bindValue(\"`:{$k}`\", $v)\n</code></pre>\n\n<p>but no result.</p>\n\n<p>I hope the solution is very simple and it's just a stuck overflow in my brain. ;-) Thanks in advance people!</p>\n"},{"tags":["mysql","database","datatables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13186853,"title":"Joining two MySQL tables","body":"<p>I have two MySQL tables, <code>person1</code> and <code>person2</code>. In <code>person1</code>, the user inputs if yes if vegetarian otherwise it's left blank.\nIf the person(based on name and age) in person1 is a vegetarian then I need to set vegetarian in person2 to yes.</p>\n\n<p>How do I go about doing this?</p>\n\n<p>person1</p>\n\n<pre><code>+-----+-----+----------+\n|name |age  |vegetarian|\n+-----+-----+----------+\n|john |32   |yes       |\n+-----+-----+----------+\n|mick |20   |          |\n+-----+-----+----------+\n|mark |25   |yes       |\n+-----+-----+----------+\n</code></pre>\n\n<p>person2</p>\n\n<pre><code>+-----+-----+----------+\n|name |age  |vegetarian|\n+-----+-----+----------+\n|john |32   |          |\n+-----+-----+----------+\n|mick |20   |          |\n+-----+-----+----------+\n|mark |25   |          |\n+-----+-----+----------+\n|tony |75   |          |\n+-----+-----+----------+\n|gill |25   |          |\n+-----+-----+----------+\n</code></pre>\n\n<p>person1 schema</p>\n\n<pre><code>CREATE TABLE `person1` (\n      `name` varchar(255) DEFAULT NULL,\n      `age` int(11) DEFAULT NULL,\n      `vegetarian` varchar(10) NOT NULL\n    ) \n</code></pre>\n\n<p>person2 schema</p>\n\n<pre><code>CREATE TABLE `person2` (\n      `name` varchar(255) DEFAULT NULL,\n      `age` int(11) DEFAULT NULL,\n      `vegetarian` varchar(10) NOT NULL\n    )\n</code></pre>\n"},{"tags":["database","books"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13187102,"title":"A book on databases terminology, concepts, theories, history, and maybe practical information","body":"<p>All books I've found go right to relational databases. I need a book on databases in general, and as described in title, with terminology definition, concepts, theories, history, and maybe practical information.</p>\n"},{"tags":["ios","database","networking","bluetooth"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13187046,"title":"Find devices via bluetooth and then get specific data from database? (Without pairing)","body":"<p>I want to get info about bluetooth devices without having to enter a passcode and pair the device. The thought is that when a bluetooth device i near my device i want to get information about the device pulled from a database. Like if the device i found is registered in My database the app Will, (without pairing) get the info i want from the database. So the bluetooth is only for sensing that a device is near. </p>\n\n<p>Can i do that in iOS without pairing? Maybe get a bluetooth Mac address and then check in the Database for registered devices matching that bluetooth Mac?</p>\n"},{"tags":["mysql","sql","database","query","query-optimization"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13080770,"title":"mysql query optimization","body":"<p>I got tasked to help speed up this query and I think some of the indexes on these tables are not setup properly.  I also believe they're not all going to be used b/c a function is applied to the col that I have an index on. can anyone see how I can optimize these tables or query?   The <code>requests</code> table will be the largest table of the 3 and will have upwards of 200k+ records. <code>devices</code> currently is sitting ~500 records and <code>clients</code> will be smaller as well.</p>\n\n<p>Query:</p>\n\n<pre><code>explain extended SELECT MAX(Request.datetime) AS datetime, Device.id,\n       Device.client_id, Device.mac_address, Device.type, Device.manufacturer,\n       Device.model_number, Client.id, Client.email_address,\n       Request.device_id, Request.datetime, Request.ip_address\n  FROM livefi.devices AS Device\n  LEFT JOIN livefi.clients AS Client\n    ON (Client.id         = Device.client_id)\n INNER JOIN livefi.requests AS Request\n    ON (Request.device_id = Device.id)\n GROUP BY Request.device_id, Request.client_id\n\n+----+-------------+---------+--------+---------------------------------------------------------+---------------+---------+-------------------------+------+----------+---------------------------------+\n| id | select_type | table   | type   | possible_keys                                           | key           | key_len | ref                     | rows | filtered | Extra                           |\n+----+-------------+---------+--------+---------------------------------------------------------+---------------+---------+-------------------------+------+----------+---------------------------------+\n|  1 | SIMPLE      | Device  | ALL    | PRIMARY                                                 | NULL          | NULL    | NULL                    |  617 |   100.00 | Using temporary; Using filesort |\n|  1 | SIMPLE      | Client  | eq_ref | PRIMARY                                                 | PRIMARY       | 4       | livefi.Device.client_id |    1 |   100.00 |                                 |\n|  1 | SIMPLE      | Request | ref    | idx_device_id,inx_requests_deviceId_datetime_ip_address | idx_device_id | 5       | livefi.Device.id        |  144 |   100.00 | Using where                     |\n+----+-------------+---------+--------+---------------------------------------------------------+---------------+---------+-------------------------+------+----------+---------------------------------+\n3 rows in set, 1 warning (0.04 sec)\n</code></pre>\n\n<p>Tables:</p>\n\n<pre><code>CREATE TABLE `clients` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `email_address` varchar(100) DEFAULT NULL,\n  `mac_address` varchar(17) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `email_address` (`email_address`),\n  KEY `idx_mac_address` (`mac_address`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n\n\nCREATE TABLE `devices` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `client_id` int(10) unsigned DEFAULT NULL,\n  `mac_address` varchar(17) DEFAULT NULL,\n  `type` varchar(25) DEFAULT NULL,\n  `manufacturer` varchar(100) DEFAULT NULL,\n  `model_number` varchar(50) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `mac_address` (`mac_address`),\n  KEY `idx_mac_address` (`mac_address`),\n  KEY `fk_devices_clients1` (`client_id`),\n  CONSTRAINT `fk_devices_clients1` FOREIGN KEY (`client_id`) REFERENCES `clients` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB AUTO_INCREMENT=492 DEFAULT CHARSET=utf8\n\n\nCREATE TABLE `requests` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `client_id` int(10) unsigned DEFAULT NULL,\n  `device_id` int(10) unsigned DEFAULT NULL,\n  `domain_id` int(10) unsigned DEFAULT NULL,\n  `ip_address` varchar(15) DEFAULT NULL,\n  `datetime` datetime DEFAULT NULL,\n  `gmt_offset` time DEFAULT NULL,\n  `request_method` varchar(15) DEFAULT NULL,\n  `url` text,\n  `http_protocol` varchar(20) DEFAULT NULL,\n  `http_status_code` varchar(20) DEFAULT NULL,\n  `request_size` int(10) unsigned DEFAULT '0',\n  `referer` text,\n  `user_agent` text,\n  `squid_cache_response` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  KEY `idx_client_id` (`client_id`),\n  KEY `idx_datetime` (`datetime`),\n  KEY `idx_device_id` (`device_id`),\n  KEY `idx_domain_id` (`domain_id`),\n  KEY `idx_id` (`id`),\n  KEY `idx_request_size` (`request_size`),\n  KEY `inx_requests_deviceId_datetime_ip_address` (`device_id`,`datetime`,`ip_address`),\n  CONSTRAINT `fk_requests_clients` FOREIGN KEY (`client_id`) REFERENCES `clients` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `fk_requests_devices1` FOREIGN KEY (`device_id`) REFERENCES `devices` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,\n  CONSTRAINT `fk_requests_domains1` FOREIGN KEY (`domain_id`) REFERENCES `domains` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION\n) ENGINE=InnoDB AUTO_INCREMENT=200523 DEFAULT CHARSET=utf8\n</code></pre>\n"},{"tags":["sql","database","converter","iso"],"answer_count":0,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":57,"score":6,"question_id":12958286,"title":"How do I convert a database from format iso to db3?","body":"<p>How do I export a database from <a href=\"http://en.wikipedia.org/wiki/CDS_ISIS\" rel=\"nofollow\">Isis</a> to <a href=\"http://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"nofollow\">SQL</a>?</p>\n\n<p>I can export the database from Isis to iso. I believe that I could convert iso to <a href=\"http://en.wikipedia.org/wiki/DBase#dBase_III\" rel=\"nofollow\">dBase 3</a> and then <a href=\"http://en.wikipedia.org/wiki/DBase#dBase_III\" rel=\"nofollow\">dBase 3</a> to <a href=\"http://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"nofollow\">SQL</a>, but I haven't found a way to do this yet. </p>\n"},{"tags":["mysql","database","phpmyadmin","backup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13186532,"title":"Tips for bringing a development MySQL database back online?","body":"<p>I'm bringing the development server for a web application I work on back online. Currently it's extremely outdated (filesystem and database). Does anyway have a good/efficient way to do this?\nRight now I am backing up the database from the live server so that I can import it into the development server, and then I am going to replace the files in the development filesystem with the live filesystem (most up to date).\nThis is the first time I will be doing something like this, and I DON'T want to mess up the database (well over 2GB in size). Can anyone give me some tips and recommendations?\nAlso, is there a way to have changes made to the live database sync back to the dev database, but without changes in the dev database being synced back to the live database?\nThank you!</p>\n"},{"tags":["php","database","error-handling","output"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":7,"view_count":45,"score":-7,"question_id":13186248,"title":"PHP outputs error instead of string","body":"<p><strong>SOME</strong> people experience an error output from the database when clicking either the red or the blue button on my <a href=\"http://vilduhelst.dk\" rel=\"nofollow\">website</a>.</p>\n\n<p>I have tried debugging it, it showed up two lines with a simple undefined index error which I fixed.</p>\n\n<p>The debugging does not show any more bugs in my coding, however the problem still persists.</p>\n\n<p>Does anyone have a clue of what might be causing the problem and/or how to fix it?</p>\n"},{"tags":["c++","database","visual-studio"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":13185011,"title":"Using Databases in C++ and Visual Studio 6","body":"<p>I already did some searching on stackoverflow and as far as I can see there are many ways to use databases in C++. Unfortunately at work my tools are pretty limited. I only get to use visual studio C++ 6 and don't even have boost (although I have learned to cope with that) - I assume that I can only use what is the standard distribution being delivered togather with VS C++ 6.</p>\n\n<p>Now my code generates a lot of data and I would like to store some of it in a simple databse (like an MS Access db). What tools might I be able to use?</p>\n\n<p>My alternative approauch would be to create a database-like object via a struct and vectors/arrays.</p>\n\n<p>I also have office 2010 installed - perhaps I could somehow use Access?</p>\n\n<p>Computation-speed also plays a role - the faster the better. </p>\n\n<blockquote>\n  <blockquote>\n    <p><strong>Another important thing:</strong> my PC at work isn't an open client. Thus I can not install any new software. Downloading and moving files works. Basically I must be able to install the tool by just moving the files into a desired folder.</p>\n  </blockquote>\n</blockquote>\n\n<p>Please let me know if the question is confusing or insufficiently detailed I will do what i can to remedy the situation then. </p>\n\n<p>Thnaks in advance for your help :)</p>\n"},{"tags":["database","pdf","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13183785,"title":"Web application to organize and serve a library of PDF files","body":"<p>I have a large library of PDF ebooks, and I'm looking for a web app to host on my site to organize and sort a database of the files, as well as have the ability to annotate them by adding data like publisher, year published, keywords, authors, etc. I have a great hosting provider (<a href=\"http://www.webfaction.com/?affiliate=pigimal\" rel=\"nofollow\">WebFaction</a>) with access to all sorts of frameworks, like Drupal, Django, Rails, Node, etc., as well as MySQL and Postgres servers, so the language and back-end aren't that important, although .NET is out. </p>\n\n<p>I've searched all over and just can't seem to find anything that fits the bill, although it seems like someone ought to have open-sourced this before. I'm not interested in services like Mendeley (http://www.mendeley.com) or <a href=\"http://www.scribd.com\" rel=\"nofollow\">Scribd</a>, but rather something I can host myself, both to overcome file size limits and privacy issues, but also so I can check out the source and modify it if needed.</p>\n"},{"tags":["ios","sql-server","database","push-notification","push"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13180325,"title":"Server check every minute","body":"<p>I am creating an iOS app that lets users store a favored time within the settings that would be added to a database.  I am trying to set up a server that will match the database times to the server times and when it matches, send a push notification. Could use a little guidance as to how to set up the server-side check and how to address potentially having 10,000-100,000 entries.</p>\n"},{"tags":["database","browser","relational-database","relational","tools"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13185708,"title":"drill-down database browser?","body":"<p>I am looking for a database browsing tool or interface builder that would automatically provide a drill-down feature which when the user click on a record of a father table it will list all related children in related tables for example if the user clicks on a teacher record the tool will show all the courses taught by the teacher by following the relation described in the database ?</p>\n"},{"tags":["sql-server","database","sql-server-2005-express"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13185583,"title":"SQL Server 2005 Management Studio Express not showing new added data","body":"<p>I recently installed and have been using Microsoft SQL Server Management Studio Express 9.00.4035.00 to manage a remote database on my hosts' SQL Server 2005. The database continual getting data from other program which i created. When i'm trying to see the new data from SQL Server 2005 Management Studio Express, i couldn't find any new data. but when I opened the program which i created, i could see the new data. \nIs there a setting on SQL Server 2005 Management Studio Express or something obvious I am missing? Why can't I see the new added record? I am on a Windows 7 desktop machine. </p>\n"},{"tags":["php","database","function"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":13172739,"title":"how to add md5 value in this function","body":"<p>I'm Using phpfox with userplane webchat and this function is to grab sessionGuid from the database Original function is:\n<strong>Function 1:</strong></p>\n\n<pre><code>function get_current_online_session_login() {\n        $oSrvSec = &amp;App::getModuleService('Account', 'Security');\n        $login = $oSrvSec-&gt;getCurrentUserLogin();\n        $aReq = getRow(App::getT('online_session'), 'online_session_user = \"' . $login . '\"');\n//      return $aReq['online_session_login'];\n        return $aReq['online_session_id'];\n    }\n</code></pre>\n\n<p>And i make change's in it so it return the salted hash but Chat is not working and show error that you are not authorized to enter in chat.\nHere is what i make change in this code:</p>\n\n<pre><code>function get_current_online_session_login() {\n        $oSrvSec = &amp;App::getModuleService('Account', 'Security');\n        $login = $oSrvSec-&gt;getCurrentUserLogin();\n        $aReq = getRow(App::getT('online_session'), 'online_session_user = \"' . $login . '\"');\n        $salt='waka_waka_shaka_laka_8342394';\n//      return $aReq['online_session_login'];\n        $umSar = $aReq['online_session_id'];\n        $saltedHash = md5($umSar . $salt);\n        return $saltedHash;\n    }\n</code></pre>\n\n<p>in this file have 2 function for session_id so i am not sure how to resolve this issue\nhere is the 2nd session_id function:\n<strong>Function 2</strong></p>\n\n<pre><code>function get_user_with_session_id($session_id) {\n        $session = getRow(App::getT('online_session'), \"online_session_id = '$session_id'\");\n//      $session = getRow(App::getT('online_session'), \"online_session_login = '$session_id'\");\n        $oSecurityService = &amp;App::getModuleService('Account', 'Security');\n        $user = $oSecurityService-&gt;getUserByName($session['online_session_user']);      \n        return isset($user) ? $user-&gt;aData['id'] : null;\n    }\n</code></pre>\n\n<p>Please i need help.\nYou can see function 1: and function 2: are original function in my common.php file and this function return the normal figure's for session_id and i want to return session_id as md5 salted hash or base_64.\nThanks</p>\n"},{"tags":["mysql","database","query","join","inner-join"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":47,"score":4,"question_id":13184949,"title":"Join columns from multiple tables","body":"<p>Below is part of a database that I need help with.</p>\n\n<pre><code>DROP DATABASE IF EXISTS bookex;\nCREATE DATABASE bookex;\nuse Bookex;\n\n\nCREATE TABLE Reviewer(\n   ReviewerID INT,\n   Name VARCHAR(20) NOT NULL,\n   EmployedBy CHAR(30),\n   constraint reviewer_reviewerID_pk PRIMARY KEY (reviewerID)\n);\n\nCREATE TABLE Book(\n   ISBN        CHAR(13),\n   Title       VARCHAR(70) NOT NULL,\n   Description VARCHAR(100),\n   Category    INT,\n   Edition     CHAR(30),\n   PublisherID INT         NOT NULL,\n   constraint book_ISBN_pk PRIMARY KEY (ISBN)\n);\n\nCREATE TABLE BookReview(\n   ISBN CHAR(13) NOT NULL,\n   ReviewerID INT NOT NULL,\n   Rating INT,\n   Comments VARCHAR(255),\n   constraint bookreview_pk PRIMARY KEY (ISBN, ReviewerID),\n   constraint bookreview_ISBN_fk FOREIGN KEY (ISBN) REFERENCES Book(ISBN),\n   constraint bookreview_reviewerID_fk FOREIGN KEY (ReviewerID) REFERENCES Reviewer(ReviewerID)\n);\n\n\n--\n-- Dumping data for table 'reviewer'\n--\n\nINSERT INTO reviewer VALUES (1,'Jacobs','Gadget Boy');\nINSERT INTO reviewer VALUES (2,'Troell','Dallas Underground');\nINSERT INTO reviewer VALUES (3,'Bills','The RIT Reporter');\nINSERT INTO reviewer VALUES (4,'Hill','Microsoft News');\nINSERT INTO reviewer VALUES (5,'Kurtz','MacIntosh News');\nINSERT INTO reviewer VALUES (6,'Leone',null);\nINSERT INTO reviewer VALUES (7,'Doubleday','Media Mania');\nINSERT INTO reviewer VALUES (8,'Wells','The RIT Reporter');\nINSERT INTO reviewer VALUES (9,'Worthington','The Annex');\nINSERT INTO reviewer VALUES (10,'Lawson','The Last Word');\nINSERT INTO reviewer VALUES (11,'Lasky',null);\nINSERT INTO reviewer VALUES (12,'Rozanski',null);\nINSERT INTO reviewer VALUES (13,'Whittington','JAVA Rocks');\nINSERT INTO reviewer VALUES (14,'Holden',null);\nINSERT INTO reviewer VALUES (15,'Stratton','Harvard Lampoon');\nINSERT INTO reviewer VALUES (16,'Johnson','NRA Weekly');\nINSERT INTO reviewer VALUES (17,'Mason','BMW Owners Quarterly');\nINSERT INTO reviewer VALUES (18,'Goodman','MacIntosh News');\nINSERT INTO reviewer VALUES (19,'Phelps','Detroit News');\nINSERT INTO reviewer VALUES (20,'Yacci','The Learning Channel');\nINSERT INTO reviewer VALUES (24,'Weeden','Scrye');\nINSERT INTO reviewer VALUES (25,'McVea','Programming Central');\nINSERT INTO reviewer VALUES (26,'Perez-Hardy','The Network Voice');\nINSERT INTO reviewer VALUES (27,'Heartthrob','Journal of Romance');\nINSERT INTO reviewer VALUES (28,'Bierre','JAVA Rocks');\nINSERT INTO reviewer VALUES (29,'Axelrod','JAVA Rocks');\n\n\n-- Dumping data for table 'book'\n--\n\nINSERT INTO book VALUES ('1-111-11111-4','Women are From Venus ORACLE is from Beyond Pluto','New York Times Best Seller 27 weeks',1,'4',1);\nINSERT INTO book VALUES ('1-222-32443-7','Calculus for Phys Ed Majors','Carry our 200 lb text book: learn integrals and keep in Shape',7,'3',7);\nINSERT INTO book VALUES ('1-295-84547-1','My Love\\'s Last Longing','Volume 1 of 4',1,'1',4);\nINSERT INTO book VALUES ('1-533-73363-8','From the Shores of Lake Erie to IT','One man\\'s Journey to IT',8,'2',1);\nINSERT INTO book VALUES ('1-559-68777-1','My Love\\'s Last Lingering Lost','Volume 2 of 4',1,'1',4);\nINSERT INTO book VALUES ('1-932-87447-6','The Science of Literature Searching','A Book Worth a Look is Worth a Good Look Up',6,'1',5);\nINSERT INTO book VALUES ('2-089-77869-5','Yes! Networking is for Bills Fans','How to Use a Spanning Tree to Exit Rich Stadium',9,'1',8);\nINSERT INTO book VALUES ('2-122-29058-5','How to Keep your Cellular Bill Down','How to carry 500 Miles of Fiber in Your Wallet',5,'2',2);\nINSERT INTO book VALUES ('2-221-11341-5','Tired of wired? Infrared instead!','500 Ways to pull out your hair while pulling out all your cable',5,'1',2);\nINSERT INTO book VALUES ('3-444-95595-4','ER, SOM, NF, DK/NF, SQL, JDBC, ODBC, and RELVAR','How U can avoid being trapped in Database acronyms',4,'1',3);\nINSERT INTO book VALUES ('3-445-43341-2','Master Wireless Through The Classic Comics','Infrared man triumphs over Cable Guy and CoAx NastyMan',2,'1',6);\nINSERT INTO book VALUES ('3-445-58668-5','How to Keep your Cable Bill Down','How to Avoid Tripping on 500 Miles of Fiber in your wallet',5,'1',10);\nINSERT INTO book VALUES ('4-344-22221-1','I Lasted my Love\\'s Last Lingering Longing','Volume 3 of 4',1,'2',4);\nINSERT INTO book VALUES ('4-668-39283-8','From Deep in the Heart of Texas to IT','One man\\'s Journey to IT',8,'1',1);\nINSERT INTO book VALUES ('5-538-55746-1','My Lost Love\\'s Long Last Lingering','Volume 4 of 4',1,'1',4);\nINSERT INTO book VALUES ('6-449-68668-8','From Brockport to IT','Prof. Johnson\\'s Journey to IT (about 25 min via 490)',8,'1',1);\nINSERT INTO book VALUES ('7-999-14432-2','Master HTML Through The Classic Comics','Using his Super Web thrower, Spiderman creates HTML docs',2,'2',6);\nINSERT INTO book VALUES ('8-330-69586-6','The Shortest Book in the World','A Guide to how Detroit will win the World Series in 2001',9,'1',3);\nINSERT INTO book VALUES ('9-333-44441-1','My Love\\'s at Long Last Lost his Lingering','Volume 5 of 4',1,'1',4);\nINSERT INTO book VALUES ('9-337-55467-3','How to add Class to your Programming','How to write programs in VB instead of C',3,'3',10);\nINSERT INTO book VALUES ('9-400-55555-2','Master C++ Through The Classic Comics','GeekMan triumphs over C++ program infected with Kryptonite virus',2,'1',6);\nINSERT INTO book VALUES ('9-444-43356-3','A language without Pointers? Priceless.','For Everything Else, there\\'s C++',3,'1',13);\nINSERT INTO book VALUES ('9-455-61223-3','JAVA: It\\'s more than Just a Programming Language','Achieve enlightenment through the mystery of the Swing package',3,'1',7);\n\n\nINSERT INTO bookreview VALUES ('1-111-11111-4',19,10,'Hold on to your hats, gang! If you think a cookbook or the yellow pages is exciting reading, you gotta read Professor Spadas remarkable treatise on enriching you personal relationships through your knowledge of ORACLE 8.1.6. In an easy-to-read fashion, s');\nINSERT INTO bookreview VALUES ('1-295-84547-1',27,10,'This is one of the most outstanding books ever written. Five thumbs up. Five stars. A must-read for everyone.');\nINSERT INTO bookreview VALUES ('1-533-73363-8',20,4,'A rather boring autobiography of a northern Ohio native who migrates to Rochester New York where he becomes a professor of Information Technology at RIT. Other than the chapters devoted to the Cleveland Indians (chapters 1, 2, 3, 6, 10, 11, 12, 13), The C');\nINSERT INTO bookreview VALUES ('1-559-68777-1',2,8,'A wonderful romance novel about Matt, a successful editor for the New York Times, who resigns and retreats to a Dude Ranch in New Mexico to find himself.  Matt meets Margaret, a person with cowgirl charm in touch with her masculine self. Matt falls in lov');\nINSERT INTO bookreview VALUES ('1-559-68777-1',19,9,'A wonderful romance novel about Margaret, a successful editor for the New York Times, who resigns and retreats to a Dude Ranch in New Mexico to find herself.  Margaret meets Matt, a person with tough cowboy swagger in touch with his feminine self. Margare');\nINSERT INTO bookreview VALUES ('2-089-77869-5',5,5,'Definitely dont buy this book if you are a Giants fan.  Two Giants fans tried this technique at the Giants game several weeks ago and they arent back yet.');\nINSERT INTO bookreview VALUES ('2-089-77869-5',13,8,'For any networking buff/Bills fan, Dr. Lutz treatise on the use of spanning trees to exit a Buffalo Bills game is a must. It is difficult to slog through in spots, but he shows you that by applying his minimalization technique you can get back to Rochest');\nINSERT INTO bookreview VALUES ('2-089-77869-5',15,6,'Dont buy this book unless your are  Bills fan.  Fans of any other team will find their departure time from a Bills game actually triples when the technique is applied. In fact, it probably accounts for why Dr. Lutz (and any other Bills fan who applies it');\nINSERT INTO bookreview VALUES ('2-122-29058-5',6,7,'Professor Hartpence shows you how to carry 500 miles of fiber in your wallet.  Warning to the unwary: dont buy this book unless you have deep pockets.');\nINSERT INTO bookreview VALUES ('2-122-29058-5',13,8,'Watch out Jim Carey .. this non-cable guy may leave you out of work. In his book, Professor Hartpence combines his cellular and networking skills with his experience in both the military and the commercial world and the practice of Zen to show you how to');\nINSERT INTO bookreview VALUES ('3-444-95595-4',3,4,'U lose if you ever bother to read this book.');\nINSERT INTO bookreview VALUES ('3-445-58668-5',6,7,'This book is a follow-up to Professor Hartpences book on how to carry 500 miles of fiber in your wallet.');\nINSERT INTO bookreview VALUES ('4-344-22221-1',24,7,'A wonderful romance novel about Nelson, a successful editor for the New York Times, who resigns and retreats to a Dude Ranch in New Mexico to find himself.  Nelson meets Laura, a person with cowgirl charm in touch with her masculine self. Nelson falls in');\nINSERT INTO bookreview VALUES ('4-668-39283-8',6,6,'A sometimes boring autobiography of a Texan transplanted to Rochester New York where he becomes a professor of Information Technology at RIT. Other than the chapters devoted to the Dallas Cowboys (chapters 1, 2, 3, 6, 10, 11, 12, 13), The Presidential ele');\nINSERT INTO bookreview VALUES ('5-538-55746-1',15,9,'A wonderful romance novel about Laura, a successful editor for the New York Times, who resigns and retreats to a Dude Ranch in New Mexico to find herself.  Laura meets Nelson, a person with tough cowboy swagger in touch with his feminine self. Laura falls');\nINSERT INTO bookreview VALUES ('6-449-68668-8',20,7,'The funny, often racy, autobiography of Daryl Johnson and his escapades to and from RIT. The book is largely about the excitement of commuting from the west side to RIT every day and how much fun it can be. A great book for those who live on the west side');\nINSERT INTO bookreview VALUES ('6-449-68668-8',26,10,'An absolutely outstanding autobiography of a Saint John Fisher Graduate and how he has adapted to his 20 minute ride (mostly on 490) to RIT every morning and his 20 ride (mostly on 490) home from RIT every night. The author uses thirteen chapters to vibra');\nINSERT INTO bookreview VALUES ('8-330-69586-6',5,10,'Geez .. no pages, no paragraphs, no words .. not even an illustration. But he did dedicate the book to Tony Clark. Says something for the fervor of this Detroit Tigers fan.');\nINSERT INTO bookreview VALUES ('8-330-69586-6',15,10,'Very accurate analysis of a problem that is not NP complete.');\nINSERT INTO bookreview VALUES ('9-333-44441-1',24,7,'Throwing the usual themes and twists of a romance novel to the winds, the author tells the store of Laura, a successful Dude Ranch owner in New Mexico, who resigns and moves to New York to seek her fortune as an editor for the New York Times. Laura meets');\nINSERT INTO bookreview VALUES ('9-337-55467-3',25,9,'These authors know their way around a coding pad, let me tell you! In clear, bell-shaped tones, with succinct wording and pinpoint accuracy, they nail this subject matter to the wall. Do you like inheritance? How about information hiding? Maybe you like e');\nINSERT INTO bookreview VALUES ('9-455-61223-3',13,9,'Professor Sonstein shows how oneness with the spiritual universe can be achieved by bringing the soul into rhytmn with the JAVA runtime machine. He shows that through various forms of self denial, such as writing code without pointers and heavy weight com');\n</code></pre>\n\n<p>I need help displaying the NAME of the the reviewer, the TITLE of the book and the RATING the reviewer gave the book. <strong>But only of reviewers whos EmployedBy field is empty.</strong></p>\n\n<p>This is what it should look like:</p>\n\n<pre><code> name  | title                                 | rating \n Leone | How to Keep your Cellular Bill Down   |      7 \n Leone | How to Keep your Cable Bill Down      |      7 \n Leone | From Deep in the Heart of Texas to IT |      6 \n</code></pre>\n\n<p>Do I need to use an Inner Join, a Union, or just a multiple SELECT?</p>\n"},{"tags":["ruby-on-rails","database","postgresql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13185216,"title":"Creating Rails app from PostgreSQL database","body":"<p>I'm new to Rails, and I need to create a Rails app based on a PostgreSQL database I was given(it has only tables). Is there a way I could \"import\" the database to use in Rails, so that it would create the necessary MVCs or would I have to do it by hand?\nThanks</p>\n"},{"tags":["java","database","hibernate","sqlite"],"answer_count":19,"favorite_count":32,"up_vote_count":45,"down_vote_count":0,"view_count":29717,"score":45,"question_id":296587,"title":"Light weight alternative to Hibernate?","body":"<p>I have a single user java program that I would like to have store data in a light weight database such as Derby or Sqlite. I would like to use a data abstraction layer in my program. Hibernate appears to require a lot of configuration and is overkill for what I need. What are light weight alternatives to Hibernate?</p>\n"},{"tags":["sql-server","database","sql-server-2008","schema"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":35,"score":1,"question_id":13184518,"title":"How to implement a schema with primary and foreign keys","body":"<p>I am trying to create relationships for my database tables, I developed a simple airline reservation system but I'm getting confused on how to get it right. My aim is to come up with a schema that shows primary keys and foreign keys.</p>\n\n<p>This is my database below</p>\n\n<p><img src=\"http://i.stack.imgur.com/YhOF6.png\" alt=\"enter image description here\"></p>\n\n<p>What am I missing it seems I do not have many foreign keys and a relationship diagram seems not to have connection because of that</p>\n\n<ul>\n<li>the Plist is a passenger list tables </li>\n<li>canreq is a cancel request table</li>\n<li>reg is the registration table</li>\n<li>fares is the fares table</li>\n<li>pid is a passenger id table</li>\n<li>schedule is a schedule table</li>\n</ul>\n"},{"tags":["java","android","database","sqlite","orm"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":198,"score":7,"question_id":11472166,"title":"Choosing an ORM for Android project (min. API level 7)","body":"<p>I currently have an application, where it's primary performance issue is using file-based database consisted of JSON responses.</p>\n\n<p>I'd like to rewrite my application to use SQLite database feature.<br>\nSince I'm lazy, I'd like to use some kind of ORM.</p>\n\n<p>So far I have found only two big ORM libraries:</p>\n\n<ul>\n<li><a href=\"http://ormlite.com/sqlite_java_android_orm.shtml\" rel=\"nofollow\">ORMLite</a></li>\n<li><a href=\"http://greendao-orm.com/\" rel=\"nofollow\">GreenDAO ORM</a></li>\n<li><a href=\"http://java.dzone.com/articles/using-db4o-android-application\" rel=\"nofollow\">DB4O</a></li>\n</ul>\n\n<p>My primary goal is to <strong>raise performance on working with data as much as possible</strong>  </p>\n\n<p>But I've found two possible issues with those libraries.  </p>\n\n<ul>\n<li><p>ORMLite uses <strong>annotations</strong>, which is big <strong>performance issue in pre-honeycomb</strong> due to <a href=\"https://code.google.com/p/android/issues/detail?id=7811\" rel=\"nofollow\">this bug</a>  </p></li>\n<li><p>GreenDAO is using some kind of code generator, and that would slow me down on development as I would have to write generator, and then use generated code. And I don't very like this idea.</p></li>\n<li><p>DB4O is JPA, which I've always considered as slow and heavy on memory usage, therefore unsuitable for low-end devices (remember the Android API v7)</p></li>\n</ul>\n\n<hr>\n\n<p><strong>ad @ChenKinnrot</strong>:<br>\nThe estimated load should be sufficient to think about using an ORM.<br>\nIn my case it is <strong>about 25-30 unique tables, and at least 10 table joins (2 - 4 tables at a time). About 300-500 unique fields (columns)</strong>  </p>\n\n<hr>\n\n<p>So my questions are:</p>\n\n<ol>\n<li><strong>Should I use ORM/JPA layer in Android application?</strong></li>\n<li><strong>If so, what library would you recommend me to use?</strong> (and please add some arguments too)</li>\n</ol>\n"},{"tags":["database","windows","winapi","extensible-storage-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":10509636,"title":"in ESE, can I use JET_coltypDateTime safely to hold an unsigned 64 bit value?","body":"<p>I'm using ESE on an older OS (JET_VERSION = 0x0501).  I need to store an unsigned 64 int</p>\n\n<p>can I safely cast this int to a JET_coltyDateTime or JET_coltypCurrency?   am I missing anything, does ESE do any kind of conversion/limits on the ranges?</p>\n\n<p>note that for my purposes sorting order doesnt matter unless it somehow messes up the ability to search</p>\n"},{"tags":["iphone","database","login"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":199,"score":1,"question_id":6448735,"title":"Phone App + Online Database?","body":"<p>Idea: Create an app that allows teachers to add/remove House Points from students and store that data in an online database. (House Point System: essentially the same system in Harry Potter)</p>\n\n<p>As I have never worked very in-depth with online databases, I need advice on what methods are best for creating a database. The database would need to contain a list of all the School's students as well as how many House Points they have lost or gained. Teachers would also need to be able to login using a username or password in order to access the app.</p>\n\n<p>Also, because it is a relatively small school, I think ad-hoc distribution would be the best way to distribute the app to the teachers. Is there any simpler or easier way to distribute the apps to the teachers?</p>\n\n<p>P.S. - I have my own website server.</p>\n"},{"tags":["database","database-design","accounting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13183568,"title":"Database schema design for financial forecasting","body":"<p>I need to develop a web app that allows companies to forecast financials. </p>\n\n<p>the app has different screens, one for defining employee salaries, another for sales projections etc.. \nbasically turn an excel financial forecast model into an app. </p>\n\n<p>question is, what would be the best way to design the database, so that financial reports (e.g. a profit and loss statement or balance sheet) could be quickly generated? </p>\n\n<ul>\n<li>assuming the forecast period is for 5 years, would you have a table\nwith 5 years*12 months = 60 fields per each row? is that performant\nenough?</li>\n<li>would you use DB triggers to recalculate salary expenses whenever a single employee data is changed?</li>\n</ul>\n"},{"tags":["php","mysql","database","phpmyadmin","xampp"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":13181733,"title":"Submitting a form. Using php to store information in a database","body":"<p>I'm quite new to PHP and have an assignment where I have to make a html form, which is fine. I'm required to have the data submitted to a database and stored in a table. This table should allow the user to view edit and delete entries in the table. </p>\n\n<p>I'm not asking for any code or for somebody to do this for me or anything like that, I want to learn the language myself. I would appreciate it greatly if somebody could just outline the steps required?</p>\n\n<p>At the moment I have a simple html form, which is linked to a php document called process.php that echos the inputted values to the screen.</p>\n\n<p>I'm using xampp to create a local php server and using PhpMyAdmin I created a database called my_db and within it I created a table called userProfile.</p>\n\n<p>I know I have to create another php file that connects to the database but after that I'm completely stumped.</p>\n\n<p><strong>EDIT</strong>\nI'll post my code below, please excuse it as I'm very new to this.</p>\n\n<p>**</p>\n\n<h2>My html form:</h2>\n\n<p>**</p>\n\n<pre><code>&lt;!Doctype html public&gt;\n&lt;body&gt;\n\nPlease fill out the following form:\n\n&lt;table border=\"1\" cellpadding=\"10\"&gt;\n\n&lt;td&gt;\n&lt;h1&gt; Games Console Survey &lt;/h1&gt;\n&lt;form action=\"createProfile.php\" method = \"post\"&gt; \n\nFirst Name: &lt;br /&gt; &lt;input type=\"text\" name=\"firstname\" /&gt;&lt;br /&gt;\n&lt;br /&gt;\n\nSurname: &lt;br /&gt; &lt;input type=\"text\" name=\"lastname\" /&gt; &lt;br /&gt;\n\n&lt;br /&gt;\n\n&lt;u&gt;Gender&lt;/u&gt;: &lt;br /&gt;\n&lt;br /&gt;\n\n&lt;input type=\"radio\" name=\"gender\" value=\"Male\" /&gt; Male&lt;br /&gt;\n&lt;input type=\"radio\" name=\"gender\" value=\"Female\" /&gt; Female &lt;br /&gt;\n\n&lt;br /&gt;\n\n&lt;u&gt;I Have The Following:&lt;/u&gt; &lt;br /&gt;\n&lt;br /&gt;\n\n&lt;input type=\"checkbox\" name=\"Console\" value=\"Playstation 3\" /&gt; Playstation 3&lt;br /&gt;\n&lt;input type=\"checkbox\" name=\"Console\" value=\"Xbox 360\" /&gt;  Xbox 360 &lt;br /&gt;\n&lt;input type=\"checkbox\" name=\"Console\" value=\"Wii\" /&gt;  Wii &lt;br /&gt;\n\n&lt;br /&gt;\n&lt;input type=\"submit\" /&gt;\n&lt;/form&gt;\n\n&lt;/form&gt;\n\n&lt;/td&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<h2><strong>process.php</strong></h2>\n\n<pre><code>&lt;?php\necho \"First Name: \".$_POST['firstname'];\n?&gt;\n\n&lt;/br&gt;\n\n&lt;?php\necho \"Surname: \".$_POST['lastname'];\n?&gt;\n\n&lt;/br&gt;\n\n&lt;?php\necho \"Gender: \".$_POST['gender'];\n?&gt;\n\n&lt;/br&gt;\n\n&lt;?php\necho \"Console: \".$_POST['Console'];\n?&gt;\n\n&lt;/br&gt;\n\n\n&lt;?php\nrequire_once 'Connection.php';\n?&gt;\n</code></pre>\n\n<p>**</p>\n\n<h2>Connection.php</h2>\n\n<p>**</p>\n\n<pre><code>&lt;?php\n$host = \"localhost\";\n$username = \"root\";\n$password = \"\";\n$database = \"my_db\";\n$dsn = \"mysql:host=$host;dbname=$database\";\ntry {\n$conn = new PDO( $dsn, $username, $password );\n$conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n//$conn = null;\n}\ncatch (PDOException $e) {\n$conn = null;\nexit(\"Connection failed: \" . $e-&gt;getMessage());\n}\n?&gt;\n</code></pre>\n\n<h2><strong>createProfile.php</strong></h2>\n\n<pre><code>&lt;?php\n\n$firstname = $_Post['firstname'];\n$lastname = $_Post['lastname'];\n$gender = $_Post['gender'];\n$Console = $_Post['Console'];\n\ntry {\n    $host = \"localhost\";\n    $username = \"root\";\n    $password = \"\";\n    $database = \"my_db\";\n    $dsn = \"mysql:host=$host;dbname=$database\";\n\n    $conn = new PDO( $dsn, $username, $password );\n    $conn-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n    $sql = \"INSERT INTO userprofile(\"\n    . \"firstname, lastname, sex, console\" \n    . \" ) VALUES (\" \n    . \"'\" . $firstname . \"',\"\n    . \"'\" . $lastname . \"',\"\n    . \"'\" . $gender . \"',\"\n    . \"'\" . $Console .\")\";\n\n    $conn-&gt;query($sql);\n\n    $sql = \"SELECT * FROM userdata\";\n    $userdata = $conn-query($sql);\n    echo '&lt;table&gt;';\n    echo '&lt;tr&gt;';\n    echo '&lt;th&gt;First Name&lt;/th&gt;\n          &lt;th&gt;Last Name&lt;/th&gt;\n          &lt;th&gt;Gender&lt;/th&gt;\n          &lt;th&gt;Console&lt;/th&gt;';\n    echo '&lt;tr&gt;';\n    foreach ($userdata as $userdata) {\n    echo '&lt;tr&gt;';\n    echo '  &lt;td&gt;' . $userprofile['firstname'] . '&lt;/td&gt;';\n    echo '  &lt;td&gt;' . $userprofile['lastname'] . '&lt;/td&gt;';\n    echo '  &lt;td&gt;' . $userprofile['gender'] . '&lt;/td&gt;';\n    echo '  &lt;td&gt;' . $userprofile['Console'] . '&lt;/td&gt;';\n    echo '  &lt;/tr&gt; ';\n}\n\necho '&lt;/table&gt;';\n\n        $conn = null;\n    }\n    catch (PDOException $e) {\n        $conn = null;\n        exit(\"Connection failed: \" . $e-&gt;getMessage());\n    }\n?&gt;\n\n&lt;?php\nrequire_once 'Connection.php';\n?&gt;\n</code></pre>\n"},{"tags":["php","mysql","database","doctrine2","deadlock"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13069315,"title":"How to retry transaction after a deadlock using Doctrine?","body":"<p>I am writing a PHP function which store/updates large sets of data into a table and that may cause a deadlock. I tried investigating how to retry a failed transaction with Doctrine but sadly could not find any info online. I eventually wrote the following code</p>\n\n<pre><code> $retry = 0;\n $done = false;\n while (!$done and $retry &lt; 3) {\n     try {\n\n         $this-&gt;entityManager-&gt;flush();\n         $done = true;\n\n     } catch (\\Exception $e) {\n         sleep(1);\n\n         $retry++;\n     }\n }\n\n if ($retry == 3) {\n     throw new Exception(\n         \"[Exception: MySQL Deadlock] Too many people accessing the server at the same time. Try again in few minutes\"\n     );\n }\n</code></pre>\n\n<p><strong>My question:</strong> is there a chance this approach will insert duplicates in the database? if so, how can I force Doctrine to roll back the transactions?</p>\n"},{"tags":["javascript","database","nosql","backend","custom-backend"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13106415,"title":"Is there a BaaS solution that I can host on my own server?","body":"<p>I only recently found out about a bunch of different BaaS offerings like CloudMine, Parse and Apigee and they seem like a great way to put up a quick web app easily without worrying about setting up some php backend or the like.  However, I need this for a project where data availability is key so I MUST have the data available even if I'm offline (application will be hosted locally).  So is there a solution that will give me a really simple JavaScript API to store data easily on a server without rolling my own back end?</p>\n"},{"tags":["php","database","query","cakephp"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13183370,"title":"Query every time keypress or a inital big query? Which is better in cakePHP and jquery?","body":"<p>Hi I have a site develop in cakephp, in a page I have an input type text where a user can insert string like \"ban\" I make a query to the database to retrieve the data to obtain record which contain that string (in the example: \"banana\", \"banned\"...). Every time that the user digit another letter I make another query to retrieve data which containt taht string every time. The query is done in jquery every time that a user press a letter.\nI have for example 1 milion of record into my table and I don't know if a user start to digit letter if this solution is fast.\nAnother solution is: when I open that page I make a query to find all record and put it into an array. every time that a user digit a letter I search that string into the array to obtain a subarray with the result.</p>\n\n<p>Which is the best solution in terms of speed, RAM. Consider that in that table I can have 1 milion of record and many user can enter into that page simultaneously.\nMy database is MYSQL.</p>\n"},{"tags":["database","database-design","uml-modeling","cardinality","multiplicity"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13183684,"title":"How do I add multiplicity values in StarUML","body":"<p>I am studying Database Development and I am at the stage where I have to create my own ER Models. Everything is fine so far with StarUML however the course notes don't mention how to add muliplicity options between entity types (the cardinality and particpation).</p>\n\n<p>I am hoping somebody could posibly help me here?</p>\n\n<p>Many Thanks\nPeter</p>\n"},{"tags":["database","vb.net","dataset"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13182447,"title":"Updating a table from a dataset producing strange results","body":"<p>I have an Access table with 71 records. If I try to alter just the first record, the underlying table remains unchanged. If I then try to alter the first two records, both records are changed correctly. Both attempts use exactly the same code but the first one fails. Any idea why, please?</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>    Public Sub db_UpdateWorkHistory(ByVal WorkHistory_tablename As String, ByVal WorkHistory As DataSet)\n\n    'this is for adding data to existing rows (ie. dates) - no new rows (dates) are created\n    'there is no routine to DELETE any work history (because the dates ie. records have to always remain - even if the data in the other fields is removed)\n\n    Dim Conn As OleDbConnection\n    Dim SQL As String\n    Dim ConnectionString As String\n\n    SQL = \"SELECT * FROM [\" &amp; WorkHistory_tablename &amp; \"] ORDER BY DateOfWork asc\"\n    ConnectionString = \"Provider=Microsoft.Jet.OLEDB.4.0;Persist Security Info=False;Data Source=\" &amp; My.Settings.AppPath &amp; \"\\\" &amp; gWorkingCentre &amp; \"_Manager2011_Students.mdb\"\n    Conn = New OleDbConnection(ConnectionString)\n    Dim da As New OleDbDataAdapter(SQL, Conn)\n\n    da.UpdateCommand = New OleDbCommand(\"UPDATE [\" &amp; WorkHistory_tablename &amp; \"] SET StudentNumber = @StudentNumber, DateOfWork = @DateOfWork, ModuleName = @ModuleName, Worksheet = @Worksheet, WorksheetID = @WorksheetID, NumQuestions = @NumQuestions, Tries = @Tries, TopicName = @TopicName, NumSheets = @NumSheets, Mistakes = @Mistakes, Percentage = @Percentage, Time_taken = @Time_taken, OralTopic = @OralTopic, OralErrors = @OralErrors, OralTime = @OralTime, Mastered = @Mastered, HomeComment = @HomeComment, InstructorNotes = @InstructorNotes, ParentStudentComment = @ParentStudentComment, InstructorComments = @InstructorComments WHERE DateOfWork = @DateOfWork\")\n    da.UpdateCommand.Connection = Conn\n\n    'parameters have to be in the same order as in the SQL string\n\n    da.UpdateCommand.Parameters.Add(\"@StudentNumber\", OleDbType.Integer, 6, \"StudentNumber\")\n    da.UpdateCommand.Parameters.Add(\"@DateOfWork\", OleDbType.DBDate, 0, \"DateOfWork\")\n    da.UpdateCommand.Parameters.Add(\"@ModuleName\", OleDbType.VarChar, 15, \"ModuleName\")\n    da.UpdateCommand.Parameters.Add(\"@Worksheet\", OleDbType.VarChar, 150, \"Worksheet\")\n    da.UpdateCommand.Parameters.Add(\"@WorksheetID\", OleDbType.Integer, 6, \"WorksheetID\")  'ie. maximum number is 999,999 --- changed to this 8/3/12\n    da.UpdateCommand.Parameters.Add(\"@NumQuestions\", OleDbType.Integer, 3, \"NumQuestions\")\n    da.UpdateCommand.Parameters.Add(\"@Tries\", OleDbType.Integer, 3, \"Tries\")\n    da.UpdateCommand.Parameters.Add(\"@TopicName\", OleDbType.VarChar, 150, \"TopicName\")\n    da.UpdateCommand.Parameters.Add(\"@NumSheets\", OleDbType.Integer, 2, \"NumSheets\")\n    da.UpdateCommand.Parameters.Add(\"@Mistakes\", OleDbType.Integer, 3, \"Mistakes\")\n    da.UpdateCommand.Parameters.Add(\"@Percentage\", OleDbType.Integer, 3, \"Percentage\")\n    da.UpdateCommand.Parameters.Add(\"@Time_taken\", OleDbType.Integer, 3, \"Time_taken\")\n    da.UpdateCommand.Parameters.Add(\"@OralTopic\", OleDbType.VarChar, 50, \"OralTopic\")\n    da.UpdateCommand.Parameters.Add(\"@OralErrors\", OleDbType.Integer, 3, \"OralErrors\")\n    da.UpdateCommand.Parameters.Add(\"@OralTime\", OleDbType.Integer, 3, \"OralTime\")\n    da.UpdateCommand.Parameters.Add(\"@Mastered\", OleDbType.Boolean, 1, \"Mastered\")\n    da.UpdateCommand.Parameters.Add(\"@HomeComment\", OleDbType.VarChar, 150, \"HomeComment\")\n    da.UpdateCommand.Parameters.Add(\"@InstructorNotes\", OleDbType.VarChar, 150, \"InstructorNotes\")\n    da.UpdateCommand.Parameters.Add(\"@ParentStudentComment\", OleDbType.VarChar, 150, \"ParentStudentComment\")\n    da.UpdateCommand.Parameters.Add(\"@InstructorComments\", OleDbType.VarChar, 255, \"InstructorComments\")\n\n    Try\n        Conn.Open()\n        da.Update(WorkHistory)            \n        da.Dispose()\n        Conn.Close()\n\n    Catch ex As Exception\n        MessageBox.Show(ex.Message &amp; \" - \" &amp; ex.Source)\n        Conn.Close()\n    End Try\n\nEnd Sub\n</code></pre>\n\n<p>In both of the tests described above, the dataset \"WorkHistory\" picked up by this sub contains exactly the data that it should contain (I've checked this with the data visualiser). Why, then, are the changes not made when amending one record but are when I try to amend two records?</p>\n"},{"tags":["database","hadoop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13182029,"title":"Error in Hive during HadoopDB installation","body":"<p>I was trying to use HadoopDB by setting a seperate cluster. I installed hadoop 20.205 version, postgresql 9.1, hive ( with dist of SMS_dist.zip in hadoopdb distribution as my hive_home ) on all the nodes. I was trying to create the external table as given in the hadoopDB quick start guide and met with the following error.</p>\n\n<blockquote>\n  <p>hive></p>\n  \n  <blockquote>\n    <p>CREATE EXTERNAL TABLE trip_table (sub STRING, pre STRING, obj STRING)\n    ROW FORMAT DELIMITED\n    FIELDS TERMINATED BY '|'\n    STORED AS INPUTFORMAT 'edu.yale.cs.hadoopdb.sms.connector.SMSInputFormat' OUTPUTFORMAT\n    'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'\n    LOCATION '/trip_table';\n    Exception in thread \"main\" java.lang.NoSuchMethodError: \n    org.apache.hadoop.security.UserGroupInformation.readFrom(Lorg/apache/hadoop\n    /conf/Configuration;)Lorg/apache/hadoop/security/UserGroupInformation;\n    at org.apache.hadoop.hive.conf.HiveConf.getUser(HiveConf.java:400)\n    at org.apache.hadoop.hive.ql.exec.DDLTask.createTable(DDLTask.java:761)\n    at org.apache.hadoop.hive.ql.exec.DDLTask.execute(DDLTask.java:100)\n    at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:335)\n    at org.apache.hadoop.hive.ql.Driver.run(Driver.java:241)\n    at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:122)\n    at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:165)\n    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:258)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:156)</p>\n  </blockquote>\n</blockquote>\n\n<p>Can anyone kindly explain the error. Is it that the dist which is provided is not compatible with hadoop's version 20.205? If yes then what can be done \nto resolve this error ? Should I build hadoopDB from source ? </p>\n"},{"tags":["mysql","database","root","privileges","grant"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13180721,"title":"Can't access to some database being root, after just creating that database","body":"<p>as root@localhost</p>\n\n<pre><code>mysql&gt; CREATE USER 'aaa'@'%';\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; GRANT USAGE ON * . * TO 'aaa'@'%' WITH MAX_QUERIES_PER_HOUR 0 MAX_CONNECTIONS_PER_HOUR 0 MAX_UPDATES_PER_HOUR 0 MAX_USER_CONNECTIONS 0 ;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; CREATE DATABASE IF NOT EXISTS `aaa` ;\nQuery OK, 1 row affected (0.00 sec)\n\nmysql&gt; FLUSH PRIVILEGES;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql&gt; GRANT ALL PRIVILEGES ON `aaa` . * TO 'aaa'@'%';\nERROR 1044 (42000): Access denied for user 'root'@'localhost' to database 'aaa'\n</code></pre>\n\n<p><strong>what the hell.. why does it give me that error?</strong></p>\n\n<pre><code>mysql&gt; show grants;\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| Grants for root@localhost                                                                                                                                                                                                                                                                                                                                                                                        |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD, SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT, CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER ON *.* TO 'root'@'localhost' IDENTIFIED BY PASSWORD '*B67132C4A56F2FFFE0AA531DECF0C98895F9CB9B' WITH GRANT OPTION |\n+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n</code></pre>\n"},{"tags":["ruby-on-rails","database","activerecord","heroku","vpn"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13180305,"title":"Accessing a database on a VPN","body":"<p>My Rails 3.2 app connects to a number of external servers, one of which is an SQL Server database (I connect to it using ActiveRecord + tinytds).</p>\n\n<p>Today, the database host decided to make it necessary to be on their VPN to access the database. My connections are now failing.</p>\n\n<p>How can I connect my Rails app (or just the connection to this database) to a VPN, so that I can access this database? My app is hosted on Heroku.</p>\n"},{"tags":["php","sql","database","cpanel"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13180534,"title":"php script connecting to my SQL database","body":"<p>When trying to connect to my database using PHP I am getting an error.</p>\n\n<pre><code>$connect = mysql_connect(\"localhost\",\"username\",\"password\") or die (\"Couldn't Connect!\");\nmysql_select_db(\"databasename\") or die (\"Couldnt find database\");\n</code></pre>\n\n<p>When I try running the script it keeps saying <code>'Couldnt find database'</code> which means that I am connecting to the server but my database won't connect.</p>\n\n<p>Am I doing something wrong here? I have pretty much copied and pasted my database name from Cpanel so I know there aren't any mistakes. But in Cpanel it is displayed as 'mywebsite'_database </p>\n\n<p>Any ideas?</p>\n"},{"tags":["mysql","database","db-schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13180249,"title":"Mysql DB Is this the most efficient design?","body":"<p>I have an existing <code>mysql</code> DB that manages regulations for 50 states. The current setup is relational - three tables for EACH of the 50 states: </p>\n\n<p><code>state_table</code> contains the chapter/sub-chapter headings\n<code>item_table</code> contains the end records\n<code>department_table</code> contains the ID's to relate the two.</p>\n\n<p>all combined it handles around 620,000 records</p>\n\n<p>I'm not a DB design expert and have always utilized this as-is and gotten-by however, the nature of tables for all 50 states limits searching across all states etc. and I'm wondering if there is a better approach.</p>\n\n<p>I'm wondering if I should consider combining this into either a single set of 3 relational tables for the entire nation or even a single table to handle everything.</p>\n\n<p>I've asked this on other forums and have been told to read various volumes of DB schema and structures etc. so if there is someone who can just suggest the direction to go in and the pro's and con's of what I have vs the alternative that would be great!</p>\n\n<p>thanks!</p>\n\n<p>Here's the way it is, X 50</p>\n\n<p>alabama</p>\n\n<blockquote>\n  <p>ID<br>\n  Name<br>\n  State<br>\n  Parent \n  Description      </p>\n</blockquote>\n\n<p>alabama_department</p>\n\n<blockquote>\n  <p>Department - ID's from \"alabama\"</p>\n  \n  <p>Item - ID's from \"alabama_item\"</p>\n</blockquote>\n\n<p>alabama_item  </p>\n\n<blockquote>\n  <p>ID<br>\n  Name<br>\n  Description<br>\n  Keywords<br>\n  Doc_ID<br>\n  Effective_date<br>\n    ...\n    ...   </p>\n</blockquote>\n\n<p>The Queries: I step through the heirarchy of chapter/sub-chapter/end-record via links this works fine but I'm starting to focus more on search capability and also thinking what I have is overkill and it sounds like a couple of you think so (overkill)</p>\n"},{"tags":["sql","database","vba","ms-access","linked-tables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13177754,"title":"Refresh table link in Access with VBA","body":"<p>I found the following function while browsing the Web that allows me to dynamically link a table to my Access database at the execution:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Function createAttached(strTable As String, strPath As String, strBaseTable As String) As Boolean\n\n'************************************************************************************\n'* Create an attached table in the current database from a table in a different MDB file.\n'* In:                                                                              *\n'*   strTable - name of linked table to create                                      *\n'*   strPath - path and name of MDB file containing the table                       *\n'*   strBaseTable - name of table in strPath MDB                                    *\n'* Out:                                                                             *\n'*   Return value: True/False, indicating success                                   *\n'* Modifies:                                                                        *\n'*   Nothing, but adds a new table.                                                 *\n'************************************************************************************\n\nOn Error GoTo CreateAttachedError\n\nDim tdf As TableDef\nDim strConnect As String\nDim fRetval As Boolean\nDim myDB As Database\n\n    DoCmd.SetWarnings False\n    Set myDB = CurrentDb\n    Set tdf = myDB.CreateTableDef(strTable)\n\n    With tdf\n        .Connect = \";DATABASE=\" &amp; strPath\n        .SourceTableName = strBaseTable\n    End With\n\n    myDB.TableDefs.Append tdf\n\n    fRetval = True\n\n    DoCmd.SetWarnings True\n\nCreateAttachedExit:\n    createAttached = fRetval\n    Exit Function\n\nCreateAttachedError:\n    If Err = 3110 Then\n        Resume CreateAttachedExit\n    Else\n        If Err = 3011 Then\n            Resume Next\n        End If\n    End If\n\nEnd Function\n</code></pre>\n\n<p>This script works, however, if the table is already linked, it just does nothing (but an error event is still triggerered). I would like the same script to delete the linked table if it exists, or at least refresh that link so that the path is the right one. I have no idea of how to do this, it's probably quite simple but I don't know where to start.</p>\n\n<p>Thank you.</p>\n"},{"tags":["mysql","sql","database","database-design"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":13178203,"title":"Database Design For Recording Test Results","body":"<p>I work at a manufacturing plant where we assembly 10 different products. Each product is similar in function but requires different parameters to be tested. Originally I created an Access database to store our test results for each unit we build. I laid out the database by having one table for each product. This table stores the production ID along with the test parameters (pressures, temperatures, pass/fail information.. etc.) I feel like this was a poor way to approach this but it seemed to be the only way I could use access's bound forms for easy data entry. My problem is that now whenever I need to add a new test parameter I have to change the table design as well as the forms.</p>\n\n<p>Soon I will have the ability to recreate this system in mySQL and I'm hoping there is a better way to approach storing these tests results. Any insight would be very useful.   </p>\n\n<p>Thanks.</p>\n"},{"tags":["asp.net","database","linq-to-sql","logging","activity"],"answer_count":3,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":3644,"score":4,"question_id":1945122,"title":"ASP.Net User activity tracking in database","body":"<p>This is about a simple yet efficient activity logging framework that I want to integrate with my existing ASP.Net based web-app (I've a LINQ-to-SQL based SQL DB as backend). I'm using something like a service-architecture to perform DB operations - that is invoke relevant LINQ operations. I've a service class for almost every entity (i.e. DB table) and it handles the CRUD operations.</p>\n\n<blockquote>\n  <p>In general, I need to track activities\n  like - Mr.X added a new Item, My.Y\n  searched on this filter, Mr.Z exported\n  the result of Grid to an excel\n  document, etc... and similar simple\n  operation based logging (field-level\n  logging is far for now)</p>\n</blockquote>\n\n<p>So, here's what I've found in my two days of R&amp;D on the SO, other forums and the web:</p>\n\n<p><strong>Approach 1:</strong>\nSimple old way of using two tables: Activity (stores ALL the activities along with its actor) &amp; ActivityType (lists types of activities). I've a service layer so either I can have a \"ServieBase\" class which taps ALL the CRUD events and logs the one in which I'm interested. Everything is handled from within the code.</p>\n\n<blockquote>\n  <p>Example:\n  <a href=\"http://dotnetslackers.com/articles/aspnet/Tracking-User-Activity.aspx\">http://dotnetslackers.com/articles/aspnet/Tracking-User-Activity.aspx</a></p>\n</blockquote>\n\n<p><strong>Approach 2:</strong>\nUse database TRIGGERs to tap events at table level and then perform logging. This will be completely 'abstract' to the app. I've \"LastModifiedBy\" field in each table so I'll get the 'actor' data and I can do the logging but this might limit me to DB-operations &amp; need me to track other app-activities separately. but if its worth I can consider it.</p>\n\n<p><strong>Approach 3:</strong> (conceptual, need more guidance)</p>\n\n<p><strong>3.1 MVC approach</strong> - We're thinking of adopting MVC in future and I've found some efficient logging tricks in MVC like - (is ther anything like that for traditional L2S based web-app?)</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1822754/log-user-activity-on-asp-net-mvc-application\">http://stackoverflow.com/questions/1822754/log-user-activity-on-asp-net-mvc-application</a>\n<a href=\"http://stackoverflow.com/questions/1514616/track-user-activity-actions-for-an-asp-net-mvc-website\">http://stackoverflow.com/questions/1514616/track-user-activity-actions-for-an-asp-net-mvc-website</a></p>\n\n<p><strong>3.2 Tracking Services</strong> I came across a 'tracking service' feature in windows - is there its web-equivalent?</p>\n\n<blockquote>\n  <p><a href=\"http://msdn.microsoft.com/en-us/magazine/cc163466.aspx\">http://msdn.microsoft.com/en-us/magazine/cc163466.aspx</a>\n  <a href=\"http://www.codeproject.com/KB/WF/WWF%5F%5FTracking%5FService.aspx?msg=2879654\">http://www.codeproject.com/KB/WF/WWF%5F%5FTracking%5FService.aspx?msg=2879654</a></p>\n</blockquote>\n\n<p><strong>3.3 Misc</strong> - Some other options which I came across but don't seem too convincing or I'd better say they do their work but not mine :-)</p>\n\n<p>Ref - </p>\n\n<p><a href=\"http://learn.iis.net/page.aspx/480/sample-web-analytics-tracking-module/\">http://learn.iis.net/page.aspx/480/sample-web-analytics-tracking-module/</a></p>\n\n<blockquote>\n  <p>SQL Profiler: \n  <a href=\"http://articles.techrepublic.com.com/5100-10878%5F11-5054787.html\">http://articles.techrepublic.com.com/5100-10878%5F11-5054787.html</a>\n  <a href=\"http://technet.microsoft.com/en-us/library/cc966515.aspx\">http://technet.microsoft.com/en-us/library/cc966515.aspx</a></p>\n</blockquote>\n\n<p>So, what say? Any suggestions and new thoughts are welcome. For now, it seems I'd land somewhere between the first-two approaches because we want it to be easy in future to be able to add any extra activity to be logged.</p>\n\n<p>Thank you.</p>\n"},{"tags":["database","visual-studio","sqlite","standalone"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13179879,"title":"Start with databases in visual basic 2012","body":"<p>My story is: I just started with visual basic and worked with simple scripting languages like AS2-3 AutoIt even some simple programs in VB and C# but I have no idea about working with databases so I came to ask few question to jumpstart my coding engine.</p>\n\n<ol>\n<li><p>Do I need to install any program or download any file to start working with databases?(researching about SQLite but still have no idea how to make it work)</p></li>\n<li><p>What do you suggest for saving and recovering my variables on the disk in my standalone windows application?(even .txt files work for me ATM)</p></li>\n<li><p>Is there any simple tutorial that explains usage of databases in standalone programs?</p></li>\n</ol>\n"},{"tags":["database","stored-procedures","sqldatatypes"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13180121,"title":"Fire a specific stored procedure based on datatype","body":"<p>Basically, all timezone conversions are being done at the database level, with <code>from_utc(dt)</code> and <code>to_utc(dt)</code> wrapping each call to save/pull datetimes in the database. I like the low level approach, and I was wondering:</p>\n\n<p>Is there a way to tell the database:</p>\n\n<ol>\n<li>Execute the stored procedure <code>to_utc(dt)</code> in DML statements if data has datatype <code>DATETIME</code></li>\n<li>Execute the stored procedure <code>from_utc(dt)</code> in DDL statements if data has datatype <code>DATETIME</code></li>\n</ol>\n\n<p>It would be even more convenient for me if I didn't have to remember to wrap all database interactions with datetimes in these two procedures. Right now we're using MySQL.</p>\n"},{"tags":["java","database"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":64,"score":4,"question_id":13176660,"title":"Looking for a good and simple database alternative that doesn't require any installation","body":"<p>I've been doing my homework ( like you asked ;) ) but I haven't found anything that really answers my needs, so here it goes:</p>\n\n<p>I'm a junior Java developer  and I'm working on a little project.\nThe problem I'm currenctly experiencing is that I want to be able to store and retrieve data in a little database. I've tried to use textfiles, but they can only store data or retrieve all data at once, u can't select which data you want to retrieve.\nI'm looking for an alternative that doesn't need any installation or anything else, because I don't want my 'costumer' to download anything else but my application.\nI have tried HSQLDB, but that does need some installation...</p>\n\n<p>So here's my question: Is there any database-alternative for java that doesn't need any installation AND where any data you want can be selected and retrieved?</p>\n"},{"tags":["python","database","django","concurrency"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13179401,"title":"Django transactions and concurrency","body":"<p>I have a view that needs to perform updates to the database involving a shared resource that needs locking (the implementation is complex, but nothing more than a shared counter at heart).</p>\n\n<p>To shield myself from race conditions, I'm using code that looks roughly like this:</p>\n\n<pre><code>@transaction.commit_manually\ndef do_it(request):\n    affected_models = Something.objects.select_for_update(blah = 1)\n\n    for model in affected_models:\n        model.modify()\n        model.save()\n\n    transaction.commit()\n</code></pre>\n\n<p>Is this usage of <code>commit_manually</code>, <code>select_for_update()</code> and <code>save()</code> ok? How can I write a test that confirms this? I can't find, say, a signal that Django fires between transactions; and I can't just run it and hope concurrency issues arise and are dealt with.</p>\n"},{"tags":["mysql","database","index","clustered-index"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13156510,"title":"Rearrangement of records in a table with clustered indexing","body":"<p>Assumption : In case of clustered indexing, the order of the records on the disk is the same as that of the clustered indices.</p>\n\n<p>Problem : Is the data rearranged each time on the disk when a new record is inserted? Isn't that a big hit on the performance in performing data moves on the disk.</p>\n\n<p>Improvisation By MySQL : Each index page has a reserved space i.e. 1/16 of the space in the index page reserved for future updates.</p>\n\n<p>My question: What happens when this space(reserved space) gets exhausted and a new record is waiting to be written? Does this rearrange all the data after that index page to fit in this new record? Isn't that a big hit on the performance? If yes, what are the possible workarounds?</p>\n\n<p>Some additional reference : Does this directly map to the way an operating system handles internal fragmentation and the file system tries to have all the blocks corresponding to the same file stored as close as possible on the disk to save on the disk seek time?\nIf possible, is there an explanation if the 2 are related and how?</p>\n\n<p>I find the answer on the post (<a href=\"http://stackoverflow.com/questions/1147499/clustered-index\">SQL query slow because of clustered index</a>) by <a href=\"http://stackoverflow.com/users/98422/gary-mcgill\">Gary Mcgill</a> very helpful in regard to the same.</p>\n"},{"tags":["database","sql-server-2008","datagridview","dataset"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13157891,"title":"Bit datatype to enum type mapping from database to dataset in SQL Server 2008","body":"<p>I have a table which has a column <code>Xyz</code> and it has <code>bit</code> datatype in SQL Server 2008.</p>\n\n<p>I'm getting the values from the table through data adapter and I'm storing it in a <code>DataSet</code> and a <code>DataGridView</code> will show the contents from the <code>DataSet</code></p>\n\n<p>In the gridview, for column <code>Xyz</code>, a check_box with/without tick is displayed but I want to display it as a buy/sell as a text instead of checkbox.</p>\n"},{"tags":["c#",".net","database","dataset","connection"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13179782,"title":"Commit dataset changes to database","body":"<p>i am trying to commit changes in the data set to the database but this code does not seem to work, help</p>\n\n<pre><code>        dbDS i = new dbDS();\n        var con = new System.Data.SqlClient.SqlConnection();\n        con.ConnectionString = @\"Data Source=(LocalDB)\\v11.0;AttachDbFilename=C:\\Users\\mmmmm\\documents\\visual studio 2012\\Projects\\data mining GUI\\data mining GUI\\db.mdf;Database=db; Trusted_Connection=Yes;\";\n        con.Open();\n        var adap = new SqlDataAdapter(\"select * from Flower\", con);\n\n        adap.AcceptChangesDuringFill = true;\n        adap.Fill(i, \"Flower\");\n        if (i.Flower.Count == 0)\n        {\n            ts = parseFile(\"iris.txt\");\n            var ad = new dbDSTableAdapters.FlowerTableAdapter();\n            foreach (var item in ts)\n            {\n                var r = i.Flower.NewRow();\n                r[\"sepalLength\"] = item.sepalLength;\n                r[\"sepalWidth\"] = item.sepalWidth;\n                r[\"petalWidth\"] = item.petalWidth;\n                r[\"petalLength\"] = item.petalLength;\n                r[\"type\"] = item.t.ToString();\n\n                i.Flower.Rows.Add(r);\n            }\n            ad.Update(i.Flower);\n\n            i.AcceptChanges();\n\n            Console.Write(\"in\");\n        }\n        con.Close();\n</code></pre>\n\n<p>What should be changed to fix this ?</p>\n"},{"tags":["database","visual-studio-2010","mdf","databasepublishingwizard"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":2211,"score":6,"question_id":4237574,"title":"How do I fix \"incorrect syntax near GO\" errors in scripts generated with Microsoft's Database Publishing Wizard?","body":"<p>I've been searching for a \"definitive\" solution to this for a couple of hours now and can't find out exactly what the problem is so am hoping someone can point me in the right direction.</p>\n\n<p>I'm trying to create a script for a database (an MDF file DB) on a remote machine and use it to create the same database locally. I've got Visual Studio 2010 on both machines so used the Database Publishing Wizard to generate the script.</p>\n\n<p>I next created a blank DB in Visual Studio locally (another MDF file DB) and selected to create a new query. I've pasted the copied script in but when I try and run it I get dozens of \"incorrect syntax near GO\" errors. I'm not sure how many in total as the alert pop-up goes off the bottom of my screen. It would seem to be a lot though.</p>\n\n<p>I trimmed off all but the very top of the script and I still get the same errors with it. It now looks like this:</p>\n\n<pre><code>SET ANSI_NULLS ON\n\nGO\n</code></pre>\n\n<p>I still get the \"incorrect syntax near GO\" error with this.</p>\n\n<p>Is there something inherently wrong with the scripts this tool generates or am I doing something wrong with it?</p>\n\n<p>The remote DB is 2008 R2 and my local is just plain 2008, hence why I don't just copy the MDF file across.</p>\n\n<p>If anyone has any suggestions, they would be most welcome.</p>\n"},{"tags":["php","database","api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":17,"score":0,"question_id":13179322,"title":"data gathering how was this done?","body":"<p>I'd love to understand how and where this website gets it's data from:\n<a href=\"http://elophant.com/developers/docs\" rel=\"nofollow\">http://elophant.com/developers/docs</a>\nI find it hard to believe that the game developers just hand all this data in realtime(or close to) to elophant's developer.\nhow was he able to retrieve the information about games in progress for example?</p>\n"},{"tags":["database","language-agnostic","nosql","implementation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13177882,"title":"Implementing a database -- How to get started","body":"<p>I've been trying to learn programming for a while. I've studied Java and Python, and I'm comfortable with their syntax. Recently, I wanted to use what I've learnt with coding a tangible software from ground up.</p>\n\n<p>I want to implement a database engine, sort of a NoSQL database. I've put together a small document, sort of a specification to follow throughout my adventure of coding it. But all I know is a bunch of keywords. I don't know where to start.</p>\n\n<p>Can someone help me find out how to gather the knowledge I need for this kind of work and in what order to learn things? I have searched for documents, but I feel like I'll end up finding unrelated/erroneous content or start from a wrong point, because implementing a complete database engine is <em>(seeming to be)</em> a truly complicated task.</p>\n\n<p>I wan't to express that I'd prefer theses and whitepapers and (e)books to codes of other projects, because I've asked a question of kind in which people usually get answered in the form of <em>\"read project - x' source code\"</em>. I'm not at the level of comfortably reading and understanding source code.</p>\n"},{"tags":["database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13179148,"title":"During an update in a SQLite file, how can we update just part of the database instead of rewriting the whole database ( copyDatabase() )?","body":"<p>I'm using sqlite database for my mobile application. All the user's activities data are stored in the sqlite file in user's own device and it cannot be accessed by admin. </p>\n\n<p>I'm fine with this as I do not need the user's data. However, I will have to provide updated database to user from time to time (loading more new words for my dictionary application). In mobile application, usually an update means the rewriting of the whole sqlite file/ the installation of a new apk. </p>\n\n<p>I am using sqlite instead of SQL server as database because I wish to make use of an offline database for my application. However, I am finding ways to allow admin to provide updates to the database and at the same time, keep the user data from being rewritten in a update process. Any advice? Thanks.  </p>\n"},{"tags":["python","database","redis","key-value-store"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13178706,"title":"Write to several database in Redis for python","body":"<p>I want to write some values into different database, this is my code:</p>\n\n<pre><code>    import redis\n\n    r1 = redis.Redis(host='127.0.0.1', port=6379, db = 'db1')\n    r2 = redis.Redis(host='127.0.0.1', port=6379, db = 'db2')\n\n    numList = ['4', '3', '2', '1']\n\n    for num in numList:\n        r1.lpush('a', num)\n        r2.lpush('a', 'test')\n\n    print r1.lrange('a',start=0,end=-1)\n    print r2.lrange('a',start=0,end=-1)\n</code></pre>\n\n<p>Then I got this result:</p>\n\n<pre><code>    ['test', '1', 'test', '2', 'test', '3', 'test', '4']\n    ['test', '1', 'test', '2', 'test', '3', 'test', '4']\n</code></pre>\n\n<p>Although I use different database, but for the same key, all the value is put in.\nThank you.</p>\n"},{"tags":["database","entity","unique"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12823825,"title":"unique entity in a database","body":"<p>How can we make a constraint on the database, so that only one entity fits in a desired position?</p>\n\n<p>For example, we want to have a president for the Country database.\nHow can we define the \"is-president\" attributes so that only one entry can have the \"true\" value.</p>\n"},{"tags":["database","uri","row","android-contentprovider","record"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12524926,"title":"getting the row number of a record from the path and URI, using content provider","body":"<p>is there a way to get the row number of a record for a stored image in the android sqlite database using content provider if i have the URI and the path of the image?</p>\n\n<p>For example i have the following two pieces of information:</p>\n\n<p>URI: content://media/external/images/media/pic05.png</p>\n\n<p>path: /mnt/sdcard/pic05.png</p>\n\n<p>there has got to be a function that will return the row number or some way to do this, any ideas?</p>\n"},{"tags":["sql","database","primary-key","where-clause"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":29,"score":-3,"question_id":13176434,"title":"Is inner join performed by default?","body":"<p>I wonder why it is needed to put the (primary key = foreign key) in a where statement. Tables are related to each other via such criteria. So, why everybody use that in the <em>where</em> clauses or *join*s?</p>\n\n<p>I mean instead of</p>\n\n<blockquote>\n  <p>select a.name, b.name\n  from a,b\n  where (a.fk = b.pk) AND (something = \"something\")</p>\n</blockquote>\n\n<p>if one says</p>\n\n<blockquote>\n  <p>...\n  select a.name, b.name\n  from a,b\n  where (something = \"something\") </p>\n</blockquote>\n\n<p>would it be enough?</p>\n"},{"tags":["database","database-design","architecture","reporting"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1892,"score":5,"question_id":3331637,"title":"When to build a separate reporting database?","body":"<p>We're building an application that has a database (yeah, pretty exciting huh :).  The database is mainly transactional (to support the app) and also does a bit of \"reporting\" as part of the app - but nothing too strenuous.</p>\n\n<p>Above and beyond that we have some reporting requirements - but they're pretty vague and high-level at the moment.  We have a standard reporting tool that we-use in-house which we'll use to do the \"heavier\" reporting as the requirements solidify.</p>\n\n<p>My question is: how do you know when a separate database for reporting is required?</p>\n\n<p>What sort of questions need to be asked? What sort of things would make you decide a separate reporting database was necessary?</p>\n"},{"tags":["database","database-design","tree"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13177733,"title":"What type of tree to use for this kind of scheme?","body":"<p>I'm trying to build a contact manager. I have a datastructure in mind that has a couple of properties:</p>\n\n<ul>\n<li><p>it is tree like, meaning that each piece of information can be split up into subpieces (each node has children). For example a field called <code>address</code> may consist out of <code>street</code>, <code>town</code>, <code>postal code</code>, etc subfields.</p></li>\n<li><p>nodes do not have to be unique, for instance several nodes of the <code>email</code> field should be able to coexist next to each other (at the same level)</p></li>\n</ul>\n\n<p>I would like to be able to explore the tree using a path-like manner, e.g. access nodes by path: <code>address.street</code> or <code>name.first</code>. Accessing nodes whose key is present more than once could be done like <code>email[2]</code>.</p>\n\n<p>so a tree could look like:</p>\n\n<pre><code>contact\n   ↳ name\n        ↳ first      \"foo\"\n        ↳ last       \"von bar\"\n   ↳ email           \"foo@bar.com\"\n   ↳ email           \"baz@foo.de\"\n   ↳ address\n           ↳ street  \"foostreet 42\"\n           ↳ town    \"barstadt\"\n           ↳ zip     \"04229\"\n           ↳ country \"footopia\"\n   ↳ address\n           ↳ street  \"barton alley 11\"\n           ↳ town    \"foostadt\"\n           ↳ zip     \"998877\"\n           ↳ country \"alcabaz\"\n</code></pre>\n\n<p>what kind of tree is this? I've tried using the Boost's <code>property_tree</code> but found it hard to implement the fact that <code>address</code> should be split at high level (Boost's standard method would  put the <code>street</code>, <code>town</code>, ... nodes in one <code>address</code>).</p>\n\n<p>Any ideas are welcome.</p>\n"},{"tags":["sql","database","uml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13125355,"title":"Realizing special case of a class in UML and SQL","body":"<p>In an application, that allows registered users to create pages which can be edited by other registered users, what is the correct way of distinguishing a normal user from the creator of the page, both in UML and SQL.</p>\n\n<p>In UML, I have</p>\n\n<pre><code>--------  accesible by --------  \n| Page |  ------------ |User  |\n--------               --------\n  |created by            / \\\n  |                       | \n  |                       |\n---------   is a          |\n|Creator|------------------\n---------\n</code></pre>\n\n<p>Now, I don't think this is the correct UML. So, what would be the correct UML representation of what I am trying to express. And eventually, I would like to create SQL database for the same. In that case, what would the Database Schema look like?</p>\n"},{"tags":["php","database","data-binding","code-snippets"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7098,"score":1,"question_id":2713566,"title":"Warning: PDOStatement::execute(): SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens in ","body":"<p>I'm working with PHP PDO and I have the following problem:</p>\n\n<pre><code>Warning: PDOStatement::execute(): SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens in /var/www/site/classes/enterprise.php on line 63\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>    public function getCompaniesByCity(City $city, $options = null) {\n  $database = Connection::getConnection();\n\n  if(empty($options)) {\n   $statement = $database-&gt;prepare(\"SELECT * FROM `empresas` WHERE `empresas`.`cidades_codigo` = ?\");\n   $statement-&gt;bindValue(1, $city-&gt;getId());\n  }\n  else {\n   $sql = \"SELECT * FROM `empresas`\n    INNER JOIN `prods_empresas` ON `prods_empresas`.`empresas_codigo` = `empresas`.`codigo` WHERE \";\n\n   foreach($options as $option) {\n    $sql .= '`prods_empresas`.`produtos_codigo` = ? OR ';\n   }\n\n   $sql = substr($sql, 0, -4);\n   $sql .= ' AND `empresas`.`cidades_codigo` = ?';\n\n   $statement = $database-&gt;prepare($sql);\n\n   echo $sql;\n\n   foreach($options as $i =&gt; $option) {\n    $statement-&gt;bindValue($i + 1, $option-&gt;getId());\n   }\n\n   $statement-&gt;bindValue(count($options), $city-&gt;getId());\n  }\n\n  $statement-&gt;execute();\n\n  $objects = $statement-&gt;fetchAll(PDO::FETCH_OBJ);\n  $companies = array();\n\n  if(!empty($objects)) {\n   foreach($objects as $object) {\n    $data = array(\n     'id' =&gt; $object-&gt;codigo,\n     'name' =&gt; $object-&gt;nome,\n     'link' =&gt; $object-&gt;link,\n     'email' =&gt; $object-&gt;email,\n     'details' =&gt; $object-&gt;detalhes,\n     'logo' =&gt; $object-&gt;logo\n    );\n\n    $enterprise = new Enterprise($data);\n    array_push($companies, $enterprise);\n   }\n\n   return $companies;\n  }\n }\n</code></pre>\n\n<p>Thank you very much!</p>\n"},{"tags":["sql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":57,"score":5,"question_id":13173171,"title":"SQL Server + Composite key or Unique Id","body":"<p>I am fairly new to database design, for many to many relationship, what is the differences and implications of creating a composite key and a unique id for e.g.</p>\n\n<p><code>Country</code> table</p>\n\n<pre><code>CountryID\nCountryName\n</code></pre>\n\n<p><code>Language</code> table</p>\n\n<pre><code>LanguageID\nLangugageName\n</code></pre>\n\n<p>Many to Many table - using composite:</p>\n\n<pre><code>CountryID  Pkey\nLanguageID Pkey\n</code></pre>\n\n<p>OR</p>\n\n<p>Using unique Id:</p>\n\n<pre><code>AutoID Pkey\nCountryID \nLanguageID \n</code></pre>\n"},{"tags":["mysql","sql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":50,"score":-4,"question_id":13175327,"title":"MySQL - querying 3 tables","body":"<p>Say I have 3 tables, each with a field <code>foo</code>. How do I get the following records:</p>\n\n<ol>\n<li>All records where the value of foo exist in all 3 tables?</li>\n<li>All records where the value of foo exist in any 2 tables?</li>\n<li>All records where the value of foo exist in 1 table only?</li>\n</ol>\n\n<p><code>foo</code> is UNIQUE.</p>\n\n<p><strong>My attempt for #1:</strong></p>\n\n<pre><code>SELECT a.foo\nFROM   a\nWHERE  a.foo IN (SELECT b.foo\n                 FROM   b\n                 WHERE  b.foo IN (SELECT c.foo\n                                  FROM   c)) \n</code></pre>\n\n<p>For #2, I think I need to do something similar to #1, but for 2 tables at a time {a,b}, {b,c}, {a,c} - and then UNION it? Not sure.</p>\n\n<p>For #3, no clue.</p>\n\n<p><strong>UPDATE: Sample Data</strong></p>\n\n<pre><code>Table1\n - foo-a\n - foo-b\n - foo-c\n\nTable2\n - foo-a\n - foo-b\n\nTable3\n - foo-a\n - foo-c\n - foo-d\n</code></pre>\n\n<p>For #1 question, there is 1 record that exist in all 3 tables: foo-a. For #2 question, there are 2 records that exist in 2 tables: foo-b (in Table1 and Table2) and foo-c (in Table1 and Table3). For #3 question, there is 1 record that exist in only 1 table: foo-d.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3282,"score":0,"question_id":7567362,"title":"android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed","body":"<p>this is the error code:</p>\n\n<pre><code>09-27 11:56:01.425: WARN/System.err(10324): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteStatement.native_execute(Native Method)\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:61)\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1809)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResource.updateItem(CMSResource.java:1103)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdater.updateItems(CMSResourceUpdater.java:178)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdater.loadUpdates(CMSResourceUpdater.java:102)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdaterRunnable.run(CMSResourceUpdaterRunnable.java:32)\n09-27 11:56:01.435: WARN/System.err(10324):     at java.lang.Thread.run(Thread.java:1019)\n</code></pre>\n\n<p>and this is the method that is used</p>\n\n<pre><code>this.db.execSQL(\"INSERT INTO itemGalleryItems (id, imageCaption, imageUrl,itemID,orderIndex,displayInGallery) VALUES (?,?,?,?,?,?); \",\n                        bindArgs);\n</code></pre>\n\n<p>the binArgs looks like:</p>\n\n<pre><code>String[] bindArgs = {\n        (String) imageItem.get(\"id\"),\n        (String) imageItem.get(\"imageCaption\"),\n        (String) imageItem.get(\"imageName\"),\n        (String) item.get(\"id\"),\n        (String) imageItem.get(\"orderIndex\"),\n        (String) imageItem.get(\"displayInGallery\")};\n</code></pre>\n\n<p>hope someone can help</p>\n\n<p>thanx\nnewone</p>\n"},{"tags":["c","database","software-engineering","file-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":62,"score":2,"question_id":13176412,"title":"Which database is most easy to use with C language?","body":"<p>I have a project to be made on \"college counseling and admission\" in C language and I'm confused whether to choose a database or the file management system in C for the data.\nAs I have no prior knowledge of connecting C with any of the databases around and also because I find the file handling in C some what difficult.</p>\n\n<p>What would you recommend?</p>\n"},{"tags":["sql-server","database","sql-server-2005"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13174627,"title":"Searching some text from SQL-Server DB","body":"<p>This Query can search any string value (table name, table data etc) from all the tables/views of any SQL-Server DB, when you will place any string at \"<strong>your text here</strong>\" it will search your given string from all the tables/views exist in that DB,    </p>\n\n<pre><code>DECLARE @SearchStr nvarchar(100) \n    SET @SearchStr = 'your text here'\n\nDECLARE @Results TABLE(ColumnName nvarchar(370), ColumnValue nvarchar(3630))\n\nSET NOCOUNT ON\n\nDECLARE @TableName nvarchar(256), @ColumnName nvarchar(128), @SearchStr2 nvarchar(110)\nSET  @TableName = ''\nSET @SearchStr2 = QUOTENAME('%' + @SearchStr + '%','''')\n\nWHILE @TableName IS NOT NULL\nBEGIN\n    SET @ColumnName = ''\n    SET @TableName = \n    (\n        SELECT MIN(QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME))\n        FROM    INFORMATION_SCHEMA.TABLES\n        WHERE       TABLE_TYPE = 'BASE TABLE'\n            AND QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) &gt; @TableName\n            AND OBJECTPROPERTY(\n                    OBJECT_ID(\n                        QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)\n                         ), 'IsMSShipped'\n                           ) = 0\n    )\n\n    WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL)\n    BEGIN\n        SET @ColumnName =\n        (\n            SELECT MIN(QUOTENAME(COLUMN_NAME))\n            FROM    INFORMATION_SCHEMA.COLUMNS\n            WHERE       TABLE_SCHEMA    = PARSENAME(@TableName, 2)\n                AND TABLE_NAME  = PARSENAME(@TableName, 1)\n                AND DATA_TYPE IN ('char', 'varchar', 'nchar', 'nvarchar')\n                AND QUOTENAME(COLUMN_NAME) &gt; @ColumnName\n        )\n\n        IF @ColumnName IS NOT NULL\n        BEGIN\n            INSERT INTO @Results\n            EXEC\n            (\n                'SELECT ''' + @TableName + '.' + @ColumnName + ''', LEFT(' + @ColumnName + ', 3630) \n                FROM ' + @TableName + ' (NOLOCK) ' +\n                ' WHERE ' + @ColumnName + ' LIKE ' + @SearchStr2\n            )\n        END\n    END \nEND\n\nSELECT ColumnName, ColumnValue FROM @Results\n</code></pre>\n\n<p><strong>But i like to search</strong> given string in the <code>procedures/functions/triggers</code> as well is there any query exist for SQL server 2005. As this query does not search in these areas.</p>\n"},{"tags":["database","er"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3,"score":0,"question_id":13176385,"title":"Database design for dynamic drop down","body":"<p>I need to design a table structure to dynamically fetch the data for populating select fields using AJAX. I have main columns like ProductID, StateCode, Field Name, Field Value and Field Display. So when I want to populate a field I will fetch the records using the columns ProductID, StateCode, Field Name. </p>\n\n<p>But now I have to enhance the current table design to support additional conditions if there is any for some Field Name. But the additional conditions might change for each field. So I cannot create columns for each additional conditional field. Please suggest a good design to accomodate this in single table.</p>\n"},{"tags":["php","database","loops","mysqli"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13175892,"title":"how to loop a html content inside a php script","body":"<p>I'm trying to loop this code, so that when the while statement on the php code start the database output will have an individual <code>&lt;li&gt;</code> per output</p>\n\n<pre><code>    &lt;li class=\"bar&lt;?php echo $id; ?&gt;\"&gt;\n    &lt;div align=\"left\" class=\"post_box\"&gt;\n    &lt;span style=\"padding:10px\"&gt;&lt;?php echo $msg; ?&gt; &lt;/span&gt;\n    &lt;span class=\"delete_button\"&gt;&lt;a href=\"#\" id=\"&lt;?php echo $id; ?&gt;\" class=\"delete_update\"&gt;X&lt;/a&gt;&lt;/span&gt;\n    &lt;span class='feed_link'&gt;&lt;a href=\"#\" class=\"comment\" id=\"&lt;?php echo $id; ?&gt;\"&gt;comment&lt;/a&gt;&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div id='expand_box'&gt;\n    &lt;div id='expand_url'&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"fullbox\" class=\"fullbox&lt;?php echo $id; ?&gt;\"&gt;\n    &lt;div id=\"commentload&lt;?php echo $id; ?&gt;\" &gt;\n    &lt;/li&gt;\n</code></pre>\n\n<p>this is my php code</p>\n\n<pre><code>    &lt;/div&gt;\n    &lt;div class=\"comment_box\" id=\"c&lt;?php echo $id; ?&gt;\"&gt;\n    &lt;form method=\"post\" action=\"\" name=\"&lt;?php echo $id; ?&gt;\"&gt;\n    &lt;textarea class=\"text_area\" name=\"comment_value\" id=\"textarea&lt;?php echo $id; ?&gt;\"&gt;\n    &lt;/textarea&gt;&lt;br /&gt;\n    &lt;input type=\"submit\" value=\" Comment \" class=\"comment_submit\" id=\"&lt;?php echo $id; ?&gt;\"/&gt;\n    &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;?php\nif($_POST['submit'] == \"submit\"){\n   $username=\"xxx_admin\";\n   $password=\"xxx\";\n   $database=\"xxx_database\";\n\n//connect to mysql server\n                $mysqli = new mysqli(\"localhost\", $username, $password, $database);\n\n                                        //check if any connection error was encountered\n                                        if(mysqli_connect_errno()) {\n                                            printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n                                            exit;\n                                        }   \n   $client_id = $_POST['client_id'];\n   echo $client_id;\n  $query=\"select * from messages where client_id='$client_id'\";\n  $result = $mysqli-&gt;query( $query );\n  $row = $result-&gt;fetch_assoc();\n                                        while ($row = $result-&gt;fetch_object())\n                                        {\n                                                // set up a row for each record\n                                                echo \"&lt;li&gt;\";\n                                                $mes = $row-&gt;message;\n                                                $mes = nl2br($mes);\n\n                                                $msg =\"{$mes} &lt;br&gt; . {$row-&gt;date_post;}\";\n\n?&gt;\n&lt;li class=\"bar&lt;?php echo $id; ?&gt;\"&gt;\n&lt;div align=\"left\" class=\"post_box\"&gt;\n&lt;span style=\"padding:10px\"&gt;&lt;?php echo $msg; ?&gt; &lt;/span&gt;\n&lt;span class=\"delete_button\"&gt;&lt;a href=\"#\" id=\"&lt;?php echo $id; ?&gt;\" class=\"delete_update\"&gt;X&lt;/a&gt;&lt;/span&gt;\n&lt;span class='feed_link'&gt;&lt;a href=\"#\" class=\"comment\" id=\"&lt;?php echo $id; ?&gt;\"&gt;comment&lt;/a&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div id='expand_box'&gt;\n&lt;div id='expand_url'&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"fullbox\" class=\"fullbox&lt;?php echo $id; ?&gt;\"&gt;\n&lt;div id=\"commentload&lt;?php echo $id; ?&gt;\" &gt;\n\n&lt;/div&gt;\n&lt;div class=\"comment_box\" id=\"c&lt;?php echo $id; ?&gt;\"&gt;\n&lt;form method=\"post\" action=\"\" name=\"&lt;?php echo $id; ?&gt;\"&gt;\n&lt;textarea class=\"text_area\" name=\"comment_value\" id=\"textarea&lt;?php echo $id; ?&gt;\"&gt;\n&lt;/textarea&gt;&lt;br /&gt;\n&lt;input type=\"submit\" value=\" Comment \" class=\"comment_submit\" id=\"&lt;?php echo $id; ?&gt;\"/&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/li&gt;\n&lt;?php                                   }\n\n     $mysqli-&gt;close();\n}\n?&gt;\n</code></pre>\n\n<p>I'm trying to loop the html code because it will be put inside an <code>&lt;ol&gt;&lt;/ol&gt;</code></p>\n\n<p>all rows in the database should have an individual <code>&lt;li&gt;&lt;/li&gt;</code></p>\n"},{"tags":["asp.net-mvc","database","razor","syntax"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13174952,"title":"Display razor from database","body":"<p>I am trying to display content such as </p>\n\n<pre><code>&lt;p&gt;Text and link - @Html.ActionLink(\"Link\", \"Action\")&lt;/p&gt;\n</code></pre>\n\n<p>from a database, but if I use <code>@Html.Raw</code> then it doesn't render the link.</p>\n\n<p>Is there anyway to do this?</p>\n"},{"tags":["php","database","wordpress","export-to-excel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13175348,"title":"How do I extract from WordPress database to MS Excel?","body":"<p>I am trying to add data into excel file which is extracted from wordpress database, Actually I am trying to export data (tags) from database into excel file. And I write down a code, but when I click on generate button. This generates empty file.</p>\n\n<p>Please guys check what I am doing wrong.</p>\n\n<p><strong>Codes are below:</strong></p>\n\n<pre><code>if (check_admin_referer('tag-export')) \n{\n    $blogname = str_replace(\" \", \"\", get_option('blogname'));\n    $date = date(\"m-d-Y\");\n    $xls_file_name = $blogname.\"-exported-tags-\".$date;\n\n    $tags = get_terms( 'post_tag' , 'hide_empty=0' );\n    $count = count($tags);\n\n    if ( $count &gt; 0 )\n    {\n        echo 'name' . \"\\t\" . 'slug' . \"\\n\";\n\n        foreach ( $tags as $tag ) \n        {\n            echo $tag-&gt;name . \"\\t\" . $tag-&gt;slug . \"\\n\";\n        }\n    }\n\n    ob_clean();\n    echo $xls_file;\n\n    header( \"Content-Type: application/vnd.ms-excel\" );\n    header( \"Content-disposition: attachment; filename=$xls_file_name.xls\" );\n    exit();\n}\n</code></pre>\n\n<p>The above codes are not writing data into excel file. please check and let me know.</p>\n"},{"tags":["database","oracle","plsql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13175194,"title":"Oracle right join 3 tables but only has to match 1","body":"<p>I'm not sure if the title is relevant to the question, bu i didn't found a better one.\nHere's the problem - I have 4 table, let's say:</p>\n\n<p>products (id, product_name),<br>\npriceA(product_id, price),<br>\npriceB(product_id, price),<br>\npriceC (product_id, price). </p>\n\n<p>What i need to do is write a select that will show me only products that have prices in priceA OR priceB OR priceC OR in any combination of a,b,c</p>\n\n<p>How could I do this ? Thank you!</p>\n"},{"tags":["php","javascript","mysql","database","html5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13175113,"title":"Reservation System And Store Implementation On Website, In One Week","body":"<p>My client wants me to implement a store and reservation system on his website, I don't know any php or mySQL, still he requires these things in 1 week. Is there way of coding this quickly? (preferably not a 3rd party app)</p>\n\n<p>I don't have time to learn these languages. Is there a fast language that can be learned and applied here?</p>\n\n<p>I will research further, to see if this can be done in html5, please let me know how you would do this!</p>\n\n<p>Cheers!</p>\n\n<p>Mithos</p>\n"},{"tags":["database","associations","primary-key","composite-primary-key"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13172955,"title":"Primary key in an association table","body":"<p>Let' s say there is a small database with tables <code>Person(ID, Name)</code> and <code>Product(ID, Name, Color)</code>. ID column is obviously the Primary key of each table. I want as usual to add an association Many-to-Many table <code>Order(PersonID, ProductID, Date)</code>. I have had the impression that the Primary Key of table Order is the combination <code>(PersonID, ProductID)</code>. However in some aproaches the combination <code>(PersonID, ProductID, Date)</code> is recommended as the Primary Key. What is the diference? I think that even if <code>(PersonID, ProductID)</code> is the Primary Key, to each combination <code>(PersonID, ProductID)</code> corresponds only one Date. If the later is true when should one include the Date to the Primary Key?  </p>\n"},{"tags":["php","database","loops","mysqli","output"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13174384,"title":"display all data in a row, if the user input is similar to a value","body":"<p>what am i doing wrong here! i want to display all data that is associated with a specific client id</p>\n\n<p>EX user inputs \"2\"</p>\n\n<p>all rows that has client_id \"2\" will be displayed</p>\n\n<pre><code>&lt;?php\n\nif($_POST['submit'] == \"submit\"){\n   $username=\"xxx_admin\";\n   $password=\"xxx\";\n   $database=\"xxx_database\";\n\n//connect to mysql server\n                $mysqli = new mysqli(\"localhost\", $username, $password, $database);\n\n                                        //check if any connection error was encountered\n                                        if(mysqli_connect_errno()) {\n                                            printf(\"Connect failed: %s\\n\", mysqli_connect_error());\n                                            exit;\n                                        }   \n   $client_id = $_POST['client_id'];\n   echo $client_id;\n  $query = \"select * from messages where client_id='$client_id'\";\n  $result = mysqli_query($query);\n  $class_p = \"timeling\";\n  $clid_p = \"oldupdate\";\n  echo \"&lt;ol id=\".$clid_p.\" class=\".$class_p.\"&gt;\";echo $row-&gt;message;\n                                        while ($row = $result-&gt;fetch_object())\n                                        {\n                                                // set up a row for each record\n                                                echo \"&lt;li&gt;\";\n                                                echo $row-&gt;message;\n                                                echo \"&lt;br&gt;\" . $row-&gt;date_post;\n                                                echo \"&lt;/li&gt;\";\n                                        }\n\n    echo \"&lt;/ol&gt;\";\n\n     $mysqli-&gt;close();\n}\n?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;style type=\"text/css\"&gt;\nbody\n{\nfont-family:Arial, Helvetica, sans-serif;\nfont-size:14px;\n}\n.update_box\n{\nbackground-color:#D3E7F5; border-bottom:#ffffff solid 1px; padding-top:3px\n}\na\n    {\n    text-decoration:none;\n    color:#d02b55;\n    }\n    a:hover\n    {\n    text-decoration:underline;\n    color:#d02b55;\n    }\n    *{margin:0;padding:0;}\n\n\n    ol.timeline\n    {list-style:none;font-size:1.2em;}ol.timeline li{ display:none;position:relative; }ol.timeline li:first-child{border-top:1px dashed #006699;}\n    .delete_button\n    {\n    float:right; margin-right:10px; width:20px; height:20px\n    }\n\n    .cdelete_button\n    {\n    float:right; margin-right:10px; width:20px; height:20px\n    }\n\n    .feed_link\n    {\n    font-style:inherit; font-family:Georgia; font-size:13px;padding:10px; float:left; width:350px\n    }\n    .comment\n    {\n    color:#0000CC; text-decoration:underline\n    }\n    .delete_update\n    {\n    font-weight:bold;\n\n    }\n    .cdelete_update\n    {\n    font-weight:bold;\n\n    }\n    .post_box\n    {\n    border-bottom:1px dashed #006699;background-color:#F3F3F3;  width:499px;padding:.7em 0 2em 0;line-height:1.1em;\n\n    }\n    #fullbox\n    {\n    margin-top:6px;margin-bottom:6px; display:none;\n    }\n    .comment_box\n    {\n        display:none;margin-left:90px; padding:10px; background-color:#d3e7f5; width:300px;  height:50px;\n\n    }\n    .comment_load\n    {\n      margin-left:90px; padding:10px; background-color:#d3e7f5; width:300px; height:30px; font-size:15px; border-bottom:solid 1px #FFFFFF;\n\n    }\n    .text_area\n    {\n    width:290px;\n    font-size:12px;\n    height:30px;\n\n    }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=\"center\"&gt;\n&lt;form method=\"post\" action=\"\"&gt;\n\nSearch:&lt;/br&gt;\n&lt;p&gt;client id: &lt;input type=\"text\" name=\"client_id\"/&gt; &lt;/p&gt;&lt;/br&gt;\n\n&lt;input type=\"submit\" name=\"submit\" value=\"submit\"/&gt;\n\n&lt;/form&gt;\n\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>this is all that I'm getting when i input a value and click submit</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n2\n&lt;ol id=\"oldupdate\" class=\"timeling\"&gt;\n&lt;/ol&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["mysql","database","oracle","query","select"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13174298,"title":"oracle select statement reuse?","body":"<p>This is an extract sql that gets days</p>\n\n<pre><code>AND S.Date          IN\n\n  (\n    SELECT Date\n    FROM\n      (\n      SELECT Date,\n        ROW_NUMBER() OVER (ORDER BY Date DESC )-1 Day\n      FROM CALENDAR_DIM\n      WHERE TYPE               = 'ABC'\n      )\n    WHERE BUS_DAY BETWEEN 0 AND 2\n  )\n</code></pre>\n\n<p>I want to run this code twice in two parts of my sql. How can i do that without pasting the same code. Also .. how could i rewrite the above code?. I am having some issues with performance. </p>\n"},{"tags":["mysql","sql","database","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13173602,"title":"In SQL, how to retrieve information from relational database schema?","body":"<p>I have a relational database schema looks like:\n<img src=\"http://i.stack.imgur.com/nSLKY.png\" alt=\"enter image description here\"></p>\n\n<p>The question is to 'find details of customers who bought products in 2009 and the products were manufactured by Honeywell in 1968'.</p>\n\n<p>What I've done so far is:</p>\n\n<pre><code>SELECT * FROM Customer\nWHERE CID IN\n    (SELECT Customer_ID FROM Order\n     WHERE Purchase_Date = 2009 \n     AND EXISTS\n        (SELECT * FROM Order_Items, Product, Manufacturer\n         WHERE OID = OID AND Product_ID = PID AND MID = Manufacturer_ID AND\n         Mnufacturer_Name = \"Honeywell\" AND Manufacturerd_Date = 1968));\n</code></pre>\n\n<p>I've been studying database for only about a month, so I guess it would look so complicate to expert people here.. Did I do this correctly ? Otherwise, please give any feedback where to fix..</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13150042,"title":"Database design menu planner application","body":"<p>My first database ever so I kind of need some help :D</p>\n\n<p><img src=\"http://i.stack.imgur.com/YYqUS.png\" alt=\"MenuPlannerDatabase\"></p>\n\n<p>Before I will ask questions let me try to explain about the application and the database flow. </p>\n\n<p>The application will be a menu planner where you will start with a weekly calendar (planner), you can add dishes manually to the days, or you can push the recommendation button and a recommendation of previous made dish, healthy dish, and your favorite categories/cuisine will be given and you can select from them.   There are two dish sections, one (dish) that has pre insert dish(recipes) and one (mydish) that where you can add your own dish and bookmark dish from the pre insert dish. </p>\n\n<p>People have to log into their account and create a member profile. From the dish section they choose the dish that they can make and those will be saved in the my_dish section. </p>\n\n<p>Some questions\n1. Is the current database alright or am I missing stuff?\n2. dates. I want users to be able to check the history (and also for the recommendation function) of their made dishes (the one that they added into the weekly calendar planner). Where should I add that information. should I make an extra table for that? Not really sure how to do this.</p>\n\n<p>I might come up with more questions, but am looking forward to seeing your thoughts and ideas. </p>\n"},{"tags":["database","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13172793,"title":"SQLite database as text file?","body":"<p>I was thinking of storing SQLite database file in version control (git), also i want to see the diff of the database file between different versions.</p>\n\n<p>Can we configure SQLite to store it's data in a readable text format(Given i do not store any binary data in the db)? So that i do not have to dump the data to a text file to see the difference. Say for example a CSV format. </p>\n\n<p>Is it possible? </p>\n"},{"tags":["sql-server","database","sqlite","synchronization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":11619945,"title":"Microsoft Sync Framework Toolkit non MS synchronization","body":"<p>I am thinking about using the MS Sync Framework Toolkit to sync mobile database subsets of data to the cloud.  I will be using Android and iOS, and I only need to sync their individual local copies of the SQLite DB to the cloud.</p>\n\n<p>How well does MS Sync Framework handle filtering and data subsets, and how well does it run on non-windows based platforms, mainly Java/Android and iOS?  The mobile environments use SQLLite and the cloud is Microsoft based.  Thanks for the insight.</p>\n"},{"tags":["c#",".net","database"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":43,"score":2,"question_id":13172859,"title":"C# Database Options","body":"<p>I am working on learning c# better and have never stored data before. I am writing an application that will grab information from the web and I need to store it so the application can use it again at a later time. I am familiar with mysql, like its feature set, but feel that having the end user install an sql server might be a little much. Im not to the point of learning the xml aspects associated with c#. If possible, I am looking for a file based sql type solution as that would minimize the learning curve in that area leaving me room to focus on the language, however I am open to any suggestions. Google has helped a bit but it doesn't know c# as well as you guys do.</p>\n\n<p>Edit: I'm expecting up to 1k records in 4 different tables.</p>\n"},{"tags":["php","sql","database","loops","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13172734,"title":"SQL Query Not Working In Loop","body":"<p>I have a script that extracts several rows of data from an external file, I then need to upload each of these rows to a database. I put a query inside my loop but it does nothing. even with error reporting turned on I get nothing. I check the database but nothing is being uploaded. </p>\n\n<p>What is the correct way to do this?\nThanks in advance!</p>\n\n<p>My Code:</p>\n\n<pre><code>$size = $_FILES['file']['size'];\n$filename = $_FILES['file']['tmp_name']; \n$max_filesize = 100000;\n  if($size &gt; $max_filesize) //check file size\n  die('File is too large');\n\nif(file_exists($filename)){\n$fp = fopen($filename, \"r\");\n$str = fread($fp, filesize($filename)); //file text stored in variable\n$br = \"\\n\";          //search for new row\n$rows = substr_count($str,$br);  //number of rows\necho \"Rows: \". $rows.\"&lt;br /&gt;\"; \n$row = explode( \"\\n\",$str);\n\n $x=0;\nwhile($x&lt;=$rows)\n  {\n  $field = $row[$x]; \n  $exp = explode(\"|\",$field); \n\n    $case_number = $exp[1];\n    $unknown1 = $exp[2];\n    $chapter = $exp[3];\n    $filed = $exp[8];\n    //tons more variables, removed for readability\n\n   $addrow = mysql_query(\"INSERT INTO records (case_number, wild1, chapter, filed) VALUES('\".$case_number.\"', '\".$unknown1.\"', '\".$chapter.\"', '\".$filed.\"')\");\n    if($addrow)  \n    {  \n    echo \"&lt;p style=\\\"font-weight:bold\\\"&gt;Row \".$x.\" uploaded&lt;/p&gt;\";   \n    }else{\ndie(mysql_error());\n}  \n\n  $x++;\n  }\nfclose($fp); \n }\n</code></pre>\n"},{"tags":["java","android","database","sqlite","exception"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":49,"score":-2,"question_id":13172685,"title":"How to open SQLite DB in java class","body":"<p>I am calling db in java class from activity(android).Is it possible to call like this from activity to java class.Am using this for server communication android.I got data from server but i cant able to insert into DB. </p>\n\n<p>I called like that am getting exception could any one help me, Thanks in advance.</p>\n\n<pre><code>11-01 06:52:03.596: W/System.err(673): java.lang.NullPointerException\n11-01 06:52:03.603: W/System.err(673):  at com.commiunication.ServerConnection.Insert(ServerConnection.java:32)\n11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.serverconnection(MainActivity.java:138)\n11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.onCreate(MainActivity.java:46)\n11-01 06:52:03.633: W/System.err(673):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n11-01 06:52:03.633: W/System.err(673):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-01 06:52:03.633: W/System.err(673):  at android.os.Looper.loop(Looper.java:123)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n11-01 06:52:03.633: W/System.err(673):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-01 06:52:03.655: W/System.err(673):  at java.lang.reflect.Method.invoke(Method.java:521)\n11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n11-01 06:52:03.655: W/System.err(673):  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong>androidactivity.java</strong></p>\n\n<pre><code>ServerConnection server=new ServerConnection();\ntry {\n\nserver.Insert(ReturnValue);\nsampleDB =    this.openOrCreateDatabase(SAMPLE_DB_NAME,MODE_PRIVATE,null);\n} catch (JSONException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n</code></pre>\n\n<p><strong>serverConnection.java</strong></p>\n\n<pre><code>public  void Insert(String ReturnValue) throws JSONException{\nJSONObject CDGSGJson=new JSONObject(ReturnValue);           \nJSONArray idarr = CDGSGJson.getJSONArray(\"MeasureArr\"); \nSystem.out.println(\"\"+idarr.length());  \nsampleDB= openOrCreateDatabase(SAMPLE_DB_NAME,     SQLiteDatabase.OPEN_READWRITE, null);\nSystem.out.println(\"\"+idarr.length());  \n//Toast.makeText(this, \"Group Details Downloading\", Toast.LENGTH_SHORT).show();\ntry {   \nsampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" + table_name + \" \"\n+ \"( id INTEGER PRIMARY KEY AUTOINCREMENT,\" + \" measure TEXT NOT NULL ); \");       \nif(idarr.length()&gt;0){\n\nfor(int cc=0;cc&lt;idarr.length();cc++){               \nJSONObject CatObj = idarr.getJSONObject(cc);\nString id_get=CatObj.getString(\"id\");   \nString measure_get=CatObj.getString(\"measure\"); \n\nsampleDB.execSQL(\"INSERT OR REPLACE INTO \" + table_name+ \" Values      \n                                                ('\"+id_get+\"','\"+measure_get+\"');\");\n\n            }}\n\n    } catch (Exception e) {\n        // TODO: handle exception\n         e.printStackTrace();\n        // System.out.print(e.printStackTrace());\n    }\n</code></pre>\n"},{"tags":["asp.net","database","security","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13172185,"title":"Should I store (password with salt) in the database or hashed password and salt as two different fields in the database?","body":"<p>I would like to ask if this hashing technique is good enough for asp.net?</p>\n\n<p>I plan to save the hashed password in a single field called 'password' and then hash the user input password on the login page and see if it matches</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public const int SALT_BYTES = 24;\n    public const int HASH_BYTES = 24;\n    public const int PBKDF2_ITERATIONS = 1000;\n\n    public const int ITERATION_INDEX = 0;\n    public const int SALT_INDEX = 1;\n    public const int PBKDF2_INDEX = 2;\n\n    /// &lt;summary&gt;\n    /// Creates a salted PBKDF2 hash of the password.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"password\"&gt;The password to hash.&lt;/param&gt;\n    /// &lt;returns&gt;The hash of the password.&lt;/returns&gt;\n    public static string CreateHash(string password)\n    {\n        // Generate a random salt\n        RNGCryptoServiceProvider csprng = new RNGCryptoServiceProvider();\n        byte[] salt = new byte[SALT_BYTES];\n        csprng.GetBytes(salt);\n\n        // Hash the password and encode the parameters\n        byte[] hash = PBKDF2(password, salt, PBKDF2_ITERATIONS, HASH_BYTES);\n        return PBKDF2_ITERATIONS + \":\" +\n           Convert.ToBase64String(salt) + \":\" +\n           Convert.ToBase64String(hash);\n    }\n\n    /// &lt;summary&gt;\n    /// Validates a password given a hash of the correct one.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"password\"&gt;The password to check.&lt;/param&gt;\n    /// &lt;param name=\"goodHash\"&gt;A hash of the correct password.&lt;/param&gt;\n    /// &lt;returns&gt;True if the password is correct. False otherwise.&lt;/returns&gt;\n    public static bool ValidatePassword(string password, string goodHash)\n    {\n        // Extract the parameters from the hash\n        char[] delimiter = { ':' };\n        string[] split = goodHash.Split(delimiter);\n        int iterations = Int32.Parse(split[ITERATION_INDEX]);\n        byte[] salt = Convert.FromBase64String(split[SALT_INDEX]);\n        byte[] hash = Convert.FromBase64String(split[PBKDF2_INDEX]);\n\n        byte[] testHash = PBKDF2(password, salt, iterations, hash.Length);\n        return SlowEquals(hash, testHash);\n    }\n\n    /// &lt;summary&gt;\n    /// Compares two byte arrays in length-constant time. This comparison\n    /// method is used so that password hashes cannot be extracted from \n    /// on-line systems using a timing attack and then attacked off-line.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"a\"&gt;The first byte array.&lt;/param&gt;\n    /// &lt;param name=\"b\"&gt;The second byte array.&lt;/param&gt;\n    /// &lt;returns&gt;True if both byte arrays are equal. False otherwise.&lt;/returns&gt;\n    private static bool SlowEquals(byte[] a, byte[] b)\n    {\n        uint diff = (uint)a.Length ^ (uint)b.Length;\n        for (int i = 0; i &lt; a.Length &amp;&amp; i &lt; b.Length; i++)\n            diff |= (uint)(a[i] ^ b[i]);\n        return diff == 0;\n    }\n\n    /// &lt;summary&gt;\n    /// Computes the PBKDF2-SHA1 hash of a password.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"password\"&gt;The password to hash.&lt;/param&gt;\n    /// &lt;param name=\"salt\"&gt;The salt.&lt;/param&gt;\n    /// &lt;param name=\"iterations\"&gt;The PBKDF2 iteration count.&lt;/param&gt;\n    /// &lt;param name=\"outputBytes\"&gt;The length of the hash to generate, in bytes.&lt;/param&gt;\n    /// &lt;returns&gt;A hash of the password.&lt;/returns&gt;\n    private static byte[] PBKDF2(string password, byte[] salt, int iterations, int outputBytes)\n    {\n        Rfc2898DeriveBytes pbkdf2 = new Rfc2898DeriveBytes(password, salt);\n\n        pbkdf2.IterationCount = iterations;\n        return pbkdf2.GetBytes(outputBytes);\n    }\n</code></pre>\n\n<p>If there are ways I can I improve this it would be awesome if you could point out certain codes that I could replace.</p>\n\n<p>The code is from: <a href=\"http://crackstation.net/hashing-security.htm#aspsourcecode\" rel=\"nofollow\">http://crackstation.net/hashing-security.htm#aspsourcecode</a></p>\n\n<p>Sir/Ma'am Thank you++ :D</p>\n"},{"tags":["database","data","huge","store-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13171060,"title":"I intend to store high volumes of data","body":"<p>I intend to store high volumes of data. This data includes information about the news such as text of news, topic of news, source of news and ...\nSeveral Thousands news are added(inserted) daily to the database,  The news are usually read-only and not change. But the number of queries done on it is enormous.\nI am having difficulty in choosing the appropriate database. in your opinion, what is the best database for the job?</p>\n\n<p>update : One of the basic needs in this project is that we need to search the specific word(s) in the field text of news.</p>\n"},{"tags":["php","mysql","database","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13162453,"title":"get specific array data from json with php / mysql","body":"<p>i have a field in my database that is encoded in json. i think. (part of a joomla/zoo installation).\ni need to retrieve a specific value from it (primary_category).</p>\n\n<p>i have enclosed the following code in my template that displays the data </p>\n\n<pre><code>   $database = &amp;JFactory::getDBO();\n$sql = \"SELECT params FROM #__zoo_item\";\n    $database-&gt;setQuery( $sql );\n$row=$database-&gt;loadResult();\n$row = json_decode($row, TRUE);\nprint_r($row);\n</code></pre>\n\n<p>that returns the below... </p>\n\n<pre><code>Array ( [metadata.title] =&gt; [metadata.description] =&gt; [metadata.keywords] =&gt; [metadata.robots] =&gt; [metadata.author] =&gt; [config.enable_comments] =&gt; 1 [config.primary_category] =&gt; 601 ) \n</code></pre>\n\n<p>what i need to do is just grab the 601 value. i have tried $row[config.primary_category] and $row[6] but neither work. </p>\n\n<p>i am not sure (since i really dont know what i am doing) if i did the json decode wrong or if its a problem with the way i am accessing the array.</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13170561,"title":"PHP how to check if a returned row contains duplicate values?","body":"<pre><code>&lt;?php\ninclude('includes/connection.php');\n\n$query = 'select a, c from b';\n$result = mysql_query($query, $con);\n$num_rows = mysql_num_rows($result);\n\nif ($num_rows &gt; 0)\n{\n    echo '&lt;p&gt;';\n    while($row = mysql_fetch_array($result))\n    {\n         echo \"{$row[\"a\"]}\";\n    }\n    echo '&lt;/p&gt;';\n}\n?&gt;\n</code></pre>\n\n<p>Table \"b\" has these values in column \"a\"</p>\n\n<pre><code>Table b\n-------\na     c\n-     -\n1     a\n1     a1\n1     a2\n2     a\n3     b\n4     b\n</code></pre>\n\n<p>I would like to be able to in my while loop determine if the returned row is a duplicate and discard it. I only want the number 1 in this case to show up once. How can I go about doing this?</p>\n"},{"tags":["mysql","sql","database","mysql-workbench"],"answer_count":5,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":11252,"score":9,"question_id":4930733,"title":"How to generate the whole database script in MySQL Workbench?","body":"<p>I want to take the whole database. Where do I find the database file?</p>\n\n<p>And is there a way to write the whole database with all data to a text file (like the one in SQL Server)?</p>\n"},{"tags":["database","visual-studio","publish","firewall"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13170549,"title":"Visual studio 2012 publish database project to sql instance on a separate server fails when firewall is turned on","body":"<p>Computer A has visual studio 2012 with a sql database project. \nComputer B has windows server 2008 r2 and sql server 2008 r2.\nI am trying to publish the database project from visual studio to the sql instance.\nWith the windows firewall turned off on Computer B, everything works; with the firewall on it fails. The error message is \"The server was not found or was not accessible. Verify that the instance name is correct and that sql server is configured to allow remote connections (provider: Named Pipes Provider, error: 40 - Could not open a connection to Sql Server\". </p>\n\n<p>I have tried creating rules for incoming ports for udp and tcp for both 1433 and 1434. I have also added the program sqlservr.exe. Each exception/rule was applied to domain. private, and public. I don't know what else I need to do to allow visual studio to publish the database to the sql instance with the firewall on. </p>\n\n<p>Thank you for any help!</p>\n"},{"tags":["sql","database","ms-access-2010"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13170290,"title":"streamlining queries","body":"<p>I have a db now has grouping and filtering queries that feed into aggregate queries that feed into more grouping and filtering queries and it's starting to bog down.</p>\n\n<p>Whats the best way to start streamlining this for reporting and maintenance?</p>\n"},{"tags":["php","database","wordpress"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":13170147,"title":"how can i add same values in 2 different tables","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13169276/unable-to-insert-data-into-multiple-wordpress-tables\">Unable to insert data into multiple wordpress tables</a>  </p>\n</blockquote>\n\n\n\n<p><img src=\"http://i.stack.imgur.com/BdYIb.png\" alt=\"enter image description here\"></p>\n\n<p>According to the above diagram I have 2 tables and each table have 1 common column, but the issue is that I have to add the same values in both columns rows. Although <code>wp_terms.term_id</code> has auto increment in database. But I am not understanding how I copy and use <code>wp_terms.term_id</code> value in <code>wp_term_taxonomy.term_id</code>.</p>\n\n<p>I had tried an sql query which i given below:</p>\n\n<pre><code>// create a tag\n$query = \"INSERT INTO $wpdb-&gt;terms (name, slug) VALUES (%s, %s)\";\n$wpdb-&gt;query($wpdb-&gt;prepare($query, $name, $slug));\n\n// create the relationship \n$query = \"INSERT INTO $wpdb-&gt;term_taxonomy (term_id, taxonomy) VALUES (%d, %s)\";  \n$wpdb-&gt;query($wpdb-&gt;prepare($query, LAST_INSERT_ID, 'post_tag')); \n</code></pre>\n\n<p>But after running this script when I check database through phpmyadmin, i notice that <code>wp_terms</code> table filled correctly but <code>wp_term_taxonomy</code> > <code>term_id</code> column is empty.</p>\n\n<p><strong>And my Actual codes are:</strong></p>\n\n<pre><code>$file_name = $_FILES['tag_import']['name'];\n$file_ext = strtolower(end(explode(\".\", $file_name)));\n$file_size = $_FILES['tag_import']['size'];\n\nif (( $file_ext == \"xls\" ) &amp;&amp; ( $file_size &lt; 500000 )) \n{       \n    $data = new Spreadsheet_Excel_Reader();\n    $data-&gt;setOutputEncoding('CP1251');\n    $data-&gt;read($_FILES['tag_import']['tmp_name']);\n\n    for ($i = 1; $i &lt;= $data-&gt;sheets[0]['numRows']; $i++)\n    {\n        for ($j = 1; $j &lt;= $data-&gt;sheets[0]['numCols']; $j++)\n        {\n            // add the new category \n            $query = \"INSERT INTO $wpdb-&gt;terms (name, slug) VALUES (%s, %s)\";\n            $wpdb-&gt;query($wpdb-&gt;prepare($query, $data-&gt;sheets[0]['cells'][$i][1], $data-&gt;sheets[0]['cells'][$i][2])); \n\n            // create the relationship \n            $query = \"INSERT INTO $wpdb-&gt;term_taxonomy (term_id, taxonomy) VALUES (%d, %s)\";  \n            $wpdb-&gt;query($wpdb-&gt;prepare($query, LAST_INSERT_ID, 'post_tag'));           \n        }\n    }\n    else  \n    {\n        echo \"&lt;div class='error'&gt;&lt;p&gt;Invalid file or file size too big.&lt;/p&gt;&lt;/div&gt;\";\n    }\n}\n</code></pre>\n\n<p>Please guide me how can I do that?</p>\n"},{"tags":["iphone","database","xcode","sqlite","multilingual"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":13169997,"title":"How to use Arabic text on sqlite db?","body":"<p>In my iPhone application, I want to store and retrieve Arabic, Gujrati languages on sqlite db. Most of them I read is to use unicode for storing &amp; getting data from sqlite db. </p>\n\n<pre><code> How could I accomplish this, could any one instruct me with good tutorial.\n</code></pre>\n\n<p>Thank you in Advance</p>\n"},{"tags":["ruby-on-rails","database","command-line","migrate","appfog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13153777,"title":"App Fog Rails Migrate Database","body":"<p>How am I supposed to migrate <em>Rails</em> application database in <strong>App Fog?</strong></p>\n\n<p>For example, on Heroku after the first deployment you have to run:\n</p>\n\n<pre><code>$ heroku run rake db:migrate\n</code></pre>\n\n<p>Is there a similar command or the database is deployed automatically on App Fog?</p>\n\n<p>P.S. I didn't found documentation for this. Does it configure the database automatically by generating the <code>database.yml</code> file like on Heroku?</p>\n"},{"tags":["php","database","wordpress","query","multiple-tables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13169276,"title":"Unable to insert data into multiple wordpress tables","body":"<p>I am creating WordPress tags import/export plugin. but I am having an issue.</p>\n\n<p>As we know Tags are actually occupying <code>wp_terms</code> in the database and as well as <code>wp_term_taxonomy</code>.</p>\n\n<p>So I come up with a plan but its not working.</p>\n\n<p>Please check the following codes and let me know how can I fix the issue. Because I am importing <code>name</code> and <code>slug</code> from excel file and trying to save in <code>wp_terms</code> table as well as trying to save <code>term_id</code> into <code>wp_term_taxonomy</code>.</p>\n\n<pre><code>if (( $file_ext == \"xls\" ) &amp;&amp; ( $file_size &lt; 500000 )) \n{       \n    $data = new Spreadsheet_Excel_Reader();\n    $data-&gt;setOutputEncoding('CP1251');\n    $data-&gt;read($_FILES['tag_import']['tmp_name']);\n\n    for ($i = 1; $i &lt;= $data-&gt;sheets[0]['numRows']; $i++)\n    {\n        for ($j = 1; $j &lt;= $data-&gt;sheets[0]['numCols']; $j++)\n        {\n            // add the new category \n            $query = \"INSERT INTO $wpdb-&gt;terms (name, slug) VALUES (%s, %s)\";\n            $wpdb-&gt;query($wpdb-&gt;prepare($query, $data-&gt;sheets[0]['cells'][$i][0], $data-&gt;sheets[0]['cells'][$i][1])); \n\n            // create the relationship \n            $query = \"INSERT INTO $wpdb-&gt;term_taxonomy (term_id, taxonomy) VALUES (%d, %s)\";  \n            $wpdb-&gt;query($wpdb-&gt;prepare($query, LAST_INSERT_ID, 'post_tag'));           \n        }\n    }\n}\nelse  \n{\n    echo \"&lt;div class='error'&gt;&lt;p&gt;Invalid file or file size too big.&lt;/p&gt;&lt;/div&gt;\";\n}\n</code></pre>\n\n<p>Please check and let me know.</p>\n"},{"tags":["database","r","index","rmysql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12376498,"title":"Is it possible to add index to database table through R(RMySQL)","body":"<p>I have created a table output and connected to database through RMySQL, and now I need to add index to the table, I searched around but didn't found what I need in R language, please help.</p>\n\n<p>A small example of the table would look like this:</p>\n\n<pre><code>mth &lt;- c(rep(1:2,5))  \nday &lt;- c(rep(10,5),rep(11,5))  \nhr &lt;- c(3,4,5,6,7,3,4,5,6,7)  \nv &lt;- c(3,4,5,4,3,3,4,5,4,3)  \nA &lt;- data.frame(cbind(mth,day,hr,v))   \n</code></pre>\n\n<p>The index I need should include: \"mth\" + \"day\" + \"hr\".\nThank you very much!</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":12750,"score":4,"question_id":3760774,"title":"update sql database with ContentValues and the update-method","body":"<p>i would like to update my sql lite database with the native update-method of the SQLiteDatabase class of android.</p>\n\n<pre><code>ContentValues dataToInsert = new ContentValues();                          \ndataToInsert.put(\"name\", \"flo\");\ndataToInsert.put(\"location\", \"flotown\");\nString where = \"id\" + \"=\" + id;\ntry{    \n    db.update(DATABASE_TABLE, dataToInsert, where, null);\n}\ncatch (Exception e){\n    String error =  e.getMessage().toString();\n}\n</code></pre>\n\n<p>but i get following error:\nandroid.database.sqlite.SQLiteException: near \"15\": syntax error: , while compiling: UPDATE mytable SET location=?, name=? WHERE id=2010-09-21 15:05:36.995</p>\n\n<p>I don´t know what should be the problem. Somehow the values do not arrive in the sql statement. I did nearly the same with the insert method and that worked quite fine.</p>\n\n<p>many thx,\nflorian</p>\n"},{"tags":["mysql","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13168329,"title":"MySQL: Nested SQL using IN","body":"<p>I have a SQL that looks like this:</p>\n\n<pre><code>SELECT * FROM foo WHERE foo.bar IN (SELECT foobar.bar FROM foobar)\n</code></pre>\n\n<p>This is not good, right? The nested SELECT will cause things to slow down? How should I query something like this?</p>\n"},{"tags":["database","maps","coordinates","reverse-geocoding","geocode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13169004,"title":"I need to plot every residental house on a map, where to reterive data?","body":"<p>I need to plot each residental house on a map</p>\n\n<p>I want to store each houses address and lat,lon in a database to be used offline.</p>\n\n<p>This database can be created programmatically, or manually but I need data!</p>\n\n<p>Where can I get residental house address and their respective lat,lon coordinates?</p>\n\n<p>I know that I can reverser geocode individual locations, but that will take forever and not be effiecient, and there are API such as zillows API that give housing informtion based on addresses to determine if there is a house at that location.  </p>\n\n<p>I am sure there are no free ones out there (right?) so cost isnt a huge concern, I just need somewhere where I can get this data and store it offline</p>\n"},{"tags":["android","database","sqlite","saxparser","sqliteopenhelper"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":179,"score":0,"question_id":10057287,"title":"Android + sqlite insert speed improvements?","body":"<p>I recently inherited a project where a sqlite db is stored on the users sdcard (tables and columns only, no content).  For the initial install (and subsequent data updates), an XML file is parsed via saxParser storing it's contents to the db columns like so:</p>\n\n<p><strong>saxParser:</strong></p>\n\n<pre><code>    @Override\n    public void endElement(String uri, String localName, String qName) throws SAXException {\n            currentElement = false;\n\n            if (localName.equals(\"StoreID\")) {\n                buffer.toString().trim();\n                storeDetails.setStoreId(buffer.toString());\n            } else if (localName.equals(\"StoreName\")) {\n                buffer.toString().trim();\n                storeDetails.setStoreName(buffer.toString());\n            ...\n\n            } else if (localName.equals(\"StoreDescription\")) {\n              buffer.toString().trim();\n              storeDetails.setStoreDescription(buffer.toString());\n              // when the final column is checked, call custom db helper method\n              dBHelper.addtoStoreDetail(storeDetails);\n            }\n\n            buffer = new StringBuffer();\n    }           \n\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (currentElement) {\n            buffer.append(ch, start, length);\n        }\n    }\n</code></pre>\n\n<p><strong>DatabaseHelper:</strong></p>\n\n<pre><code>    // add to StoreDetails table\n    public void addtoStoreDetail(StoreDetails storeDetails) {\n        SQLiteDatabase database = null;\n        InsertHelper ih = null;\n        try {\n            database = getWritableDatabase();\n            ih = new InsertHelper(database, \"StoreDetails\");\n\n            // Get the numeric indexes for each of the columns that we're updating\n            final int idColumn = ih.getColumnIndex(\"_id\");\n            final int nameColumn = ih.getColumnIndex(\"StoreName\");\n            ...\n            final int descColumn = ih.getColumnIndex(\"StoreDescription\");\n\n            // Add the data for each column\n            ih.bind(idColumn, storeDetails.getStoreId());\n            ih.bind(nameColumn, storeDetails.getStoreName());\n            ...\n            ih.bind(descColumn, storeDetails.getStoreDescription());\n\n            // Insert the row into the database.\n            ih.execute();\n        } finally {\n            ih.close();\n            safeCloseDataBase(database);\n        }\n    }\n</code></pre>\n\n<p>The loaded xml document is 6000+ lines long. When testing on the device it stops inserting after around halfway (no errors) which takes about 4-5 minutes.  On the emulator however, it runs rather quickly, writing all lines to the database in about 20 seconds.  I have log statements that run when the db is opened, data added, then closed.  The LogCat outputs are significantly slower when running on the device.  Is there something I'm missing here?  Why is my data taking so long to write?  I thought the improved InsertHelper would help, but unfortunately not even a little faster.  Can someone point out my flaw(s) here?</p>\n"},{"tags":["database","performance","updates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12850180,"title":"MySQL: Direct Update or Select before a conditional Update?","body":"<p>Just curious to know- if we need to do a conditional Update in a <strong>large</strong> table, then which is the best approach-</p>\n\n<p>Directly doing an Update or check for existing entry before Update.</p>\n\n<pre><code>function doDirectUpdate()\n{\n   // UPDATE table WHERE condn\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>function doCheckAndUpdate()\n{\n   // SELECT COUNT(id) AS exist FROM table WHERE condn\n   if(id exists)\n   {\n      // UPDATE table WHERE condn\n   }\n   else\n   {\n      echo 'No matching entry';\n   }\n}\n</code></pre>\n"},{"tags":["database","mongodb","pymongo","mysql-python"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":18,"score":-1,"question_id":13167651,"title":"NonRelational database for a event oriented App?","body":"<p>I'm developing a app that only need save GPS-data like..</p>\n\n<p>(events ids, date, time, flags, coordenates, etc...)</p>\n\n<p>of course after I will need read it to show the data and use it in the app...</p>\n\n<p>Maybe at the frontend will be needed tie some device id to a client id...</p>\n\n<p>Can I use a Nonrelational database like mongo for this?</p>\n\n<p>Thanks, thanks in advance.<br>\nChristian.</p>\n"},{"tags":["php","database","hyperlink"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13168265,"title":"How to make a link derived from a database point to another file in the database","body":"<p>I am making a website to view lyrics online, i am almost done but my problem is when  i query the database to bring me a particular artist name, i want to click on that name and it will automatically query the database for all the songs related to that artist.\nplease i need urgent help on how to go about that, Thank you</p>\n"},{"tags":["database","database-design","filemaker"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":9534874,"title":"What issues to check for when going from single to multiple users","body":"<p>I have inherited a (rather large) database, which at the moment is only ever accessed by a single user. In the future I want this to be accessible to multiple users at the same time (which can be done using Filemaker Network).</p>\n\n<p>I am concerned that multiple user access may break much of the functionality (for example searches, which change records in tables). What other things should I look out for which could cause multi-user problems?</p>\n"},{"tags":["database","json","rhodes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":321,"score":0,"question_id":3968377,"title":"asynchttp and rhomobile","body":"<p>How can i display JSON data in a rhomobile application without saving it to a database?</p>\n\n<p>thanks</p>\n"},{"tags":["c#","database","datatable","dataset"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":62,"score":-1,"question_id":13167825,"title":"C# with database server application without using DataSets","body":"<p>Is there a way to create an application using C# with any database server, but without using DataSets, DataTables, DataAdapters, and so on? (in this case, without using DataGridView too)</p>\n"},{"tags":["sql","database","sql-server-2008"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13167182,"title":"How can you define a computed column like this?","body":"<p>I have an <code>Equipment</code> table in SQL Server 2008 like this:</p>\n\n<pre><code>CREATE TABLE [dbo].[Equipment](\n[EquipmentID] [nchar](10) NOT NULL,\n[EquipmentName] [nchar](50) NOT NULL,\n[ProducedDate] [date] NOT NULL,\n[WarrantyPeriod] [int] NOT NULL,\n[SerialNumber] [nchar](20) NOT NULL,\n[BrandID] [tinyint] NOT NULL,\nCONSTRAINT [PK_Equipment] PRIMARY KEY CLUSTERED \n)\n</code></pre>\n\n<p>I want to have a computed column <code>WarrantyStatus</code> that will return either <code>Unexpired</code> or <code>Expired</code> when calculating, based on columns <code>ProducedDate</code> and <code>WarrantyPeriod</code>. </p>\n\n<p>This is wrong, but it's what I want:</p>\n\n<pre><code>ALTER TABLE [dbo].[Equipment]\nADD [WarrantyStatus] AS IIF(DATEDIFF(MONTH, [ProducedDate], GETDATE()) &lt; [WarrantyPeriod], \"Unexpired\", \"Expired\")\n</code></pre>\n"},{"tags":["sql","database","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13167186,"title":"SQLSTATE[22P02]: Invalid text representation","body":"<p>I'm using <strong>Postgresql</strong> and <strong>PHP 5.3.x with PDO</strong> to access the DB.</p>\n\n<p>I have this the SQL query (stripped down version), with a placeholder for PDO to fill in:</p>\n\n<pre><code>INSERT INTO t_articles (a_article_id) VALUES (?) RETURNING a_id\n</code></pre>\n\n<p>I want <code>a_article_id</code> to be either a number, like <code>5</code>, or else it should be the result of the subquery:</p>\n\n<pre><code>((SELECT max(a_article_id) FROM t_articles) + 1)\n</code></pre>\n\n<p>However, PDO says:</p>\n\n<pre><code>SQLSTATE[22P02]: Invalid text representation: 7 ERROR: invalid input syntax for integer: \"(SELECT max(a_article_id) FROM t_articles) + 1\"\n</code></pre>\n\n<p>And I've tried to set the subquery as the default value, but it is not allowed apparently:</p>\n\n<pre><code>ERROR:  cannot use sub query in default expression\n</code></pre>\n\n<p>How can I insert the result of this sub query (or what can be done to achieve the same result)?</p>\n"},{"tags":["objective-c","ios","database","cocoa-touch"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13167005,"title":"How should I go about saving lots of data when the data will not be static. iOS, Cocoa Touch, Obj-C","body":"<p>Alright, I really am not sure how to go about saving a bunch of data on my iOS app. The app will allow a user to create an Entry, that entry will have a timestamp for it's name. For each entry, I need to store multiple kinds of data (NSString, Boolean, Double, Float).</p>\n\n<p>Each Entry will have to save information kind of like the following:</p>\n\n<p>/////////</p>\n\n<p>Float</p>\n\n<p>Float</p>\n\n<p>Float</p>\n\n<p>Float </p>\n\n<p>Float</p>\n\n<p>NSString</p>\n\n<p>NSString</p>\n\n<p>NSString</p>\n\n<p>NSString</p>\n\n<p>NSString</p>\n\n<p>Boolean</p>\n\n<p>Boolean</p>\n\n<p>Boolean</p>\n\n<p>//////////</p>\n\n<p>So, a total of thirteen values per Entry. However, the amount of entries can be created indefinitely and will keep changing. Therefore, how should I go about storing all this information. I am very new at this, so far all I have used is <code>NSUserDefaults</code>. Thanks.</p>\n"},{"tags":["database","backup","firebird"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13148376,"title":"Partial/Selective backup/copy of a Firebird database","body":"<p>I would like to backup a Firebird database but exclude certain tables from the backup, is this possible?</p>\n\n<p>If not, I'd like to make a copy of the Firebird database while it's running (without doing a backup followed by a restore)</p>\n\n<p>Neither gbak nor nbackup seem to support things like this, and yet we have a piece of software here in the company that can do a selective backup, I just have no idea how it works. I'd like to replicate its behaviour.</p>\n"},{"tags":["sql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13166566,"title":"sql how to write complicated query for noob?","body":"<p>Here is my tables</p>\n\n<pre><code> Student (sname, sid, gpa, level, deptno) \n Course (cno, cname, deptno, units) \n Dept (dname, deptno) \n Takes (sid, cno) \n</code></pre>\n\n<p>Write a SQL query that returns the names (i.e., snames) of students who have taken \nmore courses outside their department than inside their department.you can \nassume that all students in the database have taken at least one course inside their department.</p>\n\n<p>I am not looking for any solutions for this question, but still welcome for any answer.\nBut I more hoping people can tell me how to generate the steps to write a complicated query like this..</p>\n\n<p>My answer is </p>\n\n<pre><code> Select S.sname\n From Student S, Course C, Dept D, Takes T\n Where T.cno=C.cno and D.deptno=C.deptno and S.sid = T.sid\n Having COUNT(S.deptno=C.deptno) &gt; COUNT( S.deptno != C.deptno)\n</code></pre>\n\n<p>I am not sure I can use the count after HAVING in this way or not .\nThanks</p>\n"},{"tags":["database","wordpress","themes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12636479,"title":"different theme in one website","body":"<p>Assume this is my site name : <code>www.example.com.</code></p>\n\n<p>I saw different websites have different themes in a site. For example I want to have different themes for <code>www.example.com</code> and <code>www.example.com/othertheme.</code> I know it should have different database for that. But how?</p>\n"},{"tags":["php","html","mysql","database","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13166438,"title":"PHP - Plugin or library for whitelisting certain HTML tags","body":"<p>I am running a blog which other visitors can post on. I want to allow certain HTML tags like headers, linebreaks or links. What is a good or best piece of plugin software I can use for this?</p>\n\n<p>Additionally, is it best practise to save the raw data and then whitelist it when it is time for display in the blog. Or shall I whitelist the data before saving it to the database, so that it is saved clean?</p>\n"},{"tags":["android","database","sqlite","mobile-application"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13158383,"title":"Previously created SQLite Database can not be accessed","body":"<p>I am creating an application in which I have to open a previously created SQLite Database. I am using a DBHelper class. Everything is fine when I am emulating the app, but the logcat is showing the following error:</p>\n\n<pre><code>10-31 17:59:56.345: I/Database(391): sqlite returned: error code = 14, msg = cannot open file at source line 25467\n10-31 17:59:56.345: E/Database(391): sqlite3_open_v2(\"/data/data/com.proj.neuroq/databases/quiz.db\", &amp;handle, 1, NULL) failed\n</code></pre>\n\n<p><strong>My Activity class:</strong></p>\n\n<pre><code>public class QuestionActivity extends Activity {\n\n    String db_name=\"quiz\";\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_question);\n\n        DatabaseHelper myDbHelper = new DatabaseHelper(getBaseContext());\n        myDbHelper = new DatabaseHelper(this);\n\n        try {\n\n            myDbHelper.createDatabase();\n\n    } catch (IOException ioe) {\n\n        throw new Error(\"Unable to create database\");\n\n    }\n\n    try {\n\n        myDbHelper.openDataBase();\n\n    }catch(SQLException sqle){\n\n        throw sqle;\n\n    }\n\n\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.activity_question, menu);\n        return true;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>My DatabaseHelper class:</strong></p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n    private static String DB_PATH = \"/data/data/com.proj.neuroq/databases/\";\n    private static String DB_NAME = \"quiz.db\";\n    private SQLiteDatabase db;\n    private final Context myContext;\n\n    public DatabaseHelper(Context context) {\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }\n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     */\n    public void createDatabase() throws IOException {\n        boolean dbExist = checkDataBase();\n\n        if(dbExist) {\n            //do nothing - database already exist\n        } else {\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n            try {\n                copyDataBase();\n            } catch(IOException e) {\n                throw new Error(\"Error copying database\");\n            }\n        }\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it dosen't\n     */\n    private boolean checkDataBase(){\n        SQLiteDatabase checkDB = null;\n\n        try {\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n        } catch (SQLiteException e) {\n\n        }\n\n        if(checkDB != null) {\n            checkDB.close();\n        }\n\n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     */\n    private void copyDataBase() throws IOException {\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        // Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while((length = myInput.read(buffer))&gt;0) {\n            myOutput.write(buffer, 0, length);\n        }\n\n        // Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n    }\n\n    public void openDataBase() throws SQLException {\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }\n\n    @Override\n    public synchronized void close() {\n        if(db != null)\n            db.close();\n\n        super.close();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n\n<p><strong>My manifest file:</strong></p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.proj.neuroq\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"15\" /&gt;\n\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".QuestionActivity\"\n            android:label=\"@string/title_activity_question\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>This is my project structure:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/WngWG.png\" alt=\"Project Structure **quiz.db** in **assets**\"></p>\n\n<p>This is my <strong>logcat output:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5XYsP.png\" alt=\"**Logcat** error\"></p>\n\n<p>The links I had referred: </p>\n\n<p><a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a></p>\n\n<p><a href=\"http://snipplr.com/view.php?codeview&amp;id=58589\" rel=\"nofollow\">http://snipplr.com/view.php?codeview&amp;id=58589</a></p>\n\n<p>Where lies the tricky issue?</p>\n"},{"tags":["ios","database","sqlite","prepared-statement","nslog"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1143,"score":5,"question_id":9017766,"title":"iOS / sqlite - How to print a prepared sqlite3_stmt to NSLog","body":"<p>I'm having some unexpected results with the data i'm inserting or replacing into my sqlite database.  To trouble shoot the problem I'm trying to get a full print out of the prepared sqlite3_stmt (statement) in the below code. </p>\n\n<p>What I would like to do is something like this, but I know it doesn't work:</p>\n\n<pre><code>if (sqlite3_step(statement) == SQLITE_DONE) {\n            NSLog(@\"%@\", statement);\n</code></pre>\n\n<p>Is there anyway to accomplish this?</p>\n\n<p>Thanks!!</p>\n\n<pre><code>sqlite3_stmt *statement;\nconst char *dbPath = [databasePath UTF8String];\n\nif (true) {\n\n    ListingsObject *temp = (ListingsObject *) DatabaseObject;\n\n    if (sqlite3_open(dbPath, &amp;conyDB) == SQLITE_OK) {\n\n        const char *insertReplaceStmt = \"INSERT OR REPLACE INTO listings (id, association_id, name, email, phone, toll_free_phone, fax, website, street, city, state, zipcode, county, bio, featured, hours, lat, lng, updated, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\";\n\n        if (sqlite3_prepare_v2(conyDB, insertReplaceStmt, -1, &amp;statement, NULL) == SQLITE_OK) {\n            sqlite3_bind_text(statement, 1, [temp._id UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 2, [temp.associationId UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 3, [temp.name UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 4, [temp.email UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 5, [temp.phone UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 6, [temp.tollFreePhone UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 7, [temp.fax UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 8, [temp.website UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 9, [temp.street UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 10, [temp.city UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 11, [temp.state UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 12, [temp.zipcode UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 13, [temp.county UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 14, [temp.bio UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 15, [temp.featured UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 16, [temp.hours UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 17, [temp.lat UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 18, [temp.lng UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 19, [temp.updated UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 20, [temp.status UTF8String], -1, SQLITE_TRANSIENT);\n\n        }\n        if (sqlite3_step(statement) == SQLITE_DONE) {\n            NSLog(@\"Insert or Replace to Listing Table successful Listing = %@\", temp.name);\n\n        }else {\n            NSLog(@\"Failed to add to Listing table Listing = %@\", temp.name);\n        }\n        sqlite3_finalize(statement);\n    }\n sqlite3_close(conyDB);\n</code></pre>\n\n<p>UPDATE:\nI haven't found an answer to this question. But I needed to move on so I ended up just constructing a string with NSLog(); as below for each one of my tables I had to check:</p>\n\n<pre><code>NSLog(@\"     INSERT OR REPLACE INTO listings (id, association_id, name, email, phone, toll_free_phone, fax, website, street, city, state, zipcode, county, bio, featured, hours, lat, lng, updated, status) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\")\", temp._id, temp.associationId, temp.name, temp.email, temp.phone, temp.tollFreePhone, temp.fax\n                  , temp.website, temp.street, temp.city, temp.state, temp.zipcode, temp.county, temp.bio, temp.featured, temp.hours, temp.lat, temp.lng, temp.updated, temp.status);\n</code></pre>\n"},{"tags":["database","hash","binary","indexing","biometrics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12825011,"title":"Database indexing and lookup with \"closest neighbour\" not exact match","body":"<p>I'm dealing with an interesting issue.</p>\n\n<p>I have biometric system that uses <a href=\"http://www.cl.cam.ac.uk/~jgd1000/csvt.pdf\" rel=\"nofollow\">John Daugman's algorithm</a> to transform human irises into binary code (for some research at our university).</p>\n\n<p>The iris code is \"flat\" (it's not stored as a circle, but transformed into rectangle):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>column 1 | column 2 | column 3 | ...\n\n10011001 ...\n10110111\n01100010\n...\n</code></pre>\n\n<p>Where column represents 30 bits. The problem is that each scan of iris has its own noise mask (eye lids, reflections...) and matches aren't 100% but at best around 96-98%.</p>\n\n<p>So far we are using algorithm like this (Hamming Distance matching):</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>mask = mask1 &amp; mask2;\nresult = (code1 ^ code2) &amp; mask;\n\n// ration of 1 bits allowed by mask\ndouble difference = (double)one_bits(result)/one_bits(mask); \n</code></pre>\n\n<p>The problem with that we are now building real database of irises (around 1200-1300 subject, each 3-5 iris samples and you have to count in rotation so you need to make around 10 tests for each). And we need to compare current sample against whole database (65 000 comparisons on 80*30 bits) which turns out to be slow.</p>\n\n<p><strong>Question:</strong> is there any hash functions which reflects data structure (and changes just a bit when few bit changes) or is \"error tolerant\"? We need to build fast search algorithm in the whole database (so we are looking for possible ways to index this).</p>\n\n<p><strong>UPDATE:</strong> I guess it should be implemented by some sort of \"closest neighbour\" lookup, or use some sort of clustering (where similar irises would be grouped and in first round only some representatives  would be checked).</p>\n"},{"tags":["php","database","wordpress","query"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13159382,"title":"how can I add same value in two different tables","body":"<p>i m trying to add custom list of tags using excel file and I have done most of the work. but i am confused that how can I add same value in 2 different tables columns.</p>\n\n<p>i had inserted the values in </p>\n\n<pre><code>INSERT INTO `steve`.`wp_terms` (`term_id`, `name`, `slug`, `term_group`) VALUES (NULL, 'tag99', 'tag99', '0');\n</code></pre>\n\n<p>and </p>\n\n<pre><code>INSERT INTO `steve`.`wp_term_taxonomy` (`term_taxonomy_id`, `term_id`, `taxonomy`, `description`, `parent`, `count`) VALUES (NULL, '21', 'post_tag', '', '0', '0');\n</code></pre>\n\n<p>now i want to add term_id in both table .. could somebody tell me how can i do that?</p>\n\n<p>AND <code>term_id</code> is database generated value.</p>\n"},{"tags":["android","database","query","sms","contact"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13165469,"title":"Android: get all SMS from contact","body":"<p>I'm trying to get all SMS from all contacts.</p>\n\n<p>The problem is when I query database, same (bat not the same) number isn't recognized as a single entity. For example (IT international prefix is +39):\n    +39123456789\n    123456789\n    123 456 789\n    123-456-789</p>\n\n<p>This is 4 versions of same number, but database don't recognize equality.\nSo, how can I retrieve all SMS from contact number? Number of versions are virtually infinite, but all applications I founded in market haven't same issue.</p>\n\n<p>Any idea to get all SMS from address number in all versions?</p>\n"},{"tags":["sql","database","oracle","plsql","plsqldeveloper"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":13158067,"title":"Enter the loop based on user parameter","body":"<p>There are 4 parameters .material,Suppliernbr,Suppliername,Materail code.My query is if the user enters any of the parameter with a single value in a single parameter i need to enter into the loop.</p>\n\n<pre><code>For Eg:\nP_suppname='stack'\np_matrl='NULL'\np_suppnbr:=NULL\nP_mtrlcde='NULL' I can go inside \n</code></pre>\n\n<p>But if </p>\n\n<pre><code>P_suppname=NULL\np_matrl=211\np_suppnbr:=43443443\nP_mtrlcde='NULL' I shouldnt go.\n</code></pre>\n\n<p>ALSO </p>\n\n<pre><code>P_suppname=NULL\np_matrl='211;2322'\np_suppnbr:=NULL\nP_mtrlcde='NULL' I should nt go\n</code></pre>\n\n<p>How to do this??</p>\n"},{"tags":["database","jdbc","orm","restlet"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":10825344,"title":"Is there a Java database framework that supports remote data management on iOS and Android","body":"<p>I am currently using RESTlets to field REST requests and JDBC to enter that data into a mysql database.  As my mobile app is growing JDBC is becoming unmanageable.  Is there a Java database framework that will work well to manage requests coming from iOS and Android devices?  </p>\n"},{"tags":["sql","database","hierarchical-data"],"answer_count":4,"favorite_count":125,"up_vote_count":117,"down_vote_count":0,"view_count":14592,"score":117,"question_id":4048151,"title":"What are the Options for Storing Hierarchical Data in a Relational Database?","body":"<p><strong>Good Overviews</strong></p>\n\n<p>Generally speaking you're making a decision between fast read times (e.g. nested set) or fast write times (adjacency list). Usually you end up with a combination of the options below that best fit your needs. The following provides some in depth reading: </p>\n\n<ul>\n<li><a href=\"http://vadimtropashko.wordpress.com/2008/08/09/one-more-nested-intervals-vs-adjacency-list-comparison/\" rel=\"nofollow\">One more Nested Intervals vs. Adjacency List comparison</a>: <em>the best comparison</em> of Adjacency List, Materialized Path, Nested Set and Nested Interval I've found. </li>\n<li><a href=\"http://www.slideshare.net/billkarwin/models-for-hierarchical-data\" rel=\"nofollow\">Models for hierarchical data</a>: slides with good explanations of tradeoffs and example usage</li>\n<li><a href=\"http://mikehillyer.com/articles/managing-hierarchical-data-in-mysql/\" rel=\"nofollow\">Representing hierarchies in MySQL</a>: very good overview of Nested Set in particular</li>\n<li><a href=\"http://troels.arvin.dk/db/rdbms/links/#hierarchical\" rel=\"nofollow\">Hierarchical data in RDBMSs</a>: most comprehensive and well organized set of links I've seen, but not much in the way on explanation </li>\n</ul>\n\n<p><strong>Options</strong></p>\n\n<p>Ones I am aware of and general features:  </p>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Adjacency_list\" rel=\"nofollow\">Adjacency List</a>: \n<ul>\n<li>Columns: ID, ParentID</li>\n<li>Easy to implement. </li>\n<li>Cheap node moves, inserts, and deletes. </li>\n<li>Expensive to find level (can store as a computed column), ancestry &amp; descendants (Bridge Table combined with level column can solve), path (Lineage Column can solve).      </li>\n<li>Use <a href=\"http://en.wikipedia.org/wiki/Common_table_expressions\" rel=\"nofollow\">Common Table Expressions</a> in those databases that support them to traverse. </li>\n</ul></li>\n<li><a href=\"http://en.wikipedia.org/wiki/Nested_set_model\" rel=\"nofollow\">Nested Set</a> (a.k.a Modified Preorder Tree Traversal)\n<ul>\n<li>Popularized by Joe Celko in numerous articles and his book <a href=\"http://rads.stackoverflow.com/amzn/click/1558609202\" rel=\"nofollow\">Trees and Hierarchies in SQL for Smarties</a> </li>\n<li>Columns: Left, Right</li>\n<li>Cheap level, ancestry, descendants</li>\n<li>Compared to Adjacency List, moves, inserts, deletes more expensive. </li>\n<li>Requires a specific sort order (e.g. created). So sorting all descendants in a different order requires additional work. </li>\n</ul></li>\n<li><a href=\"http://communities.bmc.com/communities/docs/DOC-9902\" rel=\"nofollow\">Nested Intervals</a>\n<ul>\n<li>Combination of Nested Sets and Materialized Path where left/right columns are floating point decimals instead of integers and encode the path information. In the later development of this idea nested intervals gave rise to <a href=\"http://vadimtropashko.files.wordpress.com/2011/07/ch5.pdf\" rel=\"nofollow\">matrix encoding</a>.</li>\n</ul></li>\n<li><a href=\"http://intelligent-enterprise.informationweek.com/showArticle.jhtml;jsessionid=MRBJR2LLRV1ANQE1GHPSKH4ATMY32JVN?articleID=219400252\" rel=\"nofollow\">Bridge Table</a> (a.k.a. <a href=\"http://dirtsimple.org/2010/11/simplest-way-to-do-tree-based-queries.html\" rel=\"nofollow\">Closure Table</a>: some good ideas about how to use triggers for maintaining this approach)\n<ul>\n<li>Columns: ancestor, descendant</li>\n<li>Stands apart from table it describes.</li>\n<li>Can include some nodes in more than one hierarchy.</li>\n<li>Cheap ancestry and descendants (albeit not in what order)</li>\n<li>For complete knowledge of a hierarchy needs to be combined with another option.</li>\n</ul></li>\n<li><a href=\"http://evolt.org/node/4047/\" rel=\"nofollow\">Flat Table</a>\n<ul>\n<li>A modification of the Adjacency List that adds a Level and Rank (e.g. ordering) column to each record. </li>\n<li>Expensive move and delete</li>\n<li>Cheap ancestry and descendants </li>\n<li>Good Use: threaded discussion - forums / blog comments</li>\n</ul></li>\n<li><a href=\"http://www.ferdychristant.com/blog//articles/DOMM-7QJPM7\" rel=\"nofollow\">Lineage Column</a> (a.k.a. <a href=\"http://communities.bmc.com/communities/docs/DOC-9902\" rel=\"nofollow\">Materialized Path</a>, Path Enumeration)\n<ul>\n<li>Column: lineage (e.g. /parent/child/grandchild/etc...)</li>\n<li>Limit to how deep the hierarchy can be. </li>\n<li>Descendants cheap (e.g. <code>LEFT(lineage, #) = '/enumerated/path'</code>)</li>\n<li>Ancestry tricky (database specific queries) </li>\n</ul></li>\n</ol>\n\n<p><strong>Database Specific Notes</strong> </p>\n\n<p><em>MySQL</em></p>\n\n<ul>\n<li><a href=\"http://explainextended.com/2009/09/29/adjacency-list-vs-nested-sets-mysql/\" rel=\"nofollow\">Use session variables for Adjacency List</a> </li>\n</ul>\n\n<p><em>Oracle</em></p>\n\n<ul>\n<li>Use <a href=\"http://www.ypl.com/oracle/sql/hierarchical_queries/html_deep/index.html\" rel=\"nofollow\">CONNECT BY</a> to traverse Adjacency Lists</li>\n</ul>\n\n<p><em>PostgreSQL</em></p>\n\n<ul>\n<li><a href=\"http://www.postgresql.org/docs/current/static/ltree.html\" rel=\"nofollow\">ltree datatype</a> for Materialized Path </li>\n</ul>\n\n<p><em>SQL Server</em></p>\n\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/magazine/cc794278.aspx\" rel=\"nofollow\">General summary</a></li>\n<li>2008 offers <a href=\"http://msdn.microsoft.com/en-us/library/bb677290.aspx\" rel=\"nofollow\">HierarchyId</a> data type appears to help with Lineage Column approach and expand the depth that can be represented. </li>\n</ul>\n"},{"tags":["database","rest","architecture"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":10855210,"title":"An example of a mobile REST to database architecture","body":"<p>Does anyone have an architecture for a REST application optimized for mobile. The architecture I would like to see manages REST requests and responses in conjunction with a database.  Ideally I would like to see an architecture that has the ability to scale and is flexible to change.</p>\n"},{"tags":["sql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13159778,"title":"2 phases commit for distributed transactions: what if commit failed?","body":"<p>I have 2 servers participating in 2PC scenario:</p>\n\n<pre><code>* Srv1: votes OK\n* Srv2: votes OK\n* Coordinator runs \"commit\"\n* Srv1: commits\n* Srv2: does not accept \"commit\" command because of network failure\n</code></pre>\n\n<p>From this moment my distributed DB is not consistence anymore.</p>\n\n<p>How it should be solved?</p>\n"},{"tags":["sql-server","database","query","table","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13159879,"title":"SQL Select Data","body":"<p>I have a table set up, it is a customers' repayment schedule for a product.</p>\n\n<p>My table consists of the following fields:</p>\n\n<blockquote>\n  <p>SaleID | PaymentDueDate | AmountDue</p>\n</blockquote>\n\n<p>What I need for each Sale is:</p>\n\n<blockquote>\n  <p>SaleID | FirstPaymentDate | FirstPaymentValue | RegularPaymentValue | FinalPaymentvalue</p>\n</blockquote>\n\n<p>Each repayment schedule has the following characteristics:</p>\n\n<p>First payment amount is defined by the customer.\nRegular and final payments are dictated by the balance remaining.</p>\n\n<p>e.g</p>\n\n<p>Sale = £200\nTerm = 14 Weeks (14 Payments)</p>\n\n<p>First Payment = £50 (x1)</p>\n\n<p>Regular Payment = £12 (x12)</p>\n\n<p>Final Payment = £6 (x1)</p>\n\n<p>Please can you advise how I can retrieve what I need.</p>\n\n<p>ADDITION:\nCode So Far:</p>\n\n<p>This is what I have achieved so far, but this only gets me the First Payment and First Payment Date for each Sale:</p>\n\n<pre><code>SELECT      \nFP.SaleID, FP.FirstPaymentDate, RS.AmountDue AS FirstPayment \nFROM    \n(       \nSELECT SaleID, MIN(PaymentDueDate)AS FirstPaymentDate       \nFROM RepaymentSchedule          \nGROUP BY SaleID     \n) AS FP \nLEFT OUTER JOIN\nRepaymentSchedule AS RS ON FP.SaleID = RS.SaleID AND FP.FirstPaymentDate =   RS.PaymentDueDate ORDER BY RS.SaleID\n</code></pre>\n\n<p>ADDITION:\nData Sample:\n£280 over 14 Weeks</p>\n\n<pre><code>SaleID  PaymentDueDate            AmountDue\n41      2012-08-29 00:00:00.000   120.00\n41      2012-09-05 00:00:00.000   12.30\n41      2012-09-12 00:00:00.000   12.30\n41      2012-09-19 00:00:00.000   12.30\n41      2012-09-26 00:00:00.000   12.30\n41      2012-10-03 00:00:00.000   12.30\n41      2012-10-10 00:00:00.000   12.30\n41      2012-10-17 00:00:00.000   12.30\n41      2012-10-24 00:00:00.000   12.30\n41      2012-10-31 00:00:00.000   12.30\n41      2012-11-07 00:00:00.000   12.30\n41      2012-11-14 00:00:00.000   12.30\n41      2012-11-21 00:00:00.000   12.30\n41      2012-11-28 00:00:00.000   12.40\n</code></pre>\n\n<p>I guess the FinalPaymentValue is not too crucial.</p>\n\n<p>Really I just need to know how to work out what the regular payment is.</p>\n"},{"tags":["database","visualization","entity-relationship","diagram","cartography"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13163100,"title":"Record Level Relationship Diagram Tool","body":"<p><strong>Background</strong></p>\n\n<p>I'm hoping to find a way to represent the relationships between various objects.<br>\ni.e.</p>\n\n<ul>\n<li>We have a development, a test, and a production environment (actually we have more, but keeping it simple here)</li>\n<li>In each environment we have a bunch of systems</li>\n<li>For some systems a single instance is used per environment by a single country (e.g. each country has their own bespoke HR system)</li>\n<li>For some systems a single instance is used per environment per country for multiple countries (e.g. we have a sales application which has an instance deployed in each country, but each instance is distinct from the other countries')</li>\n<li>For some systems a single instance is used per environment by multiple countries (e.g. our finance system is hosted centrally, with users from each country accessing this central instance over terminal services)</li>\n<li>For some systems a single instance by multiple environments and by multiple countries (e.g. Active Dierctory).</li>\n<li>We have interfaces between these systems, at various stages of development.</li>\n<li>Interfaces can take data from one source system to multiple subscribers (via middleware - e.g. the shared finance system sending customer credit information to the various countries sales systems).</li>\n<li>Interfaces into one system may come from multiple source systems (e.g. each sales system sending sales invoices into the central finance system)</li>\n</ul>\n\n<p>I'm hoping to be able to represent information about how the systems are connected / what interfaces are working / how one system's downtime affects other systems / processes.</p>\n\n<p>I'm able to do this in a database, but to those unfamiliar with SQL / uncomfortable with text based data I hope to represent this information graphically (preferably interactively, e.g. a user could click on a system and have the view filtered to only show the directly related objects).</p>\n\n<p><strong>Question</strong></p>\n\n<p>Does anyone know of a tool which could analyse the relationships in the database and provide a visual representation at record level (i.e. not a database schema)?</p>\n\n<p>If you don't know of a tool, can anyone suggest good options for techniques which may improve visibility of this data?  Perhaps something like Sankey diagrams to represent data flowing through interfaces in the system (http://bost.ocks.org/mike/sankey/)?</p>\n\n<p>Thanks in advance.</p>\n\n<p>ps. I think this is similar to a previous question - though sadly the answer there was to buy a book (which I've now ordered / am waiting for): <a href=\"http://stackoverflow.com/questions/4826268/tool-for-the-cartography-of-a-complex-information-system\">Tool for the cartography of a complex information system</a></p>\n"},{"tags":["database","relationship"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":17,"score":-2,"question_id":13162773,"title":"How to generate such relationship diagram?","body":"<p><img src=\"http://i.stack.imgur.com/r3lRi.png\" alt=\"enter image description here\"></p>\n\n<p>Hi guys, I know it's a simple question.</p>\n\n<p>How can I generate such kind of database relationship diagram?</p>\n\n<p>This will helps me a lot in my application design.</p>\n\n<p>with 1 to n, n to n, 1 to 0 or 1 relationships explicitly on.</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["java","database","hibernate","orm"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":10278714,"title":"Stackoverflowerror / Unresolved Object Exception with Hibernate, Collections and Session.refresh(...)","body":"<p>In my current project, I'm using Hibernate 3. The tool I'm working on connects to a MS SQL Server Database. The tool is installed on two different Machines, both connect to the same Database. </p>\n\n<p>On the first machine I'm altering an object that contains a collection. On the second Machine I'm using session.refresh(...) to see the Changes made on the first Machine. </p>\n\n<p>When I add an Object to the collection and refresh, I get a Stackoverflowerror. When I remove an Object from the collection and refresh, I get an UnresolvedObjectException. </p>\n\n<pre><code>session.evict(...)\nsession.get(...) \n</code></pre>\n\n<p>seems to work. But <code>session.refresh(...)</code>. Why?</p>\n\n<p>Here is a full stacktrace:</p>\n\n<pre><code>java.lang.StackOverflowError\nat net.sourceforge.jtds.jdbc.JtdsStatement.&lt;init&gt;(JtdsStatement.java:129)\nat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.&lt;init&gt;(JtdsPreparedStatement.java:99)\nat net.sourceforge.jtds.jdbc.ConnectionJDBC2.prepareStatement(ConnectionJDBC2.java:2456)\nat net.sourceforge.jtds.jdbc.ConnectionJDBC2.prepareStatement(ConnectionJDBC2.java:2414)\nat net.sourceforge.jtds.jdbcx.proxy.ConnectionProxy.prepareStatement(ConnectionProxy.java:394)\nat org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:534)\nat org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:452)\nat org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)\nat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1573)\nat org.hibernate.loader.Loader.doQuery(Loader.java:696)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:588)\nat org.hibernate.loader.Loader.doQuery(Loader.java:724)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:1881)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:71)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:65)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3072)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:434)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:415)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:165)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:207)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:126)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:905)\nat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:873)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:590)\nat org.hibernate.type.EntityType.resolve(EntityType.java:412)\nat org.hibernate.type.ComponentType.resolve(ComponentType.java:607)\nat org.hibernate.type.ComponentType.nullSafeGet(ComponentType.java:298)\nat org.hibernate.loader.Loader.getKeyFromResultSet(Loader.java:1121)\n</code></pre>\n"},{"tags":["database","prestashop"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13162536,"title":"PrestaShop - Migrate orders, customer data, stats, etc","body":"<p>Is anyone aware of which tables are required to essentially merge two PS databases? I have a live site that has taken orders, acquired customers, etc, as well as a development site that is going to become the new live site after development work is completed. </p>\n\n<p>Of course, simply launching the dev site to replace the live site will not keep any orders or customer data, and I'd like to export those tables from the live site and place them back into the dev site.</p>\n\n<p>The database isn't very extensive and it seems relatively straightforward which tables should move</p>\n\n<ul>\n<li>address</li>\n<li>cms (to update cms entries)</li>\n<li>customer</li>\n<li>customer_message</li>\n<li>customer_thread (not sure about this one)</li>\n<li>delivery</li>\n<li>message</li>\n<li>orders</li>\n<li>order_detail</li>\n<li>order_history</li>\n<li>order_message</li>\n<li>order_return</li>\n<li>order_return_detail</li>\n<li>order_slip</li>\n<li>order_slip_detail</li>\n</ul>\n\n<p>There are some additional tables that seem like good candidates as well, but encompass features not being used on this particular store (wishlist, stock levels, discounts).</p>\n\n<p>Does this seem comprehensive otherwise?</p>\n\n<p>Is it simply a matter of pushing across these tables? I mainly develop in Magento, so PrestaShop's relative simplicity has me second guessing myself -- there MUST be a catch somewhere, right?</p>\n"},{"tags":["android","database","sqlite","upgrade","upgrade-issue"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13159210,"title":"onUpgrade() sqlite database in Android","body":"<p>I creted an Android application which, check at startup if there is anew version of application. If yes, the application download the new apk file and over-install new apk. \nMy application use the sqlite db. But this db, from one version to other can change.\nI think I have to use the method:</p>\n\n<pre><code> onUpgrade()\n</code></pre>\n\n<p>but I don't know exactly use it.</p>\n\n<p>When I start the application I use this code for crete database(if not exists):</p>\n\n<pre><code>DbHelper mDHelper = new DbHelper(context, DB_NAME, null, DB_VERSION)\n</code></pre>\n\n<p>What I should change if I want use onUpgrade() method?\nAnd when I have to call it?</p>\n"},{"tags":["sql","sql-server","database","email","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":41,"score":-5,"question_id":13161237,"title":"Need advice on triggers in SQL Server","body":"<p>I am not much into SQL Server triggers etc and I have a question which may be very basic/simple.</p>\n\n<p>Questions</p>\n\n<ol>\n<li><p>I have a table in the SQL Server database which I want to send out emails to me whenever any records gets added/modified/deleted from that table (including if anyone truncates the table). </p></li>\n<li><p>I would also like to receive an email whenever any table or database restore takes place. </p></li>\n</ol>\n\n<p>Please suggest how to complete the above. I know I have to write triggers etc but I need some advice/assistance here.</p>\n"},{"tags":["ruby-on-rails","database","image","carrierwave","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13161791,"title":"Rails / image not being saved when Carrierwave is mounted","body":"<p>I am using the Carrierwave plugin to upload images. It works fine, but if I try to save an image from the controller using </p>\n\n<pre><code>Article.create(:image =&gt; 'sample.png')\n</code></pre>\n\n<p>It doesent save the image as long as carrierwave is mounted, if I un-mount Rails will save the image like normal.. How can I solve this ? </p>\n\n<p>Jakob</p>\n"},{"tags":["mysql","sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13161359,"title":"NOT DISTINCT query in mySQL","body":"<p>I have been asked to create a query for this on a simple employee database columns include:</p>\n\n<p>ninumber - first name - last name - address - SuperVisorNiNumber </p>\n\n<p>The employees and supervisors are all held in the same table and are referenced by their ninumbers. The query I've been asked to build is: </p>\n\n<p>v. Find the NI Numbers, first and last names of employees and NI numbers of supervisors where the employees share that supervisor and both employees and supervisors work in department 8. You will refer to the employee relation twice was done in query vi of Practical 2. Your results should be presented in columns with the following titles ‘Employee NI number’, ‘First Name’, ‘Last Name’ and ‘Supervisor NI Number’.</p>\n\n<p>Therefore I created this query: </p>\n\n<pre><code>SELECT e1.ninumber,\n       e1.fname,\n       e1.minit,\n       e1.lname,\n       e1.address,\n       e1.superNiNumber,\n       COUNT(*) AS nrOfOccurences\nFROM   employee AS e1,\n       employee AS e2\nWHERE  e1.dno = 8\n   AND e1.superNiNumber = e2.ninumber\n   AND e2.dno = 8\nGROUP  BY e1.superNiNumber\nHAVING COUNT(*) &gt; 1\n</code></pre>\n\n<p>I couldn't do a not distinct query to work out this part of the question - \"where the employees share that supervisor\". This query returns a grouping of the rows which in turn hides some of the rows I want to show. </p>\n\n<p>My question is: Is my query correct for the question and can I do a NON DISTINCT query in mySQL to get the database to return all of the fields instead of grouping them together.</p>\n\n<p>Reutrn results from my query </p>\n\n<pre><code>NInumber    fname  minit    lname   address    supervisorNiNum     number of occerences\n666666601   Jill    J   Jarvis  6234 Lincoln, Antrim, UK    666666600   2\n666666607   Gerald  D   Small   122 Ball Street, Letterkenny, IRL   666666602   3\n666666604   Billie  J   King    556 WAshington, Antrim, UK  666666603   2\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["mysql","database","database-design","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13160020,"title":"MySQL Building/linking tables using index","body":"<p>I have finished designing the tables structures for a school course catalog. I am using four tables <code>majors</code>, <code>courses</code>, <code>course_hours</code>, <code>course_date</code>. Below I have detailed the components of each table. Some of the tables will use indexing based on <code>course_id</code>. I am new with database and struggling with building these tables inside my database. How can I make these tables link together with using <code>course_id</code>? Or is there a better way to structure these tables for my purpose. If possible providing a query to create these tables will be great.</p>\n\n<p>Hopefully I am using the righ type(<code>int</code>,<code>varchar</code>, <code>text</code>, etc) for my variables. </p>\n\n<p>Example of table <strong>courses</strong></p>\n\n<pre><code>id serial\ncourse_name varchar\ncourse_code varchar\ndescription text\n</code></pre>\n\n<p>Example of table <strong>course_dates</strong> (using index)</p>\n\n<pre><code>id int\ncourse_id int\nyear date\nsemester int\n</code></pre>\n\n<p>Example of table <strong>course_hours</strong> (using index)</p>\n\n<pre><code>id int\ncourse_id int\nhours int\n</code></pre>\n\n<p>Example of table <strong>majors</strong> (one to many relationship- index) </p>\n\n<pre><code> major_id int\n course_id int \n major_name varchar\n</code></pre>\n\n<p><strong>So a populated database would contain the following:</strong></p>\n\n<p>Table <code>courses</code></p>\n\n<pre><code>course_id course_code course_name       course_description\n1     INF1000     Visual Studio I   \"Basic programming\"\n2     INF1001     Visual Stuido II  \"More programming\"\n</code></pre>\n\n<p>Table <code>course_dates</code> (0 for spring, 1 for fall, 2 all year)</p>\n\n<pre><code>id course_id year semester\n1  1         2012 0\n2  1         2013 1\n3  2         2013 1\n</code></pre>\n\n<p>Table <code>course_hours</code></p>\n\n<pre><code>id course_id course_hours \n1  1         3 \n2  1         4 \n3  2         4 \n</code></pre>\n\n<p>Table <code>majors</code> </p>\n\n<pre><code>id course_id major_name\n1  1         Computer Engineering \n2  1         Information Systems \n3  2         Network Administrator\n</code></pre>\n"},{"tags":["php","mysql","database","arrays","web"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13161343,"title":"Explode array to make two variables so I can get info from database table to send email","body":"<p>Right, so I have an array in one table in my database. I need to break this array apart so I can use one bit of it to get information from another table in my database and then send an email with that information in.</p>\n\n<p>My array in the table looks like this  </p>\n\n<p>30-1, </p>\n\n<p>30 is the product ID and 1 is the quantity. (Quantity of item purchased)</p>\n\n<p>Have I been a muppet and got this wrong?</p>\n\n<pre><code>//Get product_id_array of item purchased\n$sql = mysql_query(\"SELECT product_id_array FROM transactions WHERE id='$orderID'\")or die(mysql_error());\nwhile($row = mysql_fetch_array($sql)){\n    $prod_quant_array = $row['product_id_array'];\n}\n//Explode prod_quant_array\n(explode(\"-\", $prod_quant_array));\n$product_id = $prod_quant_array[0];\n$product_quantity = $prod_quant_array[1];\n</code></pre>\n\n<p>I thought that this would then give me two variables. \n<code>$product_id</code> would be 30 and <code>$product_quantity</code> would 1</p>\n\n<p>I'm then trying to use this information to get more information from another table.</p>\n\n<pre><code>$sql = mysql_query(\"SELECT product_name, product_price FROM products WHERE id='$product_id'\")or die(mysql_error());\nwhile($row = mysql_fetch_array($sql)){\n    $product_name = $row['product_name'];\n    $product_price = $row['product_price'];\n}\n</code></pre>\n\n<p>As you can see, my WHERE is looking at the $product_id variable. \nSo when I try and send the email, I get the email, but I can't see the <code>$product_name</code> or <code>$product_price</code>. Please ignore those other variables, they are displaying fine in the email and are coming from a different query. </p>\n\n<pre><code>/////// Send Email ///////\n$to = \"\" . $payer_email . \"\";\n$subject = \"Confirmation of your order\";\n$message .= \"Dear \" . $first_name . \" \" . $last_name . \",\n\nThis is an email to confirm your recent purchase of goods with Bloodlust.\n\nYou have ordered: \n\n--------------------------------------------------\n\" . $product_name . \".\n\n\" . $product_price . \"\n--------------------------------------------------\n\nPlease keep this email for your records.\n\nPlease note that this is not a proof of transaction.\n\nThank you.\";\n$from = \"no-reply@blood-lust.com\";\n$headers = \"From:\" . $from;\nmail($to,$subject,$message,$headers);\n</code></pre>\n\n<p>Is my explode() ?\nOr is it something else? </p>\n\n<p>This is absolutely killing my brain, I've been at it for hours. Please help! :) </p>\n"},{"tags":["database","nosql","redis"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13160540,"title":"how to store this data, by using hash, in redis","body":"<p>I want to store an structure similiar to this.\nThe idea is make possible extract all the descriptions with the same id, I didnt see many examples in reddis, the documentation is very basic I think. Someone can tell me?</p>\n\n<pre><code>user:id:12:description:\"nice\"\nuser:id:12:description:\"bad\"\nuser:id:15:description:\"nothing_especial\"\n...\n</code></pre>\n\n<p>I know that this is possible with hset, I tried with something like:</p>\n\n<pre><code>hset user id 12\nhset user description \"nice\"\n...\n</code></pre>\n\n<p>but the problem is that, when I try to insert the same key different times, HSET override the content value, and finally I have the same but with a different value</p>\n\n<p>In the documentation I saw an example but was with Set, was something like this (i dont understand why they user a simple set....):</p>\n\n<pre><code>$ redis-cli set news:1:title \"Redis is simple\"\nOK\n$ redis-cli set news:1:url \"http://code.google.com/p/redis\"\nOK\n$ redis-cli lpush submitted.news 1\n</code></pre>\n"},{"tags":["mysql","database","query","constraints","unique"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13158079,"title":"How to add a constraint on all the columns of a table in a single query?","body":"<p>I have a database named dbapp. I need to add the constraint 'NOT NULL' to all the columns of all the tables in this database. I am unable to form this query. Even if I am able to perform it individually on each table, it would be fine. Please help.</p>\n"},{"tags":["database","distributed","scada","historian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":13142669,"title":"Which is the best distributed database for a SCADA historian?","body":"<p>Which is the best distributed database for a SCADA historian?\nI'm working with a large amount of data in a SCADA system.</p>\n"},{"tags":["javascript","jquery","mysql","database"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13158726,"title":"Is sending a data from jquery to mysql possible?","body":"<p>I wrote a code with jquery like that:</p>\n\n<pre><code>&lt;script src=\"jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\n    $(document).bind('keydown',function(e) {\n        if( e.which == 37 ) {\n            // send a basic data to mysql\n        }\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I want to send a data to my mysql database. Which code parts would be help me for that?</p>\n\n<p>I think I need mysql connection in javascript to do that...</p>\n\n<p>I can use PHP also.</p>\n"},{"tags":["c#","database","crystal-reports","login"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1199,"score":0,"question_id":5536031,"title":"Crystal Report asking Database Login, Only in WinXP","body":"<p>I need help. This is my C# code to show a report:</p>\n\n<pre><code>TableLogOnInfos crtableLogoninfos = new TableLogOnInfos();\nTableLogOnInfo crtableLogoninfo = new TableLogOnInfo();\nConnectionInfo crConnectionInfo = new ConnectionInfo();\nTables CrTables;\n\n//Let's say I have a report called RptExample\nRptExample objRpt = new RptExample();\n\n//Set Static Text\ntxtTitle = objRpt.ReportDefinition.ReportObjects[\"TextTitle\"] as TextObject;\ntxtTitle.Text = \"Test\";\n\n//This is my connection info\ncrConnectionInfo.ServerName = \"SERVERNAME\\\\SQLEXPRESS\"; \ncrConnectionInfo.DatabaseName = \"DBNAME\";\ncrConnectionInfo.UserID = \"USER\";\ncrConnectionInfo.Password = \"PASS\";\n\nCrTables = objRpt.Database.Tables;\n\nforeach (CrystalDecisions.CrystalReports.Engine.Table CrTable in CrTables)\n{\n    crtableLogoninfo = CrTable.LogOnInfo;\n    crtableLogoninfo.ConnectionInfo = crConnectionInfo;\n    CrTable.ApplyLogOnInfo(crtableLogoninfo);\n}\n\n//CRV is my CrystalReportViewer\nCRV.LogOnInfo = crtableLogoninfos;\nCRV.ReportSource = objRpt;   \n</code></pre>\n\n<p>It's working OKAY in Windows 7, but when I'm trying with Windows XP, Database Login window always popped-up asking for password only (SERVERNAME, DBNAME, and USERNAME fields already filled with the right strings. Only PASSWORD went missing).</p>\n\n<p>What I did wrong?</p>\n\n<p>thx so much &lt;3</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>I found out that this problem only occured when I'm accessing database server using public IP, and once again, only in Windows XP not in 7.</p>\n\n<p>so, my connection info goes like this:</p>\n\n<pre><code>crConnectionInfo.ServerName = \"202.70.xx.xx\\\\SQLEXPRESS\"; \ncrConnectionInfo.DatabaseName = \"DBNAME\";\ncrConnectionInfo.UserID = \"USER\";\ncrConnectionInfo.Password = \"PASS\";\n</code></pre>\n\n<p>I also tried to create report using create report wizard and it also can't find my database server using public IP (202.70.xx.xx thing).</p>\n\n<p>using a local database server my code works flawlessly in WinXP.</p>\n\n<p>more help wud be appreciated ;)</p>\n\n<p><strong>EDIT 2 :</strong></p>\n\n<p>oh I forgot. I also tried to use the real server name instead of public IP of the server but to no avail</p>\n"},{"tags":["c#","database","int"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13160521,"title":"Reading int value from a SQL database","body":"<p>please is that someone can help me avoire read the values ​​of types int the database</p>\n\n<blockquote>\n  <p>int s = dr[\"IdSociete\"]</p>\n</blockquote>\n"},{"tags":["database","wordpress","drupal","joomla","content-management-system"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":33,"score":-1,"question_id":13156835,"title":"CMS to use with existing product database","body":"<p>So we're taking over a very badly coded e-commerce site and are looking to install a CMS for it. The problem is that we are stuck with the existing product database. They use a piece of software on their desktop computers that upload data to a MySQL database with a certain table structure. Trying to replace this system will be too much work, so we have decided to not touch it.</p>\n\n<p>I've looked into using WordPress but I'm under the impression that WP doesn't like it when I add tables that are not WP tables. All plugins I've tried use the wp_posts table. I installed Joomla locally this morning, it seems much more complex (which isn't necessarily a bad thing). Thought I'd give Drupal a spin too.</p>\n\n<p>The current site is coded in JSP, but we're throwing the whole front end and admin interface out. We're looking to use PHP, primarily. Of course, keeping custom coding to a minimum would be preferable.</p>\n\n<p>Thanks for sharing your thoughts and experience.</p>\n"},{"tags":["database","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13157932,"title":"CodeIgniter classifieds I need DB sketch","body":"<p>I can't image how to create classifieds structure.\nExample I have page for cars ads, and there can be fields year, price, and more.\nAnd I have page for mobile phones where can be fields price, color, display size and so on. For another page can be another fields and I need add them dinamicly, it can bee select field, text input, or maybe checkbox.</p>\n\n<p>So how I can add new fields for filtering ads, where to keep form validation rules?</p>\n\n<p>Can someone please give me a sketch of db that can me explain all this process?</p>\n"},{"tags":["iphone","ios","database","heroku"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13144862,"title":"iOS and Heroku DB","body":"<p>I have a ClearDB hosted on Heroku that I am using for a facebook app. I need to connect to that through an iPhone app that I am making that will be a mobile version of that facebook app. This is new to me, so are there any concise tutorials for doing this? I have gone through some of the facebook tutorials and I am pretty confortable with iOS dev. Any help would be greatly appreciated. So, in short, what I need to figure out is how do I connect to the ClearDB hosted on heroku from my iPhone app? What protocols and such do I use?</p>\n\n<p>Thanks! </p>\n"},{"tags":["database","normalization","decomposition"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13159883,"title":"Can we say a dependency preserving decomposition of a relation is lossless decomposition..?","body":"<p>I want to ask if a decomposition preserves dependency then will it always be a loss less decomposition...?</p>\n\n<p>Suppose I have a relation R and I have decomposed this table in two tables R1 and R2 so that\nR1 and R2 preserves all the dependency present in R.\nSo will this decomposition be a lossless or it can't be answered..?</p>\n\n<p>Please guide me.Thanks.</p>\n"},{"tags":["mysql","database","database-design","nosql","web-development-server"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":128,"score":2,"question_id":11683920,"title":"RDBMS vs NoSQL for message boards site","body":"<p>I'm in the process of designing and planning a new website.<br>\nit is mainly a message boards site  </p>\n\n<p>I have past experience with MySQL, but I hear many voices (not in my head)<br>\nwhich telling NoSQL can be as good solution as RDBMS.  </p>\n\n<p>the main claim for NoSQL is performance. what do you think about it?   </p>\n\n<p>so,<br>\nI need a scalable database-design technology for my website.\nif I go with NoSQL, I know there are couple of technologies in this area<br>\n(document store, key-value store etc) . how to choose?</p>\n\n<p>what do you think is more suitable for a message boards website:<br>\nNoSQL or MySQL?    </p>\n\n<p>thanks,<br>\nsocksocket</p>\n"},{"tags":["database","testing","cucumber"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":9,"score":2,"question_id":13159434,"title":"When using cucumber and databasecleaner can I keep a single entry in a ttable?","body":"<p>I am currently using cucumber and databasecleaner to test my application.\nAnd currently in my <code>env.rb</code> i have the setup of the cleaner as:</p>\n\n<pre><code>DatabaseCleaner.strategy = :truncation, {:except =&gt; %w[TABLE]}\nAfter do\n  DatabaseCleaner.clean\nend\n</code></pre>\n\n<p>This way I can keep the data in <code>TABLE</code>.\nBut I would also like to keep a single entry in a different table between tests. Is there any way I can achieve that or do I have to recreate it all the time with a <code>Before</code> hook?</p>\n"},{"tags":["database","nosql","redis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13159360,"title":"How get data with redis using this hash","body":"<p>In the documentation is said that you can use hash to store objects or any kind of data, and later you can extract them. I want to save, for instance, ids from a few users by using hash, and later extract all the ids, or all the elements with ids (something, I didnt accomplish nothing similar), can you help me?</p>\n\n<pre><code>redis 127.0.0.1:6379&gt; set user:id:1234 \"content of my first user\"\nOK\nredis 127.0.0.1:6379&gt; set user:id:1235 \"content of my second user\"\nOK \nredis 127.0.0.1:6379&gt; set user:id:1236 \"content of my third user\"\nOK\nredis 127.0.0.1:6379&gt; get user:id\n(nil)  ####I hoped to see all my id's users listed, I want to make \n       something like that,in the documentation I saw an example, but \n       is not completed####\n</code></pre>\n"},{"tags":["php","sql","database"],"answer_count":11,"favorite_count":5,"up_vote_count":25,"down_vote_count":0,"view_count":5628,"score":25,"question_id":85,"title":"Flat File Databases in PHP","body":"<p>What are your best practices around creating flat file database structures in PHP?  A lot of the more mature PHP flat file frameworks I see out there attempt to implement SQL-like query syntax, which is over the top for my purposes in most cases (I would just use a database at that point).</p>\r\n\r\n<p>Are there any elegant tricks out there to get good performance and features with the small code overhead one would want by taking on this problem in the first place?</p>"},{"tags":["php","sql","database","while-loop","connect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13147881,"title":"PHP connecting to two tables in a while loop","body":"<p>I have a small and rather simple question I believe, however I have tried everything but I just can't figure out this syntax.</p>\n\n<p>I will start by entering this code (php): </p>\n\n<pre><code>require_once('connectvars.php'); // My database connection\n\n//Connect to the database\n$dbc = mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);\n//Retrieve the data from the database\n$query = \"SELECT * FROM pbclickslogin WHERE username='$username'\";\n$data = mysqli_query($dbc, $query);\nwhile ($info = mysqli_fetch_array( $data )) {\n    echo $info['lol']; echo $info['lol2'];\n}\n</code></pre>\n\n<p>So I made up this example and let us say that \"$info['lol'];\" is a column inside a table named \"pbclickslogin\" and \"$info['lol2'];\" is a column inside a table named \"pbclickssomethingelse\". But I cannot connect to both databases at the same time, or can I? </p>\n\n<p>I have tried adding:</p>\n\n<pre><code>$query = \"SELECT * FROM pbclickslogin, pbclickssomethingelse WHERE username='$username'\";\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>$query = \"SELECT * FROM pbclickslogin WHERE username='$username'\";\n$query2 = \"SELECT * FROM pbclickssomethingelse WHERE username='$username'\";\n$data = mysqli_query($dbc, $query, $query2);\nwhile ($info = mysqli_fetch_array( $data )) {\n    echo $info['lol']; echo $info['lol2'];\n}\n</code></pre>\n\n<p>but as some of you experienced PHP users might know. These two things did not solve my problem. Do any of you have an idea of how I can connect to both of these databases while doing the while loop?</p>\n"},{"tags":["database","postgresql","authentication","postgresql-9.1"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":207,"score":1,"question_id":11949959,"title":"No password prompt for postgresql superuser","body":"<p>After I installed PostgreSQL 9.1 on Ubuntu 12.04 I set the password for the \"postgres\" superuser account. I want all users to have to enter their password when loging in. This is why I configured pg_hba.conf like so:</p>\n\n<pre><code>#Database administrative login by Unix domain socket\nlocal   all             postgres                                md5\n\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# \"local\" is for Unix domain socket connections only\nlocal   all             all                                     md5\n</code></pre>\n\n<p>I restarted postgresql after making those changes. When I do this <code>psql -U testuser</code> I get asked for a password, but when I log in with the \"postgres\" account like so <code>psql -U postgres</code> I get no password prompt and am logged in.\nIf I force the password prompt with <code>psql -U postgres -W</code> I can log in by typing the correct password or by typing nothing at all. Typing a wrong password gets rejected.</p>\n\n<p>Can anybody please explain to me why this is happening?</p>\n\n<p>On a related note: I see a lot of example where people use ident as authentication method for the \"postgres\" user, arguing that to become the \"postgres\" user one needs the root password of the machine. I assume that the reasoning is that if an attacker gets root access, your done anyways. I would prefer to log in with a password though, one which is not the same as the root password. I prefere having different passwords for different things. Is this reasonable?</p>\n\n<p>Output of <code>grep '^[^#]' pg_hba.conf</code></p>\n\n<pre><code>local   all             postgres                                md5\nlocal   all             all                                     md5\nhost    all             all             127.0.0.1/32            md5\n</code></pre>\n"},{"tags":["asp.net-mvc","database","web","pagination"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13158422,"title":"ASP MVC 3: Pagination for a project that is not using the Entity Framework","body":"<p>I'm in a project where we are using ASP MVC3, but not the Entity Framework and I would like to use pagination for some results. However, the examples I find online seem to be using the Entity Framework.</p>\n\n<p>What's the best way to paginate the results using just SQL?</p>\n"},{"tags":["database","oracle","migration","flyway"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13122535,"title":"Execute flyway migrations using individual user accounts","body":"<p>As part of our effort to migrate our SQL scripts to flyway migrations, we've come across some scripts that make heavy use of the Oracle sqlplus <a href=\"http://docs.oracle.com/cd/B19306_01/server.102/b14357/ch12015.htm\" rel=\"nofollow\"><code>CONNECT</code> statement</a>. Removing them and using a user that would have the required permissions (e.g. <code>SYSTEM</code>) is unfortunately not an option.</p>\n\n<p>We're now wondering if there is an elegant way to execute the individual migrations using different accounts? If this would be supported, splitting the scripts around the <code>CONNECT</code> statements could lead to an elegant solution of our problem.</p>\n\n<p>How is everybody else dealing with database migrations that require different accounts?</p>\n"},{"tags":["c#","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13157760,"title":"SQLite auto increment issue","body":"<p>I have created a SQLite database in C# and i used that query to create a table.</p>\n\n<pre><code>string q = \"create table mains ( id int IDENTITY, desc varchar(20), PRIMARY KEY(id) )\"; \nExecuteQuery(q);\n</code></pre>\n\n<p>And i tried adding a record like that :</p>\n\n<pre><code>string txtSQLQuery = \"insert into  mains (desc) values ('\" + textBox1.Text + \"')\";\nExecuteQuery(txtSQLQuery);\n</code></pre>\n\n<p>I just added a desc and not ID , i guess it should auto increment the id field but it does not.\nInstead it adds the desc and the the ID field is empty every time i add a new record </p>\n\n<p>EDIT :\ni tried using :</p>\n\n<pre><code>id int PRIMARY KEY AUTOINCREMENT\n</code></pre>\n\n<p>But got Error :</p>\n\n<pre><code>SQLite.SQLiteException: near \"AUTOINCREMENT\":\n</code></pre>\n\n<p>EDIT 2 :\nI get that when i load the records :</p>\n\n<p><img src=\"http://i.stack.imgur.com/L9XcX.png\" alt=\"enter image description here\"></p>\n\n<p>There are no Numbers in the ID field at all.</p>\n"},{"tags":["database","winforms","visual-studio-2010","sql-server-2008-express"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13156966,"title":"SqlDataAdapter object in Visual Studio 2010","body":"<p>I am running <code>Visual Studio 2010</code> and <code>SQL Server 2008 Express</code> editions. I have created a database in SQL called <strong>Hangman.mdf</strong>. Then in <code>Visual Studio</code> I drag the <code>SqlDataAdapter</code> object to my form and it brings up the wizard, in the wizard under data source I select the <code>Microsoft SQL Server Database File</code> (SqlClient) and then browse to my <strong>Hangman.mdf</strong> file. When I click on test connection it throws out this error: </p>\n\n<pre><code>Unable to open physical file \"C:\\XXX\\Hangman.mdf\". Operating system error 5: \"5(Failed to retrieve text for this error. Reason: 15105)\" An attempt to attach an auto named database for file C:\\XXX\\Hangman.mdf failed. A database with the same name exists, or specified file cannot be opened, or it is located on UNC share.\n</code></pre>\n\n<p>I am running <code>Windows 8</code>, I have opened up <code>Visual Studio</code> and <code>SQL Server</code> as <code>Administrator</code>. </p>\n\n<p>I would appreciate any help.</p>\n\n<p>Thanks</p>\n"},{"tags":["database","web-services","web-applications","logging"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":398,"score":3,"question_id":4058316,"title":"Looking for a web-based log collection/display application","body":"<p>A project I'm working on currently involves using a disparate set of technologies, including .NET, PHP, Asterisk and bash scripting. Each of the applications in use produces some logging; technical logging for administrators and user logging. The technical logging is easy, all logs are written to disk as text files.</p>\n\n<p>For the user logging, I'd like a central portal where messages can be viewed, filtered and perhaps reported on. </p>\n\n<p>Essentially, I'm looking for a web based application that will accept a number of log sources (including web services and syslog at a minimum), allow the logs to be stored, displayed and filtered in a web UI and ideally have the possibility of triggering events such as email or SMS.</p>\n\n<p>I'm about to embark on writing this application; before I do, I want to make sure that I'm not reinventing the wheel. Any pointers/recommendation?</p>\n\n<p>EDIT</p>\n\n<p>I've found <a href=\"http://exceptioneer.com/\" rel=\"nofollow\">Exceptioneer</a> and <a href=\"https://www.hoptoadapp.com/pages/home\" rel=\"nofollow\">Hoptoad</a> - both of which look promising - are there any other tools like this (ideally open source) ?</p>\n"},{"tags":["database","symfony2","symfony-2.1","fosuserbundle"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":150,"score":0,"question_id":12228805,"title":"FOSUserBundle command line user creation doesn't update database","body":"<p>I'm suing FOSUserBundle with Symfony2.1.</p>\n\n<p>I've tryed using this command line to create a new user:</p>\n\n<pre><code>php app/console fos:user:create testuser test@example.com myPassword\n</code></pre>\n\n<p>and I gave the following response:</p>\n\n<pre><code>Created user testuser\n</code></pre>\n\n<p>Using phpMyAdmin, connecting to my database table, no user has been created and the table is still empty.</p>\n\n<p>Can somebody help me?\nI've followed step by step the implementation guide, but it doesn't work for me.</p>\n\n<p>Thank you.</p>\n\n<p><strong>UPDATE:</strong> Copyng the entire folder and moving the project to a Windows based laptop, everything working fine! It is not a configuration issue.... Re-moving the project to my MAC laptop, it doesn't work....</p>\n"},{"tags":["ios","database","core-data","video","video-streaming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13153202,"title":"How to buffer the video and save in local database in iOS app?","body":"<p>I am creating an app in which I have a link to download the video of size around 50 MB and play as well. When user will tap on the link, the video should start buffering (like in YouTube) and should get save in the local database. I was trying to run a separate thread for each task. One thread will buffer and another will download the video and save in the local database, but it was increasing the memory allocation hugely as the size of video is around 50 MB so is there any way to achieve this task, I mean playing the video and saving it locally? Can I save the video data as it buffers. Please let me know if there is any sample app for this purpose and also let me know if I am unclear at any point.</p>\n"},{"tags":["mysql","sql","database","explain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13155463,"title":"Understanding the output of an EXPLAIN statement (MySQL)","body":"<p>I have a query which is returning the below explain:</p>\n\n<pre><code>id  select_type  table  type         possible_keys                                                                                        key                                                      key_len  ref  rows  Extra                                                                                  \n1   SIMPLE       this_  index_merge  CategoryId,Deleted,PublishedOn,_ComputedDeletedValue,_Temporary_Flag,Published,_TestItemSessionGuid  Deleted,_ComputedDeletedValue,_Temporary_Flag,Published  1,1,1,1       6203  Using intersect(Deleted,_ComputedDeletedValue,_Temporary_Flag,Published); Using where  \n</code></pre>\n\n<p>Does this show that the query is using indexes everywhere, or can it be improved by adding other indexes?  Based on this: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/explain-output.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.1/en/explain-output.html</a>, it mentions that the <code>key</code> column shows the indexes actually used.  I have an index on every column.</p>\n\n<p>The query in question is the below:</p>\n\n<pre><code>SELECT SQL_NO_CACHE count(*) FROM \n\narticle this_ \n\n\nWHERE \n\n\n(this_._Temporary_Flag = 0 OR this_._Temporary_Flag = NULL) AND \nthis_.Published = 1 AND \n(this_.PublishedOn IS NULL OR this_.PublishedOn &lt;= '2012-10-30 18:46:18 ') AND \n(this_.Deleted = 0 OR this_.Deleted = NULL) AND \n(this_._ComputedDeletedValue = 0 OR this_._ComputedDeletedValue = NULL) AND\n((this_._TestItemSessionGuid IS NULL OR this_._TestItemSessionGuid = ''))\n\n AND NOT (this_.CategoryId IS NULL) \n</code></pre>\n\n<p>Table has approximately 140,000 records.  This query is taking 3 seconds to execute, and returning 135,725 as result.</p>\n"},{"tags":["database","math","database-design"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":12867238,"title":"If we make a number every millisecond, how much data would we have in a day?","body":"<p>I'm a bit confused here... I'm being offered to get into a project, where would be an array of certain sensors, that would give off reading every millisecond ( yes, 1000 reading in a second ). Reading would be a 3 or 4 digit number, for example like 818 or 1529. This reading need to be stored in a database on a server and accessed remotely.</p>\n\n<p>I never worked with such big amounts of data, what do you think, how much in terms of MBs reading from one sensor for a day would be?... 4(digits)x1000x60x60x24 ... = 345600000 bits ... right ? about 42 MB per day... doesn't seem too bad, right?</p>\n\n<p>therefor a DB of, say, 1 GB, would hold 23 days of info from 1 sensor, correct?</p>\n\n<p>I understand that MySQL &amp; PHP probably would not be able to handle it... what would you suggest, maybe some aps? azure? oracle?</p>\n"},{"tags":["android","database","listview","checkbox"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13083474,"title":"To implemennt the checkbox for customized listview","body":"<p>I have written the code to get the values from the database and bind that values to listview.For that I have used the customized listview now according to requirement I want the checkbox for my each item of the list.How to do that </p>\n\n<pre><code>image=(ImageView)findViewById(R.id.image);\n        note=(ImageButton)findViewById(R.id.note);\n        tick=(ImageButton)findViewById(R.id.tick);\n        cross=(ImageButton)findViewById(R.id.cross);\n        Intent intent = getIntent();\n        Bitmap photo = (Bitmap) intent.getParcelableExtra(\"photooo\");\n        image.setImageBitmap(photo);\n        if(photo!=null)\n        {\n            dbHelper = new RecordsDbAdapter(this);\n            dbHelper.open();\n            displayListView();\n        }\n\n    }\n    private void displayListView() {\n        Cursor cursor = dbHelper.fetchAllRecords();\n        String[] columns = new String[] {\n                RecordsDbAdapter.KEY_NAME,\n                RecordsDbAdapter.KEY_BIRTHDAY,\n\n        };\n        int[] to = new int[] {\n                R.id.name,\n                R.id.birthdate,\n        };\n        dataAdapter = new SimpleCursorAdapter(\n                this, R.layout.row,\n                cursor,\n                columns,\n                to);\n        ListView listView = (ListView) findViewById(R.id.list);\n        listView.setAdapter(dataAdapter);\n    }\n}\n</code></pre>\n"},{"tags":["database","image","upload"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":15,"score":0,"question_id":13154796,"title":"upload images in database?","body":"<p>I would like to make a script that adds news in a database, but every newsitem needs an image. But I don't know how I have to do the part with the images, do I have to add them also in the database or is their another way to do it? And what's the best way?</p>\n\n<p>Cheers</p>\n"},{"tags":["c#","sql","database","connection-string"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":105,"score":3,"question_id":13154605,"title":"SQL connection string in C#","body":"<p>I read different way of writing of connection string in article </p>\n\n<blockquote>\n  <p><a href=\"http://www.connectionstrings.com/sql-server-2012\" rel=\"nofollow\">http://www.connectionstrings.com/sql-server-2012</a></p>\n</blockquote>\n\n<p>Can you please explain me where to use <code>Server</code> and where to use <code>Data Source</code> ? Similarly where to use <code>Database</code> and where to use <code>Initial Catalog</code>. Please explain in detail. I am new in SQL Server.</p>\n"},{"tags":["database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":15,"score":-1,"question_id":13154573,"title":"How to retrieve data from sqlite for every increment day?","body":"<p>i'm developing an app using SqLite. Here the concept is, i'll be having database table with list of string values. Activity as to show one string value per day. As the day changes to new day, it needs to update the activity with next string value. So how to approach this problem, pls help me.</p>\n\n<p>Thanx in advance..</p>\n"},{"tags":["sql","database","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":13154604,"title":"Delete from database all selected rows except first two","body":"<p>I need to delete all dates from database except first two selected dates:</p>\n\n<pre><code>SELECT DateColumn \nFROM Table \nGROUP BY date(DateColumn) \nORDER BY DateColumn DESC\n</code></pre>\n\n<p>I want in one query to delete all dates except first two.</p>\n"},{"tags":["mysql","database","schema","reverse-engineering"],"answer_count":3,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":2757,"score":3,"question_id":408489,"title":"Anyone know of a decent free DB schema reverse engineering tool?","body":"<p>Looking for a tool that will automatically create a graphical representation of a MySQL DB schema from a live database, showing tables, columns, and relationships (an ER diagram). Ideally something that would run on OS X would be great but I'll take what I can get and run it on a different machine if necessary.</p>\n\n<p>I checked Google and del.icio.us. Seems most products that do this are commercial. I guess they're expensive to develop?</p>\n\n<p>MySQL has the <a href=\"http://dev.mysql.com/workbench/\" rel=\"nofollow\">Workbench</a> but it costs extra for the reverse engineering features.</p>\n\n<p>This open source tool <a href=\"http://schemaspy.sourceforge.net/\" rel=\"nofollow\">SchemaSpy</a> looks kind of promising, but maybe a little awkward to install and use. Before I dive into that, I thought I'd check whether anyone knows of something more \"instant gratification.\"</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13135580,"title":"mysql select related items based on current item","body":"<p>i have a scenario, lets say 3 users review a business of id 10, how can i get all the unique id of the user who review that business and and use that unique id to find another business review which is not equal to 10 ? </p>\n\n<p>sample table user_review:</p>\n\n<pre><code>review_id | user_id | business_id | rating | review_date\n  1           2          10           3       20121030124001\n  2           2          9            3       20121022120627\n  3           2          10           4       20121023120627\n  4           3          10           4       20121024120627\n  5           3          6            3       20121022140627\n  6           4          10           2       20121025120627\n  7           4          10           5       20121030120627\n  8           3          10           2       20121010120627\n  9           4          8            5       20121028120627\n</code></pre>\n\n<p>i should get result of these</p>\n\n<pre><code>review_id | user_id | business_id | rating | review_date\n  2           2          9            3       20121022120627\n  5           3          6            3       20121022140627\n  9           4          8            5       20121028120627\n</code></pre>\n\n<p>In a above result if there is 2 reviews for a same user_id and same business_id the latest one should be return.Thanks</p>\n"},{"tags":["mysql","database","web","enums","project-design"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":13153863,"title":"Which is the best way to store a gender column in MySQL for a web project","body":"<p>I've built a JavaEE project and need to store the gender of a user in MySQL. And I want to show this property when adding a new use account. For Example</p>\n\n<pre><code>&lt;select name=\"gender\"&gt;\n    &lt;option value=\"0\"&gt;Male&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Female&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Now I've found 2 approaches to store this property in MySQL.</p>\n\n<ol>\n<li><p>use integer/char to store gender column:</p>\n\n<pre><code>gender tinyint(1) not null;\n</code></pre>\n\n<p>in this case, I have to write these in my Java code:</p>\n\n<pre><code>public class StaticData {\n    public static final short MALE = 0;\n    public static final short FEMALE = 1;\n}\n</code></pre>\n\n<p>if so, my database will depend on my Java code to limit the value range and explain what 0/1 represents (low level depends on high level). I think that's not a good idea.</p></li>\n<li><p>use enum to store gender column:</p>\n\n<pre><code>gender enum(\"MALE\", \"FEMALE\") not null\n</code></pre>\n\n<p>and in this case, my Java code will depend on the enum's value. There are 2 ways to get these values:</p>\n\n<p>1) public enum Gender { MALE, FEMALE }, it's nearly the same with method 1.</p>\n\n<p>2) retrieve these values from MySQL, such as \"SHOW COLUMNS FROM user LIKE \\\"gender\\\"\" and then use a regular expression to split the string. But this is a verbose method. And have to query from db everytime I load a JSP. I think it would be expensive.</p></li>\n</ol>\n\n<p>Does anyone could tell me what is the best and a common way to solve this?</p>\n\n<p>Forgive my poor expression. &amp; Thx in advance</p>\n"},{"tags":["sql","database","performance","sqlite","sqlite3"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1218,"score":8,"question_id":8988915,"title":"SQLite: COUNT slow on big tables","body":"<p>I'm having a performance problem in SQLite with a SELECT COUNT(*) on a large tables.</p>\n\n<p>As I didn't yet receive a usable answer and I did some further testing, I edited my question to incorporate my new findings.</p>\n\n<p>I have 2 tables:</p>\n\n<pre><code>CREATE TABLE Table1 (\nKey INTEGER NOT NULL,\n... several other fields ...,\nStatus CHAR(1) NOT NULL,\nSelection VARCHAR NULL,\nCONSTRAINT PK_Table1 PRIMARY KEY (Key ASC))\n\nCREATE Table2 (\nKey INTEGER NOT NULL,\nKey2 INTEGER NOT NULL,\n... a few other fields ...,\nCONSTRAINT PK_Table2 PRIMARY KEY (Key ASC, Key2 ASC))\n</code></pre>\n\n<p>Table1 has around 8 million records and Table2 has around 51 million records, and the databasefile is over 5GB.</p>\n\n<p>Table1 has 2 more indexes:</p>\n\n<pre><code>CREATE INDEX IDX_Table1_Status ON Table1 (Status ASC, Key ASC)\nCREATE INDEX IDX_Table1_Selection ON Table1 (Selection ASC, Key ASC)\n</code></pre>\n\n<p>\"Status\" is required field, but has only 6 distinct values, \"Selection\" is not required and has only around 1.5 million values different from null and only around 600k distinct values.</p>\n\n<p>I did some tests on both tables, you can see the timings below, and I added the \"explain query plan\" for each request (QP). I placed the database file on an USB-memorystick so i could remove it after each test and get reliable results without interference of the disk cache. Some requests are faster on USB (I suppose due to lack of seektime), but some are slower (table scans).</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 105 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 153 sec\n    QP: SCAN TABLE Table1 (~1000000 rows)\nSELECT * FROM Table1 WHERE Key = 5123456\n    Time: 5 ms\n    QP: SEARCH TABLE Table1 USING INTEGER PRIMARY KEY (rowid=?) (~1 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 16 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\nSELECT * FROM Table1 WHERE Selection = 'SomeValue' AND Key &gt; 5123456 LIMIT 1\n    Time: 9 ms\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Selection (Selection=?) (~3 rows)\n</code></pre>\n\n<p>As you can see the counts are very slow, but normal selects are fast (except for the 2nd one, which took 16 seconds).</p>\n\n<p>The same goes for Table2:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table2\n    Time: 528 sec\n    QP: SCAN TABLE Table2 USING COVERING INDEX sqlite_autoindex_Table2_1(~1000000 rows)\nSELECT COUNT(Key) FROM Table2\n    Time: 249 sec\n    QP: SCAN TABLE Table2 (~1000000 rows)\nSELECT * FROM Table2 WHERE Key = 5123456 AND Key2 = 0\n    Time: 7 ms\n    QP: SEARCH TABLE Table2 USING INDEX sqlite_autoindex_Table2_1 (Key=? AND Key2=?) (~1 rows)\n</code></pre>\n\n<p>Why is SQLite not using the automatically created index on the primary key on Table1 ?\nAnd why, when he uses the auto-index on Table2, it still takes a lot of time ?</p>\n\n<p>I created the same tables with the same content and indexes on SQL Server 2008 R2 and there the counts are nearly instantaneous.</p>\n\n<p>One of the comments below suggested executing ANALYZE on the database. I did and it took 11 minutes to complete.\nAfter that, I ran some of the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 104 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~7848023 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 151 sec\n    QP: SCAN TABLE Table1 (~7848023 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 5 ms\n    QP: SEARCH TABLE Table1 USING INTEGER PRIMARY KEY (rowid&gt;?) (~196200 rows)\nSELECT COUNT(*) FROM Table2\n    Time: 529 sec\n    QP: SCAN TABLE Table2 USING COVERING INDEX sqlite_autoindex_Table2_1(~51152542 rows)\nSELECT COUNT(Key) FROM Table2\n    Time: 249 sec\n    QP: SCAN TABLE Table2 (~51152542 rows)\n</code></pre>\n\n<p>As you can see, the queries took the same time (except the query plan is now showing the real number of rows), only the slower select is now also fast.</p>\n\n<p>Next, I create dan extra index on the Key field of Table1, which should correspond to the auto-index. I did this on the original database, without the ANALYZE data. It took over 23 minutes to create this index (remember, this is on an USB-stick).</p>\n\n<pre><code>CREATE INDEX IDX_Table1_Key ON Table1 (Key ASC)\n</code></pre>\n\n<p>Then I ran the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 4 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Key(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 167 sec\n    QP: SCAN TABLE Table2 (~1000000 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 17 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\n</code></pre>\n\n<p>As you can see, the index helped with the count(*), but not with the count(Key).</p>\n\n<p>Finaly, I created the table using a column constraint instead of a table constraint:</p>\n\n<pre><code>CREATE TABLE Table1 (\nKey INTEGER PRIMARY KEY ASC NOT NULL,\n... several other fields ...,\nStatus CHAR(1) NOT NULL,\nSelection VARCHAR NULL)\n</code></pre>\n\n<p>Then I ran the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 6 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 28 sec\n    QP: SCAN TABLE Table1 (~1000000 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 10 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\n</code></pre>\n\n<p>Although the query plans are the same, the times are a lot better. Why is this ?</p>\n\n<p>The problem is that ALTER TABLE does not permit to convert an existing table and I have a lot of existing databases which i can not convert to this form. Besides, using a column contraint instead of table constraint won't work for Table2.</p>\n\n<p>Has anyone any idea what I am doing wrong and how to solve this problem ?</p>\n\n<p>I used System.Data.SQLite version 1.0.74.0 to create the tables and to run the tests I used SQLiteSpy 1.9.1.</p>\n\n<p>Thanks,</p>\n\n<p>Marc</p>\n"},{"tags":["database","t4"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":980,"score":0,"question_id":853173,"title":"Existing T4 database helpers for DB schema retrieval","body":"<p>Do you know any T4 template which would provide me with basic DB schema methods and properties (<code>GetTables</code>, <code>GetColumns</code>, <code>MapSqlTypesToClr</code>, etc.)? </p>\n\n<p>I know it's easy to retrieve that information, but there are a lot of extra helper functions around it, so why reinvent the wheel?</p>\n"},{"tags":["mysql","database","parallel-processing","mpi","mpich2"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13153072,"title":"How do deal with MySQL in MPI?","body":"<p>I wanna build parallel database system(using mysql,and take MPICH2 as the middleware).\n   There are 3 nodes in my MPI cluster,called A,B,C(A is the master,B and C are the slavers).A just broadcasts the SQL-statement to B and C(but for B and C,they store different data and information).For example,A send \"select * from table_a\" to B and C,when B and C get that query statement,both of them execute the SQL-statements,however,the problem occurs,how do the B and C send the result back to the A(reduce).mysql_store_result function will store the result,but how to send these result back to A(I wanna choose Remote Memory Access using MPI,is that possible)?</p>\n"},{"tags":["java","database","swing","jtable","jframe"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":23,"score":-4,"question_id":13153147,"title":"How to get data in jTable between two dates from database?","body":"<p>I want to get data from database in jTable between two dates, which I have selected in Jcombobox. Is there any method for that? Give me the full description with example. </p>\n"},{"tags":["mysql","database","jdbc","google-apps-script"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13152443,"title":"Google-Apps-Script Non-Cloud Database Connection Options","body":"<p>Is there any way to link a google-docs-spreadsheet with a database that is not in the cloud?</p>\n\n<p>Client has a very complex google-doc that they do not want to re-develop but want to make it multi-user with a common data repository.</p>\n\n<p>The ideal solution would be to link it to a standard SQL database.  If anyone out there can provide a way to do that I would be very grateful.</p>\n\n<p>I understand that JDBC in google-apps-script can only connect to a database in the cloud which client may struggle with.</p>\n"},{"tags":["java","database","testing","dbunit"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13142365,"title":"DB Unit should ignore order of rows","body":"<p>Is there a way telling DB-Unit to ignore the order in which rows should be compared? My problem is, that I do not know in which order the rows will be written to the database, but DB-Unit forces me to give an ordered list.</p>\n\n<p>What I want dbunit to do is: </p>\n\n<ul>\n<li>check that number of rows in database and expected dataset match (Solved: Works out of the box</li>\n<li>check whether each rows will be found only once in the result-set. (NOT SOLVED)</li>\n</ul>\n\n<p>Any ideas?</p>\n"},{"tags":["html","database","website","technologies","web-technologies"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":46,"score":-1,"question_id":13151079,"title":"Which technology to learn for my project","body":"<p>I'm a web development student, at this point I've learned</p>\n\n<p>Pretty decent:\nHTML, XHMTL, HTML5, CSS3</p>\n\n<p>Bits &amp; Bytes of:\nJavascript, SQL (MS SQL Server)</p>\n\n<p>I learn best by doing, and motivate myself on big projects rather than little questions and bits that school homework is usually comprised of.</p>\n\n<p>I would like to do a user review type website where people can anonymously leave a review, others can respond to it.  Tack on a PHPBB forum.</p>\n\n<p>Wondering what sorts of technologies I should target for this type idea.  Seems some kind of database, and something server side to interact with it...</p>\n\n<p>Just looking for a start line I guess if anybody has any input.</p>\n\n<p>Cheers.</p>\n"},{"tags":["mysql","database","database-design","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13150791,"title":"Database: Tables design/structure","body":"<p>I am new to database structure and design. Currently, I am in the process of creating a course catalog that will match course description according to course name and date. I have sketched one table describing the courses, which include <code>course_code</code>, <code>name</code> and every other relevant information. Then I sketched another table linking those courses to when they will be taught.</p>\n\n<p>I am missing classes that are classified as <code>all_year</code>. Also I am missing a way how to label the courses under a major. Since hypothetically a course can belong to several majors, putting the data from one into the other would force you to duplicate data. Any ideas how I would implement this two things to my tables design? Or suggestion in how to restructure my design. If possible please show me a query to execute in my <code>phpmyadmin</code> DB.</p>\n\n<p>Example of table courses</p>\n\n<pre><code>id serial\ncourse_code text\ndescription text\n</code></pre>\n\n<p>Example of table course_dates</p>\n\n<pre><code>id serial\ncourse_id serial\nyear date\nsemester \n</code></pre>\n\n<p>Example of table majors</p>\n\n<pre><code>major_id int\ncourse_id int\n</code></pre>\n\n<p>So a populated database could contain the following:</p>\n\n<pre><code>Table courses\nid course_code description\n1  INF1000     \"Basic programming\"\n2  INF1001     \"More basic programming\"\n</code></pre>\n\n<p>Table course_dates (0 for spring 1 for fall)</p>\n\n<pre><code>id course_id year semester\n1  1         2012 0\n2  1         2013 1\n3  2         2013 1\n</code></pre>\n"},{"tags":["database","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13150719,"title":"How could we design database for table job subjob and contract?","body":"<p>the relationship between table is following this\n1 job may contain 0-M subjob = 1 : M\n0-M subjob may have 0-M contract = M :M\nthe table I design are</p>\n\n<p>Job                  :JobID    </p>\n\n<p>Subjob:SubjobID</p>\n\n<p>Contract:ContractID</p>\n\n<p>Subjob_Contract:SubjobID,ContractID</p>\n\n<p>The problem I have face is\nwhen we want to view Job and contract.....incase Job doesnt have Subjob so how could contract link with Job       </p>\n"},{"tags":["database","vb.net","visual-studio-2008","ms-access"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":16374,"score":1,"question_id":799129,"title":"How do I connect to an Access 2007 (accdb) file in Visual Studio 2008","body":"<p>I'm in a college class using the Microsoft visual studio 2008 for visual basic and i have a project where i'm supposed to connect a database but it can't recognize the database file as a database.  I followed the book exactly so i don't know what the problem is.</p>\n"},{"tags":["php","sql","database","foreign-keys","relational"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13149852,"title":"SQL - Check for dependants of a single table","body":"<p>Lets say you have a table(A) holding a limited amount of data, and one of the fields being a primary key is being referenced by not one, but many foreign keys from other tables.</p>\n\n<p>The foreign keys of these tables have constraints against the before mentioned table(A) where should a row from table(A) be deleted and one of the other tables FKs holds a reference to it, the deletion will fail.</p>\n\n<p>OK, with the database design taken care of, it is now a matter of the software, PHP in this case.  An attempt is made to delete a row from table(A), how should a check be made to ensure that the row cannot be deleted if a reference is held?</p>\n\n<p>I have seen cases where every table is checked before hand, however that involves coding in every check which becomes a maintenance nightmare.  Additionally, I can't simply let the deletion be attempted, as this needs to be a cross database application, therefore the returned error codes wont be consistent.</p>\n\n<p>I am interested to know how people usually tackle this scenario.  I mentioned I am using PHP, but this situation should apply in any language.</p>\n\n<p>Thank you</p>\n"},{"tags":[".net","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":270,"score":0,"question_id":8595100,"title":"Embedded databases: SQLite or SQL CE?","body":"<p>I currently trying to decide which embedded database to pick up for new .NET project. There are 2 candidates: SQLite and SQL CE.</p>\n\n<p>I put the performance on first place. But it is also important, are there support for microORM tools like Dapper-dot-net or Simple.Data.</p>\n\n<p>If you tried both and have opinion on that, I would be happy to hear!  </p>\n"},{"tags":["database","database-design","data","null","foreign-keys"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13149643,"title":"Allow NULL or create univerified user","body":"<p>I am developing web application that allows users to post from a registered account or anonymously. Should I allow <code>NULL</code> in the <code>UserId</code> column in the <code>Post</code> table or create an unverified <code>User</code> and reference their id for unregistered users?</p>\n\n<p><br/></p>\n\n<h1>Unverified User</h1>\n\n<p><strong>User</strong></p>\n\n<pre><code>| UserId | Name       |\n+--------+------------+ \n| 1      | Unverified |\n| 2      | Real User  |\n</code></pre>\n\n<p><strong>Post</strong></p>\n\n<pre><code>| PostId | UserId | Post           |\n+--------+--------+----------------+\n| 1      | 1      | Blah blah...   |\n| 2      | 1      | Blah blah...   |\n| 3      | 2      | Blah blah...   |\n</code></pre>\n\n<p><br/></p>\n\n<h1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- VS -</h1>\n\n<h1>Allow <code>NULL</code></h1>\n\n<p><strong>User</strong></p>\n\n<pre><code>| UserId | Name       |\n+--------+------------+ \n| 1      | Real User  |\n</code></pre>\n\n<p><strong>Post</strong></p>\n\n<pre><code>| PostId | UserId | Post           |\n+--------+--------+----------------+\n| 1      | NULL   | Blah blah...   |\n| 2      | NULL   | Blah blah...   |\n| 3      | 1      | Blah blah...   |\n</code></pre>\n"},{"tags":["php","mysql","database","query","retrieve"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13148810,"title":"Wrong data retrieved from database","body":"<p>So, I want to retrieve the order of the elements of a list. The order is set before by the user, and are stored in the table below. Because I also want to retrieve name and description of the list elements I need to combine two tables (see below).</p>\n\n<p>However, what is actually retrieved is an array containing 16 elements (should be four because it only exists four elements as for now). The array is too long to post here, but I put it in a phpFiddle <a href=\"http://phpfiddle.org/main/code/b2a-vtp\" rel=\"nofollow\">to be found here</a> if you're interested.</p>\n\n<p>Well, I have really tried to find what's wrong (probably something easy as always), but with no luck.</p>\n\n<p>Thanks a lot for your time and help!</p>\n\n<p><strong>listModel.php:</strong></p>\n\n<pre><code>public function GetOrderedElements($userId, $listId) {\n\n// $userId = 46\n// $listId = 1\n\n        $query = \"SELECT le.listElemId, le.listElemName, le.listElemDesc, lo.listElemOrderPlace\n                    FROM listElement AS le\n                    INNER JOIN listElemOrder AS lo\n                    ON le.listId = lo.listId\n                    WHERE lo.userId = ?\n                    AND lo.listId = ?\n                    ORDER BY listElemId\";\n\n        $stmt = $this-&gt;m_db-&gt;Prepare($query);\n\n        $stmt-&gt;bind_param(\"ii\", $userId, $listId);\n\n        $listElements = $this-&gt;m_db-&gt;GetOrderedElements($stmt);\n\n        return $listElements;       \n    }\n</code></pre>\n\n<p><strong>database.php:</strong></p>\n\n<pre><code>public function GetOrderedElements(\\mysqli_stmt $stmt) {\n\n        if ($stmt === FALSE) {\n                throw new \\Exception($this-&gt;mysqli-&gt;error);\n        }\n\n        if ($stmt-&gt;execute() == FALSE) {\n                throw new \\Exception($this-&gt;mysqli-&gt;error);\n        }\n\n        if ($stmt-&gt;bind_result($listElemId, $listElemName, $listElemDesc, $listElemOrderPlace) == FALSE) {\n            throw new \\Exception($this-&gt;mysqli-&gt;error);\n        }\n\n        $listElements = array();\n\n        while ($stmt-&gt;fetch()) {\n            $listElements[] = array('listElemId' =&gt; $listElemId,\n                                 'listElemName' =&gt; $listElemName,\n                                 'listElemDesc' =&gt; $listElemDesc,\n                                 'listElemOrderPlace' =&gt; $listElemOrderPlace);\n        }\n\n        var_dump($listElements);\n\n        $stmt-&gt;Close();\n\n        return $listElements;\n    }\n</code></pre>\n\n<p><strong>from the database:</strong></p>\n\n<p><em>listElemOrder</em>:</p>\n\n<pre><code>listElemOrderId | listId | listElemId | userId | listElemOrderPlace\n      1              1          1          46           1\n      4              1          2          46           4\n      2              1          3          46           2\n      3              1          4          46           3\n</code></pre>\n\n<p><em>listElement</em>:</p>\n\n<pre><code>listElemId | listElemName | listId | listElemDesc | listElemOrderPlace\n      1          Elem A         1         Derp             NULL\n      2          Elem B         1         Herp             NULL\n      3          Elem C         1         Lorum            NULL\n      4          Elem D         1         Ipsum            NULL\n</code></pre>\n\n<p><strong>Note:</strong> 'listElemOrderPlace' in the table <em>listElement</em> is the final order of the elements (all users average), not to be mixed with the one with the same name in the other table, that's only a specific user's order of the list elements (which is the interesting one in this case).</p>\n"},{"tags":["database","postgresql-9.1","freepascal","lazarus","fpc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13136775,"title":"Lazarus Pascal / Delphi - Error connecting to database","body":"<p>I'm trying to connect to my postgresql database using Lazarus pascal. I get this error towards the end of compilation (F9).</p>\n\n<blockquote>\n  <p>mainform.pas(112,35) Error: Wrong number of parameters specified for\n  call to \"Create\"</p>\n</blockquote>\n\n<p>Here's my code:</p>\n\n<pre><code>  dbConn:= TSQLConnection.Create(nil);    \n  dbConn.HostName := '&lt;IP goes here&gt;';    \n  dbConn.DatabaseName:= 'dbMydb';    \n  dbconn.UserName:='me';    \n  dbConn.Password:='pas';    \n  dbConn.Open;\n\n  //Bind the Transaction AND Query components to the DB connection\n\n  dbQuery_Menu := TSQLQuery.Create; //This is the line with the error    \n  dbQuery_Menu.Database := dbConn;    \n  dbQuery_Menu.Transaction := dbTrans ;\n</code></pre>\n\n<p>I'm really exhausted trying to figure this out... Any help please...</p>\n\n<p>The above code was adapted <a href=\"http://wiki.freepascal.org/SqlDBHowto\" rel=\"nofollow\">from here</a>.</p>\n"},{"tags":["database","facebook","data"],"answer_count":9,"favorite_count":6,"up_vote_count":13,"down_vote_count":0,"view_count":8029,"score":13,"question_id":1794833,"title":"List of Cities by Country","body":"<p>Where does Facebook get their list of cities from? Is there a service that provides an up-to-date feed of cities based on country?</p>\n"},{"tags":["mysql","ruby","database","innodb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13147395,"title":"Mysql InnoDB and quickly applying large updates","body":"<p>Basically my problem is that I have a large table of about 17,000,000 products that I need to apply a bunch of updates to really quickly. </p>\n\n<p>The table has 30 columns with the id set as int(10) AUTO_INCREMENT.</p>\n\n<p>I have another table which all of the updates for this table are stored in, these updates have to be pre-calculated as they take a couple of days to calculate. This table is in the format of [ product_id int(10), update_value int(10) ].</p>\n\n<p>The strategy I'm taking to issue these 17 million updates quickly is to load all of these updates into memory in a ruby script and group them in a hash of arrays so that each update_value is a key and each array is a list of sorted product_id's.</p>\n\n<pre><code>{ \n   150: =&gt; [1,2,3,4,5,6],\n   160: =&gt; [7,8,9,10]\n}\n</code></pre>\n\n<p>Updates are then issued in the format of</p>\n\n<pre><code>UPDATE product SET update_value = 150 WHERE product_id IN (1,2,3,4,5,6);\nUPDATE product SET update_value = 160 WHERE product_id IN (7,8,9,10);\n</code></pre>\n\n<p>I'm pretty sure I'm doing this correctly in the sense that issuing the updates on sorted batches of product_id's should be the optimal way to do it with mysql / innodb.</p>\n\n<p>I'm hitting a weird issue though where when I was testing with updating ~13 million records, this only took around 45 minutes. Now I'm testing with more data, ~17 million records and the updates are taking closer to 120 minutes. I would have expected some sort of speed decrease here but not to the degree that I'm seeing.</p>\n\n<p>Any advice on how I can speed this up or what could be slowing me down with this larger record set? </p>\n\n<p>As far as server specs go they're pretty good, heaps of memory / cpu, the whole DB should fit into memory with plenty of room to grow.</p>\n"},{"tags":["php","database","search","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13147410,"title":"What DB search engine do you recommend for full text search?","body":"<p>I'm searching a search engine to my job.</p>\n\n<p>We use vbulletin forum , and we want to create new landing to search threads and posts.\nBut we can't use the vbulletin mysql database because in the future we will include other external results.</p>\n\n<p>For example Solr, Cassandra, MongoDb, Sphinx, etc</p>\n\n<p>So, I'm looking differente alternatives.</p>\n\n<p>I want something to include this:\n- big community (prefered spanish, or english, for example mongodb)\n- full text search , for search in ANY field/column/etc and get the complete data.\n- easy use in php and linux ( for example for install Solr extension in ubuntu to use in php I need to install hundreed of soft / plugins / extensions , It isn't good haha)\n- less queries (for example in sphinx i need to do some query in sphinx and then with the Ids do queries in mysql to get complete results)</p>\n\n<p>Some examples maybe was my fault or don't know to use correctly ...</p>\n\n<p>All suggestions are welcome and appreciated :)</p>\n\n<p>Best Regards !</p>\n"},{"tags":["database","query","configuration","nosql","ravendb"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":71,"score":5,"question_id":13083421,"title":"RavenDB Database Configuration","body":"<p>How to configure the RavenDB database that can be capable to sending too many requests, or receiving too large a response?</p>\n\n<p>By default, RavenDB will not allow operations that might compromise the stability of either the server or the client and a RavenDB session automatically enforces the following limitations:</p>\n\n<ol>\n<li><p>If a page size value is not specified, the length of the results will be limited to 128 results. At the server side as well, there is a hard limit to the page size of 1,024 results.</p></li>\n<li><p>The number of remote calls to the server per session is limited to 30.</p></li>\n</ol>\n\n<p>I want to configure DocumentStore/DocumentSession in the client that it increase limitation of page size value and number of remote calls the server per session.</p>\n"},{"tags":["mysql","database","table"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13147216,"title":"Friendship table","body":"<p>I've got a table called users which contains the users on my webpage. The users can make a friendship where user 1 request user 2 for a friendship.\nThe way it is working now is, that when user 1 sends the request I create a row in the friendship table which contains the two foreign keys: user_id_from and user_id_to and a field called status which can either be 0 (the request is pending), 1 or 2 either the user_id_to has accepted or declined the friendship request, respectively. And lastly the status can be 3 which indicates that one of the users have deleted the friendship.\nIs this the right approach, or should I create a temporary table which contains all the pending request, and then (if the request is accepted) it is inserted into a friendship table?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13147141,"title":"tool used to view edit save mysql database on remote server","body":"<p>Is there a way to give someone access to import>edit>export or log in and modify a table hosted on a remote server without giving them access to any other tables or anything else on the server? I basically have a server that has multiple domains and multiple tables. But I only want to give them access to one table on one domain.<br>\nP.S it has to be a simple userface like excel<br>\ninfo on my server;<br>\nMySQL® Databases,<br>\nphpMyAdmin,<br>\nRemote MySQL,<br>\nthings I have tried<br>\nexcel- can import but not export.<br>\nusing mysql workbench-way to confusing for the user<br>\n<a href=\"https://xx.xxx.xxx.xx:2083/3rdparty/phpMyAdmin/index.php\" rel=\"nofollow\">https://xx.xxx.xxx.xx:2083/3rdparty/phpMyAdmin/index.php</a> - gives them acess to all the tables(database username/pass does'nt work at all)<br></p>\n"},{"tags":["database","time-series"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":107,"score":1,"question_id":9373620,"title":"When to save time-series data","body":"<p>We're collecting market data on about 30,000 financial instruments.  We want to keep historical data for every 10 minutes or so.  It's all saved in a PostgreSQL table.  I am debating between two approaches:</p>\n\n<h2>\"Snapshot\"</h2>\n\n<p>Store price of all symbols every 10 minutes, with nice round timestamp.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Makes querying easy, since timestamp is known <em>a-priori</em> just by rounding to last 10-minute multiple.</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Larger data set</li>\n<li>Large inserts will affect performance</li>\n<li>Won't convey how often instrument data changes without storing additional information</li>\n</ul>\n\n<h2>\"Rolling Updates\"</h2>\n\n<p>Store each symbol only when it is updated, if time elapsed since last update is longer than 10 minutes.</p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Fewer and smaller (cheaper) inserts</li>\n<li>Smaller data set</li>\n<li>Data will more closely reflects actual frequency of changes (for instruments which change less than once every 10 minutes)</li>\n</ul>\n\n<p>Disadvantages:</p>\n\n<ul>\n<li>Queries will be more complex/expensive because timestamp of desired row isn't known.</li>\n</ul>\n\n<h2>Considerations</h2>\n\n<ul>\n<li>We have many more inserts than queries</li>\n<li>We will want to be able to scale to significantly more instruments, possibly slightly higher frequency updates.</li>\n</ul>\n\n<p>I have been doing \"Rolling Updates\" and I don't see any performance problem with the queries.  There is only a single multi-column index on the table, but inserts still seem to be much more expensive than queries, so this seems to be the better-suited method.  Is this a reasonable approach?  Are there other considerations I am missing?</p>\n"},{"tags":["database","file","office"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13146350,"title":"Is there a better way to store office files","body":"<p>I have a few clients that have large sets of office files i.e .doc , .xls and they arrange them in folders based by date or others organize them by subject but once they commit to the tree stucture searching is difficult based in another way that initially defined.</p>\n\n<p>Is there a database or a utility that can scan a directory tree and create a database with attributes for each file, i.e filename=attribute1 parentDir=attribute2 grandParentDir=attribute3 and also optionally add attributes manually for new files  ?</p>\n\n<p>Regards</p>\n"},{"tags":["mysql","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13095244,"title":"How to query 1 table with 6 columns with condition in 3 of the columns","body":"<p>All I'm trying to do is a query for my table that contains 6 columns with a condition that has to be met by 3 of those columns</p>\n\n<p>my table's information \ntable name My_table columns a1, a2, a3, a4, a5, a6</p>\n\n<p>the code I have tried is below, doesn't work of course</p>\n\n<pre><code>$myquery = \"SELECT * FROM My_table WHERE a2='$variable1' AND a3='$variable2' AND a6='$variable3' ORDER BY a2 ASC\";\n$myresult = mysql_query($myquery);\n</code></pre>\n\n<p>my result has to contain the rows that met the conditions above. </p>\n\n<p>What is the right way to do this?\nThanks in advance.</p>\n"},{"tags":["php","html","sql","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":13104939,"title":"How to search for special characters in my database with an sql query in an accent insensitive way?","body":"<p>I have a table in my db that contains several columns and in some of them there are special characters like á, é, í, ó, ú, Á, É, Í, Ó, Ú, ñ and Ñ. I have in my webpage a search box and by using this I make a query that searches my bd table and displays the results like this:</p>\n\n<p>searching form:</p>\n\n<pre><code>&lt;form action=\"resultado.php\" method=\"post\" name=\"form1\" id=\"form1\"&gt;\n    &lt;th scope=\"col\"&gt;&lt;label for=\"busqueda\"&gt;&lt;/label&gt;\n    &lt;input type=\"text\" name=\"buscar\" id=\"buscar\" width=\"auto\" placeholder=\"Buscar...\" height=\"auto\" /&gt;\n  &lt;/th&gt;\n  &lt;th scope=\"col\" align=\"center\" valign=\"top\"&gt;&lt;input type=\"submit\" name=\"ACTION\" class=\"button1\" value=\"Buscar\"&gt;&lt;/th&gt;\n&lt;/tr&gt;&lt;/form&gt;\n</code></pre>\n\n<p>Button function</p>\n\n<pre><code> if (@$_POST['ACTION']=='Buscar'){ \n $buscar = $_POST['buscar'];\n $query = \"SELECT * FROM Medios_table WHERE concat(id,UPPER(Id_Nombre),UPPER(Pais),UPPER(Estado),UPPER(Ciudad),UPPER(website),UPPER(Url),UPPER(Url2),UPPER(InfAnex) COLLATE uft8_unicode_ci) LIKE UPPER('%$buscar%') ORDER BY Id_Nombre ASC\";\n $busquedaresult = mysql_query($query);}\n</code></pre>\n\n<p>In my table I have several columns that contains words like \"Andalucía\" and \"España\" many times as a result from this query if I type in the search box \"andalucia\" nothing comes up, but if I type \"Andalucía\" now it does show up, if I search \"Espana\" nothing shows up but \"España\" works fine, i cannot make it accent insensitive. my table and column collation is utf8_unicode_ci and my webpage meta looks like this</p>\n\n<pre><code> &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n</code></pre>\n\n<p>I'm using a myPhpAdmin in my website to create or modify my db and it has the mySQL server 5.1.1</p>\n"},{"tags":["php","database","wordpress","wordpress-plugin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":13,"score":-2,"question_id":13145570,"title":"bbPress 2.x.x Wordpress plugin","body":"<p>What sorce file is running when user creates a new forum or topic.\nI'm created the checkbox that says \"Click here if users not be able to create topics in this forum\". So I need process this checkbox somewhere to apply that rule in db.\nI'll be grateful for any help!</p>\n"},{"tags":["php","mysql","sql","database","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":43,"score":1,"question_id":13145006,"title":"SQL Query for Find and Replace is not working","body":"<p>i want to run a find and replace query in my sql database using php my admin. The problem is that in the text that i want to find and replace are some \" characters and this causes problems when i run the command...</p>\n\n<p>i want to search for <code>align=\"right\"&gt;</code> and replace it by <code>align=\"left\"&gt;</code></p>\n\n<p>i did run this command but its not working:</p>\n\n<pre><code>UPDATE `ps_product_lang` SET `description` = replace(`description`,\"align=\"right\"&gt;\",\"align=\"left\"&gt;\");\n</code></pre>\n\n<p>So im wondering how should this query look like as there are \" characters? How is it possible to search for even much longer text and replace it using sql queries?</p>\n\n<p>many thanks</p>\n"},{"tags":["database","vba","ms-access"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13143591,"title":"Totals in reports when some values are calculated? MS Access","body":"<p>I am using a report to show wastage calculations after converting our stock.</p>\n\n<p>I am trying to get the totals to display at the bottom, however some of the columns are made up of fields that are calculated (such as sValue-Wastage)</p>\n\n<p>For these fields I can't seem to use <code>=Sum(rValue)</code>, it acts as though this is a variable that is to be decided by the user when I input this, it also adds square brackets around rValue (<code>=Sum([rValue])</code>).</p>\n\n<p>Is there some different way of acheiving this that I need to know about? I am trying to get:</p>\n\n<pre><code>=Sum(Wastage)\n</code></pre>\n\n<p>Where Wastage is:</p>\n\n<pre><code>=[sValue]-[rValue]\n</code></pre>\n\n<p>Thanks,\nBob P</p>\n"},{"tags":["sql","sql-server","database","tsql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13142433,"title":"Tables for recursive hierarchial data in SQL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1757260/simplest-way-to-do-a-recursive-self-join-in-sql-server\">Simplest way to do a recursive self-join in SQL Server?</a>  </p>\n</blockquote>\n\n\n\n<p>I have to create a table in SQL that will comprise of groups of items/products. Each new group made will be made under one of the <strong>pre-defined</strong> groups or the groups previously formed. I want to keep all this data in a SQL Table. So far, I have though of creating a table like this:</p>\n\n<ul>\n<li>Group ID</li>\n<li>Group Name</li>\n<li>Group Under (This will store the ID of the group under which this group is from</li>\n</ul>\n\n<p>But this can only refer to just the next level, how will I get to know who is the super-parent of this group.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>I have groups <code>A, B, C</code>. </li>\n<li><code>A</code> has further subgroups <code>A1, A2, A3</code>. </li>\n<li><code>A1</code> has further subgroups, <code>A11, A12, A13</code>. </li>\n</ul>\n\n<p>I will I have the information about super-parent group i.e <code>A</code> from <code>A11</code> or <code>A22</code> or <code>A33</code>? </p>\n\n<p>Let me know if the problem is not clear..</p>\n"},{"tags":["sql","database","excel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13143979,"title":"using excel 2007 to acess external sql database TO import>edit>export table","body":"<p>Is there a way or guide to connect to remote sql server were you can import>modify>export table in excel that uses the excel interface or something similar? Without having to log into the server directly. (multiple domains on one server I don't want them to access)<br></p>\n\n<p>using the sql button in the data tab lets you import and edit the file but only lets you export to a new table(go figure)<br>\n<a href=\"http://i47.tinypic.com/e6qgdj.jpg\" rel=\"nofollow\">http://i47.tinypic.com/e6qgdj.jpg</a><br></p>\n\n<p>using mysql workbench is way to confusing for the user<br>\n<a href=\"http://i45.tinypic.com/2z4fh1f.jpg\" rel=\"nofollow\">http://i45.tinypic.com/2z4fh1f.jpg</a><br></p>\n\n<p>I simply want the user to:<br>\n1. import the table into excel from external database.<br>\n2. edit database in excel.<br>\n3. export back into database overwriting old file.<br>\n<a href=\"http://i48.tinypic.com/2lm7zi1.jpg\" rel=\"nofollow\">http://i48.tinypic.com/2lm7zi1.jpg</a><br></p>\n\n<p>The only method I can't get to work is this one. Im assuming its the one I want too.<br>\n<a href=\"http://i49.tinypic.com/bdjw51.jpg\" rel=\"nofollow\">http://i49.tinypic.com/bdjw51.jpg</a><br></p>\n"},{"tags":["android","sql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":34,"score":-4,"question_id":13144357,"title":"android - application using online database - tutorial","body":"<p>I want to develop and app that uses a login with a username and then receives/updates items from an online database.</p>\n\n<p>I already read for example that i can use: Android-PHP-MySQL. (Or is there another simple free way?)</p>\n\n<p>The tutorials i found online are either not complete or are not in android language.</p>\n\n<p>Can someone please direct me to a full tutorial ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["mysql","sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13143705,"title":"SELECT INTO multiple @variables MySQL","body":"<p>I wish to store the result of a <code>SELECT</code> statment into multiple variables.</p>\n\n<p>I know that the result of this query will always return <code>6 ints</code> from 6 different rows.</p>\n\n<p>I have tried using the following code :</p>\n\n<pre><code>SELECT id INTO @photo1, @photo2, @photo3, @photo4, @photo5, @photo6 \nFROM album WHERE uploaded = @time AND scene_id = NEW.id;\n</code></pre>\n\n<p><code>album</code> is a table.\n<code>uploaded</code> is a field in <code>album</code>.\n<code>scene_id</code> is a field in <code>album</code>.\n<code>id</code> is the <code>PRIMARY_KEY</code> of <code>album</code>.</p>\n\n<p>I have read that the number of variables must equal the number of fields. Which is obviously not the case in the above statement. </p>\n\n<p>With this in mind, how would I overcome this problem?</p>\n\n<p>This code is being used within a MySQL Trigger.</p>\n\n<p>EDIT : Relevant Table schema as per request :</p>\n\n<pre><code>person   -- name of table   \nid | approved -- id is PK\n\nalbum   -- name of table\nid | uploaded | scene_id  -- id is PK\n</code></pre>\n\n<p>Trigger is fired on change of <code>approved</code> from 0 to 1</p>\n"},{"tags":["php","sql","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13143965,"title":"PHP Export Date range","body":"<p>I have a working database export to xls but I need it to export a particular date range based on the 'closed' date. (See code below).</p>\n\n<p>For example, I'd like it to export all 'closed' dates for last month and/or this month (Range: Sept 1, 2012 to Sept 30, 2012  or  Oct 1, 2012 to Oct 31, 2012)</p>\n\n<pre><code>&lt;?PHP\n\n\n//EDIT YOUR MySQL Connection Info:\n$DB_Server = \"localhost\";        //your MySQL Server\n$DB_Username = \"root\";                 //your MySQL User Name\n$DB_Password = \"\";                //your MySQL Password\n$DB_DBName = \"ost_helpdesk\";                //your MySQL Database Name\n$DB_TBLName = \"ost_ticket\";                //your MySQL Table Name\n\n//$DB_TBLName,  $DB_DBName, may also be commented out &amp; passed to the browser\n//as parameters in a query string, so that this code may be easily reused for\n//any MySQL table or any MySQL database on your server\n\n//DEFINE SQL QUERY:\n//edit this to suit your needs\n$sql = \"Select ticketID, name, company, subject, closed from $DB_TBLName ORDER BY closed DESC\";\n\n\n//Optional: print out title to top of Excel or Word file with Timestamp\n//for when file was generated:\n//set $Use_Titel = 1 to generate title, 0 not to use title\n$Use_Title = 1;\n//define date for title: EDIT this to create the time-format you need\n$now_date = DATE('m-d-Y');\n//define title for .doc or .xls file: EDIT this if you want\n$title = \"MDT Database Dump For Table $DB_TBLName from Database $DB_DBName on $now_date\";\n/*\n\nLeave the connection info below as it is:\njust edit the above.\n\n(Editing of code past this point recommended only for advanced users.)\n*/\n//create MySQL connection\n$Connect = @MYSQL_CONNECT($DB_Server, $DB_Username, $DB_Password)\n     or DIE(\"Couldn't connect to MySQL:&lt;br&gt;\" . MYSQL_ERROR() . \"&lt;br&gt;\" . MYSQL_ERRNO());\n//select database\n$Db = @MYSQL_SELECT_DB($DB_DBName, $Connect)\n     or DIE(\"Couldn't select database:&lt;br&gt;\" . MYSQL_ERROR(). \"&lt;br&gt;\" . MYSQL_ERRNO());\n//execute query\n$result = @MYSQL_QUERY($sql,$Connect)\n     or DIE(\"Couldn't execute query:&lt;br&gt;\" . MYSQL_ERROR(). \"&lt;br&gt;\" . MYSQL_ERRNO());\n\n//if this parameter is included ($w=1), file returned will be in word format ('.doc')\n//if parameter is not included, file returned will be in excel format ('.xls')\nIF (ISSET($w) &amp;&amp; ($w==1))\n{\n     $file_type = \"msword\";\n     $file_ending = \"doc\";\n}ELSE {\n     $file_type = \"vnd.ms-excel\";\n     $file_ending = \"xls\";\n}\n//header info for browser: determines file type ('.doc' or '.xls')\nHEADER(\"Content-Type: application/$file_type\");\nHEADER(\"Content-Disposition: attachment; filename=MDT_DB_$now_date.$file_ending\");\nHEADER(\"Pragma: no-cache\");\nHEADER(\"Expires: 0\");\n\n/*    Start of Formatting for Word or Excel    */\n\nIF (ISSET($w) &amp;&amp; ($w==1)) //check for $w again\n{\n     /*    FORMATTING FOR WORD DOCUMENTS ('.doc')   */\n     //create title with timestamp:\n     IF ($Use_Title == 1)\n     {\n         ECHO(\"$title\\n\\n\");\n     }\n     //define separator (defines columns in excel &amp; tabs in word)\n     $sep = \"\\n\"; //new line character\n\n     WHILE($row = MYSQL_FETCH_ROW($result))\n     {\n         //set_time_limit(60); // HaRa\n         $schema_insert = \"\";\n         FOR($j=0; $j&lt;mysql_num_fields($result);$j++)\n         {\n         //define field names\n         $field_name = MYSQL_FIELD_NAME($result,$j);\n         //will show name of fields\n         $schema_insert .= \"$field_name:\\t\";\n             IF(!ISSET($row[$j])) {\n                 $schema_insert .= \"NULL\".$sep;\n                 }\n             ELSEIF ($row[$j] != \"\") {\n                 $schema_insert .= \"$row[$j]\".$sep;\n                 }\n             ELSE {\n                 $schema_insert .= \"\".$sep;\n                 }\n         }\n         $schema_insert = STR_REPLACE($sep.\"$\", \"\", $schema_insert);\n         $schema_insert .= \"\\t\";\n         PRINT(TRIM($schema_insert));\n         //end of each mysql row\n         //creates line to separate data from each MySQL table row\n         PRINT \"\\n----------------------------------------------------\\n\";\n     }\n}ELSE{\n     /*    FORMATTING FOR EXCEL DOCUMENTS ('.xls')   */\n     //create title with timestamp:\n     IF ($Use_Title == 1)\n     {\n         ECHO(\"$title\\n\");\n     }\n     //define separator (defines columns in excel &amp; tabs in word)\n     $sep = \"\\t\"; //tabbed character\n\n     //start of printing column names as names of MySQL fields\n     FOR ($i = 0; $i &lt; MYSQL_NUM_FIELDS($result); $i++)\n     {\n         ECHO MYSQL_FIELD_NAME($result,$i) . \"\\t\";\n     }\n     PRINT(\"\\n\");\n     //end of printing column names\n\n     //start while loop to get data\n     WHILE($row = MYSQL_FETCH_ROW($result))\n     {\n         //set_time_limit(60); // HaRa\n         $schema_insert = \"\";\n         FOR($j=0; $j&lt;mysql_num_fields($result);$j++)\n         {\n             IF(!ISSET($row[$j]))\n                 $schema_insert .= \"NULL\".$sep;\n             ELSEIF ($row[$j] != \"\")\n                 $schema_insert .= \"$row[$j]\".$sep;\n             ELSE\n                 $schema_insert .= \"\".$sep;\n         }\n         $schema_insert = STR_REPLACE($sep.\"$\", \"\", $schema_insert);\n         //this corrects output in excel when table fields contain \\n or \\r\n         //these two characters are now replaced with a space\n         $schema_insert = PREG_REPLACE(\"/\\r\\n|\\n\\r|\\n|\\r/\", \" \", $schema_insert);\n         $schema_insert .= \"\\t\";\n         PRINT(TRIM($schema_insert));\n         PRINT \"\\n\";\n\n     }\n}\n\n?&gt;\n</code></pre>\n"},{"tags":["database","api"],"answer_count":4,"favorite_count":4,"up_vote_count":11,"down_vote_count":0,"view_count":10994,"score":11,"question_id":57106,"title":"Anyone know of an NFL or NBA api?","body":"<p>How do sites like yahoo get their NFL information.  I wanted to tap into NFL information for a web app.</p>\n"},{"tags":["database","database-design","amazon-s3","amazon-web-services","filesystems"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13096313,"title":"Store each AWS S3 file in a database as a separate row?","body":"<p>I know <a href=\"http://stackoverflow.com/questions/3748/storing-images-in-db-yea-or-nay\">alot has been said on SO on how a file should be represented in a database</a> but I couldn't find any Stackoverflow questions which went deeper into how <strong>multiple</strong> related files should be stored.</p>\n\n<p>I'm using Amazon S3 and have grouped images into albums (i.e., \"folders\") inside a single S3 bucket. I've read that it is a good practice to at least store the file path in one's database. </p>\n\n<p>My question is what do with <strong>multiple</strong> files all with the same \"folder\" path. Here's my S3 structure:</p>\n\n<pre><code>my-bucket/folder1/img1a.jpg\nmy-bucket/folder1/img1b.jpg\n\nmy-bucket/folder2/img2a.jpg\nmy-bucket/folder2/img2b.jpg\n</code></pre>\n\n<p>Some questions: </p>\n\n<ol>\n<li>Should I represent this with 2 or 4 rows in my database?</li>\n<li>If each image is actually stored in S3 as multiple images of different sizes (40x40, 480x320), how might it be best to keep that information in my database <strong>and</strong> in my bucket?</li>\n<li>Looking at the AWS S3 SDK, I couldn't figure out how to get all the file URLs in a particular \"folder\". Am I missing something?</li>\n</ol>\n"},{"tags":["php","mysql","database","table"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":13119611,"title":"Table not creating php mysql database","body":"<p>i am trying to create a table using PHP and MySQL. the first table will not create on the data base but the second one will. i think its my parameters/constraints. here is my code:</p>\n\n<pre><code>if ($conn==true){\n     $tablefriends = \"CREATE TABLE IF NOT EXISTS friends (\n        friend_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,\n        friend_email VARCHAR(64) NOT NULL PRIMARY KEY ,\n        password VARCHAR(16) NOT NULL ,\n        profile_name VARCHAR(32) NOT NULL ,\n        date_started DATE NOT NULL ,\n        num_of_friends INT UNSIGNED ZEROFILL NULL default '0'\n        );\";\n\n    $tablemyfriends = \"CREATE TABLE IF NOT EXISTS myfirends ( \n        friend_id1 INT NOT NULL , \n        friend_id2 INT NOT NULL \n        );\";\n\n    $resulttf = @mysqli_query($conn, $tablefriends);\n    if($resulttf==false){\n        echo \"&lt;p&gt;Failed to create friends table&lt;/p&gt;\";\n        }\n    $resulttmf = @mysqli_query($conn, $tablemyfriends);\n    if($resulttmf==false){\n        echo \"&lt;p&gt;Failed to create myfriends table&lt;/p&gt;\"; \n        }else{\n\n    echo\"&lt;p&gt;Tables successfully created&lt;/p&gt;\";\n        }\n    mysqli_close($conn);\n}\n\nelse {\n    echo \"&lt;p&gt;Failed to connect&lt;/p&gt;\";\n    }\n</code></pre>\n\n<hr>\n\n<p>Thanks guys! so quick!!</p>\n\n<p>I don't know why the tutor has said to put in the primary in twice</p>\n"},{"tags":["ios","database","api","cloud"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13143505,"title":"Outsourcing online database support for iPhone app, recommendations?","body":"<p>I'm building an iPhone and I want it to be able to connect to an online database.\nCapacity wise I expect every user to need its own table, one user could submit data that needs to be logged in other user's table, but there won't be huge amount of data per user. </p>\n\n<p>I'm not the most experienced programmer and I have my hands full on the iOS programming and I'm looking for an API and DB service that could make my life much easier.\nLooking at Amazon, they offer some services that might give me what I need but I haven't got enough knowledge to make a good choice at this time.</p>\n\n<p>Could someone point me in the right direction? \nWhat kind of database should I use?\nEasy to use, online database with maybe its own API?</p>\n"},{"tags":["sql","database","oracle","concatenation","string-aggregation"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":86,"score":3,"question_id":13142481,"title":"Oracle concatenation of columns with comma","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/468990/how-can-i-combine-multiple-rows-into-a-comma-delimited-list-in-oracle\">How can I combine multiple rows into a comma-delimited list in Oracle?</a>  </p>\n</blockquote>\n\n\n\n<p>Could some one please tell me how to achieve the following?</p>\n\n<p>Table:</p>\n\n<pre><code>efforts_id        cycle_name      release_name \n123               quarter         march \n123               half            april \n123               full            april\n124               quarter         may\n</code></pre>\n\n<p>My expected output:</p>\n\n<pre><code>efforts_id        cycle_name            release_name \n123               quarter,half,full     march,april\n124               quarter               may\n</code></pre>\n\n<p>I am a beginner in oracle so not sure how to do this. Any help would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["mysql","database","string","where-clause"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13142784,"title":"MySQL Replace characters to match in where clause","body":"<p>I have a table that has a column named 'name'. </p>\n\n<p>Example:</p>\n\n<pre><code>ID   Name       Other      Field\n1    that's      x           y\n2    o-k         x           y\n</code></pre>\n\n<p>I want to be able to perform something like:</p>\n\n<pre><code>Select * FROM table WHERE Name like %thats%\n</code></pre>\n\n<p>And have the row with ID 1 as result, or execute:</p>\n\n<pre><code> Select * FROM table WHERE Name like %ok%\n</code></pre>\n\n<p>and have the row with ID 2 as result.</p>\n\n<p>So far I only managed to execute:</p>\n\n<pre><code>SELECT *, REPLACE( Name , '.', '' ) AS Name FROM table\n</code></pre>\n\n<p>That one returns the whole table with the points replaced for the Name column.</p>\n\n<p>Any ideas?</p>\n\n<p>Thank you!</p>\n"},{"tags":["c#","database","linq","entity-framework"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13138243,"title":"Entity Framework: Linq query finds entries by original data but returns reference to changed entry","body":"<p>I just spent some days now to find a bug caused by some strange behavior of the Entity Framework (version 4.4.0.0). For an explanation I wrote a small test program. At the end you'll find some questions I have about that.</p>\n\n<h2>Declaration</h2>\n\n<p>Here we have a class \"Test\" which represents our test dataset. It only has an ID (primary key) and a \"value\" property. In our TestContext we implement a DbSet Tests, which shall handle our \"Test\" objects as a database table.</p>\n\n<pre><code>public class Test\n{\n    public int ID { get; set; }\n    public int value { get; set; }\n}\n\npublic class TestContext : DbContext\n{\n    public DbSet&lt;Test&gt; Tests { get; set; }\n}\n</code></pre>\n\n<h2>Initialization</h2>\n\n<p>Now, we remove any (if existent) entries from our \"Tests\" table and add our one and only \"Test\" object. It has ID=1 (primary key) and value=10.</p>\n\n<pre><code>// Create a new DBContext...\nTestContext db = new TestContext();\n\n// Remove all entries...\nforeach (Test t in db.Tests) db.Tests.Remove(t);\ndb.SaveChanges();\n\n// Add one test entry...\ndb.Tests.Add(new Test { ID = 1, value = 10 });\ndb.SaveChanges();\n</code></pre>\n\n<h2>Tests</h2>\n\n<p>Finally, we run some tests. We select our entry by it's original value (=10) and we change the \"value\" of our entry to 4711. BUT, we do not call db.SaveChanges(); !!!</p>\n\n<pre><code>// Find our entry by it's value (=10)\nvar result = from r in db.Tests\n             where r.value == 10\n             select r;\nTest t2 = result.FirstOrDefault();\n\n// change its value from 10 to 4711...\nt2.value = 4711;\n</code></pre>\n\n<p>Now, we try to find the (old) entry by the original value (=10) and do some tests on the results of that.</p>\n\n<pre><code>// now we try to select it via its old value (==10)\nvar result2 = from r in db.Tests\n             where r.value == 10\n             select r;\n\n// Did we get it?\nif (result2.FirstOrDefault() != null &amp;&amp; result2.FirstOrDefault().value == 4711)\n{\n    Console.WriteLine(\"We found the changed entry by it's old value...\");\n}\n</code></pre>\n\n<p>When running the program we'll actually see \"We found the changed entry by it's old value...\". That means we have run a query for r.value == 10, found something... This would be acceptable. BUT, get receive the already changed object (not fulfilling value == 10)!!!</p>\n\n<p><strong>Note:</strong> You'll get an empty result set for \"where r.value == 4711\".</p>\n\n<p>In some further testing, we find out, that the Entity Framework always hands out a reference to the same object. If we change the value in one reference, it's changed in the other one too. Well, that's ok... but one should know it happens.</p>\n\n<pre><code>Test t3 = result2.FirstOrDefault();    \nt3.value = 42;\nif (t2.value == 42)\n{\n    Console.WriteLine(\"Seems as if we have a reference to the same object...\");\n}\n</code></pre>\n\n<h2>Summary</h2>\n\n<p>When running a LINQ query on the same Database Context (without calling SaveChanges()) we will receive references to the same object, if it has the same primary key. The strange thing is: Even, if we change an object we will find it (only!) by it's old values. But we will receive a reference to the already changed object. This means that the restrictions in our query (value == 10) is not guaranteed for any entries that we changed since our last call of SaveChanges().</p>\n\n<h2>Questions</h2>\n\n<p>Of course, I'll probably have to live with some effects here. But I, would like to avoid to \"SaveChanges()\" after every little change. Especially, because I would like to use it for transaction handling... to be able to revert some changes, if something goes wrong.</p>\n\n<p>I would be glad, if anyone could answer me one or even both of the following questions:</p>\n\n<ol>\n<li><p>Is there a possibility to change the behavior of entity framework to work as if I would communicate with a normal database during a transaction? If so... how to do it?</p></li>\n<li><p>Where is a good resource for answering \"How to use the context of entity framework?\" which answers questions like \"What can I rely on?\" and \"How to choose the scope of my DBContext object\"?</p></li>\n</ol>\n\n<h2>EDIT #1</h2>\n\n<p>Richard just explained how to access the original (unchanged) database values. While this is valuable and helpful I've got the urge to clarify the goal ... </p>\n\n<p>Let's have a look at what happens when using SQL. We setup a table \"Tests\":</p>\n\n<pre><code>CREATE TABLE Tests (ID INT, value INT, PRIMARY KEY(ID));\nINSERT INTO Tests (ID, value) VALUES (1,10);\n</code></pre>\n\n<p>Then we have a transaction, that first looks for entities whose values are 10. After this, we update the value of these entries and look again for those entries. In SQL we already work on the updated version, so we will not find any results for our second query. After all we do a \"rollback\", so the value of our entry should be 10 again...</p>\n\n<pre><code>START TRANSACTION;\n\nSELECT ID, value FROM Tests WHERE value=10; {1 result}\nUPDATE Tests SET value=4711 WHERE ID=1; {our update}\n\nSELECT ID, value FROM Tests WHERE value=10; {no result, as value is now 4711}\n\nROLLBACK; { just for testing transactions... }\n</code></pre>\n\n<p>I would like to have exactly this behavior for the Entity Framework (EF), where db.SaveChanges(); is equivalent to \"COMMIT\", where all LINQ queries are equivalent to \"SELECT\" statements and every write access to an entity is just like an \"UPDATE\". I don't care about when the EF does actually calls the UPDATE statement, but it should behave the same way as using a SQL Database the direct way... Of course, if \"SaveChanges()\" is called and returning successfully it should be guaranteed that all data was persisted correctly.</p>\n\n<p>Note: Yes, I could call db.SaveChanges() before every query, but then I would loose the possibility for a \"Rollback\".</p>\n\n<p>Regards,</p>\n\n<p>Stefan</p>\n"},{"tags":["php","mysql","database","email","input-validation"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":73,"score":-1,"question_id":13141778,"title":"error in PHP code for email validation","body":"<p>I am trying to create an email validation form for my database but am having a number of issues. When i try and run the code below i get the error no database selected.  </p>\n\n<p>I also get an undefined variable error. I want the put the name of the user into my database under the username field, but apparently $name is an undefined variable. error on line xx undefined variable<code>mysql_query(\"INSERT INTO registrations (username, password, email, hash) VALUES( '\". mysql_real_escape_string($name) .\"',</code>. </p>\n\n<p>I am using WAMP server. The name of the database is sitememberdetails, and the name of the \ntable i need the information put into is registrations. I am pretty new to this - Could anyone tell me how i would define the variable and how i select the db( even though it already appears to be selected?) </p>\n\n<pre><code>     &lt;?php\n\n             $host = \"localhost\";\n             $username = \"\";\n             $password = \"\";\n             $databasename = \"sitememberdetails\";\n             $email=\"xxxxxx@xxxxxxxx.xxx\";\n\n\n              $connection = mysql_connect($host,$username,$password) or die        \n             (\"Error: \".mysql_error());\n\n               mysql_select_db($databasename);(\"sitememberdetails\") or  \n\n               die(mysql_error());   \n\n\n\n                    if(isset($_POST['name']) &amp;&amp; !empty($_POST['name']) AND  \n\n                    isset($_POST['email']) &amp;&amp; !empty($_POST['email'])){  \n                     $name = mysql_real_escape_string($_POST['name']);  \n                     $email = mysql_real_escape_string($_POST['email']); }  \n\n\n\n                      if(!preg_match(\"/^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a- \n\n                        z0-9-]+)*(\\.[a-z]{2,3})$/i\", $email)){\n\n$msg = 'The email you have entered is invalid, please try again.';  \n                }else{  \n\n                    $msg = 'Your account has been made, &lt;br /&gt; please verify it     \n\n              by clicking the activation `enter code here`link that has been send to  \n\n                 your email.';  \n                       }  \n\n\n                        $hash = md5( rand(0,1000) ); \n\n\n                         $password = rand(1000,5000); \n\n\n\n                        mysql_query(\"INSERT INTO registrations (username, password,  \n\n                          email, hash) VALUES( \n                          '\". mysql_real_escape_string($name) .\"', \n                          '\". mysql_real_escape_string(md5($password)) .\"', \n                          '\". mysql_real_escape_string($email) .\"', \n                          '\". mysql_real_escape_string($hash) .\"') \") or  \n\n                          die(mysql_error());\n\n\n\n                             $to      = $email; // Send email to our user  \n                      $subject = 'Signup | Verification'; // Give the email a subject  \n                      $message = ' \n                       Thanks for signing up! \n                      Your account has been created, you can login with the following  \n\n                       credentials after you have activated your account by pressing  \n\n                       the url below. \n\n                 Username: '.$name.' \n                 Password: '.$password.' \n\n                      Please click this link to activate your account: \n                      http://www.yourwebsite.com/verify.php?email='.$email.'&amp; \n\n                      hash='.$hash.' \n                       ';  \n                     $headers = 'From:noreply@yourwebsite.com' . \"\\r\\n\"; // Set from  \n\n                       headers  \n                       mail($to, $subject, $message, $headers); // Send our email  \n\n\n                        ?&gt;\n</code></pre>\n"},{"tags":["objective-c","ios","database","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13006383,"title":"data needs 10 min to load data into core-database","body":"<p>I am working with a core database to save my data that I get back from a webservice into my app. But this is very very slow. Any idea how this comes? What I do is the following. I have a class for getting the data from the webservice. like you can see over here.</p>\n\n<pre><code>     GenkData.h \n\n            + (NSArray *)getNews;\n     GenkData.m\n+ (NSDictionary *)executeGenkFetch:(NSString *)query\n{\n    query = [NSString stringWithFormat:@\"%@\", query];\n    query = [query stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n    // NSLog(@\"[%@ %@] sent %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), query);\n    NSData *jsonData = [[NSString stringWithContentsOfURL:[NSURL URLWithString:query] encoding:NSUTF8StringEncoding error:nil] dataUsingEncoding:NSUTF8StringEncoding];\n    NSError *error = nil;\n    NSDictionary *results = jsonData ? [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers|NSJSONReadingMutableLeaves error:&amp;error] : nil;\n    if (error) NSLog(@\"[%@ %@] JSON error: %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), error.localizedDescription);\n    // NSLog(@\"[%@ %@] received %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), results);\n    return results;\n}\n\n+ (NSArray *)getNews\n{\n    NSString *request = [NSString stringWithFormat:@\"http://www.krcgenk.be/mobile/json/request/news/type/ipad\"];\n    return [[self executeGenkFetch:request] valueForKey:@\"news\"];\n}\n</code></pre>\n\n<p>Then in my first view controller that shows up I have a method that for fetching my data in my core database.</p>\n\n<pre><code>- (void)fetchGenkDataIntoDocument:(UIManagedDocument *)document\n{\n    NSLog(@\"Fetch data\");\n    dispatch_queue_t fetchQ = dispatch_queue_create(\"Genk fetcher\", NULL);\n    dispatch_async(fetchQ, ^{\n\n        NSArray *news           = [GenkData getNews];\n\n        [document.managedObjectContext performBlock:^{ // perform in the NSMOC's safe thread (main thread)\n\n            int newsId          = 0;\n            //int trainingIndex   = -1;\n            for (NSDictionary *genkInfo in news) {\n                NSLog(@\"Begint met nieuwsitem\");\n                newsId++;\n               [News newsWithGenkInfo:genkInfo inManagedObjectContext:document.managedObjectContext withNewsId:newsId];\n                NSLog(@\"Einde met nieuwsitem\");\n            }\n }];\n    });\n    NSLog(@\"einde fethdata\");\n}\n</code></pre>\n\n<p>Next I have a category of the NSManagerd object subclass of news where I do the following.</p>\n\n<pre><code>+ (News *)newsWithGenkInfo:(NSDictionary *)genkInfo\n    inManagedObjectContext:(NSManagedObjectContext *)context\n                withNewsId:(int)newsId\n{\n    News *news = nil;\n\n    news = [NSEntityDescription insertNewObjectForEntityForName:@\"News\"\n                                                     inManagedObjectContext:context];\n\n    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];\n    [dateFormatter setDateFormat:@\"dd/MM/yyyy\"];\n    [dateFormatter setTimeZone:[NSTimeZone timeZoneWithAbbreviation:@\"GMT+0:00\"]];\n        NSDate *date = [dateFormatter dateFromString:[genkInfo objectForKey:NEWS_DATE]];\n        news.title              = [genkInfo objectForKey:NEWS_TITLE];\n        news.date               = date;\n        news.genk_description   = [genkInfo objectForKey:NEWS_DESCRIPTION];\n        news.imgurl             = [genkInfo objectForKey:NEWS_IMGURL];\n        news.shortdescription   = [genkInfo objectForKey:NEWS_SHORTDESCRIPTION];\n        news.url                = [genkInfo objectForKey:NEWS_URL];\n        news.imagecopyright     = [genkInfo objectForKey:NEWS_IMAGECOPYRIGHT];\n        news.news_id            = [NSNumber numberWithInt:newsId];\n\n    return news;\n\n}\n</code></pre>\n\n<p>I am doing the following proces like 10 times for 10 different entities. All of those attributes are mostly strings. Still this takes up to 10 minutes to load in all the data. Can somebody help me ?</p>\n\n<p>Kind regards.</p>\n"},{"tags":["database","sorting","servlets"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13141791,"title":"Sorting in batches","body":"<p>I have a Java servlet which queries a DB and shows table in the browser. I have implemented pagination so that when the user scroll the table the new request are made only then. The problem is if the user chooses to sort the table in UI based on some column, the request takes a long time because actual table in DB is quite big and it sorts the entire table and then send the sorted paged data to the client/browser. So suppose if the table has 100k rows and I have a page size of 100 rows, so is there a way to tweak the sorting in DB or in pagination in servlet that the sorting the entire 100k rows is not required. </p>\n"},{"tags":["mysql","sql","database","triggers","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13141013,"title":"MySQL LAST_INSERT_ID() not updating due to AUTO_INCREMENT","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6499389/mysql-getting-last-insert-id-in-a-trigger\">mysql getting last_insert_id() in a trigger</a>  </p>\n</blockquote>\n\n\n\n<p>I have MySQL <code>TRIGGER</code> firing <code>AFTER INSERT ON</code> a table (<code>my_table</code>).</p>\n\n<p>I wish to store the <code>PRIMARY_KEY</code> of the row effected by the <code>TRIGGER</code> in a variable using:</p>\n\n<pre><code>SET  @user_id =  LAST_INSERT_ID();\n</code></pre>\n\n<p>Which is backed by <a href=\"http://stackoverflow.com/questions/3837990/last-insert-id-mysql\">this stackoverflow link</a>. And seems to be working.</p>\n\n<p>However, each time it stores the value as <code>0</code>.</p>\n\n<p>From <a href=\"http://stackoverflow.com/questions/10246412/last-insert-id-always-returns-0-rmysql-separate-connection-issue\">this stackoverflow link</a>, I believe this is due to the fact that <code>my_table</code> is set to <code>AUTO_INCREMENT</code>.</p>\n\n<pre><code>SET  @user_id =  LAST_INSERT_ID();\n</code></pre>\n\n<p>What is the best practice to overcome this?</p>\n"},{"tags":["database","design-patterns","unit-of-work"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":10428018,"title":"Unity of work used with more database","body":"<p>I am learning some patterns, Unity of work / repository... There are some examples on web, but no one connects to more than one database.</p>\n\n<p>In my applications almost always I have the need to get some object from a database (for example users) and some other object from another, how can I use the patterns ? (Since I am a novice on this subject an explicit example is a must)</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","sql","database","query","excel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13142196,"title":"Export specific table columns to Excel","body":"<p>I'm trying to export specific column data (i.e., Ticket #, Company/Customer Name, Issue Subject, Date Closed) from my SQL DB table to Excel (.xls), I have the code written but it's exporting my entire Database table. (See code Below)</p>\n\n<p>Specific column data that needs to be exported:</p>\n\n<ul>\n<li>ticketID</li>\n<li>name</li>\n<li>company</li>\n<li>subject</li>\n<li>closed</li>\n</ul>\n\n<p>Also is there any way to add a function that only exports a specific range (i.e., Date range from October 1, 2012 to October 31, 2012)?</p>\n\n<p><pre></p>\n\n<code>&lt;?PHP\n\n//EDIT YOUR MySQL Connection Info:\n$DB_Server = \"localhost\";        //your MySQL Server\n$DB_Username = \"root\";                 //your MySQL User Name\n$DB_Password = \"\";                //your MySQL Password\n$DB_DBName = \"my_databse\";                //your MySQL Database Name\n$DB_TBLName = \"my_table\";                //your MySQL Table Name\n\n//$DB_TBLName,  $DB_DBName, may also be commented out &amp; passed to the browser\n//as parameters in a query string, so that this code may be easily reused for\n//any MySQL table or any MySQL database on your server\n\n//DEFINE SQL QUERY:\n//edit this to suit your needs\n$sql = \"Select * from $DB_TBLName\";\n\n//Optional: print out title to top of Excel or Word file with Timestamp\n//for when file was generated:\n//set $Use_Titel = 1 to generate title, 0 not to use title\n$Use_Title = 1;\n//define date for title: EDIT this to create the time-format you need\n$now_date = DATE('m-d-Y H:i');\n//define title for .doc or .xls file: EDIT this if you want\n$title = \"Dump For Table $DB_TBLName from Database $DB_DBName on $now_date\";\n/*\n\nLeave the connection info below as it is:\njust edit the above.\n\n(Editing of code past this point recommended only for advanced users.)\n*/\n//create MySQL connection\n$Connect = @MYSQL_CONNECT($DB_Server, $DB_Username, $DB_Password)\n     or DIE(\"Couldn't connect to MySQL:&lt;br&gt;\" . MYSQL_ERROR() . \"&lt;br&gt;\" . MYSQL_ERRNO());\n//select database\n$Db = @MYSQL_SELECT_DB($DB_DBName, $Connect)\n     or DIE(\"Couldn't select database:&lt;br&gt;\" . MYSQL_ERROR(). \"&lt;br&gt;\" . MYSQL_ERRNO());\n//execute query\n$result = @MYSQL_QUERY($sql,$Connect)\n     or DIE(\"Couldn't execute query:&lt;br&gt;\" . MYSQL_ERROR(). \"&lt;br&gt;\" . MYSQL_ERRNO());\n\n//if this parameter is included ($w=1), file returned will be in word format ('.doc')\n//if parameter is not included, file returned will be in excel format ('.xls')\nIF (ISSET($w) &amp;&amp; ($w==1))\n{\n     $file_type = \"msword\";\n     $file_ending = \"doc\";\n}ELSE {\n     $file_type = \"vnd.ms-excel\";\n     $file_ending = \"xls\";\n}\n//header info for browser: determines file type ('.doc' or '.xls')\nHEADER(\"Content-Type: application/$file_type\");\nHEADER(\"Content-Disposition: attachment; filename=MDT_DB_$now_date.$file_ending\");\nHEADER(\"Pragma: no-cache\");\nHEADER(\"Expires: 0\");\n\n/*    Start of Formatting for Word or Excel    */\n\nIF (ISSET($w) &amp;&amp; ($w==1)) //check for $w again\n{\n     /*    FORMATTING FOR WORD DOCUMENTS ('.doc')   */\n     //create title with timestamp:\n     IF ($Use_Title == 1)\n     {\n         ECHO(\"$title\\n\\n\");\n     }\n     //define separator (defines columns in excel &amp; tabs in word)\n     $sep = \"\\n\"; //new line character\n\n     WHILE($row = MYSQL_FETCH_ROW($result))\n     {\n         //set_time_limit(60); // HaRa\n         $schema_insert = \"\";\n         FOR($j=0; $j&lt;mysql_num_fields($result);$j++)\n         {\n         //define field names\n         $field_name = MYSQL_FIELD_NAME($result,$j);\n         //will show name of fields\n         $schema_insert .= \"$field_name:\\t\";\n             IF(!ISSET($row[$j])) {\n                 $schema_insert .= \"NULL\".$sep;\n                 }\n             ELSEIF ($row[$j] != \"\") {\n                 $schema_insert .= \"$row[$j]\".$sep;\n                 }\n             ELSE {\n                 $schema_insert .= \"\".$sep;\n                 }\n         }\n         $schema_insert = STR_REPLACE($sep.\"$\", \"\", $schema_insert);\n         $schema_insert .= \"\\t\";\n         PRINT(TRIM($schema_insert));\n         //end of each mysql row\n         //creates line to separate data from each MySQL table row\n         PRINT \"\\n----------------------------------------------------\\n\";\n     }\n}ELSE{\n     /*    FORMATTING FOR EXCEL DOCUMENTS ('.xls')   */\n     //create title with timestamp:\n     IF ($Use_Title == 1)\n     {\n         ECHO(\"$title\\n\");\n     }\n     //define separator (defines columns in excel &amp; tabs in word)\n     $sep = \"\\t\"; //tabbed character\n\n     //start of printing column names as names of MySQL fields\n     FOR ($i = 0; $i &lt; MYSQL_NUM_FIELDS($result); $i++)\n     {\n         ECHO MYSQL_FIELD_NAME($result,$i) . \"\\t\";\n     }\n     PRINT(\"\\n\");\n     //end of printing column names\n\n     //start while loop to get data\n     WHILE($row = MYSQL_FETCH_ROW($result))\n     {\n         //set_time_limit(60); // HaRa\n         $schema_insert = \"\";\n         FOR($j=0; $j&lt;mysql_num_fields($result);$j++)\n         {\n             IF(!ISSET($row[$j]))\n                 $schema_insert .= \"NULL\".$sep;\n             ELSEIF ($row[$j] != \"\")\n                 $schema_insert .= \"$row[$j]\".$sep;\n             ELSE\n                 $schema_insert .= \"\".$sep;\n         }\n         $schema_insert = STR_REPLACE($sep.\"$\", \"\", $schema_insert);\n         //following fix suggested by Josue (thanks, Josue!)\n         //this corrects output in excel when table fields contain \\n or \\r\n         //these two characters are now replaced with a space\n         $schema_insert = PREG_REPLACE(\"/\\r\\n|\\n\\r|\\n|\\r/\", \" \", $schema_insert);\n         $schema_insert .= \"\\t\";\n         PRINT(TRIM($schema_insert));\n         PRINT \"\\n\";\n     }\n}\n\n?&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["c++","database","qt","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12277176,"title":"Selection of QTreeWidgetItem","body":"<p>In this function im trying to connect each QTreeWidgetItem with its corresponding query,\nonce i select an item a Dock widget that has a query result in tableview model is shown.</p>\n\n<p>what i want is that when i select a new item the shown dock widget hide and  new one appears with a new result. what i have until now is that each item i select a new Dock widget appears . I want to see only one dock widget.</p>\n\n<p>here is my function</p>\n\n<pre><code>void MainWindow::DocumentTable()\n{\ntableview = new QTableView;\nquery = new QSqlQueryModel(this);\n\nforeach(it,treeWidget-&gt;selectedItems())\n{\n    for (int col=0; col&lt; it-&gt;columnCount(); ++col)\n    {\n        qDebug() &lt;&lt; col &lt;&lt; it-&gt;text(col);\n\nQSqlQuery qry;\nqry.prepare(\"select * from document where Folno=:Folno\");\nqry.bindValue(\":Folno\", it-&gt;text(col));\nqry.exec();\n\nquery-&gt;setQuery(qry);\n\n    tableview-&gt;setModel(query);\ntableview-&gt;setEditTriggers(QAbstractItemView::NoEditTriggers);\ntableview-&gt;show();\n\nDocwidget= new QDockWidget(this);\nDocwidget-&gt;setAllowedAreas(Qt::LeftDockWidgetArea | Qt::RightDockWidgetArea);\n\nDocwidget-&gt;setWidget(tableview);\naddDockWidget(Qt::RightDockWidgetArea,Docwidget);\nDocwidget-&gt;show();\n\n\nif(!query-&gt;submit())\n  {\n     qDebug() &lt;&lt; \"Error \" &lt;&lt; query-&gt;lastError().text();\n  }\n\n db.close();\n\n}\n}\n   }\n</code></pre>\n\n<p>any ideas ??  :)</p>\n"},{"tags":["mysql","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":22,"score":-4,"question_id":13141355,"title":"Visual Studio 2010 - How to edit, read mysql databases?","body":"<p>I wanted make a login system in my program then i didn't know how to make the (login button's code to read inside a database for its username and password) and (register button to register for a account but if the username is already there then it should not allow the user to make that username.)\nPlease tell me the code for it and a little expaination! Thanks~</p>\n"},{"tags":["database","foxpro"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":884,"score":1,"question_id":10303,"title":"What FoxPro data tools can I use to find corrupted data?","body":"<p>I have some SQL Server DTS packages that import data from a FoxPro database.  This was working fine until recently.  Now the script that imports data from one of the FoxPro tables bombs out about 470,000 records into the import.  I'm just pulling the data into a table with nullable varchar fields so I'm thinking it must be a weird/corrupt data problem.</p>\n\n<p>What tools would you use to track down a problem like this?</p>\n\n<p>FYI, this is the error I'm getting:</p>\n\n<blockquote>\n  <p>Data for source column 1 ('field1') is not available.  Your provider may require that all Blob columns be rightmost in the source result set.</p>\n</blockquote>\n\n<p>There should not be any blob columns in this table.</p>\n\n<hr>\n\n<p>Thanks for the suggestions.  I don't know if it a corruption problem for sure.  I just started downloading FoxPro from my MSDN Subscription, so I'll see if I can open the table.  SSRS opens the table, it just chokes before running through all the records.  I'm just trying to figure out which record it's having a problem with.</p>\n"},{"tags":["c#","sql","database","linq"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13133274,"title":"linq to sql relationship","body":"<p>I want to return a dataset with some relations, the query is OK but I get the ID instead of the real value from the other table... This is the query</p>\n\n<pre><code>        var thr=\n            from u in dc.thresholds\n            select u;\n</code></pre>\n\n<p>This returns something like this:</p>\n\n<pre><code>id: 1\nname: some name\ntype_id: 1\nowner_id: 1\n</code></pre>\n\n<p>I want to get type_id and owner_id with the values of theese tables, so it can be something like:</p>\n\n<pre><code>id: 1\nname: some name\ntype_id: Danger\nowner_id: John Smith\n</code></pre>\n\n<p>I hope some of you could give me some advices, I'm starting with LINQ to SQL and I'm a bit lost...</p>\n\n<p>Thank you</p>\n"},{"tags":["android","database","grid"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":13139531,"title":"read data from database and show it in GridView in android","body":"<p>how we can read data from database and show them in grid in android?\ni see codes like this :</p>\n\n<pre><code>public class DataAdapter extends BaseAdapter\n{\n    Context mContext;\n    private String [] id = {\"S001\",\"S002\",\"S003\",\"S004\",\"S005\",\"S006\",\"S007\"};\n    private String [] name={\"Rohit\",\"Rahul\",\"Ravi\",\"Amit\",\"Arun\",\"Anil\",\"Kashif\"};\n    private LayoutInflater mInflater;\n    public DataAdapter(Context c)\n    {\n        mContext=c;\n        mInflater = LayoutInflater.from(c);\n    }\n\n    public int getCount()\n    {\n        return id.length;\n    }\n\n    public Object getItem(int position)\n    {\n        return position;\n    }\n\n    public long getItemId(int position)\n    {\n        return position;\n    }\n\n    public View getView(int position, View convertView, ViewGroup parent)\n    {\n        ViewHolder holder=null;\n        // convertView=null;\n        if(convertView==null)\n        {\n            convertView = mInflater.inflate(R.layout.customgrid,\n                                                                    parent,false);\n            holder = new ViewHolder();\n            holder.txtId=(TextView)convertView.findViewById(R.id.txtId);\n            holder.txtId.setPadding(100, 10,10 , 10);\n            holder.txtName=(TextView)convertView.findViewById(R.id.txtName);\n            holder.txtName.setPadding(100, 10, 10, 10);\n\n            if(position==0)\n            {                             \n                convertView.setTag(holder);\n            }\n        }\n        else\n        {\n            holder = (ViewHolder) convertView.getTag();\n        }\n        // holder.txtId.setText(id[position]);\n        holder.txtId.setText(id[position]);\n        holder.txtName.setText(name[position]);\n        return convertView;\n    }\n\n    static class ViewHolder\n    {\n        TextView txtId;\n        TextView txtName;\n    }\n}\n\n//------------main---------------------------------------------\n\npublic class GridViewDataActivity extends Activity {\n    EditText name;\n    GridView gridview;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        gridview = (GridView) findViewById(R.id.gridview);  \n        gridview.setAdapter(new DataAdapter(this));\n    }\n}\n</code></pre>\n\n<p>same way i want to show data from sqlite DB.</p>\n"},{"tags":["php","database","global"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12973644,"title":"Global variable in php","body":"<p>I have a class <code>userdb</code> in which I am declaring a function that returns the connection to the database:</p>\n\n<pre><code>return $con = new PDO(\"mysql:host=$host;dbname=$db\", $user, $pass);\n</code></pre>\n\n<p>I have various functions, even across other classes, where I have to access <code>$con</code> (e.g. to pass a query or to fetch data), but I can't access this variable.</p>\n\n<p>Is there a better way to define and use a database class? Remember that I have other classes where I need to access the <code>userdb</code> class.</p>\n"},{"tags":["php","mysql","database","website"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13138823,"title":"Issue with mySQL Security Settings","body":"<p>I am trying to import some SQL onto my shared server using php myadmin and I get the error message </p>\n\n<blockquote>\n  <p>Access denied; you need the SUPER privilege for this operation.  </p>\n</blockquote>\n\n<p>The problem code is below.</p>\n\n<pre><code>CREATE ALGORITHM=UNDEFINED DEFINER=`blackart`@`%` SQL SECURITY DEFINER VIEW `vwCats` AS select `p`.`le_ID` AS `catid`,`p`.`le_desc` AS `catdesc`,`p`.`le_order` AS `catorder`,`c`.`le_ID` AS `subcatid`,`c`.`le_desc` AS `subcatdesc`,`c`.`le_order` AS `subcatorder` from (`tblListElements` `p` join `tblListElements` `c` on((`p`.`le_ID` = `c`.`le_listID`))) where (`p`.`le_listID` = 23) order by `p`.`le_order`,`p`.`le_desc`,`c`.`le_order`,`c`.`le_desc`;\n</code></pre>\n\n<p>Does anyone know how I can amend this code so it can be imported without needing Super Privileges?</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","javascript","mysql","ajax","database"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":13140764,"title":"Is there any code for saving characters automaticaly which are pressed by user to database -without send button-","body":"<p>It can be JavaScript, Ajax or PHP. A need a real code parts or good guide. Is there any link?</p>\n\n<p>Purpose of this: I am planning a keyboard game which is running with characters which are pressed by user. If user press the button a, I have to sent send this data to MySQL database. Is this possible? If yes, with which code?</p>\n"},{"tags":["database","git","magento","synchronization","staging"],"answer_count":3,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":199,"score":2,"question_id":12324641,"title":"Syncing magento database froms development to production","body":"<p>I use git for version control. I have a development, staging and production environment. When I finish in development I push to staging for review by the client. When approved, I push changes from staging to production. That works fine as long as there is no database changes. What happens if I install modules via Magento connect on local development and it makes database modifications. </p>\n\n<p>How would I push those changes up to the production server since the production server is always changing? </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I wrote two shell scripts. One that pulls the production database down to my development server, replaces base url with develpment url and updates my development db accordingly. It also leaves the production sql dump behind to be added to my git repo. I'm not really sure if it's beneficial to keep the raw dumps in source control but I'm going to try it out. The second scripts moves the development database up to staging and essentially performs the same operations as the first.</p>\n\n<p>Now when it comes time to move to production I pull the updated production repo into the production server and allow magento to do it's thing. I also started using SQLYog recently and it has a database comparison wizard which will give me the differences in my development and production databases and allow me to merge the changes in selectively. It always creates a migration script that I added to source control as well. If anything goes wrong I can run the comparison to see if anything was missed. </p>\n\n<p>Does this sounds like a decent workflow to you guys?</p>\n"},{"tags":["c#","database","query","parameters","oledb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13139950,"title":"C#.net Parametize OLE DB Query using MS Access as DB","body":"<p>ok i do have a OLEDB function that inserts data in the database. well i know the usual way on how to do SQL with OLEDB but what I want to do here is to parametize each data in the query string. </p>\n\n<p>Now I been in Google for almost 3 hours just know how to make parametized query in OLEDB but all of them are not working with me.</p>\n\n<p>Now at last my query seems to work fine in the code below but still an error occurs</p>\n\n<p><strong>my function code :</strong></p>\n\n<pre><code>private bool dbInsert(int [] inputNumbers, DateTime datetime){\n                try {\n                    String sql = \"INSERT INTO 655(1stNum, 2ndNum, 3rdNum, 4thNum, 5thNum, 6thNum, datedraw) VALUES(?, ?, ?, ?, ?, ? ,?)\";\n                    OleDbCommand dbcmd = new OleDbCommand(sql, app.oleDbConn());\n                    dbcmd.Connection.Open();\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[0];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[1];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[2];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[3];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[4];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.Numeric).Value = inputNumbers[5];\n                    dbcmd.Parameters.Add(\"?\",OleDbType.DBTimeStamp).Value = datetime;\n                    dbcmd.ExecuteNonQuery();\n                    dbcmd.Connection.Close();\n\n                }catch(OleDbException ex){\n                    showPrompt(\"Error reading the database\",Color.Red);\n                    Console.WriteLine(ex.ToString());\n                }\n                return true;\n            }\n</code></pre>\n\n<p><strong>this is the error log show in the console:</strong></p>\n\n<blockquote>\n  <p>System.Data.OleDb.OleDbException: Data type mismatch in criteria\n  expression.    at\n  System.Data.OleDb.OleDbCommand.ExecuteCommandTextErrorHandling(OleDbHResult\n  hr)    at\n  System.Data.OleDb.OleDbCommand.ExecuteCommandTextForSingleResult(tagDBPARAMS\n  dbParams, Object&amp; executeResult)    at\n  System.Data.OleDb.OleDbCommand.ExecuteCommandText(Object&amp;\n  executeResult)    at\n  System.Data.OleDb.OleDbCommand.ExecuteCommand(CommandBehavior\n  behavior, Object&amp; executeResult)    at\n  System.Data.OleDb.OleDbCommand.ExecuteReaderInternal(CommandBehavior\n  behavior, String method)    at\n  System.Data.OleDb.OleDbCommand.ExecuteNonQuery()</p>\n</blockquote>\n\n<p>the datatypes of my columns in my access db files are <strong>Numeric</strong> from 1stNum to 6thNum and <strong>Date/Time</strong> in datedraw, of course ID is <strong>AutoNumber</strong></p>\n\n<p>is there any mistake in the parametize query implementation? please help me.</p>\n\n<p><strong>Update</strong></p>\n\n<ul>\n<li>I change the OleDBType for nums to <strong>Numeric</strong> as in the Access file its <strong>Numeric</strong></li>\n</ul>\n"},{"tags":["mysql","database","nosql","distributed","bigdata"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":517,"score":4,"question_id":10024893,"title":"Database choices for big data","body":"<p>I have many text files, their total size is about 300GB ~ 400GB. They are all in this format</p>\n\n<pre><code>key1 value_a\nkey1 value_b\nkey1 value_c\nkey2 value_d\nkey3 value_e\n....\n</code></pre>\n\n<p>each line is composed by a key and a value. I want to create a database which can let me query all value of a key. For example, when I query key1, value_a, value_b and value_c are returned.</p>\n\n<p>First of all, inserting all these files into the database is a big problem. I try to insert a few GBs size chunk to MySQL MyISAM table with LOAD DATA INFILE syntax. But it appears MySQL can't utilize multicores for inserting data. It's as slow as hell. So, I think MySQL is not a good choice here for so many records.</p>\n\n<p>Also, I need to update or recreate the database periodically, weekly, or even daily if possible, therefore, insertion speed is important for me.</p>\n\n<p>It's not possible for a single node to do the computing and insertion efficiently, to be efficient, I think it's better to perform the insertion in different nodes parallely.</p>\n\n<p>For example, </p>\n\n<pre><code>node1 -&gt; compute and store 0-99999.txt\nnode2 -&gt; compute and store 10000-199999.txt\nnode3 -&gt; compute and store 20000-299999.txt\n....\n</code></pre>\n\n<p>So, here comes the first criteria.</p>\n\n<p><strong>Criteria 1. Fast insertion speed in distributed batch manner.</strong></p>\n\n<p>Then, as you can see in the text file example, it's better to provide multiple same key to different values. Just like key1 maps to value_a/value_b/value_c in the example.</p>\n\n<p><strong>Criteria 2. Multiple keys are allowed</strong></p>\n\n<p>Then, I will need to query keys in the database. No relational or complex join query is required, all I need is simple key/value querying. The important part is that multiple key to same value </p>\n\n<p><strong>Criteria 3. Simple and fast key value querying.</strong></p>\n\n<p>I know there are HBase/Cassandra/MongoDB/Redis.... and so on, but I'm not familiar with all of them, not sure which one fits my needs. So, the question is - what database to use? If none of them fits my needs, I even plan to build my own, but it takes efforts :/</p>\n\n<p>Thanks.</p>\n"},{"tags":["mysql","sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13140684,"title":"Difference between entity and tuple","body":"<p>Please help me understand the difference between a entity and a tuple. Thanks</p>\n"},{"tags":["php","mysql","database","database-design"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":45,"score":0,"question_id":13140493,"title":"Database structure/design: Courses according to semester and year","body":"<p>I am currently working with PHP and MySQL database.  I am currently building a course catalog page for my department. I have set up a table named <code>Courses</code> .  I am running into an issue with the rest of the structure for my database table. There are classes that are taught during the <code>fall</code> and others during the <code>spring</code>.  Also, among those classes, there are some that are taught every other year. I want to build a table which then I can use with PHP to automatically update according to the <code>semester</code> and <code>scholarly year</code>. More specifically, I would like to show the <code>courses name</code>, <code>description</code>, and if it’s either offered on the <code>fall or semester</code> of that year. Any course not offered that year will not show in the page. </p>\n\n<p>How would I properly structure my table to fit the requirements mentioned above?</p>\n\n<p><strong>Example (Course number, Class name):</strong></p>\n\n<pre><code>3210 Musical Theatre Styles I (Fall)\n3220 Musical Theatre Styles II (Spring)\n4500 Musical Theatre Showcase (Fall of year 2014)\n</code></pre>\n"},{"tags":["c#","database","date","passwords","webmatrix"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13090475,"title":"WebMatrix Helper controlled table showing wrong time in Password Change Date field","body":"<p>everyone,</p>\n\n<p>I have a quick question.  Can anyone tell me why the field \"PasswordChangeDate\" in the helper controlled table \"webpages_Membership\" (automatically filled using the Web.Security Helper, I'm pretty sure) is logging a date/time that is 5 hours off?  I just changed my password and looked at the field and saw that while I had changed my password at 10:50 AM, it showed 3:50 PM.  Is there a setting somewhere (possibly for time zone, etc.) that I need to adjust within the Web.Security helper?  One thing I do know is that when I go to the \"Site\" section in WebMatrix, in the \"Request\" tab, it IS in fact showing the correct timestamps for my requests here.</p>\n\n<p>Any help is very much appreciated!</p>\n"},{"tags":["sql-server","database","design","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":49,"score":1,"question_id":13140360,"title":"Design Database - Best Practice","body":"<p>I need to implement an SQL server db, that will contain information about products as follow:</p>\n\n<p>There will be the following properties:</p>\n\n<pre><code>**ProductName\nProductTitle\nProductPrice\nCreatedDate\nCreatedBy**\n</code></pre>\n\n<p>(now it get's complicated)</p>\n\n<pre><code>**Property1 (MIN value, MAX value)\nProperty2 (MIN value, MAX value)\nProperty3 (MIN value, MAX value)\nProperty4 (MIN value, MAX value)\nProperty5 (MIN value, MAX value)\nProperty6 (MIN value, MAX value)\n...........\nProperty40 (MIN value, MAX value)**\n</code></pre>\n\n<p>All products will have the same structure, how can I implement the properties that will contain the values min and max? So, each product will have a min and max value for each of the Property from 1 - 40. The value in the min and max is decimal.</p>\n\n<p>Should I create one Products table where I have the basic details (name, title, price, date ..) and than for each property create one table Property1 for example with foreign key to Products table?</p>\n\n<p>Is there a better way? What do you recommend ?</p>\n"},{"tags":["database","normalization"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":31,"score":3,"question_id":13139796,"title":"Normalization - Foreign key being repeated","body":"<p>When normalizing data is it acceptable to have a foreign key repeated in the same table?</p>\n\n<p>e.g. A courier company has an orders form and a customers form, the order form would log what customer to pickup an item from (Customer_ID) and would also have a column for what customer it is being delivered to (also Customer_ID).</p>\n"},{"tags":["database","ms-access","desktop","lightweight"],"answer_count":31,"favorite_count":27,"up_vote_count":71,"down_vote_count":0,"view_count":60661,"score":71,"question_id":29044,"title":"Good Free Alternative To MS Access","body":"<p>Consider the need to develop a lightweight desktop DB application on the Microsoft platforms.</p>\n\n<p>It could be done fairly easily with MS Access but I'd like to be able to distribute it to others and I don't want to pay for a runtime license.  </p>\n\n<p>Requirements:</p>\n\n<ul>\n<li>easy distribution to others</li>\n<li>no runtime licensing issues</li>\n</ul>\n\n<p>Considerations and Candidates:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/OpenOffice.org_Base\" rel=\"nofollow\">Base from the OpenOffice suite</a>. My concerns were around its stability. </li>\n<li><a href=\"http://dev.mysql.com/downloads/\" rel=\"nofollow\">MySQL</a> + writing custom DB code in C++ or Python or whatever seems like a rather heavy-handed solution.  </li>\n</ul>\n\n<p><strong>Question</strong>: What are the low cost or free database alternatives to MS Access?</p>\n\n<hr>\n\n<p><strong>See Also:</strong> <a href=\"http://stackoverflow.com/questions/126622/open-source-reporting-engines\">Open Source Reporting Engines</a></p>\n\n<hr>\n\n<hr>\n\n<p>@Schnapple</p>\n\n<p>Bruceatk kind of hit on what I'm thinking of; it's not so much the DB engine as I want the other niceties that Access brings to the party.  The nice form designer, the nice reporting engine etc.  But you do raise a very good point about the installation footprint.  I had considered that but I've not made any firm decisions about which way I'm going with this yet anyway.  It'll probably be something fairly lightweight anyway and a small installation footprint would definitely be a plus.</p>\n\n<hr>\n\n<p>@Remou,</p>\n\n<p>No I was unaware that the MS Access 2007 runtime is free; thanks for pointing that out.  The last time I'd bothered to investigate it (I don't remember when it was) I think it was a fairly expensive license for the runtime because I think they were trying to sell it to Corporate IT departments.</p>\n\n<p>And thanks to everyone else who responded as well; I was completely unaware of those other options you all pointed out.</p>\n"},{"tags":["database","json","security","configuration"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13138086,"title":"JSON vs DATABASE","body":"<p>Recently I had to make an application that later on had to be uploaded to multiple web-servers. Doing this I realized that when storing the admin pass and username's into a json file does not need a db connection so it works all the time. Also when saving the configuration inside json I can just copy my application to web-server and then just go to the browser to do the configuration. </p>\n\n<p>When using a database for this I have to configure this hard coded. Than the db connection would be declared inside a connect.php or config.php. When uploading the application I can't use it because there is no db connection. And I cant set A db connection from within the application itself because I can't login even if I could it would be like a car-key inside a closed car. </p>\n\n<p>My dilemma: Is this the right way, is this save, is this efficient and above all how did you guys do this.</p>\n\n<p>What is the best way to store admin login and configuiration data</p>\n"},{"tags":["database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13139052,"title":"would my database naming be any trouble?","body":"<p>today i start a project and design my database,here's my design doc's content.</p>\n\n<pre><code>user    \nid          int\nname        string\n\naccount \nid          int\ngold        int\nsilver      int\n\naccountdetails  \nid          int\ncontent     *\n\nrole\nid          int\nname        string\nsex         char\nportrait    string\nfigure      string\nlevel       int\nexp         int\nspeed       int\nactionpoint int\nskillid     int\n\nroleskill   \nroleid      int\nid          int\n\nroleskillD  \nid          int\neffect      string\nname        string\nimage       string\nlevel       int\n</code></pre>\n\n<p>i use the laziest way to naming the fields and tables. i think it wouldn't cause me trouble.</p>\n\n<p>i found i have no trouble to read name like these:</p>\n\n<pre><code>accountdetails\nactionpoint\nskillid\nroleskill\n</code></pre>\n\n<p>etc.i don't like to use casing or _ in database.</p>\n\n<p>give me your instruction if you feel things don't go right.</p>\n"},{"tags":["php","mysql","database","postgresql","date"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13133399,"title":"update table data automatically every year","body":"<p>I have a data base table containing a <code>id, description, start_date, end_date</code> there are 12 entries for every month i just want to increment year 2012 to 2013 in every <code>start_date, end_date</code> field when this year end is it possible when a super user login check date and if it is <code>01-01-20xx</code> update year only in database table.</p>\n"},{"tags":["php","database","oop","static","singleton"],"answer_count":4,"favorite_count":4,"up_vote_count":11,"down_vote_count":1,"view_count":3075,"score":10,"question_id":2840912,"title":"PHP - a DB abstraction layer use static class vs singleton object?","body":"<p>I don't want to create a discussion about singleton better than static or better than global, etc. I read dozens of questions about similar subjects on SO, but I couldn't come up with an answer to this SPECIFIC question, so I hope someone could now illuminate me by answering this question with one (or more) <strong>real simple EXAMPLES</strong>, and not  just theoretical discussions.</p>\n\n<p>In my app I have the <strong>typical DB class to abstract the DB layer</strong> and to perform tasks on DB without having to write everywhere in code <code>mysql_connect / mysql_select_db / mysql...</code></p>\n\n<p><strong>I could write the class either as a STATIC CLASS:</strong></p>\n\n<pre><code>class DB\n{\n   private static $connection = FALSE; //connection to be opened\n\n   //DB connection values\n   private static $server = NULL; private static $usr = NULL; private static $psw = NULL; private static $name = NULL;\n\n   public static function init($db_server, $db_usr, $db_psw, $db_name)\n   {\n      //simply stores connections values, without opening connection\n   }\n\n   public static function query($query_string)\n   {\n      //performs query over alerady opened connection, if not open, it opens connection 1st\n   }\n\n   ...\n}\n</code></pre>\n\n<p><strong>OR as a SINGLETON:</strong></p>\n\n<pre><code>class DBSingleton\n{\n   private $inst = NULL;\n   private $connection = FALSE; //connection to be opened\n\n   //DB connection values\n   private $server = NULL; private $usr = NULL; private $psw = NULL; private $name = NULL;\n\n   public static function getInstance($db_server, $db_usr, $db_psw, $db_name)\n   {\n      //simply stores connections values, without opening connection\n\n      if($inst === NULL)\n         $this-&gt;inst = new DBSingleton();\n      return $this-&gt;inst;\n   }\n   private __construct()...\n\n   public function query($query_string)\n   {\n      //performs query over already opened connection, if connection is not open, it opens connection 1st\n   }\n\n   ...\n}\n</code></pre>\n\n<p>Then after in my app if I want to query the DB i could do </p>\n\n<pre><code>//Performing query using static DB object\nDB:init(HOST, USR, PSW, DB_NAME);\nDB::query(\"SELECT...\");\n\n//Performing query using DB singleton\n$temp = DBSingleton::getInstance(HOST, USR, PSW, DB_NAME);\n$temp-&gt;query(\"SELECT...\");\n</code></pre>\n\n<p>To me Singleton has got the only advantage to avoid declaring as <code>static</code> each method of the class. I'm sure some of you could give me an <strong>EXAMPLE</strong> of real advantage of singleton in this <strong>specific case</strong>. Thanks in advance.</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":44,"score":2,"question_id":13133208,"title":"MySQL Order by Two Columns","body":"<p>I have a Table Like Below</p>\n\n<pre>\n\n    CREATE TABLE Products(Product_id INT, ProductName VARCHAR(255), \n                          Featured enum('Yes', 'No'), Priority enum('p1', 'p2', 'p3'))\n\n\n    INSERT INTO Products(ProductName, Featured, Priority) \n                  VALUES('Product A', 'Yes', 'p1'),\n                        ('Product B', 'No',  'p2'),\n                        ('Product C', 'Yes', 'p1'),\n                        ('Product D', 'No',  'p1'),\n                        ('Product E', 'Yes', 'p3'),\n                        ('Product F', 'No',  'p2'),\n                        ('Product G', 'Yes', 'p1'),\n                        ('Product H', 'Yes', 'p2'),\n                        ('Product I', 'No',  'p2'),\n                        ('Product J', 'Yes', 'p3'),\n                        ('Product K', 'Yes', 'p1'),\n                        ('Product L', 'No',  'p3');\n\n\n</pre>\n\n<p>I Need to get the Featured products followed by product with priority p1, p2 and p3 </p>\n\n<pre>\n\nOp:\n   ProdName | Featured  | Priority\n\n    Product A   Yes         p1\n    Product C   Yes         p1\n    Product G   Yes         p1\n    Product K   Yes         p1\n    Product H   Yes         p2\n    Product E   Yes         p3\n    Product J   Yes         p3\n    Product D   No          p1\n    Product B   No          p2\n    Product F   No          p2\n    Product I   No          p2\n    Product L   No          p3\n\n</pre>\n\n<p>I Wrote a query below which ain't working..</p>\n\n<pre>                                           \n  SELECT * \n    FROM Products\n   ORDER BY Featured IN ('Yes') desc,\n            Priority IN ('p1', 'p2', 'p3') desc\n</pre>\n\n<p>Could u plz spot mistake in that</p>\n"},{"tags":["android","database","android-layout","listview","adapter"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":35,"score":-4,"question_id":13138579,"title":"How to get position of listview on custom check box click in android","body":"<p>I need to get Position of listview on click Action from Custom Check box which was used in Base Adapter.</p>\n"},{"tags":["database","date"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":330,"score":1,"question_id":2138522,"title":"How to create database records for a financial year","body":"<p>I need to create entities (specifically contracts) in a database table that are associated with a financial year. These contracts will be applied to projects. Any contract variation will be recorded by creating a new contract record for the same financial year but the original will remain associated with the project as a history. The projects can last several years and so at any one time a project will have a live contract record for each year as well as any number of historic contracts for that year. </p>\n\n<p>All of which is incidental but I'm trying to provide some context. If the contracts where for the year - it would be easy and I'd just store the Year either as a date field with the 1st of January or just an Integer. However the contracts run for financial years and I don't know how to approach this. I don't want a separate table containing the financial years as I don't want the users to have to maintain this. I don't want to store the financial year as a string \"2009/2010\" as this is not ideal for sorting/extracting the data.</p>\n\n<p>Any ideas will be helpful, my best so far is to have starting and ending year in 2 columns and just \"KNOW\" that starting is April of the year etc</p>\n"},{"tags":["database","query","ms-access","report","ms-access-2010"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13134250,"title":"Two Queries: Group by Column, Subtract Similar Columns, Show Totals","body":"<p>I have the following two queries setup in Access.  Each query has only 1 line per org and the org names are consistent across the two queries.</p>\n\n<p>Query A (budget model based on Table A)</p>\n\n<pre><code>Org, Jan, Feb, ... Dec, Total\n-----------------------------\nA,   $68, $25, ... $51, $809\nB,   $23, $39, ... $13, $423\n...\nE,   $11, $90, ... $84, $789\n</code></pre>\n\n<p>Query B (budget model based on Table B)</p>\n\n<pre><code>Org, Jan, Feb, ... Dec, Total\n-----------------------------\nA,   $67, $25, ... $70, $821\nB,   $23, $39, ... $13, $423\n...\nE,   $15, $45, ... $71, $755\n</code></pre>\n\n<p>How can I create a report with all of the following information?  I'm having troubling bringing together the two queries, subtracting their values and then ultimately showing the totals rows all in the same report/query.</p>\n\n<pre><code>             Jan, Feb, ...  Dec,   Total\nOrg A:\n\n    Model A: $68, $25, ..., $51,   $809\n    Model B: $67, $25, ..., $70,   $821\n    A - B  : $ 1, $ 0, ..., ($19), ($12)\n\nOrg B:\n\n    Model A: $23, $39, ..., $13,   $423\n    Model B: $23, $39, ..., $13,   $423\n    A - B  : $ 0, $ 0, ..., $ 0,   $  0\n\n...\n\nOrg E:\n\n    Model A: $11, $90, ..., $84,   $789\n    Model B: $15, $45, ..., $71,   $755\n    A - B  :($ 4),$45, ..., $13,   $ 34\n\n-------------------------------------------\nTotals:\n\n    Model A: $102, $154, ..., $148,   $2021\n    Model B: $105, $109, ..., $154,   $1999\n    A - B  :($ 3), $45, ..., ($ 6),   $  22\n</code></pre>\n"},{"tags":["ruby-on-rails","database","facebook","database-design","notifications"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":12596440,"title":"Notifications ala Facebook (database implementation)","body":"<p>I am wondering how Facebook implements their notifications system as I'm looking to do something similar.</p>\n\n<ul>\n<li>FooBar commented on your status</li>\n<li>Red1, Green2 and Blue3  commented on your photo</li>\n<li>MegaMan and 5 others commented on your event</li>\n</ul>\n\n<p>I can't have multiple notifications written into a single record, as eventually I will have actions associated with each notification. Also, in the view I'd like notifications to be rendered as expandable lists when a certain number of them exist for a single subject.</p>\n\n<ul>\n<li>FooBar commented on your status (actions)</li>\n<li>Red1, Green2 and Pink5  commented on your photo [+]</li>\n<li>MegaMan and 3 others commented on your event [-]\n<ul>\n<li>MegaMan commented on your event (actions)</li>\n<li>ProtoMan commented on your event (actions)</li>\n<li>Bass commented on your event (actions)</li>\n<li>DrWilly commented on your event (actions)</li>\n</ul></li>\n</ul>\n\n<p>Cheers!</p>\n\n<p><strong>PS</strong> I am using postgres and rails BTW.</p>\n"},{"tags":["android","database","linux","debugging","command-line"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":612,"score":0,"question_id":10941549,"title":"install android sdk using command line linux","body":"<p>I want to download android sdk through command line. \nI got this command from command <a href=\"http://stackoverflow.com/a/4569792/563306\">http://stackoverflow.com/a/4569792/563306</a>\nI downloaded Android SDK r18 tar file. extracted it and in tools directory, </p>\n\n<p>I tried this command</p>\n\n<pre><code>&gt;android udpate sdk --no-ui \n</code></pre>\n\n<p>It gives an error,</p>\n\n<pre><code>Error: Flag '--no-ui' is not valid for 'update sdk'.\n</code></pre>\n\n<p>Also, I don't see the --no-ui options in the </p>\n\n<pre><code>android --help\n</code></pre>\n\n<p>Did Google change the command line options</p>\n\n<p>When I did a help, I get this,</p>\n\n<pre><code>android --help update sdk\n\nUsage:\n  android [global options] action [action options]\n\nGlobal options:\n  -v --verbose  Verbose mode: errors, warnings and informational messages are printed.\n  -h --help     Help on a specific command.\n  -s --silent   Silent mode: only errors are printed out.\n\nValid actions are composed of a verb and an optional direct object:\n-   list             : Lists existing targets or virtual devices.\n-   list avd         : Lists existing Android Virtual Devices.\n-   list target      : Lists existing targets.\n- create avd         : Creates a new Android Virtual Device.\n-   move avd         : Moves or renames an Android Virtual Device.\n- delete avd         : Deletes an Android Virtual Device.\n- update avd         : Updates an Android Virtual Device to match the folders of a new SDK.\n- create project     : Creates a new Android Project.\n- update project     : Updates an Android Project (must have an AndroidManifest.xml).\n- create test-project: Creates a new Android Test Project.\n- update test-project: Updates an Android Test Project (must have an AndroidManifest.xml).\n- create lib-project : Creates a new Android Library Project.\n- update lib-project : Updates an Android Library Project (must have an AndroidManifest.xml).\n- update adb         : Updates adb to support the USB devices declared in the SDK add-ons.\n- update sdk         : Updates the SDK by suggesting new platforms to install if available.\n\n\nAction \"list \":\n  Lists existing targets or virtual devices.\nOptions:\n  No options\n\nAction \"list avd\":\n  Lists existing Android Virtual Devices.\nOptions:\n  No options\n\nAction \"list target\":\n  Lists existing targets.\nOptions:\n  No options\n\nAction \"create avd\":\n  Creates a new Android Virtual Device.\nOptions:\n  -c --sdcard   Path to a shared SD card image, or size of a new sdcard for the new AVD\n  -t --target   Target id of the new AVD [required]\n  -n --name     Name of the new AVD [required]\n  -p --path     Location path of the directory where the new AVD will be created\n  -f --force    Force creation (override an existing AVD)\n  -s --skin     Skin of the new AVD\n\nAction \"move avd\":\n  Moves or renames an Android Virtual Device.\nOptions:\n  -p --path     New location path of the directory where to move the AVD\n  -n --name     Name of the AVD to move or rename [required]\n  -r --rename   New name of the AVD to rename\n\nAction \"delete avd\":\n  Deletes an Android Virtual Device.\nOptions:\n  -n --name     Name of the AVD to delete [required]\n\nAction \"update avd\":\n  Updates an Android Virtual Device to match the folders of a new SDK.\nOptions:\n  -n --name     Name of the AVD to update [required]\n\nAction \"create project\":\n  Creates a new Android Project.\nOptions:\n  -n --name     Project name\n  -t --target   Target id of the new project [required]\n  -p --path     Location path of new project [required]\n  -k --package  Package name [required]\n  -a --activity Activity name [required]\n\nAction \"update project\":\n  Updates an Android Project (must have an AndroidManifest.xml).\nOptions:\n  -p --path     Location path of the project [required]\n  -l --library  Location path of an Android Library to add, relative to the main project\n  -n --name     Project name\n  -t --target   Target id to set for the project\n  -s --subprojects Also update any projects in sub-folders, such as test projects.\n\nAction \"create test-project\":\n  Creates a new Android Test Project.\nOptions:\n  -p --path     Location path of new project [required]\n  -m --main     Location path of the project to test, relative to the new project [required]\n  -n --name     Project name\n\nAction \"update test-project\":\n  Updates an Android Test Project (must have an AndroidManifest.xml).\nOptions:\n  -m --main     Location path of the project to test, relative to the new project [required]\n  -p --path     Location path of the project [required]\n\nAction \"create lib-project\":\n\n  Creates a new Android Library Project.\nOptions:\n  -n --name     Project name\n  -p --path     Location path of new project [required]\n  -t --target   Target id of the new project [required]\n  -k --package  Package name [required]\n\nAction \"update lib-project\":\n  Updates an Android Library Project (must have an AndroidManifest.xml).\nOptions:\n  -p --path     Location path of the project [required]\n  -l --library  Location path of an Android Library to add, relative to the main project\n  -t --target   Target id to set for the project\n\nAction \"update adb\":\n  Updates adb to support the USB devices declared in the SDK add-ons.\nOptions:\n  No options\n\nAction \"update sdk\":\n  Updates the SDK by suggesting new platforms to install if available.\nOptions:\n  No options\n</code></pre>\n"},{"tags":["java","mysql","database","netbeans"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":61,"score":-3,"question_id":13133941,"title":"Whats wrong in my java database code?What these error means?","body":"<p>I have used the following code to insert,update,search and delete in mysql from netbeans.Here i am running employee table from javapractices database.I am using 3 classes:Test,EmpDbComponent &amp; Employee.Though it's working properly i am getting the following error.What's wrong? </p>\n\n<pre><code>    import java.sql.*;  \npublic class EmpDbComponent {  \npublic ResultSet fetchRecords(Connection conn) throws SQLException, ClassNotFoundException  \n{  \nString query = \"SELECT * FROM employee\";  \nStatement st =conn.createStatement();  \nResultSet rs = st.executeQuery(query);  \n    return rs;  \n}  \npublic int insertRecords(Connection conn, Employee emp) throws ClassNotFoundException, SQLException  \n{  \n    String query = \"INSERT INTO employee VALUES (\"+emp.getId()+\",'\"+emp.getEmp_Name()+\"','\"+emp.getEmp_Designation()+\"',\"+emp.getEmp_Salary()+\")\";  \n    Statement st = conn.createStatement();  \n    int rs = st.executeUpdate(query);  \n    return rs;  \n}  \npublic int updateRecord(Connection conn, Employee emp) throws ClassNotFoundException, SQLException  \n{  \n    String query = \"UPDATE employee SET emp_name ='\"+emp.getEmp_Name()+\"', emp_salary = \"+emp.getEmp_Salary()+\", emp_designation = '\"+emp.getEmp_Designation()+\"' WHERE emp_id = \"+emp.getId()+\"\";  \n    Statement st = conn.createStatement();  \n    int rs = st.executeUpdate(query);  \n    return rs;  \n}  \npublic int deleteRecord(Connection conn, Employee emp) throws ClassNotFoundException, SQLException  \n{  \n    String query = \"DELETE FROM employee WHERE emp_id = '\"+emp.getId()+\"'\";  \n    Statement st = conn.createStatement();  \n    int rs = st.executeUpdate(query);  \n    return rs;  \n}  \n}\n\n\n\n\n\n\n\n   public class Employee {  \n        private int id;  \n        private String emp_Name;  \n        private String emp_Designation;  \n        private Double emp_Salary;  \n        Employee()  \n        {  \n        }  \n        Employee(int id)  \n        {  \n            this.id = id;  \n        }  \n        Employee(int id, String emp_name, Double emp_salary,String emp_designation)  \n        {  \n            this.id = id;  \n            this.emp_Name = emp_name;  \n            this.emp_Designation = emp_designation;  \n            this.emp_Salary = emp_salary;  \n        }  \n\n        public int getId() {  \n            return id;  \n        }  \n        public void setId(int id) {  \n            this.id = id;  \n        }  \n        public String getEmp_Name() {  \n            return emp_Name;  \n        }  \n        public void setEmp_Name(String emp_Name) {  \n            this.emp_Name = emp_Name;  \n        }  \n        public String getEmp_Designation() {  \n            return emp_Designation;  \n        }  \n        public void setEmp_Designation(String emp_Designation) {  \n            this.emp_Designation = emp_Designation;  \n        }  \n        public Double getEmp_Salary() {  \n            return emp_Salary;  \n        }  \n        public void setEmp_Salary(Double emp_Salary) {  \n            this.emp_Salary = emp_Salary;  \n        }  \n\n    }  \n\n\n\nimport java.sql.Connection;  \nimport java.util.Scanner;  \nimport java.sql.DriverManager;  \nimport java.sql.ResultSet;  \nimport java.sql.SQLException;  \nclass choices  \n{  \n    private int id;  \n    private String name;  \n    private Double salary;  \n    private String designation;  \n    Scanner sc = new Scanner(System.in);  \n    boolean isAgain = true;  \n    int ch;  \n    Employee em = new Employee();  \n    public void InsertMethod()  \n    {  \n        System.out.println(\"Enter Employee Id: \");  \n        id = sc.nextInt();  \n        em.setId(id);  \n        System.out.println(\"Enter Employee Name: \");  \n        name = sc.next();  \n        em.setEmp_Name(name);  \n        System.out.println(\"Enter Employee Salary: \");  \n        salary = sc.nextDouble();  \n        em.setEmp_Salary(salary);  \n        System.out.println(\"Enter Employee Designation\");  \n        designation = sc.next();  \n        em.setEmp_Designation(designation);  \n    }  \n    public void UpdateMethod()  \n    {  \n        System.out.println(\"Enter Employee Id whose record you want to update: \");  \n        id = sc.nextInt();  \n        em.setId(id);  \n        System.out.println(\"Enter Employees new Name whose id is:\"+id);  \n        name = sc.next();  \n        em.setEmp_Name(name);  \n        System.out.println(\"Enter Employees new  Salary whose id is:\"+id);  \n        salary = sc.nextDouble();  \n        em.setEmp_Salary(salary);  \n        System.out.println(\"Enter Employees new Designation whose id is\"+id);  \n        designation = sc.next();  \n        em.setEmp_Designation(designation);  \n    }  \n    public void DeleteMethod()  \n    {  \n        System.out.println(\"Enter Employee Id whose record you want to Delete: \");  \n        id = sc.nextInt();  \n    }  \n    public boolean askAgain()  \n    {  \n        System.out.println(\"Press 1 to display menu again, press any other key to exit\");  \n        ch = sc.nextInt();  \n        if(ch == 1)  \n            return true;  \n        else   \n            return false;  \n    }  \n    public void choice() throws ClassNotFoundException, SQLException  \n    {  \n        do  \n        {  \n            try  \n            {  \n            int choice;  \n            Test t = new Test();  \n            EmpDbComponent db = new EmpDbComponent();  \n            ResultSet rs;  \n            System.out.println(\"Enter you choice\\n 1.&gt;Press 1 to Display \\n 2.&gt;Press 2 to Insert \\n 3.&gt; Press 3 to Update \\n 4.&gt; press 4 to Delete\\n 5.&gt; Press 5 to Exit\\n\");  \n            choice = sc.nextInt();  \n            switch(choice)  \n            {  \n                case 1:  \n                {  \n                    System.out.println(\"---\\t\\t-----\\t\\t-------\\t\\t--------------\");  \n                    System.out.println(\"Id\\t\\t Name\\t\\t Salary\\t\\t Designation\");  \n                    System.out.println(\"---\\t\\t-----\\t\\t-------\\t\\t--------------\");  \n                    rs = db.fetchRecords(t.getConnection());  \n                    while(rs.next())  \n                    {  \n                    System.out.print(rs.getInt(1)+\"\\t\\t\");  \n                    System.out.print(rs.getString(2)+\"\\t\\t\");  \n                    System.out.print(rs.getInt(3)+\"\\t\\t\");  \n                    System.out.println(rs.getString(4));  \n                    }  \n                    break;  \n                }  \n                case 2:  \n                {  \n                    InsertMethod();  \n                    Employee emp = new Employee(id,name,salary,designation);  \n                    int i = db.insertRecords(t.getConnection(), emp);  \n                    if(i == 0)  \n                        System.out.println(\"Not inserted successfully\");  \n                    else  \n                        System.out.println(\"Inserted Successfully\");  \n                    break;  \n                }  \n                case 3:  \n                {  \n                    UpdateMethod();  \n                    Employee emp = new Employee(id);  \n                    int i = db.updateRecord(t.getConnection(), emp);  \n                    if(i == 0)  \n                        System.out.println(\"Not Updated Succesfully\");  \n                    else  \n                        System.out.println(\"Congratulation your record is updated Successfully\");  \n                    break;  \n                }  \n                case 4:  \n                {  \n                    DeleteMethod();  \n                    Employee emp = new Employee(id,name,salary,designation);  \n                    int i = db.deleteRecord(t.getConnection(), emp);  \n                    if(i == 0)  \n                        System.out.println(\"Not Deleted Succesfully\");  \n                    else  \n                        System.out.println(\"Deleted Successfully\");  \n                    break;  \n                }  \n                case 5:  \n                {  \n                    System.exit(0);  \n                }  \n                default:  \n                {  \n                    System.out.println(\"Your Choice is not from the given list..\");  \n                    break;  \n                }  \n\n            }isAgain = askAgain();  \n            }  \n            catch(Exception e)  \n            {  \n                e.printStackTrace();  \n            }  \n        }while(isAgain);  \n    }  \n}  \n\npublic class Test {  \n    public Connection getConnection() throws ClassNotFoundException, SQLException   \n    {  \n    /* for type 4 drivers */  \n\n    String user = \"root\";  \n    String pass = \"\";  \n    String url = \"jdbc:mysql://localhost/javapractices\";  \n    String conn = \"com.mysql.jdbc.Driver\";  \n    Class.forName(conn);  \n    Connection con= DriverManager.getConnection(url,user,pass);  \n\n    /* end of connection */  \n\n    return con;  \n    }  \n    public static void main(String args[]) throws SQLException, ClassNotFoundException  \n    {  \n        choices ch = new choices();  \n        ch.choice();  \n    }  \n}  \n</code></pre>\n\n<p>here is the output &amp; the error</p>\n\n<pre><code>run:\nEnter you choice  \n 1.&gt;Press 1 to Display   \n 2.&gt;Press 2 to Insert  \n 3.&gt; Press 3 to Update  \n 4.&gt; press 4 to Delete  \n 5.&gt; Press 5 to Exit \n\n4  \nEnter Employee Id whose record you want to Delete:  \n02\n\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'emp_id' in 'where clause'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)\n\nEnter you choice\n 1.&gt;Press 1 to Display \n 2.&gt;Press 2 to Insert \n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)\n 3.&gt; Press 3 to Update \n 4.&gt; press 4 to Delete\n 5.&gt; Press 5 to Exit\n\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2728)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1811)\n    at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1725)\n    at test.EmpDbComponent.deleteRecord(EmpDbComponent.java:30)\n    at test.choices.choice(Test.java:127)\n    at test.Test.main(Test.java:173)\n</code></pre>\n"},{"tags":["php","ajax","database","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13137682,"title":"Joomla AJAX call losing Joomla database class","body":"<p>I am currently building some functionality into a <strong>Joomla</strong> build whereas results are returned from a database on a select box change.\nThe issue I am having is when I make the <code>Ajax</code> call I get a <code>Class JFactory</code> not found' error which I presume because the file where the php code is run is not considered to be inside the Joomla framework when the <code>AJAX</code> call is made?\nI have tried to solve this myself but am having trouble.\nCan anyone point me n the right direction as to where I am going wrong?</p>\n\n<p>The <code>Ajax</code> call (inside index.php):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var url = \"&lt;?php echo $this-&gt;baseurl; ?&gt;/templates/&lt;?php echo $this-&gt;template; ?&gt;/directory_code.php\";\n    jQuery(document).ready(function() {\n        jQuery('#city').change(function() {         \n        jQuery.ajax({\n            url: url,\n            type: \"POST\",\n            data: jQuery(\"#city\").serialize(),\n            dataType: 'json',\n            success: function(data) {\n            alert('data');\n            }\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And the function (inside a file called directory_code.php):</p>\n\n<pre><code>if(isset($_POST)) {\n    if(isset($_POST['city'])) {\n        $city = $_POST['city'];\n        $suburbs = populateSuburbs($city);\n    }\n}   \n\nfunction populateSuburbs($city) {               \n    $db = JFactory::getDBO();\n    $query = \"SELECT DISTINCT suburb FROM vyj20_contact_details\";\n    $db-&gt;setQuery($query);\n    $results = $db-&gt;loadObjectList();\n    foreach($results as $key =&gt; $result) {\n        $data['suburb'][] = array(\n            $key =&gt; $result-&gt;suburb\n        );\n    }\n}\n</code></pre>\n\n<p>Many Thanks</p>\n"},{"tags":["java","database","file","code-improvement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13137380,"title":"What is the best way to save this? (saving the data generated by an application)","body":"<p>I have this code, and i want to save the generated data, but i don't know how, A database? a file? do i need to chance everyting in the code and start over again?</p>\n\n<p>I'm from brazil, so the variables and Strings are in portuguese but i guess the way to code is Universal, So any Tips to improve the code will be awesome, i didn't finish yet but it is not a problem. </p>\n\n<pre><code>package sistema_academico;\n\nimport javax.swing.JOptionPane;\n\npublic class Sistema_Academico\n{\n    static Aluno Aluno[] = new Aluno[100];\n    static Professor Professor[] = new Professor[100];\n    static int idA = 0;\n    static int idP = 0;\n\n    public static void main(String[] args)\n    {\n        boolean bSair = true;\n\n            do\n            {\n                    int nOption = 0;\n                    String sEntrada = \"\";\n                    String sConcatenar = \"\";\n                    try\n                    {\n                     nOption = Integer.parseInt(JOptionPane.showInputDialog(\"0 - Sair \\n\" +\n                                                    \"1 - Cadastrar Aluno \\n\" +\n                                                    \"2 - Cadastrar Professor \\n\" +\n                                                    \"3 - Pesquisar Aluno \\n\" +\n                                                    \"4 - Pesquisar Professor \\n\" +\n                                                    \"5 - Alterar Aluno \\n\" +\n                                                    \"6 - Alterar Professor \\n\" +\n                                                    \"7 - Excluir Aluno \\n\" +\n                                                    \"8 - Excluir Professor \\n\"));\n                    }\n                    catch(Exception NumberFormat)\n                    {\n\n                    }\n                     switch (nOption)\n                    {           \n                    case 1: JOptionPane.showMessageDialog(null, \"Cadastrar Aluno\");     \n                        sEntrada = \"\";\n                        sConcatenar = \"\";\n\n                        sEntrada = JOptionPane.showInputDialog(\"Nome: \") + \"_\";\n                        sConcatenar = sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Endereço: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Curso: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"RA: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        CadastrarAluno(sConcatenar);\n\n                        break;\n\n                    case 2: JOptionPane.showMessageDialog(null, \"Cadastrar Professor\");\n                        sEntrada = \"\";\n                        sConcatenar = \"\";\n\n                        sEntrada = JOptionPane.showInputDialog(\"Nome: \") + \"_\";\n                        sConcatenar = sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Endereço: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Curso: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Registro: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        sEntrada = JOptionPane.showInputDialog(\"Materia: \") + \"_\";\n                        sConcatenar += sEntrada;\n\n                        CadastrarProfessor(sConcatenar);                    \n\n                        break;\n\n                    case 3: JOptionPane.showMessageDialog(null, \"Pesquisar Aluno\");\n                        sEntrada = \"\";\n\n                        sEntrada = JOptionPane.showInputDialog(\"Pesquisar RA:\");\n                        JOptionPane.showMessageDialog(null, PesquisarAluno(sEntrada));\n\n\n                        break;\n\n                    case 4: JOptionPane.showMessageDialog(null, \"Pesquisar Professor\");\n                        sEntrada = \"\";\n\n                        sEntrada = JOptionPane.showInputDialog(\"Pesquisar Registro:\");\n                        JOptionPane.showMessageDialog(null, PesquisarProfessor(sEntrada));\n\n                        break;\n\n                    case 5: JOptionPane.showMessageDialog(null, \"Alterar Aluno\");\n\n                        break;\n\n                    case 6: JOptionPane.showMessageDialog(null, \"Alterar Professor\");\n\n                        break;\n\n                    case 7: JOptionPane.showMessageDialog(null, \"Excluir Aluno\");\n\n                        break;\n\n                    case 8: JOptionPane.showMessageDialog(null, \"Excluir Professor\");\n\n                        break;\n\n                    case 0:\n                        bSair = false;\n                        break;\n\n                    default:\n                        JOptionPane.showMessageDialog(null, \"Opção Invalida\");\n                        break;\n                    }\n            }while(bSair);\n    }// Metodo Principal\n\n\n\n    public static void CadastrarAluno(String Al)\n    {   \n        idA++;\n        String array[] = Al.split(\"_\");\n        Aluno[idA] = new Aluno();\n        Aluno[idA].setNome(array[0]);\n        Aluno[idA].setEndereco(array[1]);       \n        Aluno[idA].setCurso(array[2]);\n        Aluno[idA].setRA(array[3]);     \n    }\n\n    public static void CadastrarProfessor(String Pf)\n    {\n        idP++;\n        String array[] = Pf.split(\"_\");\n        Professor[idP] = new Professor();\n        Professor[idP].setNome(array[0])    ;\n        Professor[idP].setEndereco(array[1]);\n        Professor[idP].setCurso(array[2]);\n        Professor[idP].setRegistro(array[3]);\n        Professor[idP].setMateria(array[4]);\n    }\n\n\n\n    public static String PesquisarAluno(String RA)\n    {\n        for(int i = 0; i &lt; idA; i++)\n        {\n            if(Aluno[idA].getRA().equals(RA))\n            {\n                return Aluno[idA].getNome();\n            }\n        }\n        return \"RA não Cadastrado\";\n    }\n\n    public static String PesquisarProfessor(String RE)\n    {\n        for(int i = 0; i &lt; idP; i++)\n        {\n            if(Professor[idP].getRegistro().equals(RE))\n            {\n                return Professor[idP].getNome();\n            }\n        }\n        return \"Registro não Cadastrado\";\n    }\n\n    public static void AlterarAluno(String Al)\n    {\n\n    }\n\n    public static void AlterarProfessor(String Pf)\n    {\n\n    }\n\n    public static void ExcluirAluno(String Al)\n    {\n\n    }\n\n    public static void ExcluirProfessor(String Pf)\n    {\n\n    }\n}// Classe Principal\n</code></pre>\n"},{"tags":["mysql","database","outsourcing"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":37,"score":4,"question_id":13135504,"title":"Database implementation bad practice - Application code vs Leveraging the DBMS","body":"<p>I've employed an Outsourced development team for my website that are delivering my software which has a MySQL database. I mandated that BCNF was followed. I've now seen the Entity Relationship Map graphically and NO joins are displayed and dozens and dozens of tables are there with no lines connecting and I can insert anything into these tables. It looks like a total mess.</p>\n\n<p>It appears the application code is doing what the DBMS should do, however they maintain they are following best practice -am I being duped because it looks like a nightmare waiting to happen with no means to protect integrity and avoid corruption? When my application hopefully gets popular with 1000's of users concurrently using it, is it likely to pose a problem -especially with maintenance of the app by alternative developers. Note - no documentation exists. I think they've built a mess and are scared of the task of fixing what they've done.</p>\n\n<p>So the question is: Is using application code to do the inserts, deletes etc inadvisable against letting the DBMS do that stuff?</p>\n"},{"tags":["python","database","google-app-engine","gqlquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13137420,"title":"How to model database for a TODO list app","body":"<p>I'm trying to design a TODO app in python, but I'm having some difficulty figuring out how to write the model in order to support querying future dates. For example, to query for a TODO list item that repeats periodically with no end date. How would I store such information?</p>\n\n<pre><code>class TaskModel(db.Model):\n   name = db.StringProperty()\n   contact = db.ReferenceProperty(model.Contact)\n   start_datetime = db.DateTimeProperty()\n   end_datetime = db.DateTimeProperty()\n   repeat_count = db.IntegerProperty(default=1)\n   priority = db.RatingProperty(default=1)\n   note = db.TextProperty()\n</code></pre>\n"},{"tags":["database","web-testing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13135471,"title":"Black box testing - Testing max length of values stored in database by stored procedure","body":"<p>I faced this issue a few days back, and I am still struggling with the answer.</p>\n\n<p>We were given a functionality to test for uploading images for a selected car. There was only a <code>Browse</code> button, and an <code>Upload</code> button in the page.</p>\n\n<p>We had to test if the image name is getting saved in the format     </p>\n\n<pre><code>(make year-car make-car model-car version-unique ID.jpg)\n</code></pre>\n\n<p>We tested it for a number of different cars and functionality was working fine.</p>\n\n<p>But, we missed out one thing. </p>\n\n<p>There was a stored procedure created for saving these image URLs to the database (it was not shared with us. We normally do black box testing.)</p>\n\n<p>Database column being used to save was of size 100 characters, but the stored procedure was storing image URLs in a variable of length 50 characters</p>\n\n<p>Now, the Image names and URLs were getting saved properly for most cars. </p>\n\n<p>But, for cars where Image URLs got greater than 50 chars in length, data got truncated while saving in the database.</p>\n\n<p>This resulted in a major issue in production, and I was left baffled by how I could have caught this earlier. </p>\n\n<p>Was this a bug that could have been caught by black box testing, or this is the kind of bug you learn to check by experience?</p>\n"},{"tags":["php","database","activerecord","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13136185,"title":"YII model to handle more than one table","body":"<p>I am developing a registration form in YII. In my form there is a radio option to choose register as Mode1 or register as Mode2. If user chooses mode1, data's should be entered to table1 or it should entered to table2.\nIn YII each model deals with one table. Here my form deals with two tables.</p>\n\n<p>So how to handle such a form to validate and enter data's to table in YII?</p>\n"},{"tags":["android","database","xampp","remote-access"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12826577,"title":"What would I need to do in order to connect to a central database with Android?","body":"<p>I'm about to build a GPS Spot Finder application with Android and I am trying to decide what requirements are feasible and what aren't. The app would enable users to essentially add different spots on a Google Map. One of the problems would be fetching the data, adding new spots, etc, etc. This, of course would mean the database would have to be online and it would have to be central. My question is, what kind technologies would I need to make this happen? I am mostly familiar with XAMPP, PHPMyAdmin and the like. Can I just use that and connect Android to the database? I assume I would not need to create a website...just the database? </p>\n\n<p>What different approaches can I take with this? Be great if people can point me in the right direction. </p>\n\n<p>Sorry if I don't make any sense and if this type of question is inappropriate for Stackoverflow :S</p>\n"},{"tags":["database","oracle","jdbc"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13122697,"title":"How to specify the precision/scale JDBC metadata of Oracle numbers?","body":"<p>I need to force the precision and scale of a result column, to do custom formatting on currency values (I'm assuming every NUMBER(*,2) is a currency value).\nConsider the following query:</p>\n\n<pre><code>select cast(1234.56 as NUMBER(6,2)) from dual;\n</code></pre>\n\n<p>It does the expected rounding if necessary, but the result metadata describes a Number field with unspecified precision and scale:</p>\n\n<pre><code>System.out.println( rs.getMetaData().getScale(1) ); // prints 0;\n</code></pre>\n\n<p>I believe something strange is happening on the JDBC side, because the following script does return a NUMBER(6,2) as expected:</p>\n\n<pre><code>drop table temp;\ncreate table temp as (\nselect cast(1234.56 as NUMBER(6,2)) x from dual\n);\nselect * from temp;\n</code></pre>\n"},{"tags":["mysql","sql","database","join"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13129280,"title":"Complex Join of two MySQL tables","body":"<p><strong>edit:</strong> The join that I want:</p>\n\n<p><img src=\"http://i.stack.imgur.com/TOU5z.jpg\" alt=\"enter image description here\"></p>\n\n<p>This is my current MySQL tables</p>\n\n<p>table 'primary'</p>\n\n<pre><code>+----------+--------+---------+-----------+----------+\n| id       | sample | mineral | formula   | link     |\n+----------+--------+---------+-----------+----------+\n| 1        | 5742   | calcite | CaCO3     | link..   |\n| 2        | 3411   | siderite| Fe^2+^CO3 | link..   |\n| .        | ....   | ........| ......... | ......   |\n+----------+--------+---------+-----------+----------+\n</code></pre>\n\n<p>and table 'secondary'</p>\n\n<pre><code>+----------+------------+---------+-----------+\n| id       | wavenumber | calcite | siderite  |\n+----------+------------+---------+-----------+\n| 1        | 1          | 256     | 434       |\n| 2        | 3          | 254     | 312       |\n| 3        | 5          | 251     | 424       |\n| 4        | 7          | 257     | 544       |\n| 5        | 9          | 258     | 345       |\n| 6        | 11         | 257     | 386       |\n| 7        | 13         | 326     | 314       |\n| 8        | 15         | 456     | 337       |\n| 9        | 17         | 236     | 243       |\n| 10       | 19         | 246     | 514       |\n| 11       | 21         | 254     | 662       |\n| 12       | 23         | 258     | 248       |\n| 13       | 25         | 230     | 374       |\n| 14       | 27         | 224     | 359       |\n| 15       | 29         | 216     | 442       |\n| 16       | 31         | 236     | 344       |\n| 17       | 33         | 247     | 343       |\n| ..       | ..         | ...     | ...       |\n+----------+------------+---------+-----------+\n</code></pre>\n\n<p>It is possible to combine in one query:\n- a select all from row click of primary table with select all from weavenumber + specific column from secondary table:</p>\n\n<p><strong>e.g.</strong> if is clicked on row 2 of primary table, select all and also I want to select all from weavenumber and column 'siderite'.</p>\n\n<p>Weavenumber column it is common for all selections, the only difference is column 3, 4, 5, and so on, which corresponds to the id of primary table.\nIt's possible to make a join like this?</p>\n\n<p>I want to make a xy plot for every entry primary table, and in the secondary table, the weavenumber is the x-axe (horizontal) and calcite, siderite, etc. is the variable y-axe (vertical).</p>\n\n<p>For now I have this:</p>\n\n<pre><code>private void primaryMouseClicked(java.awt.event.MouseEvent evt) {  \n\nint row = primary.getSelectedRow();\nint realIndex = primary.convertRowIndexToModel(row);\nString Table_click = (primary.getModel().getValueAt(realIndex, 0).toString());\n\n    try {\n            String sql = \"select * from primary where id='\" + Table_click + \"' \";\n            pst = conn.prepareStatement(sql);\n            rs = pst.executeQuery();\n            if (rs.next()) {\n\n\n                String add1 = rs.getString(\"mineral\");\n                txt_mineral.setText(add1);\n                String add2 = rs.getString(\"formula\");\n                txt_formula.setText(add2);\n                String add3 = rs.getString(\"link\");\n                txt_link.setText(add3);\n\n            }\n\n        } catch (Exception e) {\n\n            JOptionPane.showMessageDialog(null, e);\n        }\n\n}\n</code></pre>\n"},{"tags":["mysql","database","linux","ms-access"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13131065,"title":"Integrate client's existing MS Access database with his Linux-hosted site?","body":"<p>My client has asked me if it is possible to integrate his existing Microsoft Access database with his Linux shared host website. He has been keeping records of his customers' data on his local computer using Microsoft Access, but now wants to enable them to view their data online. Before I get back to him with the best approach, I wanted to ask a few questions here.</p>\n\n<p>Currently it seems like I have two viable options: <br/>\n<strong>a)</strong> Convert his database(s) to MySQL or similar and allow him to continue updating the databases with a web-based interface rather than the Microsoft Access desktop client.<br /></p>\n\n<p><strong>b)</strong> Allow him to continue using Microsoft Access, and allow him to upload the updated files to a script that will parse them and then update a MySQL database.</p>\n\n<p><em>I did some research regarding using the Microsoft Access database directly on Linux, but it seems ill-supported and not the best option.</em></p>\n\n<p>Obviously option <strong>b</strong> would take a lot more work, but I am afraid he will resist changing from Microsoft Access to a web based alternative for updating the data. I just wanted to get some feedback before getting back to him.</p>\n\n<p>So, what is the best way to integrate my client's existing MS Access database with his Linux-hosted site?</p>\n"},{"tags":["c#","database","oop","class","oledb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13135321,"title":"How to create a method in a class that would \"connect to my Database\" on calling?","body":"<p>Can someone please tell me how can I create a method in a class that would execute the following code on calling ???</p>\n\n<pre><code>OledbConnection con;\nprivate void createcon()\n{\n    con = new OleDbConnection();\n\n    string currentPath = Directory.GetCurrentDirectory();\n    string DBPath = \"\";\n    if (Directory.Exists(currentPath + @\"\\Database\") == true)\n    {\n        DBPath = currentPath + @\"\\Database\\SMAStaff.accdb\";\n    }\n    else\n    {\n        for (int i = 0; i &lt; 2; i++)\n        {\n            currentPath = currentPath.Remove(currentPath.LastIndexOf(\"\\\\\"));\n        }\n        DBPath = currentPath + \"\\\\Database\\\\SMAStaff.accdb\";\n    }\n    con.ConnectionString = \"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=\" + DBPath + \";\" +\n    \"Persist Security Info = False;Jet OLEDB:Database Password=123\";\n}\n</code></pre>\n\n<p>This method is present on every form of my project so I think creating a class would be a better idea. I'm able to accomplish this but \nwhen I call </p>\n\n<pre><code>con.open()\n</code></pre>\n\n<p>nothing happens and an error is shown in the error window. The name con doesnot exist in the current context. I know what that means but I don't know how to get past it. I've tried to make \"con\" public and internal but still noting happens ...\nIf someone could help with this I would be grateful ...\nThank you</p>\n"},{"tags":["php","mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13135337,"title":"Different way retrieve images from a mysql database","body":"<p>I have written the php code for storing images in a mysql database and I also know how to retrieve them, but is there a way i can retrieve them via URL, just the way we access facebook images. I mean providing the URL of the mysql database and then somehow getting those images. Is this even possible? Thanks in advance.</p>\n"},{"tags":["c#","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13015220,"title":"Using SMO for retrieving SQL Server, Database, Table info","body":"<p>I get the db names using:</p>\n\n<pre><code>SqlDataSourceEnumerator sdse = SqlDataSourceEnumerator.Instance;\nDataTable table = sdse.GetDataSources();\n</code></pre>\n\n<p>Then using the below I get a list of db's.</p>\n\n<pre><code>static void Main(string[] args)\n        {\n            {\n                //Connect to the local, default instance of SQL Server. \n                Server srv;\n                srv = new Server(\"LAPTOP\\\\SQLEXPRESS\");\n                //The connection is established when a property is requested.\n\n                Console.WriteLine(srv.Databases.ToString());\n                foreach (Database db in srv.Databases)\n                {\n                    Console.WriteLine(db);\n                }\n                Console.ReadLine();\n            }\n        }\n</code></pre>\n\n<p>The problem is that I only get the system databases, no others, even though they exist. I don't know what to change to get the info for all of the databases. Any assistance would be appreciated.</p>\n\n<p>TH</p>\n"},{"tags":["mysql","database","cascading-deletes"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13134913,"title":"Figure out if a table has a DELETE on CASCADE","body":"<p>Can I know if a database have <code>DELETE ON CASCADE</code> with a query?</p>\n"},{"tags":["database","database-programming"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13134899,"title":"Good blogs on database programming?","body":"<p>There are zillion blogs for DBAs, but not so many on database programming.</p>\n\n<p>Any good reads you would like to share?</p>\n"},{"tags":["php","mysql","sql","database","website"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13132961,"title":"Issue with custom config.php","body":"<p>I have been dropped in the deep end by being asked to migrate an OLD custom built website (using php and mysql) to another server.  I have changed the config to reflect the new location but all I get is a white screen.  The DB connects fine so that isn't the issue, I think it might be with the $doc_root.  Can anyone help with the code below?</p>\n\n<pre><code>$doc_root = str_replace( '\\\\', '/', substr($_SERVER['SCRIPT_FILENAME'], 0, 0-strlen($_SERVER['PHP_SELF']))).\"\";\n$DOC_ROOT = str_replace( '\\\\', '/', substr($_SERVER['SCRIPT_FILENAME'], 0, 0-strlen($_SERVER['PHP_SELF']))).\"\";\n</code></pre>\n\n<p>I dont know php too well unfortunately so I am stuck!  The current test server address is in this format<code>http://xx.xxx.xx.xx/thedomain.com/</code></p>\n\n<p>I have tried so many combinations of the above for the $doc_root but whatever I do won't work.</p>\n\n<p>Can anyone help?  Thanks in advance!</p>\n"},{"tags":["mysql","database","delete"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13134410,"title":"Mysql - Unable to delete a record from self indexed db object","body":"<p>I am not able to delete a row from a database object.  In my case db object is having self indexing.<br>\na field root_id is having a foreign key relation with key_id (Primary key). The referential integrity is designed as <code>ON UPDATE NO ACTION AND ON DELETE NO ACTION</code>.  Even still I am not able to delete.</p>\n\n<pre><code>CONSTRAINT `fk_MyTab` FOREIGN KEY (`root_id`) REFERENCES `MyTab` (`key_id`) ON DELETE NO ACTION ON UPDATE NO ACTION)\n</code></pre>\n\n<p>I have to delete records from this table <code>WHERE key_id = root_id</code>.<br>\nWhen I try to delete I am getting the following.  </p>\n\n<pre><code>Error Code: 1451. Cannot delete or update a parent row: a foreign key constraint fails (`MyTab`, CONSTRAINT `fk_MyTab` FOREIGN KEY (`root_id`) REFERENCES `MyTab` (`key_id`) ON DELETE NO ACTION ON UPDATE NO ACTION)\n</code></pre>\n\n<p>Point me to the right direction.  </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ruby-on-rails","ruby","database","activerecord","schema"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13134191,"title":"How to generate database schema graph for one application using ActiveRecord?","body":"<p>I want to generate graphs to describe the relations within a application using ActiveRecord, is there some gem to accomplish that?</p>\n\n<p>such as this one\n<img src=\"https://upload.wikimedia.org/wikipedia/commons/3/36/Mediawiki_database_Schema.svg\" alt=\"database graph\"></p>\n"},{"tags":["database","postgresql","timer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13133879,"title":"Modifying the values in a postgresql database using a time trigger?","body":"<p>I have an application to authenticate the user based on a one time password.\nThis password is stored in the db with the username.\nI wish to keep the OTP valid only for a certain period of time after that i want to \nget rid of that particular entry.\nmy table uses the user name as primary key.</p>\n"},{"tags":["database","persistence","queue","rabbitmq","celery"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":510,"score":6,"question_id":4544793,"title":"Is there a way to make Celery/RabbitMQ persistent?","body":"<p>So that if my server crashes, I still have my Tasks?</p>\n"},{"tags":["javascript","jquery","database","quotes","business-catalyst"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":10441771,"title":"Building a Quote Database without Server Side","body":"<p>I want to build a searchable database of quotes. The idea is I would type in a keyword to a search box and I would have quotes with those keywords. I would assign key words to the quotes. I am using a hosted CMS (Adobe Business Catalyst) and cannot use server side scripting. How is the best way to go about this? Is it possible to do this with javascript and jquery? </p>\n"},{"tags":["java","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1012,"score":0,"question_id":6948768,"title":"Java Connect to database Error: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver","body":"<p>Hey stupid question but I'm having a hard time connecting my java program to a mysql database.\nThrowing an exception when I hit this line.  </p>\n\n<pre><code>Class.forName(driverName).newInstance();\n</code></pre>\n\n<p>The driver name is com.mysql.jdbc.Driver.  I've searched around a bit on google and found something about a mysql-connector.jar file that I'm apparently supposed to have but I really haven't looked into it yet.  Thanks.</p>\n\n<p>Entire code:</p>\n\n<pre><code>Connection connection = null;\n    try\n    {\n        String driverName = \"com.mysql.jdbc.Driver\"; // MySQL MM JDBC driver \n        Class.forName(driverName).newInstance();\n\n        String serverName = \"*********\";\n        String database = \"canteen_web3\";\n        String url = \"jdbc:mysql://\" + serverName + \"/\" + database;\n        final String username = \"*****\";\n        final String password = \"******\";\n        connection = DriverManager.getConnection(url,username,password);\n        System.out.println(\"Connected!\");\n    }\n\n    catch(Exception ex)\n    {\n        throw new ICException(ex.getMessage());\n    }\n</code></pre>\n"},{"tags":["php","database","mysqli","column"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13132003,"title":"fill in GAP in ID column in mySQLi database","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1841104/how-to-fill-in-the-holes-in-auto-incremenet-fields\">How to fill in the “holes” in auto-incremenet fields?</a>  </p>\n</blockquote>\n\n\n\n<p>i have a problem when deleting a user in my database , the ID column always skips and just continues to increment, even if there are skipped numbers inside the column.</p>\n\n<p>for ex:</p>\n\n<pre><code>+---------+----------+---------+\n|   ID    |  first   |   last  |\n+---------+----------+---------+\n|    1    |    a     |    a    |\n+---------+----------+---------+\n|    3    |    c     |    c    |\n+---------+----------+---------+\n|    4    |    d     |    d    |\n+---------+----------+---------+\n|    5    |    e     |    e    |\n+---------+----------+---------+\n|    7    |    g     |    g    |\n+---------+----------+---------+\n|    9    |    i     |    i    |\n+---------+----------+---------+\n</code></pre>\n\n<p>is there anyway to automatically fill in the gap on my ID column when creating a new user?\nor just adjust the remaining users on the list to fill in the gap?</p>\n\n<p>I'm a new user in database structures so please be easy on me.</p>\n"},{"tags":["php","mysql","database","web","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13131401,"title":"mysql_query(INSERT ...) function not working in my code","body":"<p>I've create database, which basically accept name and Id and answer string of \nlength 47,and my php code will grade the incoming results against the answer key I provided and number containing the count of correct answers will stored in database. this is information of my database.\ndatabase name is marking\nand table called 'answer', which has 5 fields as follow</p>\n\n<pre><code>1) answer_id :int , not null, auto increament.\n2) name: text\n3)id : text\n4)answers : text\n5)correct : int\n</code></pre>\n\n<p>my question and problem is the function is working</p>\n\n<pre><code>// setup query\n$q = mysql_query(\"INSERT INTO `answer` VALUES \n (NULL,'$name', '$id','$answers','$correct')\");\n// run query\n$result = mysql_query($q);\n</code></pre>\n\n<p>or in another way , nothing storing in my database ???</p>\n\n<p>Thanks in advance.</p>\n\n<p>this is the whole program.</p>\n\n<pre><code>&lt;?php\nerror_reporting(E_ALL ^ E_STRICT);\n// to turn error reporting off \nerror_reporting(0);\n\n$name  =$_POST['name']; \n$id = $_POST['id']; \n$answers = $_POST['answers'];\n\n// check the length of string\nif(strlen($answers) !=10) \n{\nprint'your answer string must be 10';\n\nreturn;\n\n} \nmysql_connect(\"localhost\",\"root\",\"\"); \nmysql_select_db(\"marking\"); \n$name = addslashes($name); \n$id = addslashes($id); \n$answers =  addslashes($answers); \n$answer_key =  \"abcfdbbjca\"; \n$correct =  0; \nfor($i=0;$i&lt;strlen($answer_key);$i++) \n{\n\nif($answer_key[$i]  == $answers[$i])\n\n$correct++;\n\n} \n //  Setup query\n$q = mysql_query(\"INSERT INTO `answer` VALUES ('$name', '$id','$answers','$correct')\");\n$result = mysql_query($q);\nprint 'Thnak you. You got' + $correct + 'of 10 answers correct'; \n?&gt;\n</code></pre>\n"},{"tags":["database","db2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13115562,"title":"db2 table inactive after a patch","body":"<p>I ran the following db2 script with no problem on my terminal. but when I try to access the actual front end page involved with this table I get the error (code <strong>57016</strong>) that indicates the table is inactive. I restarted the db2 but still this issue is happening. </p>\n\n<p>Can anyone please help me out here</p>\n\n<pre><code>alter table CUSTOMER alter column Delivery set default 0! \nalter table CUSTOMER alter column Delivery set not null! \n\nalter table CUSTOMER add constraint pref_ck4 check (Delivery between 0 and 1)!\n\ncommit!\nquit!\n</code></pre>\n\n<p>and the rollback was:</p>\n\n<pre><code>alter table CUSTOMER alter Delivery drop DEFAULT!\nalter table CUSTOMER alter COLUMN Delivery drop NOT NULL!\n\nalter table CUSTOMER drop constraint pref_ck4!\n\nreorg table CUSTOMER!\n\ncommit!\nquit!\n</code></pre>\n\n<p>The error I receive:</p>\n\n<pre><code>UncategorisedDatabaseException: Query=[SELECT * FROM CUSTOMER WHERE ID = ?], database       vendor error message is: DB2 SQL error: SQLCODE: -668, SQLSTATE: 57016, SQLERRMC: 7;CUSTOMER, UncategorisedDatabaseException errorCode = -668\n\ndb2 =&gt; ? 57016\n\nSQLSTATE 57016: The table cannot be accessed, because it is inactive.\n</code></pre>\n"},{"tags":["javascript","jquery","database","visualization","erd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13131504,"title":"javascript library to generate erd","body":"<p>Does anyone know of a Javascript library that I can use to generate an erd?</p>\n\n<p>What I'm trying to do is build a visualization tool that looks like an erd, but then fill in where the schema would normally be with some rows from that table.</p>\n\n<p>I've looked around but haven't been able to find one. I could manually generate one, but it would be a lot of work to get the relationship lines and the visuals right.</p>\n"},{"tags":["php","mysql","database","schema"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13131344,"title":"Data Redundancy with multiple tables","body":"<p>So I have created a user notification system, and I have a user_notifications table structured like so:</p>\n\n<pre><code>id\nreceiver_id\nsender_id\naction\naction_type\nentity_id\ntimestamp\n</code></pre>\n\n<p>Now, there are values in other tables connected to a notification through the 'entity_id' column. So let's say I also have this table called <strong>videos_watched</strong>:</p>\n\n<pre><code>video_id\nuser_id\ntime_watched_for\n</code></pre>\n\n<p>They are connected from <strong>user_notifications</strong>.entity_id to <strong>videos_watched</strong>.video_id</p>\n\n<p>What I'm trying to decide is whether it's a bad thing to store the data in the second table as well. Should I treat the <strong>user_notifications</strong> table as an interaction table, rather than a place to actually reliably store user data?</p>\n"},{"tags":["iphone","ios","database","sqlite","file-storage"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1297,"score":3,"question_id":9346760,"title":"Where should I store the SQLite DB for my iPhone app?","body":"<p>I have several iOS apps on the market and in all of them I have a small SQLite database file connected to the app to provide the user with my data. Once installed the user customizes this DB by changing certain options. </p>\n\n<p>Until now, all of these apps store the DB in NSDocumentsDirectory. After submitting my last update, it was rejected for storing data in the wrong location. For the apps rejected I changed the storage location to NSCacheDirectory. I am now afraid that the cache will get cleared and erase the users customizations. The app would still function, the DB would get recreated, but all changed tables would be reset, thereby upsetting users.</p>\n\n<p>Where should this type of database file be stored? Was I right to put it in the Docs dir? According to Apple, the Docs dir is for \"Critical Data\" which is either user generated data or data needed for proper operation of the app. I feel that it falls under that category, persisting my users settings is proper operation, but who wants to await an appeal?</p>\n"},{"tags":["sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":6569479,"title":"In Firebird, how to return the ids of the deleted rows?","body":"<p>I would like to return the ids which have been deleted by a DELETE query.</p>\n\n<p>On Stackoverlow, I found this:\n<a href=\"http://stackoverflow.com/questions/1388025/how-to-get-id-of-the-last-updated-row-in-mysql\">How to get id of the last updated row in mysql</a></p>\n\n<p>The top1 answer has a very nice solution, but it's for mysql. I tried to do the same in Firebird after reading some part of the Firebird manual:</p>\n\n<pre><code>set term ^ ;\n\nEXECUTE BLOCK\nAS\n    DECLARE VARIABLE uids BLOB SUB_TYPE TEXT;\nbegin\n    DELETE FROM CATEGORY WHERE name = 'Haló'\n    AND ( SELECT id INTO :uids );\n    SELECT @uids;\nend\n^\n</code></pre>\n\n<p>Yes, I know that 'uids' will always contain one ID, since I'm overwriting the variable, but it's only a test, and what is more, it doesn't work. It stops at 'INTO' saying \"Token unknown - line 8, column 21\". I don't know what to do, what to continue with.. :\\</p>\n\n<p>Thanks for Your help!</p>\n"},{"tags":["database","postgresql","replication"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13124118,"title":"How are DDL changes replicated in PostgreSQL","body":"<p>In PostgreSQl 9.1, the streaming replication is done by streaming WALs records which is generated by UPDATEs and DELETEs on the Master’s data. </p>\n\n<p>How are the DDL changes replicated? Those are not the part of WALs. </p>\n"},{"tags":["database","oracle","transactionscope"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13130893,"title":"Oracle column not available in subsequent transactions","body":"<p>For our ASP.NET application we use a C# console application to maintain our Oracle and SQLServer databases.  Individual scripts are loaded and run in numerical order (the script names have the number), and committed when the script is complete.</p>\n\n<p>This is a legacy application, and we are moving away from this format in the future, however for now we need to maintain it with as little modification as possible.</p>\n\n<p>Recently, we added two columns to our DB_VERSION table: APP_MAJOR and APP_MINOR.  This addition was done in one of our scripts, with the purpose being to allow us to track what release of our product the database was last updated to.</p>\n\n<p>When each script completes execution and is committed (using IDbContext and IDbTransaction), the application updates the DB_VERSION table with the major/minor version of the application along with the number of the script.  Prior to adding the Major/Minor columns, the application just updated the script number.</p>\n\n<p>In SQLServer, there are no issues at all - when the application completes, the DB_VERSION table properly indicates the version of the app.  However, in Oracle, the APP_MAJOR and APP_MINOR columns are never updated.</p>\n\n<p>I have tracked this to the query we use that verifies whether or not the table as the new columns - and even after script execution is complete, the new columns are not showing up.  It appears that Oracle is caching the previous query so never makes the new columns available for update (though the Version column that was always updated continues to be updated properly).</p>\n\n<p>We have tried manually closing the connection, completely terminating the context and putting in a 5 second wait period to allow the pools to expire (I know, I know), changing the structure of the script itself to use straight DDL - all to no avail.  Adding a statement to clear the Oracle cache also failed because of a permissions error.</p>\n\n<p>I would put code here for your review, but there are too many places where there could be a problem - I'm hoping someone can provide a general direction for us to take.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["mysql","database","hibernate","locking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13125813,"title":"How to implement row level locking using Hibernate Query Language?","body":"<p>Background: I am working on a MYSql database where multiple instances reads from the same Account Table . I want to implement row level exclusive lock using Hibernate Query Language to avoid dirty read.</p>\n\n<p>My code is as below.</p>\n\n<pre><code>List&lt;AccountTableBean&gt; currentRequestslist = sessionFactory.getCurrentSession()\n                .createQuery(\"from Account where status = :finalStatus\")\n                .setLockMode(\"MappCurrentRequests\", LockMode.PESSIMISTIC_READ)\n                .setParameter(\"finalStatus\",\"Active\").list();   \n</code></pre>\n\n<p>Currently, I have used Pessimistic_read on the entire table. Is there a way i can apply to lock on individual rows? Any example will be very helpful.</p>\n\n<p>Thank you,\nGendaful</p>\n"},{"tags":["mysql","database","relational-database","one-to-many"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":120,"score":4,"question_id":13040746,"title":"mysql one-to-many query with negation and/or multiple criteria","body":"<p>I thought a query like this would be pretty easy because of the nature of relational databases but it seems to be giving me a fit.  I also searched around but found nothing that really helped.  Here's the situation:</p>\n\n<p>Let's say I have a simple relationship for products and product tags.  This is a one-to-many relationship, so we could have the following:</p>\n\n<pre><code>productid  |  tag\n========================\n1          |  Car\n1          |  Black\n1          |  Ford\n2          |  Car\n2          |  Red\n2          |  Ford\n3          |  Car\n3          |  Black\n3          |  Lexus\n4          |  Motorcycle\n4          |  Black\n5          |  Skateboard\n5          |  Black\n6          |  Skateboard\n6          |  Green\n</code></pre>\n\n<p>What's the <strong>most efficient</strong> way to query for all <code>(Ford OR Black OR Skateboard) AND NOT (Motorcycles OR Green)</code>?  Another query I'm going to need to do is something like all <code>(Car) or (Skateboard) or (Green AND Motorcycle) or (Red AND Motorcycle)</code>. </p>\n\n<p>There are about 150k records in the products table and 600k records in the tags tables, so the query is going to need to be as efficient as possible. Here's one query that I've been messing around with (example #1), but it seems to be taking about 4 seconds or so. Any help would be much appreciated.</p>\n\n<pre><code>SELECT p.productid\nFROM   products p\n       JOIN producttags tag1 USING (productid)\nWHERE  p.active = 1\n       AND tag1.tag IN ( 'Ford', 'Black', 'Skatebaord' )\n       AND p.productid NOT IN (SELECT productid\n                               FROM   producttags\n                               WHERE  tag IN ( 'Motorcycle', 'Green' ));\n</code></pre>\n\n<p>&nbsp; </p>\n\n<h1>Update</h1>\n\n<p>The quickest query I've found so far is something like this.  It's taking 100-200ms but it seems pretty inflexible and ugly.  Basically I'm grabbing all products that match <code>Ford</code>, <code>Black</code>, or <code>Skateboard</code>.  Them I'm concatenating all of the tags for those matched products into a colon-separated string and removing all products that match on <code>:Green:</code> AND <code>:Motorcycle:</code>.  Any thoughts?</p>\n\n<pre><code>SELECT p.productid,\n       Concat(':', Group_concat(alltags.tag SEPARATOR ':'), ':') AS taglist\nFROM   products p\n       JOIN producttags tag1 USING (productid)\n       JOIN producttags alltags USING (productid)\nWHERE  p.active = 1\n       AND tag1.tag IN ( 'Ford', 'Black', 'Skateboard' )\nGROUP  BY tag1.productid\nHAVING ( taglist NOT LIKE '%:Motorcycle:%'\n         AND taglist NOT LIKE '%:Green:%' ); \n</code></pre>\n"},{"tags":["php","mysql","database","checkbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13129815,"title":"Submitting Multiple Checkboxes Values to Database","body":"<p>I'm quite new to PHP and I'm looking for a way to submit a Value of Multiple Checkboxes into a Database! Right now I have managed to get the Checkboxes to display as Checked if the the Value in the Database = 1 otherwise it will be unchecked.</p>\n\n<p>Below is the current code that I have.</p>\n\n<pre><code>&lt;?php\n    $query = \"SELECT * FROM users_achievements_xbox WHERE user_id = '$userID' &amp;&amp; game_id = '$gameID' ORDER BY achievement_id ASC\";\n    $result = mysql_query($query);\n    while($row = mysql_fetch_assoc($result)) {   // Start looping table row\n    $userID = $row['user_id'];\n    $gameID = $row['game_id'];\n    $achievementID = $row['achievement_id'];\n    $achievementName = $row['achievement_name'];\n    $achievementDescription = $row['achievement_description'];\n    $achievementValue = $row['achievement_value'];\n\n    $check = mysql_query(\"SELECT * FROM users_achievements_xbox WHERE user_id = '$userID' &amp;&amp; game_id = '$gameID' &amp;&amp; achievement_id = '$achievementID'\");\n    $row2 = mysql_fetch_assoc($check);\n    $achievement_locked = $row2['achievement_locked'];\n\n    if($achievement_locked == \"0\")\n    {\n        $checked = 'checked=\"checked\"';\n    }\n    else\n    {\n        $checked = \"\";\n    }\n?&gt;\n    &lt;tr align=\"center\" bgcolor=\"#eeeeee\"&gt;\n        &lt;td&gt; &lt;img src=\"images/achievements/&lt;?php echo $gameID; ?&gt;/&lt;?php echo $achievementID; ?&gt;.jpg\" /&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;?php echo $achievementName; ?&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;?php echo $achievementDescription; ?&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;?php echo $achievementValue; ?&gt; &lt;/td&gt;\n        &lt;td&gt; &lt;input type=\"checkbox\" name=\"checkbox\" value=\"0\" &lt;?php echo $checked ?&gt; /&gt; &lt;/td&gt;\n    &lt;/tr&gt;\n\n&lt;?php\n} // end of while loop\n?&gt;\n</code></pre>\n\n<p>I was thinking about trying to do it via isset but I don't want a looped Submit button I can't seem to find how to wrap the Checkbox in a form for that but when I tested it quickly that way every value in \"achievement_locked\" in my Database became 0 when I only want the selected Checkboxes to change to 0 if checked or 1 if not!</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["php","sql","database","delete"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13130179,"title":"SQL Delete query showing, but no action","body":"<p>I have a SQL delete button after every record shown on my page. I have exactly what the button should do, but it's not working! I even echo the <code>$sql</code> to make sure it's correct and it displays the following:</p>\n\n<pre><code>DELETE * FROM recensies WHERE ID ='508a7a732ef67' AND email ='info@*****.nl'\n</code></pre>\n\n<p>When I look at the record in PHPmyAdmin I can see that there is a record with exactly this information, but on the other had that had to be, here is my code, I'm sure you'll see what I mean.</p>\n\n<pre><code>&lt;?php\n\n// Up here I connect to my DB, no problems there..\n\n$query  = \"SELECT * FROM recensies ORDER BY timestamp DESC\"; \n$result = mysql_query($query) or die(mysql_error());\n\nif (isset($_POST['verwijderen'])) \n{\n\n    $IDdelete = mysql_real_escape_string($_POST['ID']);\n    $emaildelete = mysql_real_escape_string($_POST['email']);\n\n    $sql = \"DELETE * FROM recensies \"\n         . \"WHERE ID ='$IDdelete' AND email ='$emaildelete'\";\n\n    mysql_query($sql);\n\n    echo $sql;\n}\n\nwhile ($row = mysql_fetch_array($result))\n{\n\n?&gt;\n\n&lt;form method=\"post\"&gt;\n&lt;tr&gt;\n&lt;td&gt;&lt;?php echo $row['cijfer']; ?&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"ID\" value=\"&lt;?php echo $row['ID']; ?&gt;\"&gt;&lt;/input&gt;&lt;/td&gt;\n&lt;td&gt;&lt;?php $newb = substr($row['beoordeling'], 0, 30); echo $newb; ?&gt;..&lt;/td&gt;\n&lt;td&gt;&lt;?php echo $row['voornaam']; ?&gt; &lt;?php echo $row['achternaam']; ?&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"text\" name=\"email\" value=\"&lt;?php echo $row['email']; ?&gt;\"&gt;&lt;/td&gt;\n&lt;td&gt;&lt;?php $datum = date(\"j/n/y\", strtotime($row[timestamp])); echo $datum; ?&gt;&lt;/td&gt;\n&lt;td&gt;&lt;input type=\"submit\" value=\"Verwijderen\" name=\"verwijderen\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/form&gt;\n\n&lt;?php\n\n}\n\n?&gt;\n\n&lt;/table&gt;\n\n&lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks guys! I just can't find my error?!</p>\n"},{"tags":["java","html","database","textarea","newline"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13130133,"title":"Textarea maxlength issue with database column size constraint","body":"<p>I been searching online for support but I have not found anything useful.</p>\n\n<p>I have a database table with a column that contains a size constraint of <strong>1500</strong> characters.\nI am using hibernate as an ORM to a database.</p>\n\n<p>My issue is with the <strong>newline</strong> character in HTML textarea.\nIn my HTML form, I have a textarea who's <strong>maxlength</strong> is set to <strong>1500</strong>.\nIn the HTML textarea, a <strong>newline</strong> is perceived as <strong>ONE</strong> character only.\nWhen I submit the form via servlet the <strong>newline</strong> character is perceived as <strong>TWO</strong> characters in java.</p>\n\n<p>So assuming I have filled out the textarea with <strong>1500</strong> characters, which contains 2 <strong>newlines</strong> in it, java sees the data passed as <strong>1502</strong> characters.\nThus when I save the data to the database it exceeds the <strong>1500</strong> limit and therefor violates the database column constraints.</p>\n\n<p>Sample Text:</p>\n\n<blockquote>\n  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus in est eu augue facilisis viverra. Phasellus eu lectus a nisi feugiat aliquet quis ut velit. Nunc vehicula neque sit amet quam interdum viverra. Morbi aliquet consequat lorem non rhoncus. Sed mauris mi, scelerisque sit amet tempus molestie, dapibus vitae quam. Proin id massa velit, commodo facilisis velit. In blandit, nibh quis auctor convallis, lectus nibh venenatis orci, quis dignissim sapien arcu eget erat. In quis diam id mauris consectetur tempor sit amet sit amet justo. Donec egestas metus eu massa vestibulum ultrices. Quisque vitae scelerisque metus. Vestibulum vehicula mi id augue condimentum pellentesque.</p>\n  \n  <p>Suspendisse tempus turpis lobortis turpis imperdiet vulputate. Fusce fringilla lorem et ligula feugiat id sodales nisi vehicula. Praesent egestas vestibulum ante, eget consequat magna molestie sit amet. Praesent egestas pharetra augue egestas imperdiet. Suspendisse ut elit augue, sit amet ornare nulla. Morbi cursus, diam at commodo gravida, elit lacus pulvinar lectus, vitae porttitor mauris sapien sed felis. Vestibulum non iaculis erat. Phasellus pharetra arcu sed dui porta tempus. Mauris lectus velit, cursus quis facilisis a, mattis rhoncus quam. Ut nisl nulla, malesuada imperdiet dictum id, sagittis quis orci. Duis bibendum pharetra quam eu pharetra. Fusce interdum nulla vel elit bibendum non pellentesque dui egestas. Praesent sed lacus sapien. Vesbulum id arcu neque, et faucibus lorem. Fusce metus.</p>\n</blockquote>\n\n<p><em>The gap between the paragraphs contain 2 newlines</em></p>\n\n<p>What I need to know is how can I go about the different interpretation of the <strong>newline</strong> character from HTML to Java?</p>\n\n<p>Thank for your help.</p>\n"},{"tags":["php","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":62,"score":0,"question_id":13130061,"title":"Basic PHP-script doesn't work","body":"<p>I'm new to PHP and SQL but I'm trying to create a simple PHP-script that allows a user to login to a website. It doesn't work for some reason and I can't see why. Every time I try to login with the correct username &amp; password, I get the error \"Wrong Username or Password\". The database-name and table-name are correct.</p>\n\n<p><strong>connect.php:</strong></p>\n\n<pre><code>&lt;?php\n$db_host = 'localhost';\n$db_name = 'app';\n$db_user = 'root';\n$db_pass = '';\n$tbl_name = 'users'; \n\n// Connect to server and database \nmysql_connect(\"$db_host\", \"$db_user\", \"$db_pass\") or die(\"Unable to connect to MySQL.\");\nmysql_select_db($db_name)or die(\"Cannot select database.\");\n\n// Info sent from form\n$user = trim($_POST['user']); \n$pass = trim($_POST['pass']); \n\n// Protection against MySQL injection\n$user = stripslashes($user);\n$pass = stripslashes($pass);\n$user = mysql_real_escape_string($user);\n$pass = mysql_real_escape_string($pass);\n$sql = (\"SELECT * FROM $tbl_name WHERE username='$user' and password='$pass'\");\n$result= mysql_query($sql);\n\n$count 0= mysql_num_rows($result);\nif($count==1){\n\n// Register $user, $pass send the user to \"score.php\"\nsession_register(\"user\");\nsession_register(\"pass\"); \nheader(\"location:score.php\");\n}\nelse \n{\necho \"Wrong Username or Password\";\n}\n?&gt;\n</code></pre>\n\n<p><strong>score.php:</strong></p>\n\n<pre><code>&lt;?php\nsession_start();\nif(!session_is_registered(user)){\nheader(\"location:login.html\");\n}\n?&gt;\n\n&lt;html&gt;\n&lt;body&gt;\n&lt;h1&gt;Login Successful&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I hope someone can find my mistake, thanks!</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13129705,"title":"How can I get data from database?","body":"<p>A guy did some php/database work for me a while back. He linked the pages to a menu (which had a separate function/table). I'm a little lost on how it's beneficial to link everything to a menu like that.</p>\n\n<p>Here's the code I'm trying to figure out:</p>\n\n<pre><code>function writeContent($page){\n$parentQ = \"select * from cdi_content where page=\\\"$page\\\"\";//query to obtain content for this page\n$parentResult = mysql_query($parentQ);//run query\n$link = mysql_fetch_assoc($parentResult);//result\necho $link['content'];//write content`\n}\n</code></pre>\n\n<p>With <code>&lt;?php writeContent(\"DDesign/index.php\");?&gt;</code> on the index.php page he created.</p>\n\n<p>From what I understand it runs through the menu function, but I'm just trying to get it to print what's in the \"content\" field in the database.</p>\n"},{"tags":["c","database","file"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13129974,"title":"Which one is faster, file or DB retrieval?","body":"<p>I know that for most real life applications using a DB is the way to go, as it handles many of the complex aspects for you (user permissions, concurrency, etc.).</p>\n\n<p>What I want to find out, though, is whether file or DB data retrieval is faster. </p>\n\n<p>I wrote a couple of C programs to test this out. The first one retrieves a string from a file 5,000 times:</p>\n\n<pre><code>for (i=0;i&lt;5000;i++){\n    file = fopen(\"file.txt\",\"r\");\n    fgets(string,10000,file);\n    fclose(file);\n}\n</code></pre>\n\n<p>The second program retrieves the same string from a BD instead (MySQL, localhost):</p>\n\n<pre><code>for (i=0;i&lt;5000;i++){\n    mysql_query(connection,\"select string from TABLE where id=1\");\n    result = mysql_store_result(connection);\n}\n</code></pre>\n\n<p>Using the \"time\" command on Linux I am finding that the program using file access is running 5 times faster than the one querying the DB (0.070 seconds against 0.350 seconds).</p>\n\n<p><strong>Question</strong>: Do the test and the result look right? From your experience file access is indeed faster than DB access?</p>\n"},{"tags":["database","oracle","jdbc","multiple-databases"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13127541,"title":"Failure trying to get a pooled connection. java.sql.SQLException: Protocol violation","body":"<p>I'm administering a web-based application that is set-up to pull in data from a variety of databases; SQL, Oracle, Mainframe, etc.</p>\n\n<p>I was given credentials to access an Oracle DB, and am establishing a connection through the web-based app server via JDBC. The JDBC connection requires me to provide a Database URL and JDBC driver for the connection. I also built in a SQL statement to pull only the information I needed from the Oracle DB into my web-based app.</p>\n\n<p>Things were running smoothly with this set-up, until just recently. I now receive the following error when trying to establish a connection from my web-based app to the Oracle DB:</p>\n\n<pre><code>Failure trying to get a pooled connection to \n[jdbc:oracle:thin:@&lt;SERVER NAME&gt;:1521:cqdb]java.sql.SQLException: Protocol violation\n</code></pre>\n\n<p>The Oracle DBA I work with is not very helpful in resolving in helping me troubleshoot this issue. Without his help, I really don't even know where to start with troubleshooting. </p>\n\n<p>Any suggestions on where to start? I can provide additional information if needed.</p>\n\n<p>*Additional information. This is what is in my STDOUT file in relation to the error. I can keep digging as well:</p>\n\n<pre><code>07:31:08,565  WARN QuartzScheduler_Worker-5 WEB-APP.api.Aggregator:979 - Exception during aggregation. Reason: Failure trying to get a pooled connection to [jdbc:oracle:thin:@SERVER-NAME:1521:cqdb]java.sql.SQLException: Protocol violation\nWEB-APP.tools.GeneralException: Failure trying to get a pooled connection to [jdbc:oracle:thin:@SERVER-NAME:1521:cqdb]java.sql.SQLException: Protocol violation\n    at WEB-APP.api.Aggregator.aggregateAccounts(Aggregator.java:1897)\nat WEB-APP.api.Aggregator.execute(Aggregator.java:1222)\nat WEB-APP.task.ResourceIdentityScan.execute(ResourceIdentityScan.java:76)\nat WEB-APP.api.TaskManager.runSync(TaskManager.java:643)\nat WEB-APP.scheduler.JobAdapter.execute(JobAdapter.java:116)\nat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\nat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:529)\nCaused by: WEB-APP.connector.ConnectorException: Failure trying to get a pooled connection to [jdbc:oracle:thin:@SERVER-NAME:1521:cqdb]java.sql.SQLException: Protocol violation\nat WEB-APP.connector.JDBCConnector.getConnection(JDBCConnector.java:833)\nat WEB-APP.connector.JDBCConnector.iterateObjects(JDBCConnector.java:649)\nat WEB-APP.connector.JDBCConnector.iterateObjects(JDBCConnector.java:90)\nat WEB-APP.connector.ConnectorProxy.iterateObjects(ConnectorProxy.java:109)\nat WEB-APP.api.Aggregator.iterateObjects(Aggregator.java:2673)\nat WEB-APP.api.Aggregator.aggregateAccounts(Aggregator.java:1818)\n... 6 more\nCaused by: WEB-APP.tools.GeneralException: Failure trying to get a pooled connection to [jdbc:oracle:thin:@SERVER-NAME:1521:cqdb]java.sql.SQLException: Protocol violation\n    at WEB-APP.tools.JdbcUtil.getPooledConnection(JdbcUtil.java:1178)\n    at WEB-APP.tools.JdbcUtil.getConnection(JdbcUtil.java:823)\nat WEB-APP.connector.JDBCConnector.getConnection(JDBCConnector.java:830)\n... 11 more\n07:33:03,983 ERROR http-8080-2 WEB-APP.server.Authenticator:229 - WEB-APP.connector.AuthenticationFailedException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 52e, vece\n</code></pre>\n\n<p>**Additional Information:\nOracle JDBC Driver version 14, JRE ver 1.6.0_23-b05. I don't have the Oracle DB version. Awaiting response from our Oracle DBA.</p>\n\n<p>***Additional Information:\nThis issue was resolved. Our Oracle DBA did something on his end to correct the connection issue. He hasn't explained what he did, yet. Thanks for your help. Sorry for not getting you all the info you needed up front.</p>\n"},{"tags":["php","jquery","ajax","database","post"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13129052,"title":"Jquery/Ajax Post To Update Database","body":"<p>Newbie here... I have a small poll and wanted to avoid refreshing the page when the poll is submitted, so I have looked up some examples using Ajax/jQuery to handle this. I'm trying to \"debug\" my Post.php file which is called via Ajax as follows:</p>\n\n<pre><code>$.ajax(\n{\n  type: \"POST\",\n  url: \"Post.php\",\n  data: datastring,\n  success: function()\n  {\n    alert (\"Success\");\n  }\n});\n</code></pre>\n\n<p>Post.php for debugging purposes looks as follows:</p>\n\n<pre><code>&lt;?php\necho \"Hello World\";\n?&gt;\n</code></pre>\n\n<p>I see the \"Success\" message signifying that the Post.php file is being called successfully, however I do not see the \"Hello World\" message displayed. Is it not possible to echo text to the screen in the Post.php file called via Ajax?</p>\n"},{"tags":["php","mysql","database","variables","database-table"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13129059,"title":"Create SQL Table in PHP with variables and text","body":"<p>I'm trying to create a SQL table in PHP using the following code:</p>\n\n<pre><code>$sql = \"CREATE TABLE `$DBName`.`$login`_clients  (\n  ClientID int NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`ClientID`),\n  AgentClients varchar(15),\n  ClientTotal int\n)\";     \n</code></pre>\n\n<p>The botton script runs fine and saves the database as my <code>$login</code> query. I wanted to save the table as <code>$login_clients</code> however. Ex. <code>$login=\"Fred\"</code>, then the table would be named Fred_clients. I have tried a few different methods of combining variables with text but can't get the format down. Any suggestions?</p>\n\n<pre><code>$sql = \"CREATE TABLE `$DBName`.`$login`_clients  (\n  ClientID int NOT NULL AUTO_INCREMENT,\n  PRIMARY KEY (`ClientID`),\n  AgentClients varchar(15),\n  ClientTotal int\n)\";    \n</code></pre>\n"},{"tags":["java","database","database-design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13129008,"title":"open source COW-B+-tree implementation","body":"<p>Does anyone know a COW (Copy On Write) B+-tree implementation for Java (open source)? Otherwise probably a well documented standard B+-tree which I can adapt?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","mysql","sql","database","table"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13128242,"title":"Cannot create SQL table with query variable as table name in PHP","body":"<p>I am passing a query variable in PHP. I would like to make it the table name, but I know there is probably a SQL syntax error. When I print the statement, the variable is passed meaning it works, but the database simply isn't created. </p>\n\n<p>Here is my code for the creation of the database:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$DBName = \"database_name\";  \n$sql = \"CREATE TABLE '$DBName'.'$login' (  \n    ClientID int NOT NULL AUTO_INCREMENT,   \n    AgentClients varchar(15),  \n    ClientTotal int  \n    )\";  \nmysql_query($sql,$link);\nwhere `$login = $_POST['login'];\n</code></pre>\n\n<p>Also, I'm not worried about security breaches at the moment, so don't worry about that.</p>\n\n<p>Any insight would be greatly appreciated. Thanks.</p>\n"},{"tags":["php","database","insert","mysqli","set"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":13128173,"title":"cannot create database using mySQLi","body":"<p>I'm always getting error when inserting the value to my database. but it's working when i'm using mySQL only, I'm new to SQLi so please be gentel.</p>\n\n<p>insert.php</p>\n\n<pre><code>    &lt;?php\n    include(\"dbinfo.inc.php\");\n\n    //connect to mysql server\n    $mysqli = new mysqli(\"localhost\", $username, $password, $database);\n\n    //check if any connection error was encountered\n    if(mysqli_connect_errno()) {\n        echo \"Error: Could not connect to database.\";\n        exit;\n    }     \n\n    //insert    \n    $query = \"insert into client_info set (\n    id = '\".$mysqli-&gt;real_escape_string('').\"',\n    first = '\".$mysqli-&gt;real_escape_string($_POST['first']).\"',\n    last = '\".$mysqli-&gt;real_escape_string($_POST['last']).\"',\n    phone = '\".$mysqli-&gt;real_escape_string($_POST['phone']).\"',\n    mob = '\".$mysqli-&gt;real_escape_string($_POST['mob']).\"',\n    fax = '\".$mysqli-&gt;real_escape_string($_POST['fax']).\"',\n    email = '\".$mysqli-&gt;real_escape_string($_POST['email']).\"',\n    web = '\".$mysqli-&gt;real_escape_string($_POST['web']).\"',\n    com = '\".$mysqli-&gt;real_escape_string($_POST['com']).\"',\n    address = '\".$mysqli-&gt;real_escape_string($_POST['address']).\"',\n    city = '\".$mysqli-&gt;real_escape_string($_POST['city']).\"',\n    state = '\".$mysqli-&gt;real_escape_string($_POST['state']).\"',\n    zip = '\".$mysqli-&gt;real_escape_string($_POST['zip']).\"',\n    zone = '\".$mysqli-&gt;real_escape_string($_POST['zone']).\"',\n    office = '\".$mysqli-&gt;real_escape_string($_POST['office']).\"',\n    office_num = '\".$mysqli-&gt;real_escape_string($_POST['office_num']).\"',\n    ext_mob = '\".$mysqli-&gt;real_escape_string($_POST['ext_mob']).\"',\n    ext_phone = '\".$mysqli-&gt;real_escape_string($_POST['ext_phone']).\"',\n    ext_office = '\".$mysqli-&gt;real_escape_string($_POST['ext_office']).\"',\n    srv = '\".$mysqli-&gt;real_escape_string($_POST['srv']).\"',\n    stype = '\".$mysqli-&gt;real_escape_string($_POST['stype']).\"',\n    voip = '\".$mysqli-&gt;real_escape_string($_POST['voip']).\"',\n    vpass = '\".$mysqli-&gt;real_escape_string($_POST['vpass']).\"',\n    regDate = '\".$mysqli-&gt;real_escape_string($_POST['regDate']).\"',\n    acct = '\".$mysqli-&gt;real_escape_string($_POST['acct']).\"',\n    Nagents = '\".$mysqli-&gt;real_escape_string($_POST['Nagents']).\"',\n    agents = '\".$mysqli-&gt;real_escape_string($_POST['agents']).\"',\n    password = '\".$mysqli-&gt;real_escape_string($_POST['password']).\"'\n    )\";\n\n        //execute the query\n        if( $mysqli-&gt;query($query) ) {\n            //if saving success\n            echo \"User was created.\";\n        }else{\n            //if unable to create new record\n            echo \"Database Error: Unable to create record.\";\n        }\n        //close database connection\n        $mysqli-&gt;close();\n\n\n    ?&gt;\n</code></pre>\n\n<p>create.php</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;script language=\"JavaScript\"&gt;\nvar today=new Date();\nvar jran=today.getTime();\n\nfunction random() {\n    ia=9301;\n    ic=49297;\n    im=233280;\n    jran = (jran*ia+ic) % im;\n    return jran/(im*1.0);\n};\n\nfunction rand(number) {\n    return Math.ceil(random()*number);\n};\n\nfunction makearray(n) {\n    this.length = n;\n    for (var i = 1; i &lt;= n; i++) this[i] = 0;\n    return this;\n}\n\nvar asciitable = new makearray (128);\nasciitable.length=128;\nfor (var i=0;i&lt;=127;i++) asciitable[i]=\"\";\nasciitable[33]=\"!\"; asciitable[34]=\"\\\"\"; \nasciitable[35]=\"#\"; asciitable[36]=\"$\";\nasciitable[37]=\"%\"; asciitable[38]=\"&amp;\"; \nasciitable[39]=\"'\"; asciitable[40]=\"(\";\nasciitable[41]=\")\"; asciitable[42]=\"*\"; \nasciitable[43]=\"+\"; asciitable[44]=\",\";\nasciitable[45]=\"-\"; asciitable[46]=\".\"; \nasciitable[47]=\"/\"; asciitable[48]=\"0\";\nasciitable[49]=\"1\"; asciitable[50]=\"2\"; \nasciitable[51]=\"3\"; asciitable[52]=\"4\";\nasciitable[53]=\"5\"; asciitable[54]=\"6\"; \nasciitable[55]=\"7\"; asciitable[56]=\"8\";\nasciitable[57]=\"9\"; asciitable[58]=\":\"; \nasciitable[59]=\";\"; asciitable[60]=\"&lt;\";\nasciitable[61]=\"=\"; asciitable[62]=\"&gt;\"; \nasciitable[63]=\"?\"; asciitable[64]=\"@\";\nasciitable[65]=\"A\"; asciitable[66]=\"B\"; \nasciitable[67]=\"C\"; asciitable[68]=\"D\";\nasciitable[69]=\"E\"; asciitable[70]=\"F\"; \nasciitable[71]=\"G\"; asciitable[72]=\"H\";\nasciitable[73]=\"I\"; asciitable[74]=\"J\"; \nasciitable[75]=\"K\"; asciitable[76]=\"L\";\nasciitable[77]=\"M\"; asciitable[78]=\"N\"; \nasciitable[79]=\"O\"; asciitable[80]=\"P\";\nasciitable[81]=\"Q\"; asciitable[82]=\"R\"; \nasciitable[83]=\"S\"; asciitable[84]=\"T\";\nasciitable[85]=\"U\"; asciitable[86]=\"V\"; \nasciitable[87]=\"W\"; asciitable[88]=\"X\";\nasciitable[89]=\"Y\"; asciitable[90]=\"Z\"; \nasciitable[91]=\"[\"; asciitable[92]=\"\\\\\";\nasciitable[93]=\"]\"; asciitable[94]=\"^\"; \nasciitable[95]=\"_\"; asciitable[96]=\"`\";\nasciitable[97]=\"a\"; asciitable[98]=\"b\"; \nasciitable[99]=\"c\"; asciitable[100]=\"d\";\nasciitable[101]=\"e\"; asciitable[102]=\"f\"; \nasciitable[103]=\"g\"; asciitable[104]=\"h\";\nasciitable[105]=\"i\"; asciitable[106]=\"j\"; \nasciitable[107]=\"k\"; asciitable[108]=\"l\";\nasciitable[109]=\"m\"; asciitable[110]=\"n\"; \nasciitable[111]=\"o\"; asciitable[112]=\"p\";\nasciitable[113]=\"q\"; asciitable[114]=\"r\"; \nasciitable[115]=\"s\"; asciitable[116]=\"t\";\nasciitable[117]=\"u\"; asciitable[118]=\"v\"; \nasciitable[119]=\"w\"; asciitable[120]=\"x\";\nasciitable[121]=\"y\"; asciitable[122]=\"z\"; \nasciitable[123]=\"{\"; asciitable[124]=\"|\";\nasciitable[125]=\"}\"; asciitable[126]=\"~\";\n\nfunction nchar(num) {\n    if ((num&gt;=33) &amp;&amp; (num&lt;=127)) return asciitable[num];\n}\n\nfunction doit() {\n    var i;\n    var n;\n    var s = \"\";\n            for (i=1;i&lt;=8;i++) {\n                n=0;\n                while ( (n&lt;=47) || \n                                        ((n&gt;=58) &amp;&amp; (n&lt;=96)) || \n                                        (n&gt;=123))  n = rand(126);\n                s = s + nchar(n);\n            }\n\n    document.gen.password.value = s;\n}\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form method=\"post\" action=\"insert.php\" name=\"gen\"&gt;\n&lt;b&gt;Personal Info:&lt;/b&gt;\n&lt;p&gt;First Name:&lt;input type=\"text\" name=\"first\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;Last Name:&lt;input type=\"text\" name=\"last\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;Mob:&lt;input type=\"text\" name=\"mob\" size=\"20\" /&gt;\next:&lt;input type=\"text\" name=\"ext_mob\" size=\"4\" /&gt;&lt;/p&gt;\n&lt;p&gt;Phone:&lt;input type=\"text\" name=\"phone\" size=\"20\" /&gt;\next:&lt;input type=\"text\" name=\"ext_phone\" size=\"4\" /&gt;&lt;/p&gt;\n&lt;p&gt;Fax:&lt;input type=\"text\" name=\"fax\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;E-mail:&lt;input type=\"text\" name=\"email\" size=\"35\" /&gt;\n&lt;p&gt;Address:&lt;input type=\"text\" name=\"address\" size=\"40\" /&gt;&lt;/p&gt;\n&lt;p&gt;City:&lt;input type=\"text\" name=\"city\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;State:&lt;input type=\"text\" name=\"state\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;Zip Code:&lt;input type=\"text\" name=\"zip\" size=\"5\" /&gt;&lt;/p&gt;\n&lt;p&gt;Zone:&lt;input type=\"text\" name=\"zone\" size=\"5\" /&gt;&lt;/p&gt;\n&lt;br&gt;\n\n&lt;b&gt;Office Info:&lt;/b&gt;\n&lt;p&gt;Company:&lt;input type=\"text\" name=\"com\" size=\"40\" /&gt;&lt;/p&gt;\n&lt;p&gt;Office Address:&lt;input type=\"text\" name=\"office\" size=\"40\" /&gt;&lt;/p&gt;\n&lt;p&gt;Office Num #:&lt;input type=\"text\" name=\"office_num\" size=\"15\" /&gt;\next:&lt;input type=\"text\" name=\"ext_office\" size=\"4\" /&gt;&lt;/p&gt;\n&lt;p&gt;Website:&lt;input type=\"text\" name=\"web\" size=\"30\" /&gt;&lt;/p&gt;&lt;br&gt;\n&lt;b&gt;Account Info:&lt;/b&gt;\n&lt;p&gt;Registry Date:&lt;input type=\"text\" name=\"regDate\" size=\"30\" /&gt;&lt;/p&gt;\n&lt;p&gt;Account:&lt;input type=\"text\" name=\"acct\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;Service:&lt;input type=\"text\" name=\"srv\" size=\"15\" /&gt;&lt;/p&gt;\n&lt;p&gt;Service Type:&lt;input type=\"text\" name=\"stype\" size=\"40\" /&gt;&lt;/p&gt;\n&lt;p&gt;Number of Agents:&lt;input type=\"text\" name=\"Nagents\" size=\"3\" /&gt;&lt;/p&gt;&lt;br&gt;\n\n\n&lt;b&gt;Agent Info:&lt;/b&gt;\n&lt;p&gt;Agents:&lt;input type=\"text\" name=\"agents\" size=\"40\" /&gt;&lt;/p&gt;\n&lt;p&gt;VOID:&lt;input type=\"text\" name=\"voip\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;p&gt;VOIP Password:&lt;input type=\"text\" name=\"vpass\" size=\"20\" /&gt;&lt;/p&gt;\n&lt;br&gt;\n\n&lt;input type=\"hidden\" size=\"20\" name=\"password\"&gt;\n\n&lt;input type=\"submit\" name=\"go\" value=\"Insert to Database\" onclick=\"doit()\"&gt;\n&lt;/form&gt;\n\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>the error i get is when the scripts tries to insert the query to the DB</p>\n\n<p>\"Database Error: Unable to create record.\"</p>\n\n<p>i tried to see if there are any output on my form, and there is, even tried to insert just one variable \"first\" still getting errors, don't know what I'm doing wrong here</p>\n"},{"tags":["mysql","database","performance","query"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13127703,"title":"need a sql query to find out the Database wait time ratio for MySQL","body":"<p>Oracle supports sql queries to <code>SYS.V_$SYSMETRIC</code> to find out Database Wait Time Ratio (% of wait or bottlenecks experienced in time spent on user-level calls)  <a href=\"http://www.oracle.com/technetwork/articles/schumacher-analysis-099313.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/schumacher-analysis-099313.html</a>. What is an equivalent query to find similar stats for MySQL database? </p>\n\n<p>I have looked at <code>information_schema.PROFILING</code> and <code>information_schema.PROCESSLIST</code> tables to calculate a similar measure but unable to comprehend what values to use / address.</p>\n\n<p>Any suggestions?</p>\n\n<p>I need it for both Windows and Linux Platforms with remote MySql server. I think a light-weight DB query would help as opposed to gathering CPU Utilization for the machine hosting MySQL server. </p>\n\n<p>Thanks.</p>\n"},{"tags":["c#","database","entity-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":105,"score":0,"question_id":13116764,"title":"How to update relational database TABELS?","body":"<p>I am using Entity Framework 4.0. I am facing problem while updating data in the database. I am getting this exception :</p>\n\n<blockquote>\n  <p><em>An object with the same key already exists in the ObjectStateManager.</em><br>\n  <em>The ObjectStateManager cannot track multiple objects with the same key.</em></p>\n</blockquote>\n\n<p>I am working on the relational database. The following are 3 entities and there relation :</p>\n\n<pre><code>         1    to   *        1   to    *\nCeremony -----------&gt; Menu ------------&gt; CourseOption\n</code></pre>\n\n<p>Everything works fine, if I update the ceremony which already contains the <code>Menus</code> and <code>CourseOptions</code>. The problem comes when we insert new <code>Menu</code> and <code>CourseOption</code> entry in the ceremony at the time of update. Than I got the above mention exception.</p>\n\n<p><strong>C# code to update existing ceremony</strong></p>\n\n<pre><code>public HttpResponseMessage PutCeremony(int id, Ceremony ceremony)\n{\n    if (ModelState.IsValid &amp;&amp; id == ceremony.Id)\n    {\n       db.Entry(ceremony).State = EntityState.Modified;\n\n       try\n       {\n           db.SaveChanges();\n       }\n       catch (DbUpdateConcurrencyException)\n       {\n           return Request.CreateResponse(HttpStatusCode.NotFound);\n       }\n\n       return Request.CreateResponse(HttpStatusCode.OK, ceremony);\n    }\n    else\n    {\n       return Request.CreateResponse(HttpStatusCode.BadRequest);\n    }\n}\n</code></pre>\n\n<p>How can I get rid of this problem? Please help  </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Today i spend a whole day in this, i read a lot of articals and stackoverflow question. I found that <code>once a product is fetched from the Context, the context is keeping track of it</code> so that why instead of using :</p>\n\n<pre><code>db.Entry(ceremony).State = EntityState.Modified;\n</code></pre>\n\n<p>I used </p>\n\n<pre><code>db.Entry(db.Ceremonies.Find(ceremony.Id)).CurrentValues.SetValues(ceremony);\n</code></pre>\n\n<p>Now by doing this change the exception gone and Ceremony entity properties are changing properly. But the ceremony related Menus entry and CourseOptions entry are not updating. Please give me suggestion guys. I am absolutely new in EF.  </p>\n"},{"tags":["database","rdbms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13127513,"title":"How do you usually handle related data in SQL upon deletion attempt","body":"<p>For the sake of simplicity:</p>\n\n<p>We have 2 tables:</p>\n\n<pre><code>property(\n  id int,\n  name varchar(20)\n)\nthing(\n  id int,\n  name varchar(20)\n  propertyid int\n)\n</code></pre>\n\n<p>The thing has a relation to the property table of course. </p>\n\n<p>If both has a CRUD interface for data manipulation, how do you handle the deletion attempt of a <em>property</em> entity if you have a couple <em>property</em> entity and a lot of <em>things</em>?</p>\n\n<ul>\n<li>Should I display a custom message by digging through the catched exception whether it's a foreign key constraint violation or not? (it's an ugly in my opinion)</li>\n<li>Should I add a \"deleted\" or \"visible\" column to the property table. If it's marked as deleted, user can no longer add it to a <em>thing</em>, but it's still displayed when checking any <em>thing</em></li>\n<li>Some other solution?</li>\n</ul>\n\n<p>I'm looking for a simple and elegant solution but i was unable to find one so far.</p>\n"},{"tags":["database","wordpress","migration","staging"],"answer_count":7,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1605,"score":5,"question_id":1447148,"title":"Wordpress database migration","body":"<p>I've looked around the Wordpress forums about this and didn't find anything so I thought I might try here.</p>\n\n<p>If you have a staging/dev Wordpress setup used for testing new pluging and such, how do you go about migrating the data in the staging database back to the production database? Is there a \"Wordpress best practices\" way to do this, or am I limited to having to manually migrate tables from one database to the other?</p>\n"},{"tags":["php","database","windows","sqlite","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":3590,"score":4,"question_id":1091180,"title":"How can I use and access an SQLite DB using PHP and Wamp Server?","body":"<p>I know PHP 5 already supports SQLite but for some reason I can't get it to work.</p>\n\n<p>I followed the instructions from <a href=\"http://www.scriptol.com/sql/sqlite-getting-started.php\" rel=\"nofollow\"><em>SQLite tutorial: Getting started</em></a>. I also made sure that the following are not commented out from php.ini:</p>\n\n<pre><code>extension=php_pdo_sqlite.dll \nextension=php_sqlite.dll.\n</code></pre>\n\n<p>But when I open the PHP file from localhost using Firefox, I get this error:</p>\n\n<blockquote>\n  <p>Fatal error: Class 'SQLiteDatabase' not found.</p>\n</blockquote>\n\n<p>I'm on Windows by the way, if that info matters.</p>\n\n<p>What may be the cause of this problem?</p>\n"},{"tags":["php","mysql","database","sql-update","nested-sets"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":168,"score":5,"question_id":13016655,"title":"Update nested sets when changing parent or deleting","body":"<p>I have the following table structure, which is <a href=\"http://sqlfiddle.com/#!2/8080f\">also on sqlfiddle</a> for convenience:</p>\n\n<pre>\n+---------+-----------+---------+----------+-----------+-------------------+-----------------------------------+--------+--------------+-------------+---------------+-----------+\n| rule_id | parent_id | left_id | right_id | rule_type | rule_title        | rule_description                  | public | parse_bbcode | parse_links | parse_smilies | group_ids |\n+---------+-----------+---------+----------+-----------+-------------------+-----------------------------------+--------+--------------+-------------+---------------+-----------+\n|       1 |         0 |       1 |        6 | cat       | Sample Category 1 |                                   |      1 |            0 |           0 |             0 | 1 2 7     |\n|       2 |         1 |       2 |        3 | rule      | Sample Rule 1     | This is a sample rule description |      1 |            1 |           1 |             1 | 1 2 7     |\n|       3 |         0 |       7 |        8 | cat       | Sample category 2 |                                   |      1 |            0 |           0 |             0 | 1 7 2     |\n|       4 |         0 |       9 |       10 | cat       | Sample category 3 |                                   |      1 |            0 |           0 |             0 | 1 7 2     |\n|       5 |         1 |       4 |        5 | rule      | Sample rule 3     | lol                               |      1 |            1 |           1 |             1 | 1 2 7     |\n+---------+-----------+---------+----------+-----------+-------------------+-----------------------------------+--------+--------------+-------------+---------------+-----------+\n</pre>\n\n<p>As you see, <code>rule_type</code> can be either <code>'cat'</code> or <code>'rule'</code>.</p>\n\n<p><code>cat</code> stands for <strong>category</strong>, and categories are root nodes: so <code>parent_id</code> is always <code>0</code>.  In my code, we can identify categories by checking either if <code>rule_type = 'cat'</code> or <code>parent_id = 0</code>.</p>\n\n<p>You can also see that I am using nested sets for my project and this is where the problem stands.</p>\n\n<p>I have successfully created functions that:</p>\n\n<ul>\n<li><p>move rules &amp; categories up or down; and</p></li>\n<li><p>put a new rule or category in the end of their respective place.</p></li>\n</ul>\n\n<p>BUT I am failing to set the <strong>RULES'</strong> <code>right_id</code> &amp; <code>left_id</code> if we change its <code>parent_id</code>! I'm also failing to set <code>right_id</code> &amp; <code>left_id</code> if we delete a rule OR category.</p>\n\n<h3>Example</h3>\n\n<p>I'll try to explain with an example.  Note that this is just an example, not the actual case and I need a general answer.</p>\n\n<p>From the table above, we see that we have 3 categories with <code>rule_id IN (1, 3, 4)</code> and two rules with <code>rule_id IN (2, 5)</code>.</p>\n\n<p>The <strong>rule</strong> with <code>rule_id = 2</code> is part of the category with <code>rule_id = 1</code>, we can see that from the <code>parent_id</code> column.  What if I change the <code>parent_id</code> to 4?  How would the <code>right_id</code> &amp; <code>left_id</code> get set so everything is in place again?  I know we need to update both <code>rule_id IN (1, 4)</code> to reorder everything, but I don't know how my query would look like.</p>\n\n<p>Same goes for deleting... For example I delete <code>rule_id = 2</code> (which is a <strong>rule</strong>), how would I set <code>right_id</code> &amp; <code>left_id</code> for <code>parent_id = 1</code> in the correct order? Or when I delete a category? How would I reorder the categories?</p>\n\n<p>I didn't really try doing anything here, as I have no vision how I would do such a thing, therefore I'm asking for your help, folks.</p>\n\n<p>I hope I made myself clear. If not, let me know and I'll try to be even more descriptive.</p>\n"},{"tags":["mysql","sql","database","query","one-to-many"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13108587,"title":"Selecting primary keys that does not has foreign keys in another table","body":"<p>For simplification, I have two tables related with one to many using a foreign key, for example:</p>\n\n<pre><code>Users table:\nid\nname\n\nActions table:\nid\nuser_id\n</code></pre>\n\n<p>one user may have many actions or not. I need an sql select that returns users ids that have not user_id value in the actions table.</p>\n\n<pre><code>Users Table:\nid      name\n1       John\n2       Smith\n3       Alice\n\nActions Table:\nid      user_id\n1       3\n2       1\n</code></pre>\n\n<p>So I need sql query that returns the user id 2 (Smith) because the foreign key values have not the id 2 </p>\n\n<p>I tried the following SQL, but it returns all users ids:</p>\n\n<pre><code>SELECT users.id from users left join actions on actions.user_id is null\n</code></pre>\n"},{"tags":["mysql","sql","sql-server","database","database-design"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13115691,"title":"how to design table for accessing the different places","body":"<p>The tables are for users to access different places</p>\n\n<p>The design as below:</p>\n\n<p>user table:</p>\n\n<pre><code>&lt;user&gt;\nuserid\nusername\nplace          (the row define access rights)\n</code></pre>\n\n<p>place table:</p>\n\n<pre><code>&lt;place&gt;\nplaceid\nplacename\nfloor\n</code></pre>\n\n<p>My thoughts:</p>\n\n<p>three places and placeid are 001,002,003\none user and  userid is 001 to aceess these three places</p>\n\n<pre><code>&lt;user&gt;\nuserid     username       place\n001        john           001,002,003\n\n\n&lt;place&gt;\nplaceid    placename   floor\n001        A           1 \n002        B           2 \n003        C           3\n004        D           4 \n</code></pre>\n\n<p>My question is,</p>\n\n<p>in \"user\" table, the attribute \"place\" contains many placeids, \nand separate by a comma, this design is fine or bad ?\nIt needs to separate the place values from \"user\" table ?</p>\n"},{"tags":["android","database","android-listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13126481,"title":"Get Id from database in a listview onclick","body":"<p>I have this class, that gets the data from the database and shows in a listview.</p>\n\n<p>Is there a way to get the Id from the database and toast it?</p>\n\n<p>Now the toast is returning: \"android.database.sqlite.SQLiteCursor@4180c088\".</p>\n\n<blockquote>\n  <p>public class AndroidSQLite extends Activity { </p>\n  \n  <p>private SQLiteAdapter\n  mySQLiteAdapter;</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n  super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    ListView listContent = (ListView)findViewById(R.id.contentlist);\n\n    mySQLiteAdapter = new SQLiteAdapter(this);\n    mySQLiteAdapter.openToRead();\n\n    Cursor cursor = mySQLiteAdapter.queueAll();\n    startManagingCursor(cursor);\n\n    String[] from = new String[]{SQLiteAdapter.KEY_NOME,SQLiteAdapter.KEY_ID};\n    int[] to = new int[]{R.id.text,R.id.id};\n\n    SimpleCursorAdapter cursorAdapter =\n     new SimpleCursorAdapter(this, R.layout.row, cursor, from, to);\n\n    listContent.setAdapter(cursorAdapter);\n\n    listContent.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\n                long id) {\n               //GET ID FROM DATABASE\n               Toast.makeText(getBaseContext(), parent.getItemAtPosition(position).toString(), Toast.LENGTH_LONG).show();\n               //THIS TOAST IS RETURNING \"android.database.sqlite.SQLiteCursor@4180c088\"\n        }\n    });\n\n    mySQLiteAdapter.close();\n} }\n</code></pre>\n</blockquote>\n\n<p>Thank you everybody!</p>\n"},{"tags":["database","algorithm","search"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13085765,"title":"Need some help (search algorithm)","body":"<p>I need some help with this issue:</p>\n\n<p>As an input I have a string, which looks like <em>\"Blue cat green eyes 2342342\"</em>, or it can be <em>\"Cat blue eyes green 23242\"</em> or any other permutation of words.</p>\n\n<p>In my DB table I have some data. One of the columns is called, say, keyWords.</p>\n\n<p>Here is an example of this table:</p>\n\n<p><img src=\"http://i.stack.imgur.com/NHLSU.png\" alt=\"enter image description here\"></p>\n\n<p>My task is to find record in my DB table column, KEYWORDS, which matches some words from the input string. </p>\n\n<p>For example: for strings <em>\"<strong>Blue cat</strong> green eyes 2342342\"</em> *\"<strong>Cat blue</strong> eyes green 23242\"* and <em>\"<strong>Cat</strong> 23242 eyes <strong>blue</strong> green\"</em> the result must be <em>\"blue cat\" (first row of my table)</em>.\nThe only way I can imagine how to solve this task looks like this:</p>\n\n<ol>\n<li>Consistently take every word from the string.</li>\n<li>Search this every word with %like% in a table column.</li>\n<li>If it is not found it means this word is not key and we have no interest in it. </li>\n<li>If it is found one time - great! No doubt, this is what we are looking for.</li>\n<li>If there are more than one result:</li>\n<li>From all the words from the string, which were not tested yet consistently take every word.</li>\n<li>Search this word with %like% in the results from step 2.</li>\n<li>etc…</li>\n</ol>\n\n<p>Graphical schema of this algorithm is <a href=\"http://www.gliffy.com/go/publish/4011505/\" rel=\"nofollow\" title=\"Graphical representation of this algorithm\">here</a></p>\n\n<p>But it looks like this algorithm will work very slowly if there are a lot of records in a table and if my input string consists of big number of words.</p>\n\n<p>So, my question is: \"Is there are any special algorithms which can help solving this task?</p>\n"},{"tags":["database","sybase-ase","computed-columns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12267931,"title":"Why Sybase ASE does a table scan when not materialized computed column is added","body":"<p>When I add not materialized computed column to a table, ASE decided to copy whole table, when actual content of the datapages is not affected.</p>\n\n<p>Example:</p>\n\n<pre><code>create table t (i int null)\ngo\nset showplan on\ngo\nalter table t\nadd c compute (i+1) not materialized\ngo\n\nQUERY PLAN FOR STATEMENT 1 (at line 1).\n...\n       |   |INSERT Operator (VA = 1)\n...\n       |   |   |SCAN Operator (VA = 0)\n       |   |   |  FROM TABLE\n       |   |   |  t\n       |   |   |  Table Scan.\n...\n       |   |  TO TABLE\n       |   |  #syb__altab\n...\n</code></pre>\n\n<p>if you check pages content with <code>dbcc page</code> you may see that the old and new pages are identical</p>\n\n<ol>\n<li>Why ASE does this useless operation?</li>\n<li>Is it possible to avoid it?</li>\n</ol>\n"},{"tags":["sql-server","database","import","networking","bulk"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":4830,"score":2,"question_id":440289,"title":"MS SQL Server - Bulk Insert Across a Network","body":"<p>I have an application that uses MS SQL Server for which I'll need to do a bulk insert from a file.  The sticking point is that the database and my application will be hosted on separate servers.  What is the best way to do a bulk insert across a network?  Two ideas I'd come up with so far:</p>\n\n<ol>\n<li><p>From the app server, share a directory that the db server can find, and do the import using a bulk insert statement from the remote file</p></li>\n<li><p>Run an FTP server from the db server - when the import is performed, simply ftp the file to the db server and do the import using a bulk insert from the local file (I am leaning towards this option).</p></li>\n</ol>\n\n<p>Can anyone else tell me if there is a better way to do this, or if not, which one makes the most sense, and why?</p>\n"},{"tags":["database","terminology","data-warehouse","bulk-load"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1531,"score":1,"question_id":4462074,"title":"What does \"bulk load\" mean?","body":"<p>Jumping from article to article I can see everywhere the expression bulk loading. </p>\n\n<p>What does is really (technically) mean?</p>\n\n<p>What does it implies ?</p>\n\n<p>Explication through use-case are welcome.</p>\n"},{"tags":["android","database"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":40,"score":0,"question_id":13125032,"title":"Could not create connection to database server. android.os.NetworkOnMainThreadException","body":"<p>I am programming for android and I am testing with a real device. It was going on well until y start to get this message. The estrange thing is that it doesn´t happen all the time, depending on what is it makes well or no... for example to login it has to verify from the DB the username and password and it makes it well but when I try to enter to another activity who use DB it simply with the error I put in the title. Before I didn´t have this error and that in the virtual android device works well. I have a samsung galaxy S2 and I actualize it this weekend. It can have something to do? </p>\n\n<p>Here you have the connection class that I am using: </p>\n\n<pre><code> public class Connect {\n\nprivate static Connection conn;\n\npublic static Connection getConnection(){\n\n    try{\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        conn = DriverManager.getConnection(\"jdbc:mysql://tapazzdb.db.9227067.hostedresource.com:3306/tapazzdb?user=XXXXXX&amp;password=XXXXXXX\");\n        Log.d(\"connection\", \"connection established\");\n    }catch(Exception e){\n        Log.d(\"connection failure\", e.getMessage()+\" \"+e.getCause());\n    }\n\n    return conn;\n\n\n}\n</code></pre>\n\n<p>The ListFragment that I am using:</p>\n\n<pre><code> public class ConversationsListFragment extends ListFragment {\n\nprivate ArrayList&lt;Message&gt; messages = new ArrayList&lt;Message&gt;();\nprivate User user = TapazzApplication.getCurrentUser();\nprivate ListAdapter adapter;\nprivate Button bNew;\nprivate ArrayList&lt;Conversation&gt; convers;\nprivate ConversationsListAdapter cla;\n\n\n\n\n@Override\npublic void onListItemClick(ListView l, View v, int position, long id) {\n    // TODO Auto-generated method stub \n    super.onListItemClick(l, v, position, id);\n    Log.d(\"position of the message\", ((Integer)position).toString());\n\n    ArrayList&lt;Message&gt; messageForOtherFragment = new ArrayList&lt;Message&gt;();\n    ConversationsFragmentActivity cfa = (ConversationsFragmentActivity) getActivity();\n    cfa.setMessageForOtherFragment(messages.get(position));\n    cfa.setInConvPos(position);\n    ConversationsFragmentActivity confa = (ConversationsFragmentActivity)getActivity();\n    confa.changeFragment(new InConversationListFragment());\n}\n\n\n\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n\n    Intent intent = this.getActivity().getIntent();\n    int i=intent.getIntExtra(\"fromWhere\", -1);\n    if (i&gt;-1){\n        ArrayList&lt;Parcelable&gt; parcel = intent.getParcelableArrayListExtra(\"messages\");\n        getMessagesFromParcelable(parcel);\n    }\n    else{\n        Log.d(\"pass from -1\", \"yes it does!\");\n        getMessages();\n    }\n    setListAdapter(new ConversationsListAdapter(this.getActivity(), messages));\n\n    //messageListView();\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    return inflater.inflate(R.layout.message_view, container, false);\n\n}\n\n\n\n\n@Override\npublic void onActivityCreated(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onActivityCreated(savedInstanceState);\n    setUpViews();\n}\n\n\n\n\n\nprivate void getMessagesFromParcelable(ArrayList&lt;Parcelable&gt; parcel) {\n    // TODO Auto-generated method stub\n    int i=0;\n    Message m;\n    while (parcel.size()&gt;i){\n        messages.add((Message)parcel.get(i));\n        i++;\n    }\n}\n\n\n\n\n\npublic void setUpViews(){\n    bNew = (Button) getView().findViewById(R.id.btnNewMessage);\n    bNew.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n            // TODO Auto-generated method stub          \n            ConversationsFragmentActivity confa = (ConversationsFragmentActivity)getActivity();\n            confa.changeFragment(new NewConversationFragment());\n            /*Intent in = new Intent(ConversationsListFragment.this.getActivity(), NewConversationFragment.class);\n            ArrayList&lt;Message&gt; mes = new ArrayList&lt;Message&gt;();\n            in.putParcelableArrayListExtra(\"messages\", mes);\n            startActivity(in);*/\n        }\n    });\n}\n\n//Get the most recent message from each user that the current user have been talking to\npublic void getMessages (){\n    Connection conn = Connect.getConnection();\n    List&lt;Message&gt; list = null;\n\n    Message m;\n    try{\n        Statement stmt = conn.createStatement();\n        ResultSet rs = stmt.executeQuery(\"select * from (select m.* \"\n                    +\"from MESSAGE m join \"\n                    +\"(select least(m.From, m.To) as p1, greatest(m.From, m.To) as p2, max(m.Id) as maxid \"\n                    +\"from MESSAGE m\"\n                    +\" group by least(m.From, m.To), greatest(m.From, m.To)) mmax \"\n                    +\"on m.id = mmax.maxid) as m2 \"\n                    +\"where m2.From=\"+user.getId()+\" or m2.To=\"+user.getId());\n        while (rs.next()){\n            Message message = new Message();\n            message.setId(rs.getInt(\"Id\"));\n            message.setTo(rs.getInt(\"To\"));\n            message.setFrom(rs.getInt(\"From\"));\n            message.setMessage(rs.getString(\"Message\"));\n            message.setDate(new Date(rs.getTimestamp(\"Date\").getTime()));\n            message.setRead(rs.getBoolean(\"Read\"));\n            messages.add(message);\n            Log.d(\"found message\", message.getMessage());\n        }\n        conn.close();\n\n    }catch(SQLException e){\n        Log.d(\"sql get last convs\", e.getMessage());\n    }   \n}\n}\n</code></pre>\n\n<p>and his adapter:</p>\n\n<pre><code> public class ConversationsListAdapter extends BaseAdapter {\n\nprivate ArrayList&lt;Conversation&gt; conversations;\nprivate Context context;\n\npublic ConversationsListAdapter(\n        Context context,\n        List&lt;Message&gt; messages) {\n        this.context = context;\n        conversations = new ArrayList&lt;Conversation&gt;();\n        for(Message m:messages){\n            Conversation c = new Conversation();\n            c.addSingleMessage(m);\n            conversations.add(c);\n        }\n}\n\npublic int getCount() {\n    // TODO Auto-generated method stub\n    return conversations.size();\n}\n\npublic ArrayList&lt;Conversation&gt; getConversations(){\n    return conversations;\n}\n\npublic Conversation getItem(int position) {\n    // TODO Auto-generated method stub\n    Log.d(\"this is the conversation that I need\", ((Message)conversations.get(position).getLastMessage()).getMessage());\n    return conversations.get(position);\n}\n\npublic long getItemId(int position) {\n    // TODO Auto-generated method stub\n    return position;\n}\n\n\n\npublic View getView(int position, View convertView, ViewGroup parent) {\n    // TODO Auto-generated method stub\n    ConversationItemView civ;\n    if(convertView==null){\n        civ=(ConversationItemView) View.inflate(context, R.layout.conversation_item_view, null);\n    }\n    else{\n        civ= (ConversationItemView) convertView;\n    }\n    civ.setConversation(conversations.get(position));\n    return civ;\n}\n\n}\n</code></pre>\n"},{"tags":["database","tsql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":885725,"title":"How do I select all the rows where a varchar field contains non-digit characters?","body":"<p>I want to find all instances in a table where a string field cannot be cast as a number.\nIs there a way to do like a \"try\" in t-sql so that I can get all the id's where the cast failed and delete the value?</p>\n"},{"tags":["php","javascript","database"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13123541,"title":"Determining which key is pressed and saving to database","body":"<p>I have a code which is helping for determining which key is pressed. But I confused, I do not know how can I save this key -(button) is pressed-. Is this possible? Can I use php codes in javascript to create a new line in my mysql database?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function textsizer(e) {\n        var evtobj = window.event ? event : e;\n        var unicode = evtobj.charCode? evtobj.charCode : evtobj.keyCode;\n        var actualkey = String.fromCharCode(unicode);\n        if (actualkey == \"a\") {\n            //database code needed\n        }\n    }\n    document.onkeypress = textsizer;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["database","excel","file-upload"],"answer_count":8,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1447,"score":4,"question_id":9148063,"title":"Uploading data from excel file to database using java","body":"<p>I need to upload data in an excel sheet to the database using java.</p>\n\n<p>The database will be oracle.</p>\n\n<p>The excel sheet will be uploaded once in a month by a user using a web application (Spring MVC front end). </p>\n\n<p>The excel sheet will be having thousands of records/rows e.g. around 15000 or more.</p>\n\n<ol>\n<li>What is the fastest way to upload this huge data in database? We are\nusing simple JDBC (Spring's JDBC Template). </li>\n<li>How do we handle transaction sand errors as there can be errors while uploading data in which case the partly uploaded data will be useless?</li>\n<li>We need to able to notify the user of the error so that he can\ncorrect the excel sheet and try again?</li>\n</ol>\n\n<p>Please help/</p>\n"},{"tags":["php","mysql","sql","database","query"],"answer_count":10,"favorite_count":0,"up_vote_count":3,"down_vote_count":5,"view_count":83,"score":-2,"question_id":13124338,"title":"How do I make sure rows are unique in sql?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3124793/how-to-ensure-that-mysql-rows-are-unique\">How to ensure that MySQL rows are unique?</a>  </p>\n</blockquote>\n\n\n\n<p>If I have a table where each column can have duplicate data, how do I keep it so each row is unique?</p>\n\n<p>Example:\nIf my table has (col_foo, col_bar) with the rows:</p>\n\n<ul>\n<li>A | X</li>\n<li>A | Y</li>\n<li>B | Y</li>\n</ul>\n\n<p>And I want to insert (A, X) how do I only end up with one row with values (A, X).</p>\n\n<p>I'll be using this in a web project, so it's going to be written in PHP.</p>\n"},{"tags":["database","postgresql","join","query-optimization","postgresql-performance"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":148,"score":6,"question_id":12984970,"title":"Postgresql query optimization No inner/outer join allowed","body":"<p>I am given this query to optimize on POSTGRESQL 9.2:</p>\n\n<pre><code>SELECT C.name, COUNT(DISTINCT I.id) AS NumItems, COUNT(B.id)\nFROM Categories C INNER JOIN Items I ON(C.id = I.category) \n                  INNER JOIN Bids B ON (I.id = B.item_id)\nGROUP BY C.name\n</code></pre>\n\n<p>As part of my school assignment.</p>\n\n<p>I have created these indexes on respective table: <code>items(category)</code>-->2ndary b+tree, <code>bids(item_id)</code>-->2ndary b+tree, and <code>categories(id)</code>-->primary index here,</p>\n\n<p>The weird part is, PostgreSQL is doing a sequential scan on my Items, Categories, and Bids table, and when i set the <code>enable_seqscan=off</code>, the index search turns out to be more horrendous than the result below.</p>\n\n<p>When I run explain in PostgreSQL this is the result: PLEASE DON'T REMOVE THE INDENTATIONS AS THEY ARE IMPORTANT!</p>\n\n<pre><code>GroupAggregate  (cost=119575.55..125576.11 rows=20 width=23) (actual time=6912.523..9459.431 rows=20 loops=1)\n  Buffers: shared hit=30 read=12306, temp read=6600 written=6598\n  -&gt;  Sort  (cost=119575.55..121075.64 rows=600036 width=23) (actual time=6817.015..8031.285 rows=600036 loops=1)\n        Sort Key: c.name\n        Sort Method: external merge  Disk: 20160kB\n        Buffers: shared hit=30 read=12306, temp read=6274 written=6272\n        -&gt;  Hash Join  (cost=9416.95..37376.03 rows=600036 width=23) (actual time=407.974..3322.253 rows=600036 loops=1)\n              Hash Cond: (b.item_id = i.id)\n              Buffers: shared hit=30 read=12306, temp read=994 written=992\n              -&gt;  Seq Scan on bids b  (cost=0.00..11001.36 rows=600036 width=8) (actual time=0.009..870.898 rows=600036 loops=1)\n                    Buffers: shared hit=2 read=4999\n              -&gt;  Hash  (cost=8522.95..8522.95 rows=50000 width=19) (actual time=407.784..407.784 rows=50000 loops=1)\n                    Buckets: 4096  Batches: 2  Memory Usage: 989kB\n                    Buffers: shared hit=28 read=7307, temp written=111\n                    -&gt;  Hash Join  (cost=1.45..8522.95 rows=50000 width=19) (actual time=0.082..313.211 rows=50000 loops=1)\n                          Hash Cond: (i.category = c.id)\n                          Buffers: shared hit=28 read=7307\n                          -&gt;  Seq Scan on items i  (cost=0.00..7834.00 rows=50000 width=8) (actual time=0.004..144.554 rows=50000 loops=1)\n                                Buffers: shared hit=27 read=7307\n                          -&gt;  Hash  (cost=1.20..1.20 rows=20 width=19) (actual time=0.062..0.062 rows=20 loops=1)\n                                Buckets: 1024  Batches: 1  Memory Usage: 1kB\n                                Buffers: shared hit=1\n                                -&gt;  Seq Scan on categories c  (cost=0.00..1.20 rows=20 width=19) (actual time=0.004..0.028 rows=20 loops=1)\n                                      Buffers: shared hit=1\nTotal runtime: 9473.257 ms\n</code></pre>\n\n<p>See <a href=\"http://explain.depesz.com/s/tDa\" rel=\"nofollow\">this plan on explain.depesz.com</a>.</p>\n\n<p>I just want to know why this happens, i.e. why indexes make the query horrendously slow compared to sequential scan.</p>\n\n<p>Edit:\nI think i have managed to uncover a couple of stuff by going through the postgresql documentation.\nPostgresql decided to do seq scan on some table such as bids and items because it predicted it has to retrieve every single rows in the table (compare the number of rows in the bracket before the actual time and the number of rows in the actual time part). Sequential scan is better in retrieving all rows. Well nothing can be done in that part.</p>\n\n<p>I have created extra index for <code>categories(name)</code>, and the result below is what i have. It somehow improved but now hash join is replaced with nested loop. Any clue in why?</p>\n\n<pre><code>GroupAggregate  (cost=0.00..119552.02 rows=20 width=23) (actual time=617.330..7725.314 rows=20 loops=1)\n  Buffers: shared hit=178582 read=37473 written=14, temp read=2435 written=436\n  -&gt;  Nested Loop  (cost=0.00..115051.55 rows=600036 width=23) (actual time=0.120..6186.496 rows=600036 loops=1)\n        Buffers: shared hit=178582 read=37473 written=14, temp read=2109 written=110\n        -&gt;  Nested Loop  (cost=0.00..26891.55 rows=50000 width=19) (actual time=0.066..2827.955 rows=50000 loops=1)\n              Join Filter: (c.id = i.category)\n              Rows Removed by Join Filter: 950000\n              Buffers: shared hit=2 read=7334 written=1, temp read=2109 written=110\n              -&gt;  Index Scan using categories_name_idx on categories c  (cost=0.00..12.55 rows=20 width=19) (actual time=0.039..0.146 rows=20 loops=1)\n                    Buffers: shared hit=1 read=1\n              -&gt;  Materialize  (cost=0.00..8280.00 rows=50000 width=8) (actual time=0.014..76.908 rows=50000 loops=20)\n                    Buffers: shared hit=1 read=7333 written=1, temp read=2109 written=110\n                    -&gt;  Seq Scan on items i  (cost=0.00..7834.00 rows=50000 width=8) (actual time=0.007..170.464 rows=50000 loops=1)\n                          Buffers: shared hit=1 read=7333 written=1\n        -&gt;  Index Scan using bid_itemid_idx on bids b  (cost=0.00..1.60 rows=16 width=8) (actual time=0.016..0.036 rows=12 loops=50000)\n              Index Cond: (item_id = i.id)\n              Buffers: shared hit=178580 read=30139 written=13\nTotal runtime: 7726.392 ms\n</code></pre>\n\n<p>Have a look on the plan <a href=\"http://explain.depesz.com/s/bVJ\" rel=\"nofollow\">here</a> if it is better.</p>\n\n<p>I have managed to reduce it to 114062.92 by creating index on category(id) and <code>items(category)</code>. Postgresql used both of the indexes to get to 114062.92 cost.\nHowever, now postgresql is playing game with me by not using the index! why is it so buggy?</p>\n"},{"tags":["ruby-on-rails","ruby","database","ruby-on-rails-3","validation"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":60,"score":5,"question_id":13122791,"title":"Rails: Validation in model vs migration","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2367281/ruby-on-rails-is-it-better-to-validate-in-the-model-or-the-database\">Ruby on Rails: Is it better to validate in the model or the database?</a>  </p>\n</blockquote>\n\n\n\n<p>I see that it's possible to add same constraint/validation in both Rails model and migration. But which one is the best approach? Is it a good practice to validate both at model and database level (and why)? or they same in rails? </p>\n\n<p>For e.g.  We can do same validation  for name in both model and migration</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\n  validates :name, :uniqueness =&gt; true, :presense =&gt; true\nend\n\nclass CreateUser &lt; ActiveRecord::Migration\n  def change\n    create_table :users do |t|\n      t.string :name, :unique =&gt; true, :null =&gt; false\n    end\n  end\nend\n</code></pre>\n"},{"tags":["c#","database","winforms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13122427,"title":"Changing access database connection string","body":"<p>In my application i have a access database with a list of customers, this database is imported in my project. A combobox datasource is set to display all the customers.</p>\n\n<p>I also created a form so the user can change some settings and locations of certain files. for this i use the <code>this.properties.settings.KlantenDB()</code> the string is created and will save the path to the customer database.</p>\n\n<p>How can i change the current Access database connection string so it will use the KlantenDB path? </p>\n\n<p><img src=\"http://i.stack.imgur.com/rJ4vB.png\" alt=\"enter image description here\"></p>\n"},{"tags":["android","database","application"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13122564,"title":"android app with large ms sql database approach","body":"<p>I'm building an app that has to access a database with large amount of data, it's for a booksite, so there are a lot of books. There is no way that i can put it on some phone. what is the best approach for retrieving the data for the books from the server, when the user wants to search or just browse for books?? something like goodreads...</p>\n\n<p>How am i supposed to solve the problem?</p>\n"},{"tags":["php","database","keyboard"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13122526,"title":"Saving buttons presssed on keyboard to database","body":"<p>I want to get button which is pressed by user and directly send to database. For example, if user press the \"button up\", code have to save \"button up\" to database.</p>\n\n<p>The purpose of this getting a php game.</p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13116966,"title":"Inconsistent response time in mysql select query","body":"<p>We have lot of MySQL select queries for some reporting need. Most are little complex and they generally include 1. five-six join statements 2. three-four inner queries in select clause.</p>\n\n<p>All the indexes are properly in place in the production environment. We have checked with explain query syntax multiple time and they are OK. </p>\n\n<p>Some of the query behave very strangely in in terms of response time. The same query returns in less than 500 milli secs at times (which shows all index working fine), and when we run it after 1 min or so - it gives result with a high response time (varying from five-six seconds to 30 seconds.) Some time (around once in 20 times..) it gives a time out error. </p>\n\n<p>This might be due to server load - but the high variance is so frequent that we think there is something else to set to solve it.</p>\n\n<p>Can some one please show me some direction on what else to do!</p>\n\n<p>Thanks, </p>\n\n<p>Sumit</p>\n"},{"tags":["java","database","list","jdo","persistent"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":90,"score":1,"question_id":13118786,"title":"Persistent list in JDO (Google App Engine)","body":"<p>I`m developing the server side for a mobile app with Google App Engine and JDO in Java, and I have some problems saving objects list in the database.</p>\n\n<p>I have a one-to-many relationship between conversation and messages (I`m trying to do a chat-like application). A conversation has a list of messages and a message belongs to a conversation.\nWhen I do makePersistent of a conversation, if I get the same conversation with the ID, all is fine and the list is returned with the messages. But if I close that instance of the PersistenceManager and I try to get the conversation in another method, the conversation is all fine (the attributes like hour, idUser, etc), except for the list of messages which is null. No matter what changes I do, that list is always null.</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Conversation.java:</strong></p>\n\n<pre><code>import java.util.LinkedList;\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Conversation \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Long id;\n\n    @Persistent\n    private Long idUser;\n\n    @Persistent(mappedBy = \"conversation\")\n    private LinkedList&lt;Message&gt; messages;\n\n    public Conversation(Long idUser) \n    {\n        this.idUser = idUser;\n\n        messages = new LinkedList&lt;Message&gt;();       \n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Long getIdUser() {\n        return idUser;\n    }\n\n    public LinkedList&lt;Message&gt; getMessages() {\n        return messages;\n    }\n}\n</code></pre>\n\n<p><strong>Message.java:</strong></p>\n\n<pre><code>import javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\nimport com.google.appengine.api.datastore.Key;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Message \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Key id;\n\n    @Persistent\n    private Conversation conversation;\n\n    @Persistent\n    private String text;\n\n    @Persistent\n    private String hour;\n\n    public Message(String text, String hour)\n    {\n        this.text = text;\n        this.hour = hour;\n    }\n\n    public String getText() \n    {\n        return text;\n    }\n\n    public String getHour() \n    {\n        return hour;\n    }\n\n    public Key getId() \n    {\n        return id;\n    }\n\n    public Conversation getConversation() {\n        return conversation;\n    }\n}\n</code></pre>\n\n<p>Besides I have tried to get the messages separately and I successfully get them. The messages are saving well, but the list of them in conversation is missing.</p>\n\n<p>I hope someone can help me, thanks in advance!</p>\n\n<p><strong>EDIT:</strong> I save the conversation after I add the messages with this code:</p>\n\n<pre><code>final PersistenceManager persistenceManager = PMF.get().getPersistenceManager();      \nfinal Conversation conversation = new Conversation(idUser1, idUser2);\n\n//Add the messages successfully\n\ntry \n{\n    persistenceManager.makePersistent(conversation);\n} finally {\n    persistenceManager.close();\n}\n</code></pre>\n\n<p>And I get the conversation with that one:</p>\n\n<pre><code>final PersistenceManager persistenceManager = PMF.get().getPersistenceManager();  \nLong idConversation;\n\n//Got the idConversation with a query successfully\n\nConversation conversation = persistenceManager.getObjectById(Conversation.class, idConversation);\nreturn conversation;\n</code></pre>\n"},{"tags":["database","unit-testing","mvvm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13121924,"title":"How to test database frontend application written with MVVM pattern?","body":"<p>I wrote a desktop application which basically is a front end for database. It is used for create, read, update operations of different linked objects and performs some simple calculation and data aggregation. The MVVM pattern was followed in order to simplify testing.\nThis morning I tried writing the first test and realized it was not simple as expected.\nUnit tests are great for checking the result of a single operation, but unfortunately I have to deal with complex objects which are linked together.\nI will try to explain my problems better.\n1) I can create and test an object of class A. If I repeat the test 100 times my database becomes polluted. I need automatic procedures to clean it. \n2) Objects of class B needs an object of class A for some operations. I don't think it is a good idea to write a test where both objects A and B are created. what I supposed to be the right way is to use the object created at point 1 as a prerequisites for this test. </p>\n\n<p>I switched to visual studio 2012 express because it has basic support for unit tests but I need some guidelines on how to better use it for my special needs.</p>\n\n<p>Thanks\nFilippo</p>\n"},{"tags":["android","database","sqlite","android-listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":11645823,"title":"Error displaying listview from database","body":"<p>im trying to display a listview item from database. but my application keep crashing. i use my past project codes to guide me but still no luck. </p>\n\n<p><strong>Module.java</strong></p>\n\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();\n    ArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n    ListView lstDine = (ListView) this.findViewById(R.id.lst_module);\n    dbhelper.onCreate(null);\n    Cursor dinners = (Cursor) dbhelper.getAllLabels();\n    dinners.close();\n    lstDine.setAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, labels));\n    lstDine.setOnItemClickListener(this);\n\n}\n</code></pre>\n\n<p><strong>DBHelper.java</strong></p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n// Database Version\nprivate static final int DATABASE_VERSION = 1;\n\n// Database Name\nprivate static final String DATABASE_NAME = \"spinnerExample\";\n\n// Labels table name\nprivate static final String TABLE_LABELS = \"labels\";\n\n// Labels Table Columns names\nprivate static final String KEY_ID = \"id\";\nprivate static final String KEY_NAME = \"name\";\n\npublic DBHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n// Creating Tables\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // Category table create query\n    String CREATE_CATEGORIES_TABLE = \"CREATE TABLE \" + TABLE_LABELS + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_NAME + \" TEXT)\";\n    db.execSQL(CREATE_CATEGORIES_TABLE);\n}\n\n// Upgrading database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LABELS);\n\n    // Create tables again\n    onCreate(db);\n}\n\n/**\n * Inserting new lable into lables table\n * */\npublic void insertLabel(String label){\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, label);\n\n    // Inserting Row\n    db.insert(TABLE_LABELS, null, values);\n    db.close(); // Closing database connection\n}\n\n/**\n* Removing label\n* */\npublic void removeLabel(String label){\nSQLiteDatabase db = this.getWritableDatabase();\n\nContentValues values = new ContentValues();\nvalues.put(KEY_NAME, label);\n\n// Removing Row\ndb.delete(TABLE_LABELS, KEY_NAME + \"=?\", new String[] {label});\ndb.close(); // Closing database connection\n}\n\n/**\n * Getting all labels\n * returns list of labels\n * */\npublic List&lt;String&gt; getAllLabels(){\n    List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n\n    // Select All Query\n    String selectQuery = \"SELECT  * FROM \" + TABLE_LABELS;\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n    // looping through all rows and adding to list\n    if (cursor.moveToFirst()) {\n        do {\n            labels.add(cursor.getString(1));\n        } while (cursor.moveToNext());\n    }\n\n    // closing connection\n    cursor.close();\n    db.close();\n\n    // returning lables\n    return labels;\n}\n}\n</code></pre>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>07-25 08:36:37.007: D/dalvikvm(463): GC_EXTERNAL_ALLOC freed 600 objects / 48072 bytes in 58ms\n07-25 08:36:40.347: D/dalvikvm(463): GC_EXTERNAL_ALLOC freed 321 objects / 15992 bytes in 104ms\n07-25 08:36:42.907: D/AndroidRuntime(463): Shutting down VM\n07-25 08:36:42.907: W/dalvikvm(463): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n07-25 08:36:42.937: E/AndroidRuntime(463): FATAL EXCEPTION: main\n07-25 08:36:42.937: E/AndroidRuntime(463): java.lang.RuntimeException: Unable to resume activity {sg.edu.tp.iit.mns/sg.edu.tp.iit.mns.Module}: java.lang.NullPointerException\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3128)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3143)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2684)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.os.Handler.dispatchMessage(Handler.java:99)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.os.Looper.loop(Looper.java:123)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at java.lang.reflect.Method.invokeNative(Native Method)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at java.lang.reflect.Method.invoke(Method.java:521)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at dalvik.system.NativeStart.main(Native Method)\n07-25 08:36:42.937: E/AndroidRuntime(463): Caused by: java.lang.NullPointerException\n07-25 08:36:42.937: E/AndroidRuntime(463):  at sg.edu.tp.iit.mns.DBHelper.onCreate(DBHelper.java:36)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at sg.edu.tp.iit.mns.Module.onResume(Module.java:50)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1149)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.Activity.performResume(Activity.java:3823)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3118)\n07-25 08:36:42.937: E/AndroidRuntime(463):  ... 12 more\n</code></pre>\n\n<p>im not sure which part is it going wrong. thank you for your help.its much appreciated if you can edit the code for me. i have being cracking my head for some times now. i cant move on to the next part due to this. </p>\n"},{"tags":["database","file","copy","umbraco","move"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13121280,"title":"Can't copy Umbrao.sdf from webserver","body":"<p>I have an Umbraco application running on a webserver and I need to move the application to another webserver. The Umbraco application uses an embedded database (SQL CE 4). I can copy all the files in the application except the \"Umbraco.sdf\" file.</p>\n"},{"tags":["sql","database","ms-access","report"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13120982,"title":"Calculating a Sum Value on a report in Access","body":"<p>I have a report that is supposed to show the Stock Value of products before and after conversion.</p>\n\n<p>I have the source products product code and stock value displayed on the form, now I need to get the value of the items converted from that one piece of stock.</p>\n\n<p>I assumed this would be possible to achieve using some simple SQL to calculate the sum of all resulting products with the same SCID (Stock Conversion ID). My SCID is used to link a source product to a number of resulting products in a different table.</p>\n\n<p><img src=\"http://i.stack.imgur.com/7jKd4.png\" alt=\"enter image description here\"></p>\n\n<p>In this image I have named the SCID boc in the detail section sSCID to try and differentiate it from any fields in tables that it may try to pick up. But basically I need to get the code to look for result products that match the SCID displayed in that box and add them all together to get the sum total of converted stock.</p>\n\n<p>If context helps I am trying to create a form that shows the value of stock before and after a conversion process in order to try and calculate the wastage.</p>\n\n<p>Thanks,\n  Bob P</p>\n"},{"tags":["mysql","ruby-on-rails","database"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2644,"score":3,"question_id":4195255,"title":"Problems connecting to remote MySQL host with Rails","body":"<p>I wanted to connect to a remote MySQL host (with <code>rake db:create</code>), but Rails always considers it to be local.\nDatabase.yml which uses the following config:</p>\n\n<pre><code>defaults: &amp;defaults\n  encoding: unicode\n  adapter: mysql\n  username: &lt;username&gt;\n  password: *************\n  port: 3306\n  host: &lt;remote ip address&gt;\n\ndevelopment:\n  &lt;&lt;: *defaults\n  database: &lt;db name&gt;\ntest: &amp;test\n  &lt;&lt;: *defaults\n  database: &lt;db name&gt;\nproduction:\n  &lt;&lt;: *defaults\n  database: &lt;db name&gt;\n</code></pre>\n\n<p>And always get this error when trying anything on the database:</p>\n\n<pre><code>ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)\n</code></pre>\n\n<p>The config works as long as I use the local database (i.e. without the host/port part).\nConnecting to the remote MySQL server works fine with the given details.</p>\n\n<p>Any ideas on what is going wrong ?</p>\n\n<p><strong>Edit</strong>:\nThe problem only occurs with <code>rake:db:create</code>, other tasks work - The error message was really badly misleading.</p>\n"},{"tags":["mysql","database","postgresql","database-design","nosql"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13110356,"title":"Best way to store huge log data","body":"<p>I need an advice on optimal approach to store statistical data. There is a project on Django, which has a database (mysql) of 30 000 online games. </p>\n\n<p>Each game has three statistical parameters: </p>\n\n<ul>\n<li>number of views, </li>\n<li>number of plays, </li>\n<li>number of likes</li>\n</ul>\n\n<p>Now I need to store historical data for these three parameters on a daily basis, so I was thinking on creating a single database which will has five columns:  </p>\n\n<pre><code>gameid, number of views, plays, likes, date (day-month-year data). \n</code></pre>\n\n<p>So in the end, every day for every game will be logged in one row, so in one day this table will have 30000 rows, in 10 days it will have size of 300000 and in a year it will have size of 10 950 000 rows. I'm not a big specialist in DBA stuff, but this says me, that this quickly will become a performance problem. I'm not talking what will happen in 5 years time. \nThe data collected in this table is needed for simple graphs </p>\n\n<pre><code>(daily, weekly, monthly, custom range).\n</code></pre>\n\n<p>Maybe you have better ideas on how to store this data? Maybe noSQL will be more suitable in this case? Really need your advice on this.d</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13120463,"title":"Keyword Functionality like Stackoverflows","body":"<p>I have several entries (that will grow into thousands) in a database that I want to be able to index via keywords.</p>\n\n<p>So say I have a table such as:</p>\n\n<p>id | username | email | description</p>\n\n<p>And I want to attach multiple keywords to that user such as:</p>\n\n<p>Tall | Blonde | Male | Skinny</p>\n\n<p>How would I structure the table for that? Much like the keywords used in stackoverflow at the bottom of the new question?</p>\n\n<p>Thanks</p>\n"},{"tags":["mysql","sql","database","database-performance"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13117901,"title":"slow MySQL database query on several fields and 140k+ records","body":"<p>I have the below query:</p>\n\n<pre><code> SELECT ID FROM \n\n`Article` this_ WHERE\n(this_._Temporary_Flag = FALSE OR this_._Temporary_Flag = NULL) AND \n this_.Published = TRUE AND\n  (this_.PublishedOn IS NULL OR this_.PublishedOn &lt;= '2012-10-29 08:54:36') AND \n  (this_.Deleted = FALSE OR this_.Deleted = NULL) AND \n  (this_._ComputedDeletedValue = FALSE OR this_._ComputedDeletedValue = NULL) AND \n  ((this_._TestItemSessionGuid IS NULL OR this_._TestItemSessionGuid = '')) AND \n  NOT (this_.CategoryId IS NULL) \n  AND (this_.PublishedOn &lt; '2012-09-10 00:00:00' AND this_.CategoryId = 51118080)\n   ORDER BY this_.PublishedOn DESC LIMIT 1\n</code></pre>\n\n<p>The table in question contains 141,505 records to be exact.  I've checked the indexes and all of the fields mentioned in the <code>WHERE</code> clause and <code>ORDER BY</code> are indexed (Index Kind: INDEX, Index Type: BTREE).  </p>\n\n<p>This query takes 40seconds to run for the first time.  Subsequent runs are down to 1 - 2sec, which I am assuming is due to caching.  If I restart the MySQL Server, it again takes approximately 40 seconds again.  Any ideas why it is performing so slow, and any optimisations that can be done?  </p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Database is MySQL, and table storage engine is InnoDb.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>As a side-note, the scope of this query is to get the 'previous article', related to the current one.  I am doing this by getting all the articles which have their <code>PublishedOn</code> field less than the current ones, ordering by the <code>PublishedOn</code> descending and taking the first 1 (I updated the LIMIT as by mistake I originally entered it 50, when it should be 1).</p>\n\n<p>The other conditions are to load only valid articles, and articles in the same category.</p>\n\n<p><strong>Update 3</strong>: EXPLAIN output</p>\n\n<pre><code>SelectType = Select\nType = index_merge\nPossible_keys = CategoryId,PublishedOn,_TestItemSessionGuid,Deleted,_ComputedDeletedValue,_Tempo‌​rary_Flag,Published Key = Deleted,_ComputedDeletedValue,_Temporary_Flag,Published,CategoryId\nKey_Len = 1,1,1,1,9\nref = (NULL)\nRows = 3383\nExtra = Using intersect(Deleted,_ComputedDeletedValue,_Temporary_Flag,Published,CategoryId); Using where; Using filesort ______\n</code></pre>\n"},{"tags":["android","database","debugging"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13119523,"title":"source not found in eclipse","body":"<p>i wrote a program that get data from user and store it in database.this database store in asset folder and it exist\nwhen i wrote the program and use break point before line </p>\n\n<pre><code> private OnClickListener mAddListener = new OnClickListener() {}\n</code></pre>\n\n<p>it gives me this error:\nsource not found.\nwhat should i do?</p>\n\n<p>this is my main code:\n//-------------mainactivity class---------------------</p>\n\n<pre><code>public class MainActivity extends Activity\n{\n    BDAdapter db = new BDAdapter(this);\n    EditText name;\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        // Capture our button from layout\n        Button setButton = (Button)findViewById(R.id.go);\n        Button getButton = (Button)findViewById(R.id.genRan);\n        // Register the onClick listener with the implementation above\n        setButton.setOnClickListener(mAddListener);\n        getButton.setOnClickListener(mAddListener);\n\n\n\n    }\n    // Create an anonymous implementation of OnClickListener\n    private OnClickListener mAddListener = new OnClickListener() \n    {\n        public void onClick(View v) \n        {\n            switch(v.getId())\n            {\n            case R.id.go:\n                db.open();\n                long id = 0;\n                // do something when the button is clicked\n                try\n                {\n                    name = (EditText)findViewById(R.id.Quote);\n                    db.insertQuote(name.getText().toString());\n\n\n                    id = db.getAllEntries();\n\n                    Context context = getApplicationContext();\n                    CharSequence text = \"The quote '\" + name.getText() + \"' was added successfully!\\nQuotes Total = \" + id;\n                    int duration = Toast.LENGTH_LONG;\n\n                    Toast toast = Toast.makeText(context, text, duration);\n                    toast.show();\n                    name.setText(\"\");\n                }\n                catch (Exception ex)\n                {\n                    Context context = getApplicationContext();\n                    CharSequence text = ex.toString() + \"ID = \" + id;\n                    int duration = Toast.LENGTH_LONG;\n\n                    Toast toast = Toast.makeText(context, text, duration);\n                    toast.show();\n                }\n\n                db.close();\n                break;\n            case R.id.genRan:\n                db.open();\n                //long id1 = 0;\n                // do something when the button is clicked\n                try\n                {\n                    //String quote = \"\";\n                    //quote = db.getRandomEntry();\n                    //Context context = getApplicationContext();\n                    //CharSequence text = quote;\n                    //int duration = Toast.LENGTH_LONG;\n\n                    //Toast toast = Toast.makeText(context, text, duration);\n                    //toast.show();\n\n                     db.open();\n                        Cursor c = db.getAllTitles();\n                       if (c.moveToFirst())\n                       {\n                          do {          \n                                DisplayTitle(c);\n                            } while (c.moveToNext());\n                       }\n                        db.close();\n\n\n                }\n                catch (Exception ex)\n                {\n                    Context context = getApplicationContext();\n                    CharSequence text = ex.toString();\n                    int duration = Toast.LENGTH_LONG;\n\n                    Toast toast = Toast.makeText(context, text, duration);\n                    toast.show();\n                }\n                db.close();\n            }\n        }\n\n    };\n    public void DisplayTitle(Cursor c)\n    {\n        Toast.makeText(this, \n                \"NAME: \" + c.getString(0) + \"\\n\" ,\n\n\n                Toast.LENGTH_LONG).show();        \n    } \n\n\n}\n</code></pre>\n\n<p>//----------------------DBAdapter class----------------------------</p>\n\n<pre><code>public class BDAdapter extends SQLiteOpenHelper {\n     private Context mycontext;\nint id=0;\n     private String DB_PATH = \"data/data/com.example.dd20/databases/\";\n\n        private static String DB_NAME = \"ff.sqlite\";\n        public static final String KEY_ROWID = \"_id\";\n        public static final String KEY_QUOTE = \"name\";\n        public static final String DATABASE_TABLE = \"ff1\";\n        private static final String TAG = \"BDAdapter\";\n        public static final String DATABASE_CREATE =\n                \"create table ff1 (_id integer primary key, \"\n                        + \"name text );\";\n\n     //   private DatabaseHelper DBHelper;\n        private SQLiteDatabase db;\n       // private SQLiteDatabase db;\n        // the extension may be .sqlite\n        // or .db\n      //  public SQLiteDatabase myDataBase;\n\n        public BDAdapter(Context context) {\n            super(context, DB_NAME, null, 1);\n\n            this.mycontext = context;\n\n        }\n\n        public void createDataBase() throws IOException{\n\n            boolean dbExist = checkDataBase();\n\n            if(dbExist){\n            //do nothing - database already exist\n            }else{\n\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n        //  try {\n\n        //  copyDataBase();\n\n        //  } catch (IOException e) {\n     //      \n        throw new Error(\"Error copying database\");\n\n      //    }\n            }\n\n            }\n\n        private boolean checkDataBase(){\n\n            SQLiteDatabase checkDB = null;\n\n            try{\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);\n\n            }catch(SQLiteException e){\n\n            //database does't exist yet.\n\n            }\n\n            if(checkDB != null){\n\n            checkDB.close();\n\n            }\n\n            return checkDB != null ? true : false;\n            }\n\n      // private void copyDataBase() throws IOException{\n\n            //Open your local db as the input stream\n      //    InputStream myInput = mycontext.getAssets().open(DB_NAME);\n\n            // Path to the just created empty db\n      //    String outFileName = DB_PATH + DB_NAME;\n\n            //Open the empty db as the output stream\n      //    OutputStream myOutput = new FileOutputStream(outFileName);\n\n            //transfer bytes from the inputfile to the outputfile\n      //    byte[] buffer = new byte[1024];\n      //    int length;\n      //    while ((length = myInput.read(buffer))&gt;0){\n      //    myOutput.write(buffer, 0, length);\n      //    }\n\n            //Close the streams\n        //  myOutput.flush();\n      //    myOutput.close();\n       //   myInput.close();\n\n        //  }\n\n        public void open() {\n            // Open the database\n             String myPath = DB_PATH + DB_NAME;\n             db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);\n\n        }\n\n        public synchronized void close() {\n             if(db != null)\n                 db.close();\n\n                 super.close();\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n            db.execSQL(DATABASE_CREATE);\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n           //  TODO Auto-generated method stub\n      //  Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n         //       + newVersion + \", which will destroy all old data\");\n     //   db.execSQL(\"DROP TABLE IF EXISTS ff1\");\n  //   onCreate(db);\n\n\n        }\n\n        public long insertQuote(String Quote) \n        {\n            ContentValues initialValues = new ContentValues();\n            initialValues.put(KEY_QUOTE, Quote);\n            return db.insert(DATABASE_TABLE, null, initialValues);\n        }\n\n        public int getAllEntries() \n        {\n             Cursor cursor = db.rawQuery(\n                        \"SELECT COUNT(name) FROM ff1 \", null);\n                    if(cursor.moveToFirst()) {\n                        return cursor.getInt(0);\n                    }\n                    return cursor.getInt(0);\n\n        }\n\n        public String getRandomEntry() \n        {\n\n            id = getAllEntries();\n            Random random = new Random();\n            int rand = random.nextInt(getAllEntries());\n            if(rand == 0)\n                ++rand;\n            Cursor cursor = db.rawQuery(\n                      \"SELECT name FROM ff1\", null);\n                    //\"SELECT * FROM tblRandomQuotes\",null);\n                    if(cursor.moveToFirst()) {\n                        return cursor.getString(0);\n\n                    }\n                    return cursor.getString(0);\n\n        }\n\n        public Cursor getAllTitles() \n        {\n            return db.query(DATABASE_TABLE, new String[] {\n\n                    KEY_QUOTE,\n                    }, \n                    null, \n                    null, \n                    null, \n                    null, \n                    null);\n        }\n\n\n}\n</code></pre>\n"},{"tags":["sql","database","postgresql","pgadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13118356,"title":"PostgreSQL group by with sum","body":"<p>I have this code:</p>\n\n<pre><code>SELECT  m_warehouse_id, qtyonhand \nFROM    adempiere.rv_storage\nWHERE   rv_storage.m_product_id=1000412\nGROUP BY m_warehouse_id, qtyonhand\nORDER BY m_warehouse_id;\n</code></pre>\n\n<p>that results in following table:</p>\n\n<p><img src=\"http://img202.imageshack.us/img202/5296/table4.png\" alt=\"table\"></p>\n\n<p>Now, I want to group by <code>m_warehouse_id</code> so it will return only 2 rows 1000000 and 1000001.\nqtyonhand will be sumarized and returned as sum. So table should look like:</p>\n\n<pre><code>m_warehouse_id    |    qtyonhand\n------------------+---------------\n10000000          |            0\n10000001          |           10\n</code></pre>\n\n<p>How to achieve this?</p>\n"},{"tags":["c#","database","linq","sorting","dataset"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13119263,"title":"Copying sorted values from one datatable to another Efficiency?","body":"<p>I am using the following code :</p>\n\n<pre><code>        EmpInfoDS = new DataSet();\n\n        con.Open(); // My connection name\n\n        string sqlRecords = \"Select * FROM tbl_EmpInfo\";\n        EmpInfoDA = new OleDbDataAdapter(sqlRecords, con);\n        EmpInfoDA.Fill(EmpInfoDS, \"EmpInfo\");\n\n            var sortedRows = (from myRow in EmpInfoDS.Tables[\"EmpInfo\"].AsEnumerable()\n                             orderby myRow[\"EmpID\"] ascending\n                             select myRow).ToArray();\n\n            EmpInfoDS.Tables.Remove(\"EmpInfo\");\n            DataTable EmpInfo = sortedRows.CopyToDataTable();\n            EmpInfo.TableName = \"EmpInfo\";\n            EmpInfoDS.Tables.Add(EmpInfo); \n\n        con.Close();\n</code></pre>\n\n<p>to sort the values in a datatable. Then removing that datatable and filling the sorted rows into a datatable with the same name.\nCan anyone tell me how much efficient this process is. ie. Performance drawbacks ???</p>\n\n<p>If there's a better way to accomplish this; Please tell me.</p>\n\n<p>Any help will be much appreciated. :)</p>\n"},{"tags":["mysql","database","snmp","net-snmp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12864381,"title":"SNMP to Database","body":"<p>What would be not painfull but and not as bad choise in programming language to make a simple looped soft for SNMP GET and store output to MySQL database (with read time interval)?</p>\n\n<p>Server is running on Windows.</p>\n\n<p>Powershell, Java.. etc. ?</p>\n\n<p>Sorry for my English.\nThank you!</p>\n"},{"tags":["mysql","ruby-on-rails","database","postgresql","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":11679313,"title":"Converting Rails ActiveRecord GROUP query from MySQL to PostgreSQL","body":"<p>I have a ActiveRecord query I’ve been working with (history <a href=\"http://stackoverflow.com/questions/11406221/how-to-adjust-activerecord-or-straight-sql-query-to-include-zero-count-records\">here</a>) that works great in MySQL, but now I need to convert my database to PostgreSQL and I'm getting an error. Here is the query:</p>\n\n<pre><code>class Shoe &lt; ActiveRecord::Base\n  has_many :purchases\n\n  def self.available_shoes\n    #show all shoes that have been purchased less than num_in_stock\n    num_in_stock = 3\n    Shoe.includes(:purchases)\n        .group(\"purchases.shoe_id\")\n        .having(\"COUNT(purchases.shoe_id) &lt; ?\", num_in_stock)\n  end\nend\n</code></pre>\n\n<p>Simply switching the gems and adapters to postgres is not enough: I now get the following error:</p>\n\n<blockquote>\n  <p>ActionView::Template::Error (PG::Error: ERROR:  column \"shoes.id\" must appear in the GROUP BY clause or be used in an aggregate function\n  LINE 1: SELECT \"shoes\".\"id\" AS t0_r0, \"shoes\".\"created_at\" AS ...</p>\n</blockquote>\n\n<p>I tried changing</p>\n\n<pre><code>.group(\"purchases.shoe_id\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>.group(\"purchases.shoe_id, shoes.id, purchases.id\")\n</code></pre>\n\n<p>and while this got rid of the error, it also changed the sql and broke some of my tests. </p>\n\n<p>I have read many stackoverflow questions regarding this error but I was unable to find a solution. What do I need to change in my ActiveRecord query to make this work in postgres?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["android","database","query","android-intent","sms"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13118427,"title":"How to clear db when app is uninstalled in android","body":"<p>Im using database to store messages, and if i uninstall my app and again reinstall the same app, the db remains same, but i want to clear my database, how to solve this?</p>\n"},{"tags":["android","database","android-backup-service"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":178,"score":1,"question_id":9014118,"title":"Android BackupManager and my app db: best approaches","body":"<p>I'd like to use the <code>BackupManager</code> to back a DB for my app. The documentation talks about <code>BackupAgent</code> and <code>BackupAgentHelper</code>, and it states that you want to use <code>BackupAgent</code> if you have a DB. </p>\n\n<p>On the other hand, the <code>BackupAgentHelper</code> has a neat <code>FileBackupHelper</code> that makes things quite easy. </p>\n\n<p>My questions:</p>\n\n<p>1) Is it possible to use <code>FileBackupHelper</code> to backup the .sqlite file in /data/data/&lt;myapp>/databases?</p>\n\n<p>2) if not, is it possible to use the <code>SQLiteOpenHelper</code>'s methods inside <code>onBackup()</code> and <code>onRestore()</code> (onCreate/onUpgrade to backup/restore)?</p>\n"},{"tags":["android","database","json","parsing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13118632,"title":"Parsing JSON remote call and store it locally","body":"<p>I need to parse a remote response from a URL that retrieves a big JSON object and store it locally so we can perform searches for example, in an activity in Android.\nI've been trying to look it up but I can't find any approach about how to do it.</p>\n\n<p>Any suggestion/help please?</p>\n\n<p>Thanks a lot in advance!</p>\n"},{"tags":["sql","database","postgresql","query","indexes"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1497,"score":3,"question_id":4675605,"title":"Speeding up a group by date query on a big table in postgres","body":"<p>I've got a table with around 20 million rows. For arguments sake, lets say there are two columns in the table - an id and a timestamp. I'm trying to get a count of the number of items per day. Here's what I have at the moment.</p>\n\n<pre><code>  SELECT DATE(timestamp) AS day, COUNT(*)\n    FROM actions\n   WHERE DATE(timestamp) &gt;= '20100101'\n     AND DATE(timestamp) &lt;  '20110101'\nGROUP BY day;\n</code></pre>\n\n<p>Without any indices, this takes about a 30s to run on my machine. Here's the explain analyze output:</p>\n\n<pre><code> GroupAggregate  (cost=675462.78..676813.42 rows=46532 width=8) (actual time=24467.404..32417.643 rows=346 loops=1)\n   -&gt;  Sort  (cost=675462.78..675680.34 rows=87021 width=8) (actual time=24466.730..29071.438 rows=17321121 loops=1)\n         Sort Key: (date(\"timestamp\"))\n         Sort Method:  external merge  Disk: 372496kB\n         -&gt;  Seq Scan on actions  (cost=0.00..667133.11 rows=87021 width=8) (actual time=1.981..12368.186 rows=17321121 loops=1)\n               Filter: ((date(\"timestamp\") &gt;= '2010-01-01'::date) AND (date(\"timestamp\") &lt; '2011-01-01'::date))\n Total runtime: 32447.762 ms\n</code></pre>\n\n<p>Since I'm seeing a sequential scan, I tried to index on the date aggregate</p>\n\n<pre><code>CREATE INDEX ON actions (DATE(timestamp));\n</code></pre>\n\n<p>Which cuts the speed by about 50%.</p>\n\n<pre><code> HashAggregate  (cost=796710.64..796716.19 rows=370 width=8) (actual time=17038.503..17038.590 rows=346 loops=1)\n   -&gt;  Seq Scan on actions  (cost=0.00..710202.27 rows=17301674 width=8) (actual time=1.745..12080.877 rows=17321121 loops=1)\n         Filter: ((date(\"timestamp\") &gt;= '2010-01-01'::date) AND (date(\"timestamp\") &lt; '2011-01-01'::date))\n Total runtime: 17038.663 ms\n</code></pre>\n\n<p>I'm new to this whole query-optimization business, and I have no idea what to do next. Any clues how I could get this query running faster?</p>\n\n<p><strong>--edit--</strong></p>\n\n<p>It looks like I'm hitting the limits of indices. This is pretty much the only query that gets run on this table (though the values of the dates change). Is there a way to partition up the table? Or create a cache table with all the count values? Or any other options?</p>\n"},{"tags":["android","database","restore","database-restore","android-backup-service"],"answer_count":4,"favorite_count":23,"up_vote_count":38,"down_vote_count":0,"view_count":3851,"score":38,"question_id":5282936,"title":"Android backup/restore: how to backup an internal database?","body":"<p>I have implemented a <code>BackupAgentHelper</code> using the provided <code>FileBackupHelper</code> to backup and restore the native database I have. This is the database you typically use along with <code>ContentProviders</code> and which resides in <code>/data/data/yourpackage/databases/</code>.</p>\n\n<p>One would think this is a common case. However the docs aren't clear on what to do: <a href=\"http://developer.android.com/guide/topics/data/backup.html\" rel=\"nofollow\">http://developer.android.com/guide/topics/data/backup.html</a>. <strong>There is no <code>BackupHelper</code> specifically for these typical databases. Hence I used the <code>FileBackupHelper</code></strong>, pointed it to my .db file in \"<code>/databases/</code>\", introduced locks around any db operation (such as <code>db.insert</code>) in my <code>ContentProviders</code>, and even tried creating the \"<code>/databases/</code>\" directory before <code>onRestore()</code> because it does not exist after install.</p>\n\n<p>I have implemented a similar solution for the <code>SharedPreferences</code> successfully in a different app in the past. However when I test my new implementation in the emulator-2.2, I see a backup being performed to <code>LocalTransport</code> from the logs, as well as a restore being performed (and <code>onRestore()</code> called). <strong>Yet, the db file itself is never created.</strong></p>\n\n<p>Note that this is all after an install, and before first launch of the app, after the restore has been performed. Apart from that my test strategy was based on <a href=\"http://developer.android.com/guide/topics/data/backup.html#Testing\" rel=\"nofollow\">http://developer.android.com/guide/topics/data/backup.html#Testing</a>.</p>\n\n<p>Please also note I'm not talking about some sqlite database I manage myself, nor about backing up to SDcard, own server or elsewhere. </p>\n\n<p>I did see a mention in the docs about databases advising to use a custom <code>BackupAgent</code> but it does not seem related:</p>\n\n<blockquote>\n  <p>However, you might want to extend\n  BackupAgent directly if you need to:\n      * Back up data in a database. If you have an SQLite database that you\n  want to restore when the user\n  re-installs your application, you need\n  to build a custom BackupAgent that\n  reads the appropriate data during a\n  backup operation, then create your\n  table and insert the data during a\n  restore operation.</p>\n</blockquote>\n\n<p><strong>Some clarity please.</strong></p>\n\n<p>If I really need to do it myself up to the SQL level, then I'm worried about the following topics:</p>\n\n<ul>\n<li><p>Open databases and transactions. I have no idea how to close them from such a singleton class outside of my app's workflow.</p></li>\n<li><p>How to notify the user that a backup is in progress and the database is locked. It might take a long time, so I might need to show a progress bar.</p></li>\n<li><p>How to do the same on restore. As I understand, the restore might happen just when the user has already started using the app (and inputting data into the database). So you can't presume to just restore the backupped data in place (deleting the empty or old data). You'll have to somehow join it in, which for any non-trivial database is impossible due to the id's.</p></li>\n<li><p>How to refresh the app after the restore is done without getting the user stuck at some - now - unreachable point.</p></li>\n<li><p>Can I be sure the database has already been upgraded on backup or restore? Otherwise the expected schema might not match.</p></li>\n</ul>\n"},{"tags":["database","query","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13118268,"title":"Query with integers not working","body":"<p>I've been searching here on stackoverflow and other sources but not found a solution to this</p>\n\n<p>The query below works as expected expect for when either <code>custinfo.cust_cntct_id</code> or <code>custinfo.cust_corrcntct_id = ''</code> (blank not <code>NULL</code>) then I get no results. Both are integer fields and if both have an integer value then I get results.  I still want a value returned for either <code>cntct_email</code> or <code>corrcntct_email</code> even if <code>custinfo.cust_cntct_id</code> or <code>custinfo.cust_corrcntct_id = blank</code></p>\n\n<p>Can someone help me out in making this work? The database is PostgreSQL.</p>\n\n<pre><code>SELECT \n  cntct.cntct_email AS cntct_email, \n  corrcntct.cntct_email AS corrcntct_email\nFROM \n  public.custinfo, \n  public.invchead, \n  public.cntct, \n  public.cntct corrcntct\nWHERE \n  invchead.invchead_cust_id = custinfo.cust_id AND\n  cntct.cntct_id = custinfo.cust_cntct_id AND\n  corrcntct.cntct_id = custinfo.cust_corrcntct_id;\n</code></pre>\n"},{"tags":["java","android","database","sqlite","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13117999,"title":"Dictionary App for Android and Database Inquiry","body":"<p>I've been browsing this site for answers and I have obtained some but I still cannot start with my project. I'm kinda at a loss here.</p>\n\n<p>I have my thesis which is a dictionary application for android using the porter stemming algorithm.</p>\n\n<p>My idea is to INPUT WORDS > STEM THE INPUT > SEARCH THE WORD DATABASE BASED ON THE 'STEMMED' WORD > RETURN RESULTS (If the stemmed word matched a word in the database, return its the word with its definition, if not, show something like \"word not found\")</p>\n\n<p>The database should be saved on the device so wifi connection wont be necessary anymore just like the WordNet Dictionary App for android.</p>\n\n<p>I think it is possible to do this project, isn't it?\nI'm using Eclipse Juno.</p>\n\n<p>Now my questions are:</p>\n\n<p>1) Is my idea for my thesis possible?</p>\n\n<p>2) What database should I use? I'm using sqliteman. Saves me time since it has GUI. I've been told SQLite is the best. But can I use MS Access with this one without making a server like what I've read from the other posts? (MSAccess would save me time I think since I already have a word database for msaccess [.accdb].)</p>\n\n<p>Sorry for the long posts and questions. I'm a computer science student and just starting to learn Java and Eclipse. Just needed help to make sure I'm on the right track.</p>\n\n<p>Thank you everyone! :)</p>\n\n<p>-Jon</p>\n"},{"tags":["sql-server","database","migration","firebird"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13118350,"title":"Migrating a database with modifiable primary keys to MSSQL","body":"<p>I have to migrate a Firebird database to MS SQL, and the original author designed the database in the way that it has mutable primary keys. For example, we have a tables</p>\n\n<pre><code>PRODUCTS with primary key (NAME,CATEGORY,SHORTNAME) and some data\nPRICE_LISTING (NAME,CATEGORY,SHORTNAME) - foreign key to PRODUCT, and some data like price\nPRODUCT_ALTERNATIVES (ORIGINAL_NAME,ORIGINAL_CATEGORY,ORIGINAL_SHORTNAME; REPLACEMENT_NAME,REPLACEMENT_CATEGORY,REPLACEMENT_SHORTNAME) - foreign keys to PRODUCTS\n</code></pre>\n\n<p>as you can see, whenever product name changes, lot of data in other tables has to change. The original author solved this with cascading update on the foreign keys. For some reasons, MS SQL doesn't allow me to use cascading update on the foreign key, so the database cannot be migrated so easily. </p>\n\n<p>What makes things worse is that the software has a lot of editing screens, that use DataSets, DataGridViews and binding in Windows Forms, so the editor works pretty much automagically. For example, editor for <code>PRODUCTS</code> is a simple windows form, and whenever user renames a product (changes its <code>NAME</code>), the changes are propagated through database (via cascading update) to <code>PRICE_LISTING</code> and <code>PRODUCT_ALTERNATIVES</code> tables. And also, if the app wants to show price listings, it does simple <code>SELECT * FROM PRICE_LISTING</code> that includes product names and price.</p>\n\n<p>One approach might be to add surrogate keys - <code>ID</code> identity columns to each table, then modify for example <code>PRICE_LISTING</code> table to (<code>PRODUCT_ID, price</code>) etc. But then, to show price, I'd have to define view that will </p>\n\n<pre><code>SELECT *,PRODUCT.NAME,PRODUCT.CATEGORY,PRODUCT.SHORTNAME FROM PRICE_LISTING join PRODUCT on ...\n</code></pre>\n\n<p>then, the automatically generated DataSets etc. will have to be modified to select from view, update the view.</p>\n\n<p>In a nutshell and from the original author's perspective, we are breaking the program and making it more complicated. The only single thing that does not work when ported in a straightforward manner is the cascading update, but I see that the database design is very flawed and it will be a maintenance nightmare if not fixed.</p>\n\n<p>What to do?</p>\n"},{"tags":["mysql","sql","sql-server","database","tsql"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13117710,"title":"How to export all words from sql table or sql database","body":"<p>Let's say we have following table.</p>\n\n<pre>\nUserId | Message\n-------|-------------\n1      | Hi, have a nice day\n2      | Hi, I had a nice day\n\n</pre>\n\n<p>I need to have all { Hi,-have-a-nice-day-I-had } words separately.\nIs there any way to do that ? What if I want to export words from whole database tables ?</p>\n\n<p>Similar results would be also good.</p>\n"},{"tags":["php","database","flex","list","view"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13079625,"title":"Flex pass data between views from a list item","body":"<p>Hi everyone first of all thanks for your attention and support. I'm a beginner in the flex world... what I want to do is probably too easy but I can't figure it out.</p>\n\n<p>I'm practicing a simple mobile application that makes use of database made it in phpmyadmin and connected to my mobile project. What I want to do is: when i click in any of my list items, this one pops up the next view showing the values of the selected item in all the text inputs from the database table. I know how to display it in the view that I'm implementing the list, but I get an error because I don't have (and don't want to) a list item in my other view:</p>\n\n<pre><code>protected function list_changeHandler(event:IndexChangeEvent):void\n        {\n            titleTextInput.text = list.selectedItem.title;\n            dateIntro.selectedDate = list.selectedItem.date;\n            photoTextInput.text = list.selectedItem.photo;\n            descriptionTextInput.text = list.selectedItem.description;\n        }\n</code></pre>\n\n<p>But what I need to do to get the same result in my other view?</p>\n\n<p>The project has 2 views, </p>\n\n<p>this is the first view</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\"\n    xmlns:s=\"library://ns.adobe.com/flex/spark\"\n    xmlns:valueObjects=\"valueObjects.*\"\n    xmlns:detallesservice=\"services.detallesservice.*\" add=\"home(event)\"&gt;\n\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import mx.events.FlexEvent;\n\n        import spark.events.IndexChangeEvent;\n        protected function button_clickHandler(event:MouseEvent):void\n        {\n            var detalles2:Detalles = new Detalles();\n            detalles2.title = titleTextInput.text;\n            detalles2.date = dateIntro.selectedDate;\n            detalles2.photo = photoTextInput.text;\n            detalles2.description = descriptionTextInput.text;\n\n            detallesService.createDetalles(detalles2);\n            detallesService.getAllDetalles();\n        }\n\n        protected function list_creationCompleteHandler(event:FlexEvent):void\n        {\n            getAllDetallesResult2.token = detallesService.getAllDetalles();\n        }\n\n\n        protected function button2_clickHandler(event:MouseEvent):void\n        {\n            detallesService.deleteDetalles(list.selectedItem.title);\n        }\n\n        protected function list_changeHandler(event:IndexChangeEvent):void\n        {\n            titleTextInput.text = list.selectedItem.title;\n            dateIntro.selectedDate = list.selectedItem.date;\n            photoTextInput.text = list.selectedItem.photo;\n            descriptionTextInput.text = list.selectedItem.description;\n\n            navigator.pushView(asyouwishView, list.selectedItem);\n        }\n    ]]&gt;\n&lt;/fx:Script&gt;\n\n&lt;fx:Declarations&gt;\n    &lt;valueObjects:Detalles id=\"detalles\"/&gt;\n    &lt;detallesservice:DetallesService id=\"detallesService\"/&gt;\n    &lt;s:CallResponder id=\"createDetallesResult\"/&gt;\n    &lt;s:CallResponder id=\"getAllDetallesResult2\"/&gt;\n    &lt;s:CallResponder id=\"deleteDetallesResult\"/&gt;\n&lt;/fx:Declarations&gt;\n&lt;s:List id=\"list\" x=\"1100\" y=\"142\" width=\"716\" height=\"372\"\n        creationComplete=\"list_creationCompleteHandler(event)\" labelField=\"title\" change=\"list_changeHandler(event)\"&gt;\n    &lt;s:AsyncListView list=\"{getAllDetallesResult2.lastResult}\"/&gt;\n&lt;/s:List&gt;\n&lt;s:Form defaultButton=\"{button}\"&gt;\n    &lt;s:FormItem label=\"Title\"&gt;\n        &lt;s:TextInput id=\"titleTextInput\" text=\"{detalles.title}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem width=\"800\" label=\"Date\"&gt;\n        &lt;s:DateSpinner id=\"dateIntro\" displayMode=\"date\" selectedDate=\"{detalles.date}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem label=\"Photo\"&gt;\n        &lt;s:TextInput id=\"photoTextInput\" text=\"{detalles.photo}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem label=\"Description\"&gt;\n        &lt;s:TextInput id=\"descriptionTextInput\" text=\"{detalles.description}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:Button id=\"button\" label=\"CreateDetalles\" click=\"button_clickHandler(event)\"/&gt;\n&lt;/s:Form&gt;\n&lt;s:Form x=\"18\" y=\"950\"&gt;\n    &lt;s:FormItem label=\"CreateDetalles\"&gt;\n        &lt;s:TextInput id=\"createDetallesTextInput\"\n                     text=\"{createDetallesResult.lastResult as String}\"/&gt;\n    &lt;/s:FormItem&gt;\n&lt;/s:Form&gt;\n&lt;s:Button id=\"myDelete\" x=\"1100\" y=\"558\" label=\"Delete\" click=\"button2_clickHandler(event)\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>this is the second view:\n    \n</p>\n\n<pre><code>&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import spark.events.ViewNavigatorEvent;\n        protected function button_clickHandler(event:MouseEvent):void\n        {\n            // Please uncomment the below line if Data Management is enabled for Detalles and updateDetalles is used as the create function.\n            // var detalles:Detalles = new Detalles();\n            detalles.title = titleTextInput.text;\n            detalles.date = dateIntro.selectedDate;\n            detalles.photo = photoTextInput.text;\n            detalles.description = descriptionTextInput.text;\n\n            updateDetallesResult.token = detallesService.updateDetalles(detalles);\n        }\n    ]]&gt;\n&lt;/fx:Script&gt;\n\n&lt;fx:Declarations&gt;\n    &lt;valueObjects:Detalles id=\"detalles\"/&gt;\n    &lt;detallesservice:DetallesService id=\"detallesService\"/&gt;\n    &lt;s:CallResponder id=\"updateDetallesResult\"/&gt;\n&lt;/fx:Declarations&gt;\n\n&lt;s:actionContent&gt;\n    &lt;s:Button label=\"BACK\" click=\"{navigator.popView();}\"/&gt;\n&lt;/s:actionContent&gt;\n\n&lt;s:Form x=\"70\" y=\"68\" defaultButton=\"{button}\"&gt;\n    &lt;s:FormItem label=\"Title\"&gt;\n        &lt;s:TextInput id=\"titleTextInput\" text=\"@{detalles.title}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem width=\"766\" label=\"Date\"&gt;\n        &lt;s:DateSpinner id=\"dateIntro\" displayMode=\"date\" selectedDate=\"@{detalles.date}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem label=\"Photo\"&gt;\n        &lt;s:TextInput id=\"photoTextInput\" text=\"@{detalles.photo}\" /&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:FormItem label=\"Description\"&gt;\n        &lt;s:TextInput id=\"descriptionTextInput\" text=\"@{detalles.description}\"/&gt;\n    &lt;/s:FormItem&gt;\n    &lt;s:Button id=\"button\" label=\"UpdateDetalles\" click=\"button_clickHandler(event)\"/&gt;\n&lt;/s:Form&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["database","oracle","oracle11g","spatial","intersect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13117719,"title":"confusion in sdo_relate anyintersect of Oracle 11g spatial database","body":"<p>I run the following querys in oracle 11g :</p>\n\n<p>1) <code>select a1.apid from access_point a1 where sdo_relate(a1.shape,a1.shape,'mask=equal') = 'TRUE' and a1.apid = 'a5vhe';</code></p>\n\n<p>2) <code>select a1.apid from access_point a1 where sdo_relate(a1.shape,a1.shape,'mask=anyintersect') = 'TRUE' and a1.apid = 'a5vhe';</code></p>\n\n<p>now oracle 11g documentation defines mask 'anyintersect' as \"ANYINTERACT: Returns TRUE if the objects are not disjoint.\" Then why oracle returns record a1 for my Query 1 and returns none for QUERY2 ??</p>\n"},{"tags":["database","selenium","automation","file-download"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13117609,"title":"problems downloading a large number of files","body":"<p>I am trying to download ~40,000 files from a website database. I've tried to use the selenium web driver, but have encountered problems for which I've posted on stackoverflow (and received no response):\n<a href=\"http://stackoverflow.com/questions/13107825/accessing-form-tag-with-selenium-web-driver\">accessing form tag with selenium web driver</a></p>\n\n<p>The website has no functionality to download in bulk. It's also infeasible to crowdsource the job as the website is password protected.</p>\n\n<p>I'm at a point where either I depend on a program to move and click the mouse for me using xdotool or I do it manually. The former method is not dependable as there is no way to check when the browser has loaded and the file downloads with a nondescript name so I have no indication of which ones I've downloaded (this would be useful if the program failed and I wanted to start it from the point of failure).</p>\n\n<p>Any suggestions on what to do?</p>\n"},{"tags":["php","mysql","database","sql-update"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13116391,"title":"MySQL database not updating","body":"<p>output from the database seems fine, but input from the update doesn't pass onto the database</p>\n\n<p>edit.php - from here all values displays correctly</p>\n\n<pre><code>&lt;?php\nsession_start();\n\n$name = $_SESSION['name'];\n$sur = $_SESSION['sur'];\n$pass = $_SESSION['pass'];\n\necho $name.' '.$sur.' '.$pass;\n\n//connect\n$dbh = mysql_connect (\"localhost\", \"xxx_admin\", \"xxx\") \n       or die ('ERROR!');\n       mysql_select_db (\"xxx_database\"); \n\n$query=\"SELECT * FROM client_info WHERE (first='$name' AND last='$sur' AND password='$pass')\";\n$result=mysql_query($query);\n\n\n    $id = mysql_result($result,$i,\"id\");\n    $first = mysql_result($result,$i,\"first\");\n    $last = mysql_result($result,$i,\"last\");\n    $phone = mysql_result($result,$i,\"phone\");\n    $mob = mysql_result($result,$i,\"mob\");\n    $fax = mysql_result($result,$i,\"fax\");\n    $email = mysql_result($result,$i,\"email\");\n    $web = mysql_result($result,$i,\"web\");\n    $com = mysql_result($result,$i,\"com\");\n    $add = mysql_result($result,$i,\"add\");\n    $city = mysql_result($result,$i,\"city\");\n    $state = mysql_result($result,$i,\"state\");\n    $zip = mysql_result($result,$i,\"zip\");\n    $zone = mysql_result($result,$i,\"zone\");\n    $office = mysql_result($result,$i,\"office\");\n    $office_num = mysql_result($result,$i,\"office_num\");\n    $ext_mob = mysql_result($result,$i,\"ext_mob\");\n    $ext_phone = mysql_result($result,$i,\"ext_phone\");\n    $ext_office = mysql_result($result,$i,\"ext_office\");\n    $srv = mysql_result($result,$i,\"srv\");\n    $stype = mysql_result($result,$i,\"stype\");\n    $voip = mysql_result($result,$i,\"voip\");\n    $vpass = mysql_result($result,$i,\"vpass\");\n    $regDate = mysql_result($result,$i,\"regDate\");\n    $acct = mysql_result($result,$i,\"acct\");\n    $Nagent = mysql_result($result,$i,\"Nagent\");\n    $agents = mysql_result($result,$i,\"agents\");\n    $password = mysql_result($result,$i,\"password\");\n\n?&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;form method=\"post\" action=\"update.php\" name=\"gen\"&gt;\n&lt;b&gt;Personal Info:&lt;/b&gt;\n&lt;p&gt;First Name:&lt;input type=\"text\" name=\"first\" size=\"20\" value=\"&lt;?php echo $first; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Last Name:&lt;input type=\"text\" name=\"last\" size=\"20\" value=\"&lt;?php echo $last; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Mob:&lt;input type=\"text\" name=\"mob\" size=\"20\" value=\"&lt;?php echo $mob; ?&gt;\"/&gt;\next:&lt;input type=\"text\" name=\"ext_mob\" size=\"4\" value=\"&lt;?php echo $ext_mob; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Phone:&lt;input type=\"text\" name=\"phone\" size=\"20\" value=\"&lt;?php echo $phone; ?&gt;\"/&gt;\next:&lt;input type=\"text\" name=\"ext_phone\" size=\"4\" value=\"&lt;?php echo $ext_phone; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Fax:&lt;input type=\"text\" name=\"fax\" size=\"20\" value=\"&lt;?php echo $fax; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;E-mail:&lt;input type=\"text\" name=\"email\" size=\"35\" value=\"&lt;?php echo $email; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Address:&lt;input type=\"text\" name=\"add\" size=\"40\" value=\"&lt;?php echo $add; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;City:&lt;input type=\"text\" name=\"city\" size=\"20\" value=\"&lt;?php echo $city; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;State:&lt;input type=\"text\" name=\"state\" size=\"20\" value=\"&lt;?php echo $state; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Zip Code:&lt;input type=\"text\" name=\"zip\" size=\"5\" value=\"&lt;?php echo $zip; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Zone:&lt;input type=\"text\" name=\"zone\" size=\"5\" value=\"&lt;?php echo $zone; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;br&gt;\n\n&lt;b&gt;Office Info:&lt;/b&gt;\n&lt;p&gt;Company:&lt;input type=\"text\" name=\"com\" size=\"40\" value=\"&lt;?php echo $com; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Office Address:&lt;input type=\"text\" name=\"office\" size=\"40\" value=\"&lt;?php echo $office; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Office Num #:&lt;input type=\"text\" name=\"office_num\" size=\"15\" value=\"&lt;?php echo $office_num; ?&gt;\"/&gt;\next:&lt;input type=\"text\" name=\"ext_office\" size=\"4\" value=\"&lt;?php echo $ext_office; ?&gt;\"/&gt;&lt;/p&gt;\n&lt;p&gt;Website:&lt;input type=\"text\" name=\"web\" size=\"30\" value=\"&lt;?php echo $web; ?&gt;\"/&gt;&lt;/p&gt;&lt;br&gt;\n\nOld password:\n&lt;input type=\"password\" size=\"20\" name=\"oldpassword\"&gt;\nNew password:\n&lt;input type=\"password\" size=\"20\" name=\"newpassword\"&gt;\nverify new password\n&lt;input type=\"password\" size=\"20\" name=\"verpassword\"&gt;\n\n&lt;input type=\"text\" size=\"20\" name=\"id\" value=\"&lt;?php echo $id; ?&gt;\"&gt;\n&lt;input type=\"submit\" value=\"Update Database\"&gt;\n&lt;/form&gt;\n\n\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>update.php - it says update success , but there are no changes on my database</p>\n\n<pre><code>&lt;?php\nsession_start();\n\n$ud_id=$_POST['id'];\n$name = $_SESSION['name'];\n$sur = $_SESSION['sur'];\n$pass = $_SESSION['pass'];\n\n$ud_first = $_POST['first'];\n$ud_last = $_POST['last'];\n$ud_phone = $_POST['phone'];\n$ud_mob = $_POST['mob'];\n$ud_fax = $_POST['fax'];\n$ud_email = $_POST['email'];\n$ud_web = $_POST['web'];\n$ud_com = $_POST['com'];\n$ud_add = $_POST['add'];\n$ud_city = $_POST['city'];\n$ud_state = $_POST['state'];\n$ud_zip = $_POST['zip'];\n$ud_zone = $_POST['zone'];\n$ud_office = $_POST['office'];\n$ud_office_num = $_POST['office_num'];\n$ud_ext_mob = $_POST['ext_mob'];\n$ud_ext_phone = $_POST['ext_phone'];\n$ud_ext_office = $_POST['ext_office'];\n$ud_password = $_POST['newpassword'];\n\n//connect\n$dbh = mysql_connect (\"localhost\", \"xxx_admin\", \"xxx\") \n       or die ('ERROR!');\n       mysql_select_db (\"xxx_database\"); \n\n\n$query=\"UPDATE client_info SET first='$ud_first',last='$ud_last',phone='$ud_phone',mob='$ud_mob',fax='$ud_fax',email='$ud_email',web='$ud_web',com='$ud_com',add='$ud_add',city='$ud_city',state='$ud_state',zip='$ud_zip',zone='$ud_zone',office='$ud_office',office_num='$ud_office_num',ext_mob='$ud_ext_mob',ext_phone='$ud_ext_phone',ext_office='$ud_ext_office',password='$ud_password' WHERE id='$ud_id'\";\n\nmysql_query($query);\n\necho \"Record Updated at ID: \".$ud_id;\nmysql_close();     \n\n?&gt;\n</code></pre>\n"},{"tags":["sql","database","oracle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13117393,"title":"rownum notworking with subquery on oracle","body":"<p>I have a long query with multiple joins,</p>\n\n<pre><code>Select * \n  from (Select firstName, lastname, designation \n          from NameTable nameT \n          left outer join ProfileTable profileT on nameT.id = profileT.id\n          where firstName like (\"S%\") order by firstName ASC\n       ) \n  where rownum &lt; 25\n</code></pre>\n\n<p>The above query works fine, If i change the name search to \"sa\" then query executing get hanging.</p>\n\n<p>If i change the rownum to 21 \"sa\" query also gets fast.</p>\n\n<p>Whether we need to add any index to table, or any idea for this question.</p>\n\n<p>Thanks in Advance!!!</p>\n"},{"tags":["database","typo3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":8125294,"title":"How can i set the Object Path in typo3 from db","body":"<p>I'm trying to find a way in typoScript to render a view, from its name that comes from the db...</p>\n\n<p>Currently, I now do it in the Object path option in typo3 control Panel... I wonder if I can get this data from the db</p>\n\n<p>Any Ideas?</p>\n"},{"tags":["database","data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12888277,"title":"Data Requirements","body":"<p>When it is required to list and present a data dictionary for an application before the programming has even begun. What is the best approach to take in figuring out the data fields you will need for the database?</p>\n"},{"tags":["java","database","postgresql","hadoop","mapreduce"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13116160,"title":"Passing around DB connection objects between multiple map-reduce jobs","body":"<p>Fundamentally, this question is about: Can the same DB connection be used across multiple processes (as different map-reduce jobs are in real different independent processes).</p>\n\n<p>I know that this is a little trivial question but it would be great if somebody can answer this as well: What happens in case if the maximum number of connections to the DB(which is preconfigured on the server hosting the DB) have exhausted and a new process tries to get a new connection? Does it wait for sometime, and if yes, is there a way to set a timeout for this wait period. I am talking in terms of a PostGres DB in this particular case and the language used for talking to the DB is java.</p>\n\n<p>To give you a context of the problem, I have multiple map-reduce jobs (about 40 reducers) running in parallel, each wanting to update a PostGres DB. How do I efficiently manage these DB read/writes from these processes. Note: The DB is hosted on a separate machine independent of where the map reduce job is running.</p>\n\n<p>Connection pooling is one option but it can be very inefficient at times especially for several reads/writes per second.</p>\n"},{"tags":["android","database","backup"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":14,"score":-1,"question_id":13116045,"title":"how to make the back up for the database used in my android application using back up agent?","body":"<p>how can I store the back up of the SQLite database I am using in my android application. Can I have the coding for  that. If possible can i have the sample application</p>\n"},{"tags":["ruby-on-rails","ruby","database","rubygems","gem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13115973,"title":"Auto_html not working properly for videos in Rails app","body":"<p>I have implemented what seems to be a really great solution for a threaded discussion forum I am working on. Auto_html is working fine when I embed images or links but the videos (from youtube, vimeo, etc) are showing up as plain links as well, not as embedded videos as in the demo. Here is my code: </p>\n\n<pre><code>class Discussion &lt; ActiveRecord::Base\n  attr_accessible :body, :category, :attachment, \n              :attachment_content_type,\n              :attachment_file_size, :attachment_updated_at, :body_html\n   has_attached_file :attachment\n   validates_presence_of :body, :category\n   belongs_to :user\n   has_many :comments, :as =&gt; :comment\n\n   attr_accessible :tag_list\n   acts_as_taggable_on :tags\n\n    auto_html_for :body do\n        html_escape\n        image\n        youtube(:width =&gt; 400, :height =&gt; 250)\n        link :target =&gt; \"_blank\", :rel =&gt; \"nofollow\"\n        simple_format\n      end\n end\n</code></pre>\n\n<p>discussions#new</p>\n\n<pre><code>       &lt;%= f.text_area :body, :rows =&gt; 10, :cols =&gt; 120 %&gt;\n</code></pre>\n\n<p>discussions#show</p>\n\n<pre><code>        &lt;dd&gt;&lt;%= @discussion.body_html %&gt;&lt;/dd&gt;\n</code></pre>\n\n<p>application controller</p>\n\n<pre><code> class ApplicationController &lt; ActionController::Base\n   protect_from_forgery\n   include AutoHtml\n\n   helper_method :current_user_session, :current_user\n</code></pre>\n\n<p>schema.rb</p>\n\n<pre><code>   create_table \"discussions\", :force =&gt; true do |t|\n     t.text     \"body\"\n     t.integer  \"user_id\"\n     t.integer  \"category\"\n     t.string   \"attachment_file_name\"\n     t.string   \"attachment_content_type\"\n     t.integer  \"attachment_file_size\"\n     t.datetime \"created_at\",              :null =&gt; false\n     t.datetime \"updated_at\",              :null =&gt; false\n     t.text     \"body_html\"\n   end\n</code></pre>\n\n<p>Thanks for any advice you may have!</p>\n"},{"tags":["javascript","database","html5","transactions","web-sql"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2846,"score":5,"question_id":5142981,"title":"HTML 5 Web SQL Database Transaction commit or rollback when refreshing page","body":"<p>As written in the <a href=\"http://developer.apple.com/library/safari/#documentation/iPhone/Conceptual/SafariJSDatabaseGuide/UsingtheJavascriptDatabase/UsingtheJavascriptDatabase.html#//apple_ref/doc/uid/TP40007256-CH3-SW3\" rel=\"nofollow\">Safari Client-Side Storage and Offline Applications Programming Guide</a>, rolling back a HTML 5 Web SQL Database transaction is done by returning true in the callback function provided as an error callback to a transaction:</p>\n\n<blockquote>\n  <p>The per-query error-handling callback\n  is rather straightforward. If the\n  callback returns true, the entire\n  transaction is rolled back. If the\n  callback returns false, the\n  transaction continues as if nothing\n  had gone wrong. Thus, if you are\n  executing a query that is optional—if\n  a failure of that particular query\n  should not cause the transaction to\n  fail—you should pass in a callback\n  that returns false. If a failure of\n  the query should cause the entire\n  transaction to fail, you should pass\n  in a callback that returns true.</p>\n</blockquote>\n\n<p>For example if I have the following transaction (suppose the 'users' table has a UNIQUE constraint on the 'username' field and username 'test' already exists - which I'm trying to insert again, which should result in a constraint error):</p>\n\n<pre><code>database.transaction(function(transaction) {\n    transaction.executeSql(\n        \"INSERT INTO users (username) VALUES('test')\",\n        null,\n        dataCallback,\n        errorCallback\n     );\n});\n\nfunction errorCallback() {\n    return true; //this causes the rollback\n}\n</code></pre>\n\n<p>I have two questions:</p>\n\n<ol>\n<li><p>If I have to include many operations inside a transaction (for example I have to send some data using ajax to a server and wait for the response, etc.) and the user reloads the page before the response had arrived (which means that the errorCallback won't be called), will the transaction be commited or will it fail ?</p></li>\n<li><p>Does anyone know how to rollback a Web SQL transaction manually ? For example if I want to rollback a transaction based on the result of an ajax call, how can it be done ? Should I run a query which contains an error to make sure that the error callback is called ?</p></li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":29,"score":3,"question_id":13115772,"title":"How do I create a rails migration to remove/change precision and scale on decimal?","body":"<p>I am trying to remove the precision and scale attributes from decimal (PostgreSQL <code>NUMERIC</code>) fields in my database?</p>\n\n<p>The fields:</p>\n\n<pre><code>t.decimal  \"revenue_per_transaction\", :precision =&gt; 8, :scale =&gt; 2\nt.decimal  \"item_quantity\",           :precision =&gt; 8, :scale =&gt; 2\nt.decimal  \"goal_conversion\",         :precision =&gt; 8, :scale =&gt; 2\nt.decimal  \"goal_abandon\",            :precision =&gt; 8, :scale =&gt; 2\nt.decimal  \"revenue\",                 :precision =&gt; 8, :scale =&gt; 2\n</code></pre>\n\n<p>What do I need to add to my migration to change these to unbounded scale and precision, or to increase the scale? At the moment I'm hitting the scale limit and getting errors like:</p>\n\n<pre><code>ERROR:   numeric field overflow\n</code></pre>\n\n<p>Here's the context: <a href=\"http://stackoverflow.com/questions/13115229/pgerror-numeric-field-overflow-on-heroku/13115261\">&quot;PG::Error - numeric field overflow&quot; on Heroku</a></p>\n"},{"tags":["database","oracle","triggers","oracle11g"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13109740,"title":"Trigger in Oracle to auto-increment a field and insert into association table","body":"<p>I have a one-to-many relationship between two tables:</p>\n\n<pre><code>table1:\n\nNUMBER users_id (primary key)\nfield2\nfield3\n...\n\ntable2:\n\nNUMBER users_id (foreign key)\nVARCHAR2 name\n...\n...\n</code></pre>\n\n<p>and when I <code>INSERT</code> into <code>table1</code>, I want to auto increment (sequence?) <code>users_id</code> and insert a number of records into <code>table2</code> all with the same <code>users_id</code> so I end up with</p>\n\n<pre><code>table1:\n\n1,val1,val2\n\ntable2:\n\n1,barry,...\n1,bob,...\n1,james,...\n</code></pre>\n\n<p>I think I need a trigger with a sequence to auto-increment <code>users_id</code> in <code>table1</code> and create the rows in  <code>table2</code>.</p>\n\n<p>It might not be relevant but I'm doing this from a PHP script.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>So far I have a sequence and a trigger set up so I can <code>INSERT</code> into <code>table1</code> and have the <code>users_id</code> field auto-increment:</p>\n\n<pre><code>create sequence user_seq \nstart with 1 \nincrement by 1 \nnomaxvalue;\n\ncreate trigger user_trigger\nbefore insert on table1\nfor each row\nbegin\nselect user_seq.nextval into :new.users_id from dual;\nend;\n</code></pre>\n\n<p>so now I just need to automatically insert into the second table.  </p>\n\n<p>Many thanks.</p>\n"},{"tags":["java","database","hibernate","orm","annotations"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8133,"score":1,"question_id":951372,"title":"Hibernate mapping a second @Embeddable field in a subclass","body":"<p>I'm trying to map an @Embeddable object in a subclass whose parent class already has a field of that @Embeddable type.</p>\n\n<p>The hibernate <a href=\"http://docs.jboss.org/ejb3/app-server/HibernateAnnotations/reference/en/html%5Fsingle/index.html#d0e483\" rel=\"nofollow\">Embeddable Objects documentation</a> claims I can use the @AttributeOverrides to override the column names of an @Embeddable object:</p>\n\n<p>e.g.</p>\n\n<pre><code>@Entity\npublic class Person implements Serializable {\n\n    // Persistent component using defaults\n    Address homeAddress;\n\n    @Embedded\n    @AttributeOverrides( {\n            @AttributeOverride(name=\"iso2\", column = @Column(name=\"bornIso2\") ),\n            @AttributeOverride(name=\"name\", column = @Column(name=\"bornCountryName\") )\n    } )\n    Country bornIn;\n    ...\n}\n</code></pre>\n\n<p>Here's the case I have:</p>\n\n<pre><code> @Embeddable\n    public class ContentID implements Serializable {\n        @Column(name=\"contentID\")\n        private String contentPath;\n    }\n\n   @MappedSuperclass\n   public abstract class BaseDomainObject implements Serializable  {\n\n       @Embedded\n       private ContentID contentID;\n    }\n\npublic class Achievement extends BaseDomainObject {\n\n    @Embedded\n    @AttributeOverrides( {\n        @AttributeOverride(name=\"contentID\", column = @Column(name=\"awardedItem\") ),\n    } )\n    private ContentID awardedItem;\n}\n</code></pre>\n\n<p>The error I get is:</p>\n\n<blockquote>\n  <p>org.hibernate.MappingException:\n  Repeated column in mapping for entity:\n  Achievement column: contentID (should\n  be mapped with insert=\"false\"\n  update=\"false\")   at\n  org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:652)\n    at\n  org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:674)\n    at\n  org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:670)\n    at\n  org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:696)\n    at\n  org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:450)\n    at\n  org.hibernate.mapping.SingleTableSubclass.validate(SingleTableSubclass.java:43)\n    at\n  org.hibernate.cfg.Configuration.validate(Configuration.java:1108)\n    at\n  org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1293)\n    at\n  org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:867)</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I looked in for Hibernate issues relating to this and the GRAILS project claimed they fixed this issue but their annotation solution doesn't seem to be valid javax.persistence annotations (maybe it's a new version).</p>\n\n<p><a href=\"http://jira.codehaus.org/browse/GRAILS-3225\" rel=\"nofollow\">JPA @Embeddable/@Embedded throws org.hibernate.MappingException: Repeated column in mapping for entity</a></p>\n"},{"tags":["database","web-services","geolocation","business","geocoding"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1348,"score":2,"question_id":2157843,"title":"Locating Businesses by Latitude and Longitude (API?/Webservice?)","body":"<p>I am looking for a <b>free</b> database (csv, tab delimited, xml, etc) or even a web service or API which will allow me to query for business listings within a certain distance of a latitude and longitude.</p>\n\n<p>A global scope would be perfect, but I would settle for Canada/US information.</p>\n\n<p>Does anyone know of anything like this?</p>\n"},{"tags":["database","script","iso"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":9182808,"title":"ISO 3166-1 alpha-2 MySQL database with regions","body":"<p>Im trying to create two different tables with ISO 3166 2 code database for courntries and trying to add a custom field with regions (North America, Europe, South America, etc).</p>\n\n<p>I've been trying to find out if there is any open project or data with this info but still no luck. </p>\n\n<p>If anyone could throw me a bone here it would be great.</p>\n\n<p>Regards,</p>\n\n<p>Pablo</p>\n"},{"tags":["java","sql","database","sql-server-2008","exception"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13115296,"title":"Best Practice for handling duplicate INSERT statements","body":"<p>I am currently using Java to try to INSERT a customer in my Database:</p>\n\n<pre><code>public void saveCustomer(Customer c)  {\n    getConnection();\n\n try {\n\n     CallableStatement pstmt =  con.prepareCall(\"{call sp_saveCustomer(?,?)}\");\n     pstmt.setString(1, c.getName());\n     pstmt.setString(2, a.getLastName());\n     pstmt.executeUpdate();\n\n     closeConnection();\n    } catch (SQLException e) {\n       // Handle Exception\n    }\n}\n</code></pre>\n\n<p>When a user tries to INSERT a duplicate record, the catch block will trigger. What I'm worried about is that I don't know if this means a performance hit. Isn't a better way to check if a customer already exists? Something like:</p>\n\n<pre><code>public void saveCustomer(Customer c) {\n    getConnection();\n\n boolean exists = false; \n\n\n     CallableStatement pstmt =  con.prepareCall(\"{call sp_checkCustomerExistence(?,?)}\");\n     pstmt.setString(1, c.getName());\n     pstmt.setString(2, a.getLastName());\n     ResultSet rs = pstmt.executeQuery();\n     if (rs.next()) exists = true;\n     if ( exists ){\n     closeConnection(); \n     return;\n     } \n\n     CallableStatement pstmt =  con.prepareCall(\"{call sp_saveCustomer(?,?)}\");\n     pstmt.setString(1, c.getName());\n     pstmt.setString(2, a.getLastName());\n     pstmt.executeUpdate();\n\n     closeConnection();\n\n}\n</code></pre>\n\n<p>What would be the best solution based on the best performance? Should I check myself if the customer exists or should I let the Exception be thrown?</p>\n"},{"tags":["c#","asp.net","database","entity-framework"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1901,"score":0,"question_id":8978367,"title":"A database with the same name exists, or specified file cannot be opened, or it is located on UNC share. what does it means?","body":"<p>I Build an ASP.NET project with PL,BL,DAl, BE of Entity Data Model(=.edmx) which I generated from a service Based DB (= .mdf) which is located in my DAL project.</p>\n\n<p>I did copied the connectionString from the BE app.config to the PL web.config</p>\n\n<p><strong>what's wrong? why I get this error:</strong></p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: An attempt to attach an auto-named\n  database for file C:\\Documents and Settings\\user\\שולחן העבודה\\למידה\n  אישית\\Lev\\Lev\\App_Data\\Midrasha.mdf failed. A database with the same\n  name exists, or specified file cannot be opened, or it is located on\n  UNC share.</p>\n</blockquote>\n\n<p>my code logic is PL->BL->DAL- > try to save the new object to the DB.\nthe code line which generate the problem is :</p>\n\n<pre><code>public void AddFeedback(Feedback feed)\n{\n    MidrashaEntities _context = new MidrashaEntities();\n    _context.Feedback.AddObject(feed);\n    _context.SaveChanges();  &lt;-------throw the exception\n}\n</code></pre>\n\n<p><code>Feedback</code> is a table in my DAL's SQL which I generate as Object entity.</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","activerecord","entity-attribute-value"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13035744,"title":"Advice on handling versioning of an EAV-model table","body":"<p>there are <a href=\"https://www.ruby-toolbox.com/categories/Active_Record_Versioning\" rel=\"nofollow\">many</a> ActiveRecord versioning gems available to Rails but most if not all of them are having <a href=\"https://github.com/laserlemon/vestal_versions/commit/394cf8dd0073af3885aa816af38249c09d725d5a\" rel=\"nofollow\">trouble</a> <a href=\"http://airbladesoftware.com/notes/papertrail-transfer\" rel=\"nofollow\">being</a> <a href=\"https://github.com/technoweenie/acts_as_versioned/graphs/commit-activity\" rel=\"nofollow\">maintained</a>. on top of that, some of them seem to have various <a href=\"https://github.com/airblade/paper_trail/issues/12\" rel=\"nofollow\">foreign</a> <a href=\"https://github.com/airblade/paper_trail/pull/44\" rel=\"nofollow\">key</a> <a href=\"https://github.com/airblade/paper_trail/issues/121\" rel=\"nofollow\">association</a> <a href=\"https://github.com/airblade/paper_trail/issues/148\" rel=\"nofollow\">issues</a>.</p>\n\n<p>I'm in the process of coding a content management system where pages are stored in a tree-like hierarchy and the page fields are stored in a separate table using <a href=\"http://en.wikipedia.org/wiki/Entity-attribute-value_model#Example\" rel=\"nofollow\">EAV model</a>.</p>\n\n<p>keeping that in mind, I'm not looking for an all encompassing revisioning gem because I honestly don't think I'll find one. what I am looking for is some advice on how to handle this as a custom implementation. should I have a separate table for storing revisions and referring to a revision number in my EAV table? I foresee that this may lead to some complex validation problems though. I currently have a problem finding a clean way to validate a regular EAV table anyway so if anyone can comment on this it would be very much appreciated as well.</p>\n\n<p>I hope this question is written well enough to SO standards. if you need any additional information, please do not hesitate to ask and I will try to help you help me. :)</p>\n"},{"tags":["mysql","database","query","data","mysqldump"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13035610,"title":"Mysql query to copy new data from one DB to another","body":"<p>I have a situation. While we upgraded our server drives, we took a backup of our DB and then imported it again and then site was live, its after a weeks we realize that import did not copy entire backup from dump file as when we checked it was only 13 GB which it suppose to be 60 GB. The interesting thing is, there is one big table which we figured out is copied in a funny way, it is huge and its just copied few initial records, say like 2000-5000 and it copied last records say 400000-500000 and there is no records in between. isnt that weird? cause while we imported we checked initial and last entries and thought it copied everything. Then We created a new DB and imported a dump again and now it seems to be ok, but we have the new entry already in our live DB(13GB data), so we have to copy those and add to our newl imported DB. What will be the idle way to copy those new records in to recovered DB? I mean some query which will search the new DB and add only new records found. SO do I have to take dump of our 13 GB and then import? or is there anyways to copy from live DB?</p>\n"},{"tags":["database","full-text-search","nosql","couchdb","riak"],"answer_count":10,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":6371,"score":13,"question_id":5453872,"title":"Full-text search in NoSQL databases","body":"<ul>\n<li>Has anyone here have any experience deploying a real online system that had a full text search in any of the NoSQL databases? </li>\n<li>For example, how does the full-text search compare in MongoDB, Riak and CouchDB? </li>\n<li>Some of the metric that I am looking for is ease of deployment and maintaince and of course speed.</li>\n<li>How mature are they? Are they any replacement for the Lucene infrastructure?</li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["c#","database","data","screen-scraping"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13107128,"title":"Easiest Way to Store Scraped Data","body":"<p>I'm creating an application that will search the documentation of a function within a language and return the results. Currently, the documentation consists of a single page which links to pages dedicated to the selected function. I have prepared a way for retrieving the data using HTML Agility Pack. I also have an algorithm to search through the keywords. I just need a way to store the data. Ease of use is more important to me than efficiency, in this case, because the application only needs to store about 75 records.</p>\n\n<p>This is a list of potential solutions I have come up with:</p>\n\n<p>1) System.Data.SQLite\n2) CSV\n3) XML</p>\n\n<p>I think these are the solutions which most people would suggest immediately. So far, I have tried Solution 1 and it seems to be more work than necessary for a relatively small number of records.</p>\n\n<p>For this project, what storage method would you suggest?</p>\n"},{"tags":["mysql","database","schema","recurring","orders"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":13086435,"title":"database schema for recurring orders that change","body":"<p>I am creating a subscription site where the actual products being ordered can change on a month-to-month basis. I'm looking for an efficient way to handle the products associated with the current order and retain the products that were delivered with previous months.</p>\n\n<p>Brief schema below:</p>\n\n<p>orders</p>\n\n<pre><code>id\ncustomer_id\nsubscription_id\nshipping_...\nbilling_...\n</code></pre>\n\n<p>order_products</p>\n\n<pre><code>id\norder_id\nproduct_id\nquantity\nprice\ntotal\n</code></pre>\n\n<p>order_invoices</p>\n\n<pre><code>id\norder_id\ndate_shipped\n</code></pre>\n\n<p>order_invoice_products</p>\n\n<pre><code>id\norder_invoice_id\nproduct_id\n</code></pre>\n\n<p>subscriptions</p>\n\n<pre><code>id\n</code></pre>\n\n<p>Thanks for the help..</p>\n"},{"tags":["php","sql","database","session"],"answer_count":7,"favorite_count":0,"up_vote_count":10,"down_vote_count":0,"view_count":277,"score":10,"question_id":12962125,"title":"Pulling data off of sql table with php using sessions","body":"<p>I'm trying to pull data off my sql table with php unique to the session's ID, however I only get the position that the user is in when I echo anything out!</p>\n\n<pre><code>&lt;?php\ninclude 'core/init.php';\n$user_info = $_SESSION['user_id'];\n?&gt;\n&lt;html&gt;....\n&lt;h1&gt;&lt;?php echo $user_info['firstname'];?&gt;&amp;nbsp&lt;?php echo $user_info['firstname'];?&gt; &lt;/h1&gt;\n</code></pre>\n\n<p>displays as: </p>\n\n<h1>5 5</h1>\n\n<p>if I log in with the fifth position in the database!</p>\n\n<p>so here's where the session id is set when you successfully login:</p>\n\n<pre><code>    }else {\n        $_SESSION{'user_id'} = $login;\n        header('Location: loggedin.php');\n        exit();\n    }\n</code></pre>\n\n<p>here is where I create the function to pull data from the database: </p>\n\n<pre><code>function user_data($user_id) {\n    $data = array ();\n    $user_id = (int)$user_id;\n\n    $func_num_args = func_num_args();\n    $func_get_args = func_get_args();\n\n    if ($func_num_args &gt; 1) {\n        unset($func_get_args[0]);\n\n        $fields = '`'. implode('`, `', $func_get_args). '`';\n        $data = mysql_fetch_assoc(mysql_query(\"SELECT $fields FROM `users` WHERE `user_id` = $user_id\"));\n        return $data;\n        print_r ($data);\n        }\n}\n\nfunction logged_in() {\n    return (isset($_SESSION['user_id'])) ? true : false;\n}\n</code></pre>\n\n<p>This is where I define the data to pull:</p>\n\n<pre><code>if (logged_in() === true) { \n    $user_data = user_data($_SESSION['user_id'], 'username', 'first_name', 'last_name', 'email');\n    $user_data = user_data($session_user_id, 'user_id', 'username', 'first_name', 'last_name', 'email');\n}\n</code></pre>\n\n<p>and here is where I try to echo the data pulled from the database: </p>\n\n<pre><code>&lt;?php\ninclude 'core/init.php';\necho $_POST['username'];\n?&gt;\n</code></pre>\n\n<p>here is how my database is set up:</p>\n\n<p><img src=\"http://classm8.net/test/test.png\" alt=\"test\"></p>\n"},{"tags":["asp.net","database","performance","blob","httphandler"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":69,"score":5,"question_id":13041310,"title":"perfomance of .ashx handlers for retrieving a lot of binary images","body":"<p>I used .ashx handler for getting images from database.I want to retrieve a lot of images (>1000) in this way:</p>\n\n<pre><code>    &lt;img src='GetImage.ashx?id= &lt;%# Eval(\"id\") %&gt;'/&gt;\n</code></pre>\n\n<p>(why I do this you can understand if read my previous question: <a href=\"http://stackoverflow.com/questions/13002578/bind-database-image-to-itemtemplate-in-ascx/\">bind database image to ItemTemplate in .ascx</a> ).I am afraid that multipiles database querys (first query to get all id's,all others for getting image one by one) will take a lot of time,is it? What are possible solutions?</p>\n"},{"tags":["mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13113391,"title":"Displaying all records before 90 days","body":"<p>I am trying to display a list of donors who are available to donate blood. For this I'm calculating if their last donation date is before 90 days or not. Here is my query:</p>\n\n<pre><code>select *\nfrom donar, donation\n    donar.id=donation.donar_id\n    and sex='female'\n    and datediff(curdate(),donation_date) &gt; 120\n</code></pre>\n\n<p>The problem is it displays donor's name perfectly but if a donor gave blood now it still shows his name in list beacuse he has a previous entry before 90 days. How can I solve this?</p>\n"},{"tags":["jquery","sql","database","embed","picture"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13113751,"title":"External Domain to Database to Picture via JQuery","body":"<p>Is it possible to embed a jQuery script (that is located on my website) on a external domain, that will get its address, then search my database for it and then will displays a certain picture depending on a value in the database? If so, where do i start with it? I'm very new in jQuery.</p>\n\n<p>Thanks in advance, Lachee</p>\n"},{"tags":["database","postgresql-9.1"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13113831,"title":"Postgresql 9.1: ERROR: type \"citext\" does not exist","body":"<p>I am trying to execute following query through PgAdmin utility.</p>\n\n<pre><code>CREATE TABLE svcr.\"EventLogs\" (\"eventId\" BIGINT NOT NULL, \n\"eventTime\" TIMESTAMP WITH TIME ZONE NOT NULL, \"userid\" CITEXT, \n\"realmid\" CITEXT NOT NULL, \"onUserid\" CITEXT, \"description\" TEXT, \nCONSTRAINT eventlogs_pkey PRIMARY KEY (\"eventId\"));\n</code></pre>\n\n<p>And I get following error -</p>\n\n<pre><code>ERROR: type \"citext\" does not exist\nSQL state: 42704\nCharacter: 120\n</code></pre>\n\n<p>However, following query runs fine -</p>\n\n<pre><code>CREATE TABLE svcr.\"CategoryMap\" (\"category\" INT NOT NULL, \n\"userData\" INT NOT NULL);\n</code></pre>\n\n<p>What is wrong with the first query?</p>\n"},{"tags":["php","database","phpmyadmin"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":13113567,"title":"PHP - Listing contents of database entries","body":"<p>I am trying to list all of the entries in a db table via php.</p>\n\n<p>Here is a preview of the db:</p>\n\n<p><img src=\"http://i.stack.imgur.com/ILCIQ.png\" alt=\"enter image description here\"></p>\n\n<p>Here is my php code:</p>\n\n<pre><code>&lt;?PHP\ninclude('config.php');\n$db_found = mysql_select_db($dbase, $db_handle);\nif ($db_found) \n{\n    $xSQL = \"SELECT * FROM Logins\";\n    $result = mysql_query($xSQL);\n    while ($db_field = mysql_fetch_assoc($result)) \n    {\n        echo $db_field['Username'] . \":\" . $db_feild['Password'] . '&lt;br /&gt;';    \n    }\n}\nelse \n    {\n        print \"Database NOT Found \";\n        mysql_close($db_handle);\n    }\n?&gt;\n</code></pre>\n\n<p>And here is the final result:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rZzkD.png\" alt=\"enter image description here\"></p>\n\n<p>I would expect the result to display:</p>\n\n<p>username2:password1</p>\n\n<p>username1:password1</p>\n\n<p>I am missing the error in my code if any. Any help is appreciated.</p>\n"},{"tags":["php","mysql","database","query","mysqli"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13112078,"title":"Display image if field is true","body":"<p>I have a table called user_badges and a field called badge1 with the default value written <strong>\"locked\"</strong> when a user unlocks the badge the field is updated to <strong>\"unlocked\"</strong></p>\n\n<p>What I want is the script to check the value in the field badge 1 in the table  <strong>WHERE $username = $_SESSION['username'];</strong> and display the image of the badge located in a folder on my site.</p>\n\n<p>I have an idea on how to go about it but not sure how to fully execute this. </p>\n\n<pre><code>//Connect to database\n&lt;?php\n$connect = mysql_connect(\"host\",\"username\",\"password\");\nmysql_select_db(\"database_name\");\n?&gt;\n\nif field (field_name) from table (table_name) value= unlocked\necho/display image from (images/badges/fanaticbadge.png)\n\nelse echo/display (images/badges/locked.png) \n</code></pre>\n\n<p>Is this possible? Thanks for any assistance !</p>\n"},{"tags":["java","sql","database","jdbc","prepared-statement"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":13113105,"title":"Querying list with prepared statement (JDBC)","body":"<p>I currently have a method right now that looks like the following:</p>\n\n<pre><code>public void foo(Date date) {\n    PreparedStatement stmt; \n    ResultSet rs;\n    java.sql.Date sDate = new java.sql.Date(date.getTime());\n\n    try {\n        String sql = \"select * from some_table p where p.start_date &lt;=? and ?&lt;= p.end_date\";\n        stmt = getConnection().preparedStatement(sql);\n        stmt.setDate(1, sDate);\n        stmt.setDate(2, sDate);\n        rs = stmt.executeQuery();\n        //... \n    } finally {\n        if (rs != null) { rs.close(); }\n        if (stmt != null) { stmt.close(); }\n    }\n}\n</code></pre>\n\n<p>Now instead of passing one Date object, I would like to pass in list of date (<code>List&lt;Date&gt; dates</code>). I guess I technically can call foo multiple times, while iterating through the list, but is there a way I can achieve this without having to call foo multiple times?</p>\n"},{"tags":["ruby-on-rails","database","forms"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13113317,"title":"Parameters from rails form not saved in database","body":"<p>As my log file shows, when you submit a form in my app, the parameters are being established correctly, but they are not saving in my database.  This is only happening with two parameters, which are used with a dropdown form.</p>\n\n<p>Here is my logger:</p>\n\n<pre><code>Processing by UsersController#create as HTML\nParameters: {\"utf8\"=&gt;\"✓\", \"authenticity_token\"=&gt;\"tIdsWBUB+ik8eeOOxUEQs9mSB/WiSyX2Gkw3/fAw64w=\", \"user\"=&gt;   {\"name\"=&gt;\"Jeffgo\", \"email\"=&gt;\"JeffreyEricKatz6@gmail.com\", \"cell_number\"=&gt;\"5554595515\", \"password\"=&gt;\"[FILTERED]\", \"password_confirmation\"=&gt;\"[FILTERED]\", \"day_open\"=&gt;\"0\", \"time_open\"=&gt;\"14\"}, \"commit\"=&gt;\"Create my account\"}\n\nRecordedLesson Load (0.1ms)  SELECT \"recorded_lessons\".* FROM \"recorded_lessons\" LIMIT 1\n(0.1ms)  SELECT 1 FROM \"users\" WHERE LOWER(\"users\".\"email\") = LOWER('JeffreyEricKatz6@gmail.com') LIMIT 1\n\nBinary data inserted for `string` type on column `password_digest`\nSQL (51.2ms)  INSERT INTO \"users\" (\"cell_number\", \"created_at\", \"day_open\", \"email\",    \"last_class\", \"name\", \"password_digest\", \"recorded_lesson_id\", \"test\", \"time_available\", \"time_open\", \"type\", \"updated_at\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [[\"cell_number\", \"2154997415\"], [\"created_at\", Sun, 28 Oct 2012 16:45:50 EDT -04:00], [\"day_open\", nil], [\"email\", \"jeffreyerickatz6@gmail.com\"], [\"last_class\", 0], [\"name\", \"Jeffgo\"], [\"password_digest\", \"$2a$10$Idl8H7tMvotqhwiFteya2eSUaNEdAPNU6dqrp5PPalEyfo7w6x5gq\"], [\"recorded_lesson_id\", 1], [\"test\", nil], [\"time_available\", nil], [\"time_open\", nil], [\"type\", nil], [\"updated_at\", Sun, 28 Oct 2012 16:45:50 EDT -04:00]]'\n</code></pre>\n\n<p>Ok, now here is the part of the form:\n    &lt;% provide(:title, \"Sign up\") %>\n    <h1>Sign up</h1></p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n&lt;div class=\"span6 offset3\"&gt;\n&lt;%= simple_form_for @user do |f| %&gt;\n&lt;%= render 'shared/user_error_messages' %&gt;\n\n&lt;%= f.label :name %&gt;\n&lt;%= f.text_field :name %&gt;\n\n&lt;%= f.label :email %&gt;\n&lt;%= f.text_field :email %&gt;\n\n&lt;%= f.label :cell_number %&gt;\n&lt;%= f.text_field :cell_number, :hint =&gt; '5555555555' %&gt;\n\n&lt;%= f.label :password %&gt;&lt;br /&gt;\n&lt;%= f.password_field :password %&gt;\n\n\n&lt;%= f.label :password_confirmation, \"Confirmation\" %&gt;&lt;br /&gt;\n&lt;%= f.password_field :password_confirmation %&gt;\n\n&lt;%= f.label :day_open %&gt; &lt;br /&gt;\n&lt;%= f.select(\"day_open\", {\"Sunday\" =&gt; \"0\", \"Monday\" =&gt; \"1\", \"Tuesday\" =&gt; \"2\", \"Wednesday\" =&gt; \"3\", \"Thursday\" =&gt; \"4\", \"Friday\" =&gt; \"5\", \"Saturday\" =&gt; \"6\"}) %&gt;\n\n&lt;%= f.label :time_open %&gt; &lt;br /&gt;\n&lt;%= f.select(\"time_open\", {\"7:30 pm\" =&gt; \"14\", \"8:30 pm\" =&gt; \"15\", \"9:30 pm\" =&gt; \"16\"}) %&gt;\n&lt;div class=\"actions\"&gt;\n &lt;%= f.submit \"Create my account\" %&gt;\n &lt;/div&gt;\n\n &lt;% end %&gt;\n\n &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>class UsersController &lt; ApplicationController\ndef new\n  @title = \"Sign up\"\n  @user = User.new \nend\n\n\ndef create\n @user = User.new(params[:user])\n if @user.save\n   flash[:success] = \"Welcome to the Sample App!\"\n   redirect_to @user\n  else\n    @title = \"Sign up\"\n    render 'new'\n  end\n end\nend\n</code></pre>\n\n<p>finally, here is my model:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base\nhas_many :tutoring_sessions\nbelongs_to :recorded_lesson\nattr_accessor :day_open, :time_open\nattr_accessible :name, :email, :cell_number, :password, :password_confirmation, \n    :day_open, :time_open, :tutoring_sessions_attributes, :recorded_lesson_id\nhas_secure_password\naccepts_nested_attributes_for :tutoring_sessions, :allow_destroy =&gt; true\n\nbefore_save { |user| user.email = email.downcase }\n\nvalidates :name, length: { maximum: 50 }\nVALID_EMAIL_REGEX = /\\A[\\w+\\-.]+@[a-z\\d\\-.]+\\.[a-z]+\\z/i\nvalidates :email,  format: { with: VALID_EMAIL_REGEX }, \nuniqueness: { case_sensitive: false}\nvalidates :password, presence: true, length: { minimum: 6}, on: :create\nvalidates :password_confirmation, presence: true, on: :create\nafter_initialize :init\n\ndef init\n  self.recorded_lesson_id ||= RecordedLesson.first.id\n  self.last_class ||= 0\nend\n\ndef advance\n    if self[:recorded_lesson_id] == nil\n        self[:recorded_lesson_id] = RecordedLesson.first.id\n    else\n        self[:recorded_lesson_id] += 1\n    end\n    #self.save\nend\n\n\n\n\n\n    def nows_weekday \n        @todays_weekday = Time.now.utc.wday\n    end\n\n    def number_of_days_from_now\n        (selected_day - nows_weekday)\n    end\n\n\n\n    def is_student?\n        self[:type] == 1\n     end\n\n   def is_tutor?\n       self[:type] == 0\n   end\n\n   def set_day_and_time_available\n      set_hour = Time.now.utc.change(:hour =&gt; selected_time)\n      set_day  = set_first_day_of_session(set_hour)\n      self[:time_available] ||= set_day.to_datetime\n   end\n\n   def set_first_day_of_session(set_hour)\n       if selected_day &gt; nows_weekday #(Eg. Today is Tuesday and chooses wednesday)\n       first_day_of_session= set_hour.advance(:days =&gt; number_of_days_from_now)\n       else #(Eg. Today is Tuesday and chooses Monday)\n          first_day_of_session= set_hour.advance(:days =&gt; (number_of_days_from_now + 7))\n       end\n   end\n end\n</code></pre>\n"},{"tags":[".net","database","asp.net-mvc-3","http-post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13113192,"title":".NET MVC3 update database","body":"<p>By debugging I could see it updates  old entry with my new model entry. However it doesn't save changes, although I called the submit changes mehtod.</p>\n\n<pre><code>    public ActionResult EditGameDetails(artikel model){\n\n        artikel old = myShop.artikels.Single(m =&gt; m.artikelnummer == model.artikelnummer);\n        old = model;\n\n        myShop.SubmitChanges();\n        return RedirectToAction(\"Games\",\"Game\");\n    }\n</code></pre>\n\n<p>Have I forgotten any codes? Could anyone please help me? thanks.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2640,"score":5,"question_id":4240117,"title":"Why has my Android SQLite DB gone corrupt all of a sudden?","body":"<p>All of a sudden, it seems the database that my application is using has gone corrupt.\nI didn't change the structure of the database, but I did re-deploy the app several times on my device today.</p>\n\n<p>It is throwing the following exception.</p>\n\n<pre><code>E/Database(14281): CREATE TABLE android_metadata failed err=26 ..\nE/Database(14281): Failed to setLocale() when constructing, closing the database\nE/Database(14281): android.database.sqlite.SQLiteException: file is encrypted or is not  a database\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.native_setLocale(Native  Method)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:1848)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1798)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:798)\nE/Database(14281):  at   android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:857)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:850)\nE/Database(14281):  at android.app.ApplicationContext.openOrCreateDatabase(ApplicationContext.java:539)\nE/Database(14281):  at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:193)\nE/Database(14281):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:98)\nE/Database(14281):  at com.ecs.android.gps.storage.DBAdapter.open(DBAdapter.java:75)\n</code></pre>\n\n<p>The database is initialized using the SQLLiteOpenHelper class.</p>\n\n<pre><code>public DBAdapter(Context ctx) \n{\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n}\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper \n{\n    DatabaseHelper(Context context) \n    {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) \n    {\n        db.execSQL(DATABASE_CREATE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, \n    int newVersion) \n    {\n        Log.w(TAG, \"Upgrading database from version \" + oldVersion \n                + \" to \"\n                + newVersion + \", which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS location_history\");\n        onCreate(db);\n    }\n}  \n</code></pre>\n\n<ul>\n<li>I'm basically opening/closing both\nthe database and cursors on each\noperation. </li>\n<li>Some articles indicate\nthis being the way to go, but for an\nandroid app, wouldn't make more sense\nto keep the database connection open\nall the time ? </li>\n<li>I can imagine it\ntaking a lot more resources to\nopen/close it each time. </li>\n<li>There are multiple Activities and Services that\naccess the database.  (potentially at the same time)</li>\n<li>I never saw an exception in the logs</li>\n</ul>\n\n<p>Any idea what could have caused this, how to restore from it, and how to prevent this in the future ?\nI have the impression the exception is coming due to some concurrency issues (multiple threads trying to open/close or read/write to the database). I don't know to what degree an SQLite database is as robust as a normal database (mysql - oracle) when it comes to multi-threaded access, locking, .....</p>\n"},{"tags":["php","database","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13112661,"title":"PDO update setting field value to 0?","body":"<p>I tried converting my old php sql script into PDO but it keeps setting the users points to 0 instead of adding +15 </p>\n\n<p>Heres the original</p>\n\n<pre><code>&lt;?php\n\nsession_start();\n$db = mysqli_connect(\"host\", \"username\", \"password\", \"dbname\"); \n$username = $_SESSION['username'];\nmysqli_query($db, \"UPDATE login_users SET Points=Points+15 WHERE username='$username'\");\n\n\n?&gt;\n</code></pre>\n\n<p>Here is the PDO statement I tried to create.  Is my syntax wrong ?</p>\n\n<pre><code>&lt;?php\n\nsession_start();\n$db = new PDO('mysql:host;dbname=dbname;charset=UTF-8', 'username', 'password');\n$username = $_SESSION['username'];\n$Points = $db-&gt;exec(\"UPDATE login_users SET Points='Points+15' WHERE username='$username'\");\n\n\n?&gt;\n</code></pre>\n"},{"tags":["php","database","security","get"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13112152,"title":"PHP Access Database with GET Security","body":"<p>I am writing a database interface using PHP.  One of the functions of the database is to allow members to login and register for events online.  I would like to create a php file that would create a dynamic calendar file users can subscribe to.  Something to the effect of www.hostname.net/my_calendar.php?memid=123.  The file then will search the database for events member 123 has registered for and create a calendar file on the fly.  My concern the security of using the members' id number for this purpose.  Is there a good way of accomplishing this with a reasonable amount of security, or may there be a security issue here that I am not considering.</p>\n"},{"tags":["mysql","database","query","query-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13109104,"title":"MySQL Database - storing data in one table or using lookups","body":"<p>I'm in the middle of redesigning an app that has 100,000s of records in a particular table (currently 250K and growing). </p>\n\n<p>The table contains information of websites and domains.</p>\n\n<p>For the sake of speed and resources, should I include all the data needed about either entity in the original table, or should I be using two lookup tables to store information not shared - for example one lookup table which stores all domain specific info and one which stores all site specific info?</p>\n\n<p>Thanks</p>\n"},{"tags":["mysql","database","database-schema"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13111869,"title":"Database Schema / Logic for a Flashcard Language Project","body":"<p>I'm creating an application right now (with MYSQL), for learning words / languages with simple flashcards. What really gives me headache, is how to structure the schema (tables). Had a lot of thoughts on how to make it really simple, and I went on to structure it like this.</p>\n\n<p><img src=\"http://i.stack.imgur.com/IOgx9.png\" alt=\"database schema\">\n<a href=\"http://i.stack.imgur.com/Yw5Br.png\" rel=\"nofollow\">link to the image</a></p>\n\n<p>I have a table for every language, which has 4 fields. A value, for example 'the dog', part of speech (noun), abbrevation and spelling. I collect all the single words in a table called 'translation' (or flashcards) where it all comes together. There are another 2 tables, but I want to focus on the saving of different flashcards.</p>\n\n<p>With this kind of schema, I can make flashcards supporting more than 2 languages, without having the need to do all of them (the fields in translation are nullable). The thing is, I have to create another table and a new field in translations, if there is a new language added. I actually don't know if its bad nor good, but I think there are better approaches than this one here. With this information given:</p>\n\n<p>Does anyone have an idea how to make this database schema better? </p>\n\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","database","apache","jdbc","derby"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13106574,"title":"Databases in Netbeans","body":"<p>I have been previously using the apache derby database implementation inside of NetBeans.</p>\n\n<ol>\n<li>What other options do I have that are JDBC and SQL compliant?</li>\n<li>What other database engines can I use inside of NetBeans?</li>\n</ol>\n"},{"tags":["c#","database","visual-studio-2010","application","multiple-choice"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13111779,"title":"Visual Studio - Updating the database?","body":"<p>I am making a stand-alone application using MS Visual Studios in C# language. The application would ask users some questions and they would have to answer it from the given options. I would need to have a database to store the questions and answers, and then extract them from the database to my application screen.</p>\n\n<p>The database would also have to store some basic statistics which includes the minimum, maximum and average time taken to answer each questions, keep a count on how many users chose each answers(answer a, b, c and d). Now, I am not quite sure on how would I implement this to send the statistics to my database automatically.</p>\n\n<p>In my past projects I have always had a built in admin section inside the application where the admin can edit the database manually. Therefore, I am uncertain on how I can implement it in such a way where it would automatically keep on updating the statistic figures each time a user answers the question.</p>\n\n<p>Also, any suggestions on which Database Management System would be best. I have only used MS Access to store my data.</p>\n"},{"tags":["database","heroku"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13065878,"title":"Heroku pg:info gives 0 tables","body":"<p>my heroku app has dev plan</p>\n\n<p>the app is useable and works and if I use pg:backups to download a backup and view it locally I can see that it has data.. </p>\n\n<p>however, when I do <code>heroku pg:info</code> it gives me 0 tables and 0 rows..</p>\n\n<pre><code>Connections: 0\nCreated:     2012-10-25 09:18 UTC\nData Size:   6.1 MB\nFork/Follow: Unavailable\nPG Version:  9.1.6\nPlan:        Dev\nRows:        0/10000 (In compliance)\nStatus:      available\nTables:      0\n</code></pre>\n\n<p>what's going on?</p>\n"},{"tags":["database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13110970,"title":"textarea text is not showing and footer bug","body":"<p>I have a page showPages.php which shows the list of pages with page id and page title. when one of them is clicked, it goes to editPages.php. In editPages.php, two (input tag) field is showing correctly but two textarea field's text is not showing which is very annoying. \nI am extracting all data in a row with the help of page id.</p>\n\n<p>Parsed text is showing in \"View-source\" or crome's web developer console. I have also checked for background color and text color. But unable to solve. Even when i write something in textarea, is updating after click the update button but text is not showing in textarea field.</p>\n\n<p>I have provided editPages.php code and snapshot here with footer problem details.\n<a href=\"https://docs.google.com/document/d/1PWvNSF2tiCMx6Os6uXulpTHzBbhd98wW9dtgbUGE-hs/edit\" rel=\"nofollow\">https://docs.google.com/document/d/1PWvNSF2tiCMx6Os6uXulpTHzBbhd98wW9dtgbUGE-hs/edit</a></p>\n\n<p>THanks in advance.</p>\n"},{"tags":[".net","database","entity-framework","mvc","c#-4.0"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1563,"score":1,"question_id":6073623,"title":"Entity Framework Enums as POCO only","body":"<p>I am trying to save an Enum that exists in my model down to the database but everytime I do Entity Framwework complains that there is no look up table associated with the Enum. I do not want a look up table, I just want the enum to exist in code and be stored as integers in the database.</p>\n\n<blockquote>\n  <p>An error occurred while saving\n  entities that do not expose foreign\n  key properties for their\n  relationships. The EntityEntries\n  property will return null because a\n  single entity cannot be identified as\n  the source of the exception. Handling\n  of exceptions while saving can be made\n  easier by exposing foreign key\n  properties in your entity types. See\n  the InnerException for details.</p>\n  \n  <p>\"Cannot insert the value NULL into\n  column 'Type', table\n  'Test.dbo.Interests'; column\n  does not allow nulls. INSERT\n  fails.\\r\\nThe statement has been\n  terminated.</p>\n</blockquote>\n\n<p>The value for Type is definitely not null, EF just treats it that way cause it can't find a Foreign key table that I don't want in the first place. </p>\n\n<p><strong>How do I get entity framework to treat my enum as an int and then convert back out when I call down to the database to retrieve my model?</strong></p>\n"},{"tags":["c#",".net","database","odbc"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13111547,"title":"ODBC Driver in .Net","body":"<p>Researching writing an ODBC driver for a particular data source. Since I am most familiar with .Net, was curious if it would be possible to do part (or most) of the coding in .Net... presumeably with a shim dll that would call it via interop. If this is possible, I am then curious if some source code exists that already does this, and might provide a good starting point for my project? </p>\n"},{"tags":["php","javascript","database","ajax","mongodb"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":893,"score":2,"question_id":5365082,"title":"How to print_r in PHP a MongoDB Collection?","body":"<p>How can I view and \"do\" things with a MongoDB collection after <code>find()</code>ing my results? I.e.:</p>\n\n<pre><code>&lt;?php\n   $cursor = $collection-&gt;find();\n   json_encode($cursor);\n   //OR\n   print_r($cursor);\n?&gt;\n</code></pre>\n\n<p>etc. No matter what I do i get nothing, but if I loop it i can get the data out one by one i can get the data out (of course) but the issue is, I want to do things with it like encode the returned array as a whole to a JSON object for doing AJAX / JS stuff.</p>\n\n<p>So, how could I do this?</p>\n"},{"tags":["php","javascript","jquery","ajax","database"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12866307,"title":"how do i make the wookmark plugin preload images before creating the layout","body":"<p>I adapted this script from the wookmark plugin to load more items from a db when the users scrolls to the bottom of the page.</p>\n\n<p>Initially it pre loads the images and then creates the layout, however when the users scrolls to the bottom, the new items are loaded thru ajax but the images all overlap each other.</p>\n\n<p>I'm using the imagesloaded jquery plugin to get the images to display correctly when the page loads the first time but i cant get it to work when new items are added when the users scrolls to the bottom.</p>\n\n<p>here's my code:</p>\n\n<pre><code>  $(document).imagesLoaded(function() {\n     $(document).ready(new function() {\n\n       // Prepare layout options.\n       var options = {\n         autoResize: true, // This will auto-update the layout when the browser window is resized.\n         container: $('#main'), // Optional, used for some extra CSS styling\n         offset: 10, // Optional, the distance between grid items\n         itemWidth: 320 // Optional, the width of a grid item\n       };\n\n       // Get a reference to your grid items.\n       var handler = $('#tiles li');\n\n       // Call the layout function.\n       handler.wookmark(options);\n\n\n       // When scrolled all the way to the bottom, add more tiles.\n        var int = 10;\n\n        function onScroll(event) {\n          // Check if we're within 100 pixels of the bottom edge of the broser window.\n          var closeToBottom = ($(window).scrollTop() + $(window).height() &gt; $(document).height() - 100);\n\n          if(closeToBottom) {\n\n             // GET THE 10 NEXT ITEMS;\n              if (window.XMLHttpRequest)\n                 {// code for IE7+, Firefox, Chrome, Opera, Safari\n                 xmlhttp=new XMLHttpRequest();\n                 }\n               else\n                 {// code for IE6, IE5\n                 xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n                 }\n               xmlhttp.onreadystatechange=function()\n                 {\n                 if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n                   {\n                   //document.getElementById(\"tiles\").innerHTML=xmlhttp.responseText;\n\n\n\n                         $('#tiles').append(innerHTML=xmlhttp.responseText);\n                         int = int+10;\n                         // Clear our previous layout handler.\n                         if(handler) handler.wookmarkClear();\n\n                         // Create a new layout handler.\n                         handler = $('#tiles li');\n                         handler.wookmark(options);\n\n                   }\n                 }\n\n               $.extend({\n                    getUrlVars: function(){\n                      var vars = [], hash;\n                      var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\n                      for(var i = 0; i &lt; hashes.length; i++)\n                      {\n                        hash = hashes[i].split('=');\n                        vars.push(hash[0]);\n                        vars[hash[0]] = hash[1];\n                      }\n                      return vars;\n                    },\n                    getUrlVar: function(name){\n                      return $.getUrlVars()[name];\n                    }\n                  });\n\n                  var request = $.getUrlVar('item');\n\n                  if(request!=null){\n                    var allR = \"?int=\"+int+\"&amp;item=\"+request;\n                  } else {\n                    var allR = \"?int=\"+int;\n                  }\n\n               xmlhttp.open(\"GET\",\"tiles.php\"+allR,true);\n               xmlhttp.send();\n          }\n        };\n\n        $(document).ready(new function() {\n          // Capture scroll event.\n          $(document).bind('scroll', onScroll);\n\n          // Call the layout function.\n          handler = $('#tiles li');\n          handler.wookmark(options);\n        });      \n     });  \n   });  \n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ios","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12000311,"title":"sqlite ios : attempt to write a readonly database","body":"<p>I use a sqlite database for a project. I can do queries like SELECT but impossible to do INSERTs!\nOn the simulator the INSERT works properly. As soon as I compile on my iPod this error message appears: <em>\"attempt to write a readonly database\"</em>.</p>\n\n<p>Thinking it is a right of the file I did a: <code>chmod 777 mydatabase.sqlite</code>\nBut that does not change!</p>\n\n<p>I also tried as I have read on other site and copy the file to use his copy to have it all right, but to no avail.</p>\n\n<p>Have you a solution?\nCordially.</p>\n\n<p>PS: Here is my code:</p>\n\n<pre><code>for(NSDictionary *q in quotes) {\n    sqlite3_stmt    *statement;\n    sqlite3 *contactDB;\n    const char *dbpath = [dbPath UTF8String];\n\n    if (sqlite3_open_v2(dbpath, &amp;contactDB, SQLITE_OPEN_READWRITE, NULL) == SQLITE_OK)\n    {\n        NSInteger identifiant = [[q objectForKey:@\"id\"] integerValue];\n        NSString *texte = [q objectForKey:@\"texte_english\"];\n        NSString *auteur = [q objectForKey:@\"auteur\"];\n        NSString *date = [q objectForKey:@\"date\"];\n        NSInteger auteurId = [[q objectForKey:@\"auteur_id\"] integerValue];\n        NSInteger nbComments = [[q objectForKey:@\"nb_comments\"] integerValue];\n\n        NSString *insertSQL = \n                [NSString stringWithFormat:@\"INSERT INTO quotes (id, texte_english, auteur, date, auteur_id, nb_comments) VALUES (%d, \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%d\\\", \\\"%d\\\")\", \n                                          identifiant, \n                                          texte, \n                                          auteur, \n                                          date, \n                                          auteurId, \n                                          nbComments];\n\n        const char *insert_stmt = [insertSQL UTF8String];\n        sqlite3_prepare_v2(contactDB, insert_stmt, -1, &amp;statement, NULL);\n\n        if (sqlite3_step(statement) != SQLITE_DONE)\n        {\n            NSLog(@\"ERREUR1: %s\",sqlite3_errmsg(contactDB));\n        }\n        sqlite3_finalize(statement);\n        sqlite3_close(contactDB);\n    }\n}\n</code></pre>\n"},{"tags":["php","mysql","database","forms","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":12748539,"title":"Handling data from form to mysql database giving server error","body":"<p>I'm having difficulties making work a PHP script. This code handles a form  that should  add a product to the database.</p>\n\n<p>I've tried searching around for possible problems in my code but I am totally lost. I tried rewriting my code but nothing that I do seem to work for some reason. I am definitely  missing something.\n I would really appreciate if anyone can steer me towards the right direction as I've been suck with this for a couple of days plz.</p>\n\n<p>The code is as follows   </p>\n\n<pre><code>     &lt;form action=\"\" method=\"post\"&gt;\n\n    &lt;table width=\"436\" border=\"0px\"&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td width=\"132\"&gt;&lt;label for=\"title\"&gt;title&lt;/label&gt;&lt;/td&gt;\n            &lt;td width=\"333\"&gt;&lt;input type=\"text\" size=\"40px\" name=\"title\" value=\"\"  /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;tr class=\"odd\"&gt;\n        &lt;td&gt;&lt;label style=\" text-align:top\" for=\"icon_description\"&gt;short description&lt;/label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;textarea name=\"icon_description\" rows=\"2\" cols=\"30\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr class=\"even\"&gt;\n      &lt;td height=\"95\"&gt;&lt;label for=\"full_description\"&gt;full description&lt;/label&gt;&lt;/td&gt;\n      &lt;td&gt;&lt;textarea name=\"full_description\" cols=\"30\" rows=\"6\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n\n\n      &lt;tr class=\"odd\"&gt;\n        &lt;td&gt;&lt;label for=\"category\"&gt;category&lt;/label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;select name=\"category\" &gt;\n            &lt;?php\n            foreach(get_categories() as $category)\n            {\n                ?&gt;\n                &lt;option value=\"&lt;?php echo $category['id']; ?&gt;\"&gt; &lt;?php echo $category['category_name']; ?&gt; &lt;/option&gt;\n                &lt;?php\n            }\n            ?&gt;\n\n        &lt;/select&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td&gt;&lt;label for=\"price\"&gt;price (&lt;em&gt;BsF&lt;/em&gt;)&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;textarea name=\"price\" rows=\"1\" cols=\"20\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr class=\"odd\"&gt;\n            &lt;td&gt;&lt;label for=\"stock\"&gt;stock&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;textarea name=\"stock\" rows=\"1\" cols=\"20\"&gt;&lt;/textarea&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr class=\"even\"&gt;\n            &lt;td&gt;&lt;/td&gt;\n            &lt;td style=\"margin-top:30px\"&gt;&lt;p style=\"text-align:left; margin-left:20px;\"&gt;&lt;input type=\"submit\" value=\"Add Product\" /&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>On the same page, at the top of the document I have this code to handle the data from form and send it to the actual function that adds it to database:</p>\n\n<pre><code>&lt;?php\n\ninclude_once('init.php');\ninclude_once('store.php');\n\n$products = get_all_available_products();\n\n\nif( isset($_POST['title'], $_POST['icon_description'], $_POST['category'], $_POST['price'], $_POST['stock']) )\n{\n\n    $title = $_POST['title'];\n    $icon_description = $_POST['icon_description'];\n    $category = $_POST['category'];\n    $price = $_POST['price'];\n    $stock = $_POST['stock'];\n\n\n    $errors = array();\n\n    if( empty($title) )\n    {\n        $errors[] = 'You need to add a title.';\n    }\n    else if( strlen($title) &gt; 125 )\n    {\n        $errors[] = 'Title cannot be longer than 255 characters.';\n    }\n    if( empty($icon_description))\n    {\n        $errors[] = 'Short description is empty.';\n    }\n    if( empty($price))\n    {\n        $errors[] = 'You need to specify a price.';\n    }\n    if( empty($stock))\n    {\n        $errors[] = 'You need to ad stock amount.';\n    }\n\n\n    add_product($title, $category, $icon_description, $price, $stock);\n\n    header('Location: products.php');\n    die();\n}\n</code></pre>\n\n<p>And the code where the add_product() function is:</p>\n\n<pre><code>include_once('init.php');\n\nfunction add_product($title, $category_id, $description, $price, $stock)\n{\n    $title =  mysql_real_escape_string($title);\n    $category_id = (int)($category_id);\n    $description = mysql_real_escape_string($description);\n    $price = doubleval($price);\n    $stock = (int)$stock;\n\n    $mysql_query(\"INSERT INTO `products` SET\n                `product_name` = '{$title}',\n                `product_description` = '{$description}',\n                `category_id` = {$category_id},\n                `price` = {$price},\n                `stock` = {$stock}\");\n}\n</code></pre>\n\n<p>All my other code to display the products in databse is working, so connection and configuration is ok (i think). The problem is when I try to add a product, when I click the button to submit the website gives me a server error. </p>\n"},{"tags":["asp.net","database","wordpress","drupal","optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":8020097,"title":"writing from scratch or using CMS for heavy database use website","body":"<p>we want to build a website that have some forms (including image attachments, info, etc…) online payments, tracking system, and other features that I may add later.</p>\n\n<p>The number of users using the site is estimated to be maybe more than 50,000. </p>\n\n<p>I'm using Wordpress to develop regular websites, but I'm afraid to use it in this project because I don't know how optimized is WordPress for high database usage (and page rendering, bandwidth usage, and …)</p>\n\n<p>My options (those that I know) are:</p>\n\n<ul>\n<li>WordPress</li>\n<li>Drupal</li>\n<li>Pressflow</li>\n<li>Agility CMS</li>\n<li>Writing PHP/MySQL code from scratch (or using a framework)</li>\n</ul>\n\n<p>I know it maybe unrelated, but how good is to use ASP.net instead of these options?</p>\n"},{"tags":["database","mongodb","nosql"],"answer_count":5,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":339,"score":4,"question_id":8654606,"title":"NoSQL-agnostic persistence layer","body":"<p>It seems to me that, at the end of the day, most NoSQL databases are at their core key/value stores, which means one should be able to build a layer which could be NoSQL database agnostic.</p>\n\n<p>That layer would only use CRUD operations (put, set, delete), but would expose more advanced features, and you'd be able to switch with minimal effort  the underlying DB whether it's Mongo, Redis, Cassandra, etc.</p>\n\n<p><strong>Would building something like this have value to many people, and does it already exist?</strong></p>\n\n<p>Thanks</p>\n"},{"tags":["database","design","object"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13109853,"title":"Database Design: Different objects from one table? (No inheritance)","body":"<p>I have a list of fields that I concatenate, for instance : field1 + ';' + field2.\nHere is my solution on how to store these concatenations (v1):</p>\n\n<pre><code>FieldID | Position  | Prefix  | ConcatenationID\n\n15      |0          |NULL     | 30\n\n28      |1          |;        | 30\n</code></pre>\n\n<p>But I feel this solution is not that elegant. I think about replacing it with this table (V2): </p>\n\n<pre><code>FieldID | Position  | Separator       | ConcatenationID     | IsSeparator\n\n15      |0          |NULL             |30                   | False\n\nNULL    |1          |;                |30                   | True\n\n28      |2          |NULL             |30                   | False\n</code></pre>\n\n<p>-V1 has the advantage of storing only one object (Field) but fails to represent the separator in a clear way.</p>\n\n<p>-V2 has the advantage of representing the separator in a clear way but stores multiple objects (Field &amp; Char/String). Also : I hate NULL Columns.</p>\n\n<p>What do you guys of both versions? </p>\n\n<p>Thanks in advance for your eventual answers.</p>\n"},{"tags":["java","database","image","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13109863,"title":"Which approach to use when dealing with images in a web application","body":"<p>I am working on a web application, using JSP and Servlets, I was retreiving pictures as a string which contains the path of that picture.</p>\n\n<pre><code>while(rset.next())\n{ %&gt;\n     &lt;img src='&lt;%rset.getString(1)%&gt;' /&gt;\n&lt;%  }\n</code></pre>\n\n<p>And the table in the database would be like this.</p>\n\n<pre><code>id ---- image_path\n\n1.....images/aaa.png\n\n2.....images/bbb.png\n</code></pre>\n\n<p>So what I'm doing here is actually getting the path of the image, not the image itself, the images are inside a folder called images.</p>\n\n<p>But later on, I found another way which actually stores images in a database.</p>\n\n<pre><code>PreparedStatement ps = con.prepareStatement(\"INSERT INTO pictures VALUES(?,?)\");\n  File file = new File(\"C:/apache-tomcat-6.0.16/webapps/CodingDiaryExample/images/5.jpg\");\n  FileInputStream fs = new FileInputStream(file);\n  ps.setInt(1,8);\n  ps.setBinaryStream(2,fs,fs.available());\n  int i = ps.executeUpdate();\n</code></pre>\n\n<p>Which is the best approach?</p>\n"},{"tags":["database","asp.net-mvc-4","entity-framework-5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12952575,"title":"MVC 4 - after seeding database webpages_Roles is still empty","body":"<p>So I have basic MVC 4 Internet application project with Entity Framework 5.</p>\n\n<p>I have configured WebSecurity that uses my table for users.</p>\n\n<pre><code>WebSecurity.InitializeDatabaseConnection(\"DefaultConnection\", \"Users\", \"Id\", \"Email\", autoCreateTables: true);\n</code></pre>\n\n<p>Then in my migration configuration class I seed DB with new roles and add users to them. </p>\n\n<pre><code>internal sealed class Configuration : DbMigrationsConfiguration&lt;Infrastructure.KlepecV2Db&gt;\n{\n    public Configuration()\n    {\n        AutomaticMigrationsEnabled = true;\n    }\n\n    protected override void Seed(Infrastructure.KlepecV2Db context)\n    {\n        if(!Roles.RoleExists(\"Admin\"))\n        {\n            Roles.CreateRole(\"Admin\");\n        }\n        if (!Roles.RoleExists(\"Test1\"))\n        {\n            Roles.CreateRole(\"Test1\");\n        }\n        if(Membership.GetUser(\"user1\") != null)\n        {\n            if(!Roles.IsUserInRole(\"user1\",\"Admin\"))\n            {\n                Roles.AddUserToRole(\"user1\", \"Admin\");\n            }\n        }\n        if (Membership.GetUser(\"user2\") != null)\n        {\n            if (!Roles.IsUserInRole(\"user2\", \"Admin\"))\n            {\n                Roles.AddUserToRole(\"user2\", \"Admin\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So when I type \"update-database\" in NuGet console everything gets executed without errors. But if I look into webpages_Roles table its empty. Also webpages_UsersInRoles is empty.</p>\n\n<p>For testing I have removed Role.RoleExists() calls and updating database fails, becouse roles already exists. </p>\n\n<p>What am I missing here? Where are this roles stored?</p>\n"},{"tags":["database","sqlite","mongodb","embedded-database"],"answer_count":4,"favorite_count":3,"up_vote_count":9,"down_vote_count":0,"view_count":3796,"score":9,"question_id":6115637,"title":"Can mongodb be used as an embedded database?","body":"<p>I am working on a RSS reader application. And I need to find a backend database. I want the database be embedded because I don't want the users to install a database server.</p>\n\n<p>I know SQLite is a good choice, but I am wondering if there are any other nosql choices?</p>\n"},{"tags":["php","sql-server","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13109012,"title":"From PDO to SQLSRV","body":"<p>I used PDO for MYSql before but now i need to use Microsoft SQL Server Driver for PHP.</p>\n\n<p>I found the manual.\n<a href=\"http://php.net/manual/en/book.sqlsrv.php\" rel=\"nofollow\">http://php.net/manual/en/book.sqlsrv.php</a></p>\n\n<p>I use Example #2 to connect to the new SQL database:\n<a href=\"http://www.php.net/manual/en/function.sqlsrv-connect.php\" rel=\"nofollow\">http://www.php.net/manual/en/function.sqlsrv-connect.php</a></p>\n\n<p>How do I 'convert' the following (PDO mysql) to work with sqlsrv: </p>\n\n<pre><code>$username = 'test';\n\ntry {\n$conn = new PDO('mysql:host=$host;dbname=$database', $username, password);\n$stmt = $conn-&gt;prepare('SELECT username users WHERE username = :username LIMIT 1');\n$stmt-&gt;execute(array('username' =&gt; $username));\n\nif ($stmt-&gt;rowCount() &gt; 0) {\n$result = $stmt-&gt;fetch();\n\n    echo $result['username'];\n\n} else {\n    echo 'Nothing found.';\ndie();\n}\n} catch(PDOException $e) {\necho 'ERROR: ' . $e-&gt;getMessage();\n}\n</code></pre>\n"},{"tags":["database","django","relationship","circular"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13107436,"title":"Circular DB relationship in Django","body":"<p>I have following model (campaigns/models.py)</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import User\n\nclass Module(models.Model):\n    name = models.CharField(max_length=20)\n    def __unicode__(self):\n        return self.name\n\nclass TestType(models.Model):\n    name = models.CharField(max_length=20)\n    def __unicode__(self):\n        return self.name\n\nclass Test(models.Model):\n    PROTO_CHOICES = (\n        ('TCP','tcp'),\n        ('UDP','udp'),\n    )\n    module = models.ForeignKey(Module)\n    testtype = models.ForeignKey(TestType)\n    name = models.CharField(max_length=50, unique=True)\n    port = models.IntegerField(blank=True, null=True)\n    proto = models.CharField(max_length=3, blank=True, choices=PROTO_CHOICES)\n    payload = models.TextField()\n    sig_match = models.TextField(blank=True)\n    def __unicode__(self):\n        return self.name\n\nclass Campaign(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    tests = models.ManyToManyField(Test)\n    updated = models.DateTimeField(auto_now_add=True)\n    user = models.ForeignKey(User, editable=False)\n    def __unicode__(self):\n        return self.name\n\nclass CampaignRun(models.Model):\n    campaign = models.ForeignKey(Campaign)\n    name = models.CharField(max_length=50, unique=True)\n    run_start = models.DateTimeField()\n    run_end = models.DateTimeField()\n    updated = models.DateTimeField(auto_now=True)\n    user = models.ForeignKey(User, editable=False)\n    class Meta:\n    def __unicode__(self):\n        return self.name\n\nclass TestRun(models.Model):\n    campaignrun = models.ForeignKey(CampaignRun)\n    test = models.ForeignKey(Test)\n    test_start = models.DateTimeField()\n    test_end = models.DateTimeField()\n    alert = models.TextField(blank=True)\n    flag = models.IntegerField(blank=True, null=True)\n</code></pre>\n\n<p>…which resulted in following database (sqlite3):</p>\n\n<pre><code>                                                                       +-----------------------------+\n                                                                       |                             |\n   +---------------------------+     +------------------------------+  |     +--------------------+  |\n   | campaigns_testrun         |     | campaigns_test               |  |     | campaigns_module   |  |\n   +----------------+----------+     +----------------+-------------+  |     +------+-------------+  |\n   | id             | INT      |  +--| id             | INT         |--+  +--| id   | INT         |  |\n+--| campaignrun_id | INT      |  |  | module_id      | INT         |-----+  | name | VARCHAR(20) |  |\n|  | test_id        | INT      |--+  | testtype_id    | INT         |--+     +------+-------------+  |\n|  | test_start     | DATETIME |     | name           | VARCHAR(50) |  |                             |\n|  | test_end       | DATETIME |     | port           | INT         |  |     +--------------------+  |\n|  | alert          | TEXT     |     | proto          | VARCHAR(3)  |  |     | campaigns_testtype |  |\n|  | flag           | INT      |     | payload        | TEXT        |  |     +------+-------------+  |\n|  +----------------+----------+     | sig_match      | TEXT        |  +-----| id   | INT         |  |\n|                                    +----------------+-------------+        | name | VARCHAR(20) |  |\n|                                                                            +------+-------------+  |\n|                                                                                                    |\n|  +------------------------+                                +--------------------------+            |\n|  | campaigns_campaignrun  |     +--------------------+     | campaigns_campaign_tests |            |\n|  +-------------+----------+     | campaigns_campaign |     +-------------+------------+            |\n+--| id          | INT      |     +------+-------------+     | id          | INT        |            |\n   | campaign_id | INT      |-----| id   | INT         |-----| campaign_id | INT        |            |\n   | name        | INT      |     | name | VARCHAR(50) |     | test_id     | INT        |------------+\n   | run_start   | DATETIME |     +------+-------------+     +-------------+------------+\n   | run_end     | DATETIME |     \n   +-------------+----------+     \n</code></pre>\n\n<p>Here is the logic:</p>\n\n<ul>\n<li>A campaign is composed of tests</li>\n<li>A campaign can be run many times (campaignrun) and results in test results (test run).</li>\n<li>For each campaign run, tests related information are gathered from the test table</li>\n</ul>\n\n<p>Obviously, there is a circular relationship and the integrity of the database is only ensured by the application.</p>\n\n<p>However, from a database architect perspective, this circular relation is incorrect since it can results in integrity problems:</p>\n\n<ul>\n<li>In SQL directly or from the django admin module, it is possible to create tests in campaigns_testrun that are NOT in the campaign_tests table</li>\n</ul>\n\n<p>For the above reason, the solution would be to link campaigns_testrun with campaigns_campaign_tests directly. However, I don't think it is possible in Django.</p>\n\n<p>Should you have any idea how to deal with this, please be welcomed to comment.</p>\n\n<p>Thank you in advance for your help.</p>\n"},{"tags":["python","mysql","database","database-design","inverted-index"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13100166,"title":"Storing an Inverted index in mysql","body":"<p>I am working to create a very big inverted index terms. What method would you suggest?  </p>\n\n<p><strong>First</strong></p>\n\n<pre><code>termId - &gt; docId\n  a        doc2[locations],doc5[locations],doc12[locations] \n  b        doc5[locations],doc7[locations],doc4[locations] \n</code></pre>\n\n<p><strong>Second</strong></p>\n\n<pre><code>termId - &gt; docId\n  a        doc2[locations]\n  a        doc5[locations]\n  a        doc12[locations]\n  b        doc5[locations]\n  b        doc7[locations] \n  b        doc4[locations]  \n</code></pre>\n\n<p><strong>p.s</strong> Lucene is not an option </p>\n"},{"tags":["c#","database","linq","ado.net","datatable"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13108800,"title":"How do I fill the \"var\" from a LINQ query into the same datatable?","body":"<p>I am fairly new to LINQ and am trying to apply this query on a datatable called \"EmpInfo\" to sort it.</p>\n\n<pre><code>var sortedRows = (from myRow in EmpInfoDS.Tables[\"EmpInfo\"].AsEnumerable()\n                 orderby myRow[\"EmpID\"] ascending\n                 select myRow).ToArray();\n</code></pre>\n\n<p>This works. The next thing I am trying to do is to copy the results into the SAME datatable.</p>\n\n<pre><code>EmpInfoDS.Tables[\"EmpInfo\"].Clear();\nEmpInfoDS.Tables[\"EmpInfo\"] = sortedRows.CopyToDataTable();\n</code></pre>\n\n<p>The second line throws the following error:</p>\n\n<blockquote>\n  <p>\"Property or indexer 'System.Data.DataTableCollection.this[string]'\n  cannot be assigned to -- it is read only\"</p>\n</blockquote>\n\n<p>Please some one tell me how to deal with this. And if there is another way please tell me.</p>\n"},{"tags":["regex","database","ruby-on-rails-3","json"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13108884,"title":"Strip numbers from JSON response in Rails 3?","body":"<p>I am receiving a JSON post into my Rails 3 application. I am then parsing each of the values and inserting them into the application database. It's all working well but now I would like to modify the received values before inserting them into the database.</p>\n\n<pre><code>:subject =&gt; email_payload['subject']\n</code></pre>\n\n<p>As the above code shows, I am inserting the received value for 'subject' into the column named 'subject'.</p>\n\n<p>In the example above the received value is like this:</p>\n\n<pre><code>Results from Example Company - Surname/Firstname/[12345]\n</code></pre>\n\n<p>What I would like to do is strip everything out except the numerical value between the []. So the value that's inserted into the database is simply:</p>\n\n<pre><code>12345\n</code></pre>\n\n<p>I can, presumably, just select anything from 0-9 but how do I add regex to the received string?</p>\n\n<p>None of the following seem to work:</p>\n\n<pre><code>['subject.gsub!([0-9])']\n['subject'.gsub!([0-9])]\n['subject'].gsub!([0-9])\n</code></pre>\n\n<p>I've tested the Regex here <a href=\"http://rubular.com/r/AVFkm3A440\" rel=\"nofollow\">http://rubular.com/r/AVFkm3A440</a></p>\n"},{"tags":["php","database","upload","xampp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":49,"score":-2,"question_id":13108901,"title":"Notice: Undefined index: image in","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6098261/undefined-index-file\">Undefined index: file</a>  </p>\n</blockquote>\n\n\n\n<p>Hi I'm learning right now how to upload images to database, but I'm getting this error/notice</p>\n\n<blockquote>\n  <p>Notice: Undefined index: image in C:\\xampp\\htdocs\\Pildibaas\\index.php on line 19</p>\n</blockquote>\n\n<p>Here is my index.php whole code:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;Image upload&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form action=\"index.php\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n        File:\n        &lt;input type=\"file\" name=\"image\"&gt; &lt;input type=\"submit\" value=\"Upload\"&gt; \n    &lt;/form&gt;\n\n\n&lt;?php\nmysql_connect (\"localhost\", \"root\", \"\") or die (mysql_error());\nmysql_select_db (\"databaseimage\") or die (mysql_error());\n\n\n?&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Line 19 (this line gives error) cut out from index.php:</p>\n\n<pre><code>echo $file = $_FILES['image']['tmp_name'];\n</code></pre>\n\n<p>From google found that i need to change premission of tmp folder, but it allready shoud have all premissions it needs.</p>\n\n<p>In tutorial he dont get this error</p>\n\n<p>thank you</p>\n"},{"tags":["ruby-on-rails","database","postgresql","transactions","migration"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1350,"score":3,"question_id":1395672,"title":"How do I run a migration without starting a transaction in Rails?","body":"<p>I'm running some bizarre Postgres migration code from <a href=\"http://wiki.github.com/opencongress/opencongress\" rel=\"nofollow\">OpenCongress</a> and I'm getting this error:</p>\n\n<pre><code>RuntimeError: ERROR     C25001  MVACUUM cannot run inside a transaction block\nFxact.c  L2649   RPreventTransactionChain: VACUUM FULL ANALYZE;\n</code></pre>\n\n<p>So I'd like to try running it without getting wrapped by a transaction.</p>\n"},{"tags":["c#","database","encryption","oracle10g"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13108735,"title":"How to encrypt oracle 10g xe database in c#?","body":"<p>My database is Oracle 10g XE, and i dont have any idea on how to encrypt/decrypt data in database? i saw some post that i should use TDA(transparent Data Encryption)\n-Can u help me and give me step by step tutorial w coding sample?\nthanks in advance!!</p>\n"},{"tags":["database","design","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":3708367,"title":"How to calculate time left in a count down scenario","body":"<p>We have a requirement to count down based on a user taking a test. What would be a best way to tackle tracking the time taken by a user while taking the test.</p>\n\n<p>We do capture start time, end time. But the calculations go awry if the application server or the OS goes down during the test. We were thinking of using another variable to store the current time after the user submits an answer to the question. So (end time - current time) would reasonably account for the amount of time left.</p>\n\n<p>Is there an effective way to calculate the \"time left\" in such cases other than the one mentioned above?</p>\n\n<p>We would like the solution to be database agnostic as possible</p>\n"},{"tags":["database","sqlite","database-design","sqlite3","schema"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13104601,"title":"Choice of Database schema for storing folder system","body":"<p>I'm trying to implement an SQLite-based database that can store the full structure of a 100GB folder with a complex substructure (expecting 50-100K files). The main aim of the DB would be to get rapid queries on various aspects of this folder (total size, size of any folder, history of a folder and all it's contents, etc). </p>\n\n<p>However, I realized that finding <em>all</em> the files inside a folder, including all of it's sub-folders is not possible without recursive queries if I just make a \"file\" table with just a parent_directory field. I consider this as one of the most important features I want in my code, so I have considered two schema options for this as shown in the figure below.</p>\n\n<ol>\n<li><p>In schema 1, I store all the file names in one table and directory names in another table. They both have a \"parentdir\" item, but also have a text (apparently text/blob are the same in sqlite) field called \"FullPath\" that will save the entire path from the root to the particular file/directory (like /etc/abc/def/wow/longpath/test.txt). I'm not assuming a maximum subfolder limit so this could <em>theoretically</em> be a field that allows up to 30K characters. My idea is that then if I want all the files or directories belonging to any parent I just query the fullpath of the parent on this field and get the fileIDs</p></li>\n<li><p>In schema 2, I store only filenames, fileIDs and DirNames, DirIDs in the directories and files tables, respectively. But in a third table called \"Ancestors\", I store for each file a set of entries for each directory that is it's ancestor (so in the above example, test.txt will have 5 entries, pointing to the DirIDs of the folders etc,abc,def,wow and longpath respectively). Then if I want the full contents of any folder I just look for the DirID in this table and get all the fileIDs.</p></li>\n</ol>\n\n<p>I can see that in schema 1 the main limit might be full-text search of variable length text column and in schema 2 the main limit being that I might have to add a ton of entries for files that are buried deep within 100 directories or something. </p>\n\n<p>What would be the best of these solutions? Is there any better solution that I did not think of?</p>\n\n<p><img src=\"http://i.stack.imgur.com/Aasaa.png\" alt=\"Two possible schemas to keep rapid allow rapid retrieval of *all* the descendants of a directory in a complex directory structure\"></p>\n"},{"tags":["database","linq","query","entity-framework","linq-to-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13108228,"title":"Loading the last related record instantly for multiple parent records using Entity framework","body":"<p>Does anyone know a good approach using Entity Framework for the problem described below?</p>\n\n<p>I am trying for our next release to come up with a performant way to show the placed orders for the logged on customer.\nOf course paging is always a good technique to use when a lot of data is available I would like to see an answer without any paging techniques.</p>\n\n<p>Here's the story: a customer places an order which gets an orderstatus = PENDING. Depending on some strategy we move that order up the chain in order to get it APPROVED.\nEvery change of status is logged so we can see a trace for statusses and maybe even an extra line of comment per status which can provide some extra valuable information to whoever sees this order in an interface.</p>\n\n<p>So an Order is linked to a Customer. One order can have multiple orderstatusses stored in OrderStatusHistory.</p>\n\n<p>In my testscenario I am using a customer which has 100+ Orders each with about 5 records in the OrderStatusHistory-table.\nI would for now like to see all orders in one page not using paging where for each Order I show the last relevant Status and the extra comment (if there is any for this last status; both fields coming from OrderStatusHistory; the record with the highest Id for the given OrderId).</p>\n\n<p>There are multiple scenarios I have tried, but I would like to see any potential other solutions or comments on the things I have already tried.</p>\n\n<ul>\n<li>Trying to do Include() when getting Orders but this still results in multiple queries launched on the database. Each order triggers an extra query to the database to get all orderstatusses in the history table. So all statusses are queried here instead of just returning the last relevant one, plus 100 extra queries are launched for 100 orders. You can imagine the problem when there are 100000+ orders in the database.</li>\n<li>Having 2 computed columns on the database: LastStatus, LastStatusInformation and a regular Linq-Query which gets those columns which are available through the Entity-model.\nThe problem with this approach is the fact that those computed columns are determined using a scalar function which can not be changed without removing the formula from the computed column, etc...</li>\n</ul>\n\n<p>In the end I am very familiar with SQL and Stored procedures, but since the rest of the data-layer uses Entity Framework I would like to stick to it as long as possible, even though I have my doubts about performance.\nUsing the SQL approach I would write something like this:</p>\n\n<pre><code>WITH cte (RN, OrderId, [Status], Information)\nAS\n(\nSELECT ROW_NUMBER() OVER (PARTITION BY OrderId ORDER BY Id DESC), OrderId,    [Status], Information\nFROM OrderStatus\n)\nSELECT o.Id, cte.[Status], cte.Information AS StatusInformation, o.* FROM [Order] o\nINNER JOIN cte ON o.Id = cte.OrderId AND cte.RN = 1\nWHERE CustomerId = @CustomerId\nORDER BY 1 DESC;\n</code></pre>\n\n<p>which returns all orders for the customer with the statusinformation provided by the Common Table Expression.</p>\n\n<p>Does anyone know a good approach using Entity Framework?</p>\n"},{"tags":["php","mysql","database","query"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":156,"score":1,"question_id":10187088,"title":"MySQL - Getting the top-level parent id in a hierarchy","body":"<p>Here's my table structure...</p>\n\n<p>TABLE : <strong>position_hierarchy_level</strong></p>\n\n<pre><code>id parent_position_id position_id\n 1 1                  2\n 2 2                  3\n 3 3                  4\n 4 4                  5\n 5 5                  6\n 6 6                  7\n 7 7                  8\n 8 8                  9\n 9 9                  10\n 10 10                11\n 11 11                12\n 12 12                13\n 13 13                14\n 14 14                15\n</code></pre>\n\n<p>My query for getting the <code>parent_position_id</code> of a certain <code>position_id</code> is:</p>\n\n<pre><code>select `parent_position_id` from `position_hierarchy_level` where position_id= 15;\n</code></pre>\n\n<p>But how can I get the top-most parent of a certain <code>position_id</code>? For example, the top-most <code>parent_position_id</code> of <code>position_id</code> 15 would be <code>1</code>.</p>\n\n<p>Is there a convenient way to get this value using a single query? Or do I need to create a loop in PHP?</p>\n"},{"tags":["java","mysql","database","derby","bufferedinputstream"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":530,"score":0,"question_id":8969639,"title":"Getting java.lang.outOfMemoryError when Storing Large Files to a MySQL database using Java's BufferedInputStream","body":"<p>Im currently experimenting on storing large files on a MySQL 5.5 database using java. My main class is called FileDatabaseTest. It has the following method:</p>\n\n<pre><code>import java.sql.*;\nimport java.io.*;\n\n...\n\npublic class FileDatabaseTest {\n\n...\n\nprivate void uploadToDatabase(File file, String description) {\n        try {\n            PreparedStatement stmt = connection.prepareStatement(\n                \"INSERT INTO FILES (FILENAME, FILESIZE, FILEDESCRIPTION, FILEDATA) \" +\n                    \"VALUES (?, ?, ?, ?)\");\n            stmt.setString(1, file.getName());\n            stmt.setLong(2, file.length());\n            stmt.setString(3, description);\n            stmt.setBinaryStream(4, new FileInputStream(file));\n            stmt.executeUpdate();\n            updateFileList();\n            stmt.close();\n        } catch(SQLException e) {\n            e.printStackTrace();\n        } catch(FileNotFoundException e) {//thrown by FileInputStream constructor\n            e.printStackTrace();\n        } catch(SecurityException e) { //thrown by FileInputStream constructor\n            e.printStackTrace();\n        }\n    }\n\n...\n\n}\n</code></pre>\n\n<p>The database has only one Table - the \"FILES\" table, and it has the following columns.</p>\n\n<pre><code>ID - AUTOINCREMENT, PRIMARY KEY\n\nFILENAME - VARCHAR(100)\n\nFILESIZE - BIGINT\n\nFILEDESCRIPTION - VARCHAR(500)\n\nFILEDATA - LONGBLOB\n</code></pre>\n\n<p>The program is working fine when uploading small documents, but when I upload files like 20MB, the upload process is very slow. So I tried putting the FileInputStream inside a BufferedInputStream in the following code:</p>\n\n<pre><code>stmt.setBinaryStream(4, new BufferedInputStream(new FileInputStream(file));\n</code></pre>\n\n<p>The upload process became very fast. Its like just copying the file to another directory. But when I tried to upload files more than 400mb, I got the following error:</p>\n\n<pre><code>Exception in thread \"Thread-5\" java.lang.OutOfMemoryError: Java heap space\n    at com.mysql.jdbc.Buffer.ensureCapacity(Buffer.java:156)\n    at com.mysql.jdbc.Buffer.writeBytesNoNull(Buffer.java:514)\n    at com.mysql.jdbc.PreparedStatement.escapeblockFast(PreparedStatement.java:1169)\n    at com.mysql.jdbc.PreparedStatement.streamToBytes(PreparedStatement.java:5064)\n    at com.mysql.jdbc.PreparedStatement.fillSendPacket(PreparedStatement.java:2560)\n    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2401)\n    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2345)\n    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2330)\n    at FileDatabaseTest$2.run(FileDatabaseTest.java:312)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>So I tried using an embedded Apache-Derby database instead of MySQL, and I didn't get the error. I was able to upload 500MB to 1.5G files in the Derby database using the BufferedInputStream. I also observed that when using the BufferedInputStream with the MySQL server in uploading large files, the JVM is eating a lot of memory, while when I used it in the Derby database, the JVM's memory usage is maintaned at around 85MB TO 100MB. </p>\n\n<p>I am relatively new to MySQL and I am just using its default configurations. The only thing I changed in its configuration is the \"max_allowed_packet\" size so I can upload up to 2GB file to the database. So I wonder where the error came from. Is it a bug of MySQL or the MySQL connector/J? or is there something wrong with my code? </p>\n\n<p>What I am trying to achieve here is to be able to upload large files (up to 2GB) to the MySQL server using java, without increasing the java heap space.</p>\n"},{"tags":["c#","database","login-system"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13106985,"title":"how to make login system C#","body":"<p>i have problem with my codes here regarding with login system. when i add 1 username and password in my database, it work properly. but when i add another 1 username and password in database, my else statement will pop up twice. when 3 username and password my else statement will pop up trice. so on and so for.. here's my code.. if you have there better code than mine, please show it. </p>\n\n<pre><code>SqlConnection con = new SqlConnection(\"Data Source=.\\\\SQLEXPRESS;AttachDbFilename=C:\\\\Users\\\\JEDMARC\\\\Desktop\\\\VS v1.0.0\\\\Voting System v1.0.0\\\\Voting System v1.0.0.mdf;Integrated Security=True;User Instance=True\");\n    SoundPlayer t = new SoundPlayer(@\"C:\\Users\\JEDMARC\\Documents\\welcome.wav\");\n\n    private void btnEnter_Click(object sender, EventArgs e)\n    {\n if (cmbToE.Text == \"HomeRoom Election\" &amp;&amp; comboBox1.Text == \"English\")\n        {\n            con.Open();\n\n            SqlCommand da = new SqlCommand(\"SELECT * FROM RegistrationTable\", con);\n\n            SqlDataReader reader = null;\n            reader = da.ExecuteReader();\n            while (reader.Read())\n            {\n                if (tbUsername.Text == (reader[\"Username\"].ToString()) &amp;&amp; tbPassword.Text == (reader[\"Password\"].ToString()))\n                {\n                    MessageBox.Show(\"*Choose your best candidate. Use a Combobox.\\n\\n*After choosing, click Submit button to pass your vote!\\n\\n                           VOTE WISELY!\", \"How to vote?\", MessageBoxButtons.OK, MessageBoxIcon.Asterisk);\n                    UserHRForm x = new UserHRForm();\n                    x.Show();\n                    t.Play();\n                    this.Close();\n                }\n                else\n                {\n                    SystemSounds.Hand.Play();\n                    MessageBox.Show(\"Access Denied! Account doesn't exist!\", \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Hand);                        \n                }\n            }\n        }\n}\n</code></pre>\n"},{"tags":["database","testing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13107366,"title":"How to test database access code","body":"<p>I have a db layer. And I want to test db CRUD results\nI want every single test to be independent, so I just create tables in setUp(), and drop all tables in tearDown(). So is there any good way to test db access independently? I mean I don't need to drop all tables in every test</p>\n"},{"tags":["sql","database","ms-access","normalization","etl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":13106839,"title":"Automated normalization to 1NF (removal of duplicate columns)","body":"<p>I have a table that looks like this:</p>\n\n<pre><code>Person  Project1 Project2 Project3 WorkedWith1  WorkedWith2  WorkedWith3\nJohn    A        B        Null     Ann          Mary         Null\nAnn     A        B        C        Jeff         Null         Null\n....\n</code></pre>\n\n<p>I am looking for a tool that would help me to convert it to 1NF, without me writing any code.</p>\n\n<p>Specifically, in this example, I would tell the tool that I want to rearrange the data into tables <code>Persons</code>, <code>Projects</code>, <code>Assigned</code> (which links <code>Persons</code> to <code>Projects</code> in a many-to-many relationship), and <code>WorkedWith</code> (which links <code>Persons</code> to <code>Persons</code> in a many-to-many relationship). All I want the tool to do is move the data around according to these instructions.</p>\n\n<p>I don't really care if this tool is part of some DBMS, or simply works with plain text (CSV) files - without touching any specific database. I tried Table Analyzer in MS Access 2010, but unless I missed something, it cannot solve this particular task. (It works perfectly in simpler cases though.)</p>\n\n<p>Note: I am familiar with normalization; I'm not trying to learn anything - just trying to save myself time. I also understand why an all-purpose tool for database normalization doesn't exist. I am hoping that my case is so simple and common that there might be a tool that would handle it. I also don't mind learning a relatively sophisticated tool.</p>\n"},{"tags":["database","sharding"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":873,"score":2,"question_id":788829,"title":"How to create unique row ID in sharded databases?","body":"<p>In a non-sharded DB, I could just use auto-increment to generate a unique ID to reference a specific row.</p>\n\n<p>I want to shard my DB, say into 12 shards. Now when I insert into a specific shard, the auto-increment ID is no longer unique.</p>\n\n<p>Would like to hear anyone's experience in dealing with this problem. </p>\n"},{"tags":["c#","sql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13106792,"title":"Need a lightweight SQL database for C# supporting LINQ","body":"<p>I am making a simple project, and it needs to have a SQL database and I thought using the full SQL Server 2012 would be an overkill.</p>\n\n<p>I want simple and lite database supporting SQL and LINQ queries. I am fairly new to doing databases using C# (only DB related work I did before was MySQL using PHP) and the application is pretty small, only 2 tables atmost, so it better be pretty simple and easy to install and run.</p>\n"},{"tags":["c++","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13106706,"title":"Which scenario is more efficient?","body":"<p>ALL,\nI have a DB with some data.\nI also have a C++ application that communicates with the DB.</p>\n\n<p>Which scenario is more efficient?</p>\n\n<p>Scenario 1:</p>\n\n<ol>\n<li>User hit \"Edit Data\" button.</li>\n<li>Program reads data from DB and presents it for editing</li>\n<li>User edit the data and hit \"Save\" button</li>\n<li>Program creates new object with the newly saved data then makes the comparison with the old object.</li>\n<li>Program issues some UPDATE statements.</li>\n</ol>\n\n<p>Scenario 2:</p>\n\n<ol>\n<li>Steps 1-3 are the same.</li>\n<li>Program overwrites an old object data with the new data.</li>\n<li>Program issue DELETE/INSERT statements in one transaction.</li>\n</ol>\n\n<p>I'm inclined to say scenario 2.</p>\n"},{"tags":["android","database","cursor"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":397,"score":1,"question_id":3105080,"title":"Output values found in cursor to logcat? - Android","body":"<p>I'm trying to debug an issue myself.  May post it later if I fail ;-)</p>\n\n<p>My logcat log states <code>\"android.database.CursorIndexOutOfBoundsException: Index -1 requested, with a size of 2\"</code></p>\n\n<p>I would like to use <code>log.v(\"desc\", cursor)</code> to show what the cursor returns.  Is there a way to specify a value from it like cursor[0] ?</p>\n"},{"tags":["sql-server","database","microsoft"],"answer_count":7,"favorite_count":1,"up_vote_count":16,"down_vote_count":0,"view_count":2761,"score":16,"question_id":681282,"title":"How come the message \"Table is marked for deletion\" keeps appearing?","body":"<p>Using SQL Server 2008 and I'm doing some schema construction in the Management Studio designer.</p>\n\n<p>I created a table early in the process called \"Animal\", but then decided to delete shortly after. I deleted it via the tree view in Management Studio (right-click delete).</p>\n\n<p>Now I'm late in the process, I would like to recreate the table \"Animal\" but with different fields.</p>\n\n<p>The second time round with Animal gets created fine, but when I try to add the table to my diagram I get the message \"Table 'Animal' is marked for deletion, can't be added to the diagram or opened in the table designer\".</p>\n\n<p>What's the deal? How can I use this table normally again and not suffer from older table naming conflicts?</p>\n\n<p>Alternatively, if the table is marked for deletion, can I actually invoke deletion somehow? Then recreate another table with the same name.</p>\n\n<p>This is a little annoying. Would appreciate any help.</p>\n"},{"tags":["php","mysql","database","forms","user-input"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13105730,"title":"PHP User Editable Form","body":"<p>I am trying to go into a database and get information.  Then put it into a form so the user can edit there information and then save it.</p>\n\n<p>Here is my code on how I think I would do it.  I don't know what I am doing wrong.  How would I go about doing this for a drop down menu?</p>\n\n<pre><code>&lt;?php\ninclude(\"login_check.php\");\ninclude(\"dbconnect.php\");\nmysql_select_db(\"maxgee_close2\");\n$username = mysql_real_escape_string($_COOKIE['maxgee_me_user']);\n$result = mysql_query(\"select user_id from users where username = '$username'\");\n$row = mysql_fetch_array($result);    \nmysql_free_result($result);\n$eventinfo =mysql_query(\"SELECT `event_id`, `user_id`, `event_name`, `event_category`, `event_description`, `event_admission`, `event_amount`, `event_start_date`, `event_end_date`, `event_location`, `event_family` FROM `events_main` WHERE `user_id`='{$row['user_id']}'\") ;\n?&gt;\n&lt;form action=\"sendeventdata.php\" method=\"post\"&gt;\n Event Name:&lt;input type=\"text\" name=\"event_name\" value=\"&lt;?php echo '{$row['event_name']}';?&gt;\" /&gt;\n</code></pre>\n"},{"tags":["php","mysql","database","system","achievements"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":9,"view_count":37,"score":-9,"question_id":13105611,"title":"PHP and MySQL Achievement system","body":"<p>Okay, so I'm wanting to make an achievement system with PHP and MySQL. The way I'm wanting to make it is if someone were to have won 50 fights they would gain a bronze achivement and gain a reward. How would this be possible?</p>\n"},{"tags":["c#","sql-server","database","sql-server-2008"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":208,"score":3,"question_id":12292644,"title":"Speed up update of 185k rows in SQL Server 2008?","body":"<p>I have a binary file with about <strong>185k</strong> rows in it. <code>C#</code> parses file in seconds. What would be the best way to update <code>MSSQL</code> table with that data?</p>\n\n<p>What I've tried:</p>\n\n<ol>\n<li>Easiest way - read binary row, parse, update table. The whole process takes around 2 days to update all the data.</li>\n<li>Combine 200 update queries and send them at once to the MSSQL. In this case, update takes 8 to 10 hrs.</li>\n<li>Combine 500+ queries into single one. Works faster, but drops timeout exceptions time to time, so some updates are not going through.</li>\n</ol>\n\n<p>Any advice on how to speed up the update process?</p>\n"},{"tags":["ruby","database","csv","import","rails-postgresql"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13105284,"title":"importing csv file into postgresql through Rubymine","body":"<p>I am a newbie at trying to import CSV files into a Postgresql DB through rubymine. I am using rails 3.2.6 </p>\n\n<p>CSV file has the following fields:\n ID,media_code,active_status,comments</p>\n\n<p>I have a Postgresql table already created with the same fields with no rows and want to import every field except the ID.</p>\n\n<p>how could I use the Postgresql COPY command and where would I put the code within ruby mine. A real newbie question. </p>\n\n<p>Your help would be much appreciated. </p>\n\n<p>thanks in advance</p>\n"},{"tags":["database","ruby-on-rails-3","activerecord","automation","rails-migrations"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13104649,"title":"Given an array of (sanitized) attribute headers (metatags), how might I automatically create columns for each in my database based on those tags?","body":"<p>So here is the unformatted list (this one, an income statement, has over row headers like these, so yes, automation is the way to go here).</p>\n\n<p>[\"Revenue\", \"Other Revenue, Total\", \"Total Revenue\", \"Cost of Revenue, Total\"...]</p>\n\n<p>Here is the list after I ran each array entity (string) through my simple little sanitizer program, <code>CleanZeeString.new.go(str)</code>.</p>\n\n<p>[\"revenue\", \"other_revenue_total\", \"total_revenue\", \"cost_of_revenue_total\"...]</p>\n\n<p>So, I want to access Rails methods that will allow me to at least partially automate the database column creation process and migration, because this list has over 50 row headers, there are more lists, and I simply do not believe in doing things by hand anymore.</p>\n"},{"tags":["database","table","design","naming","convention"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13104747,"title":"Table naming conventions for ref tables vs storage tables","body":"<p>By ref table im referring to a kind of entity 'type' table\nand by storage table im referring to a table that stores a lot of changing information.</p>\n\n<p>For example:</p>\n\n<p>I have a 'user' table named as such, which is a storage table since it can hold an indeterminate amount of users.</p>\n\n<p>Then i have 'roles' table, which holds role information, it is a type table, as there are many users for each role.</p>\n\n<p>I then have a 'profiles' table, which hold a one to one relationship with the 'user' table.</p>\n\n<p>Now, i've tried this:<br />\n- user<br />\n- userrole<br />\n- userprofile</p>\n\n<p>However, this convention to me implies that the roles and profile tables each have a one to one relationship with user whereas i know the role table does not.</p>\n\n<p>How to people usually name tables for semantic purposes for the example i described?</p>\n\n<p>thanks</p>\n"},{"tags":["c#","database","datatable","dataset","foreign-keys"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13103208,"title":"C# datarow getchildrow returns no rows","body":"<p>In my DB there are three tables\nR(id,num)\nRT(Rid,Tid)\nT(id,hour)\nAnd there is 1 to many relationship between (R and RT) and (T and RT).\nI am using a Dataset to access my DB.</p>\n\n<p>Now I am using code below to retrieve data and it returns empty list:</p>\n\n<pre><code>foreach (mDataSet.RTRow rtRow in rRow.GetRTRows())\n      console.writeln(rtRow.Tid);//never reaches this line\n</code></pre>\n\n<p>Code for inserting value:</p>\n\n<pre><code>rTableAdapter.insert(r.id,num);\ntTableAdapter.insert(t.id,hour);\nrtTableAdapter.insert(r.id,t.id);\n</code></pre>\n\n<p>Does anyone know what is the problem that I get now rows</p>\n"},{"tags":["database","lucene","couchdb","elasticsearch","n-gram"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13103605,"title":"Elasticsearch - River and nGrams","body":"<p>I am using ES with the river plugin, as I am using a couchDB and I am trying to use nGrams for my queries.\nI have done basically everything I need except for the fact that when someone inputs a space, the query doesn't work properly. That is because ES tokenizes every element of the query splitting it by the space.</p>\n\n<p>Here is what I need to do:</p>\n\n<ul>\n<li><p>Query for part of a text in a string:</p>\n\n<p>query: \"Hello Wor\"  response: \"Hello World, Hello Word\" / excluded \"Hello, World, Word\"</p></li>\n<li><p>Sort results by criteria I specify;</p></li>\n<li><p>Case insensitive.</p></li>\n</ul>\n\n<p>Here is what I have done, following this question: <a href=\"http://stackoverflow.com/questions/6467067/how-to-search-for-a-part-of-a-word-with-elasticsearch\">How to search for a part of a word with ElasticSearch</a></p>\n\n<pre><code>curl -X PUT  'localhost:9200/_river/myDB/_meta' -d '\n{\n\"type\" : \"couchdb\",\n\"couchdb\" : {\n    \"host\" : \"localhost\",\n    \"port\" : 5984,\n    \"db\" : \"myDB\",\n    \"filter\" : null\n},\n   \"index\" : {\n    \"index\" : \"myDB\",\n    \"type\" : \"myDB\",\n    \"bulk_size\" : \"100\",\n    \"bulk_timeout\" : \"10ms\",\n    \"analysis\" : {\n               \"index_analyzer\" : {\n                          \"my_index_analyzer\" : {\n                                        \"type\" : \"custom\",\n                                        \"tokenizer\" : \"standard\",\n                                        \"filter\" : [\"lowercase\", \"mynGram\"]\n                          }\n               },\n               \"search_analyzer\" : {\n                          \"my_search_analyzer\" : {\n                                        \"type\" : \"custom\",\n                                        \"tokenizer\" : \"standard\",\n                                        \"filter\" : [\"standard\", \"lowercase\", \"mynGram\"]\n                          }\n               },\n               \"filter\" : {\n                        \"mynGram\" : {\n                                   \"type\" : \"nGram\",\n                                   \"min_gram\" : 2,\n                                   \"max_gram\" : 50\n                        }\n               }\n    }\n}\n}\n'\n</code></pre>\n\n<p>I will then add a mapping for the sorting:</p>\n\n<pre><code>curl -s -XGET 'localhost:9200/myDB/myDB/_mapping' \n{\n\"sorting\": {\n       \"Title\": {\n            \"fields\": {\n                \"Title\": {\n                     \"type\": \"string\"\n                  }, \n                \"untouched\": {\n                    \"include_in_all\": false, \n                    \"index\": \"not_analyzed\", \n                    \"type\": \"string\"\n                    }\n               }, \n              \"type\": \"multi_field\"\n         },\n        \"Year\": {\n              \"fields\": {\n                   \"Year\": {\n                       \"type\": \"string\"\n                       }, \n                       \"untouched\": {\n                           \"include_in_all\": false, \n                           \"index\": \"not_analyzed\", \n                           \"type\": \"string\"\n                         }\n                     }, \n                    \"type\": \"multi_field\"\n        }\n     }\n    }\n   }'\n</code></pre>\n\n<p>I have added all the info I use just to be complete.\nAnyway, with this setup, that I suppose should work, whenever I try to get some results, the space is still used for splitting my query, example:</p>\n\n<pre><code>  http://localhost:9200/myDB/myDB/_search?q=Title:(Hello%20Wor)&amp;pretty=true\n</code></pre>\n\n<p>Returns anything that contains \"Hello\" and \"Wor\" (I normally don't use the parentheses, but I have seen them in an example, still the results seem very similar).</p>\n\n<p>Any help is <strong>truly</strong> appreciated as this is bugging me quite a lot. </p>\n\n<p><strong>UPDATE</strong>:\nAt the end, I realized that I didn't need a nGram. A normal index would do; simply replacing the whitespace of the query with ' AND ' would do the job.</p>\n\n<p>Example:</p>\n\n<pre><code> Query: \"Hello World\"  ---&gt;  Replaced as \"(*Hello And World*)\"\n</code></pre>\n"},{"tags":["database","database-design","user-permissions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13102872,"title":"Better way to represent user roles in database","body":"<p>Is representing user permissions better in the user table or better in its own permissions table?</p>\n\n<p><strong>Permissions in User table</strong><br/>\nPutting permissions in the user table means making a column for each permission in the user table.  An advantage is queries should run faster because no joins are necessary when relating users to user permissions.  A disadvantage is that having many permissions columns clutters the user table.</p>\n\n<p><strong>Permissions in Permission table joined to User table with many-to-many relationship</strong><br/>\nDoing it this way cleanly separates out the permissions from the user table, but requires a join across two tables to access user permissions.  Database access might be slower, but database design seems cleaner.  </p>\n\n<p>Perhaps keeping permissions in a separate table is better when there are many permissions.  What are other considerations in making this decision, and which design is better in various situations?</p>\n"},{"tags":["mysql","database","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13103724,"title":"Selecting data in a multiuser environment","body":"<p>I'm building a crm based system that will be utilized simultaneously by about 10 users.</p>\n\n<p>What is the best method to prevent the same record being open, used and saved against if it is already open by another users.</p>\n\n<p>I'm trying to second guess the chance scenario of user 2 overwriting user 1s changes with in a few seconds opened.</p>\n"},{"tags":["android","database","sqlite","audio","android-sqlite"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1336,"score":1,"question_id":3165061,"title":"Android - Storing Audio Files into the SQLite Database","body":"<p>I am developing an application for Android phone. In this I need to use at least 400 audio files which can be played for some respective texts. Now my question is which is the optimized way to do this..</p>\n\n<p>One solution is putting all the audio files in the resource folder and referring from there, this will never be a feasible solution as the application size will increase. Is there any way to convert the audio file into some format and dump into the SQLite database and  retrieve flexibly?</p>\n\n<p>Any suggestions or guidance is highly appreciated.</p>\n"},{"tags":["database","query","function","google-spreadsheet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13088988,"title":"Alter data in google spreadsheet sheet via other sheet in the same spreadsheet","body":"<p><strong>Question:</strong></p>\n\n<p>Google Spreadsheet is great for viewing/filtering data, and great as DB of applications.<br/>\nBut is it possible to edit data on a sheet via another sheet?</p>\n\n<p><em><strong>Functional description:</em></strong></p>\n\n<p>We are a small group (5) non nerd that keep track of tasks we do. \nWe do this via a google spreadsheet, this works great :)\nWe recieve tasks via the phone and these get added to the sheet1.\nWhen someone pickups a task he/she addes his/her name to the appropriate column in sheet1 of the task (row).\nWe keep track of status updates etc, per task.</p>\n\n<p><em><strong>Reason for change:</em></strong></p>\n\n<p>Sheet1 of this spreadsheet is now to big to get a clear overview of the tasks of 1 person.\nSo I have 20 tasks in the big spreadsheet, but since ordering is not handy when new tasks are added, it would be nice to have a seperate sheet per person.\nThis can easily be done via the query() function.\nBut this is a one-way street. you can not alter this data and get it back in the main sheet.\nAnd using sheet1 as a report is also not handy, because how do you add new tasks?</p>\n\n<p><em><strong>Question rephrase:</em></strong></p>\n\n<ol>\n<li><p>So is it possible to alter data in the \"main\" sheet via an subset of\nthe data, available in an other sheet of the same spreadsheet?</p></li>\n<li><p>If not, is it possible to use a google spreadsheet as in interface\n(read/write/update) to an sqlite database in google app engine ?</p></li>\n</ol>\n"},{"tags":["mysql","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13103461,"title":"Mysql database design in a many to many relationship","body":"<p>I am designing a database which relates products and the stores which carry them.</p>\n\n<p>Many of the stores will carry the same products as each other.\nAs well, obviously, there will be many types of products per store.</p>\n\n<p>I tried to do some research on the best way to make the table but all the resources i read online are so technically exhausting and logically formalized that it takes away from ability to intuitively understand what they're saying.</p>\n\n<p>I keep hearing people say that you should use a junction table, but I dont understand how that would be applicable in my case.</p>\n\n<p>What i wanted to do was create one row for \"Store\" category, and then have separate rows \"product_1\", \"product_2\" \"product_x\" etc. where i would list each of the products the store sells, but i'm not sure if that's good form.</p>\n\n<p>Furthermore, some stores might have 50 products, meaning i would need 50 rows. I'm not sure if there's a way around this or not.</p>\n\n<p>Ultimately, my question is, by standard conventions, what is the ideal database structure for this kind of relationship? </p>\n"},{"tags":["database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":18,"score":-4,"question_id":13103635,"title":"practical introduction to databases?","body":"<p>I'm looking for a practical introduction to databases to help me be productive with web development (or in any other area which use them). I want some sort of a comparison of the different types of databases, how they're used, and the features that are available in each in order to quickly get up and running.</p>\n\n<p>The textbooks that you find on amazon either</p>\n\n<ol>\n<li>go into a lot of theory to the point where I don't know what is useful</li>\n<li>don't discuss different types</li>\n<li>discuss it in the context of something like PHP, which I don't use (say I'm using ruby or python)</li>\n</ol>\n"},{"tags":["php","sql-server","database","linux"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13103480,"title":"How to connect to a remote MSSQL database with PHP on Linux?","body":"<p>I've got a problem and there doesn't seem to be a strait forward solution.</p>\n\n<p>I'm running a Linux server with PHP and need to connect to a MSSQL database on a remote server (I don't have control over this server). Speaking to my host, they say that it's not possible eto install the MSSQL extensions on a linux box as they are only available on Windows Servers. So, I'm looking to see what other options i have.</p>\n\n<p>Any ideas how I can do this on a linux box?!</p>\n"},{"tags":["sql","database","postgresql","rank"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13103096,"title":"PostgreSQL top 5 populous counties in each state","body":"<p>I have a problem for my databases class that I can't figure out. </p>\n\n<p>I have a table called <strong>counties</strong> which is like this:</p>\n\n<pre><code>state_code | name | population\n           |      |\n           |      | \n</code></pre>\n\n<p>(there are multiple counties within each state_code)</p>\n\n<p>There is another table called <strong>states</strong> which is just</p>\n\n<pre><code>state_code | name \n           |\n           |\n</code></pre>\n\n<p>Anyway I need a query that returns the scheme (state_name, county_name, county_population), that lists in order of state name, the five most populous county names in each state in descending order of population, together with the population of those counties.</p>\n\n<p>I have a query that produces the right scheme, but it shows too many results, not just the top 5:</p>\n\n<pre><code>SELECT state.name AS state_name, county.name AS county_name, county.population \nFROM state JOIN county ON state.code = county.state_code \nGROUP BY state.name, county.name, county.population\nORDER BY state.name, county.population DESC\n</code></pre>\n\n<p>I have attempted more complex solutions involving ranking, however our school only has PostgreSQL version 8.3 which does not have PARTITION OVER or RANK() which makes things very difficult. </p>\n\n<p>Thanks</p>\n"},{"tags":["database","google-app-engine","cloud","geospatial"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12946475,"title":"Geospatial Database Cloud Server","body":"<p>Are there any cloud hosting solutions for geospatial data? I am currently writing a directory style app where businesses can sign up and then users can find nearby ones. </p>\n\n<p>I am considering Google App Engine for this, but from what I can tell the GeoModel code is quite expensive (up to tens of thousands of dollars a year) to run since Google updated the pricing of App Engine. It doesn't seem like App Engine's database is really suited to this kind of query (though the SQL solution may be an answer).</p>\n\n<p>I was hoping to find a service where I could send off a HTTP request to add data (a business' id, name and icon url) to a database, and then another one to find a list of businesses that are nearby to a given point. A service is preferable as this is work done for a client and we would like the solution to be managed with as little interaction from us or the client needed as possible.</p>\n\n<p>EDIT:\nI just found <a href=\"http://cartodb.com\" rel=\"nofollow\">cartodb.com</a> which uses PostgreSQL and is reasonably priced. Are the any other alternatives?</p>\n"},{"tags":["sql","database","oracle","indexes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13042997,"title":"How to create unique index on fields with possible null values (Oracle 11g)?","body":"<p>Here is the sample table with 3 columns (ID, UNIQUE_VALUE, UNIQUE_GROUP_ID)</p>\n\n<p>I want below records can be allowed:</p>\n\n<pre><code>(1, NULL, NULL)\n(2, NULL, NULL)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>(3, NULL, 7)\n(4, 123, 7)\n</code></pre>\n\n<p>or (<strong>Note: this condition is not allowed in <code>unique index</code> nor <code>unique constraint</code></strong>)</p>\n\n<pre><code>(5, NULL, 7)\n(6, NULL, 7)\n</code></pre>\n\n<p>and these can't be allowed:</p>\n\n<pre><code>(7, 123, 7)\n(8, 123, 7)\n</code></pre>\n\n<p>I created a unique index on last 2 columns, but only the first 2 examples can be allowed. </p>\n\n<p>Is it possible to let db check the uniqueness of these 2 columns only when both are not null?</p>\n"},{"tags":["database","postgresql","gis","postgis"],"answer_count":2,"favorite_count":5,"up_vote_count":15,"down_vote_count":0,"view_count":4391,"score":15,"question_id":2523561,"title":"How do I convert a latitude/longitude pair into a PostGIS geography type?","body":"<p>I'm trying to load a bunch of latitude/longitude pairs into a PostGIS geography type so as to be able to query by location. </p>\n\n<p>In particular I have a table with float latitude and longitude columns and a <code>geography(Point, 4326)</code> column. I would like to do</p>\n\n<pre><code>update mytable set geography = ???\n</code></pre>\n\n<p>The documentation appears to suggest that the following should work:</p>\n\n<pre><code>update mytable set geography = ST_GeogFromText('POINT(' || latitude || ' ' ||\n                                                           longitude || ')');\n</code></pre>\n\n<p>It doesn't. I don't know what it's interpreting this point as meaning, but it only allows the longitude to lie between -90 and 90, so it's clearly not a longitude. </p>\n\n<p>So, what do I do? </p>\n"},{"tags":["php","database","orm"],"answer_count":36,"favorite_count":143,"up_vote_count":253,"down_vote_count":0,"view_count":87639,"score":253,"question_id":108699,"title":"Good PHP ORM Library?","body":"<p>Is there a good object-relational-mapping library for PHP? </p>\n\n<p>I know of <a href=\"http://www.php.net/manual/en/intro.pdo.php\">PDO</a>/ADO, but they seem to only provide abstraction of differences between database vendors not an actual mapping between the domain model and the relational model. I'm looking for a PHP library that functions similarly to the way <a href=\"http://en.wikipedia.org/wiki/Hibernate_%28Java%29\">Hibernate</a> does for Java and NHibernate does for .NET.</p>\n"},{"tags":["java","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13100902,"title":"sqlite query current time and timestamp","body":"<p>I have a table in my sqlite3 databse which has the following fields:</p>\n\n<pre><code>id text not null, phonenum text not null, timeofcall text not null\n</code></pre>\n\n<p>The timestamp is basically the time of the insertion (in my app when a person calls it inserts the tele number and also the time of the call.)</p>\n\n<p>I want to get all of the rows for a particular number within the last minute, something like:</p>\n\n<pre><code>SELECT * FROM callstbl WHERE phonenum = '07857463756' AND timeofcall &lt; 1 minute ago;\n</code></pre>\n\n<p>How is something like this accomplished?</p>\n\n<p>EDIT:</p>\n\n<p>when i use this query as suggest by the top poster I get back every row that matches the 'phonenum', its like its ignoring the time function</p>\n\n<pre><code>String sql = \"select * FROM callstbl WHERE timeofcall &gt;= datetime('now', '-1 minutes') AND phonenum='\"+num+\"'\";\n</code></pre>\n\n<p>The format of my date-time string (timeofcall) is yyyy-MM-dd HH:mm:ss</p>\n\n<p>if i just do</p>\n\n<pre><code>SELECT * FROM callstbl WHERE timeofcall &gt;= datetime('now', '-1 minutes');\n</code></pre>\n\n<p>I get back every row in the database.</p>\n"},{"tags":["sql","database","plsql"],"answer_count":14,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":21501,"score":3,"question_id":290829,"title":"Differences between SQL and PL-SQL","body":"<p>Can somebody highlight the main differences between PL-SQL and SQL? And which one do you recommend for a newbie who wants to dive into DBA?</p>\n"},{"tags":["asp.net","sql-server","database","entity-framework","ef-code-first"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":13086006,"title":"How can I force entity framework to insert identity columns?","body":"<p>I want to write some C# code to initialize my database with some seed data.  Clearly, this is going to require the ability to be able to set the values of various Identity columns when inserting.  I'm using a code-first approach.  By default, <code>DbContext</code> handles the database connection and so you can't <code>SET IDENTITY_INSERT [dbo].[MyTable] ON</code>.  So, what I've done so far is use the <code>DbContext</code> constructor that lets me specify a DB connection to be used.  Then, I set <code>IDENTITY_INSERT</code> to <code>ON</code> in that DB connection, and then try to insert my records using entity framework.  Here's an example of what I've got so far:</p>\n\n<pre><code>public class MyUserSeeder : IEntitySeeder {\n    public void InitializeEntities(AssessmentSystemContext context, SqlConnection connection) {\n        context.MyUsers.Add(new MyUser { MyUserId = 106, ConceptPersonId = 520476, Salutation = \"Mrs\", Firstname = \"Novelette\", Surname = \"Aldred\", Email = null, LoginId = \"520476\", Password=\"28c923d21b68fdf129b46de949b9f7e0d03f6ced8e9404066f4f3a75e115147489c9f68195c2128e320ca9018cd711df\", IsEnabled = true, SpecialRequirements = null });\n        try {\n            connection.Open();\n            SqlCommand cmd = new SqlCommand(\"SET IDENTITY_INSERT [dbo].[MyUser] ON\", connection);\n            int retVal = cmd.ExecuteNonQuery();\n            context.SaveChanges();\n        }\n        finally {\n            connection.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>So close and yet so far - because, although <code>cmd.ExecuteNonQuery()</code> works fine, when I then run <code>context.SaveChanges()</code>, I'm informed that \"Explicit value must be specified for identity column in table 'MyUser' either when IDENTITY_INSERT is set to ON or when a replication user is inserting into a NOT FOR REPLICATION identity column.\"</p>\n\n<p>Presumably, because MyUserId (which is the Identity column in the MyUser table) is the primary key, entity framework doesn't try to set it when I call <code>context.SaveChanges()</code>, even though I gave the <code>MyUser</code> entity a value for the <code>MyUserId</code> property.</p>\n\n<p>Is there a way to force entity framework to try and insert even primary key values for an entity, then?  Or maybe a way to temporarily mark <code>MyUserId</code> as not being a primary key value, so EF tries to insert it?</p>\n"},{"tags":["java","database","forms","login","user"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":43,"score":-5,"question_id":13101368,"title":"Java - log in, store users in database","body":"<p>i have problem with the development of user interface in my web application.</p>\n\n<p><strong>The plan is:</strong> </p>\n\n<ol>\n<li>User write his username and password in login form and submit.</li>\n<li>The request comes to login servlet.</li>\n<li>Servlet looks to the database for that user and check pass etc..</li>\n</ol>\n\n<p>I know about SSL, form based authentication, checking roles and storing users in DD web.xml.</p>\n\n<p>But i need to store lots of users in database because of automation of creating. Is there any simple solution?</p>\n"},{"tags":["database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13101353,"title":"Where can I download english to chinese dictionary database?","body":"<p>Where can I download english to chinese dictionary database?</p>\n"},{"tags":["sql","database","windows-8","microsoft-metro","visual-studio-2012"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13101227,"title":"Local databases in Windows 8, post-release","body":"<p>Now that windows 8 has been released, I am under the impression that a greater variety of ways for developers to use local databases in metro apps is now available to us (SQL Express LocalDB?). Up until now I have using the SQLite3 version that runs on windows 8, but know that I can I want to try and use the database features built in to Visual Studio 2012 (Won't this be better?)</p>\n\n<p>To do this I am trying to follow the documentation on MSDN (here: <a href=\"http://msdn.microsoft.com/en-us/library/ms233763\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms233763</a>) however when I go to Project > Add New Item, I don't have a \"Service-Based Database\" option. What am I missing? Is there another component I need to install, or do I have it all completely wrong? I haven't used any of the sample databases mention in the documentation because I wanted to add it straight into my app. I'm using VS2012 Pro.</p>\n"},{"tags":["php","android","database","frameworks"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13101192,"title":"Which PHP Framework for Android Mobile Application?","body":"<p>I am currently researching which technologies I should use to build my web app which will used as a database for the Android application to connect to. My Android app will be heavily using Google Maps API and will be very similar to this <a href=\"http://youspots.com/en/find-spots.html\" rel=\"nofollow\">http://youspots.com/en/find-spots.html</a>. I want a framework that will be very easy to set up so I can concentrate on building my Android application and good with Google Maps. I really don't want to be spending much time on the web app at all to be fair...</p>\n\n<p>Great if anyone can give me any suggestions. I heard that Symfony is good.</p>\n"},{"tags":["php","objective-c","ios","database","image"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13100900,"title":"Storing images in a database","body":"<p>I realise that this is quite a broad question, so any general guidance would be helpful.</p>\n\n<p>I have an app, whereby data is downloaded from a sever, and displayed in a table view. Each entry to the tableview also has a picture associated with it. This is where i'm stuck. Do I somehow store the image on my FTP server, and include a link to the image? Or do I directly store the image in the database? Are there any tutorials explaining how to do this?</p>\n"},{"tags":["database","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13042020,"title":"GoogleApps Datastore Cons and Pros","body":"<p>I've been reading more about Google AppEngine and learned python in the past couple of weeks, including working with MongoDB. What I need the most is a scalable database solution. Before discovering Google AppEngine, the only three DB solutions I find useful are DynamoDB, MongoDb and BigCouch. </p>\n\n<p>I find out how that I really like python language, and for one coming from ASP.NET development, I've decided to switch and develop my app using python. My first choice was to develop my application using python + bottle + mongoDB.  The problem is that DynamoDB is very expensive, and the lack of easy to use backup/restore options made me pass Amazon's offering.</p>\n\n<p>Google AppEngine datastore is much more affordable. However, I still can't find information regarding some specific question on Google's website</p>\n\n<p>Here are some of the questions I need answer to:</p>\n\n<ul>\n<li>Does Google Datastore support backup/restore within the administration console?</li>\n<li>If I want to backup/restore 50TB of data, how much time it takes to backup/restore the data? Where it is stored? what are the costs?</li>\n<li>How much time it takes to backup 1TB of data for example?</li>\n<li>Does DataStore support caching in the database layer</li>\n<li>Any cons that I should be aware of?</li>\n</ul>\n\n<p>Those some of the question that I need to get answers to. MongoDB is an excellent product and developing web app using Mongo + Python + bottle is fun fun fun. However, I prefer a full DB hosted solution like one offered by Google. But before I do that, I need to be sure that I'm not missing anything.</p>\n"},{"tags":["sql","database","connection","membership"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":138,"score":0,"question_id":9411734,"title":"Can't add user to aspnet_Users database using Membership provider WPF","body":"<p>Hy everyone,</p>\n\n<p>I've created a membreship database in the SQL Server (using aspnet_regsql), so server side wise, all is ok.\nI've fallowed this video tutorial <a href=\"http://windowsclient.net/learn/video.aspx?v=293710\" rel=\"nofollow\">http://windowsclient.net/learn/video.aspx?v=293710</a> to make a WPF app that verifies a username and password in the SQL database.</p>\n\n<p>I have added this in my app.config</p>\n\n<pre><code>&lt;connectionStrings&gt;\n &lt;add name=\"UserManagementCS\" connectionString=\"Server=MyServer; Database=db_membership; uid=user;pwd=user;\" providerName=\"System.Data.SqlClient\"/&gt;\n&lt;/connectionStrings&gt;\n&lt;system.web&gt;\n    &lt;membership userIsOnlineTimeWindow=\"15\"&gt;\n      &lt;providers&gt;\n        &lt;add name=\"LoginProvider\" \n             type=\"System.Web.Security.SqlMembershipProvider\"\n             connectionStringName=\"UserManagementCS\" \n             applicationName=\"Login\" \n             enablePasswordRetrieval=\"false\" \n             enablePasswordReset=\"true\" \n             requiresQuestionAndAnswer=\"true\" \n             requiresUniqueEmail=\"false\" \n             passwordFormat=\"Hashed\" \n             maxInvalidPasswordAttempts=\"5\" \n             passwordAttemptWindow=\"10\"\n             minRequiredNonalphanumericCharacters=\"1\" \n             passwordStrengthRegularExpression=\"\"/&gt;\n      &lt;/providers&gt;\n    &lt;/membership&gt;\n &lt;/system.web&gt;\n</code></pre>\n\n<p>but, I've a problem... I can't get the user to be created in the SQL Database. Instead the aplication creates a local ASPNETDB.mdf where it stores the user. </p>\n\n<p>Does anybody have any ideea why my connection towards the db isn't working?</p>\n"},{"tags":["mysql","database","sqlite","dbms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13100018,"title":"Database Software to store 1TB Data","body":"<p>I am looking for a Database software where I can store 1TB+ Data.<br>\nThe average size of a row is going to be 5KB.<br>\nI have been doing my homework on this for the past month and I have shortlisted two software:</p>\n\n<ol>\n<li>SQLite</li>\n<li>MySQL MyISAM</li>\n</ol>\n\n<p>Essentially, the database should not use too much additional data to store rows and it should be ACID compliant.<br>\nI am open to any other DB software suggestion as well.<br>\nThe application I plan to use is going to have one concurrent connection only.</p>\n\n<p>SQLite is good and meets the requirements except that, when you delete a ROW it will not be delete the data from the file and keep the freed up resources till the data is overwritten by new data. One needs to use VACUUM to clean the free resources which can take quite a lot time and resources. SQLite is also very efficient in storing the data with respect to its size. It doesn't add much data to the contents. SQLite also doesn't allow to separate the INDEX file so that it can be put on a SSD for faster lookups.</p>\n\n<p>MySQL MyISAM is good and it is also VERY efficient in storing the data and doesnt add contents. But MyISAM is not ACID compliant and it can lead to data loss incase of a power failure, etc. INNODB on the otherhand is not efficient to store the data and additional data it adds to store each row is pretty high compared to MyISAM.</p>\n\n<p>So is there any Free Database software which overcomes these constraints or this is the best option I have?</p>\n"},{"tags":["database","sparql","semantic-web","federation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12896359,"title":"Using Fuseki to federate different SPARQL endpoints","body":"<p>I work for a large organization with many different relational datastores containing overlapping information. We are looking for a solution for integrated querying on all our data at once. We are considering using Semantic Web technology for this purpose. Specifically, we plan to:</p>\n\n<ul>\n<li>Create a unified ontology</li>\n<li>Map each database to this ontology</li>\n<li>Create a SPARQL endpoint for each database</li>\n<li>Use a federation engine to unify them to one endpoint.</li>\n</ul>\n\n<p>I am now in search of appropriate tools for the last stage of this plan. I have heard that Fuseki is appropriate for this case, but have been unable to find any relevant documentation.</p>\n\n<p>Can you please give your opinion on the appropriateness of Fuseki for this task, or even better, point me at some proper documentation?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Oren</p>\n"},{"tags":["html","database","html5","div","editable"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12758330,"title":"copying from MS Word to editable div and saving to DB results in some missing spaces between words","body":"<p>I have an editable div. I save it's content to database. The problem is when i copy text from the MS Word to the editable div, all formatting is ok. But when I retrieve from database what i saved, there are some words with no spaces between them.\nThe text I copy is in russian.</p>\n\n<p>I have and editable div</p>\n\n<pre><code>&lt;div class='myh5'&gt;Контент страницы&lt;/div&gt;\n&lt;div ID='contentDiv' contenteditable='true'&gt; \n    Выберите страничку...\n&lt;/div&gt;\n</code></pre>\n\n<p>and a hidden input field where i copy content of the editable div to save it to the database:</p>\n\n<pre><code>&lt;form action = '\".site_url('admin/save').\"' method='post'&gt;\n&lt;input type='text' name='content' id='input' class='displayNone'&gt;&lt;/input&gt;\n&lt;input type='submit' value='Сохранить изменения' onclick='getPageContent()'&gt;&lt;/input&gt;\n</code></pre>\n\n<p>here's how i copy the content to the input field with javascript:</p>\n\n<pre><code>// send the data from the editable div\nvar input = document.getElementById('input');\nvar contentDiv = document.getElementById('contentDiv');\nfunction getPageContent() {\n    input.value = $('#contentDiv').html();\n}\n</code></pre>\n\n<p>and here is how i save the content to database using php framework called CodeIgniter.</p>\n\n<pre><code>$content = $this-&gt;input-&gt;post('content');\n    $content = addslashes($content);    \n    $sql = \"\n        UPDATE pages\n        SET content_$lang='$content', name='$renamePage', title_$lang='$title'\n        WHERE name='$pageName'\n    \";\n    $query = $this-&gt;db-&gt;query($sql);\n</code></pre>\n\n<p>So what can be the reason? What can I do to have my text in database as it was in editable div?</p>\n"},{"tags":["php","html","mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13100254,"title":"fetched mysql data to compare but doesnt work or show anything","body":"<p>Below is the php code. It compares data from the form and with database values. </p>\n\n<p>However when I click the login button it doesn't do anything?</p>\n\n<pre><code>mysql_connect($host, $databaseUsername, $databasePassword) or die(mysql_error());\nmysql_select_db(\"login\") or die(mysql_error());;\n\n$uname = $_POST['inputEmail'];\n$pword = $_POST['inputPassword'];\n\n$result = mysql_query(\"SELECT * FROM login \nWHERE Usernames='$uname' AND Passowrds='$pword'\");\n\nif ($row = mysql_fetch_array($result))\n{\n  echo \"correct login information\";\n} else {\n  echo \"wrong login information\";\n}\n?&gt;\n</code></pre>\n"},{"tags":["database","model","many-to-many","associations"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13099872,"title":"Database Modeling with changing Associations","body":"<p>As an example i use Soccer</p>\n\n<p>Lets say i gote these models:</p>\n\n<pre><code>Season\nTeam\nPlayer\nGame\nGoalScore\n</code></pre>\n\n<p>A <code>Season</code> has-many <code>Team</code>s and a <code>Team</code> has-many <code>Player</code>s.\nA <code>Player</code> has-many <code>Game</code>s and a <code>Player</code> also has a <code>Goalscore</code>.</p>\n\n<p>now to the interesting part. The Players of a Team change per Season and the Goalscore is also related to a given Season. so Players also have many teams through seasons and so on.</p>\n\n<p>How do set the associations the right way?</p>\n\n<p>i'm not exactly sure how i should model this associations. the part with the season specific teams and players and scores makes me problems. i'm thankful for any ideas that are given to me.</p>\n\n<p>sidenote: i use rails (w. active-record), but i think this question is not related to a language..  </p>\n"},{"tags":["sql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":449,"score":1,"question_id":4780347,"title":"List of recently updated tables in database","body":"<p>I have multiple tables in my database.\nI need to know the names of tables updated after some timestamp (or during last action).</p>\n\n<p>Can you please guide me with links for the query or any help?</p>\n"},{"tags":["android","database","exception","index","cursor"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2285,"score":0,"question_id":6743833,"title":"Cursor Index Out of Bounds Exception","body":"<p>In attempting to execute a query on my database, I get this exception.  However, the documentation states that the method <code>SQLiteDatabase.query(...)</code> returns, \"A Cursor object, which is positioned before the first entry,\" which I interpret to mean that the Cursor is at the start of the rows returned.  If I add the <code>Cursor.moveToFirst()</code> before accessing data in the Cursor, I get no exception.  What is going on?  Do I need to always call \"moveToFirst\" before trying to get data?  The documentation says this method, \"moves the cursor to the first row.\"</p>\n\n<pre><code>Cursor c = db.query(TABLENAME, null, null, null, null, null, null);\nLog.d(\"TAG\",\"\"+c.getInt(c.getColumnIndex(\"_id\")));\n</code></pre>\n"},{"tags":["database","database-design","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13098911,"title":"BCNF and Nontrivial Functional Dependencies","body":"<p>I'm trying to understand BCNF and Non trivial FDs but I'm kind of confused. I've currently designed the following database and to my understanding this should be BCNF.</p>\n\n<p>Can you PLEASE provide feedback if indeed it is? Note that * implies primary key and a user can't bid on the same item at the same time. An item can have multiple categories. first_bid is unique to each item and means minimum required bid amount. start, end are dates for the auction.</p>\n\n<blockquote>\n  <p>Item(item_id*, name, current_bid, buy_price, first_bid, num_bids, seller_id, start, end, description) \n  Bids(buyer_id*, time*,amount, item_id) <br>\n  Users(user_id*, location, country, rating) <br> Category(cat_id*,\n  cat_name) <br> ItemCategory(item_id*, category_id*)</p>\n</blockquote>\n\n<p>Could you also please tell me what would be the Non trivial functional dependencies for each relation?</p>\n"},{"tags":["java","android","database","bundle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13099307,"title":"Withholding data before save in Android","body":"<p>I'm not very sure of how to go about doing this, so I'm asking for some suggestions.</p>\n\n<p>For starters, I have a activity that contains <em>ClassA.java</em> and <em>ClassB.java</em>.</p>\n\n<p><em>ClassA</em> has a button that, when tapped, goes into <em>ClassB</em>. <em>ClassB</em> then asks for input (1 <strong>Integer</strong> and 1 <strong>String</strong>), and then reverts back to <em>ClassA</em>, which displays what the user did on screen. I also want the user to be able to hit <em>'Save'</em> when everything is done, back in <em>ClassA</em>.</p>\n\n<p>Problem is, how do I go about <strong>storing that data</strong> temporarily and permanently? <em>ClassB</em> does not return anything, so I'm thinking the temporary storage of data should be done in <em>ClassB</em>, brought over to <em>ClassA</em>, then saved in a database if the user hits <em>'Save'</em>. </p>\n\n<p><strong>Am I doing this the right way?</strong></p>\n\n<p>Also, am I right to call Android <strong><em>Bundles</em></strong> 'temporary storage'? They save the user's input temporarily, and if the application closes the Bundle is deleted (nothing is saved), right?</p>\n\n<p>So would storing strings and integers in a <strong><em>Bundle</em></strong> and then transferring them to a <strong><em>database</em></strong> afterwards be theoretically correct and also be a possible way to tackle this problem?</p>\n\n<p>Or does anyone have a <strong>better solution</strong>?</p>\n"},{"tags":["c++","c","database","json","foxpro"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13098004,"title":"Convert DBF to JSON","body":"<p>I want to convert a Foxpro 2.6 Dos Data file (DBF - DBase III Format) into JSON file.  Do we have any C/C++ Library to convert DBF to JSON as well as back from JSON to DBF.</p>\n"},{"tags":["c#","database","windows","exe"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13098751,"title":"Building a windows application. How and What?","body":"<p>Basically I wanted to know which technology and languages should I use if I wanted to build a windows application. My requirements are:</p>\n\n<ul>\n<li>my application must be able to store data entries. </li>\n<li>a simple GUI.</li>\n<li>I should be able to distribute my application as an .exe file</li>\n</ul>\n\n<p>I did some research and found out that I should use C# and wrap a mysql db in my application. Is this the correct way or is there any other and better method than this?  </p>\n\n<p>I am a newbie developer and have worked only with java, so please bare if its a silly question.</p>\n"},{"tags":["database","mobile","store"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13099036,"title":"location of database store in mobile","body":"<p>where does database store in mobile ?i use eclipse and wrote a program that store data into database but when i run this program in device(real mobile),i don t know where does this database store!\ni use this code:</p>\n\n<pre><code> private void copyDataBase() throws IOException{\n\n            //Open your local db as the input stream\n            InputStream myInput = mycontext.getAssets().open(DB_NAME);\n\n            // Path to the just created empty db\n            String outFileName = DB_PATH + DB_NAME;\n\n            //Open the empty db as the output stream\n            OutputStream myOutput = new FileOutputStream(outFileName);\n\n            //transfer bytes from the inputfile to the outputfile\n            byte[] buffer = new byte[1024];\n            int length;\n            while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n            }\n\n            //Close the streams\n            myOutput.flush();\n            myOutput.close();\n            myInput.close();\n\n            }\n</code></pre>\n"},{"tags":["python","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13091152,"title":"python table lookups: list of tuples vs. database","body":"<p>In python, I am working on a project that regularly involves computing how many objects with some given properties match certain conditions. I can see how to do this with lists of tuples or objects or a database, but I wonder if filtering a list of objects this way is the 'obvious pythonic' way to do it. </p>\n\n<p>The options I thought of look like this:</p>\n\n<pre><code>list_of_all = [object_type(property0, property1, ...), ...]\nnumber_of_matches = len(filter(object_type.property2_test(property2),\n    filter(object_type.property1_getter, list_of_all)\n\nlist_of_all = [object_type(property0, property1, ...), ...]\nnumber_of_matches = len([0 for candidate in list_of_all\n    if candidate.property1 and candidate.property2 == property2])\n\nlist_of_all = [(property0, property1, ...), ...]\nnumber_of_matches = len([0 for candidate in list_of_all\n    if candidate[1] and candidate[2] == property2])\n\ndb_cursor.execute(\"\"\"CREATE TABLE table_of_all\n    (property0 INTEGER, property1 INTEGER, ...)\"\"\")\nnumber_of_matches = len(db_cursor.execute(\"\"\"SELECT 1 FROM table_of_all\n    WHERE property1 = 1 AND property2 = ?\"\"\", (property2,)).fetchall())\n</code></pre>\n\n<p>Using the last two in context of my code, timeit tells me that there is so significant difference. </p>\n\n<pre><code>$ python -m timeit -n 100 'import with_db' | tail -n1\n100 loops, best of 3: 0.751 usec per loop\n$ python -m timeit -n 100 'import with_list' | tail -n1\n100 loops, best of 3: 0.761 usec per loop\n</code></pre>\n\n<p>with both values somewhere between 0.751 and 0.811 every time.</p>\n\n<p>In general, my use case consists of a few hundred (for testing purposes) up to at least 40000 objects. They are used in a simulation loop (no I/O to wait for). Every loop iteration consists of around 50 of these lookups, possibly finding the maximum of one property, and the update of two objects, but if there are other use cases where there is a best solution, that would also be interesting.</p>\n\n<p>Is there a distinct better solution for this type of task, or is there a distinct type of task where chosing any of these solutions makes a difference?</p>\n"},{"tags":["c#","database","entity-framework","table","code-first"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12420539,"title":"Code first database migration","body":"<p>We are using the Code-first approach without an Edmx file, its running fine to create database the first time.</p>\n\n<p>But if i am adding new data entities say new class to my database context then it is not able to add that to new table in that database.</p>\n\n<p>Say for example there are two table initially in database.\nex Database : DbTest\n   Table : Tbl1, Tbl2</p>\n\n<p>Now if i a add new table, say class name 'Tbl3', then it should be adding it into the existing database.</p>\n\n<p>Can any one please explain to me with an example how it can be achieved via code first approach?</p>\n\n<p>I have seen mentioned something like  <code>Database.SetInitializer(new ........)</code></p>\n\n<p>What do i need to put in the blank area of the constructor above?</p>\n"},{"tags":["c++","c","database","postgresql","psql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13098808,"title":"Incomplete parameter error Including postgres.cpp working file in other .cpp file","body":"<p>I am using <code>libpq-fe</code> to connect to the sql server as explained <a href=\"http://www.postgresql.org/docs/9.0/static/libpq.html\" rel=\"nofollow\">here</a>.<br>\nI made a small file to check login using this api.</p>\n\n<p>Here is the file psql.cpp:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;libpq-fe.h&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nvoid CloseConn(PGconn *conn)\n{\n  PQfinish(conn);\n  getchar();\n}\n\nPGconn *ConnectDB(string user=\"postgres\",string password=\"123321\",string dbname=\"bridge\",string hostaddr=\"127.0.0.1\",string port=\"5432\")\n{\n  PGconn *conn = NULL;\n  string s = \"user=\" + user + \" password=\" + password + \" dbname=\" +dbname + \" hostaddr=\" + hostaddr + \" port=\" + port;\n\n  // Make a connection to the database\n  conn = PQconnectdb(s.c_str());\n\n  // Check to see that the backend connection was successfully made\n  if (PQstatus(conn) != CONNECTION_OK)\n  {\n    cout &lt;&lt; \"Connection to database failed.\\n\";\n    CloseConn(conn);\n  }\n\n  cout &lt;&lt; \"Connection to database - OK\\n\";\n\n  return conn;\n}\n\n\nvoid login_check(PGconn *conn, string username, string password)\n{\n  string query = \"SELECT * FROM login where plid='\" + username + \"'\";\n\n  PGresult *res = PQexec(conn,query.c_str());\n\n  if(PQresultStatus(res) == PGRES_TUPLES_OK)//successful completion of a command returning data\n  {\n    cout &lt;&lt; \"query executed successfully\\n\";\n    int row = PQntuples(res); // number of rows in the output of the query\n    cout&lt;&lt;row&lt;&lt;endl;\n    if (row != 1)\n    {\n      //wrong username\n    }\n    else\n    {      \n      cout&lt;&lt;PQgetvalue(res,0,1)&lt;&lt;endl;\n      if( !(string(PQgetvalue(res,0,1)).compare(password)) )//return 0 on equality\n      {\n        cout&lt;&lt;\"valid user\";\n      }\n    }\n  }\n\n  // Clear result\n  PQclear(res);\n}\n</code></pre>\n\n<p>I put hits main function in this file and everything works fine:</p>\n\n<pre><code>int main()\n{\n  PGconn *conn = NULL;\n  //conn = ConnectDB(\"postgres\",\"123321\",\"bridge\",\"127.0.0.1\",\"5432\");\n  conn = ConnectDB(\"postgres\",\"123321\",\"bridge\",\"127.0.0.1\",\"5432\");\n\n  if (conn != NULL) {\n    login(conn, \"11111000\", \"abcd\");\n    CloseConn(conn);\n  }\n\n  return 0;\n\n}\n</code></pre>\n\n<p>Now I want to include this file in another <code>.cpp</code> file so I made a <code>psql.h</code> file:  </p>\n\n<pre><code>#include &lt;libpq-fe.h&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nPGconn *ConnectDB(string ,string, string, string, string);\nvoid login_check(PGconn, string, string);\nvoid CloseConn(PGconn);\n</code></pre>\n\n<p>For using the <code>psql.h</code> file the changes I have done in <code>psql.cpp</code> header are:</p>\n\n<pre><code>#include \"psql.h\"\n#include &lt;iostream&gt;\n\nvoid CloseConn(PGconn *conn)\n{\n...\n...\n</code></pre>\n\n<p>and I removed the <code>main</code> function from this.</p>\n\n<p>Now in my new file - <code>dispatcher.cpp</code> I want to include this file, So change in its header:</p>\n\n<pre><code>#include \"psql.h\"\n</code></pre>\n\n<p>And I put the contents of the <code>main</code> function that I have mentioned above in the <code>main</code> function of this file.  When I compile this file I got the error:</p>\n\n<pre><code>dispatcher.cpp: In function ‘void login(int)’:\ndispatcher.cpp:154:45: error: parameter 1 of ‘void login_check(PGconn, std::string, std::string)’ has incomplete type ‘PGconn {aka pg_conn}’\ndispatcher.cpp:155:23: error: parameter 1 of ‘void CloseConn(PGconn)’ has incomplete type ‘PGconn {aka pg_conn}’\n</code></pre>\n\n<p>My makefile:  </p>\n\n<pre><code>dispatcher:dispatcher.o access.o psql.o\n    g++ dispatcher.o access.o psql.o -pthread -I /usr/include/postgresql -lpq -o ./bin/dispatcher\n\ndispatcher.o:dispatcher.cpp\n    g++ -I /usr/include/postgresql -lpq -c dispatcher.cpp\n\naccess.o:access.cpp access.h\n    g++ -c access.cpp\n\npsql.o:psql.cpp psql.h\n    g++ -c psql.cpp -I /usr/include/postgresql -lpq\n</code></pre>\n\n<p>You can ignore <code>access.o</code> it only contain accessories. I know I am <code>c</code> programming using <code>c++</code>. <strong>Why I am getting this error</strong>. Is it anything specific to CPP. The <code>login()</code> is a simple function that I am calling from the <code>dispatcher's main</code> and its defination is same as of the <code>main</code> I have mentioned above.  </p>\n"},{"tags":["sql","database","oracle","plsql"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":7169,"score":3,"question_id":1574565,"title":"Oracle: How can I select records ONLY from yesterday?","body":"<p>I've spent hours searching the web for an answer to this question...</p>\n\n<p>Here's what I currently have:</p>\n\n<pre><code>select  *\nfrom    order_header oh\nwhere   tran_date = sysdate-1\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["html","database","security"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13098517,"title":"Is it good to place Database values inside hidden elements for later use in HTML","body":"<p>I'm using an approach but I don't know if it's wrong.</p>\n\n<p>When I connect to the database in my website, the ResultSet will return the \"Username\" and the \"UserId\".</p>\n\n<pre><code>while(rset.next()) {\n//I place the Username inside a DIV, which is visible\n//I Place the UserId inside another Div, which is not visible\n}\n</code></pre>\n\n<p>I place the UserId because I need to grab them later for jquery and Ajax requests, when I view the source code, those UserIds are visible in the source code.</p>\n\n<p>Means anyone can know the id of the listed users, or any other thing that has an id, does this weaken the website's security? </p>\n"},{"tags":["mysql","sql","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":40,"score":-4,"question_id":13097369,"title":"Directory-type Database Design suggestion","body":"<p>I am in the plan of building a information service website similar to  <a href=\"http://us.justdial.com/\" rel=\"nofollow\">http://us.justdial.com/</a>, I was in the confusion of designing the database. </p>\n\n<p>The datas stored in the database are </p>\n\n<ul>\n<li>List of categories</li>\n<li>Name of the company and its address, phone number, category, etc...</li>\n</ul>\n\n<p>(I am going to use mySQL Database)</p>\n\n<p>How can I design the database in a way that makes the accessing of those data easier?</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["mysql","database","performance","load","stress"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":3464,"score":2,"question_id":2128824,"title":"Check load on mysql database","body":"<p>What would be the best ways to monitor mysql performance and load, queries per second, total queries over a hour etc?</p>\n\n<p>Thanks!</p>\n"},{"tags":["database","functional-dependencies"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13096461,"title":"Functional dependency - Left hand side with three attributes","body":"<p>Assuming we have the following functional dependencies : </p>\n\n<pre><code>AB -&gt; C \nDEG -&gt; H\nA -&gt; B\nDG -&gt; H\n</code></pre>\n\n<p>We can see that B can be removed due to the closure of B+, which is (G-(AB ->C) U (A -> C)  = ACB</p>\n\n<p>In order to find the minimal cover, how do I approach the other left hand redundancies in regards to DEG -> H, DG -> H - can these be reduced, and if so can you explain using the closures!</p>\n\n<p>Many thanks, Matthew</p>\n"},{"tags":["java","database","connection","driver"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":4538,"score":0,"question_id":7451570,"title":"HSQL Driver not working?","body":"<p>I'm currently learning some DataBase tricks in Java and I found this nice book I'm reading.\nAt some point, ite encourages me to try a manual DataBase connection with the following class:</p>\n\n<pre><code>import java.sql.DriverManager;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\npublic class DemoSelect {\n\n    public static void main (String[] args){\n\n        //Connection parameters\n        String usr = \"sa\";\n        String pwd = \"\";\n        String driver = \"org.hsqldb.jdbcDriver\";\n        String url = \"jdbc:hsqldb:hsql://localhost/xdb\";\n\n        Connection con = null;\n        PreparedStatement pstm = null;\n        ResultSet rs = null;\n\n        try{\n\n            //Starting up the driver\n            Class.forName(driver);\n\n            //Conecting\n            con = DriverManager.getConnection (url,usr,pwd);\n\n            //Writting a query\n            String sql = \"SELECT empno, ename, hiredate, deptno FROM emp\";\n\n            //Setting up the SQL statement\n            pstm = con.prepareStatement(sql);\n\n            //Execute the SQL query\n            rs = pstm.executeQuery();\n\n            //Iterating the results\n            while (rs.next()){\n\n                //Simple method to show the data\n                System.out.print(rs.getInt(\"empno\")+\", \");\n                System.out.print(rs.getString(\"ename\")+ \", \");\n                System.out.print(rs.getDate(\"hiredate\")+\", \");\n                System.out.println(rs.getInt(\"deptno\"));\n\n            }\n\n        }catch (Exception e){\n\n            e.printStackTrace();\n            throw new RuntimeException(e);\n\n        }finally{\n\n            try{\n\n                //Closing all the opened resources\n                if (rs!=null) rs.close();\n                if (pstm!=null) pstm.close();\n                if (con!=null) con.close();\n\n            }catch (Exception e){\n\n                e.printStackTrace();\n                throw new RuntimeException(e);\n\n            }\n\n        }\n\n    } \n\n}\n</code></pre>\n\n<p>But when I try to run it, it generates an error with the following description:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.hsqldb.jdbcDriver\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:186)\n    at cap3.jdbc.DemoSelect.main(DemoSelect.java:25)\nException in thread \"main\" java.lang.RuntimeException: java.lang.ClassNotFoundException:      org.hsqldb.jdbcDriver\n        at cap3.jdbc.DemoSelect.main(DemoSelect.java:53)\n    Caused by: java.lang.ClassNotFoundException: org.hsqldb.jdbcDriver\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n        at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:423)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:356)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:186)\n    at cap3.jdbc.DemoSelect.main(DemoSelect.java:25)\n Java Result: 1\n BUILD SUCCESSFUL (total time: 0 seconds)`\n</code></pre>\n\n<p>What could i be missing?</p>\n\n<p>I'm using NetBeans and I downloaded the HSQL Driver. I managed to import the .jar file to the libraries and i got the following error code:</p>\n\n<pre><code>java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused: connect\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source)\nat org.hsqldb.jdbc.JDBCDriver.getConnection(Unknown Source)\nat org.hsqldb.jdbc.JDBCDriver.connect(Unknown Source)\nat java.sql.DriverManager.getConnection(DriverManager.java:579)\nat java.sql.DriverManager.getConnection(DriverManager.java:221)\nat cap3.jdbc.DemoSelect.main(DemoSelect.java:28)\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused: connect\nat org.hsqldb.ClientConnection.openConnection(Unknown Source)\nat org.hsqldb.ClientConnection.initConnection(Unknown Source)\nat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source)\n... 6 more\nCaused by: java.net.ConnectException: Connection refused: connect\nat java.net.DualStackPlainSocketImpl.connect0(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:337)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:198)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\nat java.net.Socket.connect(Socket.java:579)\nat java.net.Socket.connect(Socket.java:528)\nat java.net.Socket.&lt;init&gt;(Socket.java:425)\nat java.net.Socket.&lt;init&gt;(Socket.java:208)\nat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source)\n... 9 more\nException in thread \"main\" java.lang.RuntimeException: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused: connect\nat cap3.jdbc.DemoSelect.main(DemoSelect.java:53)\nCaused by: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused: connect\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.Util.sqlException(Unknown Source)\nat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source)\nat org.hsqldb.jdbc.JDBCDriver.getConnection(Unknown Source)\nat org.hsqldb.jdbc.JDBCDriver.connect(Unknown Source)\nat java.sql.DriverManager.getConnection(DriverManager.java:579)\nat java.sql.DriverManager.getConnection(DriverManager.java:221)\nat cap3.jdbc.DemoSelect.main(DemoSelect.java:28)\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused: connect\nat org.hsqldb.ClientConnection.openConnection(Unknown Source)\nat org.hsqldb.ClientConnection.initConnection(Unknown Source)\nat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source)\n... 6 more\nCaused by: java.net.ConnectException: Connection refused: connect\nat java.net.DualStackPlainSocketImpl.connect0(Native Method)\nat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:69)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:337)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:198)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:180)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:157)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\nat java.net.Socket.connect(Socket.java:579)\nat java.net.Socket.connect(Socket.java:528)\nat java.net.Socket.&lt;init&gt;(Socket.java:425)\nat java.net.Socket.&lt;init&gt;(Socket.java:208)\nat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source)\n... 9 more\nJava Result: 1\nBUILD SUCCESSFUL (total time: 1 second)\n</code></pre>\n"},{"tags":["ruby-on-rails","database","sqlite","postgresql","heroku"],"answer_count":8,"favorite_count":9,"up_vote_count":21,"down_vote_count":0,"view_count":6453,"score":21,"question_id":6710654,"title":"How do you easily change from SQLite to PostgreSQL in Rails","body":"<p>I have a rails app that's databases are in SQLite (The dev and production). Since I am moving to heroku, I want to convert my database to PostgreSQL (I think that's how to spell it).</p>\n\n<p>Anyways, I heard that the local, development, database does not need to be changed from SQLite, so I don't need to change that, however, how do I go about changing the production environment from SQLite to PostgreSQL?</p>\n\n<p>Has anyone ever done this before and can help?</p>\n\n<p>P.S. I'm not sure what exactly this process is called, but I've heard about migrating the database from SQLite to PostgreSQL, is that what needs to be done?</p>\n"},{"tags":["database","rdbms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2100,"score":1,"question_id":1328258,"title":"The difference between a 'view' and 'base' relation","body":"<p>What is the difference between a 'view' and 'base' relation in database systems?</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13096830,"title":"Set the default schema order of a MySQL table to be reversed","body":"<p>I am currently running this query:</p>\n\n<pre><code>SELECT t.videolink, t.userid, t.tag\n    FROM (SELECT * FROM tagstrend ORDER BY timestamp DESC) AS t\n        WHERE t.timestamp &gt; ?\n        GROUP BY t.tag\n        ORDER BY SUM(t.tagcount) DESC\n        LIMIT ?, 20;\n</code></pre>\n\n<p>What I am doing is reversing the order of the table that I am selecting from before I run the rest of the query because when the I use \"GROUP BY\" I need that to take the top result which is the most recent row in the database.</p>\n\n<p>However doing this will take a hit on the performance/speed of the query because it needs to reverse the order of the table before it can query it.</p>\n\n<p>My question is, is there a way to set the default order of the table to be reversed? Because I will always be SELECTing from this table in reverse order.</p>\n\n<p>Unless someone knows a way of grouping by the most recent row in the database?</p>\n"},{"tags":["python","database","django","postgresql","orm"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13092268,"title":"How do you join two tables on a foreign key field using django ORM?","body":"<p>Let's assume I have the following models:</p>\n\n<pre><code>class Position(models.Model):\n    name = models.CharField()\n\nclass PositionStats(models.Model):\n    position = models.ForeignKey(Position)\n    averageYards = models.CharField()\n    averageCatches = models.CharField()\n\nclass PlayerStats(models.Model):\n    player = models.ForeignKey(Player)\n    averageYards = models.CharField()\n    averageCatches = models.CharField()\n\nclass Player(models.Model):\n    name = models.CharField()\n    position = models.ForeignKey(Position)\n</code></pre>\n\n<p>I want to perform the equivalent SQL query using django's ORM:</p>\n\n<pre><code>SELECT *\n\nFROM PlayerStats\n\nJOIN Player ON player\n\nJOIN PositionStats ON PositionStats.position = Player.position\n</code></pre>\n\n<p>How would I do that with django's ORM? The query isn't exactly correct, but the idea is that I want a single query, using django's ORM, that gives me <code>PlayerStats</code> joined with <code>PositionStats</code> based on the player's position.</p>\n"},{"tags":["javascript","html","database","security","privacy"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":16,"score":2,"question_id":13082526,"title":"How to pass table record identifier to client side","body":"<p>In a CRUD environment, let say we are displaying list of user's contacts. Web site needs to provide \"Edit\" and \"Delete\" functionality to user. Each contact represents a record in database table, and identifier of a record must be passed to browser (client).</p>\n\n<p>In my applications, I normally have an auto increment identifier field in table and I pass its value to browser. So when user wants to edit or delete, I send request to server together with that identifier. In that way I can find the record in table.</p>\n\n<p>But I am worried about security and privacy. Normally I do not allow any other user to access someone else's record (Duh), though still do not like passing just an integer number to browser.</p>\n\n<p>AFAIK, big companies are providing a long unique identifier like 40F0C923BACECBF40C4CAA465D0E4DB0 to do this, but this time I will need to check if that value is used before every time I create a new record.</p>\n\n<p>I didn't know where to ask this question to Database section or here, and just asked here.\nHow do you guys manage to do this? or in other words, how it is done professionally?</p>\n"},{"tags":["php","sql","database","compatibility"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":35,"score":1,"question_id":13096208,"title":"Most standard compliant database","body":"<p>Im thinking about databases to use as a development environment for a cross platform php application.</p>\n\n<p>What im ideally looking for is a database that supports the most correct standards of SQL, something i can write for and hopefully guarantee cross database compatibility when it comes to deployment.</p>\n\n<p>I'd prefer it if it was open source.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","database","sqlite","class"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13096241,"title":"Java android development","body":"<p>I'm having some trouble with java. What I want to do is return the result of a table search so that I can manipulate it outside of a class that's handling database transaction. Do I return the cursor?\nCan I return it?\nI was also hoping to do this on a separate thread as well. \nIn c++ I would send pointers to the object handling the database fill it and then I wouldn't even need to return anything.</p>\n\n<p>My main problem is that I wanted to return a string array after looking at the database. But I don't know the size that the string will be. So I can't declare it outside the database class?</p>\n\n<p>How do I get the return of my database class so I can have them in variables outside the database class?\nSorry typing on phone couldn't type examples. </p>\n"},{"tags":["sql","database","database-connection","sql-server-express","sql-developer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2521,"score":0,"question_id":3466286,"title":"How to connect sql developer to a database on localhost? instance=sqlexpress, db name = Equipment","body":"<p>Oracle SQL Developer Version 2.1.1.64</p>\n\n<p>Database created in MS SQL Server management studio 2008.\ncomputer name: server\ninstance: sqlexpress\nDB name: equipment\nNo security, or windows security I guess.</p>\n\n<p>what do I enter in the following sql developer fields:\nhostname, port, SID/service name.</p>\n"},{"tags":["asp.net","sql","database"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":13089111,"title":"How to work with data stored in database?","body":"<p>Good day everyone,</p>\n\n<p>I have some questions, about how to do calculations of data stored in the database. Like, I have a table:\n<br></p>\n\n<pre><code>|   ID    | Item name | quantity of items | item price | date |\n</code></pre>\n\n<p>and for example i have stored 10000 records.</p>\n\n<p>First that I need to do is to pick up items from a date interval, so I wont need the whole database for my calculations. And then I get items from that date interval, I have to add some tables, for example to calculate:</p>\n\n<pre><code>full price = quantity of items *  item price\n</code></pre>\n\n<p>and store them in new table for each item. So the database for the items picked from the date interval should look like this:</p>\n\n<pre><code>|   ID    | Item name | quantity of items | item price | date |  full price |\n</code></pre>\n\n<p>The point is that I don't know  how to store that items which i picked with date interval. Like, do i have create some temporary table, or something?\nThis will be using an ASP.NET web application, and for calculations in the database I think I will use SQL queries. Maybe there is an easier way to do it? Thank you for your time to help me.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":13092140,"title":"How to create database in android with existing data?","body":"<p>I have problem with sqlite database. I want create database in android with existing records. \nI create database: </p>\n\n<pre><code>public class PrzyslowiaArabskie  {\n\nprivate static final String TABLE_NAME = \"tabela_przyslowia\";\nprivate static final String DATABASE_NAME = \"przyslowiadb\";\nprivate static final int DATABASE_VERSION = 1;\npublic static final String KEY_ID = \"id\";\npublic static final String KEY_PRZYSLOWIE = \"przyslowie\";\n\nprivate DbHelper myHelper;\nprivate final Context myContext;\nprivate SQLiteDatabase myDatabase;\n\n\n\n\nprivate static class DbHelper extends SQLiteOpenHelper {\n\n    public DbHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n         db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + \n                   KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + \n                 KEY_PRZYSLOWIE + \" TEXT NOT NULL);\" );\n\n\n    } \n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n\n        onCreate(db);\n    }\n\n}\npublic PrzyslowiaArabskie(Context c) {\n    myContext = c;\n}\npublic PrzyslowiaArabskie open() {\n    myHelper = new DbHelper(myContext);\n    myDatabase = myHelper.getWritableDatabase();\n    return this;\n}\npublic void close() {\n    myHelper.close();\n}\npublic long createEntry(String przyslowie) {\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_PRZYSLOWIE, przyslowie);\n    return myDatabase.insert(TABLE_NAME, null, cv);\n\n}\npublic String getData() {\n    // TODO Auto-generated method stub\n    String[] columns = new String[] { KEY_ID, KEY_PRZYSLOWIE };\n    Cursor c = myDatabase.query(TABLE_NAME, columns, null, null, null, null, null);\n    String result = \"\";\n\n    int iRow = c.getColumnIndexOrThrow(KEY_ID);\n    int iPrzyslowie = c.getColumnIndexOrThrow(KEY_PRZYSLOWIE);\n\n\n    for(c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {\n        result = result + c.getString(iRow) + \" \" + c.getString(iPrzyslowie) + \"\\n\";\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>What can I do if I want that create database with existing records. How to add records together with create database?</p>\n"},{"tags":["ruby-on-rails","ruby","database","version-control"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":54,"score":7,"question_id":13095090,"title":"Ruby on Rails Database Deployment with Gerrit","body":"<p>I'm considering using Ruby on Rails for my next project. Understanding the deployment of a rails website is easy enough to understand (sounds like I'll be using <a href=\"https://www.phusionpassenger.com/\">Phusion Passenger</a>)</p>\n\n<p>But now I'm trying to figure out the database. I see a lot about \"database migrations\", which allow me to <em>update the database using ruby code</em>. I also see that I'm allowed to create both an <strong>up</strong> and <strong>down</strong> variant of these migrations. </p>\n\n<p>However, I can only fathom how this works cleanly in a single direction. Imagine if I suddenly say <em>\"The color column cannot be null\"</em>. So, the <strong>up</strong> will make it required and give all NULL entries a default value. But what will the <strong>down</strong> do? If you care about it being identical to how it started, you can't just set the default values back to NULL.</p>\n\n<p>This doesn't really matter much for releases to production. That will likely just be done in a single direction (in the <strong>up</strong> direction). <em>However, I want to use Gerrit for code reviews as well as setting up a bot to run a build before allowing check-ins...</em></p>\n\n<p>So how could that work? From one code review to the next, the build server will check out the new set of code, and run the migrations? But when this happens, it won't even retain the migration code from before, so how could it run the <strong>down</strong> steps? As an simpler example, I do not see how I could check out an old version of the code and \"db migrate\" backwards.</p>\n"},{"tags":[".net","sql","database","vb.net","datagridview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13094959,"title":"Issue with displaying SQL result in DataGridView","body":"<p>I am trying to show the results of a SQL query within a data grid view on my application. The following code is what i have written but it dosent seem to matter what i do, i cannot get any display in the datagridview on my form. Can anyone point me in the right direction?</p>\n\n<p>code:</p>\n\n<pre><code>    Sql = \"SELECT * FROM jobList WHERE techID = \" &amp; TechScreenID &amp; \"\"\n\n    connection = \"Provider=Microsoft.Jet.OLEDB.4.0; Data Source =   C:\\Users\\Dave\\Documents\\joblist.mdb;\"\n    con.ConnectionString = connection\n    con.Open()\n    Dim adapter As New OleDbDataAdapter(Sql, connection)\n    Dim results As New DataTable(\"result\")\n    adapter.Fill(results)\n    con.Close()\n    dgwTechStatus.DataSource = results\n</code></pre>\n"},{"tags":["c#","asp.net","database","dataset","icollection"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13094603,"title":"Why am I getting a NullReferenceException on a DataSet?","body":"<p>I'm opening up a database query from the Northwind database for each item that my ShoppingCart entails. It is to take <code>ProductID</code> and <code>UnitsInStock</code> out from the <code>Products</code> table. After I take the two columns out from the database to save the data into a <code>DataTabel ds</code>. Then I compare to make sure the quantity user entered is less than the column units in stock in the database.</p>\n\n<p><code>theCart.Values</code> is part of ICollections.</p>\n\n<p><strong>I am gettign error: from my exception message: \"There was a problem connecting to the database: Object reference not set to an instance of an object.\"</strong></p>\n\n<p>Here's the code. </p>\n\n<pre><code>DataSet ds = new DataSet();\n        OleDbConnection conn = new OleDbConnection((string)Application[\"DBConnectionString\"]);\n        foreach (OrderItem item in theCart.Values)\n        {\n            string selectionString =\n            \"SELECT Products.ProductID, Products.UnitsInStock \" +\n                \"FROM Products\" +\n                \"WHERE Products.ProductID = \" + item.ProductID + \";\";\n            try\n            {\n                OleDbCommand cm = new OleDbCommand(selectionString, conn);\n                OleDbDataAdapter da = new OleDbDataAdapter();\n                da.SelectCommand = cm;\n                da.Fill(ds);\n                da.Dispose();\n                 if (ds.Tables[\"Products\"].Columns.Count != 0 &amp;&amp;\n            ds.Tables[\"Products\"].Rows.Count != 0)\n            {\n                for (int index = 0; index &lt; ds.Tables[\"Products\"].Rows.Count; index++)\n                {\n                    if (item.ProductID == int.Parse(ds.Tables[\"Products\"].Rows[index][indexOfProductID].ToString()))\n                    {\n                        if (item.QuantityOrdered &gt; int.Parse(ds.Tables[\"Products\"].Rows[index][indexOfUnitsInStock].ToString()))\n                        {\n                            hasStock = false;\n                            int inStock = int.Parse(ds.Tables[\"Products\"].Rows[index][indexOfUnitsInStock].ToString());\n                            txtUnderstockedItems.Text += \"Sorry we do not have enough stock of item: \" + item.ProductName +\n                                \"&lt;br&gt; Currently, \" + item.ProductName + \" (ID:\" + item.ProductID + \") has \" + inStock + \" in stock.\";\n                        }\n                        else\n                        {//can output how many items in stock here. \n                            hasStock = true;\n                        }\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                txtUnderstockedItems.Text = \"There was a problem connecting to the database: \" + ex.Message;\n            }\n            finally\n            {\n\n                conn.Close();\n            }\n\n\n            }\n        }\n</code></pre>\n"},{"tags":["sql","sql-server","database","tsql"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1915,"score":2,"question_id":2561280,"title":"SQL left join with multiple rows into one row","body":"<p>Basically, I have two tables, Table A contains the actual items that I care to get out, and Table B is used for language translations.</p>\n\n<p>So, for example, Table A contains the actual content. Anytime text is used within the table, instead of storing actual varchar values, ids are stored that relate back to text stored in Table B. This allows me to by adding a languageID column to Table B, have multiple translations for the same row in the database.</p>\n\n<p>Example:</p>\n\n<h2>Table A</h2>\n\n<ul>\n<li>Title (int) </li>\n<li>Description (int)</li>\n<li>Other Data....</li>\n</ul>\n\n<h2>Table B</h2>\n\n<ul>\n<li>TextID (int) - This is the column\nwhose value is stored in other tables</li>\n<li>LanguageID (int)</li>\n<li>Text (varchar)</li>\n</ul>\n\n<p>My question is more a call for suggestions on how to best handle this. Ideally I want a query that I can use to select from the table, and get the text as opposed to the ids of the text out of the table. Currently when I have two text items in the table this is what I do:</p>\n\n<pre><code>SELECT C.ID, C.Title, D.Text AS Description\nFROM\n(SELECT A.ID, A.Description, B.Text AS Title\nFROM TableA A, TranslationsTable B\nWHERE A.Title = B.TextID AND B.LanguaugeID = 1) C\nLEFT JOIN TranslationsTable D\nON C.Description = D.TextID AND D.LanguaugeID = 1\n</code></pre>\n\n<p>This query gives me the row from Table A I am looking for (using where statements in the inner select statement) with the actual text based on the language ID used instead of the text ids.</p>\n\n<p>This works fine when I am only using one or two text items that need to be translated, but adding a third item or more, it starts to get really messy - essentially another left join on top of the example.</p>\n\n<p>Any suggestions on a better query, or at least a good way to handle 3 or more text items in a single row?</p>\n\n<p>Per suggestions, I've added an example of the two tables:</p>\n\n<pre><code>    Table A  \n    ---------------------------\n    ID    |Title    |Description  \n    ---------------------------  \n    1     |1        |2  \n    ---------------------------  \n    2     |3        |4  \n    --------------------------- \n\n    Table B (Translations Table) \n    ---------------------------\n    ID    |LanguaugeID|Text  \n    ---------------------------  \n    1     |1        |Here is title one\n    ---------------------------  \n    1     |2        |Here is a title one in espanol\n    ---------------------------\n    2     |1        |Here is description one\n    ---------------------------  \n    2     |2        |Here is description one in espanol\n    ---------------------------\n    3     |1        |Title 2\n    ---------------------------  \n    4     |1        |Description 2\n    ---------------------------   \n</code></pre>\n\n<p>What I want is to be able to pull a row out of table A that already has the text from table B, not just the ids - and to be able to do this for several columns that need translations.</p>\n"},{"tags":["sql","database","erp"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1678,"score":2,"question_id":1407972,"title":"Database and ERP","body":"<p>I am trying to master a new ERP application. I have good functional knowledge and I was advised to learn SQL. I do not know where to start. I have two books, SQL for Dummies and Database Development for Dummies, Which book should I read first? The idea is to get a good understanding of the relationship between ERP and database and to understand the database concepts in the context of an ERP application </p>\n\n<hr>\n\n<p>Hi HLGEM and others I will be working in the roles of production support consultant and will be participating in an upgrade project. </p>\n\n<p>Prod support: We get issues from the client site and we use SQL to find the necessary information. Upgrade Project: We will be upgrading to the newest version. I think we will have to migrate the data and do some configuration. Can you help me in planning what to learn? My colleagues suggested that I need to understand the tables, schemas, ERDs. Is that what I should be focusing on?</p>\n"},{"tags":["database","listview","hashmap","sqlitedatabase"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13087815,"title":"how can i add hashmap into a listview?","body":"<p>I want to add result of this query to a ListView in a form. What do I need to do?</p>\n\n<pre><code>public HashMap&lt;String, String&gt; getUserDetails(){\n    HashMap&lt;String,String&gt; user = new HashMap&lt;String,String&gt;();\n    String selectQuery = \"SELECT  * FROM \" + TABLE_LOGIN;\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n    // Move to first row\n    cursor.moveToFirst();\n    if(cursor.getCount() &gt; 0){\n        user.put(\"name\", cursor.getString(1));\n        user.put(\"email\", cursor.getString(2));\n        user.put(\"uid\", cursor.getString(3));\n        user.put(\"created_at\", cursor.getString(4));\n    }\n    cursor.close();\n    db.close();\n    // return user\n    return user;\n}\n</code></pre>\n\n<p>I tried this code in another file but it caused an error:</p>\n\n<pre><code>DatabaseHandler db = new DatabaseHandler(getApplicationContext());\n        ListView view1 = (ListView) findViewById(R.id.listView1);\n        view1.setAdapter((ListAdapter) db.getUserDetails());\n</code></pre>\n"},{"tags":["php","sql","database","web"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13092745,"title":"How to access remote SQL Server from PHP script","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9986804/php-fatal-error-call-to-undefined-function-mssql-connect\">PHP Fatal error: Call to undefined function mssql_connect()</a>  </p>\n</blockquote>\n\n\n\n<p>I am developing a light-weight PHP application which accesses a remote SQL server db.</p>\n\n<p>So far, I am out of luck in getting connection setup to SQL Server db through my PHP script.</p>\n\n<p>I keep getting this error when I am trying to connect to sql DB:</p>\n\n<pre><code>Fatal error: Call to undefined function mssql_connect()\n</code></pre>\n\n<p>I get similar error when I try <code>sqlsrv_connect($myServer, $myUser, $myPass)</code> too</p>\n\n<p><strong>Here is what I have already tried:</strong></p>\n\n<p>I search for solution on web for hours, but nothing works.</p>\n\n<p>I downloaded drivers from <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=20098\" rel=\"nofollow\">http://www.microsoft.com/en-us/download/details.aspx?id=20098</a>\nand unzipped them into php/ext folder</p>\n\n<p>modified php.ini to add newly downloaded drivers lines:</p>\n\n<pre><code>extension=php_sqlsrv_54_ts.dll\nextension=php_pdo_sqlsrv_54_ts.dll\n\n[sqlsrv]\nsqlsrv.LogSubsystems = 1\nsqlsrv.LogSeverity = 1\nsqlsrv.WarningReturnAsErrors = 0\n</code></pre>\n\n<p>Restarted the Apache server</p>\n\n<p>But, <strong>see phpinfo() output it doesn't have sqlserv in it</strong> <a href=\"http://bit.ly/TkMC6V\" rel=\"nofollow\">http://bit.ly/TkMC6V</a></p>\n\n<p>Just so you know, I am developing this on my windows machine by installing EasyPHP. This website will be deployed on a Unix box. I tried to connect sql server through php on both Windows and Unix machine without any success.</p>\n\n<p>Version info:</p>\n\n<pre><code>SQL Server 9.0.5000    \nPHP ver 5.4.6    \nApache 2.4\n</code></pre>\n\n<p>I just dont get sqlsrv in my phpinfo() as mentioned in this question <a href=\"http://stackoverflow.com/questions/9986804/php-fatal-error-call-to-undefined-function-mssql-connect\">PHP Fatal error: Call to undefined function mssql_connect()</a></p>\n\n<p>Is there a different way to install the drivers, other than what I have outlined above?</p>\n\n<p>Let me know if you need more info.\nThanks!</p>\n"},{"tags":["c#",".net","database","linq-to-sql"],"answer_count":6,"favorite_count":3,"up_vote_count":41,"down_vote_count":0,"view_count":31144,"score":41,"question_id":683037,"title":"How to compare only Date without Time in DateTime types in C#?","body":"<p>Is there a way to compare 2 DateTime variables in Linq2Sql but to disregard the Time part.</p>\n\n<p>The app stores items in the DB and adds a published date. I want to keep the exact time but still be able to pull by the date itself.</p>\n\n<p>I want to compare 12/3/89 12:43:34 and 12/3/89 11:22:12 and have it disregard the actual time of day so both of these are considered the same.</p>\n\n<p>I guess I can set all the times of day to 00:00:00 before I compare but I actually do want to know the time of day I just also want to be able to compare by date only.</p>\n\n<p>I found some code that has the same issue and they compare the year, month and day separately. Is there a better way to do this?</p>\n"},{"tags":["android","database","cursor","adapter","android-viewpager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12737222,"title":"ViewPager and Database","body":"<p>The data is in a Database, so I would normally use CursorAdapter and have it work with CursorLoader on a ListView, however now I need a ViewPager instead of a ListView and that takes a PagerAdapter and I only have it have seen it work with lists.</p>\n\n<p>Is there a native pager adapter that uses a cursor or ill have to make it work?</p>\n\n<p>Thanks!</p>\n"},{"tags":["database","performance","postgresql","postgresql-performance"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":94,"score":2,"question_id":13088407,"title":"Postgresql: inner join takes 70 seconds","body":"<p>I have two tables - </p>\n\n<p>Table A : 1MM rows, \nAsOfDate, Id, BId (foreign key to table B)</p>\n\n<p>Table B : 50k rows,\nId, Flag, ValidFrom, ValidTo</p>\n\n<p>Table A contains multiple records per day between 2011/01/01 and 2011/12/31 across 100 BId's.\nTable B contains multiple non overlapping (between validfrom and validto) records for 100 Bids. </p>\n\n<p>The task of the join will be to return the flag that was active for the BId on the given AsOfDate.</p>\n\n<pre><code>select \n    a.AsOfDate, b.Flag \nfrom \n    A a inner Join B b on \n        a.BId = b.BId and b.ValidFrom &lt;= a.AsOfDate and b.ValidTo &gt;= a.AsOfDate\nwhere\n    a.AsOfDate &gt;= 20110101 and a.AsOfDate &lt;= 20111231\n</code></pre>\n\n<p>This query takes ~70 seconds on a very high end server (+3Ghz) with 64Gb of memory.</p>\n\n<p>I have indexes on every combination of field as I'm testing this - to no avail.</p>\n\n<p>Indexes : a.AsOfDate, a.AsOfDate+a.bId, a.bid\nIndexes : b.bid, b.bid+b.validfrom</p>\n\n<p>Also tried the range queries suggested below (62seconds)</p>\n\n<p>This same query on the free version of Sql Server running in a VM takes ~1 second to complete.</p>\n\n<p>any ideas?</p>\n\n<p>Postgres 9.2</p>\n\n<p>Query Plan</p>\n\n<pre><code>QUERY PLAN                                       \n---------------------------------------------------------------------------------------\nAggregate  (cost=8274298.83..8274298.84 rows=1 width=0)\n-&gt;  Hash Join  (cost=1692.25..8137039.36 rows=54903787 width=0)\n    Hash Cond: (a.bid = b.bid)\n     Join Filter: ((b.validfrom &lt;= a.asofdate) AND (b.validto &gt;= a.asofdate))\n     -&gt;  Seq Scan on \"A\" a  (cost=0.00..37727.00 rows=986467 width=12)\n           Filter: ((asofdate &gt; 20110101) AND (asofdate &lt; 20111231))\n     -&gt;  Hash  (cost=821.00..821.00 rows=50100 width=12)\n           -&gt;  Seq Scan on \"B\" b  (cost=0.00..821.00 rows=50100 width=12)\n</code></pre>\n\n<p>see <a href=\"http://explain.depesz.com/s/1c5\" rel=\"nofollow\">http://explain.depesz.com/s/1c5</a> for the analyze output </p>\n\n<p><img src=\"http://i.stack.imgur.com/2CWWU.png\" alt=\"here is the query plan from sqlserver for the same query\"></p>\n"},{"tags":["database","amazon-s3","amazon-web-services","webserver","amazon-ebs"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13084622,"title":"Amazon AWS: Multiple Instances, Same DB","body":"<p>In an Amazon AWS setup, how can two cloned instances (in different regions) refer to and share the same \"base\" dynamic web server files and read to / write from the same main database?</p>\n\n<p>Our current AMI instance is on an EBS-backed volume right now. However, apparently trying to share an EBS volume between two instances is a bad idea. I gathered that much from <strong><a href=\"http://stackoverflow.com/questions/841240/can-you-attach-amazon-ebs-to-multiple-instances\">this older 2009 answer</a></strong>, but it doesn't break down what alternatives there might be, other than Amazon S3. Or is S3 the only option? Is the OPs reasoning still valid 3 years later? What are our storage options for sharing DB data live realtime by multiple instances?</p>\n\n<blockquote>\n  <blockquote>\n    <p>If you want shared data, you can setup a server that all your instances can access. If you are wanting a simple storage area for all your instances, you can use Amazon's S3 storage service to store data that is distributed and scalable.</p>\n    \n    <p>Moving to the cloud, you can have the exact same setup, but you can possibly replace the fileserver with S3, or have all your instances connect to your fileserver.</p>\n  </blockquote>\n</blockquote>\n"},{"tags":["database","sql-server-2008","vb.net-2010"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13091330,"title":"Creating database tables data type","body":"<p>I am creating Employee table what Data Type I gave to CNIC No means (National Identity Card) No,, for example CNIC No:54400-1566178-1.\n Please tell me anyone what data type i give </p>\n"},{"tags":["php","mysql","database","associative-array"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13090711,"title":"Iterating Through MySQL Associative Array to Build New MySQL Result Set","body":"<p>I hope the title makes sense, if not I will try to clarify it here. Firstly, like a lot of the code I deal with, I inherited this or simply oversee it and have not been given the OK to re-write using mysqli so please spare the \"You're doing it wrong now posts\". Thanks in advance.</p>\n\n<p>table_1 has a layout like this</p>\n\n<pre><code>+----+-----------+------------+\n| id | from_name | from_email |\n+----+-----------+------------+\n| 1  |   John    | john@a.com |\n| 2  |   Juan    | juan@a.com |\n| 3  |   Mark    | mark@a.com |\n| 4  |   John    | john@a.com |\n+----+-----------+------------+\n</code></pre>\n\n<p>And I query it like THIS to get the results I need.</p>\n\n<pre><code>&lt;?php\n\n    $q = \"SELECT `id` FROM `table_1` WHERE `from_email` = 'john@a.com'\";\n    $r = mysql_query($q) or die(mysql_error()); // mysql_error is removed in production\n    $ids = mysql_fetch_assoc($r);\n\n ?&gt;\n</code></pre>\n\n<p>Now when I iterate through this and print the ids to the screen I get the expected results, </p>\n\n<pre><code>1\n4\n</code></pre>\n\n<p>Now I need to take these IDs and use them in a WHERE clause in Table_2 that holds size information so I can calculate the total size of all messages. Table_2 looks like this.</p>\n\n<pre><code>+----+---------+------------+\n| id | table_1 |    size    |\n+----+---------+------------+\n| 1  |    1    |   44023    |\n| 2  |    2    |     372    |\n| 3  |    3    |   13243    |\n| 4  |    4    |  423115    |\n+----+---------+------------+\n</code></pre>\n\n<p>Based on my desired solution I should be able to construct a while or foreach loop that would get the sizes and let me add them correct? I've tried the following:</p>\n\n<pre><code>&lt;?php\n\n    $total_size = 0;\n    while($ids = mysql_fetch_assoc($r)){\n         $q2 = \"SELECT `size` FROM `table_2` WHERE `table_1` = '\".$ids['id'].\"'\";\n         $r2 = mysql_query($q2) or die mysql_error()); // removed in production\n         $add = mysql_fetch_assoc($r2);\n\n         $total_size = $total_size + $add['size'];\n    }\n\n ?&gt;\n</code></pre>\n\n<p>But when I go to echo $total_size I see nothing, not even 0 on the screen and there's no errors thrown by MySQL. If I had designed this table originally all of this data would be in the same table but since I did not, I have no choice but to \"make it work\". From the looks of it, it should work.</p>\n"},{"tags":["php","mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13091056,"title":"Drop down menu and database","body":"<p>I'm trying to discover the best strategy to achieve this goal, so if anyone has a preferred method I'd appreciate it if you could explain how it works and sell it to me as the best option. Basically what I am trying to achieve is a drop down option for pulling reports online. They can be bought in packages which is the drop down, for example 1 report for $x, 10 reports for $x, etc... however as they pull reports this number needs to go down. To clarify if customer A signs up for 10 reports then his account will show in the database he is signed up for 10 reports, then when he pulls a report that number goes down by one in the database. How would you guys (and gals) do this?</p>\n\n<p>To add to this, the drop down is static, the number of reports remaining per account would be more dynamic in nature, but the starting number of reports would change based on which bulk package they signed up for.</p>\n"},{"tags":["php","mysql","database"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13090972,"title":"displaying items from database in rows","body":"<p>This image shows my website's homepage.</p>\n\n<p><img src=\"http://i.stack.imgur.com/RRJHe.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://i163.photobucket.com/albums/t315/smc22_2007/Website.png\" rel=\"nofollow\">http://i163.photobucket.com/albums/t315/smc22_2007/Website.png</a></p>\n\n<p>I want rows of 4, not rows of 5.</p>\n\n<p>Here is my php code:</p>\n\n<pre><code>&lt;?php\n\n$query = \"SELECT * FROM UFPProducts\";\n$results = mysql_query ($query, $connect);\n\nwhile ($row = @ mysql_fetch_array($results))\n{\n\nprint\n\n\n\n\"&lt;div id= 'item'&gt;\" .\n\n\"&lt;p&gt;Product id \".$row[\"ProductID\"].\"&lt;/p&gt;\".\n\"&lt;p&gt;&lt;img src=\".$row[\"Image\"].\"&gt;&lt;/p&gt;\".\n\"&lt;p&gt;&amp;pound\".$row[\"Price\"].\"&lt;/p&gt;\".\n\"&lt;p&gt;\".$row[\"Description\"].\"&lt;/p&gt;\".\n\n\"&lt;/div&gt;\";\n}\n</code></pre>\n\n<p>Here is the CSS for the above:</p>\n\n<pre><code>#item {\n    width:100px;\n    text-align:center;\n    border: 1px solid #D9D9D9;\n    padding: 0px;\n    list-style: none;\n    width: 150px;\n    float: left;    \n    margin-right: 15px;\n    margin-bottom: 15px;\n    border-radius: 10px;\n    -moz-border-radius: 10px; /* firefox rounded corners */\n    -webkit-border-radius: 10px; /* Safari rounded corners */\n    min-height: 220px;\n}\n\n\n\n#item li h1 {\ntext-align:center:\n}\n\n#item li#white{\n    min-height: 220px;\n}\n</code></pre>\n\n<p>How can I display rows of 4, not 5?</p>\n\n<p>Thankyou</p>\n"},{"tags":["database","search","cloud","blast"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13091263,"title":"make Blast search take longer time","body":"<p>i am referring to this link : <a href=\"http://www.ncbi.nlm.nih.gov/books/NBK52637/\" rel=\"nofollow\">http://www.ncbi.nlm.nih.gov/books/NBK52637/</a> , to try blast search on the single machine. I had dl the blast app and refseq_rna blast database from the NCBI website. The blast search take only few seconds to get the result. I want to ask if there any way that can make the blast search take more time to search for a matching sequence on a blast database ? </p>\n"},{"tags":["sql-server","database","qt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":7792293,"title":"Retrieving SCOPE_IDENTITY() with QSqlQuery","body":"<pre><code>bool ok = query.exec(\"CREATE TABLE person ( IdTable INTEGER IDENTITY(1,1) NOT NULL PRIMARY KEY, LastName varchar(255), FirstName varchar(255)  )\");            \nbool ok1 = query.exec(\"INSERT INTO person VALUES ('Wijethilake','Tharanga')\");            \nQSqlQuery scope_Identity(\"SELECT SCOPE_IDENTITY() AS Current_Identity;\");\nQSqlRecord rec = scope_Identity.record();\nqDebug() &lt;&lt; scope_Identity.isValid();\n</code></pre>\n\n<p>This returns false. IS it that something wrong with qt or is my scope Identity statement wrong. I really appreciate someone's help on this.</p>\n\n<p>Thank you. </p>\n"},{"tags":["c#","sql-server","database","entity-framework","sql-server-ce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13085764,"title":"Generating both SQL Server CE database and entity model at runtime","body":"<p>I am developing a desktop application where different users can use the application on the same machine, the application should generate a different SQL Server CE database file for each user where the databases have the same schema (structure), and then generate an entity model from that database, how should I go about doing this ? </p>\n\n<p>I am new to both the Entity Framework and the SQL Server CE engine, so I am willing to consider any solution.</p>\n"},{"tags":["sql","database","sqlite","fts3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":361,"score":1,"question_id":4176260,"title":"How to store binary data in SQLite tables with FTS3 enabled?","body":"<p>I'm transitioning an application from using a normal SQLite database to one with full text search enabled. It has several BLOB columns that store things like digital signatures, which obviously do not need to be indexed. I've read that other people solve this by moving all non-TEXT data to a separate, non-FTS3 table that they inner join with the FTS3 table when necessary, but this is a very inelegant solution. Is there no way to simply exclude certain columns from indexing?</p>\n"},{"tags":["mysql","sql","database","query"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":243,"score":3,"question_id":8372121,"title":"Optimizing a mysql index on an ordered, range query","body":"<p>I'm looking for help with some offensive mysql queries I currently have running against my server. My goal is to show the most expensive ebay items with end time's less than one month ago.</p>\n\n<p>I'm using MySQL 5.1.</p>\n\n<p>My query is as follows ('ebay_items' has ~350,000 rows):</p>\n\n<pre><code>explain SELECT `ebay_items`.* FROM `ebay_items` \nWHERE (endtime &gt; NOW()-INTERVAL 1 MONTH) ORDER BY price desc\\G;\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>*************************** 1. row ***************************\nid: 1\nselect_type: SIMPLE\ntable: ebay_items\ntype: range\npossible_keys: endtime\nkey: endtime\nkey_len: 9\nref: NULL\nrows: 71760\nExtra: Using where; Using filesort\n1 row in set (0.00 sec)\n</code></pre>\n\n<p>This query results in an expensive 'filesort' using 71760 rows. </p>\n\n<pre><code>show indexes on ebay_items;\n</code></pre>\n\n<p>yields (I've only included the index in question, 'endtime'):</p>\n\n<pre><code>*************************** 7. row ***************************\nTable: ebay_items\nNon_unique: 1\nKey_name: endtime\nSeq_in_index: 1\nColumn_name: endtime\nCollation: A\nCardinality: 230697\nSub_part: NULL\nPacked: NULL\nNull: YES\nIndex_type: BTREE\nComment: \n*************************** 8. row ***************************\nTable: ebay_items\nNon_unique: 1\nKey_name: endtime\nSeq_in_index: 2\nColumn_name: price\nCollation: A\nCardinality: 230697\nSub_part: NULL\nPacked: NULL\nNull: YES\nIndex_type: BTREE\nComment: \n</code></pre>\n\n<p>Only the 'endtime' key of the composite endtime index (endtime, price) is being used. As far as I know, MySQL will not make use of a composite index effectively when dealing with a range query in conjunction with an 'order by' clause. </p>\n\n<p>Has anyone found a good workout for this issues? I'd primarily like to solve it at the DB level (either by a smarter use of indexes or schema changes) but I'm open to suggestions. </p>\n\n<p>One way that I could avoid the range query is to have a background task cycling through every X hours and marking an enum type field on ebay_items as '&lt; 1 day old', '&lt; 1 week old', '&lt; 1 month old', etc. I was hoping to solve the problem in a cleaner way.</p>\n\n<p>Is there any way to execute MySQL range query with an order by clause, queries in an efficient manner? </p>\n\n<p>Huge thanks for your help! </p>\n\n<p>Edit: Kohányi Róbert made the good point that I should clarify the exact problem I was having with the query. The query results in the disk I/O being pegged for it's duration. If several of these queries are running simultaneously, processes get backed up and the machine locks up. My assumption is that the filesort is eating the I/O. </p>\n\n<p>I should also mention that the table is using the MyISAM engine. Would it more performant and less I/O intensive to use the InnoDB engine? Thanks again.</p>\n"},{"tags":["php","database","unit-testing","tdd","simpletest"],"answer_count":9,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":2374,"score":4,"question_id":175153,"title":"How do you set up database testing using the PHP SimpleTest framework","body":"<p>I am using SimpleTest, a PHP-based unit testing framework. I am testing new code that will handle storing and retrieving website comments from a database. I am at a loss for how to structure the project to test the database access code.</p>\n\n<p>I am looking for any suggestions as to best practices for testing db code in a PHP application. Examples are really great. Sites for further reading are great.</p>\n\n<p>Thank you kindly. :)</p>\n"},{"tags":["c++","sql","database","api","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":46,"score":2,"question_id":13089698,"title":"sqlite C API, UDATE database","body":"<p>I'm Currently working to develop a method of creating an edit window in a program I already have, which accesses an Sqlite database which is set and contains 4 pieces for info, id for the entry, name of the entry(which is user specified), a file location(also user entered) and members of the group. \nIn the edit window, there are two labels, a text entry box for the name and a button to open the file browser.\nmy problem is when I set in the sql database in the add new window, the all the data is set in the database, although when I then want to edit the data from the database, I currently delete the old data then add in new, although looking over the documentation on line I found an UPDATE method, and though this would work better, but can't get the right indexes for the database somehow, how I call for index 3, I get an error </p>\n\n<pre><code>Unhandled exception at 0x01143622 in bv.exe: 0xC0000005: Access violation reading location 0x00000000.\n</code></pre>\n\n<p>after some research I found that this is caused by a NULL reference pointer, which the only cause I could find for this would be that the field is empty, but I clearly set it in the add window. \nPlease Help :(</p>\n\n<pre><code>std::string campaign_sql(\"SELECT id, name, config, members FROM bv_campaigns\");\n\nsqlite3_stmt *prepped_statement;\nsqlite3_prepare(mainApp-&gt;GetAppData().db_conn, campaign_sql.c_str(), campaign_sql.length(), &amp;prepped_statement, NULL);\n//std::string name((const char *)sqlite3_column_text(prepped_statement, 1));\nwhile ( SQLITE_ROW == sqlite3_step(prepped_statement) ) \n{\n    std::string name((const char *)sqlite3_column_text(prepped_statement, 1));\n    wxMessageBox(name);\n    std::string config((const char *)sqlite3_column_text(prepped_statement, 3));\n    wxMessageBox(config);\n</code></pre>\n\n<p>returns NULL reference error</p>\n\n<pre><code>std::string name = pds.getCampaignName();\n            std::string config = pds.serialize();\n\n            std::string update_sql(\"INSERT INTO bv_campaigns (name, type, config) VALUES(?,'campaignCallListDataSourcePython',?)\");\n            sqlite3_stmt *prepped_statement;\n            sqlite3_prepare(this-&gt;GetAppData().db_conn, update_sql.c_str(), update_sql.length(), &amp;prepped_statement, NULL);\n\n            sqlite3_bind_text(prepped_statement, 1, name.c_str(), name.length(), NULL);\n            sqlite3_bind_text(prepped_statement, 3, config.c_str(), config.length(), NULL);\n</code></pre>\n\n<p>where data is added, serialize and get campaign name functions get the values from the add window,</p>\n\n<p>I think that's everything needed. If I'm missing anything please ask.\nThanks</p>\n"},{"tags":["database","razor","visual-studio-2012","webmatrix-2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13080754,"title":"Do I need to do anything \"special\" to use the WebMatrix database helper in Visual Studio '12?","body":"<p>I'm doing some basic db querying in WebMatrix.</p>\n\n<p>Something like,</p>\n\n<pre><code>@{\n  var db = Database.Open(\"test\"); //test is the name of my database\n  var selectQuery = \"SELECT * FROM MY_CUSTOM_TABLE\"\n}\n\n//Doing a `@foreach` and showing the items from the table\n</code></pre>\n\n<p>When I do the same thing in Visual Studio,</p>\n\n<p>I get an error <code>Connection String not found</code> at <code>var db = Database.Open(\"test\");</code>.</p>\n\n<p>Am I missing some <code>using</code> statements? or am I doing something utterly wrong?</p>\n"},{"tags":["sql","database","visual-studio-2010"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13089871,"title":"How to set Defaultvalue in the Dataset designer to newid() or newGUID() in visual studio 2010","body":"<p>simple question I set the default value in SQLtable-GUID column to newid() why isn't it set the same in visual studio dataset!</p>\n"},{"tags":["database","database-design"],"answer_count":32,"favorite_count":32,"up_vote_count":72,"down_vote_count":0,"view_count":12594,"score":72,"question_id":83147,"title":"What's wrong with foreign keys?","body":"<p>I remember hearing <a href=\"http://en.wikipedia.org/wiki/Joel_Spolsky\">Joel Spolsky</a> mention in <a href=\"https://stackoverflow.fogbugz.com/default.asp?W4\">podcast 014</a> that he'd barely ever used a foreign key (if I remember correctly). However, to me they seem pretty vital to avoid duplication and subsequent data integrity problems throughout your database.</p>\n\n<p>Do people have some solid reasons as to why (to avoid a discussion in lines with Stack Overflow principles)?</p>\n\n<p><strong>Edit:</strong> <a href=\"https://stackoverflow.fogbugz.com/default.asp?W13086\">\"I've yet to have a reason to create a foreign key, so this might be my first reason to actually set up one.\"</a></p>\n"},{"tags":["database","database-design","entity","erd"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13079586,"title":"Modeling 3 entities with relationships","body":"<p>Say we have three entities in our environment, <strong>Teacher</strong>, <strong>Student</strong> and <strong>Course</strong>.</p>\n\n<ul>\n<li>Every teacher has (teaches) 1 or more Courses and each Course is offered by 0 or more teachers</li>\n<li>Every Student has taken 1 or more Courses and each Course is taken by 0 or more Students</li>\n<li>Every Teacher has 0 or more Students and each Student has 1 or more Teachers</li>\n</ul>\n\n<p>In this relationships, each relationship could be inferred from the two others, for example to know which Students are being taught by Teacher T1, go through the relationship between <em>Teacher and Course</em> to see what Courses are being taught by the teacher T1, and then go through the relationship between <em>Course and Student</em> to see which Students has taken these Courses. These Students are the ones that are being taught by teacher T1.</p>\n\n<p>So we don't need an explicit relationship between <em>Student and Teacher</em>, because \"Conceptually\" this relationship exists.</p>\n\n<p><strong>Finally</strong> the question is:</p>\n\n<p>In <strong>Conceptual Design</strong> is it necessary to show all the three relationships?</p>\n\n<p>And as an extra information, how would it be in <strong>Logical Design</strong> (designing database tables and relationships), should the relationship remain as an <em>inferred relationship</em> or should be explicitly defined ?</p>\n"},{"tags":["sql","database","quotes"],"answer_count":5,"favorite_count":4,"up_vote_count":14,"down_vote_count":0,"view_count":8762,"score":14,"question_id":1992314,"title":"What is the difference between single and double quotes in SQL?","body":"<p>What is the difference between single quotes and double quotes in SQL?</p>\n"},{"tags":["mysql","database","query"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13072320,"title":"MySQL subquery returns false data","body":"<p>I'm having an issue with a subquery / union.</p>\n\n<p>Here is what i want: i have a \"backup table\" (it is used for some purposes, not just backup) for orders, which i call dc_all_orders. I have two other tables, wb_orders and wb_printed. An order first gets into wb_orders and then, after a workflow step, it gets into wb_printed.\nwe have seen that some orderitems went missing, which we have in the backup table, but not in the two main order tables. I wanted to count the affected orderItems. I know 100% that the count should be more then 0, but it keeps returning zero. An example for an item which should count in:</p>\n\n<pre><code>mysql&gt; select orderId,productId from dc_all_orders where productId = '22040247153891';\n+---------------------+----------------+\n| orderId             | productId      |\n+---------------------+----------------+\n| 20319833369460309A  | 22040247153891 |\n+---------------------+----------------+\n1 row in set (2.06 sec)\n\n\nmysql&gt; select * from wb_orders where productId = '22040247153891';\nEmpty set (0.00 sec)\n\nmysql&gt; select * from wb_printed where productId = '22040247153891';\nEmpty set (0.00 sec)\n</code></pre>\n\n<p>So this productId should show up. Now: </p>\n\n<pre><code>mysql&gt; select count(*) from (select productId from wb_orders UNION select productId from wb_printed) as x;\n+----------+\n| count(*) |\n+----------+\n|  4295961 |\n+----------+\n1 row in set (2 min 51.80 sec)\n</code></pre>\n\n<p>So you know how much data we have. </p>\n\n<pre><code>mysql&gt; select count(*) from dc_all_orders WHERE productId NOT IN \n    -&gt; (select productId from wb_orders UNION select productId from wb_printed);\n+----------+\n| count(*) |\n+----------+\n|        0 |\n+----------+\n1 row in set (11 min 9.20 sec)\n</code></pre>\n\n<p>I cannot explain it. I tried it with different ways, but every way shows 0. All i can think of is the size of the subquery, but i checked the logs, no error and as you see, results are returned without an error. </p>\n\n<p>Am is missing the obvious? :)</p>\n\n<p>Here is an other way:</p>\n\n<pre><code>mysql&gt; select count(productId) from dc_all_orders WHERE productId NOT IN (select productId from wb_orders) AND  productId NOT IN (select productId from wb_printed);\n+------------------+\n| count(productId) |\n+------------------+\n|                0 |\n+------------------+\n1 row in set (6 min 3.07 sec)\n</code></pre>\n\n<p>Edit: MySQL version: \"Server version: 5.1.65-ius Distributed by The IUS Community Project\" on a CentOS 5.8</p>\n"},{"tags":["asp.net","sql","database","linq","query"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13086360,"title":"DropDownList value into Linq query where clause","body":"<p>I am facing following problem. I want a search field with a DropDowList next to it, where user can pick an item for which he wants to search. I have to make it with this LINQ code not just a SQL query.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>var Metadata = from m in db.Metadatas\n    join mm in db.Multimedias\n    on m.multimediaID equals mm.multimediaID\n    where (m.   { Here would i have the selected value from the dropdownlist. } .ToString().Contains(textboxvalue) ||\n           mm.  { Here would i have the selected value from the dropdownlist. } .ToString().Contains(textboxvalue))\n           &amp;&amp; mm.filetype.ToString().Contains(radiobuttonvalue)\n</code></pre>\n\n<p>I want to put something like: \"Dropdownlist.selectedvalue\" into the area { Here would i have the selected value from the dropdownlist. }</p>\n\n<p>I hope you guys understand my idea and problem.</p>\n"},{"tags":["objective-c","ios","database","core-data","fetch"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13088290,"title":"Data fetching really slow from webservice","body":"<p>I have the following webserivce.</p>\n\n<pre><code>\"club\": {\n\n    \"staff\": [ … ],\n    \"trainingen\": [ … ],\n    \"team\": [\n        {\n            \"name\": \"Baerts Lennert\",\n            \"number\": \"0\",\n            \"position\": \"Doelman\",\n            \"birthdate\": \"1996-09-01\",\n            \"red_cards\": 0,\n            \"yellow_cards\": 0,\n            \"news\": [\n                {\n                    \"nid\": \"1158\",\n                    \"player_id\": 1\n                },\n                {\n                    \"nid\": \"1148\",\n                    \"player_id\": 1\n                },\n\n            ]\n        },\n</code></pre>\n\n<p>I'm getting this with the following method.</p>\n\n<pre><code>+ (NSArray *)getPlayNewsWithIndex:(int)index\n{\n    NSLog(@\"index is hier %d\",index);\n    NSString *request = [NSString stringWithFormat:@\"http://www.krcgenk.be/mobile/json/request/club/type/ipad\"];\n    NSLog(@\"log1\");\n    NSArray *arr = [[self executeGenkFetch:request] valueForKeyPath:@\"club.team\"];\n    NSLog(@\"log2\");\n    NSArray *arr2 = [[arr objectAtIndex:index] valueForKey:@\"news\"];\n    NSLog(@\"log3\");\n    return arr2;\n}\n</code></pre>\n\n<p>After it logs \"log1\". It takes a while when the function continues. My question is now, how this is possible? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is my executeGenkFetch</p>\n\n<pre><code>+ (NSDictionary *)executeGenkFetch:(NSString *)query\n{\n    query = [NSString stringWithFormat:@\"%@\", query];\n    query = [query stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];\n    // NSLog(@\"[%@ %@] sent %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), query);\n    NSData *jsonData = [[NSString stringWithContentsOfURL:[NSURL URLWithString:query] encoding:NSUTF8StringEncoding error:nil] dataUsingEncoding:NSUTF8StringEncoding];\n    NSError *error = nil;\n    NSDictionary *results = jsonData ? [NSJSONSerialization JSONObjectWithData:jsonData options:NSJSONReadingMutableContainers|NSJSONReadingMutableLeaves error:&amp;error] : nil;\n    if (error) NSLog(@\"[%@ %@] JSON error: %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), error.localizedDescription);\n    // NSLog(@\"[%@ %@] received %@\", NSStringFromClass([self class]), NSStringFromSelector(_cmd), results);\n    return results;\n}\n</code></pre>\n"},{"tags":["android","database","ormlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13087401,"title":"android ORMLite populate table on database create","body":"<p>I'm using ORMLite in my android application. Is there a way when creating the database in the database helper to add some rows, or I must check in the main activity if there is already a database created and then create it and populate it if it doesn't exists.\nWhat I want to achieve: When the application starts for the first time, add some data in the database (when creating the database file).</p>\n"},{"tags":["mysql","database","restore","database-administration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":13087790,"title":"How to restore dump file using Mysql Query Browser","body":"<p>When i am trying to run some queries from the batch file i am getting some error message in my query browser</p>\n\n<p>I have tried with </p>\n\n<pre><code>source E:\\Rename_scripts_unused_tables_msp.sql\n</code></pre>\n\n<p>and i am getting error message like </p>\n\n<pre><code>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'source   E:\\Rename_scripts_unused_tables_msp updated.sql' at line 1'\n</code></pre>\n\n<p>And the query works fine in command line.</p>\n\n<p><b>Here is my source file statements:</b></p>\n\n<pre><code>rename table appliance_backup_usage_history to unused_appliance_backup_usage_history;\n\nrename table backup_core_server to unused_backup_core_server;\n\nrename table bdr_vms to unused_bdr_vms;\n\nrename table client_details1 to unused_client_details1;\n\nrename table client_service_technologies_backup to unused_client_service_technologies_backup;\n\nrename table cloud_instances to unused_cloud_instances;\n</code></pre>\n\n<p><b>and more statements like that </b></p>\n\n<p>What's the reason behind this ??</p>\n"},{"tags":["database","algorithm","query","math"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":233,"score":4,"question_id":12327004,"title":"How does the HyperLogLog algorithm work?","body":"<p>I've been learning about different algorithms in my spare time recently, and one that I came across which appears to be very interesting is called the HyperLogLog algorithm - which estimates how many unique items are in a set.</p>\n\n<p>This was particularly interesting to me because it brought me back to my MySQL days when I saw that \"Cardinality\" value (which I always assumed until recently that it was calculated not estimated).</p>\n\n<p>So I know how to write an algorithm in O(n) that will calculate how many unique items are in a set. I wrote this in Javascript</p>\n\n<pre><code>function countUniqueAlgo1(set) {\n    var Table = {};\n    var numUnique = 0;\n    var numDataPoints = set.length;\n    for (var j = 0; j &lt; numDataPoints; j++) {\n        var val = set[j];\n        if (Table[val] != null) {\n            continue;\n        }\n        Table[val] = 1;\n        numUnique++;\n    }\n    return numUnique;\n}\n</code></pre>\n\n<p>But the problem is that my algorithm, while O(n), uses a lot of memory (storing values in <code>Table</code>).</p>\n\n<p>I've been reading this paper about how to count duplicates in a set in O(n) time and using minimal memory.\n<a href=\"http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf\" rel=\"nofollow\">http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf</a></p>\n\n<p>It explains that by hashing and counting bits or something one can estimate within a certain probability (assuming the set is evenly distributed) the number of unique items in a set.</p>\n\n<p>I've read the paper but I can't seem to understand it. Can someone give a more layperson's explanation? I know what hashes are, but I don't understand how they are used in this HyperLogLog algorithm.</p>\n"},{"tags":["database","distributed"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":9802934,"title":"How to access individual \"columns\" from retrieved element?","body":"<p>Is there any way to retrieve an element from an ETS table and acces, say column 1, without inserting the object into the ETS as a record?</p>\n\n<p>The only place I have seen similar syntax, to refer to each column is with the '$1' on the match arguments.</p>\n"},{"tags":["mysql","database","mongodb","database-design","indexing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13070307,"title":"Indexing all field of two columns table","body":"<p>I have a table/schema with two columns named <strong>day</strong> of <em>DateTime</em> and <strong>user_id</strong> of <em>Integer</em>. Right know I made both columns indexed.  </p>\n\n<p>Is performance improvements gained from indexing worth it, considering huge fraction of additional space used by the index and there are only two columns? How do you justify them?  </p>\n\n<p>How does this differ if I use MongoDB or MySQL?</p>\n"},{"tags":["mysql","sql","database","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13086733,"title":"Obtain value of Primary Key for Trigger Updated Row (MySQL)","body":"<p>I wish to identify the value for the <code>PRIMARY KEY</code> of the row that I have just updated.\ni.e : <code>X</code> is an <code>int</code> value <code>PRIMARY KEY</code> on the <code>person</code> table.</p>\n\n<p>This trigger works when I manually enter the <code>int</code> value e.g replace <code>X</code> with 1001.</p>\n\n<pre><code>use mydatabase;\nDROP TRIGGER update_approved;\ndelimiter $\nCREATE TRIGGER update_approved AFTER UPDATE ON person\nFOR EACH ROW BEGIN\nUPDATE referral_person SET\n    approved = 1 WHERE\n    id = X;\nEND$\ndelimiter ;\n</code></pre>\n"},{"tags":["sql-server","database","backup","restore"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":5723,"score":5,"question_id":16491,"title":"Restore database backup over the network","body":"<p>How do you restore a database backup using SQL Server 2005 over the network? I recall doing this before but there was something odd about the way you had to do it.</p>\n"},{"tags":["mysql","database","database-administration"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13085724,"title":"How does mysql.proc table get entries?","body":"<p>I want to know that in mysql when I create any procedure or function an entry for the corresponding create gets an entry in the mysql.proc table. I want to know by which process or trigger in mysql , It gets updated. </p>\n\n<p>Thanks,</p>\n\n<p>Nitesh Kumar</p>\n"},{"tags":["mysql","sql","database","character-encoding","gedit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13087025,"title":"Isssues with mediumblob binary data (mysql.log file character encoding & phpmyadmin crashing ff)","body":"<p>I am doing some work on a zen cart site at the moment and have come across \nsome issues with some data stored in the database. the data is binary data stored as mediumblob type.</p>\n\n<p>I am trying to log sql queries and when I open the log file the update queries for this filed are highlighted in red and the following error message is displayed when opening the file with gedit:</p>\n\n<blockquote>\n  <p>There was a problem opening the file /var/log/mysql/mysql.log.  The\n  file you have opened contains some invalid characters. If you continue\n  editing this file you could corrupt this document. You can choose\n  another Character Encoding and try Again. Character Encoding: Current\n  Locale (UTF-8)</p>\n</blockquote>\n\n<p>Also, when I went in to edit the table row through phpmyadmin in firefox, firefox crashed. I saw the warning about editing the field and didnt change a thing -  I only clicked edit to see the data type.</p>\n\n<p>None of these things are causing me a problem at the moment, since the only time I am editing the log file is to clear it and I now know the data type to ask this question so no real need to access it through phpmtadmin again.</p>\n\n<p>However I can see that unless I understand what is happening I could potentially cause some mischief further down the line. So I'm looking for an explanation of what this medium blob field is, what it might be used for (should I be using it for anything in my projects) and whether this character encoding issue would cause me problems if I were to edit other parts of the document, for example for db import/export.</p>\n\n<p>P.s I did do a search on medium blob, but don't feel like understand it any better - a clear explanation would be appreciated as well as any advice on what I should be doing surrounding these fields.</p>\n"},{"tags":["java","database","oracle","transactions","dblink"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1558,"score":1,"question_id":5496612,"title":"Error on Oracle while using DBLINK","body":"<p>I am Using jboss5.1.x, EJB3.0 ,JPA3.</p>\n\n<p>I am trying to do 'select' query from view which is connected via <strong>dblink</strong> to another database.</p>\n\n<p>source database is <strong>Oracle 9</strong>, destination dabatase is <strong>Oracle 8</strong>.</p>\n\n<p>I am getting this error:</p>\n\n<pre><code>15:27:06,625 WARN [JDBCExceptionReporter] SQL Error: 24777, SQLState: 99999\n\n15:27:06,625 ERROR [JDBCExceptionReporter] ORA-24777: use of non-migratable database link not allowed\n</code></pre>\n\n<p>I found solution to this error after I understood that I cant use <strong>dblink</strong> while using <strong>XA</strong>. So I managed to solved by changing the dblink script to <strong>create shared database link</strong> as follow: </p>\n\n<pre><code> CREATE SHARED DATABASE LINK CONNECT TO IDENTIFIED BY AUTHENTICATED BY IDENTIFIED BY USING \n</code></pre>\n\n<p>everything worked fine in this test environment. </p>\n\n<p>Now I've moved my application to production environment, where the source database is <strong>Oracle 11</strong> while the destination is still <strong>Oracle 8</strong>.</p>\n\n<p>The trick that I used didnt work this time and I couldnt find a solution. This is the new exception I am getting:</p>\n\n<pre><code>    Caused by: org.hibernate.exception.GenericJDBCException: could not execute query\n    at ....Caused by: java.sql.SQLException: ORA-01012: not logged on\n    ORA-02063: preceding line from TO_VANTIVE\n</code></pre>\n\n<p>Thanks for your help,</p>\n\n<p>ray,</p>\n"},{"tags":["database","postgresql","replication","database-replication","slony"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":796,"score":2,"question_id":3713927,"title":"PostgreSQL - Slony > FATAL ERROR: duplicate key value violates unique constraint \"sl_nodelock-pkey\"","body":"<p>Just posting this here and might help the others:</p>\n\n<p>I got this error when we had an outage a while ago, and tried to restart the slon replication service as the replication is NOT really replicating the data from MASTER to SLAVE:</p>\n\n<pre><code>FATAL  localListenThread: \"select \"_MY_DATABASE_copy\".cleanupNodelock(); insert into \"_MY_DATABASE_copy\".sl_nodelock values (    1, 0, \"pg_catalog\".pg_backend_pid()); \" - ERROR:  duplicate key value violates unique constraint \"sl_nodelock-pkey\"\nDEBUG2 slon_abort() from pid=xxxx\nDEBUG1 slon: shutdown requested\n</code></pre>\n"},{"tags":["sql","database","performance","postgresql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13085521,"title":"PostgreSQL code optimalization","body":"<p>I have this code:</p>\n\n<pre><code>SELECT \n    rv_storage.m_product_id AS n_product_id,\n    rv_storage.value,\n    rv_storage.name,\n    m_warehouse.name AS warehouse_name,\n    rv_storage.qtyonhand,\n    rv_transaction.m_transaction_id,\n\n    CASE WHEN rv_transaction.movementtype = 'V+' THEN movementdate\n    ELSE NULL END AS last_in,\n\n    CASE WHEN rv_transaction.movementtype = 'C-' THEN movementdate\n    ELSE NULL END AS last_out,\n\n    rv_transaction.movementagedays,\n\n    CASE WHEN (movementagedays &lt; -90) AND (movementagedays &gt;= -180)  THEN qtyonhand\n    ELSE NULL END AS more_than_90,\n\n    CASE WHEN movementagedays &lt; -180 THEN qtyonhand\n    ELSE NULL END AS more_than_180\nFROM\n    adempiere.rv_storage\n    INNER JOIN\n    adempiere.rv_transaction ON\n        rv_transaction.m_product_id = rv_storage.m_product_id \n        AND rv_transaction.movementagedays = (\n            SELECT MAX(movementagedays) \n            FROM adempiere.rv_transaction \n            WHERE\n                rv_transaction.m_product_id = rv_storage.m_product_id \n                AND rv_transaction.movementtype = 'C-'\n                OR rv_transaction.movementtype = 'V+'\n            )\n    INNER JOIN\n    adempiere.m_warehouse ON\n        m_warehouse.m_warehouse_id = rv_storage.m_warehouse_id\nWHERE rv_storage.m_product_id IN (\n    SELECT m_product_id\n    FROM adempiere.rv_transaction\n    WHERE movementagedays &lt; -90\n    )\nORDER BY n_product_id;\n</code></pre>\n\n<p>That results in following table:</p>\n\n<p><img src=\"http://img9.imageshack.us/img9/4506/table3n.png\" alt=\"table\"></p>\n\n<p>But on the server with live data (100k+ rows on each table ) it is too slow.\nCan somebody tell me how can the code be optimized?</p>\n\n<p>Thank You</p>\n"},{"tags":["database","hibernate","database-design","relational-database","database-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13084063,"title":"which is more efficient single table with large data columns or multiple tables? (hibernate - database)","body":"<p>My web application is implemented in Grails.</p>\n\n<p>My situation is that I have a domain class (hibernate class) with more columns and some of them are large Strings, up to 4000 characters. </p>\n\n<p>For example :</p>\n\n<pre><code>String description // max 4000\n// column2, column3, etc\n</code></pre>\n\n<p>Now I have to implement a multiple language database for this elements and my strategy is to have one field for every language.</p>\n\n<pre><code>String description_en_US\nString description_de_DE\n</code></pre>\n\n<p>My question is if it is more efficient if I have a separate table for every language, or to save it in one large table. \nThe question has two parts. First, which is more efficient for hibernate if it uses a large memory when loading the data and second, which is more efficient for the database?</p>\n\n<p>It can happen that later I'll have more than 10 languages.</p>\n"},{"tags":["xml","database","undefined","liquibase"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13085487,"title":"How to do error handling in Liquibase for unset dynamic properties in changelog?","body":"<p>In our <strong>changelog-master.xml</strong> file we have a list of the changesets we want to apply to the DB schema. For example:</p>\n\n<pre><code>&lt;changeSet author=\"test\" id=\"01-update\" runOnChange=\"true\"&gt;\n        &lt;update tableName=\"system_attributes\"&gt;\n            &lt;column name=\"value\" value=\"${WebServiceURL}\" /&gt;\n            &lt;where&gt;key='WebServiceURL'&lt;/where&gt;\n        &lt;/update&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>Our dynamic properties are then defined in our <strong>changelog.xml</strong> file:</p>\n\n<pre><code>&lt;!-- FROM TABLE SYSTEM_ATTRIBUTES --&gt;\n&lt;property name=\"WebServiceURL\" value=\"https://localhost/webService/\" /&gt; \n    ...\n</code></pre>\n\n<p>With that in mind, liquibase will then replace the <code>${WebServiceURL}</code> statement with <code>https://localhost/webService/</code> when the tool is run. This works fine. However, how do we do error handling when the property <code>${WebServiceURL}</code> is undefined in the <strong>changelog.xml</strong> file?</p>\n\n<p>I need it to either do a transactional rollback, or throw some sort of error message and an exit of liquibase when the <strong>changelog-master.xml</strong> tries to access an undefined variable.</p>\n"},{"tags":["android","database","listview","adapter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13083807,"title":"Android ListView from a many to many db relationship","body":"<p>I have in my db 2 table with a many to many relationship.</p>\n\n<p>TAB_ARTICLES: {_ID, TITLE, BODY, DATE}</p>\n\n<p>TAB_TAG: {_ID, NAME, COLOR, DATE}</p>\n\n<p>TAB_ART_TAG: {_ID, ARTICLE_ID, TAG_ID}</p>\n\n<p>I need to populate a ListView, one row for article and in every row I need to have a TextView for every label linked to that article. Like the following <a href=\"https://docs.google.com/open?id=0B1gn5aOec3sjQjF4WU53enhjQTQ\" rel=\"nofollow\">image</a></p>\n\n<p>I think 2 solutions.</p>\n\n<p>a. I use a CursorAdapter with a cursor made only on TAB_ARTICLE and than in every row I do a query to join the other 2 tables looking for all tags related at this article. This solution require a lot of db accesses.</p>\n\n<p>b. I realize a temporary table</p>\n\n<p>TABLE_TEMP: {ARTICLE_TITLE, ARTICLE_BODY, ARTICLE_DATE, TAG1_NAME, TAG1_COLOR, TAG2_NAME, TAG2_COLOR, ...}</p>\n\n<p>and I use a query on this table as cursor for custom adapter. This solution use more space and have a limitation on possible displayed tags due to table columns.</p>\n\n<p>Are there other ways?</p>\n"},{"tags":["mysql","database","indexes"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":75,"score":3,"question_id":2003123,"title":"Should I use indexes for a many-to-many database table?","body":"<p>does it make sense to create indexes for a table called user_movies with the following columns:</p>\n\n<p>user_id\nmovie_id</p>\n\n<p>There will be much more reading than inserting or updating on this table but I'm not sure what to do. Also: Is it adequate to omit a primary key in this situation?</p>\n"},{"tags":["mysql","database","replication","database-replication","master-slave"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13083617,"title":"MySQL replication Master-Slave","body":"<p>I am about to do a MySQL replication for my typo3 Database. There are two servers. You guessed it one is the Master and one is the Slave.</p>\n\n<p>Master my.cnf:<br>\n<code>\n[mysql]<br>\nserver-id = 1<br>\nlog-bin<br>\nexpire_logs_days = 21<br>\nmax_binlog_size = 500M<br>\nbinlog-ignore-db=mysql<br>\n</code><br></p>\n\n<p>Slave my.cnf:<br>\n<code>\n[mysql]<br>\nserver-id = 2<br>\nbinlog-ignore-db = mysql<br>\nreplicate-ignore-db = mysql<br>\nauto-increment-offset = 1<br>\nexpire_logs_days = 21<br>\nmax_binlog_size = 500M<br>\n</code></p>\n\n<p>User on Master: <code>repl@slaveip   REPLICATION SLAVE, REPLICATION CLIENT</code><br>\nUser on Slave: <code>repl@masterip   REPLICATION SLAVE, REPLICATION CLIENT</code></p>\n\n<p>So far everything works, even if I change something on Master but if I delete the same thing on Master, Slave stops with this error message:</p>\n\n<p><code>Last_SQL_Error: Error 'Duplicate entry '65021' for key 'PRIMARY'' on query. Default database: 'typo3'. Query: 'INSERT INTO sys_log (userid,type,action,error,details_nr,details,IP,tstamp,workspace) VALUES ('0','5','0','2','0','Core: Exception handler (WEB): Uncaught TYPO3 Exception: Reason: Segment &amp;quot;404&amp;quot; was not a keyword for a postVarSet as expected on page with id=0.&lt;br /&gt;\\n&lt;br /&gt;\\nAdditionally, http://www.21cdocs.de/404/ was not found while trying to retrieve the error document. | RuntimeException thrown in file /mnt/platte02/www/typo3/typo3_src-4.5.19/typo3/sysext/cms/tslib/class.tslib_fe.php in line 1542','masterip','1351240603','0')'</code></p>\n\n<p>This is what <code>show slave status\\G</code> shows me.</p>\n\n<p>Any solutions how I force the Slave to override <em>everything</em> on it with Masters data?</p>\n\n<p>- Timo</p>\n"},{"tags":["sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":76,"score":-4,"question_id":13065206,"title":"Need your help to write a SQL query (!)","body":"<p>There are two tables:</p>\n\n<pre><code>Clients (id, name)\n\nOrder (id, id_client, name), where id_client - foreign key. \n</code></pre>\n\n<p>Write a query that selects the identifier and name of the first table and the number of records in the second table, associated with them. The result should be sorted by surname in descending order.</p>\n\n<p>I've tried </p>\n\n<pre><code>SELECT Clients.id, Clients.name, count(id) FROM clients INNER JOIN Order on Clients.id=Order.id_client GROUP BY Clients.id, Clients.name ORDER BY Clients.name DESC\n</code></pre>\n\n<p>but id doesn't work ;(</p>\n"},{"tags":["c#","database","ado.net","dataset","oledb"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":13084961,"title":"How do I insert Rows from my DATASET to my DATABASE without using command builder?","body":"<p>I have a database with multiple tables each linked to the other.(Relational Database) \nI want to Insert Records from my Dataset to Database.\nFirst I tried using OledbCommandBuilder but that didn't work, I found out it couldn't work with relational databases.\nI haven't linked tables within my dataset, they are linked only in the database.\nWhat I have is a button named \"Commit\". When I press that button I want all the modifications in my dataset.datatable to be reflected in the respective database table. \nI only know how to INSERT, UPDATE, DELETE a single record at a time but that also is a lengthy task as first I have to do this.</p>\n\n<p>CODE IN THE SAVE BUTTON</p>\n\n<pre><code>             DataRow dRow = bookDS.Tables[\"Book\"].NewRow();\n\n               dRow[0] = Convert.ToInt64(textBookID.Text);\n               dRow[1] = textBookName.Text;\n               dRow[2] = textISBN.Text;\n</code></pre>\n\n<p>and so on (there are 30 columns)</p>\n\n<pre><code>              bookDS.Tables[\"Book\"].Rows.Add(dRow);\n</code></pre>\n\n<p>Then</p>\n\n<p>CODE IN THE COMMIT BUTTON</p>\n\n<p>con.Open();</p>\n\n<pre><code>                    string sql = \"Insert INTO Book Values (@BookId, @BookName, @ISBNNo, @PublicationId, @CategoryId, @Pages,@Price,@Author1,@Author2,@TotalCopies,@IssuedCopies,@AvailableCopies,@SupplierName,@Note)\";\n\n                    OleDbCommand save = new OleDbCommand(sql);\n\n                    save.Parameters.Add(\"@BookId\", OleDbType.BigInt).Value = Convert.ToInt64(dRow[0]);\n                    save.Parameters.Add(\"@BookName\", OleDbType.BSTR).Value = dRow[1];\n                    save.Parameters.Add(\"@ISBNNo\", OleDbType.BSTR).Value = dRow[2];\n</code></pre>\n\n<p>and so on...</p>\n\n<p>save.Connection = con;\n                        save.ExecuteNonQuery();</p>\n\n<pre><code>                    con.Close();\n</code></pre>\n\n<p>That is all i can think of but that only works for a single Row and so I its like I have to press the COMMIT button every time I press the SAVE button. </p>\n\n<p>Can anyone please help me with this ???</p>\n\n<p>P.S : I am using MSAccess and also don't want to use TABLEADAPTER ( I want to do everything  with my code )</p>\n"},{"tags":["mysql","sql","database"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13083701,"title":"MySQL query to determine records that are related to category A and B","body":"<p>Here is a simplified version of my data:</p>\n\n<pre><code>products:\n+----+-----------+\n| id | name      |\n+----+-----------+\n|  1 | Product X |\n|  2 | Product Y |\n|  3 | Product Z |\n+----+-----------+\n\ncategories:\n+----+---------------+\n| id | name          |\n+----+---------------+\n|  1 | Hotel         |\n|  2 | Accommodation |\n+----+---------------+\n\ncategory_product\n+----+------------+-------------+\n| id | product_id | category_id |\n+----+------------+-------------+\n|  1 |          1 |           1 |\n|  2 |          1 |           2 |\n|  3 |          2 |           1 |\n|  4 |          3 |           2 |\n+----+------------+-------------+\n</code></pre>\n\n<p>How do I construct an efficient query that will only retrieve <code>products</code> that have <strong>both</strong> categories \"Hotel\" and \"Accommodation\" related (eg. Product X)?</p>\n\n<p>I first tried a join approach</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM products p\nJOIN category_product cp\nON p.id = cp.product_id\nWHERE cp.category_id = 1 OR cp.category_id = 2\n</code></pre>\n\n<p>^ This doesn't work because it doesn't contrain the query to <strong>containing both</strong>.</p>\n\n<p>I have found an approach using sub-queries that works... but I've been warned against sub-queries for performance reasons:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM products p\nWHERE\n(\n    SELECT id\n    FROM category_product\n    WHERE product_id = p.id\n    AND category_id = 1\n)\nAND\n(\n    SELECT id\n    FROM category_product\n    WHERE product_id = p.id\n    AND category_id = 2\n)\n</code></pre>\n\n<p>Are there any better solutions (or how about alternatives)? I've considered de-normalizing categories to an extra column on products but would ideally like to avoid that. Hoping for a magic bullet solution!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I've run some of the (great) solutions provided in the answers:\nMy data is 235 000 category_product rows and 58 000 products and obviously benchmarks are always dependent on environment and indexes etc.</p>\n\n<p>\"Relational division\" @podiluska</p>\n\n<pre><code>2 categories: 2826 rows  ~ 20ms \n5 categories: 46 rows ~ 25-30 ms \n8 categories: 1 rows ~ 25-30 ms \n</code></pre>\n\n<p>\"Where exists\" @Tim Schmelter</p>\n\n<pre><code>2 categories: 2826 rows  ~ 5-7ms \n5 categories: 46 rows ~ 30 ms \n8 categories: 1 rows ~ 300 ms \n</code></pre>\n\n<p>One can see the results start to diverge with having a greater number of categories thrown in. I'll look at using \"relational division\" as it provides consistent results but implementation might cause me to look at \"where exists\" too  (long format <a href=\"http://pastebin.com/6NRX0QbJ\" rel=\"nofollow\">http://pastebin.com/6NRX0QbJ</a>)</p>\n"},{"tags":["database","magento","share"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13084759,"title":"Magento: share db between 2 vhost","body":"<p>i have 2 vhost:</p>\n\n<p>dev.example.com, dev1.example.com</p>\n\n<p>and i don't want to have 2 db, but only 1.</p>\n\n<p>So i connect both vh to the same db, but when i go to dev1.example.com i redirected to dev.example.com.</p>\n\n<p>I think due to \"web/secure/url\" and \"web/unsecure/url\" that i setted as dev.example.com.</p>\n\n<p>I'm trying to make a switching in the code, but don't find the point where magento set the url.</p>\n\n<p>Have you some idea or done some switch code to make this behaviour?</p>\n\n<p>thx\nLuca</p>\n\n<p>EDIT: the vhosts have a different document root, they are 2 different developer environment.</p>\n"},{"tags":["database","mvc","controller","asp.net-mvc-4","authorization"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13084523,"title":"Prevent authorized user from editing data which does not belong to him","body":"<p>I have read a dozen questions concerning custom authorization filters in ASP.NET MVC, but none of them tackles what I have in mind. </p>\n\n<p>Here is the setup:</p>\n\n<ul>\n<li>ASP.NET MVC 4 project</li>\n<li>UserProfiles are stored in DB (EF5) and linked to the SimpleMembershipProvider with WebSecurity.InitializeDatabaseConnection. So I can always get a UserProfile based on User.Identity.Name </li>\n<li>Each User entity has a collection of BlogPost's in a one-to-many relationship.</li>\n<li>Each BlogPost \"knows\" the user that owns it via a UserProfile property (thanks EF!).</li>\n</ul>\n\n<p>Imagine that John tries to access <a href=\"http://mysite.com/BlogPosts/Edit/5\" rel=\"nofollow\">http://mysite.com/BlogPosts/Edit/5</a> and that BlogPost number 5 is Mary's blog post. John is authorized since he is logged in and he passes the built-in authorization scheme, but he does not have the right to edit Mary's blos post. I hope you get the picture.</p>\n\n<p>I know about authorization in ASP.NET MVC and I know that I can build my own custom IAuthorizationFilter. However, <strong>my authorization filter has to access the database</strong> (DbContext in my case) in order to check whether the entity being edited/deleted, i.e. BlogPost number 5 is owned by the currently logged in user. In other words, the currently logged in user can only edit and delete his \"stuff\". Each \"stuff\" knows the user that owns it.</p>\n\n<p>Something like this in pseude code:</p>\n\n<pre><code>var currentlyLoggedUser = this.dbContext.UserProfiles.Single(user =&gt; user.Username == this.User.Identity.Name); \n\nif (blogPost.UserProfile != currentlyLoggedUser)\n{\n// \"John you are not allowed to edit someone else's blog post, you bad boy\".\n}\n</code></pre>\n\n<p>So, my two simple questions are:\n1. What is the \"best practices\" way to <strong>access the database from within a custom IAuthorizationFilter</strong>? Should I somehow inject my IRepository (the interface serving my DbContext) into the authorization filter attribute? Should I try to find my IRepository from the Controller from within the OnAuthorization method of my filter? Is it ok to access the DB from within a filter in the first place?\n2. If using an IAuthorizationFilter for this task is not the \"best practices\" way to do this, then what is?</p>\n\n<p>So to summarize:</p>\n\n<p><strong>How can I make sure that the currently logged user can edit/delete only his \"stuff\", if every \"stuff\" knows the user that owns it?</strong></p>\n"},{"tags":["php","database","database-backups"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13082572,"title":"sql files not getting backed up","body":"<p>The following code does not throw any errors but the databases dont get backed up with new data;</p>\n\n<pre><code>&lt;?php\ninclude('conn.php');\n$dbhost=\"localhost\";\n$dbuser=\"landshop_anitgop\";\n$dbpass=\"password\";\n\n$source=array(\"landshop_formdata.sql\",\"landshop_clientdata.sql\",\"landshop_blogs.sql\",\"landshop_counter.sql\",\"landshop_hitems.sql\");\n\n$path = '\"C:/Program Files/EasyPHP-5.3.8.1/www/Landshoppe/Downloaded Dbs/\"';\n\n        $mysqldump = '\"pathToExe\".mysqldump.exe\"';\n       foreach($source as $db) {\n            $dbsource= $path.$db;\n            $command = \"mysql -u{$dbuser} -p{$dbpass} {$db} &lt; \".$path.\"backup_{$db}.sql\";\n       system($command,$output);\n       echo \"Backed Up : \".$db.\" Output [\".print_r($output,1).\"]&lt;br&gt;\";\n\n     //system('mysql -u &lt;user&gt; -p&lt;password&gt; dbname &lt; filename.sql');  \n\n\n\n}\n\n?&gt;\n</code></pre>\n\n<p>Dont know whats going wrong ..</p>\n"},{"tags":["database","oracle","stored-procedures","database-link"],"answer_count":2,"favorite_count":2,"up_vote_count":12,"down_vote_count":0,"view_count":24683,"score":12,"question_id":240788,"title":"How to execute an Oracle stored procedure via a database link","body":"<p>Can I call a stored procedure in Oracle via a database link?</p>\n\n<p>The database link is functional so that syntax such as...</p>\n\n<pre><code>SELECT * FROM myTable@myRemoteDB\n</code></pre>\n\n<p>is functioning.  But is there a syntax for...</p>\n\n<pre><code>EXECUTE mySchema.myPackage.myProcedure('someParameter')@myRemoteDB\n</code></pre>\n"},{"tags":["c#",".net","database"],"answer_count":11,"favorite_count":37,"up_vote_count":85,"down_vote_count":1,"view_count":4162,"score":84,"question_id":6749556,"title":"What is a good choice of database for a small .NET application?","body":"<p>I'm developing a small application with C# in .NET and I want have a small local database next to it where I can save and retrieve records by SQL queries. I don't need anything powerful, just something to use instead of keeping records in .txt files.</p>\n\n<p>So what's your suggestion for that?</p>\n"},{"tags":["sql-server","database"],"answer_count":11,"favorite_count":12,"up_vote_count":41,"down_vote_count":0,"view_count":91492,"score":41,"question_id":168724,"title":"Generate table relationship diagram from existing schema (SQL Server)","body":"<p>Is there a tool around that would produce a diagram showing existing tables and their relationships given a connection to a database or by any other means?</p>\n\n<p>This is for SQL Server 2008 Express Edition.</p>\n"},{"tags":["mysql","database","phpmyadmin"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13083428,"title":"Referential Integrity SQL","body":"<p>I have two tables in mysql. Table A has primary key CertID with thousands of certifiactes.\nIt also has a  key UserID. Table B has primary key UserID. \nTable B has UserID which are NOT in Table A. What I mean is we have UserID in Table A who do not appear in Table B. However all UserID in Table B can be found in Table A.\nIs referential integrity possible?\nHow can I enforce referential integrity here?</p>\n"},{"tags":["database","node.js","variables"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13080771,"title":"node.js passing variables","body":"<p>I am looking for some direction here from some seasoned node.js programmers. The biggest issue I am running into is passing around variables into separate modules. For example in my server.js I have the following:</p>\n\n<pre><code>var db = mongoose.createConnection('localhost','test');\n</code></pre>\n\n<p>Now I am not running my routes inside of the server.js file they are separated into there own files. So for a blog example it might be like this:</p>\n\n<pre><code>app.get('/blog/post/:id',function(req,res){\n    //do something here\n}\n</code></pre>\n\n<p>Now this is where the problem comes in. I do not want to have to setup a database connection in each of my routes and not to mention I would think that it would make a ton of connections. How do I handle this, is there a sample \"REAL WORLD\" application out there because I cannot seem to find anything about this and I know people have had to have this problem before. I know that node caches the modules but I cant imagine that it would cache the connection given it was in its own module. I created a config module that just holds the site config so requiring this where I need it is not a problem. I imagine there are other things that I am gonna wanna do this with so it would be best to figure this out now.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","database","oracle","jdbc","oracleclient"],"answer_count":6,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":25178,"score":8,"question_id":1194990,"title":"Why do I get java.lang.AbstractMethodError when trying to load a blob in the db?","body":"<p>I've got a problem with JDBC.</p>\n\n<p>I'have the following code:</p>\n\n<pre><code>//blargeparam is a blob column.\nPreparedStatement pst =connection.prepareStatement(\"update gcp_processparams_log set blargeparam= ? where idprocessparamslog=1\");\n\npst.setBinaryStream(1,inputStream);\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.AbstractMethodError:           \noracle.jdbc.driver.T2CPreparedStatement.setBinaryStream(ILjava/io/InputStream;)V\n</code></pre>\n\n<p>My connection string is \"jdbc:oracle:oci:@.....\"  </p>\n\n<p>The oracle version is 11g.  </p>\n\n<p>From the error message it seems that something is missing but:  </p>\n\n<ul>\n<li>when I read from the same blob column\n(with blob.getBytes) everything\nworks.</li>\n<li>The dll's of the instant client are\n(correctly) in the library path.</li>\n<li><p>This is the manifest of the oracle\njdbc jar in my class path:</p>\n\n<p>Manifest-Version: 1.0<br />\nSpecification-Title:    Oracle JDBC driver classes for use with JDK14<br />\nSealed: true<br />\nCreated-By: 1.4.2_14 (Sun Microsystems Inc.)<br />\nImplementation-Title:   ojdbc14.jar<br />\nSpecification-Vendor:   Oracle Corporation<br />\nSpecification-Version:  Oracle JDBC Driver version - \"10.2.0.4.0\"<br />\nImplementation-Version: Oracle JDBC Driver version - \"10.2.0.4.0\"<br />\nImplementation-Vendor:  Oracle Corporation<br />\nImplementation-Time:    Sat Feb  2 11:40:29 2008  </p></li>\n</ul>\n"},{"tags":["database","wcf","error-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13082982,"title":"C#: Exception handling with \"using/try/catch\" in WCF service","body":"<p>I've just posted the question about general usage of \"using/try/catch\" construction and all is clear now.</p>\n\n<p>But, I have a new question that is in connection with the previous one - how to use \"using/try/catch\" construction in case I have it in method in WCF service?  The goal is to see the description of particular database exception on client side.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["mysql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":76,"score":0,"question_id":13005958,"title":"Trying to Design an online Student Exercise Database","body":"<p>I'm pretty new at MySQL and database structure and I was wondering if anyone could help with the best way to design this database.  The application is essentially an online exercise book. It will have exercises for students to complete and have the results stored in the database.</p>\n\n<p>A Parent will be able to view their child's answers, while the Teacher can view their entire class' results.</p>\n\n<p>I have 3 different types of users, <code>Teachers</code>, <code>Parents</code> and <code>Students</code>. each student is linked to a Parent, and each student is linked to a class.  A Teacher is linked to multiple classes.</p>\n\n<p>My current structure for users can be seen here;</p>\n\n<p><img src=\"http://i.stack.imgur.com/NNZbG.png\" alt=\"enter image description here\"></p>\n\n<p>Should I create a single Users table and have a <code>UserType</code> field? If so how do I go about linking the student to a class and parent?</p>\n"},{"tags":["database","android","sqlite","encryption"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2003,"score":2,"question_id":2609749,"title":"Need suggestions for a good way to encrypt/decrypt data stored in SQLite database on Android","body":"<p>I have some sensitive data that is stored in SQLite for an Android app. I need to be able to encrypt when persisting but then also decrypting when deserializing from the database too. Not sure what my options are on Android for doing this?</p>\n"},{"tags":["sql","database","postgresql","indexes"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":64,"score":4,"question_id":13077345,"title":"How can I measure the cost of a database index?","body":"<p>Is there a good method for judging whether the costs of creating a database index (slower <code>INSERTS</code>, time to build an index, time to re-index) are worth the performance gains (faster <code>SELECTS</code>)?</p>\n"},{"tags":["c#","database","try-catch","using-statement"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":13082590,"title":"C#: \"using\" directive and try/catch block","body":"<p>I know how to use try/catch block in case of database calls and know how to use \"using\" directive in context of using try/finally construction as well.</p>\n\n<p>But, can I mix them? I mean when I use \"using\" directive can I use try/catch construction as well because I still need to handle possible errors?</p>\n"},{"tags":["php","mysql","database","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13081370,"title":"(fixed myself) fetch data in database and store in a global variable","body":"<p>I’ve been working the whole night to fix this problem but I can’t seem to figure it out. I am new to php and PDO. I was successful in creating a database with fields <code>id</code>, <code>firstname</code> and <code>lastname</code>.  </p>\n\n<p>On <code>id =1</code> the values of username and lastname is <code>Andrea</code> and <code>Bocelli</code>,<br>\non <code>id=2</code> are <code>Sarah</code> and <code>Brightman</code>.   </p>\n\n<p>Now I want to fetch all the firstname and lastname on id1 and store it in a $_SESSION array variable and values of firstname and lastname of id2 in anoter $_SESSION array variable, for me to be able to access these variables in the other page. Here’s my code: (already edited and working)</p>\n\n<pre><code>$host   = \"localhost\";\n\n$dbname = \"try\";\n\n$user   = \"root\";\n\n$pass   = \"\";\n\n$dbh = new PDO(\"mysql:host=$host;dbname=$dbname\",$user,$pass);\n\n$statement = $dbh-&gt;prepare('SELECT * FROM members');\n\n$statement-&gt;execute();\n\n$count = $statement-&gt;rowCount();\n\n$_SESSION['firstname']=array();\n\n$_SESSION['lastname']=array();\n\nfor ($c=0, $c2=1;$c&lt;$count;$c++, $c2++){\n\n    $sql='SELECT firstname FROM members WHERE id=?';\n\n    $sth=$dbh-&gt;prepare($sql);\n\n    $sth-&gt;execute(array($c2));\n\n    $_SESSION['firstname'][$c]=$sth-&gt;fetchColumn();\n\n    $sql='SELECT lastname FROM members WHERE id=?';\n\n    $sth=$dbh-&gt;prepare($sql);\n\n    $sth-&gt;execute(array($c2));\n\n    $_SESSION['lastname'][$c]=$sth-&gt;fetchColumn();\n\n}\n</code></pre>\n\n<p>The problem now is this code only fetches the data on id1, obviously I only accessed id 1 inside the loop. What I want to do is the id number will increment every loop. I tried declaring a variable <code>$idupdate</code> with a value of  1 outside the loop and inside the loop on the part <code>WHERE id=$idupdate</code> then <code>&amp;idupdate++</code>, but it doesn’t seem to work. What I want to achieve is fetch all the data in the entire column in id 1 and store it in an array variable accessible on the other page. How can I achieve this? Any help would be very much appreciated.</p>\n"},{"tags":["sql","sql-server","database","constraints"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13077710,"title":"Constraint on multiple columns with specific values","body":"<p>My schema has 3 columns: <code>ID1</code>, <code>ID2</code>, <code>Status</code></p>\n\n<p>Each of the above columns is a string.</p>\n\n<p>I would like to create a constraint which is the following:</p>\n\n<p>There cannot be multiple records which have the same <code>ID1</code> and <code>ID2</code> which are in the 'UNPROCESSED' state. It is ok if there are multiple records which have the same <code>ID1</code> and <code>ID2</code> which are not in the UNPROCESSED state.</p>\n\n<p>Is it possible to do this in SQL Server?</p>\n"},{"tags":["mysql","database","schema"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13081934,"title":"Multilingual Datatype in MYSQL","body":"<p>Can anyone tell me which data type i have to use to make my field multilingual ? </p>\n\n<p>I have to give facility to user that they can use username in multiple language. Like, </p>\n\n<p>Chinese, French, English, Hindi, Gujarati, Japanese etc. </p>\n\n<p>I have to store user name in MYSQL database. </p>\n"},{"tags":["database","forms","design","checkbox","bitwise"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":297,"score":1,"question_id":3219361,"title":"What is the best way to insert many checkbox inputs into database?","body":"<p>Greetings,</p>\n\n<p>I have a form which it has almost 150 checkbox, but they are not in one place, the form is divided into divisions and each division has blocks, the checkboxes are put in these blocks depending on their group \nwhere you can find four checkbox in this place and eight in other and 30 in some other and so go on.<br />\nSo I made a two table’s one to store the groups and other to store checkboxes and to which group they belong to.</p>\n\n<pre><code>FormBlocks\n    --------------------------\n    |  ID  |       key       |\n    --------------------------\n    |   1  |  property_type  |\n    |   2  |    providors    |\n    --------------------------\n\nBlocksCheckBoxes\n    ------------------------------------------------\n    |  ID  |     Label    |   Key  |  FormBlockId  |\n    ------------------------------------------------\n    |   1  |  Sweet Home  |  home  |       1       |\n    |   2  |     Farm     |  farm  |       1       |\n    |   3  |  Invst Bank  |  bank  |       2       |\n    |   4  |  Constructor | constr |       2       |\n    ------------------------------------------------\n</code></pre>\n\n<p>I have two approaches to store their values: <br />\nThe first one store the checkbox values as concatenated string of their keys and insert it directly to the designated table, eg: <br /></p>\n\n<pre><code>UserProperties\n    ----------------------------------------\n    |  ID  |  Customer  |  PropertiesType  | \n    ----------------------------------------\n    |   1  |    Cat     |     home,farm    |\n    ----------------------------------------\n</code></pre>\n\n<p><strong>pros</strong>:Very easy to implement and all I need is just to add a column and you are ready to go, and theoretically it is faster<br />\n<strong>cons</strong>: Will lose db level of data integrity and it will depend on the application level (I think I can live that) </p>\n\n<p>The second way I create tables for each block, eg:</p>\n\n<pre><code>UserProperties\n    ---------------------\n    |  ID  |  Customer  |\n    ---------------------\n    |   1  |    Cat     |\n    ---------------------\n\nUserPropertiesTypes\n    --------------------------------------\n    |  ID  |  CustomerId  |  CheckBoxId  | \n    --------------------------------------\n    |   1  |       1      |       1      |\n    --------------------------------------\n    |   1  |       1      |       2      |\n    --------------------------------------\n</code></pre>\n\n<p><strong>pros</strong>: I see it as the professional way and will insure the data integrity at db level<br />\n<strong>cons</strong>: I need to create table for each part that has checkbox group which is a headache in development specially if you have many groups in the form.\n<br /><br />\nI didn't consider bitwise because I will have to create a column for each checkbox and I see it is not efficient for big groups who will have more than 30 checkbox. so I preferred to make a way that will be implemented in the application\n<br /><br />\nIf you have any suggestions or better way to do it please don’t hesitate to tell.\nThank you very much</p>\n"},{"tags":["java","database","list","dto"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":13081526,"title":"Creating a list with database values and store in DTO","body":"<p>I have a my main class, a DTO, and a DAO.\nwhat I want to do is to read the database table CUSTOMER(two fields NAME, SURNAME) then write it to a txt file. I cant seem to get it to store the values in the DTO so that my main class can get it.</p>\n\n<p>My DTO exist of two fields, NAME and SURNAME with the getters and setters.\nThe problem lies in my DAO with the List</p>\n\n<p>*please keep in mind I'm a student.</p>\n\n<p>This is what I have done so far:\nresult, writes to file like this: [name surname, name surname, name surname,]\nI need it to write to the file pipe deliminated \" | \"</p>\n\n<pre><code>public CustomerDTO getDetails(Connection conn) throws SQLException {\n\n    CustomerDTO customerDTO = new CustomerDTO();\n    ResultSet rs = null;\n    PreparedStatement pstmnt = null;\n\n    try {\n        // SELECT NAME, SURNAME FROM CUSTOMER\n        StringBuffer stringBuffer = new StringBuffer(\"SELECT \" + DBConstants.CUST_NAME + \", \");\n        stringBuffer.append(DBConstants.CUST_SURNAME);\n        stringBuffer.append(\" FROM \" + \"CUSTOMER\");\n        //build string\n        String query = stringBuffer.toString();\n        //prepared statement\n        pstmnt = conn.prepareStatement(query);\n        //execute preparestatement\n        rs = pstmnt.executeQuery();\n        //keep reading next line in table - .next() method means next line\n        List myList = new ArrayList();\n\n        while (rs.next()) {\n            String ss = rs.getString(\"NAME\");\n            String sss = rs.getString(\"SURNAME\");\n            myList.add(ss + \" \" + sss);\n            customerDTO.setName(myList.toString());\n            customerDTO.setSurname(myList.toString());\n        }\n    } catch (Exception e) {\n        e.getMessage();\n    }\n    rs.close();\n    //return DTO with details.\n    return customerDTO;\n}\n</code></pre>\n"},{"tags":["android","database","concurrency","android-contentprovider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":8403569,"title":"Is it possible to use ContentProvider and direct data access to Database in Android? (multiple application case)","body":"<p>I have a similar question as here: <a href=\"http://stackoverflow.com/questions/7772174/is-it-possible-to-use-contentprovider-and-direct-data-access-to-database-in-andr\">Is it possible to use ContentProvider and direct data access to Database in Android?</a> but in my case I want the widget application to be a separate application. </p>\n\n<p>So I have a first Android application that is using a sqlite database using standard SQLiteOpenHelper. this helper is a singleton that is created in my Application onCreate. Works good.  </p>\n\n<p>Now I want to make a second application -so a widget application- that needs to access the database as well. So I would like to use a ContentProvider for that. </p>\n\n<p>1) is it safe to do such way or do I have to refactor the main application to use only ContentProvider (clearly would be a showstopper for me!!)</p>\n\n<p>2) if it is ok, how should I design the contentProvider? I guess I will have to reuse my singleton SQLiteOpenHelper and eventually create it in contentProvider.onCreate? </p>\n"},{"tags":["database","heroku","nokogiri","amazon-rds","rake-task"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13080805,"title":"Rake task runs twice on Heroku","body":"<p>I have an app on heroku which scrapes pricing data off a website and saves it periodically.  For some reason whenever I run the rake task locally, it acts as expected, but when I run the task on heroku it adds extra output and is saving the object twice for some reason.</p>\n\n<p>Output when I run locally</p>\n\n<pre><code>a,12.80 saved at 2012-10-26 03:36:17 UTC.\nb,38.03 saved at 2012-10-26 03:36:24 UTC.\nc,22.38 saved at 2012-10-26 03:36:31 UTC.\n</code></pre>\n\n<p>Output when I run on heroku</p>\n\n<pre><code>a,12.80 saved at 2012-10-26 03:36:17 UTC.\nb,38.03 saved at 2012-10-26 03:36:24 UTC.\nc,22.38 saved at 2012-10-26 03:36:31 UTC.\n#&lt;Stock:0x000000047bb5e8&gt;,12.80 saved at 2012-10-26 03:36:45 UTC.\n#&lt;Stock:0x000000047baaf8&gt;,38.03 saved at 2012-10-26 03:36:48 UTC.\n#&lt;Stock:0x000000047b00a8&gt;,22.38 saved at 2012-10-26 03:36:52 UTC.\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>require 'open-uri'\nrequire 'date'\n\nnamespace :data do \n  desc \"import current blah stock price data to database\"\n  task :importblah =&gt; :environment do\n\n  #pass in a stock and price and save it to the database\n  def save_stock(stock, price)\n    #store stock data in database\n    p = stock.prices.build\n    p.price = price\n    p.datetime = Time.now.utc.to_datetime\n\n    if p.save\n      puts \"#{stock.symbol},#{price} saved at #{p.datetime.to_s}.\"\n    else\n      puts \"#{stock.symbol} didn't save.\"\n    end\n  end\n\n  actives = Parent.where(\"test1 = ?\", true)\n\n  actives.each do |m|\n\n    stocks = m.stocks.where('test2 = ?', false)\n    stocks.each do |stock|\n      if stock.title.start_with?('blah')\n        #grab stock price data from blah.com\n        url = \"blah\"+stock.symbol\n        doc = Nokogiri::HTML(open(url))\n        price = doc.at_css(\".value\").text[/\\d+\\.\\d+/]\n        save_stock(stock, price)\n      end\n\n\n    end\n  end\n\n\n  end\nend\n</code></pre>\n\n<p>I have an almost identical rake task for a different site and it is not saving the pricing data twice.  I am using Amazon RDS db if that affects anything.</p>\n"},{"tags":["android","database","sqlite","uninstall"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":68,"score":-1,"question_id":13067585,"title":"What happens if an android app, which creates database, is then uninstalled?","body":"<p>I developed and install an android application which create a sqlite database.\nIf I uninstall this app the database will be automatically dropped?</p>\n"},{"tags":["php","database","connection","codeigniter-datamapper"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1157,"score":0,"question_id":7248175,"title":"CodeIgniter Database connection on runtime","body":"<p>I'm still having troubles with manually connection to a database on runtime. I open a new question becuase didn't find the answer yet.</p>\n\n<p>Here is the case,</p>\n\n<p>I connect to the database with a connection user to validate a username and password that is entered with a form. Then with this new information, if the user is valid I have to connect to the database with this new username and password. Looks contain the following:</p>\n\n<p>config/database.php</p>\n\n<pre><code>    $active_record = TRUE;\n    $db['default']['hostname'] = 'host';\n    $db['default']['username'] = 'username';\n    $db['default']['password'] = 'pwd';\n    $db['default']['database'] = 'dbname';\n    $db['default']['dbdriver'] = 'oci8';\n    $db['default']['dbprefix'] = '';\n    $db['default']['pconnect'] = FALSE;\n    $db['default']['db_debug'] = TRUE;\n    $db['default']['cache_on'] = FALSE;\n    $db['default']['cachedir'] = '';\n    $db['default']['char_set'] = 'WE8ISO8859P1';\n    $db['default']['dbcollat'] = '';\n    $db['default']['swap_pre'] = '';\n    $db['default']['autoinit'] = FALSE;\n    $db['default']['stricton'] = FALSE;\n</code></pre>\n\n<p>Then in the login controller: controllers/login.php</p>\n\n<pre><code>public function __construct(){\n    parent::__construct();\n    $this-&gt;output-&gt;enable_profiler(TRUE);\n\n    $this-&gt;CI =&amp; get_instance();\n    $this-&gt;db_con = $this-&gt;CI-&gt;load-&gt;database('default', FALSE, TRUE);\n\n    $this-&gt;load-&gt;model('Login_model');\n    session_start();\n\n}\n\npublic function index(){                \n    if (isset($_POST['ingresar'])){\n\n        $d['data'] = $this-&gt;Login_model-&gt;Obtener_usuario($_POST['usuario']);\n\n        $_SESSION['logueo'] = $d['data']-&gt;row();\n\n        if (empty($_SESSION['logueo'])){\n            $d['error'] = 2;\n        }\n        else{\n            if (is_null($_SESSION['logueo']-&gt;USER_ORACLE)){\n                $d['error'] = 1;\n            }\n            if (!is_null($_SESSION['logueo']-&gt;N_SECUENCIA)){\n                cargar_var_sesion($_POST['usuario'], $_SESSION['logueo']-&gt;USER_ORACLE, $_SESSION['logueo']-&gt;N_SECUENCIA, $_SESSION['logueo']-&gt;C_USR_NOM_APE);\n\n                $db['limited']['hostname'] = 'samehost';\n                $db['limited']['username'] = $_POST['usuario'];\n                $db['limited']['password'] = $_POST['clave'];\n                $db['limited']['database'] = 'samedbname';\n                $db['limited']['dbdriver'] = 'oci8';\n                $db['limited']['dbprefix'] = '';\n                $db['limited']['pconnect'] = FALSE;\n                $db['limited']['db_debug'] = TRUE;\n                $db['limited']['cache_on'] = FALSE;\n                $db['limited']['cachedir'] = '';\n                $db['limited']['char_set'] = 'WE8ISO8859P1';\n                $db['limited']['dbcollat'] = '';\n                $db['limited']['swap_pre'] = '';\n                $db['limited']['autoinit'] = FALSE;\n                $db['limited']['stricton'] = FALSE;\n\n                $active_group = 'limited';\n\n                $this-&gt;db = $this-&gt;CI-&gt;load-&gt;database('limited', FALSE, TRUE);                  \n                redirect('inicio', 'location');\n            }\n            else{\n                $d['error'] = 2;    \n            }\n        }           \n    }\n    else{\n        $d['error'] = 0;    \n    }\n\n    $this-&gt;load-&gt;view('/componentes/header');\n    $this-&gt;load-&gt;view('/componentes/menu_sin_login');\n    $this-&gt;load-&gt;view('/login/login', $d);\n    $this-&gt;load-&gt;view('/componentes/footer');       \n}\n</code></pre>\n\n<p>Everything goes ok within this controller but when redirect is perform (that loads different models), e.g., tareas_model.php I keep on receiving the same error on the first lines:</p>\n\n<p>models/tareas_model.php</p>\n\n<pre><code>function __construct()\n{\n    parent::__construct();\n    $query = $this-&gt;db-&gt;query('ALTER SESSION SET nls_sort = \\'SPANISH\\'');\n}\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>A PHP Error was encountered\nSeverity: Notice\nMessage: Undefined property: Inicio::$db\nFilename: core/Model.php\nLine Number: 50\nFatal error: Call to a member function query() on a non-object in /var/www/crm/application/models/tareas_model.php on line 8\n</code></pre>\n\n<p>I also tried setting $this->db as a session variable but I keep receiving the same error and I'm driving pretty crazy. I've tried everything that I found online with no luck.</p>\n\n<p>Any help?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":249,"score":0,"question_id":9499320,"title":"database insertion working well on android emulator but not on device","body":"<p>I have created a database using <a href=\"http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android\" rel=\"nofollow\">this tutorial</a>.</p>\n\n<p>When I insert the values in my table, it works on the emulator and I have seen the values are inserted correctly. But when I run my application on a device, it gives me this error:</p>\n\n<pre><code>02-29 17:30:45.341: E/Database(3300):android.database.sqlite.SQLiteException:no such   table: recently_used: , while compiling: INSERT INTO recently_used(iconsset_name, icon_name) VALUES(?, ?); \n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method) \n02-29 17:30:45.341: E/Database(3300):at   android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92) \n02-29 17:30:45.341: E/Database(3300):at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83) \n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteStatement.&lt;init&gt;  (SQLiteStatement.java:41)\n</code></pre>\n\n<p>Here is my database class.</p>\n\n<pre><code>public class DBHelpter extends SQLiteOpenHelper{\n\n    private static final String DATABASE_NAME = \"DatabaseName.db\";\n\n    public static final String ICONS_SET_TABLE_NAME = \"iconset\";\n    public static final String ID_ICONS_SET = \"_id\";\n    public static final String NAME_ICONS_SET =\"name\";\n    public static final String SERVER_ID_ICONS_SET = \"serverid\";\n    public static final String PRODUCT_ID_ICONSET = \"productid\";\n\n    public static final String ICON_TABLE_NAME = \"icons\";\n    public static final String ID_ICONS = \"_id\";\n\n    public static final String SERVER_ICON_ID = \"serverid\";\n    public static final String ICONSET_ID_ICONS = \"iconsetid\";\n\n    public static final String RECENTLY_USED_TABLE_NAME = \"recently_used\";\n    public static final String ICONS_NAME_RECENTLY = \"icon_name\";\n    public static final String ICONSSET_NAME_RECENTLY = \"iconsset_name\";\n    public static final String RECENTLY_ICONSET_ID = \"_id\";\n\n\n    public static final int DATABASE_VERSION_NO = 3;\n    public Context mContext = null;\n\n    public static final String mIconsSetQuery = \"CREATE TABLE \"+ICONS_SET_TABLE_NAME + \"(\" + ID_ICONS_SET +\" INTEGER PRIMARY KEY AUTOINCREMENT,\" + NAME_ICONS_SET +\" TEXT,\" + SERVER_ID_ICONS_SET +\" INTEGER,\" + PRODUCT_ID_ICONSET +\" TEXT);\";\n    public static final String mIcons = \"CREATE TABLE \"+ ICON_TABLE_NAME + \"(\" + ID_ICONS+ \" INTEGER PRIMARY KEY  AUTOINCREMENT,\"+ SERVER_ICON_ID + \" INTEGER,\"+ICONSET_ID_ICONS + \" INTEGER);\";\n    public static final String recently_table_query = \"CREATE TABLE \"+ RECENTLY_USED_TABLE_NAME + \"(_id INTEGER PRIMARY KEY AUTOINCREMENT, icon_name TEXT,iconsset_name TEXT);\";\n\n    public DBHelpter(Context context) {\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION_NO);\n        mContext = context;\n    }\n\n    @Override\n    public synchronized void close() {\n        super.close();\n    }\n\n    @Override\n    public synchronized SQLiteDatabase getReadableDatabase() {\n        return super.getReadableDatabase();\n    }\n\n    @Override\n    public synchronized SQLiteDatabase getWritableDatabase() {\n        return super.getWritableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n        db.execSQL(mIconsSetQuery);\n        db.execSQL(mIcons);\n        db.execSQL(recently_table_query);\n\n    }\n\n    @Override\n    public void onOpen(SQLiteDatabase db) {\n        super.onOpen(db);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ICONS_SET_TABLE_NAME);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ICON_TABLE_NAME);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + RECENTLY_USED_TABLE_NAME);\n\n        onCreate(db);\n    }\n}\n</code></pre>\n\n<p>Here is the method i am using.</p>\n\n<pre><code>public void recentlyUsed(RecentlyUsedIcons recentlyUsedIcons) {\n     values.put(DBHelpter.ICONS_NAME_RECENTLY, recentlyUsedIcons.getIcon_name());\n     values.put(DBHelpter.ICONSSET_NAME_RECENTLY, recentlyUsedIcons.getIconSet_name());\n     mDatabase.insert(DBHelpter.RECENTLY_USED_TABLE_NAME, null, values);\n}\n</code></pre>\n"},{"tags":["database","oracle","listener"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3285,"score":1,"question_id":2736377,"title":"Oracle TNS problems?","body":"<p>I have an error ? My pl/Sql Developer says my oracle database cannot find the service descriptor But when I Do a check the listener I get this error.</p>\n\n<pre><code>LSNRCTL&gt; start\nStarting tnslsnr: please wait...\n\nService OracleOraDb10g_home1TNSListener already running.\nTNS-12560: TNS:protocol adapter error\n TNS-00530: Protocol adapter error\n\n\n\nLSNRCTL&gt; status\nConnecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP\nTNS-12541: TNS:no listener\n TNS-12560: TNS:protocol adapter error\n  TNS-00511: No listener\n   32-bit Windows Error: 61: Unknown error\n</code></pre>\n\n<p>the content of my listener.ora is </p>\n\n<pre><code>SID_LIST_LISTENER =\n  (SID_LIST =\n    (SID_DESC =\n      (GLOBAL_DBNAME = Oracle10g)\n      (ORACLE_HOME = D:\\oracle\\product\\10.2.0\\db_1)\n      (SID_NAME = ORCL)\n    )\n  )\n\nLISTENER =\n  (DESCRIPTION =\n    (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\n  )\n</code></pre>\n\n<p>and \nthe tnsnames.ora content is this</p>\n\n<pre><code># tnsnames.ora Network Configuration File: D:\\oracle\\product\\10.2.0\\db_1\\NETWORK\\ADMIN\\tnsnames.ora\n# Generated by Oracle configuration tools.\n\nVMOBILE =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\n    )\n    (CONNECT_DATA =\n      (SERVICE_NAME = orcl)\n    )\n  )\n\nVMOBILEMASTER =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\n    )\n    (CONNECT_DATA =\n      (SERVICE_NAME = ORCL)\n    )\n  )\n\nORCL =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))\n    )\n    (CONNECT_DATA =\n      (SERVER = SHARED)\n      (SERVICE_NAME = ORCL)\n    )\n  )\n\nEXTPROC_CONNECTION_DATA =\n  (DESCRIPTION =\n    (ADDRESS_LIST =\n      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1))\n    )\n    (CONNECT_DATA =\n      (SID = PLSExtProc)\n      (PRESENTATION = RO)\n    )\n  )\n</code></pre>\n\n<p>Please I have a deadline for these evening. Please help.</p>\n"},{"tags":["mysql","database","database-design","structure"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13058545,"title":"What is the most efficient way to save user preferences in MySQL?","body":"<p>I'm wondering what best tactic is for saving a large array of user preferences for a website. Mostly things like default values, like default timezone, default text size, etc. Making a separate column for each setting doesn't sound practical. The only way I can think of currently is to add a singe column in the <code>users</code> table for preferences, and put all the settings in there.</p>\n\n<p>For example, I could use formatting like this in one column only: <code>timezone:GMT;text_size:12;default_value1:something;default_value2:FALSE</code>. Then when grabbing it in PHP, I would select this column for the logged in user and do an explode on the result, setting $_SESSION['settings']['setting_key'] = \"setting_value\".</p>\n\n<p>Is there a smarter way to do this, or am I already in the right direction? The only downside to this is not being able to search through each specific setting, of course, since everything is lumped together.</p>\n"},{"tags":["c#","sql","database","sql-server-ce"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13080436,"title":"Test Database Connection is OK before con.Open()","body":"<p>I have created a generic Database handler class for my app. </p>\n\n<p>Im using a local database so <code>SqlCeConnection</code> class is being used here.</p>\n\n<p>What I would like to do is test that the Connection string is valid, so update the connection status to the user before I execute <code>connection.Open();</code></p>\n\n<p>lets say</p>\n\n<pre><code> SqlCeConnection conn = new SqlCeConnection(connectionString);\n\n //so far we have only created the connection, but not tried to open it\n //Would be nice to update the UI to say that conn is OK\n conn.testConnection();\n\n conn.Open();\n</code></pre>\n\n<p>I was thinking of writing a method that attempts to <code>open</code> then <code>close</code> the connection, am I right in thinking this or is there a better way.</p>\n"},{"tags":["database","erd","subtype","supertype"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12949973,"title":"ERD including supertype, subtype database","body":"<p>I'm drawing an ERD for a  database and want to know if you need to include the supertypes and sub-types in the ERD. If yes, how to represent it. Thanks.</p>\n"},{"tags":["jquery","xml","database","html5","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":230,"score":1,"question_id":8746021,"title":"Parsing XML to html5-database with jquery","body":"<p>I am trying to import a XML file into an html5-db like this: (before I <code>initDatabase</code> and <code>createTables</code>).</p>\n\n<pre><code>$.ajax({\n    type: \"GET\", url: \"xml/pois_small.xml\", dataType: \"xml\",\n      success: function(xml) {\n        $(xml).find('sixcms_article').each(function(){\n            var id = $(this).find('field[container$=\"content\"]').text();\n            var name = $(this).find('title').text();\n            var street = $(this).find('field[name$=\"street\"]').text();\n            DEMODB.transaction(function (transaction) {\n                transaction.executeSql(\"INSERT INTO page(id, name, street) VALUES (?, ?, ?)\", [id[0], name[1], street[2]]);\n            });  \n        });\n    }\n});\n</code></pre>\n\n<p>But it's not working. I am searching for a solution for 4 days now, so you are my last chance to get this job done.</p>\n"},{"tags":["c#","asp.net","database","dataset","comparison"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":13060477,"title":"How to extract columns and rows from a DataSet in ASP.NET C#","body":"<p>*<strong><em>How can I compare the quantity of the UnitsInStock to the quantity the user wants to purchase?</em>*</strong></p>\n\n<p>Here I have a query to my SQL database for the list of columns put into a DataSet. The \"where\" clause is the item I am browsing currently, extracting all the current information about this product. </p>\n\n<p><strong>I tried to use get the data out into data columns, then I would now need to compare that with the int, quantity.</strong></p>\n\n<pre><code>        string selectionString =\n        \"SELECT Products.ProductID, \" +\n            \"Products.ProductName, Categories.CategoryName, \" +\n            \"Suppliers.CompanyName, Products.QuantityPerUnit,\" +\n            \"Products.UnitPrice, Products.UnitsInStock \" +    \n            \"FROM Suppliers INNER JOIN (Categories  \" +\n            \"INNER JOIN Products ON  \" +\n            \"Categories.CategoryID = Products.CategoryID)  \" +\n            \"ON Suppliers.SupplierID = Products.SupplierID \" +\n            \"WHERE Products.ProductID = \" +\n            int.Parse(Session[\"Current Item\"].ToString());\n\nDataSet ds = new DataSet();//this is the dataset that keeps my columns and rows.\n</code></pre>\n\n<p>Then I have a loop to assign all columns except for the last, which is UnitsInStock, towards text boxes. <strong>The value that I need to work with is an int, quantity.</strong></p>\n\n<p>Depending on the item that the user opens up, each item's stock will be different. So the item that I open up, I want to know how I can compare the variable quantity, decided by the user, to the quantity number that I have extracted from the DataSet.</p>\n\n<p>The index of the UnitsInStock column is <strong>6</strong>. Don't worry about QuantityPerUnit, it is nothing.</p>\n\n<p>Here is code that takes ProductName, CatergoryName, CompanyName, QuantityPerUnit, UnitPrice, and <em>UnitsInStock</em>, so you can see how the dataset is used. </p>\n\n<pre><code> if (ds.Tables[0].Columns.Count != 0 &amp;&amp;\n        ds.Tables[0].Rows.Count != 0)\n    {\n\n        for (int index = 0; index &lt; ds.Tables[0].Columns.Count - 1; index++)/// count -1, explain\n        {\n            labelArray[index].Text = ds.Tables[0].Columns[index].ColumnName;//named constant\n            if (index == 5) // The price field\n            {\n\n                textBoxArray[index].Text = ((Decimal)ds.Tables[0].Rows[0][index]).ToString(\"F\");\n            }\n            else\n                textBoxArray[index].Text = ds.Tables[0].Rows[0][index].ToString();\n</code></pre>\n\n<p>So, how can I compare the quantity retrieved by the database to the quantity the user wants to purchase, gathered from a textbox. </p>\n"},{"tags":["sql","database","query","data","masking"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13079312,"title":"Measuring Data Masking Effectiveness","body":"<p>I'm in the process of analyzing how effective a vendor tool is at data masking a defined database. In order to objectively measure the effectiveness of the tool, I would be interested in examining the difference between the original data and the masked data. Is there an open source tool available for comparing data sets? I don't need to analyze whether there is a difference in the schema after the masking just the raw data. All suggestions are appreciated. Thank you in advance for your help.</p>\n"},{"tags":["mysql","sql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13079088,"title":"How to SUM Row values and save the result in a new Total Column?","body":"<p>I need to calculate the sum of stock from some rows, the same product exist for different companies, so I need to calculate the SUM/Total of all products, per product name, this is the result that I want to achieve:</p>\n\n<pre><code>ID | Name     | Company | Stock | Total Stock\n1  | Product1 | Company1| 10    | 30\n2  | Product1 | Company2| 10    | 30\n3  | Product1 | Company2| 10    | 30\n4  | Product2 | Company1| 10    | 15\n5  | Product2 | Company2| 5     | 15\n6  | Product3 | Company2| 5     | 5\n7  | Product4 | Company1| 6     | 10\n8  | Product4 | Company2| 4     | 10\n</code></pre>\n\n<p>Etc...\nThe Total Stock is the sum of <strong>Select SUM(Stock) From Product Where Name=\"Product1\"</strong> \nHow can I save this result ? Should I use a Trigger Or a Procedure? I have basic knowledge of SQL</p>\n\n<p>This needs to run every 30 minutes or every time a row is updated.</p>\n\n<p>The product table has around 40.000 Products.</p>\n"},{"tags":["java","database","pervasive"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13072675,"title":"Pervasive, open DAT file with JAVA SDK - JCL SDK for Windows","body":"<p>Is there any way with JAVA to open Pervasive <strong>DAT file directly with SDK</strong> – see the attachment - <a href=\"https://docs.google.com/open?id=0B1lhSNdHpbprc1FrSGlMOWNVWnM\" rel=\"nofollow\">https://docs.google.com/open?id=0B1lhSNdHpbprc1FrSGlMOWNVWnM</a> - with that SDK?</p>\n\n<p>JCL SDK for Windows from <a href=\"http://www.pervasivedb.com/support/Pages/PSQLSDK-Archives.aspx\" rel=\"nofollow\">http://www.pervasivedb.com/support/Pages/PSQLSDK-Archives.aspx</a></p>\n"},{"tags":["mysql","database","search","fulltext","stop-words"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3630,"score":2,"question_id":796688,"title":"How to reset stop words in MYSQL?","body":"<p>I want to reset stop word list in mysql for FULLTEXT search. I have installed WAMP Server in my system which have phpmyadmin to access mysql. But I dont know how to reset stop word in phpmyadmin. Can anyone please tell me how to do that.</p>\n\n<p>I also <a href=\"http://dev.mysql.com/doc/refman/5.1/en/server-system-variables.html#sysvar_ft_stopword_file\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.1/en/server-system-variables.html#sysvar_ft_stopword_file</a> read this link but don't know ho wto use this ???</p>\n"},{"tags":["database","web","search-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13078872,"title":"Gather information for a speciality website","body":"<p>Let's say i'm building a website like <a href=\"http://www.wanderfly.com/\" rel=\"nofollow\">WanderFly</a>. <br>\nI do my <code>Html, JavaScript, Asp.net, SQl</code> and stuff but i'm stuck at the \"Gather Information\" part.</p>\n\n<p>If I choose a destination on their site, I get all hotels, prices, ratings etc. I'm redirected to <a href=\"http://hotels.wanderfly.com/\" rel=\"nofollow\">Hotels.Wanderfly</a> where there is their database.</p>\n\n<p>You can find any hotels, destination and others worldwide.. How do you get such a database and get it to stay updated ?</p>\n\n<p>Do you have to :</p>\n\n<ul>\n<li>Build it yourself hotel by hotel, destination by destination ?</li>\n<li>Buy the hotel/destination database somewhere ? ( Should be expensive )</li>\n<li>Build some kind of search engine to search the web for your query on many sites ?</li>\n</ul>\n\n<p>This is very unclear to me.</p>\n"},{"tags":["mysql","database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13078577,"title":"Database (MySQL) structuring: pros and cons of multiple tables","body":"<p>I am collecting  data and storing it MySQL, for:</p>\n\n<ul>\n<li>75 variables</li>\n<li>55 countries</li>\n<li>Each year</li>\n</ul>\n\n<p>I have, at this stage since I am building this tool created a single table, of variables / countries (storing 1 year worth of data).</p>\n\n<p>Next year (and for several years after that) a new set of data will be input for each country.</p>\n\n<p>There are therefore 3 variables in controlling data returned to a user reviewing all collected data. The general form of any query would be:</p>\n\n<ul>\n<li>Show me <strong>these</strong> specifics variables, for <strong>these</strong> specific countries, for <strong>these</strong> specific years.</li>\n</ul>\n\n<p>(Show me average age and weight, for USA and Canada, for 2012 and 2009, for example)</p>\n\n<p>My question is, it seems that I have two options for arranging this data:\n-Multiple tables where I create a table of <em>country / variable</em> for each year data is collected\n- Single table and simply add a column (field) for the year that data relates to.</p>\n\n<p>As far as I can tell I could make these database calls with either sructure, but is one more powerful / efficient / quicker, and why?</p>\n\n<p>Thanks for your consideration.</p>\n\n<p>It's a PDO / PHP interface if that is relevent.</p>\n"},{"tags":["database","lotus-notes","lotus-domino","lotusscript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13069812,"title":"Avoid type ahead searching user's personal contact list in a Lotus Notes' name field","body":"<p>I like the type ahead feature feature in Lotus Notes but I want it to avoid suggesting any name that is not in the \"PUBLIC\" database. We're having problems where users are getting the \"Ambiguous Name\" dialog and selecting the wrong name in a custom Notes application we are developing. Is there any way to have the type ahead feature only search for names in the \"PUBLIC\" database for the custom application but keep the default search scope the same everywhere else?</p>\n"},{"tags":["java","database","nosql","hashmap","berkeley-db"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":62,"score":1,"question_id":13054852,"title":"Kyoto Cabinet / Berkeley DB : Hash table size limitations","body":"<p>I am having a hard time storing hundreds of millions of key/value pairs of 16/32bytes with a hash array on my SSD.</p>\n\n<p><strong>With Kyoto Cabinet</strong>: When it works fine, it inserts at 70000 record/s. Once it drops, it goes down to 10-500 records/s. With the default settings, the drop happens after around a million records. Looking at the documentation, that is the default number of buckets in the array, so it makes sense. I increased this number to 25 millions and indeed, it works fine until around 25 millions records. Problem is, as soon as I push the number of buckets to 30 millions or over, the insert rate is down to 10-500 records/s from the beginning. Kyoto Cabinet is not designed to increase the number of bucket after the database is created, so I cannot insert more than 25 millions records.</p>\n\n<p>1/ <em>Why would KC's insert rate get very low once the bucket number exceeds 25M ?</em></p>\n\n<p><strong>With Berkeley DB</strong>: The best speed I got is slightly lower than KC, closer to 50000 record/s, but still ok. With the default settings, just like KC, the speed drops suddenly after around a million records. I know BDB is designed to extend gradually its number of buckets. Regardless of that, It tried to increase the initial number, playing with HashNumElements and FillFactor, but any of these attempts made the situation worst. So I still cannot insert over 1-2 millions records with DBD. I tried activating non-synchronized transactions, tried different rates of checkpoints, increased caches. Nothing improves the drop down.</p>\n\n<p>2/ <em>What could cause BDB's insert rate to drop after 1-2 million inserts ?</em></p>\n\n<p><strong>Note:</strong> I'm working with java, and when the speed is dropping, the CPU usage lowers to 0-30% while at 100% when working at correct speed.<br>\n<strong>Note:</strong> Stopping the process and resuming the insertion changes nothing. So I don't think that is related to memory limits or garbage collection.</p>\n\n<p>Thx.</p>\n"},{"tags":["java","sql","database","oracle","query"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":13078116,"title":"Best Practice - Building a query based on user selections","body":"<p>I am creating a small web based tool that allows users to query a large lookup table in various ways. Since its a small tool, I'm using JSP/Servlets. </p>\n\n<p>The lookup table has a definition something like this:</p>\n\n<p>column1 | column2 | column3 | date | user | count</p>\n\n<p>The user can query by column values or a range. Also, the results can be sorted by a specific column. Because the table has several hundred thousand of records, and growing rapidly, I'm using Oracle's ROWNUM and only returning a small subset of results.</p>\n\n<p>I have a form page that gets the search criteria from the user. I generate my query based on a series of conditions, for example:</p>\n\n<pre><code>query = \"SELECT * FROM mytable WHERE 1=1 \"\nif(searchCriteria1 != \"\")\n    query += \"AND column1='searchCriteria1' \"\nif(searchCriteria2 != \"\")\n    query += \"AND column2='searchCriteria2' \"\nif(searchCriteria2 != \"\")\n    query += \"AND column2='searchCriteria2' \"\nif(searchCriteria3 != \"\")\n    query += \"AND column3='searchCriteria3' \"\nif((searchCriteria4 != \"\") &amp;&amp; (searchCriteria5 != \"\"))\n    query += \"AND date&gt;='searchCriteria4' AND date&lt;='searchCriteria5' \"\netc...\n</code></pre>\n\n<p>(This is just simplified pseudo code)</p>\n\n<p>The sorting is handled after the first results page is displayed. The user clicks on the column header of that page to sort by that column. This would be doing a post back and querying the database. Basically, I run the same code above but with this at the end:</p>\n\n<pre><code>if(sortColumn1)\n    query += \"ORDER BY column1\"\nif(sortColumn2)\n    query += \"ORDER BY column2\"\nif(sortColumn3)\n    query += \"ORDER BY column3\"\n</code></pre>\n\n<p>So, as you might imagine, my query building code is very long with all these different conditions. Any suggestions on a better way to do this?</p>\n"},{"tags":["mysql","database","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13078291,"title":"How to continue a table in one database in another database","body":"<p>I am basically curious about if it is possible to continue a table that has been created in one database to be continued in another. For example, if a table has been created for users ,each one having a unique id that increments, is in one database but becomes \"full\", can that same table be continued in another database with the unique ids still being incremented even if that database is on another server.</p>\n\n<p>I apologize in advance if this is a noob question. I am new to MySql.</p>\n"},{"tags":["mysql","sql","database","points"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13077875,"title":"How to add points row to users?","body":"<p>I'm trying to add a points row to to a table of current users on my website but I keep getting the error <code>#1062 - Duplicate entry '10' for key 'PRIMARY'</code>  when I try to set the default points to 10 for all users. I see this being a problem when both users end up reaching a same score of 150 etc.  Here are the settings for my table</p>\n\n<p><img src=\"http://i.stack.imgur.com/TrWgd.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/47lAz.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/LRBfR.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here is my query</p>\n\n<pre><code>&lt;?php\n\nsession_start();\n$db = mysqli_connect(\"host\", \"username\", \"password\", \"db_name\");\n\n$username = $_SESSION['username']; \n\nmysqli_query($db, 'UPDATE login_users SET Points=Points+1 WHERE username=$username');\n\n\n?&gt;\n</code></pre>\n\n<p>Any ideas to allow the same numbers to be stored in the points row? It seems that it is treating it as an \"ID\" instead of just a number.  Thanks!</p>\n"},{"tags":["php","database","states"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1690,"score":4,"question_id":6213736,"title":"State list of world with country-code","body":"<p>Where can I found the list of all the <code>states</code> of world with their <code>country code (ISO2 or ISO3).</code></p>\n\n<p>I have to insert all these states in my <code>database</code>. If the list is available in the <code>.sql</code> will be great.</p>\n\n<p>I need <code>state list of world with country-code not the country list.</code></p>\n\n<p>Do you know where can I found?</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["c#","database","sqlcommand"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":80,"score":0,"question_id":10233206,"title":"Why is my program not connecting to the database?","body":"<p>I'm creating a database so I can store usernames and passwords. I have successfully created a DB on Microsft Visual Express C# 2010.</p>\n\n<p>My program seems to be working fine, and produces no error message, except that I'm not getting any feedback: it looks like my program is not actually making the request to the database, or not returning the results. What's going on?</p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n    {\n        string connection = @\"Data Source=.\\SQLEXPRESS;AttachDbFilename=|DataDirectory|\\Database1.mdf;Integrated Security=True;User Instance=True\";\n        SqlConnection cn = new SqlConnection(connection);\n        try\n        {\n            cn.Open();\n        }\n        catch (Exception)\n        {\n            MessageBox.Show(\"Did not connect\");\n        }\n        string username = textBox1.Text;\n        string password = maskedTextBox1.Text;\n        string sqlquery = (\"SELECT * FROM User WHERE Username = '\" + textBox1.Text + \"'\");\n        sqlquery = \"INSERT INFO [User] (Username, Password) VALUES ('\" + textBox1.Text + \"','\" + maskedTextBox1.Text + \"')\";\n        SqlCommand Command = new SqlCommand(sqlquery, cn);\n        Command.Parameters.AddWithValue(\"Username\", username);\n        Command.Parameters.AddWithValue(\"Password\", password);\n    }\n    private void Form1_load(object sender, EventArgs e)\n    {\n        string connection = @\"Data Source=.\\SQLEXPRESS;AttachDbFilename=|DataDirectory|\\Database1.mdf;Integrated Security=True;User Instance=True\";\n        SqlConnection cn = new SqlConnection(connection);\n        try\n        {\n            cn.Open();\n        }\n        catch (Exception)\n        {\n            MessageBox.Show(\"Did not connect\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php","database","database-connection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13067042,"title":"PHP error while connecting to database","body":"<p>I'm trying to connect to a database that I created using this code:</p>\n\n<pre><code>&lt;?php\nfunction Conectarse()\n{\n    $host=\"localhost\";\n    $user=\"root\";\n    $password=\"root\";\n    $bda=\"toobebe_catalogo\";\n\n    if (!($link=mysql_connect($host,$user,$password)))\n    {\n        echo \"Error conectando a la base de datos.&lt;br&gt;\";\n        exit();\n    }\n    else\n    {\n        echo \"Éxito conectando con la base de datos.&lt;br&gt;\";\n    }\n\n    if (!mysql_select_db($bda,$link))\n    {\n        echo \"Error seleccionando la base de datos.&lt;br&gt;\";\n        exit();\n    }\n    else\n    {\n        echo \"Éxito al encontrar la base de datos.&lt;br&gt;\";\n    }\n    return $link;\n}\n\n$conn=Conectarse();\n\n$sql=\"SELECT * FROM toobebe-octubre\";\n$db_fila = mysql_query($sql,$conn);\n$ok=1;\n\nwhile (($row = mysql_fetch_array($db_fila)) &amp;&amp; $ok) \n{\n    $valor=mysql_query($sql,$conn);\n\nif(!$valor)\n{\n    $ok=0;\n}   \n}\n</code></pre>\n\n<p>?></p>\n\n<p>But it fires this mistake when I execute it:</p>\n\n<pre><code> Warning: mysql_fetch_array() expects parameter 1 to be resource, boolean given in ...\n</code></pre>\n\n<p>I've been searching, and to know:\n- Database exists</p>\n\n<ul>\n<li><p>Permissions are correct</p></li>\n<li><p>Table exists</p></li>\n<li><p>Table is not null</p></li>\n</ul>\n\n<p>Any idea on why this mistake is happening?</p>\n\n<p><strong>EDIT:</strong>\nAdded image with the mistake:\n<img src=\"http://i.stack.imgur.com/5JYkn.png\" alt=\"Image error\"></p>\n"},{"tags":["mysql","sql","database","mysqli","boolean-logic"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":53,"score":3,"question_id":13067472,"title":"How can I perform an AND operation on a single column?","body":"<p>I have a table with two columns;</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS `QUESTION_CATEGORY_RELATION` (\n  `question_id` int(16) NOT NULL,\n  `category_id` int(16) NOT NULL,\n  KEY `category_id` (`category_id`),\n  KEY `question_id` (`question_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nINSERT INTO `QUESTION_CATEGORY_RELATION` (`question_id`, `category_id`) VALUES\n(1, 2),\n(1, 3),\n(2, 1),\n(2, 2);\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/CYuEO.png\" alt=\"enter image description here\"></p>\n\n<p>I want to create a query that will search for a question_id with content_id 2 and content_id 3</p>\n\n<p>e.g.:</p>\n\n<pre><code>SELECT *  \nFROM `QUESTION_CONTENTS_REL` \nWHERE `content_id` = 2 AND `content_id` = 3\n</code></pre>\n"},{"tags":["asp.net","database","drop-down-menu","cascading"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13074915,"title":"AJAX Toolkit cascading dropdown list database - CS ok, but VB fail","body":"<p>Cascading dropdown list is ok with CS but the same site in VB doesn't work. In VB the last dropdown list looses it's value when postback, it takes the value of the previous dropdown list.</p>\n\n<p>The two sites are in the following link <a href=\"http://sdrv.ms/RYm7AK\" rel=\"nofollow\">sites</a>.</p>\n\n<p>Both sites have the the same version of the database.</p>\n\n<p>I really appreciate any suggestion.</p>\n"},{"tags":["mysql","sql","database","query","join"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13076565,"title":"table with multiple foreign keys joining 1 foriegn key in mysql","body":"<p>Hi I have a database table with the following information :</p>\n\n<pre><code>owner.primaryitowner, (bobsmith@mail.com)\nowner.secondaryitowner, \nowner.primarybusinessowner, \nowner.secondarybusinessowner\nusers.username (email bobsmith@mail.com)\nusers.displayname (e.g. Bob Smith)\n</code></pre>\n\n<p>The issue, is the owners are only stored as emails. There is another table I normally </p>\n\n<p><code>inner join users on users.username = owner.primaryitowner to get users.displayname</code> \nso the data reads correctly.` </p>\n\n<p>I am able to do this</p>\n\n<pre><code>select u.displayname\nfrom users u\ninner join owners o on\n    o.primaryitowner = u.username\n    or o.secondaryitowner = u.username\n    or o.primarybusinessowner = u.username\n    or o.secondarybusinessowner = u.username\n</code></pre>\n\n<p>The issue is I need to have unique columns not all into one column. </p>\n\n<p>PS I cannot change the database I am only a report writer.</p>\n\n<p>Thanks so much in advance</p>\n"},{"tags":["sql","database","oracle","query"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":13068753,"title":"Alternatives to using SQL IN in this query","body":"<p>I have a string holding comma separated values = value1, value2, value3 .......</p>\n\n<p>I want to perform following operation:</p>\n\n<pre><code>SELECT col FROM table WHERE col IN :values\n</code></pre>\n\n<p>This works fine if values have less than 1000 entries. It gives error when values have more than 1000 entries. There is a limit on usage of IN.</p>\n\n<p>Is there any alternative way to perform this query? </p>\n\n<p>EDIT: \nIt is Oracle's Business Intelligence Publisher application. Customer/User can use any database underneath.</p>\n\n<p>I do not have control over database. So I cannot create a temp table or stored procedure. All I can do is select multiple values from UI screen (it forms comma separated string) and use it in a SQL query. Depending on which reports are generated.</p>\n\n<ul>\n<li>Cannot use EXISTS with static string values.</li>\n<li>Cannot use stored procedure or temp table.</li>\n</ul>\n"},{"tags":["ruby","database","ruby-on-rails-3","database-design","activerecord"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13050831,"title":"Multiple has_one association to one polymorphic model","body":"<p>I have two models, <code>Address</code> and <code>User</code>:</p>\n\n<pre><code>class Address &lt; ActiveRecord::Base\n  belongs_to :resource, polymorphic: true\nend\n\nclass User &lt; ActiveRecord::Base\n  has_one :contact_address, class_name: \"Address\", as: :resource\n  has_one :billing_address, class_name: \"Address\", as: :resource\nend\n</code></pre>\n\n<p>Problem is if I create <code>billing_address</code> for <code>User</code> it will be automatically set as <code>contact_address</code>, since the <code>addresses</code> table doesn't specify a different <code>resource_type</code> (both are <code>User</code>).\nCan you give me some advice on how I should set up my models?</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12981691,"title":"Unable to getWritableDatabase() - sometimes","body":"<p>I regularly get reports from users with this error.</p>\n\n<p><strong>Unable to getWritableDatabase.</strong></p>\n\n<pre><code>try {\n        //dbOpenHelper is a standard SQLiteOpenHelper\n        dbOpenHelper.getWritableDatabase();             \n} catch (Exception e) {\n        //unable to connect to database.\n        return;\n}\n</code></pre>\n\n<p>This is only happening sometimes. What could it be? Any fixes or workarounds?</p>\n"},{"tags":["database","web-applications","progress","4gl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12704701,"title":"accessing Progress 4GL database for webdevelopment","body":"<p>Currently we develop our webapps using webspeed that comes with the progress development tools. But since the current switch to progress 10.2b we can develop software that uses .net components. Now we would also like to upgrade our webdevelopment tools.</p>\n\n<p>So my question to the good people on SO is ...</p>\n\n<p>Do any of you know if there are good environments like APS.net/RoR/Django to easily connect to the progress databases?\nIf there are connectors available, if there is good support for it and where i can find it ;)</p>\n\n<p>thank you.</p>\n"},{"tags":["java","database","spring","hibernate","sessionfactory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13072948,"title":"Multiple Hibernate data sources","body":"<p>I have a project that currently uses 3 databases on the same database server. One of the databases has now been moved to another physical server and I'm trying to get hibernate to handle this but struggling to work out where to start - should I duplicate datasource, sessionfactory, hibernatetemplate, and transaction manager and then try to manage this in the code? I'm using Spring 3 and Hibernate 3.5. Is this a common thing to do? Any advice would be much appreciated.</p>\n\n<p>If it helps my config currently looks like this:</p>\n\n<pre><code>&lt;bean id=\"datasource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/DatabaseOne\"/&gt;\n    &lt;property name=\"username\" value=\"username\"/&gt;\n    &lt;property name=\"password\" value=\"password\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"datasource\"/&gt;\n    &lt;property name=\"exposeTransactionAwareSessionFactory\"&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;domain.DatabaseOneObject&lt;/value&gt;\n            &lt;value&gt;domain.DatabaseTwoObject&lt;/value&gt;\n            &lt;value&gt;domain.DatabaseThreeObject&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateTemplate\" class=\"org.springframework.orm.hibernate3.HibernateTemplate\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["mysql","database","database-design","diagram"],"answer_count":12,"favorite_count":15,"up_vote_count":55,"down_vote_count":0,"view_count":50380,"score":55,"question_id":2488,"title":"Auto Generate Database Diagram MySQL","body":"<p>I'm tired of opening Dia and creating a database diagram at the beginning of every project. Is there a tool out there that will let me select specific tables and then create a database diagram for me based on a MySQL database? Preferably it would allow me to edit the diagram afterward since none of the foreign keys are set...</p>\n\n<p>Here is what I am picturing diagram-wise (please excuse the horrible data design, I didn't design it. Let's focus on the diagram concept and not on the actual data it represents for this example ;) ):</p>\n\n<p><img src=\"http://i.stack.imgur.com/lxvlR.jpg\" alt=\"diagram\">\n<a href=\"http://i.stack.imgur.com/ZnN2O.png\">see full size diagram</a></p>\n"},{"tags":["mysql","database","magento","table"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13074247,"title":"Started optimize table on Magento db, but sites are down. Can I kill it and how?","body":"<p>All my websites are running super slow because I tried to optimize the Magento DB in phpmyadmin in an effort to get the sites to speed UP. They're so slow they might as well be down. I want the pain to stop. Can I kill the optimize and how would I do that? Or is it better just to wait until it's finished.</p>\n\n<p>For the record, I have a backup of the database.</p>\n"},{"tags":["mysql","database"],"answer_count":6,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1690,"score":6,"question_id":167254,"title":"Watching a table for change in MySQL?","body":"<p>Is there a better way to watch for new entries in a table besides selecting from it every n ticks of time or something like that?</p>\n\n<p>I have a table that an external program updates very often, and clients can watch for this new data as it arrive, how can I make that without having to set a fixed period of repeatable select statements?</p>\n"},{"tags":["mysql","sql","database","query","mysqldump"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13074062,"title":"mysql dump copy new and changed data to DB","body":"<p>I have a DB which is 60 GB and I have a live DB which is 13 GB , now on the live DB there are some new entries and updated entries too. Consider 13GB DB has same initial data which 60 GB has with some rows updated and last few entries are completely new. No I want to copy that 13 GB to 60 GB. I have the dump but the insert commands and when I try to import it, it shows me the forign key constarained error and says it canot delete or update. So I need a query for mysql import so that it will copy the new data and update the new if any, and also the dump file is regular dump file with create, insert all those and it is not possible to change anything inside it :(</p>\n"},{"tags":["sql","sql-server","database","sql-server-2008","query"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":107,"score":1,"question_id":13072992,"title":"Avoid \"SELECT TOP 1\" and \"ORDER BY\" in Queries","body":"<p>I have the very table in sql server 2008 with lot of data</p>\n\n<pre><code>|ID|Name|Column_1|Column_2|\n|..|....|........|........|\n</code></pre>\n\n<p>more than 18,000 records. So i need to the the row with the lowest value of <code>Column_1</code> that is date but could by any data type (that is unsorted) so I use these sentence</p>\n\n<pre><code>SELECT TOP 1 ID, Name from table ORDER BY Column_1 ASC\n</code></pre>\n\n<p>But this is very very slow. And i think that i don't need to to sort the whole table. My question es how to get the same date with out using <code>TOP 1</code> and <code>ORDER BY</code></p>\n"},{"tags":["php","mysql","database","mvc","cakephp"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2885,"score":3,"question_id":1788072,"title":"CakePHP using multiple databases for models","body":"<p>Is it possible for certain models to be in one database and other models in another (using the same connection)?</p>\n\n<p>I have a number of read-only tables that I want shared between multiple installations of my system. Other tables need to be per-installation. For the sake of example, let's say <code>users</code> is the shared table, and <code>posts</code> is per-installation.</p>\n\n<p>In one schema (let's call it \"shared\") we have the <code>users</code> table, and in another schema (\"mycake\") is <code>posts</code>.</p>\n\n<p>I've been able to get the User model reading from the other database by creating a new database connection which points to the shared database (though the two databases are on the same host and are both accessible with the same login details).</p>\n\n<pre><code>class User extends AppModel {\n    var $useDBConfig = 'sharedConnection';\n}\n</code></pre>\n\n<p>The problem is when it comes time to join to the <code>posts</code> table. It doesn't prepend the schema name to the table name, and so it can't find <code>posts</code>.</p>\n\n<pre><code>// what it does\nSELECT * FROM users User INNER JOIN posts Post ...\n\n// what I'd like it to do:\nSELECT * FROM shared.users User INNER JOIN mycake.posts Post ...\n</code></pre>\n\n<p>So basically, <strong>is there a way to assign a fully qualified table name to a model and force it to use that in all its queries?</strong> Setting <code>var $useTable = 'shared.users';</code> doesn't help... </p>\n"},{"tags":["sql","database","sqlite","postgresql","greatest-n-per-group"],"answer_count":2,"favorite_count":13,"up_vote_count":31,"down_vote_count":1,"view_count":23170,"score":30,"question_id":3800551,"title":"SQL: Select first row in each GROUP BY group?","body":"<p>As the title suggests, I'd like to select the first row of each set of rows grouped with a <code>GROUP BY</code>.</p>\n\n<p>Specifically, if I've got a \"purchases\" table that looks like this:</p>\n\n<pre>\n> SELECT * FROM purchases:\nid | customer | total\n 1 | Joe      | 5\n 2 | Sally    | 3\n 3 | Joe      | 2\n 4 | Sally    | 1\n</pre>\n\n<p>I'd like to query for \"the id of the largest purchase made by each customer. Something like this:</p>\n\n<pre>\n> SELECT FIRST(id), customer, FIRST(total)\n. FROM purchases\n. GROUP BY customer\n. ORDER BY total DESC;\nFIRST(id) | customer | FIRST(total)\n        1 | Joe      | 5\n        2 | Sally    | 3\n</pre>\n"},{"tags":["mysql","sql","database","query","relational-database"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12966873,"title":"MySQL: Why is NULL ignored in MySQL?","body":"<p>I have a table with the following possible values for the column field_value.</p>\n\n<p>But when I try to select all values which are not 'CB', the query result also ignores all NULL values.</p>\n\n<p>Why does this happen? </p>\n\n<pre><code>mysql&gt; select distinct field_value from TableName;\n+--------------+\n| field_value  |\n+--------------+\n| S            |\n| NULL         |\n| CA           |\n| CB           |\n+--------------+\n4 rows in set (6.32 sec)\n\nmysql&gt; select distinct field_value from TableName where field_value!='CB';\n+--------------+\n| field_value  |\n+--------------+\n| S            |\n| CA           |\n+--------------+\n2 rows in set (0.15 sec)\n\nmysql&gt;\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","database","associations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13072805,"title":"association through has_many and multiple belongs to","body":"<p>I've got the following models and associations:</p>\n\n<pre><code>class User &lt; ActiveRecord::Base   \n    has_and_belongs_to_many :songs\nend\n\nclass Song &lt; ActiveRecord::Base \n    has_and_belongs_to_many :users\n    belongs_to :album\n    delegate :artist, :to =&gt; :album, :allow_nil =&gt; true\nend\n\nclass Album &lt; ActiveRecord::Base\n    has_many :songs\n    belongs_to :artist\nend\n\nclass Artist &lt; ActiveRecord::Base\n    has_many :albums\n    has_many :songs, :through =&gt; :albums\nend\n</code></pre>\n\n<p>I need to be able to call user.albums and user.artists on a regular basis. Is the most efficient option to create has_and_belongs_to_many associations between User and Artist/Album ?</p>\n\n<p>It seems like there should be a better way but I haven't been able to find anything yet.</p>\n"},{"tags":["java","android","database","eclipse","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13072854,"title":"Deleting an entry in a SQLite database in android","body":"<p>My name is Michael, and I am writing an android application that will serve as a very basic class schedule app. So far, I have been able to write the program so that I am able to create and add new classes to the database, however I cannot seem to figure out how to remove a selected entry from the database. The button that saves the entries is defined as follows:</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/save\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Save\" /&gt;\n</code></pre>\n\n<p>and the listener that it activates is:</p>\n\n<pre><code>private View.OnClickListener onSave=new View.OnClickListener() {\n        public void onClick(View v) {\n            String type=null;\n\n            switch (types.getCheckedRadioButtonId()) {\n                case R.id.math:\n                    type=\"math\";\n                    break;\n                case R.id.cs:\n                    type=\"cs\";\n                    break;\n                case R.id.pe:\n                    type=\"pe\";\n                    break;\n                case R.id.elective:\n                    type=\"elective\";\n                    break;\n            }\n\n            if (restaurantId==null) {\n                helper.insert(name.getText().toString(),\n                                            address.getText().toString(), type,\n                                            notes.getText().toString());\n            }\n            else {\n                helper.update(restaurantId, name.getText().toString(),\n                                            address.getText().toString(), type,\n                                            notes.getText().toString());\n            }\n\n            finish();\n        }\n    };\n</code></pre>\n\n<p>Where the 'insert()' method is the function in my helper class that adds the entry.</p>\n\n<p>The specific problem is that I am having trouble writing the 'remove()' function in the helper class. I have tried using the getWritableDatabase.delete() function, however I am having trouble finding the right parameters. Any point in the right direction would be a big help to me. Thank you in advance.</p>\n\n<p>If it helps at all, this is the insert() function:</p>\n\n<pre><code>public void insert(String name, String address,\n            String type, String notes) {\n        ContentValues cv=new ContentValues();\n\n        cv.put(\"name\", name);\n        cv.put(\"address\", address);\n        cv.put(\"type\", type);\n        cv.put(\"notes\", notes);\n\n        getWritableDatabase().insert(\"restaurants\", \"name\", cv);\n    }\n</code></pre>\n"},{"tags":["database","query","ms-access"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":83,"score":4,"question_id":13048988,"title":"MS Access : Average and Total Calculation in Single Query","body":"<p><strong>INTRODUCTION TO DATABASE TABLE BEING USED -</strong></p>\n\n<p>I am working on a “Stock Market Prices” based Database Table. My table has got the data for the following FIELDS –</p>\n\n<p>ID</p>\n\n<p>SYMBOL</p>\n\n<p>OPEN</p>\n\n<p>HIGH</p>\n\n<p>LOW</p>\n\n<p>CLOSE</p>\n\n<p>VOLUME</p>\n\n<p>VOLUME CHANGE</p>\n\n<p>VOLUME CHANGE %</p>\n\n<p>OPEN_INT</p>\n\n<p>SECTOR</p>\n\n<p>TIMESTAMP</p>\n\n<p>New data gets added to the table daily “Monday to Friday”, based on the stock market price changes for that day. The current requirement is based on the “VOLUME “field, which shows the volume traded for a particular stock on daily basis.</p>\n\n<p><strong>REQUIREMENT –</strong>\nTo get the Average and Total Volume for last 10,15 and 30 Days respectively.</p>\n\n<p><strong>METHOD USED CURRENTLY -</strong>\nI created these 9 SEPARATE QUERIES in order to get my desired results –\nFirst I have created these 3 queries to take out the most recent last 10,15 and 30 dates from the current table.\n  qryLast10DaysStored\n  qryLast15DaysStored\n  qryLast30DaysStored</p>\n\n<p>Then I have created these 3 queries for getting the respective AVERAGES\n  qrySymbolAvgVolume10Days\n  qrySymbolAvgVolume15Days\n  qrySymbolAvgVolume30Days</p>\n\n<p>And then I have created these 3 queries for getting the respective TOTALS\n  qrySymbolTotalVolume10Days\n  qrySymbolTotalVolume15Days\n  qrySymbolTotalVolume30Days\n**\nPROBLEM BEING FACED WITH CURRENT METHOD -**\nNow, my problem is that I have ended up having these so many different queries, whereas I wanted to get the output into One Single Query, <strong>as shown in the Snapshot of the Excel Sheet.</strong></p>\n\n<p><a href=\"http://i49.tinypic.com/256tgcp.png\" rel=\"nofollow\">http://i49.tinypic.com/256tgcp.png</a></p>\n\n<p><strong>SOLUTION NEEDED -</strong>\nIs there some way by which I can get these required fields into ONE SINGLE QUERY, so that I do not have to look into multiple places for the required fields? Can someone please tell me how to get all these separate queries into one -\nA) Either by taking out or moving the results from these separate individual queries to one.\nB)** Or by making a new query which calculates all these fields within itself, so that these separate individual queries are no longer needed. This would be a better solution I think.**</p>\n\n<p><strong>One Clarification about Dates –</strong> Some friend might think why I used the method of using Top 10,15 and 30 for getting the last 10,15 and 30 Date Values. Why not I just used the PC Date for getting these values? Or used something like -  (\"VOLUME\",\"tbl-B\", \"TimeStamp BETWEEN Date() - 10 AND Date()\")\nThe answer is that I require my query to \"Read\" the date from the \"TIMESTAMP\" Field, and then perform its calculations accordingly <strong>for  LAST / MOST RECENT \"10 days, 15 days, 30 days”  FOR WHICH THE DATA IS AVAILABLE IN THE TABLE, WITHOUT BOTHERING WHAT THE CURRENT DATE IS. It should not depend upon the current date in any way.</strong></p>\n\n<p><strong>If there is any better method  or more efficient way to create these queries, then please enlighten.</strong></p>\n\n<p>Thanks a lot :)</p>\n\n<p>PS : I have attached a SAMPLE database which has the data for 6 months,  from 1 Nov 2011 to 30 April 2012 and it has also got the above mentioned queries in it.\n<a href=\"http://limelinx.com/448h\" rel=\"nofollow\">Sample Database with QUERIES</a></p>\n"},{"tags":["asp.net","database","asp.net-mvc-3","database-design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13072787,"title":"Data Retrieval including dropdownlist & database structure","body":"<p>I have a project which has three tables:</p>\n\n<ol>\n<li><p>Team</p></li>\n<li><p>Questions</p></li>\n<li><p>Options</p></li>\n</ol>\n\n<p>For each team there will be X number of questions &amp; few might have options (single select or multiple checkbox) along with user contact details. Once user fills the form I need to save the data into Database.</p>\n\n<p><strong>Example1:</strong></p>\n\n<p>Team - Technology\nQuestion - Programming Language\nOptions - C, C++, Java</p>\n\n<p><strong>Example2:</strong></p>\n\n<p>Team - Technology\nQuestion - Phone Number\nOptions - Null (i mean to get textbox here)</p>\n\n<p>My confusion here is:-</p>\n\n<ol>\n<li>How should i plan the table structure such that data retrieval is easier?</li>\n<li>Edit method is a must &amp; how can i retrieve Whatever user entered + to show the same questions &amp; also options such that user entered is selected or highlighted (checkbox or single select)?</li>\n</ol>\n\n<p>Kindly assist. Your help is really required!</p>\n\n<p>I am trying to do this iN ASP.NET MVC4 with AJAX.</p>\n"},{"tags":["database","database-design","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12558949,"title":"How to change database without affecting yii?","body":"<p>First I created a database, then a model and CRUD. When I try to change the database properties, I get an error. What are the steps to change the database to the desired schema? For example add a column, change int to varchar, or change a column name. I am new to <a href=\"http://www.yiiframework.com/\" rel=\"nofollow\">yii</a>.</p>\n"},{"tags":["c++","database"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":51,"score":1,"question_id":13072199,"title":"What database should I use that requires minimal software install to end-users computer?","body":"<p>I'm creating dvd rental software in c++. I need three databases, one to store customer information, one to store dvd inventory, and one to store dvd rentals.</p>\n\n<p>I'm creating it for my boss at a small grocery store that rents dvd's as a small side business. They don't want me installing a ton of companion software on their computer to get this running, so I need to use a database is as native to windows as possible (if that makes sense).</p>\n\n<p>Also, if it makes a difference, i'm relatively new to c++ and 100% self-taught so I don't quite have the complex programming ideals down yet.</p>\n\n<p>If you could suggest a database and a reference where I could read up more information on how to implement it that would be excellent!</p>\n"},{"tags":["mysql","database","database-design","normalization","database-normalization"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13067440,"title":"How to model attribute units in a database design?","body":"<p>I need to design a database table where most attributes have units. For example:</p>\n\n<pre><code>Readings\n--------\n\nid   load (kW)   fuel_consumption (tonnes) - etc\n1    1154        89.4\n2    1199        54.2\n</code></pre>\n\n<p>What's the recommended way to capture the units in the design? For example, I could:</p>\n\n<ul>\n<li><strong>store units within attribute names</strong> e.g. load_kW and fuel_consumption_tonnes</li>\n<li><strong>store units in a separate table</strong> e.g. each value becomes a foreign key to another table with columns for value and unit. </li>\n<li><strong>store outside the database:</strong> e.g. in business logic, or in documentation</li>\n<li><strong>are there others?</strong></li>\n</ul>\n\n<p>I happen to be using MySQL, but I assume this is a generic database normalisation problem. </p>\n"},{"tags":["sql","sql-server","database","sql-server-2008"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13070992,"title":"inserting into A errors because of a foreign key contraint issue","body":"<p>Can someone help explain this to me and resolve it?</p>\n\n<p><a href=\"http://sqlfiddle.com/#!6/2adc7/9\" rel=\"nofollow\">http://sqlfiddle.com/#!6/2adc7/9</a></p>\n\n<p><strong>The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_tblMobileForms_tblForms\". The conflict occurred in database \"db_6_2adc7\", table \"dbo.tblForms\", column 'fm_id'.: insert into tblMobileForms(fm_name) values ('lol')</strong></p>\n\n<p>My schema has the ID from tblMobileForms be a foreign key to tblForms.fm_id</p>\n"},{"tags":["objective-c","sql","ios","database","plist"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13071170,"title":"Converting Hierarchical Database (Plist)","body":"<p>Firstly sory for my english,\nI have got a plist file for iOS project. This files structure is hierarchical and it is containing 1000 sub-branchs and each of 1000 sub-branchs are containing 4 sub-branchs.  All my datas for plist is in an other excel file. How can i import all datas from excel to plist so plist is hierarchical but excel datas is not. Can i convert plist to sql  file and datas in excel import to this sql file with sql manager. After can i convert to plist file again?</p>\n\n<p>Thanks</p>\n"},{"tags":["database","architecture","3d","software-design","3d-modelling"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":7600164,"title":"Why Database is not used with 3D and Drawing softwares (to store points and other primitive shapes)?","body":"<p>My question is why Databases are not used with Drawing, 3D Modelling, 3D Design, Game Engines and architecture etc. software to save the current state of the images or the stuff that is present on the screen or is the part of a project in a Database.</p>\n\n<p>One obvious answer is the speed, the speed of retrieving or saving all the millions of triangles or points forming the geometry is very low, as there would be hundreds or thousands of queries per second, but is it really the cause? Considering the apparent advantages of using databases  can allow sharing the design live over a network when it is being saved at a common location, and more than one people can work on it at a time or can use can give live feedback when something is being designed when it is being shared, specially when time based update is used, such as update after every 5 or 10 seconds, which is not as good as live synchronization, but should be quick enough. What is the basic problem in the use of Databases in this type of software that caused them not to be used this way, or new algorithms or techniques not being developed or studied for optimizing the benefits of using them this way? And why this idea wasn't researched a lot.</p>\n"},{"tags":["database","redis"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":1537,"score":5,"question_id":7953475,"title":"Simple search by value?","body":"<p>I would like to store some information as follows (note, I'm not wedded to this data structure at all, but this shows you the underlying <strong>information</strong> I want to store): </p>\n\n<pre><code>{ user_id: 12345, page_id: 2, country: 'DE' }\n</code></pre>\n\n<p>In these records, user_id is a unique field, but the page_id is not. </p>\n\n<p>I would like to translate this into a Redis data structure, and I would like to be able to run efficient searches as follows:</p>\n\n<ul>\n<li>For user_id 12345, find the related country.</li>\n<li>For page_id 2, find all related user_ids and their countries. </li>\n</ul>\n\n<p>Is it actually possible to do this in Redis? If so, what data structures should I use, and how should I avoid the possibility of duplicating records when I insert them?</p>\n"},{"tags":["database","doctrine2","zend-framework2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13070797,"title":"Get data from join table with ManyToMany relation using Doctrine 2 - Zend Framework 2","body":"<p>I have got two entities with a join table</p>\n\n<pre><code>DataBase:\n\nFruits Table\n-- fruitsId (PK, AI)\n-- fruitName\n\nCountry Table\n-- countryId (PK, AI)\n-- countryName\n\ncountry_fruits Table\n-- fruitsId (PK, FK)\n-- countryId (PK, FK)\n\nEntity: Country\n/**\n * @ORM\\Entity\n * @ORM\\Table(name=\"country\")\n * @property string $countryName\n * @property int $countryId\n */\nclass Country\n{\n    /**\n     * @ORM\\Id\n     * @ORM\\Column(type=\"integer\", name=\"countryId\")\n     * @ORM\\GeneratedValue(strategy=\"AUTO\")\n     */\n     protected $countryId;\n\n    /**\n     * @ORM\\Column(type=\"string\")\n     */\n    protected $countryName;\n\n   /**\n     * @ORM\\ManyToMany(targetEntity=\"Fruits\", cascade={\"persist\"})\n     * @ORM\\JoinTable(name=\"country_fruits\",\n     *        joinColumns={@ORM\\JoinColumn(name=\"countryId\", referencedColumnName=\"countryId\")},\n     *        inverseJoinColumns={@ORM\\JoinColumn(name=\"fruitId\", referencedColumnName=\"fruitId\")}\n     * )\n     */\n    protected $fruits;\n\n    public function __construct ()\n    {\n        $this-&gt;fruits = new ArrayCollection();\n    }\n\n    public function __get($property)\n    {\n        return $this-&gt;$property;\n    }\n\n    public function __set($property, $value)\n    {\n        $this-&gt;$property = $value;\n    }\n\n    public function addFruit(Fruit $fruit)\n    {\n        //logic to add fruits \n    }\n\n    public function getFruits()\n    {\n        return $this-&gt;fruits-&gt;toArray();\n    }\n\nEntity: Fruits\n/**\n * @ORM\\Entity\n * @ORM\\Table(name=\"fruits\")\n * @property string $fruitName\n * @property int $fruitId\n */\nclass Fruits\n{\n    /**\n     * @ORM\\Id\n     * @ORM\\Column(type=\"integer\", name=\"fruitId\", unique=true);\n     * @ORM\\GeneratedValue(strategy=\"AUTO\")\n     */\n    protected $fruitId;\n\n    /**\n     * @ORM\\Column(type=\"string\")\n     */\n    protected $fruitName;\n\n    /**\n     * @ORM\\ManyToMany(targetEntity=\"Country\")\n     * @ORM\\JoinTable(name=\"country_fruits\",\n     *        joinColumns={@ORM\\JoinColumn(name=\"fruitId\", referencedColumnName=\"fruitId\")},\n     *        inverseJoinColumns={@ORM\\JoinColumn(name=\"countryId\", referencedColumnName=\"countryId\")}\n     * )\n     */\n    protected $country;\n\n    public function __construct()\n    {\n        $this-&gt;country =  new ArrayCollection();\n    }\n\n    public function __get($property)\n    {\n        return $this-&gt;$property;\n    }\n\n    public function __set($property, $value)\n    {\n        $this-&gt;$property = $value;\n    }\n\n    public function addCountry(Country $country)\n    {\n\n\n   //logic for adding a new country\n    }\n</code></pre>\n\n<p>So in my editAction() in my controller (im using Zend Framework), I wanted to retrieve all the fruits assigned to a particular country and store it in an array which I later use it to display using a dropdown box. But right now using this in my controller get me an empty array</p>\n\n<pre><code>Controller: editAction()\n$countryId = (int) $this-&gt;getEvent()-&gt;getRouteMatch()-&gt;getParam( 'countryId' ); \n$country   = $em-&gt;getRepository( 'My\\Entity\\Country' )-&gt;find( $countryId ); \n$fruits    = $country-&gt;getFruits(); \n</code></pre>\n\n<p>Any idea where I am doing a mistake or did I forgot something. Any solution would be much appreciated.</p>\n"},{"tags":["database","forms","ms-access","button"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13070709,"title":"Could not load entity error message","body":"<p>While using the database which I have created on a few of the buttons I get an error message saying:</p>\n\n<p>Error:Could not load entity. No current record. </p>\n\n<p>I have no idea why this is as it dosnt state which one has the error, any idea?</p>\n\n<p>Many thanks in advance</p>\n\n<p>Dominique</p>\n"},{"tags":["database","django","database-connection"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13069679,"title":"How to dynamically connect to a database","body":"<p>I want to connect Django to a database that the user will set in the main page.</p>\n\n<p>The user will have to precise the engine (with a combobox), the database, login, password etc in a form, and I want to proceed the connection with the submit.</p>\n\n<p>So far, I tried to set \"<code>DATABASES = {}</code>\" in <em><code>settings.py</code></em>, but it returns an error. </p>\n\n<p>Have you got any clue about how to do it?</p>\n"},{"tags":["database","mongodb","structure"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13070067,"title":"MongoDB - How does this simple MySQL data fit into a Doc object?","body":"<p>point of principle here I'm struggling with on Mongo.</p>\n\n<p>I'm gently and manually putting in test data into a Mongo DB from my MySQL DB. So I have this data in MySQL:-</p>\n\n<pre><code>id\\no\\start\\ratio\\gol\\fable\\dble\n488442\\1\\0000\\6200\\0\\0\\15\n488444\\2\\6200\\640\\0\\15\\15\n</code></pre>\n\n<p>Sorry for the odd separator - but you get the idea. </p>\n\n<p>If I then put this into Mongo - do I do</p>\n\n<pre><code>\"doc\" : { \"id\" : [ 488442, 488444 ], \"no\" : [ 1,2 ], \"start\" : [0000,6200] }\n</code></pre>\n\n<p>etc. I realise there's a lot 'do it how you like' with NoSQL, but is there a right answer to this simple question that could help more generally (plse dont close the thread)?</p>\n"},{"tags":["sql","database","vba","ms-access"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13032971,"title":"Using VBA to get the sum of values based on criteria from other tables?","body":"<p>I need to find the sum of the prices of a number of products, however the prices are stored in  a different table to products that need pricing.</p>\n\n<p>But, there is a catch, it needs to select these items based on criteria from a third table too.</p>\n\n<p>So, I need the sum of the price of all products in Table 1 where CutID in Table 2 = 001.</p>\n\n<p>Table 1 and Table 2 are linked on SCID, one to many respectively.</p>\n\n<p>If this makes no sense tell me and I will try to clarify?</p>\n\n<p>Thanks,\nBob P</p>\n"},{"tags":["mysql","sql","database","query","ms-access"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13069977,"title":"Very slow querying in Access, Can a SQL server do any better","body":"<p>I am working on MSAccess to quickly load the data and perform some analysis.\nSince the data exceeds over 200,000 records, it gets really very slow and takes for ever or never returns a result. I know that this is expected.</p>\n\n<p>Does installing a SQL server (freely availalbe) like MySQL do better in this scenario?\n(even for a million similar records)</p>\n\n<p>I cannot ask for paid software to perform analysis.</p>\n"},{"tags":["java","database","netbeans","desktop-application"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13069195,"title":"Java Desktop Application with Embedded Database","body":"<p>i'm planning to start the development of a java desktop application with a database embedded. It will be an application without internet connection and just for that, to insert, update and delete data on the database. It will be a lot of data.</p>\n\n<p>So, i would like to have your opinions, what libraries should i use to incorporate the database in the application to have good performances in the end? Should i use jdbc derby that's already incorporated with neatbeans?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["sql","sql-server","database"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":107,"score":0,"question_id":13060046,"title":"Updating a large table and minimizing user impact","body":"<p>I have a question on general database/sql server designing:</p>\n\n<p>There is a table with 3 million rows that is being accessed 24x7. I need to update all the records in the table. Can you give me some methods to do this so that the user impact is minimized while I update my table?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["javascript","database"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":47,"score":-3,"question_id":13069282,"title":"Updating database using Java Script","body":"<p>I have a HTML file with an embedded javascript. The function of the  javascript is to insert a value into a database.</p>\n\n<p>Consider I have one table in my \"<code>LocalHost server</code>\" and by executing the javascript, the value gets inserted into table.</p>\n\n<p>But consider I am \"uploading\" that HTML file into a \"<code>Remote server</code>\" and I am calling that \"URL\". Now nothing is happening in that table.</p>\n\n<p>If I haven't expressed myself clearly or you would like some more details, please let me know.</p>\n"},{"tags":["sql","database"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":13069297,"title":"Need your help in SQL query","body":"<p>There are two tables:</p>\n\n<ul>\n<li><strong>Clients</strong> (<code>id, name</code>)</li>\n<li><strong>Order</strong> (<code>id, id_client, name</code>), where <code>id_client</code> - foreign key. </li>\n</ul>\n\n<p>Write a query that selects the identifier and name of the first table and the number of records in the second table, associated with them. The result should be sorted by surname in descending order.</p>\n\n<p>I've tried</p>\n\n<pre><code>SELECT \n   Clients.id, Clients.name, count(id) \nFROM clients \nINNER JOIN Order ON Clients.id = Order.id_client \nGROUP BY \n   Clients.id, Clients.name \nORDER BY \n   Clients.name DESC\n</code></pre>\n\n<p>But it doesn't work. What is wrong?</p>\n"},{"tags":["database","solr","relational","indexer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13069099,"title":"Using Solr with a relational database to filter the search results","body":"<p>This is a problem that has been puzzling me for a long time. In brief here's what I'm facing:</p>\n\n<p>We have a collection of documents that are indexed on a Solr database based on their text field and their id field. The same documents are indexed also in a relational database based on their id field acting as a primary key. Solr is used for full-text search, while relational database is used to apply metadata on the documents, for example one-many and many-many relationships between documents and users.</p>\n\n<p>Let's assume that there exist N Solr text search queries that each returns a set of results Q1, Q2, ... , Qn</p>\n\n<p>Let's also assume that there are M SQL queries that each returns a set of results M1, M2, M3.</p>\n\n<p>Both results are documents.</p>\n\n<p>What I wanna do is the following:</p>\n\n<p>Given a random Solr test search query RQ return the results of that RQ query filtered in such way that :</p>\n\n<p>Each result of RQ query, is also an item of at least one of the Q1, ... , Qn , M1, ..., Mn</p>\n\n<p>In simple words each result document of the query RQ should be returned only if it is present in at least one of the other Solr / SQL queries that were defined.</p>\n\n<p>I came across this problem when I had to do full-text search in documents and then filter them based on </p>\n\n<p>1) User preferences that were defined in a relational database for each document.\n2) User Solr text search queries that define document clusters.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["database","entity-framework","database-design","orm","mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":13020230,"title":"Mapping 3 tables relation to single entity. ORM best practices?","body":"<p>after several attempts and some searching I finally decided to try it here.</p>\n\n<p>Short story: <strong>I have created quite a 'normalized' database design for content management system application and now I am trying to map it to EF entities.</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/SxOek.png\" alt=\"enter image description here\"></p>\n\n<p>I have M:N relationship between Pages and their content (ContentVersion table) - connected by table Content. This is because the application is multilingual and I am going to store recent history of content edits.</p>\n\n<p>Now, I could just create DbContext from my db, scaffold few controllers and have a solid base, but there would be a problem with that. When I would try to create new Page, I would be allowed to basically enter just a Title and Slug, but there would be no content for that page. I can of course connect that somehow with other entities and make some hierarchical business logic that would be updating several entities every time, but I first wanted to try a bit more abstract approach.</p>\n\n<p><strong>I think I basically need entity splitting over 3 related tables.</strong> I want to create an entity (let's call it FinalPage), that could be used to work with page as one piece -> use it to scaffold controllers etc.</p>\n\n<p>FinalPage is something that user fills up when creating a new Page, so it would contain:</p>\n\n<p><strong>Title</strong> (from Page entity)<br>\n<strong>Slug</strong> (from Page entity)<br>\n<strong>TemplateId</strong> (from Page entity)<br>\n<strong>LanguageId</strong> (from Content entity)<br>\n<strong>Title</strong> (from ContentVersion entity)<br>\n<strong>Body</strong> (from ContentVersion entity)<br>\n+ other related fields from ContentVersion entity</p>\n\n<p>When I would generate 'create new' page for it, I would fill everything and everything would get saved into appropriate tables.</p>\n\n<p>I tried creating new entity in my entity model, mapping properties to different tables.. tried several approaches, but never got working solution. Mostly because of typical 'you need to map every key' error. I was checking <a href=\"http://www.robbagby.com/entity-framework/entity-framework-modeling-entity-splitting/\" rel=\"nofollow\">this post from Rob Bagby</a>, but he was connecting just two tables, that shared same key. </p>\n\n<p>I also tried something what felt really silly... creating entity (entA) from Page and Content entities - connected by PageId property. And creating second one (entB) from Content and ContentVersion - connected by ContentId. Then I wanted to create third (entC) that would connect entA and entB. That also didn't work (and I am actually glad, because that would be really weird solution).</p>\n\n<p>I feel like I am:<br>\na.) Missing something obvious.<br>\nb.) Having a bad database design.<br>\nc.) Wanting too much from EF.</p>\n\n<p><strong>Any help is welcomed.<br>\n - If you see something terrible in the database design, please let me\n   know.<br>\n - If you know, how to achieve my goal, please share.<br>\n - If you have experience with this type of apps and have better solution,\n   I would like to hear about it.</strong></p>\n\n<p>I am also basically looking for some best-practices.</p>\n"},{"tags":["sql","database","oracle","sqldatatypes"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13068632,"title":"get rows which have a higher date than a specific one in MM/DD/YYYY format","body":"<p>sorry for asking a really amateurish question, but I am only beginning to learn oracle.</p>\n\n<p>I need to extract rows based on a date column which is in MM/DD/YYYY format , but I can't formulate a proper query. I used to_date function too but no fun.</p>\n\n<p>I need to extract rows from XTABLE where XDATE is higher than 10/21/2011 (MM/DD/YYYY)</p>\n\n<pre><code>select * from XTABLE where XDATE &gt;= '10/21/2011'\n</code></pre>\n\n<p>doesn't work, neither does</p>\n\n<pre><code>select * from XTABLE where to_date(XDATE,'MM/DD/YYYY') &gt; to_date('28/10/2011','MM/DD/YYYY')\n</code></pre>\n"},{"tags":["java","database","hibernate","oracle11g"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":41,"score":3,"question_id":13068156,"title":"Testing performance / connection speed of (Oracle) database","body":"<p>I have two test environments. My application is performing much worst on the seconds one. I suspect that this because the first one system is using database which runs on better hardware (more CPU, faster connection). I would like to verify my claims somehow. Are there any tools, which would help me with that? Should it helpful, I am using Oracle 11g and my app is using Hibernate to connect to the database.</p>\n\n<p>Mind you, I am not interested in profiling my schema. I would like to compare how fast is the same database (meaning schema + data) on two different machines. </p>\n\n<p>If you are interested, why I suspect that database is the problem: I profiled my application during tests on those two environments. During the second test environment methods responsible for connecting to database (namely org.apache.tomcat.dbcp.dbcp.DelegatingPreparedStatement.executeQuery()) are using much more of the CPU time.</p>\n"},{"tags":["java","mysql","database","jdbc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13068485,"title":"mysql-jdbc batch operation with rewriteBatchedStatements=true option show strange error log","body":"<p>HELP!!!\n  I use mysql jdbc batch method and config db url with 'rewriteBatchedStatements=true' option to get better performance to UPDATE operation. and It's work well in my local computer and beta machine...</p>\n\n<p>But, unbelievable...when I push it to production env... It crazy logs error message for every method call... more strange... the data that we want to handle is RIGHT updated although log many error message....</p>\n\n<p>I try to catch this exception...but failure...even use <code>try {} catch (Throwable t) {..}</code></p>\n\n<p>the jdbc version we use is </p>\n\n<pre><code> &lt;groupId&gt;mysql&lt;/groupId&gt;\n &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n &lt;version&gt;5.1.13&lt;/version&gt;\n</code></pre>\n\n<p>And I confirm that the sql syntax is right...and without ';'</p>\n\n<pre><code>UPDATE_PRICE=\"update product_room set price=?,update_time=now() where id=?\"\n</code></pre>\n\n<p>..and without ';'</p>\n\n<p>Our mysql server version is:</p>\n\n<pre><code>5.5.20-log\n</code></pre>\n\n<p>the error detail is:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'update product_room set price=?,update_time=now() where id=?;update product_room' at line 1\n    at sun.reflect.GeneratedConstructorAccessor233.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.Util.getInstance(Util.java:384)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3566)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3498)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1959)\n    at com.mysql.jdbc.ServerPreparedStatement.serverPrepare(ServerPreparedStatement.java:1604)\n    at com.mysql.jdbc.ServerPreparedStatement.&lt;init&gt;(ServerPreparedStatement.java:429)\n    at com.mysql.jdbc.JDBC4ServerPreparedStatement.&lt;init&gt;(JDBC4ServerPreparedStatement.java:46)\n    at sun.reflect.GeneratedConstructorAccessor53.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.ServerPreparedStatement.getInstance(ServerPreparedStatement.java:357)\n    at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4189)\n    at com.mysql.jdbc.ConnectionImpl.prepareStatement(ConnectionImpl.java:4103)\n    at com.mysql.jdbc.PreparedStatement.executePreparedBatchAsMultiStatement(PreparedStatement.java:1522)\n    at com.mysql.jdbc.PreparedStatement.executeBatch(PreparedStatement.java:1447)\n    at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)\n    at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)\n    at qunar.sql.base.GenericConnection.execute(GenericConnection.java:320)\n    at qunar.sql.base.GenericConnection.exec(GenericConnection.java:58)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at qunar.sql.AbstractConnection.invoke(AbstractConnection.java:51)\n    at $Proxy4.exec(Unknown Source)\n</code></pre>\n\n<p>Is anybody meet the same problem, help me! thanks!</p>\n"},{"tags":["database","sql-server-2008","stored-procedures","metadata"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":158,"score":3,"question_id":7338418,"title":"How to find stored procedures by name?","body":"<p>I just need to search through all the stored procedures on my database looking for one that contains \"item\" in its name. Any ideas?</p>\n\n<p>I've been tinkering around with this, but it's not quite there yet:</p>\n\n<pre><code>SELECT DISTINCT OBJECT_NAME(ID) FROM SysComments WHERE Text LIKE '%Item%'\n</code></pre>\n"},{"tags":["php","database","phpmyadmin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13064709,"title":"GoDaddy Database can not be found (PHP Error)","body":"<p>I am trying to create a username and password login. \nMy PHP file is not connecting with my GoDaddy database. </p>\n\n<p>This is the code that I have. ( I am not strong in hand coding)</p>\n\n<p><code>enter code here</code> \n\n<pre><code>        //These variable values need to be changed by you before deploying\n        $password = \"**********\";\n        $usertable = \"DuesLogin\";\n        $yourfield = \"your_field\";\n\n        //Connecting to your database\n        mysql_connect($hostname, $username, $password) OR DIE (\"Unable to \n        connect to database! Please try again later.\");\n        mysql_select_db($dbname);\n\n        //Fetching from your database table.\n        $query = \"SELECT * FROM $usertable\";\n        $result = mysql_query($query);\n\n        if ($result) {\n            while($row = mysql_fetch_array($result)) {\n                $name = $row[\"$yourfield\"];\n                echo \"Name: $name&lt;br&gt;\";\n            }\n        }\n        ?&gt;\n</code></pre>\n"},{"tags":["c#","database","visual-studio-2010"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":13065885,"title":"Building project succeed with Access database, can search the data but cannot delete the record","body":"<p>I just learn Visual Studio C# for 2 months. Recently, I write the code that can connect with Microsoft Access 2007 and it run smoothly (it can show data and can delete record as I expect) However, when I build the project, it still show data but cannot delete record.(it show error message box \"Unhandled exception has occurred in your application. If you click Continue, the application will ignore this error and attempt to continue. If you click Quit, the application will close immediately\")\nI don't know what's wrong with it. I try many ways for the solution but not yet succeed. \nI upload the project to 4shared.com so please download by this link -->\n<a href=\"http://www.4shared.com/zip/bxhZC3Wp/WindowsFormsApplication32.html\" rel=\"nofollow\">http://www.4shared.com/zip/bxhZC3Wp/WindowsFormsApplication32.html</a>?</p>\n\n<p>After download, please open and try running the code (file name WindowsFormsApplication32)\nyou will see 3 textboxes, type 1 and click button1, it will show name in textbox2 and city in textbox3. Now click button2 to delete the record, you can see that it will delete the record successfully. Then, open the folder iii>Debug, install the program (file name iii),and open the program (may located at C:\\Program Files (x86)\\Default Company Name\\iii). You can try the same way as when you run the code but after click button2 to delete the record, it will show messagebox error (please download the picture of the message error  by this link --> <a href=\"http://www.4shared.com/photo/FgUODfoW/error_messagebox.html\" rel=\"nofollow\">http://www.4shared.com/photo/FgUODfoW/error_messagebox.html</a>? )\nAnyone please help me.</p>\n\n<p>PS. This is how I Build the project. </p>\n\n<ol>\n<li>Open Visual Studio2010 by Right Click and select 'Run as\nadministrator'.</li>\n<li>Open my project</li>\n<li>'File' > 'Add' > 'New Project'</li>\n<li>In 'Add New Project' Window, select 'Other Project Types'>'Setup and Deployment'> 'Visual Studio Installer' select 'Setup Project'</li>\n<li>In 'File System' tab, right click 'Application Folder'> 'Add' > 'Project Output...'</li>\n<li>In 'File System' tab, right click 'Application Folder'> 'Add' > 'File...' and select my Microsoft Access 2007's file.</li>\n<li>in 'Solution Explorer' window, right click my project and select 'Build'\nIs this way can import the database to my project correctly?</li>\n</ol>\n\n<p>Below is the code.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\nusing System.Data.OleDb;\n\nnamespace WindowsFormsApplication32\n{\npublic partial class Form1 : Form\n  {\n    public Form1()\n    {\n        InitializeComponent();\n    }\n    private OleDbConnection connection;\n    private OleDbDataAdapter adapter;\n\n    private OleDbCommand command;\n    private string sql;\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        string con = @\"Provider=Microsoft.ACE.OLEDB.12.0;\n                        Data Source=|DataDirectory|\\bbb.accdb;\n                        Persist Security Info=False;\";\n        connection = new OleDbConnection(con);\n        if (connection.State == ConnectionState.Closed)\n            connection.Open();\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n\n        sql = \"SELECT * FROM test WHERE id=\" + textBox1.Text;\n\n        command = new OleDbCommand(sql, connection);\n\n        adapter = new OleDbDataAdapter(command);\n        DataSet data = new DataSet();\n        adapter.Fill(data, \"abc\");\n        if (data.Tables[\"abc\"].Rows.Count == 0) return;\n\n        else\n        {\n\n            textBox2.Text = Convert.ToString(data.Tables[\"abc\"].Rows[0][\"Name\"]);\n            textBox3.Text = Convert.ToString(data.Tables[\"abc\"].Rows[0][\"City\"]);\n        }\n\n\n    }\n\n    private void button2_Click(object sender, EventArgs e)\n    {\n        DialogResult result = MessageBox.Show(\"are you sure to delete\", \"delete\", MessageBoxButtons.OKCancel);\n        if (result == DialogResult.Cancel) return;\n        sql = \"DELETE FROM test WHERE ID=\" + textBox1.Text;\n        command = new OleDbCommand(sql, connection);\n        int r = (int)command.ExecuteNonQuery();\n        if (r &gt; 0)\n        {\n            MessageBox.Show(\"already delete\");\n            textBox1.Text = \"\";\n            textBox2.Text = \"\";\n            textBox3.Text = \"\";\n        }\n        else MessageBox.Show(\"error to delete\");\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["ajax","database","http"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13067279,"title":"How can I update my data automatically without using AJAX or any loop checking method?","body":"<p>I have a data table page that have to be update right after the database is updated.\nI am not allowed to use any loop checking method including AJAX.</p>\n"},{"tags":["android","database","listview","android-asynctask"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1580,"score":1,"question_id":8154042,"title":"How to update ListView from AsyncTask?","body":"<p>I am loading images by using <strong>AsyncTask</strong> and for updating ListView I am using <strong>notifyDataSetChanged()</strong> method.</p>\n\n<p>But <strong>notifyDataSetChanged()</strong> doesn't change anything in the ListView onProgressUpdate().\nI don't want to use <strong>cursor.requery</strong> because it is deprecated method.</p>\n\n<p>Why <strong>notifyDataSetChanged()</strong> is not working for me?</p>\n\n<pre><code>public class News extends BasicActivity implements OnItemClickListener{\nprivate SQLiteDatabase db = null;\nprivate ListView lvNews;\nprivate TaskImgSm taskImgSm = null;\nprivate NewsListAdapter adapter;\nprivate Cursor cur;\nboolean pause = false;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.news);\n\n    db = SQLiteDatabase.openDatabase(((MyApp) getApplication()).getDbPath(), null, SQLiteDatabase.OPEN_READWRITE);\n    lvNews = (ListView) findViewById(R.id.list_news);\n    lvNews.setOnItemClickListener(this);\n    listFilling();\n\n    if (taskImgSm != null &amp;&amp; taskImgSm.getStatus() != AsyncTask.Status.FINISHED) taskImgSm.cancel(true);\n    taskImgSm = new TaskImgSm();\n    taskImgSm.execute();        \n}\n\nprivate void listFilling() {\n    cur = db.query(\"news\", new String[] { \"_id\", \"id_news\", \"title\", \"date\", \"img_url\", \"img_sm\" }, null, null, null, null, null);\n    startManagingCursor(cur);\n    adapter = new NewsListAdapter(this, cur, db);\n    lvNews.setAdapter(adapter);\n    adapter.notifyDataSetChanged();\n}\n\nclass TaskImgSm extends AsyncTask&lt;Void, String, Void&gt; {\n    Cursor curs;\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        curs = db.query(\"news\", new String[] { \"_id\", \"id_news\", \"img_url\", \"img_sm\" }, null, null, null, null, null);\n        startManagingCursor(curs);\n    }\n\n    @Override\n    protected Void doInBackground(Void... unused) {\n        curs.moveToFirst();\n        while (curs.isAfterLast() == false) {\n            if (curs.getBlob(curs.getColumnIndex(\"img_sm\")) == null) {\n                String imgUrl = curs.getString(curs.getColumnIndex(\"img_url\"));\n                String idNews = curs.getString(curs.getColumnIndex(\"id_news\"));\n                updateImg(imgUrl, idNews, \"img_sm\");\n                publishProgress();\n            }\n            curs.moveToNext();\n        }           \n        return (null);\n    }\n\n    private void updateImg(String img_URL, String whereId, String imgColumn) {\n        try {\n            DefaultHttpClient mHttpClient = new DefaultHttpClient();\n            HttpGet mHttpGet = new HttpGet();\n            mHttpGet.setURI(new URI(img_URL));\n            HttpResponse mHttpResponse = mHttpClient.execute(mHttpGet);\n            if (mHttpResponse.getStatusLine().getStatusCode() == HttpStatus.SC_OK) {\n                HttpEntity entity = mHttpResponse.getEntity();\n                if (entity != null) {\n                    // insert to database\n                    ContentValues values = new ContentValues();\n                    values.put(imgColumn, EntityUtils.toByteArray(entity));\n                    db.update(\"news\", values, \"id_news=\" + whereId, null);\n                }\n            }\n        } catch (URISyntaxException e) {e.printStackTrace();\n        } catch (ClientProtocolException e) {e.printStackTrace();\n        } catch (IOException e) {e.printStackTrace();}\n    }\n\n    @Override\n    protected void onProgressUpdate(String... item) {\n        if (pause == false) {\n            adapter.notifyDataSetChanged();\n        }\n    }\n\n    @Override\n    protected void onPostExecute(Void unused) {}\n}\n\n@Override\nprotected void onPause() {\n    pause = true;\n    super.onPause();\n}\n\n@Override\nprotected void onResume() {\n    pause = false;\n    adapter.notifyDataSetChanged();\n    super.onResume();\n}\n\n@Override\nprotected void onDestroy() {\n    if (taskImgSm != null &amp;&amp; taskImgSm.getStatus() != AsyncTask.Status.FINISHED) taskImgSm.cancel(true);\n    super.onDestroy();\n}\n}\n</code></pre>\n"},{"tags":["c#","database","visual-studio-2010","ssms2008","data-generation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13066899,"title":"How to populate database with generated data in visual studio 2010 / SSMS 2008?","body":"<p>In my (c#) Visual Studio 2010 project i have a reference to a database. </p>\n\n<p>However, the database is empty. I would like to insert some bogus data in this database so that i can test my app. </p>\n\n<p>Are there any tools / methods for doing so? </p>\n\n<p>Thanks!</p>\n"},{"tags":["sql","database","postgresql","duplicates","check"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13065940,"title":"Can a postgres check *conditionally* restrict duplicates?","body":"<p>I have to implement a rule that only one 'group' with a given ID can have status 'In Progress' or 'Problem' at one time. Is it possible to represent this in a Postgres check, or would I have to resort to logic in the application?</p>\n\n<p>For example:</p>\n\n<pre><code>INSERT INTO group (group_id, status) VALUES (1, 'In Progress'); -- okay\nINSERT INTO group (group_id, status) VALUES (2, 'Problem'); -- okay\nINSERT INTO group (group_id, status) VALUES (3, 'In Progress'); -- okay\nINSERT INTO group (group_id, status) VALUES (4, 'Problem'); -- okay\nINSERT INTO group (group_id, status) VALUES (1, 'Something else'); -- okay\nINSERT INTO group (group_id, status) VALUES (2, 'Foo bar'); -- okay\n\nINSERT INTO group (group_id, status) VALUES (1, 'In Progress'); -- should fail\nINSERT INTO group (group_id, status) VALUES (1, 'Problem'); -- should fail\nINSERT INTO group (group_id, status) VALUES (2, 'In Progress'); -- should fail\nINSERT INTO group (group_id, status) VALUES (2, 'Problem'); -- should fail\n</code></pre>\n"},{"tags":["java","sql","database","design-patterns","internationalization"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":61,"score":3,"question_id":13065247,"title":"How to handle multiple languages best in database applications?","body":"<p>I have a series of property files that are being used to display messages in various languages.<br>\nSo depending on the current language settings a message could be displayed in English or French or German etc.<br>\nIn my database I have various records and instead of the actual value I have put the key of the property file so that on retrieval of a record using that datum I can display the message in the corresponding language.<br>\nE.g. There could be a record in my database like:  </p>\n\n<p><code>John| Smith| AQ| etc</code>  </p>\n\n<p>Where <code>AQ</code> in the corresponding property file could be displayed as <code>Doctor</code> or <code>Arzt</code> etc.<br>\nMy problem is that I need to occusionally sort by these attributes whose values in the database though are the codes so sorting in the database is not possible.<br>\nFrom <a href=\"http://stackoverflow.com/questions/12975288/sort-from-sql-using-java\">here</a> I got the suggestion to use temporary tables and sort but this is fine for me for 1 attribute.<br>\nI am looking for a more general solution to handle multiple property files and avoid if possible checks in the code:<br>\ne.g. <code>if this query sorts on X create this temp table</code> etc.<br>\nIs there a general solution for this?</p>\n"},{"tags":["mysql","database","table"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13064526,"title":"Sorting fetched tables names from databse. Mysql PHP","body":"<p>I need to get all back up tables that are associated with their base table.\nFor example, <code>table_name</code> yields <code>table_name_backup1, table_name_backup2</code> ..etc. The reason for doing this is because I don't want to get backup tables names manually, there could be dozens of them and they are named based on game week and date and therefore their names cannot be predicted. </p>\n\n<p>The result I get after executing this statement if $tbl = 'ranking' for example:</p>\n\n<p>...</p>\n\n<pre><code>function getTables($tbl){\n  $query = \"SHOW TABLES LIKE '\" . $tbl . \"_gw%' ORDER BY \";\n</code></pre>\n\n<p>Result    </p>\n\n<pre><code> [0] =&gt; ranking_gw0_231012\n    [1] =&gt; ranking_gw10_231012\n    [2] =&gt; ranking_gw11_231012\n    [3] =&gt; ranking_gw1_231012\n    [4] =&gt; ranking_gw2_231012\n    [5] =&gt; ranking_gw3_231012\n    [6] =&gt; ranking_gw4_231012\n    [7] =&gt; ranking_gw5_231012\n    [8] =&gt; ranking_gw6_231012\n    [9] =&gt; ranking_gw7_231012\n    [10] =&gt; ranking_gw8_231012\n    [11] =&gt; ranking_gw9_231012\n    [12] =&gt; ranking       // I insert this manually before return statement. \n</code></pre>\n\n<p>Everything is ok except that the order is not correct for tables with more than 9 backups, since table <em>gw10</em> appears in index 1 and therefore, shows wrong data order when I submit their values. </p>\n\n<p>I have been thinking to make a function that will extract the number in <em>gwx</em> and re sort the whole thing, but i think there must be a simpler way. </p>\n\n<p>So, how could I show these tables in their correct order? </p>\n\n<p>BTW, when i view my db in MYSQLYOG, they appear in that same exact order, while in my phpmyadmin they are shown in correct order, <em>gw11</em> is shown the last one. \nThere is a possibility to have two tables with same gwx value, e.g ranking_gw0_080812 and ranking_gw0_101012</p>\n"},{"tags":["php","database","forms","security","hidden"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13065012,"title":"which is faster sending hidden form data or getting data from database","body":"<p>I'm using hidden form to send value. With a submit button. </p>\n\n<p>Its like:</p>\n\n<pre><code>&lt;form action=\"users.php?action=edit\" method=\"POST\"&gt;\n&lt;input type=\"hidden\" name=\"first_name\" value=\"Josh\" size=\"20\" maxlength=\"19\"/&gt;\n&lt;input type=\"submit\" name=\"done\" value=\"Done\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And i'm using these values in the next form i'm creating. I don't know which will be better, doing it like this or by getting data from database. Also, which will be more secure ?</p>\n"},{"tags":["c#","asp.net","database","sql-server-2008"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":57,"score":0,"question_id":13063705,"title":"exception error handling","body":"<p><img src=\"http://i.stack.imgur.com/Tuee5.png\" alt=\"enter image description here\"></p>\n\n<p>i am having this error in the image above whenever i want to book a flight in my airline reservation system project there is an exception error in my code this error message was popping up </p>\n\n<p><code>IndexOutOfRangeException unhandles by user code</code> </p>\n\n<p>...any ideas on how i can go about it my code is written in asp.net using c sharp??</p>\n\n<p>this is code</p>\n\n<pre><code>public partial class TICKET_BOOKING : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n    int a;\n    String constring = ConfigurationManager.ConnectionStrings[\"conn\"].ConnectionString.ToString();\n    public int Autonumber()\n    {\n        SqlConnection con = new SqlConnection(constring);\n        SqlCommand cmd = new SqlCommand();\n        cmd.CommandType = CommandType.Text;\n        cmd.Connection = con;\n        con.Open();\n        cmd.CommandText = \"select pid from pid\";\n        SqlDataAdapter da = new SqlDataAdapter();\n        DataSet ds = new DataSet();\n        DataTable dt = new DataTable();\n        da.SelectCommand = cmd;\n        da.Fill(dt);\n        a = Convert.ToInt32(dt.Rows[0][0].ToString()) + 1; //this is where its occuring\n        con.Close();\n        return a;\n    }\n</code></pre>\n"},{"tags":["java","database","oracle11g","database-migration","flyway"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13064509,"title":"Flyway : Oracle db migration not working on flyway 1.6 and 1.7","body":"<p>Would appreciate any clues.</p>\n\n<p>I am getting the following exception (for either sql and java migration) when calling the migrate() method, after the table <em>schema-version</em> is created on init().</p>\n\n<blockquote>\n  <p>com.googlecode.flyway.core.exception.FlywayException: Unable to lock\n  metadata table 'schema_version' in schema 'XXX'   at\n  com.googlecode.flyway.core.metadatatable.MetaDataTable.lock(MetaDataTable.java:146)</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Caused by: java.sql.SQLException: SQL string is not a DML statement\n    at\n  oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1263)\n    at\n  oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3584)\n    at\n  oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:3665)\n    at\n  oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1352)\n    at\n  com.googlecode.flyway.core.util.jdbc.JdbcTemplate.update(JdbcTemplate.java:260)\n    at\n  com.googlecode.flyway.core.dbsupport.oracle.OracleDbSupport.lockTable(OracleDbSupport.java:76)\n    at\n  com.googlecode.flyway.core.metadatatable.MetaDataTable.lock(MetaDataTable.java:144)\n    ... 61 more</p>\n</blockquote>\n\n<p>Thanks.</p>\n"},{"tags":["java","database","swing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13064447,"title":"chat in java using swings","body":"<p>i have added a chat option. i haven't used sockets or ports because i have no knowledge of it. i have used a timer say 1 second and after every second the database is checked for any changes and if there is any, the user is alerted at that moment itself. The database is shared over the network. This thing works and my JPanel is updated and it works smoothly just like a chat.\ni would like to ask that, is polling the database after every second efficient ? is it a nice idea? Thanks in advance guys! do suggest:-)</p>\n"},{"tags":["php","database","codeigniter","activerecord","pagination"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13064173,"title":"Codeigniter pagination is not appeared","body":"<p>i have view <code>vkategorimaterial</code> like this</p>\n\n<pre><code>&lt;table border=\"1\"&gt;\n                &lt;tr&gt;\n                    &lt;td colspan=\"4\"&gt;Tampilkan&lt;?php \n                    echo form_open('c_kategorimaterial/cari');\n                    echo nbs();$intext=array('name' =&gt; 'cari', 'class' =&gt; 'GUI');\n                    echo form_input($intext);\n                    echo nbs(); $inbutton=array('value' =&gt; 'Cari', 'class' =&gt; 'button');\n                    echo form_submit($inbutton);\n                    echo form_close();\n                    ?&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;td colspan=\"4\"&gt;&lt;a href=\"&lt;?php echo base_url(); ?&gt;index.php/c_kategorimaterial/tambah\"&gt;&lt;img class =\"create\" src=\"&lt;?php echo base_url();?&gt;img/create.png\"&gt;&lt;/a&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;td&gt;Nomor&lt;/td&gt;\n                    &lt;td&gt;Kode Kategori Material / Jasa&lt;/td&gt;\n                    &lt;td&gt;Nama Material / Jasa&lt;/td&gt;\n                    &lt;td&gt;Perintah&lt;/td&gt;\n                &lt;/tr&gt;\n                 &lt;?php     if ( !empty($rows) ) \n                      {  \n                            $no = 1;   \n                            foreach ($rows as $row) { ?&gt;  \n                            &lt;tr id=\"row\"&gt;  \n                             &lt;td&gt;&lt;?php echo $no;?&gt;&lt;/td&gt;  \n                             &lt;td&gt;&lt;?php echo $row-&gt;Kode_Kategori_Material_Jasa;?&gt;&lt;/td&gt;  \n                             &lt;td&gt;&lt;?php echo $row-&gt;Nama_Material_Jasa;?&gt;&lt;/td&gt;  \n                             &lt;td&gt; &lt;a href=\"&lt;?php echo site_url('c_kategorimaterial/ubah/'.$row-&gt;Kode_Kategori_Material_Jasa.'/'.$row-&gt;Nama_Material_Jasa);?&gt;\"&gt;&lt;img class=\"perintah\" src=\"&lt;?php echo base_url(); ?&gt;img/update.png\"&gt;&lt;/a&gt;&lt;a href=\"&lt;?php echo site_url('c_kategorimaterial/hapus/'.$row-&gt;Kode_Kategori_Material_Jasa);?&gt;\" onclick=\"return confirm('akan dihapus, anda yakin ?');\"&gt;&lt;img class=\"perintah\" src=\"&lt;?php echo base_url(); ?&gt;img/delete.png\"&gt;&lt;/a&gt;&lt;/td&gt;                           \n\n                            &lt;/tr&gt;  \n                            &lt;?php  \n                             $no++;  \n                            }  \n                     } \n                     else { ?&gt;  \n            &lt;tr id=\"row\"&gt;  \n            &lt;td colspan=\"6\" align=\"center\"&gt;Tabel Kosong&lt;/td&gt;  \n            &lt;/tr&gt;\n\n        &lt;?php  \n        }  \n        ?&gt;  \n        &lt;/table&gt;\n       &lt;?php echo $this-&gt;pagination-&gt;create_links(); ?&gt;\n</code></pre>\n\n<p>then i made the controller named <code>c_kategorimaterial</code> here is the <code>index</code> part</p>\n\n<pre><code>function index()\n{\n    $query = $this-&gt;m_kategorimaterial-&gt;get();  \n    $config['base_url'] =  base_url().'index.php/c_kategorimaterial/index/';\n    $config['total_rows'] = $query-&gt;num_rows();\n    $config['per_page'] = 5; \n    $this-&gt;pagination-&gt;initialize($config);\n    $data['rows'] = $query-&gt;result();\n    $data['title'] = 'QB Kategori Material';\n    $this-&gt;load-&gt;view('menu',$data);\n    $this-&gt;load-&gt;view('v/vkategorimaterial');\n\n}\n</code></pre>\n\n<p>i want to make a pagination that showing 5 rows per page. and here is the model of <code>m_kategorimaterial-&gt;get</code></p>\n\n<pre><code> $this-&gt;db-&gt;order_by('Kode_Kategori_Material_Jasa','DESC');\n    $query = $this-&gt;db-&gt;get('ms_kategori_material',5);\n    return $query;\n</code></pre>\n\n<p>why does the pagination is not showing ? here is the result of <code>print_r($data['rows']);</code></p>\n\n<pre><code>Array ( [0] =&gt; stdClass Object ( [Kode_Kategori_Material_Jasa] =&gt; KKMJ006 [Nama_Material_Jasa] =&gt; Biji ) [1] =&gt; stdClass Object ( [Kode_Kategori_Material_Jasa] =&gt; KKMJ004 [Nama_Material_Jasa] =&gt; Teneh ) [2] =&gt; stdClass Object ( [Kode_Kategori_Material_Jasa] =&gt; KKMJ001 [Nama_Material_Jasa] =&gt; Air ) ) \n</code></pre>\n"},{"tags":["sql","sql-server","database"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":192,"score":1,"question_id":8356760,"title":"SQL Server IN (maximum,params,allowed,in,here)?","body":"<p>How many params can I pass to SQL Servers IN() function?</p>\n\n<pre><code>SELECT * FROM TABLE where ID IN ( 1,2,3,4,5,..,.,....) \n</code></pre>\n\n<p>Thanks in advance,</p>\n\n<p>Harry</p>\n"},{"tags":["c#","database","leveldb"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":872,"score":5,"question_id":9292648,"title":"Is there a good port of leveldb for C#?","body":"<p>I wish to use leveldb in my pure C# project.</p>\n\n<p>I have googled for a C# version of leveldb, but got no lucky.</p>\n\n<p>Any one can tell me where I can find a C# version of leveldb?</p>\n\n<p>Thanks</p>\n"},{"tags":["php","mysql","sql","database","datetime"],"answer_count":6,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":6865,"score":5,"question_id":6089960,"title":"MySQL Query to select data from last week?","body":"<p>Hi I have a table with a date field and some other informations.\nI want to select all entries from the last week, (week start from Sunday).</p>\n\n<p>table values :</p>\n\n<pre><code>id  date\n2   2011-05-14 09:17:25\n5   2011-05-16 09:17:25\n6   2011-05-17 09:17:25\n8   2011-05-20 09:17:25\n15  2011-05-22 09:17:25\n</code></pre>\n\n<p>I want to select all ids from last week, expected out out is 5, 6, 8.\n<em>(id 2 not in last week, and id 15 is in current week.)</em></p>\n\n<p>How to write and SQL Query for the same.</p>\n"},{"tags":["android","database","arraylist","hashmap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13062814,"title":"Android : retrieve all data from database and store in ArrayList<HasMap<String, String>>","body":"<p>I try to retrieve all data from database and put into arraylist of hasmap\nbut i get only the last record of table.\nhere is my code : </p>\n\n<pre><code>databaseAirport myDbHelper = new databaseAirport(this);\nmyDbHelper.open();\nCursor c = myDbHelper.selectAll();\nHashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nArrayList&lt;HashMap&lt;String, String&gt;&gt; dataList = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\nif(c!=null &amp;&amp; c.moveToFirst())\n        {\n                do\n            {\n                map.put(KEY_ACODE, c.getString(5).toString());\n                map.put(KEY_FNUM, c.getString(6).toString());\n                map.put(KEY_STOP_1, c.getString(8).toString());\n                map.put(KEY_FTIME, c.getString(7).toString());\n                map.put(KEY_REMARK, c.getString(10).toString());\n                map.put(KEY_REM_COM, c.getString(11).toString());\n                dataList.add(map);\n            }while(c.moveToNext());\n        }\n</code></pre>\n\n<p>At the end, my dataList(map) retrieve the last record only...</p>\n\n<p>Can anyone help me please..</p>\n"},{"tags":["mysql","database","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13061522,"title":"ECommerce Database Design","body":"<p>I'm currently going to be developing a database that will hold lots of items and was wondering which design would be better is there was 1000's to 10,000's of items per category.</p>\n\n<p>Database Design #1</p>\n\n<pre><code>Login Details\n--------------\n-userID\n-Username\n-Password\n- ETC....\n\n\nUser Settings\n--------------\n-userID\n-Setting 1\n-Setting 2\n-Setting 3\n- ETC....\n\n\n\nProduct Category\n-----------------\n-ID\n-Name\n\n\n\nALL Items\n-----------\n-ItemID\n-Name\n-Description\n-Price\n-Info\n- ETC....\n-parentCategoryID\n</code></pre>\n\n<p>OR</p>\n\n<p>Database Design #2</p>\n\n<pre><code>Login Details\n--------------\n-userID\n-Username\n-Password\n- ETC....\n\n\nUser Settings\n--------------\n-userID\n-Setting 1\n-Setting 2\n-Setting 3\n- ETC....\n\n\n\nProduct Category\n-----------------\n-ID\n-Name\n-tableName\n\n\n\nElectronics\n-------------\n-ItemID\n-Name\n-Desc.\n-Price\n- ETC....\n\nFood\n-------------\n-ItemID\n-Name\n-Desc.\n-Price\n- ETC....\n\n\nBooks\n-------------\n-ItemID\n-Name\n-Desc.\n-Price\n- ETC....\n\n\nApparel\n-------------\n-ItemID\n-Name\n-Desc.\n-Price\n- ETC....\n\n\n\nOthers\n-------------\n-ItemID\n-Name\n-Desc.\n-Price\n- ETC....\n</code></pre>\n"},{"tags":["sql","database","sql-server-2008","query"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":11560713,"title":"Generate insert script for selected records?","body":"<p>I have a table with the following data:</p>\n\n<pre><code>Pk_Id  ProductName           Fk_CompanyId       Price\n------------------------------------------------------\n1      AMX                   1                  10.00\n2      ABC                   1                  11.00\n3      APEX                  1                  12.00\n4      AMX                   1                  10.00\n5      ABC                   1                  11.00\n6      APEX                  1                  12.00\n7      AMX                   2                  10.00\n8      ABC                   2                  11.00\n9      APEX                  2                  12.00\n</code></pre>\n\n<p>I want to generate Insert script for migrating records whose Fk_CompanyId is 1.</p>\n\n<p>There is an insert script option to generate script for all records but I want to filter some records to migrate to another database.</p>\n"},{"tags":["sql","database","query","sqlite3","aggregate-functions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13058721,"title":"How to select rows with max values on a certain column","body":"<p>For example, I have</p>\n\n<pre><code>tab1:\natt1|att2\nA|3\nB|4\nC|3\nD|4\nE|1\nF|2\n</code></pre>\n\n<p>And I want</p>\n\n<pre><code>B|4\nD|4\n</code></pre>\n\n<p>I know I can use</p>\n\n<pre><code>SELECT att1 att2\nFROM tab1 as T\nWHERE T.att2 =\n(\n   SELECT MAX(att2) FROM tab1;\n}\n</code></pre>\n\n<p>I wondering if there is a more clever way to do it. B/c if it takes a complicated query to get tab1, it is cumbersome to write it twice.\nBy the way, I am using Sqlite.</p>\n"},{"tags":["android","iphone","ios","database","mobile"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":52,"score":-4,"question_id":13062426,"title":"Is this phone app possible to build, or will I encounter problems?","body":"<blockquote>\n  <p>User installs app on device>User selects from a range of INPUT FILTERS within app>User activates SCAN feature of app>  app sends user’s GPS location + any selected INPUT FILTERS to our online database> our online database of locations runs an online query filtering by the users INPUT FILTERS and returns locations which are within X distance from user’s submitted GPS location and meet INPUT FILTER requirements> all acceptable search results are transmitted back to the user in a list form> user selects one of the search results>app communicates with database>database returns the field “DESCRIPTION” from the corresponding record of the selected search results>the app gives the user directions to the search result</p>\n</blockquote>\n\n<p>Some clarifying notes:\n-Input filters are basically what they say they are; filters\n-Scan feature will be activated by tapping a touchscreen button that says “scan”\n-Search results are simply one of the fields (name, most likely) from whatever results the database query returns\n-“description” is just a text field from the database</p>\n"},{"tags":["php","mysql","database"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13061891,"title":"How to update after union query?","body":"<p>I have 2 table as seen below,</p>\n\n<pre><code>coin\n----\nchanceNo\nuserID\ncoin_code\ndate\n\ncoin2\n----\nchanceNo\nuserID\ncoin_code\ndate\n</code></pre>\n\n<p>My query to find where '12345' is at which table, as seen below (which is correct and successful search &amp; match),</p>\n\n<pre><code>SELECT coin_code from coin WHERE coin_code='12345' UNION \nSelect coin_code from coin2 WHERE coin_code='12345';\n</code></pre>\n\n<p>However, i am stuck with updating query after search. How can i update after i found coin_code='12345'.</p>\n\n<p>I know that the basic update query is like this, </p>\n\n<pre><code>UPDATE coin2 SET userID='name', date='12-12-12' WHERE coin_code='12345'\n</code></pre>\n\n<p>But what if the '12345' is in another table, coin? May i know, how to write this query?</p>\n"},{"tags":["database","json","savechanges","fabricjs"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":644,"score":3,"question_id":11272772,"title":"FabricJS - how to save canvas on server with custom attributes","body":"<p>I'd like to be able to save the current canvas' state to a server-side database, probably as a JSON string, and then later restore it with <code>loadFromJSON</code>. Typically, this is easily accomplished using:</p>\n\n<pre><code>var canvas = new fabric.Canvas();\nfunction saveCanvas() {\n    // convert canvas to a json string\n    var json = JSON.stringify( canvas.toJSON() );\n\n    // save via xhr\n    $.post('/save', { json : json }, function(resp){ \n        // do whatever ...\n    }, 'json');\n}\n</code></pre>\n\n<p>And then </p>\n\n<pre><code>function loadCanvas(json) {\n\n  // parse the data into the canvas\n  canvas.loadFromJSON(json);\n\n  // re-render the canvas\n  canvas.renderAll();\n\n  // optional\n  canvas.calculateOffset();\n}\n</code></pre>\n\n<p>However, I've also been setting a few custom attributes on the fabric objects I'm adding to the canvas using the builtin <code>Object#set</code> method:</p>\n\n<pre><code>// get some item from the canvas\nvar item = canvas.item(0);\n\n// add misc properties\nitem.set('wizard', 'gandalf');\nitem.set('hobbit', 'samwise');\n\n// save current state\nsaveCanvas();\n</code></pre>\n\n<p>The problem is that when I check the request on the server-side, I see that my custom attributes were not parsed from the canvas and sent along with everything else. This probably has to do with how <code>toObject</code> method removes anything that's not a default attribute in the object class. What would be a good way to tackle this issue, such that I'll be able to both save <strong>and</strong> restore the canvas from a JSON string sent by the server, and the restored canvas will also include my custom attributes? thanks.</p>\n"}]}
