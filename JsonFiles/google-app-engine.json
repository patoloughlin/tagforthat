{"count":14635,"tag":"google-app-engine","questions":[{"tags":["google-app-engine","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13280186,"title":"Google datastore performance: 2 gets vs 1 filter query","body":"<p>Using the GAE datastore, what option below would perform the best? (Assume that memcache is not available)</p>\n\n<p>Option 1:\nDataModel: Entity User has some key, and an email address (the email can't be used as the key)</p>\n\n<p>a) Perform a query on User that filters for a match by email</p>\n\n<p>OR Option 2:</p>\n\n<p>DataModel: Entity User has some key, Entity UserLogin has email address as key, and user key</p>\n\n<p>a) Perform a get on UserLogin, then <br>\nb) Perform a get on User using the user key from UserLogin</p>\n"},{"tags":["java","google-app-engine","google-api","google-drive-sdk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13277169,"title":"upload presentations .pptx in google drive sdk","body":"<p>When I upload presentations .pptx using the SDK,  logs show that all bytes are sent, but to open them in google drive ths slides appears with errors, however if I upload the same presentation in .ppt, has not problem and appears well on google drive, using the resumable upload, this is the code.</p>\n\n<pre><code>byte[] myFile = readImageData(blobKey,size);\nByteArrayContent mediaContent = new ByteArrayContent(mimeType, myFile);\n\nDrive.Files.Insert insert = service.files().insert(body, mediaContent);\ninsert.getMediaHttpUploader().setChunkSize(1024 * 1024);\nFile file = insert.execute();\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>But if i use</p>\n\n<pre><code>insert.setConvert(true);\n</code></pre>\n\n<p>the presentations .pptx has not problem and appears well on google drive.</p>\n"},{"tags":["api","google-app-engine","google","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13266742,"title":"Query any sample dataset from a newly created BigQuery project","body":"<p>Is there any way to query sample datasets as here</p>\n\n<p><a href=\"https://developers.google.com/bigquery/docs/sample-tables\" rel=\"nofollow\">https://developers.google.com/bigquery/docs/sample-tables</a></p>\n\n<p>from a newly created Project using my application in GAE.Or do i need link the sample dataset to the newly created project in Big Query.If so how?</p>\n"},{"tags":["google-app-engine","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13277538,"title":"Possible to test website with GAE over LAN in Mountain Lion?","body":"<p>I'm hosting my website using Google App Engine. It's a pretty simple website, but I've got some javascript drawing to a canvas element, which I'm trying to test on my iPhone. I'd also like to take a crack at reworking my CSS for mobile. However, I can't access <code>http://localhost:8080/</code> (which is the url that GoogleAppEngineLauncher spits out when I run the app locally) from my phone. This seems obvious. </p>\n\n<p>Unfortunately, it seems that Mountain Lion has removed the web sharing preference from system preferences. I found at least <a href=\"http://reviews.cnet.com/8301-13727_7-57481978-263/how-to-enable-web-sharing-in-os-x-mountain-lion/\" rel=\"nofollow\" title=\"CNET\">two</a> <a href=\"http://www.codepotato.co.uk/2012/07/25/enabling-localhost-on-os-x-mountain-lion/\" rel=\"nofollow\" title=\"codepotato\">different</a> sites with \"solutions\" for re-activating web sharing (Apache server?), but none of them seem to work in conjuction with Google App Engine... I also tried this <a href=\"http://clickontyler.com/blog/2012/02/web-sharing-mountain-lion/\" rel=\"nofollow\" title=\"Web Sharing Pref Pane\">preference pane</a>, which <em>also</em> doesn't work. I keep getting \"Safari cannot open the page because it could not connect to the server.\"</p>\n\n<p>Sorry if this is a stupid question, I'm a relative noob to this stuff. Also, I see a lot of questions here on SO which seem related, but I think I'm still too uninitiated to understand <em>how</em> they're releated. Is there an extra step here that's GAE specific which I'm missing?</p>\n"},{"tags":["ios","google-app-engine","xmpp","push-notification"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":13277970,"title":"Using XMPP as a push server?","body":"<p>I've been running around in circles the past few days trying to figure out a good solution for my problem. The main key here is that this is for an iOS application. What I want is to quickly communicate from one device to another device updates. So if user 1 performs an action, I want to, in real time, tell user 2 that user 1 has performed this action.</p>\n\n<p>I don't want to use Apple Push Notifications for various reasons. So that's out of the question. I looked into services like Pusher and PubNub, but those are far too expensive (and only allow a ridiculously low number of concurrent connections, ~2500). I also looked into Google App Engine's Channel API, but it works through Javascript, and would have to be implemented using shady techniques on iOS. And honestly I'd rather not use that.</p>\n\n<p>So now I'm looking into XMPP in Google App Engine. It seems like it would do what I want, but I'm not sure if I'm understanding the whole picture. Couldn't I accomplish what I wanted using XMPP messages, that is when user 1 performs an action, I can notify user 2 quickly with a JSON message?</p>\n\n<p>The main key here is that I would have to perform user registration for XMPP behind the scenes, using the user's unique ID. Is this possible, to automatically and without user intervention create a Jabber ID like user-unique-id@my-app-engine-domain.com?</p>\n\n<p>Overall, is this a feasible solution? What am I missing? What are some exceptions?</p>\n"},{"tags":["django","google-app-engine","django-nonrel","django-mediagenerator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":10323013,"title":"Is it still possible to use django-mediagenerator on Google App Engine","body":"<p>I've been working on a existing project at a new company and one of the problems we're running into is Javascript code duplication. We're working in Google App Engine, and I have heard of the <a href=\"http://www.allbuttonspressed.com/projects/django-mediagenerator\" rel=\"nofollow\">Django media generator asset manager</a> which seems like it could solve some of our problems. However, after reading through the docs on that page and pages <a href=\"https://developers.google.com/appengine/articles/django\" rel=\"nofollow\">like this one on running Django in Google App Engine</a>, I'm not sure if it is even possible to run django-mediagenerator on Google App engine.</p>\n\n<p>Is it still possible to use django-mediagenerator on Google App Engine? Has the project gone stale? Is there some other media generator that I should be using in app engine?</p>\n\n<p>Any help would be appreciated. Thanks :)</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13276847,"title":"Getting django's humanize working on App Engine","body":"<p>I'm trying to add commas to floats for display to end users of my application on GAE. The numbers come from json and are part of a 10 item query with 2 times each (aka 20 numbers per page view). For eg.</p>\n\n<pre><code>\"total_reach\": 276160.0, \"total_reach\": 500160.0 \n</code></pre>\n\n<p>I'm using the python GAE SDK 1.7.3 template system and simply want to display the numbers to the end user with commas e.g.: 276,160 and 500,160. Note, I am using the default webbapp2 and standard templates (from google.appengine.ext.webapp import template) which, as I understand it, is based on Django.</p>\n\n<p>The Django floatformat works great to get rid of the decimal, but now I need to add the comma. Django's humanize looks perfect with its intcomma filter. However, I simply can't figure out how to enable it. I suspect its crazy simple and I'm being dense (and am noob to python) - but I'm out of ideas.</p>\n\n<p>While I tried a range of things, the most recent and promising was (based on my understanding of <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/lib/django/django/contrib/humanize/templatetags/humanize.py?r=41\" rel=\"nofollow\">the source</a>):</p>\n\n<pre><code>from google.appengine.ext.webapp.template import register_template_library\nregister_template_library('django.contrib.humanize.templatetags.humanize')\n</code></pre>\n\n<p>which gave me the following 500:</p>\n\n<pre><code>No module named django.contrib.humanize.templatetags\n</code></pre>\n\n<p>but it seems to be there in the source.</p>\n\n<p>I'm very much at a loss. I've searched around and found items like <a href=\"http://stackoverflow.com/questions/901121/how-to-use-inbulit-django-templatetags-in-google-app-engine\">this</a> which just didn't work and seemed to be aimed at webapp (as opposed to webapp2). Help and thanks!</p>\n"},{"tags":["java","google-app-engine","google-drive-sdk","google-docs-api","google-api-java-client"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13241356,"title":"google drive sdk error uploading presentations","body":"<p>I'm trying to upload a presentation, using the google api drive, but the presentation goes incomplete  some slides are blank, watching the logs this is what shows</p>\n\n<pre><code>com.google.api.client.http.HttpRequest execute: -------------- REQUEST  --------------\nPUT https://www.googleapis.com/upload/drive/v2/files?    uploadType=resumable&amp;upload_id=AEnB2UrDPJgLIehcqH--aWgwl-   R_atDhqdvbXnJiWMXKE0V0euJGOvULbM4y5YmvUePWaHSrYyFdOgsmTASJGe-Dtvg09NCkzQ\nAccept-Encoding: gzip\nAuthorization: Bearer ya29.AHES6ZTfSaK77NGCcZO1bK_aTbT8zVX3eslOAb8BkrvpeXARK94XsXY\nContent-Range: bytes 0-1048575/6774302\nUser-Agent: Google-HTTP-Java-Client/1.11.0-beta (gzip)\nContent-Type: application/vnd.openxmlformats-officedocument.presentationml.presentation\nContent-Length: 1048576\n\ncom.google.api.client.http.HttpRequest execute: curl -v --compressed -X PUT -H 'Accept-        Encoding: gzip' -H 'Authorization: Bearer     ya29.AHES6ZTfSaK77NGCcZO1bK_aTbT8zVX3eslOAb8BkrvpeXARK94XsXY' -H 'Content-Range: bytes 0-    1048575/6774302' -H 'User-Agent: Google-HTTP-Java-Client/1.11.0-beta (gzip)' -H 'Content-Type:     application/vnd.openxmlformats-officedocument.presentationml.presentation' -d '@-' --     https://www.googleapis.com/upload/drive/v2/files?    uploadType=resumable&amp;upload_id=AEnB2UrDPJgLIehcqH--aWgwl-    R_atDhqdvbXnJiWMXKE0V0euJGOvULbM4y5YmvUePWaHSrYyFdOgsmTASJGe-Dtvg09NCkzQ &lt;&lt; $$$\n\ncom.google.api.client.http.HttpResponse &lt;init&gt;: -------------- RESPONSE --------------\n308 OK\nserver: HTTP Upload Server Built on Oct 3 2012 16:52:30 (1349308350)\nrange: bytes=0-1048575\nx-range-md5: 19230c1c1a0fc493f3431f46cf30c14c\ndate: Mon, 05 Nov 2012 22:00:33 GMT\npragma: no-cache\nexpires: Fri, 01 Jan 1990 00:00:00 GMT\ncache-control: no-cache, no-store, must-revalidate\ncontent-length: 0\ncontent-type: text/html; charset=UTF-8\nx-google-cache-control: remote-fetch\nvia: HTTP/1.1 GWA\n</code></pre>\n\n<p>and this is the code that am using:</p>\n\n<pre><code>byte[] myFile = readImageData(blobKey,size);\nByteArrayContent mediaContent = new ByteArrayContent(mimeType, myFile);\n\nDrive.Files.Insert insert = service.files().insert(body, mediaContent);\ninsert.getMediaHttpUploader().setChunkSize(1024 * 1024);\nFile file = insert.execute();\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>doing some testing, it seems the error only occurs when upload presentations with extension .pptx</p>\n\n<p>is there any problem with the mimeType of that extension? </p>\n\n<p>I hope someone can help me, thx in advance.</p>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13274259,"title":"Choosing the right model for storing and querying data?","body":"<p>I am working on my first GAE project using java and the datastore. And this is my first try with noSQL database. Like a lot of people i have problems understanding the right model to use. So far I've figured out two models and I need help to choose the right one.</p>\n\n<p>All the data is represented in two classes <code>User.class</code> and <code>Word.class</code>.</p>\n\n<ul>\n<li><p>User: couple of string with user data (username, email.....)</p></li>\n<li><p>Word: two strings</p></li>\n</ul>\n\n<p>Which is better :</p>\n\n<ol>\n<li><p>Search in 10 000 000 entities for the 100 i need. For instance every entity <code>Word</code> have a string property <code>owner</code> and i query (<code>owner = ‘John’</code>).</p></li>\n<li><p>In <code>User.class</code> i add property <code>List&lt;Word&gt;</code> and method <code>getWords()</code> that returns the list of words. So i query in 1000 users for the one i need and then call method like <code>getWords()</code> that returns <code>List&lt;Word&gt;</code> with that 100 i need.</p></li>\n</ol>\n\n<p>Which one uses less resources ? Or am i going the wrong way with this ?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13272173,"title":"What if I never call get on the future from an Async Data Store operation?","body":"<p>If I call an async data store operation such as the one shown below but then end the request without calling get on the future, what will happen?</p>\n\n<p>Will my operation still execute?\nWill me response be sent before the operation has completed execution?</p>\n\n<pre><code>AsyncDatastoreService datastore = DatastoreServiceFactory.getAsyncDatastoreService();\nEntity entity = new Employee(\"Employee\", \"Alfred\");\n// ... populate entity properties\n\n// Make a sync call via the async interface\ndatastore.put(key)\n//Return response\n</code></pre>\n"},{"tags":["ios","json","google-app-engine","character-encoding","emoji"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12825152,"title":"Emoji characters are not encoded/decoded correctly in iOS/AppEngine environment","body":"<p>My iOS app uses AppEngine (Java) as a backend to store user data that might contain emoji characters. However, I could not retrieve the user data back correctly from AppEngine. I suspect something wrong with the encoding, but still could not figure it out.</p>\n\n<p>Below is how I submit the user data from iOS </p>\n\n<pre><code>ASIFormDataRequest *request = [ASIFormDataRequest requestWithURL:url];\n...\n[request setPostValue:self.textView.text  forKey:@\"selfDescription\"];\n...\n[request startAsynchronous];\n</code></pre>\n\n<p><code>self.textView</code> is <code>UITextView</code> that may contain emoji characters.</p>\n\n<p>And here is how I handle the string at AppEngine side. I just simply do this in a servlet:</p>\n\n<pre><code>String selfDescription=req.getParameter(\"selfDescription\");\n</code></pre>\n\n<p>When retrieving it back I got emoji characters displayed like this: </p>\n\n<p>Where am I doing it wrong? What's the right way to deal with emoji in this case?</p>\n\n<p>Note: my app supports iOS 5.0+.</p>\n\n<p><strong>EDIT1:</strong></p>\n\n<p>A solution in the <a href=\"http://stackoverflow.com/questions/8635393/ios-5-how-to-convert-an-emoji-to-a-unicode-character\">post</a> suggested by @tdubik partially solves my problem.</p>\n\n<p>Specifically, a solution in that post by @deepak and @yadav works very well across all iOS versions. But I have a specific requirement that has to store the strings on a server and allows string search. With the proposed solution, non-emoji characters are also encoded into '\\u..' which makes the whole string human-nonreadable and machine non-searchable. Is there a way to do conversion only for non-emoji characters? </p>\n"},{"tags":["google-app-engine","heroku","httpclient","cloudfoundry","apache-httpclient-4.x"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13270654,"title":"Apache Httpclient and the Cloud","body":"<p>I want to put a scraping service using Apache HttpClient to the Cloud. I read problems are possible with Google App Engine, as it's direct network access and threads creation are prohibited. What's about other cloud hosting providers? Have anyone experince with Apache HttpClient + cloud?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13273067,"title":"App Engine Python Development Server + Taskqueue + Backend","body":"<p>I'm using GAE Python 2.7 with the local development server. I have configured a backend</p>\n\n<pre><code>backends:\n- name: worker\n  class: B1\n  options: dynamic\n</code></pre>\n\n<p>and I'm using the default taskqueue. Everything works fine and the backend and taskqueue are visible at the SDK console. Also the local development work starts without any errors:</p>\n\n<pre><code>Multiprocess Setup Complete:\nRemote API Server [http://localhost:9200]\nApp Instance [http://localhost:9000]\nBackend Instance: worker.0 [http://localhost:9100]\nBackend Balancer: worker [http://localhost:9199]\n</code></pre>\n\n<p>BUT if I try to address the backend via a task</p>\n\n<pre><code>taskqueue.add(url='xyz', method='POST', target='workerÄ, pararms={'a':'b'}\n</code></pre>\n\n<p>this error raises:</p>\n\n<pre><code>ERROR An error occured while sending the task \"task1\" (Url: \"/backend/languages/create_database/\") in queue \"default\". Treating as a task error.\nTraceback (most recent call last):\nFile \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/taskqueue/taskqueue_stub.py\", line 1884, in ExecuteTask\n    connection.endheaders()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 937, in endheaders\n    self._send_output(message_body)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 797, in _send_output\n    self.send(msg)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 759, in send\n    self.connect()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.py\", line 740, in connect\n    self.timeout, self.source_address)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py\", line 553, in create_connection\n    for res in getaddrinfo(host, port, 0, SOCK_STREAM):\ngaierror: [Errno 8] nodename nor servname provided, or not known\n</code></pre>\n\n<p>I'm using 'localhost' and can't see any reason why it fails. Some ideas / solutions? Any startup-parameter missing or somethin like that?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","google-app-engine","image-processing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13272421,"title":"How to create Image from 2D RGB array in Google App Engine","body":"<p>I'm doing some image processing in Google App Engine platform, and I have to create an Image (.bmp for simple) from an 2D RGB array. </p>\n\n<p>As Google doesn't support BufferedImage, I cannot use these commands:</p>\n\n<pre><code>BufferedImage image = ImageIO.read( new ByteArrayInputStream( byteArray ) );\nImageIO.write(image, \"BMP\", new File(\"filename.bmp\"));\n</code></pre>\n\n<p>So, what should I do to create that .bmp image in Google App Engine ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["django","google-app-engine","django-nonrel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13265340,"title":"Django : GAE : non rel : maximum recursion depth exceeded in cmp","body":"<p>I was learning django with GAE. Tutorial link: <a href=\"http://f.souza.cc/2010/08/flying-with-django-on-google-app-engine.html\" rel=\"nofollow\">http://f.souza.cc/2010/08/flying-with-django-on-google-app-engine.html</a> </p>\n\n<p>Can anyone please tell me the reason? Why am I getting this error?</p>\n\n<pre><code>File \"/usr/local/lib/python2.7/dist-packages/django/db/models/fields/subclassi\n  return func(*args, **kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/django/db/models/fields/subclassi\n  return func(*args, **kwargs)\nFile \"/usr/local/lib/python2.7/dist-packages/django/db/models/fields/__init__.\n  return connection.creation.db_type(self)\nRuntimeError: maximum recursion depth exceeded in cmp\n</code></pre>\n\n<p>How to fix it ?</p>\n"},{"tags":["python","google-app-engine","google-bigquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13244750,"title":"HttpError: <HttpError 400 when requesting https://www.googleapis.com/bigquery/v2/projects/","body":"<p>Here is the error dat i'm getting while trying to make an authentication call to bigquery</p>\n\n<pre><code>HttpError: &lt;HttpError 400 when requesting https://www.googleapis.com/bigquery/v2/projects/ClientId/datasets/samples/tables/natality?alt=json returned \"Invalid project ID 'ClientId'. Project IDs must contain 6-63 lowercase letters, digits, or dashes. IDs must start with a letter and may not end with a dash.\"&gt;\n</code></pre>\n\n<p>Here is my main.py</p>\n\n<pre><code>import httplib2\nimport os\nfrom google.appengine.api import memcache\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\nfrom bqclient import BigQueryClient\n\n\nPROJECT_ID = \"########\"  this is the Client Id \nDATASET = \"samples\"\nTABLE = \"natality\"\n\n\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__),\n    'client_secrets.json')\n\nhttp = httplib2.Http(memcache)\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n    'https://www.googleapis.com/auth/bigquery')\n\nbq = BigQueryClient(http, decorator)\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n        self.response.out.write(\"Hello Dashboard!\\n\")\n        modTime = bq.getLastModTime(PROJECT_ID, DATASET, TABLE)\n        if modTime is not None:\n            msg = 'Last mod time = ' + modTime\n        else:\n            msg = \"Could not find last modification time.\\n\"\n        self.response.out.write(msg)\n\napplication = webapp.WSGIApplication([\n   ('/', MainHandler),\n   (decorator.callback_path, decorator.callback_handler())\n], debug=True)\n\ndef main():\n   run_wsgi_app(application)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>And here is the app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>And here is the bqclient.py</p>\n\n<pre><code>import httplib2\nfrom apiclient.discovery import build\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\nclass BigQueryClient(object):\n    def __init__(self, http, decorator):\n        \"\"\"Creates the BigQuery client connection\"\"\"\n        self.service = build('bigquery', 'v2', http=http)\n        self.decorator = decorator\n\n    def getTableData(self, project, dataset, table):\n        decorated = self.decorator.http()\n        return self.service.tables().get(projectId=project, datasetId=dataset,\n            tableId=table).execute(decorated)\n\n    def getLastModTime(self, project, dataset, table):\n        data = self.getTableData(project, dataset, table)\n        if data is not None and 'lastModifiedTime' in data:\n            return data['lastModifiedTime']\n        else:\n            return None\n\n    def Query(self, query, project, timeout_ms=10000):\n        query_config = {\n            'query': query,\n            'timeoutMs': timeout_ms\n        }\n        decorated = self.decorator.http()\n        result_json = (self.service.jobs()\n                       .query(projectId=project, body=query_config)\n                       .execute(decorated))\n\n        return result_json\n</code></pre>\n\n<p>I also tried replacing the ClientId with Project Id as said in the error but it gives another error </p>\n\n<pre><code>HttpError: &lt;HttpError 404 when requesting https://www.googleapis.com/bigquery/v2/projects/hellodashboard87/datasets/samples/tables/natality?alt=json returned \"Not Found: Dataset hellodashboard87:samples\"&gt;\n</code></pre>\n\n<p>I'm following the tutorial on this page\n<a href=\"https://developers.google.com/bigquery/articles/dashboard#firstcall\" rel=\"nofollow\">https://developers.google.com/bigquery/articles/dashboard#firstcall</a></p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13267709,"title":"Google app engine - local development server timezone","body":"<p>I understood from the GAE documentation that the production server timezone is always UTC. While developing locally, the server timezone is set to CET. Is there a way to force the local development server to also run on UTC ?</p>\n\n<p>The development server is running on Mac OS.</p>\n\n<p>Thanks,</p>\n\n<p>Hugues</p>\n"},{"tags":["google-app-engine","jpa","datanucleus"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13212142,"title":"jpa query return List<org.datanucleus.store.types.sco.backed.ArrayList> instead List<T>","body":"<p>I'm using JPA on GAE and this query return a List containing 1 element.\nThis element is a org.datanucleus.store.types.sco.backed.ArrayList (and it's finally containing my results) while I'm expecting a List of Products. What's I'm doing wrong?\nThanx in advance!</p>\n\n<pre><code>Query query = entityManager.createQuery\n             (\"select p.products from Place p where p.id = :Id\" );\nquery.setParameter(\"Id\",id);\n    List&lt;Product&gt; resultList = query.getResultList();\n    //for debugging purpose\n    assert (resultList.get(0) instanceof Product);\n    if (resultList.size() &gt; 0)\n    {\n        //raise a cast exception here\n        Product p = resultList.get(0);\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>@Entity\npublic class Place {\n\n    private Collection&lt;Product&gt; products;\n    @OneToMany(cascade = CascadeType.ALL)\n    public Collection&lt;Product&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(Collection&lt;Product&gt; products) {\n        this.products = products;\n    }\n\n    private String id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Extension(vendorName=\"datanucleus\", key=\"gae.encoded-pk\", value=\"true\")\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n"},{"tags":["google-app-engine"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2059,"score":2,"question_id":6232116,"title":"Google App Engine .jsp Problem","body":"<p>I just created a .jsp file in my google app engine project. How to resolve the below error.</p>\n\n<p><strong>Description   Resource    Path    Location    Type\nYour project must be configured to use a JDK in order to use JSPs</strong> </p>\n\n<p><strong>proj1.jsp</strong></p>\n\n<p><strong>/Proj1/war    Unknown Google App Engine Problem</strong></p>\n\n<p>Kindly let me know.</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12720484,"title":"GWT app not uploading on app engine","body":"<p>I am trying to upload simple web app created using GWT eclipse plugin to google app engine. \nI have created and tried with three ids but I can't deploy on the contrary it throws an error that </p>\n\n<p>\"<code>This application does not exist</code>\"</p>\n\n<pre><code>ERROR:\nUnable to update app: Error posting to URL: https://appengine.google.com/api/appversion/create?app_id=lathik6&amp;version=1&amp;\n404 Not Found\nThis application does not exist (app_id=u'lathik6').\n</code></pre>\n\n<p>I am using eclipse3.6 and jdk1.6 in windows7.</p>\n"},{"tags":["google-app-engine","gwt","vaadin"],"answer_count":0,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":13048957,"title":"What benefits can Vaadin offer my GWT Appengine app?","body":"<p>The GWT page on the Vaadin website is a bit sparse: <a href=\"https://vaadin.com/gwt\" rel=\"nofollow\">https://vaadin.com/gwt</a></p>\n\n<p>\"Only benefits, no gotchas\nYou will enjoy everything you love in GWT and get the additional benefit of a novel server-side programming model, components, tools, themes and other extras. If you do not like what you are seeing, it is easy to return as long as you stick to using com.google.* packages. You will probably be tempted to start using features in com.vaadin.* packages eventually. But there is no need to worry—Vaadin Framework is also distributed under the same liberal Apache 2.0 license\"</p>\n\n<p>I like some of the look and feels on the Vaadin website, but I'm nervous about \"server side models\"... I would rather have most of the code running on the clientside if at all possible, and I'm checking GWT RPC calls again (often with the same java code) for security. I don't like the idea of lots of back and forth.</p>\n\n<p>Given my concerns, is it worth digging deeper into Vaadin? Or do I stop here? Can I leverage the various look&amp;feels without stomaching everything? Any other non-intuitive answers about leveraging would be appreciated.</p>\n\n<p>UPDATE:\nPlease don't answer the question comparing Vaadin vs GWT, offering alternative UI frameworks.</p>\n\n<p>I've also used SmartGWT, GXT, and bundled GWT widgets etc. Also familiar with some really complete widget sets like DevExpress for .NET . The reason I asked the question is because Vaadin LOOKS really cool... I'm looking for answers like : No, it's not possible to extract the L&amp;F from Vaadin without compromising the clientside OR besides the L&amp;F stuff, there is cool validation stuff etc etc etc which you can use, and then perhaps some useful evidence to back up that position (tried and failed).</p>\n"},{"tags":["android","eclipse","google-app-engine","adb","adt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13267752,"title":"Two Eclipses running on the same machine = ADB race condition","body":"<p>I didn't find information on this annoying problem, and it seem quite common to me, so perhaps I'm missing something obvious.</p>\n\n<p>I'm developing a client server application: AppEngine on one side, Android on the other.\nIf both workspaces are on the same Eclipse, I find it confusing to debug and develop (same Java perspective..).\nSo I have two separate installations of Eclipse, one for each.</p>\n\n<p>Both Eclipse <em>require</em> a full Google stack each, including ADT.\nThe problem is that adb is in a race condition, and very often the AppEngine Eclipse wins, and the attached device or emulators appears only on the wrong Eclipse.\nI can't debug until I close that Eclipse and restart adb.</p>\n\n<p>1) Is there a way to shut down adb in the AppEngine Eclipse?\n2) Is there a <em>better</em> way to develop&amp;debug client server, where both are Google stack?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13267214,"title":"Is it possible to retrieve list of Task Queues","body":"<p>I'm wondering if it's possible to retrieve a list of defined Task Queue.</p>\n\n<p>I want to create a custom page displaying the QueueStatistics (https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/taskqueue/QueueStatistics.html) for each queue.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13266847,"title":"Is it possible to retrieve list of Capabilities","body":"<p>Is is possible to retrieve a list of all capabilities which can be checked.</p>\n\n<p>Currently <a href=\"https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/capabilities/Capability.html\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/capabilities/Capability.html</a> only contains static Capabilities bu no getList() or something.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":26,"score":-6,"question_id":13266191,"title":"Google app engine - App like Google Group","body":"<p>I want a similar simple google group with google app engine in python</p>\n"},{"tags":["google-app-engine","nosql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13260547,"title":"Model with a constrained list in the Google App Engine Datastore","body":"<p>On the Google App Engine, I have a webapp2 model like this:</p>\n\n<pre><code>def Person(db.model):\n    first_name = db.StringProperty()\n    surname = db.StringProperty()\n    languages_spoken = db. ListProperty()\n</code></pre>\n\n<p>However, I'd like to have the languages_spoken list constrained to a list of options, say English, French, and Spanish, that can change as time goes on. With SQL this would be easy with person, language, and person_language tables (or similar) but I can't get my head round how to do it in this case, or even if it's possible. Any suggestions anyone?</p>\n"},{"tags":["google-app-engine","memcached","go"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13264555,"title":"Store an object in memcache of GAE in Go","body":"<p>I want to store an object in GAE's memcache using Go. The gae documentation only shows how to store a []byte here: <a href=\"https://developers.google.com/appengine/docs/go/memcache/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/go/memcache/overview</a></p>\n\n<p>Of course there are general ways to serialize an object into []byte, by which my task could be accomplished. But by reading the memcache reference, I found there is an \"Object\" in the memcache Item:</p>\n\n<pre><code>// Object is the Item's value for use with a Codec.\nObject interface{}\n</code></pre>\n\n<p>That seems to be a built-in mechanic to store an object in memcache. However, the gae documentation did not provide a sample code.</p>\n\n<p>Could anyone please show me an example? Thanks in advance</p>\n"},{"tags":["google-app-engine","gae-datastore","jdo","datanucleus"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13264843,"title":"Datanucleus gae.pk-id not populated on makePersistent","body":"<p>When I make a class that defines both \"gae.encoded-pk\" and \"gae.pk-id\" persistent, the encoded-pk is updated, but the id remains null. There's no exception being thrown and the code is a straight copy paste from google's documentation, so I'm at a loss as to what may be happening here.</p>\n\n<p>The class defines:</p>\n\n<pre><code>@PersistenceCapable \npublic class MyClass {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    @Extension(vendorName=\"datanucleus\", key=\"gae.encoded-pk\", value=\"true\")\n    private String encodedKey;\n\n    @Persistent\n    @Extension(vendorName=\"datanucleus\", key=\"gae.pk-id\", value=\"true\")\n    private Long keyId;\n</code></pre>\n\n<p>And I make it persistent like this:</p>\n\n<pre><code>PersistenceManager pm = PMF.get().getPersistenceManager();\ntry {\n    pm.makePersistent(myInstance);\n    // myInstance = pm.makePersistent(myInstance); - Produces the same result.\n} finally {\n    pm.close();\n}\n</code></pre>\n\n<p>I'm using the debugger to step through this code, but the keyId remains null, even after the persistence manager is closed.</p>\n\n<p>I should also point out that this is running locally using the google appengine development kit. Any pointers as to how I could debug this would be greatly appreciated!</p>\n"},{"tags":["python","google-app-engine","google-calendar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13264608,"title":"Unlogical UnkownApiNameOrVersion halfway method","body":"<p>I've got an application running on GAE. The application inserts a certain number of events into a calendar. The weird thing is, sometimes it works and sometimes it doesn't. When I read the logs of a failed attempt I can see that it inserts x out of a total of events and then raises this error:</p>\n\n<pre><code>name: calendar  version: v3\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~appname/0000000000/appname.py\", line 101, in post\n    developerKey='xxxxxxxxxxxxxxxxxxxxxxx')\n  File \"/base/data/home/apps/s~appname/0000000000/oauth2client/util.py\", line 120, in positional_wrapper\n    return wrapped(*args, **kwargs)\n  File \"/base/data/home/apps/s~appname/000000000000000/apiclient/discovery.py\", line 197, in build\n    version))\nUnknownApiNameOrVersion: name: calendar  version: v3\n</code></pre>\n\n<p>Could anyone think of a reason why this would happen halfway the function?</p>\n"},{"tags":["ios","google-app-engine","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13258787,"title":"Google App Engine Channel API with iOS client?","body":"<p>I'm looking into using the Channel API to push messages to my iOS client. I haven't completely wrapped my head around it, but the only way would be to use a hidden UIWebView that triggers an Objective-C method.</p>\n\n<p>Would this work? To have a hidden UIWebView listening to channel messages? How would the web view be notified of new messages by the channel? How would I trigger an Objective-C method when a new message is received, such as an alert saying \"You've received a new message.\"?</p>\n\n<p>Are there any downsides to this approach?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13260620,"title":"Google App Engine Channel API javascript location","body":"<p>I'm a bit confused about this, and want to make sure I'm not being naive about how this works. Does the client side javascript have to also be hosted on Google App Engine? Say I create a channel on my dev server, then I have a local HTML file (non-hosted) on my computer with the required javascript, and I connect to that channel with a token - will that work? Or is this not how channels work?</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>All I have is an HTML file in the same directory as my app.yaml file (so the root directory for my website). I'm in the devserver. </p>\n\n<p>First I create a channel and get the token:</p>\n\n<pre><code>token = channel.create_channel('1')                      \nprint token                                                    \n&gt;&gt;&gt; channel-4132644671-1352248413-1\n</code></pre>\n\n<p>Then I copy that token in my HTML file:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt; \n&lt;script type=\"text/javascript\" src=\"http://localhost:8080/_ah/channel/jsapi\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body &gt;\n&lt;script&gt;\n\n    var token = 'channel-4132644671-1352248413-1';\n    var channel = new goog.appengine.Channel(token);\n    var socket = channel.open();\n    socket.onopen = function() { alert('open'); };\n    socket.onmessage = function() { alert('message'); };\n    socket.onerror = function() { alert('error'); };\n    socket.onclose = function() { alert('close'); };        \n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I open the HTML file with Safari. I get an alert saying \"open\". However, no matter what token I type in <code>var token</code>, I get an \"open\" alert, so I'm not sure if getting that alert means anything.</p>\n\n<p>Then I do: \n<code>channel.send_message('1', 'hi')</code></p>\n\n<p>And nothing happens in my HTML file. No alerts. What am I doing wrong?</p>\n"},{"tags":["google-app-engine","pdf","png"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13232635,"title":"PDF to image inside Google AppEngine","body":"<p>We have an application in Google AppEngine environment and we need to convert a PDF file to PNG image.</p>\n\n<p>Does anybody know a solution that will work in GAE environment?\nDoes anybody have success experience with free solutions?\nCan anybody recommend some commercial solution?</p>\n\n<p>We have tried PDFRenderer - it's free and works usually, but looks like it's no longer supported, and it has troubles with some documents.   </p>\n\n<p>There is PDFBox and Ghostscript but they don't have an API, there is just command line tool. It's can be used, but we have an opinion that using of command line tool can leads to problems with performance. Does anybody have some experience with them? </p>\n\n<p>There is PDFImages powered by Qoppa Software, we plan to use it if doesn't find any free solution. Does anybody have experience with it?</p>\n\n<p>Also, there is an idea to do it with Google Drive. There is an ability to save file and export it in preferred format. What do you think about it? </p>\n\n<p>Thanks in advance for any answers. </p>\n"},{"tags":["java","android","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":34,"score":-4,"question_id":13261877,"title":"How to upload a file to google app engine and retrieve it on android?","body":"<p>I am new to Android programming. I want to upload one program file I have created to google app engine. After uploading that, I want to retrieve data and run it on Android Application.\nI have done everything shown on tutorial called, google app engine connected android project. But I don't see that in New->Other->Android->... That is missing. So I read questions on this website and found that I have to create google app engine as backend by right clicking on Google in eclipse. But it is not really working.\nCan anybody please help me with that?</p>\n"},{"tags":["python","unit-testing","google-app-engine"],"answer_count":6,"favorite_count":23,"up_vote_count":30,"down_vote_count":0,"view_count":1862,"score":30,"question_id":1753897,"title":"What approach(es) have you used for lightweight Python unit-tests on App Engine?","body":"<p>I'm about to embark on some large Python-based App Engine projects, and I think I should check with Stack Overflow's \"wisdom of crowds\" before committing to a unit-testing strategy.  I have an existing unit-testing framework (based on <a href=\"http://docs.python.org/library/unittest.html?highlight=unittest#module-unittest\" rel=\"nofollow\">unittest</a> with custom runners and extensions) that I want to use, so anything \"heavy-weight\"/\"intrusive\" such as <a href=\"http://code.google.com/p/python-nose/\" rel=\"nofollow\">nose</a>, <a href=\"http://pythonpaste.org/webtest/\" rel=\"nofollow\">webtest</a>, or  <a href=\"http://code.google.com/p/gaeunit/\" rel=\"nofollow\">gaeunit</a> doesn't seem appropriate.  The crucial unit tests in my worldview are extremely lightweight and fast ones, ones that run in an extremely short time, so I can keep running them over and over all the time without breaking my development rhythm (e.g., for a different project, I get 97% or so coverage for a 20K-lines project with several dozens of super-fast tests that take 5-7 seconds, elapsed time, for a typical run, overall -- that's what I consider a decent suite of small, fast unit-tests).  I'll have richer/heavier tests as well of course, all the way to integration tests with selenium or windmill, that's <strong>not</strong> what I'm asking about;-) -- my focus in this question (and in most of my development endeavors;-) is on the small, lightweight unit-tests that lightly and super-rapidly cover my code, not on the deeper ones.</p>\n\n<p>So I think what I need is essentially a set of small, very lightweight simulations of the various key App Engine subsystems -- data store, memcache, request/response objects and calls to webapp handlers, user handling, mail, &amp;c, roughly in this order of priority.  I haven't found exactly what I'm looking for, so it seems to me that I should either rely on <a href=\"http://code.google.com/p/pymox/\" rel=\"nofollow\">mox</a>, as I've done often in the past, which basically means mocking each subsystem used in a given test and setting up all expectations &amp;c (strong, but lots of work each time, and very sensitive to the tested-code's internals, i.e. very \"white-box\"y), or rolling my own simulation of each subsystem (and doing asserts on the simulated subsystems' states as part of the unit tests). The latters seems feasible, given GAE's Python-side strong \"stubs\" architecture... but I can't believe I need to roll my own, i.e., that nobody's already written such simple-minded simulators!-)  E.g., for the datastore, it looks like what I need is more or less the \"datastore on file\" stub that's already part of the SDK, plus a way to mark it readonly and easy-to-use accessors for assertions about the datastore's state; and so forth, subsystem by subsystem -- each seems to need \"just a bit more\" than what's already in the SDK, \"perched on top\" of the existing \"stubs\" architecture.</p>\n\n<p>So, before diving in and spending a day or two of precious development time \"rolling my own\" simulations of GAE subsystems for unit testing purposes, I thought I'd double check with the SO crowd and see what y'all think of this... or, if there's already some existing open source set of such simulators that I can simply reuse (or minimally tweak!-), and which I've just failed to spot in my searching!-)</p>\n\n<p><strong>Edit</strong>: to clarify, if I do roll my own, I do plan to leverage the SDK-supplied stubs where feasible; but for example there's no stub for a datastore that gets initially read in from a file but then not saved at the end, so I need to subclass and tweak the existing one (which also doesn't offer particularly convenient ways to do asserts on its state -- same for the mail service stub, etc). That's what I mean by \"rolling my own\" -- not \"rewriting from scratch\"!-)</p>\n\n<p><strong>Edit</strong>: \"why not GAEUnit\" -- GAEUnit is nice for its own use cases, but running dev_appserver and seeing results in my browser (or even via urllib.urlopen) is definitely not what I'm after -- I want to use a fully automated setup, suitable for running within an existing test-running framework which is based on extending unittest, and no HTTP in the way (said framework defines a \"fast\" test as one that among other thing does no sockets and minimal disk I/O -- we simulate or mock these -- so via gaeunit I could do no better than \"medium\" tests) + no convenient way to prepopulate datastore for each test (and no OO structure to help customize things).</p>\n"},{"tags":["google-app-engine","blobstore","google-cloud-storage"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":489,"score":3,"question_id":7753840,"title":"If you're storing an image Blob in App Engine, should you put it in the Blobstore or Google Cloud Storage?","body":"<p><a href=\"http://code.google.com/apis/storage/docs/getting-started.html\" rel=\"nofollow\">Google Cloud Storage</a> seems more cost effective than the <strong>App Engine Blobstore</strong>.</p>\n\n<p>At the moment I am storing user-uploaded image files as <code>Blob</code> type fields in the <strong>Datastore</strong> (App Engine Java API, by the way). </p>\n\n<p>But I'm debating whether to switch to either the <strong>Blobstore</strong> or <strong>Google Cloud Storage</strong> to permit image sizes greater than 1MB.</p>\n\n<p><strong>Google Cloud Storage</strong> seems more cost-effective than <strong>Blobstore</strong>. Which one would be better for storing large images?</p>\n"},{"tags":["google-app-engine","blobstore","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":499,"score":1,"question_id":9671182,"title":"Google Blobstore versus Google cloud storage","body":"<p>We have our application hosted on Google app engine for Java and we have a requirement where we want to store the blood donor appreciation certificates (<code>html</code> files) somewhere.</p>\n\n<p>So, we can use either Google blob store or Google cloud storage. I know both of these solutions are feasible to do using gae for Java</p>\n\n<p>However, the problem for us is to decide which one to use. What are the pros and cons of these two approaches?</p>\n\n<p>We are a non profit and cannot pay a lot. </p>\n"},{"tags":["java","google-app-engine","gwt","openid"],"answer_count":3,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":1297,"score":7,"question_id":1365187,"title":"openid consumer for gwt","body":"<p>Anyone have or know of a java implementation of an openid relying party(consumer) for gwt/gae?<br>\nopenid4java and joid bring in too much baggage for my needs.</p>\n"},{"tags":["java","database","google-app-engine","google-cloud-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13257721,"title":"App Engine - Cloud Sql - java.sql.SQLException: This Connection is closed","body":"<p>After a while I got this error, so how do I make sure that the connection is not dead before giving my singleton?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static Connection getInstance() throws Exception {\n\n    if(connection != null) {\n        return connection;\n    }\n\n        DriverManager.registerDriver(new AppEngineDriver());\n        connection = DriverManager.getConnection(\"jdbc:google:rdbms://\"+instanceName+\"/vidaao\");\n\n    return connection;\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<blockquote>\n  <p>java.sql.SQLException: This Connection is closed.     at\n  com.google.cloud.sql.jdbc.internal.Exceptions.newConnectionClosedException(Exceptions.java:52)\n    at\n  com.google.cloud.sql.jdbc.Connection.throwIfNotOpen(Connection.java:633)\n    at\n  com.google.cloud.sql.jdbc.Connection.getHoldability(Connection.java:194)\n    at\n  com.google.cloud.sql.jdbc.Connection.createStatement(Connection.java:123)\n    at\n  com.google.cloud.sql.jdbc.Connection.createStatement(Connection.java:54)\n    at db.DbUser.exist(DbUser.java:209)     at\n  controller.CtrlUser.login(CtrlUser.java:343)  at\n  vidaao.ConnectServlet.doPost(ConnectServlet.java:36)  at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:637)  at\n  javax.servlet.http.HttpServlet.service(HttpServlet.java:717)  at\n  org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at\n  com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at\n  org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at\n  org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at\n  org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at\n  org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at\n  org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at\n  org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at\n  com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at\n  com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n    at\n  org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)     at\n  org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at\n  org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)  at\n  org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)  at\n  org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)  at\n  org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at\n  org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)</p>\n</blockquote>\n\n<p>I tried to use isClosed() but doesn't work and isValid() looks like it is working but it's slowing down the connection to the database each time</p>\n"},{"tags":["google-app-engine","gwt","eclipse-plugin","installation","gae-eclipse-plugin"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2276,"score":2,"question_id":7459874,"title":"unable to install google app engine plugin for eclipse(indigo)","body":"<p>when i try to install google app engine plugin for eclipse it keeps giving below error message at about 47%</p>\n\n<p>\"installing software has encountered a problem. An error occured while collecting items to be installed\" </p>\n\n<pre><code>An error occurred while collecting items to be installed\nsession context was:(profile=epp.package.jee, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.appengine.eclipse.core_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.appengine.eclipse.sdkbundle_1.5.3.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.appengine.rpc_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.appsmarketplace_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.core_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer_2.4.0.r37x201108271303.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.UiBinder_2.4.0.r37x201108271303.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.gpe_2.4.0.r37x201108290223.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_0_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_0.ie_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_0.super_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_0.webkit_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_2_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_2.ie_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.designer.hosted.2_2.webkit_2.4.0.r37x201108271255.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.gph_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.gph.subclipse_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.login_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.managedapis_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.maven_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.maven.e37_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.platform.e37_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.platform.shared_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gdt.eclipse.suite_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gwt.eclipse.core_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gwt.eclipse.oophm_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/com.google.gwt.eclipse.sdkbundle_2.4.0.r37v201108301710.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/org.eclipse.wb.core_1.1.0.r37x201108271211.jar.\nRead timed out\nUnable to read repository at  dl.google.com/eclipse/plugin/3.7/plugins/org.eclipse.wb.core.databinding_1.1.0.r37x201108271211.jar.\nRead timed out\n</code></pre>\n"},{"tags":["java","google-app-engine","capability"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13258898,"title":"How precise is the CapabilityState scheduled maintenance date","body":"<p>I'm wondering how precise the AppEngine's CapabilityState scheduled maintenance date is.</p>\n\n<p>In other words does it always contains HH:mm:ss or just the day/month/year?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13253545,"title":"appengine won't update content on edit","body":"<p>i'am having this weird problem where when i run an app on appengine locally on my window7, every thing works fine, except when i update the code, it works well the first 10 minutes, and then later it doesn't update when i edit the code, i will have to close the server and open it again,\nit's not a cache problem because even if i try in different  browser, the content still doesn't change.\ni tried once  reinstalling python and appengine, worked fine for 2 days and the problem is again. this is very annoying and i would appreciate any help\nthanks</p>\n"},{"tags":["java","google-app-engine","forum"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13258333,"title":"Forum Software in Java for Google App Engine","body":"<p>I would like to add forums to my existing GAE app (using Objectify and REST APIs).  Open source Java forum software which I can integrate with my code would be ideal.  I already have features for user creation and logging in.  I would like to have the ability to create groups, threads and moderation.</p>\n\n<p>I am aware of Fofou (Python and Go) and gforum (Python).  Perhaps no Java forum software is available currently?  If so, does anybody have experience porting over JForum or something similar?  </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["google-app-engine","pointers","go"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":13255907,"title":"In Go HTTP handlers, why is the ResponseWriter a value but the Request a pointer?","body":"<p>I'm learning Go by writing an app for GAE, and this is signature of a handler function:</p>\n\n<pre><code>func handle(w http.ResponseWriter, r *http.Request) {}\n</code></pre>\n\n<p>I'm pointer newbie here, so why is the <code>Request</code> object a pointer, but the <code>ResponseWriter</code> not? Is there any need to have it this way or is this just to make some kind of advanced pointer based code possible?</p>\n"},{"tags":["python","google-app-engine","gae-datastore","gqlquery"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13257447,"title":"How to specify ID greater than <something> in the where clause?","body":"<p>Just recently tried something like the following in the appengine interactive console:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom django.utils import simplejson\n\nclass TestDb(db.Model):\n    author = db.StringProperty()\n\ndef add(name):\n    t = TestDb()\n    t.author = name\n    t.put()\n#added some names...\nlst = db.GqlQuery(\"Select * from TestDb\")\n\nprint [(x.key().id(), x.author) for x in lst]\n</code></pre>\n\n<p>I know for fact that ID is not sequential, but I assume it will be ascending in order for every new record that comes in. </p>\n\n<p>Now I want to put a condition whose SQL would look something like:</p>\n\n<pre><code>SELECT * FROM TestDb WHERE ID &gt; 2\n</code></pre>\n\n<p>Is this possible via <code>GqlQuery()</code>?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13247968,"title":"GAE servlet throwing IncompatibleRemoteServiceException after two days of production running code","body":"<p>I did launch a new version of a web site Sunday afternoon. About 50 users have been using the new service since then. During the night from Monday to Tuesday, one servlet threw an \"IncompatibleRemoteServiceException\" when exchanging a DTO between the client and the server.</p>\n\n<p>It just looks like a previous version of the server (or client) code was used at some point. Has anyone encountered this type of issue before ?</p>\n\n<p>Any help would be very much appreciated !</p>\n\n<p>javax.servlet.ServletContext log: ExternalService: An IncompatibleRemoteServiceException was thrown while processing this call.\ncom.google.gwt.user.client.rpc.IncompatibleRemoteServiceException: Invalid type signature for com.francecorentstudents.web.client.internal.shared.RegistrationDTO\n    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:315)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:206)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:102)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n    at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)\n    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)\n    at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)\n    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n    at java.lang.Thread.run(Thread.java:679)\nCaused by: com.google.gwt.user.client.rpc.SerializationException: Invalid type signature for com.francecorentstudents.web.client.internal.shared.RegistrationDTO\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.validateTypeVersions(ServerSerializationStreamReader.java:931)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:545)\n    at com.google.gwt.user.client.rpc.impl.AbstractSerializationStreamReader.readObject(AbstractSerializationStreamReader.java:119)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:138)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:385)\n    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:303)\n    ... 35 more</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13253465,"title":"How can import a .sql file in app engine datastore","body":"<p>I m experimenting with GAE, and I m looking for a way to import an .sql file in app engine datastore. I found on GAE site ways to import CSV ans xml files:</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/python/tools/uploadingdata\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/tools/uploadingdata</a></p>\n\n<p>but nothing about .sql.</p>\n\n<p>I ve also came across the so called \"jiqlAdmin Data Querying tool\" that claims to import .sql files in google `s datastores:</p>\n\n<p><a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-java/Sfy3jmWhYfI\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-java/Sfy3jmWhYfI</a></p>\n\n<p>Anybody has tried tool this? Does it work? Do you have any other suggestion?</p>\n\n<p>Thnx </p>\n"},{"tags":["security","google-app-engine","http"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13245540,"title":"Google App Engine: secure inter-app communication","body":"<p>I have two apps on Google App Engine, both running under the same account, and one invokes services provided by the other over HTTPS. What is the recommended way of ensuring that only the first app is permitted to invoke the second? </p>\n\n<p>Alternatively, is there a way to specify that given endpoint can only be invoked by an app running under the same GAE account?</p>\n"},{"tags":["python","google-app-engine","ide"],"answer_count":6,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":1529,"score":8,"question_id":3333544,"title":"Is there an online IDE for Google App Engine?","body":"<p>I am learning Google App Engine / Python and I love it. Unfortunately I am not allowed to use my own computer in the office and not allowed to install anything on the corporate machine.</p>\n\n<p>It would be so great to have an online IDE for Google App Engine where I could play with my Python code using any browser, including the one on my iPad.</p>\n\n<p>Maybe <a href=\"http://www.devunity.com/\" rel=\"nofollow\">http://www.devunity.com/</a> will be an online IDE for GAE some day. Do you know any existing way to program GAE in a browser?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13248639,"title":"Channel API and appengine not good for game?","body":"<ul>\n<li><p>Channel Api allow pull update from server to client . But no way to send back data to socket .\nWe need to make Ajax request to server , it means it very slow than send direct by socket .</p></li>\n<li><p>Appengine is fit for web , for socket based game ,we can't control appengine instance shutdown and restart . Game objects need to save to datastore and memcache (very slow) .\nBackend may be a acceptable solution , but i think it can't good as dedicated server for web game online .</p></li>\n</ul>\n\n<p>I still looking for solution for socket  webgame on appengine </p>\n"},{"tags":["java","database","google-app-engine","simultaneous"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13247492,"title":"Accessing simultaneusly to the database","body":"<p>I`m developing the server side for a mobile app with Google App Engine and JDO in Java, and I have some problems accessing simultaneously to the database.</p>\n\n<p>The app that Im doing is a chat, and when two persons are accessing the database simultaneously, one of the messages is lost. I think that is because the two access are doing before one of them save his changes in the database, and that`s why one of the messages are lost.</p>\n\n<p>Do you know some solution for this? Something like get the access to the same registry in the database and put them in a queue or a stack for accessing lately.</p>\n\n<p>Thanks in advance!</p>\n\n<p>Here is my code:</p>\n\n<p><strong>Conversation.java:</strong></p>\n\n<pre><code>import java.util.LinkedList;\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Conversation \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Long id;\n\n    @Persistent\n    private Long idUser;\n\n    @Persistent(mappedBy = \"conversation\")\n    private LinkedList&lt;Message&gt; messages;\n\n    public Conversation(Long idUser) \n    {\n        this.idUser = idUser;\n\n        messages = new LinkedList&lt;Message&gt;();       \n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public Long getIdUser() {\n        return idUser;\n    }\n\n    public LinkedList&lt;Message&gt; getMessages() {\n        return messages;\n    }\n}\n</code></pre>\n\n<p><strong>Message.java:</strong></p>\n\n<pre><code>import javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.IdentityType;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\nimport com.google.appengine.api.datastore.Key;\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)  \npublic class Message \n{\n    @PrimaryKey  \n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)  \n    private Key id;\n\n    @Persistent\n    private Conversation conversation;\n\n    @Persistent\n    private String text;\n\n    @Persistent\n    private String hour;\n\n    public Message(String text, String hour)\n    {\n        this.text = text;\n        this.hour = hour;\n    }\n\n    public String getText() \n    {\n        return text;\n    }\n\n    public String getHour() \n    {\n        return hour;\n    }\n\n    public Key getId() \n    {\n        return id;\n    }\n\n    public Conversation getConversation() {\n        return conversation;\n    }\n}\n</code></pre>\n\n<p><strong>Save the Messages:</strong></p>\n\n<pre><code>final PersistenceManager persistenceManager = PMF.get().getPersistenceManager();      \n\nString strQuery = \"select from \" + Conversation.class.getName() + \" where id == \" + id;\npersistenceManager.getFetchPlan().setGroup(FetchGroup.ALL);\nfinal Query query = persistenceManager.newQuery(strQuery);\n\ntry \n{\n    List&lt;Conversation&gt; conversations = (List&lt;Conversation&gt;) query.execute;\n\n    Conversation detached = null;\n    detached = persistenceManager.detachCopy(conversations.get(0));\n\n    detached.getMessages().add(message);\n    persistenceManager.makePersistent(detached);\n} finally {\n    persistenceManager.close();\n}\n</code></pre>\n"},{"tags":["python","google-app-engine","web","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":278,"score":1,"question_id":8451914,"title":"webapp2 route fails","body":"<p>so I'm building my new website using app-engine with python and webapp2\nI'm having hard times to define the URIs in my web application</p>\n\n<p>the result I need is:</p>\n\n<pre><code>http://www.example.com/\nhttp://www.example.com/products/\nhttp://www.example.com/products/table\n</code></pre>\n\n<p>I thought it's an easy task, but apparently it is not (for me, anyway)</p>\n\n<p>I'm getting 404 error when I'm trying to load something like that:\n<a href=\"http://www.example.com/products/chair/\" rel=\"nofollow\">http://www.example.com/products/chair/</a></p>\n\n<p>where is my mistake?\nthanks in advanced :)</p>\n\n<pre><code>app = webapp2.WSGIApplication([\nwebapp2.Route('/', MainPage),\nwebapp2.Route('/products/', handler=MainProductsHandler),\nwebapp2.Route('/products/(\\w+)/', handler=ProductHandler)\n],debug=True)\n</code></pre>\n"},{"tags":["google-app-engine","login","https"],"answer_count":4,"favorite_count":5,"up_vote_count":10,"down_vote_count":0,"view_count":1643,"score":10,"question_id":2624619,"title":"Secure login on your domain with Google App Engine","body":"<p>We are starting a very large web based service project. We are trying to decide what hosting environment to use. We would really like to use Google App Engine for scalability reasons and to eliminate the need to deal with servers ourselves.</p>\n\n<p>Secure logins/registrations is very important to us, as well as using our own domain. Our target audience is not very computer savvy. For this reason, we don't want to have the users have to sign up with OpenID as this can't be done within our site. We also do not want to force our customers to sign up with Google.</p>\n\n<p>As far as I can see, I am out of luck. I am hoping to have a definite answer to this question. Can I have an encrypted login to our site accessed via our domain, without having to send the customers to another site for the login (OpenID/Google).</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13252683,"title":"what does the cursor() method of GAE Query class return if the last result was already retrieved?","body":"<p>From the Google App Engine documentation:</p>\n\n<p>\"cursor() returns a base64-encoded cursor string denoting the position in the query's result set following the last result retrieved.\"</p>\n\n<p>What does it return if the the last result retrieved IS the last result in the query set? Wouldn't this mean that there is no position that can 'follow' the last result retrieved? Therefore, is 'None' returned?</p>\n"},{"tags":["java","google-app-engine","oauth-2.0","google-drive-sdk"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13212508,"title":"java, drive APIv2, appengine 1.7.3, struts2.3.4.1, OAuth2. TokenResponseException: 400 OK invalid_grant","body":"<p>I'm getting the error invalid_grant I've allready seen googleing arround, but after been fighting some days with this issue.\nThe error is thrown in: </p>\n\n<pre><code>File file = insert.execute();\n</code></pre>\n\n<p>I just would like to upload files from my webapp in appengine to google drive.\nI'm using private pair key (.p12) generated in the API Access (https://code.google.com/apis/console/) using a Service Account:</p>\n\n<pre><code> Service account\n\nUse service accounts to call Google APIs on behalf of your application instead of an end-user. Learn more\nClient ID:  \nxxx-xxxxxx.apps.googleusercontent.com\nEmail address:  \nxxx-xxxxxxxxxxx@developer.gserviceaccount.com\nPublic key fingerprints:    \na108d8713103e09d0013655c9f80458f03e3a38a    –   Delete...\n</code></pre>\n\n<p>In the Google APis -> drive SDK (https://code.google.com/apis/console/?api=drive#project:347347146680:drive_sdk) I've put this ClientID:</p>\n\n<pre><code>Drive Integration\nOAuth Client ID (Required)\n\nEnter the Client ID for your application. You can configure a client ID on the \"API Access\" panel.\n</code></pre>\n\n<p><strong>Any help will be appreciatte! Thanks!</strong></p>\n\n<h1><strong>My code:</strong></h1>\n\n<p>struts.xml:</p>\n\n<pre><code>        &lt;interceptor name=\"gaeFileUploadInterceptor\" class=\"com.struts2.gae.interceptor.GaeFileUploadInterceptor\" /&gt;\n        &lt;interceptor-stack name=\"fileUploadStack\"&gt;\n            &lt;interceptor-ref name=\"gaeFileUploadInterceptor\"&gt;&lt;/interceptor-ref&gt;\n            &lt;interceptor-ref name=\"basicStack\"&gt;&lt;/interceptor-ref&gt;\n        &lt;/interceptor-stack&gt;\n\n\n&lt;action name=\"uploadInit\"&gt;\n    &lt;result&gt;jsp/common/upload.jsp&lt;/result&gt;\n&lt;/action&gt;\n\n&lt;action name=\"upload\" method=\"upload\" class=\"com.lm.action.common.Upload\"&gt;\n    &lt;result&gt;jsp/common/upload.jsp&lt;/result&gt;\n    &lt;interceptor-ref name=\"fileUploadStack\"/&gt;\n        &lt;result name=\"success\" type=\"stream\"&gt;\n            &lt;param name=\"contentType\"&gt;image/jpeg,image/gif,image/png&lt;/param&gt;\n            &lt;param name=\"inputName\"&gt;photoStream&lt;/param&gt;\n            &lt;param name=\"contentDisposition\"&gt;filename=\"photo.jpg\"&lt;/param&gt;\n            &lt;param name=\"bufferSize\"&gt;1024&lt;/param&gt;\n        &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Upload.java:</p>\n\n<pre><code>//File uploading (see struts.xml interceptors &amp; struts2-gae-0.1.jar\nprivate String photo;\nprivate String photoContentType; //The content type of the file\nprivate String photoFileName; //The uploaded file name\nprivate InputStream photoStream;\n[...]\npublic String upload() {\n    try {\n        if (photo!=null) {\n            GoogleDrive.insertLocalFile(\"title\",\"description\",null,photoContentType,photo); \n        }\n    } catch (Exception e ) {\n        log.debug(new String(), e);\n    }\n    return SUCCESS2;\n}   \n</code></pre>\n\n<p>GoogleDrive.java:</p>\n\n<pre><code>public static File insertLocalFile(String title, String description,\n        String parentId, String mimeType, String data) {\n    File body = new File();\n    body.setTitle(title);\n    body.setDescription(description);\n    body.setMimeType(mimeType);\n\n    Drive service = null;\n    try {\n        service = getDriveService();\n        Files files = service.files();\n        InputStreamContent isc = new InputStreamContent(mimeType);\n        isc.setData(data);\n        Insert insert = files.insert(body, isc);  //mediaContent);\n        File file = insert.execute();\n        return file;\n    } catch (IOException e) {\n        log.error(new String(), e);\n        return null;\n    }\n}\n\npublic static Drive getDriveService() {\n    HttpTransport httpTransport = new NetHttpTransport();\n    JacksonFactory jsonFactory = new JacksonFactory();\n    GoogleCredential credential;\n    Drive service = null;\n    try {\n        credential = new GoogleCredential.Builder()\n                .setTransport(httpTransport)\n                .setJsonFactory(jsonFactory)\n                //.setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\n                .setServiceAccountId(SERVICE_ACCOUNT_ID)\n                .setServiceAccountScopes(DriveScopes.DRIVE_FILE)\n                .setServiceAccountPrivateKeyFromP12File(new java.io.File(SERVICE_ACCOUNT_PKCS12_FILE_PATH))\n                .setServiceAccountUser(SERVICE_ACCOUNT_EMAIL)\n                .build();\n        service = new Drive.Builder(httpTransport, jsonFactory, null)\n                .setHttpRequestInitializer(credential).build();\n    } catch (GeneralSecurityException e) {\n        log.error(new String(), e);\n    } catch (IOException e) {\n        log.error(new String(), e);\n    }\n    return service;\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>com.google.api.client.auth.oauth2.TokenResponseException: 400 OK\n{\n  \"error\" : \"invalid_grant\"\n}\n    at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103)\n    at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:303)\n    at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:323)\n    at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.executeRefreshToken(GoogleCredential.java:340)\n    at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:505)\n    at com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:266)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:857)\n    at com.google.api.client.googleapis.media.MediaHttpUploader.executeUploadInitiation(MediaHttpUploader.java:337)\n    at com.google.api.client.googleapis.media.MediaHttpUploader.upload(MediaHttpUploader.java:252)\n    at com.google.api.services.drive.Drive$Files$Insert.executeUnparsed(Drive.java:309)\n    at com.google.api.services.drive.Drive$Files$Insert.execute(Drive.java:331)\n    at util.google.GoogleDrive.insertLocalFile(GoogleDrive.java:365)\n    at com.lm.action.common.Upload.upload(Upload.java:108)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.struts2.gae.interceptor.GaeFileUploadInterceptor.intercept(GaeFileUploadInterceptor.java:275)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:123)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:383)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n"},{"tags":["python","google-app-engine","foursquare"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13252276,"title":"How do I get rid of \"Hello World\" in foursquare connected app?","body":"<p>When I upload my foursquare connected app to appspot via appengine launcher and when I go to the apps url I see \"Hello World!\" There isn't anything in my files that says anything about \"Hello World.\" It's not making another directory within my apps files and putting the \"Hello World\" files; I was able to get rid of that. </p>\n"},{"tags":["google-app-engine","logfiles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13250810,"title":"How to understand log files downloaded from App Engine?","body":"<p>What is the format of Google App Engine log files, as downloaded by <code>appcfg.sh request_logs</code>?</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":13234556,"title":"Using memcache.add() instead of set()","body":"<p>Usually I do:</p>\n\n<pre><code>if not memcache.get('mykey'):\n   memcache.set('mykey', item)\n</code></pre>\n\n<p>However, today I saw <code>memcache.add()</code>, which appears to add an item only if it doesn't already exist. So is this equivalent to the code I have above? Can I just replace the code above with <code>memcache.add()</code>?</p>\n\n<p>Also, and more importantly, I'm using AppStats, and under RPC Call Traces, I get to see if my request calls <code>memcache.set()</code> or <code>get()</code> or <code>datastore.put()</code> or <code>get()</code>. When using the 2 lines of code above, I don't see anything for <code>memcache.set()</code>, which is expected. However, using only <code>memcache.add()</code> (without checking if the item already exists) always calls <code>memcache.set()</code>, even though <code>memcache.add()</code> returned false (meaning a new item was not inserted). Why is this the case?</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13241503,"title":"Which GAE Database Property Fits a Tag Property?","body":"<p>I want to have a property on a database model of mine in Google App Engine and I am not sure which category works the best.  I need it to be a tag cloud similar to the Tags on SO.  Would a text property be best or should I use a string property and make it repeated=True.</p>\n\n<p>The second seems best to me and then I can just divide the tags up with a comma as a delimiter.  My goal is to be able to search through these tags and count the total number of each type of tag.</p>\n\n<p>Does this seem like a reasonable solution?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13246764,"title":"How to add a library to to my Google App Engine project?","body":"<p>In response to <a href=\"http://code.google.com/p/googleappengine/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Type%20Component%20Status%20Stars%20Summary%20Language%20Priority%20Owner%20Log&amp;groupby=&amp;sort=&amp;id=2749\" rel=\"nofollow\">this bug at Google</a> I am planning to replace the webob library with the newest release, WebOb version 1.2.3, which is rumored to fix the bug. I have downloaded the project from their website, and just adding it to the project root does not fix the problem. The folder with the downloaded project is named \"WebOb-1.2.3\"</p>\n\n<p>What needs to be done in App.yaml to include this newest version that i upload to the server?</p>\n\n<p>I am running python.</p>\n"},{"tags":["html","google-app-engine","web-applications","hosting"],"answer_count":5,"favorite_count":8,"up_vote_count":11,"down_vote_count":0,"view_count":6212,"score":11,"question_id":819346,"title":"How to host static html files on AppEngine?","body":"<p>Is it possible to host a static html website on AppEngine? And how to make my domain name work with it?</p>\n"},{"tags":["google-app-engine","soap","opencmis"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13248334,"title":"Google App Engine + OpenCMIS","body":"<p>Problem in SOAP connection From the GWT solution to CMIS webServer. </p>\n\n<p>GWT 2.4.0</p>\n\n<p>Google App Engine 1.7.3 is used.</p>\n\n<p>Apache OpenCMIS 0.8 library is used. </p>\n\n<p>i've looked in\n<a href=\"http://stackoverflow.com/questions/2268474/consuming-soap-web-serives-in-google-app-engine-and-gwt\">consuming SOAP web serives in google app engine and GWT</a> article.\nAnd <a href=\"http://code.google.com/appengine/articles/soap.html\" rel=\"nofollow\">http://code.google.com/appengine/articles/soap.html</a>. <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=5332\" rel=\"nofollow\">http://code.google.com/p/googleappengine/issues/detail?id=5332</a></p>\n\n<p>SOAP CMIS connection is made internaly in the Apache OpenCMIS library. (jaxws-rt-2.1.7.jar)</p>\n\n<p>REST Atom Pub connection works nice.\nI've got the following error, trying to connect to the SOAP webservice:</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: java.net.ProxySelector is a restricted class. Please see the Google  App Engine developer's guide for more details.\nat com.google.appengine.tools.development.agent.runtime.Runtime.reject(Runtime.java:51)\nat com.sun.xml.ws.api.EndpointAddress$1.run(EndpointAddress.java:153)\nat com.sun.xml.ws.api.EndpointAddress$1.run(EndpointAddress.java:152)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.xml.ws.api.EndpointAddress.chooseProxy(EndpointAddress.java:149)\nat com.sun.xml.ws.api.EndpointAddress.&lt;init&gt;(EndpointAddress.java:130)\nat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parsePort(RuntimeWSDLParser.java:369)\nat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseService(RuntimeWSDLParser.java:341)\nat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseWSDL(RuntimeWSDLParser.java:323)\nat com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:146)\nat com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:265)\nat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:228)\nat com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:176)\nat com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:104)\nat javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\nat org.apache.chemistry.opencmis.commons.impl.jaxb.DiscoveryService.&lt;init&gt;(DiscoveryService.java:42)\n</code></pre>\n"},{"tags":["python","google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":319,"score":0,"question_id":11364878,"title":"Upload images/video to google cloud storage using google app engine","body":"<p>I have read the question from \"Sending images to google cloud storage using google app engine\". (http://goo.gl/4nLno)\nHowever, the codes in the answer that the file will upload to blobstore first, so the file can not be exceeded 32MB.</p>\n\n<p>How can I upload the large file to Google Cloud Storage directly?</p>\n\n<p>I have checked the official document \"Upload Objects\" (http://goo.gl/oKmei), but I still don't know how to write a form to post a large file.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["google-app-engine","gwt","restlet"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13242140,"title":"GWT Compile Error - Restlet related?","body":"<p>The XXX are just names that I need to keep confidential.</p>\n\n<pre><code>Compiling module com.XXX.XXX.XXX_Test\n   Validating newly compiled units\n      Ignored 12 units with compilation errors in first pass.\nCompile with -strict or with -logLevel set to TRACE or DEBUG to see all errors.\n   Scanning for additional dependencies: file:/D:/Eclipse/Indigo/Workspace/XXX%20Test/src/com/XXX/XXX/client/Restlet.java\n      Computing all possible rebind results for 'com.wai.XXX.client.proxy.DonglesProxy'\n         Rebinding com.XXX.XXX.client.proxy.DonglesProxy\n            Checking rule &lt;generate-with class='org.restlet.rebind.ClientProxyGenerator'/&gt;\n               [ERROR] Errors in 'file:/D:/Eclipse/Indigo/Workspace/XXX%20Test/src/com/XXX/XXX/client/proxy/DonglesProxy.java'\n                  [ERROR] Line 11: No source code is available for type org.restlet.resource.ClientProxy; did you forget to inherit a required module?\n               [ERROR] Unable to find type 'com.XXX.XXX.client.proxy.DonglesProxy'\n                  [ERROR] Hint: Previous compiler errors may have made this type unavailable\n                  [ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\n</code></pre>\n\n<p>Here is what the console tells me when I try to do a GWT Compile on my project. What I don't understand that I've included the 'org.restlet.jar' into the buildpath of the project and have the following imports in the DonglesProxy source code:</p>\n\n<pre><code>import org.restlet.resource.ClientProxy;\nimport org.restlet.resource.Put;\n</code></pre>\n\n<p>Anyone any ideas?</p>\n\n<p>I'm new to Java and the whole Web Application process so my knowledge is a bit lacking. This is actually someone else's project that has been left unfinished so I'm trying to debug/understand someone else code whilst learning as I go along...nightmare :(</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Cheers\nKev</p>\n"},{"tags":["java","eclipse","google-app-engine","plugins"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1060,"score":1,"question_id":2846333,"title":"Eclipse 3.5 Missing New Web Application option after installing Google App Engine plugin","body":"<p>I just used Eclipse 3.5 to install the Google App Engine plug in. The plug in is showed as installed in the update manager. However, I am not seeing the option to \"New Web Application Project\" (http://code.google.com/appengine/docs/java/tools/eclipse.html). I also don't see anything Google related when I type Google into the search bar under Windows > Preferences. </p>\n\n<p>There were no errors at the time of installation, and I was asked if I wanted to restart Eclipse, clicked yes, and it restarted accordingly. Am I missing something?</p>\n"},{"tags":["google-app-engine","unity3d"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13246347,"title":"App size on Google App Engine and Multi-Player Unity Game Architecture","body":"<p>I am developing an app which is a multiuser game. My app is to be run on the browser. So here my unity file talks to the database through the SFS server. This is the typical architecture that my application follows. My current app size is about 47MB.</p>\n\n<p>Now I am trying to upload the app to the Google App Engine. I made a few smaller (in size) demos and tried uploading them and they worked fine. But just realized that my current app does not upload as it exceeds the 32MB quota. Is there a way to still make my file work (other than reducing the file size)?</p>\n\n<p>Also, will the mentioned architecture (Unity-SFS-MySQL) work fine on GAE?</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13246919,"title":"GAE store to db but not display on view","body":"<p>Hi I have google app engine aplication. I use JPA and simple servlet and jsp.</p>\n\n<p>My code:</p>\n\n<pre><code>Training training = new Training();\n    training.setCoachName(req.getParameter(\"coachName\"));\n    training.setDate(req.getParameter(\"date\"));\n    training.setTime(req.getParameter(\"time\"));\n    EntityManager entityManager = EMFService.get().createEntityManager();\n    try {\n        entityManager.getTransaction().begin();\n        entityManager.persist(training);\n        entityManager.flush();           \n        entityManager.getTransaction().commit();\n    } finally {\n        entityManager.close();\n    }\n\n    resp.sendRedirect(\"/overview\");\n</code></pre>\n\n<p>and servlet for view list of trainings</p>\n\n<pre><code>EntityManager entityManager = EMFService.get().createEntityManager();\n    Query q = entityManager.createQuery(\"select t from \" + Training.class.getName() + \" t \");\n    List&lt;Training&gt; result = q.getResultList();\n    req.setAttribute(\"trainigs\", result);\n    entityManager.close();\n    RequestDispatcher view = req.getRequestDispatcher(\"index.jsp\");\n    view.forward(req, resp);\n</code></pre>\n\n<p>Problem is, that I store to db record, but on index.jsp is not displayed. After I try sometimes refresh page, then record is there. So between storing record and displaying on jsp is delay some seconds.</p>\n\n<p>Where is problem?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":32,"score":-2,"question_id":13247000,"title":"How to post static web page with google apps engine?","body":"<p>Sorry, but I can't solve this issue by myself.. For example, I have a static web page and want to post it to the internet with own domain name like 'http://myowndomain.ru'. What steps I have to do for that? I already download Python and SDK. What next? </p>\n"},{"tags":["xml","file","google-app-engine","caching","static"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13246774,"title":"App Engine - Java Cache Control wont work","body":"<p>This is a noobie question</p>\n\n<p>I would like to add expires headers for static files.</p>\n\n<p>I tried :</p>\n\n<pre><code>&lt;static-files&gt;\n     &lt;include path=\"/**.png\" expiration=\"4d 5h\" /&gt;\n&lt;/static-files&gt;\n</code></pre>\n\n<p>and put this in the <em>appengine-web.xml</em></p>\n\n<p>But everytime i deploy this on the egine, the engine wont work anymore.\nMaybe i used the wrong location for the code?</p>\n\n<p>Here is the full code : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n  &lt;!-- REQUIRED: CHANGE THE &lt;application&gt; TAG! --&gt;\n    &lt;application&gt;myname&lt;/application&gt;\n    &lt;version&gt;1&lt;/version&gt;\n\n        &lt;static-files&gt;        &lt;include path=\"/**.png\" expiration=\"4d 5h\" /&gt;    &lt;/static-files&gt;\n\n    &lt;system-properties&gt;\n        &lt;property name=\"java.util.logging.config.file\" value=\"WEB-INF/logging.properties\"/&gt;\n    &lt;property name=\"com.google.gdata.DisableCookieHandler\" value=\"true\"/&gt; \n\n\n\n    &lt;!-- OPTIONAL: Put in your configuration values in this section. --&gt;\n    &lt;property name=\"com.google.ytd.BrandingTag\" value=\"\"/&gt;\n    &lt;property name=\"com.google.ytd.LinkBackText\" value=\"\"/&gt;\n    &lt;property name=\"appengine.orm.disable.duplicate.pmf.exception\" value=\"false\"/&gt;\n    &lt;property name=\"com.google.ytd.RecaptchaPrivateKey\" value=\"\"/&gt;\n    &lt;property name=\"com.google.ytd.RecaptchaPublicKey\" value=\"\"/&gt;  \n    &lt;/system-properties&gt;\n\n\n  &lt;ssl-enabled&gt;true&lt;/ssl-enabled&gt;\n  &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\n  &lt;threadsafe&gt;false&lt;/threadsafe&gt;\n\n\n    &lt;inbound-services&gt;\n    &lt;service&gt;mail&lt;/service&gt;\n  &lt;/inbound-services&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n"},{"tags":["google-app-engine","python-2.7","gae-datastore","blobstore"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13186494,"title":"Deleting Blobstore orphans","body":"<p>What is the most efficient way to delete orphan blobs from a Blobstore?</p>\n\n<p><strong>App functionality &amp; scope:</strong></p>\n\n<ul>\n<li>A (logged-in) user wants to create a post containing some normal\ndatastore fields (e.g. name, surname, comments) and blobs (images).</li>\n<li>In addition, the blobs are uploaded asynchronously before the resto\nof the data is sent via a POST\n<ul>\n<li><em>This leaves a good chance of having orphans as, for example, a user may upload images but not complete the form for one reason or another. This issue would be minimized by not using an asynchronous upload of the blobs before sending the rest of the data, however, this issue would still be there on a smaller scale.</em></li>\n</ul></li>\n</ul>\n\n<p><strong>Possible, yet inefficient solutions:</strong></p>\n\n<ul>\n<li>Whenever a post is completed (i.e. the rest of the data is sent), you add the blob keys to a table of \"used blobs\". Then, you can run a cron every so often and compare all of the blobs with the table of \"used blobs\". Those that have been uploaded over an hour ago yet are still \"not used\" are deleted.\n<ul>\n<li>My understanding is that running through a list of potentially hundreds of thousands of blob keys and comparing it with another table of hundreds of thousands of \"used blob keys\" is very inefficient.</li>\n</ul></li>\n</ul>\n\n<p>Is there any better way of doing this? I've searched for similar posts yet I couldn't find any mentioning efficient solutions.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["google-app-engine","gwt","urlfetch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13245577,"title":"HTTP Post on Google App Engine only works half of the time","body":"<p>I have used URLFetch class to do HTTP Post in Google App engine to my php file (on some different website).</p>\n\n<p>This is what I have</p>\n\n<pre><code>try{\nbyte[] data = (\"EMAIL=bo0@gmail.com&amp;TITLE=evolution&amp;COMMENT=comments&amp;PRICE=5000\").getBytes(\"UTF-8\");\nURL url = new URL(\"http://www.box.com/nost.php\");\nHTTPRequest request = new HTTPRequest(url, HTTPMethod.POST);\nrequest.setPayload(data);\nHTTPResponse response = URLFetchServiceFactory.getURLFetchService().fetch(request);\n}\n</code></pre>\n\n<p>now this seems to work perfectly fine when I deploy locally.\nHowever, when I publish on google app engine, this only works half of the time.\n(ie. even with exact same data, i press post, more than once, it can be either error or success)</p>\n\n<p>Since I am not changing any data, this seems to be totally random.\nCan anyone give me advice why this is happening?</p>\n\n<p>EDIT: this is a working code\nIt seems like my php was blocking http request that gae is making , some of the time. I fixed by using recursion inside catch block to keep trying until succeed.</p>\n\n<pre><code>try {\n    URL url = new URL(\"http://www.mywebsite.com/myfile.php\");\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setDoOutput(true);\n    connection.setRequestMethod(\"POST\");\n\n    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\nwriter.write(\"EMAIL=\"+URLEncoder.encode(\"sam@gmail.com\", \"UTF-8\")+\n\"&amp;TITLE=\"+URLEncoder.encode(\"myTitle\", \"UTF-8\")+\n\"&amp;PRICE=\"+URLEncoder.encode(String.valueOf(10000), \"UTF-8\"));\nwriter.close();\n\nif (connection.getResponseCode() == HttpURLConnection.HTTP_OK) {\n// OK\nreturn true;\n} else {\n// Server returned HTTP error code.\n//keep retrying until you succeed!! fighting!!\nreturn newPost(postComponent);\n}\n} catch (MalformedURLException e) {\ne.printStackTrace();\nreturn false;\n} catch (IOException e) {\ne.printStackTrace();\nreturn false;\n}\ncatch (Exception e){\ne.printStackTrace();\n//ah dam probably server is down so you went stack overflow I give up\nreturn false;\n}\n</code></pre>\n"},{"tags":["java","hibernate","google-app-engine","jpa","datanucleus"],"answer_count":5,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":4473,"score":9,"question_id":2523220,"title":"Can Hibernate be used as the JPA provider in Google App Engine","body":"<p>Can <a href=\"http://repository.jboss.org/maven2/org/hibernate/hibernate-core/3.5.0-CR-2/\" rel=\"nofollow\">Hibernate 3.5.x</a> be used as the JPA provider instead of the default provider in the latest version of Google App Engine (1.3.2)</p>\n"},{"tags":["google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":352,"score":0,"question_id":9450117,"title":"Allowing publicly shared files on google cloud storage","body":"<p>Google cloud storage allows users to check a \"publicly shared?\" field in the storage manager that allows you to share a URL to the data directly.</p>\n\n<p>I'm using google app engine and sending data to the storage, but I would like to have it publicly shared by default.</p>\n\n<p>How can I do this? There docs does not seem to mention anything about this, except manually doing it.</p>\n\n<p>I am using python but it probably doesn't make much of a difference.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":11,"score":-1,"question_id":13245780,"title":"when i download file from google app by using blob key i got the excpeiton please help me","body":"<p>Hi when i download the file from google app blob i got the following exception java.lang.IllegalStateException: WRITER\n    at org.mortbay.jetty.Response.getOutputStream(Response.java:594)\n    at javax.servlet.ServletResponseWrapper.getOutputStream(ServletResponseWrapper.java:102)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.serveBlob(ServeBlobFilter.java:182)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:64)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)</p>\n\n<p>please check my code </p>\n\n<pre><code>          &lt;%@ page\n    import=\"com.google.appengine.api.blobstore.BlobstoreServiceFactory\"%&gt;\n       &lt;%@ page import=\"com.google.appengine.api.blobstore.BlobstoreService\"%&gt;\n         &lt;%@page import=\" com.google.appengine.api.blobstore.BlobstoreService\"%&gt;\n          &lt;%@page import=\"com.google.appengine.api.blobstore.BlobstoreServiceFactory\"\n                  %&gt;\n                &lt;%@page import=\" com.google.appengine.api.blobstore.BlobKey\" %&gt;\n              &lt;%@page import=\"com.google.appengine.api.blobstore.BlobInfoFactory\" %&gt;\n\n\n                    &lt;%\n             String blob_key=request.getParameter(\"blob_key\");\n              // System.out.println(blob_key);\n                BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();\n                  // System.out.println(blobstoreService);\n</code></pre>\n\n<p>%></p>\n"},{"tags":["google-app-engine","queue","task","pull","task-queue"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12785907,"title":"Error (401 Unauthorized) accessing GAE Task Queue (pull queue)","body":"<p>I'm getting this error below trying to access a pull task queue. Until the last friday (Oct, 5) it was working perfectly. Today (Oct, 8) it wasn't working. </p>\n\n<p>I run it from a Websphere Application Server v7 with the 2 imported certificates below: accounts.googleapis.com:443 and www.googleapis.com:443.</p>\n\n<p>I'm using this version below of the Task Queue API:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-services-taskqueue&lt;/artifactId&gt;\n   &lt;version&gt;**v1beta1-1.2.0-beta**&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can you help me please?</p>\n\n<pre><code>Error Message: com.google.api.client.http.HttpResponseException: 401 Unauthorized\nError Code: 500\nTarget Servlet: Spring MVC Dispatcher Servlet\nError Stack: \ncom.google.api.client.http.HttpResponseException: 401 Unauthorized\n     at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:708) \n     at com.google.api.services.taskqueue.Taskqueue$RemoteRequest.execute(Taskqueue.java:698) \n     at com.google.api.services.taskqueue.Taskqueue$Tasks$Lease.executeUnparsed(Taskqueue.java:297) \n     at com.google.api.services.taskqueue.Taskqueue$Tasks$Lease.execute(Taskqueue.java:282) \n     at br.com.sulamerica.susis.sync.queue.client.impl.GaeTaskQueuePuller.getLeasedTasks(GaeTaskQueuePuller.java:117) \n     at br.com.sulamerica.susis.sync.services.BuscarPropostaGAEServicesImpl.buscaPropostaFilaGAEService(BuscarPropostaGAEServicesImpl.java:82) \n     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:45) \n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) \n     at java.lang.reflect.Method.invoke(Method.java:599) \n     at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309) \n     at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183) \n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150) \n     at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50) \n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) \n     at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110) \n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) \n     at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89) \n     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) \n     at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) \n     at $Proxy158.buscaPropostaFilaGAEService(Unknown Source) \n     at br.com.sulamerica.susis.sync.web.controller.PropostaController.buscaPropostasFilaGAE(PropostaController.java:34) \n     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:45) \n     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) \n     at java.lang.reflect.Method.invoke(Method.java:599) \n     at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176) \n     at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426) \n     at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414) \n     at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790) \n     at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719) \n     at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644) \n     at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549) \n     at javax.servlet.http.HttpServlet.service(HttpServlet.java:718) \n     at javax.servlet.http.HttpServlet.service(HttpServlet.java:831) \n     at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657) \n     at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:939) \n     at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502) \n     at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179) \n     at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3935) \n     at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:276) \n     at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:931) \n     at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1583) \n     at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186) \n     at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452) \n     at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511) \n     at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305) \n     at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:276) \n     at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators(NewConnectionInitialReadCallback.java:214) \n     at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete(NewConnectionInitialReadCallback.java:113) \n     at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165) \n     at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217) \n     at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161) \n     at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138) \n     at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204) \n     at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775) \n     at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905) \n     at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1604) \n</code></pre>\n\n<p>Best regards!</p>\n\n<p>Fábio Peruchi</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13167776,"title":"Bulk-uploading fails from csv source file for fields with data length greater then 500 unicode characters","body":"<p>I am using appcfg.py to bulkupload data into appengine from csv source file.\nLength of data value for one field in csv file is greater then 500 Unicode characters.</p>\n\n<p>Execution of appcfg upload-command generates below logs :-</p>\n\n<blockquote>\n  <p>[INFO    ] Opening database: bulkloader-progress-20121101.024343.sql3</p>\n  \n  <p>[INFO    ] Connecting to xxxxxxx.appspot.com/remote_api</p>\n  \n  <p>[INFO    ] Starting import; maximum 10 entities per post</p>\n  \n  <p>.</p>\n  \n  <p>[INFO    ] 1 entities total, 0 previously transferred</p>\n  \n  <p>[INFO    ] 1 entities (3590 bytes) transferred in 15.5 seconds</p>\n  \n  <p>[INFO    ] All entities successfully transferred</p>\n</blockquote>\n\n<p>After execution, Datastore Viewer on appengine dashboard does not show value for fields having values of length greater then 500 Unicode characters.</p>\n\n<p>I googled a lot for bulk-uploading data with values of length greater then 500 Unicode characters from csv source file, but no success.</p>\n\n<p><strong>EDIT 1 :-</strong></p>\n\n<p>Found <code>Text string (long)</code> <code>com.google.appengine.api.datastore.Text</code> <code>None</code> </p>\n\n<pre><code>Up to 1 megabyte Not indexed\n</code></pre>\n\n<p>on <a href=\"https://developers.google.com/appengine/docs/java/datastore/entities\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/datastore/entities</a></p>\n\n<p>But, not sure, how to use this for bulk-uploading data from csv source file.</p>\n"},{"tags":["google-app-engine","optimization","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13244224,"title":"Google App Engine Memcache Not Updating Rapidly","body":"<p>I have been using Memcache in Google App Engine (Python) for some time now and generally it works very well.  In the last few days though I have noticed that with some code like the below example that when it is updated right after I renew a database entry that it doesn't get it in time.  Is this due to the length of time that it takes to store the entry in the database?  Is there any solution?</p>\n\n<pre><code># I store the comment here \nc = Comment(content = content, submitter = submitter, group_id=int(group_id), user_id = user_id)\nc.put()\n# Right after I store the comment I refresh the cache\ncomment_cache(int(group_id), True)\n</code></pre>\n\n<p>Often the newest comment is not in the cache.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13148512,"title":"Appengine SDK 1.7.3 not detecting updated files","body":"<p>I just updated to SDK 1.7.3 running on Linux. At the same time I switched to the SQLite datastore stub, suggested by the depreciation message.</p>\n\n<p>After this, edits to source files are not always detected, and I have to stop and restart the SDK after updating, probably one time in ten. Is anyone else seeing this? Any ideas on how to prevent it?</p>\n\n<p>UPDATE: Changes to <em>python</em> source files are not being detected. I haven't made any modifications to yaml files, and I believe that jinja2 template file modifications are being detected properly.</p>\n\n<p>UPDATE: I added some logging to the dev appserver and found that the file I'm editing is not being monitored. Continuing to trace what is happening.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":169,"score":0,"question_id":8544501,"title":"Logging Events in Application in Google App engine when implementing application in Java","body":"<p>I need to log events in the logs of administrative console of Google App Engine. Here <a href=\"http://code.google.com/appengine/articles/logging.html\" rel=\"nofollow\">http://code.google.com/appengine/articles/logging.html</a> its have been said about python. I have tried to save logs using</p>\n\n<pre><code>import java.util.logging.Logger;\n....\npublic class ... {\n...\nLog.info(\"ivisdddd\");\n}\n</code></pre>\n\n<p>but its giving error (Error for /Visd java.lang.NoClassDefFoundError: org/mortbay/log/Log at...). Please tell how to log in the GAE from Java application.</p>\n"},{"tags":["python","html","google-app-engine","checkbox","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13242412,"title":"How to Take Checkboxes in Python","body":"<p>I am trying to use checkboxes in my HTML, return these checkboxes to my python backend, and then increment three counters if the box is clicked.</p>\n\n<p>Right now my HTML is as follows and works fine:</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"entertaining\"&gt;Entertaining\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"informative\"&gt;Informative\n    &lt;input type=\"checkbox inline\" name=\"adjective\" value=\"exceptional\"&gt;Exceptional\n&lt;/form&gt;\n</code></pre>\n\n<p>and then on my python backend I have the following:</p>\n\n<pre><code>def post(self):\n    adjective = self.request.get('adjective ')\n\n    if adjective :\n        #somehow tell if the entertaining box was checked\n        #increment entertaining counter\n        #do the same for the others\n</code></pre>\n"},{"tags":["java","google-app-engine","blobstore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":354,"score":0,"question_id":2643744,"title":"cant print the data of the uploaded blob","body":"<pre><code>            int start=0,flag=1;\n            long size=blobInfo.getSize(),fetched=0,fetch;\n            byte temp[] = null;\n\n            while(fetched&lt;size){\n               if(size-fetched&gt;MAX_BLOB_FETCH_SIZE)\n                    fetch=MAX_BLOB_FETCH_SIZE;\n               else\n                    fetch=size-fetched;\n\n               temp=blobstoreService.fetchData(blobKey,fetched,fetch );\n\n               fetched+=fetch;\n               out.println(temp);\n        }\n</code></pre>\n\n<p>i tried to print the data of the uploaded text file using the above code but it doesn't seem to be working .</p>\n"},{"tags":["google-app-engine","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13203988,"title":"Unsure on how to solve a \"termsOfServiceNotAccepted\" Error","body":"<p><strong>Background</strong>:\nSo I'm a novice to the whole app engine thing: I have made an app on google app engine that on the main page accepts user input and then sends the information to a handler that then uses the Big Query API to run a synchronous query with some tables I have uploaded to Big Query. The handler then sends back the results of the query as a json.</p>\n\n<p><strong>Problem</strong>:\n In deployment it works mostly except sometimes a user can often run into this error while trying to make the synchronous query: </p>\n\n<pre><code>Error in runSyncQuery:\n\n{\n \"error\": {\n  \"errors\": [\n {\n\"domain\": \"global\",\n\"reason\": \"termsOfServiceNotAccepted\",\n\"message\": \"BigQuery Terms of Service have not been accepted\"\n }\n  ],\n \"code\": 403,\n \"message\": \"BigQuery Terms of Service have not been accepted\"\n }\n}\n</code></pre>\n\n<p>After doing some searching I com across this:\n<a href=\"https://groups.google.com/forum/#!msg/bigquery-announce/l0kwVNpQX5A/ct0MglMmYMwJ\" rel=\"nofollow\">https://groups.google.com/forum/#!msg/bigquery-announce/l0kwVNpQX5A/ct0MglMmYMwJ</a></p>\n\n<blockquote>\n  <p>If you make API calls that are authenticated as an end user, then API calls will soon return errors when the end user has not accepted the updated Terms of Service.  Apps built against the BigQuery API should ideally look for those errors and direct the user to the Google APIs Console to accept the new terms.  </p>\n</blockquote>\n\n<p>Except I dont really understand how to do this. </p>\n\n<p>Also all the potential user accounts that I have tested my app with have access to a specific project that has Big Query API enabled, and can use the API so why does this pop up?</p>\n\n<p>Also there are times when a specific account does not run into this problem. For instance if I keep refreshing and retrying to use the app eventually it will not have this problem and work. But then the next time this error will resurface again.\n I don't understand how a user can have accepted the terms of service at one point of time and then not another at some point in the future?</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13240006,"title":"how to run gwt gae app on every browser?","body":"<p>how is it possible to run a gwt app on all browsers?</p>\n\n<p>when i put in my app_name.gwt.xml</p>\n\n<pre><code>&lt;set-property name=\"user.agent\" value=\"gecko1_8\" /&gt;  \n</code></pre>\n\n<p>the app runs only on firefox</p>\n\n<p>if i put </p>\n\n<pre><code>&lt;set-property name=\"user.agent\" value=\"safari\" /&gt;  \n</code></pre>\n\n<p>it runs on google chrome.</p>\n\n<p>if i put </p>\n\n<pre><code>&lt;set-property name=\"user.agent\" value=\"safari\" /&gt;\n&lt;set-property name=\"user.agent\" value=\"gecko1_8\" /&gt;\n</code></pre>\n\n<p>he takes the last value so the app runs only on firefox.</p>\n\n<p>i have tried things like this</p>\n\n<pre><code>&lt;set-property name=\"user.agent\" value=\"gecko1_8, safari\" /&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code> &lt;set-property name=\"user.agent\" value=\"safari\" value=\"gecko1_8\"/&gt; \n</code></pre>\n\n<p>but nothing works.\nwhat to do that the gwt app runs on every browser?</p>\n"},{"tags":["google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13233480,"title":"Google App Engine reset memcache statistics","body":"<p>I've flushed memcache using flush_all() and by hitting the Flush Cache button in my deployed app Memcache Viewer, however the statistics are not resetting. Is there anyway to reset the statistics?</p>\n\n<p><img src=\"http://i.stack.imgur.com/iWCBt.png\" alt=\"enter image description here\"></p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":61,"score":4,"question_id":13234094,"title":"Why does calling get() on memcache increase item count in Google App Engine?","body":"<p>I'm looking at the Memcache Viewer in my admin console on my deployed Google App Engine NDB app. For testing, I'm using the remote api. I'm doing something very simple: <code>memcache.get('somekey')</code>. For some reason, everytime I call this line and hit refresh on my statistics, the item count goes up by 2. This happens whether or not the key exists in memcache.</p>\n\n<p>Any ideas why this could happen? Is this normal?</p>\n"},{"tags":["java","google-app-engine","sockets","thrift"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13238961,"title":"Is it available to use Apache Thrift on Google App Engine?","body":"<p>Is it available to use <a href=\"http://thrift.apache.org/\" rel=\"nofollow\">Apache Thrift</a> on Google App Engine?\nSince GAE does not support working with sockets what transport can be used?\nIs there any transport implementation to use GAE <a href=\"https://developers.google.com/appengine/docs/java/channel/\" rel=\"nofollow\">Channel API</a> as transport layer?</p>\n\n<p>PS. Server is supposed to be Java-based (not Python) if it makes sense.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13224236,"title":"Task testing in Google App Engine force synchronous task execution in SDK or wait on all tasks execution?","body":"<p>Do you know how to force GAE SDK to execute task synchronously for unit test purpose to check result of tasks?</p>\n\n<p>Do you know how to wait on all task execution in queue in unit test to check results of tasks?</p>\n\n<p>Default asynchronous execution of task not allows simple testing so is not suitable for example to check counters after update with use task queue.</p>\n\n<p>Consider testing such simple code (checking results after finishing test).</p>\n\n<pre><code>  payload = pickle.dumps(args, protocol = pickle.HIGHEST_PROTOCOL)\n  task = taskqueue.Task(url = TASK_ADD_ORDER_REVIEW_COUNTER,\n                        payload = payload)\n  task.add(queue_name = COUNTERS_QUEQUE)\n</code></pre>\n\n<p>It is possible to skip task.add and just call directly code from TASK_ADD_ORDER_REVIEW_COUNTER but it is very ugly workaround it should be simpler I think.</p>\n"},{"tags":["python","google-app-engine","oauth","google-bigquery","google-api-python-client"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":73,"score":4,"question_id":13212115,"title":"from oauth2client.appengine import oauth2decorator_from_clientsecrets ImportError: No module named appengine","body":"<p>I' getting the following error while trying to run my application</p>\n\n<pre><code>from oauth2client.appengine import oauth2decorator_from_clientsecrets\nImportError: No module named appengine\n</code></pre>\n\n<p>Here is my main.py code</p>\n\n<pre><code>import httplib2\nimport os\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__), 'client_secrets.json')\n\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n'https://www.googleapis.com/auth/bigquery')\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n       self.response.out.write(\"Hello Dashboard!\\n\")\n\napplication = webapp.WSGIApplication([\n     ('/', MainHandler),\n     ], debug=True)\n\ndef main():\n    run_wsgi_app(application)\n\nif __name__ == '__main__':\n   main()\n</code></pre>\n\n<p>And here is my app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: false\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.app\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13226727,"title":"How do i unit test in google app engine?","body":"<p>After searching and even reading the documentation on app engine unit testing am still unable to make it work on my project.</p>\n\n<p>The task is simple, I have my models and request handlers in main.py.\nI have installed <a href=\"https://github.com/jgeewax/gaetestbed/\" rel=\"nofollow\">gaetestbed</a> and included it on my test class.</p>\n\n<p>My tests class looks like this;</p>\n\n<pre><code>from main import CloudDocument   # My model\nclass TestCloudDocument(DataStoreTestCase, unittest.TestCase):\n    def test_find_document(self):\n        self.assertEqual(CloudDocument.all().count(), 0)\n</code></pre>\n\n<p>When i run the above test it returns True yet my datastore has records, i would have expected this test to fail.</p>\n\n<p>It seems like the test class does not see the datastore of my application. How can i make it\nsee and access my local datastore?</p>\n\n<p>Gath</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13237878,"title":"\"No ssl package found.\" warning on GAE production","body":"<p>I know this question doesn't have much info, I'm hoping someone's seen something similar before.</p>\n\n<p>I get the following warnings on my GAE PRODUCTION log:</p>\n\n<pre><code>W 2012-11-04 12:23:11.529 /base/python27_runtime/python27_lib/versions/1/lib/cacerts/urlfetch_cacerts.txt missing; without this urlfetch will not be able to validate SSL certificates\n\nW 2012-11-04 12:23:11.529 No ssl package found. urlfetch will not be able to validate SSL certificates.\n</code></pre>\n\n<p>These seem to be issued from the python2.7 runtime rather than any of my code or the libraries I'm using.</p>\n\n<p>I don't see these warnings on my local dev_appserver</p>\n\n<p>Anyone know what I'm missing?</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13237042,"title":"om.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files","body":"<p>I am trying to deploy a sample app in the Google app engine.\nIt is working fine locally but i am getting this error while deploying in app engine.\nBelow is the log. Any help is appreciated....</p>\n\n<pre><code>Preparing to deploy:\n    Created staging directory at: '/tmp/appcfg2293558534073477148.tmp'\n    Scanning for jsp files.\n    Compiling jsp files.\ncom.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files.\nNov 5, 2012 8:43:06 AM org.apache.jasper.compiler.AntCompiler generateClass\nSEVERE: Error compiling file: /tmp/appcfg2293558534073477148.tmp/WEB-    INF/classes/org/apache/jsp/pages/list_jsp.java     [javac] Compiling 1 source file\n    [javac] ----------\n    [javac] 1. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-    INF/classes/org/apache/jsp/pages/list_jsp.java (at line 7)\n    [javac]     public final class list_jsp extends org.apache.jasper.runtime.HttpJspBase\n    [javac]                        ^^^^^^^^\n    [javac] The serializable class list_jsp does not declare a static final serialVersionUID field of type long\n    [javac] ----------\n    [javac] 2. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 14)\n    [javac]     private javax.el.ExpressionFactory _el_expressionfactory;\n    [javac]                                        ^^^^^^^^^^^^^^^^^^^^^\n    [javac] The field list_jsp._el_expressionfactory is never read locally\n    [javac] ----------\n    [javac] 3. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 15)\n    [javac]     private org.apache.AnnotationProcessor _jsp_annotationprocessor;\n    [javac]                                            ^^^^^^^^^^^^^^^^^^^^^^^^\n    [javac] The field list_jsp._jsp_annotationprocessor is never read locally\n    [javac] ----------\n    [javac] 4. ERROR in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 17)\n    [javac]     public Object getDependants() {\n    [javac]                   ^^^^^^^^^^^^^^^\n    [javac] The return type is incompatible with JspSourceDependent.getDependants()\n    [javac] ----------\n    [javac] 5. ERROR in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 22)\n    [javac]     _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();\n    [javac]                                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    [javac] The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory\n    [javac] ----------\n    [javac] 6. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 33)\n    [javac]     HttpSession session = null;\n    [javac]                 ^^^^^^^\n    [javac] The local variable session is never read\n    [javac] ----------\n    [javac] 7. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 34)\n    [javac]     ServletContext application = null;\n    [javac]                    ^^^^^^^^^^^\n    [javac] The local variable application is never read\n    [javac] ----------\n    [javac] 8. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 35)\n    [javac]     ServletConfig config = null;\n    [javac]                   ^^^^^^\n    [javac] The local variable config is never read\n    [javac] ----------\n    [javac] 9. WARNING in /tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java (at line 37)\n    [javac]     Object page = this;\n    [javac]            ^^^^\n    [javac] The local variable page is never read\n    [javac] ----------\n    [javac] 9 problems (2 errors, 7 warnings)\n\nNov 5, 2012 8:43:06 AM org.apache.jasper.compiler.AntCompiler generateClass\nSEVERE: Javac exception\nCompile failed; see the compiler error output for details.\n    at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:933)\nat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:757)\n    at org.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:226)\nat org.apache.jasper.compiler.Compiler.compile(Compiler.java:349)\n    at org.apache.jasper.JspC.processFile(JspC.java:1192)\n    at org.apache.jasper.JspC.execute(JspC.java:1341)\n    at com.google.appengine.tools.development.LocalJspC.main(LocalJspC.java:18)\nNov 5, 2012 8:43:06 AM org.apache.jasper.compiler.AntCompiler generateClass\nSEVERE: Environment: Compile: javaFileName=/tmp/appcfg2293558534073477148.tmp/WEB-INF/classes/org/apache/jsp/pages/list_jsp.java\nclasspath=/rhel5pdi/home/testuser/Desktop/softwares/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.3/appengine-java-sd\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13206438,"title":"Google App Engine Update Issue","body":"<p>I am working on an application (python based), which is deployed on GAE, it was working fine till last day, but I can't seem to update any code on app engine since this morning, it is complaining about some sort of issue with password, I have double checked and email id and password are correct.</p>\n\n<p>here is the stack trace which I receive:</p>\n\n<pre>10:47 PM Cloning 706 static files.\n2012-11-03 22:47:07,913 WARNING appengine_rpc.py:542 ssl module not found.\nWithout the ssl module, the identity of the remote host cannot be verified, and\nconnections may NOT be secure. To fix this, please install the ssl module from\nhttp://pypi.python.org/pypi/ssl .\nTo learn more, see https://developers.google.com/appengine/kb/general#rpcssl \nPassword for user@gmail.com: 2012-11-03 22:47:07,913 ERROR appcfg.py:2266 An unexpected error occurred. Aborting. \nTraceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2208, in DoUpload\n    missing_files = self.Begin()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1934, in Begin\n    CloneFiles('/api/appversion/cloneblobs', blobs_to_clone, 'static')\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1929, in CloneFiles\n    result = self.Send(url, payload=BuildClonePostBody(chunk))\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1841, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 403, in Send\n    self._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 543, in _Authenticate\n    super(HttpRpcServer, self)._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 293, in _Authenticate\n    credentials = self.auth_function()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2758, in GetUserCredentials\n    password = self.raw_input_fn(password_prompt)\nEOFError: EOF when reading a line\n10:47 PM Rolling back the update.\n2012-11-03 22:47:08,818 WARNING appengine_rpc.py:542 ssl module not found.\nWithout the ssl module, the identity of the remote host cannot be verified, and\nconnections may NOT be secure. To fix this, please install the ssl module from\nhttp://pypi.python.org/pypi/ssl .\nTo learn more, see https://developers.google.com/appengine/kb/general#rpcssl \nPassword for user@gmail.com: Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 171, in \n    run_file(__file__, globals())\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 167, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4322, in \n    main(sys.argv)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4313, in main\n    result = AppCfgApp(argv).Run()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2599, in Run\n    self.action(self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4048, in __call__\n    return method()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3065, in Update\n    self.UpdateVersion(rpcserver, self.basepath, appyaml)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3047, in UpdateVersion\n    lambda path: self.opener(os.path.join(basepath, path), 'rb'))\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2267, in DoUpload\n    self.Rollback()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2150, in Rollback\n    self.Send('/api/appversion/rollback')\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1841, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 403, in Send\n    self._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 543, in _Authenticate\n    super(HttpRpcServer, self)._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 293, in _Authenticate\n    credentials = self.auth_function()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2758, in GetUserCredentials\n    password = self.raw_input_fn(password_prompt)\nEOFError: EOF when reading a line\n2012-11-03 22:47:09 (Process exited with code 1)\n\nYou can close this window now.</pre>\n\n<p>Any Help will be appreciated.</p>\n\n<p>P.S, I have tried from command line as well as Google app engine launcher.</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","google-apps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13234820,"title":"Subdomain in Google App Engine","body":"<p>We already have domain and webhost. Let say example.com. Included on the webhost package are our email accounts. So we have user1@example.com, user2@example.com, etc.</p>\n\n<p>I want to link subdomain.example.com to ourapp.appspot.com. In adding domain in appengine dashboard, it seems it require to register for Google Apps (https://www.google.com/a/cpanel/standard/new3). </p>\n\n<p>Will this be fine? Note that we already have email accounts for our example.com.</p>\n\n<p>Thanks. Im confused with google apps.</p>\n"},{"tags":["ios","google-app-engine","emoji","utf8mb4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13234651,"title":"Google App Engine support for utf8mb4","body":"<p>According to this <a href=\"http://blog.manbolo.com/2012/10/29/supporting-new-emojis-on-ios-6\" rel=\"nofollow\">article</a>, the right way to support emoji characters from iOS4 through iOS6 is to use utf8mb4 encoding. Does App Engine's datastore support utf8mb4? Currently I use the Java version of App Engine as the back end in my iOS app. </p>\n"},{"tags":["python","google-app-engine","logging"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13206295,"title":"logging.fileConfig() acting weird on Google app engine","body":"<p>I have a simple webapp2 app on Google app engine. Here is the code</p>\n\n<pre><code># log.py.........................................................................\nlogging_defaults = {\n    'loglevel': 'DEBUG',\n}\nlogging_config = \"\"\"\\\n[loggers]\nkeys=root\n\n[handlers]\nkeys=stderr\n\n[formatters]\nkeys=default\n\n[logger_root]\nlevel=%(loglevel)s\nhandlers=stderr\n\n[handler_stderr]\nclass=StreamHandler\nlevel=NOTSET\nformatter=default\nargs=(sys.stderr, )\n\n[formatter_default]\nformat=%(asctime)s %(levelname)s %(name)s:%(lineno)d %(message)s\ndatefmt=\n\"\"\"\n\nimport logging\nimport logging.config\nimport logging.handlers\nfrom cStringIO import StringIO\nconfig_file = StringIO(logging_config)\nlogging.config.fileConfig(config_file, logging_defaults)\nl = logging.getLogger(__name__)\n\n# helloworld.py......................................................\n\nimport webapp2\nfrom log import l\n\nclass MainPage(webapp2.RequestHandler):\n  def get(self):\n      l.debug('debug message')\n      l.info('info message')\n      l.warn('warn message')\n      l.error('error message')\n      l.critical('critical message')\n      self.response.headers['Content-Type'] = 'text/plain'\n      self.response.write(\"hello me!! It's me here ;)\")\n\napp = webapp2.WSGIApplication([('/', MainPage)],\n                              debug=True)\n</code></pre>\n\n<p>And here is the screen-shot of the logs produced in app engine dashboard</p>\n\n<p><img src=\"http://i.stack.imgur.com/4SAnh.png\" alt=\"log-screenshot\"></p>\n\n<p>As you can see the logs show up fine, but every log is marked with 'E' which represents error even if it's not an error. And as far as I can tell this happens everytime I use</p>\n\n<pre><code>logging.config.fileConfig()\n</code></pre>\n\n<p>Is there a fix to this problem ?</p>\n\n<p>PS: I know there are other methods to configure logging. But I am asking for fileConfig() only.</p>\n\n<p>UPDATE: I tried using loading from a real file with fileConfig() and using dictConfig() but each time the problem persists.</p>\n"},{"tags":["google-app-engine","encryption","passwords"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":62,"score":1,"question_id":13227509,"title":"Pasword encryption and decryption in Google app engine","body":"<p>How can i encrypt and decrypt pt password in Google app engine without using third party libraries ? Any example ?</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13224837,"title":"GoogleAppEngine Datastore: returning keys to the user","body":"<p>What is the best practice regarding returning keys of stored entities to the user?</p>\n\n<p>In my case, I would like to have the user create entities and give it back to him their keys so that he is able to handle them in future.</p>\n\n<p>For instance, my user should be able to create a <code>group</code>, providing group parameters. My system should return to him an automatically generated key.</p>\n\n<p>I am now using</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Key key;\n</code></pre>\n\n<p>Is that the best practice?</p>\n\n<p>What I should return to the user?\nI saw that there is a <code>KeyFactory.keyToString</code> method that should return a string representation of the key, but it seems too informative to me.</p>\n\n<p>A numeric identifier or a string would be sufficient for my purpose. I just want them to be auto-generated.</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13224338,"title":"Force immediate availability of item in Memcache","body":"<p>Using Google App Engine NDB, most aspects of memcache are handled automatically. However, an item does not become available in Memcache until it is read at least once. So first the item must be read using get, and then memcache stores it. Put() removes it from memcache.</p>\n\n<p>However, I need something to be available in memcache immediately on put. I'm new to memcache, so I'm not entirely sure how everything works behind the scenes, but there are two ways I can do this:</p>\n\n<ol>\n<li>Immediately after a put() of an entity, do a get(), just so that it becomes available in memcache.</li>\n<li>Immediately after a put(), manually set the item in memcache. This would make sense, but I'm not sure if there are any gotachas with this approach. If I manually set something in memcache, will this interfere with the rest of NDB's automatic memcache handling?\n<strong>Also</strong>, what key should I use when setting something in memcache manually so that upon a get, the automatic memcache handler knows what to look for?</li>\n</ol>\n"},{"tags":["python","google-app-engine","task-queue","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13201532,"title":"How can I get the Python Task Queue and Channel API to send messages and respond to requests during a long-running process?","body":"<p>This is a probably basic question, but I have not been able to find the answer.  </p>\n\n<p>I have a long-running process that produces data every few minutes that I would like the client to receive as soon as it is ready.  Currently I have the long-running process in a Task Queue, and it adds channel messages to another Task Queue from within a for loop.  The client successfully receives the channel messages and downloads the data using a get request; however, the messages are being sent from the task queue after the long-running process finishes (after about 10 minutes) instead of when the messages are added to the task queue.<br>\nHow can I have the messages in the task queue sent immediately?  Do I need to have the for loop broken into several tasks?  The for loop creates a number of dictionaries I think I would need to post to the data store and then retrieve for the next iteration (does not seem like an ideal solution), unless there is an easier way to return data from a task.</p>\n\n<p>When I do not add the messages to a Task Queue and send the messages directly in the for loop, the server does not seem to respond to the client's get request for the data (possibly due to the for loop of the long-running process blocking the response?)</p>\n\n<p>Here is a simplified version of my server code:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom google.appengine.api import channel\nfrom google.appengine.api import taskqueue\nfrom google.appengine.api import rdbms\n\nclass MainPage(webapp2.RequestHandler):\ndef get(self):\n## This opens the GWT app    \n\nclass Service_handler(webapp2.RequestHandler):\ndef get(self, parameters):\n## This is called by the GWT app and generates the data to be \n## sent to the client. \n    #This adds the long-process to a task queue\n    taskqueue.Task(url='/longprocess/', params = {'json_request': json_request}).add(queue_name='longprocess-queue')\n\nclass longprocess_handler(webapp2.RequestHandler):\ndef post(self):\n   #This has a for loop that recursively uses data in dictionaries to \n   #produce kml files every few minutes\n   for j in range(0, Time):\n      # Process data\n      # Send message to client using a task queue to send the message.\n      taskqueue.Task(url='/send/', params).add(queue_name=send_queue_name)\n\nclass send_handler(webapp2.RequestHandler):\ndef post(self):\n    # This sends the message to the client\n    # This is currently not happening until the long-process finishes,\n    # but I would like it to occur immediately.\n\n\nclass kml_handler(webapp2.RequestHandler):\ndef get(self, client_id):\n##  When the client receives the message, it picks up the data here.\n\napp = webapp2.WSGIApplication([\n                        webapp2.Route(r'/', handler=MainPage),\n                        webapp2.Route(r'/Service/', handler=Service_handler),\n                        webapp2.Route(r'/_ah/channel/&lt;connected&gt;/', handler = connection_handler),\n                        webapp2.Route(r'/longprocess/', handler = longprocess_handler),\n                        webapp2.Route(r'/kml/&lt;client_id&gt;', handler = kml_handler),\n                        webapp2.Route(r'/send/', handler = send_handler)\n                        ],\n                      debug=True)\n</code></pre>\n\n<p>Do I need to break up the long-process into tasks that send and retrieve results from the data store in order to have the send_handler execute immediately, or am I missing something?  Thanks</p>\n"},{"tags":["google-app-engine","http-post","httprequest","urlfetch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13216792,"title":"using HTTPRequest setPayload in google app engine","body":"<p>I am trying to do HTTPRequest Post via Google App Engine.\nThis is what I have so far</p>\n\n<pre><code>URL url = new URL(\"http://myurl.com/myfile.php\");\nHTTPRequest request = new HTTPRequest(url, HTTPMethod.POST);\nrequest.setPayload(########);\nHTTPResponse response = URLFetchServiceFactory.getURLFetchService().fetch(request);\n</code></pre>\n\n<p>Here I need to put some paired values (ie. \"email\",\"hi@example.com\" etc)\nSince setPayload accept byte[] I have no idea how to convert my paired values \ninto byte.</p>\n\n<p>I have searched other posts but I am very stuck.</p>\n\n<p>EDIT:\nI have changed to this but it is still not working</p>\n\n<pre><code>byte[] data = (\"EMAIL=bo0@gmail.com&amp;amp;TITLE=evolution&amp;amp;COMMENT=comments&amp;amp;PRICE=5000;\").getBytes();\ntry {\nURL url = new URL(\"http://www.bo.x10.mx/nPost.php\");\nHTTPRequest request = new HTTPRequest(url, HTTPMethod.POST);\nrequest.setPayload(data);\nHTTPResponse response = URLFetchServiceFactory.getURLFetchService().fetch(request);\n</code></pre>\n\n<p>This is what I have on php website.</p>\n\n<pre><code>&lt;?php\ninclude \"path/conf.php\"; //logging into database works\n$tb_name = 'Post';\n$EMAIL=$_POST['EMAIL'];\n$TITLE =$_POST['TITLE'];\n$COMMENT =$_POST['COMMENT'];\n$PRICE =$_POST['PRICE'];\nif(!isset($EMAIL) || !isset($TITLE ) || !isset($PRICE )|| !isset($COMMENT)){\nheader('HTTP/1.0 412 Precondition Failed', true, 412);\ndie('Bad data');\n}\n$sql=\"INSERT INTO $tb_name(EMAIL, TITLE, COMMENT, PRICE) VALUES ('$EMAIL', '$TITLE ', '$COMMENT ', '$PRICE ')\";\n$result=mysql_query($sql);\nif($result==TRUE){\necho \"successfully inserted into table!\";}\nelse{\necho \"error in inserting into table!\";\nheader('HTTP/1.0 500 Internal Server Error', true, 500);}\nob_end_flush();\nexit();\n?&gt;\n</code></pre>\n\n<p>EDIT2: This is a working code</p>\n\n<pre><code>try{\nbyte[] data = (\"EMAIL=bo0@gmail.com&amp;TITLE=evolution&amp;COMMENT=comments&amp;PRICE=5000\").getBytes(\"UTF-8\");\nURL url = new URL(\"http://www.box.com/nost.php\");\nHTTPRequest request = new HTTPRequest(url, HTTPMethod.POST);\nrequest.setPayload(data);\nHTTPResponse response = URLFetchServiceFactory.getURLFetchService().fetch(request);\n}\n</code></pre>\n\n<p>My database string field is of type UTF-8</p>\n"},{"tags":["java","google-app-engine","design","gae-datastore","jdo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13193119,"title":"GAE/J Datestore OneToMany design issue","body":"<p>I have two classes, <code>User</code> and <code>Topic</code> which are building a OnetoMany relationship. Now I have written a Test where I save a new <code>Topic</code> object, check if it's saved and delete it afterwards. </p>\n\n<p>The problem is if I don't detach the object in the find-method I get this exception</p>\n\n<pre><code>Object with id \"xxx\" is managed by a different Object Manager\n</code></pre>\n\n<p>If I detach the object the find-method returns a <code>Topic</code> where the <code>author</code> property is null. I can't figure out how to design my model (OneToMany) and transactions to create a simple CRUD dao.</p>\n\n<p>Classes</p>\n\n<p><strong>Topic</strong></p>\n\n<pre><code>@PersistenceCapable\npublic class Topic implements Serializable {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n    @Persistent\n    private User author;\n    private String title;\n</code></pre>\n\n<p><strong>User</strong></p>\n\n<pre><code>@PersistenceCapable\npublic class User implements Serializable {\n\n    @PrimaryKey\n    private String username;\n    private String mail;\n    @Persistent(mappedBy = \"author\")\n    private List&lt;Topic&gt; topics;\n</code></pre>\n\n<p><strong>find-method</strong></p>\n\n<pre><code>@Override\npublic Topic find(Key key) {\n    PersistenceManager pm = PersistenceManagerService.get()\n            .getPersistenceManager();\n    Transaction tx = pm.currentTransaction();\n    Topic t = null;\n    try {\n        tx.begin();\n        Topic to = (Topic) pm.getObjectById(Topic.class, key);\n        t = pm.detachCopy(to);\n        tx.commit();\n    } finally {\n        if (tx.isActive()) {\n            tx.rollback();\n        }\n    }\n    return t;\n}\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13225540,"title":"Is there a way to atomically run a function as a transaction within google app engine when the function modifies more than five entity groups?","body":"<p>I'm developing on google app engine.  The focus of this question is a python function that modifies hundreds of entity groups.  The function takes one string argument.  I want to execute this function as a transaction because there are instances right now when the same function with the same string argument are simultaneously run, resulting in unexpected results.  I want the function to execute in parallel if the string arguments are different, but not if the string arguments are the same, they should be run serially.</p>\n\n<p>Is there a way to run a transaction on a function that modifies so many entity groups?  So far, the only solution I can think of is flipping a database flag for each unique string parameter, and checking for the flag (deferring execution if the flag is set as True).  Is there a more elegant solution?</p>\n"},{"tags":["python","google-app-engine","http-headers","craigslist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13226598,"title":"How to remove the Google App Engine default header when fetching a URL?","body":"<p>I'm trying to build a small app on GAE to help me manage the craigslist listing I'm interested in. I want to fetch some data from these listings from my app, but every time I do so I get a 404 from craigslist. </p>\n\n<p>After some investigation it turns out my code is not the culprit: craigslist looks at the HTTP headers and systematically returns a 404 when it finds \"AppEngine-Google\" in the User-Agent header!</p>\n\n<p>You can see that with curl:</p>\n\n<pre><code>curl http://sfbay.craigslist.org/\n</code></pre>\n\n<p>works (returns the page).</p>\n\n<pre><code>curl http://sfbay.craigslist.org/ --header \"User-Agent: AppEngine-Google\"\n</code></pre>\n\n<p>doesn't give anything.</p>\n\n<p>Any idea how I could remove this header which is set by default by GAE? Or another idea to get around the issue?</p>\n"},{"tags":["python","google-app-engine","google","oauth-2.0","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13221978,"title":"Getting Error: redirect_uri_mismatch The redirect URI in the request: http://localhost:8080/oauth2callback did not match a registered redirect URI","body":"<p>I'm getting this error while trying to run my application...</p>\n\n<pre><code>The redirect URI in the request: http://localhost:8080/oauth2callback did not match a registered redirect URI\n</code></pre>\n\n<p>In google API console i have registered my redirect urls </p>\n\n<pre><code>Redirect URIs:  http://localhost:8080/\n</code></pre>\n\n<p>And in the client_secrets.json also i'm using the same as redirect url\nI'm following this tutorial\n<a href=\"https://developers.google.com/bigquery/articles/dashboard#addoauth2\" rel=\"nofollow\">https://developers.google.com/bigquery/articles/dashboard#addoauth2</a></p>\n\n<p>Edit:</p>\n\n<p>I just made some changes to the existing code</p>\n\n<p>Now the</p>\n\n<pre><code>redirect URIs in API console is     http://localhost:8080/oauth2callback\n</code></pre>\n\n<p>And here is  my app.yaml</p>\n\n<pre><code>application: hellomydashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>Now though its not showing any error but it displays a blank page.</p>\n\n<p>Here is my main.py</p>\n\n<pre><code>from bqclient import BigQueryClient\nimport httplib2\nimport os\nfrom google.appengine.api import memcache\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom oauth2client.appengine import oauth2decorator_from_clientsecrets\n\n# Project ID for project to receive bill.\n# During limited availability preview, there is no bill.\n# The value should be your quoted Client ID number \n# which you previously recorded from code.google.com/apis/console\n\n# REPLACE THIS NUMBER WITH YOUR CLIENT ID\nPROJECT_ID = \"My Project ID\"  #i just replaced dat\nDATASET = \"samples\"\nTABLE = \"natality\"\n\n# CLIENT_SECRETS, name of a file containing the OAuth 2.0\n# information for this application.\nCLIENT_SECRETS = os.path.join(os.path.dirname(__file__),\n    'client_secrets.json')\n\nhttp = httplib2.Http(memcache)\ndecorator = oauth2decorator_from_clientsecrets(CLIENT_SECRETS,\n    'https://www.googleapis.com/auth/bigquery')\n\nbq = BigQueryClient(http, decorator)\n\nclass MainHandler(webapp.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n        self.response.out.write(\"Hello Dashboard!\\n\")\n\n\napplication = webapp.WSGIApplication([\n   ('/', MainHandler),\n], debug=True)\n\ndef main():\n   run_wsgi_app(application)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>So according to main.py if everything is fine it must print Hello Dashboard but it isn't</p>\n"},{"tags":["python","google-app-engine","oauth-2.0","yaml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13227212,"title":"What does this thing in app.yaml mean","body":"<p>Here is app.yaml code</p>\n\n<pre><code>application: hellodashboard\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>I wanted to know what does</p>\n\n<pre><code> - url: /oauth2callback\n  script: oauth2client/appengine.py\n</code></pre>\n\n<p>mean?\nI know the second line indicate that there is a script called appengine.py in oauth2client directory.But what does <strong>url:/oauth2callback</strong> indicate.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13224341,"title":"GAE Returning 404 after period of no traffic","body":"<p>I'm new to GAE and python (also my first post on Stack Overflow). I have a basic site up on GAE. I'm using Python 2.7. There is little traffic to it, since I am the only one accessing it at this point. </p>\n\n<p>The problem is that whenever I hit the main url after a period of inactivity (longer then 10-15 minutes), I get a 404 from my ISP (Rogers). After about 15 seconds, if I retry the main url, the page loads.</p>\n\n<p>I thought it might have been because the instances had to spin up. So I upgraded have a paid GAE account, and set it up so that there is a minimum of one instance running at all times. The GAE dashboard shows at lease one instance running for the past day. But the problem persists.</p>\n\n<p>Here is my app.yaml</p>\n\n<pre><code>application: resumesite\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: yes\n\nhandlers:\n  - url: /static\n    static_dir: static\n\n  - url: /.*\n    script: main.app\n\ninbound_services:\n  - warmup\n\nlibraries:\n  - name: jinja2\n    version: latest\n</code></pre>\n\n<p>Any help would be appreciated</p>\n"},{"tags":["google-app-engine","datanucleus","maven-gae-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13224524,"title":"DataNucleus libraries and maven-gae-plugin","body":"<p>I'm using maven-gae-plugin to manage a Google AppEngine project but I don't know how to include the libraries required to use JPA.</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/java/datastore/jpa/overview\" rel=\"nofollow\">Google's documentation</a> says:</p>\n\n<blockquote>\n  <p>The classpath must contain the JARs 'datanucleus-core-*.jar', 'datanucleus-jpa-*', 'datanucleus-enhancer-*.jar', 'asm-*.jar', and 'geronimo-jpa-*.jar' (where * is the appropriate version number of each JAR) from the 'appengine-java-sdk/lib/tools/' directory, as well as all of your data classes.</p>\n</blockquote>\n\n<p>How can I tell the plugin to put all the jars in the classpath?</p>\n\n<p>So far I just edited the <code>pom.xml</code> file setting <code>gae.version</code> to <code>1.7.3</code> (Leaving <code>datanucleus.version</code> to <code>1.1.5</code> and I run <code>mvn gae:unpack</code> but I cannot get it to work.</p>\n\n<p>First, I have problems with <code>javax.persistance</code> that is not found. Do I have to add it manually to <code>pom.xml</code>?</p>\n\n<p>If I do it, the development server starts, but I cannot work with the storage: I get the following error:</p>\n\n<blockquote>\n  <p>SEVERE: Found Meta-Data for class com.sharecost.entities.User but this class is not enhanced!! Please enhance the class before running DataNucleus.</p>\n</blockquote>\n"},{"tags":["google-app-engine","xmpp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13224224,"title":"Gtalk OAuth token to connect to Gtalk service","body":"<p>I am implementing a xmpp client (right now only intended for gtalk).</p>\n\n<p>I started with getting an OAuth2 token as described on <a href=\"https://developers.google.com/talk/jep_extensions/oauth\" rel=\"nofollow\">OAuth 2.0 Authorization</a>. I am also looking for some help on how to connect to gtalk servers once I have got the token. I have read through <a href=\"https://developers.google.com/talk/jep_extensions/oauth#3\" rel=\"nofollow\">the example</a> , but not sure how SASL auth will be implemented on GAE.</p>\n\n<p>Next thing, how to make it work like a chat client where real users can chat. I have seen <a href=\"https://developers.google.com/appengine/articles/using_xmpp\" rel=\"nofollow\">examples</a> using which I can make chat bots, and other <a href=\"http://code.google.com/p/xmppwebchat/\" rel=\"nofollow\">examples</a> which require user to enter their username and password to be able to chat.</p>\n\n<p>But my idea is to use Google's authentication for my GAE app, and then have my app behave like a chat client for the real gtalk users. \nPlease point me to the right direction on how to achieve this.</p>\n"},{"tags":["python","google-app-engine","webapp2","country-codes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12906090,"title":"Country name from ISO short code in dictionary, how to deal with non-ascii chars","body":"<p>I'm making a webapp that takes country short code (google app engine get from request header) and I want to get the country name (full name) not just the 2 letter initials.</p>\n\n<p>I tried making a python dictionary but it breaks bkz the names have non-ascii chars (accent marks, etc).. I used the python library \"pycountry\" but I'm not sure how to include that in my google app engine project. unfortunately pycountries output also has accent marks, so i can't just copy their txt values and make a dictionary...</p>\n\n<p>Besides, I just want the country code to name lookup table, no other details...</p>\n\n<p>Here's a copy of the dictionarys i've been trying to make but they have these annoying accent marks...</p>\n\n<p>Thanks for the help in advance</p>\n\n<pre><code>short2long = {\"AF\":\"Afghanistan\",\n\"AX\":\"Aland Islands\",\n\"AL\":\"Albania\",\n\"DZ\":\"Algeria\",\n\"AS\":\"American Samoa\",\n\"AD\":\"Andorra\",\n\"AO\":\"Angola\",\n\"AI\":\"Anguilla\",\n\"AQ\":\"Antarctica\",\n\"AG\":\"Antigua and Barbuda\",\n\"AR\":\"Argentina\",\n\"AM\":\"Armenia\",\n\"AW\":\"Aruba\",\n\"AU\":\"Australia\",\n\"AT\":\"Austria\",\n\"AZ\":\"Azerbaijan\",\n\"BS\":\"Bahamas\",\n\"BH\":\"Bahrain\",\n\"BD\":\"Bangladesh\",\n\"BB\":\"Barbados\",\n\"BY\":\"Belarus\",\n\"BE\":\"Belgium\",\n\"BZ\":\"Belize\",\n\"BJ\":\"Benin\",\n\"BM\":\"Bermuda\",\n\"BT\":\"Bhutan\",\n\"BO\":\"Bolivia, Plurinational State of\",\n\"BQ\":\"Bonaire, Sint Eustatius and Saba\",\n\"BA\":\"Bosnia and Herzegovina\",\n\"BW\":\"Botswana\",\n\"BV\":\"Bouvet Island\",\n\"BR\":\"Brazil\",\n\"IO\":\"British Indian Ocean Territory\",\n\"BN\":\"Brunei Darussalam\",\n\"BG\":\"Bulgaria\",\n\"BF\":\"Burkina Faso\",\n\"BI\":\"Burundi\",\n\"KH\":\"Cambodia\",\n\"CM\":\"Cameroon\",\n\"CA\":\"Canada\",\n\"CV\":\"Cape Verde\",\n\"KY\":\"Cayman Islands\",\n\"CF\":\"Central African Republic\",\n\"TD\":\"Chad\",\n\"CL\":\"Chile\",\n\"CN\":\"China\",\n\"CX\":\"Christmas Island\",\n\"CC\":\"Cocos (Keeling) Islands\",\n\"CO\":\"Colombia\",\n\"KM\":\"Comoros\",\n\"CG\":\"Congo\",\n\"CD\":\"Congo, The Democratic Republic of the\",\n\"CK\":\"Cook Islands\",\n\"CR\":\"Costa Rica\",\n\"CI\":\"Côte d'Ivoire\",\n\"HR\":\"Croatia\",\n\"CU\":\"Cuba\",\n\"CW\":\"Curaçao\",\n\"CY\":\"Cyprus\",\n\"CZ\":\"Czech Republic\",\n\"DK\":\"Denmark\",\n\"DJ\":\"Djibouti\",\n\"DM\":\"Dominica\",\n\"DO\":\"Dominican Republic\",\n\"EC\":\"Ecuador\",\n\"EG\":\"Egypt\",\n\"SV\":\"El Salvador\",\n\"GQ\":\"Equatorial Guinea\",\n\"ER\":\"Eritrea\",\n\"EE\":\"Estonia\",\n\"ET\":\"Ethiopia\",\n\"FK\":\"Falkland Islands (Malvinas)\",\n\"FO\":\"Faroe Islands\",\n\"FJ\":\"Fiji\",\n\"FI\":\"Finland\",\n\"FR\":\"France\",\n\"GF\":\"French Guiana\",\n\"PF\":\"French Polynesia\",\n\"TF\":\"French Southern Territories\",\n\"GA\":\"Gabon\",\n\"GM\":\"Gambia\",\n\"GE\":\"Georgia\",\n\"DE\":\"Germany\",\n\"GH\":\"Ghana\",\n\"GI\":\"Gibraltar\",\n\"GR\":\"Greece\",\n\"GL\":\"Greenland\",\n\"GD\":\"Grenada\",\n\"GP\":\"Guadeloupe\",\n\"GU\":\"Guam\",\n\"GT\":\"Guatemala\",\n\"GG\":\"Guernsey\",\n\"GN\":\"Guinea\",\n\"GW\":\"Guinea-Bissau\",\n\"GY\":\"Guyana\",\n\"HT\":\"Haiti\",\n\"HM\":\"Heard Island and McDonald Islands\",\n\"VA\":\"Holy See (Vatican City State)\",\n\"HN\":\"Honduras\",\n\"HK\":\"Hong Kong\",\n\"HU\":\"Hungary\",\n\"IS\":\"Iceland\",\n\"IN\":\"India\",\n\"ID\":\"Indonesia\",\n\"IR\":\"Iran, Islamic Republic of\",\n\"IQ\":\"Iraq\",\n\"IE\":\"Ireland\",\n\"IM\":\"Isle of Man\",\n\"IL\":\"Israel\",\n\"IT\":\"Italy\",\n\"JM\":\"Jamaica\",\n\"JP\":\"Japan\",\n\"JE\":\"Jersey\",\n\"JO\":\"Jordan\",\n\"KZ\":\"Kazakhstan\",\n\"KE\":\"Kenya\",\n\"KI\":\"Kiribati\",\n\"KP\":\"Korea, Democratic People's Republic of\",\n\"KR\":\"Korea, Republic of\",\n\"KW\":\"Kuwait\",\n\"KG\":\"Kyrgyzstan\",\n\"LA\":\"Lao People's Democratic Republic\",\n\"LV\":\"Latvia\",\n\"LB\":\"Lebanon\",\n\"LS\":\"Lesotho\",\n\"LR\":\"Liberia\",\n\"LY\":\"Libya\",\n\"LI\":\"Liechtenstein\",\n\"LT\":\"Lithuania\",\n\"LU\":\"Luxembourg\",\n\"MO\":\"Macao\",\n\"MK\":\"Macedonia, Republic of\",\n\"MG\":\"Madagascar\",\n\"MW\":\"Malawi\",\n\"MY\":\"Malaysia\",\n\"MV\":\"Maldives\",\n\"ML\":\"Mali\",\n\"MT\":\"Malta\",\n\"MH\":\"Marshall Islands\",\n\"MQ\":\"Martinique\",\n\"MR\":\"Mauritania\",\n\"MU\":\"Mauritius\",\n\"YT\":\"Mayotte\",\n\"MX\":\"Mexico\",\n\"FM\":\"Micronesia, Federated States of\",\n\"MD\":\"Moldova, Republic of\",\n\"MC\":\"Monaco\",\n\"MN\":\"Mongolia\",\n\"ME\":\"Montenegro\",\n\"MS\":\"Montserrat\",\n\"MA\":\"Morocco\",\n\"MZ\":\"Mozambique\",\n\"MM\":\"Myanmar\",\n\"NA\":\"Namibia\",\n\"NR\":\"Nauru\",\n\"NP\":\"Nepal\",\n\"NL\":\"Netherlands\",\n\"NC\":\"New Caledonia\",\n\"NZ\":\"New Zealand\",\n\"NI\":\"Nicaragua\",\n\"NE\":\"Niger\",\n\"NG\":\"Nigeria\",\n\"NU\":\"Niue\",\n\"NF\":\"Norfolk Island\",\n\"MP\":\"Northern Mariana Islands\",\n\"NO\":\"Norway\",\n\"OM\":\"Oman\",\n\"PK\":\"Pakistan\",\n\"PW\":\"Palau\",\n\"PS\":\"Palestinian Territory, Occupied\",\n\"PA\":\"Panama\",\n\"PG\":\"Papua New Guinea\",\n\"PY\":\"Paraguay\",\n\"PE\":\"Peru\",\n\"PH\":\"Philippines\",\n\"PN\":\"Pitcairn\",\n\"PL\":\"Poland\",\n\"PT\":\"Portugal\",\n\"PR\":\"Puerto Rico\",\n\"QA\":\"Qatar\",\n\"RE\":\"Réunion\",\n\"RO\":\"Romania\",\n\"RU\":\"Russian Federation\",\n\"RW\":\"Rwanda\",\n\"BL\":\"Saint Barthélemy\",\n\"SH\":\"Saint Helena, Ascension and Tristan da Cunha\",\n\"KN\":\"Saint Kitts and Nevis\",\n\"LC\":\"Saint Lucia\",\n\"MF\":\"Saint Martin (French part)\",\n\"PM\":\"Saint Pierre and Miquelon\",\n\"VC\":\"Saint Vincent and the Grenadines\",\n\"WS\":\"Samoa\",\n\"SM\":\"San Marino\",\n\"ST\":\"Sao Tome and Principe\",\n\"SA\":\"Saudi Arabia\",\n\"SN\":\"Senegal\",\n\"RS\":\"Serbia\",\n\"SC\":\"Seychelles\",\n\"SL\":\"Sierra Leone\",\n\"SG\":\"Singapore\",\n\"SX\":\"Sint Maarten (Dutch part)\",\n\"SK\":\"Slovakia\",\n\"SI\":\"Slovenia\",\n\"SB\":\"Solomon Islands\",\n\"SO\":\"Somalia\",\n\"ZA\":\"South Africa\",\n\"GS\":\"South Georgia and the South Sandwich Islands\",\n\"ES\":\"Spain\",\n\"LK\":\"Sri Lanka\",\n\"SD\":\"Sudan\",\n\"SR\":\"Suriname\",\n\"SS\":\"South Sudan\",\n\"SJ\":\"Svalbard and Jan Mayen\",\n\"SZ\":\"Swaziland\",\n\"SE\":\"Sweden\",\n\"CH\":\"Switzerland\",\n\"SY\":\"Syrian Arab Republic\",\n\"TW\":\"Taiwan, Province of China\",\n\"TJ\":\"Tajikistan\",\n\"TZ\":\"Tanzania, United Republic of\",\n\"TH\":\"Thailand\",\n\"TL\":\"Timor-Leste\",\n\"TG\":\"Togo\",\n\"TK\":\"Tokelau\",\n\"TO\":\"Tonga\",\n\"TT\":\"Trinidad and Tobago\",\n\"TN\":\"Tunisia\",\n\"TR\":\"Turkey\",\n\"TM\":\"Turkmenistan\",\n\"TC\":\"Turks and Caicos Islands\",\n\"TV\":\"Tuvalu\",\n\"UG\":\"Uganda\",\n\"UA\":\"Ukraine\",\n\"AE\":\"United Arab Emirates\",\n\"GB\":\"United Kingdom\",\n\"US\":\"United States\",\n\"UM\":\"United States Minor Outlying Islands\",\n\"UY\":\"Uruguay\",\n\"UZ\":\"Uzbekistan\",\n\"VU\":\"Vanuatu\",\n\"VE\":\"Venezuela, Bolivarian Republic of\",\n\"VN\":\"Viet Nam\",\n\"VG\":\"Virgin Islands, British\",\n\"VI\":\"Virgin Islands, U.S.\",\n\"WF\":\"Wallis and Futuna\",\n\"EH\":\"Western Sahara\",\n\"YE\":\"Yemen\",\n\"ZM\":\"Zambia\",\n\"ZW\":\"Zimbabwe\"}\n</code></pre>\n\n<p>I tried to use this code to build the dictionary</p>\n\n<pre><code>import pycountry\n\nt = list(pycountry.countries)\n\nfor country in t:\n    print '\"' + country.alpha2 + '\":\"' + country.name + '\",'\n</code></pre>\n"},{"tags":["google-app-engine","google","gae-datastore","datanucleus"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":430,"score":6,"question_id":10058607,"title":"Google App Engine JDO 3","body":"<p>Google just came out with JDO 3.0 (which uses DataNucleus 2.0) for Google App Engine, and I want to use it, since it conveniently supports unowned relationships.  I've been trying for days, but I can't figure out how to use it with the Google Eclipse plugin.  I've found this web page <a href=\"https://developers.google.com/appengine/docs/java/datastore/jdo/overview-dn2\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/datastore/jdo/overview-dn2</a>, but my project folder doesn't have a build.xml file.  I tried creating a separate project and transferring all my code, but the new project didn't have JDO 3.0, nor did it have a build.xml file.</p>\n\n<p>Any help would be much appreciated.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13208383,"title":"Check if numeric is reserved in App Engine Datastore","body":"<p>I would like to implement a deleted key detection for app engine if possible without any extra entities/markers being stored upon deletion, so I can show 404 or 410 response accordingly.</p>\n\n<p>AFAIK new entity key numeric id's are assigned without particular order (at least a simple one), but they are of course reserved/allocated and never implicitly reused for new entities.</p>\n\n<p>So is there a way to check if a particular key was previously allocated, but entity stored under this key was since deleted? </p>\n\n<p>I do not care if a key was <a href=\"https://developers.google.com/appengine/docs/python/datastore/functions#allocate_ids\" rel=\"nofollow\">manually allocated</a> and never used to store any data, I'll treat it as deleted.</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13216783,"title":"GAE Python TypeError on datastore filter query","body":"<p>I persist such an entity in one RequestHandler and can verify through SDK console:</p>\n\n<pre><code>class Moment(db.Model):\n    user = db.IntegerProperty()\n    index = db.IntegerProperty()\n</code></pre>\n\n<p><strong>EDIT:</strong> I previously only included the partial class definition, and didn't show how I was writing the model.  The following is the full example:</p>\n\n<pre><code>class Moment(db.Model):\n    user = db.IntegerProperty()\n    index = db.IntegerProperty()\n    date = db.DateTimeProperty()\n    qx = db.FloatProperty()\n    qy = db.FloatProperty()\n    qz = db.FloatProperty()\n    qw = db.FloatProperty()\n    latitude = db.FloatProperty()\n    longitude = db.FloatProperty()\n    image = db.BlobProperty()\n    def __init__(self, obj):\n        super(Moment,self).__init__()\n        self.user = obj['user']\n        self.index = obj['index']\n        self.date = obj['date']\n        self.qx = obj['qx']\n        self.qy = obj['qy']\n        self.qz = obj['qz']\n        self.qw = obj['qw']\n        self.latitude = obj['latitude']\n        self.longitude = obj['longitude']\n        self.image = obj['image']\n\nclass UploadHandler(webapp2.RequestHandler):\n    def post(self):\n        obj = biplist.readPlistFromString(self.request.body)\n        Moment(obj).put()\n</code></pre>\n\n<p>When I try filtered get...</p>\n\n<pre><code>class ServeHandler(webapp2.RequestHandler):\n    def get(self):\n        params = {}\n        params['user'] = int(self.request.get('user'))\n        params['index'] = int(self.request.get('index'))\n        q = Moment.all()\n        q.filter(\"user =\", params['user'])\n        q.filter(\"index =\", params['index'])\n        print q.get()\n</code></pre>\n\n<p>I get the following:</p>\n\n<pre><code>ERROR    2012-11-04 06:56:04,846 webapp2.py:1553] __init__() got an unexpected keyword argument 'index'\nTraceback (most recent call last):\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1536, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"&lt;path&gt;/main.py\", line 51, in get\n    print q.get()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 2102, in get\n    return results.next()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 2314, in next\n    return self.__model_class.from_entity(self.__iterator.next())\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 1442, in from_entity\n    return cls(None, _from_entity=entity, **entity_values)\nTypeError: __init__() got an unexpected keyword argument 'index'\nINFO     2012-11-04 06:56:04,849 dev_appserver.py:3092] \"GET /serve?user=0&amp;index=0 HTTP/1.1\" 500 -\n</code></pre>\n\n<p>However if I do <code>print q.count()</code> instead of <code>print q.get()</code> I will get 1.  Seems I'm doing things correctly according to documentation, and I tried suggestions from similar questions I found but to no avail.</p>\n\n<p>SDK v1.7.3</p>\n"},{"tags":["google-app-engine"],"answer_count":5,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":4539,"score":7,"question_id":2379585,"title":"Server Programming - Simple Multiplayer Game - Which protocol and technologies?","body":"<p>I have a year's experience writing client code but none with server stuff. I want to restrain the question a bit so I'll simplify what I'm trying to achieve.</p>\n\n<p>I want to write server code such that two clients (Browser or iPhone / Android) can connect, when two player have connected they see a timer count down to zero. The clock would be synchronize on the server and the clients would be uniquely identifiable.</p>\n\n<p>The trouble here is with the word connect, what do people use for multiplayer games? Open a TCP socket for two way communications? You can tell I'm not really sure what I'm talking about. I was hoping to use AppEngine but I'm not sure if it's suitable as it's request based.</p>\n\n<p>I have some experience with Java and although Erlang sounds like the best choice this is something I just want to play with and push out fast so Java would be easier. I just need to know the best way to connect players etc.</p>\n\n<p>Thanks,</p>\n\n<p>Gav</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13220295,"title":"How do I load an alternative font for PIL ImageFont on App Engine?","body":"<p>I have successfully ported some Python code to App Engine that uses PIL's ImageFont and ImageDraw to generate a dynamic image. The only remaining problem is that the original code loads a TrueType font using a call like this:</p>\n\n<pre><code>titlefont = ImageFont.truetype(\"Verdana Bold.ttf\", titlefontsize)\n</code></pre>\n\n<p>I can't just upload the font file and access it directly in GAE (at least I don't think I can?!). I guess it might be possible somehow to dump font data in a datastore blob, load that and feed it into PIL, but this seems less than elegant, and quite wasteful if everybody who uses PIL for image generation does the same thing. Currently I'm stuck with <code>ImageFont.load_default()</code> though, which gives pretty horrendous looking results.</p>\n\n<p>Is there some clever way of working with alternative fonts in GAE PIL? Some additional API I'm missing that will return usable font objects?</p>\n"},{"tags":["java","json","api","google-app-engine"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13215676,"title":"Best way to write a jSON API on Google App Engine","body":"<p>I'd like to create a Java web application on top of Google AppEngine.</p>\n\n<p>What is the best way to develop a REST jSON API?</p>\n\n<p>Do I have to write from scratch a servlet that manages the jSON handling or there is a library or something like the SOAP support for web services?</p>\n"},{"tags":["python","google-app-engine","oauth-2.0","google-bigquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13219794,"title":"something messy with enable-app-engine-project","body":"<p>I'm following this tutorial\n<a href=\"https://developers.google.com/bigquery/articles/dashboard#downloadinstalllibraries\" rel=\"nofollow\">https://developers.google.com/bigquery/articles/dashboard#downloadinstalllibraries</a></p>\n\n<p>Here they say that </p>\n\n<pre><code>cd source/\nenable-app-engine-project hellodashboard/\n</code></pre>\n\n<p>which will copy some 60 files into the project directory.But i saw only some 10 files copied.And the oauth2client folder in project directory only has <code>__init__.py</code>file\nSince i'm using</p>\n\n<pre><code>from oauth2client.appengine import oauth2decorator_from_clientsecrets\n</code></pre>\n\n<p>When i run my program it shows an error</p>\n\n<pre><code>from oauth2client.appengine import oauth2decorator_from_clientsecrets\nImportError: No module named appengine\n</code></pre>\n\n<p>So i manually copied all files from oauth2client zip  to the project oauth2client directory.\nNow when i run my program it doesn't show any error and seems to run fine.Is it some thing messy with the enable-app-engine-project command or am i doing some thing wrong.</p>\n"},{"tags":["python","google-app-engine","openid","federated-identity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13210882,"title":"GAE/P: Does federated login always include user's email address?","body":"<p>I would like to migrate my app from google account login to federated login.  My app requires a user's email address to function properly.</p>\n\n<p>If a user uses a major identity provider (Google, Facebook, Yahoo, etc.), is it possible that a user could login but not allow my app to access his or her email address?</p>\n\n<p>I could ask the user to provide an email address, but I would need to send an email to that address to confirm, have the user click on a link, etc.  I would rather avoid that procedure.</p>\n"},{"tags":["java","google-app-engine","persistence"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2482,"score":1,"question_id":1158919,"title":"One-To-Many child has already been persisted without parent","body":"<p>I'm using the Google App Engine in combination with the Google Web Toolkit to write a bug tracker (to see what the technologies are capable of).</p>\n\n<p>Modelled after Google Code's issue tracker, I decided that an issue can have 0 or more labels, that can be defined beforehand (let's say in the settings).</p>\n\n<p>The label class (CustomLabel):</p>\n\n<pre><code>@PersistenceCapable(identityType = IdentityType.APPLICATION)\npublic class CustomLabel implements Serializable {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    @Extension(vendorName=\"datanucleus\", key=\"gae.encoded-pk\", value=\"true\")\n    private String encodedKey;\n\n    @Persistent\n    @Extension(vendorName=\"datanucleus\", key=\"gae.pk-id\", value=\"true\")\n    private Long keyId;\n\n    /**\n     * label caption.\n     */\n    @Persistent\n    private String caption;\n\n    // Unimportant getters / setters\n}\n</code></pre>\n\n<p>Now the parent class (Issue):</p>\n\n<pre><code>@PersistenceCapable(identityType = IdentityType.APPLICATION)\npublic class Issue implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Long id;\n\n    // Replacing the Long key by this key doesn't make a difference\n    // @PrimaryKey\n    // @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    // @Extension(vendorName=\"datanucleus\", key=\"gae.encoded-pk\", value=\"true\")\n    // private String encodedKey;\n\n    @Persistent\n    private String summary;\n\n    @Persistent\n    private String description;\n\n    @Persistent \n    private ArrayList&lt;CustomLabel&gt; labels;\n\n    // Other details\n}\n</code></pre>\n\n<p>When I'm trying to persist a new Issue with existing CustomLabels I get the following exception:</p>\n\n<pre><code>org.datanucleus.exceptions.NucleusUserException: Detected attempt to establish Issue(11) as the parent of CustomLabel(1) but the entity identified by CustomLabel(1) has already been persisted without a parent.  A parent cannot be established or changed once an object has been persisted.\n</code></pre>\n\n<p>How can this be solved? I cannot use Key's and create an unowned relationship, since I'm sending the objects to the GWT front-end (which is compiled to Javascript and com.google.appengine.api.datastore.Key isn't supported). Besides that would break referential integrity, which is undesirable. </p>\n"},{"tags":["google-app-engine","gae-datastore","jpa-2.0","gae-eclipse-plugin"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13210632,"title":"GAE Java- Null pointer exception when trying to retrieve an object","body":"<p>I am new to GAE development.\nfor me insertion using jpa to the datastore is working fine, but retrieval is not happening.</p>\n\n<p>Below is a method which authenticates the user when he try to login.</p>\n\n<pre><code>public boolean loginUser(User user) {\n\n    EntityManagerFactory emf = Persistence\n            .createEntityManagerFactory(\"SOAApp\");\n    EntityManager mgr = emf.createEntityManager();\n    boolean login=false;\n    Query query=mgr.createQuery(\"select u from User u where u.userName=:uid and u.password=:pwd\");\n\n    query.setParameter(\"uid\", user.getUserName());\n    query.setParameter(\"pwd\",user.getPassword());\n    query.setMaxResults(1);\n\n    try {\n        user=(User) query.getSingleResult();\n        System.out.println(\"user : \"+user.getName());\n        if(user!=null)  {\n            System.out.println(\"logged in...\");\n            login=true;\n        }\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n    finally {\n        mgr.close();\n    }\n    return login;\n}\n</code></pre>\n\n<p>but I am getting the following errors when trying to execute the method by passing a user object with valid username and password.</p>\n\n<pre><code>java.lang.NullPointerException\nat com.google.appengine.datanucleus.query.QueryEntityPKFetchFieldManager.fetchIntField(QueryEntityPKFetchFieldManager.java:70)\nat org.datanucleus.identity.IdentityUtils.getApplicationIdentityForResultSetRow(IdentityUtils.java:93)\nat com.google.appengine.datanucleus.EntityUtils.entityToPojo(EntityUtils.java:1009)\nat com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:228)\nat com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:225)\nat com.google.appengine.datanucleus.query.LazyResult.resolveNext(LazyResult.java:96)\nat com.google.appengine.datanucleus.query.LazyResult.resolveAll(LazyResult.java:121)\nat com.google.appengine.datanucleus.query.LazyResult.size(LazyResult.java:115)\nat com.google.appengine.datanucleus.query.StreamingQueryResult.size(StreamingQueryResult.java:151)\nat org.datanucleus.store.query.Query.executeQuery(Query.java:1808)\nat org.datanucleus.store.query.Query.executeWithMap(Query.java:1693)\nat org.datanucleus.api.jpa.JPAQuery.getSingleResult(JPAQuery.java:231)\nat com.soa.managers.UserManager.loginUser(UserManager.java:63)\nat com.soa.servlets.LoginServlet.doPost(LoginServlet.java:48)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:123)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\nat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:383)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>Nov 03, 2012 3:25:02 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet</p>\n\n<blockquote>\n  <p>line number-63\n  [at com.soa.managers.UserManager.loginUser(UserManager.java:63)]\n  is \"user=(User) query.getSingleResult();\"</p>\n</blockquote>\n\n<p>Please help me </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13211747,"title":"Building a reliable system on Google AppEngine","body":"<p>Stack Overflow community who use Google AppEngine,</p>\n\n<p>Given the reliability issues with Google AppEngine, how are you handling fail-over to prevent outages?  Are you doing a back-up mirror on another platform?</p>\n\n<p>Is there a way to make your instance 'hot-swappable' to avoid issues?  Anyone come up with elegant solutions to avoid Service Issues?</p>\n"},{"tags":["java","google-app-engine","http-status-code-404"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13187970,"title":"How to implement a custom 404 error page on App Engine, Java?","body":"<p>Hi I'm trying to set up a static error page for 404 not found errors on app engine.</p>\n\n<p>According to <a href=\"https://developers.google.com/appengine/docs/java/config/webxml#Error_Handlers\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/config/webxml#Error_Handlers</a>: it says 404 cannot be customized. </p>\n\n<p>And according to:  <a href=\"https://developers.google.com/appengine/docs/java/config/appconfig#Custom_Error_Responses\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/config/appconfig#Custom_Error_Responses</a> it don't seem to support 404 too.</p>\n\n<p>However, <a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-java/3C-pY5ta2HQ\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-java/3C-pY5ta2HQ</a>, seems to suggest that 404 error page can be customised. I'm confused right now.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13214868,"title":"Broken Pipe error on appcfg upload_data","body":"<p>I have successfully download my data from datastore on my Mac OS X 10.8 (SDK 1.6). However when I'm using appcfg upload_data I get the following error; any idea ? </p>\n\n<p>appcfg.py upload_data --url=http://localhost:8081/_ah/remote_api --filename=db_backup_2012_Nov_3</p>\n\n<p>ERROR:</p>\n\n<p>[INFO    ] Connecting to localhost:8081/_ah/remote_api [INFO    ] Starting import; maximum 10 entities per post ...........[INFO    ] Unexpected thread death: WorkerThread-2 [INFO    ] An error occurred. Shutting down... ........[ERROR   ] Error in WorkerThread-2:  [ERROR   ] Error in WorkerThread-7: </p>\n\n<p>[INFO    ] 350 entities total, 0 previously transferred [INFO    ] 190 entities (179958 bytes) transferred in 15.2 seconds [INFO    ] Some entities not successfully transferred</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13211735,"title":"Objectify - getting \"no Id field\" error but I do have it","body":"<p>This really confuses me. I have simple POJO with @Id annotaion, but still when I try to persist it using objectify I'm getting </p>\n\n<pre><code>java.lang.IllegalStateException: There must be an @Id field (String, Long, or long) for com.hatzilim.pm.Question\n</code></pre>\n\n<p>this is the class:</p>\n\n<pre><code>@Entity\npublic class Question {\n    @Id Long id;\n    String question;\n\n    public Question () {}\n\n    public Question (String arg) {\n        this.question = arg;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getQuestion() {\n        return question;\n    }\n    public void setQuestion(String arg) {\n        this.question = arg;\n    }   \n\n}\n</code></pre>\n\n<p>this is how i'm persisting:</p>\n\n<pre><code>public class Prime_MembersServlet extends HttpServlet {\n    public void doGet(HttpServletRequest req, HttpServletResponse resp)\n            throws IOException {\n        ObjectifyService.register(Question.class);\n\n        resp.setContentType(\"text/plain\");\n\n        Question q = new Question (\"the text for the q\");\n        ofy().save().entity(q).now();\n        resp.getWriter().println(\"check persisted\");\n    }\n}\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1515,"score":0,"question_id":1662113,"title":"Query in a transaction with an ancestor filter in Google App Engine (Java)","body":"<p>The Java <a href=\"http://code.google.com/appengine/docs/java/datastore/transactions.html\" rel=\"nofollow\">documentation</a> says that an app can perform a query during a transaction, but only if it includes an ancestor filter, but there is no documentation for how to do it. Can anyone provide some example code that shows how to do this in the most concise way possible?</p>\n"},{"tags":["eclipse","google-app-engine","gwt","resources","exists"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":428,"score":3,"question_id":11402212,"title":"Eclipse 3.7/GWT+GAE wizard, resource already exists?","body":"<p>A problem occurs for me when I attempt to use the Google Web Application Wizard in the Eclipse IDE (Running on Mac OSX 10.7). If I attempt to generate a project with any given name/package (using the newest GWT and GAE SDK), without generating the sample code, I get an error stating:</p>\n\n<p>Creation of element failed: </p>\n\n<p>Reason:\nResource '/xxx/war/WEB-INF/web.xml' already exists.</p>\n\n<p>Or alternatively</p>\n\n<p>Reason:\nResource '/xxx/war/WEB-INF/appengine-web.xml' already exists.</p>\n\n<p>The create project process does not finish, and when I exit out, there is a folder with whatever 'xxx' happens to be in the workspace I designated. However it only contains a src folder (with no modules or packages) a war folder (with no library, css, or html files), and does not import the .jar files from the SDKs.</p>\n\n<p>If I follow this same process exactly, except allow it to generate sample code, all the files are there. If I follow this process except uncheck use google app engine, all the files are there. However it is this specific procedure that seems to be causing the problem. I would prefer not to have to reinstall Eclipse and all of it's plugins, only to have this happen again, so it would be greatly appreciated if someone could help me identify the source of the problem.</p>\n\n<p>Thanks!</p>\n"},{"tags":["web-services","google-app-engine","concurrency","cloud","rackspace"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13202201,"title":"How to serve CPU intensive webservice requests in the cloud?","body":"<p><strong>Background:</strong> I'm running a webservice in which each request involves a fair amount of computations (up to 10 seconds on a quadcore machine).</p>\n\n<p>Each request can be broken down to about 150 independent (and equally small) subtasks.</p>\n\n<p><strong>What I'm after:</strong> l'm looking for a hosting service that allows me to serve these kinds of requests efficiently in a scalable manner.</p>\n\n<p><strong>What I've considered:</strong> I've looked into Google App Engine and Rackspace.</p>\n\n<p>It seems to me as if GAE is intended for simple requests, requiering litte resources to process. Problem with something like Rackspace is that I can't tell in advance how many vCPUs I may need (and even if I knew how big future spikes would be, I don't want to sit with, say, 40 servers idling the rest of the time)</p>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>Would it be possible to use GAE in the following way:</p>\n\n<ol>\n<li><p>For each request, split it up into 150 subtasks</p></li>\n<li><p>Process all subtasks independently by doing 150 concurrent HTTP requests to the same webapp (but through a differrnt method)</p></li>\n<li><p>Collect the results from the \"subresults\" and return a response to the original request.</p></li>\n</ol></li>\n<li><p>Is there any possibility that Map Reduce for GAE could be of any help?</p></li>\n<li><p>Is there any other service better suited for this task?</p></li>\n</ol>\n"},{"tags":["html","google-app-engine","parsing","templates","go"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":13214095,"title":"Golang GAE - HTML Template not inserting links properly into web page","body":"<p>I am using Google Go on Google App Engine. I am saving a <code>string</code> description in a structure into a <code>datastore</code>, like so:</p>\n\n<pre><code>type Foo struct{\n    Bar string\n}\n</code></pre>\n\n<p>That description includes html tags, for example:</p>\n\n<pre><code>&lt;a href=\"/\"&gt;Bar&lt;/a&gt;\n</code></pre>\n\n<p>I want the <code>html template</code> to include that description in an html file so it would be parsed as html. For example:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;{{.Bar}}&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>to be parsed as:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&lt;a href=\"/\"&gt;Bar&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>but instead, I get something like this:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;&amp;lt;a href=&amp;#34;/&amp;#34;&amp;gt;Bar&amp;#39;s&amp;lt;/a&amp;gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>How can I make the <code>template</code> parse the <code>string</code> correctly into an html link?</p>\n"},{"tags":["java","google-app-engine","jpa-2.0","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13196919,"title":"Appengine JPA update","body":"<p>Hi I am using Google App Engine SDK 1.7.3 and JPA for Datanucleus.\nI can't update an object that is in the variable <code>t</code>.</p>\n\n<p>I have written my code as indicated in the accepted answer to <a href=\"http://stackoverflow.com/questions/1403515/appengine-datastore-object-with-id-is-managed-by-a-different-object-manage\">this question</a>.</p>\n\n<p>If I use the code:</p>\n\n<pre><code>    PersistenceManager persistenceManager=JDOHelper.getPersistenceManager(t);\n    persistenceManager.refresh(t);\n    return t;\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>java.lang.UnsupportedOperationException: Method not supported with JPA\n    at org.datanucleus.api.jpa.JPAPersistenceManager.refresh(JPAPersistenceManager.java:693)\n    at com.appspot.diasporajava.dao.GenericDaoImpl.update(GenericDaoImpl.java:74)\n</code></pre>\n\n<p>If I use the code:</p>\n\n<pre><code>return this.emf.createEntityManager().merge(t);\n</code></pre>\n\n<p>Where emf is an EntityManagerFactory.</p>\n\n<p>I get:</p>\n\n<pre><code>javax.persistence.PersistenceException: Object with id \"com.appspot.diasporajava.entities.Post@447cc9c9\" is managed by a different Object Manager\n    at org.datanucleus.api.jpa.NucleusJPAHelper.getJPAExceptionForNucleusException(NucleusJPAHelper.java:302)\n    at org.datanucleus.api.jpa.JPAEntityManager.merge(JPAEntityManager.java:576)\n    at com.appspot.diasporajava.dao.GenericDaoImpl.update(GenericDaoImpl.java:76)\n</code></pre>\n\n<p>Do I have to keep open my persistence manager all the time?</p>\n\n<p><a href=\"http://www.jpox.org/servlet/jira/browse/NUCCORE-284\" rel=\"nofollow\">A related ticket</a>.</p>\n\n<p>The ocde I use to create objects is the following:</p>\n\n<pre><code>@Override\n@Transactional\npublic T create(final T t) {    \n    EntityManager em = this.emf.createEntityManager();\n    em.persist(t);\n    em.close();\n    return t;\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":563,"score":1,"question_id":8016936,"title":"When do you register classes in Objectify for GAE?","body":"<p>So this might be kind of a dumb question but when do you register classes with:</p>\n\n<pre><code>ObjectifyService.register( User.class );\n</code></pre>\n\n<p>Currently, I'm doing this in the constructor of an interface-like class that I use in my other classes to simplify usage of the Data store specifically to my application. However, I'm getting this error:</p>\n\n<blockquote>\n  <p>Attempted to register kind 'User' twice</p>\n</blockquote>\n\n<p>So, I guess my question is how often and specifically when do you register classes in Objectify?</p>\n\n<p>Thanks!</p>\n\n<p>P.S. Here's my entire class:</p>\n\n<pre><code>import java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Iterator;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.persistence.Id;\n\nimport com.googlecode.objectify.Objectify;\nimport com.googlecode.objectify.ObjectifyService;\nimport com.googlecode.objectify.annotation.Indexed;\nimport com.googlecode.objectify.annotation.Unindexed;\n\npublic class UsersService {\n\n    Objectify ojy;\n\n    public UsersService(){\n        ObjectifyService.register( User.class );\n        ojy = ObjectifyService.begin();\n    }\n\n    public void regUser(String email, String password, String firstName, String lastName){\n        //TODO: Check syntax if email\n        //TODO: store encrypted password\n    }\n\n    public void regUser(String email, String password, String firstName){\n        regUser(email, password, firstName, null);\n    }\n\n    public void regUser(String email, String password){\n        regUser(email, password, \"\", \"\");\n    }\n\n    public boolean checkFor(Long acc_id){\n        User checked_user = ojy.find(User.class, acc_id);\n        if(checked_user == null){\n            return false;\n        }else{\n            return true;\n        }\n    }\n\n    public User getUser(String email, String password) throws InvalidKeyException, IllegalBlockSizeException, BadPaddingException, NoSuchAlgorithmException, NoSuchPaddingException{\n        String pass_enc = MyUtils.getEncrypted(password);\n        Iterable&lt;User&gt; users = ojy.query(User.class).filter(\"email\", email).filter(\"password\", pass_enc);\n        Iterator&lt;User&gt; iter = users.iterator();\n        if(iter.hasNext()){\n            return iter.next();\n        }else{\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["html","google-app-engine","adsense","google-charts-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13112637,"title":"Google Chart Won't Show Up When Adsense Is On The Page","body":"<p>So I've got a test site that uses Google's Chart API. I wanted to put an Adsense banner on this site. When I add the Adsense code the chart won't display, but the ad does. Take the Adsense code out and the chart displays just fine.</p>\n\n<p>EDIT: Doesn't matter where the Adsense code is put either. If it's there, the chart is not.</p>\n\n<p>Here's the entire page:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      google.load(\"visualization\", \"1\", {packages:[\"corechart\"]});\n      google.setOnLoadCallback(drawChart);\n      function drawChart() {\n        var data = google.visualization.arrayToDataTable([\n          ['Date', 'Price'],\n\n            ['Yesterday', 10.00],\n            ['Today', 12.00],\n\n\n        ]);\n\n        var options = {\n          title: 'kyurem'\n        };\n\n        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\n        chart.draw(data, options);\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div&gt;\n        &lt;h3&gt;doeiqts's Pokemon Price Guide&lt;/h3&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"adsense\"&gt;\n        &lt;script type=\"text/javascript\"&gt;&lt;!--\n        google_ad_client = \"ca-pub-4255182576260971\";\n        /* Pokemon Graph */\n        google_ad_slot = \"2704848389\";\n        google_ad_width = 728;\n        google_ad_height = 90;\n        //--&gt;\n        &lt;/script&gt;\n        &lt;script type=\"text/javascript\"\n        src=\"http://pagead2.googlesyndication.com/pagead/show_ads.js\"&gt;\n        &lt;/script&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"cardPicture\" style=\"height: 400px; width: 227px; float: left;\"&gt;\n        &lt;img src=http://pokegym.net/gallery/displayimage.php?imageid=53682 style=\"height: 320px; width: 227px; position: relative; top: 80px;\" /&gt;\n    &lt;/div&gt;\n    &lt;div id=\"chart_div\" style=\"width: 900px; height: 500px; float: left;\"&gt;&lt;/div&gt;\n\n    &lt;div style=\"clear: both;\"&gt;\n        &lt;p&gt;\n        &lt;br&gt;\n        &lt;p&gt;\n        This site is not affiliated with Nintendo, Pokemon, PokeGym, or eBay.\n    &lt;/div&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["google-app-engine","xmpp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13212267,"title":"Escaping characters in fromJid when connecting to google talk from GAE via XMPP.","body":"<p>I have a chat application build on GAE. Internally chat messages between users are passed around via the google channel api. Since all the users already have google IDs, I'd like to also enable communication with users on google talk via XMPP. </p>\n\n<p>To do this, I need to pass the user id (email) of the user initiating the chat on my end to google talk, so that when a message comes back, I can route it back to this user via his channel.</p>\n\n<p>As such, I need to send the invitation, and subsequent messages with a fromUser JID</p>\n\n<pre><code>xmpp.sendInvitation(toUser, fromUser);   \n</code></pre>\n\n<p>and the same fromUser JID for sending the message. </p>\n\n<p>Reading through (<a href=\"https://developers.google.com/appengine/docs/java/xmpp/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/xmpp/overview</a>), I see that Google supports two formats for the fromJID:</p>\n\n<pre><code>your_app_id@appspot.com\n</code></pre>\n\n<p>or, </p>\n\n<pre><code>anything@your_app_id.appspotchat.com\n</code></pre>\n\n<p>The first obviously won't work, but the second looks promising. </p>\n\n<p>The issue is, I need to pass the full email address as the \"anything\" part, as that is the unique identifier (I can have jack@jill.com and jack@hill.com as users.)</p>\n\n<p>So, I need to pass something along the lines of \njack@jill.com@myapp.appspotchat.com</p>\n\n<p>According to (<a href=\"http://xmpp.org/extensions/xep-0106.html\" rel=\"nofollow\">http://xmpp.org/extensions/xep-0106.html</a>), I should be able to do this, and escape the @ character. </p>\n\n<p>However, google doesn't seem to like it. I get a invalid JID exception if whether I escape the @ sign or not. </p>\n\n<p>I've tried</p>\n\n<pre><code>email.replace(\"@\", \"\\40\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>email.replace(\"@\", \"\\\\\\40\");\n</code></pre>\n\n<p>I also noticed that in the google documentation I linked to above, it says, </p>\n\n<blockquote>\n  <p>An app can also use a custom address in the following format, where anything is any string containing letters, numbers and hyphens</p>\n</blockquote>\n\n<p>Does that mean they don't support escaped characters as per that extension? Or am I doing something wrong? Is there any other way to escape them I'm missing?</p>\n\n<p>There are a couple other routes I can take, but I can't get either of those to work either, so if anyone has suggestions, I'd greatly appreciate it. </p>\n\n<ol>\n<li>Passing the username as part of the node, and the domain as a resource. However, when I try this, I can send the invite and subsequent message with a full JID, such as jack@myapp.appspotchat.com/jill.com, but when the message comes back from google, the JID is stripped and comes back as a bare JID. </li>\n<li>somehow maintain some metadata about the conversation, in essence maintaining session information for the chat that can be passed back and forth, but I'm not sure that's possible, and if it is, I haven't found any clues on how to make that work. </li>\n</ol>\n"},{"tags":["google-app-engine","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13094554,"title":"Google App Engine losing CSS on deployment","body":"<p>When I deploy my app to Google App engine the CSS is no longer found.  The app is fine in the localhost.  I'm not sure why this is exactly.  Does the app engine change the file structure?  I get the following error in the log:</p>\n\n<pre><code>2012-10-26 14:04:37.727 Static file referenced by handler not found:\nstylesheets/main.css\n</code></pre>\n\n<p>Here's my app.yaml</p>\n\n<pre><code>application: vipermonkeyswhofly\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /stylesheets\n  static_dir: stylesheets\n\n- url: /.*\n  script: vipermonkeyswhofly.app\n\nlibraries:\n- name: jinja2\n  version: 2.6\n</code></pre>\n\n<p>My index.html has this url:</p>\n\n<p></p>\n\n<blockquote>\n<pre><code>&lt;link rel=\"stylesheet\"  type=\"text/css\"  href=\"/stylesheets/main.css\" /&gt;   &lt;/head\n</code></pre>\n</blockquote>\n\n<p>I appreciate any help that you can provide.  I'm sure it's something obvious that I'm missing but it's eluded me up to this point.</p>\n"},{"tags":["google-app-engine","nosql","gae-datastore","google-cloud-sql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13197518,"title":"AppEngine Filter Inequality with list alternatives","body":"<p>Currently, I have the following model structure for an AppEngine application using the DataStore (abbreviated for clarity):</p>\n\n<pre><code>class User(db.Model):\n    name = db.StringProperty()\nclass Game(db.Model):\n    name = db.StringProperty()\nclass UserGame(db.Model):\n    user = db.ReferenceProperty(User)\n    game = db.ReferenceProperty(Game)\n    high_score = db.IntegerProperty()\n</code></pre>\n\n<p>There are many games, and there are many users.  I'm trying to query the list of games that a user hasn't joined, similar to the (pseudo) SQL equivalent of <code>SELECT * from Game where name NOT IN (SELECT * from UserGame where user = &lt;&lt;current_user&gt;&gt;)</code></p>\n\n<p>My first approach was to get a list of UserGames and iterate through that list, adding <code>.filter('__key__ !=',&lt;&lt;user_key&gt;&gt;)</code> but it's not possible to chain inequality filters.</p>\n\n<p>My question is, are there any better modeling ideas people can imagine that would get the data I need or should I migrate everything to CloudSQL?  I don't see how I can grab this information at the datastore level with the current models I'm using.</p>\n\n<p>I'm aware that I could do this programmatically by keeping the list of UserGame for that user, grab Game.all(), and programmatically filter out the results, but this wouldn't be ideal since I'd like to use a Cursor to paginate results.</p>\n\n<p>Thanks for your help everyone!</p>\n"},{"tags":["java","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13205663,"title":"Web-based System in Google App Engine","body":"<p>Is it okay to develop a company's system in google app engine? The system will just have simple CRUD functionalities and should be used only by customers of the company.</p>\n\n<p>Another option is to have it written in PHP CodeIgniter.</p>\n\n<p>I am more experienced with google-app-engine.</p>\n\n<p>Which one should I go through? Thanks.</p>\n"},{"tags":["google-app-engine","jdo","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12957184,"title":"NullPointerException in the DataNucleus loadObjectById","body":"<p>i am using JDO 3.x and DataNucleus 3.1.0 and have strong problems with <strong>reliability</strong> of the code.\nespecially the important method <strong>loadObjectById(type,key)</strong> is sometimes working sometimes not!\ni am not closing the <em>persistanceManager</em> at all because i wanted to implement some cashing in future. could it be the problem?</p>\n\n<p>thanks for help :)</p>\n\n<p>now two different stacktraces:</p>\n\n<pre><code>java.lang.NullPointerException\n        at com.google.appengine.datanucleus.EntityUtils.getEntityFromDatastore(EntityUtils.java:650)\n        at com.google.appengine.datanucleus.DatastorePersistenceHandler.locateObject(DatastorePersistenceHandler.java:644)\n        at org.datanucleus.state.JDOStateManager.locate(JDOStateManager.java:3440)\n        at org.datanucleus.state.JDOStateManager.validate(JDOStateManager.java:3512)\n        at org.datanucleus.ObjectManagerImpl.findObject(ObjectManagerImpl.java:3382)\n        at org.datanucleus.api.jdo.JDOPersistenceManager.getObjectById(JDOPersistenceManager.java:1721)\n        at org.datanucleus.api.jdo.JDOPersistenceManager.getObjectById(JDOPersistenceManager.java:1739)\n        at com.reqpool.rrm.backend.persistence.dao.impl.BasicDao.loadObject(BasicDao.java:63)\n        at com.reqpool.rrm.backend.persistence.dao.impl.TransactionDoa.loadObject(TransactionDoa.java:35)\n        at com.reqpool.rrm.backend.logic.controller.ProjectController.loadBasicProject(ProjectController.java:162)\n        at com.reqpool.rrm.backend.logic.controller.ProjectController.loadComments(ProjectController.java:238)\n        at com.reqpool.rrm.backend.services.impls.ProjectServiceImpl.loadComments(ProjectServiceImpl.java:206)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n\n<hr>\n\n<pre><code>java.lang.NullPointerException\n        at org.datanucleus.state.JDOStateManager.replaceFields(JDOStateManager.java:1941)\n        at org.datanucleus.state.JDOStateManager.replaceFields(JDOStateManager.java:1958)\n        at org.datanucleus.state.JDOStateManager.initialiseForCachedPC(JDOStateManager.java:562)\n        at org.datanucleus.state.ObjectProviderFactory.newForCachedPC(ObjectProviderFactory.java:229)\n        at org.datanucleus.ObjectManagerImpl.getObjectFromLevel2Cache(ObjectManagerImpl.java:5106)\n        at org.datanucleus.ObjectManagerImpl.getObjectFromCache(ObjectManagerImpl.java:5045)\n        at org.datanucleus.ObjectManagerImpl.findObject(ObjectManagerImpl.java:3289)\n        at org.datanucleus.api.jdo.JDOPersistenceManager.getObjectById(JDOPersistenceManager.java:1721)\n        at org.datanucleus.api.jdo.JDOPersistenceManager.getObjectById(JDOPersistenceManager.java:1739)\n        at com.reqpool.rrm.backend.persistence.dao.impl.BasicDao.loadObject(BasicDao.java:63)\n        at com.reqpool.rrm.backend.persistence.dao.impl.TransactionDoa.loadObject(TransactionDoa.java:40)\n        at com.reqpool.rrm.backend.logic.controller.ProjectController.loadBasicProject(ProjectController.java:162)\n        at com.reqpool.rrm.backend.logic.controller.ProjectController.loadComments(ProjectController.java:238)\n        at com.reqpool.rrm.backend.services.impls.ProjectServiceImpl.loadComments(ProjectServiceImpl.java:206)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n"},{"tags":["python","query","google-app-engine","key","case-insensitive"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13210408,"title":"case insensitive query for key_name","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3289781/how-to-make-case-insensitive-filter-queries-with-google-app-engine\">How to make case insensitive filter queries with Google App Engine?</a>  </p>\n</blockquote>\n\n\n\n<p>Can a GAE datastore be queried case insensitively for a key_name? Maybe query is not the right term. I really want to do a <code>get_by_key_name()</code> so the user does not have to have the correct case, but does have the correct text characters. </p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13204689,"title":"appengine python backends","body":"<p>I'm trying to run some code on Appengine using dynamic backends (python), but I find <a href=\"https://developers.google.com/appengine/docs/python/backends/overview#Startup\" rel=\"nofollow\">Appengine dynamic backends documentation</a> to be inadequate. Does anyone have any sample code regarding how this can be done?</p>\n\n<p>I have already configured my backends.yaml like so</p>\n\n<pre><code>backends: \n- name: fileupload-backend\n  options: dynamic\n  start: backend_handler.py\n</code></pre>\n\n<p>And I understand that dynamic backends run when Appengine sends a start request to /_ah/start, then run when they receive a request from the application and stops when they receive no further requests from the application. But how do I write code in my backends_handler.py in order to prompt appengine to do this? </p>\n"},{"tags":["java","google-app-engine","gwt","gae-datastore","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13208504,"title":"Delete files from blobstore using file serving URL","body":"<p>In my app (GWT on GAE) we are storing on our database the serving URL that is stored on blobstore. When user selects one of these files and clicks \"delete\", we need to delete the file from blobstore.</p>\n\n<p>This is our code, but it is not deleting the file at all:</p>\n\n<pre><code>public void remove(String fileURL)\n{\n    BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();\n    String key = getBlobKeyFromURL(fileURL);\n    BlobKey blobKey = new BlobKey(key);\n    blobstoreService.delete(blobKey);\n}\n</code></pre>\n\n<p>Where <code>fileURL</code> looks like this:</p>\n\n<pre><code>http://lh6.ggpht.com/d5VC0ywISACeJRiC3zkzaZug-tPsaI_LGt93-e_ATGTCwnGLao4yTWjLVppQ\n</code></pre>\n\n<p>And <code>getBlobKeyFromURL()</code> would return what is after the last \"/\", in this example:</p>\n\n<pre><code>d5VC0ywISACeJRiC3zkzaZug-tPsaI_LGt93-e_ATGTCwnGLao4yTWjLVppQ\n</code></pre>\n\n<p>*<strong><em>EDIT:</em>*</strong> Seems that what getBlobKeyFromURL() returns is not the blobKey. The blobKey is a different string that, with <code>/download?blob-key=</code> before, returns the <code>fileURL</code>. So the question now would be: <strong>how can I get the blobKey from the URL?</strong></p>\n\n<p>Could you please advice?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":13202533,"title":"Jars needed for Objectify4","body":"<p>We have a legacy system that was just ported to AppEngine. So now we need to use Objectify4, however the legacy application we have is not yet <em>\"mavenized\"</em> so we add jars manually. What are all the jarts needed to be placed in <code>WEB-INF/lib</code> folder so <code>Objectify</code> jars and its depenedencies will work.</p>\n\n<p>The current AppEngine version we set in the classpath is 1.7.2</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13207045,"title":"Why am I getting server errors with Google App Engine's tutorials?","body":"<p>I'm following Web Development (cs253) at <strong>www.udacity.com</strong>, and suddenly started getting errors: this is my very first stint with web development.</p>\n\n<p>After having successfully followed the \"hello world\" tutorial on Google App Engine's website (as suggested by the video classes on Udacity) I started making small changes, and kept resubmitting the newer modified versions, until after 4 or 5 times I started getting the following error:</p>\n\n<blockquote>\n  <p>Error: Server Error</p>\n  \n  <p>The server encountered an error and could not complete your request.\n  If the problem persists, please report your problem and mention this error message and the query that caused it.</p>\n</blockquote>\n\n<p>I tried to (1) wait a while and then retry, (2) reload the latest version, (3) reload the immediately previous version known to work, (4) clean up the history of Chrome (I'm running MacOS Lion version 10.7.5) -> Nothing. I'm still getting the same error.</p>\n\n<p>Any idea what am I doing wrong? Thank you: <em>any</em> help is welcome!</p>\n\n<p>Last thing: I am using Python 2.7 (not sure it matters, but still.)</p>\n\n<hr>\n\n<p>PS: Here is the code:</p>\n\n<h1>helloworld.py</h1>\n\n<pre><code>import webapp2\n\nform=\"\n&lt;form action=\"http://www.google.com/search\"&gt;\n    &lt;input name=\"q\"&gt;\n    &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n\"\"\"\n\nclass MainPage(webapp2.RequestHandler):\n    def get(self):\n#       self.response.headers['Content-Type'] = 'text/html'\n#       self.response.out.write('Hello, Udacity!!')\n        self.response.out.write(form)\n\napp = webapp2.WSGIApplication([('/', MainPage)], debug=True)\n</code></pre>\n\n<h1>app.yaml</h1>\n\n<pre><code>application: chris73it-helloworld\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /.*\n  script: helloworld.app\n</code></pre>\n\n<p>That's it: only 2 files.</p>\n\n<p>Problem solved: the 2 of the 3 double quotes had disappeared while editing the code: now it works. Unfortunately, because this was my very first post on SO, I am not allowed to \"give +1 points\" :-( Sorry about that!</p>\n"},{"tags":["python","google-app-engine","gae-datastore","app-engine-ndb","appstats"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13192395,"title":"How do I prevent application calling datastore_v3.next() when calling get_multi?","body":"<p>I'm running a keys_only query, which fetches 20 results.  </p>\n\n<pre><code>result_keys, cursor, more = ActivityIndex.query(cls.followers  == key)\\\n                                        .order(-cls.date_created)\\\n                                        .fetch_page(num_results,\n                                                    start_cursor = cursor,\n                                                    keys_only=True)\n</code></pre>\n\n<p>I then get the parents of the activityIndex objects:</p>\n\n<pre><code>keys = []\nfor k in result_keys:\n    for pair in k.parent().pairs():\n        keys.append(ndb.Key(pairs=[pair]))\n\nactivities_related = ndb.get_multi(keys)\n</code></pre>\n\n<p>I thought this would be quick, because I was getting a batch of objects by key. However, the query seems call <code>datastore_v3.Next</code>, which according to the <a href=\"https://developers.google.com/appengine/docs/python/tools/appstats\" rel=\"nofollow\">appstats docs</a> is \"bad\", and takes up a significant portion of the execution time. </p>\n\n<blockquote>\n  <p>Avoiding unnecessary Next calls may speed up your app!</p>\n</blockquote>\n\n<p>Appstats for the above query (with get_multi call)\n<img src=\"http://i.stack.imgur.com/ixVMa.png\" alt=\"Appstats view with get_multi enabled\"></p>\n\n<p>Appstats for the above query but without call get_multi (short time for next() to respond).\n<img src=\"http://i.stack.imgur.com/CDmo4.png\" alt=\"short time for next to respond\"></p>\n\n<p>Why does the <code>datastore_v3.next()</code> call take so long to execute when calling <code>get_multi()</code>? Does it depend on the number of results get_multi will return? Some of the objects returned in get_multi have list properties (with max 10 items in a list), would this play a role in the performance?</p>\n\n<p>To avoid this issue, would it be better to change the design and fetch the required entities in tasklets? Any other suggestions?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>A bit more information about what I am trying to do:\nI have an activity stream in my application, which displays all user activity e.g. Rob commented on Picture etc.\nTo display this information, I thought I'd need the User object and the Picture Object to build up the activity description and information to display. I set all these objects' keys as parents of <code>ActivityIndex</code>. So from the above query, <code>ndb.get_mult(keys)</code> would be fetching the Activity, User and Picture objects. <strong>The keys list could contain 50 keys or more</strong>, so would this possibly be the cause of the long <code>datastore_v3.Next</code> call.</p>\n"},{"tags":["python","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13189297,"title":"Getting AppTrace for Google App Engine working with Python 2.7 on OSX 10.8.2","body":"<p>For the life of me I cannot get AppTrace to work on my Google App Engine Development server (Python 2.7 on OSX 10.8.2), mainly because of this:</p>\n\n<pre><code>ImportError: dlopen(/apptrace/guppy/sets/setsc.so, 2): Symbol not found: __PyLong_AsScaledDouble\nReferenced from: /apptrace/guppy/sets/setsc.so\nExpected in: flat namespace in /apptrace/guppy/sets/setsc.so\n</code></pre>\n\n<p>This is similar to the following question, except the question is asking for the best way to profile/monitor on GAE, and the accepted answer doesn't solve the ImportError issue:\n<a href=\"http://stackoverflow.com/questions/11202475/memory-profiling-monitoring-python-on-google-appengine\">Memory profiling/monitoring (python) on Google AppEngine</a></p>\n\n<p>I also came across this information from Guppy's tracker but it still did not solve the issue:\n<a href=\"http://sourceforge.net/tracker/?func=detail&amp;aid=3047282&amp;group_id=105577&amp;atid=641821\" rel=\"nofollow\">http://sourceforge.net/tracker/?func=detail&amp;aid=3047282&amp;group_id=105577&amp;atid=641821</a></p>\n\n<p>When I get the 0.1.9 release directly from the trunk this is my output:</p>\n\n<pre><code>pip install https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\nDownloading/unpacking https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\n  Downloading guppy\n  Checking out https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy to /var/folders/w7/k0q671gx6hb03_rl_tmcnkq80000gn/T/pip-JA8fuK-build\n  Running setup.py egg_info for package from https://guppy-pe.svn.sourceforge.net/svnroot/guppy-pe/trunk/guppy\n\nCleaning up...\n</code></pre>\n\n<p>This outputs much less than what the Guppy tracker states. However, if I run python -c 'import guppy; import guppy.sets' I still get the same ImportError as before.</p>\n\n<p>I'm far from a python or even an OSX expert, so any advice on what may be configured incorrectly or may be pointed to the wrong location would help. Thanks</p>\n"},{"tags":["python","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13205997,"title":"Python ImportError: No module named resource","body":"<p>I'm working with a Google App Engine project and within the project I am unable to use this import:</p>\n\n<pre><code>import resource\n</code></pre>\n\n<p>I receive this error:</p>\n\n<pre><code>ImportError: No module named resource\n</code></pre>\n\n<p>However, if I fire up the terminal and run this code it works fine:</p>\n\n<pre><code>$ python\nPython 2.7.3 (v2.7.3:70274d53c1dd, Apr  9 2012, 20:52:43) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import resource\n</code></pre>\n\n<p>The root folder of the project does not have an <strong>_<em>init</em>_</strong>.py file which is what many of the  other answers suggest. I use Aptana 3, OSX 10.8.2 and Python 2.7.3.</p>\n\n<p><strong>Why would the import not work in my website, but does work in the interpreter?</strong></p>\n"},{"tags":["google-app-engine","insert","gae-datastore","polling","rollback"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13205732,"title":"Should I assume data will always be written to database successfully?","body":"<p>I'm posting data to a server which then writes that data to Google App Engine's datastore.</p>\n\n<p>Should I assume that the writes will never fail?</p>\n\n<p>The worst case scenario I'm imagining is that a user updates data in their profile then later checks that profile to see that their update (data write) wasn't successful. They might be angry that after posting the data they didn't get a error message stating \"failure\" in the first place!</p>\n\n<p>If I can't assume that data writes will always succeed then I would have to do polling. That is necessary because the client they use to post the data is a mobile app which I fear might disconnect and so won't receive a regular HTTP response to tell if data write was a success or not. With polling I would instead check if the client is connected and then send it confirmation of data write or failure, or else I would rollback the write if they aren't connected and the data write had succeeded. My problem with that, however, is the overhead of having to use XMPP to poll for each and every data post. (Also, I can't do polling with httpresponse.write() because Google App Engine doesn't allow that.)</p>\n"},{"tags":["python","django","google-app-engine","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":13204996,"title":"How to upload webapp to appengine via python?","body":"<p>I have written my webapp in python but I cannot figure out how to upload it to appengine. I'm sort of new to python and making a webapp. I've downloaded appengine but it's not uploading and I can't see a simple html web page. Thanks for your help! </p>\n"},{"tags":["performance","query","google-app-engine","memcached","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13205472,"title":"Most Efficient Way for Users to Search for all of a Database Model","body":"<p>I have two database models in my webapp and one has around 10,000 entries and the other has close to double that. I have it set up right now so that all of these entries are kept in memcache.  I also have it set up so that the user can search by certain constraints and I just filter the cache by those constraints with some if statements.  Part of this is so that I don't have to pay for the search quota with the Google Search API.</p>\n\n<p>I wanted to see if using memcache here is the best option or if I should simply do a DB query which will quickly run up my read quota or if there is any other good option.  One of my problems here is that as my database gets larger the searches are getting slower.</p>\n\n<p>Here is some example code where I am searching by location and then filtering by a sport category:</p>\n\n<pre><code>        #this is the cache I am using\n        groups = group_cache()\n        search_location = self.request.get(\"search_location\")\n        search_postsport = self.request.get(\"search_postsport\")\n        GPSlocation = None\n        error=None\n        groups_to_render = None\n\n        if search_location:\n            g = geocoders.Google()\n            searched_location = None\n            #to catch an error where there is no corresponding location\n            try:\n                #to catch an error where there are multiple returned locations\n                try:\n                    place, (lat, lng) = g.geocode(search_location)\n                    place, searched_location = g.geocode(search_location)\n                except ValueError:\n                    geocodespot = g.geocode(search_location, exactly_one=False)\n                    place, (lat, lng) = geocodespot[0]\n                    place, searched_location = geocodespot[0]\n                GPSlocation = \"(\"+str(lat)+\", \"+str(lng)+\")\"\n\n                groups = group_cache()\n                return_groups = []                   \n                for group in groups:\n                    distance.distance = distance.GreatCircleDistance\n                    location_distance = distance.distance(searched_location, point.Point(group.lat, group.lng)).miles\n\n                    if location_distance &lt; 300:\n                        return_groups.append(group)\n                groups = return_groups\n                search=True\n                groups_to_render = sorted(groups, key=attrgetter('recordCount'), reverse=True)\n                groups_to_render = groups_to_render[:10]\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12938019,"title":"GAE deleting blob not working","body":"<p>I have this simple code</p>\n\n<pre><code>        BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();\n        BlobKey blobKeyDelete = new BlobKey(user.getAvatarBlobKey());\n        blobstoreService.delete(blobKeyDelete);\n</code></pre>\n\n<p>I'm 100% sure that the value of the key blob is correct and i have no exception. And the blob is not deleted..</p>\n\n<p>I do not know what is wrong, so if you have any idea on how i could troubleshot this that will be great!</p>\n"},{"tags":["google-app-engine","google-cloud-storage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13181356,"title":"\"ExistenceError\" in simple AppEngine + Google Cloud Storage application","body":"<p>I have a simple AppEngine handler as follows:</p>\n\n<pre><code>class TestGS(webapp2.RequestHandler):\n    def get(self):\n\n        file_name = '/gs/ds_stats/testfile'\n        files.gs.create(file_name, mime_type='text/html')        \n\n        with files.open(file_name, 'a') as file_handle:\n\n            file_handle.write(\"foo\")\n\n        files.finalize(file_name)\n</code></pre>\n\n<p>However, when I call this handler, I get <code>ExistenceError: ApplicationError: 105</code> at the line <code>with files.open(...</code>.</p>\n\n<p>This seems like a super simple scenario, and there's no indication at all as to why this is failing (especially since the <code>files.gs.create</code> right above it seems to have succeeded, though, is there any way to verify this?).</p>\n\n<p>Looking through the <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/api/files/file.py#177\" rel=\"nofollow\">source code</a>, I see the following problems can cause this error:</p>\n\n<pre><code>  if (e.application_error in\n      [file_service_pb.FileServiceErrors.EXISTENCE_ERROR,\n       file_service_pb.FileServiceErrors.EXISTENCE_ERROR_METADATA_NOT_FOUND,\n       file_service_pb.FileServiceErrors.EXISTENCE_ERROR_METADATA_FOUND,\n       file_service_pb.FileServiceErrors.EXISTENCE_ERROR_SHARDING_MISMATCH,\n       file_service_pb.FileServiceErrors.EXISTENCE_ERROR_OBJECT_NOT_FOUND,\n       file_service_pb.FileServiceErrors.EXISTENCE_ERROR_BUCKET_NOT_FOUND,\n       ]):\n    raise ExistenceError()\n</code></pre>\n\n<p>That's a pretty large range of issues... Of course it doesn't tell me which one! And again, strange that the 'create' seems to work.</p>\n"},{"tags":["eclipse","google-app-engine","gwt","plugins"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1068,"score":2,"question_id":5247372,"title":"How to add a project as a dependency on a GWT/GAE project","body":"<p>I have created a \"google project\"... went new web project with the gwt/gae plugin.  Now I want to reference code in another project.</p>\n\n<ul>\n<li><p>I had the project to the build path and start the project. GAE does not find the classes in the dependenct project.</p></li>\n<li><p>I tried then adding the dynamic web module facet to the google project and then editing the deployment assembly and adding the project like that... didn't work.</p></li>\n</ul>\n\n<p>The way I run the project is \"run as web application\".</p>\n\n<p>How do I add a project as a dependency onto a google project? I am using Helios Eclipse, latest google plugin, gwt and gae.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This is not actually a \"gwt\" project - does not have a front end. It is a back end GAE project.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":246,"score":1,"question_id":11808255,"title":"Email from Google App Engine goes in the SPAM folder even after following the DKIM procedure","body":"<p>In <a href=\"http://stackoverflow.com/questions/11774590/mails-sent-from-gae-go-in-the-spam-folder-of-hotmail-even-after-editing-spf-reco/11793615#11793615\">another post</a>, I was wondering if someone had also emails from Google App Engine ending up in the spam folder of Hotmail.</p>\n\n<p>Thanks to help from the community, I could find a way to solve the issue. I did leave the original post as it solves the issue for a set of email systems (such as free.fr).</p>\n\n<p>However, the fix was unfortunately partial and it remains issues with hotmail. Once this problem will be solved, I will update the initial post.</p>\n\n<p>You'll find below the message which ends up in the spam folder of Hotmail.</p>\n\n<p>What looks weird to me is the following :</p>\n\n<ul>\n<li>Yesterday I made tests where the email had \"dkim=pass\". Today other tests have \"dkim=temperror\". Although yesterday I had \"dkim=pass\", the messages ended up in the spam folder</li>\n<li>Today I have \"dkim=temperror\" and I don't understand what it means</li>\n</ul>\n\n<p>Does anyone has some ideas ? Getting more and more difficult to understand why it works on all email systems except hotmail.</p>\n\n<p>Thanks,</p>\n\n<p>Hugues</p>\n\n<p>x-store-info:4r51+eLowCe79NzwdU2kR3P+ctWZsO+J\nAuthentication-Results: hotmail.com; sender-id=pass (sender IP is 209.85.213.207) header.from=admin@plugsystems.com; <strong>dkim=temperror</strong> header.d=plugsystems.com; x-hmca=pass\nX-SID-PRA: admin@plugsystems.com\nX-Message-Status: n:0:n\nX-SID-Result: Pass\nX-DKIM-Result: TempError\nX-AUTH-Result: PASS\nX-Message-Delivery: Vj0xLjE7dXM9MDtsPTA7YT0wO0Q9MjtHRD0yO1NDTD00\nX-Message-Info: o9rlR4nWDTdAvwKKkW+ebjaNRBhWfirkKplRTvFb0jLyKfWDD1CiQJSrYGPEuh2GOIiEGly1AGxiI/aHFqM5d3PpaLYYerrWHzwUPlyoEy9CbytLpScTK1Jq+2/GQW4lIqYx3o3TG40EkcgVaBPqlw==\nReceived: from mail-yx0-f207.google.com ([209.85.213.207]) by BAY0-MC3-F27.Bay0.hotmail.com with Microsoft SMTPSVC(6.0.3790.4900);\n     Sat, 4 Aug 2012 03:55:31 -0700\nReceived: by yenl5 with SMTP id l5so28780yen.6\n        for ; Sat, 04 Aug 2012 03:55:31 -0700 (PDT)\nDKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\n        d=plugsystems.com; s=google;\n        h=mime-version:reply-to:x-google-appengine-app-id:message-id:date\n         :subject:from:to:content-type:content-transfer-encoding;\n        bh=euOvGlAMboKg1Q3U9r2HjPZ7pOICyqvz1yxwQnTnDp8=;\n        b=VLAlR0aAgxPJ/a3E+ZgWuZWXb3ZgocGXCPcp/4B0mLeCnI02mmohF6TLm2wMj1O8Od\n         HW8H6EIujSK/oirDJSAyyqN5/u1vhL3Bs0B2lafJjBVDkSsL1mP7DBIj6HMKrQpd6cee\n         b+URUbQ0tT8cadBoilvBxklEbt6d2XKFl5qBw=\nMIME-Version: 1.0\nReceived: by 10.236.116.74 with SMTP id f50mr2524543yhh.33.1344077731015; Sat,\n 04 Aug 2012 03:55:31 -0700 (PDT)\nReply-To: Plugimmo \nX-Google-Appengine-App-Id: s~plugimmo\nMessage-ID: &lt;20cf303dd262b52b2404c66e7b3a@google.com>\nDate: Sat, 04 Aug 2012 10:55:31 +0000\nSubject: Plugimmo\nFrom: Plugimmo \nTo: Olivier Truemath \nContent-Type: text/plain; charset=ISO-8859-1; format=flowed; delsp=yes\nContent-Transfer-Encoding: base64\nReturn-Path: 3o_8cUAgJEJwLHQCEIIKCI6EH.8KIKHEREAN.PNQAI6PDDKPI6EH.BN@M3KW2WVRGUFZ5GODRSRYTGD7.apphosting.bounces.google.com\nX-OriginalArrivalTime: 04 Aug 2012 10:55:31.0611 (UTC) FILETIME=[AAAD0EB0:01CD722F]</p>\n\n<p>Qm9uam91ciwNCkxlIGJ1dCBkZSBjZXQgZW1haWwgZXN0IGRlIHbpcmlmaWVyIHF1ZSB2b3VzIGF2\nZXogZWZmZWN0aXZlbWVudCBkZW1hbmTpICANCmFjY+hzIGF1IHNlcnZpY2UgUGx1Z2ltbW8gcG91\nciBsJ2VtYWlsIDogb2xpdmllci50cnVlbWF0aEBob3RtYWlsLmZyDQpTaSB2b3VzIGF2ZXogZWZm\nZWN0aXZlbWVudCBkZW1hbmTpIGFjY+hzIGF1IHNlcnZpY2UgcGx1Z2ltbW8sIHZldWlsbGV6ICAN\nCmNsaXF1ZXIgc3VyIGxlIGxpZW4gY2ktZGVzc291cyBwb3VyIGNvbmZpcm1lciB2b3RyZSBkZW1h\nbmRlDQpodHRwOi8vcGx1Z2ltbW8uYXBwc3BvdC5jb20vcGx1Z2ltbW8vdmVyaWZ5RW1haWw/Y29k\nZT03MjJjNGFhM2NhYTlhNWZlNTIzZTVjZDU3OTQxZjdlOA0K</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":13198587,"title":"Build Query object from query string - Objectify","body":"<p>Is it possible to build a <code>Query</code> object with Objectify with a query string? I mean, I know Objectify builds queries like: </p>\n\n<pre><code>Query&lt;Foo&gt; q = ofy().load().type(Foo.class);\nq = q.filter(\"bar\", b);\n</code></pre>\n\n<p>However, is there a way or any plans for Objectify to have the ability to build Query objects from query string like:</p>\n\n<pre><code>String query = \"SELECT * FROM Foo WHERE bar = b\";\nList&lt;Foo&gt; foo = ofy().buildQuery(query).asList(); \n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13200557,"title":"dev_appserver.py is not reloading changed code","body":"<p>At some point in the last few months, dev_appserver.py completely stopped reloading changed code on my Google App Engine project. Unfortunately, because the gap in my development coincided with at least one version change in the appserver platform, I can't be more specific about exactly when the symptom began.</p>\n\n<p>Manually stopping and starting dev_appserver.py does cause changes to be reflected immediately, but the old behavior was quite useful and I am eager to make it work again.</p>\n\n<p>I have found some code in the appengine source (<code>_internal/django/utils/autoreload.py</code>) which appears to be responsible for the reloading behavior, so I suspect that this is a bug and not an intended functionality change. The reloading code looks fairly straightforward and does not appear to depend on any fancy notification facilities in the OS, so I don't think that it is an OS bug. I'm running on MacOS 10.8.2 and Python 2.7.2.</p>\n"},{"tags":["sql","google-app-engine","gwt","google-cloud-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13178439,"title":"Google Cloud SQL doesnt work when deployed to appspot","body":"<p>I have a GWT project, using google sql cloud database. Everything works fine when developing locally ( development mode ). But when I deploy it to appspot it can't connect to to the database. </p>\n\n<p>Doesn't anyone have an idea why this is? Should I change permissions somewhere ? I'm pretty much  lost.</p>\n\n<p>I must say there is another deployed project using this database.</p>\n\n<p>Thanks in advance :) </p>\n\n<p>UPDATE: </p>\n\n<pre><code>     2012-11-02 16:14:59.888\n     Uncaught exception from servlet\n     java.lang.UnsupportedClassVersionError: \n     com/layout/server/EntityServiceImpl :                \n     Unsupported major.minor version 51.0\n</code></pre>\n\n<p>My App Engine log gave the following error, which is not database related. I've been using JRE 7 which appearantly is not compatible with GAE. ( appengine.google.com -> log ).</p>\n\n<p>I'm trying to use JDK6 now and see what happens :)</p>\n\n<p>This was the problem, changed to JDK 6 and everything is solved now. Had nothing to do with my database. Just the Java Version.</p>\n"},{"tags":["ruby","facebook","google-app-engine","web-scraping","watir"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13170451,"title":"facebook data to spreadsheet","body":"<p>some of the questions i have read\n<a href=\"http://facebook.stackoverflow.com/questions/1927676/scraping-a-facebook-app-for-data\">Scraping a Facebook App for Data</a></p>\n\n<p><a href=\"http://facebook.stackoverflow.com/questions/2028940/access-to-facebook-data\">Access to facebook data</a></p>\n\n<p>I want to create a spreadsheet that will contain all the diff items that i have in a facebook game, i.e. weapons Armour. I thought this would be fairly easy. I have created a some experience with c++, javascript, php, and to a lesser extent python. I have been able to import the Items to an excel spreadsheet. but it imports every thing on the webpage. and i would like to be able to have seperate sprreadsheets for each type of item and have the spread sheet update automaticly. so i went to the google data api. an the problem there is that facebook wont let my google spreadsheet script access anything it redirects me to the login page(or atleast that is what i suspect because when i run the debug it shows the a redirected url). then i read about how javascript does not work coss domain.<a href=\"http://stackoverflow.com/questions/9284768/cross-domain-javascript\">cross domain javascript</a>. and sience google spript is java based i thought that that might be the problem. so I went to scraperwiki<a href=\"https://scraperwiki.com/\" rel=\"nofollow\">https://scraperwiki.com/</a> and created a spript there in php thinking that would solve the problem. Now i should mention that i have tested if i can access this page without being loged into facebook (meaning i logged out of facebook and called the site and i was able to pull the site up in the browser and use a java shell to get the data i wanted. then when i click another link that requirs me to belogged into facebook the login screen would show up i would click the bookmark to the page i want to get the data from and i can see it and get the data from javashell.) </p>\n\n<p>So after that long story my questions are\n1. will oauth solve this road block?</p>\n\n<ol>\n<li><p>if i created a FB app would i be able to get the data i wanted and then be able to get it to the google spreadsheet?</p></li>\n<li><p>would something like Watin <a href=\"http://stackoverflow.com/questions/tagged/watin\">http://stackoverflow.com/questions/tagged/watin</a> be a better way? (I have no idea what it is capable of)</p></li>\n</ol>\n"},{"tags":["java","eclipse","google-app-engine","jsp","servlets"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":8318,"score":3,"question_id":4052552,"title":"What JAR files are needed for Eclipse to use JSTL so it ultimately works on GAE/J?","body":"<p>I've been trying for longer than I'd like to admit to get JSTL working under Eclipse (and ultimately under GAE/J).  I've downloaded Eclipse, the Google App Engine Extension for Eclipse, and JSTL (<a href=\"http://download.java.net/maven/1/jstl/jars/\" rel=\"nofollow\">http://download.java.net/maven/1/jstl/jars/</a> - jstl-1.2.jar is in the WEB-INF\\lib directory).</p>\n\n<p>My code is below along with the output:</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Test Page&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;\nTest Page\n\n&lt;c:set var=\"myvar\" value=\"3\"/&gt;\n\n&lt;/BODY&gt;&lt;/HTML&gt;\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>The tag handler class for \"c:set\" (org.apache.taglibs.standard.tag.rt.core.SetTag) was not found on the Java Build Path \ntest.jsp\n[my app's path and name]\nline 8\nJSP Problem\n</code></pre>\n\n<p>From the last post on this page I don't think I need a standard.jar (<a href=\"http://forums.sun.com/thread.jspa?threadID=701267\" rel=\"nofollow\">http://forums.sun.com/thread.jspa?threadID=701267</a>) and in any case I couldn't find one on the Oracle download.java.com site along with the jstl jar.</p>\n\n<p>EDIT 4: Works now - Steps:<br>\n1) Use the Apache version<br>\n2) Actually include the jar file in the build path (right click the eclipse project and  hit Properties -> Java Build Path -> Libraries -> Add Class Folder...; the war/WEB-INF/lib is apparently not on the build path by default)<br>\n3) Add the file c.tld to war/WEB-INF/tld  </p>\n\n<p>Make your web.xml look like:</p>\n\n<pre><code>&lt;\\?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.4\" xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"&gt;\n&lt;display-name&gt;JSTLExample&lt;/display-name&gt;\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;jsp-config&gt;\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;http://java.sun.com/jstl/core&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/tld/c.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n&lt;/jsp-config&gt;  \n&lt;/web-app&gt;\n</code></pre>\n\n<p>The test jsp file contents:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n &lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%&gt;\n\n &lt;!-- Taglib --&gt;\n &lt;%@ taglib uri=\"http://java.sun.com/jstl/core\" prefix=\"c\" %&gt;\n\n &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n &lt;head&gt;\n &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n &lt;title&gt;Test Apache ServiceMix with JSTL&lt;/title&gt;\n &lt;/head&gt;\n &lt;body&gt;\n\n This is a testpage.\n\n &lt;%= \"hello\" %&gt;\n &lt;c:forEach var=\"i\" begin=\"1\" end=\"10\" step=\"1\"&gt;\n &lt;c:out value=\"${i}\" /&gt;\n\n &lt;br /&gt;\n &lt;/c:forEach&gt;\n\n\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13196702,"title":"What is the difference between import db and import datastore","body":"<p>What is the difference between import db and import datastore</p>\n\n<pre><code>from google.appengine.ext import db\n# ore\nfrom google.appengine.api import datastore\n</code></pre>\n\n<p>I tried to understand how to get name from a Page in the cccwiki:</p>\n\n<pre><code>class WikiPage(BaseRequestHandler):\n\n    def index(name):\n        # Loads the pages as index links with the given name.\n\n        query = datastore.Query('Page')\n        query['name ='] = name\n        entities_list = query.Get(100)\n</code></pre>\n"},{"tags":["google-app-engine","memory-leaks","task-queue","permgen"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13184983,"title":"Running out of PermGen space when using DeferredTasks in GAE 1.7.3","body":"<p>I switched to Google App Engine Java SDK <strong>1.7.3</strong> recently. Since then, I am running out of <strong>PermGen space</strong> every time I am submitting <a href=\"https://developers.google.com/appengine/docs/java/taskqueue/overview-push#Deferred_Tasks\" rel=\"nofollow\">DeferredTasks</a> into the task queue.</p>\n\n<ul>\n<li><strong>This does not happen when the app is deployed to App Engine. It only happens locally.</strong> But it is blocking my local testing and failing integration tests.</li>\n<li><p>It is happening on MacOSX 10.7.5 with Java 6</p>\n\n<pre><code>$ java -version \njava version \"1.6.0_37\"\nJava(TM) SE Runtime Environment (build 1.6.0_37-b06-434-11M3909)\nJava HotSpot(TM) 64-Bit Server VM (build 20.12-b01-434, mixed mode)\n</code></pre></li>\n<li><p>And this is part of stacktrace I am seeing when the problem occurs.</p>\n\n<pre><code>INFO: Successfully processed ../target/projectName/WEB-INF/queue.xml\nNov 1, 2012 3:04:00 PM com.google.appengine.api.taskqueue.dev.LocalTaskQueue init\nINFO: LocalTaskQueue is initialized\nNov 1, 2012 3:04:01 PM org.quartz.simpl.SimpleThreadPool initialize\nINFO: Job execution threads will use class loader of thread: 1255545583@qtp-1458850232-0\nNov 1, 2012 3:04:02 PM org.quartz.core.QuartzScheduler &lt;init&gt;\nINFO: Quartz Scheduler v.UNKNOWN.UNKNOWN.UNKNOWN created.\nNov 1, 2012 3:04:02 PM org.quartz.simpl.RAMJobStore initialize\nINFO: RAMJobStore initialized.\nNov 1, 2012 3:04:02 PM org.quartz.impl.StdSchedulerFactory instantiate\nINFO: Quartz scheduler 'DefaultQuartzScheduler' initialized from default resource file in Quartz package: 'quartz.properties'\nNov 1, 2012 3:04:02 PM org.quartz.impl.StdSchedulerFactory instantiate\nINFO: Quartz scheduler version: UNKNOWN.UNKNOWN.UNKNOWN\nNov 1, 2012 3:04:02 PM org.quartz.core.QuartzScheduler start\nINFO: Scheduler DefaultQuartzScheduler_$_NON_CLUSTERED started.\nNov 1, 2012 3:04:02 PM com.google.appengine.api.taskqueue.dev.LocalTaskQueue start_\nINFO: Local task queue initialized with base url http://localhost:8083\nException in thread \"DefaultQuartzScheduler_Worker-9\" java.lang.OutOfMemoryError: PermGen space\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n        at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n        at com.google.appengine.tools.development.DevAppServerClassLoader.loadClass(DevAppServerClassLoader.java:92)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n        at com.google.appengine.api.urlfetch.URLFetchServicePb$URLFetchRequest.newBuilder(URLFetchServicePb.java:1902)\n        at com.google.appengine.api.taskqueue.dev.UrlFetchJob.newFetchRequest(UrlFetchJob.java:152)\n        at com.google.appengine.api.taskqueue.dev.UrlFetchJob.execute(UrlFetchJob.java:83)\n        at org.quartz.core.JobRunShell.run(JobRunShell.java:203)\n        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)\nException in thread \"1255545583@qtp-1458850232-0\" java.lang.OutOfMemoryError: PermGen space\nException in thread \"Timer-6\" java.lang.OutOfMemoryError: PermGen space\nException in thread \"Timer-4\" java.lang.OutOfMemoryError: PermGen space\nException in thread \"Timer-2\" java.lang.OutOfMemoryError: PermGen space\nException in thread \"Timer-8\" java.lang.OutOfMemoryError: PermGen space\n</code></pre></li>\n</ul>\n\n<p>See below for the code that triggers the issue. The DeferredTask has a memcache reference to get data from memcache and potentially remove it. The task is running with a delay of 10 seconds.</p>\n\n<pre><code>class Foo {\n    private void enqueueTask() {\n        queue.add(TaskOptions.Builder.withPayload(new Task()).countdownMillis(10 * 1000));\n    }\n\n    private static class Task implements DeferredTask {\n        private static final MemcacheService memcache = MemcacheServiceFactory.getMemcacheService();\n        private static final Logger log = Logger.getLogger(Task.class.getName());\n\n        @Override\n        public void run() {\n            final String key = ...;\n\n            if (memcache.contains(key)) {\n                final Object value = memcache.get(key);\n\n                if (some condition depending on value) {\n                    memcache.delete(key);\n                    memcache.increment(some other field, -1l);\n                }\n            } else {\n                log.warning(\"error message\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Can somebody else reproduce this? Thanks!</p>\n\n<p><strong>Update:</strong> I created <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=8377\" rel=\"nofollow\">issue 8377</a> for this on the GAE's Google Code page.</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13177562,"title":"Sharing classes between GWT and AppEngine","body":"<p>I use AppEngine (Java) and GWT to design my app.  I have a class that represents objects that both the client (GWT) and the server (AppEngine) act on.  Right now I have a AppEngine class (which contains all the server side information) and a class in the shared directory that the client uses (and gets passed between RPC calls).  Now I need methods that convert between the two, and reproduce methods needed on the server and the client.  This has be come a headache and I see bugs being prone when the class get more complicated.</p>\n\n<p>The reason I didn't just make one shared class is that I didn't want to expose some of my server said logic, methods and attributes to the client.  But I was reading that when GWT compiles it drops unused methods, and attributes from the compiled code.  Is this true, and will this protect the code that I don't want to be seen on the client?  Are there any gotchas I should be aware of?  Attributes are less of a worry (I think) since it'll obfuscate the names.  I know I can use the transient keyword so server data doesn't get sent to the client in RPC calls.</p>\n\n<p>What would be best is an annotation I can put on methods that lets the GWT compiler know that it should never compile this method, that way I know it will never make it in to the compiled javascript.</p>\n\n<p>Lastly if I keep the code separated is there a best practice for cases like this?</p>\n"},{"tags":["java","google-app-engine","data-export"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13195380,"title":"Get all entities from Google App Engine","body":"<p>Can I get all entities from Google App Engine using API for Java? I need some kind of export of my application data.  In the Google documentation I have found only Phyton tool for data export. Is there something similar for Java?</p>\n\n<p>Regards,\nDarko</p>\n"},{"tags":["google-app-engine","encryption","cryptography","pycrypto"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13195115,"title":"pycrypto develoment server error \"from Crypto.Cipher import blockalgo\"","body":"<p>I have installed pycrypto version 2.6 , and i am getting this error</p>\n\n<pre><code>from Crypto.Cipher import blockalgo\nImportError: cannot import name blockalgo\n</code></pre>\n\n<p>I have read many post but i am unable to solve this problem</p>\n"},{"tags":["python","web-services","google-app-engine","cgi"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13167865,"title":"Using python on Google App Engine to handle HTML form data using POST method","body":"<p>Attempting to develop a python web service on the Google App Engine that will handle data posted from an HTML form. Can someone please advise what I'm doing wrong? All files residing in the same directory on the desktop \\helloworld.</p>\n\n<p>OS: Win 7 x64\nPython 2.7\nGoogle App Engine (Local)</p>\n\n<p>helloworld.py</p>\n\n<pre><code>import webapp2\nimport logging\nimport cgi\n\nclass MainPage(webapp2.RequestHandler):\n\n  def post(self):\n    self.response.headers['Content-Type'] = 'text/plain'\n    form = cgi.FieldStorage()\n    if \"name\" not in form:\n      self.response.write('Name not in form')\n    else:\n      self.response.write(form[\"name\"].value)\n\napp = webapp2.WSGIApplication([('/', MainPage)],debug=False)\n</code></pre>\n\n<p>page.html</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;form action=\"http://localhost:8080\" method=\"post\"&gt;\n    Name: &lt;input type=\"text\" name=\"name\"/&gt;\n    &lt;input type=\"submit\" value=\"Submit\"/&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Using a browser (Chrome) viewing the page.html, I input a text into the field and press submit, I expect to see the text being displayed in the browser, but I get \"Name not in form\". It works if I change the HTML form method to get and the python function to def get(self), but I would like to use the post method. Any help with explanation would be appreciated.</p>\n"},{"tags":["java","google-app-engine","gae-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13192580,"title":"GAE Search API: Default value in order SortExpression","body":"<p>When setting sorting order option in SortExpression.Builder, it's strictly required to set a <code>defaultValue(String,Numeric or Date)</code>.</p>\n\n<p>What is a purpose of this setting and how it affects search results or result sorting order?</p>\n"},{"tags":["java","google-app-engine","proxy"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13194501,"title":"How Create Your Proxy Server Using Google App Engine in Java?","body":"<p>I'm trying to hava a simple Proxy server written in java on Google engine app</p>\n\n<p>the servlet is :</p>\n\n<pre><code>import java.io.*;\nimport java.util.Enumeration;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.List;\nimport java.util.logging.*;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\nimport java.net.URL;\nimport java.net.HttpURLConnection;\n\npublic class ProxyServlet extends HttpServlet {\n\n    private ServletContext servletContext;\n    private Logger log;\n\n    public void init(ServletConfig servletConfig) throws ServletException {\n        servletContext = servletConfig.getServletContext();\n        log = Logger.getLogger(ProxyServlet.class.getName());\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response){\n        doPost(request, response);\n    }\n\n    public void doPost(HttpServletRequest request, HttpServletResponse response){\n        System.out.println( \"doPost\"  );\n\n\n        BufferedInputStream webToProxyBuf = null;\n        BufferedOutputStream proxyToClientBuf = null;\n        HttpURLConnection con;\n\n        try{\n            int statusCode;\n            int oneByte;\n            String methodName;\n            String headerText;\n\n            String urlString = request.getRequestURL().toString();\n            String queryString = request.getQueryString();\n\n            urlString += queryString==null?\"\":\"?\"+queryString;\n            URL url = new URL(urlString);\n\n            log.info(\"Fetching &gt;\"+url.toString());\n\n            con =(HttpURLConnection) url.openConnection();\n\n            methodName = request.getMethod();\n            con.setRequestMethod(methodName);\n            con.setDoOutput(true);\n            con.setDoInput(true);\n//            HttpURLConnection.setFollowRedirects(false);\n            con.setUseCaches(true);\n\n            for( Enumeration e = request.getHeaderNames() ; e.hasMoreElements();){\n                String headerName = e.nextElement().toString();\n                con.setRequestProperty(headerName,    request.getHeader(headerName));\n            }\n\n            con.connect();\n\n            if(methodName.equals(\"POST\")){\n                BufferedInputStream clientToProxyBuf = new BufferedInputStream(request.getInputStream());\n                BufferedOutputStream proxyToWebBuf     = new BufferedOutputStream(con.getOutputStream());\n\n                while ((oneByte = clientToProxyBuf.read()) != -1) \n                    proxyToWebBuf.write(oneByte);\n\n                proxyToWebBuf.flush();\n                proxyToWebBuf.close();\n                clientToProxyBuf.close();\n            }\n\n            statusCode = con.getResponseCode();\n            response.setStatus(statusCode);\n\n            for( Iterator i = con.getHeaderFields().entrySet().iterator() ; i.hasNext() ;){\n                Map.Entry mapEntry = (Map.Entry)i.next();\n                if(mapEntry.getKey()!=null)\n                    response.setHeader(mapEntry.getKey().toString(), ((List)mapEntry.getValue()).get(0).toString());\n            }\n\n            webToProxyBuf = new BufferedInputStream(con.getInputStream());\n            proxyToClientBuf = new BufferedOutputStream(response.getOutputStream());\n\n            StringBuffer sb = new StringBuffer(); \n\n            while ((oneByte = webToProxyBuf.read()) != -1) {\n                proxyToClientBuf.write(oneByte);\n                sb.append(oneByte);\n            }\n\n            System.out.println( sb );\n\n            proxyToClientBuf.flush();\n            proxyToClientBuf.close();\n\n            webToProxyBuf.close();\n            con.disconnect();\n\n        }catch(Exception e){\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n        finally{\n        }\n    }\n}\n</code></pre>\n\n<p>After deploy I set firefox proxy configs  with  proxy http = myproxyappname.appspot.com  and port = 80\nbut Firefox can surf only on google pages</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13193712,"title":"AppEngine return 4 bytes of data","body":"<p>I want to return 4 bytes of data from AppEngine (Python).</p>\n\n<p>In some cases I want to return a), in some cases b)</p>\n\n<p>a) 393217 = 0x60001</p>\n\n<p>b) 393218 = 0x60002</p>\n\n<p>The trouble is, If I just write out the base10 number to the output stream like this:</p>\n\n<pre><code>class MyClass(webapp.RequestHandler):\n    def get(self, option):\n        self.response.out.write(393217)\n</code></pre>\n\n<p>It returns 6 bytes of data, which is correct if 393217 was interpreted as a string. But I want to return just 4 bytes 0x00060001</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","routes","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13169424,"title":"Webapp2 extract named parameters from route URL (without the Request, just the URL)","body":"<p>I am using a route like the following in my app:</p>\n\n<p><code>Route(r'/thing/&lt;some_id&gt;/foo', handler=ThingFoo, name=\"thing-foo\")</code></p>\n\n<p>This is used to generate a url using <code>uri_for('thing-foo', some_id=\"something\")</code>, which is returned to the user which they store.\nThen, in another request, the user posts the url returned to them previously, where it needs to be parsed.</p>\n\n<p>I would like to extract the <code>&lt;some_id&gt;</code> pattern's value from the url provided in a similar way to how the router does it to pass the value to the RequestHandler's get/post methods, but the documentation on this seems to be lacking.</p>\n\n<p>Is there something like the following?</p>\n\n<pre><code>route, some_id = webapp2.extract_uri(the_url)\n</code></pre>\n\n<p>(Of course I could extract the value directly using a regex, but that doesn't seem very DRY).</p>\n\n<p>Here is an example of what I want to do.</p>\n\n<pre><code>def image_url(request, image_blob_key):\n    if image_blob_key:\n        return request.url_for('image', resource=image_blob_key, _full=True)\n    else:\n        return None\n\ndef blob_key_from_image_url(image_url):\n    # Do something here to calculate the blob_key from the URL.\n    return blob_key\n</code></pre>\n\n<p>In one part of my app, image_url is calculated from a blob_key and passed to the user. Later on if they (for example) want to delete the image, they pass the url back in a POST request, and I want to extract the blob_key from it so I can delete it.</p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":13178828,"title":"Python App Engine Backend working for cron but not if I hit url directly","body":"<p>We have a script that takes some time to execute. We have scheduled a cron job and use backend to run the job.</p>\n\n<p>Here's what the cron looks like:<br>\n<code>url: /cron/my_job_name<br>\ntarget: mybackend<br>\nschedule: every 30 minutes from 06:00 to 12:00</code></p>\n\n<p>The cron job runs correctly as expected. But when I hit the url:\n<a href=\"https://myappname.googleplex.com/cron/my_job_name\" rel=\"nofollow\">https://myappname.googleplex.com/cron/my_job_name</a>\nI get a \"DeadlineExceededError\" when the job runs for more than 60 seconds.</p>\n\n<p>I need to be able to hit the url directly for testing purposes. I don't want to change the cron schedule every time for testing.</p>\n\n<p>Is there a way to run the backend by hitting the url?  </p>\n\n<p>Adding my app.yaml and backends.yaml  </p>\n\n<p><strong>app.yaml</strong><br>\n<code>url: /cron/my_job_name<br>\n  script: path/my_job_name.py<br>\n  login: admin</code>  </p>\n\n<p><strong>backends.yaml</strong><br>\n<code>name: mybackend<br>\n  class: B8<br>\n  instances: 1<br>\n  options: dynamic</code></p>\n"},{"tags":["java","hibernate","google-app-engine","google-cloud-sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13189623,"title":"Google cloud sql access denied exception in local","body":"<p>I've pasted the full stack trace here - \n<a href=\"http://pastebin.com/nG8shz7j\" rel=\"nofollow\">Pastebin</a>.</p>\n\n<pre><code>Caused by: java.security.AccessControlException: access denied (java.net.SocketPermission localhost resolve)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n    at java.security.AccessController.checkPermission(AccessController.java:546)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n    at \n\n    com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:283)\n        at java.lang.SecurityManager.checkConnect(SecurityManager.java:1031)\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1145)\n        at java.net.InetAddress.getAllByName(InetAddress.java:1083)\n        at java.net.InetAddress.getAllByName(InetAddress.java:1019)\n        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:243)\n        at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:284)\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2043)\n        ... 123 more\n    Caused by:\n\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n</code></pre>\n\n<p>Here is my database properties</p>\n\n<pre><code>jdbc.driverClassName=com.google.appengine.api.rdbms.AppEngineDriver\njdbc.url=jdbc:mysql://localhost:3306/tester\njdbc.username=root\njdbc.password=root\nhibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nhibernate.hbm2ddl.auto=update\n</code></pre>\n\n<p>And applicationCOntext - </p>\n\n<pre><code>&lt;bean class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"location\"&gt;\n      &lt;value&gt;/WEB-INF/classes/database.properties&lt;/value&gt;\n    &lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=\"dataSource\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n    &lt;property name=\"url\" value=\"${jdbc.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n    &lt;property name=\"password\" value=\"${jdbc.password}\" /&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\"&gt;\n      &lt;ref local=\"dataSource\"/&gt;\n    &lt;/property&gt;\n\n    &lt;property name=\"hibernateProperties\"&gt;\n      &lt;props&gt;\n        &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n        &lt;prop key=\"hibernate.show_sql\"&gt;false&lt;/prop&gt;\n        &lt;prop key=\"hibernate.cache.use_query_cache\"&gt;\n          false\n        &lt;/prop&gt;\n        &lt;prop key=\"hibernate.cache.use_second_level_cache\"&gt;\n          false\n        &lt;/prop&gt;\n        &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;${hibernate.hbm2ddl.auto}&lt;/prop&gt;\n      &lt;/props&gt;\n    &lt;/property&gt;\n</code></pre>\n\n<p>Here is how I tried to use it - </p>\n\n<pre><code>public class MainDao {\n  protected SessionFactory sessionFactory;\n\n  public SessionFactory getSessionFactory() {\n    return sessionFactory;\n  }\n\n  public void setSessionFactory(SessionFactory sessionFactory) {\n    this.sessionFactory = sessionFactory;\n  }\n\n  private Session openSession(){\n    return this.sessionFactory.openSession();\n  }\n}\n</code></pre>\n\n<p>I get the error when I call openSession. Need help with this. I'm not able to figure out the problem.</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13189734,"title":"fetch entities with missing or null property?","body":"<p>I'm using Objectify4, \nIf a field is not set, from the datastore viewer we can see it is marked as <code>&lt;missing&gt;</code> or <code>&lt;null&gt;</code>, Is there a way to fetch these entities?</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":440,"score":1,"question_id":11130320,"title":"How do I change the Java version of my \"installed project facet\" in Eclipse?","body":"<p>I just installed Eclipse 3.7 and the Google Plugin for Eclipse because I want to teach myself how to use Google App Engine.</p>\n\n<p>When I create a new web application and run, I got an error that noted that annotations were not allowed in my JRE version (1.4). Hence, I set my JRE to 1.6 and my compiler compliance level to 1.6.</p>\n\n<p>However, I now get this new error.</p>\n\n<pre><code>Description Resource    Path    Location    Type\nJava compiler level does not match the version of the installed Java project facet.\nMyprojectname       Unknown Faceted Project Problem (Java Version Mismatch)\n</code></pre>\n\n<p>How do I change \"the version of the installed Java project facet\"?</p>\n\n<p>There is no item called \"Project Facet\" to the left of my project's properties menu.</p>\n"},{"tags":["ajax","image","google-app-engine","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13114748,"title":"AJAX Based Dynamic Image Serving - Google App Engine Python 2.7","body":"<p>The instructions from Google about dynamically serving images with GAE are here: <a href=\"https://developers.google.com/appengine/articles/python/serving_dynamic_images\" rel=\"nofollow\">https://developers.google.com/appengine/articles/python/serving_dynamic_images</a>\nThe only problem is that this method does not use AJAX, and I don't think it is as efficient as I would expect.</p>\n\n<p>I am trying to use AJAX with GAE Python 2.7 to serve multiple images dynamically, but I am focusing on serving one right now.</p>\n\n<p>Python Server Side Code:</p>\n\n<pre><code>class GetImage(webapp2.RequestHandler):\n    def get(self):\n        problem = Problem.all()[0]\n        if(problem and problem.prompt_image):\n            self.response.headers['Content-Type'] = \"image/png\"\n            self.response.out.write(problem.prompt_image)\n</code></pre>\n\n<p>Client Side AJAX Code:</p>\n\n<pre><code>$.ajax({\n    url: \"/img\",\n    type: \"POST\",\n    dataType: \"html\",\n    success: function(msg){\n        $(\"#right\").append(\"&lt;img&gt;\"+msg+\"&lt;/img&gt;\");\n    }\n});\n</code></pre>\n\n<p>The problem that I am facing is that I don't know how to serve the blobstore contents via AJAX to the DOM. Can anyone point me in the right direction?</p>\n\n<p>Thanks!</p>\n\n<p>Edit: voscausa's solution seems to be on the right track. However, it requires a blob_key. My model is as follows:</p>\n\n<pre><code>class Problem(db.Model):\n    prompt_image = db.BlobProperty()\n</code></pre>\n\n<p>I can't seem to figure out how to get the Blob Key from the db.BlobProperty. Is this possible?</p>\n"},{"tags":["java","google-app-engine","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13188643,"title":"How to get static URI with AppEngine","body":"<p>I can get a static resource like this with AppEngine:</p>\n\n<pre><code>InputStream is = \n    getServletContext().getResourceAsStream(\"/WEB-INF/config/Reports.xml\");\n</code></pre>\n\n<p>However, I need to get this static resource <code>URI</code> and pass it on to a Java class which is not a Servlet. </p>\n\n<p>What is the strategy to pass URI if this is the case?</p>\n"},{"tags":["google-app-engine","cookies","python-2.7","sessionid","webapp2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13187649,"title":"How to solve webapp2 session / cookie conflicts between browser tabs","body":"<p>Cookies are shared between browser tabs. How can I solve this in webapp2. I did not find a webapp2 preferred solution. I am using the default secure cookie backend.</p>\n\n<p>With get_session I can create a new and unique session and I can save the session name in the form. Is this a goord solution, or?</p>\n"},{"tags":["python","google-app-engine","jinja2","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13113726,"title":"UnicodeDecodeError from a GET-parameter in webapp2","body":"<p>I'm getting a UnicodeDecodeError when recieving a GET-parameter from webapp2 that contains unicode characters, and then using it to do a NDB query. I get the same error message when manually running a unicode() on the parameter in the handler, so there either seems to be a problem in webapp2's URL routing or I've missed something. Preferably, all GET-parameters should be converted to unicode before getting passed into the handler so I don't need to do manual conversions in all of my handlers. I actually think it's worked before in an earlier version.</p>\n\n<p>The full error message read: <code>UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 1: ordinal not in range(128)</code></p>\n\n<p>The GET-parameter contains the following string: <code>göteborg</code>. It looks fine when I raise an Exception on it, but gives me an error when I (or NDB) use unicode() on it.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In NDB, it fails on the following code: <code>File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\api\\datastore_types.py\", line 1562, in PackString\n    pbvalue.set_stringvalue(unicode(value).encode('utf-8'))</code></p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>I later found out that my problem was actually not with GET-parameters, but the routed parts of the URL that the handler's get() method recieve as keyword arguments. Check out <a href=\"http://stackoverflow.com/questions/13114151/how-do-i-make-handlers-automatically-decodeutf-8-on-all-routed-parameters/\">this follow-up question</a> for solutions how to decode these parameters automatically.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","google-app-engine","python-2.7","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13183942,"title":"How to ensure Blob metadata is kept when copying blob in Python App Engine","body":"<p>I am uploading a image file to the server and resizing it to save disk space in the datastore. My method of resizing and then deleting the original blob and only keeping the smallVersion of the blob removes all metadata. Is there a way to copy the Blob metadata from the original blob and add it to the new smaller version?</p>\n\n<pre><code>def post(self):\n    upload_files = self.get_uploads('file')\n    blob_info = upload_files[0]\n    if blob_info:\n        img = images.Image(blob_key=blob_info)\n        img.im_feeling_lucky()\n        img.resize(width=600, height=800)\n        smallVersion = img.execute_transforms(output_encoding=images.JPEG)\n        file_name = files.blobstore.create(mime_type='image/jpeg')\n        with files.open(file_name, 'a') as f:  \n            f.write(smallVersion)\n        files.finalize(file_name)\n        blob_key = files.blobstore.get_blob_key(file_name)\n        blobstore.delete(blob_info.key())\n        blobCacheURL = images.get_serving_url(blob_key)\n</code></pre>\n"},{"tags":["google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13178664,"title":"gwt dynamic number of presenter widgets","body":"<p>Is there a way to add a dynamic number of presenter widgets? I can add individual presenters just fine but how do I add a collection. I have a placeholder in my UiBinder XML </p>\n\n<p>ui.xml</p>\n\n<pre><code> &lt;g:LayoutPanel ui:field=\"collection\"/&gt;\n</code></pre>\n\n<p>View</p>\n\n<pre><code>@Override\npublic void setInSlot(Object slot, Widget content) {\n    if (slot == TicketPresenter.DYNAMIC_COLLECTION_SLOT) {\n        collection.clear();\n        collection.add(content);\n    } \n}\n</code></pre>\n\n<p>Presenter</p>\n\n<pre><code>setInSlot(DYNAMIC_COLLECTION_SLOT, collectionPresenter);\n</code></pre>\n\n<p>But I want to be able to have a List presenters and add them all to the collection panel. Is this possible? I know I can create a composite to do this but I want to use presenter widgets.</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13181648,"title":"Google App Engine authentication options","body":"<p>I'm looking to put an app on Google Cloud (basically going to convert a visual basic project into Javascript and then upload it.) I want to start a subsciption service for a cloud-based application and it's not going to be gargantuan by any stretch of the imagination. Very small (read: not tons of columns or huge amounts of data) and just want to give users an option. </p>\n\n<p>I signed up today and noticed there were 3 options for authentication. However, I don't see alternatives (example: authentication based on a confirmed paid customer account).</p>\n\n<p>Am I to assume that there's no other way to limit access for a Google App Engine app (for proprietary reasons)? </p>\n"},{"tags":["google-app-engine","gwt","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":13182858,"title":"Google search by date","body":"<p>I am doing a search for Legionella on Google new search and want an entry for past week only.\nWhen I selected last week only I get the following:</p>\n\n<p><a href=\"https://www.google.com/#q=legionella&amp;hl=en&amp;tbm=nws&amp;prmd=imvns&amp;source=lnt&amp;tbs=qdr:w&amp;sa=X&amp;ei=xraSUNL_FOTlyAH1vYCwDQ&amp;ved=0CB0QpwUoAw&amp;bav=on.2,or.r_gc.r_pw.r_qf.&amp;fp=aca08bdca12af73f&amp;bpcl=37189454&amp;biw=1366&amp;bih=614\" rel=\"nofollow\">https://www.google.com/#q=legionella&amp;hl=en&amp;tbm=nws&amp;prmd=imvns&amp;source=lnt&amp;tbs=qdr:w&amp;sa=X&amp;ei=xraSUNL_FOTlyAH1vYCwDQ&amp;ved=0CB0QpwUoAw&amp;bav=on.2,or.r_gc.r_pw.r_qf.&amp;fp=aca08bdca12af73f&amp;bpcl=37189454&amp;biw=1366&amp;bih=614</a> </p>\n\n<p>It shows and entry for Oct 5th. As I just want the last week I also entered the following:</p>\n\n<pre><code>    &amp;tbs=qdr:w\n</code></pre>\n\n<p>as in: \n<a href=\"https://www.google.com/#q=legionella&amp;hl=en&amp;tbm=nws&amp;prmd=imvns&amp;source=lnt&amp;tbs=qdr:w&amp;sa=X&amp;ei=xraSUNL_FOTlyAH1vYCwDQ&amp;ved=0CB0QpwUoAw&amp;bav=on.2,or.r_gc.r_pw.r_qf.&amp;fp=aca08bdca12af73f&amp;bpcl=37189454&amp;biw=1366&amp;bih=614&amp;tbs=qdr:w\" rel=\"nofollow\">https://www.google.com/#q=legionella&amp;hl=en&amp;tbm=nws&amp;prmd=imvns&amp;source=lnt&amp;tbs=qdr:w&amp;sa=X&amp;ei=xraSUNL_FOTlyAH1vYCwDQ&amp;ved=0CB0QpwUoAw&amp;bav=on.2,or.r_gc.r_pw.r_qf.&amp;fp=aca08bdca12af73f&amp;bpcl=37189454&amp;biw=1366&amp;bih=614&amp;tbs=qdr:w</a></p>\n\n<p>but still seem to get the Oct 5th entry which is more than more than a week old. Is there something wrong that I am doing? </p>\n"},{"tags":["python","google-app-engine","cron","hacks"],"answer_count":6,"favorite_count":7,"up_vote_count":5,"down_vote_count":1,"view_count":3473,"score":4,"question_id":149307,"title":"Background tasks on appengine","body":"<p>How to run background tasks on appengine ?</p>\n"},{"tags":["python","google-app-engine","asynchronous","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13159051,"title":"async db access between requests on GAE/Python","body":"<p>I'm trying to optimize my GAE webapp for latency.</p>\n\n<p>The app has two requests which usually come one after another.</p>\n\n<p>Is it safe to start an async db/memcache request during the first request and then use its results inside the following request?</p>\n\n<p>(I'm aware that the second request might hit another instance. It would be handled as a cache miss)</p>\n"},{"tags":["google-app-engine","google"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13179803,"title":"Google Search with Or condition","body":"<p>I need to do a google search news with an OR condition. \nI have tried the following but not working \"Test Car\" + \"Coffee\" + \"Pills\"</p>\n\n<p>So it should return me results in the news for Test Car Or Cofee or Pills.</p>\n\n<p>I need to to it this way vs each one individually as the result I will feed into an application.</p>\n"},{"tags":["google-app-engine","python-2.7","flask","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13181095,"title":"Using flask and webapp2 in the same webapp","body":"<p>I am new bee to python. I use webapp2 and jinja2 for my webapp in GAE python. I have a login function in flask framework. </p>\n\n<p>Now I need to integrate the login function to my webapp. </p>\n\n<p>www.example.com/ - using webapp2 framework and jinja2 template<br>\nwww.example.com/login - using flask framework</p>\n\n<p>Is there way to do it, other than changing the code written in flask to webapp2 ?</p>\n"},{"tags":["google-app-engine","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13180945,"title":"version tag in appengine-web.xml & https","body":"<p>So far, I have been working on version 1 of my server application. I could reach the application at\n    <a href=\"https://myappid.appspot.com\" rel=\"nofollow\">https://myappid.appspot.com</a></p>\n\n<p>using my browser. (Note: I am using https, not http)\nNow, I am changing the the version id to 2 (version 1 is now production, version 2 is next gen release and I would like to test that). I need version 1 to remain the default version for the users are using the stable, production version.\nNow that I have 2 versions, I tried to reach version 2 static front page from by browser (Chrome) using\n    <a href=\"https://2.latest.myappid.appspot.com\" rel=\"nofollow\">https://2.latest.myappid.appspot.com</a><br>\nas per the instructions I could find. Instead chrome gives me the following error\n*You attempted to reach 2.latest.myappid.appspot.com, but instead you actually reached a server identifying itself as <em>.appspot.com. This may be caused by a misconfiguration on the server or by something more serious. An attacker on your network could be trying to get you to visit a fake (and potentially harmful) version of 2.latest.myappid.appspot.com.\nYou cannot proceed because the website operator has requested heightened security for this domain.</em></p>\n\n<p>This problem goes away for     <a href=\"http://2.latest.myappid.appspot.com\" rel=\"nofollow\">http://2.latest.myappid.appspot.com</a><br>\nI have requested secure connection through web.xml's </p>\n\n<p>&lt;transport- guarantee&gt; element. So, what am I missing?</p>\n"},{"tags":["google-app-engine","utf-8","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13168664,"title":"Special characters like ä, ö, ü","body":"<p>I’m trying to get special characters like the German Umlaut (ä, ö, ü) working with the <code>Google App Engine</code>, but sadly it dosen't work. The Eclipse text file encoding is set to <code>UTF-8</code>, I use <code>&lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;</code> in my <code>index.html</code> and the <code>web.xml</code> is also using <code>encoding=\"utf-8\"</code>.</p>\n\n<p>If I compile my project locally, the characters are shown correctly. If I deploy it to the google appspot the characters are shown like this: <code>��</code>. I checked also the Browser encoding, this is set to <code>UTF-8</code>, what did I miss?</p>\n\n<p><strong>Edit</strong>\nHere is a example which works locally but not online:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"&gt;\n    &lt;title&gt;ä ö ü&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=\"profile\" action=\"\"&gt;\n        &lt;select name=\"p\" size=\"1\"&gt;\n            &lt;option value=\"1\"&gt;ä&lt;/option&gt;\n            &lt;option value=\"2\"&gt;ö&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>Edit2</strong>\nI could isolate the problem. At the start I use the google channel api to communicate with the clients. Here I write the token to the users. This is the problem. Here is the code:</p>\n\n<p>I guess I have to convert to UTF-8, but where?</p>\n\n<pre><code>FileReader reader = new FileReader(\"index.html\");\nCharBuffer buffer = CharBuffer.allocate(16384);\nreader.read(buffer);\nreader.close();\n\nString index = new String(buffer.array());\nindex = index.replaceAll(\"\\\\{\\\\{ token \\\\}\\\\}\", token);\nindex = index.replaceAll(\"\\\\{\\\\{ user \\\\}\\\\}\", account);\n\nresp.getWriter().write(index);\n</code></pre>\n\n<p>Why the characters are not shown correctly online?</p>\n"},{"tags":["python","django","google-app-engine","logging","django-nonrel"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13176173,"title":"Python- How to flush the log? (django)","body":"<p>I'm working with Django-nonrel on Google App Engine, which forces me to use logging.debug() instead of print().</p>\n\n<p>The \"logging\" module is provided by Django, but I'm having a rough time using it instead of print().</p>\n\n<p>For example, if I need to verify the content held in the variable x, I will put<br>\n<code>logging.debug('x is: %s' % x)</code>. But if the program crashes soon after (without flushing the stream), then it never gets printed.</p>\n\n<p>So for debugging, I need debug() to be flushed before the program exits on error, and this is not happening.</p>\n"},{"tags":["google-app-engine","gae-datastore","app-engine-ndb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13178163,"title":"What are the advantages/disadvantages of different ways to store structured data in appengine ndb?","body":"<p>NDB comes with a lot of property types that can be used for storing structured data:</p>\n\n<p><strong>ndb.StructuredProperty</strong>\nI can see that this could be useful to store other model instances, in cases where it's not useful to store the model on it's own in app engine.\nbut there's also the <strong>LocalStructuredProperty</strong>. The documentation only states that the value is stored a an opaque value, but what advantages does that have?</p>\n\n<p><strong>JSONProperty and PickledProperty</strong>\nIs human-readability of the data the only  advantage of storing data as JSON?</p>\n"},{"tags":["google-app-engine","video","mp4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13169268,"title":"Static mp4 video on Google App Engine","body":"<p>I want to have a static mp4 video file in my Google App Engine application. I put it in the \"war\" folder and I add the following lines to my appengine-web.xml file:</p>\n\n<pre><code>  &lt;static-files&gt;\n      &lt;include path=\"/**.mp4\" /&gt;\n  &lt;/static-files&gt;\n</code></pre>\n\n<p>Unfortunately, when I run the app and type in the video's URL into my browser, nothing really happens. I just get a blank page or the previous page stays unchanged, if there was any. I don't get a 404 error. Server log is clear. I would expect the browser to play the video or download it. Why is it not working?</p>\n\n<p>The video file I'm using is 6.35MB.</p>\n\n<p>I also tested some other small video files I downloaded from the internet and I made sure my browser was playing them when they were on their original servers. They didn't work as well.</p>\n\n<p>I uploaded mp3 files, as well as flv video files and they worked just fine. The mp3 file was played by the browser and the flv file was downloaded by it.</p>\n\n<p>The question is once again, why can't I have a static mp4 file in my Google App Engine application? Are they forbidden? Are my files corrupt in some way? Am I doing something wrong?</p>\n\n<p>EDIT:\nWhen writing this question, I only used Google Chrome to test if the uploaded video works. I just checked other browsers (Firefox, Opera, Internet Explorer) and everything seems to be fine. I was also able do download the video file with curl. It turns out that the problem only exists in Google Chrome. When I open it's developer tool (F12) and go to the Network tab, I can see that the request's status is \"(cancelled)\".</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13176065,"title":"Using string to access datastore column","body":"<p>Looked through the documentation and can't work this out.</p>\n\n<p>Is it possible to access the attribute of an entity retrieved from the datastore with a string in Python on GAE?</p>\n\n<p>Something like employee.name but employee.&lt;></p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13168354,"title":"AppEngine JDO Query filter \"property has ancestor\"","body":"<p>I have an entity of kind 'ContainableObject' stored which has an entity of kind 'Container' as one of its properties.</p>\n\n<pre><code>class ContainableObject {\n\n    @Persistent\n    @Unowned\n    private Container container;\n    ...\n</code></pre>\n\n<p>The 'Container' has a parent Entity of kind 'Building'</p>\n\n<p>Since the table is actually storing a Key to Container which contains its parent Key (i.e. the property container is <code>Key('Building',1,'Container',23)</code> is there any way to write a query along the lines of <code>select * from ContainableObject where container has ancestor Key('Building', 1)</code></p>\n\n<p>I know I could additionally store the Building as a direct property of the ContainableObject in order to use it in a query filter, but is this the only way? I'm pretty sure the answer is yes, but I would like some confirmation, since it's not quite a join as the parent key is buried in there somewhere.</p>\n\n<p>Note: the ContainableObject is in a different entity group to Container, this is not an ancestor query, which the AppEngine implementation of JDO doesn't support anyway AFAIK.</p>\n"},{"tags":["google-app-engine","gql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":13175058,"title":"GQL Filter query not working with variable","body":"<p>I am working in google app engine , i am filtering city list.\nQuery is working with string but not working with variable why ?</p>\n\n<p>code:</p>\n\n<pre><code>        qry = Candidate.all()\n        qry.filter('name =','Someone')\n        for res in qry:\n            data.append(res.name)\n\n\n        data = json.dumps(data)\n</code></pre>\n\n<p>it is working but\nwhen i used a variable here it is not working</p>\n\n<pre><code>            qry = Candidate.all()\n            VARIABLE='Someone'\n            qry.filter('name =',VARIABLE)\n            for res in qry:\n                data.append(res.name)\n\n\n            data = json.dumps(data)\n</code></pre>\n"},{"tags":["java","google-app-engine","http-post","webinject"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":164,"score":0,"question_id":8090680,"title":"How do I do Google App Engine json post request body using WebInject?","body":"<p>I need to send post request with json-string of the form <code>{\"prop1\":\"a\", \"pass\":\"b\"}</code>\nI use WebInject and wrote the following:</p>\n\n<pre><code>&lt;case\n    id=\"1\"\n    description1=\"login by a@a\"\n    description2=\"see what happens\"\n    method=\"post\"\n    url=\"https://.../auth/a@a.ru\"\n    postbody='{\"prop1\":\"a\", \"prop2\":\"b\"}'\n/&gt;\n</code></pre>\n\n<p>The only output I receive is <em>HTTP/1.1 415 Unsupported Media Type</em>\nI checked strings being sent from client and from WebInject - they are identical.\nWhat can be wrong?</p>\n\n<p>Requests are processed by java on Google Application Engine server.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":210,"score":0,"question_id":9359745,"title":"Certificate not work when i try to update","body":"<p>Good day to all. I am using Google App Engine 1.6.2 , Python 2.7 ,Windows 7x64, i created an application..uploded it...it was successfully working for about a weak. But when i was trying to make an update this morning, luncher gave me this error:</p>\n\n<pre><code>2012-02-20 12:26:41 Running command: \"['C:\\\\Python27\\\\pythonw.exe', '-u', 'C:\\\\Program Files (x86)\\\\Google\\\\google_appengine\\\\appcfg.py', '--no_cookies', u'--email=myemail@gmail.com', '--passin', 'update', 'D:\\\\Dropbox\\\\Google\\\\handmade']\"\nApplication: bubonchikhub; version: 1\nHost: appengine.google.com\nTraceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 101, in &lt;module&gt;\n    run_file(__file__, globals())\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 97, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3935, in &lt;module&gt;\n    main(sys.argv)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3926, in main\n    result = AppCfgApp(argv).Run()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2497, in Run\n    self.action(self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3692, in __call__\n    return method()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2915, in Update\n    self.UpdateVersion(rpcserver, self.basepath, appyaml)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2897, in UpdateVersion\n    updatecheck.CheckForUpdates()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 572, in CheckForUpdates\n    runtime=self.config.runtime)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 365, in Send\n    f = self.opener.open(req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 394, in open\n    response = self._open(req, data)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 412, in _open\n    '_open', req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 372, in _call_chain\n    result = func(*args)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 1207, in https_open\n    return self.do_open(httplib.HTTPSConnection, req)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 363, in do_open\n    url_error.reason.args[1])\nfancy_urllib.InvalidCertificateException: Host 127.0.0.1:8888 returned an invalid certificate (_ssl.c:503: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed): \nTo learn more, see http://code.google.com/appengine/kb/general.html#rpcssl\n2012-02-20 12:26:43 (Process exited with code 1)\n\nYou can close this window now.\n\n\nYou can close this window now.\n</code></pre>\n\n<p>Can anyone help how to fix this?\nThnx in advance</p>\n"},{"tags":["jquery","python","google-app-engine","jquery-ajax","twitter-bootstrap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":65,"score":-1,"question_id":13172044,"title":"Get value of text box using jquery in google app engine","body":"<p>I am trying to get value of textbox(name =city and id=city) using jquery , but it is showing \"UNDEFINED\" in my python code.</p>\n\n<p>HTML CODE:</p>\n\n<pre><code>        &lt;input type=\"text\" class=\"span3\" id=\"city\" name=\"city\" data-provide=\"typeahead\" data-items=\"4\" /&gt;\n        &lt;/div&gt;\n\n        &lt;script src=\"bootstrap/newjs/jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"bootstrap/newjs/new.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n             $('#city').typeahead({ \n                    ajax: { url: '/searchmy?city='+$(\"#city\").value, \n                        triggerLength: 1 }\n\n            });\n        &lt;/script&gt;\n</code></pre>\n\n<p>python code:</p>\n\n<pre><code>name=self.request.get('city')\n</code></pre>\n\n<p>Here i am trying to get value of textbox(name=city , id=city),\nIt is showing UNDEFINED.</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13170421,"title":"struggling with memcache on google app engine python","body":"<p>I've been struggling to get memcache working on my app for a bit now.  I thought I had finally got it working where it never reads from the database (unless memcache data is lost of course), only to have my site shut down because of a over-qota number of datastore reads!  I'm currently using a free appspot and would like to keep it that way for as long as possible.  Anyway, here's my code, maybe somebody can help me find the hole in it.</p>\n\n<p>I am currently trying to implement memcache by overriding the db.Model.all(), delete(), and put() methods to query memcache first.  I have memcache set up where each object in the datastore has it's own memcache value with it's id as the key.  Then for each Model class I have a list of the id's under a key it knows how to query.  I hope I explained this clear enough.</p>\n\n<pre><code>\"\"\" models.py \"\"\"\n         @classmethod\n         def all(cls, order=\"sent\"):\n                 result = get_all(\"messages\", Message)\n                 if not result or memcache.get(\"updatemessages\"):\n                         result = list(super(Message, cls).all())\n                         set_all(\"messages\", result)\n                         memcache.set(\"updatemessages\", False)\n                         logging.info(\"DB Query for messages\")\n\n                 result.sort(key=lambda x: getattr(x, order), reverse=True)\n                 return result\n\n         @classmethod\n         def delete(cls, message):\n                 del_from(\"messages\", message)\n                 super(Message, cls).delete(message)\n\n         def put(self):\n                 super(Message, self).put()\n\n                 add_to_all(\"messages\", self)\n\n\n\n\"\"\" helpers.py \"\"\"\n\n def get_all(type, Class):\n         all = []\n         ids = memcache.get(type+\"allid\")\n         query_amount = 0\n         if ids:\n                 for id in ids:\n                         ob = memcache.get(str(id))\n                         if ob is None:\n                                 ob = Class.get_by_id(int(id))\n                                 if ob is None:\n                                         continue\n                                 memcache.set(str(id), ob)\n                                 query_amount += 1\n                         all.append(ob)\n                 if query_amount: logging.info(str(query_amount) + \" ob queries\")\n                 return all\n         return None\n\n def add_to_all(type, object):\n         memcache.set(str(object.key().id()), object)\n         all = memcache.get(type+\"allid\")\n         if not all:\n                 all = [str(ob.key().id()) for ob in object.__class__.all()]\n                 logging.info(\"DB query for %s\" % type)\n         assert all is not None, \"query returned None.  Send this error code to ____: 2 3-193A\"\n         if not str(object.key().id()) in all:\n                 all.append(str(object.key().id()))\n         memcache.set(type+\"allid\", all)\n\n @log_on_fail\n def set_all(type, objects):\n         assert type in [\"users\", \"messages\", \"items\"], \"set_all was not passed a valid type.  Send this error code to ____: 33-205\"\n         assert not objects is None, \"set_all was passed None as the list of objects.    Send this error code to _________: 33-206\"\n         all = []\n         for ob in objects:\n                 error = not memcache.set(str(ob.key().id()), ob)\n                 if error:\n                         logging.warning(\"keys not setting properly. Object must not be pickleable\")\n                 all.append(str(ob.key().id()))\n         memcache.set(type+\"allid\", all)\n\n @log_on_fail\n def del_from(type, object):\n         all = memcache.get(type+\"allid\")\n         if not all:\n                 all = object.__class__.all()\n                 logging.info(\"DB query %s\" % type)\n         assert all, \"Could not find any objects.  Send this error code to _____: 13-    219\"\n         assert str(object.key().id()) in all, \"item not found in cache.  Send this error code to ________: 33-220\"\n         del all[ all.index(str(object.key().id())) ]\n         memcache.set(type+\"allid\", all)\n         memcache.delete(str(object.key().id()))\n</code></pre>\n\n<p>I apologize for all of the clutter and lack of elegance.  Hopefully somebody will be able to help.  I've thought about switching to ndb but for now I rather stick to my custom cache.  You'll notice the <code>logging.info(\"some-number of ob queries\")</code>.  I get this log quite often.  Maybe once or twice every half hour.  Does memcache really lose data that often or is something wrong with my code?</p>\n"},{"tags":["eclipse","google-app-engine","google-plugin-eclipse"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":13170103,"title":"Testing Google App Engine application locally","body":"<p>I reinstalled Mountain Lion on my MacBook Pro a few days ago and wanted to test my Google App Engine application locally. I followed the steps exactly as described here (I'm using Eclipse): </p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/java/gettingstarted/\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/gettingstarted/</a></p>\n\n<p>It was working before I reinstalled Mountain Lion. I could simply test my app on localhost:8080. But now I get this message in the console every time I start debug mode:</p>\n\n<blockquote>\n  <p>2012-11-01 12:12:27.390 java[12272:707] [Java CocoaComponent compatibility mode]: Enabled<br>\n  2012-11-01 12:12:27.391 java[12272:707] [Java CocoaComponent compatibility mode]: Setting timeout for SWT to 0.100000<br>\n  Usage:  [options] <br></p>\n  \n  <p>Options:<br>\n   --help, -h                 Show this help message and exit.<br>\n   --server=SERVER            The server to use to determine the latest<br>\n    -s SERVER                   SDK version.<br>\n   --address=ADDRESS          The address of the interface on the local machine<br>\n    -a ADDRESS                  to bind to (or 0.0.0.0 for all interfaces).<br>\n   --port=PORT                The port number to bind to on the local machine.<br>\n    -p PORT<br>\n   --sdk_root=DIR             Overrides where the SDK is located.<br>\n   --disable_update_check     Disable the check for newer SDK versions.<br>\n   --generated_dir=DIR        Set the directory where generated files are created.<br>\n   --jvm_flag=FLAG            Pass FLAG as a JVM argument. May be repeated to\n                                supply multiple flags.<br></p>\n</blockquote>\n\n<p>The only answer to my problem I found using Google was this one: </p>\n\n<p><a href=\"http://stackoverflow.com/questions/10195808/google-app-engine-local-testing-a-simple-hello-world\">Google App Engine: local testing a simple hello world</a></p>\n\n<p>Like described in the answers, I configured the App Engine SDK appropriately. And I tried one of the projects that worked before reinstalling OS X. So it can't be the appengine-web.xml.</p>\n\n<p>Thank you.</p>\n"},{"tags":["google-app-engine","google-cloud-sql"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1845,"score":4,"question_id":8952696,"title":"Java Google App Engine and Google Cloud SQL running on local dev server","body":"<p>I've been researching a solution to this all week and while there have been solutions to similar problems there are none that address and rectify this problem directly.</p>\n\n<p>I have created a web application project using Google App Engine and Google Cloud SQL.\nRunning the GAE application using the eclipse Google plugin and a local MySQL server the application works great.</p>\n\n<p>When running the application from the command line using:-</p>\n\n<pre><code>sudo /opt/appengine-java-sdk-1.6.1/bin/dev_appserver.sh --jvm_flag=-Drdbms.server=local --jvm_flag=-Drdbms.driver=com.mysql.jdbc.Driver --jvm_flag=-Drdbms.url=jdbc:mysql://localhost:3306/twincam?user=root --port=7070 /home/ben/workspace/Twincam/war\n</code></pre>\n\n<p>I get the following:-</p>\n\n<pre><code>java.lang.IllegalStateException: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\nat com.google.appengine.api.rdbms.dev.LocalRdbmsServiceLocalDriver.registerDriver(LocalRdbmsServiceLocalDriver.java:95)\n</code></pre>\n\n<p>I have the classpath referencing the mysql-connector.jar located in /Twincam/war/WEB-INF/lib/mysql-connector-java-5.1.18-bin.jar referenced by my user library as in the following .classpath file and directory structure :-</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" path=\"src\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"com.google.appengine.eclipse.core.GAE_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"war/WEB-INF/lib/mysql-connector-java-5.1.18-bin.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"war/WEB-INF/lib/gson-2.1-javadoc.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"war/WEB-INF/lib/gson-2.1-sources.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"war/WEB-INF/lib/gson-2.1.jar\"/&gt;\n    &lt;classpathentry kind=\"output\" path=\"war/WEB-INF/classes\"/&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<hr>\n\n<p><img src=\"http://i.stack.imgur.com/uY4PT.png\" alt=\"enter image description here\"></p>\n\n<p>Update: I checked file permissions and all are set at the default 664 so I'm confident that this is not the problem.</p>\n"},{"tags":["python","google-app-engine","search","autocomplete","webapp2"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12899083,"title":"Partial matching GAE search API","body":"<p>Using the <a href=\"https://developers.google.com/appengine/docs/python/search/\" rel=\"nofollow\">GAE search API</a> is it possible to search for a partial match?</p>\n\n<p>I'm trying to create autocomplete functionality where the term would be a partial word. eg.</p>\n\n<blockquote>\n  <p>> b<br>\n  > bui<br>\n  > build   </p>\n</blockquote>\n\n<p>would all return \"building\".</p>\n\n<p>How is this possible with GAE?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13161906,"title":"Need add secondary domain to GAE application","body":"<p>I have an AppEngine app running at myappname.appspot.com, and I've added the URL status.domain1.com. However, the point of this whole project is have the app running at: status.domain2.com.   We have domain1.com as the main domain associated with our Google Apps account, and domain2.com is linked that account as a active domain.</p>\n\n<p>When I go to 'myappname (App Engine) settings' in our control panel, and I try to \"Add new URL\" as status.domain2.com, I get the error banner: </p>\n\n<pre><code>The term &amp;#39;domain2.com&amp;#39; is not allowed.\n</code></pre>\n\n<p>This is even though 'domain2.com' is listed as one of the domains associated with our account, and available on the drop-down menu.</p>\n\n<p>How can I get the VirtualHost status.domain2.com to work?  We already have this domain on our Google Apps account, but Google Apps support can't help.</p>\n\n<p>This question is similar to <a href=\"http://stackoverflow.com/questions/6532300/google-app-engine-and-domain-name\">Google App Engine and domain name</a> and\n<a href=\"http://stackoverflow.com/questions/10369151/how-do-i-point-multiple-domain-names-at-a-single-google-app-engine-application\">How do I point multiple domain names at a single Google App Engine application?</a>, but in this case I'm able to add 'myname@domain2.com' as an administrator of the 'domain2.com' domain on Google Apps, and I have 'domain2.com' as a drop-down option when I do \"Add new URL\" but I still get an error.</p>\n\n<p>This bug in GAE has me pulling my hair out.  Wish I'd not gone this route.</p>\n"},{"tags":["eclipse","google-app-engine","eclipse-plugin"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":400,"score":1,"question_id":12302973,"title":"null pointer exception for new google appending using eclipse plugin","body":"<p>I recently tried to create a new gwt/gae project using the Google eclipse plugin. I've done this in the past successfully and I have several projects under development that are not having problems. </p>\n\n<p>I'm getting a NullPointerException when I try to launch the Web Application. Here is the stack trace.</p>\n\n<pre><code>WARNING: EXCEPTION \njava.lang.ClassNotFoundException: com.google.api.server.spi.SystemServiceServlet\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:176)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.mortbay.util.Loader.loadClass(Loader.java:91)\n    at org.mortbay.util.Loader.loadClass(Loader.java:71)\n    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:73)\n    at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:242)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:196)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:239)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:146)\n    at com.google.appengine.tools.development.gwt.AppEngineLauncher.start(AppEngineLauncher.java:97)\n    at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)\n    at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)\n    at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)\n    at com.google.gwt.dev.DevMode.main(DevMode.java:311)\nSep 6, 2012 2:42:25 PM com.google.appengine.tools.development.ApiProxyLocalImpl log\nSEVERE: javax.servlet.ServletContext log: unavailable\njavax.servlet.UnavailableException: com.google.api.server.spi.SystemServiceServlet\n    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:79)\n    at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:242)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:196)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:239)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:146)\n    at com.google.appengine.tools.development.gwt.AppEngineLauncher.start(AppEngineLauncher.java:97)\n    at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)\n    at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)\n    at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)\n    at com.google.gwt.dev.DevMode.main(DevMode.java:311)\n\nSep 6, 2012 2:42:25 PM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: failed SystemServiceServlet: java.lang.NullPointerException\nSep 6, 2012 2:42:26 PM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: Failed startup of context com.google.appengine.tools.development.DevAppEngineWebAppContext@75e04ee8{/,/Users/bucky/Documents/workspace/Birthday/war}\njava.lang.NullPointerException\n    at java.lang.Class.isAssignableFrom(Native Method)\n    at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:256)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:196)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:239)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:146)\n    at com.google.appengine.tools.development.gwt.AppEngineLauncher.start(AppEngineLauncher.java:97)\n    at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)\n    at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)\n    at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)\n    at com.google.gwt.dev.DevMode.main(DevMode.java:311)\n</code></pre>\n\n<p>I have no idea where to go debug this.</p>\n"},{"tags":["java","google-app-engine","gwt","gae-datastore","jdo"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":151,"score":6,"question_id":12993983,"title":"GWT Editors and GAE Datastore","body":"<p>GWT has an <a href=\"https://developers.google.com/web-toolkit/doc/latest/DevGuideUiEditors\">Editor Framework</a>, which, after a cursory inspection, looks an awful lot like how Spring MVC/Forms handles data binding between backend data objects and frontend UI components.</p>\n\n<p>I am writing my first GWT/GAE application and was wondering if there is any way to use this Editor Framework <strong>in conjunction with</strong> GAE's JDO/Atomic library, which is the API you code against to O/R map between your app and the underlying datastore.</p>\n\n<p>Are these two frameworks complimentary or are they mutually exclusive? If they can work together, can someone please provide a small code sample of how I could use them to populate, say, an HTML <code>&lt;select&gt;</code> box with a list of names, or something else basic-yet-practical.</p>\n\n<p>I would imagine this might involve a <code>Person</code> POJO representing a person (and having a <code>String name</code> property), perhaps some kind of <code>PersonDAO</code> that uses JDO/Atomic to CRUD <code>Person</code> instances to/from the Datastore, and then some kind of <code>Editor&lt;Person&gt;</code> that can map <code>Person</code> instances to frontend <code>&lt;select&gt;</code>s.</p>\n\n<p>If I can see a working example, I think it will all come together for me. And, if these are exclusive of one another and can't be used together, a solid explanation of why would be <em>enormously</em> appreciated! Thanks in advance!</p>\n"},{"tags":["java","google-app-engine","http-post","urlfetch","http-put"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13165438,"title":"Does Java GAE UrlFetch support HTTP PUT?","body":"<p>How do I do an HTTP PUT request using the UrlFetch service for Google App Engine's Java runtime?</p>\n\n<p>The following code in my application will send a POST request:</p>\n\n<pre><code>URL url = ...;\nHttpURLConnection conn = (HttpURLConnection) url.openConnection();\nconn.setReadTimeout(MAX_TIMEOUT); // Maximum allowable timeout on GAE of 60 seconds\nconn.setRequestMethod(\"POST\");\nconn.setDoOutput(true);\nconn.setRequestProperty(\"Content-Type\", \"application/json; charset=utf-8\");\nOutputStreamWriter writer = null;\ntry {\n    writer = new OutputStreamWriter(conn.getOutputStream(), Charset.forName(\"utf-8\"));\n    writer.write(jsonContent);\n} finally {\n    if (writer != null)\n        writer.close();\n    }\n}\nInputStream inStream = null;\nE response = null;   // Unmarshalled using Jackson\ntry {\n    inStream = conn.getInputStream();\n    if (status != 204) { // NO CONTENT =&gt; No need to use Jackson to deserialize!\n        response = mapper.readValue(inStream, typeRef);\n    }\n} finally {\n    if (inStream != null) {\n        inStream.close();\n    }\n}\n</code></pre>\n\n<p>I try doing the same as <code>POST</code> for <code>PUT</code>, but I keep on getting a <em>405</em> HTTP error for Method Not Allowed. Thanks for the help.</p>\n\n<p><strong>Reference:</strong> <a href=\"https://developers.google.com/appengine/docs/java/urlfetch/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/urlfetch/overview</a></p>\n\n<p>Unfortunately, GAE Java doesn't have as good of documentation as Python's version of GAE URL fetch(<a href=\"https://developers.google.com/appengine/docs/python/urlfetch/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/urlfetch/overview</a>). Anyone from Google wanna say why?</p>\n"},{"tags":["eclipse","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":9794516,"title":"Change appengine console red color in eclipse","body":"<p>appengine console for local development logs are an eye sore red(like a bunch of errors!!!) by default. How can I change that to standard black for normal log and red for error? If I right click on the console and go to preference, the setting is correct : standard black and error red.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dhDpR.png\" alt=\"enter image description here\"></p>\n"},{"tags":["multithreading","google-app-engine","transactions","gae-datastore","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":13019565,"title":"XG transaction isolation fails during test that generates unique sequence number (Objectify4)","body":"<p>I have to generate a unique invoice number in a XG transaction that includes the following <strong>3 entity groups</strong> in my data model :</p>\n\n<ul>\n<li><p>(toplevel) ContactRoot &lt;-- (ancestor) &lt;--- <strong>Contact</strong> : contact must be updated to status Client during the transaction</p></li>\n<li><p>(toplevel) <strong>CustomerSettings</strong> : holds the next sequence number to use; there is one and only one instance of the CustomerSettings with a fixed, static ID; the sequence number must be increased +1 during the transaction</p></li>\n<li><p>(toplevel) InvoiceRoot &lt;-- (ancestor) &lt;--- <strong>Invoice</strong> : assign new unique invoice number based on the sequence number in CustomerSettings;</p></li>\n</ul>\n\n<p>This is the essential part of the DAO implementation (irrelevant business rules checks etc removed) :</p>\n\n<pre><code>public void saveInvoice(final Invoice invoice) throws BusinessRuleException {\n\n    final Objectify ofy = ObjectifyService.factory().begin().cache(true);\n    ofy.transact(new Work&lt;Void&gt;() {\n\n        @Override\n        public Void run() {\n            CustomerSettings customerSettings = ofy.load()\n                    .key(Key.create(CustomerSettings.class, CustomerSettings.ID)).safeGet();\n            Contact contact = ofy.load().key(createContactKey(invoice.getContactId()).safeGet();\n            contact.setContactType(ContactType.CLIENT);\n            ofy.save().entity(contact).now();\n            String invoiceNumber = generateSequence(ofy, customerSettings);\n            invoice.setInvoiceNumber(invoiceNumber);\n            ofy.save().entity(invoice).now();\n            return null;\n        }\n    });\n}\n</code></pre>\n\n<p>And the simplified version to generate the next sequence number where the next sequence number is increased for the next call and the CustomerSettings must be transactionally updated (I have this synchronized but I guess that is not really useful)\n :</p>\n\n<pre><code>private synchronized String generateSequence(Objectify ofy, CustomerSettings settings) {\n    String ret = \"\";\n    int sequence = settings.getNextSequence();\n    settings.setNextSequence(sequence + 1);\n    ofy.save().entity(settings).now();\n    ret = \"\" + sequence;\n    return ret;\n}\n</code></pre>\n\n<p>This is what my unit test looks like for a <strong>variable thread count</strong> :</p>\n\n<pre><code>private void test(final int threadCount) throws InterruptedException, ExecutionException {\n    final Environment currentEnvironment = ApiProxy.getCurrentEnvironment();\n    Callable&lt;String&gt; task = new Callable&lt;String&gt;() {\n        @Override\n        public String call() {\n            ApiProxy.setEnvironmentForCurrentThread(currentEnvironment);\n            return generateInvoiceNumber();\n        }\n    };\n    List&lt;Callable&lt;String&gt;&gt; tasks = Collections.nCopies(threadCount, task);\n    ExecutorService executorService = Executors.newFixedThreadPool(threadCount);\n    List&lt;Future&lt;String&gt;&gt; futures = executorService.invokeAll(tasks);\n    List&lt;String&gt; resultList = new ArrayList&lt;String&gt;(futures.size());\n    // Check for exceptions\n    for (Future&lt;String&gt; future : futures) {\n        // Throws an exception if an exception was thrown by the task.\n        resultList.add(future.get());\n    }\n    // Validate the IDs\n    Assert.assertEquals(futures.size(), threadCount);\n    List&lt;String&gt; expectedList = new ArrayList&lt;String&gt;(threadCount);\n    for (long i = 1; i &lt;= threadCount; i++) {\n        expectedList.add(\"\" + i);\n    }\n    Collections.sort(resultList);\n    Assert.assertEquals(expectedList, resultList);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate String generateInvoiceNumber() {\n    InvoiceDAO invoiceDAO = new InvoiceDAO();\n    Invoice invoice = ... create a valid invoice\n    invoiceDAO.saveInvoice(invoice);\n    log.info(\"generated invoice number : \" + invoice.getInvoiceNumber());\n    return invoice.getInvoiceNumber();\n}\n</code></pre>\n\n<p>for instance when I run this with 32 threads simultaneous :</p>\n\n<pre><code>@Test\npublic void test32() throws InterruptedException, ExecutionException {\n    test(32);\n}\n</code></pre>\n\n<p><strong>But subsequent threads do not see that a previous transaction increased the invoice number sequence.</strong></p>\n\n<p>This is the result :</p>\n\n<blockquote>\n  <p>junit.framework.AssertionFailedError: expected:&lt;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,\n  25, 26, 27, 28, 29, 30, 31, 32]> but was:&lt;[1, 1, 1, 1, 1, 1, 1, 1, 1,\n  1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3,\n  3]></p>\n</blockquote>\n\n<p>I went through the docs already a couple of times, can't figure out why this is not working ? </p>\n\n<blockquote>\n  <p>If you access more than one entity group in a transaction, the\n  transaction with be an XG transaction. If you do access only one, it\n  is not. The standard limit of 5 EGs applies to all transactions.\n  <a href=\"http://code.google.com/p/objectify-appengine/wiki/Transactions\" rel=\"nofollow\">objectify transactions documentation</a></p>\n</blockquote>\n\n<p>what am I doing wrong ?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13163350,"title":"My Google App Engine appspot URL wont work","body":"<p>I recently created my Google App Engine account, and uploaded my application, and have an instance of said app running.</p>\n\n<p>I can access my app via localhost:8080 but when I try to use myappid.appspot.com I get a 500 Server Error (Of course I replace \"myappid\" with my apps name). This is what it says:</p>\n\n<p>\"Error: Server Error</p>\n\n<p>The server encountered an error and could not complete your request.\nIf the problem persists, please report your problem and mention this error message and the query that caused it.\"</p>\n\n<p>Can anyone help me get the URL working? I need my team to be able to access this app from anywhere. I have no idea what could be wrong with it, I am very new to GAE. After a lot of searching all I find is people saying their appspot URL works, and want other options. But I just want my appspot URL to work first!</p>\n\n<p>Some more info:</p>\n\n<p>This is a Python app, using the GAE Python SDK, I am running Windows 7, and using the GAE Launcher GUI to deploy and run the app.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: Here is the error in my Log:</p>\n\n<p>: No module named flask Traceback (most recent call last): File \"/base/data/home/apps/s~luxtestapp/1.362824400913245138/bootstrap.py\", line 19, in  from app import create_app File \"/base/data/home/apps/s~luxtestapp/1.362824400913245138/app/<strong>init</strong>.py\", line 10, in  from flask import Flask</p>\n\n<p>Apparently the app uses Flask instead of Webbapp2. Honestly I'm not too sure about it all, because this is a pre-built app that I downloaded and deployed. I didn't write it.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13162517,"title":"Debugging task queues in development server?","body":"<p>Simple question - I want to log activity that occurs in a task queue request. I want to print something to the console, such as <code>print('I made it this far')</code>, to know what exactly is happening in the function call. Is this possible?</p>\n\n<p>Edit: For those who were not taught how to read \"context clues\" in elementary school, my question is: H-O-W?</p>\n"},{"tags":["google-app-engine","mapreduce","backup","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":13040445,"title":"App Engine backup never finishes only clue is failure in map reduce worker_callback","body":"<p>Over the last few weeks we have repeatedly failed on doing a complete backup of the data store using the datastore admin tool.  We thought the issues had to do with quota errors we were running into so we switched our application from a free to a paid app and we still have problems.  </p>\n\n<p>Each time we are attempting to back up to the blobstore and what occurs is that the process never finishes.  We see the backup in our Pending Backups list but it never actually completes.  We only have a total of 43MB of data right now so we don't see it as a data transfer problem.  Looking at our default Task Queues it shows that we have two pending tasks one is a call to  /_ah/mapreduce/controller_callback and another is a call to  /_ah/mapreduce/worker_callback</p>\n\n<p>The worker_callback racks up its retry count and the only error clue we have is on the Previous Run tab it shows the last http response code to be 500.  There is no error message, nothing shows up in our error logs, it just keeps trying over and over again.</p>\n\n<p>We've been able to narrow the backup problems to a specific entity kind for a particular namespace but we can't figure out why that entity kind is failing whereas the others are not.  The major difference is the entity kind has a large number of embedded entities, but if the app engine is able to read / put those entities we can't understand why it seems to be having problems backing it up.  The particular namespace that the error occurs in has the largest data stored for that entity kind compared to the other namespaces we have setup.</p>\n\n<p>We think if we can see what error is occurring in the worker_callback we may be able to figure out why the backup is failing, or what is wrong with our data that's preventing the backup. Is there something we need to setup / enable through settings / configuration files to give us more detailed information on the backup?  Or is there some other avenue we should explore to figure out how to investigate/fix this problem?</p>\n\n<p>I should mention we are using the Java SDK as well as Objectify V3 to work with the data store.  We are also backing up data to the Blobstore.</p>\n\n<p>Thank you.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":8822759,"title":"GAE ImagesServiceFactory Composite not honoring PNG transparency","body":"<p>The code for image compositing in Google App Enginee doesn't appear to honor a PNGs \ntransparency. Has anyone been able to successfully composite a \ntransparent png over another image in the latest version of the SDK \n(1.6.1). I've seen a post that discussed compositing in GWT but I can already\ncomposite in HTML5 (canvas) so that's not useful. See\n<a href=\"http://groups.google.com/group/google-appengine-java/browse_thread/th\" rel=\"nofollow\">http://groups.google.com/group/google-appengine-java/browse_thread/th</a>... \nwhere the solution was to incorporate a GWT canvas. </p>\n\n<p>I have something along the lines of, </p>\n\n<p>`</p>\n\n<pre><code>Image image = null;\n\nList&lt;Composite&gt; composites = new ArrayList&lt;Composite&gt;(); \n\nIterator&lt;ImageObj&gt; iterator = images.iterator(); \n\nwhile (iterator.hasNext()) { \n    ImageObj io = (ImageObj)iterator.next(); \n    //returns an Image \n    image = io.getImage(someWidth, someHeight); \n    composites.add(ImagesServiceFactory.makeComposite(image, io.x, io.y, 1.0f, Composite.Anchor.TOP_LEFT)); \n}\n</code></pre>\n\n<p>Image = ImagesServiceFactory.getImagesService().composite(composites, \nwidth, height, 0); `</p>\n\n<p>Where some images are JPEGs and some are PNGs with transparency. </p>\n\n<p>So, compositing works fine but the png transparency is not honored.</p>\n\n<p>Note - Since several of these images are in the 750K \nrange, I need to composite them on the server and reduce the \nbandwidth of sending multiple images over http. </p>\n\n<p>Can anyone comment on this assumption. \n1) Is the speed of GAE compositing multiple 1M images and downloading \na single image compared to downloading those same multiple images to \nthe browser much faster? \n2) Is the GAE cost of CPU for compositing comparable to GAE cost for \nbandwidth?</p>\n"},{"tags":["java","google-app-engine","readonly"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":103,"score":3,"question_id":13047091,"title":"Google App Engine Datastore Writes: How to enable/disable read-only mode remotely?","body":"<p>In reading up on backing up <a href=\"https://developers.google.com/appengine/docs/adminconsole/datastoreadmin\" rel=\"nofollow\">GAE's Datastore</a>, where:</p>\n\n<blockquote>\n  <p>We strongly recommend that you set your application to read-only mode during a backup or restore...</p>\n</blockquote>\n\n<p>After a cursory inspection, it <em>appears</em> that the only way to do this is via the GAE web admin UI, where you either <strong>Disable</strong> or <strong>Re-Enable Writes</strong> inside a page somewhere.</p>\n\n<p>I would like to write some Ant buildfiles and/or shell and/or Python scripts that would allow me to backup/restore my GAE app's Datastore automatically. This would mean I would need a way to automate the enabling/disabling of writes (putting my app into and out from a \"read-only\" mode) to my Datastore, all from inside some script (like I said, either Ant, bash or Python).</p>\n\n<p>So I ask: is this even possible? Or is this something that <em>must</em> be done \"manually\" (via the web admin UI)? Thanks in advance!</p>\n"},{"tags":["java","google-app-engine","gwt","rpc","gae-datastore"],"answer_count":6,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":9660,"score":5,"question_id":988217,"title":"GWT with JDO problem","body":"<p>I just start playing with GWT I'm having a really hard time to make GWT + JAVA + JDO + Google AppEngine working with DataStore.\nI was trying to follow different tutorial but had no luck. For example I wend to these tutorials: <a href=\"http://stackoverflow.com/questions/958879/problems-passing-class-objects-through-gwt-rpc\">TUT1</a> <a href=\"http://fredsa.allen-sauer.com/2009/04/1st-look-at-app-engine-using-jdo.html\" rel=\"nofollow\">TUT2</a></p>\n\n<p>I was not able to figure out how and what i need to do in order to make this work.\nPlease look at my simple code and tell me what do i need to do so i can persist it to the datastore:</p>\n\n<p><strong>1. ADDRESS ENTITY</strong></p>\n\n<pre><code>package com.example.rpccalls.client;\n\nimport java.io.Serializable;\n\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\npublic class Address implements Serializable{\n\n @PrimaryKey\n @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n private int addressID;\n @Persistent private String address1;\n @Persistent private String address2;\n @Persistent private String city;\n @Persistent private String state;\n @Persistent private String zip;\n\n public Address(){}\n\n public Address(String a1, String a2, String city, String state, String zip){\n  this.address1 = a1;\n  this.address2 = a2;\n  this.city = city;\n  this.state = state;\n  this.zip = zip;\n }\n\n /* Setters and Getters */\n}\n</code></pre>\n\n<p><strong>2. PERSON ENTITY</strong></p>\n\n<pre><code>package com.example.rpccalls.client;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\nimport com.google.appengine.api.datastore.Key;\n\n@PersistenceCapable\npublic class Person implements Serializable{\n\n @PrimaryKey\n @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n private Key key;\n @Persistent private String name;\n @Persistent private int age;\n @Persistent private char gender;\n @Persistent ArrayList&lt;Address&gt; addresses;\n\n public Person(){}\n\n public Person(String name, int age, char gender){\n  this.name = name;\n  this.age = age;\n  this.gender = gender;\n }\n\n /* Getters and Setters */\n}\n</code></pre>\n\n<p><strong>3. RPCCalls</strong></p>\n\n<pre><code>package com.example.rpccalls.client;\n\nimport java.util.ArrayList;\n\nimport com.google.gwt.core.client.EntryPoint;\nimport com.google.gwt.core.client.GWT;\nimport com.google.gwt.event.dom.client.ClickEvent;\nimport com.google.gwt.event.dom.client.ClickHandler;\nimport com.google.gwt.user.client.Window;\nimport com.google.gwt.user.client.rpc.AsyncCallback;\nimport com.google.gwt.user.client.ui.Button;\nimport com.google.gwt.user.client.ui.RootPanel;\nimport com.google.gwt.user.client.ui.TextBox;\n\n\npublic class RPCCalls implements EntryPoint {\n\n private static final String SERVER_ERROR = \"An error occurred while attempting to contact the server. Please check your network connection and try again.\";\n\n private final RPCCallsServiceAsync rpccallService = GWT.create(RPCCallsService.class);\n\n TextBox nameTxt = new TextBox();\n Button btnSave = getBtnSave();\n\n public void onModuleLoad() {\n\n  RootPanel.get(\"inputName\").add(nameTxt); \n  RootPanel.get(\"btnSave\").add(btnSave);\n }\n\n\n\n private Button getBtnSave(){\n\n  Button btnSave = new Button(\"SAVE\");\n\n  btnSave.addClickHandler(\n    new ClickHandler(){\n     public void onClick(ClickEvent event){\n      saveData2DB(nameTxt.getText());\n     }\n    } \n  );\n  return btnSave;\n }\n\n void saveData2DB(String name){  \n  AsyncCallback&lt;String&gt; callback = new AsyncCallback&lt;String&gt;() {\n   public void onFailure(Throwable caught) {\n          Window.alert(\"WOOOHOOO, ERROR: \" + SERVER_ERROR);\n    // TODO: Do something with errors.\n        }\n\n        public void onSuccess(String result) {\n          Window.alert(\"Server is saying: ' \" + result + \"'\");\n        }\n\n  };\n\n  ArrayList&lt;Address&gt; aa = new ArrayList&lt;Address&gt;();\n  aa.add(new Address(\"123 sasdf\",\"\", \"Some City\", \"AZ\", \"93923-2321\"));\n  aa.add(new Address(\"23432 asdf\", \"Appt 34\", \"Another City\", \"AZ\", \"43434-4432\"));\n\n  Person p = new Person();\n  p.setName(name);\n  p.setAge(23);\n  p.setGender('m');\n  p.setAddresses(aa);\n\n  // !!!!!!!!!!!!!!!!!!  SERVER CALL !!!!!!!!!!!!!!!!!!\n  rpccallService.saveName(p, callback);\n  // !!!!!!!!!!!!!!!!!!  SERVER CALL !!!!!!!!!!!!!!!!!!\n\n }\n}\n</code></pre>\n\n<p><strong>4. RPCCallsService</strong></p>\n\n<pre><code>package com.example.rpccalls.client;\n\nimport com.google.gwt.user.client.rpc.RemoteService;\nimport com.google.gwt.user.client.rpc.RemoteServiceRelativePath;\n\n@RemoteServiceRelativePath(\"calls\")\npublic interface RPCCallsService extends RemoteService {\n\n String saveName(Person p);\n\n}\n</code></pre>\n\n<p><strong>5. RPCCallsServiceAsync</strong></p>\n\n<pre><code>package com.example.rpccalls.client;\n\nimport com.google.gwt.user.client.rpc.AsyncCallback;\n\npublic interface RPCCallsServiceAsync {\n\n void saveName(Person p, AsyncCallback&lt;String&gt; callback);\n\n}\n</code></pre>\n\n<p><strong>6. **RPCCalls.gwt.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE module PUBLIC \"-//Google Inc.//DTD Google Web Toolkit 1.6.4//EN\" \"http://google-web-toolkit.googlecode.com/svn/tags/1.6.4/distro-source/core/src/gwt-module.dtd\"&gt;\n&lt;module rename-to='rpccalls'&gt;          \n  &lt;inherits name='com.google.gwt.user.User'/&gt;\n  &lt;inherits name='com.google.gwt.user.theme.standard.Standard'/&gt;\n  &lt;entry-point class='com.example.rpccalls.client.RPCCalls'/&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>I tried to add Key class and everything else in those tutorials but it looks like i'm missing something.</p>\n\n<p>Here is my error:\n<img src=\"http://vasura.s3.amazonaws.com/Picture2.png\" alt=\"alt text\"></p>\n\n<p>or before i was getting this error: </p>\n\n<blockquote>\n  <p>Key cannot be resolved to a type</p>\n</blockquote>\n\n<p>What is the best solution to make this working?</p>\n"},{"tags":["iphone","google-app-engine","apple-push-notifications"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13160555,"title":"Sending iOS push notifications from my Machine?","body":"<p>I would like to add iOS push notification to my FREE iOS App</p>\n\n<p>The push notification will be mainly advertising my other iOS applications. so I am expecting 1 or 2 push notifications every month</p>\n\n<p>I checked service like urban airship, but I think it is expensive considering I have more than 1.5 Million active users.</p>\n\n<p>So, what I am thinking of is collecting the devices token at Google App Engine ( java ), then whenever I want to send push notifications I export those tokens then send them from my Machine.</p>\n\n<p>Is this is the right approach? what do you think?</p>\n\n<p>Is there any framework that I could use instead of building things from scratch?</p>\n\n<p>Many thanks</p>\n"},{"tags":["java","google-app-engine","gwt","restlet"],"answer_count":6,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1463,"score":5,"question_id":6326433,"title":"Error with Restlet sample project","body":"<p>I downloaded the <a href=\"http://wiki.restlet.org/docs_2.0/304-restlet.html\">sample Restlet project</a> and opened it in Eclipse. I instantly get this error:</p>\n\n<pre><code>Errors occurred during the build.\nErrors running builder 'Google WebApp Project Validator' on project 'org.restlet.example.serialization.gae-gwt'.\njava.lang.NullPointerException\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","google-app-engine","logging","configuration","task-queue"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13160119,"title":"Turn off GAE Task Queue Logging","body":"<p>I am using the Java version of Google App Engine's Push Task Queue. When I build my application, the amount of logging that is spit out from task queue during the build and tests are <em>ridiculous</em>! If there was some sort of bug in my program and I had to read through the build logs to find out which test is failing, it will be very hard to find the problem test when trying to dig through endless lines of Task Queue logging. I thought the solution would have been a simple configuration, as defined in the <a href=\"https://developers.google.com/appengine/docs/java/config/queue\" rel=\"nofollow\">Java Task Queue Configuration Page</a>, but I cannot find such a logging configuration.</p>\n"},{"tags":["java","google-app-engine","jpa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13159277,"title":"JPA inheritance alternative for SINGLE_TABLE?","body":"<p>AppEngine only supports \"TABLE_PER_CLASS\" and \"MAPPED_SUPERCLASS\" for JPA inheritance.\nUnfortunately \"JOINED\" and especially \"SINGLE_TABLE\" are not supported.</p>\n\n<p>I'm wondering what the best alternative is to implement a SINGLE_TABLE alternative?</p>\n\n<p>My only requirements are:\n1) Have separate classes like AbstractEmployee, InternalEmployee, ExternalExmployee.\n2) Being able to run a query over all employees, thus resulting in both InternalEmployee and ExternalEmployee instances.</p>\n\n<p>The only thing I'm thinking off is using a 'big' Employee object containing all fields?\nAny other ideas?</p>\n\n<p>PS: vote for proper \"SINGLE_TABLE\" support via <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=8366\" rel=\"nofollow\">http://code.google.com/p/googleappengine/issues/detail?id=8366</a></p>\n"},{"tags":["java","google-app-engine","google"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12930186,"title":"How to detect user already logged out from Google at my GAE website","body":"<p>I don't have problem to have Google authentication login module added to my GAE website. </p>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;security-constraint&gt; \n  &lt;web-resource-collection&gt; \n    &lt;web-resource-name&gt;All Access&lt;/web-resource-name&gt; \n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt; \n  &lt;/web-resource-collection&gt; \n  &lt;auth-constraint&gt; \n    &lt;role-name&gt;*&lt;/role-name&gt; \n  &lt;/auth-constraint&gt; \n&lt;/security-constraint&gt; \n</code></pre>\n\n<p>But then when I sign out from Google, my web client still holds the cookie name with \"SACSID\" which thinks my Google account still valid. How to overcome such issue???</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13158848,"title":"Any good working example for webapp2 using http put method?","body":"<p>I would like to use HTTP PUT method , to send data to my google app engine application, any good example? I can't find any from google.</p>\n\n<p>And my following example also not working.</p>\n\n<pre><code>import webapp2\n\nclass MainHandler(webapp2.RequestHandler):\n    def put(self):\n        self.response.write('test put')\n\napp = webapp2.WSGIApplication([\n    (r'/test/(.*)', MainHandler)\n], debug=True)\n</code></pre>\n\n<p>And i got this error.</p>\n\n<pre><code>TypeError: put() takes exactly 1 argument (2 given)\n</code></pre>\n"},{"tags":["google-app-engine","struts2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":109,"score":1,"question_id":10627710,"title":"Struts2 Access Static Method (GAE/J)","body":"<p>I have set in struts.xml</p>\n\n<pre><code>&lt;constant name=\"struts.ognl.allowStaticMethodAccess\" value=\"true\"/&gt; \n</code></pre>\n\n<p>In my jsp, i tried to convert GAE key to string</p>\n\n<pre><code>&lt;s:iterator var=\"itr\" value=\"list\" status=\"stat\"&gt;\n    &lt;s:property value=\"@com.google.appengine.api.datastore.KeyFactory@keyToString(key)\"/&gt;\n&lt;/s:iterator&gt;\n</code></pre>\n\n<p>Iterator and key works. But when trying to convert key to String, it doesn't display anything.\nDo I have to import something in my jsp? Am I accessing the method correctly?</p>\n"},{"tags":["java","google-app-engine","jdo","gwt-rpc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":111,"score":-2,"question_id":13110506,"title":"JDO basics: List or array won't retrieve or return with GWT RPC","body":"<p>I've been using Objectify up till now, but now I have to deal with some code using JDO.\nI'm having problems with basic stuff that is easy with Objectify, specifically: if an object\nhas either a List or an array as a member, I can't get that to persist.</p>\n\n<p>I have a class FileInfoBatch (code indents lost here, don't know why)\ncontaining a List of FileInfo:</p>\n\n<pre><code>@PersistenceCapable\npublic class FileInfoBatch implements Serializable{\n\nprivate static final long serialVersionUID = 1L;        \n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key key;\n\n@Persistent\nprivate List&lt;FileInfo&gt; fileInfoList;    \n\n@Persistent    \nprivate String savedByUserEmail;\n\npublic FileInfoBatch(){         \n    fileInfoList=new ArrayList&lt;FileInfo&gt;();     \n}\n</code></pre>\n\n<p>Then I send a FileInfoBatch (called fib) containing just 1 FileInfo in the List, to my RPC impl class &amp; persist it, then query for it straight away for a test (in debugger)</p>\n\n<pre><code>    PersistenceManager pm = PMF.get().getPersistenceManager();\n    pm.makePersistent(fib);\n    Query query = pm.newQuery(FileInfoBatch.class, \"savedByUserEmail == '\"+ userEmail + \"'\");\n    List&lt;FileInfoBatch&gt; savedList = (List&lt;FileInfoBatch&gt;) query.execute();\n    FileInfoBatch persisted=savedList.get(0);\n</code></pre>\n\n<p>The persisted FileInfoBatch comes back with an empty FileInfo list.\nIf I use a single Fileinfo member, this persists ok.</p>\n\n<p>I find no such basic problem reported on this site &amp; I've looked at the docs:\n<a href=\"https://developers.google.com/appengine/docs/java/datastore/jdo/dataclasses\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/datastore/jdo/dataclasses</a></p>\n\n<p>Does such a simple storage task require huge complexity? If so I will go back\nto using Objectify.</p>\n"},{"tags":["google-app-engine","notifications","apple","push","apns"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13154987,"title":"Google App Engine APNS","body":"<p>Im developing the server side for an iOS app with Google App Engine and JDO in Java, and I just realized that GAE dont support Apple Push Notification Service, and I`m very frustrated.</p>\n\n<p>I have been seen quite of solutions like Urban Airship, xtify, etc; but It`s too expensive if I reach to have an important amount of users.</p>\n\n<p>Besides, I have been investigating about Javapns and similars, but GAE don`t support BouncyCastle either.</p>\n\n<p>I want to know if there is a free or low cost solution for support APNS in my GAE server, because I can`t pay 200 $ per month. \nIf there is not solution for my problem, would it been possible to build another server only for doing the Apple push notication with javapns, and that my GAE talks with it?</p>\n\n<p>I hope someone can help me. Thanks in advance!</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13154012,"title":"GAE 1 Mb Entity Limit","body":"<p>I have a small dataset, its around 2000 rows, and the Entity only has 4 String fields and a Long id. When I populate the database run locally there is no problems, but when I run it on appengine i only get 867 records into the database before I hit the 1 Mb limit.</p>\n\n<p>what am i missing?</p>\n\n<p>he GAE documentation states:</p>\n\n<p>\" App Engine Datastore uses a distributed architecture to automatically manage scaling to very large data sets \"</p>\n\n<p>is there a discussion somewhere on how to get around this severe limitation? </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13151916,"title":"How can use virtual file system in Google App Engine?","body":"<p>Anyone can help to how to use virtual file system in GAE. I want to store some data, which is returning from the server. I tried to store it to '/war/WEB_INF' but its giving error:</p>\n\n<pre><code>access denied (\"java.io.FilePermission\" \"/war/WEB-INF/home\" \"write\")\n</code></pre>\n\n<p>How can I resolve this problem?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13152995,"title":"How to read email (custom) header and attachments from InboundMailHandler in Google App Engine","body":"<p>How to read email header in Google App Engine. I am trying to search in google, but can't find any good and working example.</p>\n"},{"tags":["google-app-engine","date","time","gae-datastore","datastore"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13147912,"title":"App engine Datastore Implementation","body":"<p>I'm making a system in appengine and can't find the correct way to implement this in the datastore. I could do so in a normal relational databases but just can't get my head around this.</p>\n\n<p>In the datastore is an entity, this entity has a \"close\" and \"open\" time for each day.</p>\n\n<p>This is all easy so far BUT: Occasionally there could be 2 + \"open\" and \"close\" times in one day.</p>\n\n<p>Can anyone offer some advice on the correct implementation?</p>\n"},{"tags":["javascript","google-app-engine","angularjs","channel-api"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13152119,"title":"How to properly wrap GAE Channel API in Angular.js service and push updates out to the entire app?","body":"<p>So I'm trying to use the <a href=\"https://developers.google.com/appengine/docs/python/channel/overview\" rel=\"nofollow\">GAE Channel API</a> with <a href=\"http://angularjs.org/\" rel=\"nofollow\">Angular.js</a> to do real-time data-bound updates (which would be really cool, right!?).  I'm told the correct way to do this is to wrap the Channel API <a href=\"https://developers.google.com/appengine/docs/python/channel/javascript\" rel=\"nofollow\">Javascript Client</a> in an Angular.js service (<a href=\"http://stackoverflow.com/questions/10179488/the-view-is-not-updated-in-angularjs\">and make sure to use $apply()</a>).  But what does that mean exactly?</p>\n\n<p>To my understanding, for the Channel API, I'm pretty much supposed to have a 1:1 client:channel connection, so all my updates will have to flow down that one channel for all the models in my entire app.  How do I then broadcast to possibly multiple scopes that a model (generally an ngResource) has been updated?  <em>$watch?  $emit?  $broadcast?  $digest?</em></p>\n"},{"tags":["google-app-engine","directory","go","structure"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":12819859,"title":"GoLang / Google App Engine - Directory structure","body":"<p>I started developing an app with GoLang &amp; GAE but I am having a hard time finding out how to layout the files. This is how I keep my GoLang files organized so far (before using GAE)</p>\n\n<pre><code>-golang\n--bin\n--pkg\n--src\n---breinbaas.nl\n----lib\n-----package1\n-----package2\n</code></pre>\n\n<p>If I want to develop an app for GAE I would like to put it into</p>\n\n<pre><code>-golang\n--src\n---breinbaas\n----deploy\n-----mygae_app\n</code></pre>\n\n<p>But how am I able to use the files in the lib directory?</p>\n\n<p>Is there a way to use the go files in the golang/src/breinbaas/lib directory? I keep getting a package not found error and the only way I can resolve this is by copying the lib directory to golang/src/breinbaas/deploy/mygae-app but that would mean copying source files to more than one location which is very bad for consistency.</p>\n\n<p>Thx in advance!\nRob</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13118041,"title":"Is there a list of applicationError codes & descriptions for the Google AppEngine ApplicationException?","body":"<p>Hello everyone and thanks up front for your time,</p>\n\n<p>I am working on a java-based GAE web application and now and then I get ApiProxy.ApplicationExceptions.</p>\n\n<p>In the current case they appear randomly and come with the applicationError 108 when I open a write channel to a blob using the (yes I know, still experimental) FileStore API. Although the API is still in an experimental state, I'd like to handle the thrown exception correctly. Thus my question:</p>\n\n<p><strong>Where can I find a list of possible application errors including their descriptions?</strong></p>\n\n<p>As of right now it is not possible for me to figure out where the problem resides since the thrown exception does not contain something like a message, hint or reason phrase but only the error ID 108:</p>\n\n<pre><code>Caused by: com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 108: \n    at java.lang.Thread.getStackTrace(Thread.java:1495)\n    at com.google.apphosting.runtime.ApiProxyImpl.doSyncCall(ApiProxyImpl.java:240)\n    at com.google.apphosting.runtime.ApiProxyImpl.access$000(ApiProxyImpl.java:66)\n    at com.google.apphosting.runtime.ApiProxyImpl$1.run(ApiProxyImpl.java:183)\n    at com.google.apphosting.runtime.ApiProxyImpl$1.run(ApiProxyImpl.java:180)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:180)\n    at com.google.apphosting.runtime.ApiProxyImpl.makeSyncCall(ApiProxyImpl.java:66)\n    at com.googlecode.objectify.cache.TriggerFutureHook.makeSyncCall(TriggerFutureHook.java:154)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:107)\n    at com.google.apphosting.api.ApiProxy.makeSyncCall(ApiProxy.java:56)\n    at com.google.appengine.api.files.FileServiceImpl.makeSyncCall(FileServiceImpl.java:584)\n    ... 65 more\n</code></pre>\n\n<p>Also, the corresponding javadoc is quite conservative with giving information: <a href=\"https://developers.google.com/appengine/docs/java/javadoc/com/google/apphosting/api/ApiProxy.ApplicationException\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/javadoc/com/google/apphosting/api/ApiProxy.ApplicationException</a></p>\n\n<p>Currently I bluntly cancel these requests with a 500, but since I am not sure what has happened I should probably do something else/more.</p>\n\n<p>Thanksalot!</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13149663,"title":"Efficient way to store comments in Google App Engine?","body":"<p>With Google App Engine, an entity is limited to 1 MB in size. Say I have a blog system, and expect thousands of comments on each article, some paragraphs in lengths. Typically, without a limit, you'd just store all the comments in the same entity as the blog post. But here, there would be concerns about reaching the 1 MB limit.</p>\n\n<p>The other possible way, though far less efficient, is to store each comment as a separate entity, but that would require several, several reads to get all comments instead of just 1 read to get the blog post and its comments (if they were in the same entity).</p>\n\n<p>What's an efficient way to handle a case like this?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13150592,"title":"Why is this Python function not returning a future?","body":"<p>I'm using Google App Engine with NDB. I've removed a lot of code for brevity, but kept the basic problem. I'm getting an error <code>'list' object has no attribute 'get_result'</code></p>\n\n<pre><code>def get_future(keys):\n    future = ndb.get_multi_async(keys)\n    important_value = ... # get important value\n    return {\"future\" : future, \"value\" : important_value}\n\ndic = get_future(keys)\nfuture = dic['future']\n# error `'list' object has no attribute 'get_result'`\nitems = future.get_result()\n</code></pre>\n\n<p>Why am I getting a list back when I should be getting a future?</p>\n"},{"tags":["google-app-engine","google-api","google-api-java-client"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13150295,"title":"Importing Google libraries with Maven in Eclipse?","body":"<p>I'm following this example, <a href=\"http://code.google.com/p/google-api-java-client/wiki/OAuth2Draft10\" rel=\"nofollow\">http://code.google.com/p/google-api-java-client/wiki/OAuth2Draft10</a> and I paste in the code however the following lines give errors (cannot be resolved):</p>\n\n<pre><code>import com.google.api.client.auth.oauth2.draft10.AccessTokenResponse;\nimport com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAccessProtectedResource;\nimport com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAccessTokenRequest.GoogleAuthorizationCodeGrant;\nimport com.google.api.client.googleapis.auth.oauth2.draft10.GoogleAuthorizationRequestUrl;\n</code></pre>\n\n<p>The same page says ok bro no problem just add this to Maven:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n  &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n  &lt;version&gt;1.11.0-beta&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Unfortunately I don't know jack about Maven. I don't have a POM.XML (I created another project and still no pom.xml).</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13122060,"title":"How to programmatically look up google app instances","body":"<p>I have implemented instance mem-caches because we have very static data and the memcache is not very reliable and rather slow compared to an instance cache.</p>\n\n<p>However there is some situations where I would like to invalidate the instance caches. Is there any way to look them up?</p>\n\n<p>Example\nAdmin A updates a large gamesheet on instance A and that instance looks up all other instances and update the data using a simple REST api.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13148239,"title":"Appstats with GWT RPC","body":"<p>I really like the concept of Appstats profiler, except it shows all my GWT RPC calls as one entry.  This pretty much makes Appstats useless for profiling my GWT app, because I can't determine which of my RPC calls are using resources.</p>\n\n<p>Is there any way to tell Appstats record in my Java app?  Is there a way to override the URL that Appstats uses?</p>\n\n<p>Is it possible to write a special Appstats filter for GWT RPC?</p>\n"},{"tags":["python","google-app-engine","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13114151,"title":"How do I make handlers automatically .decode('utf-8') on all routed parameters?","body":"<p>I'm trying to make webapp2 automatically decode all routed parameters as utf-8, before they're sent to their handler's get() method. I tried to override dispatch() in a BaseHandler class that all handlers inherit from, but I only managed to read the parameters through the request object, not change them. How would I best do this to?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My bad, this is not about traditional GET-parameters, but rather the routed parts of the URL that the handler's get() method recieve as keyword arguments. When they contain unicode characters from the URL that was matched, they must be .decode('utf-8') or they will give an UnicodeDecodeError. I want to avoid having to do these decodes manually for every handler and routed parameter in my system.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13147774,"title":"Can the AppEngine SQLite datastore work with Django SQLite backend?","body":"<p>With the release of AppEngine 1.7.3, soon the SQLite datastore stub will be default for the Python SDK. Any plans to give users using Django and Cloud SQL the ability to use the SQLLite datastore with the SQLLite Django backend locally?</p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":13094068,"title":"How do I configure a backend in GAE","body":"<p>I seem to be missing something fundamental. I added a backends.yaml file to the directory where my app lives in my development environment. This file contains the following:</p>\n\n<pre><code>backends:\n- name: reporting\n  class: B8\n  options: dynamic public\n</code></pre>\n\n<p>I deployed and the admin console says I don't have any backends configured. I tried using appcfg.py like this:</p>\n\n<pre><code>appcfg.py backends ~/work/google/myappfolder list\n</code></pre>\n\n<p>and it says:</p>\n\n<pre><code>No backends configured for app: {my app name}.\n</code></pre>\n\n<p>The <a href=\"https://developers.google.com/appengine/docs/python/backends/overview\" rel=\"nofollow\">documentation</a> says:</p>\n\n<pre><code>appcfg backends &lt;dir&gt; list\nLists all the backends configured for the app specified in dir/app.yaml.\n</code></pre>\n\n<p>Is <code>app.yaml</code> a typo? Or is my problem that I should be putting something into app.yaml? I didn't find any mention of that anywhere else.</p>\n\n<p>Also, some of the documentation says you have to start all backends manually, but other parts say that \"dynamic\" backends do not need be started from the command line -- they are started automatically. Which is it?</p>\n\n<p>This was answered by alex in the comments. Here are the key take-aways:</p>\n\n<ol>\n<li>You must do <code>appcfg.py backends dir update</code> to get things going</li>\n<li>You must do that <strong>again</strong> every time you update your code (clicking the deploy button in the launcher program does not update your backends!)</li>\n<li>That app.yaml in the docs is a typo</li>\n<li>You do not need to start dynamic backends from the command line; they do start automatically</li>\n<li>The logs are useless in debugging backend issues; do not assume a lack of information in the logs is indicative of anything</li>\n<li>If giving multiple options, separate them with commas</li>\n</ol>\n"},{"tags":["google-app-engine","unique-constraint","entity-groups"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13142088,"title":"Google App Engine Assigning Entity Groups / Parent Keys, Unique constaint","body":"<p>I have a Kind of 'Customer'.  I want to run a transaction that locks the entire Kind when a new 'Customer' is about to be inserted.  The transaction would first query to check that the new 'Customer' Name does not already exist, then the 2nd part of the transaction runs the insert if no matches are found.  This way I'm enforcing a Unique Constraint (and also restricting the operation to approx 1 insert per second).</p>\n\n<p>My unsatisfactory solution to getting all my 'Customer' entitys in the same entity group is to create a Kind called 'EntityGroups', with a single record called 'CustomersGroup'.  This one record is used every time as the Parent of newly created 'Customer' entities, thereby grouping the entire Kind into one entity group.</p>\n\n<p>My question is: I am concerned about using a phantom record such as 'CustomerGroup' because if anything happened and it were lost or deleted, I could not assign any new 'Customer' entities to the same group!  I imagine it would be better to assign the Parent of each 'Customer' entity a static arbitrary parent, such as '1111111'?  I think the terminology is \"virtual root entity\", how do I do this?</p>\n\n<p>Please help with any advice on how I can best handle this!</p>\n"},{"tags":["google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":61,"score":3,"question_id":13146316,"title":"Google App Engine low memcache performance","body":"<p>Memcache is one of those things where the solution could be absolutely anything, and no one ever really gives a decent answer, maybe because there is none. So I'm not looking for a direct answer, but maybe just something to get me going in the right direction.</p>\n\n<p>For a typical request, here is my AppStats info:</p>\n\n<p><img src=\"http://i.stack.imgur.com/o0CgL.png\" alt=\"enter image description here\"></p>\n\n<p>So, out of a total 440 ms request, I spend 342 ms in memcache. And here I figured memcache was supposed to be lightning fast. I must be doing something wrong.</p>\n\n<p>Looking at my memcache statistics in my admin console, I have this:</p>\n\n<pre><code>Hit count:  3848\nMiss count: 21382\nHit ratio:  15%\n</code></pre>\n\n<p>I'm no expert on this stuff, but I'm pretty sure 15% is terrible. </p>\n\n<p>The typical request above is a bit too detailed to explain, but basically, I create and put a new entity, which also updates and puts a parent entity, which also updates and puts any users associated with the parent entity. </p>\n\n<p>Throughout all this, I always get by key, never query. Oh and I'm using NDB, so all the basic <a href=\"https://developers.google.com/appengine/docs/python/ndb/cache\" rel=\"nofollow\">memcache stuff is handled automatically</a>. So I never actually touch memcache manually on my own in my code.</p>\n\n<p>Any ideas?</p>\n\n<p>Edit: Here is the breakdown of my request</p>\n\n<p><img src=\"http://i.stack.imgur.com/yAxW2.png\" alt=\"enter image description here\"></p>\n\n<p>So I only have 2 datastore gets and 2 puts. The rest is automatically handled memcache stuff. Why is it doing so much work? Would I be better off handling this stuff manually?</p>\n"},{"tags":["internet-explorer","google-app-engine","google-chrome","http-headers","blobstore"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":63,"score":4,"question_id":13095944,"title":"GAE downloaded file extensions from blobstore","body":"<p>I'm currently storing a bunch of .docx files in the GAE Blobstore. I recently noticed that these files are downloading without file extensions on some computers (IE 9 for Windows 7), but works fine for others (IE 8, Chrome for Windows 7).</p>\n\n<p>Here's how the files are stored in the blobstore:</p>\n\n<pre><code>f = files.blobstore.create(mime_type='application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n                           _blobinfo_uploaded_filename=filename)\n## then some code to write data and save ##\n</code></pre>\n\n<p>Here's the response headers for the file from the Chrome inspector:</p>\n\n<pre><code>Cache-Control:no-cache\nContent-Disposition:attachment; filename=\"causes_of_ww1_emanresu\"\nContent-Length:12120\nContent-Type:application/vnd.openxmlformats-officedocument.wordprocessingml.document\nDate:Fri, 26 Oct 2012 23:54:09 GMT\nServer:Google Frontend\nX-AppEngine-Estimated-CPM-US-Dollars:$0.000033\nX-AppEngine-Resource-Usage:ms=15 cpu_ms=0\n</code></pre>\n\n<p>Here's how I serve the blob:</p>\n\n<pre><code>self.send_blob(blob_info, save_as=blob_info.filename, content_type=blob_info.content_type)\n</code></pre>\n\n<p>I even tried hardcoding <code>content_type='application/vnd.openxmlformats-officedocument.wordprocessingml.document'</code> to no avail.</p>\n\n<p>Any ideas on what's going on and how to fix it?</p>\n\n<hr>\n\n<p>As requested, here's how I get the file information when initially saving the blob. I'm  pretty certain that the error is not occuring at this level, but here's the precursor to the problem:</p>\n\n<pre><code># get the file from a file_url with urlfetch\nresult = urlfetch.fetch(file_url)\nheaders = result.headers\n\n# some custom functions to return a filename\nusername = self.get_username()\nfilename = get_filename(title, username)\n\n# write the file to blobstore\nf = files.blobstore.create(mime_type=headers['content-type'], \n                           _blobinfo_uploaded_filename=filename)\nwith files.open(f, 'a') as data:\n    data.write(result.content)\nfiles.finalize(f)\nblob_key = files.blobstore.get_blob_key(f)\n</code></pre>\n"},{"tags":["java","arrays","google-app-engine","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13144112,"title":"GAE datastore array initialization throw: FK Arrays not supported","body":"<p>I’m trying to save an array object in an entity class, which I would like to store in the GAE datastore. Sadly I get a exception, while I’m trying to initialize the array.</p>\n\n<p>I get this error:   </p>\n\n<blockquote>\n  <p>java.lang.UnsupportedOperationException: FK Arrays not supported.</p>\n</blockquote>\n\n<p>My class looks like this:</p>\n\n<pre><code>@Entity\npublic class Game {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Key key;\n    ...\n    @Persistent\n    private Profile[] players = new Profile[4];\n    ...\n    public void setPlayers(Profile player) {\n        if (pcount.intValue() &lt; 4) {\n            this.players[pcount] = player; //Here I get the exception\n            pcount = Integer.valueOf(pcount.intValue() + 1);\n        }\n    }\n}\n</code></pre>\n\n<p><code>Profile</code> is also a entity class.</p>\n\n<p>What went wrong? How could i fix this. It would be greate if someone could explain it to me!</p>\n"},{"tags":["python","google-app-engine","facebook-graph-api"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":643,"score":1,"question_id":5052507,"title":"whats is the code to create album using FB graph api with appengine- pyrthon SDK?","body":"<p>i found the follwing code in PHP ..</p>\n\n<p>what is the equivalent code in python to do that ?</p>\n\n<pre><code>//At the time of writing it is necessary to enable upload support in the Facebook SDK, you do this with the line:\n$facebook-&gt;setFileUploadSupport(true);\n\n//Create an album\n$album_details = array(\n        'message'=&gt; 'Album desc',\n        'name'=&gt; 'Album name'\n);\n$create_album = $facebook-&gt;api('/me/albums', 'post', $album_details);\n\n//Get album ID of the album you've just created\n$album_uid = $create_album['id'];\n\n//Upload a photo to album of ID...\n$photo_details = array(\n    'message'=&gt; 'Photo message'\n);\n$file='app.jpg'; //Example image file\n$photo_details['image'] = '@' . realpath($file);\n\n$upload_photo = $facebook-&gt;api('/'.$album_uid.'/photos', 'post', $photo_details);\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12989956,"title":"How can i use script in sub folders on gae?","body":"<p>when i was about to write a sub module for my app, i'd like to put all the stuffs in a sub folder like <code>/foo</code>, and i give the script the name <code>foo.py</code> and in it there's a </p>\n\n<p><code>app = webapp2.WSGIApplication([('/foo/', Index)])</code></p>\n\n<p>then it comes to</p>\n\n<pre><code>Fatal error when loading application configuration:\nthreadsafe cannot be enabled with CGI handler: foo/foo.app\n  in \"/home/***/workspace/***/app.yaml\", line 23, column 20\n</code></pre>\n\n<p>then i set it to false, it becomes error 500</p>\n\n<pre><code>ImportError: Could not find module foo.foo.app\n</code></pre>\n\n<p>my <code>app.yaml</code> is like</p>\n\n<pre><code>application: ***\nversion: alpha\nruntime: python27\napi_version: 1\nthreadsafe: false\n\nhandlers:\n- url: /static\n  static_dir: static\n\n- url: /admin.*\n  script: admin.app\n  login: admin\n\n- url: /foo\n  script: foo/foo.app\n\n- url: /.*\n  script: index.app\n</code></pre>\n"},{"tags":["google-app-engine","google-drive-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13143544,"title":"Google Drive changing permissions by service account","body":"<p>Looking for the best current approach for admins of a Google Apps domain to modify the permissions of a Google Drive object owned by other users.  I'll be developing the app on Google App Engine. </p>\n\n<p>It was straightforward using 2 legged OAuth and the Google Documents List API: <a href=\"https://developers.google.com/gdata/docs/auth/oauth#2LeggedOAuth\" rel=\"nofollow\">https://developers.google.com/gdata/docs/auth/oauth#2LeggedOAuth</a> but now that Google Drive SDK is the live API, I see that service accounts are the encouraged method: <a href=\"http://stackoverflow.com/questions/12605705/does-google-drive-api-support-2-legged-oauth\">Does google Drive api support 2 legged oauth?</a> and <a href=\"https://developers.google.com/accounts/docs/OAuth2ServiceAccount\" rel=\"nofollow\">https://developers.google.com/accounts/docs/OAuth2ServiceAccount</a> . So I'm following an example that uses this approach and the Prediction API: <a href=\"https://developers.google.com/appengine/articles/prediction_service_accounts\" rel=\"nofollow\">https://developers.google.com/appengine/articles/prediction_service_accounts</a> and you cannot use the GAE service account in the Team section of the API console. Get an error: \"User xxx@appspot.gserviceaccount.com may not be added to project \"New Proj Name\". Only members from domain myappsdomain.com may be added. </p>\n\n<p>So, I'm basically asking:\n1)  How do you use service accounts with Google Drive SDK for admin tasks like changing permissions\n2)  And any working GAE service account tutorials using the Drive API that work with non-domain users.</p>\n"},{"tags":["java","google-app-engine","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13139625,"title":"trying to save Datastore data in a csv file","body":"<p>In an application I'm using Google App Engine,And in the servlet I'm writing my logic where I save my data in datastore in the form of entity.</p>\n\n<p><em>I'm trying to save the data in a csv file...any inputs on this context will be appreciated.</em></p>\n\n<pre><code>    String name = request.getParameter(\"name\");\n    request.setAttribute(\"name\", name);\n    Key key=KeyFactory.createKey(\"name_param\",name);\n    String email = request.getParameter(\"email\");\n    request.setAttribute(\"email\", email);\n    String date = request.getParameter(\"date\");\n    request.setAttribute(\"date\", date);\n\n    Entity entity=new Entity(\"key\", key);\n    entity.setProperty(\"parameter\",name);\n    entity.setProperty(\"email\",email);\n    entity.setProperty(\"date\", date);\n\n    DatastoreService datastore= DatastoreServiceFactory.getDatastoreService();\n    datastore.put(entity);\n</code></pre>\n\n<p>any idea for this....how to save it in a csv file..</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13137628,"title":"Overriding app engine template block inside an if","body":"<p>I have a block 'left_area' defined in a base appengine template</p>\n\n<pre><code>{% block left_area %}\n   &lt;div class=\"span3\"&gt;\n     Left area content\n   &lt;/div&gt; \n{% endblock %}\n</code></pre>\n\n<p>In a child template, I want to override this block inside an if</p>\n\n<pre><code>{% if not user %}\n  {% block left_area %}\n    &lt;div class=\"span2\"&gt;\n    &lt;/div&gt; \n  {% endblock %}\n{% endif %}\n</code></pre>\n\n<p>This is not working for some reason. Any suggestion?</p>\n"},{"tags":["java","google-app-engine","gwt","servlets","requestfactory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13137933,"title":"GWT and GAE: How to link RequestFactory server code with Servlets?","body":"<p>I'm trying to figure out how to deploy a GWT app to Google App Engine. From <a href=\"https://developers.google.com/appengine/docs/java/gettingstarted/usingjsps\" rel=\"nofollow\">this page on using JSPs</a>, it looks like GAE is expecting a normal, <code>HttpServlet</code>-based web app, with the typical handlers:</p>\n\n<pre><code>public class MyServlet extends HttpServlet {\n    public void doPost(HttpServletRequest req, HttpServletResponse resp) {\n        // Handle the HTTP request here and return a response\n    }\n}\n</code></pre>\n\n<p>After reading the GWT documentation and watching several Google I/O videos, I am confident that I want to use GWT's <code>RequestFactory</code> option instead of the traditional GWT-RPC method for client-server communication.</p>\n\n<p>In researching examples of how to use <code>RequestFactory</code>, I found <a href=\"http://cleancodematters.com/2011/06/04/tutorial-gwt-request-factory-part-i/\" rel=\"nofollow\">this simple example</a> which proposes the following class architecture:</p>\n\n<pre><code>Client-Side:\n    PizzaProxy - client-side proxy for Pizza.class\n    PizzaRequestFactory - RF impl\n    PizzaRequestContext - RF context impl\n\nServer-Side:\n    Pizza - the entity\n    PizzaDao - DAO for entity\n    DaoLocator - ServiceLocator for all DAOs\n    PizzaLocator - Locator for entity\n</code></pre>\n\n<p>For one, I'd say I was a little surprised to see the code this normalized, but don't mind this kind of an architecture for each entity if it pays off in performance or just provides the usualy benefit of good old fashioned clean code.</p>\n\n<p><strong>Most importantly, I'm not seeing the connection between what GAE wants and what this <code>RequestFactory</code> seems to provide (on the server-side).</strong> In other words, I see an example of <code>RequestFactory</code> server-side code sans any kind of <code>HttpServlet</code> whatsoever.</p>\n\n<p>So I ask: how can I \"wire\" these two (<code>RequestFactory</code> and <code>HttpServlet</code>) concepts up so that the GWT client app can send HTTP/S to the GAE backend, which is servlet-driven? Is there a way to keep the architecture proposed in the \"Pizza App\" above, or is there a different architecture/approach needed when deploying to GAE?</p>\n\n<p>In fact, come to think of it, this problem would apply not only to GAE, but any standard Java web container: Tomcat, JBoss, Jetty...</p>\n\n<p><strong>UPDATE</strong>: I just found the code samples for <a href=\"http://google-web-toolkit.googlecode.com/svn/javadoc/1.6/com/google/gwt/http/client/package-summary.html\" rel=\"nofollow\">GWT's Request Framework</a> and it seems like this <em>might</em> be what I'm looking for. However, this doesn't appear to have anything to do with <code>RequestFactory</code>, so I'm a little confused/concerned that if I go with the classes in that link that I'll lose the benefits that come with <code>RequestFactory</code>.</p>\n"},{"tags":["java","google-app-engine","upload","blobstore","chunked-encoding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13127500,"title":"Does AppEngine BlobStore support Chunked Transfer Encoding for uploads (Status 411: Length required)?","body":"<p>I'm having a really hard time finding documentation on a very basic question about AppEngine:</p>\n\n<p>Does the BlobStore support Chunked Transfer Encoding for uploads?</p>\n\n<p>I'm using an HttpURLConnection object in Java with setChunkedStreamingMode to upload a file in a multipart/form-data type request using the following code to set up the connection:</p>\n\n<pre><code>HttpURLConnection cxn = (HttpURLConnection) new URL(uploadUrl).openConnection();\ncxn.setRequestMethod(\"POST\");\ncxn.setChunkedStreamingMode(9999);\ncxn.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=-\");\ncxn.setDoOutput(true);\ncxn.connect();\n</code></pre>\n\n<p>The dev-server answers my request with Status 411: Length required. Does this mean that chunked transfer mode is not supported, or am I initializing the connection incorrectly? Does the production server act differently here? Is this behavior a consequence of specifying a max upload size when generating the upload url?</p>\n\n<p>EDIT:</p>\n\n<p>If I simply comment out the line <code>cxn.setChunkedStreamingMode(9999);</code>, everything works perfectly, but I'd rather not do this, so I don't have to buffer hundreds of MB in memory before sending the request...</p>\n"},{"tags":["python","google-app-engine","login","openid","oauth-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":118,"score":4,"question_id":12608407,"title":"Options for Multiple Login (Google/Facebook/Twitter)","body":"<p>I am writing a webapp on Google App Engine with python and right now I am using the built in federated login system with OpenID and it works great with Google/Yahoo/AOL but I want to give users on Facebook and Twitter access to the site as well.  There have been questions like this in the past year or two but none have been fully answered or are out of date.</p>\n\n<p>Basically all I want is for the user to be able to login with either of these three services and I want to be able to authenticate them and store a unique user_id along with each user.  I am not all that interested in posting to facebook walls or sending tweet updates from the site I simply want to give users a really easy way to login with existing accounts.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3594,"score":4,"question_id":8139477,"title":"Google App Engine and Java Version?","body":"<p>I have jre 7 installed and jdk 6u29. I can't install jre6 because an old version of it is stopping the install, I've tried removing all traces of it but it still telling me an old version is installed.</p>\n\n<p>My question is can I develop for GoogleApp engine with jdk6 and jre7 combination? I keep getting error in my logs that indicate the class was compiled with the wrong version java?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13140613,"title":"Is xlrd supported in Google App Engine?","body":"<p>I have seen posts in Google Groups and here that mention using xlrd in Google App Engine:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/10458388/how-do-you-read-excel-files-with-xlrd-on-appengine\">How do you read excel files with xlrd on Appengine</a></p>\n\n<p><a href=\"https://groups.google.com/forum/?fromgroups=#!searchin/google-appengine-python/xlrd/google-appengine-python/lMix6vXhvtA/O_ExzkGhsKEJ\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!searchin/google-appengine-python/xlrd/google-appengine-python/lMix6vXhvtA/O_ExzkGhsKEJ</a></p>\n\n<p>but when I try to add it to the app.yaml file, it says \"the library xlrd is not supported\". Also, in the list of 3rd party libraries I don't see xlrd.</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/python/tools/libraries27\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/tools/libraries27</a></p>\n\n<p>But then other people seem to be using it on GAE, so does GAE support it or not? In the past I was able to import numpy successfully. Here is app.yaml. On main.py I have \"import xlrd\". Thank you very much.</p>\n\n<pre><code>application: uploadsample\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: yes\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: .*\n  script: main.app\n\nlibraries:\n- name: webapp2\n  version: \"2.5.1\" \n- name: xlrd\n  version: \"0.7.3\"\n</code></pre>\n"},{"tags":["google-app-engine","struts2","freemarker"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13138441,"title":"Struts 2.3.4.1 AppEngine 1.7.3 freemarker com.google.appengine.tools.development.LocalResourceFileServlet","body":"<p><strong>I'm getting this error when I access on any struts page, because appengine doesn't find this statics files:</strong>\n<br/>I've been googleing this but no luck at all.</p>\n\n<pre><code>    oct 30, 2012 12:24:32 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet\nWARNING: No file found for: /struts/xhtml/styles.css\noct 30, 2012 12:24:32 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet\nWARNING: No file found for: /struts/utils.js\noct 30, 2012 12:24:32 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet\nWARNING: No file found for: /struts/xhtml/validation.js\noct 30, 2012 12:24:33 PM com.google.appengine.tools.development.LocalResourceFileServlet doGet\nWARNING: No file found for: /struts/utils.js\n</code></pre>\n\n<p>I have filters for struts on my web.xml (looks like that):</p>\n\n<pre><code>&lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n        org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\n        &lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;!-- \nI've tried this option too!!!!\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/struts/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    --&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n\n<p>My appengine-web.xml has static files directories:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n    &lt;application&gt;myapp&lt;/application&gt;\n    &lt;version&gt;1&lt;/version&gt;\n\n    &lt;threadsafe&gt;false&lt;/threadsafe&gt;\n\n    &lt;sessions-enabled&gt;true&lt;/sessions-enabled&gt;\n\n    &lt;!-- Configure java.util.logging --&gt;\n    &lt;system-properties&gt;\n        &lt;property name=\"java.util.logging.config.file\" value=\"WEB-INF/logging.properties\"/&gt;\n    &lt;/system-properties&gt;\n\n    &lt;!-- Static files --&gt;\n    &lt;static-files&gt;\n        &lt;include path=\"/css/*\" /&gt;\n        &lt;include path=\"/struts/*\" /&gt;\n        &lt;include path=\"/struts/xhtml/*\" /&gt;\n        &lt;include path=\"/js/*\" /&gt;\n    &lt;/static-files&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n"},{"tags":["java","image","google-app-engine","seam"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":340,"score":1,"question_id":2174599,"title":"Image storage as a service","body":"<p>Google App Engine provides a image API for storing / retrieving images. We are currently not in a position to deploy our application on top of App Engine because of limitations in the java frameworks (jboss seam 2.2.0) we are using to build our j2ee application.</p>\n\n<p>We would eventually want to deploy our production application on top of Google App Engine, but what are the short term options (java based open source products) which provides comparable functionality to Google App Engine's Image API and will have an easier migration path at a later point in time.</p>\n"},{"tags":["google-app-engine","rest","struts2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":701,"score":0,"question_id":2391677,"title":"struts2 rest plugin on google app engine","body":"<p>I am trying to deploy struts2 with the rest plugin onto the Google app engine... </p>\n\n<p>I have copied the showcase files to a GAE project created in Eclipse. The compilation and upload works fine.</p>\n\n<p>When I hit the index.jsp, which forwards me to /orders I get a 404.</p>\n\n<p>When I check the logs, there is no error, just a warning (as below). The OrdersController does not have code for an INPUT result, therefore I'm thinking something isnt configured right and maybe some default struts configuration is being triggered?</p>\n\n<p>Any ideas here?</p>\n\n<blockquote>\n  <p>com.opensymphony.xwork2.util.logging.commons.CommonsLogger warn: Could not find action or result\n  No result defined for action org.apache.struts2.rest.example.OrdersController and result input\n   at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:364)\n   at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:266)\n   at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:252)\n   at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n   at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:87)\n   at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:237)\n   at com.opensymphony\n  `</p>\n</blockquote>\n"},{"tags":["python","database","google-app-engine","gqlquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13137420,"title":"How to model database for a TODO list app","body":"<p>I'm trying to design a TODO app in python, but I'm having some difficulty figuring out how to write the model in order to support querying future dates. For example, to query for a TODO list item that repeats periodically with no end date. How would I store such information?</p>\n\n<pre><code>class TaskModel(db.Model):\n   name = db.StringProperty()\n   contact = db.ReferenceProperty(model.Contact)\n   start_datetime = db.DateTimeProperty()\n   end_datetime = db.DateTimeProperty()\n   repeat_count = db.IntegerProperty(default=1)\n   priority = db.RatingProperty(default=1)\n   note = db.TextProperty()\n</code></pre>\n"},{"tags":["java","google-app-engine","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13130987,"title":"Uploading the specific text file to blobstore throws Exception","body":"<p>Uploading the text file which filename is with space and without file extension throws following exceptions. The filename is like \"README TXT\" or \"ABC DEF\".</p>\n\n<p>This issue is reproducible with a Blobstore sample. <a href=\"https://developers.google.com/appengine/docs/java/blobstore/overview#Complete_Sample_App\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/blobstore/overview#Complete_Sample_App</a></p>\n\n<p>Do you know how to avoid this issue? Any information is appreciated.</p>\n\n<p>Thanks,\nHideki</p>\n\n<hr>\n\n<pre><code>com.google.apphosting.utils.servlet.ParseBlobUploadFilter doFilter: Could not parse multipart message:\njavax.mail.internet.ParseException: Missing ';'\n        at javax.mail.internet.ParameterList.&lt;init&gt;(ParameterList.java:135)\n    at javax.mail.internet.ContentDisposition.&lt;init&gt;(ContentDisposition.java:51)\n    at com.google.apphosting.utils.servlet.MultipartMimeUtils.getFieldName(MultipartMimeUtils.java:59)\n    at com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:74)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n    at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)\n    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)\n    at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)\n    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n    at java.lang.Thread.run(Thread.java:679)\n</code></pre>\n\n<hr>\n\n<pre><code>java.lang.IllegalStateException: Must be called from a blob upload callback request.\n    at com.google.appengine.api.blobstore.BlobstoreServiceImpl.getUploads(BlobstoreServiceImpl.java:153)\n    at com.google.appengine.api.blobstore.BlobstoreServiceImpl.getUploadedBlobs(BlobstoreServiceImpl.java:137)\n    at com.wyse.test.blobstore.Upload.doPost(Upload.java:24)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:100)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n    at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)\n    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)\n    at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)\n    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n    at java.lang.Thread.run(Thread.java:679)\n</code></pre>\n"},{"tags":["jquery","python","google-app-engine","twitter-bootstrap","bootstrap-typeahead"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":13134486,"title":"Autocomplete with bootstrap typeahead in google app engine","body":"<p>I am using Bootstrap typeahead in a Google App Engine application, but its not working.</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;div class=\"well\"&gt;\n  &lt;input type=\"text\" class=\"span3\" id=\"search\" name=\"search\"\n         data-provide=\"typeahead\" data-items=\"4\" /&gt;\n&lt;/div&gt;\n&lt;script&gt;  \n  $('#search').typeahead({\n    ajax: { url: '/SearchCity', \n    triggerLength: 1 }\n });\n&lt;/script&gt;\n</code></pre>\n\n<p>And my Python code:</p>\n\n<pre><code>class SearchCity(webapp2.RequestHandler):\n    def post(self):\n        data = ['cat','dog','bird', 'wolf']\n        data = json.dumps(data)         \n        self.response.out.write(data)\n</code></pre>\n\n<p>Why is the autocompletetion not working? What is wrong with this code?</p>\n"},{"tags":["java","google-app-engine","jsp","session"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13130227,"title":"GAE session doesn't work?","body":"<p>My project works well in debug mode, but it doesn't work well when I deploy on gae. It seems something is wrong about the session?</p>\n\n<p>The key java and jsp are listed below:</p>\n\n<p>NewStudInfoServlet.java</p>\n\n<pre><code>public class NewStudInfoServlet extends HttpServlet {\npublic void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws IOException {\n    if (req.getParameterValues(\"StuFirName\") != null\n            &amp;&amp; req.getParameter(\"StuFirName\") != \"\"\n            ) {\n\n            Stud stud = new Stud();\n            stud.setFirstName(req.getParameter(\"StuFirName\"));              \n\n            req.getSession().setAttribute(\"NewStud\", stud); \n            req.getSession().setAttribute(\"StuInfoPage\", \"NewStudSchoolInfo\");\n            req.getSession().setAttribute(\"NewLackInfo\", \"successful!\");                \n        } else {\n        req.getSession().setAttribute(\"StuInfoPage\", \"NewStudInfo\");\n        req.getSession().setAttribute(\"NewLackInfo\", \"First name, Last name, Graduation Year is required\");\n    }\n    resp.sendRedirect(\"/NewAlumni.jsp\");\n</code></pre>\n\n<p>NewAlumni.jsp</p>\n\n<pre><code>&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;%@include file='WEB-INF/Header.jsp'%&gt;\n    &lt;%\n        if (session.getAttribute(\"StuInfoPage\") != null\n                &amp;&amp; session.getAttribute(\"StuInfoPage\").toString() == \"NewStudSchoolInfo\") {\n    %&gt;\n    &lt;%@include file='WEB-INF/NewStudSchoolInfo.jsp'%&gt;       \n    &lt;%\n        } else {\n    %&gt;\n    &lt;%@include file='WEB-INF/NewStudInfo.jsp'%&gt;\n    &lt;%\n        }\n    %&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>In debug mode, it works well: the user fill in the first name and press the button submit,and then the NewAlumni.jsp will include WEB-INF/NewStudSchoolInfo.jsp to let the user submit more information;</p>\n\n<p>However, after I deploy the app in GAE, it works differently. After the user fill in the first name and press the button submit, the NewAlumni.jsp continually includes WEB-INF/NewStudInfo.jsp rather than WEB-INF/NewStudSchoolInfo.jsp. I am sure </p>\n\n<pre><code>req.getSession().setAttribute(\"NewStud\", stud); \nreq.getSession().setAttribute(\"StuInfoPage\", \"NewStudSchoolInfo\");\nreq.getSession().setAttribute(\"NewLackInfo\", \"successful!\");    \n</code></pre>\n\n<p>are executed because I can see the damn \"successful!\" in NewStudInfo.jsp.</p>\n\n<p>What's wrong? Need your help.</p>\n\n<p>I ready set up true in appengine-web.xml</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","api","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13132835,"title":"A Most Frustrating Issue Between App Engine and the Twitch.tv API","body":"<p>I'll make this as short and as clear as I can.</p>\n\n<p>I have a simple application making a call to the twitch.tv api:</p>\n\n<p>Example:</p>\n\n<p><a href=\"https://api.twitch.tv/kraken/streams/nl_kripp\" rel=\"nofollow\">https://api.twitch.tv/kraken/streams/nl_kripp</a></p>\n\n<p>After it makes the call, it returns the data, (you could see that data if click the link above).</p>\n\n<p>Ok so on to the issue. Here is my simple application created to just return that data on a web page:</p>\n\n<pre><code>import webapp2\nimport urllib2\nfrom google.appengine.api import urlfetch\n\n\n\nclass MainHandler(webapp2.RequestHandler):\n    def get(self):\n        url = ('https://api.twitch.tv/kraken/streams/nl_kripp')\n        result = urlfetch.fetch(url)\n        self.response.out.write(result.content)\n\napp = webapp2.WSGIApplication([('/', MainHandler)],\n                              debug=True)\n</code></pre>\n\n<p>When I run this application on my local machine, I see the returned data and everything is fine. However, when I deploy the application, I don't see any data at all.</p>\n\n<p>That exact application is deployed at this URL:</p>\n\n<p><a href=\"http://urltestingsite.appspot.com/\" rel=\"nofollow\">http://urltestingsite.appspot.com/</a></p>\n\n<p>A few people from app engine as well as twitch have tried to figure this out, and have had no luck at all. Please help me!!!</p>\n\n<p>EDIT:</p>\n\n<p>This is the same app, however making a call to another streaming sites API (own3d) and it works perfectly even when deployed:</p>\n\n<pre><code>import webapp2\nimport urllib2\n\nclass MainHandler(webapp2.RequestHandler):\n    def get(self):\n        url = ('http://api.own3d.tv/liveCheck.php?live_id=10588')\n        contents = urllib2.urlopen(url)\n        self.response.out.write(contents.read())\n\n\napp = webapp2.WSGIApplication([('/', MainHandler)],\n                              debug=True)\n</code></pre>\n"},{"tags":["python","google-app-engine","saml","single-sign-on"],"answer_count":2,"favorite_count":4,"up_vote_count":3,"down_vote_count":0,"view_count":475,"score":3,"question_id":5795711,"title":"Write a SSO application on GAE","body":"<p>I'm looking for a solution to implement a SSO (single-sign on) application, and this app need to be in python and run on <strong>GAE</strong> (Google App Engine). This applications needs to be implemented using the <a href=\"http://saml.xml.org/about-saml\" rel=\"nofollow\">SAML</a> protocol, because Google Apps offers Single-Sign On based on SAML.</p>\n\n<p>In my case I couldn't use OpenId because allow acces from external ID, and I need that my customers can login in my applications with only Google Apps accounts, then their accounts would be the ID. Once did the login they can access any applications offered by my company.</p>\n\n<p>I saw the <a href=\"http://code.google.com/p/gheimdall/\" rel=\"nofollow\">Gheimdall</a>, but I couldn't install it completely to test, this applications is much complicated to make a proof of concept project, the last release was in 2008 and their documentation is poor.</p>\n\n<p>Anyone knows a solution or tip to my problem?</p>\n"},{"tags":["java","google-app-engine","video-streaming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13124162,"title":"Video processing library for java in Google App Engine","body":"<p>I'm now looking for Java libraries for Video processing, I've read this post: \n<a href=\"http://stackoverflow.com/questions/13011397/video-processing-library-for-java\">Video Processing Library for Java</a> and then, tried some \"hello world\" tuts with Xuggle. But the problem is Xuggle use some Native Code, as said in their home page: </p>\n\n<p>\"Xuggler consists of a small amount of Java (i.e. architecture independent) code and a large amount of native code that needs to be specifically compiled for different operating systems. That means different binary packages must be used with different operating systems (unlike most Java programs).\"</p>\n\n<p>As we don't know much about which platforms used by Google, It's unlikely to use Xuggle. </p>\n\n<p>So, can you please tell me some other solutions ? </p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine","go"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12667613,"title":"Go appengine examples throw exceptions","body":"<p>I am unable to get the go examples working that come with the app-engine package.</p>\n\n<p>According to the docs I should be able to run:</p>\n\n<pre><code>cd google_appengine\ndev_appserver.py helloworld\n</code></pre>\n\n<p>Everything seems to startup fine as shown by the below terminal output:</p>\n\n<pre><code>WARNING  2012-10-01 04:32:09,023 rdbms_mysqldb.py:74] The rdbms API is not available     because the MySQLdb library could not be loaded.\nINFO     2012-10-01 04:32:09,077 appcfg.py:585] Checking for updates to the SDK.\nINFO     2012-10-01 04:32:09,728 appcfg.py:603] The SDK is up to date.\nINFO     2012-10-01 04:32:09,746 dev_appserver_multiprocess.py:655] Running application dev~helloworld on port 8080: http://localhost:8080\nINFO     2012-10-01 04:32:09,746 dev_appserver_multiprocess.py:657] Admin console is available at: http://localhost:8080/_ah/admin\n</code></pre>\n\n<p>But when I try to view the page being served on localhost:8080 I get:</p>\n\n<pre><code>&lt;type 'exceptions.Exception'&gt;: ('no .go files in %s', '/home/chris/.google_appengine/demos/helloworld') \n  args = ('no .go files in %s', '/home/chris/.google_appengine/demos/helloworld') \n  message = ''\n</code></pre>\n\n<p>This is correct there are no go files in demos/helloworld, but are instead in demos/helloworld/helloworld (this is their folder structure not mine).  I tried just moving the file to the parent folder, but that doesn't work.</p>\n\n<p>This is a fresh install of go (1.0.3) and appengine.</p>\n\n<p>BTW this happens for all the examples in the demo folder.</p>\n\n<p>Any ideas? </p>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":976,"score":0,"question_id":8686300,"title":"Datastore Write Operations limit exceeding","body":"<p>I am using Java SDK of app-engine.\nI am using Master-slave datastore.\nI have only two tables, each having 30 columns and none of them has size greater than 20 bytes.\nAfter entering 300 rows in each table, it shows Datastore write operations 0.03 Millions out of 0.05 Millions.\nI have checked the tables. They contain 300 entries only. There is no infinite loop kind of bug in my code.\nWould someone please help me to point me out where I might be going wrong?</p>\n\n<p>Thanks,\nAmrish.</p>\n"},{"tags":["java","google-app-engine","jaxb2"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":11872218,"title":"Marshalling google appengine Key with Jaxb2Marshaller","body":"<p>I try to use <code>Google App Engine</code> with <code>Jaxb2Marshaller</code> I have the following code:</p>\n\n<pre><code>@Entity\n@XmlRootElement\npublic class Incident {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Key incidentId;\n</code></pre>\n\n<p>I tried to use <code>@XmlJavaTypeAdapter</code> annotation with my specific adapter or <code>@XMLTransiet</code> to simply skip this field but I'm still getting the following error message. How can I solve this?</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'appView' defined in ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]: Cannot resolve reference to bean 'jaxbMarshaller' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jaxbMarshaller' defined in ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Lcom/google/appengine/api/datastore/Key;\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:630)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:148)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1035)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:939)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)\nat javax.servlet.GenericServlet.init(GenericServlet.java:212)\nat org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\nat org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\nat org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\nat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\nat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\nat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\nat org.mortbay.jetty.Server.doStart(Server.java:224)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:197)\nat com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:241)\nat com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:148)\nat com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:259)\nat com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\nat com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:162)\nat com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:138)\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jaxbMarshaller' defined in ServletContext resource [/WEB-INF/spring/appServlet/servlet-context.xml]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Lcom/google/appengine/api/datastore/Key;\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)\n... 42 more\n\nCaused by: java.lang.NoClassDefFoundError: Lcom/google/appengine/api/datastore/Key;\nat java.lang.Class.getDeclaredFields0(Native Method)\nat java.lang.Class.privateGetDeclaredFields(Class.java:2291)\nat java.lang.Class.getDeclaredFields(Class.java:1743)\nat com.sun.xml.internal.bind.v2.model.nav.ReflectionNavigator.getDeclaredFields(ReflectionNavigator.java:238)\nat com.sun.xml.internal.bind.v2.model.nav.ReflectionNavigator.getDeclaredFields(ReflectionNavigator.java:47)\nat com.sun.xml.internal.bind.v2.model.impl.ClassInfoImpl.findFieldProperties(ClassInfoImpl.java:359)\nat com.sun.xml.internal.bind.v2.model.impl.ClassInfoImpl.getProperties(ClassInfoImpl.java:290)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeClassInfoImpl.getProperties(RuntimeClassInfoImpl.java:165)\nat com.sun.xml.internal.bind.v2.model.impl.ModelBuilder.getClassInfo(ModelBuilder.java:232)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeModelBuilder.getClassInfo(RuntimeModelBuilder.java:89)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeModelBuilder.getClassInfo(RuntimeModelBuilder.java:70)\nat com.sun.xml.internal.bind.v2.model.impl.ModelBuilder.getClassInfo(ModelBuilder.java:198)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeModelBuilder.getClassInfo(RuntimeModelBuilder.java:84)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeModelBuilder.getClassInfo(RuntimeModelBuilder.java:70)\nat com.sun.xml.internal.bind.v2.model.impl.ModelBuilder.getTypeInfo(ModelBuilder.java:304)\nat com.sun.xml.internal.bind.v2.model.impl.TypeRefImpl.calcRef(TypeRefImpl.java:81)\nat com.sun.xml.internal.bind.v2.model.impl.TypeRefImpl.getTarget(TypeRefImpl.java:58)\nat com.sun.xml.internal.bind.v2.model.impl.RuntimeTypeRefImpl.getTarget(RuntimeTypeRefImpl.java:47)    \n</code></pre>\n"},{"tags":["android","google-app-engine","authentication","android-gcm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13127804,"title":"Authenticate Google user on appengine and also the same on Android applictaion using GCM","body":"<p>How do I authenticate a Google user both on client side (i.e. Android Phone) and on Appengine?\nI have tried looking, but haven't found a satisfactory answer for this. \nIf possible, try to post code or a link!\nDo we use openID or Facebook in GCM??</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12206969,"title":"Using GAE Datastore Multitenancy for Java Results A Blank Page","body":"<p>I have been trying to use Datastore Multitenancy for weeks now. And I can't seem to make it work. Every time I try to run it on my own (computer) server, it does not seem to display anything at all. I have also tried to publish it on the GAE server, but it still does not seem to display.</p>\n\n<p>What I am trying to acheive is to work on a Company Entity with another sub-entity of Users and Data which is not connected to any emails, Oauth, or third party applications. The Company Entity, being the namespace, will separate all the data and users of each company. This way, it will contain users and all its other data without leaks. </p>\n\n<p>I tried to make sure that the application has its own NamespaceFilter Class for the Company Entity. What causes the blank page? (Or maybe the right question is, what am I doing wrong?)</p>\n\n<p><strong>Update:</strong></p>\n\n<p>There are no errors on the code and there are no exceptions whatsoever. However, the JSP pages that I am trying to display is just gone without any information how it does not display. </p>\n"},{"tags":["python","windows","google-app-engine"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":652,"score":3,"question_id":8621527,"title":"Python 2.7.2 and Google App Engine SDK 1.6.1 on Win 7 Home Premium not working","body":"<p>I have installed Python 2.7.2 (Win7 32-bit) and Google App Engine SDK 1.6.1 for Win7 on a 64-bit system running Win7 Home Premium.  Default folder locations for both Python and GAE.  When I try to run the <em>helloworld</em> project as described in the Google Python Getting Started doc, the Launcher's \"browse\" button never becomes active.  The GAE SDK is supposed to do fine with Python 2.7.</p>\n\n<p>Is there a complete listing anywhere of environment variables needed for this setup to work?  So far, all posts I have seen are from users who have gotten well past this absolutely basic step.</p>\n"},{"tags":["google-app-engine","web-applications","web-hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":57,"score":-2,"question_id":13125804,"title":"Can I use a free cloud database on Google App Engine?","body":"<p>I built a simple <strong>Web Application</strong> using <strong>GWT</strong> and deployed it to <strong>Google App Engine</strong> Now I want to build my database and integrate it to my website I searched for it all what I found is <strong>Google Cloud SQL</strong>\nand I have to pay for it </p>\n\n<p>any free solution.I just want to build simple project for 1 user use </p>\n\n<p>*Tip: database using <strong>MYSQL</strong></p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13121062,"title":"What is the exact datastore (and memcache) entity size limit, and how is it calculated?","body":"<p>The limit is <strong>1MB</strong>, <a href=\"https://developers.google.com/appengine/docs/python/ndb/overview#quotas\" rel=\"nofollow\">according to the docs</a>, which I assumed means <code>1024**2</code> bytes, but apparently not.</p>\n\n<p>I've got a simple function which stringifies large python objects into JSON, splits the JSON string into smaller chunks, and puts the chunks (as BlobProperty) and a separate index entity to the datastore (and memcache, using ndb). And another function to reverse this.</p>\n\n<p>First I tried splitting into <code>1024**2</code> chunks but the datastore complained about it. Currently I'm using <code>1000**2</code> and it has worked without errors. I could've answered my own question already here, if it wasn't for <a href=\"http://stackoverflow.com/a/9143912/479870\">this comment</a> by Guido, with code that splits into 950000 bytes chunks. If Guido does it, it must be for a reason I figured. Why the 50K safety margin?</p>\n\n<p>Maybe we can get a definitive answer on this, to not waste even a single byte. I'm aware of Blobstore.</p>\n"},{"tags":["google-app-engine","memory-management","python-2.7","multi-tenant"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13090476,"title":"zipped packages and in memory storage strategies","body":"<p>i have a multitenant app with a zipped package for each tenant/client which contains the templates and handlers for the public site for each of them. right now i have under 50 tenants and its fine to keep the imported apps in memory after the first request to that specific clients domain.</p>\n\n<p>this approach works well but i have to redeploy the app with the new clients zipped package every time i make changes and/or a new client gets added.</p>\n\n<p>now im working to make it possible to upload those packages via web upload and store them into the blobstore. </p>\n\n<p>my concerns now are:</p>\n\n<ul>\n<li><p>getting the packages from the blobstore is of course slower than importing a zipped package in the filesystem.\nbut this is not the biggest issue.  </p></li>\n<li><p>how do i load/import a module that is not in the filesystem and has no path?</p></li>\n<li><p>if every clients package is around 1mb its not a problem as long as the client base is low but what if it raises \nto 1k or even more? obviously there i dont have enough memory to store a few GB of data in memory. \nwhat is the best way to deal with this? </p></li>\n<li><p>if i use the instance memory to store the previously tenant package in memory how would \ninvalidate the data in memory if there would be a newly uploaded package?</p></li>\n</ul>\n\n<p>i would appreciate some thougts about how to deal this kind of situation. </p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13041360,"title":"Google App Engine: Warmup/Loading Requests and Always On","body":"<p>My <em>understanding</em> of a warmup request is that it is a request to \"prime\" a new frontend/backend instance (<strong>or do they only apply to frontends?</strong>) in preparation of being used at some point in the near future.</p>\n\n<p>My <em>understanding</em> of a loading request is that it is a request to spin-up a new instance because it is needed <em>right now</em>. Hence, it would behoove oneself to try and \"warm up\" instances ahead of time, to make loading latency that much less.</p>\n\n<p>So my first question is: is my understanding of these request types correct, and if not (or if I'm missing anything noteworthy here), then please begin by clarifying/correcting me!</p>\n\n<p>Next I'm curious: how do you get your GAE server-side code to \"handle\" a warmup or loading request? Is there a specific interface I need to implement (in J2EE land, you need too implement <code>ServiceContextListener</code> which the web/app container looks for and calls when an app is deployed/started). If so, what is the API for doing so? Otherwise, what is the \"entry point\" for a GAE app? Basically I'm wondering what class/method should be handling warmup/loading requests.</p>\n\n<p>Last, I ask: what (general) activities should be different in the startup process between the handling of warmup requests and loading requests? Wouldn't they be the same? I ask because I'm interested in using GAE's \"Always On\" premium feature, and not really sure where I should place my startup code for the instances that will always be on.</p>\n"},{"tags":["google-app-engine","redirect","https","issues","pagespeed"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":13064081,"title":"How to get major appengine issues fixed?","body":"<p>Hi fellow appengine developers,</p>\n\n<p>we have a major impact issue on an european bank application, which is their first Google Apps and Google Cloud experience. We'd need this to be addressed to keep the trust that Google can provide the service. Is there any option to get such a major issues fixed in a reasonable time? Preferably other than paying for a premier account, which is not needed for this pilot product at this time.</p>\n\n<p>The issue was already reported on appengine public issue tracker for over a month: <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=7979\" rel=\"nofollow\">http://code.google.com/p/googleappengine/issues/detail?id=7979</a></p>\n\n<p>App Engine returns 403 on <a href=\"http://customdomain.example.com\" rel=\"nofollow\">http://customdomain.example.com</a>, instead of redirecting it to https, when secure:always is set in app.yaml. Authentication for the application is set to Google Apps domain, which may (or may not) play role in triggering the issue.</p>\n\n<ul>\n<li><a href=\"http://appid.appspot.com\" rel=\"nofollow\">http://appid.appspot.com</a> redirects correctly to <a href=\"https://appid.appspot.com\" rel=\"nofollow\">https://appid.appspot.com</a></li>\n<li><a href=\"http://customdomain.example.com\" rel=\"nofollow\">http://customdomain.example.com</a> -> returns 403</li>\n<li><a href=\"https://customdomain.example.com\" rel=\"nofollow\">https://customdomain.example.com</a> -> works</li>\n</ul>\n\n<p>Thanks for a beautifully designed service otherwise</p>\n\n<p>Jan</p>\n\n<p><strong>Update:</strong></p>\n\n<p>The issue has proven link to Google Page Speed service. Whan disabled in application console, the redirect works ok. When re-enabled, it fails again.</p>\n\n<p>The issue is <strong>observed</strong> on production application with PageSpeed, <strong>VIP SSL</strong>, Google Apps domain authorization, Google Apps data set to store in <strong>EU</strong> Data Centers only.</p>\n\n<p>The issue is <strong>not observed</strong> on testing application with PageSpeed, <strong>SNI SSL</strong>, Google Apps domain authorization, without EU data location restriction.</p>\n\n<p>As a temporary workaround, we commented out <em>secure:always</em> for the site entry url's in <em>app.yaml</em>, and decorated their handler methods with <a href=\"https://gist.github.com/3974365\" rel=\"nofollow\">https://gist.github.com/3974365</a>.</p>\n\n<p>There's also google group discussion, if you have similar issue, or look for solution.\n<a href=\"https://groups.google.com/d/topic/google-appengine/w3aKx9KxYoU/discussion\" rel=\"nofollow\">https://groups.google.com/d/topic/google-appengine/w3aKx9KxYoU/discussion</a></p>\n"},{"tags":["python","google-app-engine","google-drive-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13115599,"title":"How can one test appengine/drive/google api based applications?","body":"<p>There are several components involved in auth and the discovery based service api. </p>\n\n<p>How can one test request handlers wrapped with decorators used from oauth2client (eg oauth_required, etc), httplib2, services and uploads? </p>\n\n<p>Are there any commonly available mocks or stubs?</p>\n"},{"tags":["python","google-app-engine","python-2.7","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13092935,"title":"How to query the datastore by kind name as string using metadata","body":"<p>This will not work, but will illustrate my question:</p>\n\n<pre><code>query = \"my_model\".all()\nprint query.count()\n</code></pre>\n"},{"tags":["google-app-engine","gae-datastore","python-2.7"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":285,"score":1,"question_id":9220841,"title":"How can I access the appengine datastore using remote_api_shell on a windows machine?","body":"<p>I'm currently trying to access my app using remote_api_shell.py as documented in appengine at <a href=\"http://code.google.com/appengine/articles/remote_api.html\" rel=\"nofollow\">http://code.google.com/appengine/articles/remote_api.html</a>. I am using python 27 in windows 7 and I am able to access the shell - I've remotely cleared the memcache for example. I am having trouble accessing the datastore with the error</p>\n\n<pre><code>no module found named &lt;module name&gt;\n</code></pre>\n\n<p>My directory stucture something like this</p>\n\n<pre><code>/app.yaml\n/main.py\n/users/models.py\n</code></pre>\n\n<p>In the windows shell I type the following (in accordance with the walkthrough at the above link)</p>\n\n<pre><code>C:\\Users\\user&gt;remote_api_shell.py -s appname.appspot.com\nApp Engine remote_api shell\nPython 2.7 (r27:82525, Jul  4 2010, 09:01:59) [MSC v.1500 32 bit (Intel)]\nThe db, users, urlfetch, and memcache modules are imported.\ns~appname&gt; import appname\nTraceback (most recent call last):\nFile \"&lt;console&gt;\", line 1, in &lt;module&gt;\nImportError: No module named appname\ns~appname&gt; from google.appengine.ext import db\ns~appname&gt; from users.models import *\nTraceback (most recent call last):\nFile \"&lt;console&gt;\", line 1, in &lt;module&gt;\nImportError: No module named users.models\ns~appname&gt; from users import models\nTraceback (most recent call last):\nFile \"&lt;console&gt;\", line 1, in &lt;module&gt;\nImportError: No module named users\n</code></pre>\n\n<p>I've tried a few different iterations but just cannot seem to access any of my data. I've also tried to access another model in a directory /website/models.py but also no success. Any ideas on how to get this to work? cheers.</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13103668,"title":"Google App Engine circular model dependency in Python","body":"<p>I have the following python module:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom user import User\n\nclass Post(db.Model):\n    content = db.TextProperty()\n    time = db.DateTimeProperty(auto_now_add=True)\n    user = db.ReferenceProperty(User)\n    topic = db.ReferenceProperty(Topic)\n\nclass Forum(db.Model):\n    parent_ = db.SelfReferenceProperty()\n    name = db.StringProperty()\n    description = db.StringProperty()\n    topics_count = db.IntegerProperty(default=0)\n    posts_count = db.IntegerProperty(default=0)\n    last_post = db.ReferenceProperty(Post)\n\n\nclass Topic(db.Model):\n    forum = db.ReferenceProperty(Forum)\n    title = db.StringProperty()\n    replies_count = db.IntegerProperty(default=0)\n    views = db.IntegerProperty(default=0)\n    time = db.DateTimeProperty(auto_now_add=True)\n    user = db.ReferenceProperty(User)\n    last_post = db.ReferenceProperty(Post)\n</code></pre>\n\n<p>This does not work because I use <code>Topic</code> in <code>Post</code> class. I read <a href=\"http://stackoverflow.com/questions/6402522/python-mutually-dependent-classes-circular-dependencies/6402530#6402530\">this solution</a> and solved the circular dependency problem. The resulting module is as follows:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom user import User\n\nclass Post(db.Model):\n    content = db.TextProperty()\n    time = db.DateTimeProperty(auto_now_add=True)\n    user = db.ReferenceProperty(User)\n\n\nclass Forum(db.Model):\n    parent_ = db.SelfReferenceProperty()\n    name = db.StringProperty()\n    description = db.StringProperty()\n    topics_count = db.IntegerProperty(default=0)\n    posts_count = db.IntegerProperty(default=0)\n    last_post = db.ReferenceProperty(Post)\n\n\nclass Topic(db.Model):\n    forum = db.ReferenceProperty(Forum)\n    title = db.StringProperty()\n    replies_count = db.IntegerProperty(default=0)\n    views = db.IntegerProperty(default=0)\n    time = db.DateTimeProperty(auto_now_add=True)\n    user = db.ReferenceProperty(User)\n    last_post = db.ReferenceProperty(Post)\n\n\nPost.topic = db.ReferenceProperty(Topic)\n</code></pre>\n\n<p>However now I have another problem. App Engine creates <code>Post</code> table, but it does not have topic column. How can I solve this problem? </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13119312,"title":"how to post - edit a model","body":"<p>I try to understand how to edit ore update a model. I have tried several senarios witch sometime also gived a error message: 405 Method Not Allowed - The method POST is not allowed for this resource. </p>\n\n<pre><code>import os \nimport webapp2\nimport wsgiref.handlers\nfrom google.appengine.ext import db\nfrom google.appengine.ext.webapp import template\n\nclass MessageModel(db.Model):\n    content = db.StringProperty(multiline=True)\n    date = db.DateTimeProperty(auto_now_add=True)\n\nclass Message(webapp2.RequestHandler):\n\n    def get(self):\n        doRender(self,'message.htm')\n\n    def post(self):\n        m = MessageModel()\n        m.content = self.request.get('content')\n        m.put()\n\n        self.redirect('/view') \n\nclass View(webapp2.RequestHandler):\n\n    def get(self):\n\n        que = db.Query(MessageModel)\n        messageview_list = que.fetch(999)\n\n        doRender(self,\n                 'view.htm', \n                 {'messageview_list': messageview_list })\n\n\nclass Edit(webapp2.RequestHandler):\n\n    def get(self):\n\n        doRender(self,'edit.htm')    \n\n    def post(self):\n\n        updated_content = self.request.get('content')\n\n        content_query = db.GqlQuery(\"SELECT * \"\n                                   \"FROM MessageModel \"\n                                   \"ORDER BY date DESC LIMIT 1\")\n\n        messageview_list = content_query.fetch(1)\n        m = MessageModel()\n        m.content = self.request.get(updated_content)\n        m.put()\n\n        doRender(self,\n                 'edit.htm', \n                 {'messageview_list': messageview_list })\n\n\nclass Main(webapp2.RequestHandler):\n\n    def get(self):\n        doRender(self,'index.htm')\n\n\ndef doRender(handler, tname = 'index.htm', values = { }):\n    temp = os.path.join(\n    os.path.dirname(__file__),\n    'templates/' + tname)\n    if not os.path.isfile(temp):\n    return False\n\n    newval = dict(values)\n    newval['path'] = handler.request.path\n\n    outstr = template.render(temp, newval)\n    handler.response.out.write(outstr)\n    return True\n\n\n\n\napp = webapp2.WSGIApplication([('/', Main),\n                   ('/message', Message),\n                   ('/view', View),                                                                          \n                   ('/edit', Edit)], \n                   debug=True)\n</code></pre>\n\n<p>The html form</p>\n\n<pre><code>{% for messageview in messageview_list %}\n\n&lt;form method=\"post\" action=\"/edit\"&gt;\n    &lt;p&gt;\n        &lt;textarea name=\"message\" rows=\"3\" cols=\"60\" MAXLENGTH=60&gt;\n        {{ messageview.content }}&lt;/textarea&gt;\n        &lt;br&gt;\n        &lt;input type=\"submit\" value=\"Update\"/&gt; \n      &lt;/p&gt;\n&lt;/form&gt;\n      {% ifnotequal error None %}\n       &lt;p&gt;\n       {{ error }}\n       &lt;/p&gt;\n      {% endifnotequal %}\n{% endfor %}\n</code></pre>\n"},{"tags":["python","google-app-engine","exception","while-loop"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":189,"score":4,"question_id":12770586,"title":"while loop for deleting data in datastore","body":"<p>I have attempted to clean up and revise code in an answer <a href=\"http://stackoverflow.com/questions/108822/\">here</a> for my needs where I only want to delete from the Model <code>Reservations</code> for data records prior to the date expressed in the get as <code>yy,mm,dd</code>.</p>\n\n<p>If I am correctly anticipating the action of <code>cleanTable/2012/10/5</code> against the routing <code>('/cleanTable/([\\d]+)/([\\d]+)/([\\d]+)', CleanTable)</code> then my code would only delete at most 50 (10*nlimit) data records. </p>\n\n<p>Btw, the author of the original code (who likely no longer subscribes to SO), claimed his main trick for accomplishing this code was \"to include redirect in html instead of using self.redirect\".</p>\n\n<p>I am unfamiliar with <code>raise Exception</code> and the like, but my instinct would be to add a <code>raise Exception</code> or <code>raise StopIteration</code> to the for loop after it is made into a while loop. But it is not clear to me whether raising an StopIteration exception actually causes iteration to stop or if more is needed. Also, I don't know how to revise so the html ends smoothly upon early exit. </p>\n\n<pre><code>class CleanTable(BaseHandler):\n\n    def get(self, yy,mm,dd):\n        nlimit=5\n        iyy=int(yy)\n        imm=int(mm)\n        idd=int(dd)\n        param=date(iyy,imm,idd)\n        q=Reservations.all(keys_only=True)\n        q.filter(\"date &lt; \", dt(iyy,imm,idd))\n        results = q.fetch(nlimit)\n        self.response.headers['Content-Type'] = 'text/plain'\n        self.response.out.write(\"\"\"\n          &lt;html&gt;\n          &lt;meta HTTP-EQUIV=\"REFRESH\" content=\"url=http://yourapp.appspot.com/cleanTable\"&gt;\n            &lt;body&gt;\"\"\")\n\n        try:\n            for i in range(10):\n                db.delete(results)\n                results = q.fetch(nlimit, len(results))\n                for r in results:\n                    logging.info(\"r.name: %s\" % r.name)\n                self.response.out.write(\"&lt;p&gt; \"+str(nlimit)+\" removed&lt;/p&gt;\")\n                self.response.out.write(\"\"\"\n                &lt;/body&gt;\n              &lt;/html&gt;\"\"\")\n\n        except Exception, inst:\n            logging.info(\"inst: %s\" % inst)\n            self.response.out.write(str(inst))\n</code></pre>\n"},{"tags":["google-app-engine","delete","bulk","datastore"],"answer_count":1,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":143,"score":5,"question_id":3752584,"title":"Is there a good utility / 3rd party library to manage the AppEngine datastore?","body":"<p>I have been developing an app using appengine.  We are likely to be storing a lot of records in the datastore but I find the admin functionality you are given to manage this data lacking.</p>\n\n<p>As an example, there are no good ways to bulk delete a bunch of data - you have to write a class of your own to do this.</p>\n\n<p>Before I start down the path of building the admin ui and features I need to manage the datastore entities, I was wondering if anyone knows of a good 3rd party tool that's already been written to do this for me?  Something that has basic CRUD functionality plus bulk import and bulk export features.</p>\n\n<p>I am using the Python SDK.</p>\n"},{"tags":["google-app-engine","localization","internationalization","djangoappengine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13122027,"title":"App Engine/Django Internationalization: Strings are not translated","body":"<p>I follow this tutorial <a href=\"http://blog.yjl.im/2009/02/using-django-i18n-in-google-app-engine.html\" rel=\"nofollow\">http://blog.yjl.im/2009/02/using-django-i18n-in-google-app-engine.html</a> to use Django Internalization in my App Engine project. There is no error. But strings are not translated. I did a small test: associating translation string to 'Login' in all translation files. But 'Login' still appears in the website instead of his translation.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":2,"view_count":166,"score":1,"question_id":12978362,"title":"Scheduling of GAE instances and JDO initialisation","body":"<p>I know the GAE scheduler is the subject of much scrutiny and attention.  I also know it is critical to the performance of my application.  I have spent the last week optimising and analysing my application.</p>\n\n<p>I also understand that the scheduler is designed to work across the gamut of application sizes, and the algorithm may not be optimised for my relatively smaller scale application, in terms of concurrent users.</p>\n\n<p>I believe the following description of pending latency is wrong, which leads to unavoidable delays:</p>\n\n<blockquote>\n  <p>The Pending Latency slider controls how long requests spend in the\n  pending queue before being served by an Instance of the default\n  version of your application. If the minimum pending latency is high\n  App Engine will allow requests to wait rather than start new Instances\n  to process them. This can reduce the number of instance hours your\n  application uses, but can result in more user-visible latency.</p>\n</blockquote>\n\n<p>How can it possibly be the case that with a pending latency of 15 seconds, and 2 idle instances, when I execute 10 requests in serial, all taking 1-3 seconds (with mutli-threading enabled), that it spins up new instances?  </p>\n\n<p>Why do I care?  I could just put all my intialisation in my warmup code?  Wrong.  I am using GAE/J with JDO.  It seems that the FIRST time EACH INSTANCE hits an ENTITY TYPE the  very FIRST time it incurs a \"validation\" overhead of a few seconds.  Most of the time you won't even know this is happening unless you set your JDO logging to INFO level.</p>\n\n<p><strong>My question is the following:</strong></p>\n\n<p><strong>Has anyone else experienced the following situation relating to scheduler behaviour and it's interaction with DS initialisation, and if so, can you suggest a solution so that I may avoid incurring such delays?</strong></p>\n\n<p>Specifically, the situation is:</p>\n\n<ul>\n<li>With JDO - Each time a new instance 'touches' an entity type for the first time it incurs an initialisation overhead (if you are in doubt set your JDO logging level to INFO).  This overhead is of the order of 2-3 secs</li>\n<li>The increased latency as a result of this overhead, coupled with the fact that the scheduler clearly ignores the Pending Latency parameters means it is more likely to spin up a new instance than calculate that existing instances can handle the request.</li>\n<li>because the new request is being handled by a new instance the initialisation overhead described above is REPEATED.  Thus the vicious circle is perpetuated.</li>\n</ul>\n\n<p>Note that I have already considered the following remedies:</p>\n\n<ol>\n<li>migrate to hibernate or similar - a huge undertaking and unclear if it will solve problems.</li>\n<li>modify my application architecture to use Backends to deliver all DB functionality as at least I can control how many I have running etc.</li>\n<li>perhaps there is some JDO config I am missing that will simply avoid the above-mentioned overhead?</li>\n</ol>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":13119701,"title":"NPE bug in ListIndexesResponse","body":"<pre><code>public ListIndexesResponse listIndexes(ListIndexesRequest request) {\n    final GetIndexesRequest.Builder builder = GetIndexesRequest.newBuilder();\n    boolean includeStartIndex = false;\n    try {\n        includeStartIndex = request.isIncludeStartIndex();\n    } catch (NullPointerException ignore) {\n        // hack around a GAE bug\n    }\n    builder.setIncludeStartIndex(includeStartIndex);\n</code></pre>\n\n<p>There is a NPE bug in ListIndexesRequest.</p>\n\n<p>\"includeStartIndex\" is of Boolean type, and can be null when invoking isIncludeStartIndex()</p>\n\n<p>See: <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/java/src/main/com/google/appengine/api/search/ListIndexesRequest.java#160\" rel=\"nofollow\">http://code.google.com/p/googleappengine/source/browse/trunk/java/src/main/com/google/appengine/api/search/ListIndexesRequest.java#160</a></p>\n"},{"tags":["python","django","google-app-engine","templates","livechat"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":13115138,"title":"website needs update in python","body":"<p>The website I am overhauling is currently using python 2.3.7, and is managed using the Google App Engine it has to be updated to 2.7 and because of the new version features, the template section was depreciated. what are the nessesary changes that need to be made this? FYI, I'm a highschool student doing this for a chatroom website. When i rewrite the changes for the app.yaml, change the code inside the .py (then i retitle the file to .app), it throws this traceback error. help?</p>\n\n<pre><code>File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 196, in Handle\n    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 255, in _LoadHandler\n    handler = __import__(path[0])\nImportError: No module named devchat\n</code></pre>\n\n<p>my imports are </p>\n\n<pre><code>import cgi\nimport os\nimport urllib\nimport logging\n\nfrom google.appengine.api import users\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom google.appengine.ext import db\nfrom google.appengine.ext.webapp import template\nfrom google.appengine.api import memcache\n</code></pre>\n\n<p>the section of the code concerning templates is here</p>\n\n<pre><code>class BaseRequestHandler(webapp.RequestHandler):\n\n  def generate(self, template_name, template_values={}): \n    # We check if there is a current user and generate a login or logout URL\n    user = users.get_current_user()\n\n    if user:\n      log_in_out_url = users.create_logout_url('/')\n    else:\n      log_in_out_url = users.create_login_url(self.request.path)\n\n    # We'll display the user name if available and the URL on all pages\n    values = {'user': user, 'log_in_out_url': log_in_out_url}\n    values.update(template_values)\n\n    # Construct the path to the template\n    directory = os.path.dirname(__file__)\n    path = os.path.join(directory, 'templates', template_name)\n\n    # Respond to the request by rendering the template\n    self.response.out.write(template.render(path, values, debug=_DEBUG))\n\nclass MainRequestHandler(BaseRequestHandler):\n  def get(self):\n    if users.get_current_user():\n      url = users.create_logout_url(self.request.uri)\n      url_linktext = 'Logout'\n    else:\n      url = users.create_login_url(self.request.uri)\n      url_linktext = 'Login'\n\n    template_values = {\n      'url': url,\n      'url_linktext': url_linktext,\n      }\n\n    self.generate('index.html', template_values);\n\nclass ChatsRequestHandler(BaseRequestHandler):\n  def renderChats(self):\n    greetings_query = Greeting.all().order('date')\n    greetings = greetings_query.fetch(1000)\n\n    template_values = {\n      'greetings': greetings,\n    }\n    return self.generate('chats.html', template_values)\n\n  def getChats(self, useCache=True):\n    if useCache is False:\n      greetings = self.renderChats()\n      if not memcache.set(\"chat\", greetings, 10):\n        logging.error(\"Memcache set failed:\")\n      return greetings\n\n    greetings = memcache.get(\"chats\")\n    if greetings is not None:\n      return greetings\n    else:\n      greetings = self.renderChats()\n      if not memcache.set(\"chat\", greetings, 10):\n        logging.error(\"Memcache set failed:\")\n      return greetings\n\n  def get(self):\n    self.getChats()\n\n  def post(self):\n    greeting = Greeting()\n\n    if users.get_current_user():\n      greeting.author = users.get_current_user()\n\n    greeting.content = self.request.get('content')\n    greeting.put()\n\n    self.getChats(False)`\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13098845,"title":"Save big files in google app engine","body":"<p>I'm using Google App Engine and i need to store a big file (2-20Mb). It is a text file that i convert to a JSONArray. I need to be able to add JSONObjects to this array and to be able to read it. </p>\n\n<p>I wanted to use Blobs but I noticed that blobs can't be updated(is it true??).\nI don't want to enable billing thus, I can't use FileService(or...?).\nStoring eache JSONOBject in the db explodes my reading quota.\nWith cache, the objects are sometimes removed.</p>\n\n<p>Do you see a way to solve my problem?</p>\n\n<p>Best regards!</p>\n"},{"tags":["python","google-app-engine","opensocial"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13102837,"title":"What is best way to study Python 2.7 with Google App Engine?","body":"<p>I am currently trying to develop Web Sites with Google App Engine with Python 2.7</p>\n\n<p>I would like to use OpenSocial API to develop SNS Games on iPhone / Android platform.</p>\n\n<p>What I need is training material to understand how to deploy GoogleApps Engine with Phthon 2.7</p>\n\n<p>Setting of app.yaml is very hard part.\nToday I could able to deploy first Google App Engine with app.yaml file.</p>\n\n<pre><code>application: samplexxxxxxx1\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: yes\n\nhandlers:\n- url: /favicon\\.ico\n  static_files: favicon.ico\n  upload: favicon\\.ico\n\n- url: .*\n  script: main.app\n\nlibraries:\n- name: webapp2\n  version: \"2.5.1\"\n</code></pre>\n\n<p>What is best way to study Python 2.7 syntax in order to develop website with Google App Engine for developing OpenSocial SNS Games?</p>\n"},{"tags":["python","eclipse","google-app-engine"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1737,"score":0,"question_id":929095,"title":"Eclipse + AppEngine =? autocomplete","body":"<p>I was doing some beginner AppEngine dev on a Windows box and installed Eclipse for that.  I liked the autocompletion I got with the objects and functions.</p>\n\n<p>I moved my dev environment over to my Macbook, and installed Eclipse Ganymede.  I installed the AppEngine SDK and Eclipse plug in.  However, when I am typing out code now, the autocomplete isn't functioning.  Did I miss a step?</p>\n\n<p>UPDATE</p>\n\n<p>Just to add to this:</p>\n\n<p>the line:</p>\n\n<pre><code>import cgi\n</code></pre>\n\n<p>appears to give me what I need.  When I type \"cgi.\" I get all of the auto complete.  However, the lines:</p>\n\n<pre><code>from google.appengine.api import users\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom google.appengine.ext import db\n</code></pre>\n\n<p>don't give me any auto complete.  If I type \"users.\" there is no auto complete.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":1219,"score":7,"question_id":7799764,"title":"Google App Engine, Python 2.7 runtime, ImportError: cannot import name djangoforms","body":"<p>If I comment out the handlers that use djangoforms everything else seems to work. </p>\n\n<p>The following is my modified app.yaml:</p>\n\n<pre><code>application: xxxxxxx\nversion: 5\n#` -1+1\n# runtime: python\nruntime: python27\napi_version: 1\n\ninbound_services:\n- mail\n\n#` +3\nlibraries:\n- name: django\n  version: \"1.2\"\n\nhandlers:\n- url: /(.*\\.(html|css|js|gif|jpg|png|ico))\n  static_files: static/\\1\n  upload: static/.*\n  expiration: \"1d\"\n  # expiration: \"1m\"\n\n- url: .*\n  script: main.py\n\n- url: /_ah/mail/.+\n  script: lib/handler_mail.py\n  login: admin\n</code></pre>\n\n<p>The following is the excerpt from main.py that I modified:</p>\n\n<pre><code>import os\n# dummy, enables django template filters to be registered\nos.environ[u'DJANGO_SETTINGS_MODULE'] = u'conf'\n#` -2\n# from google.appengine.dist import use_library\n# use_library('django', '1.2')\n\nfrom functools import wraps\nfrom appengine_utilities.cache import Cache\nfrom google.appengine.api import taskqueue\nfrom google.appengine.ext.db import djangoforms\n...\n</code></pre>\n\n<p>Here's the trace back from my log:\n    Traceback (most recent call last):\n    File \"/base/data/home/apps/s~cirrussecure1/5.354034990641807540/main.py\",\n    line 23, in \n    from google.appengine.ext.db import djangoforms\n    ImportError: cannot import name djangoforms</p>\n\n<p>Something I'm doing won't let me import djangoforms but doesn't affect anything else. I Googled it but no one else seems to be having a problem (yet?). Thanks.</p>\n\n<hr>\n\n<p>@all Found a solution that keeps me going on gae/python 2.7 but I don't like it or the way google handled this part of the release.</p>\n\n<p>I tried wtforms and made some progress trying to get it going with gae/python 2.5 before calling enough.</p>\n\n<p>I then got djangoforms.py (from <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/ext/db/djangoforms.py\">http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/ext/db/djangoforms.py</a>), dropped it in with my files, and got it to work with gae/python 2.7.</p>\n\n<p>I used the app.yaml shown above. Also had to change\n    {{ form_section }} to {{ form_section|safe }}\nin two template files.</p>\n\n<p>I guess Django is falling out of favor with the gae team. I could understand if djangoforms was deprecated for a year and then dropped. However, dropping it with out any warning or even any mention in the doc.'s comparing the current release with the previous just isn't a nice thing to do to your customers. </p>\n\n<p>@google Please update your, doc.'s, articles, examples, etc. so others don't have to waste a day like I did.</p>\n"},{"tags":["java","google-app-engine","java-ee","http-headers","location"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13109831,"title":"On what basis does the Appengine location headers tell the location?","body":"<p>I have hosted my Web app on Google Appengine. At times I need to know the location of the visitors. So I have been using the request headers provided by Google:</p>\n\n<pre><code>        String visitorCountry = request.getHeader(\"X-AppEngine-Country\");\n        String visitorRegion = request.getHeader(\"X-AppEngine-Region\");       \n        String visitorCity = request.getHeader(\"X-AppEngine-City\");\n        String visitorLatLong = request.getHeader(\"X-AppEngine-CityLatLong\");\n</code></pre>\n\n<p>They have never been accurate to the location, and I guess it tells me the location of the ISP. On what basis does the Google Appengine's request headers work? Is it primarily on the IP address the client sends along the request?</p>\n\n<p>Here are the <a href=\"https://developers.google.com/appengine/docs/python/runtime#Request_Headers\" rel=\"nofollow\">header docs</a> for reference.</p>\n"},{"tags":["python","google-app-engine","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13114235,"title":"GAE/P: mail_stub.get_sent_messages fails with non-ascii since v 1.7.1","body":"<p>My test code started failing with GAE version 1.7.1.  I went back to 1.7.0 to wait for a fix but my test code is still failing with 1.7.2.  Here is a minimal test that causes the failure:</p>\n\n<pre><code>mail.send_mail(\"sender@example.com\", \"receiver@example.com\", \n               u\"sübject\".encode(\"utf-8\"), \"body\")\nmail_list = self.mail_stub.get_sent_messages()\n</code></pre>\n\n<p>And I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/.../tests/unit_tests.py\", line 19, in testTest\n    mail_list = self.mail_stub.get_sent_messages()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/apiproxy_stub.py\", line 184, in WrappedMethod\n    return method(self, *args, **kwargs)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail_stub.py\", line 183, in get_sent_messages\n    email_message = mail.EmailMessage(mime_message=mime_message)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail.py\", line 742, in __init__\n    self.update_from_mime_message(mime_message)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail.py\", line 1213, in update_from_mime_message\n    super(EmailMessage, self).update_from_mime_message(mime_message)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail.py\", line 1093, in update_from_mime_message\n    subject = _decode_and_join_header(mime_message['subject'], separator=u'')\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail.py\", line 558, in _decode_and_join_header\n    for s, c in email.header.decode_header(header))\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/api/mail.py\", line 558, in &lt;genexpr&gt;\n    for s, c in email.header.decode_header(header))\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 1: ordinal not in range(128)\n</code></pre>\n\n<p>Could you let me know if I am doing something wrong or if this is a GAE bug?</p>\n"},{"tags":["google-app-engine","task-queue"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13114085,"title":"Google App Engine (GAE) Task Queue Failure and Recovery Time Window","body":"<p>We're interested in using a push queue in GAE but one thing I can't find is the window for recovery in the event of queue or appengine downtime.</p>\n\n<p>For example, I have a push queue with a number of tasks on it. Some of these tasks get pulled off and are executing. Let's say now the queue goes down (for whatever reason), while these tasks are executing, and then comes back up. What is the time window for the restoration of the queue? Is there a set time window of recovery? </p>\n\n<p>There's the possibility of these tasks that were pulled off the queue and executing now reappearing on the queue and having them execute again due to the restoration time window.</p>\n\n<p>We've got idempotence considerations in our code, but it would be good to know if there are time window recovery strategies for the GAE Queue downtimes.</p>\n"},{"tags":["google-app-engine","phantomjs","casperjs","travis-ci"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13114334,"title":"Run a Google App Engine on Travis-CI and test it with PhantomJS","body":"<p>Is there a way to run a Google App Engine <a href=\"https://developers.google.com/appengine/docs/python/tools/devserver\" rel=\"nofollow\">development appserver</a> instance on <a href=\"http://about.travis-ci.org/\" rel=\"nofollow\">Travis-CI</a>, and then test that app with <a href=\"http://phantomjs.org/\" rel=\"nofollow\">PhantomJS</a>/<a href=\"http://casperjs.org/\" rel=\"nofollow\">CasperJS</a>?</p>\n\n<p>One would not necessarily expect this to be a tremendously challenging thing, but I would be grateful for any relevant document, thoughts and suggestions.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13112385,"title":"How do I change the user associated with a datastore record in GAE?","body":"<p>I have a user who changed the email address associated with his Google account.  He is no longer associated with datastore records that used to be associated with his User object.</p>\n\n<p>Can I just update the user property on the datastore objects with his new email address?  Do I need to construct an actual User object to query or update these records, and if so, should I be using email, nickname, or user_id?</p>\n\n<p>I am using Python if it matters.</p>\n"},{"tags":["eclipse","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13054462,"title":"Eclipse Appengine project: \"errors exist in required project\" but nothing is red on debug or run","body":"<p>My top level project directory keeps having a red icon showing me that there's something wrong.  However, none of my files are marked red, suggesting that I don't have any errors in them.  </p>\n\n<p>When I execute either Run or Debug, I receive the notification that \"errors exist in required project\".  I proceed in spite of this, and my project works as expected.  In my error log, I observe that when the debug/run is starting up, receive this error:\n\"!ENTRY com.google.gdt.eclipse.core 4 0 2012-10-24 12:59:50.251\n!MESSAGE Could not change permissions on the launch config file\"</p>\n\n<p>My appengine-web.xml and web.xml files are in the correct locations and appengine-web.xml has the correct reference to logging.properties, but on the console I see that \"INFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\" is printed out.  </p>\n\n<p>My logging.properties file only has this:\n.level = WARNING\nand I have a log4j.properties file in my WEB-INF/classes directory, which has the standard \"Google Plugin for Eclipse\"-generated log4j.properties file.</p>\n\n<p><strong>I would love to understand 2 things:\n1) How do I change the JettyLogger to actually not be null, to print to the console.\n2) Why does my project keep telling me that errors exist, when I can see no evidence of this in the performance of my project?</strong></p>\n\n<p>A few more things:  my project is running on JRE6, with Appengine sdk 1.7.2, and the project successfully deploys onto Appspot.</p>\n\n<p>Originally, I had been using JRE7.  When I found out I needed to use JRE6, I uninstalled JRE7, added JRE6 to my build path, <strong>and I cleaned my project</strong>.  I have checked my WEB-INF/classes directory's files' timestamps to make sure that the project is being rebuilt.  I suspect that something relating to this JRE change is the cause, but cleaning the project has not resolved the issue.</p>\n\n<p>This project is under Git source control, using the EGit plugin.</p>\n\n<p>Thank you for your time, patience in reading my verbose post.  </p>\n"},{"tags":["java","google-app-engine","servlets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13098048,"title":"Alternate path for Remote API servlet in GAE?","body":"<p>According to the <a href=\"https://developers.google.com/appengine/docs/java/tools/remoteapi\" rel=\"nofollow\">Remote API docs for Java</a>, the Remote API servlet needs to be mapped to the <code>/remote_api</code> URL.</p>\n\n<p>If I map the servlet to a different URL, would it be possible to use the Remote API classes in a client side script? I can't find the javadoc for this, and the examples in the above doc don't cover this case.</p>\n"},{"tags":["java","google-app-engine","gwt","gae-datastore","requestfactory"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13110175,"title":"RequestFactory with GWT: unable to store entities","body":"<p>I m creating a school project where I need to deploy an application connected with an native android app and both of them to share the same entities on Google App Engine Datastore. I followed all the instructions described by official tutorial by Google (<a href=\"https://developers.google.com/web-toolkit/doc/2.4/DevGuideRequestFactory\" rel=\"nofollow\">https://developers.google.com/web-toolkit/doc/2.4/DevGuideRequestFactory</a>) but unfortunately I cannot store any entities on datastore in development mode. I m trying for weeks to configure properly the requestfactory with no success. </p>\n\n<p>Below are the most important classes of my requestfactory in my project: (I added all the appropriate tags in the xml files according the google tutorial)</p>\n\n<p>Here is one of my entities:</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\nimport java.util.List;\n\nimport javax.persistence.Entity;\nimport javax.persistence.EntityManager;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\nimport unipiWeb.server.EMF;\n\nimport com.google.appengine.api.datastore.Blob;\nimport com.google.appengine.api.datastore.GeoPt;\nimport com.google.appengine.api.users.User;\nimport com.google.appengine.api.users.UserService;\nimport com.google.appengine.api.users.UserServiceFactory;\n\n@Entity\npublic class Store{\n\n    @Id\n    private Long id;\n    private Date dueDate;\n    private String email;\n    private String name;\n    private String address;\n    private String description;\n    private long userId;\n    private String country;\n\n\n    private GeoPt geopt;\n\n    Blob image;\n\n    public Store(){\n\n    }\n\n    public Store(String name, Blob image){\n        this.name = name;\n        this.image = image;\n    }\n\n    public Store(String name, Blob image, String country){\n        this.name = name;\n        this.image = image;\n        this.country = country;\n    }\n\n    /*\n     * Getters and Setters\n     */\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long getId() {\n        return this.id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n        public Date getDueDate() {\n        return dueDate;\n    }\n\n    public void setDueDate(Date dueDate) {\n        this.dueDate = dueDate;\n    }\n\n    public String getEmail() {\n        return this.email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(long userId) {\n        this.userId = userId;\n    }\n\n    public GeoPt getGeopt() {\n        return geopt;\n    }\n\n    public void setGeopt(GeoPt geopt) {\n        this.geopt = geopt;\n    }\n\n    public String getCountry(){\n        return country;\n    }\n\n    public void setCountry(String country){\n        this.country = country;\n    }\n\n    public Blob getImage(){\n        return image;\n    }\n\n    public void setImage(Blob image){\n        this.image = image;\n    }\n\n    public String toString(){\n        StringBuilder builder = new StringBuilder();\n        builder.append(\"Store [dueDate=\");\n        builder.append(dueDate);\n        builder.append(\", name=\");\n        builder.append(name);\n        builder.append(\", description=\");\n        builder.append(description);\n        builder.append(\"]\");\n        return builder.toString();\n\n    }\n}\n</code></pre>\n\n<p>The EntityProxy:</p>\n\n<pre><code>import java.util.Date;\n\nimport com.google.web.bindery.requestfactory.shared.EntityProxy;\nimport com.google.web.bindery.requestfactory.shared.ProxyForName;\n\n@ProxyForName(value = \"unipiWeb.server.entities.Store\", locator = \"unipiWeb.server.entities.StoreLocator\")\npublic interface StoreProxy extends EntityProxy {\n\n    Long getId();\n\n    String getName();\n\n    void setName(String name);\n\n    Date getDueDate();\n\n    void setDueDate(Date dueDate);\n\n    String getEmail();\n\n    void setEmail(String email);\n\n    String getDescription();\n\n    void setDescription(String description);\n\n    String getAddress();\n\n    void setAddress(String address);\n\n    long getUserId();\n\n    void setUserId(long userId);\n\n    String getCountry();\n\n    void setCountry(String country);\n\n}\n</code></pre>\n\n<p>The Service for this entity:</p>\n\n<pre><code>import java.util.List;\n\nimport unipiWeb.server.DataStore;\nimport unipiWeb.server.entities.Store;\nimport unipiWeb.annotation.ServiceMethod;\n\npublic class AppService {\n\n    DataStore db = new DataStore();\n    @ServiceMethod\n    public Store createStore() {\n        return db.update(new Store());\n    }\n\n    @ServiceMethod\n    public Store readStore(Long id) {\n        return db.find(id);\n    }\n\n    @ServiceMethod\n    public Store updateStore(Store store) {\n        store.setEmail(DataStore.getUserEmail());\n        return db.update(store);\n    }\n\n    @ServiceMethod\n    public void deleteStore(Store store) {\n        db.delete(store.getId());\n    }\n\n    @ServiceMethod\n    public List&lt;Store&gt; queryStores() {\n        return db.findAll();\n    }\n\n\n}\n</code></pre>\n\n<p>The entityLocator:</p>\n\n<pre><code>import com.google.web.bindery.requestfactory.shared.Locator;\n\n\npublic class StoreLocator extends Locator&lt;Store, Void&gt; {\n\n    @Override\n    public Store create(Class&lt;? extends Store&gt; clazz) {\n        return new Store();\n    }\n\n    @Override\n    public Store find(Class&lt;? extends Store&gt; clazz, Void id) {\n        return create(clazz);\n    }\n\n    @Override\n    public Class&lt;Store&gt; getDomainType() {\n        return Store.class;\n    }\n\n    @Override\n    public Void getId(Store domainObject) {\n        return null;\n    }\n\n    @Override\n    public Class&lt;Void&gt; getIdType() {\n        return Void.class;\n    }\n\n    @Override\n    public Object getVersion(Store domainObject) {\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>This is the RequestContext subclass:</p>\n\n<pre><code>import java.util.List;\n\nimport com.google.web.bindery.requestfactory.shared.Request;\nimport com.google.web.bindery.requestfactory.shared.RequestContext;\nimport com.google.web.bindery.requestfactory.shared.ServiceName;\n\n@ServiceName(value = \"unipiWeb.server.services.AppService\", locator = \"unipiWeb.server.services.AppServiceLocator\")\npublic interface AppRequest extends RequestContext {\n\n    Request&lt;StoreProxy&gt; createStore();\n\n    Request&lt;StoreProxy&gt; readStore(Long id);\n\n    Request&lt;StoreProxy&gt; updateStore(StoreProxy store);\n\n    Request&lt;Void&gt; deleteStore(StoreProxy store);\n\n    Request&lt;List&lt;StoreProxy&gt;&gt; queryStores();\n\n}\n</code></pre>\n\n<p>And the requestfactory subclass:</p>\n\n<pre><code>import com.google.web.bindery.requestfactory.shared.RequestFactory;\n\n\npublic interface AppRequestFactory extends RequestFactory {\n\n    AppRequest appRequest();\n\n}\n</code></pre>\n\n<p>And this is the error appears every time I try to store a new entity. (The project debugs with no error at all)</p>\n\n<pre><code>17:23:53.411 [ERROR] [unipiweb] Uncaught exception escaped\n\ncom.google.gwt.event.shared.UmbrellaException: One or more exceptions caught, see full set in UmbrellaException#getCauses\n    at com.google.gwt.event.shared.HandlerManager.fireEvent(HandlerManager.java:129)\n    at com.google.gwt.user.client.ui.Widget.fireEvent(Widget.java:129)\n    at com.google.gwt.event.dom.client.DomEvent.fireNativeEvent(DomEvent.java:116)\n    at com.google.gwt.user.client.ui.Widget.onBrowserEvent(Widget.java:177)\n    at com.google.gwt.user.client.DOM.dispatchEventImpl(DOM.java:1351)\n    at com.google.gwt.user.client.DOM.dispatchEvent(DOM.java:1307)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337)\n    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218)\n    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)\n    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)\n    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)\n    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:213)\n    at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:292)\n    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:546)\n    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: org/json/JSONException\n    at com.google.web.bindery.autobean.shared.impl.StringQuoter.createSplittable(StringQuoter.java:58)\n    at com.google.web.bindery.autobean.shared.impl.AbstractAutoBean.&amp;lt;init&amp;gt;(AbstractAutoBean.java:71)\n    at unipiWeb.client.requestfactory.StoreProxyAutoBean_com_google_web_bindery_requestfactory_shared_impl_EntityProxyCategory_com_google_web_bindery_requestfactory_shared_impl_ValueProxyCategory_com_google_web_bindery_requestfactory_shared_impl_BaseProxyCategory.&amp;lt;init&amp;gt;(StoreProxyAutoBean_com_google_web_bindery_requestfactory_shared_impl_EntityProxyCategory_com_google_web_bindery_requestfactory_shared_impl_ValueProxyCategory_com_google_web_bindery_requestfactory_shared_impl_BaseProxyCategory.java:90)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:105)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337)\n    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218)\n    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)\n    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)\n    at com.google.web.bindery.autobean.gwt.client.impl.JsniCreatorMap$.invoke$(JsniCreatorMap.java)\n    at com.google.web.bindery.autobean.gwt.client.impl.JsniCreatorMap$.create$(JsniCreatorMap.java:46)\n    at com.google.web.bindery.autobean.gwt.client.impl.AbstractAutoBeanFactory.create(AbstractAutoBeanFactory.java:38)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.createProxy(AbstractRequestContext.java:688)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.create(AbstractRequestContext.java:497)\n    at unipiWeb.client.widgets.StoreWidget$4.onClick(StoreWidget.java:188)\n    at com.google.gwt.event.dom.client.ClickEvent.dispatch(ClickEvent.java:54)\n    at com.google.gwt.event.dom.client.ClickEvent.dispatch(ClickEvent.java:1)\n    at com.google.gwt.event.shared.GwtEvent.dispatch(GwtEvent.java:1)\n    at com.google.web.bindery.event.shared.EventBus.dispatchEvent(EventBus.java:40)\n    at com.google.web.bindery.event.shared.SimpleEventBus.doFire(SimpleEventBus.java:193)\n    at com.google.web.bindery.event.shared.SimpleEventBus.fireEvent(SimpleEventBus.java:88)\n    at com.google.gwt.event.shared.HandlerManager.fireEvent(HandlerManager.java:127)\n    at com.google.gwt.user.client.ui.Widget.fireEvent(Widget.java:129)\n    at com.google.gwt.event.dom.client.DomEvent.fireNativeEvent(DomEvent.java:116)\n    at com.google.gwt.user.client.ui.Widget.onBrowserEvent(Widget.java:177)\n    at com.google.gwt.user.client.DOM.dispatchEventImpl(DOM.java:1351)\n    at com.google.gwt.user.client.DOM.dispatchEvent(DOM.java:1307)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337)\n    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218)\n    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)\n    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)\n    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)\n    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:213)\n    at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:292)\n    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:546)\n    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: null\n    at com.google.gwt.dev.shell.CompilingClassLoader$MultiParentClassLoader.findClass(CompilingClassLoader.java:365)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at com.google.web.bindery.autobean.shared.impl.StringQuoter.createSplittable(StringQuoter.java:58)\n    at com.google.web.bindery.autobean.shared.impl.AbstractAutoBean.&amp;lt;init&amp;gt;(AbstractAutoBean.java:71)\n    at unipiWeb.client.requestfactory.StoreProxyAutoBean_com_google_web_bindery_requestfactory_shared_impl_EntityProxyCategory_com_google_web_bindery_requestfactory_shared_impl_ValueProxyCategory_com_google_web_bindery_requestfactory_shared_impl_BaseProxyCategory.&amp;lt;init&amp;gt;(StoreProxyAutoBean_com_google_web_bindery_requestfactory_shared_impl_EntityProxyCategory_com_google_web_bindery_requestfactory_shared_impl_ValueProxyCategory_com_google_web_bindery_requestfactory_shared_impl_BaseProxyCategory.java:90)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:105)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337)\n    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218)\n    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)\n    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)\n    at com.google.web.bindery.autobean.gwt.client.impl.JsniCreatorMap$.invoke$(JsniCreatorMap.java)\n    at com.google.web.bindery.autobean.gwt.client.impl.JsniCreatorMap$.create$(JsniCreatorMap.java:46)\n    at com.google.web.bindery.autobean.gwt.client.impl.AbstractAutoBeanFactory.create(AbstractAutoBeanFactory.java:38)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.createProxy(AbstractRequestContext.java:688)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.create(AbstractRequestContext.java:497)\n    at unipiWeb.client.widgets.StoreWidget$4.onClick(StoreWidget.java:188)\n    at com.google.gwt.event.dom.client.ClickEvent.dispatch(ClickEvent.java:54)\n    at com.google.gwt.event.dom.client.ClickEvent.dispatch(ClickEvent.java:1)\n    at com.google.gwt.event.shared.GwtEvent.dispatch(GwtEvent.java:1)\n    at com.google.web.bindery.event.shared.EventBus.dispatchEvent(EventBus.java:40)\n    at com.google.web.bindery.event.shared.SimpleEventBus.doFire(SimpleEventBus.java:193)\n    at com.google.web.bindery.event.shared.SimpleEventBus.fireEvent(SimpleEventBus.java:88)\n    at com.google.gwt.event.shared.HandlerManager.fireEvent(HandlerManager.java:127)\n    at com.google.gwt.user.client.ui.Widget.fireEvent(Widget.java:129)\n    at com.google.gwt.event.dom.client.DomEvent.fireNativeEvent(DomEvent.java:116)\n    at com.google.gwt.user.client.ui.Widget.onBrowserEvent(Widget.java:177)\n    at com.google.gwt.user.client.DOM.dispatchEventImpl(DOM.java:1351)\n    at com.google.gwt.user.client.DOM.dispatchEvent(DOM.java:1307)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessagesWhileWaitingForReturn(BrowserChannelServer.java:337)\n    at com.google.gwt.dev.shell.BrowserChannelServer.invokeJavascript(BrowserChannelServer.java:218)\n    at com.google.gwt.dev.shell.ModuleSpaceOOPHM.doInvoke(ModuleSpaceOOPHM.java:136)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNative(ModuleSpace.java:561)\n    at com.google.gwt.dev.shell.ModuleSpace.invokeNativeObject(ModuleSpace.java:269)\n    at com.google.gwt.dev.shell.JavaScriptHost.invokeNativeObject(JavaScriptHost.java:91)\n    at com.google.gwt.core.client.impl.Impl.apply(Impl.java)\n    at com.google.gwt.core.client.impl.Impl.entry0(Impl.java:213)\n    at sun.reflect.GeneratedMethodAccessor31.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.gwt.dev.shell.MethodAdaptor.invoke(MethodAdaptor.java:103)\n    at com.google.gwt.dev.shell.MethodDispatch.invoke(MethodDispatch.java:71)\n    at com.google.gwt.dev.shell.OophmSessionHandler.invoke(OophmSessionHandler.java:172)\n    at com.google.gwt.dev.shell.BrowserChannelServer.reactToMessages(BrowserChannelServer.java:292)\n    at com.google.gwt.dev.shell.BrowserChannelServer.processConnection(BrowserChannelServer.java:546)\n    at com.google.gwt.dev.shell.BrowserChannelServer.run(BrowserChannelServer.java:363)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p><strong>Any Instructions or suggestions are welcome!!</strong>\nThank You!!!</p>\n"},{"tags":["google-app-engine","full-text-search","gae-datastore","app-engine-ndb"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13112161,"title":"Use the Datastore (NDB), the Search API or both for views on data?","body":"<p>In a CMS, a list of customers is retrieved using a regular NDB query with ordering. To allow filtering on name, company name and email, I create several (sometimes many) indices. The situation was not ideal, but workable.</p>\n\n<p>Now there's the (experimental) <a href=\"https://developers.google.com/appengine/docs/python/search/overview\" rel=\"nofollow\">Search API</a>. It seems to have no relation to the datastore (or NDB), but my data is already there.</p>\n\n<p>I'd like to use Full Text Search and put filters on multiple fields simultaniously, so should I keep my data in the Datastore and duplicate parts of the data in Documents for the Search API? Or, as the <a href=\"http://code.google.com/p/google-app-engine-samples/source/browse/trunk/search/python\" rel=\"nofollow\">search example suggests</a>, skip the Datastore entirely.</p>\n"},{"tags":["python","google-app-engine","nlp","nltk"],"answer_count":5,"favorite_count":9,"up_vote_count":8,"down_vote_count":0,"view_count":2810,"score":8,"question_id":1286301,"title":"Using the Python NLTK (2.0b5) on the Google App Engine","body":"<p>I have been trying to make the NLTK (Natural Language Toolkit) work on the Google App Engine.  The steps I followed are:</p>\n\n<ol>\n<li>Download the installer and run it (a .dmg file, as I am using a Mac).</li>\n<li>copy the nltk folder out of the python site-packages directory and place it as a sub-folder in my project folder.</li>\n<li>Create a python module in the folder that contains the nltk sub-folder and add the line: <code>from nltk.tokenize import *</code> </li>\n</ol>\n\n<p>Unfortunately, after launching it I get this error (note that this error is raised deep within NLTK and I'm seeing it for my system installation of python as opposed to the one that is in the sub-folder of the GAE project):</p>\n\n<pre><code> &lt;type 'exceptions.ImportError'&gt;: No module named nltk\nTraceback (most recent call last):\n  File \"/base/data/home/apps/xxxx/1.335654715894946084/main.py\", line 13, in &lt;module&gt;\n    from lingua import reducer\n  File \"/base/data/home/apps/xxxx/1.335654715894946084/lingua/reducer.py\", line 11, in &lt;module&gt;\n    from nltk.tokenizer import *\n  File \"/base/data/home/apps/xxxx/1.335654715894946084/lingua/nltk/__init__.py\", line 73, in &lt;module&gt;\n    from internals import config_java\n  File \"/base/data/home/apps/xxxx/1.335654715894946084/lingua/nltk/internals.py\", line 19, in &lt;module&gt;\n    from nltk import __file__\n</code></pre>\n\n<p>Note: this is how the error looks in the logs when uploaded to GAE.  If I run it locally I get the same error (except it seems to originate inside my site-packages instance of NLTK ... so no difference there).  And \"xxxx\" signifies the project name.</p>\n\n<p>So in summary:</p>\n\n<ul>\n<li>Is what I am trying to do even possible?  Will NLTK even run on the App Engine?</li>\n<li>Is there something I missed?  That is: copying \"nltk\" to the GAE project isn't enough?</li>\n</ul>\n\n<p><strong>EDIT: fixed typo and removed unnecessary step</strong></p>\n"},{"tags":["google-app-engine","jersey"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13102977,"title":"failed Jersey REST Service: java.lang.IncompatibleClassChangeError: Implementing class","body":"<p>I was hopeful that Jersey would deploy easily to Google App Engine, as it is supposedly supported ( <a href=\"http://code.google.com/p/googleappengine/wiki/WillItPlayInJava\" rel=\"nofollow\">http://code.google.com/p/googleappengine/wiki/WillItPlayInJava</a> ) and several people mention they made it work ( <a href=\"http://tugdualgrall.blogspot.ca/2010/02/create-and-deploy-jax-rs-rest-service.html\" rel=\"nofollow\">http://tugdualgrall.blogspot.ca/2010/02/create-and-deploy-jax-rs-rest-service.html</a>)\nBut it does not work...</p>\n\n<ul>\n<li>I created a new project with the gae plugin for eclipse (using gae sdk 1.7.3)</li>\n<li><p>I added to my web.xml :</p>\n\n<pre><code>&lt;servlet&gt;\n&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n&lt;init-param&gt;\n  &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n  &lt;param-value&gt;sample.hello.resources&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;init-param&gt;\n  &lt;param-name&gt;com.sun.jersey.config.feature.DisableWADL&lt;/param-name&gt;\n  &lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre></li>\n<li><p>I added to the classpath : jersey-bundle-1.14.jar  (I even tried with only core, servlet, and server AND I even tried with 1.5 only)</p></li>\n</ul>\n\n<p>but I still get stuck with this :</p>\n\n<pre><code>      WARNING: failed Jersey REST Service: java.lang.IncompatibleClassChangeError: Implementing class\n  Oct 27, 2012 6:17:06 PM com.google.apphosting.utils.jetty.JettyLogger warn\n  WARNING: failed com.google.appengine.tools.development.DevAppEngineWebAppContext@68c12474{/,/Users/anthony/workspaces/gae/restfulapp/war}: java.lang.IncompatibleClassChangeError: Implementing class\n  Oct 27, 2012 6:17:06 PM com.google.apphosting.utils.jetty.JettyLogger warn\n  WARNING: failed JettyContainerService$ApiProxyHandler@365878d2: java.lang.IncompatibleClassChangeError: Implementing class\n  Oct 27, 2012 6:17:06 PM com.google.apphosting.utils.jetty.JettyLogger warn\n  WARNING: Error starting handlers\n  java.lang.IncompatibleClassChangeError: Implementing class\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:615)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:283)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:58)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:207)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:79)\n    at com.sun.jersey.api.core.PackagesResourceConfig.init(PackagesResourceConfig.java:104)\n    at com.sun.jersey.api.core.PackagesResourceConfig.&lt;init&gt;(PackagesResourceConfig.java:78)\n    at com.sun.jersey.api.core.PackagesResourceConfig.&lt;init&gt;(PackagesResourceConfig.java:89)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:696)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:206)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:556)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:212)\n    at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:440)\n    at org.mortbay.jetty.servlet.ServletHolder.doStart(ServletHolder.java:263)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:685)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:205)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:249)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:157)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:333)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:269)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:245)\n</code></pre>\n\n<p>What did I miss ? Should I use another jax-rs implementation for gae ?\nThanks for your answers !</p>\n"},{"tags":["google-app-engine","python-2.7","djangoappengine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13110666,"title":"App Engine Image API get_serving_url headers","body":"<p>I'm building an application that lets users download images as wallpapers. That means I need to trigger a download window instead of just opening the image in a window. I've been using so far the Content-Disposition: attachment; header and it works. Is there any way of doing this with google's Image API? </p>\n\n<p>Also, in the documentation it says the API supports resizes of images up to 1600px wide. I'm serving images to users based on their screen resolution so I need more than 1600px. From my testing on a live app engine app I can resize images up to 2500 in width using the \"sXX\" url modification. The documentation is seriously outdated. </p>\n\n<p>Can anyone offer me some advice? Would it be that much less inefficient if I build a custom handler to do this resizing and header setting? Is there any client side - javascript solution to this problem?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13109896,"title":"Google Appe Engine NDB cross domain","body":"<p>Is it possible to have 2 different domains sharing the one/same NDB?</p>\n\n<p>Example:</p>\n\n<p>In <a href=\"http://mydomain1.appspot.com\" rel=\"nofollow\">http://mydomain1.appspot.com</a></p>\n\n<pre><code>r = MyData(\"myid\"=\"say\",\"words\"=\"hello world!\")\nr.put()\n</code></pre>\n\n<p>In other site, at <a href=\"http://mydomain2.appspot.com\" rel=\"nofollow\">http://mydomain2.appspot.com</a></p>\n\n<pre><code>q = MyData.query(MyData.myid == \"say\")\nr = q.get()\nself.response.out.write(r.words)\n&gt;&gt;&gt; output: hello world!\n</code></pre>\n\n<p>Is it possible? Is there an example?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13060788,"title":"What happens when my app reaches the Prospective Search Subscriptions quota?","body":"<p>Can Google replenish this resource? \nIf so, how are subscriptions billed when over quota? Costs?\nAnyone else using it for a real life large scale app? (tens or thousands of users/subcriptions?)</p>\n"},{"tags":["java","security","google-app-engine","pdf"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":29,"score":-2,"question_id":13108148,"title":"File transfer from 3rd party site to client through GAE/J","body":"<p>Now i have a site say X.com which has a few images &amp; a pdf.</p>\n\n<p>I want users to be able to download / see them on browser but not directly but from my GAE website.</p>\n\n<p>Can i use URL Fetch service for this?</p>\n\n<p>How do i download file from an URL of X to GAE server and then pass that data as part of response to client request?\nWill this be a very expensive operation?</p>\n\n<p>If i do this can i close access to server hosting site X.com to only accept request from GAE?\nHow do i do the IP settings to achieve this?</p>\n\n<p>What other security can be put on X so data isn't directly accessible?</p>\n"},{"tags":["python","google-app-engine","flask","wtforms"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":639,"score":1,"question_id":5868718,"title":"Wtforms: How to generate blank value using select fields with dynamic choice values","body":"<p>I'm using <a href=\"http://flask.pocoo.org/\" rel=\"nofollow\">Flask</a> with WTForms (<a href=\"http://wtforms.simplecodes.com/docs/0.6/fields.html\" rel=\"nofollow\">doc</a>) on Google App Engine. What is the best way to generate an field with an empty value for a select field?</p>\n\n<pre><code>form.group_id.choices = [(g.key().id(), g.name) for g in Group.all().order('name')]\n</code></pre>\n\n<p>Is there something like \"blank=True\" for the form field?</p>\n\n<pre><code>myfield = wtf.SelectField()\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":93,"score":-4,"question_id":13104694,"title":"Python alternative to google app engine","body":"<p>I have an app that I am working on that is currently hosted on google App engine. It is written in python and went pretty smoothly until my requirements changed and google app engine would not let me do what I needed to do. Currently I am trying to find a way to host my code (python) and be able to make and accept http:// requests, and be able to edit/add files in the same directory as the python scripts are located (I need to store lots of files, and the blobstore is just weird). </p>\n\n<p>If this is not possible, I would be happy with being able to run python scripts \"in browser\" like when testing with google app engine, just on my local machine (windows 7 64 bit).</p>\n\n<p>Any help is appreciated</p>\n"},{"tags":["google-app-engine","go"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":907,"score":4,"question_id":9573644,"title":"Go, AppEngine: How to structure templates for application","body":"<p>How are people handling the use of templates in their Go-based AppEngine applications?</p>\n\n<p>Specifically, I'm looking for a project structure that affords the following:</p>\n\n<ul>\n<li>Hierarchical (directory) structure of templates and partial templates</li>\n<li>Allow me to use HTML tools/editors on my templates (embedding template text in xxx.go files makes this difficult)</li>\n<li>Automatic reload of template text when on dev server</li>\n</ul>\n\n<p>Potential stumbling blocks are:</p>\n\n<ul>\n<li>template.ParseGlob() will not traverse recursively.</li>\n<li>For performance reasons it has been recommended not to upload your templates as raw text files (because those text files reside on different servers than executing code).</li>\n</ul>\n\n<p>Please note that I am not looking for a tutorial/examples of the use of the template package.  This is more of an app structure question.  That being said, if you have code that solves the above problems, I would love to see it.  Thanks in advance.</p>\n"},{"tags":["google-app-engine","jquery-ajax","protorpc"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":134,"score":2,"question_id":9090591,"title":"ProtoRPC setup basic hello world doesn't work","body":"<p>i setup the ProtoRPC hello app and it doesn't work i'm using this to post to it</p>\n\n<pre><code>$.ajax({url: \"http://wordninjabackend.appspot.com/hello\",\ntype: 'POST',\ncontentType: 'application/json',\ndata: \"{ my_name: Bob }\",\ndataType: 'json',\nsuccess: function(response) {\n    // The response is { hello: “Hello there, Bob!” }\n        alert(response.hello);\n    }\n});\n</code></pre>\n\n<p>and i'm geting: 405 Method Not Allowed</p>\n\n<p>app.yaml</p>\n\n<pre><code>application: wordninjabackend\nversion: 1\napi_version: 1\nruntime: python\n\nhandlers:\n- url: .*\nscript: main.py\n</code></pre>\n\n<p>Alright it is python on app engine, its just the sample program so it has to be something wrong with my post to the server</p>\n"},{"tags":["python","google-app-engine","cookies","delete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13102168,"title":"in GAE Python, I can not delete cookies locally, but on the web if I can","body":"<p>I'm working on a project, working directly on the web, but for speed of development, I decided to spend my project locally, but when I want to delete a cookie locally I can not, be the same code that is on the web</p>\n\n<pre><code>c = Cookie.SimpleCookie(os.environ[\"HTTP_COOKIE\"])  \nc[\"MyCookie\"]=\"\"\nc[\"MyCookie\"][\"expires\"] = cookie_expiry_date(-20)\nself.response.headers.add_header(\"Set-Cookie\",c.output(header=''))\n</code></pre>\n\n<p>I try this </p>\n\n<pre><code>self.response.headers.add_header(\"Set-Cookie\",'MyCookie=\"\"; expires=Thu, 01-Jan-1970 00:00:00 GMT')\n</code></pre>\n\n<p>But it does not work</p>\n"},{"tags":["database","google-app-engine","cloud","geospatial"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12946475,"title":"Geospatial Database Cloud Server","body":"<p>Are there any cloud hosting solutions for geospatial data? I am currently writing a directory style app where businesses can sign up and then users can find nearby ones. </p>\n\n<p>I am considering Google App Engine for this, but from what I can tell the GeoModel code is quite expensive (up to tens of thousands of dollars a year) to run since Google updated the pricing of App Engine. It doesn't seem like App Engine's database is really suited to this kind of query (though the SQL solution may be an answer).</p>\n\n<p>I was hoping to find a service where I could send off a HTTP request to add data (a business' id, name and icon url) to a database, and then another one to find a list of businesses that are nearby to a given point. A service is preferable as this is work done for a client and we would like the solution to be managed with as little interaction from us or the client needed as possible.</p>\n\n<p>EDIT:\nI just found <a href=\"http://cartodb.com\" rel=\"nofollow\">cartodb.com</a> which uses PostgreSQL and is reasonably priced. Are the any other alternatives?</p>\n"},{"tags":["google-app-engine","opensocial"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13103028,"title":"What is best way to study OpenSocial to develop Social Network Games? I would like to Develop with Google App Engine","body":"<p>What is best way to study OpenSocial to develop Social Network Games? \nI would like to Develop with Google App Engine.</p>\n\n<p>I am currently trying to develop SNS Games on iPhone / Android platform.\nSNS Game = Social Network Games</p>\n\n<p>I am thinking of using platform with Google App Engine with Python 2.7</p>\n\n<p>So I would like to use OpenSocial API to develop SNS Games on iPhone / Android platform.</p>\n\n<p>What I need is training material to understand how to deploy OpenSocial with\nGoogleApps Engine with Phthon 2.7.</p>\n\n<p><strong>Question 1:</strong><br>\nWhat is best way to study OpenSocial in order to develop website with Google App Engine for developing OpenSocial SNS Games?</p>\n\n<p>Are there any good resources?\nAnyone know good training material about OpenSocial programming?</p>\n\n<p><strong>Question 2:</strong><br>\nAre there any good example of OpenSocial project which use Google App Engine?</p>\n"},{"tags":["django","google-app-engine","gql"],"answer_count":4,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":2891,"score":0,"question_id":1513526,"title":"App Engine GQL: querying a date range","body":"<p>What would be the App Engine equivalent of this Django statement?</p>\n\n<pre><code>return Post.objects.get(created_at__year=bits[0], \n\t\t\t\t\t\t\tcreated_at__month=bits[1], \n\t\t\t\t\t\t\tcreated_at__day=bits[2],\n\t\t\t\t\t\t\tslug__iexact=bits[3])\n</code></pre>\n\n<p>I've ended up writing this:</p>\n\n<pre><code>Post.gql('WHERE created_at &gt; DATE(:1, :2, :3) AND created_at &lt; DATE(:1, :2, :4) and slug = :5',\n    int(bit[0]), int(bit[1]), int(bit[2]), int(bit[2]) + 1, bit[3])\n</code></pre>\n\n<p>But it's pretty horrific compared to Django. Any other more Pythonic/Django-magic way, e.g. with <code>Post.filter()</code> or <code>created_at.day/month/year</code> attributes?</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13103015,"title":"FileStat behavior changed in 1.7.3","body":"<p>When upgrading to GAE (Java) 1.7.3 this test started failing against local GAE instance:</p>\n\n<pre><code>@Test\npublic void testStats() throws Exception {\n   AppEngineFile file = service.createNewBlobFile(\"text/plain\", \"records123.txt\");\n   writeToFileAndFinalize(file, \"This is content.\");\n   FileStat stat = service.stat(file);\n   Assert.assertNotNull(stat);\n   Assert.assertTrue(stat.isFinalized());\n   Assert.assertEquals(\"records123.txt\", stat.getFilename());\n   Assert.assertTrue(stat.getLength() &gt; 0);\n}\n</code></pre>\n\n<p>Failed tests:   testStats(org.jboss.test.capedwarf.files.test.FilesTestCase): expected:&lt;[records123.txt]> but was:&lt;[/blobstore/writable:R45VqzenfR-tGfHPVFWa-A]></p>\n\n<p>Bug or feature?</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13102384,"title":"GAE Datastore saves only parts of the object","body":"<p>I have an object called AdUser that looks like this:</p>\n\n<pre><code>@PersistenceCapable\npublic class AdUser{\n\n@Persistent\nprotected final int _id;\n\n@Persistent\nprotected String _firstName, _lastName;\n\n@Persistent\nprotected double _bankRoll;\n\n@Persistent(serialized = \"true\", embeddedElement = \"true\", defaultFetchGroup = \"true\") \nprotected final User _googleUser;\n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key key;\n</code></pre>\n\n<p>Then, in my code I create a new AdUser object and fill it with data. the User class for the _googleUser datamember is taken from com.google.appengine.api.users.User</p>\n\n<p>Then In my code I run the following commands:</p>\n\n<pre><code>try {\n        pm.makePersistent(user);\n    } finally {\n       pm.close();\n}\n</code></pre>\n\n<p>and afterwards: </p>\n\n<pre><code>PersistenceManager pm = PMF.get().getPersistenceManager();\nQuery q = pm.newQuery(AdUser.class);\ntry {\n    @SuppressWarnings(\"unchecked\")\n    List&lt;AdUser&gt; list = (List&lt;AdUser&gt;) q.execute();\n    userArray = new ArrayList&lt;AdUser&gt;(list);\n} finally {\n    q.closeAll();\n    pm.close();\n}\n</code></pre>\n\n<p>When I iterate over the list I see that for example the _firstName and _lastName datamembers are retrieved correctly, but for example the _id field and _googleUser field are not, and return as 0 and null respectively.</p>\n\n<p>I am pretty clueless here. Any idea?</p>\n"},{"tags":["python","google-app-engine","deployment"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13097975,"title":"Can I deploy (update) Single Python file to existing Google App Engine application?","body":"<p>Is it possible to update single py file in existing GAE app.something like we update cron.yaml using, <code>appcfg.py update_cron</code></p>\n\n<p>Is there any way to update .py file?</p>\n\n<p>Regrads.</p>\n"},{"tags":["google-app-engine","testing","tdd","go"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":217,"score":4,"question_id":11286534,"title":"Test cases for go and appengine","body":"<p>I am using Go and appengine, and now I would like to do some test cases.</p>\n\n<p>I tried using gos standard test package, \nFiles (both both \"package hello\"):\n  hello/http.go\n  hello/http_test.go</p>\n\n<p>Problem: I cannot run \"go test hello\".\nThe closest I have got is \"go test hello/http_test.go\" which works if\nI do not make any calls to http.g, which is quite pointless :)</p>\n\n<p>Thanks, Ola</p>\n"},{"tags":["google-app-engine","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12804189,"title":"how to send the bits of an image by requests.post (url, data) in webapp2","body":"<p>My url is too long and it throws me the error:</p>\n\n<p><code>ConnectionError: HTTPConnectionPool(host='xxxx', port=8086): Max retries exceeded with url: /user/profile?nick=nick&amp;name=xxx&amp;city=xxx&amp;gender=x&amp;profile_image=%FF%D8%FF%E0%00%10JFIF%00%01%01%01%00%60%00%60%00%00%...</code></p>\n\n<p>I am uploading an image to a file iput and trying to pass it by requests.post but it throws me the error above.</p>\n\n<p>My code is this:</p>\n\n<pre><code>profile_image = self.request.get(\"f_profile_image\")\n    data = {\"id\": id_user,\n                \"nick\": nick,\n                \"name\": name,\n                \"last_name\": last_name,\n                \"gender\": gender,\n                \"profile_image\": profile_image}\n\n    d = requests.post(\"http://myhost:8086/user/profile\",params=data)\n    self.response.out.write(d.text)\n</code></pre>\n\n<p>I get the picture here <strong>profile_image = self.request.get(\"f_profile_image\")</strong> I sent from the form, and try to send it to my server for storage in a database. But <strong>d = requests.post(\"http://myhost:8086/user/profile\",params=data)</strong> make the mistake I mentioned above</p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13100848,"title":"GAE python: not refresing source code on deployment","body":"<p>I have an error in GAE python API with my app.</p>\n\n<p>Error is:</p>\n\n<p>File \"/base/data/home/apps/s~graph-coloring/coloring.362739865286670993/main.py\", line 249, in txn\n    Gfile.put()</p>\n\n<p>I have dropped the txn function but it still appears. I have changed also app version, deployed several times but GAE is still calling txn function.</p>\n\n<p>What can be the problem?\nI am running the handler in a backend</p>\n\n<p>I have tested on dev-server and it works.</p>\n\n<p><strong>Note:</strong>\nIt seems that each backend has its own copy of the app? So in order to deploy the app you need also to update each backend? it seems that doing this solved my problem.</p>\n\n<p>Can someone confirm this?</p>\n\n<pre><code>2012-10-27 15:43:35.901\n\ninvalid handle: 11954713935722084435\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1511, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~graph-coloring/coloring.362739865286670993/main.py\", line 252, in post\n    db.run_in_transaction(txn,key,alpha)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 2433, in RunInTransaction\n    return RunInTransactionOptions(None, function, *args, **kwargs)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 2571, in RunInTransactionOptions\n    ok, result = _DoOneTry(new_connection, function, args, kwargs)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 2593, in _DoOneTry\n    result = function(*args, **kwargs)\n  File \"/base/data/home/apps/s~graph-coloring/coloring.362739865286670993/main.py\", line 249, in txn\n    Gfile.put()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 1074, in put\n    return datastore.Put(self._entity, **kwargs)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 579, in Put\n    return PutAsync(entities, **kwargs).get_result()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 604, in get_result\n    return self.__get_result_hook(self)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1569, in __put_hook\n    self.check_rpc_success(rpc)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1224, in check_rpc_success\n    raise _ToDatastoreError(err)\nBadRequestError: invalid handle: 11954713935722084435\n</code></pre>\n"},{"tags":["database","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13042020,"title":"GoogleApps Datastore Cons and Pros","body":"<p>I've been reading more about Google AppEngine and learned python in the past couple of weeks, including working with MongoDB. What I need the most is a scalable database solution. Before discovering Google AppEngine, the only three DB solutions I find useful are DynamoDB, MongoDb and BigCouch. </p>\n\n<p>I find out how that I really like python language, and for one coming from ASP.NET development, I've decided to switch and develop my app using python. My first choice was to develop my application using python + bottle + mongoDB.  The problem is that DynamoDB is very expensive, and the lack of easy to use backup/restore options made me pass Amazon's offering.</p>\n\n<p>Google AppEngine datastore is much more affordable. However, I still can't find information regarding some specific question on Google's website</p>\n\n<p>Here are some of the questions I need answer to:</p>\n\n<ul>\n<li>Does Google Datastore support backup/restore within the administration console?</li>\n<li>If I want to backup/restore 50TB of data, how much time it takes to backup/restore the data? Where it is stored? what are the costs?</li>\n<li>How much time it takes to backup 1TB of data for example?</li>\n<li>Does DataStore support caching in the database layer</li>\n<li>Any cons that I should be aware of?</li>\n</ul>\n\n<p>Those some of the question that I need to get answers to. MongoDB is an excellent product and developing web app using Mongo + Python + bottle is fun fun fun. However, I prefer a full DB hosted solution like one offered by Google. But before I do that, I need to be sure that I'm not missing anything.</p>\n"},{"tags":["python","google-app-engine","gae-datastore","bigtable","referenceproperty"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":157,"score":2,"question_id":5535007,"title":"How to enumerate the back-references of an entity","body":"<p>In this scenario, company.py contains:</p>\n\n<pre><code>from django.utils import simplejson\n\nclass Company(db.Model):\n    name=db.StringProperty()\n    address=db.StringProperty()\n\n    def to_JSON():\n        d = dict([(p, unicode(getattr(self, p))) for p in self.properties()])\n        return simplejson.dumps(d)\n</code></pre>\n\n<p>office.py contains:</p>\n\n<pre><code>from company import Company\n\nclass Office(db.Model):\n    name = db.StringProperty()\n    company = db.ReferenceProperty(Company, collection_name='offices')\n</code></pre>\n\n<p>module 3 contains:</p>\n\n<pre><code>from company import Company\n\nclass Region(db.Model):\n    name = db.StringProperty()\n    company = db.ReferenceProperty(Company, collection_name='regions')\n</code></pre>\n\n<p>This is a simplified example of what I need to do, but should capture it pretty well...  I need Company to be able to express itself as a JSON string, and it does not know about the other classes (Office and Region) that reference it.  This works for the normal properties:</p>\n\n<pre><code>c = Company(name='A Company',address='123 Main St, New York, NY 12345')\nc.put()\n\ndallas = Office(name='Dallas',company=c)\ndallas.put()\n\nny = Office(name='New York',company=c)\nny.put()\n\nnortheast = Region(name='NorthEast',company=c)\nnortheast.put()\n\nsouthwest = Region(name='SouthWest',company=c)\nsouthwest.put()\n\nlogging.info('Company as JSON: %s' % c.to_JSON())\n</code></pre>\n\n<p>And what I get for output is:</p>\n\n<pre><code>{\"name\": \"A Company\", \"address\": \"123 Main St, New York, NY 12345\"}\n</code></pre>\n\n<p>So properties() includes the properties of the entity as expected, but I also want to include the back-references from the ReferenceProperty attributes of the associated objects.  Essentially what I'm looking for is just a list of the back-reference (collection_name) names, since I know they represent queries, but I can't find any way to enumerate the back-reference names themselves.</p>\n\n<p>Remember this code isn't actually indicative of the real code, it's greatly simplified.  Now this works:</p>\n\n<pre><code>offices = getattr(company, 'offices')\n</code></pre>\n\n<p>So what I was expecting to see was this:</p>\n\n<pre><code>{\"name\": \"A Company\", \"address\": \"123 Main St, New York, NY 12345\", \n \"offices\": \"&lt;db.Query object at 0x110e992d0&gt;\", \n \"regions\": \"&lt;db.Query object at 0x110e99300&gt;\"\n}\n</code></pre>\n\n<p>I don't actually <em>need</em> the back-references \"offices\" and \"regions\" to be included in the properties() enumerations, but they're checked for uniqueness somehow (I couldn't, for example, also have a StringProperty in Company named 'offices') so there must be a way to enumerate them.  Anyone know of a way?</p>\n"},{"tags":["google-app-engine","gradle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13098600,"title":"How can I add the Google App Engine dependencies to my gradle build without making a flat file repository?","body":"<p>It is the first time i try to use gradle</p>\n\n<p>I use the following build.gradle</p>\n\n<pre><code>buildscript {\n   repositories {\n      mavenCentral()\n   }\n\n   dependencies {\n      classpath 'org.gradle.api.plugins:gradle-gae-plugin:0.7.6'\n   }\n}\n\napply plugin: 'gae'\n\ndependencies {\n    gaeSdk 'com.google.appengine:appengine-java-sdk:1.7.3'\n}\n\ngae {\n   optimizeWar = true\n\n   appcfg {\n      email = 'myemail'\n      passIn = true\n\n      app {\n         id = 'guestbook'\n      }\n   }\n}\n</code></pre>\n\n<p>and I can do a <code>gradle gaeVersion</code> just fine</p>\n\n<pre><code>:gaeVersion\nRelease: 1.7.3\nTimestamp: Wed Oct 24 03:01:39 CEST 2012\nAPI versions: [1.0]\n\njava.vm.vendor: Oracle Corporation\njava.vm.version: 23.0-b21\njava.version: 1.7.0_04\nos.name: Windows 7\nos.version: 6.1\n</code></pre>\n\n<p>but if I do a <code>gradle gaeRun</code></p>\n\n<p>it fails with a compile error for <code>HttpServlet</code> which I totally understand because I did not add the servlet dependencies.</p>\n\n<p><strong>How do I add the GAE dependencies to my gradle config without making a flat file repository?</strong></p>\n"},{"tags":["java","performance","google-app-engine","gwt"],"answer_count":4,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":502,"score":9,"question_id":10016909,"title":"Is google app engine 1.6.4 slower in local?","body":"<p><strong>Original issue</strong></p>\n\n<p>Since I changed the version from 1.6.3. to 1.6.4 I get serious performance problems working together with GWT in hosted mode.</p>\n\n<p><strong>Update 18/04/2012</strong></p>\n\n<p>The issue is reproductible also in 1.6.4.1 in dev environment.\nBy now the best is to downgrade to 1.6.3</p>\n\n<p><strong>Update 09/07/2012</strong></p>\n\n<p>According to Kris Giesing:\nThis is still not fixed in 1.7.0. A request that takes 330ms to process in 1.4.3, and 415ms to process in 1.6.3, takes 13740ms to process in 1.7.0. That's from timing the Java analysis code (no I/O) - almost a 40x slowdown.</p>\n\n<p><strong>Update 09/08/2012</strong></p>\n\n<p>Google acknowledged the problem in the <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=7282\" rel=\"nofollow\">issue 7282</a> of google appengine's public issue list.</p>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":247,"score":1,"question_id":13089391,"title":"What is going on with Google App Engine today?","body":"<p>The <a href=\"https://code.google.com/status/appengine\" rel=\"nofollow\">GAE status page</a> responds <strong>very</strong> slowly and sometimes just returns 500 errors. There is no information on the issues yet and <a href=\"https://appengine.google.com/\" rel=\"nofollow\">https://appengine.google.com/</a> is only returning 500s, too.</p>\n"},{"tags":["java","google-app-engine","web-applications","web-application-project"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13097254,"title":"Compiling/Building Google App Engine Java Project","body":"<p>Good day everyone!</p>\n\n<p>I am a graduating student doing Google App Engine-Java Web Application.</p>\n\n<p>My problem is I need to compile/build it so it will run upon click. I've been trying exporting it to a jar file however it outputs no main class.... problem.</p>\n\n<p>I've been looking for other method but internet fails me or maybe i'm not pointing on the right track.</p>\n\n<p>Here's my output whenever I'm using the command line:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SASsK.jpg\" alt=\"command line\"></p>\n\n<p>its working fine when i'm using eclipse.</p>\n\n<p>Any leads? Sorry if my question is quite silly.</p>\n\n<p>Thanks in advance :))</p>\n"},{"tags":["google-app-engine","gwt","google","gae-datastore","gwt-rpc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":641,"score":0,"question_id":4451639,"title":"Save gwt entities to google application engine datastore with jdo, using rpc","body":"<p>Hello iam new to GWT framework. I want to persist my domain objects/entities to google application engine datastore using rpc. A simple implementation to test if i can make multiple rpc calls ( <em>greetServer() , saveStudent()</em> )</p>\n\n<p><em><strong>Student</em></strong></p>\n\n<pre><code>import javax.jdo.annotations.Extension;\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\nimport com.google.gwt.user.client.rpc.IsSerializable;\n\n@PersistenceCapable\npublic class Student implements IsSerializable  {\n\nprivate static final long serialVersionUID = 1L;\n\n @PrimaryKey\n @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n @Extension(vendorName = \"datanucleus\", key = \"gae.encoded-pk\", value = \"true\")\n private int studentId;\n\n @Persistent private String firstName;\n @Persistent private String lastName;\n\npublic Student(){}\n\n public Student(String firstName, String lastName){\n  this.firstName = firstName;\n  this.lastName  = lastName;\n }\n\n public void setStudentId(int studentId) {\n  this.studentId = studentId;\n }\n\n public int getStudentId() {\n  return studentId;\n }\n\n public void setFirstName(String firstName) {\n  this.firstName = firstName;\n }\n\n public String getFirstName() {\n  return firstName;\n }\n\n public void setLastName(String lastName) {\n  this.lastName = lastName;\n }\n\n public String getLastName() {\n  return lastName;\n }\n}\n</code></pre>\n\n<p><em><strong>GreetingService</em></strong> (default code generated by Eclipse IDE)</p>\n\n<pre><code>import com.google.gwt.user.client.rpc.RemoteService;\nimport com.google.gwt.user.client.rpc.RemoteServiceRelativePath;\n\n@RemoteServiceRelativePath(\"greet\")\npublic interface GreetingService extends RemoteService {\n String greetServer(String name) throws IllegalArgumentException;\n **String saveStudent(Student s) throws IllegalArgumentException;**\n}\n</code></pre>\n\n<p><em><strong>GreetingServiceAsync</em></strong></p>\n\n<pre><code>import com.google.gwt.user.client.rpc.AsyncCallback;\n\n\npublic interface GreetingServiceAsync {\n void greetServer(String input, AsyncCallback&lt;String&gt; callback)\n   throws IllegalArgumentException;\n **void saveStudent(Student s, AsyncCallback&lt;String&gt; callback)\n   throws IllegalArgumentException;**\n}\n</code></pre>\n\n<p><em><strong>GreetingServiceImpl</em></strong></p>\n\n<pre><code>import javax.jdo.PersistenceManager;\n\nimport com.d.client.GreetingService;\nimport com.d.client.Student;\nimport com.d.shared.FieldVerifier;\nimport com.google.gwt.user.server.rpc.RemoteServiceServlet;\n\n@SuppressWarnings(\"serial\")\npublic class GreetingServiceImpl extends RemoteServiceServlet implements\n  GreetingService {\n\n public String greetServer(String input) throws IllegalArgumentException \n\n  ...\n\n  String serverInfo = getServletContext().getServerInfo();\n  String userAgent = getThreadLocalRequest().getHeader(\"User-Agent\");\n\n  ...\n\n }\n\n\n @Override\n public String saveStudent(Student s) throws IllegalArgumentException {\n  PersistenceManager pm = PMF.get().getPersistenceManager();\n  pm.makePersistent(s);\n  return \"student save - ok\";\n  }\n\n }\n</code></pre>\n\n<p><em><strong>PMF</em></strong></p>\n\n<pre><code>import javax.jdo.JDOHelper;\nimport javax.jdo.PersistenceManagerFactory;\n\npublic final class PMF {\n    private static final PersistenceManagerFactory pmfInstance = JDOHelper\n            .getPersistenceManagerFactory(\"transactions-optional\");\n\n    private PMF() {\n    }\n\n    public static PersistenceManagerFactory get() {\n        return pmfInstance;\n    }\n}\n</code></pre>\n\n<p><em><strong>EntryPoint</em></strong></p>\n\n<pre><code>...\n\nprivate final GreetingServiceAsync greetingService = GWT\n    .create(GreetingService.class);\n\n    greetingService.greetServer(\"greet\",\n      new AsyncCallback&lt;String&gt;() {\n       public void onFailure(Throwable caught) {\n        // Show the RPC error message to the user\n       }\n\n       public void onSuccess(String result) {\n        //Show success message\n       }\n      });\n\n    greetingService.saveStudent(new Student(\"kostas\",\"trichas\"),\n      new AsyncCallback&lt;String&gt;() {\n       public void onFailure(Throwable caught) {\n        // Show the RPC error message to the user    \n       }\n\n       public void onSuccess(String result) {\n        //Show success message\n       }\n      });\n\n   ...\n</code></pre>\n\n<p><strong>Is the above implementation correct? I deployed this sample application to gae and it did not persisted the object <em>student</em> (you can browse the entities at gae datastore viewer)</strong> </p>\n\n<p>check it please:</p>\n\n<p><a href=\"http://gwtgaedatastore.appspot.com\" rel=\"nofollow\">http://gwtgaedatastore.appspot.com</a></p>\n"},{"tags":["google-app-engine","python-2.7","gae-datastore","pylons","pyramid"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":13092803,"title":"GAE - get_uploads: self.request.POST does not exist but self.request.request.POST does. get_uploads returns empty array","body":"<p>Trying to upload to my local host.  Here's the HTML bit:</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\" method=\"POST\" action=\"http://localhost:8080/_ah/upload/ahRkZXZ-ZGV2LWN5YmVyc2NpZW5jZXIbCxIVX19CbG9iVXBsb2FkU2Vzc2lvbl9fGAsM\"&gt;&lt;input type=\"file\" name=\"srcFile\"&gt;&lt;input type=\"submit\" value=\"submit\" name=\"submit\"&gt;&lt;/form&gt;\n</code></pre>\n\n<p>Here are headers:</p>\n\n<p>Response Headers:</p>\n\n<pre><code>Cache-Control   no-cache\nContent-Length  0\nContent-Type    text/html\nDate    Fri, 26 Oct 2012 19:19:56 GMT\nExpires Fri, 01 Jan 1990 00:00:00 GMT\nServer  Development/1.0\n</code></pre>\n\n<p>Request Headers:</p>\n\n<pre><code>Accept  text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Encoding gzip, deflate\nAccept-Language en-US,en;q=0.5\nConnection  keep-alive\nCookie  __utma=111872281.1477928994.1342991890.1351271332.1351275008.45; __utmz=111872281.1342991890.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); dev_appserver_login=\"me@gmail.com:False:[[int]]\"; __utmc=111872281; __utmb=111872281.13.10.1351275008\nHost    localhost:8080\nReferer http://localhost:8080/diagnostics\nUser-Agent  Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:16.0) Gecko/20100101 Firefox/16.0\n</code></pre>\n\n<p>Request Headers From Upload Stream:</p>\n\n<pre><code>Content-Length  451\nContent-Type    multipart/form-data; boundary=---------------------------19073888353745436471437703342\n</code></pre>\n\n<p>Here's how I handle the request in project/__init__.py:</p>\n\n<pre><code> 76     config.add_route('UHandler', '/uploads/test')\n 77     config.add_view(UploadHandler,\n 78                     attr=\"post\",\n 79                     route_name='UHandler',\n 80                     context=Root,\n 81                     renderer='uploads.jinja2')\n</code></pre>\n\n<p>here's the handler code it hits:</p>\n\n<pre><code>   class UploadHandler(blobstore_handlers.BlobstoreUploadHandler):\n       def post(self):\n           pdb.set_trace()\n</code></pre>\n\n<p>In the debugger I run:</p>\n\n<pre><code>(Pdb) p self.get_uploads()\n*** AttributeError: AttributeError(\"'Root' object has no attribute 'params'\",)\n(Pdb) p self\n&lt;cyberanatomy.view.uploads.UploadHandler object at 0x5130ad0&gt;\n(Pdb) p self.get_uploads('srcFile')\n[]\n(Pdb) p self.get_uploads('srcFile')[0]\n*** IndexError: IndexError('list index out of range',)\n(Pdb) dir(self)\n['_BlobstoreUploadHandler__uploads', '__class__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__hash__', '__init__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'abort', 'app', 'dispatch', 'error', 'get_uploads', 'handle_exception', 'initialize', 'post', 'redirect', 'redirect_to', 'request', 'response', 'uri_for', 'url_for']\n(Pdb) self.request.request.POST\nMultiDict([(u'srcFile', FieldStorage(u'srcFile', u'Screen Shot 2012-09-21 at 12.47.19.png')), (u'submit', u'submit')]\n(Pdb) p self.get_uploads('anyRandomString')\n[]\n</code></pre>\n\n<p>Moving my breakpoint inside the get_uploads function:\ngoogle_appengine/google/appengine/ext/webapp/blobstore_handlers.py</p>\n\n<pre><code>(Pdb) dir(self.request.params)\n*** AttributeError: 'Root' object has no attribute 'params'\n(Pdb) dir(self.request.request.params)\n['_MutableMapping__marker', '__abstractmethods__', '__class__', '__contains__', '__delattr__', '__delitem__', '__dict__', '__doc__', '__eq__', '__format__', '__getattribute__', '__getitem__', '__hash__', '__init__', '__iter__', '__len__', '__metaclass__', '__module__', '__ne__', '__new__', '__nonzero__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_abc_cache', '_abc_negative_cache', '_abc_negative_cache_version', '_abc_registry', '_readonly', 'add', 'clear', 'copy', 'dict_of_lists', 'dicts', 'extend', 'from_fieldstorage', 'get', 'getall', 'getone', 'has_key', 'items', 'iteritems', 'iterkeys', 'itervalues', 'keys', 'mixed', 'pop', 'popitem', 'setdefault', 'update', 'values', 'view_list']\n</code></pre>\n\n<p>so, changing line 372 there from:</p>\n\n<pre><code>372       for key, value in self.request.params.items():\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>372       for key, value in self.request.request.params.items():\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>(Pdb) print self.get_uploads()\n[&lt;google.appengine.ext.blobstore.blobstore.BlobInfo object at 0x4a6eb50&gt;]\n(Pdb) self.get_uploads()[0]\n&lt;google.appengine.ext.blobstore.blobstore.BlobInfo object at 0x4a6eb50&gt;\n</code></pre>\n\n<p>What's going on?  Is this an issue with the content type in the header? Is this an issue with how pyramid is processing the request in project/__init__.py? Is this a bug in appengine?</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13095858,"title":"Handling AppEngine outage with pending_ms during several minutes","body":"<p>Today AppEngine went down for a while:\n<a href=\"http://code.google.com/status/appengine/detail/serving/2012/10/26#ae-trust-detail-helloworld-get-latency\" rel=\"nofollow\">http://code.google.com/status/appengine/detail/serving/2012/10/26#ae-trust-detail-helloworld-get-latency</a></p>\n\n<p>The result was that all requests were kept as pending, for some for as long as 24 <em>minutes</em>. Here is an excerpt from my server log. These requests are in general handled in less than 200 ms.</p>\n\n<p><a href=\"https://www.evernote.com/shard/s8/sh/ad3b58bf-9338-4cf7-aa35-a255d96aebbc/4b90815ba1c8cd2080b157a54d714ae0\" rel=\"nofollow\">https://www.evernote.com/shard/s8/sh/ad3b58bf-9338-4cf7-aa35-a255d96aebbc/4b90815ba1c8cd2080b157a54d714ae0</a></p>\n\n<p>My quota (8$ per day) was exploded in a matter of minutes when it previously was at around 2$ per day. </p>\n\n<p>How can I prevent pending_ms to eat all my quota, even though my actual request is still responding very fast? I had the pending delay from 300 ms to Automatic. Does limiting the maximum to 10 seconds prevent that type of outbreak?</p>\n"},{"tags":["java","google-app-engine","jsp","jstl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":9542130,"title":"Can't decode exception in GAE hosted JSP page with JSTL localization","body":"<p>Could you please help me decode exception in GAE hosted JSP page with JSTL localization?</p>\n\n<p>It works on dev server but fails in production so I can't really debug it. I tried googling for it too.</p>\n\n<p>Exception doesn't give me meaningful information :(</p>\n\n<pre><code>java.io.NotSerializableException: javax.servlet.jsp.jstl.fmt.LocalizationContext\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1180)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:346)\n    at java.util.HashMap.writeObject(HashMap.java:1018)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n\n<p>JSP page is very simple:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ page import=\"com.google.inject.Injector\" %&gt;\n&lt;%@ page import=\"com.mine.courierApp.server.Ofy\" %&gt;\n&lt;%@ page import=\"com.mine.courierApp.server.model.Order\" %&gt;\n&lt;%@ page import=\"com.mine.courierApp.server.model.DatastoreObject\" %&gt;\n&lt;%@ page import=\"com.googlecode.objectify.Key\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;c:if test=\"${lang == null}\"&gt;\n    &lt;fmt:setBundle basename=\"com.mine.courierApp.server.Strings\" var=\"lang\" scope=\"session\"/&gt;\n&lt;/c:if&gt;\n&lt;c:if test=\"${param.lang != null}\"&gt;\n    &lt;fmt:setLocale value=\"${param.lang}\"/&gt;\n    &lt;fmt:setBundle basename=\"com.mine.courierApp.server.Strings\" var=\"lang\" scope=\"session\"/&gt;\n&lt;/c:if&gt;\n&lt;%\n    String orderId = request.getParameter(\"id\");\n\n    Injector inj = (Injector) application.getAttribute(Injector.class.getName());\n    Ofy ofy = inj.getInstance(Ofy.class);\n\n    Key&lt;DatastoreObject&gt; key = Key.create(orderId);\n    Order order = (Order) ofy.load(key);\n    if (order != null)\n        application.setAttribute(\"stateId\", \"OrderState.\" + order.getState().name());\n%&gt;\n&lt;fmt:message key=\"StateOfOrderMsg\" bundle=\"${lang}\"/&gt;\n&lt;b&gt;&lt;fmt:message key=\"${stateId}\" bundle=\"${lang}\"/&gt;&lt;/b&gt;\n&lt;br/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","google-app-engine","task-queue"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":11135861,"title":"queue.yaml not working in App engine (development)","body":"<p>I'm trying to use \"queue.yaml\" to define queues in a Google App Engine app (Java version).</p>\n\n<pre><code> queue:\n - name: default\n   rate: 5/s\n - name: availableTicketsAlert\n   rate: 5/s\n - name: billingReminder\n   rate: 5/s\n - name: cseIndexing\n   mode: pull\n</code></pre>\n\n<p>When I try to see if they've been created correctly in this URL: /_ah/admin/taskqueue, I only see \"default\" queue.</p>\n\n<p>Instead, If I try to create the using with the XML file all works correctly (queue.xml):</p>\n\n<pre><code>&lt;queue-entries&gt;\n&lt;queue&gt;\n    &lt;name&gt;default&lt;/name&gt;\n    &lt;rate&gt;5/s&lt;/rate&gt;\n&lt;/queue&gt;\n&lt;queue&gt;\n    &lt;name&gt;availableTicketsAlert&lt;/name&gt;\n    &lt;rate&gt;5/s&lt;/rate&gt;\n&lt;/queue&gt;\n&lt;queue&gt;\n    &lt;name&gt;billingReminder&lt;/name&gt;\n    &lt;rate&gt;5/s&lt;/rate&gt;\n&lt;/queue&gt;\n&lt;/queue-entries&gt;\n</code></pre>\n\n<p>Any ideas of what I'm doing wrong?</p>\n\n<p>Do I have to update them manually with: appcfg.py update_queues myapp/ or something like that?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13094844,"title":"Check if query returns anything in App Engine?","body":"<p>I have this code:</p>\n\n<pre><code>    q = db.GqlQuery(\"SELECT * FROM UserData WHERE user_id = :1\", current_user.user_id())\n    user_data = q.get()\n\n    if not user_data:\n        logging.error('a')\n        user_data = UserData(user_id = current_user.user_id(),\n                             primary_email = current_email\n                             )\n        user_data.put()\n    else:\n        logging.error(pprint.pprint(user_data))\n</code></pre>\n\n<p>It is logging \"None\" because it's running the else. Shouldn't \"None\" be caught by the \"if not user_data\"?</p>\n"},{"tags":["google-app-engine","freebase"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13094929,"title":"Add FreeBase API fails in Eclipse Juno","body":"<p>I have a new Google App Engine project (1.7.3) and want to add the FreeBase API through the GPE tooling --> Add Google APIs.</p>\n\n<p>I have an older project where I succesfully downloaded the API which resulted in this classpath entry:</p>\n\n<pre><code>&lt;classpathentry kind=\"con\" path=\"com.google.gdt.eclipse.managedapis.MANAGED_API_CONTAINER/freebase-v1r10lv1.7.2-beta\"/&gt;\n</code></pre>\n\n<p>The .log of eclipse tells me this:</p>\n\n<pre><code>MESSAGE IO error while downloading http://api-directory.googleapis.com/5935/download-apiary/freebase/v1?lang=java&amp;dependencies=1\n!STACK 0\njava.io.IOException: Server returned HTTP response code: 502 for URL: http://api-directory.googleapis.com/5935/download-apiary/freebase/v1?lang=java&amp;dependencies=1\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at java.net.URL.openStream(Unknown Source)\n    at com.google.gdt.eclipse.core.jobs.DownloadRunnable.run(DownloadRunnable.java:81)\n    at com.google.gdt.eclipse.managedapis.platform.ManagedApiInstallJob.run(ManagedApiInstallJob.java:190)\n    at com.google.gdt.eclipse.managedapis.ui.ApiImportWizard$2.execute(ApiImportWizard.java:145)\n    at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:106)\n</code></pre>\n\n<p>When I try to access the URL with a browser a also get a 502 error.</p>\n\n<p>I tried adding another API, the books API, and that went fine, but I want to use the FreeBase API.\nI am getting the error for both the preferred and sandbox options that are available in the API list.</p>\n"},{"tags":["python","google-app-engine","nose"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13094791,"title":"How do I set a user for unit tests using NoseGAE and GAEtestbed?","body":"<p>To test my Google App Engine applications, I'm using nosegae, and gaetestbed.  This seems to cover a lot of bases.  I'd now like to create a test where users.get_current_user() returns a fake user of my choice.  Ideally, I could change this from test to test independently.</p>\n\n<p>The documentation at <a href=\"https://developers.google.com/appengine/docs/python/tools/localunittesting\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/tools/localunittesting</a> introduces google.appengine.ext.testbed which can do it.  And the thread at <a href=\"http://stackoverflow.com/questions/6229773/google-app-engine-set-up-a-user-when-using-testbed\">Google App Engine set up a user when using testbed</a> shows one way to do it.</p>\n\n<p>The part I'm having trouble with is figuring out how to combine google.appengine.ext.testbed with nosegae and gaetestbed.  It seems that nosegae and gaetestbed are already setting up the stubs and so on for me.  And I know that gaetestbed is taking care of things like clearing the test datastore for me between tests.  Do they setup a testbed object that I should find and call setup_env() on?  Or should I create my own testbed object?  Or would that conflict with nosegae and/or gaetestbed?  Or maybe there's a way built into nosegae and gaetestbed which will help me do this type of thing?  I've been searching documentation and the web to no avail so far.</p>\n\n<p>Anyone know what the simplest/cleanest way to do this type of testing is?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":275,"score":2,"question_id":9226261,"title":"How to iterate over all request headers in webapp RequestHandler using python?","body":"<p>I need to iterate over all request header objects and print it in App Engine. I get error when trying to use for cycle. How to do that correctly?</p>\n\n<pre><code>class MainHandler(webapp.RequestHandler):\n    def get(self):\n        for e in self.request.headers:\n            self.request.headers(e + \"&lt;br /&gt;\")\n</code></pre>\n\n<p>I get error: <code>AttributeError: EnvironHeaders instance has no __call__ method</code></p>\n"},{"tags":["django","google-app-engine","gae-datastore","file-transfer","blobstore"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":352,"score":2,"question_id":5916143,"title":"Using Django's admin interface to upload large file to GAE","body":"<p>I've been trying to find a way to upload a large file to GAE's datastore using Django's admin interface, but haven't found an answer that specifically addresses this issue. I'm fairly new to Python/Django, so there might be an angle that I'm not looking at.</p>\n\n<p>I've been looking at the <a href=\"http://www.allbuttonspressed.com/projects/django-filetransfers\" rel=\"nofollow\">django-filetransfers</a> solution, but I'm not sure how to integrate that into the admin interface. Any suggestions would be great!</p>\n"},{"tags":["java","google-app-engine","gwt","google-cloud-endpoints"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":139,"score":5,"question_id":12993093,"title":"Google AppEngine: What is SystemServiceServlet and its relation to the _ah directory?","body":"<p>Similar to <a href=\"http://stackoverflow.com/questions/12796589/how-to-disable-systemserviceservlet-configuration-in-app-engine-project\">this</a> question, I'm interested in what this <code>SystemServiceServlet</code> even is, and what it's relationship is to the <code>/_ah/spi/</code> directory I see in the autogenerated web.xml.</p>\n\n<p>What purpose do these serve? Why/when are the necessary? Thanks in advance!</p>\n"},{"tags":["google-app-engine","google-code"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13092852,"title":"GAE's JRE Whitelist is not rendered correctly on Google Code","body":"<p><a href=\"https://developers.google.com/appengine/docs/java/jrewhitelist\" rel=\"nofollow\">The Google App Engine JRE whitelist</a> is not rendered correctly on the Google Code site. Is someone working on fixing this?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":50,"score":-3,"question_id":13089633,"title":"Where to post ops support questions for GAE?","body":"<p>stackoverflow Mod just closed down an ops support request as non-programming. Fair from the stackoverflow perspective.</p>\n\n<p>It's just that Google has dumped support for GAE  on stackoverflow.\n<a href=\"https://groups.google.com/group/google-appengine-java\" rel=\"nofollow\">https://groups.google.com/group/google-appengine-java</a>\nStruck me as odd, but I thought they'd be on the same page with stackoverflow for it. Apparently not. </p>\n\n<p>So where does the (disenchanted!) user of GAE turn for ops support?!</p>\n"},{"tags":["java","google-app-engine","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13090722,"title":"how to convert java web application for deploying on Google App Engine","body":"<p>I have created java web application using struts2 in tomcat server in eclipse. I wanted to deploy it in Google App Engine after created it. so I installed google app engine plugin for eclipse and convert the project for deplyoing on Google App Engine using below method</p>\n\n<p>right click on the project</p>\n\n<p>Google ->App Engine Settings</p>\n\n<p>tic on the box \"Use Google App Engine\"</p>\n\n<p>after that when I tried to deploy it. it forced me to enter Application ID. When I entered application Id that I created using www.appengine.google.com site, eclipse says </p>\n\n<pre><code>Cannot set application ID (appengine-web.xml is missing)\n</code></pre>\n\n<p>error. should I create that xml manually or can I create that automatically? if I ahould create it manually what are the steps to do it.  </p>\n"},{"tags":["java","google-app-engine","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12970880,"title":"Why Google app engine throwing persistence exception","body":"<p>I am writing a web application using java on the Google app engine. Everything was working ok cause I had deployed and run the application numerous times. After I updated my jdk 7 to update 6 (had a lower version of jdk 7) and deployed it I started getting a 500 Http response code (internal server error). When I check the logs a:</p>\n\n<pre><code> Uncaught exception from servlet\njavax.persistence.PersistenceException: Provider error. Provider: org.datanucleus.store.appengine.jpa.DatastorePersistenceProvider \n    at javax.persistence.Persistence.createFactory(Persistence.java:176)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:112)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:66)\n</code></pre>\n\n<p>I am using the jpa datanucleus version 1 because I need support for the jersey framework which was giving some incompatibility issues. I don't know what is causing this problem cause I haven't changed anything in my code since the last deployment that worked. Help please!!!!</p>\n"},{"tags":["java","eclipse","google-app-engine","hot-deploy"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":758,"score":4,"question_id":1242712,"title":"Does Google App Engine Java support Hot Deployment in Eclipse?","body":"<p>It doesn't seem to do this by default, which is pretty shocking to me given all the other stuff they've set up to make development easy. Is there a way to enable this? If not, anybody know why it isn't supported?</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13081421,"title":"python, Django related to sendinf pdf using urrlib2","body":"<p>I am working on Django, python and app engine, Can anyone please tell me hoe to send a pdf file to a url using urllib2,(file is InMemoryUploadedFile).  I know there is a question in SOF for sending data using urllib2 with the data being in JSON format..But here I want to send a InMemoryUploadedFile which is a pdf uploaded file from html page. Thanks in advance...</p>\n"},{"tags":["java","google-app-engine","gae-datastore","eventual-consistency","gae-ds-transactions"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":80,"score":6,"question_id":12784441,"title":"GAE HDR: Are entity retrievals by key eventually consistent within a XG transaction?","body":"<p>Consider the second example in \"Uses for Transactions\" (\"update an entity with a named key, or create it if it doesn't yet exist\"):</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/java/datastore/transactions\">https://developers.google.com/appengine/docs/java/datastore/transactions</a></p>\n\n<p>Now consider this scenario. A multiplayer game allows only a single match between any two players. To ensure that, a key is created using each of the player's keys. This key is used as the key of a UniqueMatch entity.</p>\n\n<p>So in order to create a match, a XG transaction is created. Within this transaction:</p>\n\n<ol>\n<li><p>We check if there isn't a UniqueMatch entity with that key already. If a datastore.get() call using that key does not throw EntityNotFoundException, then we know that a match between those two players already exists, so we rollback() and show an error message to the players.</p></li>\n<li><p>We put() all entities we need to put in order to create a match. This includes the UniqueMatch entity, plus some other few entities.</p></li>\n<li><p>The transaction is then committed.</p></li>\n</ol>\n\n<p>This seems to work fine. However, I noticed I can create two matches between any two players within a short time window. For a small period of time (up to 10-20s in one of the tests, actually), my calls to datastore.get(key) throw EntityNotFoundException even though that key has already been put().</p>\n\n<p>This seems to be eventual consistency. But aren't entity retrivals <strong>by key</strong> guaranteed to be strongly consistent? Is this guarantee affected by the fact that this is done within a XG transaction?</p>\n\n<p>Thanks in advance,</p>\n"},{"tags":["java","google-app-engine","struts2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13081945,"title":"java.security.AccessControlException: access denied when reading XML in GAE","body":"<p>I'm trying to access a XML from my java code and It says access denied\nhere is the code snippet</p>\n\n<pre><code>try {\n        // loading the xml file which will have all languages details\n\n        final FileInputStream fXmlFile = new FileInputStream(\"D:/WorkSpace/GAE/GSTWebApp/war/WEB-INF/GSTTranslationstest.xml\");\n\n        if (!(fXmlFile == null))\n        {System.out.print(\"Exists\");}\n\n    }\n</code></pre>\n\n<p>It is throwing exception in FileInputStream\nand the stack trace is ::</p>\n\n<pre><code>    java.security.AccessControlException: access denied (java.io.FilePermission D:\\WorkSpace\\GAE\\GSTWebApp\\war\\WEB-INF\\GSTTranslationstest.xml read)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:374)\n    at java.security.AccessController.checkPermission(AccessController.java:546)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)\n    at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:289)\n    at java.lang.SecurityManager.checkRead(SecurityManager.java:871)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:101)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:67)\n    at com.gst.user.utils.GlobalLangTranslations.loadLanguageSettings(GlobalLangTranslations.java:27)\n    at com.gst.user.action.UnsubscribeAction.unsubscribeUser(UnsubscribeAction.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n    at java.util.ArrayList.RangeCheck(ArrayList.java:547)\n    at java.util.ArrayList.get(ArrayList.java:322)\n    at com.gst.user.action.UnsubscribeAction.unsubscribeUser(UnsubscribeAction.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)\n    at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\n    at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>I have XML at correct location\nAny help is appreciated\nthanks in advance!</p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13080503,"title":"GAE, JDO: Add, Move & Delete entities of ordered list","body":"<p>Hi i have a parent entity say A which has list of child entities say List&lt;B&gt; children.</p>\n\n<p>I need the order of child entities to be maintained since its important for my application.</p>\n\n<p>The way i have done it is using:\n<a href=\"https://developers.google.com/appengine/docs/java/datastore/jdo/relationships#Owned_One_to_Many_Relationships\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/datastore/jdo/relationships#Owned_One_to_Many_Relationships</a></p>\n\n<p>How Ordered Collections Maintain Their Order.</p>\n\n<p><code>\n@Persistent</p>\n\n<p>@Element(dependent = \"true\")</p>\n\n<p>@Order(extensions = @Extension(vendorName=\"datanucleus\", key=\"list-ordering\", value=\"index ASC\"))</p>\n\n<p>private List objects;\n</code></p>\n\n<p>Now i add to list using:</p>\n\n<p><code>\nnewObj.setIndex(0);</p>\n\n<p>for (int i = 0; i &lt; objList.size(); i++) {</p>\n\n<p>objList.get(i).setIndex(i + 1);</p>\n\n<p>}</p>\n\n<p>objList.add(newObj);\n</code></p>\n\n<p>Move using:</p>\n\n<p><code>\nif (direction.equalsIgnoreCase(\"up\")) {</p>\n\n<p>objList.get(index).setIndex(index - 1);</p>\n\n<p>objList.get(index - 1).setIndex(index);</p>\n\n<p>}</p>\n\n<p>else if (direction.equalsIgnoreCase(\"down\")) {</p>\n\n<p>objList.get(index).setIndex(index + 1);</p>\n\n<p>objList.get(index + 1).setIndex(index);</p>\n\n<p>}\n</code></p>\n\n<p>And delete using:</p>\n\n<p><code>\nfor (int i = index + 1; i &lt; objList.size(); i++) {</p>\n\n<p>objList.get(i).setIndex(i - 1);</p>\n\n<p>}</p>\n\n<p>objList.remove(index);\n</code></p>\n\n<p>Is this the right way to do it? Add &amp; Move seem to work. But Delete behaves weirdly. Random objs get deleted and the list is in completely inconsistent state!</p>\n\n<p>GAE: 1.7.2</p>\n\n<p>DataNucleus Enhancer (version 3.1.0.m2)</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13082503,"title":"Resolved failed! Google app engine","body":"<p>I've deployed my java application on GAP. in jsp i connect to external database hosted on somee.com. I successfully loaded the sqljdbc4.jar but when i connect to database i got the following error</p>\n\n<pre><code>java.lang.RuntimeException: Resolve failed: Request=LibraryProject.mssql.somee.com Exception=java.net.SocketException: Socket operation timed out: The API call remote_socket.Resolve() took too long to respond and was cancelled.\n</code></pre>\n\n<p>I put the driver inside the lib folder and use the following code to connect to database</p>\n\n<pre><code>Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\nString conURL=\"jdbc:sqlserver://LibraryProject.mssql.somee.com\";\nConnection con=DriverManager.getConnection(conURL,\"mrquack\",\"complete1\");\n</code></pre>\n\n<p>the code looks fine and works well on localhost and gives the above error on appengine\nplease tell me a solution</p>\n"},{"tags":["java","google-app-engine","jpa","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13066019,"title":"GAE Datastore generate String key with JPA","body":"<p>Since it isn't possible to use only Long Ids I am trying to use the generated String keys. I have three Classes <code>User</code>, <code>Topic</code>, <code>Comments</code> with <code>User</code> - 1:n - <code>Topic</code> - 1:n -<code>Comments</code>. </p>\n\n<p><strong>Class Comment:</strong></p>\n\n<pre><code>@Entity\npublic class Comment implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Extension(vendorName = \"datanucleus\", key = \"gae.encoded-pk\", value = \"true\")\n    private String key;\n    @ManyToOne\n    private User author;\n    @ManyToOne\n    private Topic topic;\n</code></pre>\n\n<p><strong>Class User:</strong></p>\n\n<pre><code>@Entity\npublic class User implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Extension(vendorName = \"datanucleus\", key = \"gae.encoded-pk\", value = \"true\")\n    private String key;\n\n    @Unique\n    private String username;\n</code></pre>\n\n<p><strong>Class Topic:</strong></p>\n\n<pre><code>@Entity\npublic class Topic implements Serializable{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Extension(vendorName=\"datanucleus\", key=\"gae.encoded-pk\", value=\"true\")\n    private String key;\n    @ManyToOne(cascade = CascadeType.ALL)\n    private User author;\n    @OneToMany(cascade = CascadeType.ALL)\n    private List&lt;Comment&gt; comments;\n</code></pre>\n\n<p>Now when I am trying to save a new User, the following exception occurs </p>\n\n<pre><code>Invalid primary key for User.  Cannot have a null primary key field if the field is unencoded and of type String.  Please provide a value or, if you want the datastore to generate an id on your behalf, change the type of the field to Long. \n</code></pre>\n\n<p>Is it possible to let the String ID get generated without manually using the KeyFactory? If yes whats wrong with my code?</p>\n\n<p>thanks</p>\n"},{"tags":["google-app-engine","webserver","memcached"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13061371,"title":"How can memcache be used in a social network context?","body":"<p>I know this is a very vague question, but I'm looking for a very abstract answer. Since I started using GAE a few months ago, I've always shrugged off memcache as not useful and an uncessessary hassle, that it's really not that important. But it seems that memcache is praised as a highly beneficial feature, that Google even says \"High performance scalable web applications often use a distributed in-memory data cache in front of or in place of robust persistent storage for some tasks.\", and so I thought that there must be something worth looking into about this. </p>\n\n<p>I just don't get it. How is it good for performance? First you have to check if something is in memcache, and if not, query. I always thought it would just be quicker to not have to deal with that, and just query anyway, but it seems this may be a naive approach? How much of a difference does this make?</p>\n\n<p>I guess what I never understood is where memcache is useful. I can see how it can be useful in say the Stackoverflow home page, where all users pretty much see the same thing, so it would be useful, in fact silly not to use memcache in a situation like that. But say a social network like Facebook. Every user sees something different. No two people see the same data and content, and things change so fast that memcache would probably constantly need to be updated. What role can memcache play in such a scenario?</p>\n\n<p>Also, in a private website like a social network, how much can memcache really fit if every user has to store different information in memcache? I know GAE doesn't speak of the size of its memcache, so would it be safe to store hundreds of thousands of records?</p>\n"},{"tags":["python","google-app-engine","memcached"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":833,"score":2,"question_id":2512571,"title":"Idiots guide to app engine and memcache","body":"<p>I am struggling to find a good tutorial or best practices document for the use of memcache in app engine.  </p>\n\n<p>I'm pretty happy with it on the level presented in the docs.  Get an object by ID, checking memcache first, but I'm unclear on things like:</p>\n\n<p>If you cache a query, is there an accepted method for ensuring that the cache is cleared/updated when an object stored in that query is updated.</p>\n\n<p>What are the effects of using ReferenceProperties ? If a cache a Foo object with a Bar reference.  Is my foo.bar in memcache too and in need of clearing down if it gets updated from some other part of my application.</p>\n\n<p>I don't expect answers to this here (unless you are feeling particularly generous!), but pointers to things I could read would be very gratefully received.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13075877,"title":"How to change Python logging format in Google App Engine globally for SDK/Production?","body":"<p>How to change logging format in Google App Engine with some global settings in Development or Production server. Current logging format is not much usable in some case as above since not allow to locate code which emit messages.</p>\n\n<p>I want to to change this format in Development server do something showing source location for <strong>init</strong>.py from:</p>\n\n<pre><code>DEBUG    2012-10-25 21:09:11,717 __init__.py:135] google, test@example.com\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>DEBUG    2012-10-25 21:09:11,717 parentDirectory/__init__.py:135] google, test@example.com\n</code></pre>\n\n<p>In production I want change it from:</p>\n\n<pre><code>DEBUG    2012-10-25 21:09:11,717 google, test@example.com\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>DEBUG    2012-10-25 21:09:11,717 parentDirectory/__init__.py:135] google, test@example.com\n</code></pre>\n\n<p>Please suggest some global configurationloader - if not possible I could place in in every script but it waste of time I think - help if you know some solution to solve this problem. I was search many pages but not find solution.</p>\n"},{"tags":["java","android","google-app-engine","openfire","smack"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":68,"score":3,"question_id":12998360,"title":"Patterns for building chat application with XMPP","body":"<p>I built an Android application with Google App Engine Server. Now I want to add simple chat to my app. And I have some questions.</p>\n\n<ul>\n<li><p>My users registered with theirs desired email domains like hotmail.com, yahoo.com and even more esoteric domains, thats mean that I need to create JID for them? if so is Google App engine provide JID creations with my app domain that i can manipulate?</p></li>\n<li><p>I read that Google App Engine act as XMPP client so I need Xmpp Server that can receive and send XMPP messages. So why do I GAE for? is Openfire is my answer? can I integrate Openfire with GAE?</p></li>\n<li><p>I Also read that if I want to use XMPP in GAE and Android in need aSmack Api for my client and that it is working on HTTP. So I guess that I'll need to poll the server for messages every couple seconds. Is there a better pattern?</p></li>\n</ul>\n"},{"tags":["python","google-app-engine","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13078892,"title":"In webapp2, how can I get a list of all route URIs?","body":"<p>I have a typical WSGI application like so:</p>\n\n<pre><code>app = webapp2.WSGIApplication([\n    ('/site/path/one',     'package.module.ClassOne'),\n    ('/site/path/two',     'package.module.ClassTwo'),\n    ('/site/path/three',   'package.module.ClassThree'),\n])\n</code></pre>\n\n<p>I would like to be able to retrieve the list of routes later in my application, say for example, in ClassOne:</p>\n\n<pre><code>class ClassOne(webapp2.RequestHandler):\n    def get(self):\n        print ''' list of routes (e.g. '/site/path/one', '/site/path/two', etc.) '''\n</code></pre>\n"},{"tags":["python","google-app-engine","python-2.7","session-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12737008,"title":"Google App Engine - Getting Sessions working with Python 2.7","body":"<p>First of all, I'm brand new to GAE, so its possible I'm doing this the wrong way - but I've used PHP before and session was how I kept persistent data. I'm using Python 2.7 because that is what I use for all my other Python development - although I'm beginning to wonder if downgrading to 2.5 might be a valid solution, if not an ideal one. </p>\n\n<p>The scenario is that I'm building a proof-of-concept site, and I need to have a 'dummy' login button that simply sets a session variable called <strong>'user'</strong> with a value of <strong>'admin'</strong>.  I then want to check in the navigation template to see if the variable is set, and if so I'll add some extra menu commands.  Very simple.  <em>(Note: I KNOW this isn't secure, sensible or anything that should be done - the problem is that session is not working, not what I'm doing with it - I'm doing a couple of other things in the code using session - none of them are working when deployed)</em></p>\n\n<p>It seems there are a few different session libraries for GAE with Python and I tried the one that was most widely recommended in Google searches - <a href=\"http://gaeutilities.appspot.com/\" rel=\"nofollow\">gaeutilities</a>, but this caused errors and wouldn't work (I eventually stumbled across <a href=\"http://stackoverflow.com/questions/2652820/error-on-windows-using-session-from-appengine-utilities\">this post</a> to explain that its just not compatible with Python 2.7).  A little more searching led me to <a href=\"http://www-personal.umich.edu/~csev/books/gae/files/util.zip\" rel=\"nofollow\">this</a> library from appenginelearn.com which I dropped in and it worked perfectly... until I deployed it - then it just does nothing.  I'd love some pointers or advice as to why this might be failing.  Here is the relevant code that I'm using:</p>\n\n<p>I put the util library directory from appenginelearn.com in the root of the application directory, then imported Session:</p>\n\n<pre><code>from util.sessions import Session\n</code></pre>\n\n<p>Then I added the Login and Logout classes:</p>\n\n<pre><code>class LogIn(webapp2.RequestHandler):\n    def get(self):\n        self.session = Session()\n        self.session['user'] = 'admin'\n        # Return the user to the page they logged in from\n        referer = self.request.environ['HTTP_REFERER'] \\\n                if 'HTTP_REFERER' in self.request.environ \\\n                else '/'\n        self.redirect(referer)\n\nclass LogOut(webapp2.RequestHandler):\n    def get(self):\n        self.session = Session()\n        self.session.delete_item('user')\n        self.redirect('/')\n</code></pre>\n\n<p>And the following (awful) code in the main class (this will be done for all pages in the demo)</p>\n\n<pre><code>class MainPage(webapp2.RequestHandler):\n    def get(self):\n        self.session = Session()\n        logging.info('Main page fired up')\n        if 'user' in self.session:\n            user = self.session['user']\n        else:\n            user = None\n\n        template_values = {\n            'user': user\n            }\n        template = jinja_environment.get_template('main.html')\n        self.response.out.write(template.render(template_values))\n</code></pre>\n\n<p>And then this in the HTML template file</p>\n\n<pre><code>  {% if user %}\n      &lt;p&gt;Welcome, {{user}}&lt;/p&gt;\n  {% endif %}\n</code></pre>\n\n<p>And the errors in the log:</p>\n\n<pre><code>2012-10-04 02:51:28.084 /login 302 143ms 0kb Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4\n*ip address removed* - - [04/Oct/2012:02:51:28 -0700] \"GET /login HTTP/1.1\" 302 136 \"*site-removed*\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4\" \"*site-removed*\" ms=144 cpu_ms=0 cpm_usd=0.000015 instance=*instance removed*\n**I** 2012-10-04 02:51:28.080\nCreating session session-*session number removed*\n**E** 2012-10-04 02:51:28.084\nSet-Cookie: appengine-simple-session-sid=*session number removed*; Path=/\n</code></pre>\n"},{"tags":["java","google-app-engine","xmpp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13005587,"title":"Possibilities of running a custom XMPP server on GAE","body":"<p>I've been using GAE XMPP however and have tried working with external XMPP server like OpenFire. </p>\n\n<p>However, what are the possibilities of running a XMPP Server module inside of GAE, something that works around the limitation of opening sockets and threads. </p>\n\n<p>I'm trying to search the web but can't find any information if this was ever been done before in the App Engine platform. I know GAE XMPP API is cool, but there is a requirement that I need not to use that API, but still bound to use GAE platform. Much like we don't use the UserService API of GAE.</p>\n"},{"tags":["google-app-engine","oauth","python-2.7","linkedin"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13078066,"title":"AppEngine-OAuth-Library LinkedIn - Grant more permissions","body":"<p>I use the <a href=\"https://github.com/mikeknapp/AppEngine-OAuth-Library/blob/master/oauth.py\" rel=\"nofollow\">AppEngine-OAuth-Library</a> to get user information from LinkedIn, but how do I grant for more permissions than the default basic profile.</p>\n\n<p>The LinkedInClient class has this constructer:</p>\n\n<pre><code>OAuthClient.__init__(self,\n    LINKEDIN,\n    consumer_key,\n    consumer_secret,\n    \"https://api.linkedin.com/uas/oauth/requestToken\",\n    \"https://api.linkedin.com/uas/oauth/accessToken\",\n    callback_url)\n</code></pre>\n\n<p>I have tried this instead:</p>\n\n<p><a href=\"https://api.linkedin.com/uas/oauth/requestToken?scope=r_basicprofile+r_emailaddress\" rel=\"nofollow\">https://api.linkedin.com/uas/oauth/requestToken?scope=r_basicprofile+r_emailaddress</a></p>\n\n<p>But it gives an Internal Server Error, when I make a request. It works perfect with the default basicprofile request. Some ideas on what is wrong?</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["javascript","python","html","google-app-engine","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13076763,"title":"How to pass a URL parameter in with HTML/Javascript","body":"<p>I have a section on a webapp where the user can search a map for a set of locations and it all works properly but I want the text of the location to show up in the URL so that the user can copy it and share it and it will be the same search.</p>\n\n<p>What is the best way to do this and can I do it with HTML or do I need to use Javascript?  I am using jinja2 as a templating engine and I am doing the back end in Python but that shouldn't have a big impact on this.  Basically I want them to be able to search for \"New York City, NYC\" and I want it to show up in the URL as something like </p>\n\n<p><code>www.url.com/map?location=new%20york%20city%20nyc</code></p>\n"},{"tags":["python","google-app-engine","expando"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":286,"score":2,"question_id":6339032,"title":"App engine - check to see if a property exists within Expando class","body":"<p>What is a good way to check to see if a property is populated in an expando class (Python for App Engine)</p>\n\n<p>Can I do:</p>\n\n<pre><code>if Expando_class_name.property_name_to_check:\n    do = someStuff\n</code></pre>\n\n<p>Or is that going to give me an error?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","google-app-engine","https","keystore","urlfetch"],"answer_count":0,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":103,"score":8,"question_id":13042461,"title":"Loading a custom key store in Google App Engine Java application","body":"<p>I want to open a <strong>HTTPS</strong> connection in a Google App Engine app using the <a href=\"https://developers.google.com/appengine/docs/java/urlfetch/overview\">URLFetch</a> service. To be able <strong>to verify the SSL certificate of the server my app is talking to, I am using my own keystore file</strong>. I want to read this file in a <a href=\"https://developers.google.com/appengine/docs/java/config/appconfig#Warmup_Requests\">warmup request</a> when my app is loaded i.e. before any HTTPS requests are performed. The keystore file is part of my WAR file.</p>\n\n<pre><code>TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());  \nKeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\nkeystore.load(ClassLoader.getSystemResourceAsStream(\"myKeystoreFile\"), \"password\".toCharArray());  \ntrustManagerFactory.init(keystore);  \n\nTrustManager[] trustManagers = trustManagerFactory.getTrustManagers();  \nSSLContext sslContext = SSLContext.getInstance(\"SSL\");  \nsslContext.init(null, trustManagers, null);  \n\nHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n\n<p>I cannot use this approach, however, because while HttpURLConnection is on the GAE's JRE whitelist, HttpsUrlConnection is not.</p>\n\n<p>Is there another way to use a custom keystore in GAE? I did not find any information on this in the GAE docs. <strong>It looks like while Google's URLFetch service supports HTTPS, the keystore cannot be customized.</strong> Is this correct?</p>\n\n<p>If this isn't possible, is the approach still valid in general? Or <strong>is there a different approach that does still allow me to verify the SSL certificate?</strong></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In 2009, App Engine developer Nick Johnson from Google said on <a href=\"https://groups.google.com/d/topic/google-appengine-python/C9RSDGeIraE/discussion\">https://groups.google.com/d/topic/google-appengine-python/C9RSDGeIraE/discussion</a>:</p>\n\n<blockquote>\n  <p>The urlfetch API doesn't allow you to specify your own client \n  certificates, so unfortunately what you want to achieve is not \n  currently possible.</p>\n</blockquote>\n\n<p><strong>Is this still correct?</strong> If every HTTP(s) request in App Engine relies on URLFetch this would mean that custom certificates just cannot be used at all in GAE.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12994091,"title":"Using Google App Engine Proxy server to fetch RestFull webservices","body":"<p>Hi im new to Google App Engine and I am trying to create a proxy server who can return RestFull data like xml and json responses from a remote server.</p>\n\n<p>I want the webservices to answer requests from only a single IP adress and that's why i want to create a proxy server with Google App Engine. I tried that <a href=\"http://www.openlogic.com/wazi/bid/188080/Google-Web-Toolkit-and-Web-Services-The-XML-Way\" rel=\"nofollow\">solution</a></p>\n\n<p>But the remote calls to my Google App Server are Asynchronous so by the time the webservices answer to my Google App server, the Google App Server have already answer requests of my devices which have no data in it.</p>\n\n<p>I have tried many solutions with python but i am not able to make them work.</p>\n\n<p>If you have any questions, let me know</p>\n\n<p>Thanks,</p>\n\n<p><img src=\"http://i.stack.imgur.com/RtB5p.jpg\" alt=\"Architecture\"></p>\n"},{"tags":["java","android","eclipse","google-app-engine","wizard"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":373,"score":2,"question_id":11321142,"title":"Google Plugin for Eclipse not working","body":"<p>wow.. some of my dreams just got true :) Great Tools! Still I've got a problem with it. I've got a pretty fresh install of <code>eclipse 4.2</code> + <code>Android Development Tools 20</code> + <code>Google App Engine Tools for Android 3.0.1</code> + <code>Google Plugin for Eclipse 4.2 3.0.1</code></p>\n\n<p>When I create a new clean Android Project and try to \"generate app engine backend\" I get an error and a lot of missing dependencies and code.. Error message is useless and console tells me everything worked</p>\n\n<p>Error: <code>Error in Generating Backend Project</code></p>\n\n<p>Console: <code>DataNucleus Enhancer (version 1.1.4) : Enhancement of classes\nDataNucleus Enhancer completed with success for 1 classes. Timings : input=80 ms, enhance=44 ms, total=124 ms. Consult the log for full details</code></p>\n\n<p>In my Create Wizard I also don't have the option for <code>App Engine Connected Android Project</code></p>\n\n<p>I double checked I've got all dependencies freshly installed via \"Install new Software\"</p>\n\n<p>Link to Installed Software: <a href=\"http://sharetext.org/EFS2\" rel=\"nofollow\">http://sharetext.org/EFS2</a></p>\n\n<p>I had the same Problem with Eclipse 3 and deleted it and made this new fresh install of Eclipse 4.2</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13067001,"title":"App Engine + objectify: the filter class not found","body":"<p>I've added objectify to my project (confirmed it's working properly), but I also tried adding the filter mapping in web.xml as is recommended <a href=\"http://code.google.com/p/objectify-appengine/wiki/Setup\" rel=\"nofollow\">here</a>, but I'm getting this error:</p>\n\n<pre><code>WARNING: EXCEPTION \njava.lang.ClassNotFoundException: com.googlecode.objectify.ObjectifyFilter\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at com.google.appengine.tools.development.IsolatedAppClassLoader.loadClass(IsolatedAppClassLoader.java:207)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.mortbay.util.Loader.loadClass(Loader.java:91)\n    at org.mortbay.util.Loader.loadClass(Loader.java:71)\n    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:73)\n    at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:81)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:202)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:248)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:157)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:333)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:269)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:245)\nOct 25, 2012 10:45:33 AM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: failed ObjectifyFilter: javax.servlet.UnavailableException: com.googlecode.objectify.ObjectifyFilter\nOct 25, 2012 10:45:33 AM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: Failed startup of context com.google.appengine.tools.development.DevAppEngineWebAppContext@1acaf0ed{/,C:\\Users\\mshaham\\eclipse\\test2510\\war}\njavax.servlet.UnavailableException: com.googlecode.objectify.ObjectifyFilter\n    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:79)\n    at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:81)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:202)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:248)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:157)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:333)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:269)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:245)\n</code></pre>\n\n<p>I'm using the latest objectify with GAE 1.7.2 on eclipse</p>\n"},{"tags":["google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13061368,"title":"Accessing the underlying Google Cloud Storage object from GAE createUploadUrl","body":"<p>I am trying to store user photo uploads in Google Cloud Storage but running into issues with the call: </p>\n\n<pre><code>blobStoreService.createUploadUrl(...)\n</code></pre>\n\n<p>I need to track which user Id is associated with the uploaded file.  If the user's ID is 1234, I need to store that as metadata on the Cloud Storage file.</p>\n\n<p>I can add metadata when I create the Cloud Storage file directly:</p>\n\n<pre><code>GSFileOptionsBuilder optionsBuilder = new GSFileOptionsBuilder()\n    .setBucket(\"myBucket\")\n    .setKey(key) // path...\n    .addUserMetadata(\"userId\", \"1234\");\n</code></pre>\n\n<p>But I really want to use the GAE provided BlobStoreService.createUploadUrl(...) because it supports larger files than this code above can handle.  Is it at all possible to specify metadata with the createUploadUrl?  Or is it even possible to find out which google storage key/filename is created?  </p>\n\n<hr>\n\n<p><strong>Update</strong>\nI already have the blobKey from the upload callback serlvet.  However, I can't find a way to add metadata to the <em>Google Storage</em> file assocated with this blobKey.  At least locally, it thinks it is a BlobStore entry, not a GS file   </p>\n\n<pre><code>    // get the key:\n    Map&lt;String, List&lt;BlobKey&gt;&gt; blobKeysFromPost=BlobstoreServiceFactory.getBlobstoreService().getUploads(request);\n\n    // pull out the blobKey generated from the recently submitted POST\n    BlobKey blobKey = ... \n\n    // Now how do I access the cloud storage entry for this key?  I tried:\n    AppEngineFile file = FileServiceFactory.getFileService().getBlobFile(blobKey);\n\n    // But this file locally returns \"blobstore\":\n    file.getFileSystem().getName(); // Should be GS.\n</code></pre>\n"},{"tags":["google-app-engine","google-apps"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":95,"score":3,"question_id":12969886,"title":"Changing domain of Google App Engine website, but keeping all data","body":"<p>This thing has been keeping me busy for days.</p>\n\n<p>Here's the situation:</p>\n\n<p>I have a website already running on Google App Engine, let's say it is accesible through www.olddomain.com, and users with a google account ending with @olddomain.com have access to the site.</p>\n\n<p>The authentication options are set to Google Apps, and I have a Google Apps account for olddomain.com</p>\n\n<p>No I want to change the website to www.newdomain.com, I want to keep all data and I also want the users to keep their personal data.</p>\n\n<p>I have found a way to change the user accounts from user@olddomain.com to user@newdomain.com</p>\n\n<p>When users aren't logged in to my website, they are redirected to a Google login page, with '@olddomain.com' automatically put after the textbox where they can fill in their account name.</p>\n\n<p>Here is the question:</p>\n\n<p>Is there any way to change the text '@olddomain.com' to '@newdomain.com' on the Google login page, keeping in mind that I want to keep all my data, including all personal data of the users, and that the user accounts change from user@olddomain.com to user@newdomain.com?</p>\n\n<p>Basically, I want to change 'olddomain.nl' to 'newdomain.nl' in the screenshot below:\n<img src=\"http://i.stack.imgur.com/XO1co.png\" alt=\"Screenshot of problem\"></p>\n"},{"tags":["google-app-engine","struts2","file-permissions","accesscontrolexception"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":58,"score":1,"question_id":13062722,"title":"appengine struts 2.3.4.1 error (struts trying to reload server)","body":"<p>I'm facing this problem on my struts 2.3.4.1 AppEngine 1.7.2 (GAE) project. It seems that struts is trying to reload the server and it's forbidden by appEngine.</p>\n\n<p>I've googled this issue but only found struts2.1.8 version error fixing changing by struts2.1.6.</p>\n\n<p><strong>web.xml:</strong></p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" version=\"2.5\"&gt;\n&lt;display-name&gt;LifeMusic&lt;/display-name&gt;\n\n&lt;filter&gt;\n  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n  &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n   &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;   \n\n&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;home.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>libs on WEB-INF/lib:</strong></p>\n\n<blockquote>\n  <p>appengine-api-1.0-sdk-1.7.2.1.jar<br/> appengine-api-labs.jar<br/>\n  appengine-api-labs-1.7.2.1.jar<br/> appengine-endpoints.jar<br/>\n  appengine-jsr107cache-1.7.2.1.jar<br/>\n  commons-fileupload-1.2.2.jar<br/> commons-io-2.0.1.jar<br/>\n  commons-lang3-3.1.jar<br/> datanucleus-appengine-1.0.10.final.jar<br/>\n  datanucleus-core-1.1.5.jar<br/> datanucleus-jpa-1.1.5.jar<br/>\n  freemarker-2.3.19.jar<br/> geronimo-jpa_3.0_spec-1.1.1.jar<br/>\n  geronimo-jta_1.1_spec-1.1.1.jar<br/> gwt-servlet.jar<br/>\n  javassist-3.11.0.GA.jar<br/> jdo2-api-2.3-eb.jar<br/>\n  jsr107cache-1.1.jar<br/> log4j-1.2.15.jar<br/> mail.jar<br/>\n  ognl-3.0.5.jar<br/> struts2-core-2.3.4.1.jar<br/>\n  xwork-core-2.3.4.1.jar<br/></p>\n</blockquote>\n\n<p><strong>stacktrace error:</strong></p>\n\n<pre><code>java.security.AccessControlException: access denied (\"java.io.FilePermission\" \"jar:file:\\G:\\Proyectos\\LifeMusic\\war\\WEB-INF\\lib\\struts2-core-2.3.4.1.jar\" \"read\")&lt;br/&gt;\nat java.security.AccessControlContext.checkPermission(AccessControlContext.java:366)&lt;br/&gt;\nat java.security.AccessController.checkPermission(AccessController.java:555)&lt;br/&gt;\nat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)&lt;br/&gt;\nat com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:289)&lt;br/&gt;\nat java.lang.SecurityManager.checkRead(SecurityManager.java:888)&lt;br/&gt;\nat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:205)&lt;br/&gt;\nat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:144)&lt;br/&gt;\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:152)&lt;br/&gt;\nat java.util.jar.JarFile.&lt;init&gt;(JarFile.java:89)&lt;br/&gt;\nat com.opensymphony.xwork2.util.fs.JarEntryRevision.needsReloading(JarEntryRevision.java:36)&lt;br/&gt;\nat com.opensymphony.xwork2.util.fs.DefaultFileManager.fileNeedsReloading(DefaultFileManager.java:68)&lt;br/&gt;\nat com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.needsReload(XmlConfigurationProvider.java:346)&lt;br/&gt;\nat org.apache.struts2.config.StrutsXmlConfigurationProvider.needsReload(StrutsXmlConfigurationProvider.java:169)&lt;br/&gt;\nat com.opensymphony.xwork2.config.ConfigurationManager.needReloadContainerProviders(ConfigurationManager.java:203)&lt;br/&gt;\nat com.opensymphony.xwork2.config.ConfigurationManager.conditionalReload(ConfigurationManager.java:177)&lt;br/&gt;\nat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:72)&lt;br/&gt;\nat org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:901)&lt;br/&gt;\nat org.apache.struts2.dispatcher.ng.PrepareOperations.createActionContext(PrepareOperations.java:78)&lt;br/&gt;\nat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:78)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)&lt;br/&gt;\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)&lt;br/&gt;\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)&lt;br/&gt;\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)&lt;br/&gt;\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)&lt;br/&gt;\nat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)&lt;br/&gt;\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;\nat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)&lt;br/&gt;\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;\nat org.mortbay.jetty.Server.handle(Server.java:326)&lt;br/&gt;\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;\nat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)&lt;br/&gt;\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)&lt;br/&gt;\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)&lt;br/&gt;\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;br/&gt;\n</code></pre>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13069773,"title":"can i store the OAuthSerice object in jdo","body":"<p>Hi please check my code i got \n2012-10-25 18:22:17.803</p>\n\n<p>com.cloudcodes.ErrorHandler errorHandler: Exception message : org.scribe.oauth.OAuth10aServiceImpl</p>\n\n<p>W 2012-10-25 18:22:17.804</p>\n\n<p>com.cloudcodes.ErrorHandler errorHandler: Error in class LinkedInCallBackUrl</p>\n\n<p>W 2012-10-25 18:22:17.804</p>\n\n<p>com.cloudcodes.ErrorHandler errorHandler:<br>\n java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)</p>\n\n<p>W 2012-10-25 18:22:17.804</p>\n\n<p>com.cloudcodes.ErrorHandler errorHandler:<br>\n java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:363)</p>\n\n<p>this error<br>\n        OAuthService  service = new ServiceBuilder()\n              .provider(LinkedInApi.class)\n              .apiKey(\"jfih0cg6ihc1\")\n               .apiSecret(\"nFxDxjA4T6jgq5JD\").scope(\"r_network rw_nus\")\n                 .callback(\"http://mygbuddy.appspot.com/DisplayConnections.jsp\")\n                 .build();\n        Token requestToken=service.getRequestToken();\n        HttpSession session=req.getSession();</p>\n\n<pre><code>    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ObjectOutputStream oos = new ObjectOutputStream(bos);\n    oos.writeObject(service);\n    byte[] oauthobject = bos.toByteArray();\n    String oauth=new String(oauthobject);\n    String tokenvalue=requestToken.getToken();\n    String tokenSecert=requestToken.getSecret();\n</code></pre>\n\n<p>and i am store those details in jdo by using my bean class</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12977110,"title":"Modify a Google App Engine entity id?","body":"<p>I'm using Google App Engine NDB. Sometimes I will want to get all users with a phone number in a specified list. Using queries is extremely expensive for this, so I thought I'll just make the id value of the User entity the phone number of the user so I can fetch directly by ids.</p>\n\n<p>The problem is that the phone number field is optional, so initially a User entity is created without a phone number, and thus no value for id. So it would be created <code>user = User()</code> as opposed to <code>user = User(id = phone_number)</code>. </p>\n\n<p>So when a user at a later point decides to add a phone number to his account, is there anyway to modify that User entity's id value to the new phone number?</p>\n"},{"tags":["google-app-engine","google-maps"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":51,"score":-1,"question_id":13066265,"title":"check point if exist in polygon","body":"<p>here is my code :</p>\n\n<pre><code>var posmark = markerarr[\"535413\"].getPosition();\nconsole.log(posmark);\n// **Console.log** ▲\n   Ya: 41.64272\n   Za: 41.65764999999999\n// \n\nvar posshp = poli_arr.s1; \nconsole.log(posshp);\n// **Console.log** ▲\n Zl: yo\n __e3_: Object\n __gm_id: 252\n b: null\n center: P\n fillColor: \"#FF0000\"\n fillOpacity: 0.35\n gm_accessors_: Object\n map: null\n radius: 100\n strokeColor: \"#FF0000\"\n strokeOpacity: 0.8\n strokeWeight: 2\n __proto__: c\n//\n\n var res = google.maps.geometry.poly.containsLocation(posmark, posshp);\n console.log(res);\n//**Console.log** ▲\nUncaught TypeError: Cannot call method 'getLength' of undefined\n\n// \n</code></pre>\n\n<p>where is broblem? i cant fix it...  i want check marker if exist in polygon zone. if anybody knows better way for checking markers into poligon radius please replay me how i can do this better. thanks</p>\n"},{"tags":["google-app-engine","django-forms","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13062141,"title":"Google App Engine render and Django forms","body":"<p>I'm trying to use Django forms in my Google App Engine project, using the template system.  However I can't figure out how to get forms to be rendered properly.  When calling form.as_p () from python code I get the expected html,</p>\n\n<pre><code>&lt;p&gt;&lt;label for=\"id_name\"&gt;Name:&lt;/label&gt; &lt;input type=\"text\" name=\"name\" id=\"id_name\" /&gt;&lt;/p&gt;\n</code></pre>\n\n<p>yet when calling form.as_p from the template I instead get</p>\n\n<pre><code>&amp;lt;p&amp;gt;&amp;lt;label for=&amp;quot;id_name&amp;quot;&amp;gt;Name:&amp;lt;/label&amp;gt; &amp;lt;input type=&amp;quot;text&amp;quot; name=&amp;quot;name&amp;quot; id=&amp;quot;id_name&amp;quot; /&amp;gt;&amp;lt;/p&amp;gt;\n</code></pre>\n\n<p>Here is my render method</p>\n\n<pre><code>def render(self, name, **data):\n    \"\"\"Render a template\"\"\"\n    if not data:\n        data = {}\n    self.response.out.write(template.render(\n        os.path.join(\n            os.path.dirname(__file__), 'templates', name + '.html'),\n        data))\n</code></pre>\n\n<p>Render method being called:</p>\n\n<pre><code>form = PostForm()\nself.render('toplevel', parent=user, items=user.establishments(), form=form)\n</code></pre>\n\n<p>And finally the template:</p>\n\n<pre><code>{% block content %}\n\n    {{ form.as_p }}\n\n{% endblock content %}\n</code></pre>\n"},{"tags":["google-app-engine","google-plugin-eclipse"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":32,"score":-3,"question_id":13068096,"title":"Google App Engine, Eclipse, sun.security.validator.ValidatorException PKIX path building failed valid certification path to requested target","body":"<p>Recently I been bugged by this issue in Eclipse &amp; Google App Engine, the error when you try to signin to Google Plugin for Eclipse you will receive this error, some of the solutions would be to try Manual connection set in Eclipse -> General - Network Connections, but it didn't resolve my problem the reason: My company acting as Certificate Authority (CA) they have added   it into browser through automation, but JDK left unattended, so this is for people having same difficulty, getting this error, </p>\n\n<p>sun.security.validator.ValidatorException: PKIX path building failed: valid certification path to requested target</p>\n\n<p>First try to login to <a href=\"https://accounts.google.com\" rel=\"nofollow\">https://accounts.google.com</a> see who signed the certificate in the browser then get the certificate through IE Options and add it to your JVM/JDK as trusted certificate(s) below is the command </p>\n\n<blockquote>\n  <p>%JRE_PATH%\\bin\\keytool -keystore ..\\lib\\security\\cacerts -storepass\n  changeit -import -trustcacerts -v -alias *your_alias* -file\n  *path_to_exported_certificate*</p>\n</blockquote>\n"},{"tags":["google-app-engine","jpa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13057239,"title":"GAE ConcurrentModificationException while commiting","body":"<p>I'm testing a GAE application with JPA deployed on localhost with jetty provided by the SDK (version 1.7.1).\nAt every commit the framework raise a ConcurrentModificationException, but the object persist in the datastore.\nThere's something I'm doing wrong? Tnx in advance</p>\n\n<hr>\n\n<ul>\n<li>appengine-api-1.0-sdk-1.7.1</li>\n<li>datanucleus-api-jpa-3.1.2</li>\n<li>datanucleus-core-3.1.2 </li>\n<li>datanucleus-appengine-2.1.0-final </li>\n</ul>\n\n<hr>\n\n<pre><code>Transaction failed to commit\norg.datanucleus.transaction.NucleusTransactionException: Transaction failed to commit\n    at org.datanucleus.TransactionImpl.commit(TransactionImpl.java:365)\n    at it.gustaff.core.PlaceRService.createPlace(PlaceRService.java:91)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\n    at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\n    at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\n    at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\n    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n    at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\n    at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\n    at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\n    at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\n    at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.util.ConcurrentModificationException\n    at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)\n    at java.util.AbstractList$Itr.next(AbstractList.java:343)\n    at com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection.close(DatastoreConnectionFactoryImpl.java:146)\n    at org.datanucleus.store.connection.ConnectionManagerImpl$2.transactionCommitted(ConnectionManagerImpl.java:296)\n    at org.datanucleus.TransactionImpl.internalPostCommit(TransactionImpl.java:577)\n    at org.datanucleus.TransactionImpl.commit(TransactionImpl.java:354)\n    ... 51 more\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;persistence-unit name=\"appengine-transactions-optional\"&gt;\n    &lt;provider&gt;org.datanucleus.api.jpa.PersistenceProviderImpl&lt;/provider&gt;\n    &lt;class&gt;it.gustaff.data.Place&lt;/class&gt;\n    &lt;properties&gt;\n        &lt;property name=\"datanucleus.NontransactionalRead\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.NontransactionalWrite\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.singletonEMFForName\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.ConnectionURL\" value=\"appengine\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>public Place createPlace(Place p){\n\n    EntityManager entityManager = EMF.get().createEntityManager();\n    entityManager.getTransaction().begin();\n    //avoid to persist a Place with an Id already set\n    p.setId(null);\n    entityManager.persist(p);\n    ExecutionContext ec = (ExecutionContext) entityManager.getDelegate();\n    ec.getTransaction().commit();\n    entityManager.close();\n    return p;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@Entity\npublic class Place {\n\n    private String name;\n    private String description;\n    private String address;\n\n    //omitted other getter/setter\n\n    private com.google.appengine.api.datastore.Key id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Key getId() {\n        return id;\n    }\n\n    public void setId(Key id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["c#","asp.net","google-app-engine","google-calendar","google-tasks-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13066363,"title":"Error: redirect_uri_mismatch","body":"<p>when i try to access google calendar or tasks api from my application in PRD it throws the following error:</p>\n\n<p>The redirect URI in the request: <a href=\"http://MyApp.com/ManageEvents.aspx\" rel=\"nofollow\">http://MyApp.com/ManageEvents.aspx</a> did not match a registered redirect URI</p>\n\n<p>Learn more\nRequest Details</p>\n\n<pre><code>scope=https://www.googleapis.com/auth/calendar\nresponse_type=code\naccess_type=online\nredirect_uri=http://MyApp.com/ManageEvents.aspx\ndisplay=page\nclient_id=8827312348664.apps.googleusercontent.com\n</code></pre>\n\n<p>The thing is that i have registered <a href=\"http://www.MyApp.com/ManageEvents.aspx\" rel=\"nofollow\">http://www.MyApp.com/ManageEvents.aspx</a> under my \"Redirect URI's\" in the app engine/console but i still get the error message. the worst part is that when i tested it a day ago it worked, then i test it now and it doesnt. it seems to work on some machines and not others. what gives?</p>\n\n<p>any response would be most welcome.\ncheers.</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13059452,"title":"Create datastore index on the fly in google app engine (java)","body":"<p>Is it possible to create an index in the production datastore on the fly?  I would like to do some queries on data that can have properties added dynamically.    </p>\n"},{"tags":["python","google-app-engine","gae-datastore","dashboard","datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13064320,"title":"Google App Engine only shows one Entity in the Datastore Viewer. How do I make it show all of my Entities?","body":"<p>When I go to the Google App Engine dashboard to see the data stored in my created entities, it doesn't show all of my entities.  Is there something that I need to do to view my missing entity?</p>\n\n<p>As an example, here's a simplified version of my code.</p>\n\n<pre><code>from google.appengine.ext import db\n\nclass ClassOne (db.Model):\n  someVar = db.StringProperty()\n\nclass ClassTwo (db.Model):\n  someOtherVar = db.IntegerProperty()\n</code></pre>\n\n<p>In the datastore viewer, ClassOne is shown in the drop-down but ClassTwo is not.  Do I need to separate each model into its own file?  This is working locally, with the datastore viewer from the Launcher, in both these ways.</p>\n\n<ul>\n<li>Both entities are listed in the dropdown.</li>\n<li>I have the someOtherVar being incremented when a user clicks a button.  The number has indeed been </li>\n</ul>\n\n<p>In production, I can't see whether users clicked such a button because the entities aren't shown in the Dashboard's Datastore Viewer.</p>\n\n<p>When I try running a GQL query from the dashboard, I also get \"No results in Empty namespace.\" as a return value.</p>\n\n<pre><code>SELECT * FROM ClassTwo # returns empty\n</code></pre>\n\n<p>Alternately, if this sort of behavior has its roots in some bug that isn't reported as an error or thrown as an exception, please feel free to bring that up!  I can direct my attention to debugging each component of my script instead of trying to search from some mysterious syntax or setup solution.</p>\n"},{"tags":["python","google-app-engine","quoted-printable"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13019629,"title":"How to properly decode Quoted Printable encoding in Django HTML Template","body":"<p>I have a Google app engine in python form submit that POSTS text to a server, and the text gets encoded with the encoding Quoted Printables.\nMy code for POSTing is this:</p>\n\n<pre><code>&lt;form action={{ upload_url }} method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;div class=\"sigle-form\"&gt;&lt;textarea name=\"body\" rows=\"5\"&gt;&lt;/textarea&gt;&lt;/div&gt;\n&lt;div class=\"sigle-form\"&gt;&lt;input name=\"file\" type=\"file\" /&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then the result of the fetching  <code>self.request.get('body')</code> will be encoded with the encoding Quoted Printables. I store this in text DB.textProperty() and later sends the text to a HTML template using Django. When i write out the variable using <code>{{ body }}</code>, the result is written with Quoted printable encoding, and it does not seem that there is a way of decoding this in the Django HTML template.\nIs there any way of encoding the text in the body thats sent on another way than with Quoted Printables? If not, how to decode this encoding in the Django HTML template? </p>\n\n<p>The result for submiting the text \"ÅØÆ\" is encoded to \" xdjG \", so the sum of the Quoted Prinables are somehow added togheter as well. This happens when more than one special character are present in the encoded text. An ordinary \"ø\" is encoded to =F8.</p>\n\n<p>EDIT: I get this problem only in production, and <a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine-java/-NWqbsdsSKc\" rel=\"nofollow\">this thread</a> seems to talk about the same problem. </p>\n\n<p>If anyone else here on Stack Overflow are doing form submit with blobs and åæøè characters, please respond to this thread on how you have solved it!</p>\n"},{"tags":["google-app-engine","internationalization"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":30,"score":-2,"question_id":13063539,"title":"multilingual in google app engine","body":"<p>I am developing a google app engine application, where i want to use multilingual concepts, i.e., browser automatically detects language and displays labels according to language.</p>\n\n<p>Using python runtime,</p>\n\n<p>I have read many post on stackoverflow, but i am not getting how to do that.</p>\n\n<p>I am new to google app engine.</p>\n\n<p>I hope some one will have a simple solution for this.</p>\n"},{"tags":["google-app-engine","object","put"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13049181,"title":"AttributeError: 'Message' object has no attribute 'put'","body":"<p>The following code:</p>\n\n<pre><code>class Message(db.Model):\n    content = db.StringProperty()\n\n\nclass Message(webapp2.RequestHandler):\n\n    def get(self):\n        doRender(self,'message.htm')\n\n    def post(self):\n\n        message = Message()\n        message.content = self.request.get('content')\n        message.put();\n        self.redirect('/view') \n</code></pre>\n\n<p>gives me the error message below:</p>\n\n<pre><code>AttributeError: 'Message' object has no attribute 'put'\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","google-app-engine","struts2","resourcebundle"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":228,"score":1,"question_id":11622815,"title":"Resource Bundle in Google-App-Engine (Struts2)","body":"<p>Im using Struts2 in Google App Enginge.</p>\n\n<p>In <code>global.properties</code> file, I have:</p>\n\n<pre><code>MESSAGE_SUBJECT = A user sent you a message.\n</code></pre>\n\n<p>In Struts.xml, I have:</p>\n\n<pre><code>&lt;constant name=\"struts.custom.i18n.resources\" value=\"global\" /&gt;\n</code></pre>\n\n<p>If I have <code>getText(\"MMESSAGE_SUBJECT\");</code> in Action, i got the following error:</p>\n\n<pre><code>    com.opensymphony.xwork2.util.logging.commons.CommonsLogger error: Could not reload resource bundles\n    java.lang.SecurityException: java.lang.IllegalAccessException: Reflection is not allowed on private static final java.util.concurrent.ConcurrentMap java.util.ResourceBundle.cacheList\n        at com.google.appengine.runtime.Request.process-1e718b9b5c84cbb1(Request.java)\n        at java.lang.reflect.Field.setAccessible(Field.java:166)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.clearMap(LocalizedTextUtil.java:836)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.reloadBundles(LocalizedTextUtil.java:794)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.reloadBundles(LocalizedTextUtil.java:780)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.findDefaultText(LocalizedTextUtil.java:205)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.getDefaultMessage(LocalizedTextUtil.java:654)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.findText(LocalizedTextUtil.java:534)\n        at com.opensymphony.xwork2.util.LocalizedTextUtil.findText(LocalizedTextUtil.java:362)\n        at com.opensymphony.xwork2.TextProviderSupport.getText(TextProviderSupport.java:202)\n        at com.opensymphony.xwork2.TextProviderSupport.getText(TextProviderSupport.java:117)\n        at com.opensymphony.xwork2.ActionSupport.getText(ActionSupport.java:102)\n        at dating.message.WinkAction.execute(WinkAction.java:57)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:43)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n        at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n        at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:510)\n        at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n        at org.mortbay.jetty.Server.handle(Server.java:326)\n        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n        at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:449)\n        at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:455)\n        at com.google.tracing.TraceContext.runInContext(TraceContext.java:695)\n        at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:333)\n        at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:325)\n</code></pre>\n\n<p>The error happens only when deployed, but in development environment, no problem at all.</p>\n\n<p>Any idea? Thanks.</p>\n"},{"tags":["google-app-engine","angularjs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":13055032,"title":"Authenticated app on appengine with angularjs","body":"<p>Setup:</p>\n\n<ul>\n<li>templates: angularjs (all statically served from app.yaml)</li>\n<li>api: json responses used by angularjs controllers to pull data from application</li>\n</ul>\n\n<p>The page content is served from a static file so it is not possible to use <a href=\"https://developers.google.com/appengine/docs/python/users/functions#create_login_url\" rel=\"nofollow\">users.create_login_url()</a>, <a href=\"https://developers.google.com/appengine/docs/python/users/functions#create_logout_url\" rel=\"nofollow\">users.create_logout_url()</a>, etc.</p>\n\n<p>How do you typically go about users logging in/out, figuring if user is logged in/out, user is admin on an application like this?</p>\n"},{"tags":["python","django","google-app-engine","queryset"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":72,"score":2,"question_id":12917270,"title":"Database error: Lookup type 'in' can't be negated","body":"<p>I am using Django framework, appengine database.</p>\n\n<p>My code for model is:</p>\n\n<pre><code>class Group(models.Model):\n    name = models.CharField(max_length=200)\n    ispublic = models.BooleanField()\n    logo = models.CharField(max_length=200)\n    description = models.CharField(max_length=200)\n    groupwebsite = models.CharField(max_length=200)\n    owner = models.ForeignKey('profile')\n\n\nclass Group_members(models.Model):\n    profile = models.CharField(max_length=200)\n    group = models.ForeignKey('group')\n</code></pre>\n\n<p>I am querying on <code>Group_members</code> to remove group. My query is as follows:</p>\n\n<pre><code>groups = Group_members.objects.filter(Q(profile=profile.id),~Q(group__in=group_id)\n</code></pre>\n\n<p>INFO:</p>\n\n<ol>\n<li><code>group_id = ['128','52']</code></li>\n<li><code>group</code> is a foreign key to group model</li>\n</ol>\n\n<p>My problem is when I run this query, it throws Database error: <code>Lookup type 'in' can't be negated</code>.</p>\n\n<p>I have also performed query using <code>__in</code> it worked fine but does not work for foreign key.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13061859,"title":"How to overcome when the control goes to https and the values are null","body":"<pre><code>class LinkedBean implements serialization\n  {\n     private OAtuthServie service;\n     private Token token;\n    //setter and getter methods\n   }\n myservlet:\n    service = new ServiceBuilder()\n        .provider(LinkedInApi.class)\n         .apiKey(\"ln835u1zgg0c\")\n         .apiSecret(\"I9Bz3lloYT8jlO6P\").scope(\"r_network rw_nus\")\n          .callback(\"http://mygbuddy.appspot.com/DisplayConnections.jsp\")\n           .build();\n       Token token=service.getRequestToken();\n      LinkedBean bean=new LinkedBean();\n    bean.setOauth(servie);\n    session.setAttribute(\"bean\",bean);\n</code></pre>\n\n<p>myjsp:</p>\n\n<pre><code>          &lt;%out.println(session.getAttribute(\"bean\"));%&gt;\n</code></pre>\n\n<p>Here also I got null value my LinkedBean implements serialization.</p>\n"},{"tags":["java","google-app-engine","jsp","servlets","google-cloud-storage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13059594,"title":"GAE - Google Cloud Storage - Upload (acl : read-public and get the public shared url)","body":"<p>The goal is to upload large file (video) and get the public shared url for them.</p>\n\n<p>Looks like it's pretty straightforward but i spend a bit more than one day going into the documentation and i didn't find any sample of that.</p>\n\n<p>I get the following code to make an upload to Google Store which works fine, but i would like to add the option in the url to make the acl of the file : \"public-read\". Either prior the upload in the jsp or after in the servlet.</p>\n\n<pre><code>&lt;%@ page import=\"com.google.appengine.api.blobstore.BlobstoreServiceFactory\" %&gt;\n&lt;%@ page import=\"com.google.appengine.api.blobstore.BlobstoreService\" %&gt;\n&lt;%@ page import=\"com.google.appengine.api.blobstore.UploadOptions\" %&gt;\n&lt;%\nBlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();\n\nString uploadUrl = blobstoreService.createUploadUrl(\"/ajax?act=user&amp;act2=video_upload\", UploadOptions.Builder.withGoogleStorageBucketName(\"vidaao\"));\n\n%&gt;\n\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Upload Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Upload v3&lt;/h1&gt;\n\n    &lt;form name=\"form1\" id=\"form1\" action=\"&lt;% out.print(uploadUrl); %&gt;\" method=\"post\" enctype=\"multipart/form-data\" target=\"upload_iframe\"&gt;\n    &lt;input type=\"hidden\" name=\"hiddenfield1\" value=\"ok\"&gt;\n    Files to upload:\n    &lt;br/&gt;\n    &lt;input type=\"file\" name=\"myFile\"&gt;\n    &lt;br/&gt;\n        &lt;button type=\"submit\"&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;iframe id=\"upload_iframe\" name=\"upload_iframe\"&gt;&lt;/iframe&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>Then in my servlet somewhere the redirect url ends there with the generation of the blobkey</p>\n\n<pre><code>public String upload(HttpServletRequest req, HttpServletResponse res) throws Exception{\n\n    Map&lt;String, BlobKey&gt; blobs = blobstoreService.getUploadedBlobs(req);\n    BlobKey blobKey = blobs.get(\"myFile\");\n\n    if (blobKey == null) {\n\n        throw new Exception(\"Error file not uploaded\");\n\n    }\n\n            //TODO: HERE get the public shared url of the file\n\n    return \" blob key = \" + blobKey.getKeyString();\n\n}\n</code></pre>\n\n<p>And at this step i would like to have the public shared url for the Google Cloud Storage, if it's possible.\n(I cannot serve the file through a servlet because it might time out)</p>\n"},{"tags":["query","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":13059763,"title":"Fetch a table from a url and store it in Google App Engine or Cloud Storage and using it with Big Query","body":"<p>I'm new to Google App Engine. Hope someone can help with my query.</p>\n\n<p>I want to scrap a table containing a stock's historical prices in Yahoo Finance or Google Finance using urlfetch and store it in Google Storage. Data needs to be refreshed regularly. </p>\n\n<p>I want to use BigQuery to query on prices on certain dates, find averages etc. similar to GoogleQuery in Google Apps. I have done this on Google Apps using Importhtml, ImportXml and GoogleQuery but I have concerns about filesize, execution limits etc. Hence, I want to migrate to Google App Engine.</p>\n"},{"tags":["java","google-app-engine","jsp","servlets","google-cloud-storage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13058489,"title":"GAE - Google Cloud Storage - Upload error 503","body":"<p>I got the following code in my jsp</p>\n\n<pre><code>&lt;%@ page import=\"com.google.appengine.api.blobstore.BlobstoreServiceFactory\" %&gt;\n&lt;%@ page import=\"com.google.appengine.api.blobstore.BlobstoreService\" %&gt;\n&lt;%@ page import=\"com.google.appengine.api.blobstore.UploadOptions\" %&gt;\n&lt;%\nBlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();\n\nString uploadUrl = blobstoreService.createUploadUrl(\"/test.jsp\", UploadOptions.Builder.withGoogleStorageBucketName(\"my_bucket\"));\n\n%&gt;\n\n&lt;%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Upload Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Upload v1&lt;/h1&gt;\n    &lt;form name=\"form1\" id=\"form1\" action=\"&lt;% out.print(uploadUrl); %&gt;\" method=\"post\" enctype=\"multipart/form-data\" target=\"upload_iframe\"&gt;\n    &lt;input type=\"hidden\" name=\"hiddenfield1\" value=\"ok\"&gt;\n    Files to upload:\n    &lt;br/&gt;\n    &lt;input type=\"file\" name=\"myFile\"&gt;\n    &lt;br/&gt;\n        &lt;button type=\"submit\"&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;iframe id=\"upload_iframe\" name=\"upload_iframe\"&gt;&lt;/iframe&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>i also set my bucket at public read like this:</p>\n\n<pre><code>python c:\\gsutil\\gsutil setacl public-read gs://my_bucket\n</code></pre>\n\n<p>My ACL file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" ?&gt;\n&lt;AccessControlList&gt;\n    &lt;Owner&gt;\n        &lt;ID&gt;00b4903a97dfaa16aff41eeb91e90b5fb524f1daf0d88fceca29b6f647412e8d&lt;/ID&gt;\n    &lt;/Owner&gt;\n    &lt;Entries&gt;\n        &lt;Entry&gt;\n            &lt;Scope type=\"GroupById\"&gt;\n                &lt;ID&gt;00b4903a97dfaa16aff41eeb91e90b5fb524f1daf0d88fceca29b6f647412e8d&lt;/ID&gt;\n            &lt;/Scope&gt;\n            &lt;Permission&gt;FULL_CONTROL&lt;/Permission&gt;\n        &lt;/Entry&gt;\n        &lt;Entry&gt;\n            &lt;Scope type=\"GroupById\"&gt;\n                &lt;ID&gt;00b4903a97d3721750cd84cf5e8be336cba9847dba5c2e4a1e88aa514db970d2&lt;/ID&gt;\n            &lt;/Scope&gt;\n            &lt;Permission&gt;FULL_CONTROL&lt;/Permission&gt;\n        &lt;/Entry&gt;\n        &lt;Entry&gt;\n            &lt;Scope type=\"GroupById\"&gt;\n                &lt;ID&gt;00b4903a97c265aa840305b07236a7ea78681916c9e63ab74c0deb237f60f05e&lt;/ID&gt;\n            &lt;/Scope&gt;\n            &lt;Permission&gt;READ&lt;/Permission&gt;\n        &lt;/Entry&gt;\n\n&lt;Entry&gt;\n   &lt;Scope type=\"UserByEmail\"&gt;\n      &lt;EmailAddress&gt;\n         my_app@appspot.gserviceaccount.com\n      &lt;/EmailAddress&gt;\n   &lt;/Scope&gt;\n   &lt;Permission&gt;\n      WRITE\n   &lt;/Permission&gt;\n &lt;/Entry&gt;\n\n    &lt;/Entries&gt;\n&lt;/AccessControlList&gt;\n</code></pre>\n\n<p>And now each time i upload i get a error: <code>503 Service Unavailable</code></p>\n"},{"tags":["python","google-app-engine","app-engine-ndb","djangoappengine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13058327,"title":"Google App Engine NDB custom key id","body":"<p>When I create an object with ndb's method put it creates the key automatically of the type Key(kind, id) where id is a number. All over the documentation it shows that you can use a string for the key's id but I couldn't find out how to do this automatically when an object is created. </p>\n\n<p>I have a User model and I was thinking to use the user's username (since its unique) as the key's id for faster retrieval. Is that even a good idea? Would I have any problems with the username since it's user submited (i'm validating the input)? </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13055135,"title":"in my project the control goes to http to https but in http i put the values in session but the control goes http the values are null","body":"<p>I am working with <code>googleapp</code>. In my project I fetch the connections from LinkedIn. It works fine locally, but when I deploy the <code>googleappengine</code> it does not work. My control goes from http to https(LinkedIn Login Page ) and at that time my session values are null please help me.</p>\n\n<pre><code>            OAuthService service = new ServiceBuilder()\n        .provider(LinkedInApi.class)\n         .apiKey(\"ln835u1zgg0c\")\n         .apiSecret(\"I9Bz3lloYT8jlO6P\").scope(\"r_network\")\n          .callback(\"http://mygbuddy.appspot.com/CallBackUrl.jsp\")\n           .build();\n\n\n        Token requestToken=service.getRequestToken();\n        HttpSession session=request.getSession();\n        session.setAttribute(\"service\", service);\n        session.setAttribute(\"requesttoken\", requestToken);\n\n\n              CallBackUrl.jsp\n            &lt;%\n                  out.println(session.getAttribute(\"service\"););\n\n\n                 %&gt;\n</code></pre>\n\n<p>in jsp i got null please help me</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13057167,"title":"Suddenly AppEngine \"Precompiling\" is so slow that deployment fails","body":"<p>I've been happily deploying my appengine app for the last two years in 5 or 10 minutes.  Today, the \"Precompiling\" step took 70 minutes, and at the end of it my oauth token had expired and the deployment couldn't complete.</p>\n\n<p>Right now, I'm 30 minutes into my second attempt and have 70 files left to go.  They're ticking by one by one.  No new files had to be uploaded this time, but it seems to start over with the precompiling.</p>\n\n<p>Any suggestions for reducing precompilation time?  Anyone know a related bug that would extend precompilation time so drastically?</p>\n"},{"tags":["java","google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13053987,"title":"Google Cloud Storage - App Engine Java - Create Upload Url","body":"<p>I see that there is a way to simply create an upload url like this in python</p>\n\n<pre><code>upload_url = blobstore.create_upload_url('/upload_handler', gs_bucket_name='my_bucket')\n</code></pre>\n\n<p>I would like to do exactly the same but in Java</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":287,"score":1,"question_id":10646461,"title":"Getting Error 404, application not found error when deploying to Google App Engine","body":"<p>I have a Java Application, using Eclipse plugin. When I try to upload, I get error:</p>\n\n<blockquote>\n  <p>com.google.appengine.tools.admin.HttpIoException: Error posting to URL: <a href=\"https://appengine.google.com/api/appversion/create?app_id=my_appname&amp;version=1&amp;\" rel=\"nofollow\">https://appengine.google.com/api/appversion/create?app_id=my_appname&amp;version=1&amp;</a><br>\n  404 Not Found<br>\n  This application does not exist (app_id=u'my_appname').</p>\n</blockquote>\n\n<p>Here, <code>my_appname</code> is the application id from my Google App Engine account. I have already checked the contents of <code>appengine-web.xml</code>, it looks fine:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n  &lt;application&gt;my_appname&lt;/application&gt;\n  &lt;version&gt;1&lt;/version&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n\n<p>Why am I getting this error and how can I fix my application?</p>\n"},{"tags":["google-app-engine","django-nonrel","django-1.4","djangoappengine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":13041145,"title":"App Engine 1.7.3: Need more info about Django 1.4 support","body":"<p>App Engine 1.7.3 was just announced, claiming \"Django 1.4 is now fully supported for Python 2.7\". Please provide more information. Is this referring to the django-nonrel source code on Github for 1.4 ?</p>\n"},{"tags":["python","google-app-engine","urlfetch"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":13051628,"title":"GAE - AppEngine - DeadlineExceededError: Deadline exceeded while waiting for HTTP response from URL:","body":"<p>I have a Google AppEngine application which runs great on my local machine. The app posts a image (from a url) to my facebook wall. However, when I deploy it to Google's servers, I get \nan error:</p>\n\n<pre><code>DeadlineExceededError: Deadline exceeded while waiting for HTTP response from URL: \n</code></pre>\n\n<p>The offending code is:</p>\n\n<pre><code>facebook_access_token = facebook_info['access_token']\n\nfacebook_post_url = 'https://graph.facebook.com/me/photos?access_token=%s&amp;url=%s&amp;name=%s&amp;method=post' % (facebook_access_token, url, caption)\nfacebook_post_url = facebook_post_url.replace(\" \", \"+\");\nfacebook_result = urlfetch.fetch(facebook_post_url)\n\nif facebook_result.status_code == 200:\n  facebook_result_object = json.loads(facebook_result.content) \n  output_ids['facebook'] = facebook_result_object['id']\nelse:\n  output_ids['facebook'] = ''\n</code></pre>\n\n<p>Ans the full error trace is:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/ext/webapp/_webapp25.py\", line 710, in __call__\n    handler.get(*groups)\n  File \"/base/data/home/apps/s~digibackapi/1.362663258877230387/main.py\", line 512, in get\n    facebook_result = urlfetch.fetch(facebook_post_url)\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/urlfetch.py\", line 266, in fetch\n    return rpc.get_result()\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 604, in get_result\n    return self.__get_result_hook(self)\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/urlfetch.py\", line 404, in _get_fetch_result\n    'Deadline exceeded while waiting for HTTP response from URL: ' + url)\nDeadlineExceededError: Deadline exceeded while waiting for HTTP response from URL: https://graph.facebook.com/me/photos?access_token=&lt;ACCESS_TOKEN&gt;&amp;url=http://digiback.cc/ej7&amp;name=Trees&amp;method=post\n</code></pre>\n\n<p>Again, the code looks solid to me, and it works ok on my local machine. Could it have something t do with timeouts? When I try the <code>facebook_post_url</code> in a browser, it returns instantly.</p>\n\n<p>Does anyone have any ideas? I am ata  complete loss here.</p>\n\n<p>Many thanks!</p>\n"},{"tags":["java","eclipse","google-app-engine","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13053385,"title":"How to make a jar file out of Google Appengine Java Project","body":"<p>I'm trying to create a runnable jar file from my google appengine java webapp. My goal is to make it run without using eclipse. I tried exporting it but it doesn't work. its looking for a main class, i think.</p>\n\n<p>Any help will be very much appreciated :)))</p>\n"},{"tags":["django","google-app-engine","google-cloud-sql"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":813,"score":3,"question_id":10473780,"title":"Support for Django 1.4 in google-app-engine","body":"<p>When can we expect support for django 1.4 in Google App Engine?</p>\n"},{"tags":["google-app-engine","jpa","map","persistent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13045994,"title":"How to persistent Map in JPA in GAE","body":"<p>I don't know why I can't persistent MAP in JPA in GAE</p>\n\n<pre><code>AnnualReport thatyear = ....... \nif (stud.getAnnualReport() == null){\n            Map&lt;Integer,AnnualReport&gt; temp = new HashMap&lt;Integer,AnnualReport&gt;();\n            temp.put(thatyear.getAttrKey(), thatyear);\n            stud.setAnnualReport(temp);\n        } else{\n            Map&lt;Integer,AnnualReport&gt; temp2 = stud.getAnnualReport();\n            temp2.put(thatyear.getAttrKey(), thatyear);\n            stud.setAnnualReport(temp2);\n        }\n\n        em.getTransaction().begin();\n        try {\n            em.persist(stud);\n            em.getTransaction().commit();\n        } finally {\n            if (em.getTransaction().isActive()) {\n                em.getTransaction().rollback();\n            }\n        }\n</code></pre>\n\n<p>Actually in http:// localhost :8888/_ah/admin/datastore I can see the thatyear has been persistent; However, I can never get them; or, stud.getAnnualReport() is always empty.</p>\n\n<pre><code>EntityManager em;\nem = EMF.get().createEntityManager();\nAnnualReport thatyear = stud.getAnnualReport().get(yearselected);\n</code></pre>\n\n<p>I really don't know what to do. Following is the relationship between Stud &amp; AnnualReport</p>\n\n<p>Stud</p>\n\n<pre><code>@Entity( name = \"Stud\")\npublic class Stud{\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Key studID;\n\nprivate String lastName = new String();\n\nprivate Map&lt;Integer,AnnualReport&gt;annualReport = new HashMap&lt;Integer,AnnualReport&gt;(20);\n@OneToMany(mappedBy=\"stud\",cascade = CascadeType.ALL) \n@MapKey(name = \"attrKey\") \n@Basic\npublic Map&lt;Integer, AnnualReport&gt; getAnnualReport() {\n\n        return annualReport;\n\n}\n</code></pre>\n\n<p>AnnualReport</p>\n\n<pre><code>@Entity( name = \"AnnualReport\")\npublic class AnnualReport  implements Serializable{\nprivate static final long serialVersionUID = 3581307841164176872L;  \n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Key annualReportID;\n\npublic int attrKey;\n@ManyToOne \nStud stud; \n\nprivate String attendSchoolNote;\n</code></pre>\n\n<p>I don't know what happens. Why I can't get those map information which are already persistent? </p>\n"},{"tags":["python","google-app-engine","webapp2","wtforms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13049515,"title":"Webapp2 + WTForms issue: How to pass values and errors back to user?","body":"<p>I am having a problem with webapp2 and wtforms. More specifically I have defined two methods in two different handlers, called:</p>\n\n<ul>\n<li><code>create</code>, which is a GET method listening to a specific route</li>\n<li><code>save</code>, which is a POST method listening to another route</li>\n</ul>\n\n<p>In the <code>save</code> method I validate my form and if fails, I want to redirect to the <code>create</code> method via the <code>redirect</code>_to method, where I can render the template with the form. Is this possible with any way? I found an example on how this can be done if the same handler with <code>get</code> and <code>post</code> methods, but is this possible in methods of different handlers? </p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["google-app-engine","android-gcm"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2755,"score":1,"question_id":11480916,"title":"Sender class - GCM Example - Java App engine","body":"<p>I use the google example (gcm-demo-appengine - <a href=\"http://developer.android.com/guide/google/gcm/demo.html\" rel=\"nofollow\">Google Demo</a>)</p>\n\n<p>but i think there may be some problems with google source code, when i run it, it throws </p>\n\n<blockquote>\n  <p><br/>java.lang.NoClassDefFoundError: com/google/android/gcm/server/Sender\n  <br/>at cloud.spam.filter.server.SendMessageServlet.newSender(SendMessageServlet.java:63)\n  <br/>at cloud.spam.filter.server.SendMessageServlet.init(SendMessageServlet.java:54)</p>\n</blockquote>\n\n<p>There is some problems with the sender class (seriously?)\n<br/>Can we replace sender class with something else? This is the first time I use GCM thus I have no idea how important sender class is and what it is used for.\n<br/>Thank you very much.</p>\n"},{"tags":["query","google-app-engine","gae-datastore","jdo"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":13030340,"title":"Substring searching of text in Google App Engine Datastore entity","body":"<p>I have been working on with Google App Engine. I have found problem with searching sub strings and few other operations. The javax.jdo.Query provides options to set filter as per the need. There are several filters available like contains, inequality operators but I couldn't find any that matches my need.</p>\n\n<p>I am unable to find methods for following:\nHow to set query filter to </p>\n\n<ol>\n<li>search for a substring</li>\n<li>search by regular expression</li>\n<li>search by ignore case</li>\n</ol>\n\n<p>Is any of the above 3 operations possible with JDO?</p>\n"},{"tags":["google-app-engine","blobstore","bottle"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13021255,"title":"Using bottle.py and blobstore GAE","body":"<p>I recently started using bottle and GAE blobstore and while I can upload the files to the blobstore I cannot seem to find a way to download them from the store.</p>\n\n<p>I followed the examples from the documentation but was only successful on the uploading part. I cannot integrate the example in my app since I'm using a different framework from webapp/2.</p>\n\n<p>How would I go about creating an upload handler and download handler so that I can get the key of the uploaded blob and store it in my data model and use it later in the download handler?</p>\n\n<p>I tried using the <code>BlobInfo.all()</code> to create a query the blobstore but I'm not able to get the key name field value of the entity.</p>\n\n<p>This is my first interaction with the blobstore so I wouldn't mind advice on a better approach to the problem.</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":71,"score":3,"question_id":13012418,"title":"Is it possible to track only slow requests with appstats?","body":"<p>Our application processes several dozens of requests per second and small portion of them takes significantly more time to process than others. We are interested to 'profile' those slow requests, however appstats seems to keep just small window of processed requests, so the ones we are interested in fades out very fast. Is it possible to configure appstats somehow to keep log of just requests taking more time than specified threshold ?</p>\n"},{"tags":["java","google-app-engine","google-api","google-api-java-client","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13030756,"title":"Google cloud storage file location in google app engine","body":"<p>I have used below code to write somthing to my file google cloud storage.</p>\n\n<pre><code>FileService fileService = FileServiceFactory.getFileService();\n    GSFileOptionsBuilder optionsBuilder = new GSFileOptionsBuilder()\n       .setBucket(BUCKETNAME)\n       .setKey(FILENAME)\n       .setMimeType(\"text/html\")\n       .setAcl(\"public_read\")\n       .addUserMetadata(\"myfield1\", \"my field value\");\n    AppEngineFile writableFile =\n         fileService.createNewGSFile(optionsBuilder.build());\n    // Open a channel to write to it\n     boolean lock = false;\n     FileWriteChannel writeChannel =\n         fileService.openWriteChannel(writableFile, lock);\n     // Different standard Java ways of writing to the channel\n     // are possible. Here we use a PrintWriter:\n     PrintWriter out = new PrintWriter(Channels.newWriter(writeChannel, \"UTF8\"));\n     out.println(\"The woods are lovely dark and deep.\");\n     out.println(\"But I have promises to keep.\");\n     // Close without finalizing and save the file path for writing later\n     out.close();\n     String path = writableFile.getFullPath();\n     // Write more to the file in a separate request:\n     writableFile = new AppEngineFile(path);\n     // Lock the file because we intend to finalize it and\n     // no one else should be able to edit it\n     lock = true;\n     writeChannel = fileService.openWriteChannel(writableFile, lock);\n     // This time we write to the channel directly\n     writeChannel.write(ByteBuffer.wrap\n               (\"And miles to go before I sleep.\".getBytes()));\n\n     // Now finalize\n     writeChannel.closeFinally();\n     resp.getWriter().println(\"Done writing...\");\n\n     // At this point, the file is visible in App Engine as:\n     // \"/gs/BUCKETNAME/FILENAME\"\n     // and to anybody on the Internet through Cloud Storage as:\n     // (http://storage.googleapis.com/BUCKETNAME/FILENAME)\n     // We can now read the file through the API:\n     String filename = \"/gs/\" + BUCKETNAME + \"/\" + FILENAME;\n     AppEngineFile readableFile = new AppEngineFile(filename);\n     FileReadChannel readChannel =\n         fileService.openReadChannel(readableFile, false);\n     // Again, different standard Java ways of reading from the channel.\n     BufferedReader reader =\n             new BufferedReader(Channels.newReader(readChannel, \"UTF8\"));\n     String line = reader.readLine();\n     resp.getWriter().println(\"READ:\" + line);\n\n    // line = \"The woods are lovely, dark, and deep.\"\n     readChannel.close();\n</code></pre>\n\n<p>seems its writing and then reading but when I check in the cloud storage area(using firefox) file hasnt been edited. any idea ?</p>\n"},{"tags":["google-app-engine","full-text-search"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":11910479,"title":"Substring type text search on google app engine","body":"<p>I see that google app engine has now added text search: <a href=\"https://developers.google.com/appengine/docs/python/search/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/search/overview</a></p>\n\n<p>Does this include searching for sub-strings within strings?</p>\n\n<p>The reason I ask is because I had previously written some code that would allow substring search for fields like names and phone numbers. For example, you could search for \"San\" and it would find results like \"Mike DaSantos\". This was awesome for stuff like auto-complete.</p>\n\n<p>I ran into problems with cost though because of the tremendous amount of write operations that this required. Each field that I did this for required roughly O((n*n+1)/2) write operations because it involved a write operation for each subset of letters in a string. This added up to a few dollars of app engine costs when it came to indexing phone numbers, names, e-mail addresses, and addresses for 6000 customers.</p>\n\n<p>I'm wondering if using the search API could provide this functionality for less cost?</p>\n\n<p>Thanks so much!</p>\n"},{"tags":["google-app-engine","eclipse-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13047260,"title":"Google App Engine Backend for Android Apps","body":"<p>Cant find the 'Generate App Engine Backend' option in the google plugin for eclipse.</p>\n\n<p>Has this been removed?? I am using a windows machine for development (I had heard that there was some problem with this option a few months back - has this been resolved)?</p>\n"},{"tags":["google-app-engine","google-maps-api-3"],"answer_count":4,"favorite_count":3,"up_vote_count":12,"down_vote_count":0,"view_count":7492,"score":12,"question_id":3212550,"title":"Google Geocoding API - REQUEST_DENIED","body":"<p>Apparently I do not need a 'Maps API key' to use the 'Google Geocoding API' according to:</p>\n\n<p><a href=\"http://code.google.com/apis/maps/documentation/geocoding/index.html\" rel=\"nofollow\">http://code.google.com/apis/maps/documentation/geocoding/index.html</a></p>\n\n<p>However, I obtain this:</p>\n\n<pre><code>{\n  \"status\": \"REQUEST_DENIED\",\n  \"results\": [ ]\n}\n</code></pre>\n\n<p>Does this mean that my IP is blocked? What can I do to overcome this? Thanks.</p>\n\n<p>Christian</p>\n"},{"tags":["google-app-engine","google-maps","google-maps-api-3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13042679,"title":"Parsing dictionary from GAE python to create marker objects in javascript / GMaps api","body":"<p>I'm not really after a specific answer, but pointed in the right direction. </p>\n\n<p>I've got some coorindates and names as a dictionary stored in a list sitting in GAE using python. I want to create some marker objects in google maps with this data. The problem is, I'm not quite sure how to go about this in a good way.</p>\n\n<p>This is an example of the data.\n[{'name': 'derp', 'lat': 123456, 'lng': 1234567}, {'name': 'hurp', 'lat': 431234123, 'lng': 453453453}]</p>\n\n<p>I was thinking that I would convert this list dict to something javascript-friendly, insert it directly into my javascript code as a variable and then for a for-loop over the following function with my list.</p>\n\n<pre><code>function addMarker(lat, lng, name){\n        var point = new google.maps.LatLng(lat, lng);\n        var marker = new google.maps.Marker({position: point,\n                                             map: map,\n                                             title: name\n                                            });\n\n}\n</code></pre>\n\n<p>Clear as mud?</p>\n\n<p>I'm almost certainly looking in the wrong direction, so throw any ideas at me.</p>\n"},{"tags":["python","google-app-engine","cron"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":85,"score":3,"question_id":13043034,"title":"Seting up a cron job in google app engine","body":"<p>I went to Google's site on <a href=\"https://developers.google.com/appengine/docs/python/config/cron\" rel=\"nofollow\">cron's</a> and it looks like I can not set a cron job to run Mon-Fri every 10min from 07:00 to 15:00. Therefore I have 2 questions:</p>\n\n<p>1) Can I have the cron job run every day, then have it not run on Sat and Sun, and then resume again on Mon-Fri?</p>\n\n<p>2) If I can't do the first option, is there a way to have a cron job quit automatically?</p>\n\n<p>Im am doing this in Python. If this isn't possible, is there a page I can look to for help?</p>\n"},{"tags":["python","google-app-engine","mapreduce","app-engine-ndb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13044753,"title":"AppEngine MapReduce NDB, Repeated InternalError: internal error","body":"<p>we're trying to heavily use <strong>MapReduce</strong> in our project. Now we have this problem, there is a lots of <strong>'InternalError: internal error.'</strong> errors in the log...</p>\n\n<p><strong>One example of it:</strong></p>\n\n<pre><code>    \"POST /mapreduce/worker_callback HTTP/1.1\" 500 0 \"http://appname/mapreduce/worker_callback\" \"AppEngine-Google; \n(+http://code.google.com/appengine)\" \"appname.appspot.com\" ms=18856 cpu_ms=15980 \nqueue_name=default task_name=appengine-mrshard-15828822618486744D69C-11-195 \ninstance=00c61b117c47e0cba49bc5e5c7f9d328693e95ce\nW 2012-10-24 06:51:27.140\nsuspended generator _put_tasklet(context.py:274) raised InternalError(internal error.)\nW 2012-10-24 06:51:27.153\nsuspended generator put(context.py:703) raised InternalError(internal error.)\nE 2012-10-24 06:51:27.207\ninternal error.\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1511, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~appname/1.362664407983567993/mapreduce/base_handler.py\", line 65, in post\n    self.handle()\n  File \"/base/data/home/apps/s~appname/1.362664407983567993/mapreduce/handlers.py\", line 208, in handle\n    ctx.flush()\n  File \"/base/data/home/apps/s~appname/1.362664407983567993/mapreduce/context.py\", line 333, in flush\n    pool.flush()\n  File \"/base/data/home/apps/s~appname/1.362664407983567993/mapreduce/context.py\", line 221, in flush\n    self.__flush_ndb_puts()\n  File \"/base/data/home/apps/s~appname/1.362664407983567993/mapreduce/context.py\", line 239, in __flush_ndb_puts\n    ndb.put_multi(self.ndb_puts.items, config=self.__create_config())\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/model.py\", line 3650, in put_multi\n    for future in put_multi_async(entities, **ctx_options)]\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 325, in get_result\n    self.check_success()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 368, in _help_tasklet_along\n    value = gen.throw(exc.__class__, exc, tb)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/context.py\", line 703, in put\n    key = yield self._put_batcher.add(entity, options)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 368, in _help_tasklet_along\n    value = gen.throw(exc.__class__, exc, tb)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/context.py\", line 274, in _put_tasklet\n    keys = yield self._conn.async_put(options, datastore_entities)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 454, in _on_rpc_completion\n    result = rpc.get_result()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 834, in get_result\n    result = rpc.get_result()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 604, in get_result\n    return self.__get_result_hook(self)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1569, in __put_hook\n    self.check_rpc_success(rpc)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1224, in check_rpc_success\n    raise _ToDatastoreError(err)\nInternalError: internal error.\n</code></pre>\n\n<p><strong>queue.yaml:</strong></p>\n\n<pre><code>queue:\n- name: default\n  rate: 500/s\n  bucket_size: 100\n  max_concurrent_requests: 400\n  retry_parameters:\n    min_backoff_seconds: 5\n    max_backoff_seconds: 120\n    max_doublings: 2\n</code></pre>\n\n<p><strong>MapReduce mapper params:</strong></p>\n\n<pre><code>'shard_count': 16,\n'processing_rate': 200,\n'batch_size': 20\n we would like to increase these numbers, since we need more speed in processing, but once we try to increase it increases error rate...\n</code></pre>\n\n<p><strong>Blobstore Files Count:</strong> several ( some of them contain millions of lines )</p>\n\n<p><strong>Frontend Instance Class:</strong> F4 </p>\n\n<p><strong>Processing flow:</strong></p>\n\n<ol>\n<li>We use only mapper for this particular processing.</li>\n<li>We user BlobstoreLineInputReader (blob contains text file).</li>\n<li>Each line represents new entry we need to create if it does not exist already(some of them we to update).</li>\n</ol>\n\n<p><strong>My questions are:</strong></p>\n\n<ul>\n<li>How can we avoid this Error ?</li>\n<li>Is there any tips/hints how we can choose/balance mapper params (shard_count, processing_rate, batch_size) ?</li>\n<li>What happens with the job, does it get\nretried (if so how can we control it?) or not ?</li>\n</ul>\n\n<p>Btw, we tried to play with some of the suggestions provided <a href=\"http://stackoverflow.com/questions/12910282/appengine-mapreduce-ndb-deadlineexceedederror\"><strong>here</strong></a> (control batch_size) but still we see this.</p>\n"},{"tags":["jquery","json","google-app-engine","python-2.7","jquery-post"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13044527,"title":"JSON object not decoded while doing jQuery.post to python app engine","body":"<p>I have been working on the app engine for some time, and this problem has been bugging me ever since. Could not find a solution to this, so thought I had ask.</p>\n\n<p>I got a simple post handler in python in the app engine server. I am doing a jQuery post. The code for both goes something like this</p>\n\n<p>main.py</p>\n\n<pre><code>import json\n...\n\nclass SomeHandler(webapp2.RequestHandler):\n   def post(self):\n      data = json.loads(self.request.body)\n      return self.response.out.write(json.dumps(data))\n</code></pre>\n\n<p>And the jQuery post</p>\n\n<pre><code>jQuery.post('/quiz',\n{name:'some problem 2',desc:'some submitted 2',questions:[{question:'question1'}]},\nfunction(data,textStatus, jqXHR){console.log('POST response: ');console.log(data);});\n</code></pre>\n\n<p>When I do that, I get the following error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1536, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"/Users/adityarao/appengine/Quiz_1/main.py\", line 121, in post\n    data = json.loads(self.request.body)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py\", line 326, in loads\n    return _default_decoder.decode(s)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 366, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 384, in raw_decode\n    raise ValueError(\"No JSON object could be decoded\")\nValueError: No JSON object could be decoded\n</code></pre>\n\n<p>One workaround is to get the request parameters separately (request.body.get(\"some_param\")), but I find it tedious and doesn't work when dealing with list parameters. </p>\n\n<p>Have I missed something here?</p>\n"},{"tags":["google-app-engine","appstats"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13036167,"title":"reconciling difference between appstats Grand Total and apache bench","body":"<p>I've been using appstats to examine some calls. I have a simple view that makes a memcache call and returns the result. Appstats tells me that the total time (Grand Total) is around 15ms. However, what I observe in the browser is more like 242ms or so. And actually, I also get the same result using apache bench. I tried another network (using an ec2 instance) to see if I would see different round trip time and also got about the same result. A ping to the server takes about 13 or 14ms.</p>\n\n<p>I am definitely missing something here. There is around 180-200ms of latency that I can't account for. Based on experience w/ app engine and appstats, I'm hoping someone can help me open my eyes to what I am missing.</p>\n\n<p>Some environment details if interested ... python 2.7; used both webapp2 and Flask in tests; my apache bench tests have all been single threaded hitting 100 times.</p>\n\n<p>Thanks for any insight.</p>\n"},{"tags":["google-app-engine","google-apps"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13042823,"title":"When i bind a domain with GAE I need to use Google Apps. Do it mean i will be charged after trial?","body":"<p>when I sign in Google Apps, it says 'Google Apps for Business will expire in 31 days'</p>\n"},{"tags":["google-app-engine","gae-datastore","development-environment","production-environment"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":64,"score":3,"question_id":13023702,"title":"How to Maintain a Google App Engine Site in Production","body":"<p>I have been working on a website with Google App Engine for the past few months and I haven't really had to worry about people adding new data or disrupting users when the site went down because I had very few users but I am now planning on rolling the website out to many people.</p>\n\n<p>The site involves users posting topics and I generally when I am making changed on the site I need to have some database entries to work with.  I was wondering what is the most professional and efficient way to develop a website while it is in production and not lose user data or downgrade the user experience all that much.</p>\n\n<p>What would be ideal would be if I could split something like 10% of traffic off onto the new site that I am testing but I haven't found anything like this with GAE.</p>\n"},{"tags":["python","google-app-engine","app-engine-ndb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":13025011,"title":"How to test DateTimeProperty in App Engine NDB?","body":"<p>I'm trying to test a filter for the DateTimeProperty with App Engine's NDB but I have it set to auto_now?</p>\n\n<p>Is there a way to get around this for unit testing?</p>\n\n<p>Example:</p>\n\n<pre><code>class MyModel(ndb.Model)\n  timestamp = ndb.DateTimeProperty(auto_now)\n  name = ndb.StringProperty()\n\n\ndef testMyModelFilter(self):\n  test1 = MyModel()\n  test1.timestamp = datetime.datetime.now() - datetime.timedelta(hours=2)\n  test1.put()\n  test2 = MyModel()\n  test2.timestamp = datetime.datetime.now() - datetime.timedelta(hours=1)\n  test2.put()\n\n  hour_ago = datetime.datetime.now() - datetime.timedelta(hours=1)\n  fetched = MyModel.query().filter(MyModel.timestamp &lt; hour_ago).fetch(\n      None, keys_only=True)\n</code></pre>\n\n<p>Unfortunately, when I commit it to the datastore with test.put(), it uses the time when it was put().</p>\n"},{"tags":["java","api","google-app-engine","multi-tenant"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13041588,"title":"Google App Engine Multitenancy API","body":"<p>According to the <a href=\"https://developers.google.com/appengine/docs/java/multitenancy/overview\" rel=\"nofollow\">GAE docs on the Multitenancy API</a>:</p>\n\n<blockquote>\n  <p>Multitenancy is the name given to a software architecture in which one instance of an application, running on a remote server, serves many client organizations (also known as tenants).</p>\n</blockquote>\n\n<p>But isn't this what <em>every</em> web application is? Dozens, hundreds, maybe even thousands of users all logging in to the system, accessing the same software, but from inside the context of their own \"user accounts\"? Or is Google's Multitenancy API some kind of API for developing generic data abstraction layers that can be used as backends for multiple apps?</p>\n\n<p>I guess I don't get the meaning of a \"Google multi-tenant\" app, and as such, don't understand the purpose or usefulness of the Multitenancy API. Thanks in advance for any clarity here!</p>\n"},{"tags":["google-app-engine","dns"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":138,"score":4,"question_id":10864333,"title":"Intermittent access in China to Google App Engine app with custom domain","body":"<p>Here's a strange one.  We have a Google App Engine (GAE) app and a custom domain <a href=\"http://www.tradeos.com\" rel=\"nofollow\">http://www.tradeos.com</a> CNAME'd to ghs.google.com.  In China we regularly get no response whatsoever from the server for 20 minutes or so then it works fine for a a while, sometimes for a few hours.  </p>\n\n<p>Other non-Chinese sites like CNN seem to work continuously so it's not a general problem with the international Internet going down. From other countries we see no problem.</p>\n\n<p>By the way the non-custom Google domains x.appspot.com don't seem to be accessible at all presumably blocked by the Great Firewall.</p>\n\n<p>Any ideas?  Thanks!</p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12998772,"title":"Implementing simpleauth on App Engine - getting 404 error","body":"<p>I'm implementing Simpleauth by Alex on my App Engine (Python 2.7) app: <a href=\"https://github.com/crhym3/simpleauth\" rel=\"nofollow\">https://github.com/crhym3/simpleauth</a> and I can't figure out why I'm getting a 404 error.</p>\n\n<p>When I try to go to '/profile' when not logged in, I get properly re-directed to '/'.  But when I log in (successfully) and get directed to '/profile' I get a 404.</p>\n\n<p>I assume this is because it hits the \"TemplateNotFound\" exception in the 'render' code.  But the \"profile.html\" file exists and is properly in the 'templates' directory.</p>\n\n<p><strong>Could anyone please help me figure out what I'm doing wrong?</strong></p>\n\n<p>Here is the code on the relevant files:</p>\n\n<p><strong>app.yaml</strong></p>\n\n<pre><code>handlers:\n- url: /auth/*\n  script: main.app\n- url: /profile\n  script: main.app\n- url: /logout/*\n  script: main.app\n- url: /.*\n  script: main.app\nlibraries:\n- name: jinja2\n  version: latest\n</code></pre>\n\n<p><strong>main.py</strong></p>\n\n<pre><code>import webapp2\nimport jinja2\nfrom secrets import SESSION_KEY\n\ntemplate_env = jinja2.Environment(loader=jinja2.FileSystemLoader(os.getcwd()))\n\nclass MainHandler(webapp2.RequestHandler):\n    def get(self):\n        template = template_env.get_template('templates/home.html')\n        context = {\n        }\n        self.response.out.write(template.render(context))\n\napp_config = {\n  'webapp2_extras.sessions': {\n    'cookie_name': '_simpleauth_sess',\n    'secret_key': SESSION_KEY\n  },\n  'webapp2_extras.auth': {\n    'user_attributes': []\n  }\n}\n\napp = webapp2.WSGIApplication([('/', MainHandler),\n    webapp2.Route('/profile', handler='handlers.ProfileHandler', name='profile'),\n    webapp2.Route('/auth/&lt;provider&gt;', handler='handlers.AuthHandler:_simple_auth', name='auth_login'),\n    webapp2.Route('/auth/&lt;provider&gt;/callback', handler='handlers.AuthHandler:_auth_callback', name='auth_callback'),\n    webapp2.Route('/logout', handler='handlers.AuthHandler:logout', name='logout')], config=app_config, debug=True)\n</code></pre>\n\n<p><strong>handlers.py</strong>  (unchanged from Alex's Simpleauth code!)</p>\n\n<pre><code>import webapp2\nfrom webapp2_extras import auth, sessions, jinja2\nfrom jinja2.runtime import TemplateNotFound\n\nfrom simpleauth import SimpleAuthHandler\n\nclass BaseRequestHandler(webapp2.RequestHandler):\n  def dispatch(self):\n    # Get a session store for this request.\n    self.session_store = sessions.get_store(request=self.request)\n\n    try:\n      # Dispatch the request.\n      webapp2.RequestHandler.dispatch(self)\n    finally:\n      # Save all sessions.\n      self.session_store.save_sessions(self.response)\n\n  @webapp2.cached_property    \n  def jinja2(self):\n    \"\"\"Returns a Jinja2 renderer cached in the app registry\"\"\"\n    return jinja2.get_jinja2(app=self.app)\n\n  @webapp2.cached_property\n  def session(self):\n    \"\"\"Returns a session using the default cookie key\"\"\"\n    return self.session_store.get_session()\n\n  @webapp2.cached_property\n  def auth(self):\n      return auth.get_auth()\n\n  @webapp2.cached_property\n  def current_user(self):\n    \"\"\"Returns currently logged in user\"\"\"\n    user_dict = self.auth.get_user_by_session()\n    return self.auth.store.user_model.get_by_id(user_dict['user_id'])\n\n  @webapp2.cached_property\n  def logged_in(self):\n    \"\"\"Returns true if a user is currently logged in, false otherwise\"\"\"\n    return self.auth.get_user_by_session() is not None\n\n\n  def render(self, template_name, template_vars={}):\n    # Preset values for the template\n    values = {\n      'url_for'    : self.uri_for,\n      'logged_in'  : self.logged_in\n    }\n\n    # Add manually supplied template values\n    values.update(template_vars)\n\n    # read the template or 404.html\n    try:\n      self.response.write(self.jinja2.render_template(template_name, **values))\n    except TemplateNotFound:\n      self.abort(404)\n\n  def head(self, *args):\n    \"\"\"Head is used by Twitter. If not there the tweet button shows 0\"\"\"\n    pass\n\n\nclass ProfileHandler(BaseRequestHandler):\n  def get(self):\n    \"\"\"Handles GET /profile\"\"\"    \n    if self.logged_in:\n      self.render('profile.html', {\n        'user': self.current_user, \n        'session': self.auth.get_user_by_session()\n      })\n    else:\n      self.redirect('/')\n</code></pre>\n"},{"tags":["python","google-app-engine","jinja2","ace-editor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":10560671,"title":"Trying to load Ace.js editor on a Google App Engine site causes a malformed path error","body":"<p>I have a problem with the using the Ace editor on my Python-based Google App Engine site. On my index page (which I render with jinja2), I load Ace like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src='media/ace-uncompressed-noconflict.js' charset='utf-8'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When the <code>&lt;script&gt;</code> tag tries to load both the modes and themes of ace, a double slash shows up in the path after the <code>media/</code> directory and an error like this results: </p>\n\n<pre><code>http://asdfcoding.appspot.com/media//theme-eclipse-uncompressed-noconflict.js\nFailed to load resource: the server responded with a status of 404 (Not Found)\n</code></pre>\n\n<p>How can I get Ace's theme and mode files to load correctly?</p>\n\n<p>My live site is <a href=\"http://asdfcoding.appspot.com/\" rel=\"nofollow\">asdfcoding</a> on AppSpot. If you need more information, just let me know.</p>\n"},{"tags":["java","google-app-engine","jpa","gae-datastore"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":290,"score":0,"question_id":7802989,"title":"JPA error from GAE data store","body":"<p>I'm trying to have my GAE app pull some records from the Datastore but keep getting this:</p>\n\n<pre><code>javax.persistence.PersistenceException: Class PersistableItem for query has not been resolved. Check the query and any imports specification\n</code></pre>\n\n<p>It's from the method here:</p>\n\n<pre><code>public List&lt;PersistableItem&gt; listItems() {\n    EntityManager em = EMFService.get().createEntityManager();\n    // Read the existing entries\n    Query q = em.createQuery(\"select * from PersistableItem\");\n    List&lt;PersistableItem&gt; items = q.getResultList();\n    return items; \n}\n</code></pre>\n\n<p>From what I've read this is about importing my PersistableItem class but I'm confused as I already do that in the .java code files.</p>\n"},{"tags":["google-app-engine","google-bigquery","google-cloud-storage"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":103,"score":3,"question_id":12980537,"title":"App Engine and Bigquery authentication","body":"<p>We would like to implement an analytical tool with the aid of Bigquery and Cloud Storage services. The tool should run on App Engine and expose REST interface so that all requests go through that interface and subsequently are forwarded to Bigquery. Authorizing access to Bigquery should be based on App Engine service account (App Identity API). However, we also need to authenticate the tool clients. The client is always another app or service so OAuth 2.0 and web browser based authentication is not acceptable for us. Is there a way how we can implement such authentication and somehow bind it with Bigquery a Cloud Storage ACL?</p>\n\n<p>Consider situation as follows. A client has been given Google account in our domain. It sends a request to our REST interface and provides credentials (email and password) with other details. The tool authenticates the client and sends request on its behalf to Bigquery (or Cloud Storage). In case that the client tries to access Dataset (Bigquery) or Bucket/Entity (Cloud Storage) without correct permission (set by means of Bigquery/Cloud Storage ACL), the access is forbidden. </p>\n"},{"tags":["python","database","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13033048,"title":"Hosting a small database aside from Google App Engine?","body":"<p>I asked <a href=\"http://stackoverflow.com/questions/12976652/efficient-way-to-do-large-in-query-in-google-app-engine\">another question</a> about doing large queries in GAE, to which the answer was pretty much not possible. </p>\n\n<p>What I want to do is this: from an iOS device, I get all the user's contacts phone numbers. So now I have a list of say 250 phone numbers. I want to send these phone numbers back to the server and check to see which of these phone numbers belong to a User account.</p>\n\n<p>So I need to do a query: <code>query = User.query(User.phone.IN(phones_list))</code></p>\n\n<p>However, with GAE, this is quite an expensive query. It will cost 250 reads for just this one query, and I expect to do this type of query often.</p>\n\n<p>So I came up with a crazy idea. Why don't I host the phone numbers on another host, on another database, where this type of query is cheaper. Then I can have GAE send a HTTP request to my other server to get the desired info.</p>\n\n<p>So I have two questions:</p>\n\n<ol>\n<li>Are there any databases more streamlined to handle these kinds of\nqueries, and which it would be more cheaper to do? Or will it all be\nthe same as GAE?</li>\n<li>Is this overkill? Is it a good idea? Should I suck it up and pay the cost?</li>\n</ol>\n"},{"tags":["android","google-app-engine","authentication"],"answer_count":2,"favorite_count":31,"up_vote_count":27,"down_vote_count":0,"view_count":10799,"score":27,"question_id":1996686,"title":"AuthToken from AccountManager in Android Client No Longer Working","body":"<p>I'm pretty exasperated. I'm attempting to build a turn-based multiplayer online game for Android using Google App Engine in Java as the server.</p>\n\n<p>They seem like a perfect fit. Android requires a Google account, and GAE uses a Google account for authentication, while being free and scalable.</p>\n\n<p>So before the holidays I was able to get authentication to my GAE app from my Android client using the new AccountManager API in Android 2.0. The following code allows you to access the AuthToken of the user's Google account and then use it for authentication, so that the user does not have to manually enter their account username and password:  </p>\n\n<pre><code>   AccountManager mgr = AccountManager.get(this); \n   Account[] accts = mgr.getAccountsByType(\"com.google\"); \n   Account acct = accts[0];\n   AccountManagerFuture&lt;Bundle&gt; accountManagerFuture = mgr.getAuthToken(acct, \"ah\", null, this, null, null);\n   Bundle authTokenBundle = accountManagerFuture.getResult(); \n   String authToken = authTokenBundle.get(AccountManager.KEY_AUTHTOKEN).toString();\n</code></pre>\n\n<p>I was then able to append the resulting AuthToken string to the appropriate URL and get a valid cookie which I could then use for all further requests. Only thing is, sometime last week it just stopped working for me. Now when I try to use the AuthToken from the above code, I don't get a cookie returned and my code throws a NullPointerException for the missing cookie.</p>\n\n<p>When I go back to the old way, when the user was manually entering in their Google username and password and I get the AuthToken from \"https://www.google.com/accounts/ClientLogin\", it works just fine.</p>\n\n<p>Please tell me someone out there has built an Android client for a Google App Engine app using the AuthToken from the Google account on the user's phone, and give me some clue as to why this is no longer working. </p>\n\n<p>I'd really like to make this work. My alternatives are to require the user to enter their credentials (which is clunky, and which they shouldn't have to do), or going with another solution for the server.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["python","google-app-engine","invalid-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":13021810,"title":"Google App Engine throws this InvalidURL(\"nonnumeric port: '%s'\" % host[i+1:]) exception when I try to deploy. How do I fix it?","body":"<p>When I click the Deploy button for my project, it gives me the following error: File \"C:\\Python27\\lib\\httplib.py\", line 721, in _set_hostport\nraise InvalidURL(\"nonnumeric port: '%s'\" % host[i+1:])\nhttplib.InvalidURL: nonnumeric port: 'port'.</p>\n\n<p>I've successfully deployed this project before, so I tried reverting the files so that I would have the same files when it worked properly.  No dice, it seems.  That was just a jab in the dark, though -- the full trace shows this starting in Google App Engine's files, not mine.</p>\n\n<p>Anyone know how I can deploy my project?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 171, in &lt;module&gt;\nrun_file(__file__, globals())\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 167, in run_file\nexecfile(script_path, globals_)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4191, in &lt;module&gt;\nmain(sys.argv)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4182, in main\nresult = AppCfgApp(argv).Run()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2579, in Run\nself.action(self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3927, in __call__\nreturn method()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3040, in Update\nupdatecheck.CheckForUpdates()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 596, in CheckForUpdates\nruntime=self.config.runtime)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 383, in Send\nf = self.opener.open(req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 400, in open\nresponse = self._open(req, data)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 418, in _open\n'_open', req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 378, in _call_chain\nresult = func(*args)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 1215, in https_open\nreturn self.do_open(httplib.HTTPSConnection, req)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 370, in do_open\nreq)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 1146, in do_open\nh = http_class(host, timeout=req.timeout) # will parse host:port\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 78, in __init__\nhttplib.HTTPSConnection.__init__(self, *args, **kwargs)\n  File \"C:\\Python27\\lib\\httplib.py\", line 1149, in __init__\nsource_address)\n  File \"C:\\Python27\\lib\\httplib.py\", line 693, in __init__\nself._set_hostport(host, port)\n  File \"C:\\Python27\\lib\\httplib.py\", line 721, in _set_hostport\nraise InvalidURL(\"nonnumeric port: '%s'\" % host[i+1:])\nhttplib.InvalidURL: nonnumeric port: 'port'\n2012-10-22 16:55:29 (Process exited with code 1)\n\nYou can close this window now.\n</code></pre>\n"},{"tags":["java","google-app-engine","servlets","upload","brightcove"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13036645,"title":"Google App Engine - Brightcove Integration","body":"<p>I try to integrate the upload of video with Brightcove in Java:</p>\n\n<p><a href=\"http://support.brightcove.com/en/docs/java-example-upload-video\" rel=\"nofollow\">http://support.brightcove.com/en/docs/java-example-upload-video</a></p>\n\n<p>But with GAE we cannot write on disk so I got the following exception:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: java.rmi.server.UID is a restricted\n  class. Please see the Google  App Engine developer's guide for more\n  details.</p>\n</blockquote>\n\n<p>The exception occurs at this line: (UploadVideo.java)</p>\n\n<pre><code> // Parse the request into a list of DiskFileItems\n List items = upload.parseRequest(request);\n</code></pre>\n\n<p>Because it's trying to use <code>org.apache.commons.fileupload.disk.*</code> which will not work with GAE.</p>\n\n<p>I'm looking for a way around this. Looks like it might be really tricky so i'm open to any suggestions</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13036295,"title":"How to return image with GAE?","body":"<p>Each time user accesses <a href=\"http://www.example.com/some-random-symbols-1x1.png\" rel=\"nofollow\">http://www.example.com/some-random-symbols-1x1.png</a>, I should return transparent image 1x1px. I've created according file, but how should I read it in my code to return to the user? I know how to display the image from the datastore or blobstore. But have no idea how to read and return binary file. </p>\n\n<p>It can not be static file due to the following reasons:</p>\n\n<ol>\n<li>url will contain some-random-symbols;</li>\n<li>once url is accessed, prior to displaying images, I would like to log that somebody accessed the file.</li>\n</ol>\n"},{"tags":["python","google-app-engine","email","png","gif"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":69,"score":-6,"question_id":13036224,"title":"Which image format to be used for e-mail read verification?","body":"<p>I would like to verify if email I've sent (with python/GAE usage) was read or not. In order to do it, I am planning use 1x1 transparent image. The question is what kind of image format I should use.\nI've created 3 sample files:</p>\n\n<ul>\n<li>gif (43 bytes)</li>\n<li>jpg (9495 bytes)</li>\n<li>png (157 bytes)</li>\n</ul>\n\n<p>Based on the file sizes, I should use <code>gif</code>. But is there anything else I should consider?</p>\n"},{"tags":["javascript","google-app-engine","angularjs","google-closure-compiler","angular"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":12847417,"title":"Minifier with GAE + Angular JS","body":"<p>Can you explain, or point to good resource on how to setup a minifier (preferably google closure) to work with Google App Engine. </p>\n\n<p>I use AngularJS for client side. So have bunch of JS files, and like to serve it as one, minified during production. Without manually editing index.html for which files to server, and not having trouble with GAE setup, how can I achieve this?</p>\n\n<p>thanks.</p>\n"},{"tags":["google-app-engine","gdata","gdata-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13034674,"title":"Google app engine: accessing shared contacts","body":"<p>I have a google app engine webapp which will list <strong>Directory</strong> contacts for my company (which uses google apps), accessible by anyone outside the domain. </p>\n\n<p>I'm using the excellent <a href=\"https://developers.google.com/google-apps/domain-shared-contacts/\" rel=\"nofollow\">shared contacts gdata api</a>. The webapp runs under my company's google app domain. I plan to use a cronjob that'll fetch and store the contacts details periodically.</p>\n\n<p>Since the gdata api uses a authenticated user I don't as which user the api call needs to be made (by the cronjob). I tried using the service account user (via app_identity) but I got a 403. Any suggestion is much appreciated. </p>\n\n<p>Example code:</p>\n\n<pre><code>class ImportHandler(webapp2.RequestHandler):\n\n    def get(self):\n       scope = \"https://www.google.com/m8/feeds\"\n       authorization_token, _ = app_identity.get_access_token(scope)\n\n       url = 'https://www.google.com/m8/feeds/contacts/&lt;company domain here&gt;/full'\n\n       atom_response = urlfetch.fetch(\n             url,\n             method=urlfetch.GET,\n             headers = {\"Authorization\": \"OAuth \" + authorization_token})        \n\n       self.response.out.write(atom_response.content)\n</code></pre>\n"},{"tags":["java","google-app-engine","oauth"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13034378,"title":"Error with using getting OAuth token using GAE appcfg tool","body":"<p>I am trying to hook a GAE project into our CI/automated build process. </p>\n\n<p>I'm running into an issue with using appcfg - I read docs <a href=\"https://developers.google.com/appengine/docs/java/tools/uploadinganapp#Passwordless_Login_with_OAuth2\" rel=\"nofollow\">here</a> saying that a permanent token could be created for doing deployments using the --oauth2 flag. I tried this and I get the following error:</p>\n\n<blockquote>\n  <p>C:\\dwinq-ci\\dependencies\\appengine-java-sdk-1.7.2.1\\bin>appcfg.cmd --oauth2 update C:/TeamCity/buildAgent/work/fd63022f430f2b8c/war\n  Either the code entered is invalid or the token was revoked.</p>\n</blockquote>\n\n<p>If I try the command a second time, I get a different error:</p>\n\n<blockquote>\n  <p>C:\\dwinq-ci\\dependencies\\appengine-java-sdk-1.7.2.1\\bin>appcfg.cmd --oauth2 update C:/TeamCity/buildAgent/work/fd63022f430f2b8c/war\n  Bad argument: no JSON input found\n  usage: AppCfg [options]  [] []</p>\n</blockquote>\n\n<p>This error is corrected by deleting a file created under my user directory, named .appcfg_oauth2_tokens_java</p>\n\n<p>Deleting the file only causes the first error to occur again though.</p>\n\n<p>Assistance with this is greatly appreciated. Right now, the only alternative I have is to manually go to the CI server and recreate the temporary token on a regular interval. This is not a good long-term solution.</p>\n"},{"tags":["java","google-app-engine","persistence","blobstore","object-persistence"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":13033523,"title":"Why am i getting NullPointerException when i try to save image?","body":"<p>I am trying to save image in my app. But i am getting null pointer exception when i try to persist image object. Here is my Image class:</p>\n\n<pre><code> @PersistenceCapable\n public class ImageObject {\n\n     @PrimaryKey\n     @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n     private Key key;\n\n     @Persistent\n     private String title;\n\n     @Persistent\n     private Blob image;\n\n     public ImageObject(){}\n\n //     all getters and setters\n }\n</code></pre>\n\n<p>Following is my servlet code which is giving exception:</p>\n\n<pre><code>    resp.setContentType(\"text/html\");\n    PrintWriter out = resp.getWriter();\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    Map&lt;String, List&lt;BlobKey&gt;&gt; blobs = blobstoreService.getUploads(req);\n    List&lt;BlobKey&gt; blobKeyList = blobs.get(\"upload_img_form_input\");\n    BlobKey blobKey = blobKeyList.get(0);\n    String keyString = req.getParameter(\"upload_img_form_key\");\n\n    Key key = KeyFactory.createKey(ImageObject.class.getSimpleName(), keyString);\n    Image img = ImagesServiceFactory.makeImageFromBlob(blobKey);\n    ImageObject imgObj = new ImageObject();\n    imgObj.setKey(key);\n    imgObj.setTitle(keyString);\n    imgObj.setImage(img.getImageData());\n// i am getting exception at this line where i am trying to persist \n    pm.makePersistent(imgObj);\n</code></pre>\n\n<p>Can anybody please tell me why am i getting this NullPointerException? Thanks in advance.</p>\n"},{"tags":["google-app-engine","xmpp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":2558265,"title":"Is there a way to configure a custom domain so that it forwards XMPP messages to an App Engine app?","body":"<p>App Engine only allows you to use these formats for XMPP addresses:</p>\n\n<pre><code>app-id@appspot.com\nanything@app-id.appspotchat.com\n</code></pre>\n\n<p>Is there be a way to configure a custom domain so that it forwards XMPP messages to one of these address formats.</p>\n\n<p>For example, if my domain is called <code>myxmpp.com</code>, I could give that out to users as my application's JID and then forward any user chat messages received there directly to <code>myxmpp@appspot.com</code> (assuming <code>myxmpp</code> is the app-id)?</p>\n"},{"tags":["python","google-app-engine","gae-datastore","trie"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13028996,"title":"Can I have something run constantly on GAE?","body":"<p>I need to check whether some words(or prefix of words) exist, the best approach is to build a Trie, which however is not easy on GAE, it shall stay in the memory(or i have to build it every time i look up some strings), and I don't know how to implement that on GAE.  </p>\n\n<p>The ideal result is, build a Trie when the app launches, keep it as long as the app runs.  </p>\n\n<p>I tried to store all the words and prefixes in the big table, which didn't give a good performance.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13028330,"title":"Appengine dashboard: Difference between Requests/Second and Req/Sec","body":"<p>I'm doing some analysis on my Appengine project and I found a rather large discrepancy between the Requests/Second (cq. Request by Type/Second) chart and the Req/Sec table shown on the same page.</p>\n\n<p>Current values:</p>\n\n<ul>\n<li>Requests/Second: ~ 37.5 (<a href=\"http://i.stack.imgur.com/HAf2f.png\" rel=\"nofollow\">screenshot</a>)</li>\n<li>Requests by Type/Second (Dynamic Requests): ~20 (<a href=\"http://i.stack.imgur.com/VcI9U.png\" rel=\"nofollow\">screenshot</a>)</li>\n<li>Req/Sec current (added up): ~ 8.8 (http://i.stack.imgur.com/XrEfF.png)</li>\n</ul>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>Requests/Second: The number of URIs requested from your application every second, including dynamic, static, and cached requests.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>The \"Req/Sec\" column lists the short-term request rate of each URI.</p>\n</blockquote>\n\n<p>I would expect that at least Dynamic Requests/Second would be similar to Req/Sec. However there is still a factor 2 difference between those two.</p>\n\n<p>How should these numbers be interpreted? </p>\n"},{"tags":["java","google-app-engine","logging"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":429,"score":0,"question_id":6655270,"title":"Logging with AppEngine doesn't work (neither in-IDE nor deployed)","body":"<p>Using Eclipse 3.6SR2 and the appropriate Google Plugin I create a new Web Application Project.\nEverything seems already preconfigured to use java.util.logging.Logger but I see no output, neither in the IDE nor after deploying.</p>\n\n<pre><code>private void sendNameToServer() {\n    Logger log = Logger.getLogger(TestAppEngine1.class.getName());\n    log.setLevel(Level.INFO);\n    log.info(\"info\");\n    log.severe(\"severe\");\n    System.out.println(\"out\");\n    System.err.println(\"err\");\n    log.log(Level.SEVERE, \"severe\");\n</code></pre>\n\n<p>I can only see \"out\" and \"err\" in the \"Console\" window in Eclipe, but not the logs from Logger. After deploying and checking the only logs I see the normal logs e.g. created by long initial load time, but not the Logger logs NOR the \"out\" or \"err\".</p>\n\n<p>Things already checked:</p>\n\n<ul>\n<li>appengine-web.xml has &lt;property name=\"java.util.logging.config.file\" value=\"WEB-INF/logging.properties\" /&gt;</li>\n<li>I also moved logging.properties to the subfolder \"classes\" and adjusted the settings (saw this as an idea in another question)</li>\n<li>logging.properties contains only \".level = ALL\"</li>\n<li>on the server changed the minimum log level but still no logs (\"Error\" is the default level, set it to \"Debug\")</li>\n<li>deployed many times</li>\n<li>let it sit one day</li>\n<li>checked the deployed version online</li>\n<li>checked the multiple \"Console\" windows</li>\n<li>googled for hours</li>\n</ul>\n\n<p>I'm really lost. Would be grateful if you could give me a hint.</p>\n"},{"tags":["python","google-app-engine","tinymce","ckeditor","webapp2"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":12972974,"title":"Ckeditor remains hidden after creation - editor.css is empty","body":"<p>I am trying to use ckeditor in a web project I am currently developing.</p>\n\n<p>The problem is that when I try to instantiate the Ckeditor (either via the jQuery adapter or with the CKEDITOR.replace command), the editor is created but it is hidden.</p>\n\n<p>I inspected the source code and for some reason it has this css attribute</p>\n\n<pre><code>.cke_skin_kama {\n    visibility: hidden;\n}\n</code></pre>\n\n<p>Then I checked the css files that it uses and I noticed that the editor.css file has no css rule in it! It's completely empty, although it points to the correct url.</p>\n\n<p>Do you know why this is happening? Any hint would be more than welcome!</p>\n\n<p>Thanks in advance!</p>\n\n<p>UPDATE: I tried to use Tinymce also, but I have the same problem. The file ui.css is empty too.</p>\n\n<p>I am using python-webapp2 for GAE. Could this have any relation to the problem? Any specific configuration I have to do?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","google-app-engine","file-upload","httpclient"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":57,"score":-3,"question_id":13026206,"title":"Google App Engine - File Upload - Java","body":"<p>I read this post: <a href=\"http://stackoverflow.com/a/1514314/1641552\">How to Upload and Store a File</a> and now I have a servlet that upload files to the BlobStore. But how can I upload files programmatically? Can someone show me a short example-code that explains how to upload a file via a HTTPClient?  </p>\n\n<p>Best Regards</p>\n"},{"tags":["android","google-app-engine","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12898241,"title":"Google App Engine - Getting Server URL","body":"<p>I deployed my highscoreserver-code to Google App Engine. Now I need a URL to send a request to the server. But I can't find a URL in my dashboard...<br>\nWhat I need is this: </p>\n\n<pre><code>http://myhighscoreserver.appspot.com/THIS-PART-I-NEED?name=\"test\"&amp;points=\"0\"  \n</code></pre>\n\n<p>What should I insert in the URL above?  </p>\n\n<p>EDIT: THIS-PART-I-NEED = class-name of the servlet</p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13022030,"title":"Which is the preferred method to use jinja2 on App Engine?","body":"<p>I originally implemented Jinja2 on App Engine using the examples shown on the App Engine site here: <a href=\"https://developers.google.com/appengine/docs/python/gettingstartedpython27/templates\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/gettingstartedpython27/templates</a> where jinja2 is imported directly:</p>\n\n<pre><code>import jinja2\nimport os\n\njinja_environment = jinja2.Environment(\n    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))\n\nclass MainPage(webapp2.RequestHandler):\n    def get(self):\n        greetings = 'somestring'\n        template_values = {\n            'greetings': greetings,\n        }\n        template = jinja_environment.get_template('index.html')\n        self.response.out.write(template.render(template_values))\n</code></pre>\n\n<p>But I'm currently bolting on Simpleauth (https://github.com/crhym3/simpleauth) which follows the implementation that Nick Johnson described here: <a href=\"http://blog.notdot.net/2011/11/Migrating-to-Python-2-7-part-2-Webapp-and-templates\" rel=\"nofollow\">http://blog.notdot.net/2011/11/Migrating-to-Python-2-7-part-2-Webapp-and-templates</a> where jinja2 is imported from webapp2_extras:</p>\n\n<pre><code>import os\nimport webapp2\nfrom webapp2_extras import jinja2\n\nclass BaseHandler(webapp2.RequestHandler):\n  @webapp2.cached_property\n  def jinja2(self):\n        return jinja2.get_jinja2(app=self.app)\n\n  def render_template(self, filename, **template_args):\n        self.response.write(self.jinja2.render_template(filename, **template_args))\n\nclass IndexHandler(BaseHandler):\n  def get(self):\n    self.render_template('index.html', name=self.request.get('name'))\n</code></pre>\n\n<p><strong>Which of these is the preferred method for using jinja2?</strong> (They don't seem to play together nicely, and would prefer to standardize on the best option.)</p>\n"},{"tags":["iphone","google-app-engine","push-notification","code-sample","urbanairship.com"],"answer_count":2,"favorite_count":6,"up_vote_count":2,"down_vote_count":0,"view_count":2298,"score":2,"question_id":3689108,"title":"Google App Engine (GAE), Urban Airship, Java, Push notifications. Sample code?","body":"<p>My server is running on GAE (Java), and I'm using Urban Airship service to deliver push notifications.  Of course, everything works fine when I use their web-interface to send a test notification, but I'd like to add a test-button to my GAE app/server to have <em>it</em> trigger UA to send the push.</p>\n\n<p>The problem is, all of the examples I've seen so far don't compile against GAE's Java libraries.</p>\n\n<p>Does anyone have any java sample code they'd like to share that build &amp; runs under GAE to trigger a push notification through Urban Airship?</p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine","gwt","openid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13025874,"title":"how to fix The type HttpResponse cannot be a superinterface of AppEngineFetchResponse","body":"<p>The type HttpResponse cannot be a superinterface of AppEngineFetchResponse; a superinterface must be an interface   Openid4javaFetcher.java</p>\n\n<p>I am trying to integrate openId feature in GWT GAE web application. I am using \n<a href=\"http://code.google.com/p/jopenid/\" rel=\"nofollow\">http://code.google.com/p/jopenid/</a></p>\n\n<p>There sample code works fine independently but when i embed that into my application, then i get error which i have no idea how to fix it</p>\n\n<p>here is the error log</p>\n\n<pre><code>Description Resource    Path    Location    Type\nThe type HttpResponse cannot be a superinterface of AppEngineFetchResponse; a superinterface must be an interface   Openid4javaFetcher.java /IronmongerCalenderSync/src/com/ironmonger/app/server/openid/appengine  line 196    Java Problem\n\nDescription Resource    Path    Location    Type\nThe type HttpResponse cannot be a superinterface of TooLargeResponse; a superinterface must be an interface Openid4javaFetcher.java /IronmongerCalenderSync/src/com/ironmonger/app/server/openid/appengine  line 237    Java Problem\n\nDescription Resource    Path    Location    Type\nType mismatch: cannot convert from Openid4javaFetcher.AppEngineFetchResponse to HttpResponse    Openid4javaFetcher.java /IronmongerCalenderSync/src/com/ironmonger/app/server/openid/appengine  line 116    Java Problem\n\nDescription Resource    Path    Location    Type\nType mismatch: cannot convert from Openid4javaFetcher.TooLargeResponse to HttpResponse  Openid4javaFetcher.java /IronmongerCalenderSync/src/com/ironmonger/app/server/openid/appengine  line 110    Java Problem\n</code></pre>\n\n<p>and here is the origional java file, which  works in an independant project, but when i add it into gwt gae project, it's not working</p>\n\n<pre><code>/**\n * Copyright 2009 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\npackage com.ironmonger.app.server.openid.appengine;\n\nimport com.google.appengine.api.urlfetch.FetchOptions;\nimport com.google.appengine.api.urlfetch.HTTPHeader;\nimport com.google.appengine.api.urlfetch.HTTPMethod;\nimport com.google.appengine.api.urlfetch.HTTPRequest;\nimport com.google.appengine.api.urlfetch.HTTPResponse;\nimport com.google.appengine.api.urlfetch.ResponseTooLargeException;\nimport com.google.appengine.api.urlfetch.URLFetchService;\nimport com.google.common.base.Joiner;\nimport com.google.common.collect.Maps;\nimport com.google.inject.Inject;\n\nimport org.apache.http.Header;\nimport org.apache.http.message.BasicHeader;\nimport org.openid4java.util.AbstractHttpFetcher;\nimport org.openid4java.util.HttpRequestOptions;\nimport org.openid4java.util.HttpResponse;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\nimport javax.servlet.http.HttpServletResponse;\n\npublic class Openid4javaFetcher extends AbstractHttpFetcher {\n\n  private final URLFetchService fetchService;\n\n  @Inject\n  public Openid4javaFetcher(URLFetchService fetchService) {\n    this.fetchService = fetchService;\n  }\n\n  @Override\n  public HttpResponse get(String url, HttpRequestOptions requestOptions)\n      throws IOException {\n    return fetch(url, requestOptions, HTTPMethod.GET, null);\n  }\n\n  @Override\n  public HttpResponse head(String url, HttpRequestOptions requestOptions)\n      throws IOException {\n    return fetch(url, requestOptions, HTTPMethod.HEAD, null);\n  }\n\n  @Override\n  public HttpResponse post(String url, Map&lt;String, String&gt; parameters,\n      HttpRequestOptions requestOptions) throws IOException {\n    return fetch(url, requestOptions, HTTPMethod.POST, encodeParameters(parameters ));\n  }\n\n  private String encodeParameters(Map&lt;String, String&gt; params) {\n    Map&lt;String, String&gt; escapedParams = Maps.newHashMap();\n    for (Entry&lt;String, String&gt; entry : params.entrySet()) {\n      try {\n        escapedParams.put(URLEncoder.encode(entry.getKey(), \"UTF-8\"),\n                          URLEncoder.encode(entry.getValue(), \"UTF-8\"));\n      } catch (UnsupportedEncodingException e) {\n        // this should not happen\n        throw new RuntimeException(\"platform does not support UTF-8\", e);\n      }\n    }\n    return Joiner.on(\"&amp;\").withKeyValueSeparator(\"=\").join(escapedParams);\n  }\n\n  private HttpResponse fetch(String url, HttpRequestOptions requestOptions,\n      HTTPMethod method, String content) throws IOException {\n\n    final FetchOptions options = getFetchOptions(requestOptions);\n\n    String currentUrl = url;\n\n    for (int i = 0; i &lt;= requestOptions.getMaxRedirects(); i++) {\n\n      HTTPRequest httpRequest = new HTTPRequest(new URL(currentUrl),\n          method, options);\n\n      addHeaders(httpRequest, requestOptions);\n\n      if (method == HTTPMethod.POST &amp;&amp; content != null) {\n        httpRequest.setPayload(content.getBytes());\n      }\n\n      HTTPResponse httpResponse;\n      try {\n        httpResponse = fetchService.fetch(httpRequest);\n      } catch (ResponseTooLargeException e) {\n        return new TooLargeResponse(currentUrl);\n      }\n\n      if (!isRedirect(httpResponse.getResponseCode())) {\n        boolean isResponseTooLarge =\n          (getContentLength(httpResponse) &gt; requestOptions.getMaxBodySize());\n        return new AppEngineFetchResponse(httpResponse,\n            isResponseTooLarge, currentUrl);\n      } else {\n        currentUrl = getResponseHeader(httpResponse, \"Location\").getValue();\n      }\n    }\n    throw new IOException(\"exceeded maximum number of redirects\");\n  }\n\n  private static int getContentLength(HTTPResponse httpResponse) {\n    byte[] content = httpResponse.getContent();\n    if (content == null) {\n      return 0;\n    } else {\n      return content.length;\n    }\n  }\n\n  private static void addHeaders(HTTPRequest httpRequest,\n      HttpRequestOptions requestOptions) {\n\n    String contentType = requestOptions.getContentType();\n\n    if (contentType != null) {\n      httpRequest.addHeader(new HTTPHeader(\"Content-Type\", contentType));\n    }\n\n    Map&lt;String, String&gt; headers = getRequestHeaders(requestOptions);\n\n    if (headers != null) {\n      for (Entry&lt;String, String&gt; header : headers.entrySet()) {\n        httpRequest.addHeader(new HTTPHeader(header.getKey(), header.getValue()));\n      }\n    }\n  }\n\n  @SuppressWarnings(\"unchecked\")\n  private static Map&lt;String, String&gt; getRequestHeaders(\n      HttpRequestOptions requestOptions) {\n    return requestOptions.getRequestHeaders();\n  }\n\n  private static Header getResponseHeader(HTTPResponse httpResponse, String headerName) {\n    Header[] allHeaders = getResponseHeaders(httpResponse, headerName);\n    if (allHeaders.length == 0) {\n      return null;\n    } else {\n      return allHeaders[0];\n    }\n  }\n\n  private static Header[] getResponseHeaders(HTTPResponse httpResponse, String headerName) {\n    List&lt;HTTPHeader&gt; allHeaders = httpResponse.getHeaders();\n    List&lt;Header&gt; matchingHeaders = new ArrayList&lt;Header&gt;();\n    for (HTTPHeader header : allHeaders) {\n      if (header.getName().equalsIgnoreCase(headerName)) {\n        matchingHeaders.add(new BasicHeader(header.getName(), header.getValue()));\n      }\n    }\n    return matchingHeaders.toArray(new Header[matchingHeaders.size()]);\n  }\n\n  private static boolean isRedirect(int responseCode) {\n    switch (responseCode) {\n      case HttpServletResponse.SC_MOVED_PERMANENTLY:\n      case HttpServletResponse.SC_MOVED_TEMPORARILY:\n      case HttpServletResponse.SC_SEE_OTHER:\n      case HttpServletResponse.SC_TEMPORARY_REDIRECT:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  private FetchOptions getFetchOptions(HttpRequestOptions requestOptions) {\n    return FetchOptions.Builder.disallowTruncate()\n        .doNotFollowRedirects()\n        .setDeadline(requestOptions.getConnTimeout() / 1000.0);\n  }\n\n  private static class AppEngineFetchResponse implements HttpResponse {\n\n    private final HTTPResponse httpResponse;\n    private final boolean bodySizeExceeded;\n    private String finalUri;\n\n    public AppEngineFetchResponse(\n        HTTPResponse httpResponse,\n        boolean bodySizeExceeded,\n        String finalUri) {\n      this.httpResponse = httpResponse;\n      this.bodySizeExceeded = bodySizeExceeded;\n      this.finalUri = finalUri;\n    }\n\n    public String getBody() {\n      byte[] content = httpResponse.getContent();\n      return (content == null || content.length == 0) ? null : new String(content);\n    }\n\n    public String getFinalUri() {\n      return finalUri;\n    }\n\n    public Header getResponseHeader(String headerName) {\n      return Openid4javaFetcher.getResponseHeader(httpResponse, headerName);\n    }\n\n    public Header[] getResponseHeaders(String headerName) {\n      return Openid4javaFetcher.getResponseHeaders(httpResponse, headerName);\n    }\n\n    public boolean isBodySizeExceeded() {\n      return bodySizeExceeded;\n    }\n\n    public int getStatusCode() {\n      return httpResponse.getResponseCode();\n    }\n  }\n\n  private static class TooLargeResponse implements HttpResponse {\n\n    private String finalUri;\n\n    public TooLargeResponse(String finalUri) {\n      this.finalUri = finalUri;\n    }\n\n    public String getBody() {\n      throw new ResponseTooLargeException(finalUri);\n    }\n\n    public String getFinalUri() {\n      return finalUri;\n    }\n\n    public Header getResponseHeader(String headerName) {\n      throw new ResponseTooLargeException(finalUri);\n    }\n\n    public Header[] getResponseHeaders(String headerName) {\n      throw new ResponseTooLargeException(finalUri);\n    }\n\n    public boolean isBodySizeExceeded() {\n      return true;\n    }\n\n    public int getStatusCode() {\n      throw new ResponseTooLargeException(finalUri);\n    }\n  }\n}\n</code></pre>\n\n<p>Looking forward to a solution</p>\n\n<p>thanks in advance.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13022483,"title":"Size/cost of query in GAE datastore","body":"<p>If I have a query that's structured like this:</p>\n\n<pre><code>q = Questions.all()\nq.order('-votes')\nresults = q.run(limit=25)\n</code></pre>\n\n<p>And votes is just an <code>IntegerProperty</code> in a <code>Questions</code> db model, does the size/cost (basically what counts towards my quota) of the query depend on the number of entities? </p>\n\n<p>Basically, if I'm trying to order 1000 <code>Questions</code>, is it more expensive than ordering only 10 <code>Questions</code>?</p>\n"},{"tags":["google-app-engine","python-2.7","cache-expiration"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13023987,"title":"Static_files vs Static_dir Cache expiration header in Python App Engine","body":"<p>I'm using Google App Engine 1.7.2 / Python 2.7 and am trying to add client caching of static files. </p>\n\n<p>When I specify static_dir in my app.yaml, the cache-control headers do not get set.</p>\n\n<pre><code>- url: /static/images\n  static_dir: static/images\n  expiration: \"7d 0h\"\n</code></pre>\n\n<p>However, when I switch the specification over to static_files, like the following, it does get set.</p>\n\n<pre><code>- url: /static/images(.*)\n  static_files: static/images/\\1\n  upload: static/(.*)\n  expiration: \"7d 0h\"\n</code></pre>\n\n<p>Is anyone else seeing this?  Am I missing something?  I was under the impression that static_dir and static_files were equivalent if written like the above.  </p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine","servlets","channel-api","sitebricks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12924170,"title":"Sitebricks and Channel Presence Service (GAE); Also having trouble with normal servlets","body":"<p>In my Java Google App Engine server application, I would like to enable Channel Presence servlets in order to track connections/disconnections to/from my channels using the Channel API (as described <a href=\"https://developers.google.com/appengine/docs/java/channel/overview#Tracking_Client_Connections_and_Disconnections\" rel=\"nofollow\">here</a>. I have already edited my <code>WEB-INF/appengine-web.xml</code> file like described.</p>\n\n<p>Most servlets in my application use <strong>Sitebricks</strong>, instead of classes extending HttpServlet, to provide an easy way for me to create REST endpoints in my app. BUT, it seems like using Sitebricks in my class, like so, does not work because I get <code>WARNING: No file found for: /_ah/channel/connected/</code> when the URL is hit:</p>\n\n<pre><code>@At(\"/_ah/channel\")\n@Service\npublic class MyChannelPresenceServlet {\n    ...\n    @Post(\"/connected\")\n    public void connectedMethod() {\n        ...\n    }\n\n    @Post(\"/disconnected\")\n    public void disconnectedMethod() {\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>Is there any way for me to use Sitebricks at all to provide a REST URL endpoint, for Channel Presence, for <code>/-ah/channel/connected/</code> and <code>/_ah/channel/disconnected/</code>?</p>\n\n<h3>BONUS QUESTION</h3>\n\n<p>Let's say that Sitebricks is not the way to go and, instead, I need to stick to normal servlet classes that <code>extends HttpServlet</code> and are configured via <code>WEB-INF/web.xml</code>. This other solution still does not work for me. Let's say that I were to put this into my web.xml file:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;channel_connect&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.example.PresenceServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;channel_connect&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/_ah/channel/connected/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>In this example, com.example.PresenceServlet is a child of HttpServlet and overrides the doPost(HttpServletRequest, HttpServletResponse) method from the parent. I STILL run into problems:</p>\n\n<pre><code>WARNING: /_ah/channel/connected/\njava.lang.InstantiationException: com.ea.pogosocial.rest.ChannelServiceServlet\nat java.lang.Class.newInstance0(Class.java:357)\nat java.lang.Class.newInstance(Class.java:325)\nat org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)\nat org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)\nat org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:66)\nat com.google.sitebricks.SitebricksFilter.doFilter(SitebricksFilter.java:88)\nat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\nat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\nat com.google.sitebricks.HiddenMethodFilter.doFilter(HiddenMethodFilter.java:75)\nat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\nat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\nat com.googlecode.objectify.cache.AsyncCacheFilter.doFilter(AsyncCacheFilter.java:59)\nat com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:49)\nat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\nat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\nat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:118)\nat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:113)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.appstats.AppstatsFilter.doFilter(AppstatsFilter.java:141)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\nat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>All help much appreciated. Especially from a Google employee.</p>\n\n<p>(<em>PS:</em> I am using GAE SDK 1.7.2. I am eagerly awaiting the release of 1.7.3)</p>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>There was one more experiment I tried. In the <code>&lt;servlet&gt;</code> tag of web.xml for my servlet class, I added this tag in order to force my servlet to be loaded upon server startup (which, by the way, is done using <code>mvn gae:run</code> in my example). Now I get this output</p>\n\n<pre><code>WARNING: /_ah/channel/connected/: javax.servlet.UnavailableException: java.lang.InstantiationException: com.ea.pogosocial.rest.ChannelServiceServlet\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":13011014,"title":"getting started google app engine - error in chrome","body":"<p>I went through the getting started section in the Google App Engine for Java. I installed the following software:</p>\n\n<ul>\n<li>Eclipse EE IDE (Version: Juno Release Build id: 20120614-1722)</li>\n<li>plugin GWT SDK 2.4.0</li>\n<li>plugin eclipse 4.2</li>\n<li>plugin GAE Java SDK 1.7.2.1</li>\n<li>plugin GWT designer 2.6.0</li>\n<li>Oracle Java SE 7u9</li>\n<li>Chome extension GWT Developer Plugin 1.0.1133</li>\n</ul>\n\n<p>I tried creating a hello world google web application that uses both GWT and GAE SDKs, but when I try and run it in debug mode it creates a URL which when I click on it gives the error message: \"Could not load GWT DMP Plugin\". I am running Chrome Version 22.0.1229.94 m</p>\n\n<p>If I try creating a hello world google web application with only GAE SDK it does not seem to work at all. </p>\n\n<p>I followed the instructions here: <a href=\"https://developers.google.com/appengine/docs/java/gettingstarted/\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/gettingstarted/</a>\nbut there weren't very clear on the versions of eclipse to download and use or the version of Java to download and use. Does anybody else have the same issues or can you tell me what I am doing wrong??</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":704,"score":0,"question_id":6251868,"title":"deploy in google app engine","body":"<p>am trying to deploy my application on google app engine\nbut getting following error</p>\n\n<pre><code>Starting update of app: timezzzzpass, version: 4\nScanning files on local disk.\n2011-06-06 17:46:22,095 ERROR appcfg.py:1965 An unexpected error occurred. Aborting. \nTraceback (most recent call last):\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1914, in DoUpload\n    missing_files = self.Begin()\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1627, in Begin\n    self.Send('/api/appversion/create', payload=self.config.ToYAML())\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1577, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 365, in Send\n    f = self.opener.open(req)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 374, in open\n    response = self._open(req, data)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 392, in _open\n    '_open', req)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 353, in _call_chain\n    result = func(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 1109, in https_open\n    return self.do_open(httplib.HTTPSConnection, req)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 367, in do_open\n    raise url_error\nURLError: &lt;urlopen error (11001, 'getaddrinfo failed')&gt;\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Google\\google_appengine\\appcfg.py\", line 76, in &lt;module&gt;\n    run_file(__file__, globals())\n  File \"C:\\Program Files\\Google\\google_appengine\\appcfg.py\", line 72, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3592, in &lt;module&gt;\n    main(sys.argv)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3583, in main\n    result = AppCfgApp(argv).Run()\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2229, in Run\n    self.action(self)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3368, in __call__\n    return method()\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2630, in Update\n    app_summary = self.UpdateVersion(rpcserver, self.basepath, appyaml)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2619, in UpdateVersion\n    lambda path: open(os.path.join(basepath, path), 'rb'))\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1914, in DoUpload\n    missing_files = self.Begin()\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1627, in Begin\n    self.Send('/api/appversion/create', payload=self.config.ToYAML())\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 1577, in Send\n    return self.rpcserver.Send(url, payload=payload, **self.params)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 365, in Send\n    f = self.opener.open(req)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 374, in open\n    response = self._open(req, data)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 392, in _open\n    '_open', req)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 353, in _call_chain\n    result = func(*args)\n  File \"C:\\Python25\\lib\\urllib2.py\", line 1109, in https_open\n    return self.do_open(httplib.HTTPSConnection, req)\n  File \"C:\\Program Files\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 367, in do_open\n    raise url_error\nurllib2.URLError: &lt;urlopen error (11001, 'getaddrinfo failed')&gt;\n2011-06-06 17:46:22 (Process exited with code 1)\n\nYou can close this window now.\n</code></pre>\n\n<p>how to resolve this stuff...thanks in advance</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":10346380,"title":"Getting error in deploying my application in Google Application Engine","body":"<p>I am able to run my code in local.</p>\n\n<p>I am under a proxy. Without setting the http proxy, I got <strong>[Errno 10060]</strong>. It was rectified, once the proxy was set.</p>\n\n<p>Now I am getting the below error. Can anyone please advise?</p>\n\n<pre><code>C:\\Data\\Google\\google_appengine&gt;appcfg.py update c:\\Data\\Exercises\\helloworld\n\nApplication: helloirshi; version: 1\n\nHost: appengine.google.com\n\nTraceback (most recent call last):\n\n  File \"C:\\Data\\Google\\google_appengine\\appcfg.py\", line 125, in &lt;module&gt;\n    run_file(__file__, globals())\n\n  File \"C:\\Data\\Google\\google_appengine\\appcfg.py\", line 121, in run_file\n    execfile(script_path, globals_)\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line4072, in &lt;module&gt;\n    main(sys.argv)\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line4063, in main\n    result = AppCfgApp(argv).Run()\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line2547, in Run\n    self.action(self)\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line3820, in __call__\n    return method()\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line3015, in Update\n    self.UpdateVersion(rpcserver, self.basepath, appyaml)\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line2997, in UpdateVersion\n    updatecheck.CheckForUpdates()\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line593, in CheckForUpdates\n    runtime=self.config.runtime)\n\n  File \"C:\\Data\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 366, in Send\n    f = self.opener.open(req)\n\n  File \"C:\\Data\\Python27\\lib\\urllib2.py\", line 400, in open\n    response = self._open(req, data)\n\n  File \"C:\\Data\\Python27\\lib\\urllib2.py\", line 418, in _open\n    '_open', req)\n\n  File \"C:\\Data\\Python27\\lib\\urllib2.py\", line 378, in _call_chain\n    result = func(*args)\n\n  File \"C:\\Data\\Python27\\lib\\urllib2.py\", line 1215, in https_open\n    return self.do_open(httplib.HTTPSConnection, req)\n\n  File \"C:\\Data\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 354, in do_open\n    req)\n\n  File \"C:\\Data\\Python27\\lib\\urllib2.py\", line 1174, in do_open\n    h.request(req.get_method(), req.get_selector(), req.data, headers)\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 958, in request\n    self._send_request(method, url, body, headers)\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 992, in _send_request\n    self.endheaders(body)\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 954, in endheaders\n    self._send_output(message_body)\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 814, in _send_output\n    self.send(msg)\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 776, in send\n    self.connect()\n\n  File \"C:\\Data\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 151, in connect\n    self._tunnel()\n\n  File \"C:\\Data\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", line 99, in _tunnel\n    (_, code, message) = response._read_status()\n\n  File \"C:\\Data\\Python27\\lib\\httplib.py\", line 371, in _read_status\n    raise BadStatusLine(line)\nhttplib.BadStatusLine: ''\n</code></pre>\n\n<p>Sorry for my Grammar..</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["google-app-engine","boilerplate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13020681,"title":"gae-boilerplate documentation","body":"<p>In my search for a good social login package for App Engine, I am giving gae-boilerplate a try. But I find there is no documentation except the readme file, which I think it is not enough at all.</p>\n\n<p>I have many questions, among them:</p>\n\n<ul>\n<li>Should the boilerplate be used as a library or download and modify as needed?</li>\n<li>How should the boilerplate be updated?</li>\n<li>What does each model do?</li>\n<li>Where should my templates go?</li>\n<li>Should I have a different routes file?</li>\n<li>Should I derive my Handlers from BaseHandler?</li>\n<li>In general, what things should I implement in my pages? For example, I found out that I have to include a csrf_token in all POST requests. It would have been nice to know this in advance, and the many other things that I'm having to find out along the way, and which I implement without being sure if I'm supposed to be doing that.</li>\n<li>And some more...</li>\n</ul>\n\n<p>My biggest problem is that Social login is not working, and I feel this boilerplate is a big monster with which I don't know where to start. To make things worse, it is hard to debug social auth from any machine that is not the production one. Thats why I'm desperately looking for some docs.</p>\n\n<p>I have not found anything in SO, and I guess there must be more people in my situation. So, any pointers to documentation that could help to understand gae-boilerplate a little bit better would be very appreciated.</p>\n\n<p>EDIT: I switched to gae-boilerplate in a site that I had previously working. Maybe most of my problems come from the way that I have tried to integrate gae-boilerplate and my existing site. As a result I have tried to treat gae-boilerplate as a library, and keep my own templates, handlers, static files and such.</p>\n\n<p>Thank you guys!</p>\n"},{"tags":["google-app-engine","gwt","eclipse-plugin","google-cloud-sql"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":167,"score":0,"question_id":11376142,"title":"Google Cloud SQL configuration - get OAuth 2 token via GoogleCL for SQL or Eclipse","body":"<p>Configuring Google Cloud SQL to work with an app built using GWT Eclipse EE Plugin and am having authentication issues.</p>\n\n<h3>Google Command Line Tool - try running ./google_sql.sh <em>instance</em></h3>\n\n<p>Need guidance setting up GoogleCL for CloudSQL. I installed regular GoogleCL using MacPorts.  What next?  I tried:</p>\n\n<blockquote>\n  <p>echo 'export PATH=Applications/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.0/appengine-java-sdk-1.7.0/bin/:$PATH' >> ~/.profile</p>\n</blockquote>\n\n<h3>ECLIPSE</h3>\n\n<p>Eclipse asks for Instance Name and Database name in two separate fields.  I've tried every permutation of Project ID:database name (e.g. petproject:dog).</p>\n\n<p>Here is the Eclipse error report (its the same every time):</p>\n\n<blockquote>\n  <p>Could not connect to Profile (name-of-the-project-in-Eclipse.GoogleCloudSQL.DevInstance).\n  Error creating SQL Model Connection connection to Profile (name-of-the-project-in-Eclipse.GoogleCloudSQL.DevInstance). (Error: Access denied for user 'my-login-id'@'localhost' (using password: YES))\n  Access denied for user 'my-login-id'@'localhost' (using password: YES)\n  Error creating Google Cloud SQL Connection factory connection to Profile (pse:\n  Could not connect to Profile (name-of-the-project-in-Eclipse.GoogleCloudSQL.DevInstance). (Error: Access denied for user 'my-login-id'@'localhost' (using password: YES))\n  \n</blockquote>\n\n<h3>Other</h3>\n\n<p>I can get a test app to work just fine.  I have the test app running through a domain that I own.  I've created a Google Cloud SQL project and instance.  I've given permission for my app to use the instance on the Google API console.  I have local  mysql running and created the database/schema on my machine.  I can't link up my local database to the GWT because the entire Google Cloud SQL needs to function.</p>\n\n<p>Thanks -- very much appreciated.</p>\n"},{"tags":["python","google-app-engine","cron","timeout"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":103,"score":2,"question_id":13004038,"title":"If Google App Engine cron jobs have a 10 minute limit, then why do I get a DeadlineExceededError after the normal 30 seconds?","body":"<p>According to <a href=\"https://developers.google.com/appengine/docs/python/config/cron\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/config/cron</a> cron jobs can run for 10 minutes. However, when I try and test it by going to the url for the cron job when signed in as an admin, it times out with a DeadlineExceededError. Best I can tell this happens about 30 seconds in, which is the non-cron limit for requests. Do I need to do something special to test it with the cron rules versus the normal limits?</p>\n\n<p>Here's what I'm doing:</p>\n\n<ul>\n<li>Going to the url for the cron job</li>\n<li>This calls my handler which calls a single function in my py script</li>\n<li>This function does a database call to google's cloud sql and loops through the resulting rows, calling a function on each row that use's ebay's api to get some data</li>\n<li>The data from the ebay api call is stored in an array to all be written back to the database after all the calls are done.</li>\n<li>Once the loop is done, it writes the data to the database and returns back to the handler</li>\n<li>The handler prints a done message</li>\n</ul>\n\n<p>It always has issues during the looping ebay api calls. It's something like 500 api calls that have to be made in the loop.</p>\n\n<p>Any idea why I'm not getting the full 10 minutes for this?</p>\n\n<p>Edit: I can post actual code if you think it would help, but I'm assuming it's a process that I'm doing wrong, rather than an error in the code since it works just fine if I limit the query to about 60 api calls.</p>\n"},{"tags":["html","google-app-engine","jinja2","html-select","partial-page-refresh"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13018463,"title":"Jinja2 template html form - update select","body":"<p>I have written an app that adds a list of events to a Google Calendar. I'm using Jinja2 as my templating framework. I have got a select box in the template that let's the users select which one of their calendars they want to upload the appointments to, it looks something like this:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"/succes\"&gt;\n&lt;select name=\"calendarsummary\"&gt;\n{% for calendar_list_entry in calendar_list['items'] %}\n    &lt;option value={{ calendar_list_entry['id'] }}&gt;{{ calendar_list_entry['summary'] }    \n&lt;/option&gt;\n{% endfor %}\n&lt;/select&gt;\n</code></pre>\n\n<p>So on initial load it's displaying all the users calendars. However, I'm providing the option of creating a new calendar on the fly as well. Since the page the form is on, is dealing with uploaded data, I can't simply reload the entire page to refresh the <code>&lt;select&gt;</code>.</p>\n\n<p>Is it possible upon creation of the extra calendar via a <code>&lt;input type=\"text\"&gt;</code> and a <code>submit</code>-button to refresh the <code>select</code> on the fly? If so, where do I need to look for a solution?</p>\n\n<p>Right now I've got a handler that's listening in on the <code>action=\"/succes\"</code> part. However, upon a post that makes a new page showing the result of the action, namely the uploaded appointments. How do I implement another post that will not trigger the succeshandler?</p>\n"},{"tags":["google-app-engine","google-account"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":12655307,"title":"Google App Engine - Transfer Application From A Closed Account To Another","body":"<p>Is it possible to transfer an application from a closed Google account to a new Google account?</p>\n"},{"tags":["python","google-app-engine","url","redirect","urlfetch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":271,"score":1,"question_id":12995087,"title":"How to stop going to redirected URL in Google App Engine with Python?","body":"<p>I'm using <code>urlfetch</code> from google app engine, but it keeps going to the redirected final page even though I use:</p>\n\n<pre><code>result = urlfetch.fetch(classUrl, payload=None, method=urlfetch.GET, headers={}, allow_truncated=False, follow_redirects=False)\n</code></pre>\n\n<p>E.g. if classUrl was a searched term in Google </p>\n\n<pre><code>(https://www.google.com/search?q=setInstanceFollowRedirects()+python&amp;oq=setInstanceFollowRedirects()+python&amp;sugexp=chrome,mod=0&amp;sourceid=chrome&amp;ie=UTF-8)\n</code></pre>\n\n<p>it would redirect me to www.google.com</p>\n\n<p>How do I stop this redirection?</p>\n"},{"tags":["google-app-engine","dart","channel-api"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":158,"score":1,"question_id":12351225,"title":"Use Appengine Channel API with DART","body":"<p>Is it possible to use Google Appengine Channel API with DART language? It would be great if you can point to some examples and pitfalls if any.</p>\n"},{"tags":["google-app-engine","memory-leaks","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12985639,"title":"Why is memory not released after function returns?","body":"<p>On GAE my handler calls a function that does all the heavy lifting. All the objects are created within the function. However after the function exits (which returns a string for response.out.write) the memory usage does not go down. The first http call to GAE works, but memory stays at about 100MBs afterwards. The second access attempt fails because private memory limit is reached.</p>\n\n<p>I have cleared all class static objects that I wrote and called the close and clear functions of the third party library to no avail. How does one cleanly release memory? I'd rather force a restart than tracking down memory leaks. Performance is not an issue here.</p>\n\n<p>I know that it is not due to GC. GAE reports that memory stays at high level for a long period of time. The two http calls above were separated by minutes or longer.</p>\n\n<p>I've tried to do the import of my function in the Handler.get function. After serving the page I tried to del all imported third party modules and then my own module. In theory now each call should get a restart of all suspected modules but memory problem still persists. The only (intended) modules left between calls should be standard library modules (including lxml, xml etc).</p>\n\n<p>EDIT:\nI now use taskqueue to schedule the heavy duty part on a backend instance and use db.Blob to pass around the results. Getting backends to work solves the memory issue. GAE documentation on backends is complete but confusing. The key is that one needs to follow the instructions on 1) editing backends.yaml 2) using appcfg to update (deploying from launcher is not enough). Afterwards check in admin that the backends is up. Also taskqueue target= breaks on the development server so one needs to work around it on the development server.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12951766,"title":"Ref.get() does not work if comes from a just loaded List<Ref<?>>","body":"<p>I'm going crazy with Objectify because i've a problem with a <code>List&lt;Ref&lt;?&gt;&gt;</code> like this:</p>\n\n<p><code>@Index\n@Load\nprivate LinkedList&lt;Ref&lt;Post&gt;&gt; diary = new LinkedList&lt;Ref&lt;Post&gt;&gt;();</code></p>\n\n<p>when i save this <code>Profile</code> entity the <code>diary</code> Ref list is ok, and this:\n<code>getDiary().get(0).get()</code> give me the correct <code>Post</code> entity.</p>\n\n<p>When i load both <code>Profile</code> and then the first <code>Post</code> like this:\n<code>ofy().load().key(myProfileKey).get().getDiary().get(0).get()</code> which should load the first <code>Post</code> in list, i got <code>null</code>, even if the <code>Profile</code> and the <code>diary</code> are correctly loaded (<code>diary</code> contains the correct <code>Ref&lt;Post&gt;</code>).</p>\n\n<p>Any ideas?\nThanks in advance!</p>\n\n<p><strong>Update:</strong>\nIn my previous question i forgot to tell that <code>Post</code> has a <code>@Parent</code> field: the <code>Profile</code>.\nRemoving <code>@Parent</code> all works... even if i don't understand why.</p>\n"},{"tags":["google-app-engine","size","metadata","blob","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12754082,"title":"How big is AppEngine BlobStore meta-data per entry?","body":"<p>I'm trying to get a handle on the data-overhead required to store a blob in AppEngine's BlobStore.</p>\n\n<p>Let's say I save a 1KB blob, how many bytes will that cost me in BlobStore and in DataStore respectively?</p>\n\n<p>In other words: How big does an entity need to be, before it's worth it to move it to BlobStore?</p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":398,"score":0,"question_id":8668874,"title":"NullPointerException at AbstractRequestContext.doFire(AbstractRequestContext.java:1102)","body":"<p>I just started to develop with Google AppEngine and now I have my first problem.</p>\n\n<p>I take the <a href=\"http://code.google.com/p/cloud-tasks-io/\" rel=\"nofollow\">Todo-Example-Project</a> from the Google-IO 2011 and make some changes now I get  the following StackTrace in my Application:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: null\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.doFire(AbstractRequestContext.java:1102)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.fire(AbstractRequestContext.java:569)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequest.fire(AbstractRequest.java:54)\n    at com.google.web.bindery.requestfactory.shared.impl.AbstractRequest.fire(AbstractRequest.java:59)\n</code></pre>\n\n<p>I try to create a new Entity in the GWT-Client with this Code:</p>\n\n<pre><code>MyRequest request = requestFactory.myRequest();\nrequest.createTime().fire();\n</code></pre>\n\n<p>Code in the Service-Class</p>\n\n<pre><code>static DataStore db = new DataStore();\n\npublic static Time createTime() {\n    return db.update(new Time());\n}\n</code></pre>\n\n<p>And this is the Code in the Datastore-Class</p>\n\n<pre><code>public Time update(Time item) {\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    try {\n        pm.makePersistent(item);\n        return item;\n    } finally {\n        pm.close();\n    }\n}\n</code></pre>\n\n<p>I hope you can help me, with this Problem.</p>\n\n<p>Thank you</p>\n\n<p>Edit:\nI think I should add, that of course I have implemented a TimeLocator-Class and a ServiceLocator-Class.</p>\n\n<p>Here is my web.xml, because I think there could be the problem:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/xmlschema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemalocation=\"http://java.sun.com/xml/ns/javaee\n                        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    version=\"2.5\"&gt;\n\n  &lt;!-- Default page to serve --&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;Test.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n  &lt;!-- RequestFactory Servlet --&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;requestFactoryServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.google.web.bindery.requestfactory.server.RequestFactoryServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;symbolMapsDirectory&lt;/param-name&gt;\n      &lt;!-- You'll need to compile with -extras and move the symbolMaps directory\n           to this location if you want stack trace deobfuscation to work --&gt;\n      &lt;param-value&gt;WEB-INF/classes/symbolMaps/&lt;/param-value&gt;\n    &lt;/init-param&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;requestFactoryServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/gwtRequest&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;!-- Other servlets --&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dataMessagingServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n      com.google.android.c2dm.server.C2DMRetryServlet\n    &lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dataMessagingServlet&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/tasks/c2dm&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;!-- Security --&gt;\n\n  &lt;!--  Require user login for the .html welcome page --&gt;\n  &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;url-pattern&gt;/Test.html&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n      &lt;role-name&gt;*&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n  &lt;/security-constraint&gt;\n\n  &lt;!--  Require admin role for the tasks servlet --&gt;\n  &lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;tasks&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/tasks/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n      &lt;role-name&gt;admin&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n  &lt;/security-constraint&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["android","google-app-engine","google","android-c2dm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":183,"score":0,"question_id":8895862,"title":"AppEngine Connected Android Project: sendNoRetry: Unauthorized - need token","body":"<p>I have created a new 'AppEngine Connected Android Project' with the Wizard and entered my registered Mail-Address. I changed nothing on the Registration-Code, that is created automatically, but I get the following Error every time I try to send a Message:</p>\n\n<blockquote>\n  <p>com.google.android.c2dm.server.C2DMessaging sendNoRetry: Unauthorized - need token</p>\n</blockquote>\n\n<p>I tried to create a new dataMessagingToken.txt (create a new Project, with the same Name and replace it in the original one) but that does not work...</p>\n\n<p>I hope you can help me.\nThank You</p>\n\n<p><b>Edit</b>: This all I can find in the Logs:</p>\n\n<blockquote>\n  <p>/gwtRequest 200 293ms</p>\n  \n  <p>com.google.android.c2dm.server.C2DMessaging sendNoRetry: Unauthorized - need token`</p>\n</blockquote>\n"},{"tags":["google-app-engine","logging","java.util.logging"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":112,"score":2,"question_id":12668281,"title":"How can I change the logging format in Google AppEngine","body":"<p>AppEngine uses JUL for its logging and I have configured the logging.properties file and reference to that in appengine-web.xml</p>\n\n<p>The problem is that the format that AppEngine presents the data in the console log gets truncated after about 180 chars on each log line. And since a large part of that is taken up with the method and class name (including package) and date there isn't much of the actual log message that comes out.</p>\n\n<p>I have tried to configure my own Formatter, both programatically and via logging.properties without luck.</p>\n\n<p>I realise that I could push all my log through slf4j, logback or log4j but I believe that doing so causes all such log to appear as stdout in the AppEngine log console which has its own style of verbosity.</p>\n\n<p>Is there a way to define a particular format for the AppEngine log and if so how? t would be enough if each log line wasn't getting truncated to 180 chars.</p>\n"},{"tags":["google-app-engine","email","confidential"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12997980,"title":"anonymous and confidential app design","body":"<p>I presently have two twin apps, <a href=\"http://tellmestraight.appspot.com/\" rel=\"nofollow\">TellMeStraight</a> and <a href=\"http://suggestiondrop.appspot.com/\" rel=\"nofollow\">SuggestionDrop</a> which work but with a small flaw about which this question is directed. The two apps are identical except that some of the wording of TellMeStraight is oriented to a communication with an individual and the wording of SuggestionDrop is directed to communication with a company/organization. The purpose of both apps is to allow an (A) individual or company/organization to engage in confidential/anonymous conversations with their (B) students/clients/customers/members/etc. </p>\n\n<p>Here is the problem. While communications from A to B <strong>and</strong> from B to A are made via a completely anonymous web link, the (email) communications from B to A  <strong>appear</strong> to come from  <strong>me</strong>, not from A, and that can seem disorienting to A in using this system. The problem is that gae only allows emails to be sent from the app owner, not the app user.  You can somewhat tell the problem from the commented out line in the code below; I got system errors when I tried to use the commented out line. (Btw, I have altered my own email address below for security.)</p>\n\n<pre><code>class SendMessage(webapp.RequestHandler):\n    def post(self):\n        ID_id = self.request.get('ID')\n        handle = self.request.get('handle')\n        handle = ''.join(handle.split())\n        comment = self.request.get('comment')\n        key = db.Key.from_path(\"Person\", ID_id)\n        person = Person.get(key)\n        user_address = person.address\n        #sender_address = person.address\n        sender_address = 'example@mail.com'\n        subject = person.title\n</code></pre>\n\n<p>So my question is, do you have any suggestions about how this app could be re-designed to continue to use gae but to remove this problem? (For example, could google \"documents\" be used or could my return email address be omitted somehow?)</p>\n"},{"tags":["java","google-app-engine","jpa-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12999491,"title":"How to update lists referenced by entities using em.merge()","body":"<p>I'm trying to Update an Entity (EntityObjectContainigList) that points to a list. I fetch the Entity from the DB, detach it, remove some elements from the list that the Entity points to and then try to merge the updated Entity with the one residing in the DB.</p>\n\n<p>Now the problem is that when I run em.merge(EntityObjectContainigList) the Objects/Entitys that where referenced by the list (the ones that I removed) are still stay in DB.\n     </p>\n\n<pre><code>@Entity\npublic class EntityObjectContainigList {\n\n    @Id\n//    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToMany(mappedBy = \"eocl\", cascade = CascadeType.ALL, fetch = FetchType.EAGER, orphanRemoval = true)\n    List&lt;ContainerObject&gt; list = new ArrayList&lt;ContainerObject&gt;();\n\n    private String name;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n    public List&lt;ContainerObject&gt; getList() {\n        return list;\n    }\n\n    public void setList(List&lt;ContainerObject&gt; list) {\n        this.list = new ArrayList&lt;ContainerObject&gt;(list);\n    }\n\n\n}\n</code></pre>\n\n<p>the ContainerObject looks like that:</p>\n\n<pre><code>@Entity\npublic class ContainerObject {\n\n     @Id\n     @GeneratedValue(strategy=GenerationType.IDENTITY)\n     @JsonIgnore\n     private Key id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    EntityObjectContainigList eocl;\n\n\n    private String s;\n\n    private int i;\n\n\n    public String getS() {\n            return s;\n    }\n\n    public void setS(String s) {\n        this.s = s;\n    }\n\n    public int getI() {\n        return i;\n    }\n\n    public void setI(int i) {\n        this.i = i;\n    }\n\n\n}\n</code></pre>\n\n<p>the servlet looks like that:</p>\n\n<pre><code>@Path(\"/db\")\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class MyResourcse {\n\n    private static final EntityManagerFactory emf = Persistence.createEntityManagerFactory(\"transactions-optional\");\n\n    @PUT\n    public Response putInDb(EntityObjectContainigList d) {\n        EntityManager em = null;\n        try {\n            em = emf.createEntityManager();\n/*          Gson g = new Gson();\n            System.out.println(g.toJson(d));*/\n            em.persist(d);\n            return Response.ok().build();\n        } finally {\n            if (em != null &amp;&amp; em.isOpen()) em.close();\n        }\n    }\n\n    @GET\n    public Response getFromDb(@QueryParam(\"id\")Long id) {\n        EntityManager em = null;\n        try {\n            em = emf.createEntityManager();\n/*          Gson g = new Gson();*/\n            EntityObjectContainigList o = em.find(EntityObjectContainigList.class, id);\n/*          System.out.println(g.toJson(o));*/\n            return Response.ok(o).build();\n        } finally {\n            if (em != null &amp;&amp; em.isOpen()) em.close();\n        }\n    }\n\n    @POST\n    public Response updateDb(EntityObjectContainigList d) {\n        EntityManager em = null;\n        try {\n            em = emf.createEntityManager();\n            Gson g = new Gson();\n            d =  em.merge(d);\n            System.out.println(g.toJson(d));\n            return Response.ok().build();\n        } finally {\n            if (em != null &amp;&amp; em.isOpen()) em.close();\n        }\n    }\n}\n</code></pre>\n\n<p>Client side looks like that:</p>\n\n<pre><code>public class UpdateClient {\n\n    public static void main(String[] args) {\n        ClientConfig cc = new DefaultClientConfig();\n        cc.getFeatures().put(JSONConfiguration.FEATURE_POJO_MAPPING, Boolean.TRUE);\n\n        Client client = Client.create(cc);\n\n        WebResource res = client.resource(\"http://localhost:8888/rest/db\");\n\n\n        EntityObjectContainigList o = new EntityObjectContainigList();\n        o.setId(12L);\n        o.setName(\"hello\");\n\n        for (int i = 0; i &lt; 5; i++) {\n            ContainerObject c = new ContainerObject();\n            c.setI(i);\n            c.setS(\"foo\" + i );\n            o.getList().add(c);\n        }\n\n\n        res.type(MediaType.APPLICATION_JSON).put(ClientResponse.class, o);\n\n        System.out.println(\"Object inserted\");\n\n        o = res.queryParam(\"id\", \"12\")\n                .type(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .get(ClientResponse.class)\n                .getEntity(EntityObjectContainigList.class);\n\n        System.out.println(\"Object fetched\");\n\n\n        o.getList().remove(1);\n        o.getList().remove(0);\n        o.setName(\"world\");\n\n\n        res.type(MediaType.APPLICATION_JSON).accept(MediaType.APPLICATION_JSON).post(ClientResponse.class, o);\n        System.out.println(\"Object updated\");\n\n        System.out.println(\"Done.\");\n    }\n\n}\n</code></pre>\n\n<p>I'm using GAE 1.7.2 with JPA 2.0.</p>\n\n<p>Any help is much appreciated.\nVitaly</p>\n"},{"tags":["java","google-app-engine","ffmpeg","video-processing","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":125,"score":6,"question_id":12997539,"title":"Video files conversion/transcoding Google App Engine","body":"<p>I want to start a cloud computing project with the simple task to:</p>\n\n<ol>\n<li>Receive uploaded video files</li>\n<li>Do some transcoding / converting to them</li>\n<li>Allow user to download / stream the generated file</li>\n</ol>\n\n<p>I was thinking <code>ffmpeg</code> as an external command line tool integrated in a <code>Java/Google App engine Application</code>. Since it was fairly hard to be assured about the limitations of the framework, can someone tell me if this is feasible?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12958115,"title":"Django with Google App Engine manage command throws DatabaseError","body":"<p>When I run a management command it opens a browser window.\nI authenticate the app which creates a oauth file <code>~/.googlesql_oauth2.dat</code>.</p>\n\n<p>But it throws a DatabaseError afterwards.</p>\n\n<pre><code>End user Google Account not authorized.enter\n</code></pre>\n\n<p>Any ideas how to fix this?</p>\n\n<p>Stacktrace:</p>\n\n<pre><code>Unhandled exception in thread started by &lt;bound method Command.inner_run of &lt;django.core.management.commands.runserver.Command object at 0x100646f50&gt;&gt;\nTraceback (most recent call last):\n  File \"/usr/local/google_appengine/lib/django_1_3/django/core/management/commands/runserver.py\", line 88, in inner_run\n    self.validate(display_num_errors=True)\n  File \"/usr/local/google_appengine/lib/django_1_3/django/core/management/base.py\", line 249, in validate\n    num_errors = get_validation_errors(s, app)\n  File \"/usr/local/google_appengine/lib/django_1_3/django/core/management/validation.py\", line 102, in get_validation_errors\n    connection.validation.validate_field(e, opts, f)\n  File \"/usr/local/google_appengine/lib/django_1_3/django/db/backends/mysql/validation.py\", line 14, in validate_field\n    db_version = self.connection.get_server_version()\n  File \"/usr/local/google_appengine/lib/django_1_3/django/db/backends/mysql/base.py\", line 338, in get_server_version\n    self.cursor()\n  File \"/usr/local/google_appengine/lib/django_1_3/django/db/backends/__init__.py\", line 250, in cursor\n    cursor = self.make_debug_cursor(self._cursor())\n  File \"/usr/local/google_appengine/google/storage/speckle/python/django/backend/base.py\", line 223, in _cursor\n    self.connection = Connect(**kwargs)\n  File \"/usr/local/google_appengine/google/storage/speckle/python/django/backend/base.py\", line 195, in Connect\n    return driver.connect(**kwargs)\n  File \"/usr/local/google_appengine/google/storage/speckle/python/api/rdbms_googleapi.py\", line 183, in __init__\n    super(GoogleApiConnection, self).__init__(*args, **kwargs)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/storage/speckle/python/api/rdbms.py\", line 583, in __init__\n    self.OpenConnection()\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/storage/speckle/python/api/rdbms.py\", line 606, in OpenConnection\n    response = self.MakeRequest('OpenConnection', request)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/storage/speckle/python/api/rdbms.py\", line 718, in MakeRequest\n    response.sql_exception.message))\ngoogle.storage.speckle.python.api.rdbms.DatabaseError: 0: End user Google Account not authorized.enter\n</code></pre>\n"},{"tags":["android","google-app-engine","gwt","hessian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13007038,"title":"HessDroid: HessianConnectionException: Hessian Proxy cannot connect to http://10.0.0.16:8888/api","body":"<p>I'm developing an Android application that communicates with a Hessian web service running on GAE.\nCommunication with a deployed service running on GAE works fine, however testing it locally (running the service on my computer in development mode) just does not allow me to connect.</p>\n\n<ol>\n<li>Using a webbrowser on my computer or on my phone (both in the same LAN), I can successfully access the URL.</li>\n<li>Using a java application on my computer or on another computer in the same LAN, I can successfully access the URL/service.</li>\n<li>Using my android application on my phone, I CANNOT access the service, which I don't understand.</li>\n</ol>\n\n<p>The exception I get always says:</p>\n\n<pre><code>HessianConnectionException: Hessian Proxy cannot connect to http://10.0.0.16:8888/api\n[...]\nCaused by: java.io.FileNotFoundException: http://10.0.0.16:8888/api\n[...]\n</code></pre>\n\n<p>The URL is definitely correct, and my implementation also works if I use the GAE url instead. The problem, for some weired reason, only occurs on my android device in combination with the local development server.</p>\n\n<p>Anyone experienced this? Maybe a Hessdroid bug?</p>\n"},{"tags":["python","google-app-engine","email","python-2.7","mailchimp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12999558,"title":"Using Mandrill/MailChimp on Google App Engine to send confirmation emails","body":"<p>For the past several days I've been trying to send confirmation emails from my GAE app but my GAE email quota has reached its limit, and although I have billing enabled my email quota won't reset for while to come since I just enabled billing.</p>\n\n<p>I've looked into using Mandrill/MailChimp (via wrapper API's) and have got them to send emails from my desktop. However when I use my code in a GAE app and run it on the local dev server or online server they won't send emails because mailsnake, chimpy, etc all require the \"requests\" python module. So I downloaded the module and properly put it in its location in my app engine project.</p>\n\n<p>Then I got another error...</p>\n\n<pre><code>  File \"/home/ahmad/Dropbox/milsal/requests/packages/urllib3/connectionpool.py\", line 83, in set_cert\n    'CERT_NONE': ssl.CERT_NONE,\nAttributeError: 'module' object has no attribute 'CERT_NONE'\n</code></pre>\n\n<p>Then I realized that requests module relies on ssl.py, ssl.py is a python wrapper for _ssl (a c library not supported by app engine python (2.7)).</p>\n\n<p>So I tried putting ssl.c in that location but it didn't work... So now I'm stuck.. </p>\n\n<p>I'm thinkink to myself, even if i put ssl.c so the the python ssl wrapper module can use it, another error might come up and I'll never be able to keep up on chasing all the dependencies mailchimp/mandrill python api wrappers need to run on GAE's version of python that are automatically there on my desktops python..</p>\n\n<p>So although I can send emails using my ubuntu python, I can't send them from GAE.</p>\n\n<p>My 1st question is, I was wondering if anyone got a mailchimp/mandrill emailing to work from GAE.</p>\n\n<p>2nd Question is: If there's no other alternatives to what I'm doing to get emails to send from GAE using mandrill/mailchimp how do I install a python module in a GAE project and all of it's dependencies automatically..?</p>\n\n<p>Thanks for any help in advance..</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13004660,"title":"Structuring Google App Engine for strong consistency","body":"<p>I want to run over this plan I have for achieving strong consistency with my GAE structure. Currently, here's what I have (it's really simple, I promise):</p>\n\n<p>You have a Class (Class meaning Classroom not a programming \"class\") model and an Assignment model and also a User model. Now, a Class has an integer list property called memberIds, which is an indexed list of User ids. A class also has a string list of Assignment ids. </p>\n\n<p>Anytime a new Assignment is created, its respective Class entity is also updated and adds the new Assignment id to its list. </p>\n\n<p>What I want to do is get new Assignments for a user. What I do is <strong>query</strong> for all Classes where <code>memberId = currentUserId</code>. Each Class I get back has a list of assignment ids. I use those ids to get their respective Assignments by key. After months with this data model, I just realized that I might not get strong consistency with this (for the Class query part). </p>\n\n<p>If user A posts an assignment (which consequently updates ClassA), user B who checks in for new assignments a fraction of a second later might not yet see the updated changes to ClassA (right?).</p>\n\n<p>This is undesired. One solution would be to user ancestor queries, but that is not possible in my case, and entity groups are limited to 1 write per second, and I'm not sure if that's enough for my case.</p>\n\n<p>So here's what I figured: anytime a new assignment is posted, we do this:</p>\n\n<ul>\n<li>Get the respective Class entity</li>\n<li>add the assignment id to the Class</li>\n<li>get the ids of all this Class's members</li>\n<li>fetch all users who are members, by keys</li>\n<li>a User entity has a list of Classes that the user is a member of. (A LocalStructuredProperty, sort of like a dictionary:{\"classId\" : \"242\", \"hasNewAssignment\" : \"Yes\"} ). We flag that class as <code>hasNewAssignment =\nYES</code></li>\n<li>Now when a user wants to get new assignments, instead of <strong>querying</strong> for groups that have a new assignment and which I am a member of, I\ncheck the User objects list of Classes and check which classes have\nnew assignments.</li>\n<li>I retrieve those classes by key (strongly consistent so far, right?)</li>\n<li>I check the assignments list of the classes and I retrieve all assignments by key.</li>\n</ul>\n\n<p>So throughout this process, I've never queried. All results should be strongly consistent, right? Is this a good solution? Am I overcomplicating things? Are my read/write costs skyrocketing with this? What do you think?</p>\n"},{"tags":["google-app-engine","many-to-many","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12998851,"title":"how to implement a many to many relationship in objectify v3?","body":"<p>according to the documentation the model should be like this </p>\n\n<pre><code>public class Employee\n{\n  @Id String name;\n  Key&lt;Employee&gt;[] subordinates;\n}\n</code></pre>\n\n<p>I need to know how can I add subordinates to an Employee.</p>\n"},{"tags":["google-app-engine","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13004550,"title":"Why is Logger crashing my Google Apps JSP?","body":"<p>I'm running Google Apps locally via eclipse. I connect to <code>http://localhost:8888/</code> and sometimes Eclipse will throw an exception from this line 374 in AccessControlContext.class:</p>\n\n<pre><code>    throw new AccessControlException(\"access denied \"+perm, perm);\n</code></pre>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>Thread [299085@qtp-12256262-2] (Suspended (exception AccessControlException))   \n\nAccessControlContext.checkPermission(Permission) line: 374  \nAccessController.checkPermission(Permission) line: 546  \nDevAppServerFactory$CustomSecurityManager(SecurityManager).checkPermission(Permission) line: 532    \nDevAppServerFactory$CustomSecurityManager.checkPermission(Permission) line: 289 \nDevAppServerFactory$CustomSecurityManager(SecurityManager).checkPackageAccess(String) line: 1512    \nLauncher$AppClassLoader.loadClass(String, boolean) line: 298    \nLauncher$AppClassLoader(ClassLoader).loadClass(String) line: 247    \nResourceBundle$RBClassLoader.loadClass(String) line: 435    \nResourceBundle$Control.newBundle(String, Locale, String, ClassLoader, boolean) line: 2289   \nResourceBundle.loadBundle(CacheKey, List&lt;String&gt;, Control, boolean) line: 1364  \nResourceBundle.findBundle(CacheKey, List&lt;Locale&gt;, List&lt;String&gt;, int, Control, ResourceBundle) line: 1328    \nResourceBundle.findBundle(CacheKey, List&lt;Locale&gt;, List&lt;String&gt;, int, Control, ResourceBundle) line: 1282    \nResourceBundle.findBundle(CacheKey, List&lt;Locale&gt;, List&lt;String&gt;, int, Control, ResourceBundle) line: 1282    \nResourceBundle.getBundleImpl(String, Locale, ClassLoader, ResourceBundle$Control) line: 1224    \nResourceBundle.getBundle(String) line: 705  \nLevel.getLocalizedName() line: 223  \nSimpleFormatter.format(LogRecord) line: 64  \nConsoleHandler(StreamHandler).publish(LogRecord) line: 179  \nConsoleHandler.publish(LogRecord) line: 88  \nLogger.log(LogRecord) line: 478 \nLogger.doLog(LogRecord) line: 500   \nLogger.log(Level, String) line: 523 \nLogger.warning(String) line: 1026   \n</code></pre>\n\n<p>I'm calling just this:</p>\n\n<pre><code>    log.warning(\"string\");\n</code></pre>\n\n<p>and log is initialized like so:</p>\n\n<pre><code>    private static final Logger log = Logger.getLogger(MyServletName.class.getName());\n</code></pre>\n\n<p>What is breaking?</p>\n"},{"tags":["eclipse","spring","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12809170,"title":"ASM library: Version incompatibility between GAE and Spring","body":"<p>I'm currently working on a project based on Spring 3.1.2 which needs to run over GAE.</p>\n\n<p>After researching the logs, I think I know why I'm getting a 500 Internal Server Error whenever I need to interact with the App. The problem I'm facing is related with ASM (http://asm.ow2.org/).</p>\n\n<p>It seems like GAE relies on ASM 4.0, while the project runs fine locally if I use ASM 3.1.</p>\n\n<p>However, I found impossible to make it work when ASM 4.0 :(</p>\n\n<p>I'm completely new to Google App Engine, so ... any tip to solve this issue is welcome! (I've already lost the whole morning finding what the problem was and trying too many different ways to solve it ... but no way).</p>\n\n<p>Thank you very much in advance for your suggestions ;)</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13002194,"title":"Google App Engine Python: Image retrieved from a database query loading slowly in production","body":"<p>I have an app where the user can upload an image from disk. That image\nwill be shown in every page of the application as long as the user is logged.</p>\n\n<p>This is the portion of the template that loads an image to the page:</p>\n\n<pre><code>{% if currentService.image %}\n    &lt;img src='img?img_id={{ currentService.key() }}'&gt;&lt;/img&gt;\n{% else %}\n    &lt;img src='static/no_image.jpeg' /&gt;\n{% endif %}\n</code></pre>\n\n<p>This is how I make the redirect in the controller:</p>\n\n<pre><code>def main():\n    app = webapp2.WSGIApplication([\n                                   ('/img', ImageHandler),\n                                   ('/.*', MainPage)\n                                   ],debug=True)\n    wsgiref.handlers.CGIHandler().run(app)\n</code></pre>\n\n<p>and this is the corresponding handler class:</p>\n\n<pre><code>class ImageHandler(webapp2.RequestHandler):\n    def get(self):\n        try:\n            rsRequest = db.get(self.request.get(\"img_id\"))\n            if rsRequest.image:\n                self.response.headers['Content-Type'] = \"image/png\"\n                self.response.out.write(str(rsRequest.image))\n            else:\n                self.response.out.write(\"No Image\")\n        except:\n            tb = traceback.format_exc()\n            ErrorLog(descripcion = str(tb)).put()\n            self.doRender('error_page.html', {'mensaje':tb})\n</code></pre>\n\n<p>This is the model class:</p>\n\n<pre><code>class Service(db.Model):\n    name = db.StringProperty(required = True)\n    image = db.BlobProperty()\n</code></pre>\n\n<p>Everything works fine. The image is always loaded successfully.</p>\n\n<p>But when I test my app in production the image loads very slow, progressively.</p>\n\n<p>I don't know what I'm doing wrong since the image loads fast (like a cached image) in development when I test the app in localhost.</p>\n\n<p>What should I do to avoid that slow image load?</p>\n"},{"tags":["google-app-engine","gwt","eclipse-plugin","eclipse-juno"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":424,"score":0,"question_id":12031817,"title":"Eclipse Juno 4.2 Google Plugin not installing: Cannot complete install because one or more required items could not be found","body":"<p>This is the error message I get:</p>\n\n<pre><code>Cannot complete the install because one or more required items could not be found.\n  Software being installed: Google App Engine Tools for Android 3.1.0.v201208080121-rel-r42 (com.google.gdt.eclipse.mobile.android.feature.feature.group 3.1.0.v201208080121-rel-r42)\n</code></pre>\n\n<p>I've tried numerous things including manually downloading the file from <a href=\"https://developers.google.com/eclipse/docs/install-from-zip\" rel=\"nofollow\">here</a> and also I snooped around StackOverflow and I tried just moving all the plugins from the manual download into the plugins folder of my Eclipse. That didn't help me though because my perspective did not update with the plugins and I couldn't find the \"Create New Web Application\" option. I've also read some things about the XML file being wrong but I can't find it and those were for other Eclipse versions so I don't know if it applies to me.</p>\n\n<p>I also tried excluding Google App Engine Tools for Android 3.1.0 but then it just says the next one in the list can't be found.</p>\n\n<p>I'll be more than happy to provide anymore information. I am running Eclipse Juno 4.2 and Java 1.7 (I also have 1.6 installed though). I am using a Windows 7 PC. Thank you guys so much! I just want to code :[</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12996607,"title":"UnsupportedOnDevError: Matching to field type of field \"location\" (type=5) is unsupported on dev server","body":"<p>Has anyone tried doing simple query using search service where the documents to query against have a <code>GeoField</code>? I did, my query has only text like 'John Doe' to match against and it seems the dev server try to match the query text against every single fields including the geo field. And it just throws that error, and seem there are no way to exclude geo fields out of it.</p>\n\n<p>Will the production server behaves this way also? How can I tell it to query against every fields but the geo fields?</p>\n"},{"tags":["java","google-app-engine","file-download"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12990072,"title":"How to create a download link from the Google App Engine using Java","body":"<p>I am building a Google App Engine app that processes user input file, stores its model in the data-store, and offers the user to download the file in any format after processing the model, for that I need to create a download link for my processed files.</p>\n\n<p>I have found something in Python but I'm unfamiliar with its workings.</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/11604193/how-do-i-let-google-app-engine-have-a-download-link-that-downloads-something-fro\">How do I let Google App Engine have a download link that downloads something from a database?</a> </li>\n<li><a href=\"http://stackoverflow.com/questions/2767910/google-app-engine-python-download-file\">google app engine python download file</a></li>\n</ul>\n\n<p>I need to do it in Java. Any help is appreciated. Code that covers it is wonderful.</p>\n"},{"tags":["google-app-engine","search","google-drive-sdk","google-docs-api","google-drive"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12705673,"title":"How to search the entire domain with google docs api?","body":"<p>I'm developing an app, on google-appengine with Java, which search files in Google Drive. \nThe permissions are based on groups, not in users. Before I could search and find without any problem the shared docs, however with new Google Drive I need to use an advanced search which search in entire domain to find docs.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["python","google-app-engine","app-engine-ndb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12999927,"title":"App Engine NDB query","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12449197/badargumenterror-multiquery-with-cursors-requires-key-order-in-ndb\">BadArgumentError: _MultiQuery with cursors requires __key__ order in ndb</a>  </p>\n</blockquote>\n\n\n\n<p>I need to do a query using <a href=\"https://developers.google.com/appengine/docs/python/ndb/\" rel=\"nofollow\">NDB</a>. I want to return all entries that don't match a given ID and order them when they were updated but I receive this error.</p>\n\n<pre><code>BadArgumentError: _MultiQuery with cursors requires __key__ order\n</code></pre>\n\n<p>They mention this limitation (and solution) in the <a href=\"https://developers.google.com/appengine/docs/python/ndb/queries#cursors\" rel=\"nofollow\">docs</a> but I can't work out how my query would look.</p>\n\n<pre><code>subs = Submission()\nsubs = subs.query()\ntotal = 10\n\nif sub_id:\n    key = ndb.Key('Submission', sub_id)\n    subs = subs.filter(Submission.key != key)\n\nsubs = subs.filter(Submission.status == 1)\n\nsubmissions, cursor, more = subs.order(\n    -Submission.updated).fetch_page(total, start_cursor = curs)\n</code></pre>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":660,"score":2,"question_id":3264267,"title":"Google app engine:Where is the datastore file stored on the local development server?","body":"<p>I am working on a google app engine project using python. I want to know where does google app engine stores the datastore for the projects. I have tried but could not  find it.</p>\n\n<p>Can anyone please help me? I am using windows.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["google-app-engine","python-2.7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":12993422,"title":"importing modules in app engine","body":"<p>edit2 - i just accidentally clicked on logs without trying to even browse my app and im getting this error and wondered if it could help figure out why my 3rd party(non app engine libraries) wont work?</p>\n\n<pre>2012-10-21 16:07:20 Running command: \"['C:\\\\Python27\\\\pythonw.exe', 'C:\\\\Program  Files\\\\Google\\\\google_appengine\\\\dev_appserver.py', '--admin_console_server=', '--port=8080', 'C:\\\\Documents and Settings\\\\ladds\\\\My Documents\\\\udacity\\\\sigh']\"\nWARNING  2012-10-21 15:07:39,088 rdbms_mysqldb.py:74] The rdbms API is not available because the MySQLdb library could not be loaded.\nWARNING  2012-10-21 15:07:41,822 datastore_file_stub.py:518] Could not read datastore data from c:\\docume~1\\ladds\\locals~1\\temp\\dev_appserver.datastore\nWARNING  2012-10-21 15:07:41,852 dev_appserver.py:3621] Could not initialize images API; you are likely missing the Python \"PIL\" module. ImportError: No module named _imaging\nINFO     2012-10-21 15:07:41,900 dev_appserver_multiprocess.py:655] Running application dev~oursocialendorsements on port 8080: http://localhost:8080\nINFO     2012-10-21 15:07:41,900 dev_appserver_multiprocess.py:657] Admin console is available at: http://localhost:8080/_ah/admin</pre>\n\n<p>EDIT - ive also tried using but no joy</p>\n\n<pre><code>sys.path.append(os.path.join(os.path.dirname(__file__), 'oauth2'))\n\nsys.path.append(os.path.join(os.path.dirname(__file__), 'ply'))\n</code></pre>\n\n<p>Ive asked this before, but it seems i wasnt clear/detailed enough and after a week of trying im still struggling so i will try again. </p>\n\n<p>i am trying to use, oauth2 and ply on app engine.</p>\n\n<p>i have tried copying their directories into my app engine project directory (in the form ply-3.4 or brosner-python-oauth2-82a05f9) and i have tried copying the specific sub directory contained within the aforemention one. (ply or oauth2)</p>\n\n<p>i have tried saying</p>\n\n<p>import oauth2, from brosner-oauth2_python-82a05f9 import oauth and other variations on the theme, but i still cant get it to work</p>\n\n<p>nothing has worked.</p>\n\n<p>i have tried including them in app.yaml, but that seemed to create an even bigger error as my entire project wouldnt even run when i tried that.</p>\n\n<p>and now i have run out of things to try.</p>\n\n<p>the error log i am getting is as follows.</p>\n\n<pre> INFO     2012-10-20 22:33:29,358 dev_appserver.py:2884] \"GET / HTTP/1.1\" 500 -\nWARNING  2012-10-20 22:33:58,453 py_zipimport.py:139] Can't open zipfile    C:\\Python27\\lib\\site-packages\\oauth2-1.0.2-py2.7.egg: IOError: [Errno 13] file not   accessible: 'C:\\\\Python27\\\\lib\\\\site-packages\\\\oauth2-1.0.2-py2.7.egg'\nWARNING  2012-10-20 22:33:58,453 py_zipimport.py:139] Can't open zipfile C:\\Python27\\lib\\site-packages\\ply-3.4-py2.7.egg: IOError: [Errno 13] file not accessible: 'C:\\\\Python27\\\\lib\\\\site-packages\\\\ply-3.4-py2.7.egg'\nWARNING  2012-10-20 22:33:58,453 py_zipimport.py:139] Can't open zipfile C:\\Python27\\lib\\site-packages\\tweepy-1.11-py2.7.egg: IOError: [Errno 13] file not accessible: 'C:\\\\Python27\\\\lib\\\\site-packages\\\\tweepy-1.11-py2.7.egg'\nERROR    2012-10-20 22:34:00,015 wsgi.py:189] \nTraceback (most recent call last):\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\runtime\\wsgi.py\", line 187, in Handle\n    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\runtime\\wsgi.py\", line 225, in _LoadHandler\n    handler = __import__(path[0])\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 676, in Decorate\n    return func(self, *args, **kwargs)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 1850, in load_module\n    return self.FindAndLoadModule(submodule, fullname, search_path)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 676, in Decorate\n    return func(self, *args, **kwargs)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 1722, in FindAndLoadModule\n    description)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 676, in Decorate\n    return func(self, *args, **kwargs)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_import_hook.py\", line 1665, in LoadModuleRestricted\n    description)\n  File \"C:\\Documents and Settings\\ladds\\My Documents\\udacity\\sigh\\main.py\", line 3, in \n    import ply\nImportError: No module named ply\nINFO     2012-10-20 22:34:00,030 dev_appserver.py:2884] \"GET / HTTP/1.1\" 500 -</pre>\n\n<p>thanks for any help.</p>\n"},{"tags":["google-app-engine","channel-api"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12999091,"title":"In the GAE channel API, how high can duration_minutes be set?","body":"<p>I am implementing a Google App Engine app for which I need to create channels at a high rate. To avoid incurring excessive costs owing to the relatively stingy quota for channels, I am going to use the approach of <a href=\"http://stackoverflow.com/questions/8147221/best-method-of-channel-pooling-in-google-app-engine\">channel pooling</a></p>\n\n<p>Since in this model, channels will be reused by future clients, I would like them to be as long lived as possible - up to 24 hours, which is the time after which quotas reset and extending a channel is no longer profitable. This seems straightforward:</p>\n\n<pre><code>        token = create_channel(clid, duration_minutes=1440)\n</code></pre>\n\n<p>...but I would like to know if the duration_minutes argument has an upper limit. Does anyone know what it is?</p>\n"},{"tags":["google-app-engine","rollback"],"answer_count":11,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":6587,"score":3,"question_id":3215140,"title":"Google App Engine: appcfg.py rollback","body":"<p>I'm using Windows 7 and for the life of me I cannot figure out how to call the rollback function on appcfg.py. All I want to know is what to type into the command prompt so I can rollback my app.</p>\n"},{"tags":["google-app-engine","variables","data","go","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12993015,"title":"Golang GAE - Change a variable name in a structure in Datastore","body":"<p>I am programming a Google Apps Engine Go application and I would like to change a variable name inside a structure that is stored in the datastore.</p>\n\n<p>Say I have a struct:</p>\n\n<pre><code>type AA struct{\n    A string\n    BB string\n}\n</code></pre>\n\n<p>And would like to change <code>BB</code> into <code>B</code>. If I try just changing <code>BB</code> into <code>B</code>, the datastore will start giving me errors when it would try to assign stored <code>BB</code> values to new struct <code>AA</code> that does not have that variable. I can add <code>B</code> and still keep <code>BB</code>, but then the struct would start getting messy.</p>\n\n<p>How can I neatly change variable structure in GAE Go datastore without resorting to temporary copying over the entire database and wiping a lot of data?</p>\n"},{"tags":["java","google-app-engine","gwt","google"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12993658,"title":"java google appspot application can I move to another server?","body":"<p>Its possible to move my app hosted in appspot.com to another server.\nIf so what are the steps and requirements?\nMy app its done in eclipse using gae java</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["facebook","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12997550,"title":"Facebook canvas url blank","body":"<p>I have some problems getting canvas url to display for my facebook application that is hosted on google app engine, I'm working with python.</p>\n\n<p>On google app engine (www.my-app.appspot.com) everything works great, but when I try to see my app on facebook the canvas is totally blank.</p>\n\n<p>URL canvas: <a href=\"http://my-app.appspot.com/\" rel=\"nofollow\">http://my-app.appspot.com/</a>\nSecure URL canvas: <a href=\"https://my-app.appspot.com/\" rel=\"nofollow\">https://my-app.appspot.com/</a></p>\n\n<p>Is there something wrong with my configurations?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","django","google-app-engine","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12996904,"title":"How to remove all html tags from django template?","body":"<p>I would like to use django template for e-mail sending.\nBut I should have two version of e-mails - html and plain text. The first version is generated like below:</p>\n\n<pre><code>template_values = {\n     'company_id': company.id\n     }\ntemplate_file = os.path.join(os.path.dirname(__file__), 'templates/email.html')\nhtml = template.render(template_file, template_values)\n</code></pre>\n\n<p>Now I should generate plain text from the same file - <code>templates/email.html</code>, but it contains html tags (like <code>&lt;div style=\"font-size:13px; margin: 14px; position:relative\"&gt;</code>), which I should remove (links should stay, but should be replaced with plain text, for ex., <code>&lt;a href=\"http://example.com\"&gt;Example&lt;/a&gt;</code> should be replaced with something like <code>Example (http://example.com)</code>).</p>\n\n<p>I've read that I shouldn't use regex for this. What kind of built-in GAE library can help me? Or is there any way to use somehow django's <a href=\"https://docs.djangoproject.com/en/dev/ref/templates/builtins/#striptags\" rel=\"nofollow\">striptags</a>?</p>\n"},{"tags":["java","sql-server-2008","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12953690,"title":"Java GAE :: Error: \"Permission denied: Not allowed to issue a socket connect: permission denied..","body":"<p>I got Error when running application as Web Application but the same file when I'm running as a Java Application it is working fine..\nLet me explain in bit more details \nHere is the code which when I'm running as a Java application it is working perfect</p>\n\n<pre><code> package com.gst.user.dao.impl;\nimport java.sql.CallableStatement;\nimport java.sql.DriverManager;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class Sqldbconnect {\n\n    public static void main(String[] argv) throws SQLException {\n\n        System.out.println(\"-------- SQL JDBC Connection Testing ------\");\n\n        try {\n\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n\n        } catch (ClassNotFoundException e) {\n\n            System.out.println(\"Where is your mysql jdbc Driver?\");\n            e.printStackTrace();\n            return;\n\n        }\n\n        System.out.println(\"Mysql JDBC Driver Registered!\");\n\n        Connection connection = null;\n\n        try {\n\n            connection = DriverManager.getConnection(\n                    \"jdbc:sqlserver://Idatabase:65535;DatabaseName=Data_Base\", \"DUser\",\"DPass\");\n\n        } catch (SQLException e) {\n\n            System.out.println(\"Connection Failed! Check output console\");\n            e.printStackTrace();\n            return;\n\n        }\n\n        if (connection != null) {\n            System.out.println(\"You made it!\");\n            connection.close();\n        } else {\n            System.out.println(\"Failed to make connection!\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>But almost the same thing and in the same package if I try to run as web application it throws exception..\nHere is the code for that</p>\n\n<pre><code>package com.gst.user.dao.impl;\n\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport com.gst.user.dao.CallSPDao;\n\npublic class CallSPDaoImpl implements CallSPDao {\n\n    @Override\n    public void callSPDao() throws SQLException {\n        // TODO Auto-generated method stub\n        System.out.println(\"Calling Stored processor Begins\");\n\n        System.out.println(\"-------- SQL JDBC Connection Testing ------\");\n\n        try {\n\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n\n        } catch (ClassNotFoundException e) {\n\n            System.out.println(\"Where is your mysql jdbc Driver?\");\n            e.printStackTrace();\n            return;\n\n        }\n\n        System.out.println(\"Mysql JDBC Driver Registered!\");\n\n        Connection connection = null;\n\n        try {\n\n            connection = DriverManager.getConnection(\n                    \"jdbc:sqlserver://Idatabase:65535;DatabaseName=Data_Base\", \"DUser\",\"DPass\");\n                //  \n        } catch (SQLException e) {\n\n            System.out.println(\"Connection Failed! Check output console\");\n            e.printStackTrace();\n            return;\n\n        }\n\n        if (connection != null) {\n            System.out.println(\"You made it!\");\n            connection.close();\n        } else {\n            System.out.println(\"Failed to make connection!\");\n        }\n    }\n\n\n    }\n</code></pre>\n\n<p>And the exception is ::</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host IL93SQLF031, port 65535 has failed. Error: \"Permission denied: Not allowed to issue a socket connect: permission denied.. Verify the connection properties, check that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port, and that no firewall is blocking TCP connections to the port.\".\nat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1049)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:833)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:716)\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:841)\nat java.sql.DriverManager.getConnection(DriverManager.java:582)\nat java.sql.DriverManager.getConnection(DriverManager.java:185)\nat com.gst.user.dao.impl.CallSPDaoImpl.callSPDao(CallSPDaoImpl.java:38)\nat com.gst.user.action.UnsubscribeAction.unsubscribeUser(UnsubscribeAction.java:39)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\nat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:453)\nat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:292)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:255)\nat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\nat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:236)\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\nat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\nat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\nat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\nat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\nat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\nat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\nat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>The SQLSERVER is accepting the TCP/IP connection..\nAnd I'm using GAE 1.7.2,JDK 1.6.0_29, building JAVA application on Windows x64.\nAny Idea how to solve this issue..I think firewall is not an issue</p>\n\n<p>Any help/idea will be appreciated.</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1569,"score":1,"question_id":9565273,"title":"google app engine service unavailable","body":"<p>I'm was following <a href=\"http://googcloudlabs.appspot.com/\" rel=\"nofollow\">http://googcloudlabs.appspot.com/</a> tutorial to create new Google App Engine project. It throws me an error as per below when I try to run the from my local host, but when    I deployed it working fine. (http://mynewcloudcom.appspot.com/). Please help.</p>\n\n<pre><code>HTTP ERROR: 503\nProblem accessing /. Reason:\nSERVICE_UNAVAILABLE\nPowered by Jetty://\n</code></pre>\n\n<p>Eclipse Console</p>\n\n<pre><code>Mar 05, 2012 10:42:46 AM com.google.apphosting.utils.jetty.JettyLogger info\nINFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\nMar 05, 2012 10:42:46 AM com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\nINFO: Successfully processed C:\\Smartag_Eclipse_Project\\DontEditProject\\war\\WEB-INF/appengine-web.xml\nMar 05, 2012 10:42:46 AM com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\nINFO: Successfully processed C:\\Smartag_Eclipse_Project\\DontEditProject\\war\\WEB-INF/web.xml\nMar 05, 2012 6:42:48 PM com.google.appengine.tools.development.DevAppServerImpl start\nINFO: The server is running at http://localhost:8888/\nMar 05, 2012 6:42:48 PM com.google.appengine.tools.development.DevAppServerImpl start\nINFO: The admin console is running at http://localhost:8888/_ah/admin\n</code></pre>\n"},{"tags":["python","google-app-engine","facebook","authentication","facebook-graph-api"],"answer_count":3,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":2272,"score":5,"question_id":4005963,"title":"How do I get user email using Facebook Graph API in GAE Python?","body":"<p>I'm using Facebook Graph API on Google App Engine. I was able to fetch all the basic info from an user. However when I tried to fetch any user info that requires permission, email for exemple, it always appears as None. I've followed the whole tutorial available at the <a href=\"http://developers.facebook.com/docs/guides/web\" rel=\"nofollow\">developers blog</a>.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>class User(db.Model):\n    id = db.StringProperty(required=True)\n    created = db.DateTimeProperty(auto_now_add=True)\n    updated = db.DateTimeProperty(auto_now=True)\n    name = db.StringProperty(required=True)\n    email = db.StringProperty(required=True)\n    profile_url = db.StringProperty(required=True)\n    access_token = db.StringProperty(required=True)\n\n\nclass BaseHandler(webapp.RequestHandler):\n    \"\"\"Provides access to the active Facebook user in self.current_user\n\n    The property is lazy-loaded on first access, using the cookie saved\n    by the Facebook JavaScript SDK to determine the user ID of the active\n    user. See http://developers.facebook.com/docs/authentication/ for\n    more information.\n    \"\"\"\n    @property\n    def current_user(self):\n        if not hasattr(self, \"_current_user\"):\n            self._current_user = None\n            cookie = facebook.get_user_from_cookie(\n                self.request.cookies, FACEBOOK_APP_ID, FACEBOOK_APP_SECRET)\n            if cookie:\n                # Store a local instance of the user data so we don't need\n                # a round-trip to Facebook on every request\n                user = User.get_by_key_name(cookie[\"uid\"])\n                if not user:\n                    graph = facebook.GraphAPI(cookie[\"access_token\"])\n                    profile = graph.get_object(\"me\")\n                    user = User(key_name=str(profile[\"id\"]),\n                                id=str(profile[\"id\"]),\n                                name=profile[\"name\"],\n                                email=profile[\"email\"],\n                                profile_url=profile[\"link\"],\n                                access_token=cookie[\"access_token\"])\n                    user.put()\n                elif user.access_token != cookie[\"access_token\"]:\n                    user.access_token = cookie[\"access_token\"]\n                    user.put()\n                self._current_user = user\n        return self._current_user\n</code></pre>\n\n<p>And here is the template/HTML:</p>\n\n<pre><code>&lt;fb:login-button autologoutlink=\"true\" perms=\"email\"&gt;&lt;/fb:login-button&gt;\n\n{% if current_user %}\n  &lt;p&gt;&lt;a href=\"{{ current_user.profile_url }}\"&gt;&lt;img src=\"http://graph.facebook.com/{{ current_user.id }}/picture?type=square\"/&gt;&lt;/a&gt;&lt;/p&gt;\n  &lt;p&gt;Hello, {{ current_user.name|escape }}&lt;/p&gt;\n  &lt;p&gt;email: {{ current_user.email }} &lt;/p&gt;\n{% endif %}\n</code></pre>\n\n<p>Is there something wrong? Is there other way to get user email?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12994893,"title":"Google App Engine: How to get 10MB incoming email limit?","body":"<p>As per the url <a href=\"https://developers.google.com/appengine/docs/go/mail/overview\" rel=\"nofollow\">https://developers.google.com/appengine/docs/go/mail/overview</a> (all the way at the end) there are two limits for incoming email. 16K when administrator is recipient and 10MB for all incoming email. What configuration do I need to tweak so the anything@appid.appspotmail.com is not an administrator receipient ?</p>\n"},{"tags":["java","google-app-engine","map"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12981712,"title":"GAE apps development: NullPointerException when returning a hashmap","body":"<p>Basically the user submit the year selected, and then the servlet returns the according annual report.\nThen the user can modify the according information. then the servlet save the information modified.</p>\n\n<p>Assume the stud the user looks for always exist in the em. The problem is:\nIf the user doesn't store annual report information before, and the user submit one year i.e. 2009, everything runs OK. user modifies the infomration and GPAInfoServlet will store the information modified.</p>\n\n<p>However, after finishing the action above, which means the user stored one annual report information before, the user(which means me) gets ERROR <strong>NullPointerException</strong> during the process submitting the year selected</p>\n\n<pre><code>at tcndata.Stud.jdoGetannualReport(Stud.java)\nat tcndata.Stud.getAnnualReport(Stud.java:33)\nat servlet.YearSelectedServlet.doPost(YearSelectedServlet.java:35)\n</code></pre>\n\n<p>Select Year:</p>\n\n<pre><code>public class YearSelectedServlet extends HttpServlet {\npublic void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws IOException {\n    int yearselected = Integer.parseInt(req\n            .getParameterValues(\"yearselected\")[0]);\n    long studid = Long.parseLong(req.getSession().getAttribute(\"studID\")\n            .toString());\n\n    EntityManager em;\n    em = EMF.get().createEntityManager();\n\n    Stud stud = em.find(Stud.class, studid);\n\n    if (stud != null) {\n        Map&lt;Integer, AnnualReport&gt; annualreport;\n        if (stud.getAnnualReport() == null)\n            annualreport = new HashMap&lt;Integer, AnnualReport&gt;();\n        else\n            annualreport = stud.getAnnualReport();\n\n        if (annualreport.containsKey(yearselected)) {\n            AnnualReport thatyear = stud.getAnnualReport()\n                    .get(yearselected);\n            req.getSession().setAttribute(\"thatyear\", thatyear);\n            req.getSession().setAttribute(\"annualReport\", thatyear);\n        }\n    } else {\n        req.getSession().setAttribute(\"Error\", \"alumni not found\");\n        resp.sendRedirect(\"Error.jsp\");\n    }\n    req.getSession().setAttribute(\"yearselected\",\n            req.getParameterValues(\"yearselected\")[0]);\n    req.getSession().setAttribute(\"SearchTag\", \"GPAInfo\");\n    resp.sendRedirect(\"Search.jsp\");\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Save information modified:</p>\n\n<pre><code>public class GPAInfoServlet extends HttpServlet {\npublic void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws IOException {\n\n    AnnualReport thatyear = new AnnualReport();\n\n    thatyear.setAttendSchool(AttendSchool.valueOf(req\n            .getParameterValues(\"AttendSchool\")[0]));\n    .....\n\n    int yearselected = Integer.parseInt(req.getSession()\n            .getAttribute(\"yearselected\").toString());\n    long studid = Long.parseLong(req.getSession().getAttribute(\"studID\")\n            .toString());\n\n    EntityManager em;\n    em = EMF.get().createEntityManager();\n    Stud stud = em.find(Stud.class, studid);\n\n    if (stud != null) {\n        Map&lt;Integer, AnnualReport&gt; annualreport;\n        if (stud.getAnnualReport() == null)\n            annualreport = new HashMap&lt;Integer, AnnualReport&gt;();\n        else\n            annualreport = stud.getAnnualReport();\n\n        annualreport.put(yearselected, thatyear);\n\n        try {\n            stud.setAnnualReport(annualreport);\n            em.merge(stud);\n        } finally {\n            em.close();\n        }\n\n    } else {\n        req.getSession().setAttribute(\"Error\", \"alumni not found\");\n        resp.sendRedirect(\"Error.jsp\");\n    }\n\n    req.getSession().setAttribute(\"SearchTag\", \"GPAInfo\");\n    resp.sendRedirect(\"/Search.jsp\");\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Stud class:    </p>\n\n<pre><code>@Entity( name = \"Stud\")\npublic class Stud{\n    @Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long studID;\n\nprivate Map&lt;Integer,AnnualReport&gt;annualReport = new HashMap&lt;Integer,AnnualReport&gt;();\n\npublic Map&lt;Integer, AnnualReport&gt; getAnnualReport() {\n    return annualReport;\n}\n\npublic void setAnnualReport(Map&lt;Integer, AnnualReport&gt; annualReport) {\n    this.annualReport = annualReport;\n}\n</code></pre>\n\n<p>**I have no ideas what happens.</p>\n\n<p>I already @Embeddable in annualreport:</p>\n\n<pre><code>@Embeddable\n</code></pre>\n\n<p>public class AnnualReport{</p>\n\n<pre><code>@Basic\nprivate AttendSchool attendSchool;\nprivate String attendSchoolNote;\n\n......\n</code></pre>\n\n<p>}</p>\n\n<p>How can I get <strong>NullPointerException</strong> in ** if (stud.getAnnualReport() == null) **</p>\n\n<pre><code>if (stud != null) {\n        Map&lt;Integer, AnnualReport&gt; annualreport;\n        if (stud.getAnnualReport() == null)\n            annualreport = new HashMap&lt;Integer, AnnualReport&gt;();\n        else\n            annualreport = stud.getAnnualReport();\n\n        ....\n    } else {\n        ....\n    }\n</code></pre>\n\n<p><strong>NullPointerException</strong>?</p>\n\n<p>Need helps.... \nI am dying...</p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":56,"score":2,"question_id":12992535,"title":"GWT: Separate client- and server-sides into different WARs","body":"<p>I am planning on building a GWT app that will be deployed to GAE. In addition to the normal (GWT) web client, the server-side code will service requests from other clients besides just the web app. Specifically, it will host a RESTful API that can be hit from any HTTP-compliant client, and it will also service requests from native apps on iOS and Android.</p>\n\n<p>If my <em>understanding</em> of GWT is correct, it's your job to code up both the client-side code (which includes the AJAX requests your app makes back to the server) as well as the server-side request handlers.</p>\n\n<p>This got me thinking: why do I <em>need</em> to package the web client and the web server inside the same WAR? This forces me to (essentially) re-deploy the client-side code every time I want to make a change to the backend. Probably not a big deal, but if I don't have to, I'd prefer to honor \"separation of concerns\".</p>\n\n<p>So I ask: is there a way to essentially deploy a Java-less WAR on GAE in such a way that it just serves pure HTML/JS/CSS back to any clients that will use it, and to then deploy the server-side in its own WAR, and some how link the two up? Thanks in advance!</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":240,"score":0,"question_id":6521872,"title":"Cron not running","body":"<p>My cron has stopped running. If I enter the url manually it works. But the cron page in dashboard says \"Hasn't been run\". I tried changing frequency, timezone but to no avail.</p>\n\n<p>My cron.yaml looks:</p>\n\n<pre><code>cron:\n\n- description: clear data\n  url: /data\n  schedule: every 1 minutes\n</code></pre>\n\n<p>Does any one has any idea on why its not running ? Please help.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":12994003,"title":"Limit on incoming email size?","body":"<p>Is there a limit on incoming email size ? Its not even reaching my handler if email size is more than few lines. This started happening since last week on go runtime. Not sure its a bug or limit introduced on purpose.</p>\n"},{"tags":["google-app-engine","google-bigquery"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12789983,"title":"Error: redirect_uri_mismatch with a google app using the Big Query API?","body":"<p>Hi so I have been trying to make an app that uses a Biq Query API.</p>\n\n<p>All the authentication and client secrets for OAuth2 work fine when I load the app locally, however after deploying the code I get the following error:</p>\n\n<p>Error: redirect_uri_mismatch\nRequest Details</p>\n\n<pre><code>scope=https://www.googleapis.com/auth/bigquery\nresponse_type=code\nredirect_uri=https://terradata-test.appspot.com/oauth2callback\naccess_type=offline\nstate=https://terradata-test.appspot.com/\ndisplay=page\nclient_id=660103924069.apps.googleusercontent.com\n</code></pre>\n\n<p>But looking at my API Console, I find that the redirect uri <a href=\"https://terradata-test.appspot.com/oauth2callback\" rel=\"nofollow\">https://terradata-test.appspot.com/oauth2callback</a> is in my list or redirect uri's:</p>\n\n<blockquote>\n  <p>Redirect URIs:</p>\n  \n  <p>1.https://terradata-test.appspot.com/oauth2callback</p>\n  \n  <p>2.http://terradata-test.appspot.com/oauth2callback</p>\n  \n  <p>3.http://1.terradata-test.appspot.com/oauth2callback</p>\n  \n  <p>4.https://code.google.com/oauthplayground</p>\n</blockquote>\n\n<p>I'm not sure what I'm missing to fix this problem? Why is there a redirect error with a uri that is listed in the API console?</p>\n\n<p>The app builds the OAuth2 decorator to pass through to the Biq Query API like this: </p>\n\n<pre><code>CLIENT_SECRETS = os.path.join(os.path.dirname(__file__),\n   'client_secrets.json')\n\ndecorator = oauth2decorator_from_clientsecrets(\n    CLIENT_SECRETS,\n    'https://www.googleapis.com/auth/bigquery')\n\nhttp = httplib2.Http(memcache)   \n\nbq = bqclient.BigQueryClient(http, decorator)\n</code></pre>\n\n<p>Is there any more code I should put to clarify the situation? Any input would be greatly appreciated.  Thanks so much!</p>\n\n<p>Shan</p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12992707,"title":"GWT: How to force client to re-download entire app when new version available?","body":"<p>I'm writing my first GWT/GAE app and thought of an \"edge case\" where I deploy a new version that dramatically changes the front-end (GWT/JS) code.</p>\n\n<p>If someone is logged in and is actively using my app, and I perform this deployment, I'd like something along to the following things to happen:</p>\n\n<ol>\n<li>Use a modal dialog to flag the user that a new version of the app is available, and that when they click the \"OK\" button on the dialog the screen will change</li>\n<li>They click OK</li>\n<li>All work on the current page they are on is saved (somehow - HTML5 persistence maybe?)</li>\n<li>They are logged out (necessary?)</li>\n<li>The browser downloads the new \"version\" of the client app (new HTML/JS/CSS)</li>\n<li>They are logged back in</li>\n<li>They are brought back to the page/state where they last left off, with (hopefully) no work lost</li>\n</ol>\n\n<p>How do other GWT/GAE maestros deal with this use case? Am I on track or way off base? Thanks in advance!</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1505,"score":3,"question_id":6319807,"title":"Google App Engine: how to download datastore as XML or CSV","body":"<p>I'm trying to download my data from App Engine. As suggested <a href=\"http://stackoverflow.com/questions/6008929/using-java-google-app-engine-bulkloader-to-download-entire-datastore-to-one-csv-f/6010286#6010286\">here</a>, I'm using the following command to grab it as CSV:</p>\n\n<pre><code>appcfg.py download_data --filename=backup.csv --application=MyAppId --url=http://MyAppId.appspot.com/remote_api --rps_limit=500 --bandwidth_limit=2500000 --batch_size=100\n</code></pre>\n\n<p>But the resulting file is always a binary SQLite file, not CSV. </p>\n\n<p>How can I get my data as CSV or XML?</p>\n"},{"tags":["google-app-engine","jpa","datanucleus","database-com","database-com-sdk"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":279,"score":3,"question_id":7718683,"title":"Salesforce's Database.com and Google App Engine via JPA","body":"<p>Currently i try to connect (via JPA/Datanucleus) with an application, hosted by Google App Engine, to the database service of database.com (Salesforce)</p>\n\n<p>After many hours of reading and trying, i could not find any solution.</p>\n\n<p>So, is it even possible??</p>\n\n<p>Some Information....\nDatabase.com provides JPA: <a href=\"http://forcedotcom.github.com/java-sdk/jpa-provider\" rel=\"nofollow\">http://forcedotcom.github.com/java-sdk/jpa-provider</a>, but i could not found any sdk on this side, but i found a jar-file hosted by grepcode <a href=\"http://grepcode.com/snapshot/repo1.maven.org/maven2/com.force.sdk/force-jpa/22.0.7-BETA/\" rel=\"nofollow\">http://grepcode.com/snapshot/repo1.maven.org/maven2/com.force.sdk/force-jpa/22.0.7-BETA/</a> - Possibly there is currently no official release ...</p>\n\n<p>The problem is that this SDK from Salesforce needs datanucleus 2.0, but Google App Engine includes only datanucleus 1.1.5. So i try to update theses libaries and found this.... code.google.com/p/datanucleus-appengine/ . I tried a few hours to replace the old libaries and to use the newer, but unsuccessfully. The error was that eclipse could not find some libaries, because the newer libaries, provided by the side above, have different package structure - </p>\n\n<p>I am thankful for any help...</p>\n\n<p>Kotake</p>\n"},{"tags":["google-app-engine","gae-datastore","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12985028,"title":"java - appengnie code to get child entity from datastore not working","body":"<p>i have this code to check if a child entity already exists in datastore. The problem is that it works for one parent-child relation but always returns null for another relation. </p>\n\n<p>i have four kind of entities in my app - ORG, Contact, Profile, ProfileOrg. Contact kind entities are children of ORG and ProfileOrg are children of Profile. The logic to add a contact to ORG is to get all childentities for the given org and then check for a property. if property matches i return the entity else null. this works perfectly for ORG-Contact relation. but the exact same logic for Profile-ProfileOrg relation doesnot work. it always returns null. Below is my code:</p>\n\n<p>This is the code to get all childentities and check if its property \"orgID\" matches or not.</p>\n\n<pre><code>public static Entity getSingleProfileOrg(Key profileKey, String orgID) {\n\n    Iterable&lt;Entity&gt; childProfileOrgs = Util.listChildren(\"profileOrg\",profileKey);\n\n    for (Entity e : childProfileOrgs) {\n        if (e.getProperty(\"orgID\").toString() == orgID) {\n            return e;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>This is the code to query datastore.</p>\n\n<pre><code>public static Iterable&lt;Entity&gt; listChildren(String kind, Key ancestor) {\n  logger.log(Level.INFO, \"Search entities based on parent\");\n  Query query = new Query(kind);\n  query.setAncestor(ancestor);\n  query.addFilter(Entity.KEY_RESERVED_PROPERTY, FilterOperator.GREATER_THAN, ancestor);\n  PreparedQuery pq = datastore.prepare(query);\n  return pq.asIterable();\n}\n</code></pre>\n\n<p>Please help. this has got me stuck.</p>\n\n<p>Edit: Code for getting ChildEntities for org which works perfectly</p>\n\n<pre><code>public static Entity getSingleContact(Key orgKey, String phoneContactID) {\n    Iterable&lt;Entity&gt; childContacts = Util.listChildren(\"contact\", orgKey);\n\n\n    for (Entity e : childContacts) {\n        if (e.getProperty(\"contactID\") == phoneContactID) {\n            return e;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Edit: Code to create or update ProfileOrg</p>\n\n<pre><code>public static void createOrUpdateProfileOrg(String profileID,\n        String orgName, String ownerID) {\n    String orgID = ownerID + \"_\" + orgName;\n    Entity Profile = Product.getProfile(profileID);\n    //Key profileKey = KeyFactory.createKey(\"Profile\", profileID);\n    Key profileKey = Profile.getKey();\n    Entity profileOrg = getSingleProfileOrg(profileKey, orgID);\n    if (profileOrg == null) {\n        profileOrg = new Entity(\"profileOrg\", profileKey);\n        profileOrg.setProperty(\"name\", orgName);\n        profileOrg.setProperty(\"orgID\", orgID);\n        profileOrg.setProperty(\"owner\", ownerID);\n        profileOrg.setProperty(\"profileID\", profileID);\n        Util.persistEntity(profileOrg);\n    }\n\n}\n</code></pre>\n\n<p>the line</p>\n\n<pre><code>Entity Profile = Product.getProfile(profileID);\n</code></pre>\n\n<p>should be working fine as it is used to create profiles also and i dont see any problem there.</p>\n\n<p>As i always get a null from getSingleProfileOrg(profileKey, orgID); i end up getting duplicate child entities.</p>\n"},{"tags":["java","google-app-engine","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":9960940,"title":"Deployed default guestbook - what does major minor mean and how do I fix it?","body":"<p>So when I deployed the default guestbook application I get a server error. When I checked the logs, I received the following error:\n\"java.lang.UnsupportedClassVersionError: guestbook/SignGuestbookServlet : Unsupported major.minor version 51.0\"</p>\n\n<p>What does this mean and how do I go about fixing it?</p>\n"},{"tags":["java","google-app-engine","restlet"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12986421,"title":"Restlet : Router with RoleAuthorizer : routes does not work","body":"<p>i'm trying to use Restlet on GAE. I have a guard followed by the root router. 2 roleAuthorizer, one for the admin and a the other for the users. then 2 router behind the roleauthorizer for the routes between uri and the ressource classes. It's strange because, the route doesn't work. If i use the attachDefault it's ok but for the routes with attach : nothing !</p>\n\n<p>here is my code :</p>\n\n<pre><code>public synchronized Restlet createInboundRoot() {\n\n         Router rootRouter = new Router(getContext());\n\n    pubRouter = new Router(getContext());\n\n    String version=\"/book/v\"+System.getProperty(\"API_VERSION\");\n    pubRouter.attachDefault(BookRessource.class);\n    pubRouter.attach(version+\"/book\",BookRessource.class);\n\n     RoleAuthorizer ra1 = new RoleAuthorizer();\n     ra1.getAuthorizedRoles().add(MyEnroler.DEVELOPER);\n     ra1.getAuthorizedRoles().add(MyEnroler.ADMINISTRATOR);\n     ra1.setNext(pubRouter);       \n\n     rootRouter.attach(version, ra1);\n\n     adminRouter = new Router(getContext());\n\nString developerVersion=\"/admin/v1\";\n    adminRouter.attach(developerVersion+\"/developer\", DeveloperRessource.class);\n    adminRouter.attach(developerVersion+\"/method\",MethodRessource.class);\n\nRoleAuthorizer ra2 = new RoleAuthorizer();\n    ra2.getAuthorizedRoles().add(MyEnroler.ADMINISTRATOR);\n    ra2.setNext(adminRouter);\n    rootRouter.attach(developerVersion, ra2); \n\n    ChallengeAuthenticator guard=\n       new ChallengeAuthenticator( getContext(),ChallengeScheme.HTTP_BASIC,\"OPA\");\n    guard.setVerifier(new MyVerifier());\n    guard.setEnroler(new MyEnroler());\n    guard.setNext(rootRouter);\n    return guard;\n\n }\n</code></pre>\n\n<p>and an extract of my \"web.xml\" :</p>\n\n<pre><code> &lt;servlet&gt;\n  &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;org.restlet.ext.servlet.ServerServlet&lt;/servlet-class&gt;\n &lt;/servlet&gt;\n &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>if i want try this : <a href=\"http://domain.appspot.com/api/book/v1/book\" rel=\"nofollow\">http://domain.appspot.com/api/book/v1/book</a>, i received a 404 error.\ncan you help me ? </p>\n"},{"tags":["python","google-app-engine","python-2.7","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12969438,"title":"Custom Error Page for Over Quota Error in webapp2","body":"<p>To fetch a 500 error I used webapp2 to show a custom error page : <a href=\"http://webapp-improved.appspot.com/guide/exceptions.html#exceptions-in-the-wsgi-app\" rel=\"nofollow\">http://webapp-improved.appspot.com/guide/exceptions.html#exceptions-in-the-wsgi-app</a>. </p>\n\n<p>This page is always shown when an error occurs. Even when there is an over_quota error and app.yaml is correctly configured.</p>\n\n<p>How can i show a custom page for Quota_over Error ?</p>\n\n<p>In app.yaml:-</p>\n\n<pre><code>error_handlers:\n  - error_code: over_quota\n    file: over_quota.html\n</code></pre>\n"},{"tags":["python","google-app-engine","suds"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12983973,"title":"AttributeError for SUDS in GAE","body":"<p>I am trying to include the SUDS library in a Python project through Google App Engine.</p>\n\n<p>My code tries the following:</p>\n\n<pre><code>from suds.client import Client\nfrom suds.wsse import *\n</code></pre>\n\n<p>And, once I've deployed on GAE, I encounter the following error:</p>\n\n<pre><code>File \".../myfile.py\", line 13, in &lt;module&gt;\nfrom suds.client import Client\n\nFile \".../suds/__init__.py\", line 154, in &lt;module&gt;\nimport client\n\nFile \".../suds/client.py\", line 25, in &lt;module&gt;\nimport suds.metrics as metrics\n\nAttributeError: 'module' object has no attribute 'suds'\n</code></pre>\n\n<p>I've been looking around for a little while, and it seems like SUDS is workable with GAE. I added the fixes outlined <a href=\"http://omiethenull.blogspot.com/2010/08/suds-and-appengine.html\" rel=\"nofollow\">here</a>, but that doesn't seem to be the problem. It seems like App Engine doesn't even get to that point.</p>\n\n<p>Any info or suggestions?</p>\n\n<p>I'm using Python 2.7 and SUDS 0.4.</p>\n"},{"tags":["java","google-app-engine","datanucleus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":335,"score":0,"question_id":10005863,"title":"GAE , Some Exception after upgrade datanucleus jar packages","body":"<p>When I changed the sdk orm jar to v2 (default including by sdk),I got some excepion info.It's about the datanucleus-core-3.0.6.jar has ben registed bla bla....\nAfter search,I knew it was a bug in 3.0.6. So, I relpace it by datanucleus-core-3.0.10.jar.\nBut it not success when compile the pojo Enhancer</p>\n\n<pre><code>java.lang.RuntimeException: Unexpected exception\n    at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:76)\n    at com.google.appengine.tools.enhancer.Enhance.&lt;init&gt;(Enhance.java:71)\n    at com.google.appengine.tools.enhancer.Enhance.main(Enhance.java:51)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:74)\n    ... 2 more\nCaused by: java.lang.NoSuchMethodError: org.datanucleus.plugin.PluginManager.&lt;init&gt;(Lorg/datanucleus/PersistenceConfiguration;Lorg/datanucleus/ClassLoaderResolver;)V\n    at org.datanucleus.OMFContext.&lt;init&gt;(OMFContext.java:159)\n    at org.datanucleus.enhancer.DataNucleusEnhancer.&lt;init&gt;(DataNucleusEnhancer.java:172)\n    at org.datanucleus.enhancer.DataNucleusEnhancer.&lt;init&gt;(DataNucleusEnhancer.java:150)\n    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1157)\n    ... 7 more\n</code></pre>\n\n<p>this is my jar file in the \\lib\\user\\orm</p>\n\n<pre><code>asm-3.3.1.jar\ndatanucleus-api-jdo-3.0.5.jar\ndatanucleus-api-jpa-3.0.6.jar\ndatanucleus-appengine-2.0.0-final.jar\ndatanucleus-core-3.0.10.jar\ngeronimo-jpa_2.0_spec-1.0.jar\njdo-api-3.0.jar\ntransaction-api-1.1.jar\n</code></pre>\n\n<p>I has been looking for all day. Does any know what problem with it?</p>\n"},{"tags":["android","google-app-engine","request","gwt-rpc"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":470,"score":1,"question_id":7261630,"title":"Android to Appengine RPC Nullponter on server","body":"<p>I have a Appengine connected Andorid project, to enable RPC calls between the server and the Android device. When I'm doing calls on the GWT client everything works perfectly, but when I'm doing calls from the Android app the server throws this nullpointer exception. I'm making RPC calls with a Requestfactory. GAE version 1.5.2</p>\n\n<pre><code>[ERROR] Unexpected error\njava.lang.NullPointerException\n    at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:768)\n    at com.google.web.bindery.requestfactory.server.ServiceLayerCache.getOrCache(ServiceLayerCache.java:225)\n    at com.google.web.bindery.requestfactory.server.ServiceLayerCache.resolveRequestFactory(ServiceLayerCache.java:198)\n    at com.google.web.bindery.requestfactory.server.SimpleRequestProcessor.process(SimpleRequestProcessor.java:203)\n    at com.google.web.bindery.requestfactory.server.SimpleRequestProcessor.process(SimpleRequestProcessor.java:127)\n    at com.google.web.bindery.requestfactory.server.RequestFactoryServlet.doPost(RequestFactoryServlet.java:133)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>The problem is that the stack trace doesn't provide any information about some issues in my code.</p>\n\n<p>What I want to do is to send an Exception from the Android Client to the AppEngine Server. So that's the android side code.</p>\n\n<pre><code>new AsyncTask&lt;Void, Void, Void&gt;() {\n\n            @Override\n            protected Void doInBackground(Void... arg0) {\n                MyRequestFactory factory = (MyRequestFactory) Util\n                .getRequestFactory(context,\n                        MyRequestFactory.class);\n                ExceptionRequest request = factory.exceptionRequest();\n\n                ExceptionProxy ep = request.create(ExceptionProxy.class);\n                ep.setClassName(aThrowable.getClass().getSimpleName());\n                ep.setRevision(1);\n                ep.setVersionName(\"2.1.2\");\n                ep.setStack(\"\");\n\n                request.updateException(ep).fire();\n                return null;\n            }\n\n        }.execute();\n</code></pre>\n\n<p>And that throws this exception (Internal Server Error)</p>\n\n<pre><code>09-05 22:29:36.104: ERROR/AndroidRuntime(602): Caused by: java.lang.RuntimeException: Internal Server Error\n09-05 22:29:36.104: ERROR/AndroidRuntime(602):     at com.google.web.bindery.requestfactory.shared.Receiver.onFailure(Receiver.java:44)\n09-05 22:29:36.104: ERROR/AndroidRuntime(602):     at com.google.web.bindery.requestfactory.shared.impl.AbstractRequestContext.fail(AbstractRequestContext.java:677)\n09-05 22:29:36.104: ERROR/AndroidRuntime(602):     ... 13 more\n</code></pre>\n\n<p>Doing RPC on the web client works perfectly but on the Android one I can't get it to work.</p>\n"},{"tags":["python","google-app-engine","email","kindle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12406800,"title":"Attachment Sent to Kindle From Google Appengine not being Recognized","body":"<p>Using the code below I am trying to send an attachment to my Kindle from an Appengine App. </p>\n\n<pre><code>from google.appengine.api import mail\n     import cStringIO\n     out=cStringIO.StringIO()\n     out.write('Hello, World!')\n\n     reading = mail.EmailMessage(\n          sender='[sender email]',\n          subject='convert',\n          to=[list or recipient emails], \n          attachments=[('test.txt', out.getvalue())])\n\n     reading.send()\n</code></pre>\n\n<p>However, Amazon replies with </p>\n\n<blockquote>\n  <p>Your email to Kindle(s) did not include any attachments</p>\n</blockquote>\n\n<p>Next I tried adding my email to the list of recipients and I get the email with the attachment just fine. </p>\n\n<p>How come Amazon doesn't?  </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12983110,"title":"appengine java command line deploy, refresh token","body":"<p>What is the appropriate way to deploy a Java AppEngine app via the command line without requiring a google username / password or any user input?</p>\n\n<p>I'm able to do this with Python / Go apps using the --oauth2 command, retrieving the refresh_token from the .appcfg_oatuh2_tokens json file, and then running the following command:</p>\n\n<pre><code>appcfg.py --oauth2_refresh_token=$MY_TOKEN update hello-world-app/\n</code></pre>\n\n<p>But I haven't been able to figure out an equivalent for Java. I'd like to add Java Appengine deploys to our CI product, <a href=\"https://drone.io\" rel=\"nofollow\">drone.io</a>, to compliment our existing Heroku and Dotcloud deployment options. Any advice?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12977899,"title":"ndb.get_multi() returning null entities","body":"<p>I want to use <code>ndb.get_multi(list_of_keys)</code> to avoid doing queries which are more expensive. If my understanding is correct, <code>ndb.get_multi()</code> only charges you 1 read per entity returned, so if you have a list of 50 keys, and only 20 are found, you should only get charged for 20 reads.</p>\n\n<pre><code>        keys = list()\n\n        keys.append(Key('User', 2)) // this user exists\n        keys.append(Key('User', 12)) // this user DOES NOT exist\n        keys.append(Key('User', 15)) // this user DOES NOT exist\n\n        users = ndb.get_multi(keys)\n</code></pre>\n\n<p>What I get back is 3 items, 1 with a user, and 2 with just null values. When I check AppStats, I see that it does indeed charge me for all the keys I put in there, even though 2 did not exist. </p>\n\n<p>Why am I getting null entities back? Shouldn't items not found just be skipped?</p>\n"},{"tags":["google-app-engine","datanucleus"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12920179,"title":"\"Connected\" vs \"disconnected\" data model at GAE: how should I proceed in this case?","body":"<p>It's better to start with an example to illustrate this case. Let's say we have an <code>User</code> class and it should have an list of <code>Post</code>. </p>\n\n<p>The first thought is to create this list inside the <code>User</code> class, but analyzing the use cases we find out that most of the times we want to retrieve the user without its posts and retrieve the posts without the user. However we need the user ID to retrieve posts. So the other way to create the data model is to not have the associations but create <code>Post</code> indexed by <code>User</code> ID.</p>\n\n<p>In terms of cost, what are the pros and cons of both implementations?  </p>\n"},{"tags":["java","google-app-engine","gae-datastore","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12978732,"title":"Hard deleted object still appears in AppEngine admin console","body":"<p>I am using Objectify on GAE for Java. Recently Had a situation where I deleted object using ofy( ).delete() which is supposed hard delete an object off the datastore. </p>\n\n<p>However I was able to still see this hard-deleted object in AppEngine's admin console (datastore viewer). When I try to expand (edit) this object by clicking on the ID/Name column I get an error \"This entity doesn't exist.\" I can still retrieve this object from the datastore using ofy().get(). </p>\n\n<p>Is this because indexes aren't updated? </p>\n\n<p>Thanks in advance! </p>\n"},{"tags":["c#","asp.net","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":32,"score":-2,"question_id":12981197,"title":"How to use google checkout in asp.net","body":"<p>i have to  integrate google checkout   with asp.net  website like \"<code>(https://www.itechline.com/paymentgateway5/) this  is  php  web site \".</code></p>\n"},{"tags":["python","django","google-app-engine","timeout"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2819,"score":2,"question_id":2162115,"title":"How to set timeout for urlfetch in Google App Engine?","body":"<p>I'm trying to have Django (on top of GAE) fetch data from another web service. I'm often hit with error like this:</p>\n\n<blockquote>\n  <p>ApplicationError: 2 timed out Request</p>\n  \n  <p>Method:   GET</p>\n  \n  <p>Request URL:http://localhost:8080/</p>\n  \n  <p>Exception Type:    DownloadError</p>\n  \n  <p>Exception Value: ApplicationError: 2 timed out</p>\n  \n  <p>Exception Location: /google_appengine/google/appengine/api/urlfetch.py in _get_fetch_result, line 325</p>\n</blockquote>\n\n<p>It feels as if it will time out only after 12 seconds (I'm not sure, but it's really short).</p>\n\n<p><strong>Question: how can I set a longer timeout?</strong></p>\n"},{"tags":["google-app-engine","google-bigquery"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":640,"score":3,"question_id":10966841,"title":"Google App Engine: Using Big Query on datastore?","body":"<p>Have a GAE datastore kind with several 100'000s of objects in them. Want to do several involved queries (involving counting queries). Big Query seems a god fit for doing this.</p>\n\n<p>Is there currently an easy way to query a live AppEngine Datastore using Big Query?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":90,"score":3,"question_id":12976652,"title":"Efficient way to do large IN query in Google App Engine?","body":"<p>A user accesses his contacts on his mobile device. I want to send back to the server all the phone numbers (say 250), and then query for any User entities that have matching phone numbers. </p>\n\n<p>A user has a phone field which is indexed. So I do <code>User.query(User.phone.IN(phone_list))</code>, but I just looked at AppStats, and is this damn expensive. It cost me 250 reads for this one operation, and this is something I expect a user to do often. </p>\n\n<p>What are some alternatives? I suppose I can set the User entity's id value to be his phone number (i.e when creating a user I'd do <code>user = User(id = phone_number)</code>), and then get directly by keys via <code>ndb.get_multi(phones)</code>, but I also want to perform this same query with emails too.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["security","google-app-engine","urllib2","choice","urlfetch"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12972306,"title":"Using Google AppEngine Urlfetch instead of urllib2","body":"<p>What is the difference between googles urlfetch over the python lib urllib2 ?</p>\n\n<p>When I came upon Google's urlfetch i thought maybe there were security reasons. Perheps google were safer in terms of malicous urls or something?</p>\n\n<p>Is there any reason why I should choose google over urllib2?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine","networking","webserver","localhost"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12724475,"title":"how can fix this error googleApp engine error 10054","body":"<p>i am using google app engine on my server (listen --address=0.0.0.0 all network) my application a short time correctyl(i get some users input, some process,show the data and insert mysql db) after i take this error message and web browser didn't show anything, my system: google app engine, python 2.7, mysql(via rdbms) i change the port(8080,8091,8090vs...) or restart app engine, my applicayion again work but after then again same error message</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Python27\\lib\\SocketServer.py\", line 284, in _handle_request_noblock\n    self.process_request(request, client_address)\n  File \"C:\\Python27\\lib\\SocketServer.py\", line 310, in process_request\n    self.finish_request(request, client_address)\n  File \"C:\\Python27\\lib\\SocketServer.py\", line 323, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver.py\", line 2734, in __init__\n    BaseHTTPServer.BaseHTTPRequestHandler.__init__(self, *args, **kwargs)\n  File \"C:\\Python27\\lib\\SocketServer.py\", line 639, in __init__\n    self.handle()\n  File \"C:\\Python27\\lib\\BaseHTTPServer.py\", line 343, in handle\n    self.handle_one_request()\n  File \"C:\\Python27\\lib\\BaseHTTPServer.py\", line 313, in handle_one_request\n    self.raw_requestline = self.rfile.readline(65537)\n  File \"C:\\Python27\\lib\\socket.py\", line 476, in readline\n    data = self._sock.recv(self._rbufsize)\nerror: [Errno 10054]\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12978280,"title":"App Engine - Deploy new version error 500 (due to session)","body":"<p>When i deploy a new version to App Engine the session of the user will still active, so if some change appended in the session objects then an error 500 will be triggered.</p>\n\n<p>So to fix that i have to remove my cookies with the jsessionid.</p>\n\n<p>I'm looking for a way to log off all the users if a new version is deployed, just like if you will do it in the development environment in fact.</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12949452,"title":"Filtering by List - Objectify","body":"<p>This query works, the <code>fullPath</code> field is a <code>List&lt;String&gt;</code>:</p>\n\n<pre><code>    KeyLookup lookup \n        = ofy().load().type(KeyLookup.class).filter(\"fullPath IN\", key.getFullPath()).first().get();\n</code></pre>\n\n<p>The query above also fetch the entities having the same <code>String</code> elements in the <code>List&lt;String&gt;</code> as with <code>key.getFullPath()</code>, however it also fetches those entities having the same String in the list with additional <strong>more</strong> String in the list. </p>\n\n<p>How can I filter only those Entity having the exact same elements in the list, like <em>\"no more, no less\"</em> </p>\n\n<p><strong>Update:</strong></p>\n\n<p>For example</p>\n\n<p>One entity (say Object1) field fullPath contains:</p>\n\n<ul>\n<li>\"One\"</li>\n<li>\"Two\"</li>\n<li>\"Three\"</li>\n</ul>\n\n<p>Another entity (say Object2) field fullPath contains:</p>\n\n<ul>\n<li>\"One\"</li>\n<li>\"Two\"</li>\n<li>\"Three\"</li>\n<li>\"Four\"</li>\n</ul>\n\n<p>And key.getFullPath contains:</p>\n\n<ul>\n<li>\"One\"</li>\n<li>\"Two\"</li>\n<li>\"Three\"</li>\n<li>\"Four\"</li>\n</ul>\n\n<p>Then the query above will return <code>Object1</code> and <code>Object2</code>, however what I need is that it only returns <code>Object2</code></p>\n"},{"tags":["google-app-engine","eclipse-plugin"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12976121,"title":"Different behaviour in Eclipse with Google Eclipse Plugin than Google App Engine","body":"<p>I have a Google App Engine project created in Eclipse with the Google Eclipse Plugin.</p>\n\n<p>When I run some of its services locally with the GAE SDK they work fine, but when I deploy the app on \"the real\" Google App Engine and try to access any of these services, chrome throws the following error:</p>\n\n<pre><code>Error: Server Error\n\nThe server encountered an error and could not complete your request.\nIf the problem persists, please report your problem and mention this error message and the query that caused it.\n</code></pre>\n\n<p>On the other hand, I also get <a href=\"https://docs.google.com/file/d/0B1Lg8GzZGJyLU2VMeXc0ckZfekE/edit\" rel=\"nofollow\"><strong>THIS</strong></a> error locally when trying to call an upload method.</p>\n\n<p>All of this is someone else's project and it's meant to work, besides I don't think the error is related to the code, hence, I don't think it's worth it posting it here.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12972289,"title":"Cannot delete data from Appengine Datastore due to error: \"API call datastore_v3.Put() required more quota than is available\"","body":"<p>A Google Appengine application has reached the free resource limits regarding Datastore Stored Data. (All other quotas are OK). Hence I'm trying to delete data from the Datastore (on the <a href=\"https://appengine.google.com/datastore/admin\" rel=\"nofollow\">Datastore Adnmin page</a>). </p>\n\n<p>Only problem is, I cannot delete data because I get this error:</p>\n\n<pre><code>Delete Job Status\nThere was a problem kicking off the jobs. The error was:\nThe API call datastore_v3.Put() required more quota than is available.\n</code></pre>\n\n<p>How to break out from this vicious circle?</p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":11844175,"title":"JDO in AppEngine: keep the original entity when deleting from unowned relationship","body":"<p>I have defined an unowned relationship using JDO 3.0 syntax:</p>\n\n<pre><code>@Persistent\n@Unowned\nprivate Set&lt;Role&gt; roles;\n</code></pre>\n\n<p>I have several predefined roles which should be assigned to users. I use following code for adding/removing roles to users:</p>\n\n<pre><code>roles.add(roleEntity);\nroles.remove(roleEntity); \n</code></pre>\n\n<p>The problem is that removing like this also removes the original entity from the datastore but I just want to remove the reference. I know I could store only Keys inside the parent entity which would solve the problem, but is there a better solution? Using this \"natural\" syntax?</p>\n"},{"tags":["google-app-engine","app-engine-ndb"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12954899,"title":"ndb retrieving entity key by ID without parent","body":"<p>I want to get an entity key knowing entity ID and an ancestor.\nID is unique within entity group defined by the ancestor.\nIt seems to me that it's not possible using ndb interface. As I understand datastore it may be caused by the fact that this operation requires full index scan to perform.\nThe workaround I used is to create a computed property in the model, which will contain the id part of the key. I'm able now to do an ancestor query and get the key</p>\n\n<pre><code>class SomeModel(ndb.Model):\n    ID = ndb.ComputedProperty( lambda self: self.key.id() )\n\n    @classmethod\n    def id_to_key(cls, identifier, ancestor):\n        return cls.query(cls.ID == identifier,\n                         ancestor = ancestor.key ).get( keys_only = True)\n</code></pre>\n\n<p>It seems to work, but are there any better solutions to this problem?</p>\n\n<p><strong>Update</strong>\nIt seems that for datastore the natural solution is to use full paths instead of identifiers. Initially I thought it'd be too burdensome. After reading dragonx answer I redesigned my application. To my suprise everything looks much simpler now. Additional benefits are that my entities will use less space and I won't need additional indexes. </p>\n"},{"tags":["google-app-engine","quota"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12970443,"title":"Quotas haven't increased after the first billing cycle","body":"<p>I enabled billing a month ago, and my quotas on App Engine have remained the same, ie, 100 emails only.</p>\n\n<p>I put a question on Google App Engine groups asking for help, but I still haven't had any help. I raised a support request, but received no answer.</p>\n\n<p><a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine/bkHNYMac-pA\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-appengine/bkHNYMac-pA</a></p>\n\n<p>Is there anything obvious I'm missing with this?</p>\n\n<p>Thanks</p>\n\n<p>Chris</p>\n"},{"tags":["database","performance","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12966253,"title":"Which database model to store data in?","body":"<p>I am writing an application in Google App Engine with python and I want to sort users and user posts into groups.  Users will be able to tag a post with a group ID and then that post will be displayed on the group page.  </p>\n\n<p>I would also like to relate the users to the groups so that only members of a group can tag a post with that group ID and so that I can display all the users of a group on the side.  I am wondering if it would be more efficient to have a property on the user which will have all of the groups listed (I am thinking max 10 or so) or would it be better to have a property on the Group model which lists all of the users (possibly a few hundred).</p>\n\n<p>Is there much of a difference here?</p>\n"},{"tags":["google-app-engine","yaml"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":11978539,"title":"How do I download the index.yaml file for a GAE app?","body":"<p>I tried following the directions at <a href=\"https://developers.google.com/appengine/docs/python/tools/uploadinganapp#Downloading_Source_Code\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/tools/uploadinganapp#Downloading_Source_Code</a></p>\n\n<p>The download does not include the index.yaml file. Anyone know how to force download of index.yaml using appcfg, or another method?</p>\n"},{"tags":["google-app-engine","gae-datastore","python-2.7","gql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":161,"score":0,"question_id":8673105,"title":"How to write a query like SQL's SELECT x FROM ","body":"<p>I want to write a query that does something like this SQL query:</p>\n\n<pre><code>SELECT name FROM contacts WHERE blah blah\n</code></pre>\n\n<p>I know I can do something like this:</p>\n\n<pre><code>for contact in Contacts.gql(WHERE_CLAUSE, args).fetch(1000):\n  print contact.name\n</code></pre>\n\n<p>but isn't there a way to get <code>name</code> directly from a query without having to loop on the results? would it provide any advantage in performance?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12966568,"title":"Breaking up Python list into smaller lists?","body":"<p>Using the IN operation in a Google App Engine query is limited to 30 items in the list per query, so I have to find a way to break up the list into multiple lists with a maximum of 30 items in each array, and query each sub array.</p>\n\n<p>I've come up with a small solution to do this, but it's very inelegant, and I'm not sure if this is the best way to do this. I'm new to Python, so I'm wondering how I might do this correctly or more elegantly?</p>\n\n<p>I'm querying for <code>User.query(User.email IN emails)</code></p>\n\n<pre><code>max_length = 30\niter_count = len(emails) / max_length\nfor i in range(iter_count):         \n    min = i  * max_length\n    max = (i + 1) * max_length\n    if min &gt; len(emails):\n       break\n    if max &gt; len(emails):\n       max = len(emails)\n\n    current_array = emails[min:max]\n    # query this array\n</code></pre>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12449197,"title":"BadArgumentError: _MultiQuery with cursors requires __key__ order in ndb","body":"<p>I can't understand what this error means and apparently, noone ever got the same error on the internet</p>\n\n<pre><code>BadArgumentError: _MultiQuery with cursors requires __key__ order\n</code></pre>\n\n<p>This happens here:</p>\n\n<pre><code>return SocialNotification.query().order(-SocialNotification.date).filter(SocialNotification.source_key.IN(nodes_list)).fetch_page(10)\n</code></pre>\n\n<p>The property source_key is obviously a key and nodes_list is a list of keys items previously retrieved.</p>\n\n<p>What i need is to find all the SocialNotifications that have a field source_key that match one of the keys in the list. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":157,"score":1,"question_id":7483457,"title":"Check of property type in Google App Engine model","body":"<p>Is it possible to detect the type of a model property?</p>\n\n<pre><code>class MODULENAME(db.Model):\n    id1 = db.StringProperty()\n    id2 = db.StringProperty()\n    id3 = db.StringProperty()\n    property1 = db.StringProperty()\n    property2 = db.StringProperty()\n    createdate = db.DateProperty(auto_now_add=True)\n    changedate = db.DateProperty(auto_now_add=True)\n    isactive = db.BooleanProperty()\n</code></pre>\n\n<p>How do I test if \"id3\" is an int, float or a string?</p>\n\n<p>I've learned so far that a model have a method called \"_all_propertie\" that returns a list with all the properties I've created in the model. Now I want to check for the property type so I can make the form automatically with te correct html input types and if I change the property type, the HTML will change automatically.</p>\n\n<p>Does that make sense or am I too far off track?</p>\n\n<p>/Michael</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":12966041,"title":"GAE Email Quota stopping emails although billing is enabled","body":"<p>For some reason I can't send emails through my GAE app (python) because I reached my email limit. The weird part is I have billing enabled, shouldn't the quota progress bar dissapear and it charges me for emails??</p>\n\n<p>I know i'm not exceeding the per minute quota. I currently have the OverQuota try/catch but if I take that off my app crashes...</p>\n\n<p>My app has sent 100/100 emails and it shows in my GAE dashboard 3 emails that I will get charged for.. how did 3 emails sneak in their past the 100 email limit? Why can't more emails sneak through and I get charged for them? </p>\n\n<p>Is there a special way to remove the email over quota than regular enabled billing w/GAE? does anyone know? Thanks</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12966001,"title":"EntityNotFoundException: Could not retrieve entity of kind ... when commit","body":"<p>When my servlet tried to write a record, it encontered the following \nexception: </p>\n\n<pre><code>javax.persistence.EntityNotFoundException: Could not retrieve entity of  kind MyEntity with key MyEntity(1318001) \n</code></pre>\n\n<p>even if I have check and ensured that the id 1318001 doesn't exist in \nmy datastore. It happened when my servlet commit the transation. </p>\n\n<p>Here is my coding: </p>\n\n<pre><code>EntityManagerFactory emfInstance = \n    Persistence.createEntityManagerFactory(\"transactions-optional\"); \nEntityManager em = emfInstance.createEntityManager(); \nem.getTransaction().begin(); \nMyEntity ent = new MyEntity(....); \nem.persist(ent); \nlog.info(ent.toString()); \nem.getTransaction().commit(); \n</code></pre>\n\n<p>I can see my ent in the log, but it caused the exception in the commit \nstatement. Can somebody please help. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":11,"favorite_count":35,"up_vote_count":47,"down_vote_count":0,"view_count":55034,"score":47,"question_id":81451,"title":"Upload files in Google App Engine","body":"<p>I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty.</p>\n\n<p>I'll be glad anyone can provide code sample ( both the client and the server side) on how this can be done, thanks</p>\n"},{"tags":["python","google-app-engine","twitter","oauth"],"answer_count":3,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":829,"score":5,"question_id":3847151,"title":"Twitter library for App Engine Python?","body":"<p>I am looking for an Python library which is compatible with app engine and provides an interface to the Twitter API.</p>\n\n<p>I found the <a href=\"http://code.google.com/p/python-twitter/\" rel=\"nofollow\">python-twitter</a> project - has anyone has used it on app engine?</p>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":457,"score":2,"question_id":3097502,"title":"Get a Google App Engine user by their user_id","body":"<p>In <a href=\"http://code.google.com/appengine/\" rel=\"nofollow\">GAE</a>, can you look up a <a href=\"http://code.google.com/appengine/docs/python/users/userclass.html\" rel=\"nofollow\"><code>User</code></a> with the User object's <code>user_id</code>?</p>\n\n<p>In other words, is there something equivalent to:</p>\n\n<pre><code>from google.appengine.api.users import User\n\nuser = User.get_by_id(user_id)\n</code></pre>\n\n<p>Thank you for reading.</p>\n\n<p>Brian</p>\n"},{"tags":["jquery","python","google-app-engine","autocomplete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":71,"score":-3,"question_id":12450876,"title":"python jquery autocomplete on google app engine","body":"<p>I have a python script, with a function inside that can, given a query, will output a few results taken from a massive dataset, too big to put in a jquery script in plain text format. How can I use jquery/javascript or whatever to make a very simply auto-complete search box. I have spent all day trying to get things to work and have had no luck with what I am trying to do. </p>\n\n<p>Also- if it helps, this must be able to work on google app engine </p>\n"},{"tags":["python","google-app-engine","internet-explorer-8","blobstore","webapp2"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12960904,"title":"webapp2 How to remove Cache-Control: no-cache from response header?","body":"<p>I'm having trouble serving an appengine blobstore over HTTPS, specifically with IE 8 &amp; IE 7 browsers, as the browser just does not like to serve downloadable contents over https.\nAccording to a microsoft article, it's because of the <strong>Cache-Control: no-cache</strong> header.</p>\n\n<p><a href=\"http://blogs.msdn.com/b/ieinternals/archive/2009/10/02/internet-explorer-cannot-download-over-https-when-no-cache.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/ieinternals/archive/2009/10/02/internet-explorer-cannot-download-over-https-when-no-cache.aspx</a></p>\n\n<p>The solution proposed in the article is to remove the Cache-Control: no-cache header from the response.\nHowever, it seems that webapp2 automatically adds this header even after I tried setting it to something else.</p>\n\n<p>According to the source code, it seems to be added to every response \n<a href=\"http://code.google.com/p/webapp-improved/source/browse/webapp2.py#362\" rel=\"nofollow\">http://code.google.com/p/webapp-improved/source/browse/webapp2.py#362</a></p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n        \"\"\"Constructs a response with the default settings.\"\"\"\n        super(Response, self).__init__(*args, **kwargs)\n        self.headers['Cache-Control'] = 'no-cache'\n</code></pre>\n\n<p>Is there a way to override this behavior?</p>\n\n<p>This is what I tried to do when building my response, but still the 'Cache-Control: no-cache' would still be there once the response is rendered.</p>\n\n<pre><code>self.response.headers['Pragma'] = 'cache-control'\nself.response.headers['Cache-Control'] = 'private'\nself.response.cache_control.no_cache = None\nself.response.cache_control.public = False\nself.response.cache_control.max_age = 1\n</code></pre>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12961599,"title":"How does Objectify query works","body":"<p>Suppose I have this code:</p>\n\n<pre><code>    Query&lt;Car&gt; q = ofy().load().type(Car.class);\n    for (Car car : q) {\n        // Do something with car...\n    }\n</code></pre>\n\n<p>How does  <code>Query&lt;T&gt;</code> works, suppose the datastore contains million records, will <code>Query</code> load all <code>Car</code> objects into the memory or it will fetch it one by one from the datastore?</p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12960424,"title":"Jinja2 html buttons: Catch POST on different pages","body":"<p>I've got a GAE-app that uses Jinja2 templates to serve its html pages.</p>\n\n<p>Now in my main python file I've got one class, mainhandler, with a GET and a POST method. This all works for the welcome screen where there is a button to do something. When the button is clicked, the POST method is invoked which calls a second page. </p>\n\n<p>I can't find anything about how to catch the button events on the second page, result.html. And make it progress methods in the main python file.</p>\n\n<p>So: \"How can I work with errorMail and toCalendar buttons on result.html?</p>\n\n<p>This is my main file:</p>\n\n<pre><code># -*- coding: utf8 -*- \n\nimport webapp2\nfrom apiclient.discovery import build\nfrom oauth2client.appengine import OAuth2Decorator\n\nfrom format import formatFile\n\nimport jinja2\nimport os\n\njinja_environment = jinja2.Environment(\n    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))\n\ndecorator = OAuth2Decorator(secret)\n\nclass MainHandler(webapp2.RequestHandler):\n    @decorator.oauth_required\n    def get(self):\n        template = jinja_environment.get_template('index.html')\n        self.response.out.write(template.render())\n\n    #processes the file and shows the results\n    def post(self):\n        # Get the authorized Http object created by the decorator.\n        http = decorator.http()\n\n        service = build('calendar', 'v3', http=http,\n           developerKey='secret')\n\n        # Make a list of calendars\n        calendar_list = service.calendarList().list().execute()\n\n        totalList = formatFile(self.request.get('file'))\n\n        template_values = {\"totalList\": totalList, \"calendar_list\": calendar_list}\n\n        template = jinja_environment.get_template('result.html')\n        self.response.out.write(template.render(template_values))\n\n\napp = webapp2.WSGIApplication([('/', MainHandler)],\n                              debug=True)\n</code></pre>\n\n<p>This is page index.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;&lt;title&gt;Rooster Uploader&lt;/title&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;form method=\"post\"&gt;\n    &lt;div&gt;&lt;label&gt;Select file:&lt;/label&lt;/div&gt;\n    &lt;input type=\"file\" name=\"file\"&gt;\n    &lt;br&gt;\n    &lt;input type=\"submit\" name=\"upload\" value=\"Upload\"&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is page result.html:</p>\n\n<p></p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n\n    &lt;/head&gt; \n    &lt;body&gt;\n        &lt;h3&gt;De volgende data staat klaar voor je agenda:&lt;/h3&gt;\n        &lt;table border=\"1\" cellpadding=\"3\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Dag&lt;/th&gt;\n                &lt;th&gt;Datum&lt;/th&gt;\n                &lt;th&gt;Tijd&lt;/th&gt;\n                &lt;th&gt;Omschrijving&lt;/th&gt;\n            &lt;/tr&gt;\n                 {% for line in totalList %}\n                &lt;tr&gt;\n                    {% for item in line %}\n                    &lt;td&gt;{{ item }}&lt;/td&gt;\n                    {% endfor %}\n            &lt;/tr&gt;        \n            {% endfor %}\n        &lt;/table&gt;\n\n        &lt;br&gt;\n        &lt;b&gt;Selecteer de agende waar de diensten in geplaatst worden:&lt;/b&gt;\n        &lt;br&gt;\n        &lt;select&gt;\n            {% for calendar_list_entry in calendar_list['items'] %}\n            &lt;option value=&gt;{{ calendar_list_entry['summary'] }}&lt;/option&gt;\n            {% endfor %}\n        &lt;/select&gt;\n        &lt;br&gt;\n\n        &lt;form method=\"post\"&gt;\n            &lt;input type=\"submit\" name=\"toCalendar\" value=\"In kalender plaatsen\"&gt;\n        &lt;/form&gt;\n        &lt;br&gt;\n        &lt;b&gt;Uitvoer incorrect? Klik dan op onderstaande knop om foutmeldings-email te sturen.&lt;/b&gt;\n        &lt;form method=\"post\"&gt;\n            &lt;input type=\"submit\" name=\"errorMail\" value=\"Uitvoer incorrect!\"&gt;\n        &lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine","session","login"],"answer_count":1,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1679,"score":8,"question_id":3885996,"title":"How to use session on Google app engine","body":"<p>I'm building an application using Google app engine with python, and I'm stuck with making sessions. Is there any app that already does that for app engine? Thank you.</p>\n"},{"tags":["python","google-app-engine","authentication"],"answer_count":9,"favorite_count":26,"up_vote_count":25,"down_vote_count":0,"view_count":14489,"score":25,"question_id":1020736,"title":"Custom authentication in google app engine (python)","body":"<p>Does anyone know or know of somewhere I can learn how to create a custom authentication process using python and google app engine?</p>\n\n<p>I don't want to use google accounts for authentication and want to be able to create my own users.</p>\n\n<p>If not specifically for google app engine, any resource on how to implement authentication using python and django?</p>\n"},{"tags":["google-app-engine","jdo","graniteds"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12961657,"title":"GraniteDS + GAE + JDO = Error with externalizer","body":"<p>Scenario:</p>\n\n<p>A simple Spring controlled Google App Engine web app with dynamic GraniteDS destinations and GAS3 code generator.</p>\n\n<p>Parent entity:</p>\n\n<pre><code>@PersistenceCapable(detachable=\"true\")\npublic class Parent {\n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key key;\n\n@Persistent\nprivate String name;\n\n@Persistent(mappedBy=\"parent\")\nprivate List&lt;Child&gt; children;\n\npublic Parent() { }\n</code></pre>\n\n<p>Child entity:</p>\n\n<pre><code>@PersistenceCapable(detachable=\"true\")\npublic class Child {\n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key key;\n\n@Persistent\nprivate String name;\n\n@Persistent\nprivate Parent parent;\n\npublic Child() { }\n</code></pre>\n\n<p>Service class:</p>\n\n<pre><code>@Service(\"parentService\")\n@RemoteDestination(id=\"parentService\", source=\"parentService\")\npublic class ParentService {\n\npublic List&lt;Parent&gt; getAllParents() {\n    pm = PMF.get();\n    List&lt;Parent&gt; list = null;\n    try {\n        Query q = pm.newQuery(Parent.class);\n        list = (List&lt;Parent&gt;) q.execute();\n    } finally {\n        pm.close();\n    }\n    return list;\n}\n</code></pre>\n\n<p>Parto of granite-config.xml:</p>\n\n<pre><code>&lt;converters&gt;\n    &lt;converter type=\"org.granite.messaging.amf.io.convert.impl.GAEKeyConverter\"/&gt;\n&lt;/converters&gt;\n\n&lt;class-getter type=\"org.granite.datanucleus.DataNucleusClassGetter\"/&gt;\n\n&lt;externalizers&gt;\n    &lt;externalizer type=\"org.granite.datanucleus.DataNucleusExternalizer\"&gt;\n        &lt;include annotated-with=\"javax.jdo.annotations.PersistenceCapable\"/&gt;\n    &lt;/externalizer&gt;\n&lt;/externalizers&gt;\n</code></pre>\n\n<p>On the Flex side I'm not using Tide [hate it]. Instead I use my own solution, looks like this:</p>\n\n<pre><code>&lt;s:DataGrid id=\"dg\" dataProvider=\"{ParentService.getAllParents().bind(dg)}\" &gt;\n</code></pre>\n\n<p>This works perfectly on other projects, it's just an encapsulation for a simple RemoteObject</p>\n\n<p><strong>The Problem:</strong></p>\n\n<p>First, I get this error every time an object is sent from Flex to Java:</p>\n\n<pre><code>The ActionScript3 class bound to foo.bar.Parent (ie: [RemoteClass(alias=\"foo.bar.Parent\")]) implements flash.utils.IExternalizable but this Java class neither implements java.io.Externalizable nor is in the scope of a configured externalizer (please fix your granite-config.xml)\n</code></pre>\n\n<p>But as you can see on my granite-config.xml, the externalizer is set.</p>\n\n<p>What am I doing wrong? </p>\n"},{"tags":["google-app-engine","full-text-search"],"answer_count":3,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":189,"score":4,"question_id":10951936,"title":"When should I NOT use App Engine's Full Text Search API?","body":"<p>So far, I've used App Engine's Full Text Search to help search through existing entities in my datastore. This involves creating at least one <code>Document</code> per entity, and linking the two together somehow. And every time I change the entity, I must change the corresponding <code>Documents</code>.</p>\n\n<p>My question is, why not just store all my data in <code>Documents</code> and forget about Datastore entities? The search API supports a much richer <a href=\"https://developers.google.com/appengine/docs/python/search/overview#Query_Language_Overview\" rel=\"nofollow\">query language</a> that can handle multiple inequality filters and boolean operators, unlike the datastore.</p>\n\n<p>Am I missing something about the design of the search API that would preclude using it to replace the Datastore entirely?</p>\n"},{"tags":["eclipse","google-app-engine","scala"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":9433099,"title":"How do I deploy a Scala application on Google App with Eclipse?","body":"<p>I'm trying to create a Scala project that I can then deploy on Google App with Eclipse. The problem is I can't add Scala classes in a Google App project and I can't make the Google App plugin recognize my Scala project as a Google project. How is that being done? I'm a beginner programmer and I need it for a project. If this can't be done with Eclipse, what should I use instead?\nThanks in advance</p>\n"},{"tags":["css","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":604,"score":1,"question_id":4875970,"title":"Google App Engine CSS Problem","body":"<p>I have a strange problem with css file in google app engine.<br>\nIf i use </p>\n\n<hr>\n\n<p><strong>handlers:</strong></p>\n\n<pre><code>- url: /cms/.* script: cms.py\n\n- url: /\n  script: main.py\n\n- url: /stylesheets\n  static_dir: stylesheets\n</code></pre>\n\n<hr>\n\n<p>in my <code>app.yaml</code> file for <a href=\"http://localhost:8080/\" rel=\"nofollow\">http://localhost:8080/</a> it works fine.<br>\nBut when i redirect it to another handler in <code>main.py</code> It gives such an error</p>\n\n<pre><code>Not found error: /login did not match any patterns in application configuration.\n</code></pre>\n\n<p>When I use this</p>\n\n<hr>\n\n<p><strong>handlers:</strong></p>\n\n<pre><code>- url: /cms/.* script: cms.py\n\n- url: .*\n  script: main.py\n\n\n- url: /stylesheets\n  static_dir: stylesheets\n</code></pre>\n\n<hr>\n\n<p>whole logic works just fine ( no error occurs wherever I roam in the application) but no sign of css this time.<br>\nI hope you can help me.</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["python","google-app-engine","mapreduce","app-engine-ndb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12910282,"title":"AppEngine MapReduce NDB, DeadlineExceededError","body":"<p>we're trying to heavily use <strong>MapReduce</strong> in our project. \nNow we have this problem, there is a lots of '<strong>DeadlineExceededError</strong>' errors in the log...</p>\n\n<p>One example of it ( traceback differs each time a bit ) :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 207, in Handle\n    result = handler(dict(self._environ), self._StartResponse)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~sba/1.362471299468574812/mapreduce/base_handler.py\", line 65, in post\n    self.handle()\n  File \"/base/data/home/apps/s~sba/1.362471299468574812/mapreduce/handlers.py\", line 208, in handle\n    ctx.flush()\n  File \"/base/data/home/apps/s~sba/1.362471299468574812/mapreduce/context.py\", line 333, in flush\n    pool.flush()\n  File \"/base/data/home/apps/s~sba/1.362471299468574812/mapreduce/context.py\", line 221, in flush\n    self.__flush_ndb_puts()\n  File \"/base/data/home/apps/s~sba/1.362471299468574812/mapreduce/context.py\", line 239, in __flush_ndb_puts\n    ndb.put_multi(self.ndb_puts.items, config=self.__create_config())\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/model.py\", line 3625, in put_multi\n    for future in put_multi_async(entities, **ctx_options)]\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 323, in get_result\n    self.check_success()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 318, in check_success\n    self.wait()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 302, in wait\n    if not ev.run1():\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/eventloop.py\", line 219, in run1\n    delay = self.run0()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/eventloop.py\", line 181, in run0\n    callback(*args, **kwds)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/tasklets.py\", line 365, in _help_tasklet_along\n    value = gen.send(val)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/ndb/context.py\", line 274, in _put_tasklet\n    keys = yield self._conn.async_put(options, datastore_entities)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1560, in async_put\n    for pbs, indexes in pbsgen:\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1350, in __generate_pb_lists\n    incr_size = pb.lengthString(pb.ByteSize()) + 1\nDeadlineExceededError\n</code></pre>\n\n<p><strong>My questions are:</strong> </p>\n\n<ul>\n<li>How can we avoid this Error? </li>\n<li>What happens with the job, does it get retried (if so how can we control it?) or not ? </li>\n<li>Does it causes data inconsistency in the end ?</li>\n</ul>\n"},{"tags":["facebook","google-app-engine","favicon"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12941151,"title":"Facebook share image or favicon not showing from GAE app redirected link","body":"<p>I have a website hosted on GAE but I use my own domain name have it redirect to my-app.appspot.com. When I facebook share this link, I can't see any image associated with it but when I use share the direct my-app.appspot.com link it works fine..</p>\n\n<p>Same thing with the favicon, the small icon on the tab in the browser doesn't show when I use the link the redirects to my app!</p>\n"},{"tags":["image","google-app-engine","upload"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":641,"score":3,"question_id":4283001,"title":"How to load Blobproperty image in Google App Engine?","body":"<p>I wrote some codes.</p>\n\n<p>I could save image in BobProperty.</p>\n\n<p>But I cannot load image into HTML page...</p>\n\n<p>source code:</p>\n\n<p>class Product(db.Model):</p>\n\n<pre><code>        image = db.BlobProperty()\n            ...\n</code></pre>\n\n<p>class add:</p>\n\n<pre><code>  productImage = self.request.get('image')\n\n  product.image = db.Blob(productImage)\n\n  product.put()\n</code></pre>\n\n<p>but i wrote {{product.image}} into html code. But there were like ��袀 ���� ���� ���� (����������� ��(:(������� (������� (��>̢��� (�������>������Y������K��׏</p>\n\n<p>What should i do if i want load image from datastore?</p>\n"},{"tags":["java","xml","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":11599418,"title":"Schedule backup on Google App Engine","body":"<p>I am trying to use the schedule backup mechanism from GAE but keep getting an error message than the cron.xml has a syntax error. The same error message appears using Google's samples.</p>\n\n<p>I am using sdk 1.7.0</p>\n\n<h2>I. cron.xml file</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;cronentries&gt;\n  &lt;cron&gt;\n    &lt;url&gt;/_ah/datastore_admin/backup.create?name=BackupToCloud&amp;kind=LogTitle&amp;kind=EventLog&amp;filesystem=gs&amp;gs_bucket_name=whitsend&lt;/url&gt;\n    &lt;description&gt;My Daily Backup&lt;/description&gt;\n    &lt;schedule&gt;every 12 hours&lt;/schedule&gt;\n    &lt;target&gt;ah-builtin-python-bundle&lt;/target&gt;\n  &lt;/cron&gt;\n&lt;/cronentries&gt;\n</code></pre>\n\n<h2>II. cron.xsd (the one provided by default)</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xs:schema attributeFormDefault=\"unqualified\" elementFormDefault=\"qualified\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n  &lt;xs:element name=\"cronentries\" type=\"cronentries-Type\"/&gt;\n\n  &lt;xs:complexType name=\"cronentries-Type\"&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element type=\"cron-Type\" name=\"cron\" maxOccurs=\"unbounded\" minOccurs=\"0\"/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=\"cron-Type\"&gt;\n    &lt;xs:all&gt;\n      &lt;xs:element type=\"xs:string\" name=\"url\"/&gt;\n      &lt;xs:element type=\"xs:string\" name=\"description\" minOccurs=\"0\"/&gt;\n      &lt;xs:element type=\"xs:string\" name=\"schedule\"/&gt;\n      &lt;xs:element type=\"xs:string\" name=\"timezone\" minOccurs=\"0\"/&gt;\n      &lt;xs:element type=\"target-Type\" name=\"target\" minOccurs=\"0\"/&gt;\n    &lt;/xs:all&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:simpleType name=\"target-Type\"&gt;\n    &lt;xs:restriction base=\"xs:string\"&gt;\n      &lt;xs:pattern value=\"[a-z\\d\\-]{1,100}\"/&gt;\n    &lt;/xs:restriction&gt;\n  &lt;/xs:simpleType&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n\n<h2>III. The error message</h2>\n\n<p>\"The reference to entity \"kind\" must end with the ';' delimiter.\" I am getting the same error message when checking the xml validity using a on-line xml validator.</p>\n\n<p>==> Did someone face the same issue and if so how did you solve it ?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12951362,"title":"GAE CDI jpa primefaces","body":"<p>I would write a application with :\nGAE CDI (weld) JPA JSF2 facelets primefaces.</p>\n\n<p>It is possible into GAE? \nHow i can use the weld on GAE?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12958181,"title":"Google app engine datastore timeout on admin task","body":"<p>I have created a backend for my google app that looks like this:</p>\n\n<pre><code>backends:\n- name: dbops\n  options: dynamic\n</code></pre>\n\n<p>and I've created an admin handler for it:</p>\n\n<pre><code>- url: /backend/.*\n  script: backend.app\n  login: admin\n</code></pre>\n\n<p>Now I understand that admin jobs should be able to run forever and I'm launching this job with a TaskQueue, but for some reason mine is not.  My job is simply creating a summary table in datastore from a much larger table.  This table holds about 12000 records and it takes several minutes for it to process the job on the development server, but it works fine.  When I push the code out to appspot and try to get it to run the same job, I'm getting what looks like datastore timeouts.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1536, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~myzencoder/dbops.362541511260492787/backend.py\", line 626, in get\n    for asset in assets:\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 2314, in next\n    return self.__model_class.from_entity(self.__iterator.next())\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_query.py\", line 2816, in next\n    next_batch = self.__batcher.next()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_query.py\", line 2678, in next\n    return self.next_batch(self.AT_LEAST_ONE)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_query.py\", line 2715, in next_batch\n    batch = self.__next_batch.get_result()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 604, in get_result\n    return self.__get_result_hook(self)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_query.py\", line 2452, in __query_result_hook\n    self._batch_shared.conn.check_rpc_success(rpc)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_rpc.py\", line 1224, in check_rpc_success\n    raise _ToDatastoreError(err)\nTimeout: The datastore operation timed out, or the data was temporarily unavailable.\n</code></pre>\n\n<p>Anyone got any suggestions on how to make this work?</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12956635,"title":"GAE / Java excessive new process restarts starting yesterday","body":"<p>Apologies if this question does not quite meet stackoverflow standards.\nBut as user of paid instances in GAE, we are being sent here for support.\nSo I am asking an is-it-down-or-is-it-just-me question here.</p>\n\n<p>Starting yesterday, I see excessive process restarts (\"This request caused a new process to be started for your application, and thus caused your application code to be loaded for the first time.\") No changes to settings. </p>\n\n<p>Based on a log review, this started between 2012-10-17 20:09:49 and 20:11:03. Problem persists, 2012-10-18 09:42. All times PDT.</p>\n\n<p>It seems to have gotten worse over time, so requests obviously take 20s instead of 2s or so. This is for GAE/Java instances. Am i alone? Remedies?</p>\n"},{"tags":["python","google-app-engine","web-applications","billing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12938432,"title":"Billing is not enabling in Google App Engine account","body":"<p>I went through the steps of \"Enable Billing\" 3 times in the past 3 days and after everytime I start the enable billing on my GAE python app it tells me billing is activating then I come back and it asks me to enable billing...</p>\n\n<p>So I go through the process again, enter my credit card (I've tried switching cards - my cards work elsewhere, nothing is wrong with them).</p>\n\n<p>On the \"Activating billing\" page it says it'll take up to 15 minutes, I read elsewhere it could take 30 minutes to activate billing.</p>\n\n<p>The reason this is a problem is my app is live but I have reached the db read quota for the free account.</p>\n\n<p>Does anyone have any idea, esp the google people, why my app billing isn't enabling. I need to fix this ASAP, this app is for a client.. I'm going to temporarily stop db reads from the site in my code so people can at least access the content.</p>\n\n<p>Would really, really appreciate your help!!!</p>\n\n<p>Note - I never got any errors of charges failing or anything... I'm just prompted to click the enable billing button again..</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12956582,"title":"Merge (append) GAE datastores from different apps","body":"<p>I have 2 different apps that are basically identical but I had to setup a 2nd app because of GAE billing issues.</p>\n\n<p>I want to merge the datastore data from the 1st app with the 2nd apps data store. By merge, I simply want to append the 2 data stores. To help w/visualise</p>\n\n<p>App1:</p>\n\n<ol>\n<li>SomeModel</li>\n<li>AnotherModel</li>\n</ol>\n\n<p>App2:</p>\n\n<ol>\n<li>SomeModel </li>\n<li>Another Model</li>\n</ol>\n\n<p>I want app 2's datastore to be the sum of app2 and app1. The only way I see to transfer data from one app to another on the app engine administration page will overwrite the target destination data... I don't want to overwrite. thx for any help</p>\n"},{"tags":["google-app-engine","bigtable"],"answer_count":14,"favorite_count":70,"up_vote_count":77,"down_vote_count":5,"view_count":13965,"score":72,"question_id":565963,"title":"Hidden limitations of Google App Engine?","body":"<p>I've been looking into writing a web app that will run on Google App Engine, but before I commit myself to the platform I'd like to know what, if any, limitations there are. I'm aware of the basic CPU/bandwidth restrictions that Google places on the free service, but I'm wondering more about development restrictions like how BigTable compares to a standard relational database and what Python libraries aren't available on the GAE platform (and what alternatives Google provides).</p>\n\n<p>Basically I'm looking for any hidden roadblocks before I commit to the platform. Thanks for your help!</p>\n"},{"tags":["google-app-engine","gwt","google-eclipse-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":12952800,"title":"How to set Development / Production","body":"<p>i'm looking for deploy my app to Google App Engine. </p>\n\n<p>I've developed with GWT+Eclipse+GWT Eclipse Plugin+ Hibernate+Mysql in local. All is fine. I run in dev mode and i see anything; so i've sign up for Google SQL Cloud and activate billing. </p>\n\n<p>However i'm not able to find out how switching between Mysql in Dev e SQL Cloud in Prod.</p>\n\n<p>When i run on local i obtain a </p>\n\n<pre><code>    SEVERE: javax.servlet.ServletContext log: Exception while dispatching incoming RPC call\ncom.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract java.util.Vector net.adeptus.client.util.UtilService.getCodex()' threw an unexpected exception: java.lang.NoClassDefFoundError: Could not initialize class com.mysql.jdbc.Driver\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:385)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:588)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.mysql.jdbc.Driver\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at org.hibernate.connection.DriverManagerConnectionProvider.configure(DriverManagerConnectionProvider.java:80)\n    at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:143)\n    at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:84)\n    at org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java:438)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:91)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2163)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2159)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1383)\n    at net.adeptus.server.HibernateUtil.initSessionFactory(HibernateUtil.java:21)\n    at net.adeptus.server.HibernateUtil.getSessionFactory(HibernateUtil.java:15)\n    at net.adeptus.server.HibernateUtil.getSession(HibernateUtil.java:29)\n    at net.adeptus.server.util.UtilServiceImpl.getCodex(UtilServiceImpl.java:65)\n    at net.adeptus.server.util.UtilServiceImpl.getCodex(UtilServiceImpl.java:130)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:569)\n    ... 34 more\n</code></pre>\n\n<p>when i use for the first time a RPC. </p>\n"},{"tags":["python","image","google-app-engine","datastore"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":591,"score":0,"question_id":5107450,"title":"how to upload stored image in datastore in google appengine?","body":"<p>I have an image stored as Blob in data store in google appengine (python) .. i want to upload this image to a server .</p>\n\n<p>1- what is required to be done to upload this stored image to the server ?</p>\n"},{"tags":["google-app-engine","gae-datastore","app-engine-ndb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12942166,"title":"Least costly way to update a ComputedProperty when child models are updated?","body":"<p>I have a data model with parent-child relationships structured as such:</p>\n\n<pre><code>Container\n  Metric\n    Value\n</code></pre>\n\n<p>Each of these models has a \"status\" field, but only the Value model allows input on that field; the other models have a ComputedProperty that changes based on the \"status\" field in their ancestor Value models.  As it stands, I get current results on the parents when the model is read directly (just like @property behavior), but stale results when the model is part of a query.</p>\n\n<p>So I need to update the parent models' \"status\" field when the child model's status is updated.  I know I could put a <code>_post_put_hook()</code> in the Value model and just <code>put()</code> all parents whenever it's updated, but that seems expensive.</p>\n\n<ul>\n<li>Is there a way to have the parents \"watch\" the children?</li>\n<li>Is there a less expensive workaround for querying the parents on the \"status\" property? (so I don't have to use ComputedProperty)</li>\n<li>Am I using too many models?  Should I just be mashing them together as StructuredProperties so that one put() puts all?  (although I've had problems with that as well updating the parent's status before the child's)</li>\n<li>Is there something else I'm missing?</li>\n</ul>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12952287,"title":"http 500 error Google App Engine","body":"<p>My program is sending inviting messages.</p>\n\n<p>if you select tag, will call XmppDServlet. </p>\n\n<p>It's very simple program, but i got http 500 when calling XmppDServlet.</p>\n\n<p>How should i do?</p>\n\n<p>Error: Server Error</p>\n\n<p>The server encountered an error and could not complete your request.\nIf the problem persists, please report your problem and mention this error message and the query that caused it.</p>\n\n<p>public class XmppDServlet extends HttpServlet {</p>\n\n<pre><code>public void doPost(HttpServletRequest req, HttpServletResponse resp)\n        throws IOException{\n    //sendInvite(req,resp);\n\n}\nprivate void sendInvite(HttpServletRequest req, HttpServletResponse resp)\n          throws IOException {\n        XMPPService xmpp = XMPPServiceFactory.getXMPPService();\n\n        try {\n            //System.out.println(invitee);\n          xmpp.sendInvitation(new JID(\"myaccount@gmail.com\"));\n          resp.getWriter().print(\"Chat invite sent to: \");\n        } catch (Exception exception) {\n          resp.getWriter().print(\"Unable to send chat invite to \" );\n        }\n      }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","google-app-engine","jpa"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12896162,"title":"Update all objects in JPA entity","body":"<p>I'm trying to update all my 4000 Objects in <code>ProfileEntity</code> but I am getting the following exception:</p>\n\n<pre><code>javax.persistence.QueryTimeoutException: The datastore operation timed out, or the data was temporarily unavailable.\n</code></pre>\n\n<p>this is my code:</p>\n\n<pre><code>public synchronized static void  setX4all() \n{\n\n    em = EMF.get().createEntityManager();\n\n    Query query = em.createQuery(\"SELECT p FROM ProfileEntity p\");\n    List&lt;ProfileEntity&gt; usersList = query.getResultList();\n\n    int a,b,x;\n    for (ProfileEntity profileEntity : usersList) \n    {\n        a = profileEntity.getA();\n        b = profileEntity.getB();\n        x = func(a,b);\n        profileEntity.setX(x);\n\n        em.getTransaction().begin();        \n        em.persist(profileEntity);        \n        em.getTransaction().commit();\n\n    }\n\n    em.close();\n\n}\n</code></pre>\n\n<p>I'm guessing that I take too long to query all of the records from <code>ProfileEntity</code>.\nHow should I do it?  </p>\n\n<ul>\n<li>I'm using Google App Engine so no UPDATE queries are possible. </li>\n</ul>\n\n<p><strong>Edited 18/10</strong><br>\nIn this 2 days I tried:<br>\nusing Backends as Thanos Makris suggested but got to a dead end. You can see my question <a href=\"http://stackoverflow.com/questions/12921874/google-app-engine-backend-servlet-not-responding\">here</a>.<br>\nreading DataNucleus suggestion on Map-Reduce but really got lost.</p>\n\n<p>I'm looking for a different direction. Since I only going to do this update once, Maybe I can update manually every 200 objects or so.<br>\nIs it possible to to query for the first 200 objects and after it the second 200 objects and so on?</p>\n"},{"tags":["google-app-engine","channels"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12949592,"title":"Appengine Channel attempts to connect to IP 0.0.0.0","body":"<p>I am debugging a problem with Channel API use which occurs locally (compiled) and deployed depending on my GWT Logging configuration when I GWT compile it.</p>\n\n<p>NOTE: I am aware of the problem in GAE 1.7.2 with Channels and add in the _ah_DevSocketFilter in my web.xml when running local, to get around it.</p>\n\n<p>Starting up my page locally (127.0.0.1:8888) I get the following output in Chrome's console:</p>\n\n<pre><code>GET http://127.0.0.1:8888/_ah/channel/dev?command=connect&amp;channel=channel-vzwzro-1350552986426-ALL:ALL 500 (ApplicationError: 2: Received exception executing http method POST against URL http://0.0.0.0:8888/_ah/channel/connected/: Permission denied: Not allowed to issue a socket connect: permission denied.) \n</code></pre>\n\n<p>Does anyone know where it's getting that 0.0.0.0 IP address from, and why?</p>\n"},{"tags":["google-app-engine"],"answer_count":6,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":1789,"score":6,"question_id":5149914,"title":"How to Save My User Account and Password in Google App Engine Launcher?","body":"<p>I'm using the Google App Engine Launcher to deploy my app to the GAE servers. Is there a way to save my user account and password so I don't have to type it in every time I redeploy? </p>\n\n<p>I'm still in the learning stages of using GAE so typing my 16 odd character password gets tiresome when I redeploy 15+ times per evening. </p>\n\n<p>-Kort</p>\n"},{"tags":["java","google-app-engine","gwt","smartgwt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12946133,"title":"Returning ListGridRecord[ ] on success of RPC in a smartGWT application","body":"<p>I have created a class which extends com.smartgwt.client.widgets.grid.ListGridRecord and implements com.google.gwt.user.client.rpc.IsSerializable. I am returning an array of such objects as a result of RPC. But on running in dev mode it is throwing an exception </p>\n\n<pre><code>    [java] SEVERE: javax.servlet.ServletContext log: Exception while dispatching incoming RPC call\n [java] com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract com.aman.gwt.test.shared.FriendRecord[] com.aman.gwt.test.client.FirstService.test()' threw an unexpected exception: java.lang.UnsatisfiedLinkError: com.smartgwt.client.util.JSOHelper.createObject()Lcom/google/gwt/core/client/JavaScriptObject;\n [java]     at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:389)\n [java]     at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:579)\n [java]     at com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\n [java]     at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\n [java]     at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\n [java]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n [java]     at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n [java]     at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n [java]     at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n [java]     at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n [java]     at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n [java]     at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n [java]     at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n [java]     at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n [java]     at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n [java]     at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n [java]     at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n [java]     at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n [java]     at org.mortbay.jetty.Server.handle(Server.java:326)\n [java]     at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n [java]     at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n [java]     at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n [java]     at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n [java]     at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n [java]     at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n [java]     at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n [java] Caused by: java.lang.UnsatisfiedLinkError: com.smartgwt.client.util.JSOHelper.createObject()Lcom/google/gwt/core/client/JavaScriptObject;\n [java]     at com.smartgwt.client.util.JSOHelper.createObject(Native Method)\n [java]     at com.smartgwt.client.core.DataClass.&lt;init&gt;(DataClass.java:35)\n [java]     at com.smartgwt.client.core.RefDataClass.&lt;init&gt;(RefDataClass.java:30)\n [java]     at com.smartgwt.client.data.Record.&lt;init&gt;(Record.java:59)\n [java]     at com.smartgwt.client.widgets.grid.ListGridRecord.&lt;init&gt;(ListGridRecord.java:127)\n [java]     at com.aman.gwt.test.shared.FriendRecord.&lt;init&gt;(FriendRecord.java:13)\n [java]     at com.aman.gwt.test.server.FirstServiceImpl.test(FirstServiceImpl.java:26)\n [java]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n [java]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n [java]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n [java]     at java.lang.reflect.Method.invoke(Method.java:616)\n [java]     at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:561)\n [java]     ... 38 more\n [java] \n [java] Oct 18, 2012 1:52:36 AM com.google.appengine.tools.development.LocalResourceFileServlet doGet\n [java] WARNING: No file found for: /favicon.ico\n</code></pre>\n\n<p>Shared class and the service implementation method is:</p>\n\n<pre><code>     package com.aman.gwt.test.shared;\n     import com.smartgwt.client.widgets.grid.ListGridRecord;\n     import com.google.gwt.user.client.rpc.IsSerializable;\n     public class FriendRecord extends ListGridRecord implements IsSerializable{\n\npublic FriendRecord(){\n\n}\n\npublic FriendRecord(String name,String id){\n    setName(name);\n    setId(id);\n}\npublic void setName(String name){\n    setAttribute(\"name\",name);\n}\n//public void setImgSrc(String imgSrc){\n    //setAttribute(\"imgSrc\",imgSrc);\n//}\npublic void setId(String id){\n    setAttribute(\"id\",id);\n}\n    }\n\n\n\n\n\n    public FriendRecord[] test(){\n    FriendRecord[] fr = new FriendRecord[10];\n    for(int i=0;i&lt;10;i++){\n        fr[i]=new FriendRecord(\"name\"+i,String.valueOf(i*2));\n    }\n    return fr;\n\n}\n</code></pre>\n\n<p>Am I doing it right? Only thing I want to be able to do here is to fill ListGrid with these records.And why does ListGrid only accepts JSObjects not Java objects?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":130,"score":2,"question_id":12848438,"title":"Latest on Mapping a Naked Domain to Google App","body":"<p>I created a new App and was able to map www.sitename.com to my google app. Once upon a time you could also <strong>\"redirect the naked domain\"</strong> name in the google apps domain admin (i.e. sitename.com) but this does not appear to be possible in the admin console any more. The button button to do this is missing now. Any ideas where it went?</p>\n\n<p>I can get the site to come up no problem when I call the www.sitename.com address, however if I request the sitename.com I get a 404 error page from GAE.</p>\n\n<p>I've tried setting up A records with the bare domain pointing to google, but this does not seem to be working.</p>\n\n<p>Is is even possible to make a naked domain to google apps anymore. Any ideas of anything else I can try? Has anyone else ran into this issue in lately?</p>\n\n<p>I'm using Netfirms and they provide DNS for for my domains too. I don't seem to have url forwarding on Netfirms.</p>\n"},{"tags":["google-app-engine","amazon-rds","elastic-beanstalk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12933537,"title":"Performance expectations for an Amazon RDS instance","body":"<p>I am using Google App Engine for an app, and the app is currently hitting the datastore at a rate of around 2.5 million row writes, and 4.5 million row reads per day.</p>\n\n<p>I am currently porting the app to Amazon Elastic Beanstalk and Amazon RDS due to the very high costs of running an application on GAE.</p>\n\n<p>Based on the values above, how can I find out / estimate what type of RDS instance I will need for my requirements? Is the above a considerable amount of processing for, lets say a Small or Micro MySQL RDS instance to process in a day?</p>\n"},{"tags":["python","google-app-engine","cookies","urlfetch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12884618,"title":"How to get all cookies with urlfetch?","body":"<p>In accordance with <a href=\"https://developers.google.com/appengine/docs/python/urlfetch/fetchfunction\" rel=\"nofollow\">GAE fetch documentation</a>, cookies are not handled with redirects:</p>\n\n<blockquote>\n  <p>Cookies are not handled upon redirection. If cookie handling is needed, set follow_redirects to False and handle both cookies and redirects manually.</p>\n</blockquote>\n\n<p>So, I am trying to implement manual solution:</p>\n\n<pre><code>page = urlfetch.Fetch(\n    url = url,\n    payload = form_data,\n    method = urlfetch.POST,\n    headers = headers,\n    follow_redirects = False,\n    deadline = 60)\ncookies = ''\nwhile page.status_code == 302:\n    url = page.headers.get('location')\n    if page.headers.get('set-cookie'):\n        cookies = page.headers.get('set-cookie')\n        headers['cookie'] = cookies\n    page = urlfetch.Fetch(\n        url = url,\n        method = urlfetch.GET,\n        headers = headers,\n        follow_redirects = False,\n        deadline = 60)\nif page.status_code == 200 and page.content:\n    self.response.out.write(page.content)\n</code></pre>\n\n<p>But it doesn't work as expected. Looks like I am missing <a href=\"https://developers.google.com/appengine/docs/python/urlfetch/responseobjects\" rel=\"nofollow\">some cookies</a>:</p>\n\n<blockquote>\n  <p>header_msg\n      An instance of httplib.HTTPMessage containing the response headers. If there may be multiple headers with the same name (for\n  example, Set-Cookie headers), call header_msg.get_headers(header_name)\n  to retrieve the values as a list.</p>\n</blockquote>\n\n<p>But how should I use that <em>header_msg</em>?</p>\n"},{"tags":["java","google-app-engine","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12945789,"title":"How to synchronize Google sign out to GAE logout as well","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12930186/how-to-detect-user-already-logged-out-from-google-at-my-gae-website\">How to detect user already logged out from Google at my GAE website</a>  </p>\n</blockquote>\n\n\n\n<p>How do to this: If I want to to log out from my GAE application once I click \"Sign out\" from Google website. I want my GAE identity synchronize with Google website.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12921120,"title":"GAE: Instance shutdown from source code","body":"<p>In user interface of Google App Engine, in \"Instances\" I can shutdown selected instances by press button \"Shutdown\".\nCan I do shutdown by program from source code?</p>\n"},{"tags":["python","eclipse","google-app-engine","pydev"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12944425,"title":"PyDev OS independent project file","body":"<p>Is there any way I could use the same PyDev configuration file across two different operating systems? that is I want to replace all the os specific paths with environmental variables to make this configuration file os independent but cannot really see how could I achieve this goal without resorting to manual editing of the this file.\nIt's not obvious for me how to do it from the eclipse/pydev level.</p>\n\n<p>Can anybody help?</p>\n\n<p>Below is an example of an os tied configuration file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;?eclipse-pydev version=\"1.0\"?&gt;&lt;pydev_project&gt;\n&lt;pydev_variables_property name=\"org.python.pydev.PROJECT_VARIABLE_SUBSTITUTION\"&gt;\n&lt;key&gt;GOOGLE_APP_ENGINE&lt;/key&gt;\n**&lt;value&gt;C:\\Program Files (x86)\\Google\\google_appengine&lt;/value&gt;**\n&lt;/pydev_variables_property&gt;\n&lt;pydev_pathproperty name=\"org.python.pydev.PROJECT_SOURCE_PATH\"&gt;\n&lt;path&gt;/Cozeebaby&lt;/path&gt;\n&lt;/pydev_pathproperty&gt;\n&lt;pydev_pathproperty name=\"org.python.pydev.PROJECT_EXTERNAL_SOURCE_PATH\"&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/PyAMF&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/antlr3&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/django_1_3&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/enum&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/fancy_urllib&lt;/path&gt;\n&lt;path&gt;${GOOGLE_APP_ENGINE}/lib/google-api-python-client&lt;/path&gt;\n&lt;/pydev_pathproperty&gt;\n&lt;pydev_property name=\"org.python.pydev.PYTHON_PROJECT_INTERPRETER\"&gt;Default&lt;/pydev_property&gt;\n&lt;pydev_property name=\"org.python.pydev.PYTHON_PROJECT_VERSION\"&gt;python 2.6&lt;/pydev_property&gt;\n&lt;/pydev_project&gt;\n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":12527425,"title":"appengine 1.7.2 err after upgrade","body":"<p>I upgraded AE to 1.7.2 and now get the following error when first trying to access a page: </p>\n\n<p>What can I do to get 1.7.2 working???    </p>\n\n<pre><code>  Could not initialize class com.google.appengine.tools.appstats.RecordingData\n\nCaused by:\n\njava.lang.NoClassDefFoundError: Could not initialize class   \ncom.google.appengine.tools.appstats.RecordingData\nat com.google.appengine.tools.appstats.Recorder.makeAsyncCall(Recorder.java:300)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\nat com.google.appengine.tools.appstats.AppstatsFilter.call(AppstatsFilter.java:231)\n</code></pre>\n\n<p>Note: the <strong><em>\"RecordingData\"</em></strong> class that could not be initialized is in the <strong><em>appengine-api-labs.jar</em></strong> is definately in my build path only now it is not working.  I guess though that the <strong><em>Could not initialize class</em></strong> error means it's being found but not working.  the <strong><em>NoClassDefFoundError</em></strong> is misleading I suspect.    </p>\n"},{"tags":["mysql","google-app-engine","junit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12917314,"title":"App Engine - Unit testing with MySQL - Too Many Connection","body":"<p>My unit testing fail from time to time and more often since the testing part are getting bigger i get the following error:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Data source rejected establishment of connection,  message from server: \"Too many connections\"\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1014)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:988)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:974)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1104)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2412)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2445)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2230)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.GeneratedConstructorAccessor6.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(DriverManager.java:582)\n    at java.sql.DriverManager.getConnection(DriverManager.java:185)\n    at vidaao.DataBase.getInstance(DataBase.java:30)\n    at vidaao.DataBase.getLastInseredId(DataBase.java:57)\n    at db.DbLocation.add(DbLocation.java:39)\n    at testDb.DbSkillUnitTestCase.setUp(DbSkillUnitTestCase.java:47)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:27)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n\ncom.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Data source rejected establishment of connection,  message from server: \"Too many connections\"\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.Util.getInstance(Util.java:386)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1014)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:988)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:974)\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1104)\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2412)\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2445)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2230)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:813)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:47)\n    at sun.reflect.GeneratedConstructorAccessor6.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:399)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:334)\n    at java.sql.DriverManager.getConnection(DriverManager.java:582)\n    at java.sql.DriverManager.getConnection(DriverManager.java:185)\n    at vidaao.DataBase.getInstance(DataBase.java:30)\n    at db.DbUser.delete(DbUser.java:51)\n    at testDb.DbSkillUnitTestCase.tearDown(DbSkillUnitTestCase.java:77)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:36)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["android","google-app-engine","datastore","quota"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":12939376,"title":"Google App Engine - Too many Datastore Read Operations","body":"<p>I have implemented an online leaderboard via Google App Enginge for my Android App. But after 2 hours I reached 100% of my quotas in \"Datastore Read Operations\". Can anybody help me to modify my code to reduce the read operatons?<br>\nHere is my code:  </p>\n\n<pre><code>public class The_Big_Bang_Theory_Quiz_HighscoreserverServlet extends HttpServlet {\npublic void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n    String game = req.getParameter(\"game\");\n    String name = req.getParameter(\"name\");\n    String pointsStr = req.getParameter(\"points\");\n    String behaviorStr = req.getParameter(\"behavior\");\n    int behavior = 0; // 0 = upload, 1 = download\n    if (behaviorStr != null) {\n        try {\n            behavior = Integer.parseInt(behaviorStr);\n        } catch (NumberFormatException e) {\n            behavior = 0;\n        }\n    }\n    if (behavior == 0) {\n        int points = 0;\n        if (pointsStr != null) {\n            try {\n                points = Integer.parseInt(pointsStr);\n            } catch (NumberFormatException e) {\n                points = 0;\n            }\n        }\n        if (points &gt; 0 &amp;&amp; name != null) {\n            addHighscore(game, name, points);\n        }\n    } else {\n        String maxStr = req.getParameter(\"max\");\n        int max = 1000;\n        if (maxStr != null) {\n            try {\n                max = Integer.parseInt(maxStr);\n            } catch (NumberFormatException e) {\n                max = 1000;\n            }\n        }\n        returnHighscores(resp, game, max);\n    }\n}\n\nprivate void returnHighscores(HttpServletResponse resp, String game, int max) {\n    DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();\n    Key gameKey = KeyFactory.createKey(\"game\", game);\n    Query query = new Query(\"highscore\", gameKey);\n    query.addSort(\"points\", Query.SortDirection.DESCENDING);\n    List&lt;Entity&gt; highscores = datastore.prepare(query).asList(FetchOptions.Builder.withLimit(max));\n    for(Entity e : highscores) {\n        try {\n            resp.getWriter().println(e.getProperty(\"name\") + \";\" +e.getProperty(\"points\"));\n        } catch (IOException exc) {\n            exc.printStackTrace();\n        }\n    }\n}\n\nprivate void addHighscore(String game, String name, int points) {\n    DatastoreService datastore = DatastoreServiceFactory.getDatastoreService();\n    Key gameKey = KeyFactory.createKey(\"game\", game);\n    Entity highscore = new Entity(\"highscore\", gameKey);\n    highscore.setProperty(\"name\", name);\n    highscore.setProperty(\"points\", points);\n    datastore.put(highscore);\n}\n}\n</code></pre>\n\n<p>I read something about the BlobStore. Is that a better method?  </p>\n\n<p>Best regards!</p>\n"},{"tags":["google-app-engine","bigtable"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":34,"score":-5,"question_id":12937791,"title":"file upload/download using GAE to bigtable","body":"<p>How will I upload/download a jpg, pdf, doc file to google`s big table using GAE?</p>\n\n<p>If possible also help me with the code.</p>\n\n<p>Thank you.</p>\n"},{"tags":["android","xml","google-app-engine","http-post","hello-world"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12883837,"title":"Creating simple Android + GAE Hello world project","body":"<p>I have been looking for a tutorial all over the place about a hello world application relating Android and Google App Engine, and I did find some, but they all included the option \"app engine connected android project\" which is no longer available in Eclipse, as I understand.</p>\n\n<p>Can someone give me links to a good Hello World tutorial combining Android and GAE? Why was the option \"app engine connected android project\" removed?</p>\n"},{"tags":["python","google-app-engine","openid","federated-identity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12941192,"title":"New User with Federated Login Not being Recognized","body":"<p>I am using the Google App Engine Python Federated Login which uses OpenID to let users log in with existing accounts.  I want the user to be directed to a page where they fill out some extra information about them such as a username and short bio.  Right now after logging in users are being directed to this handler and then if they have a username I want them to stay on this page otherwise I want them redirected to /profile</p>\n\n<pre><code>class Tester(BlogHandler):\n    def get(self):\n        global visits\n        logout = users.create_logout_url(self.request.uri) \n\n        user = users.get_current_user()\n        if user:\n            currentregistereduser = None\n            try:\n                user_db_qry = User.query(User.theid == user.federated_identity())\n                user_db_list = user_db_qry.fetch(1)\n                #this is the line that is causing the error\n                currentregistereduser = user_db_list[0]\n            except IndexError:\n                #I could do something here to fix it but I am not sure what\n            if currentregistereduser:\n                if not currentregistereduser.username:\n                    self.redirect(\"/profile\")\n                else:\n                    self.render(\"tester.html\", user=user, logout=logout)\n</code></pre>\n\n<p>The problem is that I am getting an IndexError when I try to do currentregistereduser = user_db_list[0] on a new user but it works fine on an existing user.  Does anyone know what could be causing this?  I have to do the same thing on my /profile page to identify the user so I doesn't help much to just redirect them there.</p>\n"},{"tags":["java","ajax","google-app-engine","jsp","servlets"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12938470,"title":"HtttpSession and JSP attribute - not refreshed (Ajax Call)","body":"<p>I got this code in one of my servlet (Running on App Engine)</p>\n\n<pre><code>//get Session\nUser user = (User)req.getSession(true).getAttribute(\"user\");\n\n//set blob key to user\nuser.setAvatarBlobKey(\"new value\");\n</code></pre>\n\n<p>This servlet is called through and ajax call.</p>\n\n<p>I got the following code in my jsp</p>\n\n<pre><code>&lt;img src=\"serve?normal=1&amp;blob-key=${user.avatarBlobKey}\" width=\"144\" height=\"144\" alt=\"xxxx\" /&gt;\n</code></pre>\n\n<p>And when i refresh the page the ${user.avatarBlobKey} is still assigned to the old value but not \"new value\".</p>\n\n<p>What might be the cause? Could it be due to App Engine?</p>\n"},{"tags":["google-app-engine","google-prediction"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":141,"score":0,"question_id":10913475,"title":"Connecting to Prediction API from Google API Consol using service account","body":"<p>I am trying to use the Google Prediction API for the first time.</p>\n\n<p>I am just following the steps given in the article <a href=\"https://developers.google.com/appengine/articles/prediction_service_accounts\" rel=\"nofollow\">https://developers.google.com/appengine/articles/prediction_service_accounts</a>.</p>\n\n<p>I am getting a strange problem while executing step 2.4 in the above mentioned article.</p>\n\n<p>I have followed the steps as below.</p>\n\n<p>1) I have an application created in say xyz.com domain, and I have service account name of my application as \"myapp@appspot.gserviceaccount.com\".</p>\n\n<p>2) Then I went to \"Team\" tab on the Google API Console, and tried to add the service account name of my application, to the project in which I have activated Prediction API and Google Cloud Storage.</p>\n\n<p>While adding the serivce account to the project it gives me an error saying that \n\"Only users in domain xyz.com may be added to the project\".\nThe same kind of message is also displayed on the bottom of the \"Team\" tab.\nxyz.com is the domain in wich my application is deployed.</p>\n\n<p>Could any one please help me understand why this kind of message is comming?\nAre there any domain level admin settings required to add the service account to the Google Console API project?</p>\n\n<p>Regards,\nNirzari </p>\n"},{"tags":["google-app-engine","console","bug"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12939245,"title":"Why does my admin panel break?","body":"<p>The application admin panel is found at <code>http://appname.appspot.com/_ah/admin/</code></p>\n\n<p>Occasionally, after using the interactive console, this admin panel will break.\nTrying to access the admin panel at the above url returns the 'output' frame from the interactive console.\nThis happens in any browser, on multiple computers, so it seems like a server-side issue.</p>\n\n<p>Most of the functionality I need in the admin panel is available in the global admin panel at <code>https://appengine.google.com/dashboard?&amp;app_id=s~appname</code>, but I use the interactive console a lot and it's not available to me in the global admin panel while this is ongoing.</p>\n\n<p>I'm not sure what code causes this - I find it's often after pasting in scripts that contain <code>exit()</code> or <code>if __name__ == \"__main__\"</code> statements, but that could be coincidence.</p>\n\n<p>Has anyone experienced similar problems or can anyone offer a solution?</p>\n\n<p>Edit: it appears that changing version in the global admin panel lets the console load in the global admin panel, but that's not perfect.</p>\n"},{"tags":["java","spring","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12938008,"title":"Google App Engine GAE MemcacheService Singleton injection with Spring","body":"<p>Using com.google.appengine.api.memcache.MemcacheService for caching in App Engine, I'm creating the memcacheservice instance using a factory, and injecting it into my classes with spring as a singleton. </p>\n\n<p>I'm asking if this is correct and optimal and if anyone has input on the positive or negative effect of using the lazy-init option or synchronized(). I'd like to have the answer to this question result in the best possible way to use memcacheservice in this manner. </p>\n\n<p>Thanks! </p>\n\n<p>Factory:</p>\n\n<pre><code>public class CacheFactory {\n\n    private static MemcacheService INSTANCE;\n\n    private CacheFactory() {\n    }\n\n    public static MemcacheService getInstance() {\n        if (INSTANCE == null) {\n            synchronized(CacheFactory.class){\n            INSTANCE =  MemcacheServiceFactory.getMemcacheService();\n            }\n        }\n        return INSTANCE;\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>Spring Bean:</p>\n\n<pre><code> &lt;bean id=\"cacheFactory\" class=\"com.nimbits.server.transactions.memcache.CacheFactory\"\n          factory-method=\"getInstance\" lazy-init=\"false\" scope=\"singleton\" &gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>sample usage:</p>\n\n<pre><code>   &lt;bean id=\"someService\" class=\"SomeServiceImpl\"&gt;\n        &lt;property name=\"cacheFactory\" ref=\"cacheFactory\" /&gt;\n   &lt;/bean&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12931304,"title":"How to handle 60 secs timeout with heavy queries","body":"<p>Good morning,</p>\n\n<p>I have to make some heavy queries in my datastore to obtain some high level information. When it reaches the 60 secs I get an error that I suppose its a timeout cut:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 207, in Handle\nresult = handler(dict(self._environ), self._StartResponse)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\nrv = self.router.dispatch(request, response)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\nreturn route.handler_adapter(request, response)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\nreturn handler.dispatch()\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\nreturn method(*args, **kwargs)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/admin/__init__.py\", line 140, in xsrf_required_decorator\nmethod(self)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/admin/__init__.py\", line 348, in post\nexec(compiled_code, globals())\nFile \"&lt;string&gt;\", line 28, in &lt;module&gt;\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 2314, in next\nreturn self.__model_class.from_entity(self.__iterator.next())\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 1442, in from_entity\nreturn cls(None, _from_entity=entity, **entity_values)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 958, in __init__\nif isinstance(_from_entity, datastore.Entity) and _from_entity.is_saved():\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 814, in is_saved\nself.__key.has_id_or_name())\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore_types.py\", line 565, in has_id_or_name\nelems = self.__reference.path().element_list()\nDeadlineExceededError\n</code></pre>\n\n<p><strong>This is not an application query, I am interacting with my app through the Interactive Console</strong>, so this is not a live problem. My problem is that I have to iterate around all my application users, checking big amounts of data that I need to retrieve for each of them. I could do it one by one by hard coding their user_id, but it would be slow and non-efficient.</p>\n\n<p>Can you guys think of any way I could do this faster? Is there anyway for selecting maybe 5 by five the users, like LIMIT=5 get only the first 5 users, but it would be great if I can get, first the 5 users, after that, the next 5 users and so on, iterating by all of them but with lighter queries. Can I set a longer timeout?</p>\n\n<p>Any way you can think about I could deal with this problem?</p>\n\n<p>Thanks,</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12938500,"title":"How to get image size uploaded by GAE","body":"<p>I use GAE to upload picture,and use google.appengine.api.images to resize it.but I'd like to get the original size of this picture uploaded.i try to use image.width and image.height.but got int is not callable error.soi appreciate any help.</p>\n\n<p>please see the code below:</p>\n\n<pre><code>class PictureUploader( webapp.RequestHandler ):\n    WANNA_RATIO_ = 0.833333 # icon width : height | 100 : 120\n    MAX_RATIO_ = 0.913043 # 105 : 115\n    MIN_RATIO_ = 0.76 # 95 : 125\n    def get( self ):\n        self.post()\n\n    def post( self ):\n        if not check_session(self):\n            self.redirect('login', True)\n\n        from google.appengine.api import images   \n        image_ = images.Image( self.request.get( 'picture' ) )\n\n        from decimal import Decimal   \n        i_width = Decimal( image_.size[0] )\n        i_height = Decimal( image_.size[1] )\n        w_h_ratio = i_width / i_height \n        if PictureUploader.MIN_RATIO_ &gt; w_h_ratio: # picture too narrow\n            h_ratio = i_height/120\n            expected_w = Decimal(\"%.6f\"%(i_width/h_ratio))\n            image_ = images.resize(image_,expected_w,120)\n        elif PictureUploader.MAX_RATIO_ &lt; w_h_ratio: # picture too short\n            w_ratio = i_width/100\n            expected_h = Decimal(\"%.6f\"%(i_height/w_ratio))\n            image_ = images.resize(image_,100,expected_h)\n        else:\n            image_ = images.resize( image_, 100, 120 )\n\n        models.Life(user = self.session['key'],pictureblob=image_).put()\n</code></pre>\n\n<p>you see image_.size[0], it doesn't work.</p>\n"},{"tags":["python","osx","google-app-engine","virtualenv"],"answer_count":4,"favorite_count":8,"up_vote_count":23,"down_vote_count":0,"view_count":3973,"score":23,"question_id":3858772,"title":"How to use virtualenv with Google App Engine SDK on Mac OS X 10.6","body":"<p>I am pulling my hair out trying to figure this out because I had it working until last week and somehow it broke. </p>\n\n<p>When I setup a virtualenv for a Google App Engine app and start the app with <code>dev_appserver.py</code>, I get errors importing the standard library (like \"ImportError: No module named base64\").</p>\n\n<p>Here's what I'm doing:</p>\n\n<p>(Using the system Python)</p>\n\n<p><code>virtualenv --python=python2.5 --no-site-packages ~/.virtualenv/foobar</code></p>\n\n<p>Then I add the a <code>gae.pth</code> file to <code>~/.virtualenv/foobar/lib/python2.5/site-packages/</code> containing the Google App Engine libraries:</p>\n\n<pre><code>/usr/local/google_appengine\n/usr/local/google_appengine/lib/antlr3\n/usr/local/google_appengine/lib/cacerts\n/usr/local/google_appengine/lib/django\n/usr/local/google_appengine/lib/fancy_urllib\n/usr/local/google_appengine/lib/ipaddr\n/usr/local/google_appengine/lib/webob_1_1_1\n/usr/local/google_appengine/lib/yaml/lib\n</code></pre>\n\n<p>(That's based on <a href=\"http://stackoverflow.com/questions/2139693/unittest-import-error-with-virtualenv-google-app-engine-django/2450298#2450298\">this answer</a>.)</p>\n\n<p>Then I source my \"foobar\" virtualenv and try to start my app with <code>dev_appserver.py</code>.</p>\n\n<p>The server starts but the first request errors out with the aforementioned \"ImportError: No module named base64\". If I visit the admin console I get \"ImportError: No module named cgi\".</p>\n\n<p>If I start up python, I can load these modules. </p>\n\n<pre><code>&gt;&gt;&gt; import base64\n&gt;&gt;&gt; base64.__file__\n'/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/base64.py'\n</code></pre>\n\n<p>It seems that the SDK's sandboxing is preventing these libraries from getting loaded. But like I said, I had this working until last week...something changed or I inadvertently broke my virtualenv and I can't figure out how I got it working in the first place.</p>\n\n<p>Software versions:</p>\n\n<p>Google App Engine SDK 1.3.7<br>\nMac OS X Snow Leopard 10.6.4<br>\nvirtualenv 1.5.1</p>\n\n<p><strong>Update:</strong> In response to Alan Franzoni's questions:</p>\n\n<p>I am using the system Python that came with Mac OS X. I installed virtualenv via easy_install. I upgraded to virtualenv 1.5.1 today to try to fix the problem.</p>\n\n<p>If I run <code>python /usr/local/bin/dev_appserver.py</code> with the virtualenv python, the problem persists. If I deactivate the virtualenv and run that command with the system python2.5, it works. (Also, I can use the GoogleAppEngineLauncher to start my app.)</p>\n\n<p>Here is a full stack trace (this one uses the Kay framework, but the problem is the same with webapp):</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 3206, in _HandleRequest\n    self._Dispatch(dispatcher, self.rfile, outfile, env_dict)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 3149, in _Dispatch\n    base_env_dict=env_dict)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 525, in Dispatch\n    base_env_dict=base_env_dict)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 2402, in Dispatch\n    self._module_dict)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 2312, in ExecuteCGI\n    reset_modules = exec_script(handler_path, cgi_path, hook)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 2208, in ExecuteOrImportScript\n    exec module_code in script_module.__dict__\n  File \"/Users/look/myapp/kay/main.py\", line 17, in &lt;module&gt;\n    kay.setup()\n  File \"/Users/look/myapp/kay/__init__.py\", line 122, in setup\n    from google.appengine.ext import db\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1287, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1937, in load_module\n    return self.FindAndLoadModule(submodule, fullname, search_path)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1287, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1839, in FindAndLoadModule\n    description)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1287, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py\", line 1790, in LoadModuleRestricted\n    description)\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/db/__init__.py\", line 81, in &lt;module&gt;\n    import base64\nImportError: No module named base64\n</code></pre>\n"},{"tags":["python","google-app-engine","google-cloud-storage"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":699,"score":2,"question_id":8201283,"title":"Google App Engine: How to write large files to Google Cloud Storage","body":"<p>I am trying to save large files from Google App Engine's Blobstore to Google Cloud Storage to facilitate backup.</p>\n\n<p>It works fine for small files (&lt;10 mb) but for larger files it get gets unstable and GAE throws and FileNotOpenedError. </p>\n\n<p>My code:</p>\n\n<pre><code>PATH = '/gs/backupbucket/'\nfor df in DocumentFile.all():           \n  fn = df.blob.filename\n  br = blobstore.BlobReader(df.blob)\n  write_path = files.gs.create(self.PATH+fn.encode('utf-8'), mime_type='application/zip',acl='project-private') \n  with files.open(write_path, 'a') as fp:\n    while True:\n      buf = br.read(100000)\n      if buf==\"\": break\n      fp.write(buf)\n  files.finalize(write_path)\n</code></pre>\n\n<p>(Runs in a taskeque to avoid exceeding execution time).</p>\n\n<p>Throws a FileNotOpenedError:</p>\n\n<pre>\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1511, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~simplerepository/1.354754771592783168/processFiles.py\", line 249, in post\n    fp.write(buf)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 281, in __exit__\n    self.close()\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 275, in close\n    self._make_rpc_call_with_retry('Close', request, response)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 388, in _make_rpc_call_with_retry\n    _make_call(method, request, response)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 236, in _make_call\n    _raise_app_error(e)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 179, in _raise_app_error\n    raise FileNotOpenedError()\n</pre>\n\n<p>I have investigated further and according to a comment to <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=5731\" rel=\"nofollow\">GAE Issue 5371</a> the Files API closes the file every 30 seconds. I have not seen this documented anywhere else.  </p>\n\n<p>I have tried to work around this by closing and opening the file at intervals but now I get an WrongOpenModeError. The code below is edited from the first version of this post I have added a 0.5 second pause between the close and the open of the file. It now throws a WrongOpenModeError.</p>\n\n<p>My code (updated):</p>\n\n<pre><code>PATH = '/gs/backupbucket/'\nfor df in DocumentFile.all():           \n  fn = df.blob.filename\n  br = blobstore.BlobReader(df.blob)\n  write_path = files.gs.create(self.PATH+fn.encode('utf-8'), mime_type='application/zip',acl='project-private') \n  fp = files.open(write_path, 'a')\n  c = 0\n  while True:       \n    if (c == 5):\n      c = 0\n      fp.close()\n      files.finalize(write_path)\n      time.sleep(0.5)\n      fp = files.open(write_path, 'a')\n    c = c + 1\n    buf = br.read(100000)\n    if buf==\"\": break\n    fp.write(buf)\n  files.finalize(write_path)\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre>\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1511, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/data/home/apps/s~simplerepository/1.354894420907462278/processFiles.py\", line 267, in get\n    fp.write(buf)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 310, in write\n    self._make_rpc_call_with_retry('Append', request, response)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 388, in _make_rpc_call_with_retry\n    _make_call(method, request, response)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 236, in _make_call\n    _raise_app_error(e)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/files/file.py\", line 188, in _raise_app_error\n    raise WrongOpenModeError()\n</pre>\n\n<p>I have tried to find information about the WrongOpenModeError but the only place it is mentioned is in the appengine.api.files.file.py itself.</p>\n\n<p>Suggestions on how to  get around this and be able to save also large files to Google Cloud storage would be greatly appreciated. Thanks!</p>\n"},{"tags":["python","google-app-engine","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12934427,"title":"Access URI Parameters via webapp2","body":"<p>I want to access the URI parameters of the given request:    </p>\n\n<pre><code>http://localhost:8080/account/user?un=erik&amp;pw=gaius\n</code></pre>\n\n<p>I can't make the following code work though,</p>\n\n<p><strong>main.py</strong>      </p>\n\n<pre><code>app = webapp2.WSGIApplication([('/', MainPage),\n                               ('/account/user', account.User)],\n                              debug=True)\n</code></pre>\n\n<p><strong>account.py</strong></p>\n\n<pre><code>class User(webapp2.RequestHandler):\n  def get(self, un, pw):\n    self.response.headers['Content-Type'] = 'text/plain'\n    self.response.write('Yey!' + un + ' ' + pw)\n</code></pre>\n\n<p>I think there's something wrong on my main.py, but I tried to mess with it by adding named routes and regex's, but I just kept getting 500 errors (Internal Server error). </p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":12900655,"title":"Google App Engine Backend Python","body":"<p>I'm having issues getting backends to run in Google App Engine Python.</p>\n\n<p>in my app.yaml, I have added this handler:</p>\n\n<pre><code>- url: /backend/.*\n  script: backend.app\n  login: admin\n</code></pre>\n\n<p>and in backend.app, I have a handler defined for \"/\".</p>\n\n<p>my backends.yaml looks like this:</p>\n\n<pre><code>backends:\n- name: dbops\n  options: dynamic\n</code></pre>\n\n<p>in my fronted app, I have added a taskqueue to call the backend:</p>\n\n<pre><code>taskqueue.add(url='/backend/', target='dbops') \n</code></pre>\n\n<p>when I look at the logs all I see are 404 errors, and the backend does not show up under the backends section, but a new instance is started if I look under instances.  Anyone got any guidance as the docs for backends have not been very helpful.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>After some help from Alex below, I've gotten the code running on the backend.  I missed the deploy to backend step.</p>\n\n<pre><code>appcfg.py backends ./ update dbops\n</code></pre>\n\n<p>Now I see the backend instance running fine in the admin interface, but the taskqueue keeps returning a 404 error, and I'm sure I'm doing something stupidly wrong.</p>\n\n<p>Do I configure the handlers in my backend.py the same as I do for my frontend.py?  I can access the handlers defined in the frontend.py on the backend instance but not the ones defined in backend.py. </p>\n\n<p><strong>Edit</strong> 10/17/12</p>\n\n<p>After some digging I discovered that my wild card handler was listed before my backend handler in apps.yaml.  So now the backend handler is sort of working.  I have this process defined as an admin handler, but it still times out.</p>\n\n<p>Any reason why this doesn't work?  It always returns a 405 error and continuously retries.</p>\n\n<p>taskqueue.add(url='/backend/', target='dbops') </p>\n"},{"tags":["python","google-app-engine","oauth","oauth-2.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12915253,"title":"Failed to authorize tokeninfo oauth2 request using decorator.http()","body":"<p>To access TokenInfo I use the Google APIs Client Library for Python (oauth2client app engine).\nI have received an oauth2 access token and this code works fine:</p>\n\n<pre><code>@decorator.oauth_aware        \ndef get(self):\n\n    ....\n    ....\n    if decorator.has_credentials() :\n        body = urllib.urlencode({'access_token': decorator.credentials.access_token})\n        http = httplib2.Http()\n        resp, content = http.request(\"https://www.googleapis.com/oauth2/v1/tokeninfo\",method=\"POST\", body=body)    \n</code></pre>\n\n<p>But when I use the decorator to create an authorized http instance:</p>\n\n<pre><code>@decorator.oauth_aware        \ndef get(self):\n\n    ....\n    ....\n    if decorator.has_credentials() :\n        http = decorator.http()                              \n        resp, content = http.request(\"https://www.googleapis.com/oauth2/v1/tokeninfo\",method=\"POST\") \n</code></pre>\n\n<p>I receive:</p>\n\n<pre><code>'status' : '400'\n{\n \"error\": \"invalid_token\",\n \"error_description\": \"either access_token or id_token required\"\n}\n</code></pre>\n\n<p><strong>UPDATE-1</strong></p>\n\n<p>I studied oauth2client\\client.py : decorator.http() not only authorizes the request, but also refreshes the access_token if it has been expired.</p>\n\n<p>I very welcome ideas on how to solve this? Thanks for your help. </p>\n\n<p><strong>UPDATE-2 AND SOLVED</strong></p>\n\n<p>The TokeInfo API does not need any Authorization. The request itself has to contain the access_token. The  Authorization header is ignored.</p>\n"},{"tags":["google-app-engine","bigtable","google-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12874365,"title":"How to use Queries efficiently in GoogleAppEngine with Python?","body":"<p>Let's say I have an entity of kind Dog in my datastore. I want to perform a simple operation on all Dogs, but I have a lot of dogs.</p>\n\n<pre><code>all_dogs = Dog.all(keys_only=True)\nprint dogs.count(100000) #returns 79234, or some equally large number\n</code></pre>\n\n<p>If I simply do this:</p>\n\n<pre><code>for dog_key in all_dogs:\n    k = dog_key\n</code></pre>\n\n<p>which I understand is the same as doing: </p>\n\n<pre><code>for dog_key in all_dogs.run(batch_size=20):\n    k = dog_key\n</code></pre>\n\n<p>then I'll get a datastore timeout exception like this: </p>\n\n<p><code>Timeout: The datastore operation timed out, or the data was temporarily unavailable.</code></p>\n\n<p>If I increase the batch_size to 1000, then I'll have no problems.</p>\n\n<p>What causes the operation timer to start and how long does it take to timeout? How can I ensure that I don't get timeouts?</p>\n\n<p>In this case, increasing the batch_size helped, but what if I had millions of Dog entities? How can I ensure I don't get timeouts when performing operations on them?</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12934452,"title":"Uncaught exception from servlet java.lang.NoClassDefFoundError: org/apache/commons/lang/Validate","body":"<p>in my google app engine project Log section write out </p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/lang/Validate...\n</code></pre>\n\n<p>I have read <a href=\"http://stackoverflow.com/questions/3468027/java-lang-noclassdeffounderror-org-apache-commons-lang-validate\">java.lang.NoClassDefFoundError: org/apache/commons/lang/Validate</a> and did as it is written. But its' had no effect and my server is not working</p>\n"},{"tags":["java","google-app-engine","google-plugin-eclipse"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":137,"score":3,"question_id":12796589,"title":"How to disable SystemServiceServlet configuration in App Engine project?","body":"<p>The Google Plugin for Eclipse auto-generates these lines in <strong>web.xml</strong> no matter what the project properties are set to:</p>\n\n<pre><code> &lt;servlet&gt;\n  &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;com.google.api.server.spi.SystemServiceServlet&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n   &lt;param-name&gt;services&lt;/param-name&gt;\n   &lt;param-value/&gt;\n  &lt;/init-param&gt;\n &lt;/servlet&gt;\n &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/_ah/spi/*&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Is there a way to prevent the plugin to do that?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12912998,"title":"java.net.UnknownHostException: appengine.google.com","body":"<p>Got this error. Any idea how to get rid of it?</p>\n\n<p>Yesterday it was working fine but today I got these errors. I saw a known issue with this - <a href=\"http://code.google.com/p/googleappengine/issues/detail?id=3131\" rel=\"nofollow\">link</a>. But I didn't find any solution yet..</p>\n\n<pre><code> Oct 16, 2012 4:01:59 PM com.google.appengine.tools.info.RemoteVersionFactory getVersion\n\nINFO: Unable to access https://appengine.google.com/api/updatecheck?runtime=java&amp;release=1.7.1&amp;timestamp=1345058163&amp;api_versions=['1.0']\njava.net.UnknownHostException: appengine.google.com\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:195)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)\n    at java.net.Socket.connect(Socket.java:529)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:559)\n    at com.sun.net.ssl.internal.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:141)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:163)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:395)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:530)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:272)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:329)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:172)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:911)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:158)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1172)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:234)\n    at java.net.URL.openStream(URL.java:1010)\n    at com.google.appengine.tools.info.RemoteVersionFactory.getVersion(RemoteVersionFactory.java:76)\n    at com.google.appengine.tools.info.UpdateCheck.checkForUpdates(UpdateCheck.java:99)\n    at com.google.appengine.tools.info.UpdateCheck.doNagScreen(UpdateCheck.java:174)\n    at com.google.appengine.tools.info.UpdateCheck.maybePrintNagScreen(UpdateCheck.java:142)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:289)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:249)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:225)\nOct 16, 2012 4:01:59 PM com.google.apphosting.utils.jetty.JettyLogger info\nINFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\nOct 16, 2012 4:02:00 PM com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\nINFO: Successfully processed D:\\WorkSpace\\GAE\\GST\\war\\WEB-INF/appengine-web.xml\nOct 16, 2012 4:02:00 PM com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\nINFO: Successfully processed D:\\WorkSpace\\GAE\\GST\\war\\WEB-INF/web.xml\nOct 16, 2012 4:02:02 PM com.google.appengine.tools.development.DevAppServerImpl start\n</code></pre>\n"},{"tags":["google-app-engine","memcached"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12931052,"title":"memcache vs. static map per entity kind","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1095123/google-app-engine-memcache-or-static-variable\">Google App Engine: Memcache or Static variable?</a>  </p>\n</blockquote>\n\n\n\n<p>Is there any difference between memcache and per class (entity kind) static map (except identifiable values, untouched checks, stats and namespaces)?!</p>\n\n<p>Static storage also has 1MB limit? Whether this 1MB shared with memcache?</p>\n\n<p>In a way, static map looks advantageous, for example, \n  - it allows us to define and use type specific HashMap\n  - static map.put can not fail, where as memcache.put is unreliable</p>\n"},{"tags":["python","database","google-app-engine","optimization","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12926710,"title":"Most Efficient Way to Related Data Entries","body":"<p>I am building a website using Google App Engine in Python but this question should apply to anything similar not just this specific framework.  I am trying to decide between two models of relating data.  </p>\n\n<p>They involve a Location database class and each Location entity has multiple Experience database entities hooked to it.  </p>\n\n<p>Right now I have the Locations classes in their own memcache and I have reference to each Experience stored in a expRef IntegerProperty.  I then do Experience.get_by_id(expRef) to get all of the Experiences and display them on the Location page.</p>\n\n<pre><code>class Location(ndb.Model):\n    #a bunch of other properties\n    expRefs = ndb.IntegerProperty(repeated=True)\nclass Experience(ndb.Model):\n            #a bunch of other properties with no ref to Location\n\n#here is the handler for the Location page\nlocation = individual_location_cache(keyid)\nexps= []\n            if location.expRefs != []:\n                for ref in location.expRefs:\n                    records.append(Record.get_by_id(ref))\n</code></pre>\n\n<p>I am wondering if this is the best option or if it would be better to give each Experience a reference to the Location property and then store all of the references in Memcached and make two calls to memcached, one for the Location and then one for all of the experiences there.</p>\n\n<pre><code>class Location(ndb.Model):\n        #a bunch of other properties but no ref to experiences\nclass Experience(ndb.Model):\n        #a bunch of other properties\n        locationRef = ndb.IntegerProperty()\n\n#the Location page handler starts here\nlocation = individual_location_cache(keyid)\nexps= exp_location_cache(keyid)\n</code></pre>\n\n<p>Is there a big difference or any options I am forgetting?</p>\n"},{"tags":["google-app-engine","facebook-graph-api","facebook-like"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12924340,"title":"Facebook like button on landing page in Google app engine (open graph tags)","body":"<p>I am using GAE as a landing page for my app (to be developed on GAE soon after)<br>\nI am trying to add social button (twitter, G+, facebook like)<br>\nIt turns out for the FB like, I need to enter open graph tags in the html-head<br>\n<a href=\"http://developers.facebook.com/docs/reference/plugins/like/\" rel=\"nofollow\">http://developers.facebook.com/docs/reference/plugins/like/</a></p>\n\n<p>To my surprise, my GAE templates are running in a  of an GAE-autogenerated html document.<br>\n<a href=\"http://developers.facebook.com/tools/debug/og/object?q=reciprocity-ring-001.appspot.com\" rel=\"nofollow\">http://developers.facebook.com/tools/debug/og/object?q=reciprocity-ring-001.appspot.com</a><br>\nSo the FB like button tries to access the open graphs tags in the wrong html-head, i.e. it looks at the GAE-autogenerated head.  </p>\n\n<p>1/ How can I edit the GAE http-head  </p>\n\n<p>2/ How can I work around this issue without editing the above file?</p>\n\n<p>Emmanuel</p>\n"},{"tags":["google-app-engine","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12921593,"title":"Blobstore POST redirecting to /undefined - Google App Engine","body":"<p>Really confused about this...</p>\n\n<p>I take in a content ID on </p>\n\n<p><code>app = webapp2.WSGIApplication([('/mobile/upload',MobileUploadHandler),\n('/mobile/(.*)',ContentIDHandler)],debug=True)</code></p>\n\n<p>If there is a post action attached to the content ID, I write out a form (via a jinja2 template):</p>\n\n<p><code>template = jinja_environment.get_template('templates/mobileupload.html')\n                template_values = {'upload_url':blobstore.create_upload_url('/mobile/upload')}\nself.response.out.write(template.render(template_values))</code></p>\n\n<p>The blob upload URL is visible in the HTML. I don't know that it is correct, but it looks like a blob upload URL.</p>\n\n<p>When the form POSTs, it is supposed to redirect to this handler:</p>\n\n<p>`class MobileUploadHandler(blobstore_handlers.BlobstoreUploadHandler):</p>\n\n<p>def post(self):`</p>\n\n<p>However, it never gets there - it redirects instead to /mobile/undefined.</p>\n\n<p>I'm not really sure what this means. Is there a problem with the argument I passed to create_upload_url?</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12898620,"title":"Objectify - App Engine Storing a List","body":"<p>I want to have <code>List&lt;P&gt;</code> in my entity <code>P</code>:</p>\n\n<pre><code>@Entity\n@Index\npublic class P {\n    @Id Long id;\n    String email;\n    List&lt;P&gt; list = new ArrayList&lt;P&gt;();\n}\n</code></pre>\n\n<p>But every time I insert new entity I can see <code>email</code> and <code>id</code> in datastore viewer, but no <code>list</code>:/ Is any special work with lists?</p>\n"},{"tags":["ios","api","google-app-engine","endpoints"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12925423,"title":"How to use EndPoints to generate API library in Objective-C in Google App Engine","body":"<p>I used google app engine as my backend server. I watched the google I/O video, and it said it can generate the IOS api library in EndPoints by command line. But I couldn't find the way to do that, and there is no information about it on the Internet. Is there anyone who uses google app engine as their IOS app backend and could answer my question?</p>\n"},{"tags":["python","django","google-app-engine","ssl"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12906527,"title":"GAE SSL for custom domain impossible?","body":"<p>I tried to configure SSL for my website that is served on GAE and failed.</p>\n\n<p><a href=\"http://www.gluwa.com/\" rel=\"nofollow\">http://www.gluwa.com/</a></p>\n\n<p>works fine but</p>\n\n<p><a href=\"https://www.gluwa.com/\" rel=\"nofollow\">https://www.gluwa.com/</a></p>\n\n<p>gives me nothing but an google error page.</p>\n\n<p><img src=\"http://i.stack.imgur.com/G6Hlm.png\" alt=\"enter image description here\"></p>\n\n<p>After going over their SSL setup instruction several times now I am out of guesses.</p>\n\n<p>I've tried both SNI and VIP but still no hope.</p>\n\n<p>Is it impossible to have SSL for GAE apps?</p>\n\n<p>EDIT:</p>\n\n<p>I'm adding my settings as suggested by dragonx.</p>\n\n<p><img src=\"http://i.stack.imgur.com/dMvDl.png\" alt=\"enter image description here\"></p>\n\n<p>app.yaml</p>\n\n<pre><code>application: myapp\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nlibraries:\n- name: django\n  version: \"1.3\"\n- name: PIL\n  version: \"latest\"\n- name: webob\n  version: \"latest\"\n\nbuiltins:\n- django_wsgi: on\n- appstats: on\n\ninbound_services:\n- warmup\n\nhandlers:\n- url: /static/admin\n  static_dir: admin_media/\n\n- url: /static\n  static_dir: static/\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<pre><code>handlers:\n- url: /.*\n  script: google.appengine.ext.django.main.app\n  secure: always\n</code></pre>\n\n<p>I commented out below from builtins to add above handler.</p>\n\n<pre><code>- django_wsgi: on\n</code></pre>\n\n<p>However, adding this mark didn't solve the problem.</p>\n\n<p>EDIT 3:</p>\n\n<p>For more information, I followed below three steps to create my SSL certificate with openssl in my terminal.</p>\n\n<pre><code>$openssl genrsa -out yourdomain.com.key 1024\n$openssl req -new -key yourdomain.com.key -out yourdomain.com.csr\n$openssl x509 -req -days 365 -in yourdomain.com.csr -signkey yourdomain.com.key -out yourdomain.com.crt\n</code></pre>\n\n<p>and for the second command, I entered these information</p>\n\n<pre><code>Country Name (2 letter code) [AU]:KR\nState or Province Name (full name) [Some-State]:Seoul\nLocality Name (eg, city) []:Seocho\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:Gluwa Inc.\nOrganizational Unit Name (eg, section) []:R&amp;D\nCommon Name (e.g. server FQDN or YOUR name) []:www.gluwa.com\nEmail Address []:gluwa@gluwa.com\n</code></pre>\n\n<p>I'm not sure if they should matter at all, though.</p>\n\n<p>EDIT 4:</p>\n\n<p>I tried using GAE server's information for creating SSL but it didn't worth either.</p>\n"},{"tags":["google-app-engine","clojure","gae-datastore","compojure"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12930165,"title":"Accessing Datastore with Gaeshi","body":"<p>How to use Datastore functions of Gaeshi? I know that I'll use <a href=\"https://github.com/slagyr/gaeshi/blob/master/gaeshi/src/gaeshi/datastore.clj\" rel=\"nofollow\">https://github.com/slagyr/gaeshi/blob/master/gaeshi/src/gaeshi/datastore.clj</a> but I don't understand how to put some entities to Datastore</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12930008,"title":"Google APIs Console. Your input was invalid","body":"<p>I am trying to set up this sample app from google developers to see how it works. <a href=\"https://developers.google.com/drive/examples/java\" rel=\"nofollow\">https://developers.google.com/drive/examples/java</a></p>\n\n<p>But when I am trying to set up Google APIs Console it's showing me an error \"Your input is invalid\". Can anyone tell me what am I doing wrong there?</p>\n\n<p><img src=\"http://i.stack.imgur.com/CXiz7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","google-app-engine","backend"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12921874,"title":"Google App Engine backend servlet not responding","body":"<p>I built a servlet that I'm trying to run in the backend. But after starting the the backend and sending post message to <a href=\"http://mybackend.myapp.appspot.com/update\" rel=\"nofollow\">http://mybackend.myapp.appspot.com/update</a> nothing is appening.<br>\nwhen I access: <a href=\"http://myapp.appspot.com/update\" rel=\"nofollow\">http://myapp.appspot.com/update</a> the servlet is working but not in backend.<br>\nWhat am I doing wrong?</p>\n\n<p><strong>Servlet code:</strong></p>\n\n<pre><code>public class UpdateServlet extends HttpServlet\n{   \n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException \n    {\n        System.out.println(\"start long task\");              \n    }\n}\n</code></pre>\n\n<p><strong>backends.xml</strong></p>\n\n<pre><code>&lt;backends&gt;\n  &lt;backend name=\"mybackend\"&gt;\n    &lt;class&gt;B1&lt;/class&gt;\n    &lt;options&gt;\n      &lt;dynamic&gt;true&lt;/dynamic&gt;\n      &lt;public&gt;true&lt;/public&gt;\n    &lt;/options&gt;\n  &lt;/backend&gt;\n&lt;/backends&gt;\n</code></pre>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;update&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;server.UpdateServlet&lt;/servlet-class&gt; \n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;update&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/update&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["http","google-app-engine","proxy"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":481,"score":2,"question_id":3022706,"title":"Problem uploading app to google app engine","body":"<p>I'm having problems uploading an app to the google-app-engine from my work place. I believe the problem is related to proxy, because I do not see the same problem when following the same procedure from home. (I do not specify HTTP_PROXY from home).</p>\n\n<p>These are the commands I run (hostname replaced):</p>\n\n<pre><code>set HTTP_PROXY=http://proxy.myhostname.com:8080\nset HTTPS_PROXY=http://proxy.myhostname.com:8080\nappcfg.py --insecure update myappfolder\n</code></pre>\n\n<p>When running the commands I get prompted for email and password, as expected, but after that it immediately exits with this errormessage:</p>\n\n<pre><code>Error 302: --- begin server output ---\n&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Moved Temporarily&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY BGCOLOR=\"#FFFFFF\" TEXT=\"#000000\"&gt;\n&lt;H1&gt;Moved Temporarily&lt;/H1&gt;\nThe document has moved &lt;A HREF=\"https://www.google.com/accounts/ClientLogin\"&gt;here&lt;/A&gt;.\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n--- end server output ---\n</code></pre>\n\n<p>Note: I added the --insecure option because else it gave a warning of missing ssl module.</p>\n\n<p>Any idea how to solve or workaround this problem?</p>\n"},{"tags":["django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12426725,"title":"django on google app engine with relational database","body":"<p>So is there any other way to use mysql database with django app on app engine? I found nice solution but it is not free - Google SQL Cloud seem to work great. But how about, moving django app to appengine and connecting to other hosting with mysql db? Or do you have any other solutions?</p>\n\n<p>So to sum up - is there any way to work GAE with outside database?</p>\n"},{"tags":["django","google-app-engine","djangoappengine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12547003,"title":"Django 1.4 on App Engine with SQL Cloud","body":"<p>Anyone was successful with Django 1.4 and Google App Engine? I have finished my project, which I was going to upload on App Engine, and I realised that currently newest supported version is 1.3 of GAE SDK is 1.3. Any ideas what should I do now? Does downgrade to 1.3 is a good idea?</p>\n"},{"tags":["google-app-engine","unicode","utf-8","character-encoding","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12889390,"title":"Google App Engine: Non-western characters in datastore, how to print to browser","body":"<p>This is a follow up question to this: <a href=\"http://stackoverflow.com/questions/12829113/google-analytics-character-encoding-of-utm-cookies\">Google Analytics Character encoding of __utm cookies</a></p>\n\n<p>I have the following string stored in a datastore <code>db.TextProperty</code> - <code>Test%D0%AFTest</code>.  This was read from a utf-8 encoded cookie value.</p>\n\n<p>I'm trying to simply print this string to the browser as <code>TestЯTest</code> (Notice the backwards R) but instead all I can get to display is: <code>TestÐ¯Test</code></p>\n\n<p>I've tried all kinds of unicode, encode('utf-8') decode('utf-8') solutions but nothing seems to work.  I either get a <code>UnicodeDecode Error</code> or the above text.  </p>\n\n<p>My HTTP headers contain the line: <code>Content-Type: text/html; charset=utf-8\nand the HTML itself contains the meta tag: http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"</code></p>\n\n<p>Nothing seems to work.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":32,"score":-3,"question_id":12925228,"title":"how to get image original size by GAE?","body":"<p>I use GAE to upload picture,and use google.appengine.api.images to resize it.but I'd like to get the original size of this picture uploaded.i try to use image.width and image.height.but got int is not callable error.soi appreciate any help.</p>\n"},{"tags":["java","android","google-app-engine","rest","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12924947,"title":"Restful web service with app engine using datastore","body":"<p>I have developed one simple application on the app engine and it is working absolutely fine. Now, I want to integrate data from the csv files, which I uploaded as buckets and generate Restful (JSON) API. This api will be used in one of my Android application. \nI don't have any idea how to use bucket data to the application.\nI have already refer all the documents from the Google developers but that seems confusing in the datastore access. Can anyone provide straight forward tutorial or documents that can lead me to bring data to application?</p>\n\n<p>Thanks\nTausif</p>\n"},{"tags":["python","google-app-engine","jquery-ajax"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12920483,"title":"How do I validate the post request from ajax? I have invalid ajax data is writing to GAE Data store,","body":"<p>In my webapp I take data from a js function and post it to a special handler via ajax post. Once I get the data, I write it to my db.</p>\n\n<p>My problem is I have double data for each ajax post (ajax is firing twice and I need to figure out why, but this is another issue).</p>\n\n<p>I'm trying to catch these double firings, as of now I know the first set is null values, every piece of data I grab from the self.request.get(someVar) is null from the first ajax post firing..</p>\n\n<p>I tried doing</p>\n\n<pre><code>if not someVar:\n    #data is valid, write to db...\n</code></pre>\n\n<p>but although these values are null, they're still getting past my if functions and my db is writing in null values... I'm thinking of making them strings and making sure their length is greater than 0 maybe...</p>\n\n<p>thanks for the help in advance</p>\n"},{"tags":["java","android","google-app-engine","session"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12629767,"title":"Collection stored in application session turns null","body":"<p>I built a server-client android application in which users are registering to server and every user profile is saved in DB and in collection pool that i'm saving in the application session.</p>\n\n<p>The reason I'm saving all the existing users in the session is that the users is updated often about the other users. and reading from Google app engine data store that often will cost me a lot.</p>\n\n<p>this worked OK for the first month but today that I have 1000 profiles on my session things started turn bad. all of a sudden the collection of profiles became null and I had to \"reboot\" the server for the profiles to load again to session.</p>\n\n<p>I guess that my design of saving all the profile in the session is wrong. Am I right?\nor something else might caused the null collection ? </p>\n\n<p>Is there any design pattern I can use to do things right?</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12902624,"title":"GWT/Java app for Google App Engine: Have email address for the logged in user, how to get first name and last name?","body":"<p>I've not had much luck finding information about this and I'm hoping that someone can point me in the right direction.</p>\n\n<p>I am building a GWT app hosted on App engine, to post a request to a remote server.  Very simple.  My form has a name field that I'd like to populate with the user's first name and last name.  All the users will be in our business's google apps domain.  I am successfully getting the user's email address by using the UserService as follows:  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginServiceImpl extends RemoteServiceServlet implements LoginService {\n public LoginInfo login(String requestUri) {\n        UserService userService = UserServiceFactory.getUserService();\n        User user = userService.getCurrentUser();\n        LoginInfo loginInfo = new LoginInfo();\n\n        if (user != null) {\n          loginInfo.setLoggedIn(true);\n          loginInfo.setEmailAddress(user.getEmail());\n          loginInfo.setNickname(user.getNickname());\n        } else {\n          loginInfo.setLoggedIn(false);\n          }\n        return loginInfo;\n      }\n}\n</code></pre>\n\n<p>Now, I need to somehow get the user's first name and last name potentially using the email address to look this up.</p>\n\n<p>I've thought of the following ways:<br>\n- Can I use the google contacts API somehow?  I don't really want to look at an individual user's contacts, I'd like to look at the business's contacts which we are bringing in from Active Directory via Google Apps Direcory sync.<br>\n- Can I use Oauth to do this?  I haven't really been able to find good info on how to do this.<br>\n- Can I somehow get this from the Google Apps Engine UserService? (I think I've concluded that you can't do this - is that correct?)<br>\n- (Updated to add) I'm also looking into the provisioning API...I'm thinking this might work but don't want to overlook a better/easier way.</p>\n\n<p>Any ideas, thoughts, or suggestions will be greatly appreciated. </p>\n"},{"tags":["unit-testing","google-app-engine","go"],"answer_count":1,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":285,"score":7,"question_id":7858711,"title":"How to run unit tests for code that uses App Engine services in Go?","body":"<p>I was told the best solution to run unit tests for code that uses App Engine services such as datastore or memcache was to run the development server in a child process, but I'm not sure how. Anybody successfully ran this kind of test and can share a solution?</p>\n\n<p>App Engine SDK for Go uses the Python dev_appserver; <a href=\"http://groups.google.com/group/google-appengine-go/msg/d0cb913f1f03155c\" rel=\"nofollow\">see this thread</a>.</p>\n"},{"tags":["android","google-app-engine","google-docs","google-docs-api","google-drive"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12916564,"title":"sync of Android app with google Docs`","body":"<p>I am new to android .in my app there is a module sync of my app with google docs...can any one help we with good tutorial links which makes me some fast building ....I hope i have good stuff hare please help me Thanks . </p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12923246,"title":"GWT Google Provisioning API - Error 401","body":"<p>Hoping that someone can help me out with what I am doing wrong.</p>\n\n<p>I am trying to use the Provisioning API.  I want to get information back about users in our domain, specifically first name and last name.</p>\n\n<p>I have verified that the Provisioning API is enabled in the dashboard of our domain.  </p>\n\n<p>I am trying to access this url as follows:</p>\n\n<pre><code>public String getFromRemoteServer(String serviceUrl)\n        throws HelpDeskTestException {\n    String result = \"\";\n\n\n    String contactURL = \"https://apps-apis.google.com/a/feeds/&lt;mydomain&gt;/user/2.0/&lt;mynickname&gt;\";\n\n    makeHttpUrlConnection(contactURL, \"GET\");\n\n    return result;  \n\n\n}\n\n\nprivate String makeHttpUrlConnection(String request, String gtype) \n        throws HelpDeskTestException {\n    String result = \"\";\n    try {\n\n        final String serverPath= request;\n\n        System.out.println(serverPath);\n\n\n        URL url = new URL(serverPath); \n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();   \n\n        connection.setConnectTimeout(10000); \n        connection.setReadTimeout(10000);\n\n        connection.setDoOutput(true);\n        connection.setDoInput(true);\n        connection.setInstanceFollowRedirects(false); \n        connection.setRequestMethod(gtype); \n\n\n        //process response \n        InputStream stream = connection.getInputStream();\n\n\n        //put output stream into a string\n        BufferedReader br = new BufferedReader(new InputStreamReader(stream));\n        String googresult = \"\";\n        String line;\n        while ((line = br.readLine()) != null) {\n        System.out.println(line);\n        googresult+= line;\n        }\n\n        br.close();\n        connection.disconnect();\n\n        System.out.println(googresult);\n\n        return googresult;\n\n\n\n\n    }  catch (final Exception e) {\n        System.out.println(e.getMessage());\n        throw new HelpDeskTestException();\n\n    }\n</code></pre>\n\n<p>This is the xml that is being returned:</p>\n\n<pre><code>&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Authorization required&lt;/TITLE&gt;\n&lt;/HEAD&gt;\n&lt;BODY BGCOLOR=\"#FFFFFF\" TEXT=\"#000000\"&gt;\n&lt;H1&gt;Authorization required&lt;/H1&gt;\n&lt;H2&gt;Error 401&lt;/H2&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>I also got the following warning message:</p>\n\n<pre><code>WARNING: Authentication error: Unable to respond to any of these challenges: {googlelogin=WWW-  Authenticate: GoogleLogin realm=\"http://www.google.com/accounts\"}\n</code></pre>\n\n<p>Since this is my first attempt at using this API I am sure I am missing something.  I just can't figure out what it is.</p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12918437,"title":"How to achieve Django nested expression, or evalute expression inside expression {{ {{ expr }} }}?","body":"<p>In python i am passing below context in django template:</p>\n\n<pre><code>{'expr': 'next_expr', 'next_expr': 'value'}\n</code></pre>\n\n<p>In template, i am trying to print 'value':</p>\n\n<pre><code>{{ {{ expr }} }}\n</code></pre>\n\n<p>I know above expression wont work but i want to achieve something like this:</p>\n\n<pre><code>{{ {{ expr }} }} ---&gt; {{ next_expr }} ---&gt; 'value'\n</code></pre>\n\n<p>Is there any method in django inbuilt by which i get 'value'?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine","oauth","oauth-2.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12916699,"title":"Do I have to refresh the oauth2 access_token myself, or","body":"<p>I use the Google APIs Client Library for Python (oauth2client app engine). When the access_token expires, do I have to refresh it myself or will it be done by the API?\nNow the access_token expires and is not refreshed! </p>\n\n<p>I use the oauth aware decorator. The access type = offline and the refresh token is inside the credentials.</p>\n\n<p>This is the TokenInfo I have received:</p>\n\n<pre><code>{\n \"issued_to\": \"1002825648120.apps.googleusercontent.com\",\n \"audience\": \"1002825648120.apps.googleusercontent.com\",\n \"user_id\": \"110738386197429542823\",\n \"scope\": \"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email\",\n \"expires_in\": 3540,\n \"email\": \"xxxxxxxxx@gmail.com\",\n \"verified_email\": true,\n \"access_type\": \"offline\"\n}\n</code></pre>\n\n<p>If I have to refresh the access_token, is there an easy method in the oauth client API to do that?</p>\n\n<p><strong>UPDATE-1 :</strong></p>\n\n<p>I studied the code of oauth2/client.py. I now think that failing to use decorator.http() results in not refreshing the access token. See this (my other) question:\n<a href=\"http://stackoverflow.com/questions/12915253/failed-to-authorize-tokeninfo-oauth2-request-using-decorator-http\">Failed to authorize tokeninfo oauth2 request using decorator.http()</a></p>\n\n<p><strong>UPDATE-2 : SOLVED :</strong></p>\n\n<p>The problem mentioned above (in UPDATE-1) was solved and also solved this question. The API will try to refresh the access_token (if expired) when calling an authorized http.request. </p>\n"},{"tags":["google-app-engine","google-plugin-eclipse"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12904567,"title":"Google appengine with Eclipse","body":"<p>Trying to use google appengine with the help of Eclipse plugin.\nI created test application (Google button on the Eclipse toolbar -> New Web Application project), then tried to make some simple changes it to check how it works and encountered a problem.\nI tried to make something like a simple lottery (user inputs six numbers, then app generates some random sequence of six numbers and user gets the number of matches between his input and result). It works correctly on local server (only in Firefox. Chrome, Opera and Explorer require some gwt plugin. This make me wonder, I thought everything should work without any additional efforts), but after successful  deploy at Google cloud when user is sending data to server, he gets this error:</p>\n\n<hr>\n\n<p>An error occurred while attempting to contact the server. Please check your network connection and try again.</p>\n\n<hr>\n\n<p>link to my application is da7x-app.appspot.com</p>\n\n<p>I don't think the problem is in code, because on local server application works correctly. Maybe the solution is quite obvious, but I'm newbie and cannot figure it out. I tried to search for problems like mine and their solutions, but haven't found anything, so any help is appreciated.</p>\n"},{"tags":["xml","google-app-engine","error-handling","thread-safety","element"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12563587,"title":"App Engine <threadsafe> element missing error","body":"<p>So I have this error that i've seen many people have:</p>\n\n<pre><code>appengine-web.xml does not contain a &lt;threadsafe&gt; element.\n</code></pre>\n\n<p>But the solution always provided is to just add </p>\n\n<pre><code>&lt;threadsafe&gt;true&lt;/threadsafe&gt;\n</code></pre>\n\n<p>to the appengine-web.xml file. This is my appengine-web.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n  &lt;application&gt;dummy&lt;/application&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;threadsafe&gt;true&lt;/threadsafe&gt;\n  &lt;!-- Configure java.util.logging --&gt;\n  &lt;system-properties&gt;\n    &lt;property name=\"java.util.logging.config.file\" value=\"WEB-INF/logging.properties\"/&gt;\n  &lt;/system-properties&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n\n<p>And still I get the error that no threadsafe element is found?</p>\n"},{"tags":["google-app-engine","upgrade","task-queue"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12919765,"title":"Retaining task queues on deploying a new version","body":"<p>For Google App Engine apps, are task queues cleared when you deploy a new version of your app?</p>\n\n<p>If the queues are cleared, what's the best strategy for persisting tasks across versions?</p>\n"},{"tags":["python","google-app-engine","unicode","utf-16","utf-32"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":306,"score":6,"question_id":6922480,"title":"How to get a reliable unicode character count in Python?","body":"<p>Google App Engine uses Python 2.5.2, apparently with UCS4 enabled. But the GAE datastore uses UTF-8 internally. So if you store u'\\ud834\\udd0c' (length 2) to the datastore, when you retrieve it, you get '\\U0001d10c' (length 1). I'm trying to count of the number of unicode characters in the string in a way that gives the same result before and after storing it. So I'm trying to normalize the string (from u'\\ud834\\udd0c' to '\\U0001d10c') as soon as I receive it, before calculating its length and putting it in the datastore. I know I can just encode it to UTF-8 and then decode again, but is there a more straightforward/efficient way?</p>\n"},{"tags":["google-app-engine","oauth-2.0","google-drive-sdk","google-drive"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12823366,"title":"Using AppIdentityCredential with Google Drive API","body":"<p>I am using Google App Engine Identity to access Google Drive API of a Google Apps user.\nI have inserted GAE URL in Manage API client access in Google Apps, with the right scope.</p>\n\n<pre><code>AppIdentityCredential credential = new AppIdentityCredential(Arrays.asList(DriveScopes.DRIVE_FILE));\n    HttpTransport httpTransport = new NetHttpTransport();\n    JsonFactory jsonFactory = new JacksonFactory();\n    Drive service = new Drive.Builder(httpTransport, jsonFactory, credential).build();\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>com.google.appengine.repackaged.org.apache.http.impl.client.DefaultRequestDirector handleResponse\nWARNING: Authentication error: Unable to respond to any of these challenges: {authsub=WWW-Authenticate: AuthSub realm=\"https://www.google.com/accounts/AuthSubRequest\" allowed-scopes=\"https://www.googleapis.com/auth/drive,https://www.googleapis.com/auth/docs,https://www.googleapis.com/auth/drive.file,https://www.googleapis.com/auth/drive.readonly,https://www.googleapis.com/auth/drive.metadata.readonly\"}\nAn error occurred: com.google.api.client.googleapis.json.GoogleJsonResponseException: 401 OK\n{\n  \"code\" : 401,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"location\" : \"Authorization\",\n    \"locationType\" : \"header\",\n    \"message\" : \"Invalid Credentials\",\n    \"reason\" : \"authError\"\n  } ],\n  \"message\" : \"Invalid Credentials\"\n}\n</code></pre>\n\n<ul>\n<li>Is it necessary to enable GAE application in API Client access in Google Apps? If not, how I authorise GAE app to gain acess to an API Scope?</li>\n<li>Is possible to test GAE Identity in Local / Eclipse?</li>\n<li>Summarizing, what is wrong or lack?</li>\n</ul>\n"},{"tags":["eclipse","google-app-engine","jdo","xsd-validation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":284,"score":0,"question_id":12654503,"title":"How to solve validation error on xsi:noNamespaceSchemaLocation in jdoconfig.xml","body":"<p>Since I updated today to GAE 1.7.2.1, I'm having validation errors in eclipse in all my jdoconfig.xml files.</p>\n\n<p>I have the default jdoconfig.xml content :</p>\n\n<pre><code>[...]\n&lt;jdoconfig xmlns=\"http://java.sun.com/xml/ns/jdo/jdoconfig\"\n   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n   xsi:noNamespaceSchemaLocation=\"http://java.sun.com/xml/ns/jdo/jdoconfig\"&gt;\n[...]\n</code></pre>\n\n<p>And eclipse validation throws:</p>\n\n<pre><code>Referenced file contains errors (http://java.sun.com/xml/ns/jdo/jdoconfig).  \nFor more information, right click on the message in the Problems View and \nselect \"Show Details...\"\n</code></pre>\n\n<p>When clicking on details I can see a bunch of lines like:</p>\n\n<pre><code>s4s-elt-character: Non-whitespace characters are not allowed in schema elements\nother than 'xs:appinfo' and 'xs:documentation'. Saw 'var_U = \"undefined\";'.\n</code></pre>\n\n<p>In different lines and different content in \"Saw ... \"</p>\n\n<p>It occurs in every single project I start using the \"New Web Application Project...\" from the google plugin.</p>\n\n<p>So does anyone have this problem? Any fix?</p>\n"},{"tags":["java","web-services","google-app-engine","web-applications","jersey"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":12900975,"title":"All my Restful web services stopped working when I add new service","body":"<p>Ok I have a package with two restful web service class Login.class and Subscribe.class. When I deploy them to the app engine and test them they work. Now I add a new service class name User s.class to the package now none of my service works when I invoke them I get a internal server  error.</p>\n\n<pre><code>com.sun.jersey.spi.inject.Errors processErrorMessages: The following errors and warnings have been detected with resource and/or provider classes:\n</code></pre>\n\n<p>SEVERE: Producing media type conflict. The resource methods public javax.ws.rs.core.Response com.ppsjamaica.webservices.PPSUsers.getUserById(java.lang.Long) and public javax.ws.rs.core.Response com.ppsjamaica.webservices.PPSUsers.getUserByUsernamePassword(java.lang.String,java.lang.String) can produce the same media type</p>\n\n<pre><code>Uncaught exception from servlet\n</code></pre>\n\n<p>com.sun.jersey.spi.inject.Errors$ErrorMessagesException\n    at com.sun.jersey.spi.inject.Errors.processErrorMessages(Errors.java:170)</p>\n\n<p>my Subscribe class is:</p>\n\n<pre><code>   @Path (\"/subscriber\")\npublic class Subscribe {\n\n    @GET\n    @Produces (MediaType.APPLICATION_JSON)\n    public Response getSubscriber (@QueryParam(\"email\")String email)\n    {\n        EntityManager entityManager = EMF.getInstance ().createEntityManager ();\n\n        /*\n         * Sends back a BAD_REQUEST HTTP status\n         * if email query parameter is empty\n         */\n        if (email.isEmpty ())\n            return Response.status(Status.BAD_REQUEST).build ();\n\n        try\n        {\n            Query query = entityManager.createQuery (\"SELECT FROM Subscriber WHERE email= :emailParam\");\n            query.setParameter(\"emailParam\", email);\n            return Response.status(Status.OK).entity((Subscriber) query.getSingleResult ()).build (); \n        }\n        catch (NoResultException e)\n        {\n            return Response.status (Status.NOT_FOUND).build ();\n        }\n\n    }//end Subscriber method\n}\n</code></pre>\n\n<p>my login class is:</p>\n\n<pre><code>    @Path (\"/login\")\npublic class Login {\n\n    @GET\n    @Produces (MediaType.APPLICATION_JSON)\n    public User authenticate (@QueryParam(\"username\") String username, @QueryParam(\"password\")String password)\n    {\n        User user = new User ();\n        return user;\n    }//end authenticate method\n\n\n    @GET\n    @Path (\"/Subscriber\")\n    @Produces (MediaType.APPLICATION_JSON)\n    public Response getSubsriber (@QueryParam(\"email\") String email)\n    {\n        EntityManager entityManager = EMF.getInstance ().createEntityManager();\n\n        try\n        {\n            Query query = entityManager.createQuery(\"SELECT FROM Subscriber WHERE email= :emailParam\");\n            query.setParameter(\"emailParam\", email);\n\n            Subscriber subscriber = (Subscriber)query.getSingleResult();\n            return Response.status(Status.OK).entity(subscriber).build ();\n        }\n        catch(Exception e)\n        {\n            throw new RuntimeException (e);\n        }\n    }//end getSubsriber method\n}//end Login class\n</code></pre>\n\n<p>and my users class is:</p>\n\n<pre><code>@Path (\"/users\")\npublic class Users {\n\n\n    /**\n     * Gets all User objects from datastore. Returns\n     * NOT_FOUND HTTP Response status if no result\n     * found and OK HTTP Response status if it does with\n     * a list of User objects. \n     * \n     * URL: domain-name/services/users/all\n     * \n     * @author Mario Dennis\n     * @return Response\n     */\n    @GET\n    @Path (\"/all\")\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getAllUsers ()\n    {\n        try\n        {\n            EntityManager entityManager = EMF.getInstance().createEntityManager();\n            Query query = entityManager.createQuery(\"SELECT FROM User\");\n\n            @SuppressWarnings(\"unchecked\")\n            List&lt;User&gt; user = (List&lt;User&gt;) query.getSingleResult ();\n            GenericEntity&lt;List&lt;User&gt;&gt; entity = new GenericEntity&lt;List&lt;User&gt;&gt;(user){};\n\n            return Response.status(Status.OK).entity(entity).build ();\n        }\n        catch (NoResultException e)\n        {\n            return Response.status(Status.NOT_FOUND).build ();\n        }\n    }//end getAllUsers method\n\n\n\n    /**\n     * Gets User object with user name and password specified from\n     * datastore. Returns NOT_FOUND HTTP Response status if no result\n     * found and OK HTTP Response status if it is found and BAD_REQUEST\n     * if parameter supplied is empty.\n     * a list of User objects. \n     * \n     * URL: domain-name/services/users/{username}&amp;{password}\n     * \n     * @author Mario Dennis\n     * @return Response\n     */\n    @GET\n    @Produces (MediaType.APPLICATION_JSON)\n    public Response getUserByUsernamePassword (@QueryParam(\"username\")String username,@QueryParam(\"password\") String password)\n    {\n        /*\n         * Sends back a BAD_REQUEST HTTP status\n         * if email query parameter is empty\n         */\n        if (username.isEmpty() || password.isEmpty())\n            return Response.status(Status.BAD_REQUEST).build ();\n\n        try\n        {\n            EntityManager entityManager = EMF.getInstance().createEntityManager ();\n            Query query = entityManager.createQuery (\"SELECT FROM User WHERE user_name= :usernameParam AND password= :passwordParam\");\n            query.setParameter(\"usernameParam\", username);\n            query.setParameter(\"passwordParam\",password);\n            User user = (User) query.getSingleResult ();\n\n            return Response.status(Status.OK).entity(user).build ();\n        }\n        catch (NoResultException e)\n        {\n            return Response.status(Status.NOT_FOUND).build ();\n        }\n    }//end getUserByUsernamePassword method\n\n\n\n    /**\n     * Gets User object with id specified from datastore. \n     * Returns NOT_FOUND HTTP Response status if no result\n     * found and OK HTTP Response status if it is found and \n     * BAD_REQUEST if parameter supplied is empty.\n     * a list of User objects. \n     * \n     * URL: domain-name/services/users/{id}\n     * \n     * @author Mario Dennis\n     * @return Response\n     */\n    @GET\n    @Produces (MediaType.APPLICATION_JSON)\n    public Response getUserById (@QueryParam(\"id\")Long id)\n    {\n        /*\n         * Sends back a BAD_REQUEST HTTP status\n         * if email query parameter is empty.\n         */\n        if (id == null)\n            return Response.status(Status.BAD_REQUEST).build ();\n\n        try\n        {\n            EntityManager entityManager = EMF.getInstance ().createEntityManager ();\n            User user = entityManager.find(User.class,id);\n\n            /*\n             * Checks if user was found. Return a NOT_FOUND\n             * HTTP status if user was not located. \n             */\n            if (user == null)\n                return Response.status(Status.NOT_FOUND).build ();\n\n            else\n                return Response.status(Status.OK).entity(user).build();\n        }\n        catch (NoResultException e)\n        {\n            return Response.status(Status.NOT_FOUND).build ();\n        }\n    }//end getUserById method\n\n\n\n\n    /**\n     * Save User object to database. Return NOT_MODIFIED\n     * HTTP status if persisting of object failed. Otherwise\n     * return OK HTTP status if it was successful.\n     * \n     * URL: domain-name/services/users/{JSON}\n     * \n     * @author Mario Dennis\n     * @param user\n     * @return Response\n     */\n    @POST\n    @Consumes  (MediaType.APPLICATION_JSON)\n    public Response saveUser (User user)\n    {\n        try\n        {\n            EntityManager entityManager = EMF.getInstance().createEntityManager();\n            entityManager.getTransaction ().begin();\n            entityManager.persist(user);\n            entityManager.getTransaction().commit();\n\n            return Response.status(Status.OK).build ();\n        }\n        catch(Exception e)\n        {\n            return Response.status(Status.NOT_MODIFIED).build ();\n        }\n    }//end saveUser method\n\n}//end Users class\n</code></pre>\n\n<p>When I delete the user class and upload back the other two services starts working again. What is causing this?\nweb.xml</p>\n\n<pre><code> &lt;!-- Jersey Framework mapping --&gt;\n   &lt;servlet&gt;\n        &lt;servlet-name&gt;RESTful&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n          &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n          &lt;param-value&gt;com.ppsjamaica.webservices&lt;/param-value&gt;\n        &lt;/init-param&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RESTful&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/service/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n    &lt;!-- end Jersey Framework mapping --&gt;\n</code></pre>\n"},{"tags":["html","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":12917123,"title":"What happened to appcfg.cmd update","body":"<p>c:\\users\\lou\\project_working_dir\\appengine-java-sdk-1.7.2.1\\bin\\appcfg.cmd update c:\\users\\lou\\workspace\\Buzz\\war... worked fine until some time ago.</p>\n\n<p>Now the files are uploaded but not executed!@!!!!!!</p>\n\n<p>I tried (almost) everything.... see my question about \"appcgf.cmd update\"</p>\n"},{"tags":["google-app-engine","tls"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12916405,"title":"Gateways, TLS certificate DN and TLS certificate issuer CA","body":"<p>We have a client that is going ti be sending his emails via TLS encryption and he is asking some information from us. He sent us a form to fill in and I have 3 fields to complete and I have no idea what they mean.</p>\n\n<p>I need this information:</p>\n\n<ol>\n<li>Gateways</li>\n<li>TLS certificate DN</li>\n<li>TLS certificate issuer CA</li>\n</ol>\n\n<p>We work on Google Apps for Business and we use Postini for encrypting our emails (a client in the past asked for it).</p>\n\n<p>I talked to the reseller who sold us and configured our emails through Postini but he is an idiot, so that is why I´m asking here if anyone knows where to get this information from</p>\n\n<p>thanks!</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12915060,"title":"Is getting a specific App Engine entity by key, when the key has a parent key, an ancestor query?","body":"<p>I need up-to-date consistency, not eventual consistency, so it seems like I should use an ancestor query. However, can App Engine not tell that when in Java I call</p>\n\n<pre><code>datastoreService.get(myKey)\n</code></pre>\n\n<p>when myKey has a parent key, that's effectively an ancestor query? Isn't the parent key of myKey an implicit ancestor restriction?</p>\n"},{"tags":["java","python","google-app-engine","google-datastore"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":383,"score":1,"question_id":9725916,"title":"What is Google App Engine's Datastore \"parent key\"?","body":"<p>What is the \"parent key\" used in <a href=\"http://code.google.com/appengine/docs/go/datastore/reference.html\" rel=\"nofollow\">Google App Engine's Datastore</a> classes and what is it used for?</p>\n"},{"tags":["google-app-engine","gae-datastore","blobstore","webapp2","filepicker.io"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":200,"score":3,"question_id":12149315,"title":"How do I integrate filepicker.io with google app engine (blobstore)?","body":"<p>So I'm trying to use filepicker.io with a GAE application. The filepicker widget returns the URL of the file that a user uploaded.</p>\n\n<p>How do I then use this url to upload the file to GAE's blobstore?</p>\n\n<p>The blobstore only supports \"file uploading through a form\", so the real question is how to fake a form POST containing the URL of a file.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12896249,"title":"App Engine: Does put(java.lang.Iterable<Entity> entities) reduce the number of write operations?","body":"<p>Does calling the <code>put(java.lang.Iterable&lt;Entity&gt; entities)</code> which performs a batch put of the list of entities reduces the number of datastore write operations to just <strong>one</strong> as compared to calling <code>put(Entity entity)</code> n number of times? </p>\n"},{"tags":["google-app-engine"],"answer_count":6,"favorite_count":2,"up_vote_count":10,"down_vote_count":0,"view_count":1760,"score":10,"question_id":10315069,"title":"app deploy issue","body":"<p>i try deploy my app, but get error:</p>\n\n<pre>\nStarting update of app: flyingbat123, version: 0-1\nGetting current resource limits.\nPassword for avigmati: Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 125, in \n    run_file(__file__, globals())\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 121, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4062, in \n    main(sys.argv)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4053, in main\n    result = AppCfgApp(argv).Run()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2543, in Run\n    self.action(self)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3810, in __call__\n    return method()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3006, in Update\n    self.UpdateVersion(rpcserver, self.basepath, appyaml)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2995, in UpdateVersion\n    self.options.max_size)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2122, in DoUpload\n    resource_limits = GetResourceLimits(self.rpcserver, self.config)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 355, in GetResourceLimits\n    resource_limits.update(GetRemoteResourceLimits(rpcserver, config))\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 326, in GetRemoteResourceLimits\n    version=config.version)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 379, in Send\n    self._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 437, in _Authenticate\n    super(HttpRpcServer, self)._Authenticate()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 281, in _Authenticate\n    auth_token = self._GetAuthToken(credentials[0], credentials[1])\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 233, in _GetAuthToken\n    e.headers, response_dict)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 94, in __init__\n    self.reason = args[\"Error\"]\nAttributeError: can't set attribute\n2012-04-25 19:30:15 (Process exited with code 1)\n</pre>\n\n<p>that's piece of my app.yaml:</p>\n\n<pre>\napplication: flyingbat123\nversion: 0-1\nruntime: python\napi_version: 1\nthreadsafe: no\n</pre> \n\n<p>seems like auth error, but enter valid email &amp; pass \nwhat i do wrong?</p>\n"},{"tags":["python","google-app-engine","oauth-2.0","decorator"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12895489,"title":"Can I use OAUT2 decorator for a user login to my app engine application","body":"<p>I have a Python GAE application which presents the user with a HTML login page. This page includes an oauth2 login link (response_type=code) to login to my application. The link looks like this: </p>\n\n<pre><code>https://accounts.google.com/o/oauth2/auth?scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email+https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&amp;state=%2Fprofile&amp;redirect_uri=https%3A%2F%2Foauth2-login-demo.appspot.com%2Foauthcallback&amp;response_type=code&amp;client_id=812741506391.apps.googleusercontent.com\n</code></pre>\n\n<p>After the user allows access, the GAE application receives a callback like:</p>\n\n<pre><code>https://oauth2-login-demo.appspot.com/oauthcallback?code={authorizationCode}\n</code></pre>\n\n<p>My questions: </p>\n\n<ul>\n<li><p>Can I use the Python oauth2 decorator to handle this callback = exchange the authorization code for an access token.</p></li>\n<li><p>Can I also use the decorator to create the oauth2 login link for my HTML page.</p></li>\n</ul>\n\n<p>I'am using this flow: <a href=\"https://developers.google.com/accounts/docs/OAuth2Login\" rel=\"nofollow\">https://developers.google.com/accounts/docs/OAuth2Login</a>.</p>\n\n<p>And decorator: <a href=\"https://developers.google.com/api-client-library/python/platforms/google_app_engine\" rel=\"nofollow\">https://developers.google.com/api-client-library/python/platforms/google_app_engine</a>\nThanks for your help.</p>\n\n<p><strong>UPDATE: I figured it out</strong>.</p>\n\n<p>login.py</p>\n\n<pre><code>from google.appengine.api import users\nfrom oauth2client.appengine import OAuth2DecoratorFromClientSecrets\n\ndecorator = OAuth2DecoratorFromClientSecrets(\n      os.path.join(os.path.dirname(__file__), 'client_secrets.json'), 'https://www.googleapis.com/auth/userinfo.email')\n\n\nclass LoginHandler(BaseHandler):\n\n    @decorator.oauth_aware        \n    def get(self):\n\n        if decorator has credentials :\n            http = httplib2.Http()        # verify audience using the TokenInfo API\n            body = urllib.urlencode({'access_token': decorator.credentials.access_token})\n            resp, content = http.request(\"https://www.googleapis.com/oauth2/v1/tokeninfo\",method=\"POST\", body=body)\n            ....   # render template and show the user info from the TokenInfo response\n        else:\n            login_url = decorator.authorize_url()\n            ....   # render template and show the login_url\n</code></pre>\n\n<p>And to handle the callback, I had to add two lines in my </p>\n\n<p>app.yaml:</p>\n\n<pre><code>- url: /oauth2callback\n  script: oauth2client/appengine.py\n\n- url: .*\n  script: login.py\n</code></pre>\n"},{"tags":["java","eclipse","google-app-engine","windows-7","datanucleus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":371,"score":0,"question_id":10664377,"title":"'DataNucleus Enhancer' Error 206","body":"<p>I have a problem. I always get an Error 206 from Java DataNucleus Enhancer, since 2 days ago... days before it worked without errors.</p>\n\n<p>Cannot run program \"D:\\Program Files\\Java\\jre6\\bin\\javaw.exe\" (in directory \"C:\\Users\\schmisa2\\workspace\\AMS0\"): CreateProcess error=206, The filename or extension is too long \nCannot run program \"D:\\Program Files\\Java\\jre6\\bin\\javaw.exe\" (in directory \"C:\\Users\\schmisa2\\workspace\\AMS0\"): CreateProcess error=206, The filename or extension is too long </p>\n\n<p>I searched a lot at google and stackoverflow but cound solve the problem</p>\n\n<p>My longest path is:\nC:\\Users\\schmisa2\\workspace\\AMS0\\src\\ch\\zhaw\\ams\\module\\football\\sfv\\news\\server\\NewsElement.java </p>\n\n<p><a href=\"https://groups.google.com/group/google-appengine-java/browse_thread/thread/6cde7d1695b3eff3\" rel=\"nofollow\">https://groups.google.com/group/google-appengine-java/browse_thread/thread/6cde7d1695b3eff3</a></p>\n\n<p>Does somebody know how I can fix it?</p>\n\n<p>I installed a Linux Ubunt to test it there. There it was no problem... but it doesn't work on windows 7.\nI have GWT 2.4, App engine 1.6.5. SDK and Eclipse 3.7</p>\n\n<p>Or can someone explain me how to run it on command line?\nkindest Sam</p>\n"},{"tags":["google-app-engine","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12889353,"title":"HTTP method POST is not supported by this URL app engine","body":"<p>I keep getting the following error:\nHTTP method POST is not supported by this URL </p>\n\n<p>when trying to build on my local machine using google app engine.\nThe code in ShowJSPServlet.java file:</p>\n\n<pre><code>package helloJSP;\n\nimport java.io.IOException;\nimport javax.servlet.http.*;\n\npublic class HelloJSPServlet  extends HttpServlet \n{\n    @Override\n    public void doPost(HttpServletRequest req, HttpServletResponse resp) throws IOException \n    {\n        resp.setContentType(\"text/html\");\n        resp.getWriter().println(\"Hello, world\");\n    }\n}\n</code></pre>\n\n<p>My web.xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://java.sun.com/xml/ns/javaee\"\nxmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ShowJSP&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;helloJSP.ShowJSPServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ShowJSP&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/ShowName&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;hello.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>The hello.jsp file contents are:</p>\n\n<pre><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;form id=\"mainform\" method=\"post\" action=\"/ShowName\"&gt;\n            &lt;div&gt;\n                Name: &lt;input id=\"url\" type=\"text\" size=\"100\"/&gt;\n                &lt;input type=\"submit\" id=\"gobtn\" value=\"Go\" style=\"width: 70px\"/&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is the first time I am developing in JSP technology. What am I missing?</p>\n"},{"tags":["google-app-engine","ssl-certificate"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":12789513,"title":"Does Google App Engine support 256-bit SSL certificates?","body":"<p>I've installed a certificate for a Google App Engine project using Virtual IP (VIP) as explained here: <a href=\"https://developers.google.com/appengine/docs/ssl\" rel=\"nofollow\">https://developers.google.com/appengine/docs/ssl</a></p>\n\n<p>The certificate will use 256-bit encryption if the server supports it, but is currently using 128-bit encryption. Is there anyway to get it to use 256-bit encryption instead? I have not been able to find anything about it in the documentation or anywhere else. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":12907811,"title":"404 Resource not found,after deploying","body":"<p>When i deploy my application .It says the deployment successful,but\nwhen i check appspot.com it shows 404-resource not found\n.The application runs successfully on local host.but does not run on server.</p>\n\n<p>Before i could successfully deploy and run the project.</p>\n\n<p>Had recently installed the App Engine Launcher 1.7.2.After i installed\nit, it was not allowing me to deploy the project.it was throwing\nplease rollback.\nthen i Changed the version number in app.yaml .Now its allowing me to\ndeploy but when  in log on to appspot.com it throws 404-resource not\nfound.</p>\n\n<p>Please help me out with this problem.I am in great need of help.</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":64,"score":-2,"question_id":12886696,"title":"importing 3rd party libraries into app engine","body":"<p>Im having trouble getting app engine to accept a 3rd party library.</p>\n\n<p>ive copied it into the the app engine directory, but i keep getting the error, \"invalid object, the library tweepy is not supported\" in blah blah blah/app.yaml</p>\n\n<p>could somebody point out the obvious mistake please?</p>\n\n<p>thanks</p>\n\n<p>ok, ive made a few changes to the code and now i get this error, hopefully it is more useful</p>\n\n<pre><code> 2012-10-15 20:09:36 Running command: \"['C:\\\\Python27\\\\pythonw.exe', 'C:\\\\Program             Files\\\\Google\\\\google_appengine\\\\dev_appserver.py', '--admin_console_server=', '--port=8083', 'C:\\\\Documents and Settings\\\\ladds\\\\My Documents\\\\udacity\\\\whycantisigh']\"\n</code></pre>\n\n<p>WARNING  2012-10-15 19:09:54,140 rdbms_mysqldb.py:74] The rdbms API is not available because the MySQLdb library could not be loaded.\nWARNING  2012-10-15 19:09:56,171 datastore_file_stub.py:513] Could not read datastore data from c:\\docume~1\\ladds\\locals~1\\temp\\dev_appserver.datastore\nWARNING  2012-10-15 19:09:56,203 dev_appserver.py:3394] Could not initialize images API; you are likely missing the Python \"PIL\" module. ImportError: No module named _imaging\nINFO     2012-10-15 19:09:56,328 dev_appserver_multiprocess.py:647] Running application dev~whycantisigh on port 8083: #http://localhost:8083\nINFO     2012-10-15 19:09:56,328 dev_appserver_multiprocess.py:649] Admin console is available at: #http://localhost:8083/_ah/admin\nWARNING  2012-10-15 19:10:26,171 py_zipimport.py:139] Can't open zipfile C:\\Python27\\lib\\site-packages\\oauth2-1.0.2-py2.7.egg: IOError: [Errno 13] file not accessible: 'C:\\Python27\\lib\\site-packages\\oauth2-1.0.2-py2.7.egg'\nWARNING  2012-10-15 19:10:26,171 py_zipimport.py:139] Can't open zipfile C:\\Python27\\lib\\site-packages\\ply-3.4-py2.7.egg: IOError: [Errno 13] file not accessible: 'C:\\Python27\\lib\\site-packages\\ply-3.4-py2.7.egg'\nWARNING  2012-10-15 19:10:26,187 py_zipimport.py:139] Can't open zipfile C:\\Python27\\lib\\site-packages\\tweepy-1.11-py2.7.egg: IOError: [Errno 13] file not accessible: 'C:\\Python27\\lib\\site-packages\\tweepy-1.11-py2.7.egg'\nINFO     2012-10-15 19:10:30,171 dev_appserver.py:2884] \"GET / HTTP/1.1\" 405 -\nINFO     2012-10-15 19:18:04,250 py_zipimport.py:148] zipimporter('C:\\Python27\\lib\\site-packages\\oauth2-1.0.2-py2.7.egg', '')\nINFO     2012-10-15 19:18:04,250 py_zipimport.py:148] zipimporter('C:\\Python27\\lib\\site-packages\\ply-3.4-py2.7.egg', '')\nINFO     2012-10-15 19:18:04,250 py_zipimport.py:148] zipimporter('C:\\Python27\\lib\\site-packages\\tweepy-1.11-py2.7.egg', '')\nINFO     2012-10-15 19:18:06,640 dev_appserver.py:2884] \"GET / HTTP/1.1\" 405 -</p>\n\n<p>im sorry its not formatted clearly, but it will only let me format the first line.</p>\n\n<p>anyway, the gist of the problem seems to be that 3rd party libraries i have downloaded into python(and that work in the shell) arent accessible by app engine.</p>\n\n<p>thanks</p>\n"},{"tags":["java","google-app-engine","scripting","rhino","javax.script"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":8235957,"title":"ScriptEngineManager.getEngineFactoriesreturns no factories on appengine","body":"<p>The following code returns an empty array.</p>\n\n<pre><code>import javax.script.Invocable;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptEngineFactory;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\nScriptEngineManager manager = new ScriptEngineManager();\nList&lt;ScriptEngineFactory&gt; factories = manager.getEngineFactories();\n</code></pre>\n\n<p>It works in the development environment, but not deployed.<br>\nEven after adding js.jar from <a href=\"http://www.mozilla.org/rhino/download.html\" rel=\"nofollow\">rhino</a> to the lib folder and adding it to the classpath, no EngineFactories are found.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","google-app-engine","blob","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12904759,"title":"Google App Engine Blobstore upload File and get Path","body":"<p>I was successfully tested Blobstore upload <a href=\"https://developers.google.com/appengine/docs/java/blobstore/overview\" rel=\"nofollow\">tutorial</a>. But it use serve method to view the file. I can't find any way to get file path. Normally in php when we upload a file we get the file path, so we can embed that file in html. How can I do that in BlobStore. I searched on stackoverflow and google, I could find python examples but I can't find any for java. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":1096,"score":6,"question_id":5738146,"title":"Unable to handle DeadlineExceededError while using UrlFetch","body":"<p>I have this basic utility class fetches (possibly) shortened URLs in parallel and returns a dictionary that has final URLs. It uses the wait_any functionality that was described in this <a href=\"http://neopythonic.blogspot.com/2011/01/asynchronous-rpc-in-app-engine-today.html\" rel=\"nofollow\">blog post</a>.</p>\n\n<pre><code>class UrlFetcher(object):\n\n  @classmethod\n  def fetch_urls(cls,url_list):\n    rpcs = []\n    for url in url_list:\n      rpc = urlfetch.create_rpc(deadline=5.0)\n      urlfetch.make_fetch_call(rpc, url,method = urlfetch.HEAD)\n      rpcs.append(rpc)\n\n    result = {}\n    while len(rpcs) &gt; 0:\n      rpc = apiproxy_stub_map.UserRPC.wait_any(rpcs)\n      rpcs.remove(rpc)\n      request_url = rpc.request.url()\n      try:\n        final_url = rpc.get_result().final_url\n      except AttributeError:\n        final_url = request_url\n      except DeadlineExceededError:\n        logging.error('Handling DeadlineExceededError for url: %s' %request_url)\n        final_url  = None\n      except (DownloadError,InvalidURLError):\n        final_url  = None        \n      except UnicodeDecodeError: #Funky url with very evil characters\n        final_url = unicode(rpc.get_result().final_url,'utf-8')\n\n      result[request_url] = final_url\n\n    logging.info('Returning results: %s' %result)\n    return result\n</code></pre>\n\n<p>Even if I try to handle DeadlineExceededError, the application logs show otherwise. </p>\n\n<pre><code>2011-04-20 17:06:17.755\nUrlFetchWorker started\nE 2011-04-20 17:06:22.769\nThe API call urlfetch.Fetch() took too long to respond and was cancelled.\nTraceback (most recent call last):\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/ext/webapp/__init__.py\", line 636, in __call__\n    handler.post(*groups)\n  File \"/base/data/home/apps/tweethitapp/1.349863151373877476/tweethit/handlers/taskworker.py\", line 80, in post\n    result_dict = UrlFetcher.fetch_urls(fetch_targets)\n  File \"/base/data/home/apps/tweethitapp/1.349863151373877476/tweethit/utils/rpc.py\", line 98, in fetch_urls\n    final_url = rpc.get_result().final_url\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 592, in get_result\n    return self.__get_result_hook(self)\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/urlfetch.py\", line 345, in _get_fetch_result\n    rpc.check_success()\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 558, in check_success\n    self.__rpc.CheckSuccess()\n  File \"/base/python_runtime/python_lib/versions/1/google/appengine/api/apiproxy_rpc.py\", line 133, in CheckSuccess\n    raise self.exception\nDeadlineExceededError: The API call urlfetch.Fetch() took too long to respond and was cancelled.\nW 2011-04-20 17:06:22.858\nFound 1 RPC request(s) without matching response (presumably due to timeouts or other errors)\n</code></pre>\n\n<p>What am I missing here? Is there any other way to handle DeadlineExceededError? </p>\n\n<p>Or are there different types of DeadlineExceededErrors and I'm importing the wrong one? I'm using: <code>from google.appengine.runtime import DeadlineExceededError</code></p>\n"},{"tags":["google-app-engine","groovy","gaelyk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":196,"score":1,"question_id":6186853,"title":"Gaelyk - How Can I pass model objects between Controller and View","body":"<p>I am just starting to use Gaelyk.</p>\n\n<p>I was expecting it to behave like Spring MVC; I create my model object in the controller.groovy, and the format the model object in the .gtpl.</p>\n\n<p>In the controller I do this </p>\n\n<pre><code>def model = new MyModel()\nmodel.setMyId(2)\n</code></pre>\n\n<p>and in the .gtpl I do this</p>\n\n<pre><code>&lt;h1&gt;Test ${model.myId}&lt;/h1&gt;\n&lt;p&gt;\n    Model object is ${model}\n&lt;/p&gt;\n</code></pre>\n\n<p>However when I run this I get a <strong>MissingPropertyException</strong></p>\n\n<pre><code>groovy.lang.MissingPropertyException: No such property: model for class: SimpleTemplateScript1\n</code></pre>\n\n<p>In the tutorial examples the model object is shoehorned into an Attribute of <strong>javax.servlet.http.HttpServletRequest</strong> which IS accessible to the .gtpl.</p>\n\n<p>Is this really the only way pass data between the controller and the template ?\nI would feel cleaner if I could avoid polluting the Request (or Response) objects.</p>\n"},{"tags":["google-app-engine","google","application"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":325,"score":0,"question_id":10225110,"title":"app engine Application Identifier Alias","body":"<p>I understand and have seen Google App engine migration to High Replication.</p>\n\n<p>At the end of the process GOOGLE sets up the alias.\nCan this be done manually by me?</p>\n\n<p>How can I set an alias up on an application in Google App Engine?\nThe reason for wanting to do this is I am converting to HRD by copy and controlling the whole event myself.</p>\n\n<p>Can I set the alias myself from somewhere in the admin screen?</p>\n"},{"tags":["python","google-app-engine","geolocation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12904543,"title":"How to use this diff file","body":"<p>There is a port for the Google App Engine geospatial querying module GeoModel from db to ndb and I am having a little trouble figuring out what needs to go and what needs to stay.  <a href=\"http://code.google.com/p/geomodel/issues/attachmentText?id=32&amp;aid=320003000&amp;name=geo_ndb.diff&amp;token=BxAi6MbqWRtQVHBU4SQ0NHee330:1350335655595\" rel=\"nofollow\">Here is the port</a>.  It seems pretty straightforward just to simply delete all lines with \"-\" but all of the </p>\n\n<p><code>@@lat, long@@</code> </p>\n\n<p>lines give me an error and some of the functions, such as </p>\n\n<p><code>def update_location(self):</code></p>\n\n<p>don't actually have any body.  Am I missing something here or is this all that I need to do?</p>\n"},{"tags":["python","google-app-engine","geolocation","geocoding","gae-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12904413,"title":"Google App Engine Search API Performing Location Based Searches","body":"<p>I have been going through trying to find the best option on Google App Engine to search a Model by GPS coordinates.  There seem to be a few decent options out there such as GeoModel (which is out of date) but the new Search API seems to be the most current and gives a good bit of functionality.  This of course comes at the possibility of it getting expensive after 1000 searches once this leaves the experimental zone.</p>\n\n<p>I am having trouble going through the docs and creating a coherent full example to be able to use the Search API to search by location and I want to know if anyone has examples they are willing to share or create to help make this process a little more straightforward.  I understand how to create the actual geosearch query but I am unclear as to how to glue that together with the construction and indexing of the document.</p>\n"},{"tags":["google-app-engine","mapreduce"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12903991,"title":"eliminate trailing newline in Mapreduce Pipeline generated csv on GAE","body":"<p>I was using the example code found at <a href=\"http://code.google.com/p/google-bigquery-tools/\" rel=\"nofollow\">http://code.google.com/p/google-bigquery-tools/</a> to migrate data from the Google Datastore to Google Big Query.  I am finding that the csvs programatically generated with the mapper function have trailing newlines, and thus fail the big query import.  As the mapper itself has to way to know what the final record is, I can see why this is happening, but I do not know how to fix it.  </p>\n\n<p>The relevant code in the mapper, as it builds up the line of comma-separate values and ends with:</p>\n\n<pre><code>yield(\"%s\\n\" % result)\n</code></pre>\n\n<p>That would seem to put a newline on every line, which makes a pretty poor csv file.</p>\n\n<p>Any ideas how best to remedy this behavior?</p>\n"},{"tags":["google-app-engine","maven","deployment"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12903174,"title":"Error deploying Maven app on migrated Google App Engine","body":"<p>after I migrated my app (Java) onto the High Replication DataStore, I was trying to deploy it using the command I used to adopt before for deployment </p>\n\n<pre><code>`mvn test gae:deploy`\n</code></pre>\n\n<p>but now I'm getting this kind of error:</p>\n\n<pre><code>Oct 16, 2012 7:03:04 AM org.apache.jasper.JspC processFile \nINFO: Built File: /error.jsp\nOct 16, 2012 7:03:05 AM org.apache.jasper.JspC processFile\nINFO: Built File: /WEB-INF/tiles/contact-sidebar.jsp\n</code></pre>\n\n<p>Any help on this one?</p>\n\n<p>Cheers,</p>\n"},{"tags":["google-app-engine","maven","migration","dependencies"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12902732,"title":"javax.servlet.UnavailableException: Initialization failed after High Replication Datastore Migration in Google App Engine app","body":"<p>I just migrated my GAE app to the High Replication Datastore, but it seems I'm getting an initialization error. My app is using Maven (Java) and it is not leveraging on the DataStore (just using a couple of controllers and views using Apache Tiles). </p>\n\n<p>To migrate, I duplicated myapp, I launched </p>\n\n<pre><code>/Applications/appengine-java-sdk-1.7.2.1/bin/appcfg.sh update ./src/main/webapp/\n</code></pre>\n\n<p>after modifying the appengine-web.xml file (changing the id to 'myapp-hrd'), and I used the migration tool to migrate to myapp-hrd.</p>\n\n<p>I tried to redeploy the app using the previous command, but I'm getting a 500 error in the front-end. Looking at the logs, I get:</p>\n\n<pre><code>EXCEPTION \njava.lang.ClassNotFoundException: org.tuckey.web.filters.urlrewrite.UrlRewriteFilter\nat com.google.appengine.runtime.Request.process-9aa0065f4d866794(Request.java)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:266)\nat org.mortbay.util.Loader.loadClass(Loader.java:91)\nat org.mortbay.util.Loader.loadClass(Loader.java:71)\n...\n\nUncaught exception from servlet\njavax.servlet.UnavailableException: Initialization failed.\nat      com.google.apphosting.runtime.jetty.AppVersionHandlerMap.createHandler(AppVersionHandlerMap.java:228)\nat com.google.apphosting.runtime.jetty.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:194)\n</code></pre>\n\n<p>I use the UrlRewriteFilter, and its dependency is declared in my POM file. \nAlso if I launch my app, using </p>\n\n<pre><code>mvn gae:run\n</code></pre>\n\n<p>I can clearly see my app working.</p>\n\n<p>Please help on that, it is quite urgent</p>\n\n<p>Cheers,</p>\n"},{"tags":["android","eclipse","debugging","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12539847,"title":"How to debug Android App and Google-App-Engine projects simultaneously with Eclipse","body":"<p>Android App is running in device.\nGoogle-app-engine project running locally on development machine.\nNormal Eclipse debugging works fine with either project with a single instance of Eclipse running for that project. But if I have 2 instances of Eclipse running (one for each project), then the Android App never finishes loading when attempting to launch via Eclipse debugger. Wondering if maybe both projects were in the same workspace if I could debug both simultaneously?</p>\n"},{"tags":["python","google-app-engine","testing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12899431,"title":"Testing Google App Engine site for broken links and other request errors","body":"<p>I'm working on a web app with front end designer and from time we make a mistake that breaks our href links either from typos or small changes that adversely impacting a template or I make silly typo that corrupts a request handler (I'm by not yet an expert in software dev)</p>\n\n<p>[my question is near the end but here's the situation..]</p>\n\n<p>But I wanted to build a tool that I could give my url handlers and site root and have it scan each page for href links and test them.. That way we're not surprised to find broken links as our site gets bigger in pages and functionality.</p>\n\n<p>I was thinking..</p>\n\n<ul>\n<li>Go through each page</li>\n<li>find href links (and css/js files) or any url that can be followed</li>\n<li>request urls/files and catch errors</li>\n<li>print each error associated with the links in a given page </li>\n</ul>\n\n<p>Then I'd go through my code and templates and find out why links are breaking down...</p>\n\n<p>I've gotten to the point where my code works in my head but I notice mistakes when its up and running but I don't feel like clicking all the links either...</p>\n\n<p>My question is, are there tools dedicated to such testing or does everyone just build their own? (specifically with GAE) Or what is the best practice for not having bad links.</p>\n"},{"tags":["java","php","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12898215,"title":"website.com auto direct to index.php","body":"<p>I have a website running on google app engine written in php. So when a user lands on domain.com they get a 404 error as there is no index.html file just a index.php file.</p>\n\n<p>Are there some sensible options to address this?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","jsf-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12897712,"title":"SessionScoped Bean loses data on post-back on Google Appengine","body":"<p>I use Eclipse 3.7 GAE pluggin for development.  My application uses JSF and datastore, and was set up as per <a href=\"https://sites.google.com/a/wildstartech.com/adventures-in-java/Java-Platform-Enterprise-Edition/JavaServer-Faces/javaserver-faces-20/configuring-javaserver-faces-20-to-run-on-the-google-appengine\" rel=\"nofollow\">https://sites.google.com/a/wildstartech.com/adventures-in-java/Java-Platform-Enterprise-Edition/JavaServer-Faces/javaserver-faces-20/configuring-javaserver-faces-20-to-run-on-the-google-appengine</a>.  In my development system, it works well.  But when deployed to GAE, the SessionScoped Bean loses data on post-back:</p>\n\n<pre><code>// Input facelet\n&lt;h:outputLabel for=\"popupCal\"&gt;Date &lt;/h:outputLabel&gt; \n&lt;p:calendar value=\"#{editEntry.current.date1}\" id=\"popupCal\" /&gt;\n&lt;h:outputLabel for=\"code\"&gt;Code &lt;/h:outputLabel&gt; \n&lt;h:inputText id=\"code\" value=\"#{editEntry.current.accountCode}\"/&gt;\n&lt;h:outputLabel for=\"amt\"&gt;Amount &lt;/h:outputLabel&gt; \n&lt;h:inputText id=\"amt\" value=\"#{editEntry.current.amountInDollars}\"/&gt;\n&lt;h:commandButton action=\"#{editEntry.createCashExpenditure}\" value=\"Create Entry\"/&gt;\n\n\n@ManagedBean(name=\"editEntry\")\n@SessionScoped\npublic class EditEntry extends AbstractEntryBean implements Serializable {\n\n@ManagedProperty(value=\"#{sessionBean}\")\nprotected SessionBean sessionBean; \n\n@ManagedProperty(value=\"#{dao}\")\nprotected Dao dao;\n\n@PostConstruct\npublic void init() {\nLogger.getLogger(getClass().getName()).log(Level.WARNING, \"dao is null? {0}\", dao==null);\n    setTran_id(0L);\n        entries.clear();\n        setCurrent(new Entry());\n        getCurrent().clear();\n        ...\n        this.refreshEntries();\n}\n\npublic void refreshEntries() {\n    entries = dao.getEntries(current.getFinyr(), getTran_id());\n    Logger.getLogger(getClass().getName()).log(Level.INFO, \"entries has {0} items\", entries.size());\n}\n\npublic String createCashExpenditure() {\n    if (dao == null) {\n        Logger.getLogger(getClass().getName()).log(Level.WARNING, \"dao is null\");\n        return null;\n    }\n    entries.clear();\n    Entry e = new Entry();\n    e.clear();\n    e.setAccountCode(current.getAccountCode());\n    e.setAccountName(dao.lookupAccoutName(e.getAccountCode()));\n    e.setAmount(current.getAmount());\n    e.setDate1(current.getDate1());\n    e.setTran_id(getTran_id());\n    Key key = dao.saveEntry(e, sessionBean.getFinyr());\n    e.setId(key.getId());\n    entries.add(e);\n    current = e;\n    this.setTran_id(e.getTran_id());\n    Logger.getLogger(getClass().getName()).log(Level.INFO, \"current account is: {0}\", current.getAccountCode());\n    return \"newEntry?faces-redirect=true\";\n}\n\n...\n</code></pre>\n\n<p>}</p>\n\n<pre><code>newEntry.xhtml\n    &lt;p:dataTable id=\"items\" value=\"#{editEntry.entries}\" var=\"item\"&gt;\n// editEntry.entries is EMPTY!\n</code></pre>\n\n<p>When EditEntry.createCashExpenditure() is invoked, the log shows EditEntry.current is correctly populated, and saved to the datastore.  Datastore viewer also displays the data.  But on post-back, in newEntry.xhtml facelet, editEntry.entries becomes empty, EditEntry.current loses all data.</p>\n\n<p>I have put in place ForceSessionSerializationPhaseListener as mentioned in <a href=\"http://java.zacheusz.eu/google-app-engine-http-session-vs-jsf-en/394/\" rel=\"nofollow\">http://java.zacheusz.eu/google-app-engine-http-session-vs-jsf-en/394/</a>  The log shows this listener is invoked.</p>\n\n<p>In web.xml, javax.faces.PROJECT_STAGE is Production, </p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12895855,"title":"Python: Refreshing User from gae auth cache","body":"<p>I'm implementing a basic authorization scheme in a Google app engine application.  In doing so I would like to add a new field to the User model (verified) which I have been able to do.  </p>\n\n<p>The issue I face is that after modifying the field value from verified ='No' to 'Yes' (i did this via the datastore viewer in the admin console) the next time I recover the user using something similar to:</p>\n\n<pre><code>tmpuser=auth.get_user_by_session()\n(myuser,ts)=self.auth.store.user_model.get_by_auth_token(tmpuser['user_id'],tmpuser['token'])\n\nprint myuser.verified\n</code></pre>\n\n<p>The field value is as it was ie 'No'.</p>\n\n<p>I imagine that this is due to caching somewhere amongst the <code>self.auth.store.user.model....</code> call</p>\n\n<p>Is is possible to force the code to retrieve the data from the datastore (if this is due to caching)</p>\n\n<p>Thanks in advance,</p>\n\n<p>Stephen</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12888611,"title":"Datastore modeling hierarchy for efficient queries","body":"<p>I'm really confused regarding datastore hierarchy and how to model my app.</p>\n\n<p>My app will have users.</p>\n\n<p>The data would have this particular hierarchy:</p>\n\n<p>The User will own a Tournament.</p>\n\n<p>Tournament ( properties: geodata )</p>\n\n<p>Inside tournament the user will add one or more Teams.</p>\n\n<p>Inside Teams the user will add info on a daily basis. </p>\n\n<p>For example:</p>\n\n<pre><code>Team: Hawks  \nConcept: Equipment  \nString: Buy t-shirts  \nNumber: 11  \nNumber (price) : 15\n</code></pre>\n\n<p>Does something like this makes sense?</p>\n\n<pre><code>class User(db.Model):\n    name = db.StringProperty(required = True)\n    pass = db.StringProperty(required = True)\n    email= db.StringProperty()\n\nclass Tournament(db.Model):\n    name  = db.StringProperty(required = True)\n    place = db.GeoPt()\n    owner = db.ReferenceProperty(User) \n\nclass Teams(db.Model):\n    belongs_to_tournament = db.ReferenceProperty(Tournament)\n    name = db.StringProperty(required = True)\n    players = db.IntegerProperty(required = True)\n\nclass DailyInfo(db.Model):\n    created = db.DateTimeProperty(auto_now_add = True)\n    concept = db.StringListProperty()\n    info    = db.StringProperty()\n    number  = db.IntegerProperty()\n    price   = db.IntegerProperty()\n    team    = db.ReferenceProperty(Teams)\n</code></pre>\n\n<p>Is this model done right or should I also add ancestor paths? Would I be able to query on this for displaying each users corresponding info?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":40,"score":-1,"question_id":12893489,"title":"Upload documents in google app engine","body":"<p>I am working in google app engine (python),</p>\n\n<pre><code>How can i upload documents like .jpg , .gif, .bmp , .doc , .docx , .pdf in google app engine ?\n</code></pre>\n"},{"tags":["python","google-app-engine","gae-datastore","web-security","voting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12889477,"title":"More Efficient Way to Prevent Duplicate Voting","body":"<p>There are a few questions similar to this already but I am hoping for a somewhat different answer.</p>\n\n<p>I have a website on Google App Engine in Python and I let registered users vote on posts, either up or down, and I only want each user to be able to vote once.</p>\n\n<p>The primary method that I have thought of and read about is to simply keep a list in each post of the users who have voted on it and only show the voting button to users who have not voted yet.  To me this seems like an inelegant solution.  To keep track of this when hundreds of people are voting on hundreds of posts is a ton of information to keep track of for such a little bit of functionality.</p>\n\n<p>Though I could be wrong about this.  Is this as much of a data/datastore write hog as I am imagining it to be?  If I have a few hundred votes going on each day is that not such a big deal?</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":441,"score":2,"question_id":3206647,"title":"Edit Text Field in Appengine Datastore Viewer","body":"<p>Does anyone know how edit a field with type 'Text' in the appengine data store viewer in production? </p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12871579,"title":"Objectify 4 Filter not working","body":"<p>I'm trying to do a simple JUnit test to do a query like this:           </p>\n\n<pre><code>Resource result = ofy().load().type(Resource.class).filter(\"raw =\", \n    \"/Bob/-/userId/-/\").first().get(); \nif (result != null){\n    System.out.println(\"Resulting Resource raw =\" + result.getRaw());\n} \n</code></pre>\n\n<p>The query above results to <code>null</code>, however when I do a query using id (which is a Long type) I get the result. When I persisted the entity I'm trying to \nquery I logged the <code>@Id</code> and the value is <code>1</code>, so I did a query using <code>id</code> to check:</p>\n\n<pre><code>Resource result = \n    ofy().load().type(Resource.class).filter(\"id =\", 1).first().get(); \nif (result != null){\n    System.out.println(\"Resulting Resource raw =\" + result.getRaw());\n}\n</code></pre>\n\n<p>The resulting <code>result.getRaw()</code> is <code>/Bob/-/userId/-/</code> which is really weird, from my first query the result should have not been <code>null</code>?</p>\n"},{"tags":["java","google-app-engine","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":12891163,"title":"How to store a single instance object in the AppEngine datastore","body":"<p>I need to create and store a single instance of an object in the AppEngine datastore (there will never need to be more than one object). \nIt is the last run time for a cron job that I am scheduling.\nThe idea is that the cron job will only pick up those rows that have been created/updated since its last run for processing,  and will update the last run time after it has completed, \nWhat is the best way to do this considering concurrency issues as well - in case a previous job has not finished running?</p>\n"},{"tags":["python","django","google-app-engine","pagination","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":128,"score":1,"question_id":12065988,"title":"Pagination in Jinja2 on Google App Engine","body":"<ol>\n<li><p>Is there a Pagination function in Jinja2 on Google App Engine?</p></li>\n<li><p>I am thinking about using <code>from django.core.paginator import Paginator</code> from django.\n<a href=\"https://docs.djangoproject.com/en/dev/topics/pagination/?from=olddocs\" rel=\"nofollow\">https://docs.djangoproject.com/en/dev/topics/pagination/?from=olddocs</a></p></li>\n</ol>\n\n<p>I think I need to include django library in app.yaml:</p>\n\n<pre><code>libraries:\n- name: django\n  version: \"1.2\"\n</code></pre>\n\n<p>But I want to know if this makes my application run slower because I include more libraries.</p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12879242,"title":"App engine 500 server error on serializing a class in shared package of a GWT project","body":"<p>I have a Friend class in shared folder. Which is the type of ArrayList returned by RPC. On uploading the project first time I got the following exception:</p>\n\n<pre><code>javax.servlet.ServletContext log: Exception while dispatching incoming RPC call\ncom.google.gwt.user.client.rpc.SerializationException: Type 'com.aman.gwt.friendlist.shared.Friend' was not included in the set of types which can be serialized by this SerializationPolicy or its Class object could not be loaded. For security purposes, this type will not be serialized.: instance = com.aman.gwt.friendlist.shared.Friend@6cffbb\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamWriter.serialize(ServerSerializationStreamWriter.java:665)\n</code></pre>\n\n<p>So to solve the issue I imported java.io.Serializable, implemented it and declared</p>\n\n\n\n<pre><code>private static final long serialVersionUID=-3195362485601524606L;\n</code></pre>\n\n<p>But now I am getting 500 server error on app engine. I checked the log but nothing is there.</p>\n\n<p>Update: It was a temporary problem.Occurs sometimes on updating the application.</p>\n"},{"tags":["java","eclipse","google-app-engine","eclipse-indigo","facet"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":928,"score":1,"question_id":10694648,"title":"GAE getting started in Java, Eclipse Indigo - can't compile as 1.6","body":"<p>I feel like I keep going in circles with this one. I followed the Getting Started guide for Google App Engine (https://developers.google.com/appengine/docs/java/gettingstarted/) in Eclipse and everything went relatively well until I uploaded it to the App Engine. </p>\n\n<p>I was getting 500 errors so I checked the logs and found this: \"guestbook/SignGuestbookServlet : Unsupported major.minor version 51.0]\"</p>\n\n<p>I then search for this problem (on stackoverflow, of course) and found this solution: <a href=\"http://stackoverflow.com/questions/8139477/google-app-engine-and-java-version\">Google App Engine and Java Version?</a></p>\n\n<p>So I set the compliance level to 1.6 and then at the bottom of the dialog I get the warning that \"When selecting 1.6 compliance, make sure to have a compatible JRE installed and activated (currently 1.7)\".</p>\n\n<p>I happy click OK, and it prompts for a rebuild. After the rebuild I then get this new error: \"Java compiler level does not match the version of the installed Java project facet.\"</p>\n\n<p>Not having knowingly used any facets in the project I do a search for some help (again on stackoverflow) and find this: <a href=\"http://stackoverflow.com/questions/2239959/faceted-project-prblem-java-version-mismatch-error-message\">&quot;Faceted Project Prblem (Java Version Mismatch)&quot; error message</a></p>\n\n<p>Unfortunately it is not even close to being helpful because I am not used Maven, and when I bring up the properties of the project there is no Project Properties -> Project Facets panel for me to change a version on.</p>\n\n<p>So it seems that I am stuck with something that either cannot be compiled in Eclipse or cannot be deployed to App Engine. I know that I am probably missing something obvious here but I can't quite put my finger on it.</p>\n\n<p>UPDATE: I have uninstalled all JREs and JDKs, and reinstalled only jdk1.6.0_32. The problem continues exactly the same.</p>\n"},{"tags":["java","google-app-engine","gwt","requestfactory"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12891629,"title":"Using RequestFactory and GAE Datastore","body":"<p>I m developing an application on Google App Engine (1.7) using Google Web Toolkit (2.4) and Eclipse as IDE. To deploy my application I need to create entities and using GAE datastore to store my entities values. Before this summer I noticed that there was an \"RPC service\" which could create all the appropriate entity proxies, value proxies and locators classes needed to use the requestfactory framework to store entities but as I recently noticed after an update these featured removed from the eclipse plug in.</p>\n\n<p>Does anybody know any way to use requestfactory without the need to manually create a list of classes (proxies, valueproxies, locators) for every entity in my application?</p>\n\n<p>Thnx!!</p>\n"},{"tags":["java","google-app-engine","character-encoding","bytearray"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5728,"score":2,"question_id":5673059,"title":"Converting byte array to String (Java)","body":"<p>I'm writing a web application in Google app Engine. It allows people to basically edit html code that gets stored as an <code>.html</code> file in the blobstore.</p>\n\n<p>I'm using fetchData to return a <code>byte[]</code> of all the characters in the file. I'm trying to print to an html  in order for the user to edit the html code. Everything works great!</p>\n\n<p>Here's my only problem now:</p>\n\n<p>The byte array is having some issues when converting back to a string. Smart quotes and a couple of characters are coming out looking funky. (?'s or japanese symbols etc.) Specifically it's several bytes I'm seeing that have negative values which are causing the problem.</p>\n\n<p>The smart quotes are coming back as <code>-108</code> and <code>-109</code> in the byte array. Why is this and how can I decode the negative bytes to show the correct character encoding?</p>\n"},{"tags":["osx","google-app-engine","google","go"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":156,"score":3,"question_id":12885235,"title":"Google Go HelloWorld Tutorial erring out","body":"<p>Starting to work through the Google Go HelloWorld tutorial from:  </p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/go/gettingstarted/helloworld\" rel=\"nofollow\">https://developers.google.com/appengine/docs/go/gettingstarted/helloworld</a></p>\n\n<p>Using OS X 10.8.2 on MacBook Pro.</p>\n\n<p>Followed the steps, but when I run the first code ( dev_appserver.py myapp/ ), I get errors listed at end of question.</p>\n\n<p>This is the hello world program:</p>\n\n<pre><code>package hello\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n\nfunc init() {\n    http.HandleFunc(\"/\", handler)\n}\n\nfunc handler(w http.ResponseWriter, r *http.Request) {\n    fmt.Fprint(w, \"Hello, world!\")\n}\n</code></pre>\n\n<p>and this is the configuration file:</p>\n\n<pre><code>application: helloworld\nversion: 1\nruntime: go\napi_version: go1\n</code></pre>\n\n<p>handlers:</p>\n\n<pre><code>- url: /.*\n  script: _go_app\n</code></pre>\n\n<p>Have googled and searched here on stackoverflow, but not found solution.</p>\n\n<p>Let me know if you have any ideas/suggestions.</p>\n\n<pre><code>Last login: Sun Oct 14 13:05:37 on ttys000\nderek-etnyres-macbook-pro-2:~ dereketnyre$ dev_appserver.py myapp/\nWARNING  2012-10-14 18:19:54,239 rdbms_mysqldb.py:74] The rdbms API is not available because the MySQLdb library could not be loaded.\nWarning: You are using a Python runtime (2.7) that is more recent than the production runtime environment (2.5). Your application may use features that are not available in the production environment and may not work correctly when deployed to production.\nCRITICAL 2012-10-14 18:19:54,686 appcfg.py:562] The api_version specified in app.yaml (go1) is not supported by this release of the SDK.  The supported api_versions are ['1'].\n</code></pre>\n\n<p>==========</p>\n\n<h1>Update</h1>\n\n<p>Changed the api_version to be 1 ( api_version: 1) and it did help.  Still gives error message but the server starts.</p>\n\n<p>It now says:</p>\n\n<pre><code>derek-etnyres-macbook-pro-2:~ dereketnyre$ dev_appserver.py myapp/\nWARNING  2012-10-14 21:03:14,910 rdbms_mysqldb.py:74] The rdbms API is not available because the MySQLdb library could not be loaded.\nWarning: You are using a Python runtime (2.7) that is more recent than the production runtime environment (2.5). Your application may use features that are not available in the production environment and may not work correctly when deployed to production.\nINFO     2012-10-14 21:03:15,324 appcfg.py:585] Checking for updates to the SDK.\nINFO     2012-10-14 21:03:15,551 appcfg.py:603] The SDK is up to date.\nWARNING  2012-10-14 21:03:15,551 datastore_file_stub.py:518] Could not read datastore data from /var/folders/s0/095xdtkd3cgbjp73tpxx309r0000gn/T/dev_appserver.datastore\nWARNING  2012-10-14 21:03:15,552 simple_search_stub.py:949] Could not read search indexes from /var/folders/s0/095xdtkd3cgbjp73tpxx309r0000gn/T/dev_appserver.searchindexes\nWARNING  2012-10-14 21:03:15,562 dev_appserver.py:3621] Could not initialize images API; you are likely missing the Python \"PIL\" module. ImportError: No module named _imaging\nINFO     2012-10-14 21:03:15,570 dev_appserver_multiprocess.py:655] Running application dev~helloworld on port 8080: http://localhost:8080\nINFO     2012-10-14 21:03:15,570 dev_appserver_multiprocess.py:657] Admin console is available at: http://localhost:8080/_ah/admin\n</code></pre>\n\n<p>When I go to localhost:8080 using Safari - does not display hello word - gives a screen full of python script exceptions.</p>\n\n<p>At the very bottom it says:</p>\n\n<pre><code>&lt;type 'exceptions.Exception'&gt;: no goroot found at /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/goroot \n      args = ('no goroot found at /Applications/GoogleAppEngine...bundle/Contents/Resources/google_appengine/goroot',) \n      message = 'no goroot found at /Applications/GoogleAppEngine...bundle/Contents/Resources/google_appengine/goroot'\n</code></pre>\n\n<p>Looks like the path is not set correctly?</p>\n\n<p>The full text of the python errors is:</p>\n\n<pre><code>pe 'exceptions.AttributeError'&gt; Python 2.7.2: /usr/bin/python\nSun Oct 14 21:29:05 2012\nA problem occurred in a Python script. Here is the sequence of function calls leading up to the error, in the order they occurred.\n\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py in _HandleRequest(self=&lt;google.appengine.tools.dev_appserver.DevAppServerRequestHandler instance&gt;)\n   2952         outfile = cStringIO.StringIO()\n   2953         try:\n=&gt; 2954           self._Dispatch(dispatcher, self.rfile, outfile, env_dict)\n   2955         finally:\n   2956           self.module_manager.UpdateModuleFileModificationTimes()\nself = &lt;google.appengine.tools.dev_appserver.DevAppServerRequestHandler instance&gt;, self._Dispatch = &lt;bound method DevAppServerRequestHandler._Dispat...v_appserver.DevAppServerRequestHandler instance&gt;&gt;, dispatcher = &lt;google.appengine.tools.dev_appserver.MatcherDispatcher object&gt;, self.rfile = &lt;socket._fileobject object&gt;, outfile = &lt;cStringIO.StringO object&gt;, env_dict = {'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...}\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py in _Dispatch(self=&lt;google.appengine.tools.dev_appserver.DevAppServerRequestHandler instance&gt;, dispatcher=&lt;google.appengine.tools.dev_appserver.MatcherDispatcher object&gt;, socket_infile=&lt;socket._fileobject object&gt;, outfile=&lt;cStringIO.StringO object&gt;, env_dict={'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...})\n   2822           dispatcher.Dispatch(app_server_request,\n   2823                               outfile,\n=&gt; 2824                               base_env_dict=env_dict)\n   2825         finally:\n   2826           request_file.close()\nbase_env_dict undefined, env_dict = {'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...}\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py in Dispatch(self=&lt;google.appengine.tools.dev_appserver.MatcherDispatcher object&gt;, request=&lt;AppServerRequest relative_url: / path: _go_app ...p', mode 'rb' at 0x106afb030&gt; force_admin: False&gt;, outfile=&lt;cStringIO.StringO object&gt;, base_env_dict={'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...})\n    705         forward_request = dispatcher.Dispatch(request,\n    706                                               outfile,\n=&gt;  707                                               base_env_dict=base_env_dict)\n    708 \n    709         while forward_request:\nbase_env_dict = {'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...}\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py in Dispatch(self=&lt;google.appengine.tools.dev_appserver.CGIDispatcher object&gt;, request=&lt;AppServerRequest relative_url: / path: _go_app ...p', mode 'rb' at 0x106afb030&gt; force_admin: False&gt;, outfile=&lt;cStringIO.StringO object&gt;, base_env_dict={'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'REMOTE_ADDR': '127.0.0.1', 'REQUEST_ID_HASH': 'C1DFD96E', 'REQUEST_METHOD': 'GET', 'SDK_VERSION': '1.7.2', 'SERVER_NAME': 'localhost', 'SERVER_PORT': '8080', ...})\n   1770                      memory_file,\n   1771                      outfile,\n=&gt; 1772                      self._module_dict)\n   1773     finally:\n   1774       logging.root.level = before_level\nself = &lt;google.appengine.tools.dev_appserver.CGIDispatcher object&gt;, self._module_dict = {'codecs': &lt;module 'codecs' from '/System/Library/Framework...framework/Versions/2.7/lib/python2.7/codecs.pyc'&gt;, 'email': &lt;module 'email' from '/System/Library/Frameworks...k/Versions/2.7/lib/python2.7/email/__init__.pyc'&gt;, 'email.Charset': &lt;email.LazyImporter object&gt;, 'email.Encoders': &lt;email.LazyImporter object&gt;, 'email.Errors': &lt;email.LazyImporter object&gt;, 'email.FeedParser': &lt;email.LazyImporter object&gt;, 'email.Generator': &lt;email.LazyImporter object&gt;, 'email.Header': &lt;email.LazyImporter object&gt;, 'email.Iterators': &lt;email.LazyImporter object&gt;, 'email.MIMEAudio': &lt;email.LazyImporter object&gt;, ...}\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/tools/dev_appserver.py in ExecuteCGI(config=&lt;AppInfoExternal version=1 source_lang...e=None runtime=go api_config=None &gt;, root_path='/Users/dereketnyre/myapp', handler_path='_go_app', cgi_path='/Users/dereketnyre/myapp/_go_app', env={'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'AUTH_DOMAIN': 'gmail.com', 'CONTENT_LENGTH': '', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'GATEWAY_INTERFACE': 'CGI/1.1', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'HTTP_ACCEPT_LANGUAGE': 'en-us', ...}, infile=&lt;cStringIO.StringO object&gt;, outfile=&lt;cStringIO.StringO object&gt;, module_dict={'codecs': &lt;module 'codecs' from '/System/Library/Framework...framework/Versions/2.7/lib/python2.7/codecs.pyc'&gt;, 'email': &lt;module 'email' from '/System/Library/Frameworks...k/Versions/2.7/lib/python2.7/email/__init__.pyc'&gt;, 'email.Charset': &lt;email.LazyImporter object&gt;, 'email.Encoders': &lt;email.LazyImporter object&gt;, 'email.Errors': &lt;email.LazyImporter object&gt;, 'email.FeedParser': &lt;email.LazyImporter object&gt;, 'email.Generator': &lt;email.LazyImporter object&gt;, 'email.Header': &lt;email.LazyImporter object&gt;, 'email.Iterators': &lt;email.LazyImporter object&gt;, 'email.MIMEAudio': &lt;email.LazyImporter object&gt;, ...}, exec_script=&lt;function ExecuteOrImportScript&gt;, exec_py27_handler=&lt;function ExecutePy27Handler&gt;)\n   1588     from google.appengine.ext.go import execute_go_cgi\n   1589     return execute_go_cgi(root_path, config, handler_path, cgi_path,\n=&gt; 1590         env, infile, outfile)\n   1591 \n   1592 \nenv = {'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'AUTH_DOMAIN': 'gmail.com', 'CONTENT_LENGTH': '', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'GATEWAY_INTERFACE': 'CGI/1.1', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'HTTP_ACCEPT_LANGUAGE': 'en-us', ...}, infile = &lt;cStringIO.StringO object&gt;, outfile = &lt;cStringIO.StringO object&gt;\n /Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/ext/go/__init__.py in execute_go_cgi(root_path='/Users/dereketnyre/myapp', config=&lt;AppInfoExternal version=1 source_lang...e=None runtime=go api_config=None &gt;, handler_path='_go_app', cgi_path='/Users/dereketnyre/myapp/_go_app', env={'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'AUTH_DOMAIN': 'gmail.com', 'CONTENT_LENGTH': '', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'GATEWAY_INTERFACE': 'CGI/1.1', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'HTTP_ACCEPT_LANGUAGE': 'en-us', ...}, infile=&lt;cStringIO.StringO object&gt;, outfile=&lt;cStringIO.StringO object&gt;)\n    519     RAPI_HANDLER = handler.ApiCallHandler()\n    520     GO_APP = GoApp(root_path)\n=&gt;  521   GO_APP.make_and_run(env)\n    522 \n    523 \nglobal GO_APP = None, GO_APP.make_and_run undefined, env = {'APPENGINE_RUNTIME': 'go', 'APPLICATION_ID': 'dev~helloworld', 'AUTH_DOMAIN': 'gmail.com', 'CONTENT_LENGTH': '', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'CURRENT_VERSION_ID': '1.1', 'DEFAULT_VERSION_HOSTNAME': 'localhost:8080', 'GATEWAY_INTERFACE': 'CGI/1.1', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'HTTP_ACCEPT_LANGUAGE': 'en-us', ...}\n&lt;type 'exceptions.AttributeError'&gt;: 'NoneType' object has no attribute 'make_and_run' \n      args = (\"'NoneType' object has no attribute 'make_and_run'\",) \n      message = \"'NoneType' object has no attribute 'make_and_run'\"\n</code></pre>\n"},{"tags":["eclipse","google-app-engine","google","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":11836343,"title":"ClassNotFoundException: org.datanucleus.store.appengine.jpa.DatastorePersistenceProvider","body":"<p>I try to start an Google appengine application in my eclipse.</p>\n\n<p>I have the Google plugin and I set the sdk for my application.</p>\n\n<p>But, when I start this one, I get the following error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.datanucleus.store.appengine.jpa.DatastorePersistenceProvider\n</code></pre>\n\n<p>However, this class is present in the sdk which is present in my classpath.</p>\n\n<p>Why Appengine doesn't find this class ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":558,"score":1,"question_id":11387341,"title":"Why doesn't my java compiler level match my installed project facet?","body":"<p>I made a simple Java Google AppEngine application called Guestbook in Eclipse 3.7 and am trying to run it. However, I am encountering an error that lacks a quick fix:</p>\n\n<pre><code>Description Resource    Path    Location    Type\nJava compiler level does not match the version of the installed Java project facet.\nGuestbook       Unknown Faceted Project Problem (Java Version Mismatch)\n</code></pre>\n\n<p>I tried navigating to <i>Project | Properties</i> to change my project facet. However, I could not find a setting that dealt with \"facet.\"</p>\n\n<p><img src=\"http://i.stack.imgur.com/2N4Mp.png\" alt=\"enter image description here\"></p>\n\n<p>What does \"installed Java project facet\" mean, and how do I fix this?</p>\n"},{"tags":["java","google-app-engine","google-drive-sdk","google-drive"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12886968,"title":"trash or delete a shared file","body":"<p>I'm trying to delete or trash a shared file, like this</p>\n\n<p>Delete</p>\n\n<pre><code> service.files().delete(id).execute();\n</code></pre>\n\n<p>Trash</p>\n\n<pre><code> service.files().trash(id).execute();\n</code></pre>\n\n<p>But in the delete case don't show any error but the file is not deleted, the file is still on my drive</p>\n\n<p>and in the trash case am getting this error </p>\n\n<pre><code>     {\n        \"code\" : 403,\n        \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"location\" : \"Authorization\",\n    \"locationType\" : \"header\",\n    \"message\" : \"The authenticated user does not have the required access to the file 1-Vt5gM2SLknnJs3nRFjWUly--nzfX1IWah-PxhLbNxo\",\n    \"reason\" : \"userAccess\"\n  } ],\n  \"message\" : \"The authenticated user does not have the required access to the file 1-Vt5gM2SLknnJs3nRFjWUly--nzfX1IWah-PxhLbNxo\"\n}\n</code></pre>\n\n<p>so how can i delete , trash or unsubscribe a shared file?</p>\n\n<p>thx in advance</p>\n"},{"tags":["python","google-app-engine","geolocation","gae-datastore","geocoding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":93,"score":-1,"question_id":12863434,"title":"importing function from another class in python","body":"<p>I am writing a webapp on Google App Engine in python and I am trying to use the <a href=\"http://code.google.com/p/geomodel/\" rel=\"nofollow\">GeoModel</a> class so that I can search by GPS coordinates.  I am getting the error that:</p>\n\n<pre><code>TypeError: Cannot filter a non-Node argument; received 'location_geocells IN'\n</code></pre>\n\n<p>Which I am not clear on but I would imagine it is an error in the way I did the import and baseclass. Here is my location class that is importing the GeoModel.  Also eclipse is giving me an error on the property(_get_latitude, _set_latitude)</p>\n\n<pre><code>class Location(ndb.Model, GeoModel):\n    created = ndb.DateTimeProperty(auto_now_add = True)\n    last_modified = ndb.DateTimeProperty(auto_now = True)\n    title = ndb.StringProperty(required = True)\n    locationtype = ndb.StringProperty(required = True)\n    description = ndb.TextProperty(required = True)\n    ratingCount = ndb.IntegerProperty(required = True)\n    rating = ndb.FloatProperty(required = True)\n    GPSlocation = ndb.StringProperty(required = True)\n    user_id = ndb.IntegerProperty(required = True)\n    Long = ndb.FloatProperty(required = True)\n    Lat = ndb.FloatProperty(required = True)\n    website = ndb.StringProperty()\n    postsport = ndb.StringProperty(repeated=True)\n    Area = ndb.FloatProperty()\n    recordRefs = ndb.IntegerProperty(repeated=True)\n    #what else do I need here?\n\n    def public_attributes(self):\n        \"\"\"Returns a set of simple attributes on public school entities.\"\"\"\n        return [\n                'created', 'last_modified', 'title', 'locationtype', 'description', 'ratingCount', 'rating', 'GPSlocation'\n                'user_id', 'Long', 'Lat', 'website', 'postsport', 'Area', 'recordRefs'\n                ]\n\n    def _get_latitude(self):\n        return self.location.lat if self.location else None\n\n    def _set_latitude(self, lat):\n        if not self.location:\n            self.location = db.GeoPt()\n\n        self.location.lat = Location.Lat\n\n        latitude = property(_get_latitude, _set_latitude)\n\n    def _get_longitude(self):\n        return self.location.lon if self.location else None\n\n    def _set_longitude(self, lon):\n        if not self.location:\n            self.location = db.GeoPt()\n\n        self.location.lon = Location.Long\n\n        longitude = property(_get_longitude, _set_longitude)\n\n    def render(self):\n        self._render_text = self.description.replace('\\n', '&lt;br&gt;')\n        return render_str(\"location.html\", loc = self)  \n</code></pre>\n\n<p>And then later I call:</p>\n\n<pre><code>locations = Location.proximity_fetch(\n                                                 Location.query(),\n                                                 geotypes.Point(lat, lng),\n                                                 max_results=50,\n                                                 max_distance=500000)\n</code></pre>\n"},{"tags":["google-app-engine","sass"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12885869,"title":"pySCSS on Google App Engine","body":"<p>Have somebody tried to install and use <strong>pySCSS</strong> (a Scss compiler for Python) on <strong>GAE</strong> (python 2.7) ?<br>\nIs-it hard to install ?<br>\nIs-it working fine ?</p>\n"},{"tags":["google-app-engine","jdo","gwt-rpc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12884516,"title":"unable persist data with jdo gwt 2.5.rc2 RPC + gae 1.7.2.1","body":"<p>This is my first application with jdo and appengine,\nWhen ever I try to persist data I am getting the exception.</p>\n\n<blockquote>\n  <p>com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract void com.article51a.client.ArticleService.addArticle()' threw an unexpected exception: java.lang.ExceptionInInitializerError</p>\n</blockquote>\n\n<p>When I tried to google about it  <a href=\"http://stackoverflow.com/questions/4697073/how-do-i-start-debugging-this-jdo-exception\">1</a> <a href=\"http://stackoverflow.com/questions/988217/gwt-with-jdo-problem\">2</a>  those seems to be doesn't work in my case.\nHere is my code and stack trace.</p>\n\n<p>This is my server side rpc implementation that persists data:</p>\n\n<pre><code>public class ArticleServiceImpl extends RemoteServiceServlet implements\n    ArticleService {\n\n/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n  private static final PersistenceManagerFactory PMF =\n      JDOHelper.getPersistenceManagerFactory(\"transactions-optional\");\n  PersistenceManager pm;\n\n\n\n  @Override\n  public void addArticle(){\n      pm = getPersistenceManager();\n        try {\n          pm.makePersistent(new Article(new HTML(\"ssdfsd\"),new HTML(\"ssdfsd\")));\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n  }\n\n  @Override\n    public List&lt;Article&gt; getRecentArticles(String str) {\n      List&lt;Article&gt; articles = new ArrayList&lt;Article&gt;();\n\n        try {\n          javax.jdo.Query q = pm.newQuery(Article.class);\n           articles = (List&lt;Article&gt;) q.execute();\n\n        } \n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally {\n          pm.close();\n        }\n        return articles;\n    }\n\n\n      private PersistenceManager getPersistenceManager() {\n        return PMF.getPersistenceManager();\n\n      }     \n</code></pre>\n\n<p>}</p>\n\n<p>This is my entity class:</p>\n\n<pre><code>@PersistenceCapable(identityType = IdentityType.APPLICATION)\n</code></pre>\n\n<p>public class Article {</p>\n\n<pre><code>@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Long id;\n@Persistent\nprivate String title;\n@Persistent\nprivate HTML abstractHtml;\n@Persistent\nprivate HTML contentHtml;\n\n\npublic Article() {\n}\n\n\n\npublic Article(HTML html, HTML html2) {\n    this.abstractHtml = html;\n    this.contentHtml = html;\n    this.title = \"sdfds\";\n}\n\npublic Long getId() {\n    return this.id;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic HTML getAbstractHtml() {\n    return abstractHtml;\n}\n\npublic void setAbstractHtml(HTML abstractHtml) {\n    this.abstractHtml = abstractHtml;\n}\n\npublic HTML getContentHtml() {\n    return contentHtml;\n}\n\npublic void setContentHtml(HTML contentHtml) {\n    this.contentHtml = contentHtml;\n}\n\n\npublic void setId(Long id) {\n    this.id = id;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is where I am making rpc call: </p>\n\n<pre><code>@UiHandler(\"articlePanel\")\nvoid onViewPanelSelection(SelectionEvent&lt;Integer&gt; event) {\n    articles.addArticle(new AsyncCallback&lt;Void&gt;() {\n\n        @Override\n        public void onFailure(Throwable caught) {\n            // TODO Auto-generated method stub\n\n        }\n\n        @Override\n        public void onSuccess(Void result) {\n         Window.alert(\"article added successfully\");                \n        }\n    });\n</code></pre>\n\n<p>This is my jdoconfig file:</p>\n\n<pre><code> &lt;persistence-manager-factory name=\"transactions-optional\"&gt;\n   &lt;property name=\"javax.jdo.PersistenceManagerFactoryClass\"\n       value=\"org.datanucleus.store.appengine.jdo.DatastoreJDOPersistenceManagerFactory\"/&gt;\n   &lt;property name=\"javax.jdo.option.ConnectionURL\" value=\"appengine\"/&gt;\n   &lt;property name=\"javax.jdo.option.NontransactionalRead\" value=\"true\"/&gt;\n   &lt;property name=\"javax.jdo.option.NontransactionalWrite\" value=\"true\"/&gt;\n   &lt;property name=\"javax.jdo.option.RetainValues\" value=\"true\"/&gt;\n   &lt;property name=\"datanucleus.appengine.autoCreateDatastoreTxns\" value=\"true\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>I've trying to solve it from past two days, please help me to sort this out. Please ask if any other information is needed.</p>\n\n<p>Here is my stack trace</p>\n\n<pre><code>com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public abstract void com.article51a.client.ArticleService.addArticle()' threw an unexpected exception: java.lang.ExceptionInInitializerError\nat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:389)\nat com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:579)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processCall(RemoteServiceServlet.java:208)\nat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:248)\nat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\nat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\nat com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\nat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\nat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\nat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\nat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\nat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\nat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\nat com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\nat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\nat org.mortbay.jetty.Server.handle(Server.java:326)\nat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\nat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\nat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\nat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\nat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\nat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\nat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>Caused by: java.lang.ExceptionInInitializerError\n    at com.article51a.server.ArticleServiceImpl.addArticle(ArticleServiceImpl.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\n    at com.google.gwt.user.server.rpc.RPC.invokeAndEncodeResponse(RPC.java:561)\n    ... 38 more\nCaused by: java.lang.UnsupportedOperationException: ERROR: GWT.create() is only usable in client code!  It cannot be called, for example, from server code.  If you are running a unit test, check that your test case extends GWTTestCase and that GWT.create() is not called from within an initializer or constructor.\n    at com.google.gwt.core.shared.GWT.create(GWT.java:51)\n    at com.google.gwt.core.client.GWT.create(GWT.java:85)\n    at com.google.gwt.user.client.ui.UIObject.(UIObject.java:194)\n    ... 45 more</p>\n\n<p>where ArticleServiceImpl.java:32  is \n    pm.makePersistent(new Article(new HTML(\"ssdfsd\"),new HTML(\"ssdfsd\")));</p>\n"},{"tags":["google-app-engine","twitter-api","feedparser"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12885190,"title":"Pull my Own Twitter Feed and Post on my Google App Engine App","body":"<p>All I want to do is pull down my 5 latests tweets from my own twitter feed and display the in a sidebar on my app engine site.</p>\n\n<p>I'm using <a href=\"http://code.google.com/p/feedparser/\" rel=\"nofollow\">feedparser</a> to read in my own titter posts on my App Engine site/app.  This works flawlessly when testing locally on my own machine, but when I upload to production, I only get proper results returned from twitter about 1 every 20 requests or so. Most of the time I'm getting 400 error codes being returned. </p>\n\n<p>Doing some research, I strongly suspect this is do to rate limiting that is happening on Twitters end because I'm just pulling from the public api and not authenticating my requests to twitter. </p>\n\n<p>Am I pretty much going to have to create and \"application\" on twitter to get my API key so I can authenticate? </p>\n\n<p>My plan is to grab the feed about once an hour and store it in memcache, so I shouldn't be hitting twitter very frequently with requests.</p>\n\n<p>When I do get a good response back (200 code) my current system works great, it's just very sketch right now regarding whether twitter will return the feed back or not when requested.</p>\n\n<p>I also trick plugging in the \"Twitter Widget\" I set up on twitter and while this worked locally, it was DOA when uploaded into production.</p>\n\n<p>Am I on the right track or is there an easier way to get this done.</p>\n"},{"tags":["java","google-app-engine","google-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12817068,"title":"'Update' like behavior for Google Datastore","body":"<p>Is there a way to make query for Google Datastore that behaves the same way as SQL 'Update' query with conditions. Or should I perform this task in two parts - retrieve stored entities that match specified conditions, change appropriated property and make batch request to save changed entities?</p>\n"},{"tags":["java","google-app-engine","google"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12884709,"title":"Google Code Lab Exercise 1 not working on Google appengine for Java","body":"<p>I am trying to run the following Code Lab Example 1:\n<a href=\"http://googcloudlabs.appspot.com/codelabexercise1.html\" rel=\"nofollow\">http://googcloudlabs.appspot.com/codelabexercise1.html</a>\nFind the eclipse project files attached over here:\n<a href=\"http://commondatastorage.googleapis.com/minor-project/CodeLabEx1-starter.zip\" rel=\"nofollow\">http://commondatastorage.googleapis.com/minor-project/CodeLabEx1-starter.zip</a>\nI have made the changes as required. Also, it started showing me warning that addFilter is deprecated. So I used the alternative setFilter. \nNow, the application runs fine on the local server. But when am deploying it on Appengine, it wont work.\nCan anyone please tell me where I have gone wrong or which settings I should change?\nThanks in advance</p>\n"},{"tags":["python","google-app-engine","email"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12881589,"title":"How to verify the result of sending an e-mail?","body":"<p>I send messages with <a href=\"https://developers.google.com/appengine/docs/python/mail/\" rel=\"nofollow\">The Mail Python API</a>. Is there any way to verify that:</p>\n\n<ol>\n<li>message was delivered;</li>\n<li>message was read?</li>\n</ol>\n\n<p>(I am referring to functions in MS Outlook)</p>\n"},{"tags":["google-app-engine","servlets","asynchronous","flush"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12883594,"title":"Means for sending output to client before processing with Google App Engine","body":"<p>I know that App Engine only allows for responses to be sent back to the client after the Servlet has completed its entire execution and returns. For example, I can't do the following:</p>\n\n<pre><code>//...some code\nPrintWriter outputToClient = res.getWriter();\noutputToClient.print(\"success\");\noutputToClient.flush();\noutputToClient.close();\n//more code...\n</code></pre>\n\n<p>I would have to wait for the \"more code\" to execute before the output gets flushed.</p>\n\n<p>I have a client that is uploading a file to a servlet. Before the servlet begins processing I just want to send to the client an acknowledgement that the file has been received before doing a whole lot of processing of the file. Is there some way to asynchronously perform the processing in another servlet that is called from the client requested servlet, then return from the original servlet as the async servlet does the heavy lifting?</p>\n\n<p>I've looked at URLFetchService.fetchAsync but that looks to be for calling external servlets. Also, I'm worried about not being able to send large files through fetchAsync, as well as the overhead from calling it (sending a simple acknowledgement for obtainment of a file shouldn't cost so much!, should it?).</p>\n\n<p>Thank you for any insights!</p>\n"},{"tags":["python","google-app-engine","google-apps-script"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12881834,"title":"Accessing Google Groups Services on Google Apps Script in Google App Engine?","body":"<p>I'm trying to work out if it is possible to use Google Apps Scripts inside Google App Engine?</p>\n\n<p>And if there is a tutorial in doing this out there ? </p>\n\n<p>Through reading Google's App Script site I get the feeling that you can only use app scripts inside Google Apps like Drive, Docs etc? </p>\n\n<p>What I would like to do is to be able to use the Groups Service that is in GAS inside GAE to Create, delete and only show the groups that a person is in, all inside my GAE App.</p>\n\n<p>Thanks </p>\n"},{"tags":["google-app-engine","google-calendar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12883055,"title":"How to read events from google calender API in google App Engine","body":"<p>I want to use the calendar API in Google app engine - to collect sport events and add them to the DB</p>\n\n<p>this is my code - </p>\n\n<pre><code>    Calendar calendar =  Calendar.builder(httpTransport, jsonFactory).setApplicationName(\"app name\").setJsonHttpRequestInitializer(new JsonHttpRequestInitializer() \n    {\n           @Override\n           public void initialize(JsonHttpRequest request) \n           {\n                CalendarRequest calendarRequest = (CalendarRequest)request;\n                calendarRequest.setPrettyPrint(true);\n                calendarRequest.setKey(\"my key\");  \n\n           }\n        }).build();\n\n\n     Events events = calendar.events().list(\"Calendar id\").setMaxResults(10).execute();\n</code></pre>\n\n<p>\"Calendar id\" = \"epl_6145_%41rsenal#sports@group.v.calendar.google.com\" - \n this is the address of the arsenal sport calender. I go it from the google \"Interesting Calendars list\"</p>\n\n<p>when i run my code i get this exception:</p>\n\n<pre><code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 403 OK\n{\n  \"code\" : 403,\n  \"errors\" : [ {\n    \"domain\" : \"calendar\",\n    \"message\" : \"The requested data is not available.\",\n    \"reason\" : \"insufficientRightsForApiAccess\"\n  } ],\n  \"message\" : \"The requested data is not available.\"\n</code></pre>\n\n<p>I do not know how to solve that :(</p>\n\n<p>Can anyone help?</p>\n\n<p>Thanks:)</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12880607,"title":"Start frontend Deferred task from backend on App Engine/Java","body":"<p>Is it possible to start a Deferred frontend task from a Deferred backend on App Engine/Java.  Deferred Tasks are started on the backend using a specific host with code like:</p>\n\n<pre><code>queue.add(withPayload(new MyDeferredTask()).header(\"Host\",\n    BackendServiceFactory.getBackendService().getBackendAddress(\"backend1\", 1));\n</code></pre>\n\n<p>And this works well.  If a Deferred task is started from this backend then the task also runs on the backend.  Is there a specific host to be used, or another means of explicitly starting a Deferred task on the frontend?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I missed out a bit of important info in the original question:  I'm talking about Deferred Tasks, where a payload is passed in.  Starting a Deferred task from a backend starts the new Deferred task in the same backend. What I want to know is if its possible to explicitly start a Deferred task in the frontend, when its started from a backend.  The original question above has been modified to reflect this.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12881068,"title":"Use of ORDER BY returns no result","body":"<p>I have an entity defined as:</p>\n\n<pre><code>a    Integer\nb    Float\ntype     String \ntype     STRING  &lt;--- Indexed property\n</code></pre>\n\n<p>I run a query with no sorting, and it returns results.</p>\n\n<pre><code>SELECT * FROM com_MyDomain WHERE type = 'GENERAL'\n</code></pre>\n\n<p>If I add sorting, the query returns no result.</p>\n\n<pre><code>SELECT * FROM com_MyDomain WHERE type = 'GENERAL' ORDER BY b, a\n</code></pre>\n\n<p>I also have an index (Serving status in app engine console) defined as:</p>\n\n<pre><code>&lt;datastore-index kind=\"com_MyDomain\"\n    ancestor=\"false\" source=\"manual\"&gt;\n    &lt;property name=\"type\" direction=\"asc\" /&gt;\n    &lt;property name=\"b\" direction=\"asc\" /&gt;\n    &lt;property name=\"a\" direction=\"asc\" /&gt;\n&lt;/datastore-index&gt;\n</code></pre>\n"},{"tags":["google-app-engine","jpa","callback","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12881560,"title":"Datastore callbacks are not called in Google Application Engine","body":"<p>I have a simple GAE application using JPA  and eclipse plugin for GAE (sdk version 1.7.2).</p>\n\n<p>I only have one simple entity mapped wit 2 properties : 1 Key  key ; and one String name.\nI have created only one class (taken from the \"Datastore Callbacks\" documentation of gae)</p>\n\n<pre><code>public class PostPutCallbacks {\nstatic Logger logger = Logger.getLogger(PostPutCallbacks.class.getName());\n\n @PostPut\n public void collectSample(PutContext context) {\n\n     logger.fine(\"Finished putting \" + context.getCurrentElement().getKey());\n }\n}\n</code></pre>\n\n<p>The database callback is not called.\nI tried with several  other annotations (@PrePut @PreGet) but they still didn't work .\n<strong>I've  also  tried with the Datastore low leve API and the callback is still not called.</strong></p>\n\n<p>I searched the web to see if there is a configuration besides the annotation processing jar manualy added for eclipse but I didn't find anything..\nCan anyone give me a hint?</p>\n"},{"tags":["java","google-app-engine","exception"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12880286,"title":"GAP: cacth quota exception","body":"<p>Is there any possibility to catch a quota exception in GAP (java)?</p>\n\n<p>For exemple </p>\n\n<pre><code>try{\n    ...\n}\ncatch(com.google.apphosting.api.ApiProxy e){\n    ...\n}\n</code></pre>\n\n<p>Or should I use the package Package com.google.appengine.api.quota ??</p>\n"},{"tags":["android","google-app-engine","oauth-2.0","google-play-services"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12803600,"title":"Using Google Play Services to authenticate with App Engine using OAuth2","body":"<p>Google Play Services <a href=\"http://android-developers.blogspot.ca/2012/09/google-play-services-and-oauth-identity.html\" rel=\"nofollow\">recently released a new OAuth 2.0 API</a> for easy OAuth 2.0 authentication.  I was hoping to be able to use this in concurrence with an App Engine application.  </p>\n\n<p>I haven't been able to find any way to do this however, and I'm not sure how I should be querying App Engine after I get the token.  Is this something that I should be added to the headers whenever I query App Engine?  Will OAuth 2.0 even work with App Engine?  Should I be using a specific scope?  If possible, I'd like to use the scope that gives a profile: <a href=\"https://www.googleapis.com/auth/userinfo.profile\" rel=\"nofollow\">https://www.googleapis.com/auth/userinfo.profile</a>.</p>\n\n<p>Can someone please tell me what I'm doing wrong?  Or if there's no way to authenticate on an App Engine service like this just yet?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":134,"score":2,"question_id":4285723,"title":"how to get all administrators in google appengine","body":"<p>As title,I want to get all the administrator(one app could have multiple admins),but I found no apis in User Service section.Any way or any undocumented api to do this? </p>\n"},{"tags":["python","google-app-engine","zip","flask","blobstore"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":681,"score":3,"question_id":9367037,"title":"Generate Zip Files and Store in GAE BlobStore","body":"<p>I am trying to generate a zip file and store in App Engine's Blobstore. Right now, I do not get a valid zip file from the Blobstore. Not sure the problem is with zipping, storing, retrieving or downloading.</p>\n\n<p>I have built the code based on snippets from the following questions.</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/583791/is-it-possible-to-generate-and-return-a-zip-file-with-app-engine\">Is it possible to generate and return a ZIP file with App Engine?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/963800/zipping-dynamic-files-in-app-engine-python\">Zipping dynamic files in App Engine (Python)</a></li>\n</ul>\n\n<p>After storing in Blobstore, I let users download it through a Flask application.</p>\n\n<p>Here is the gist of what I am trying to do.</p>\n\n<pre><code>def zipit():\n  zipstream = StringIO.StringIO()\n  zfile = zipfile.ZipFile(file=zipstream, mode='w')\n  bytes = \"lorem ipsum dolor sit amet\"\n  zfile.writestr('loremipsum', bytes, compress_type=zipfile.ZIP_STORED)\n  zfile.close()\n  zipstream.seek(0)\n  return zipstream.getvalue()\n\n\nzip_file = files.blobstore.create(mime_type='application/zip')\nzip_data = zipit()\n\nwith files.open(zip_file, 'a') as f:\n  f.write(zip_data)\nfiles.finalize(zip_file)\nblob_key = files.blobstore.get_blob_key(zip_file)\n\nblob_data = blobstore.BlobReader(blob_key).read()\n\n# http://flask.pocoo.org/docs/api/\nresponse = make_response(blob_data)\nresponse.headers['Content-Type'] = 'application/zip'\nresponse.headers['Content-Disposition'] = 'attachment; filename=\"loremipsum.zip\"'\nreturn response\n</code></pre>\n\n<p>Any help is much appreciated.</p>\n"},{"tags":["python","google-app-engine","gae-datastore","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12743621,"title":"BadValueError: Property X must be a str or unicode instance, not a tuple (on update, not on creation)","body":"<p>GAE is driving me crazy.</p>\n\n<p>I have the following:</p>\n\n<pre><code>    if id_puertas[x]:\n        puerta = Puerta.get_by_id(int(id_puertas[x]))\n        puerta.ubicacion = ubicacion_puertas[x],\n        puerta.ancho = float(ancho_puertas[x]),\n        puerta.marco = float(marco_puertas[x]),\n        puerta.alto  = float(alto_puertas[x]),\n        puerta.giro  = giro_puertas[x],\n        puerta.condena = True if condena_puertas[x] == 'Si' else False,\n        puerta.extra = extra_puertas[x]\n    else:\n        puerta = Puerta(\n            medicion = medicion.key().id(),\n            ubicacion = ubicacion_puertas[x],\n            ancho = float(ancho_puertas[x]),\n            marco = float(marco_puertas[x]),\n            alto  = float(alto_puertas[x]),\n            giro  = giro_puertas[x],\n            condena = True if condena_puertas[x] == 'Si' else False,\n            extra = extra_puertas[x]\n        )\n    puerta.put()\n</code></pre>\n\n<p>The same form sends either <code>id_puerta</code> as a number, or blank. If it's a number, updates an entity in the datastore. If it's blank, creates a new entity.</p>\n\n<p>Creation works perfectly.</p>\n\n<p>But if I resend the same form (even without modifications) the update chokes on the first assignment.</p>\n\n<p><code>ubicacion_puertas[x]</code> is a string (the same string on creation than on update), and <code>puerta.ubicacion</code> is a <code>StringProperty,</code> but I receive the following error:</p>\n\n<pre><code> BadValueError: Property ubicacion must be a str or unicode instance, not a tuple\n</code></pre>\n\n<p>In the debugger I see clearly that <code>ubicacion_puertas[0]</code> is u'Salon'. so I can't make sense of this error.</p>\n"},{"tags":["python","google-app-engine","compiler","introspection","dynamic-cast"],"answer_count":4,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":304,"score":10,"question_id":6612449,"title":"What are the arguments to the types.CodeType() python call?","body":"<p>I'm currently trying to roll my own \"marshal\" code for python so i can store compiled python code on Google App Engine to serve scripts on a dynamic way. As you all can verify, \"marshal\" isn't supported on GAE and \"pickle\" can't serialize code objects.</p>\n\n<p>I found out i can construct a code object with <code>types.CodeType()</code> but it expects 12 arguments.</p>\n\n<p>As much as i've tried, i can't find any documentation on this call and i really need to construct the code object so i can <code>exec()</code> it. My question is, <strong>does anyone know what are the parameters for this <code>types.CodeType()</code> \"constructor\" or any way to introspect it?</strong> i have used the <code>info()</code> function defined <a href=\"http://diveintopython.net/power_of_introspection/index.html\" rel=\"nofollow\">here</a> but it spits out just generic info!</p>\n\n<p>Quick FAQ:</p>\n\n<ul>\n<li>Q: Why compile the code?</li>\n<li>A: CPU time costs real money on Google App Engine, and every bit of CPU cycles i can save counts.</li>\n<li>Q: Why not use \"marshal\"?</li>\n<li>A: That's one of the <a href=\"http://code.google.com/intl/en/appengine/kb/general.html#libraries\" rel=\"nofollow\">unsupported modules in Google App Engine</a>. </li>\n<li>Q: Why not use \"pickle\"?</li>\n<li>A: Pickle doesn't support serialization of code objects.</li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Google App Engine infrastructure doesn't allow the instantiation of code objects as of 7th July 2011, so my argument here is moot. Hope this gets fixed in the future on GAE.</p>\n"},{"tags":["django","google-app-engine","django-haystack","google-cloud-sql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11704945,"title":"Google Appengine , Django, Haystack and CloudSQL","body":"<p>Does anyone know what haystack backends work on appengine with the cloudsql db?</p>\n"},{"tags":["django","google-app-engine","django-nonrel","django-haystack"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":11052819,"title":"haystack and google appengine","body":"<p>I developed an app in Django, mainly for educactional purposes, and I want to host it on GAE. The app uses MySql and Haystack/Whoosh. I'm following this <a href=\"http://www.allbuttonspressed.com/projects/djangoappengine\" rel=\"nofollow\">django-nonrel</a> guide, but I'm not sure if Haystack/Whoosh will work on the NoSQL from GAE. Any ideas?</p>\n"},{"tags":["ajax","json","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12875332,"title":"Create select list with simplejson dump","body":"<p>Based on \"Using AJAX to Enable Client RPC Requests <a href=\"https://developers.google.com/appengine/articles/rpc\" rel=\"nofollow\">1</a> \" article I've created a list.</p>\n\n<p>By using: \n<code>self.response.out.write(simplejson.dumps(result_list))</code>\nI can read the result_list using <code>&lt;input id=\"result_list\" type=\"text\" value=\"\" /&gt;</code></p>\n\n<p>Help requested: How to convert the \"result_list\" into HTML Select List?</p>\n"},{"tags":["google-app-engine","princexml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12875416,"title":"What is the best alternative for the Google Appengine Conversion API","body":"<p>Particular I was fond of the integration with PrinceXML. That is the conversion path from html to pdf. Since Google deprecated the api I see no viable solution for this task.</p>\n"},{"tags":["google-app-engine","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12833616,"title":"Can I configure all URLs to be secure on Google App Engine (python app) with just one setting?","body":"<p>Is it possible in the app.yaml to make sure that all requests to my app on http get redirected to https without having to specify secure: always for every url endpoint in my app.</p>\n\n<p>Currently I am doing this:</p>\n\n<pre><code>url: /users/login\nscript: users_handler.app\nsecure: always\n\nurl: /signin\nscript: authentication.app\nsecure: always\n\nurl: /users/logout\nscript: users_handler.app\nsecure: always\n</code></pre>\n\n<p>But as new urls are added, its risky as a developer might forget to specify secure always. I would prefer to just specify a global setting that applies to all urls in my app.</p>\n"},{"tags":["java","google-app-engine","blobstore","imageio","javax.imageio"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12873582,"title":"Google App EngineCode works when deployed but not in dev server","body":"<p>Anyone ever have this happen? It's the opposite of working in dev and failing in deployed.</p>\n\n<p>My web app successfully uses ImagesServiceImpl.getServingUrl() on Deployment but not in dev server.</p>\n\n<p>I looked here to see if there was something missing in my dev environment configuration that the deployed environment has:  <a href=\"https://developers.google.com/appengine/docs/java/config/appconfig#About_appengine_web_xml\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/config/appconfig#About_appengine_web_xml</a></p>\n\n<p>Also looked here: <a href=\"https://developers.google.com/appengine/docs/java/images/overview#Development_Server\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/images/overview#Development_Server</a>.</p>\n\n<p>Here's what happens in my console when I run the code giving me trouble:</p>\n\n<pre><code>Oct 13, 2012 8:40:33 AM com.google.appengine.api.images.dev.LocalImagesService init\nWARNING: No image reader found for format \"ico\". An ImageIO plugin must be installed to use this format with the DevAppServer.\nOct 13, 2012 8:40:33 AM com.google.appengine.api.images.dev.LocalImagesService init\nWARNING: No image reader found for format \"tif\". An ImageIO plugin must be installed to use this format with the DevAppServer.\nOct 13, 2012 8:40:33 AM com.google.appengine.api.images.dev.LocalImagesService init\nWARNING: No image reader found for format \"webp\". An ImageIO plugin must be installed to use this format with the DevAppServer.\nOct 13, 2012 8:40:33 AM com.google.appengine.api.images.dev.LocalImagesService init\nWARNING: No image writer found for format \"webp\". An ImageIO plugin must be installed to use this format with the DevAppServer.\nOct 13, 2012 8:40:34 AM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: /upload\njava.lang.IllegalArgumentException: Failed to read image\n    at com.google.appengine.api.images.ImagesServiceImpl.getServingUrl(ImagesServiceImpl.java:282)\n</code></pre>\n\n<p>Although I don't have a webp, ico, and tif decoder plugin, that shouldn't be a problem since I'm ONLY dealing with jpeg images.</p>\n\n<p>Here's a portion of the code:</p>\n\n<pre><code>    FileService fileService = FileServiceFactory.getFileService();\n    AppEngineFile newBlob = fileService.createNewBlobFile(\"image/jpeg\");\n\n    // Create a new Blob file with mime-type \"image/jpeg\"\n\n    byte[] buffer = new byte[4096]; // 4MB\n    boolean lock = true;\n    FileWriteChannel writeChannel = fileService.openWriteChannel(newBlob, lock);\n    // increase the buffer size as you are reading from the \n    // input stream. Read the input stream into buffer\n    for (int n; (n = stream.read(buffer)) != -1; ){ \n        writeChannel.write(ByteBuffer.wrap(buffer));\n    } \n        stream.close();\n        writeChannel.closeFinally();\n\n\nBlobKey blobKey = fileService.getBlobKey(newBlob);\nImagesService imagesService = ImagesServiceFactory.getImagesService();\n</code></pre>\n\n<p>As you may tell, I'm using lower level code for receiving an upload from a user (instead of using getUploadUrl.</p>\n\n<p>One difference between my datastore on deployment and my datastore in dev is that I see a <strong>BlobFileIndex</strong> entity kind in the datastore for my dev.</p>\n\n<p>Thank you for any input!</p>\n"},{"tags":["python","google-app-engine","deployment","staging"],"answer_count":3,"favorite_count":7,"up_vote_count":14,"down_vote_count":0,"view_count":1136,"score":14,"question_id":3793860,"title":"How to set up a staging environment on Google App Engine","body":"<p>Having properly configured a <em>Development</em> server and a <em>Production</em> server, I would like to set up a <em>Staging</em> environment on Google App Engine useful to test new developed versions live before deploying them to production.</p>\n\n<p>I know two different approaches:</p>\n\n<p><strong>A.</strong> The first option is by modifying the <a href=\"http://code.google.com/appengine/docs/python/config/appconfig.html\" rel=\"nofollow\">app.yaml</a> <strong>version</strong> parameter.</p>\n\n<pre><code>version: app-staging\n</code></pre>\n\n<p>What I don't like of this approach is that Production data is polluted with my staging tests because (correct me if I'm wrong):</p>\n\n<ol>\n<li>Staging version and Production version share the same Datastore </li>\n<li><strike>Staging version and Production version share the same logs</strike></li>\n</ol>\n\n<p><sub>Regarding the first point, I don't know if it could be \"fixed\" using the new <a href=\"http://code.google.com/appengine/docs/python/multitenancy/overview.html\" rel=\"nofollow\">namespaces python API</a>.</sub></p>\n\n<p><strong>B.</strong> The second option is by modifying the <a href=\"http://code.google.com/appengine/docs/python/config/appconfig.html\" rel=\"nofollow\">app.yaml</a> <strong>application</strong> parameter</p>\n\n<pre><code>application: foonamestaging\n</code></pre>\n\n<p>with this approach, I would create a second application totally independent from the Production version.<br>\nThe only drawback I see is that I'm forced to configure a second application (administrators set up).<br>\nWith a backup\\restore tool like <a href=\"http://aralbalkan.com/1784\" rel=\"nofollow\">Gaebar</a> this solution works well too.</p>\n\n<p>What kind of approach are you using to set up a staging environment for your web application?<br>\nAlso, do you have any automated script to change the yaml before deploying?</p>\n"},{"tags":["python","google-app-engine","deployment"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12872242,"title":"Deploying to PROD personal domain using GAE","body":"<p>I deployed Hello world to <a href=\"http://rajinination.appspot.com/\" rel=\"nofollow\">http://rajinination.appspot.com/</a> using GAE successfully. When I linked it to personal domain <a href=\"http://rajinination.com/\" rel=\"nofollow\">http://rajinination.com/</a> it shows a \"Error 404\".<br>\nI linked my personal domain to appspotdomain:\nimgur.com/t8jKJ<br>\nError 404 :\nimgur.com/iwcEC</p>\n\n<p>Why my personal domain shows 404 Error while appspot domain shows the code is success?</p>\n\n<p>App.Yaml<br> \n<code>application: rajinination<br>\nversion: 1<br>\nruntime: python27<br>\napi_version: 1<br>\nthreadsafe: yes<br>\nhandlers:<br>\n- url: /favicon.ico<br>\n  static_files: favicon.ico<br>\n  upload: favicon.ico<br>\n- url: .*<br>\n  script: main.app<br>\nlibraries:<br>\n- name: webapp2<br>\n  version: \"2.5.1\"<br>\n</code></p>\n\n<p>Main.Py<br>\n<code>import webapp2<br>\nclass MainHandler(webapp2.RequestHandler):<br>\n    def get(self):\n        <br>self.response.out.write(\"HelloWorld\")<br></p>\n\n<p>app = webapp2.WSGIApplication([('/', MainHandler)],debug=True)</code></p>\n"},{"tags":["python","google-app-engine","sublimetext2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12872442,"title":"How to use Sublime's Text 2 build functionality with Google App Engine?","body":"<p>Two actions I would like to do on Windows 7:</p>\n\n<ol>\n<li>update code on the server;</li>\n<li>validate the code.</li>\n</ol>\n\n<p>In order to do (1) I've created <em>GAU update.sublime-build</em> file with the following text:</p>\n\n<pre><code>{\n    \"cmd\": [\"appcfg.py --oauth2 --insecure --skip_sdk_update_check update\", \"$project_path\"],\n    \"path\": \"d:/Work/GAE/\",\n    \"encoding\": \"cp1251\",\n    \"shell\": true\n}\n</code></pre>\n\n<p>But I am getting the following error:</p>\n\n<blockquote>\n  <p>ERROR appcfg.py:2161 An error occurred processing file '': HTTP Error\n  302: Found Unexpected redirect to\n  <a href=\"https://appengine.google.com/api/appversion/getresourcelimits?version=1&amp;app_id=myappid\" rel=\"nofollow\">https://appengine.google.com/api/appversion/getresourcelimits?version=1&amp;app_id=myappid</a>.\n  Aborting.</p>\n</blockquote>\n\n<p>How to fix it? I've also tried <a href=\"http://stackoverflow.com/questions/11569266/deploy-on-app-engine-via-sublime-text-2-build-system#comment17413582_11569266\">this code</a>, but it doesn't ask the password.</p>\n\n<p>And I am not sure how to do task (2).</p>\n"},{"tags":["django","google-app-engine","django-models","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12870637,"title":"GAE: db Model property using 'name' param","body":"<p>Trying to optimise db model class property name by using <code>name</code> in the property.</p>\n\n<p>Ex.</p>\n\n<pre><code>class terminals(db.Model):\n   location_code = db.StringProperty()\n   terminal_code = db.StringProperty(default='')\n   start_invoice_no = db.IntegerProperty(indexed=False, default=1, name='sin')\n   next_invoice_no = db.IntegerProperty(indexed=False)\n   last_doc_details = db.TextProperty(default='{}')\n</code></pre>\n\n<p>Query on terminals:</p>\n\n<pre><code>terminal_qry = db.Model(terminals).all()\n</code></pre>\n\n<p>putting happening fine into db. but while i try serialize this query object.</p>\n\n<pre><code>serializers.serialize('json', [terminal_qry])\n</code></pre>\n\n<p>its raising the error as, </p>\n\n<pre><code>AttributeError: 'terminals' object has no attribute 'sin'\n</code></pre>\n\n<p>Could any one tell this, where went wrong here?</p>\n\n<p>Regards.</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12871077,"title":"Query using collections","body":"<p>I have this Entity in which I need to query for:</p>\n\n<pre><code>@Entity\npublic class Resource implements Serializable {   \n    @Id    \n    private Long id;\n    private List&lt;String&gt; key;\n}\n</code></pre>\n\n<p>Here is the query:</p>\n\n<pre><code>List&lt;String&gt; keyPath = key.getFullPath();\nResource result = ofy().load().type(Resource.class).filter(\"key =\", keyPath).first().get();\n</code></pre>\n\n<p>I'm getting this error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: A collection of values is not allowed.\n    at com.google.appengine.api.datastore.DataTypeUtils.checkSupportedValue(DataTypeUtils.java:140)\n    at com.google.appengine.api.datastore.Query$FilterPredicate.&lt;init&gt;(Query.java:867)\n</code></pre>\n\n<p>Question: </p>\n\n<ul>\n<li>Is is possible to do a query using collections like List as query value? </li>\n<li>Is it possible with Objectify query or native Datastore query? </li>\n<li>If not, what is the approach to doing this kind of query</li>\n</ul>\n\n<p>The idea is to query get the <code>Resource</code> entity having the same list of strings (<code>key</code> field) as with the query value. </p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12590363,"title":"How to modify ndb.Query object?","body":"<p>Let's assume that we the following ndb model:</p>\n\n<pre><code>class MyModel(ndb.Model):\n    x = ndb.StringProperty()\n    y = ndb.StringProperty()\n    z = ndb.StringProperty(repeated=True)\n</code></pre>\n\n<p>We have a method that creates a query for the above model, executes it and fetch the results. However, we want this query to be modified my other functions. Specifically, we have the following:</p>\n\n<pre><code>def method_a():\n    qry = MyModel.query() \n    values = {'query':qry}\n    method_b(**values)\n    entities = qry.fetch()\n\ndef method_b(**kwargs):\n    k = ['a', 'b', 'c']\n    qry = kwargs['query']\n    qry.filter(MyModel.z.IN(k))\n</code></pre>\n\n<p>The problem is that the Query object is immutable, and thus it cannot be modified by method_b. Also, based on the specific architecture of the code, we cannot have method_b to return the new Query to method_a.</p>\n\n<p>Any ideas on how to achieve the aforementioned functionality in another way??</p>\n\n<p><strong>Update:</strong> Please check the architecture of my code as presented below:</p>\n\n<p>First, in a configuration file we specify a list of modules and if they are enabled or not. These modules affect the filters of the query we want to execute.</p>\n\n<pre><code>testparams = {\n    'Test1': True,\n    'Test2': True,\n    'Test3': False,\n    'Test4': True\n}\n</code></pre>\n\n<p>Then, we have a method somewhere in the code that makes a query after the appropriate modules have been executed. Thus, it seems like this:</p>\n\n<pre><code>def my_func():\n    qry = MyEntity.query()\n\n    # modules\n    query_wrapper = [qry]\n    values = {'param':'x', 'query_wrapper':query_wrapper} #other values also\n    execute_modules(**values)\n    # get query and add some more things, like ordering\n    entities = query_wrapper[0].fetch()\n</code></pre>\n\n<p>The <code>execute_modules</code> function is the following:</p>\n\n<pre><code>def execute_modules(**kwargs):\n    for k in config.testparams:\n        if config.testparams[k]:\n            if kwargs['param'] == 'x':\n                (globals()[k]).x(**kwargs)\n            elif kwargs['param'] == 'y':\n                (globals()[k]).y(**kwargs)\n</code></pre>\n\n<p>Finally, an indicative module is similar to the following:</p>\n\n<pre><code>class Test1():\n    @classmethod\n    def x(cls, *args, **kwargs):\n        qry = kwargs['query_wrapper'][0]\n        # do some stuff like adding filters\n        kwargs['query_wrapper'][0] = qry\n</code></pre>\n\n<p>Any proposals to modify this architecture to a better approach?</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":11780931,"title":"JDO-GAE Key getting created even when IdGeneratorStrategy.IDENTITY is commented","body":"<p>I have the following code,</p>\n\n<pre><code>public class UserAccount {\n\n  @PrimaryKey\n  @Persistent\n  private Long id;  \n  ....\n</code></pre>\n\n<p>so, creating the primary key via code, but when I view the datastore viewer through                         </p>\n\n<pre><code>http://localhost:8888/_ah/admin , I see key got populated via datastore (some encoded key). Is this an expected behavior ?. The problem however is when I try to connect my child objects with the parent objects. Thanks alot. \n</code></pre>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12833071,"title":"App Engine: Bootstrapping my application with entities and files using Remote API","body":"<p>I'm attempting to bootstrap my app engine application with some data &amp; files.</p>\n\n<p>First failed attempt: Using a servlet, but I hit the 60 seconds timeout.</p>\n\n<p>Next attempt: Remote API. However, I found that we <a href=\"http://stackoverflow.com/questions/10742568/appengine-fileservice-using-remote-api\">cannot write files to blobstore using Remote API yet.</a> </p>\n\n<p>I'm not sure what to do right now, here is what I thought of, but I would definitely prefer a less painful way.</p>\n\n<p>My current solution: split the seeding process into seperate steps:\nStep 1: Do whatever I can using Remote API (eg. adding entities)\nStep 2: Use a servlet to write to blob store</p>\n"},{"tags":["google-app-engine","jdo"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":91,"score":0,"question_id":12843502,"title":"GAE JDO persistencemanager GetObjectById returns No such object?","body":"<p>I've been trying to get my GAE code running. I have problem retrieving Users with encodedKey:</p>\n\n<p>I have this User Data Manager class that manage all my CRUD transactions using singleton PMF.</p>\n\n<p>I have Users, using encoded String as my key:</p>\n\n<pre><code>public class Users implements Serializable {\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n@Extension(vendorName = \"datanucleus\", key = \"gae.encoded-pk\", value = \"true\")\nprivate String encodedKey;\n@Persistent\n@Extension(vendorName = \"datanucleus\", key = \"gae.pk-id\", value = \"true\")\nprivate Long keyId;\n --- code continues ----\n</code></pre>\n\n<p>I have this createUser method in DM class</p>\n\n<pre><code>public static void createUser(Users user) {\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    try {\n        Key key = KeyFactory.createKey(Users.class.getSimpleName(),\n                user.getEmail());\n        user.setEncodedKey(KeyFactory.keyToString(key));\n        pm.makePersistent(user);\n    } catch (Exception e) {\n        logger.log(Level.SEVERE, e.toString());\n    } finally {\n        pm.close();\n    }\n}\n</code></pre>\n\n<p>And the problem is with this piece of code to retrieve:</p>\n\n<pre><code>    public static Users retrieveUser(String encodedKey) {\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    Users user = null;\n    try {\n//          Key key = KeyFactory.createKey(Users.class.getSimpleName(),\n//                  user.getEmail());\n// I tried recreating the key with user's email, but it does not work either            \n        pm.getObjectById(KeyFactory.stringToKey(encodedKey));\n    } catch (Exception e) {\n        logger.severe(e.toString());\n    } finally {\n        pm.close();\n    }\n    return user;\n}\n</code></pre>\n\n<p>It is giving me the following error:</p>\n\n<pre><code> SEVERE: javax.jdo.JDOObjectNotFoundException: No such object\n FailedObject:Users(\"t\")\n NestedThrowables:org.datanucleus.exceptions.NucleusObjectNotFoundException: No such object\n</code></pre>\n\n<p>\"t\" is the dummy user's email, anyway.</p>\n\n<p>How do I use the encodedKey to get the entity using PMF? \nCurrently, I am resorting to identifying using email and query, but getting object by key should work.</p>\n\n<p><strong>Edits</strong>:</p>\n\n<p>I made the following changes to my model object:</p>\n\n<pre><code>@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n@Extension(vendorName = \"datanucleus\", key = \"gae.encoded-pk\", value = \"true\")\nprivate String encodedKey;\n@Persistent\n@Extension(vendorName=\"datanucleus\", key=\"gae.pk-name\", value=\"true\")\nprivate String keyName;\n</code></pre>\n\n<p>Based on this and google's documentation:</p>\n\n<p>The app can populate this value prior to saving using a key with a name, or it can leave it null. If the encoded key field is null, the field is populated with a system-generated key when the object is saved.</p>\n\n<p>I thought that simply persisting this would work:</p>\n\n<pre><code>public static void createUser(Users user) {\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    try {\n        user.setKeyName(user.getEmail()); \n        pm.makePersistent(user);\n    } catch (Exception e) {\n        logger.log(Level.SEVERE, e.toString());\n    } finally {\n        pm.close();\n    }\n}\n</code></pre>\n\n<p>But, no such luck, it throws me this error whether or not I set the keyname first:</p>\n\n<pre><code>SEVERE: javax.jdo.JDOFatalUserException: Invalid primary key for entity.Users.  Cannot have a null primary key field if the field is unencoded and of type String.  Please provide a value or, if you want the datastore to generate an id on your behalf, change the type of the field to Long.\nNestedThrowables:\norg.datanucleus.exceptions.NucleusFatalUserException: Invalid primary key for entity.Users.  Cannot have a null primary key field if the field is unencoded and of type String.  Please provide a value or, if you want the datastore to generate an id on your behalf, change the type of the field to Long.\n</code></pre>\n\n<p>I don't get it, why is it not generating a new key for my new entity? I'm thinking of going back to Key due to all these problems. I thought encodedKey will be more portable because I'm using the GAE server to serve data to my Android client.</p>\n"},{"tags":["java","eclipse","google-app-engine","apache-tiles"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12868859,"title":"Cannot start GAE with Tiles","body":"<p>I've been searching for a solution to this issue for the last couple days with no luck of finding a solution. \nI have a GAE app within Eclipse, and I'm trying to use Tiles. I put the Tiles jars in the WEB-INF/lib/ directory and added them all to the Java Build Path.</p>\n\n<p>Here is my web.xml at the moment.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?&gt;&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.5\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n &lt;servlet&gt;\n  &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;com.google.api.server.spi.SystemServiceServlet&lt;/servlet-class&gt;\n  &lt;init-param&gt;\n   &lt;param-name&gt;services&lt;/param-name&gt;\n   &lt;param-value/&gt;\n  &lt;/init-param&gt;\n &lt;/servlet&gt;\n &lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/_ah/spi/*&lt;/url-pattern&gt;\n &lt;/servlet-mapping&gt;\n &lt;listener&gt;\n    &lt;listener-class&gt;org.apache.tiles.extras.complete.CompleteAutoloadTilesListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;Tiles Dispatch Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.tiles.web.util.TilesDispatchServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Tiles Dispatch Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.tiles&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>However, when I try to Run the application, I get the following messages:</p>\n\n<pre><code>2012-10-12 20:10:42.057 java[33932:707] [Java CocoaComponent compatibility mode]: Enabled\n2012-10-12 20:10:42.058 java[33932:707] [Java CocoaComponent compatibility mode]: Setting timeout for SWT to 0.100000\nOct 13, 2012 12:10:43 AM com.google.apphosting.utils.jetty.JettyLogger info\nINFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\nOct 13, 2012 12:10:43 AM com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\nINFO: Successfully processed /Users/nblue/Workspaces/Eclipse/WhatsOnBB/war/WEB-INF/appengine-web.xml\nOct 13, 2012 12:10:43 AM com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\nINFO: Successfully processed /Users/nblue/Workspaces/Eclipse/WhatsOnBB/war/WEB-INF/web.xml\nOct 13, 2012 12:10:45 AM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: Failed startup of context com.google.appengine.tools.development.DevAppEngineWebAppContext@7041a12f{/,/Users/nblue/Workspaces/Eclipse/WhatsOnBB/war}\njava.lang.NullPointerException\n    at org.apache.tiles.el.JspExpressionFactoryFactory.getExpressionFactory(JspExpressionFactoryFactory.java:61)\n    at org.apache.tiles.extras.complete.CompleteAutoloadTilesContainerFactory.createELEvaluator(CompleteAutoloadTilesContainerFactory.java:242)\n    at org.apache.tiles.extras.complete.CompleteAutoloadTilesContainerFactory.createAttributeEvaluatorFactory(CompleteAutoloadTilesContainerFactory.java:182)\n    at org.apache.tiles.factory.BasicTilesContainerFactory.createContainer(BasicTilesContainerFactory.java:88)\n    at org.apache.tiles.startup.AbstractTilesInitializer.createContainer(AbstractTilesInitializer.java:114)\n    at org.apache.tiles.startup.AbstractTilesInitializer.initialize(AbstractTilesInitializer.java:64)\n    at org.apache.tiles.web.startup.AbstractTilesListener.contextInitialized(AbstractTilesListener.java:53)\n    at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)\n    at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:202)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:248)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:157)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:333)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:269)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:245)\nOct 13, 2012 12:10:45 AM com.google.appengine.tools.development.DevAppServerImpl start\nINFO: The server is running at http://localhost:8888/\nOct 13, 2012 12:10:45 AM com.google.appengine.tools.development.DevAppServerImpl start\nINFO: The admin console is running at http://localhost:8888/_ah/admin\n</code></pre>\n\n<p>I've seen similar messages, but none exactly matching this. I stripped down my web.xml of the other servlets to see if they were causing the issue, but got the same result. Any suggestions?</p>\n"},{"tags":["python","query","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12868184,"title":"GAE Chaining Queries through tables","body":"<p>I have these models (below). I want to run a query that gets 10 recent entries from Result  where the \"site\" ReferenceProperty is one of mine, based on the \"users\" in Site.</p>\n\n<p>I tried:</p>\n\n<pre><code>user = users.get_current_user()\nsites = Site.all().filter('user =', user).order('name')\nresults = Result.all().filter('site IN', sites).fetch(limit=10)\n</code></pre>\n\n<p>The user and sites queries work, but the results one is not working because \"sites\" is not a list.</p>\n\n<pre><code>from google.appengine.ext import db\n\nclass Site(db.Model):\n\nusers = db.ListProperty(db.Key)\nname = db.StringProperty(required=True)\nslug = db.TextProperty(required=True)\nurl = db.TextProperty(required=True)\npage = db.TextProperty()\nactive = db.BooleanProperty()\nblackboard = db.BooleanProperty()\n\n\nclass Result(db.Model):\n\nsite = db.ReferenceProperty(Site)\ntimestamp = db.DateTimeProperty(auto_now_add=True)\nstatus = db.StringProperty(required=True)\nreason = db.StringProperty(required=True)\nheaders = db.TextProperty()\nextra_info = db.TextProperty()\n</code></pre>\n"},{"tags":["google-app-engine","blobstore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12868646,"title":"Google App Engine - ImagesService.getServingUrl() fails to read image","body":"<p>I'm receiving an image file through a HTTP request and storing it in the Blobstore. My code is along the lines of that found here: [https://developers.google.com/appengine/docs/java/blobstore/overview#Writing_Files_to_the_Blobstore][1].</p>\n\n<p>When calling the function ImagesService.getServingUrl() on the blobkey for the image I had stored I get the message below:</p>\n\n<pre><code>HTTP ERROR 500\n\nProblem accessing /upload. Reason:\n\n    Failed to read image\nCaused by:\n\njava.lang.IllegalArgumentException: Failed to read image\n    at com.google.appengine.api.images.ImagesServiceImpl.getServingUrl(ImagesServiceImpl.java:282)\n</code></pre>\n\n<p>After hours of googling, trying to find a solution, I think that the problem is that the function closeFinally() is faulty. I think this because after closing the new blob image that I make, the FileStats object associated with the blob returns false for the hasFinalizedName(). Yet the blob returns true for isClosed() and isFinalized(). Also, its full path is something like this:</p>\n\n<p>/blobstore/writable:xFSAF_493dsfAfw489vFa...</p>\n\n<p>If it is closed it shouldn't be writable, I think.</p>\n\n<p>So my questions are: Does anyone have a solution to the getServingUrl not working? Does anyone have a workaround getServingUrl? I want to have pictures to serve to users and I want these pictures to exist as static files. getServingUrl with blobstore seems to be the best choice for me. I don't want to use Google Cloud Storage because for every Blobstore vs Google Cloud Storage question I saw, Blobstore won it seemed.</p>\n"},{"tags":["python","google-app-engine","memcached","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":11488125,"title":"How can I prevent excessive RPC calls by pre-fetching ReferenceProperty properties?","body":"<p>I'm trying to show a table of ~800 entities, and having problems keeping it from being really slow.  (Like 15-20 seconds slow.)  I successfully implemented memcache, but because I reference a parent model for each of the child entities it still causes a datastore_v3.Get for each of the 800 and is massively slow.</p>\n\n<p>I then implemented Nick Johnson's <a href=\"http://blog.notdot.net/2010/01/ReferenceProperty-prefetching-in-App-Engine\" rel=\"nofollow\">ReferenceProperty prefetching</a> and can't solve the following error:</p>\n\n<pre><code>[... snipped ...]\nFile \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/lib/webapp2/webapp2.py\", line 570, in dispatch\n  return method(*args, **kwargs)\nFile \"/myurl/mypythoncode.py\", line 67, in get\n  prefetch_refprops(entitylist, ChildModel.parent_program.name)\nFile \"/myurl/mypythoncode.py\", line 36, in prefetch_refprops\n  fields = [(entity, prop) for entity in entities for prop in props]\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n\n<p><strong>Models:</strong></p>\n\n<p>These are the two relevant models:</p>\n\n<pre><code>class ParentModel(db.Model):\n  name = db.StringProperty()\n  # currently 109 of these\n\nclass ChildModel(db.Model):\n  name = db.StringProperty()\n  parent_program = db.ReferenceProperty(ParentModel)\n  website = db.StringProperty()\n  # currently 758 of these\n</code></pre>\n\n<p><strong>Python code:</strong></p>\n\n<p>In my Python code I'm using Nick Johnson's techniques of <a href=\"http://blog.notdot.net/2009/9/Efficient-model-memcaching\" rel=\"nofollow\">efficient model memcaching</a> and for <a href=\"http://blog.notdot.net/2010/01/ReferenceProperty-prefetching-in-App-Engine\" rel=\"nofollow\">ReferenceProperty prefetching</a>.  (I've included the ReferenceProperty prefetching below, but not the memcaching code.)</p>\n\n<pre><code>class AllEntities(webapp2.RequestHandler):\n  def get(self):\n    entitylist = deserialize_entities(memcache.get(\"entitylist\"))\n    entityref = prefetch_refprops(entitylist, ChildModel.parent_program.name)\n    if not entitylist:\n      entitylist = ChildModel.all().fetch(None)\n      entityref = prefetch_refprops(entitylist, ChildModel.parent_program.name)\n      memcache.set(\"entitylist\", serialize_entities(entitylist))\n    context = {\n      'entitylist': entitylist,\n    }\n    self.response.out.write(template.render(context))\n\ndef prefetch_refprops(entities, *props):\n    fields = [(entity, prop) for entity in entities for prop in props]\n    ref_keys = [prop.get_value_for_datastore(x) for x, prop in fields]\n    ref_entities = dict((x.key(), x) for x in db.get(set(ref_keys)))\n    for (entity, prop), ref_key in zip(fields, ref_keys):\n        prop.__set__(entity, ref_entities[ref_key])\n    return entities\n</code></pre>\n\n<p><strong>Jinja2 template:</strong></p>\n\n<p>My Jinja2 template references the iterable \"entry\" in \"entitylist\" but also the parent_program.name and parent_program.key().id()</p>\n\n<pre><code>{% for entry in entitylist %}\n  &lt;tr&gt;\n    &lt;td&gt;&lt;a href=\"{{ entry.website}}\"&gt;{{ entry.website }}&lt;/a&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a href=\"/urlcategory/view?entityid={{ entry.parent_program.key().id() }}\"&gt;{{ entry.parent_program.name }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n</code></pre>\n\n<p>I've replaced the line:</p>\n\n<pre><code>entityref = prefetch_refprops(entitylist, ChildModel.parent_program.name)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>entityref = prefetch_refprops(entitylist, ChildModel.parent_program)\n</code></pre>\n\n<p>and other variations that include \".name\" and \".key().id()\".  When I use \".key().id()\" I get the error:</p>\n\n<pre><code>AttributeError: 'ReferenceProperty' object has no attribute 'key'\n</code></pre>\n\n<p>What am I missing or screwing up?  I'd really appreciate any help!</p>\n"},{"tags":["python","google-app-engine","task-queue"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12857097,"title":"Google AppEngine task queue length","body":"<p>I have a Google AppEngine back-end cron task that processes a large number of records. This handler reads records batch by batch in a loop and queues another back-end handler for each batch. I am using the default task queue for this. I have configured 6 back-end instances for this application. However only 6 tasks are queued and the rest is ignored. It seems that the number of tasks you can queue is equal to the number of back-ends and further task requests just get discarded. Is this the expected behavior?</p>\n"},{"tags":["python","unit-testing","google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":76,"score":0,"question_id":11909377,"title":"client-side unit testing on Google App Engine","body":"<p>Is there a simple and straightforward tutorial on client-side (as in on your development workstation, using testbed and checking both backend functionality and rendered HTML) unit and integration testing on the Google App Engine Python SDK? Something I can point other developers to?</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":10726458,"title":"How could I enable template caching in appengine after incorporating calls to parent directories?","body":"<p>My problem started when the extends tag in a Django template could not reference a base template in a parent dir. This question<a href=\"http://stackoverflow.com/questions/4994913/app-engine-default-django-version-change\">1</a> has a very good answer to the problem, but it disables the implicit template caching provided by the default template.render function in appengine.</p>\n\n<p>The author of the answer also mentions that it would be fairly simple to implement this template caching, but I feel tampering with this kind of functionality will produce bugs in the future. Any suggestions?</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":12867209,"title":"GAE python update in database","body":"<p>I have a question about updating field in GAE database. My problem looks like this:</p>\n\n<pre><code>class A(db.Model):\n    a = db.StringProperty()\n</code></pre>\n\n<p>and I added bool field:</p>\n\n<pre><code>class A(db.Model):\n    a = db.StringProperty()\n    b = db.BooleanProperty(default=False)\n</code></pre>\n\n<p>Now my problem is I'd like to have every instance of model b == False.</p>\n\n<p>To update it I could of course drag them out of datastore and put them back there, but there is 700k elements there already and I really don't know how to do it efficiently. I can't take them out at once because I get soft memory exceeded errors. If I try to do it with little chunks - it costs me many db read operations. Do you have any idea how else I could update my datastore?</p>\n\n<p>Cheers</p>\n"},{"tags":["java","google-app-engine","gwt"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":72,"score":1,"question_id":12858506,"title":"Is GWT compatible with app-engine's multitenancy support","body":"<p>Just looking for confirmation that the GWT RPCs play well with app-engine's new multi-tenancy support based on name-spaces.</p>\n"},{"tags":["php","google-app-engine"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":338,"score":0,"question_id":3026976,"title":"PHP on the Google App Engine","body":"<p>How can i run a PHP script on the Google App Engine?</p>\n\n<p>I know that Java and Python are supported. Is PHP possible?</p>\n"},{"tags":["google-app-engine","sublimetext2"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":238,"score":1,"question_id":11569266,"title":"Deploy on App Engine via Sublime Text 2 build system","body":"<p>The code below works fine, but in the shell I don't see the deploy log in progress. Only when the deploy is finished appears the log. Any help?</p>\n\n<pre><code>{\n  \"cmd\": [\"appcfg.py --email=email --oauth2 --passin update\", \"$project_path\"],\n  \"path\": \"C:/Program Files/Google/google_appengine\",\n  \"encoding\": \"latin_1\",\n  \"shell\": \"true\"\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","jsp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12838097,"title":"Including a static content using RequestDispatcher from JSP is not working on GAE Java SDK","body":"<p>I have a web-app running on the App Engine Java SDK 1.7.2. The app has no filter and no servlets besides the defaults for serving static content and JSP.</p>\n\n<p>In a JSP file, I have a single line with something like:</p>\n\n<pre><code>&lt;% request.getRequestDispatcher( \"a.html\" ).include( request, response ); %&gt;\n</code></pre>\n\n<p>This is throwing a java.lang.IllegalStateException: \"getOutputStream has already been called\".</p>\n\n<p>If I change the \"a.html\" for a dynamic content like \"a.jsp\", everything works fine. The documentation says a RequestDispatcher should work for dynamic and static content.</p>\n\n<p><strong>OBS:</strong> I am still learning Servlets and everything related, but I know there are other ways to achieve what I am doing here - this is just an example, not a real world scenario. I just would like to know if this is the expected behaviour and why. Or is it just a bug?</p>\n"},{"tags":["python","google-app-engine","geolocation","gae-datastore","geocoding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12853458,"title":"GeoModel Usage in Google App Engine","body":"<p>I am trying to do a proximity_fetch with the <a href=\"https://developers.google.com/maps/articles/geospatial#wheretogo\" rel=\"nofollow\">GeoModel</a> class for Google App Engine.  The entity I want to use it for is ndb and I am not sure what I need to download and import and what I can just import from google in my python code.  The websites seem to be a little outdated and I was wondering if anyone had more pertinant information.  This is what I have so far and it is telling me that Location has no attribute proximity_fetch, which I know but I am not sure how I should define it in the Location(ndb.Model) class.</p>\n\n<pre><code>        g = geocoders.Google()\n\n        place, (lat, lng) = g.geocode(inputlocation, exactly_one=False)\n\n\n        bound = 20\n        upper = lat + bound\n        lower = lat - bound\n        left = lng + bound\n        right = lng - bound\n\n        locations = []\n\n        if lat and lng:\n            locations = Location.proximity_fetch(\n                                                 Location.query(),\n                                                 geotypes.Point(lat, lng),\n                                                 max_results=50,\n                                                 max_distance=500000) \n</code></pre>\n\n<p>Also when I try to import geomodel and geotype which seem pretty vital for this it gives me an import error and I am not sure where to get them from.</p>\n\n<p>Any help or examples would be greatly appreciated!</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12862456,"title":"How to install python package to Google App Engine?","body":"<p><a href=\"https://github.com/yoavaviram/python-amazon-simple-product-api\" rel=\"nofollow\">https://github.com/yoavaviram/python-amazon-simple-product-api</a>\nstates that it is compatile with GAE. But How could I install it to gae?\nGAE allow limited libraries via app.yaml like below\n    libraries:\n    - name: jinja2\n    version: latest</p>\n\n<p>So how could I install it? It also requires bottlenose as far as I know pip install does not work right?</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12847062,"title":"If an Entity's ancestor does not exist, will it be created (Java API)?","body":"<p>I am trying to design my app engine datastore code and have thought of a potential issue and have not been able to find any concrete information in the documentation regarding what would happen in a given situation. </p>\n\n<p>When I go to store an entity which has an ancestor, before storing it I check to make sure that its ancestor exists in one transaction and if it doesn't exist, I create the ancestor. Next I start another transaction where I store the entity, having created it with the ancestor key that was either found or created in the previous step. In testing with a single user or very few users, this is never going to be a problem as concurrent modification chances are at a minimum, however once deployed, my concern is that in the time between the first transaction (creation/retrieval of the ancestor) and the second transaction (adding an entity as a descendant of the ancestor) another user could potentially delete the ancestor. </p>\n\n<p>My initial thinking was to have this all occur as one transaction but in the case where the ancestor did not exist and had to be created, an ancestor query to check if the entity I want to create exists will fail because of the snapshot isolation model of the datastore. However, I am not sure if this is correct. </p>\n\n<p>Does anyone have any knowledge on the matter? If the ancestor was deleted, will the entity commit still work with a parent key that now refers to nothing? Will this recreate the parent so the future checks on it will return the same key? I would test this situation but I am unable to devise a practical way to do so.</p>\n"},{"tags":["google-app-engine","gae-datastore","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12857345,"title":"NULL property type acquiring more Size: Google App Engine Datastore","body":"<p>In my application, various db Kind are defined with numbers of kind's properties(some are indexed and some aren't indexed)</p>\n\n<p>But am surprised, after seeing, <strong>Null</strong> size spacing around 950 MB in 20 GB,</p>\n\n<p><img src=\"http://i.stack.imgur.com/fBXqq.png\" alt=\"enter image description here\"></p>\n\n<p>Is there any way to optimise this?</p>\n\n<p><strong>Note</strong>: at few properties of kinds doesn't have default values, Do i need to define default values?</p>\n\n<p>Ex.</p>\n\n<pre><code>class terminals(db.Model):\n   location_code = db.StringProperty()\n   terminal_code = db.StringProperty(default='')\n   pass_code = db.StringProperty(indexed=False)\n   print_format = db.StringProperty(indexed=False)\n   start_invoice_no = db.IntegerProperty(indexed=False, default=1)\n   next_invoice_no = db.IntegerProperty(indexed=False)\n   use_jzebra = db.BooleanProperty(default=False, indexed=False)\n   last_doc_details = db.TextProperty(default='{}')\n   last_modified_on = db.DateTimeProperty(auto_now=True)\n</code></pre>\n\n<p>And also, some of the properties are rarely used.</p>\n"},{"tags":["python","google-app-engine","datetime","strptime"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12860802,"title":"Parse UTC offset from string to datetime in Google App Engine Python runtime","body":"<p>I want to parse a POST parameter like 2012-10-12T16:55+0300 to a <code>datetime</code> type in order to store it in <code>ndb.DateTimeProperty()</code> of my model. </p>\n\n<p>Thus, what I have is: </p>\n\n<pre><code>from datetime import datetime\n.....\nmy_date = datetime.strptime(self.request.get('my_date'), '%Y-%m-%dT%H:%M%z')\n</code></pre>\n\n<p>This call generates the following error:</p>\n\n<blockquote>\n  <p>ERROR    2012-10-12 14:03:08,376 webapp2.py:1553] 'z' is a bad directive in format '%Y-%m-%dT%H:%M%z'</p>\n</blockquote>\n\n<p>Any ideas on how to solve this problem? I have read various posts but none of them helped me on this.</p>\n\n<p>Thanks a lot in advance!</p>\n"},{"tags":["python","google-app-engine","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":80,"score":2,"question_id":12851419,"title":"Writing and reading blobstore files in Python App Engine API to store timestamps","body":"<p>I'm using the python API for Google App Engine, and what I am trying to do is load a list of files from a server if it has passed more than an interval of time (e.g 1 hour).</p>\n\n<p>For this I tried to store the last operation hour of execution to a file and read it the next time to know the difference with the current time of execution of the next request, but then i found out that GAE does not allow to write files to disk, so I had to use the blobstore. I tried to put together the same functions i already had but using the blobstore functions, but even when the file is created, everytime i try to read it I get an error saying:</p>\n\n<pre><code>FinalizationError: ApplicationError: 101 Blobkey not found.\n</code></pre>\n\n<p>I'm not sure what I'm doing is wrong. I'm pretty new to GAE and don't know if this is the best approach to do what I need to do, and I couldn't find an example where you read and write files in the same script in the documentation of the GAE Files API.</p>\n\n<p>Thanks in advance for any hints you can give me.</p>\n\n<p>This is a summarized version of my code, the get and set functions are as they are in the code:</p>\n\n<pre><code># imports...\nfrom datetime import datetime as time\nfrom google.appengine.api import files\n\n# create file\nlast_request_file = files.blobstore.create()\n\n\ndef update_list(time_interval):\n    # Get the time of the current request\n    current_time = time.now()\n\n    # Calculate timelapse between this an the last request\n    last_request = get_last_request_time(last_request_file)\n    elapsed_time = current_time - last_request\n\n    # If more than an interval update proxy list\n    if elapsed_time.total_seconds() &gt;= time_interval:\n        # Request new list from the server\n        my_list = getList()\n\n    # Update last_request time\n    set_last_request(last_request_file)\n\n    return my_ist\n\n\ndef get_last_request_time(file_name):\n    request_time = None\n\n    with files.open(file_name, 'r') as f:\n        text_time = f.read()\n        if text_time:\n            request_time = time.strptime(text_time, '%Y-%m-%d %H:%M:%S')\n        else: # file was empty\n            request_time = time.min\n\n    # Finalize to close the file.\n    files.finalize(file_name)\n\n    return request_time\n\n\ndef set_last_request_time(file_name):\n    current_time = time.now()\n\n    # Open the file and write to it\n    with files.open(file_name, 'a') as f:\n        f.write(time.strftime(current_time, '%Y-%m-%d %H:%M:%S')+'\\n')\n\n    # Finalize to close the file.\n    files.finalize(file_name)\n</code></pre>\n"},{"tags":["python","google-app-engine","gps","geocoding","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12852309,"title":"Way to let user search by GPS","body":"<p>I am building an application on google app engine with python and I have a Location entity that has a GPS property.  This property is stored as a string (though I could change this if need be) and I want to let the user type in a location and have my program return all the sites within 5 points of latitude or longitude.  </p>\n\n<p>I have the following code which gives me the location in GPS that the user is searching for but I am not sure what I can do from there and how I can do a query for all the GPS locations within my bounds.</p>\n\n<pre><code>class Map(BlogHandler):\n    def get(self):\n        #do some stuff here\n    def post(self):\n        inputlocation = self.request.get(\"q\")\n\n        #this returns the GPS location that the user searched for\n        g = geocoders.Google()\n        place, (lat, lng) = g.geocode(inputlocation)\n\n        #I would like to be able to do something like this         \n        bound = 5\n        upper = GPSlocation + bound\n        lower = GPSlocation - bound\n        left = GPSlocation + bound\n        right = GPSlocation - bound\n\nlocations = db.GqlQuery(\"select * from Location where GPSlocation.lat&lt;:1 and where GPSlocation.lat&gt;:2 and where GPSlocation.long &lt;:3 and where GPSlocation.long &gt;:4 order by created desc limit 20\", upper, lower, left, right)\n\n        self.render('map.html', locations=locations, centerlocation=GPSlocation)\n</code></pre>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":110,"score":1,"question_id":12753303,"title":"App Engine AttributeError: 'module' object has no attribute 'events'","body":"<p>I had this error 20 times on the same instance, and then it went away after the instance was killed because of processing too many sequential errors. No changes were made in my code, and this is the only time I have seen this happen.</p>\n\n<p>Questions:</p>\n\n<ul>\n<li>What type of problem in my code might be causing this to happen only with some instances? I have no idea where to start looking since I can't recreate the problem.</li>\n<li>Is there a way to decrease the number of sequential errors allowed by an instance before it is killed so this won't create much disruption if it happens again?</li>\n</ul>\n\n<p>This is the first log I have from this instance (no error):</p>\n\n<pre><code>2012-10-05 18:41:03.266 /rpc/?action=ServerAvailable 500 60908ms 0kb popwords/1.2         CFNetwork/548.1.4 Darwin/11.4.2\n98.207.195.103 - - [05/Oct/2012:11:41:03 -0700] \"GET /rpc/?action=ServerAvailable HTTP/1.1\" 500 0 - \"popwords/1.2 CFNetwork/548.1.4 Darwin/11.4.2\" \"www.popwordsapp.appspot.com\" ms=60909 cpu_ms=498 loading_request=1 instance=00c61b117c8f8b7f701c0776284c25a64c7ff329\nI 2012-10-05 18:41:03.265\nThis request caused a new process to be started for your application, and thus caused your application code to be loaded for the first time. This request may thus take longer and use more CPU than a typical request for your application.\n</code></pre>\n\n<p>This is the next log from this instance (first one with error):</p>\n\n<pre><code>2012-10-05 18:49:38.704 /rpc/?action=ServerAvailable 500 867ms 0kb popwords/1.2 CFNetwork/548.1.4 Darwin/11.4.2\n98.207.195.103 - - [05/Oct/2012:11:49:38 -0700] \"GET /rpc/?action=ServerAvailable HTTP/1.1\" 500 0 - \"popwords/1.2 CFNetwork/548.1.4 Darwin/11.4.2\" \"www.popwordsapp.appspot.com\" ms=867 cpu_ms=86 instance=00c61b117c8f8b7f701c0776284c25a64c7ff329\nE 2012-10-05 18:49:38.103\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 195, in Handle\nhandler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/runtime/wsgi.py\", line 239, in _LoadHandler\nhandler = __import__(path[0])\n  File \"/base/data/home/apps/s~popwordsapp/1.362183705604897547/main.py\", line 40, in &lt;module&gt;\nfrom google.appengine.ext import db\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 98, in &lt;module&gt;\nfrom google.appengine.api import datastore\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore.py\", line 62, in &lt;module&gt;\nfrom google.appengine.datastore import datastore_query\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_query.py\", line 64, in &lt;module&gt;\nfrom google.appengine.datastore import datastore_index\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/datastore/datastore_index.py\", line 62, in &lt;module&gt;\nfrom google.appengine.api import yaml_object\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/yaml_object.py\", line 36, in &lt;module&gt;\nfrom google.appengine.api import yaml_listener\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/yaml_listener.py\", line 34, in &lt;module&gt;\n    yaml.events.StreamStartEvent: 'StreamStart',\nAttributeError: 'module' object has no attribute 'events'\n</code></pre>\n\n<p>In between these two logs there was one log where an additional instance was created (no error). None of the errors come from this other instance that was created immediately after the first one. It started handling requests successfully after the first instance was killed because of processing too many sequential errors.</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12858737,"title":"Objectify 4 Filter by 'Child' Ref<?> field value","body":"<p>I have this Entity</p>\n\n<pre><code>@Entity\npublic class Key {\n\n    @Id\n    private String raw;\n\n}\n</code></pre>\n\n<p>Which is a child / Ref of this Entity:</p>\n\n<pre><code>public class KeyValueVersion {\n\n    @Id\n    private Long id;\n    @Load\n    private Ref&lt;Key&gt; key;\n\n\n}\n</code></pre>\n\n<p>I'm trying to do:</p>\n\n<pre><code>        Key key = Key.create(\"mykey\");\n        try {                   \n            Key refKey = ofy().load().type(Key.class).id(key.getRaw()).get();\n            KeyValueVersion kVV = ofy().load().type(KeyValueVersion.class).filter(\"key.raw =\", refKey.getRaw()).first().get();\n            System.out.println(\"String kVV id=\" + kVV.getId());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>What is the proper way of fetching an Entity by its child / Ref field value?</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12851496,"title":"GAE: whether to migrate to ndb","body":"<p>I understand that ndb offers a number of features that improve on the regular db, and I would like to eventually take advantage of those new features.</p>\n\n<p>Will the current db eventually include the features of ndb so that I won't ever need to migrate to ndb?</p>\n\n<p>Or, will the current db be deprecated so that I will eventually have to migrate to ndb?</p>\n\n<p>If the former, then I can be patient, but if the latter, I would rather get the migration over with sooner rather than later.</p>\n"},{"tags":["python","google-app-engine","backend"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":91,"score":3,"question_id":12851975,"title":"Google app engine cannot instantiate task queues more than the back end instances defined in backends.yaml in Google app engine","body":"<p>I have defined the backend configuration as follows.</p>\n\n<pre><code> backends:\n - name: mybackend\n   class: B8\n   options: public, dynamic\n   instances: 6\n</code></pre>\n\n<p>And Um creating more than 6 taskqueue instances and given the target to my backend.</p>\n\n<pre><code> class TestHandlerTest(RequestHandler):\n    def get(self):\n         for x in range(0, 100):\n             taskqueue.add(url='/testhandler/', method='GET',      params={'x': x},\n                        target='mybackend')\n         return Response()\n\n\n class TestHandler(RequestHandler):\n     def get(self):\n         time.sleep(420)\n         x = self.request.args.get('x')\n         return Response()\n</code></pre>\n\n<p>In GAE taskqueue only getting queued with 6 taskqueue instances . It wont run up to 100. If we use front ends the taskqueue getting queued with \nall the taskqueues . </p>\n\n<p>Why cannot we queued more than the tasks specified backend instance limit in google app engine? Can any one help?</p>\n"},{"tags":["google-app-engine","jdo","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12855011,"title":"Querying JDO entity not working in GAE","body":"<p>Im trying to use the datastore in google app engine. I'm able to make an object persistent and can retrieve it by id. But I can't query it.</p>\n\n<p>This is my entity:</p>\n\n<pre><code>package my.company.domain;\n\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\n@PersistenceCapable(detachable=\"true\")\npublic class User {\n\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    long key;   \n\n    @Persistent\n    private String name;\n\n    @Persistent\n    private String password;\n\n    @Persistent\n    private boolean adminPrivileges;\n\n//getters &amp; setters\n}\n</code></pre>\n\n<p>And my Unit Test:</p>\n\n<pre><code>public void persistAndFindUserTest(){\n\n        User user = new User();\n        user.setName(johnDoe\");\n        user.setPassword(\"password\");\n\n        UserService userService = new DefaultUserService();\n        user = userService.createUserInDatabase(user);\n\n        User userFromPersistence = userService.getUserById(user.getKey());\n        Assert.assertEquals(user.getName(), userFromPersistence.getName());\n\n        Assert.assertNotNull(userService.findUserByName(\"johnDoe\"));\n} \n</code></pre>\n\n<p>findUserByName is defined als follows:</p>\n\n<pre><code>public List&lt;User&gt; findUserByEmail(String email){\n        PersistenceManager persistenceManager = PMF.get()\n                .getPersistenceManager();\n\n        Query q = persistenceManager.newQuery(User.class);\n        q.setFilter(\"email == emailParam\");\n        q.declareParameters(\"String emailParam\");\n    q.setUnique(false);\n\n        List&lt;User&gt; results = null;\n        try {\n            results = (List&lt;User&gt;) q.execute(email);\n        } finally {\n            results = (List&lt;User&gt;)persistenceManager.detachCopyAll(results);\n            q.closeAll();\n        }\n        return results;\n    }\n</code></pre>\n\n<p>Following Exception occurs (line 116 is where I try to detach the result list):</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.google.appengine.datanucleus.query.QueryEntityPKFetchFieldManager.fetchLongField(QueryEntityPKFetchFieldManager.java:74)\n    at org.datanucleus.identity.IdentityUtils.getApplicationIdentityForResultSetRow(IdentityUtils.java:101)    \n    at com.google.appengine.datanucleus.EntityUtils.entityToPojo(EntityUtils.java:1009)\n    at com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:227)\n    at com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:224)\n    at com.google.appengine.datanucleus.query.LazyResult.resolveNext(LazyResult.java:96)\n    at com.google.appengine.datanucleus.query.LazyResult$LazyAbstractListIterator.computeNext(LazyResult.java:229)\n    at com.google.appengine.datanucleus.query.AbstractIterator.tryToComputeNext(AbstractIterator.java:131)\n    at com.google.appengine.datanucleus.query.AbstractIterator.hasNext(AbstractIterator.java:126)\n    at com.google.appengine.datanucleus.query.LazyResult$AbstractListIterator.hasNext(LazyResult.java:183)\n    at org.datanucleus.api.jdo.JDOPersistenceManager.detachCopyAll(JDOPersistenceManager.java:1213)\n    at ch.mttb.clientmanagement.service.impl.DefaultUserService.findUserByEmail(DefaultUserService.java:116)\n    at ch.mttb.clientmanagement.service.test.UserServiceTest.persistUserTest(UserServiceTest.java:44)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Im using the jars from the GAE SDK 1.7.2, the datanucleus jars are the following:</p>\n\n<p>datanucleus-api-jdo-3.1.0-m3.jar\ndatanucleus-api-jpa-3.1.0-m3.jar\ndatanucleus-appengine-2.1.0-final.jar\ndatanucleus-core3.1.0-m5.jar</p>\n\n<p>My enhancer.log files still are empty. I configured Logging as follows:\nPut log4j.properites und WEB-INF\nPut log4j-1.2.17.jar to the build path</p>\n\n<p>log4j.properties:</p>\n\n<pre><code>log4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p [%c] - %m%n\n\n\nlog4j.category.DataNucleus.JDO=WARN, A1\nlog4j.category.DataNucleus.Persistence=WARN, A1\nlog4j.category.DataNucleus.Cache=WARN, A1\nlog4j.category.DataNucleus.MetaData=WARN, A1\nlog4j.category.DataNucleus.General=WARN, A1\nlog4j.category.DataNucleus.Utility=WARN, A1\nlog4j.category.DataNucleus.Transaction=WARN, A1\nlog4j.category.DataNucleus.Datastore=WARN, A1\nlog4j.category.DataNucleus.ClassLoading=WARN, A1\nlog4j.category.DataNucleus.Plugin=WARN, A1\nlog4j.category.DataNucleus.ValueGeneration=WARN, A1\nlog4j.category.DataNucleus.Enhancer=WARN, A1\nlog4j.category.DataNucleus.SchemaTool=WARN, A1\n</code></pre>\n\n<p>Im using eclipse juno.</p>\n\n<p>Log Output when runnig junit test:</p>\n\n<pre><code>18:3811,450 DEBUG [DataNucleus.Plugin] - Plugin Registry \"org.datanucleus.plugin.EclipsePluginRegistry\" not found. Falling back to DataNucleus registry. Reason : Class \"org.eclipse.core.runtime.RegistryFactory\" was not found in the CLASSPATH. Please check your specification and your CLASSPATH..\n18:3811,452 DEBUG [DataNucleus.Plugin] - Using PluginRegistry org.datanucleus.plugin.NonManagedPluginRegistry\n18:3811,464 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus.api.jpa version 3.1.0.m3 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar.\n18:3811,471 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar!/plugin.xml.\n18:3811,472 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar!/plugin.xml.\n18:3811,476 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus version 3.1.0.m5 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar.\n18:3811,506 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar!/plugin.xml.\n18:3811,535 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar!/plugin.xml.\n18:3811,540 DEBUG [DataNucleus.Plugin] - Registering bundle com.google.appengine.datanucleus version 2.1.0 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar.\n18:3811,549 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar!/plugin.xml.\n18:3811,554 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar!/plugin.xml.\n18:3811,558 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus.api.jdo version 3.1.0.m3 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar.\n18:3811,564 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar!/plugin.xml.\n18:3811,567 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar!/plugin.xml.\n18:3811,587 INFO  [DataNucleus.Persistence] - Property datanucleus.appengine.singletonPMFForName unknown - will be ignored\n18:3811,587 INFO  [DataNucleus.Persistence] - Property datanucleus.appengine.autoCreateDatastoreTxns unknown - will be ignored\n18:3811,602 DEBUG [DataNucleus.Persistence] - Java types support initialising ...\n18:3811,603 DEBUG [DataNucleus.Persistence] - Java type [B (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [C (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [D (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [F (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [I (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [J (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [S (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [Z (persistent=true, DFG=true, embedded=true)\n18:3811,605 DEBUG [DataNucleus.Persistence] - Java type [Ljava.lang.Boolean; (persistent=true, DFG=true, embedded=true)\n\nsame for many types\n\n18:3811,651 DEBUG [DataNucleus.Persistence] - Java type [Lcom.google.appengine.api.users.User; (persistent=true, DFG=true, embedded=true)\n\nsame for typed Collections, Lists and Sets\n\n\n18:3811,659 DEBUG [DataNucleus.Persistence] - Java types support loaded\n18:3811,659 DEBUG [DataNucleus.Persistence] - Type converter support initialising ...\n18:3811,660 DEBUG [DataNucleus.Persistence] - Added converter for java.math.BigDecimal&lt;-&gt;java.lang.String using org.datanucleus.store.types.converters.BigDecimalStringConverter\n\nlot more converters added...\n\n18:3811,667 DEBUG [DataNucleus.Persistence] - Added converter for java.util.UUID&lt;-&gt;java.lang.String using org.datanucleus.store.types.converters.UUIDStringConverter\n18:3811,667 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalDate&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,668 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalTime&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalTime&lt;-&gt;java.lang.Long ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalDateTime&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - Type converter support loaded\n18:3811,670 DEBUG [DataNucleus.MetaData] - MetaDataManager : Input=(XML,Annotations), XML-Validation=false, XML-Suffices=(persistence=*.jdo, orm=orm, query=*.jdoquery), JDO-listener=true\n18:3811,670 DEBUG [DataNucleus.MetaData] - Registering listener for metadata initialisation\n18:3811,674 DEBUG [DataNucleus.MetaData] - Listener found initialisation for persistable class my.company.domain.User\n18:3811,676 DEBUG [DataNucleus.MetaData] - MetaData of type \"jdo\" for class \"my.company.domain.User\" NOT found at /META-INF/package.jdo\n\nsame for many different locations\n\n18:3811,724 DEBUG [DataNucleus.MetaData] - Class \"my.company.domain.User\" has been specified with JDO annotations so using those.\n18:3811,743 DEBUG [DataNucleus.MetaData] - Populating Meta-Data for class my.company.domain.User.\n18:3811,743 DEBUG [DataNucleus.MetaData] - MetaData of type \"orm\" for class \"my.company.domain.User\" NOT found at /META-INF/package.orm\n\nsame for many different locations\n\n18:3811,755 DEBUG [DataNucleus.Datastore] - Creating StoreManager for datastore\n18:3811,772 DEBUG [DataNucleus.Connection] - Registered transactional connection factory under name \"appengine\"\n18:3811,773 DEBUG [DataNucleus.Connection] - Registered nontransactional connection factory under name \"appengine-nontx\"\n18:3811,804 DEBUG [DataNucleus.Datastore] - ======================= Datastore =========================\n18:3811,805 DEBUG [DataNucleus.Datastore] - StoreManager : \"appengine\" (com.google.appengine.datanucleus.DatastoreManager)\n18:3811,805 DEBUG [DataNucleus.Datastore] - AutoStart : mechanism=None, mode=Quiet\n18:3811,805 DEBUG [DataNucleus.Datastore] - Datastore : read-write\n18:3811,805 DEBUG [DataNucleus.Datastore] - Schema Control : AutoCreate(None), Validate(None)\n18:3811,805 DEBUG [DataNucleus.Datastore] - Query Languages : [JDOQL, JPQL]\n18:3811,805 DEBUG [DataNucleus.Datastore] - Queries : Timeout=0\n18:3811,805 DEBUG [DataNucleus.Datastore] - ===========================================================\n18:3811,805 DEBUG [DataNucleus.Datastore] - StorageVersion : READ_OWNED_CHILD_KEYS_FROM_PARENTS\n18:3811,805 DEBUG [DataNucleus.Datastore] - Default Relation Mode : owned\n18:3811,805 DEBUG [DataNucleus.Datastore] - ===========================================================\n18:3811,819 DEBUG [DataNucleus.Datastore] - StoreManager now created\n18:3811,819 DEBUG [DataNucleus.Persistence] - ================= Persistence Configuration ===============\n18:3811,819 DEBUG [DataNucleus.Persistence] - DataNucleus Persistence Factory - Vendor: \"DataNucleus\"  Version: \"3.1.0.m5\"\n18:3811,819 DEBUG [DataNucleus.Persistence] - DataNucleus Persistence Factory initialised for datastore URL=\"appengine\" driver=\"\" userName=\"\"\n18:3811,819 DEBUG [DataNucleus.Persistence] - JDK : 1.7.0_05 on Windows 7\n18:3811,819 DEBUG [DataNucleus.Persistence] - Persistence API : JDO\n18:3811,819 DEBUG [DataNucleus.Persistence] - Plugin Registry : org.datanucleus.plugin.NonManagedPluginRegistry\n18:3811,820 DEBUG [DataNucleus.Persistence] - Standard Options : pm-singlethreaded, retain-values, nontransactional-read, nontransactional-write, serverTimeZone=UTC\n18:3811,820 DEBUG [DataNucleus.Persistence] - Persistence Options : reachability-at-commit managed-relations(checked) deletion-policy=JDO2\n18:3811,820 DEBUG [DataNucleus.Persistence] - Transactions : type=RESOURCE_LOCAL mode=datastore isolation=read-committed\n18:3811,820 DEBUG [DataNucleus.Persistence] - Value Generation : txn-isolation=read-committed connection=New\n18:3811,820 DEBUG [DataNucleus.Persistence] - ClassLoading : jdo\n18:3811,820 DEBUG [DataNucleus.Persistence] - Cache : Level1 (soft), Level2 (soft, mode=UNSPECIFIED), QueryResults (soft), Collections/Maps \n18:3811,820 DEBUG [DataNucleus.Persistence] - ===========================================================\n18:3811,823 DEBUG [DataNucleus.Cache] - Level 2 Cache of type \"soft\" initialised\n18:3811,849 DEBUG [DataNucleus.Persistence] - Implementation creator not configured. Due to that, support for 'persistent interfaces' (\"PersistenceManager.newInstance()\") was disabled!\n18:3811,851 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3811,855 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@3e5b3b80\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@2491c82e\"\n18:3811,859 DEBUG [DataNucleus.MetaData] - Initialising Meta-Data for class my.company.domain.User.\n18:3811,860 DEBUG [DataNucleus.Persistence] - Making object persistent : \"my.company.domain.User@78871dc5\"\n18:3811,882 INFO  [DataNucleus.MetaData] - Performing appengine-specific metadata validation for my.company.domain.User\n18:3811,883 INFO  [DataNucleus.MetaData] - Finished performing appengine-specific metadata validation for my.company.domain.User\n18:3811,904 DEBUG [DataNucleus.Persistence] - Managing Persistence of Class : my.company.domain.User [Table : my.company.domain.User, InheritanceStrategy : new-table]\n18:3811,918 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@79e479a3\n18:3811,919 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3811,921 DEBUG [DataNucleus.Datastore.Native] - Putting entity of kind User with key User(no-id-yet) as {tenantId[0], password[password], name[johnDoe], adminPrivileges[false], key[0], }\nOkt 11, 2012 6:38:11 PM com.google.appengine.api.datastore.dev.LocalDatastoreService init\nINFO: Local Datastore initialized: \n    Type: Master/Slave\n    Storage: In-memory\n18:3812,064 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") added to Level 1 cache (loadedFlags=\"[YYYYY]\")\n18:3812,064 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,064 DEBUG [DataNucleus.Persistence] - ObjectManager.internalFlush() process started using ordered flush - 1 dirty objects\n18:3812,066 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.query.cache.SoftQueryCompilationCache\" initialised\n18:3812,067 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.store.query.cache.SoftQueryDatastoreCompilationCache\" initialised\n18:3812,068 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.store.query.cache.SoftQueryResultsCache\" initialised\n18:3812,068 DEBUG [DataNucleus.Persistence] - ObjectManager.internalFlush() process finished\n18:3812,070 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@78871dc5\" (id=\"1\") added to Level 2 cache (fields=\"[0, 1, 2, 3, 4]\", version=\"\")\n18:3812,070 DEBUG [DataNucleus.Lifecycle] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") has a lifecycle change : \"P_NEW\"-&gt;\"P_NONTRANS\"\n18:3812,070 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") being evicted from transactional cache\n18:3812,071 DEBUG [DataNucleus.Persistence] - Detaching copy of object : \"my.company.domain.User@78871dc5\" (depth=0) - will be \"my.company.domain.User@43ae24e3\"\n18:3812,073 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee] but owner object closing so closing connection\n18:3812,073 DEBUG [DataNucleus.Connection] - Connection removed from the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,073 DEBUG [DataNucleus.Persistence] - Disconnecting my.company.domain.User@78871dc5 from StateManager[pc=my.company.domain.User@78871dc5, lifecycle=P_NONTRANS]\n18:3812,073 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" being removed from Level 1 cache [current cache size = 1]\n18:3812,073 DEBUG [DataNucleus.Cache] - Level 1 Cache cleared\n18:3812,074 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@3e5b3b80\" closed\n18:3812,075 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3812,075 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@1f6aa236\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@11bf9757\"\n18:3812,077 DEBUG [DataNucleus.Cache] - Object with id \"my.company.domain.User:1\" not found in Level 1 cache [cache size = 0]\n18:3812,077 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") added to Level 1 cache (loadedFlags=\"[NNYNN]\")\n18:3812,079 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" taken from Level 2 cache (fields=\"[0, 1, 2, 3, 4]\", version=\"\") - represented as \"my.company.domain.User@6ccc45d2\"\n18:3812,079 DEBUG [DataNucleus.Lifecycle] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") has a lifecycle change : \"P_CLEAN\"-&gt;\"P_NONTRANS\"\n18:3812,079 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") being evicted from transactional cache\n18:3812,079 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") is not transactional\n18:3812,079 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@18d1287b\n18:3812,079 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,080 DEBUG [DataNucleus.Datastore.Native] - Getting entity of kind User with key User(1)\n18:3812,088 DEBUG [DataNucleus.Persistence] - Detaching copy of object : \"my.company.domain.User@6ccc45d2\" (depth=0) - will be \"my.company.domain.User@13997783\"\n18:3812,088 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee] but owner object closing so closing connection\n18:3812,088 DEBUG [DataNucleus.Connection] - Connection removed from the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,088 DEBUG [DataNucleus.Persistence] - Disconnecting my.company.domain.User@6ccc45d2 from StateManager[pc=my.company.domain.User@6ccc45d2, lifecycle=P_NONTRANS]\n18:3812,088 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" being removed from Level 1 cache [current cache size = 1]\n18:3812,088 DEBUG [DataNucleus.Cache] - Level 1 Cache cleared\n18:3812,089 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@1f6aa236\" closed\n18:3812,090 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3812,090 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@5244c8cc\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@21daf346\"\n18:3812,107 DEBUG [DataNucleus.Query] - JDOQL Query : Compiling \"SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\"\n18:3812,115 DEBUG [DataNucleus.General] - Class String was resolved to be java.lang.String. It wasnt defined fully-qualified so had to be looked up; you can avoid the lookup (and improve performance) by fully-qualifying the class in the query.\n18:3812,122 DEBUG [DataNucleus.Query] - JDOQL Query : Compile Time = 15 ms\n18:3812,123 DEBUG [DataNucleus.Query] - QueryCompilation:\n  [filter:DyadicExpression{PrimaryExpression{name}  =  ParameterExpression{nameParam}}]\n  [symbols: nameParam type=java.lang.String, this type=my.company.domain.User]\n18:3812,123 DEBUG [DataNucleus.Query] - JDOQL Query : Executing \"SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\" ...\n18:3812,125 DEBUG [DataNucleus.Query] - Query compiled as : Kind=my.company.domain.User Filter : name=johnDoe\n18:3812,130 DEBUG [DataNucleus.Datastore.Native] - Executing query in datastore for SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\n18:3812,146 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@3e36cb\n18:3812,146 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@747f498c for key=org.datanucleus.ObjectManagerImpl@5244c8cc in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,146 DEBUG [DataNucleus.Query] - JDOQL Query : Execution Time = 23 ms\n</code></pre>\n\n<p>(I removed several duplicate lines)</p>\n\n<p>Kind regards,\nmichael</p>\n"},{"tags":["google-app-engine","gae-datastore","storage","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12852442,"title":"pros and cons of db and ndb in google app engine","body":"<p>I have seen a little of this in stack overflow but I am wondering if there is any reason to use the DB entity model and what the specific pros and cons of using on or the other are.</p>\n\n<p>I have read the ndb is a little faster and that it helps with caching.  They have a good bit of info in the docs but don't really straight out say that ndb is better.  At least I haven't found that yet.</p>\n"},{"tags":["web-services","google-app-engine","rest","servlets"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":2843,"score":1,"question_id":3881338,"title":"Lightweight & Fast REST Server library for java?","body":"<p>I'm looking for a lightweight REST library.</p>\n\n<p>It must be small (in kb size) an Fast (in total execution time). The optimal solution is a single jar without any dependencies what so ever.</p>\n\n<p>The application is designed to run on the AppEngine so the library should work on GAE/J platform.</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12851336,"title":"Ref<?> value has not been initialized","body":"<p>I'm getting this error:</p>\n\n<pre><code>java.lang.IllegalStateException: Ref&lt;?&gt; value has not been initialized\n    at com.googlecode.objectify.impl.ref.StdRef.get(StdRef.java:55)\n    at com.mycomp.simplify.KeyValueVersion.getVersion(KeyValueVersion.java:59)\n</code></pre>\n\n<p>When trying to persist this entity:</p>\n\n<pre><code>public class KeyValueVersion {\n\n\n        @Id\n        private Long id;\n        private Ref&lt;Key&gt; key;\n        private Ref&lt;Value&gt; value;\n        private Ref&lt;Version&gt; version;\n\n        public KeyValueVersion() {\n\n        }\n\n        public KeyValueVersion(Key key, Value value, Version version) {\n            setKey(key);\n            setValue(value);\n            setVersion(version);\n        }\n\n        public Key getKey() {\n            return this.key.get();\n        }\n        public void setKey(Key key) {\n            this.key = Ref.create(key.getKey(), key);\n        }\n        public Value getValue() {\n            return this.value.get();\n        }\n        public void setValue(Value value) {\n            this.value = Ref.create(value.getKey(), value); \n        }\n        public Version getVersion() {\n            return this.version.get();\n        }\n        public void setVersion(Version version) {\n            this.version = Ref.create(version.getKey(), version); \n        }\n\n        public Long getId() {\n            return id;\n        }\n\n        public void setId(Long id) {\n            this.id = id;\n        }\n    }\n</code></pre>\n\n<p>This is how I persist the Entity:</p>\n\n<pre><code>public Version put(final Key key, final Value value) throws KeyException {\n    final ExceptionWrapper ew = new ExceptionWrapper();\n    Version v = ofy().transact(new Work&lt;Version&gt;() {\n        @Override\n        public Version run() {\n            Version v = null;\n            try {\n                Version version = new Version(new Date().getTime());\n                ofy().save().entity(key).now();\n                ofy().save().entity(value).now();\n                ofy().save().entity(version).now();\n                com.googlecode.objectify.Key&lt;KeyValueVersion&gt; result = \n                        ofy().save().entity(new KeyValueVersion(key, value, version)).now();\n                v = get(result).getVersion();\n            } catch (EntityNotFoundException e) {\n                ew.exception = new KeyPersistenceFailureException(key);\n            } \n            return v;\n        }\n    }); \n    if(ew.exception != null) throw ew.exception;\n    return v;\n}\n</code></pre>\n\n<p>This is the main test that runs these codes:</p>\n\n<pre><code>@Test\npublic void testCreateFetch() throws KeyException { \n    Value val = Value.createValue(\"John\".getBytes());\n    Key key = Key.createKey(\"uid:john:fname\");\n    Version ver = sfy.put(key, val); \n\n}\n</code></pre>\n\n<ul>\n<li>The static <code>createXxx</code> methods of <code>Key</code>, <code>Value</code> and <code>Version</code> just create new new instance of those classes </li>\n<li>The <code>put()</code> method saves the entities into the datastore before these is passed into the <code>KeyValueVersion</code> that is then saved into the datasore</li>\n</ul>\n"},{"tags":["android","google-app-engine","authentication","user-authentication","google-account"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12840389,"title":"Android: Can a webview automatically signin into an AppEngine app?","body":"<p>I did create a webapp on Google AppEngine, which requires Google Account SignIn.\nI know Android has already a Google Account associated during registration.</p>\n\n<p>Can I create an Android App consisting only of a webview, which automatically signs in to my webapp?</p>\n"},{"tags":["java","google-app-engine","thumbnails"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12849948,"title":"GAE ImagesService().getServingUrl() is to long executed. Java","body":"<p>I want to create thumbs for blobstore files.\nI use code:</p>\n\n<p>String servingUrl = ImagesServiceFactory.getImagesService().getServingUrl(\n                ServingUrlOptions.Builder.withBlobKey(new BlobKey(blobKey))\n                        .imageSize(100)\n                        .secureUrl(false)\n        );</p>\n\n<p>It work fine. But when I need to create many thums per one request I get exception:</p>\n\n<pre><code>com.google.apphosting.api.DeadlineExceededException: This request (2b0af6acab1f5e18) started at 2012/10/11 21:53:57.444 UTC and was still executing at 2012/10/11 21:54:57.017 UTC.\n</code></pre>\n\n<p>Maybe someone have solution for this problem. Please help!</p>\n"},{"tags":["google-app-engine","deployment","ant"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12850734,"title":"Google App Engine: How to perform a remote deploy to dev app server?","body":"<p>I am in the process of setting up a \"QA environment\" for my GAE app. This QA environment will simply be a small server on my home network with a dedicated IP address. I'm writing an Ant script to check the project out of my SVN repo, build it on my build server, and then deploy it \"remotely\" (across my home LAN) to the QA app server.</p>\n\n<p>With Tomcat, I would just <code>scp</code> the web archive to the machine's <code>webapps/</code> directory, and since it can be configured to hot-deploy, that is all I usually need for a QA deploy.</p>\n\n<p>But I'm new to GAE, and so I'm not seeing how I can achieve such a remote deployment via Ant. The best I can think of (although somewhat convoluted) would be:</p>\n\n<ol>\n<li>Checkout and build the WAR on the buildserver, like I normally would</li>\n<li><code>scp</code> the WAR to a staging directory, somewhere on the QA machine; say <code>192.168.1.55:/opt/gae/staging</code></li>\n<li>Have a lightweight RESTful web service running on that machine (maybe hosted by Tomcat or Jetty) listening for a client to hit a certain API, say <code>http://192.168.1.55:8080/GaeRemoteApi/deploy</code>; when the request handler gets a request for this URL, it kicks off a shell command to copy the WAR into the correct directory and then execute <code>appcfg.sh -upload</code> to actually deploy the WAR to my QA app server</li>\n</ol>\n\n<p>I'm pretty sure I could get this working within a day or two, but was wondering if the GAE ships with an easier (baked in) solution; or if a fresh set of eyes can think of something even simpler. Thanks in advance!</p>\n"},{"tags":["java","google-app-engine","google-api","google-drive-sdk","google-drive"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":527,"score":2,"question_id":12691677,"title":"Google Drive API through Google App Engine","body":"<p>I'm trying to use the Google Drive API through the <a href=\"https://developers.google.com/appengine/docs/java/appidentity/overview\" rel=\"nofollow\">App Identity</a> interface provided with Google App Engine. This basically allows my web application to communicate with Google's APIs <a href=\"https://developers.google.com/accounts/docs/OAuth2ServiceAccount\" rel=\"nofollow\">from server to server</a>. </p>\n\n<p>I don't need my users to login, I simply need to display my own Google Drive documents.</p>\n\n<p>However, after I set all the appropriate values and scopes, and enable all the right Google Drive knobs on the console page, I still get this for a simple GET request to <code>https://www.googleapis.com/drive/v2/files</code>:</p>\n\n<pre><code>{ \"error\": { \"errors\": [ { \"domain\": \"usageLimits\", \"reason\": \"dailyLimitExceededUnreg\", \"message\": \"Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup.\", \"extendedHelp\": \"https://code.google.com/apis/console\" } ], \"code\": 403, \"message\": \"Daily Limit for Unauthenticated Use Exceeded. Continued use requires signup.\" }}\n</code></pre>\n\n<p>What's wrong? What am I missing? Here's the code that actually does the request - funny thing is that it works great if I use other APIs such as the URL shortener API:</p>\n\n<pre><code>var scopes = new java.util.ArrayList();                                                                                                    \nscopes.add(\"https://www.googleapis.com/auth/drive\");                                                                                       \nvar appIdentity = AppIdentityServiceFactory.getAppIdentityService();                                                                       \nvar accessToken = appIdentity.getAccessToken(scopes);\n\nvar url = new URL(\"https://www.googleapis.com/drive/v2/files\");                                                                            \nvar connection = url.openConnection();                                                                                                     \nconnection.setDoOutput(true);                                                                                                              \nconnection.setRequestMethod(\"GET\");                                                                                                        \nconnection.addRequestProperty(\"Content-Type\", \"application/json\");                                                                         \nconnection.addRequestProperty(\"Authorization\", \"OAuth \" + accessToken.getAccessToken());\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>If I simply change the API to use the <code>urlshortner</code> API for example, it works:</p>\n\n<p><code>var url = new URL(\"https://www.googleapis.com/urlshortener/v1/url/history\");</code></p>\n\n<p>And output:</p>\n\n<p><code>{ \"kind\": \"urlshortener#urlHistory\", \"totalItems\": 0, \"itemsPerPage\": 30}</code></p>\n\n<p>So there must be something not working with Google Drive and App Identity?</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>I've found some help from the correct answer here: <a href=\"http://stackoverflow.com/a/12526286/50394\">http://stackoverflow.com/a/12526286/50394</a></p>\n\n<p>But it's talking about setting Client API scopes on Google Apps, and I'm not using Google Apps, I'm simply using Google App Engine's domain <code>foo.appspot.com</code></p>\n"},{"tags":["java","google-app-engine","oauth-2.0","google-drive-sdk"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":297,"score":4,"question_id":12503437,"title":"Google Drive service account returns 403 usageLimits","body":"<p>I'm trying to write an AppEngine app that writes a Google Document to Google Drive, puts in a specific set of folders and sets access rights. I have this working with the old DocsList API but since that just got depricated I decided to update my code (and I had some additional functions to add anyway).</p>\n\n<p>Problem I'm facing is this: When I use a service account and try to impersonate a specific user I get a 403 with usageLimits even though I have not used up any of my quota.</p>\n\n<p>Here is the code I'm using:</p>\n\n<pre><code>GoogleCredential credentials = new GoogleCredential.Builder()\n                 .setTransport(HTTP_TRANSPORT)\n                 .setJsonFactory(JSON_FACTORY)\n                 .setServiceAccountId(\"xxxxxxxxxxgserviceaccount.com\")\n                 .setServiceAccountScopes(DriveScopes.DRIVE)\n                 .setServiceAccountPrivateKeyFromP12File(new java.io.File(\"xxxx-privatekey.p12\"))\n                 .setServiceAccountUser(\"user@xxxxxx.org\").build();\n</code></pre>\n\n<p>I than use these credentials to initiate my Drive object:</p>\n\n<pre><code>Drive d = Drive.builder(httpTransport, jsonFactory)\n               .setHttpRequestInitializer(credentials)\n               .setJsonHttpRequestInitializer(new JsonHttpRequestInitializer() {\n                @Override\n                public void initialize(JsonHttpRequest request) {\n                    DriveRequest driveRequest = (DriveRequest) request;\n                    driveRequest.setPrettyPrint(true);\n                }\n            }).setApplicationName(\"MYAPPNAME\").build();\n</code></pre>\n\n<p>BTW: I've tried using new Drive(....) but that just won't work, no matter what I try. Keeps throwing errors that internal methods are not found!</p>\n\n<p>Back to this issue:\nWhen I than use 'd' to call something like .files().get(\"SOMEFILEID\").execute() I get a 403</p>\n\n<p>{ \"code\" : 403,\n\"errors\" : [ {\n    \"domain\" : \"usageLimits\",\n    \"message\" : \"Daily Limit Exceeded. Please sign up\",\n    \"reason\" : \"dailyLimitExceededUnreg\",\n    \"extendedHelp\" : \"https://code.google.com/apis/console\"\n  } ],\n  \"message\" : \"Daily Limit Exceeded. Please sign up\"\n}</p>\n\n<p>I can't figure out why this doesn't work. I've look online all day but can't find a suitable answer. Some help is very much appreciated.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":12806236,"title":"gae domains not resolving correctly","body":"<p>It looks like Google App Engine domains have stopped resolving.</p>\n\n<p>There has been no change in my DNS records, and in the last few hours it looks like regular domain names stopped resolving/redirecting to their appspot equivalent.</p>\n"},{"tags":["python","google-app-engine","deployment","web-deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":162,"score":2,"question_id":12848631,"title":"How do I deploy my Google App Engine project when not behind a proxy in Python 2.7 despite this urllib2 error?","body":"<p>From this question ( <a href=\"http://stackoverflow.com/questions/5520603/cant-deploy-my-app-to-google-app-engine\">Can&#39;t deploy my app to Google App Engine</a> ), I see that perhaps some imports aren't allowed on production GAE.  I've cut down to the following:</p>\n\n<pre><code>import webapp2 # Comes with latest GAE w/ Python 2.7\nimport os # for loading appropriate files on the server\n\nfrom google.appengine.ext import db\nfrom google.appengine.api import channel\nfrom google.appengine.ext.webapp import template\n</code></pre>\n\n<p>I'm not directly linking to a website in my Python script.  This is the only line where I refer to a file.</p>\n\n<pre><code>path = os.path.join(os.path.dirname(__file__), 'myfile.html')\n</code></pre>\n\n<p>I'm working at home, not behind a proxy.  Despite all these things that I've seen as factors in other questions on SO and in various search results, I continue getting the following error.</p>\n\n<pre><code>2012-10-11 13:22:01,890 ERROR appcfg.py:2182 An error occurred processing file '':\n&lt;urlopen error [Errno 11004] getaddrinfo failed&gt;. Aborting. \nTraceback (most recent call last):\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 171, in &lt;module&gt;\nrun_file(__file__, globals())\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\", line 167, in run_file\nexecfile(script_path, globals_)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4191, in &lt;module&gt;\nmain(sys.argv)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 4182, in main\nresult = AppCfgApp(argv).Run()\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2579, in Run\nself.action(self)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3927, in __call__\nreturn method()\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3041, in Update\nself.UpdateVersion(rpcserver, self.basepath, appyaml)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 3023, in UpdateVersion\nlambda path: self.opener(os.path.join(basepath, path), 'rb'))\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 2152, in DoUpload\nself.resource_limits = GetResourceLimits(self.rpcserver, self.config)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 357, in GetResourceLimits\nresource_limits.update(GetRemoteResourceLimits(rpcserver, config))\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 328, in GetRemoteResourceLimits\nversion=config.version)\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\google\\appengine\\tools\\appengine_rpc.py\", line 383, in Send\nf = self.opener.open(req)\n\nFile \"C:\\Python27\\lib\\urllib2.py\", line 400, in open\nurl = rest\n\nFile \"C:\\Python27\\lib\\urllib2.py\", line 418, in _open\nuser_passwd = unquote(user_passwd)\n\nFile \"C:\\Python27\\lib\\urllib2.py\", line 378, in _call_chain\n\"\"\"Default error handler: close the connection and raise IOError.\"\"\"\n\nFile \"C:\\Python27\\lib\\urllib2.py\", line 1215, in https_open\ns += unichr(int(item[:2], 16)) + item[2:]\n\nFile \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\fancy_urllib\\fancy_urllib\\__init__.py\", \n    line 383, in do_open\nraise url_error\n\nurllib2.URLError: &lt;urlopen error [Errno 11004] getaddrinfo failed&gt;\n2012-10-11 13:22:01 (Process exited with code 1)\n</code></pre>\n\n<p>So there's the error, and I really don't think it's on my end because of how minimal I've made my code.  To recap:</p>\n\n<ul>\n<li>Unlike other questions and their unmarked solutions, I'm not behind a proxy;</li>\n<li>I don't have any internet URLs in my python script;</li>\n<li>I'm using Python 2.7 and the Deploy button on the Google App Engine launcher.</li>\n</ul>\n\n<p>One solution I haven't tried is setting an environment variable (http_proxy, https_proxy) to my proxy because I don't know what proxy to set it to; I don't have one.  In my project settings, I have <a href=\"https://myappname.appspot.com\" rel=\"nofollow\">https://myappname.appspot.com</a> as the Deployment Server.</p>\n\n<p>How do I proceed?  Any red flags you can identify immediately from what I've described?</p>\n\n<p>Note:</p>\n\n<ul>\n<li>Since starting to write this and continually clicking on more suggestions from StackOverflow, I've tried setting a new environment variable http_proxy to my IP, my IP:8080, and \"host_or_ip:port\" (from question <a href=\"http://stackoverflow.com/questions/6468191/google-app-engine-launcher-slow-to-launch-behind-proxy-possibly-because-of-ch\">Google App Engine Launcher Slow to Launch-- Behind Proxy. Possibly because of check for updates?</a>).</li>\n<li>I'll be trying the same values with https_proxy while you good folks read and put out your ideas.</li>\n</ul>\n"},{"tags":["python","django","json","google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":7,"down_vote_count":1,"view_count":2395,"score":6,"question_id":2676767,"title":"Google App Engine: JSON module","body":"<p>I'm using JSON with <a href=\"http://en.wikipedia.org/wiki/Google_App_Engine\" rel=\"nofollow\">Google App Engine</a>.</p>\n\n<p>I'm using JSON for comunication, so on the Python side I have:</p>\n\n<pre><code>import json\n</code></pre>\n\n<p>The error I'm getting is this:</p>\n\n<blockquote>\n  <p>&lt;class 'django.core.exceptions.ViewDoesNotExist'>: Could not import views.ganttapp. Error was: No module named json</p>\n</blockquote>\n\n<p>In my stand-alone this works great. Is there any problem with JSON on Google App Engine? Or should I use another module?</p>\n\n<p>I don't know if you can open this, but here it goes: <a href=\"http://ganttapp.appspot.com/newgantt\" rel=\"nofollow\">http://ganttapp.appspot.com/newgantt</a>. You can find the error here.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12830906,"title":"Getting Entity Key with Objectify 4","body":"<p>I need to do <code>getKey()</code> with this kind of Entity:</p>\n\n<pre><code>@Entity\npublic class Value {\n    @Id\n    private long id;\n    private byte[] value;\n\n    com.googlecode.objectify.Key&lt;Value&gt; getKey() {\n        return com.googlecode.objectify.Key.create(Value.class, id); // When executed this line throws NullPointerException\n    }\n\n        // Code omitted\n}\n</code></pre>\n\n<p>However the pattern I used before with version 3 seems to be not applicable anymore.\nThe <code>@Transient</code> is replaced by <code>@Ignore</code> but when I annotate my <code>getKey()</code> function with <code>@Ignore</code> I get this error:</p>\n\n<pre><code>The annotation `@Ignore` is disallowed for this location \n</code></pre>\n\n<p>So I just commented it out. And see if it will work.</p>\n\n<p>Furthermore,</p>\n\n<p>When I run my application the <code>getKey()</code> function throws <code>NullPointerException</code> as commented above.</p>\n\n<p>So, what is the pattern to get a <code>@Entity</code> key?</p>\n"},{"tags":["google-app-engine","foreign-keys","objectify","declare"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12831656,"title":"Objectify - How to declare a foreign key?","body":"<p>I am working with Google app engine and Objectify. I am unable to find that how to declare foreign key in Objectify.</p>\n\n<p>Any help would be really appreciated.</p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12845778,"title":"Full text API for tags","body":"<p>I am getting started on Full text API. I was using a indexed pattern and I was suggested to use Full text API to prevent exploding indexes. I need help in conceptualization.</p>\n\n<p>My app is CRM - list. It has contacts and each contact can have 5-10 tags and a date created.</p>\n\n<p>I know I can do an AND or OR operations on various fields but I am not sure how to setup the document for searching something like the following</p>\n\n<p>Search for all contacts with Tag1 and Tag2 but not with Tag3</p>\n\n<p>Should I be using atom or create multiple fields in the document with the same name as tag.</p>\n\n<p>Thanks. </p>\n"},{"tags":["google-app-engine","gae-datastore","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":9760390,"title":"Using DataNucleus' list-ordering extension leads to empty list","body":"<p>So, I have an unidirectional one-to-many relationship where I want to keep the children in an ordered list. Since they already have an \"index\" property, I tried to follow the advice on <a href=\"http://code.google.com/appengine/docs/java/datastore/jdo/relationships.html\" rel=\"nofollow\">http://code.google.com/appengine/docs/java/datastore/jdo/relationships.html</a> and use the \"list-ordering\" extension to use that index-property to determine the order of the children instead of using an auto-generated one.</p>\n\n<p>Unfortunately, as soon as I add the annotation it stops returning children and only gives me an empty list.</p>\n\n<p>I recreated the problem with this simple example:</p>\n\n<pre><code>@PersistenceCapable(detachable = \"true\")\n@FetchGroup(name = \"parent.children\", members = {@Persistent(name = \"children\")})\npublic class Parent {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n\n    @Persistent\n    @Order(extensions = @Extension(vendorName=\"datanucleus\", key=\"list-ordering\", value=\"index ASC\"))\n    private List&lt;Child&gt; children;\n\n    // getters/setters\n}\n\n@PersistenceCapable(detachable = \"true\")\npublic class Child {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n\n    @Persistent\n    private Integer index;\n\n    // getters/setters\n}\n</code></pre>\n\n<p>DAO:</p>\n\n<pre><code>public void save(T entity) {\n    PersistenceManager pm = getPersistenceManager();\n    Transaction tx = pm.currentTransaction();\n    try {\n        tx.begin();\n        pm.makePersistent(entity);\n        tx.commit();\n    } finally {\n        if(tx.isActive())\n            tx.rollback();\n        pm.close();\n    }\n}\n\npublic T get(Key key, String... fetchGroups) {\n     PersistenceManager pm = getPersistenceManager();\n     Transaction tx = pm.currentTransaction();\n     addFetchGroups(pm, fetchGroups);\n     try {\n         tx.begin();\n         pm.setDetachAllOnCommit(true);\n         T entity = (T) pm.getObjectById(entityClass, key);\n         tx.commit();\n         return entity;\n     } finally {\n         if(tx.isActive())\n             tx.rollback();\n         pm.close();\n     }\n}\n</code></pre>\n\n<p>Test code:</p>\n\n<pre><code>Parent parent = new Parent();\nChild child = new Child(); \nchild.setIndex(10);\nparent.getChildren().add(child);\nmParentDao.save(parent);\n\nParent parent2 = mParentDao.get(parent.getKey(), \"parent.children\");\n</code></pre>\n\n<p>Is there anything in particular that I am doing wrong?</p>\n\n<p>[EDIT] Here is the related log output:</p>\n\n<blockquote>\nDatastore: Putting entity of kind PARENT with key PARENT(no-id-yet)<br/>\nDatastore: Putting entity of kind CHILD with key PARENT(3)/CHILD(no-id-yet)<br/>\nDatastore:   INDEX : 10<br/>\nDatastore: Committed datastore transaction: 0<br/>\nDatastore: Started new datastore transaction: 1<br/>\nDatastore: Getting entity of kind PARENT with key PARENT(3)<br/>\nDatastore.Retrieve: Preparing to query for all children of PARENT(3) of kind CHILD<br/>\nDatastore.Retrieve:   Added sort: index ASCENDING<br/>\nDatastore.Retrieve: Query had 0 results.<br/>\nDatastore: Committed datastore transaction: 1<br/>\n</blockquote>\n"},{"tags":["google-app-engine","jdo","datanucleus"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":12795918,"title":"JDO: Exception when trying to detach objects","body":"<p>Im trying to use the datastore in google app engine. I'm able to make an object persistent and can retrieve it by id. But I can't query it.</p>\n\n<p>This is my entity:</p>\n\n<pre><code>package my.company.domain;\n\nimport javax.jdo.annotations.IdGeneratorStrategy;\nimport javax.jdo.annotations.PersistenceCapable;\nimport javax.jdo.annotations.Persistent;\nimport javax.jdo.annotations.PrimaryKey;\n\n@PersistenceCapable(detachable=\"true\")\npublic class User {\n\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    long key;   \n\n    @Persistent\n    private String name;\n\n    @Persistent\n    private String password;\n\n    @Persistent\n    private boolean adminPrivileges;\n\n//getters &amp; setters\n}\n</code></pre>\n\n<p>And my Unit Test:</p>\n\n<pre><code>public void persistAndFindUserTest(){\n\n        User user = new User();\n        user.setName(johnDoe\");\n        user.setPassword(\"password\");\n\n        UserService userService = new DefaultUserService();\n        user = userService.createUserInDatabase(user);\n\n        User userFromPersistence = userService.getUserById(user.getKey());\n        Assert.assertEquals(user.getName(), userFromPersistence.getName());\n\n        Assert.assertNotNull(userService.findUserByName(\"johnDoe\"));\n} \n</code></pre>\n\n<p>findUserByName is defined als follows:</p>\n\n<pre><code>public List&lt;User&gt; findUserByEmail(String email){\n        PersistenceManager persistenceManager = PMF.get()\n                .getPersistenceManager();\n\n        Query q = persistenceManager.newQuery(User.class);\n        q.setFilter(\"email == emailParam\");\n        q.declareParameters(\"String emailParam\");\n    q.setUnique(false);\n\n        List&lt;User&gt; results = null;\n        try {\n            results = (List&lt;User&gt;) q.execute(email);\n        } finally {\n            results = (List&lt;User&gt;)persistenceManager.detachCopyAll(results);\n            q.closeAll();\n        }\n        return results;\n    }\n</code></pre>\n\n<p>Following Exception occurs (line 116 is where I try to detach the result list):</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.google.appengine.datanucleus.query.QueryEntityPKFetchFieldManager.fetchLongField(QueryEntityPKFetchFieldManager.java:74)\n    at org.datanucleus.identity.IdentityUtils.getApplicationIdentityForResultSetRow(IdentityUtils.java:101)    \n    at com.google.appengine.datanucleus.EntityUtils.entityToPojo(EntityUtils.java:1009)\n    at com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:227)\n    at com.google.appengine.datanucleus.query.DatastoreQuery$2.apply(DatastoreQuery.java:224)\n    at com.google.appengine.datanucleus.query.LazyResult.resolveNext(LazyResult.java:96)\n    at com.google.appengine.datanucleus.query.LazyResult$LazyAbstractListIterator.computeNext(LazyResult.java:229)\n    at com.google.appengine.datanucleus.query.AbstractIterator.tryToComputeNext(AbstractIterator.java:131)\n    at com.google.appengine.datanucleus.query.AbstractIterator.hasNext(AbstractIterator.java:126)\n    at com.google.appengine.datanucleus.query.LazyResult$AbstractListIterator.hasNext(LazyResult.java:183)\n    at org.datanucleus.api.jdo.JDOPersistenceManager.detachCopyAll(JDOPersistenceManager.java:1213)\n    at ch.mttb.clientmanagement.service.impl.DefaultUserService.findUserByEmail(DefaultUserService.java:116)\n    at ch.mttb.clientmanagement.service.test.UserServiceTest.persistUserTest(UserServiceTest.java:44)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Im using the jars from the GAE SDK 1.7.2, the datanucleus jars are the following:</p>\n\n<p>datanucleus-api-jdo-3.1.0-m3.jar\ndatanucleus-api-jpa-3.1.0-m3.jar\ndatanucleus-appengine-2.1.0-final.jar\ndatanucleus-core3.1.0-m5.jar</p>\n\n<p>My enhancer.log files still are empty. I configured Logging as follows:\nPut log4j.properites und WEB-INF\nPut log4j-1.2.17.jar to the build path</p>\n\n<p>log4j.properties:</p>\n\n<pre><code>log4j.appender.A1=org.apache.log4j.ConsoleAppender\nlog4j.appender.A1.layout=org.apache.log4j.PatternLayout\nlog4j.appender.A1.layout.ConversionPattern=%d{HH:mm:ss,SSS} %-5p [%c] - %m%n\n\n\nlog4j.category.DataNucleus.JDO=WARN, A1\nlog4j.category.DataNucleus.Persistence=WARN, A1\nlog4j.category.DataNucleus.Cache=WARN, A1\nlog4j.category.DataNucleus.MetaData=WARN, A1\nlog4j.category.DataNucleus.General=WARN, A1\nlog4j.category.DataNucleus.Utility=WARN, A1\nlog4j.category.DataNucleus.Transaction=WARN, A1\nlog4j.category.DataNucleus.Datastore=WARN, A1\nlog4j.category.DataNucleus.ClassLoading=WARN, A1\nlog4j.category.DataNucleus.Plugin=WARN, A1\nlog4j.category.DataNucleus.ValueGeneration=WARN, A1\nlog4j.category.DataNucleus.Enhancer=WARN, A1\nlog4j.category.DataNucleus.SchemaTool=WARN, A1\n</code></pre>\n\n<p>Im using eclipse juno.</p>\n\n<p>Log Output when runnig junit test:</p>\n\n<pre><code>18:3811,450 DEBUG [DataNucleus.Plugin] - Plugin Registry \"org.datanucleus.plugin.EclipsePluginRegistry\" not found. Falling back to DataNucleus registry. Reason : Class \"org.eclipse.core.runtime.RegistryFactory\" was not found in the CLASSPATH. Please check your specification and your CLASSPATH..\n18:3811,452 DEBUG [DataNucleus.Plugin] - Using PluginRegistry org.datanucleus.plugin.NonManagedPluginRegistry\n18:3811,464 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus.api.jpa version 3.1.0.m3 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar.\n18:3811,471 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar!/plugin.xml.\n18:3811,472 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jpa-3.1.0-m3.jar!/plugin.xml.\n18:3811,476 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus version 3.1.0.m5 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar.\n18:3811,506 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar!/plugin.xml.\n18:3811,535 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-core-3.1.0-m5.jar!/plugin.xml.\n18:3811,540 DEBUG [DataNucleus.Plugin] - Registering bundle com.google.appengine.datanucleus version 2.1.0 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar.\n18:3811,549 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar!/plugin.xml.\n18:3811,554 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-appengine-2.1.0-final.jar!/plugin.xml.\n18:3811,558 DEBUG [DataNucleus.Plugin] - Registering bundle org.datanucleus.api.jdo version 3.1.0.m3 at URL file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar.\n18:3811,564 DEBUG [DataNucleus.Plugin] - Loading extension points from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar!/plugin.xml.\n18:3811,567 DEBUG [DataNucleus.Plugin] - Loading extensions from plug-in file jar:file:/C:/eclipse/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2.1/appengine-java-sdk-1.7.2.1/lib/opt/user/datanucleus/v2/datanucleus-api-jdo-3.1.0-m3.jar!/plugin.xml.\n18:3811,587 INFO  [DataNucleus.Persistence] - Property datanucleus.appengine.singletonPMFForName unknown - will be ignored\n18:3811,587 INFO  [DataNucleus.Persistence] - Property datanucleus.appengine.autoCreateDatastoreTxns unknown - will be ignored\n18:3811,602 DEBUG [DataNucleus.Persistence] - Java types support initialising ...\n18:3811,603 DEBUG [DataNucleus.Persistence] - Java type [B (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [C (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [D (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [F (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [I (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [J (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [S (persistent=true, DFG=true, embedded=true)\n18:3811,604 DEBUG [DataNucleus.Persistence] - Java type [Z (persistent=true, DFG=true, embedded=true)\n18:3811,605 DEBUG [DataNucleus.Persistence] - Java type [Ljava.lang.Boolean; (persistent=true, DFG=true, embedded=true)\n\nsame for many types\n\n18:3811,651 DEBUG [DataNucleus.Persistence] - Java type [Lcom.google.appengine.api.users.User; (persistent=true, DFG=true, embedded=true)\n\nsame for typed Collections, Lists and Sets\n\n\n18:3811,659 DEBUG [DataNucleus.Persistence] - Java types support loaded\n18:3811,659 DEBUG [DataNucleus.Persistence] - Type converter support initialising ...\n18:3811,660 DEBUG [DataNucleus.Persistence] - Added converter for java.math.BigDecimal&lt;-&gt;java.lang.String using org.datanucleus.store.types.converters.BigDecimalStringConverter\n\nlot more converters added...\n\n18:3811,667 DEBUG [DataNucleus.Persistence] - Added converter for java.util.UUID&lt;-&gt;java.lang.String using org.datanucleus.store.types.converters.UUIDStringConverter\n18:3811,667 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalDate&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,668 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalTime&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalTime&lt;-&gt;java.lang.Long ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - TypeConverter for javax.time.calendar.LocalDateTime&lt;-&gt;java.lang.String ignored since java type not present in CLASSPATH\n18:3811,669 DEBUG [DataNucleus.Persistence] - Type converter support loaded\n18:3811,670 DEBUG [DataNucleus.MetaData] - MetaDataManager : Input=(XML,Annotations), XML-Validation=false, XML-Suffices=(persistence=*.jdo, orm=orm, query=*.jdoquery), JDO-listener=true\n18:3811,670 DEBUG [DataNucleus.MetaData] - Registering listener for metadata initialisation\n18:3811,674 DEBUG [DataNucleus.MetaData] - Listener found initialisation for persistable class my.company.domain.User\n18:3811,676 DEBUG [DataNucleus.MetaData] - MetaData of type \"jdo\" for class \"my.company.domain.User\" NOT found at /META-INF/package.jdo\n\nsame for many different locations\n\n18:3811,724 DEBUG [DataNucleus.MetaData] - Class \"my.company.domain.User\" has been specified with JDO annotations so using those.\n18:3811,743 DEBUG [DataNucleus.MetaData] - Populating Meta-Data for class my.company.domain.User.\n18:3811,743 DEBUG [DataNucleus.MetaData] - MetaData of type \"orm\" for class \"my.company.domain.User\" NOT found at /META-INF/package.orm\n\nsame for many different locations\n\n18:3811,755 DEBUG [DataNucleus.Datastore] - Creating StoreManager for datastore\n18:3811,772 DEBUG [DataNucleus.Connection] - Registered transactional connection factory under name \"appengine\"\n18:3811,773 DEBUG [DataNucleus.Connection] - Registered nontransactional connection factory under name \"appengine-nontx\"\n18:3811,804 DEBUG [DataNucleus.Datastore] - ======================= Datastore =========================\n18:3811,805 DEBUG [DataNucleus.Datastore] - StoreManager : \"appengine\" (com.google.appengine.datanucleus.DatastoreManager)\n18:3811,805 DEBUG [DataNucleus.Datastore] - AutoStart : mechanism=None, mode=Quiet\n18:3811,805 DEBUG [DataNucleus.Datastore] - Datastore : read-write\n18:3811,805 DEBUG [DataNucleus.Datastore] - Schema Control : AutoCreate(None), Validate(None)\n18:3811,805 DEBUG [DataNucleus.Datastore] - Query Languages : [JDOQL, JPQL]\n18:3811,805 DEBUG [DataNucleus.Datastore] - Queries : Timeout=0\n18:3811,805 DEBUG [DataNucleus.Datastore] - ===========================================================\n18:3811,805 DEBUG [DataNucleus.Datastore] - StorageVersion : READ_OWNED_CHILD_KEYS_FROM_PARENTS\n18:3811,805 DEBUG [DataNucleus.Datastore] - Default Relation Mode : owned\n18:3811,805 DEBUG [DataNucleus.Datastore] - ===========================================================\n18:3811,819 DEBUG [DataNucleus.Datastore] - StoreManager now created\n18:3811,819 DEBUG [DataNucleus.Persistence] - ================= Persistence Configuration ===============\n18:3811,819 DEBUG [DataNucleus.Persistence] - DataNucleus Persistence Factory - Vendor: \"DataNucleus\"  Version: \"3.1.0.m5\"\n18:3811,819 DEBUG [DataNucleus.Persistence] - DataNucleus Persistence Factory initialised for datastore URL=\"appengine\" driver=\"\" userName=\"\"\n18:3811,819 DEBUG [DataNucleus.Persistence] - JDK : 1.7.0_05 on Windows 7\n18:3811,819 DEBUG [DataNucleus.Persistence] - Persistence API : JDO\n18:3811,819 DEBUG [DataNucleus.Persistence] - Plugin Registry : org.datanucleus.plugin.NonManagedPluginRegistry\n18:3811,820 DEBUG [DataNucleus.Persistence] - Standard Options : pm-singlethreaded, retain-values, nontransactional-read, nontransactional-write, serverTimeZone=UTC\n18:3811,820 DEBUG [DataNucleus.Persistence] - Persistence Options : reachability-at-commit managed-relations(checked) deletion-policy=JDO2\n18:3811,820 DEBUG [DataNucleus.Persistence] - Transactions : type=RESOURCE_LOCAL mode=datastore isolation=read-committed\n18:3811,820 DEBUG [DataNucleus.Persistence] - Value Generation : txn-isolation=read-committed connection=New\n18:3811,820 DEBUG [DataNucleus.Persistence] - ClassLoading : jdo\n18:3811,820 DEBUG [DataNucleus.Persistence] - Cache : Level1 (soft), Level2 (soft, mode=UNSPECIFIED), QueryResults (soft), Collections/Maps \n18:3811,820 DEBUG [DataNucleus.Persistence] - ===========================================================\n18:3811,823 DEBUG [DataNucleus.Cache] - Level 2 Cache of type \"soft\" initialised\n18:3811,849 DEBUG [DataNucleus.Persistence] - Implementation creator not configured. Due to that, support for 'persistent interfaces' (\"PersistenceManager.newInstance()\") was disabled!\n18:3811,851 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3811,855 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@3e5b3b80\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@2491c82e\"\n18:3811,859 DEBUG [DataNucleus.MetaData] - Initialising Meta-Data for class my.company.domain.User.\n18:3811,860 DEBUG [DataNucleus.Persistence] - Making object persistent : \"my.company.domain.User@78871dc5\"\n18:3811,882 INFO  [DataNucleus.MetaData] - Performing appengine-specific metadata validation for my.company.domain.User\n18:3811,883 INFO  [DataNucleus.MetaData] - Finished performing appengine-specific metadata validation for my.company.domain.User\n18:3811,904 DEBUG [DataNucleus.Persistence] - Managing Persistence of Class : my.company.domain.User [Table : my.company.domain.User, InheritanceStrategy : new-table]\n18:3811,918 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@79e479a3\n18:3811,919 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3811,921 DEBUG [DataNucleus.Datastore.Native] - Putting entity of kind User with key User(no-id-yet) as {tenantId[0], password[password], name[johnDoe], adminPrivileges[false], key[0], }\nOkt 11, 2012 6:38:11 PM com.google.appengine.api.datastore.dev.LocalDatastoreService init\nINFO: Local Datastore initialized: \n    Type: Master/Slave\n    Storage: In-memory\n18:3812,064 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") added to Level 1 cache (loadedFlags=\"[YYYYY]\")\n18:3812,064 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,064 DEBUG [DataNucleus.Persistence] - ObjectManager.internalFlush() process started using ordered flush - 1 dirty objects\n18:3812,066 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.query.cache.SoftQueryCompilationCache\" initialised\n18:3812,067 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.store.query.cache.SoftQueryDatastoreCompilationCache\" initialised\n18:3812,068 DEBUG [DataNucleus.Cache] - Query Cache of type \"org.datanucleus.store.query.cache.SoftQueryResultsCache\" initialised\n18:3812,068 DEBUG [DataNucleus.Persistence] - ObjectManager.internalFlush() process finished\n18:3812,070 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@78871dc5\" (id=\"1\") added to Level 2 cache (fields=\"[0, 1, 2, 3, 4]\", version=\"\")\n18:3812,070 DEBUG [DataNucleus.Lifecycle] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") has a lifecycle change : \"P_NEW\"-&gt;\"P_NONTRANS\"\n18:3812,070 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@78871dc5\" (id=\"my.company.domain.User:1\") being evicted from transactional cache\n18:3812,071 DEBUG [DataNucleus.Persistence] - Detaching copy of object : \"my.company.domain.User@78871dc5\" (depth=0) - will be \"my.company.domain.User@43ae24e3\"\n18:3812,073 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee] but owner object closing so closing connection\n18:3812,073 DEBUG [DataNucleus.Connection] - Connection removed from the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@7303d690 for key=org.datanucleus.ObjectManagerImpl@3e5b3b80 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,073 DEBUG [DataNucleus.Persistence] - Disconnecting my.company.domain.User@78871dc5 from StateManager[pc=my.company.domain.User@78871dc5, lifecycle=P_NONTRANS]\n18:3812,073 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" being removed from Level 1 cache [current cache size = 1]\n18:3812,073 DEBUG [DataNucleus.Cache] - Level 1 Cache cleared\n18:3812,074 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@3e5b3b80\" closed\n18:3812,075 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3812,075 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@1f6aa236\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@11bf9757\"\n18:3812,077 DEBUG [DataNucleus.Cache] - Object with id \"my.company.domain.User:1\" not found in Level 1 cache [cache size = 0]\n18:3812,077 DEBUG [DataNucleus.Cache] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") added to Level 1 cache (loadedFlags=\"[NNYNN]\")\n18:3812,079 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" taken from Level 2 cache (fields=\"[0, 1, 2, 3, 4]\", version=\"\") - represented as \"my.company.domain.User@6ccc45d2\"\n18:3812,079 DEBUG [DataNucleus.Lifecycle] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") has a lifecycle change : \"P_CLEAN\"-&gt;\"P_NONTRANS\"\n18:3812,079 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") being evicted from transactional cache\n18:3812,079 DEBUG [DataNucleus.Transaction] - Object \"my.company.domain.User@6ccc45d2\" (id=\"my.company.domain.User:1\") is not transactional\n18:3812,079 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@18d1287b\n18:3812,079 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,080 DEBUG [DataNucleus.Datastore.Native] - Getting entity of kind User with key User(1)\n18:3812,088 DEBUG [DataNucleus.Persistence] - Detaching copy of object : \"my.company.domain.User@6ccc45d2\" (depth=0) - will be \"my.company.domain.User@13997783\"\n18:3812,088 DEBUG [DataNucleus.Connection] - Connection found in the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee] but owner object closing so closing connection\n18:3812,088 DEBUG [DataNucleus.Connection] - Connection removed from the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@4bb8aff7 for key=org.datanucleus.ObjectManagerImpl@1f6aa236 in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,088 DEBUG [DataNucleus.Persistence] - Disconnecting my.company.domain.User@6ccc45d2 from StateManager[pc=my.company.domain.User@6ccc45d2, lifecycle=P_NONTRANS]\n18:3812,088 DEBUG [DataNucleus.Cache] - Object with id=\"my.company.domain.User:1\" being removed from Level 1 cache [current cache size = 1]\n18:3812,088 DEBUG [DataNucleus.Cache] - Level 1 Cache cleared\n18:3812,089 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@1f6aa236\" closed\n18:3812,090 DEBUG [DataNucleus.Cache] - Level 1 Cache of type \"soft\" initialised\n18:3812,090 DEBUG [DataNucleus.Persistence] - Object Manager \"org.datanucleus.ObjectManagerImpl@5244c8cc\" opened for datastore \"com.google.appengine.datanucleus.DatastoreManager@579f707b\" with txn=\"org.datanucleus.TransactionImpl@21daf346\"\n18:3812,107 DEBUG [DataNucleus.Query] - JDOQL Query : Compiling \"SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\"\n18:3812,115 DEBUG [DataNucleus.General] - Class String was resolved to be java.lang.String. It wasnt defined fully-qualified so had to be looked up; you can avoid the lookup (and improve performance) by fully-qualifying the class in the query.\n18:3812,122 DEBUG [DataNucleus.Query] - JDOQL Query : Compile Time = 15 ms\n18:3812,123 DEBUG [DataNucleus.Query] - QueryCompilation:\n  [filter:DyadicExpression{PrimaryExpression{name}  =  ParameterExpression{nameParam}}]\n  [symbols: nameParam type=java.lang.String, this type=my.company.domain.User]\n18:3812,123 DEBUG [DataNucleus.Query] - JDOQL Query : Executing \"SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\" ...\n18:3812,125 DEBUG [DataNucleus.Query] - Query compiled as : Kind=my.company.domain.User Filter : name=johnDoe\n18:3812,130 DEBUG [DataNucleus.Datastore.Native] - Executing query in datastore for SELECT UNIQUE FROM my.company.domain.User WHERE name == nameParam PARAMETERS String nameParam\n18:3812,146 DEBUG [DataNucleus.Connection] - Created ManagedConnection using DatastoreService = com.google.appengine.api.datastore.DatastoreServiceImpl@3e36cb\n18:3812,146 DEBUG [DataNucleus.Connection] - Connection added to the pool : com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl$DatastoreManagedConnection@747f498c for key=org.datanucleus.ObjectManagerImpl@5244c8cc in factory=ConnectionFactory:nontx[com.google.appengine.datanucleus.DatastoreConnectionFactoryImpl@fbc2ee]\n18:3812,146 DEBUG [DataNucleus.Query] - JDOQL Query : Execution Time = 23 ms\n</code></pre>\n\n<p>(I removed several duplicate lines)</p>\n\n<p>Kind regards,\nmichael</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12847048,"title":"Cursor cannot be resolved error","body":"<p>Anyone have experienced this error below:</p>\n\n<pre><code>The type com.google.appengine.api.datastore.Cursor cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n\n<p>I've done doing project clean but still have this error with my Eclipse project.</p>\n"},{"tags":["python","google-app-engine","go"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12845400,"title":"Exclude files from causing GAE server restart","body":"<p>Is there a way to avoid GAE server restart when the file within the root of my application changes. I use Go (GAE server is python based) runtime. </p>\n\n<p>The intention is not to reload the server when some of my files (html, css, js files; which are under /static folder) changes. This is to avoid startup time during development. Any way to exclude them from file watch.</p>\n\n<p>thanks.</p>\n"},{"tags":["python","database","google-app-engine","hadoop","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12844933,"title":"How to group product based on attribute?","body":"<p>I have product data from different sources. </p>\n\n<p>I want to put information related to a product in one place. </p>\n\n<p>For example, I want to put information related to Iphone-5 from all sources to one place. </p>\n\n<p>Here is the problem , all source dont have data in same way. for example for same product they have different name, some will have color with name but some will not. </p>\n\n<p>Sample data :</p>\n\n<pre><code>Brand     |  Product Name                                   | Source | Information\nDell      |  Dell inspriron 15R 5050(Core i5/4gb/500/GB/Dos | Rev_Src| Very good product.\nDell      |  Dell inspriron 15R 5050, color: black/Blue     | Spc_Src| Ram | 4gb DDR3, Proce : 15 etc\nDell      | Dell inspriron 15r 5050 in  black color          | Stk_SRC| Available in India\nDEll      | Window 7 with Dell inspiron 15r 5050 4gb ram    |usr_src | good performance\n</code></pre>\n\n<p>Like we have data for many more product,</p>\n\n<p>Out put, \nI want information like,</p>\n\n<pre><code>Brand| Product                 | information\nDell | Dell inspiron 15 r 5050 | {Rev_Src : very good product, Rev_Src : Ram | 4 gb..., Stk_Src : available, Usr_Src : good performance}\n</code></pre>\n\n<p>Issue : Product name is not in same format in all the sources</p>\n\n<p>I am looking for solution, Will map-reduce help? </p>\n\n<p>If yes then should I go for Google App Engine(map reduce lib) with datastore or Hadoop.</p>\n\n<p>Note : I am working on Google App Engine based Application.</p>\n"},{"tags":["java","google-app-engine","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12845516,"title":"Google App Engine Java low level Datastore API","body":"<p>Python's low level Datastore API provides possibilities to set typed properties. (like \"setStringProperty\".</p>\n\n<p>Does Java low level Datastore API provide typed properties aswell?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12843738,"title":"What are Datastore Entity Fetch Ops?","body":"<p>I have a problem in my GAE app. I have too many Datastore Entity Fetch Ops but I don't know where they come from... </p>\n\n<p>Does anybody know what makes Datastore Entity Fetch Ops???</p>\n"},{"tags":["python","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":3149897,"title":"Python Google App Engine: How do you find the count number of a particular entity in the datastore?","body":"<p>I want to be able to give each instance of a particular object a unique number id in the order that they are created, so I was thinking of getting the number of the particular entity already in the datastore and add 1 to get the new number.</p>\n\n<p>I know I can do something like </p>\n\n<pre><code>query = Object.all()\ncount = query.count()\n</code></pre>\n\n<p>but that has some limitations.</p>\n\n<p>Does anybody know a better way to find the number of particular entities or even a better way to give objects a unique sequential number id? </p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine","count"],"answer_count":5,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":3987,"score":10,"question_id":795817,"title":"Google AppEngine: how to count a database's entries beyond 1000?","body":"<p><strong>Duplicate of</strong> <a href=\"http://stackoverflow.com/questions/751124/how-does-one-get-a-count-of-rows-in-a-datastore-model-in-google-appengine\">\"how does one get a count of rows in a datastore model in google appengine?\"</a></p>\n\n<p><hr /></p>\n\n<p>I'm having big trouble.</p>\n\n<p>I want to know how many users I have... I did: </p>\n\n<p>users = UserStore.all()<br>\nuser_count=users.count()</p>\n\n<p>quite simple...\nBut now I have more than 1000 users and this method continues to return 1000.</p>\n\n<p>Is there any other way of knowing how many users I have? \n(obviously, I want a dynamic way of doing so, I don't want to check the Dashboard)</p>\n\n<p>Please help me! I'm very lost and panicked </p>\n"},{"tags":["java","google-app-engine","geocoding"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12844661,"title":"proximitySearch from javageomodel discards legits points","body":"<p>I built a geomodel servlet as in <a href=\"http://code.google.com/p/javageomodel/\" rel=\"nofollow\">javageomodel</a> </p>\n\n<pre><code>GeocellQuery baseQuery = new GeocellQuery(\"SELECT x FROM ProfileEntity x\");\nList&lt;ProfileEntity&gt; objects = null;\n\nobjects = GeocellManager.proximitySearch(center, 60, 10000, ProfileEntity.class, baseQuery, em);\n</code></pre>\n\n<p>I have  a strange problem, although that i have 2 point in the same range they are discarded.</p>\n\n<pre><code>com.beoui.geocell.GeocellManager proximitySearch: Discarding result XXX because distance 3021964.9907576465m &gt; max distance 10000.0m\n</code></pre>\n\n<p>Any clue why?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12843403,"title":"Passing a list/array as request parameter in GAE","body":"<p>i'd like to know how to pass arrays as REST arguments in a GAE request. My concrete intention is to get an array of ints.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12824880,"title":"Store & index List of Strings in Google AppEngine","body":"<p>I am using AppEngine's native Datastore API to store objects in Java.</p>\n\n<p>I have a requirement to search on various items in an object - eg: email address, subject of email, from name etc. It should show the results even for partial input - like real-time searches.</p>\n\n<p>To achieve that, I am tokenizing the items into possible inputs into fragments using StringUtils2.breakdownFragments - the string \"Foo Bar\" would become: \"f\", \"fo\", \"foo\", \"b\", \"ba\", \"bar\" </p>\n\n<p>What I do not understand is how can I give this list of Strings to be indexed and how can I retrieve them back applying filters?</p>\n\n<p>While using JDO or Objectify, I see it to relatively straight forward but using it via the native API, I do not how to do it.</p>\n\n<p>Entity does not take a list to be stored.</p>\n\n<p>Can it even be done? </p>\n"},{"tags":["google-app-engine","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12832782,"title":"What is the purpose of ancestors in the google app engine datastore?","body":"<p>I have been playing around with google app engine and its datastore recently and created a datamodel and relationships using reference properties. </p>\n\n<p>However I am unclear about the concept of ancestors wrt the datastore. What is their purpose and why should I use them? How do they relate to reference properties of datastore entities?</p>\n"},{"tags":["java","google-app-engine","jpa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12843127,"title":"How do I change parents of one entity in GAE datastore using JPA?","body":"<p>How can I remove one entity from its parent and add it to another parent?\nHere is my code. <code>Team</code> has a <code>List&lt;Player&gt;</code>, and <code>Player</code> has an association to its parent:</p>\n\n<pre><code>Player player = entityManager.find(Player.class, playerKey);\nTeam team1 = player.getTeam();\nteam1.getPlayers().remove(player); // this action will cascade the deletion of player;\nentityManager.merge(team1);\n\nTeam team2 = entityManager.find(Team.class, team2Key);\nteam2.getPlayers().add(player);\nentityManager.merge(team2);\n</code></pre>\n\n<p>This is what I want to do, but will result in failure. I thought I could use <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html#detach%28java.lang.Object%29\" rel=\"nofollow\"><code>entityManager.detach(player)</code></a> to use in the other team, but this method is not available in the GAE jar (?).</p>\n"},{"tags":["java","google-app-engine","google","deployment"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":130,"score":4,"question_id":11221557,"title":"Google App Engine Deployment Error 409","body":"<p>I am getting <code>error 409 Conflict</code> with following message</p>\n\n<blockquote>\n  <p>Deployment of this version has not yet started</p>\n</blockquote>\n\n<p>I tried to deploy to new version, update existing version and also tried rollback but during deployment everything goes fine until the last step and it finally displays</p>\n\n<blockquote>\n  <p>Uploading 0 Files</p>\n  \n  <p>Deployment of this version has not yet started</p>\n</blockquote>\n"},{"tags":["google-app-engine","hyperlink","pytz","zoneinfo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12840525,"title":"Is there a URL for pytz zoneinfo for gae?","body":"<p>Is there a URL link available containing the zone names like in the file zoneinfo.zip distributed with pytz.gae? </p>\n"},{"tags":["javascript","jquery","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12841111,"title":"XMLHttpRequest from Google App Engine app to other Google App engine app (different ports)","body":"<p>I'm attempting to make an XMLHttpRequest (i.e. $.ajax) from a google app engine application (front-end) to another google app engine app (back-end that returns JSON), however, when I try the call always fails ... probably because the user from the first application is not logged into the second application, I was wondering if some of you had the same issue and how is it possible to resolve it.</p>\n\n<p>(GAE Java SDK)</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","proxy","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12838868,"title":"appcfg appengine 502 Proxy error in localhost","body":"<p>I am trying to upload some data to my local datastore in appengine.\nThe command I am using is the next one:</p>\n\n<pre><code>    appcfg.py upload_data --config_file=\"C:\\config.yml\" --filename=\"C:\\mycsv.csv\" --url=http://localhost:8888/remote_api --kind=MyEntity\n</code></pre>\n\n<p>The problem is that I'm working behind my company proxy and I am getting the next ERROR even trying to connect to the localhost server:</p>\n\n<pre><code>    Error Code: 502 Proxy Error. The ISA Server denied the specified Uniform Resource Locator (URL). (12202)\n</code></pre>\n\n<p>It seems the authentication is ok, but somehow the proxy tries to filter my connection to my own computer.</p>\n\n<p>Some ideas about how can I solve this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["android","google-app-engine","http-status-code-404","google-cloud-endpoints"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":107,"score":1,"question_id":12723701,"title":"Appengine connected Android prj got 404 on mobile test","body":"<p>I got my android+appengine application (endpoint) up and running, everything works fine on my local machine, so I decided to upload my appengine code so that I can try accessing data through the Android application directly on my mobile phone.</p>\n\n<p>When I try to call to my appengine backend, I got 404 error.</p>\n\n<p>On browser if I try to call for http://[myAppID].appspot.com/_ah/spi I get:</p>\n\n<pre><code>Error: HTTP method GET is not supported by this URL \n</code></pre>\n\n<p>So the main serlvet is responding, what am I doing wrong??</p>\n\n<p>(Permission for Internet granted!)</p>\n\n<p>Thanks in advance!!</p>\n\n<p>here's the code, this is executed inside an AsyncTask:</p>\n\n<pre><code>        Builder endpointBuilder = new Myendpoint.Builder(AndroidHttp.newCompatibleTransport(), new JacksonFactory(), new HttpRequestInitializer() {\n            public void initialize(HttpRequest httpRequest) {\n            }\n        });\n\n        Myendpoint endpoint = CloudEndpointUtils.updateBuilder(endpointBuilder).build();\n\n        try {\n\n            MyUsers result = endpoint.searchMyUser(params[0]).execute();\n\n            return result.getItems().get(0);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n</code></pre>\n\n<p>This is the code inside CloudEnpointUtils (obviously LOCAL_ANDROID_RUN is set to false) :</p>\n\n<pre><code>public static &lt;B extends GoogleClient.Builder&gt; B updateBuilder(B builder) {\n    if (LOCAL_ANDROID_RUN) {\n        builder.setRootUrl(LOCAL_APP_ENGINE_SERVER_URL + \"/_ah/api/\");\n    }\n    // only enable GZip when connecting to remote server\n    final boolean enableGZip = builder.getRootUrl().startsWith(\"https:\");\n    builder.setJsonHttpRequestInitializer(new JsonHttpRequestInitializer() {\n        public void initialize(JsonHttpRequest jsonHttpRequest) {\n            jsonHttpRequest.setEnableGZipContent(enableGZip);\n        }\n    });\n    return builder;\n}\n</code></pre>\n\n<p>I add the logcat for error:</p>\n\n<pre><code>10-04 11:40:22.770 W/System.err(13564): com.google.api.client.googleapis.json.GoogleJsonResponseException: 404 Not Found\n10-04 11:40:22.770 W/System.err(13564): Not Found\n10-04 11:40:22.775 W/System.err(13564):     at com.google.api.client.googleapis.services.GoogleClient.executeUnparsed(GoogleClient.java:279)\n10-04 11:40:22.775 W/System.err(13564):     at com.google.api.client.http.json.JsonHttpRequest.executeUnparsed(JsonHttpRequest.java:207)\n10-04 11:40:22.775 W/System.err(13564):     at com.appspot.api.services.myuserendpoint.Myuserendpoint$SearchMyUser.execute(Myuserendpoint.java:702)\n10-04 11:40:22.775 W/System.err(13564):     at it.my.my.app.core.MyBusinessDelegate$MyUserGetter.doInBackground(MyBusinessDelegate.java:303)\n10-04 11:40:22.775 W/System.err(13564):     at it.my.my.app.core.MyBusinessDelegate$MyUserGetter.doInBackground(MyBusinessDelegate.java:1)\n10-04 11:40:22.780 W/System.err(13564):     at android.os.AsyncTask$2.call(AsyncTask.java:264)\n10-04 11:40:22.780 W/System.err(13564):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n10-04 11:40:22.780 W/System.err(13564):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n10-04 11:40:22.780 W/System.err(13564):     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:208)\n10-04 11:40:22.785 W/System.err(13564):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n10-04 11:40:22.785 W/System.err(13564):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n10-04 11:40:22.785 W/System.err(13564):     at java.lang.Thread.run(Thread.java:856)\n</code></pre>\n\n<p>EDIT: AppEngine DeployLog</p>\n\n<pre><code>------------ Deploying frontend ------------\n\n Preparing to deploy:\n    Created staging directory at:  'C:\\Users\\XXXXXXXXX\\AppData\\Local\\Temp\\appcfg1884750854541661749.tmp'\n    Scanning for jsp files.\n    Compiling jsp files.\n    Scanning files on local disk.\n    Initiating update.\n    Cloning 1 static files.\n    Cloning 66 application files.\n\nDeploying:\n    Uploading 0 files.\n    Initializing precompilation...\n    Deploying new version.\n\nVerifying availability:\n    Will check again in 1 seconds.\n    Will check again in 2 seconds.\n    Will check again in 4 seconds.\n    Closing update: new version is ready to start serving.\n\nUpdating datastore:\n    Uploading index definitions.\n\nDeployment completed successfully\n</code></pre>\n\n<p>EDIT2: other infos</p>\n\n<p>I've tried to communicate with a java servlet I've put in appengine war, via browser there's no problem everything is working fine, if I try to ping from command line or try to communicate programmatically I have this error:</p>\n\n<pre><code>\"Unable to resolve host \"[myappID].appspot.com\": No address associated with  hostname\"\n</code></pre>\n\n<p>Please anybody help me find a solution</p>\n\n<p>EDIT 3:\nGood news, I've been able to call my servlet using the appengine address with version that is:</p>\n\n<pre><code>http://[version].[myAppID].appspot.com/myServlet\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>http://[myAppID].appspot.com/myServlet \n</code></pre>\n\n<p>I don't know why but this way it'works! Still no luck trying to call remote appengine app via endpoint even using version-address trick, hope this help!</p>\n"},{"tags":["java","google-app-engine","google"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12720225,"title":"Google app engine openID login redirect with query string","body":"<p>I am using OpenID federated login in my app engine application. I have encountered the following problem when using redirects after login. </p>\n\n<p>Login URLs generated using <code>userService.createLoginURL()</code> remove query strings when redirecting to the callback URL.  </p>\n\n<p>As an example, clicking the login link from the URL <code>/handler?QueryString</code> will redirect to <code>/handler</code> after logging in, and the <code>QueryString</code> parameter will not be provided.  </p>\n\n<p>I think this is the same problem described in <a href=\"https://groups.google.com/forum/?hl=en&amp;fromgroups=#!topic/google-appengine/ugzZ_-vo_PE\" rel=\"nofollow\">this thread</a>.</p>\n\n<p>I would like to know the cause behind this issue and also possible workarounds. </p>\n"},{"tags":["google-app-engine","migration","database-migration"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12768009,"title":"HRD migration broke datastore queries & indexes","body":"<p>Google appengine HRD migration has been a nightmare for me. I migrated my 55GB datastore to HRD yesterday. Since then many queries and indexes are broken:</p>\n\n<p><strong>Some examples</strong>:</p>\n\n<ul>\n<li>Select * from table1 where col1=val1  => query.get() returns empty in\npython. However, it works in datastore viewer. </li>\n<li>Select * from table1\nwhere col1=val1  => query.count()>0. However query.get() = empty. </li>\n<li>Select * from table1 where col1=val1 order by col2 desc => Almost\nhalf of the rows are getting missed in the response. Same behavior in\ndatastore viewer.</li>\n</ul>\n\n<p>How do I get these tables and indexes repaired? Any way of getting Google Appengine team support for addressing this issue? Its a GAE Migration tool bug.</p>\n\n<p>Will appreciate any help.</p>\n"},{"tags":["java","android","google-app-engine","xmpp","smack"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12826011,"title":"How to send a XMPP message from Android to GAE using Smack","body":"<p>I want to send XMPP message from my android client to GAE Server using Smack.\nI read <a href=\"http://davanum.wordpress.com/2008/12/29/updated-xmpp-client-for-android/\" rel=\"nofollow\">this post</a> with gmail settings and got the idea of how it should be done. But I don't how to setup the <code>host</code> and <code>serviceName</code> for my google app engine account.</p>\n\n<pre><code>String host = \"talk.google.com\";\nint port = 5222;\nString serviceName gmail.com;\n\nConnectionConfiguration connConfig = new ConnectionConfiguration(host ,port , serviceName);\n\nXMPPConnection connection = new XMPPConnection(connConfig);\nconnection.connect();\n\nMessage msg = new Message(to, Message.Type.chat);\nmsg.setBody(text);\nconnection.sendPacket(msg);\n</code></pre>\n"},{"tags":["eclipse","google-app-engine","gwt","eclipse-plugin"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1046,"score":0,"question_id":6800455,"title":"cannot install Google plugin in Eclipse","body":"<p>I want to install Google plugin, GAE and GWT on Eclipse i tried in different ways by trying to install all at once and only one at a time but i get this error</p>\n\n<pre><code>Cannot complete the install because one or more required items could not be found.\n  Software being installed: Google Web Toolkit SDK 2.3.0 2.3.0.r36v201105191508 (com.google.gwt.eclipse.sdkbundle.e36.feature.feature.group 2.3.0.r36v201105191508)\n  Missing requirement: Google Plugin for Eclipse 3.6 2.3.2.r36v201106211634 (com.google.gdt.eclipse.suite.e36.feature.feature.group 2.3.2.r36v201106211634) requires 'org.eclipse.pde.core 0.0.0' but it could not be found\n</code></pre>\n\n<p>i could install Android without any trouble.\ncan anybody help me to solve this?</p>\n\n<p>Thanks !!!</p>\n\n<p>EDIT : i am using Eclipse 3.6 - Helios</p>\n"},{"tags":["java","google-app-engine","cryptography","aes"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12833826,"title":"AES-256 implementation in GAE","body":"<p>256\nbut it doesnt seems to be working in GAE.I have download the \"Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files\" and local_policy.jar,US_export_policy.jar are present in C:\\Program Files\\Java\\jdk1.6.0_29\\jre\\lib\\security location.</p>\n\n<p>here is the code:</p>\n\n<pre><code>import java.security.spec.KeySpec;\nimport org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.*;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AESEncrypter {\n\nprivate static final byte[] SALT = {\n    (byte) 0xA9, (byte) 0x9B, (byte) 0xC8, (byte) 0x32,\n    (byte) 0x56, (byte) 0x35, (byte) 0xE3, (byte) 0x03\n};\nprivate static final int ITERATION_COUNT = 65536;\nprivate static final int KEY_LENGTH = 256;\nprivate Cipher ecipher;\nprivate Cipher dcipher;\n\nAESEncrypter(String passPhrase) throws Exception {\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(\"PBKDF2WithHmacSHA1\");\n    KeySpec spec = new PBEKeySpec(passPhrase.toCharArray(), SALT, ITERATION_COUNT, KEY_LENGTH);\n    SecretKey tmp = factory.generateSecret(spec);\n    SecretKey secret = new SecretKeySpec(tmp.getEncoded(), \"AES\");\n\n    ecipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    ecipher.init(Cipher.ENCRYPT_MODE, secret);\n\n    dcipher = Cipher.getInstance(\"AES/CBC/PKCS5Padding\");\n    byte[] iv = ecipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();\n    dcipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(iv));\n}\n\npublic String encrypt(String encrypt) throws Exception {\n    byte[] bytes = encrypt.getBytes(\"UTF8\");\n    byte[] encrypted = encrypt(bytes);\n    return new Base64().encodeBase64String(encrypted);\n}\n\npublic byte[] encrypt(byte[] plain) throws Exception {\n    return ecipher.doFinal(plain);\n}\n\npublic String decrypt(String encrypt) throws Exception {\n    byte[] bytes = new Base64().decodeBase64(encrypt);\n    byte[] decrypted = decrypt(bytes);\n    return new String(decrypted, \"UTF8\");\n}\n\npublic byte[] decrypt(byte[] encrypt) throws Exception {\n    return dcipher.doFinal(encrypt);\n}\n\npublic static void main(String[] args) throws Exception {\n\n    String message = \"MESSAGE\";\n    String password = \"PASSWORD\";\n\n    AESEncrypter encrypter = new AESEncrypter(password);\n    String encrypted = encrypter.encrypt(message);\n    String decrypted = encrypter.decrypt(encrypted);\n\n    System.out.println(\"Encrypt(\\\"\" + message + \"\\\", \\\"\" + password + \"\\\") = \\\"\" + encrypted + \"\\\"\");\n    System.out.println(\"Decrypt(\\\"\" + encrypted + \"\\\", \\\"\" + password + \"\\\") = \\\"\" + decrypted + \"\\\"\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Any help would be appreciated\nThanks!!</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12833174,"title":"Cannot see application when logging into GAE","body":"<p>We moved from an Exchange server to Google Apps and for shared contacts to work with Outlook, we installed Shared Groups on Google Apps Engine.</p>\n\n<p>Before the actual move, the app was tested in trial mode with an administrator account. However, the person that set everything up deleted this account from the Google Apps domain because the company didn't think they would move to Google Apps until recently.</p>\n\n<p>Now that the move has completed, I tried to install the Shared Groups application but it tells me this application is already installed for our domain.</p>\n\n<p>So I recreated the exact account that the other person set up to install this application and logged into GAE but I cannot see it in the console. There's no application there.</p>\n\n<p>Is there a way to have the application show up in the console because I can't edit the settings and enable billing. At the moment going to the application address returns \"Error: Server Error\".</p>\n\n<p>Thank you.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":2795,"score":2,"question_id":2810394,"title":"Export/Import datastore from/to google app engine","body":"<p>Hej,</p>\n\n<p>I want to export the datastore that i have running  in app engine into my local \"standalone\" version of the application. Anyone know how i can do that?  </p>\n\n<p>I've been looking arround in the app engine dashboard but can't find it.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12832271,"title":"getCurrentUser Magic in AppEngine - how does it work?","body":"<p>How does Google allow userService.getCurrentUser() to be called without having it passed HttpServletRequest request param? I am looking to extend UserService but it does not allow me to do that easily. </p>\n\n<p>I have created my own authentication mechanism which overlaps UserService so that I can allow Google supported users and users who will login automatically. But I am interested in knowing how can I send the getCurrentUser when called from any function.</p>\n\n<p>This is the current workflow</p>\n\n<p>Request to secure resource -> Filter -> set current user somewhere but I am not sure WHERE so that I can call it from the rest of the application without passing httprequests..</p>\n\n<p>in my code</p>\n\n<p>GetCurrentUser() should return the user set in the filter. Note that I will not be passing the original HttpServletRequest</p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12823532,"title":"Using GAE local testing with Objectify","body":"<p>I am trying to use the local testing helpers provided by google app engine to unit test my app which uses objectify. However, some of the tests fail with the following message;</p>\n\n<pre><code>com.google.apphosting.api.ApiProxy$CallNotFoundException: The API package 'datastore_v3' or call 'Put()' was not found.\n        at com.google.apphosting.api.ApiProxy$1.get(ApiProxy.java:164)\n        at com.google.apphosting.api.ApiProxy$1.get(ApiProxy.java:162)\n        at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n        at com.google.appengine.api.datastore.FutureHelper$CumulativeAggregateFuture.get(FutureHelper.java:145)\n        at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n        at com.googlecode.objectify.impl.ResultAdapter.now(ResultAdapter.java:29)\n        at com.googlecode.objectify.util.ResultWrapper.translate(ResultWrapper.java:20)\n        at com.googlecode.objectify.util.ResultWrapper.translate(ResultWrapper.java:1)\n        at com.googlecode.objectify.util.ResultTranslator.nowUncached(ResultTranslator.java:21)\n        at com.googlecode.objectify.util.ResultCache.now(ResultCache.java:27)\n        at com.googlecode.objectify.util.ResultWrapper.translate(ResultWrapper.java:20)\n        at com.googlecode.objectify.util.ResultWrapper.translate(ResultWrapper.java:1)\n        at com.googlecode.objectify.util.ResultTranslator.nowUncached(ResultTranslator.java:21)\n        at com.googlecode.objectify.util.ResultCache.now(ResultCache.java:27)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>private final LocalServiceTestHelper helper = new LocalServiceTestHelper(\n    new LocalDatastoreServiceTestConfig(),\n    new LocalMemcacheServiceTestConfig());\n\n@BeforeMethod(alwaysRun = true)\npublic void setUp() {\n    helper.setUp();\n}\n\n.....\n//In class constructor\nObjectifyService.register(SomeClass.class);\n.....\n@AfterMethod(alwaysRun = true)\npublic void tearDown() {\n    helper.tearDown();\n}\n\npublic void doTest {\n    SomeClass value = ......\n    ofy().save().entity(value).now(); //throws error\n}\n</code></pre>\n\n<p>Here is my dependency tree:</p>\n\n<pre><code>[INFO] |  +- com.google.guava:guava-collections:jar:r03:compile\n[INFO] |  |  +- com.google.guava:guava-annotations:jar:r03:compile\n[INFO] |  |  \\- com.google.guava:guava-primitives:jar:r03:compile\n[INFO] |  |     \\- com.google.guava:guava-base:jar:r03:compile\n[INFO] |  \\- com.google.inject.extensions:guice-servlet:jar:3.0:compile\n[INFO] +- com.google.inject:guice:jar:3.0:compile\n[INFO] |  +- com.google.api-client:google-api-client:jar:1.11.0-beta:compile\n[INFO] |  |  \\- com.google.oauth-client:google-oauth-client:jar:1.11.0-beta:compile\n[INFO] |  |     +- com.google.code.findbugs:jsr305:jar:1.3.9:compile\n[INFO] |  |     \\- com.google.guava:guava:jar:11.0.1:compile\n[INFO] |  +- com.google.appengine:appengine-api-1.0-sdk:jar:1.7.2:compile\n[INFO] |  \\- com.googlecode.objectify:objectify:jar:4.0a4:compile\n[INFO] |  +- com.google.appengine.orm:datanucleus-appengine:jar:1.0.10:runtime\n[INFO] |  \\- com.google.appengine:appengine-tools-sdk:jar:1.7.2:compile\n[INFO] +- com.google.appengine:appengine-api-labs:jar:1.7.2:test\n[INFO] +- com.google.appengine:appengine-api-stubs:jar:1.7.2:test\n[INFO] +- com.google.appengine:appengine-testing:jar:1.7.2:test\n[INFO] +- com.google.api-client:google-api-client-appengine:jar:1.10.3-beta:compile\n[INFO] |  +- com.google.oauth-client:google-oauth-client-appengine:jar:1.10.1-beta:compile\n[INFO] |  |  +- com.google.oauth-client:google-oauth-client-servlet:jar:1.10.1-beta:compile\n[INFO] |  +- com.google.api-client:google-api-client-servlet:jar:1.10.3-beta:compile\n[INFO] |  \\- com.google.http-client:google-http-client-appengine:jar:1.10.3-beta:compile\n[INFO] |     \\- com.google.http-client:google-http-client:jar:1.10.3-beta:compile\n[INFO] |        +- com.google.code.gson:gson:jar:2.1:compile\n[INFO] |        \\- com.google.protobuf:protobuf-java:jar:2.2.0:compile\n</code></pre>\n\n<p>Any idea what I am missing or am doing wrong?</p>\n"},{"tags":["javascript","google-app-engine","cookies","character-encoding","google-analytics"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12829113,"title":"Google Analytics Character encoding of __utm cookies","body":"<p>I'm trying to figure out what encoding GA uses when it saves cookies.  For example, I can use non-western characters when setting the utm_source parameter and they show up fine in the GA reports. However, if I look at the __utmz cookie, it does not match the value for utm_source parameter, instead is seems to be encoded somehow, I know there is URL encoding, but this is something different.</p>\n\n<p>Example:</p>\n\n<p>1) Visit www.example.com?utm_source=ХЦЧШЩЬЫЪЭЮЯ</p>\n\n<p>2) View cookies.  The __utmz cookie saves whatever value was given to utm_source param. It contains the value Ð¥Ð¦Ð§Ð¨Ð©Ð¬Ð«ÐªÐ­Ð®Ð¯ which seems to be encoded.</p>\n\n<p>3) click around on website then view GA reports.  You see ХЦЧШЩЬЫЪЭЮЯ as visit source, which is correct.</p>\n\n<p>I'm trying to write some JavaScript that will read the __utmz cookie and save it in a Google App Engine Datastore then successfully display it in an HTML page.  I've tried all types of encode(utf-8) decode(utf-8) solutions but nothing seems to work. I assume this is because I don't have the original encoding used when setting the cookie.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12831847,"title":"How to login User using UserService on AppEngine Java","body":"<p>I use UserService to manage my registrations (Federated and OAuth - Hybrid). I use User.getCurrentUser inside of the app at \"various\" places (non-servlets too) to determine who the current user is.</p>\n\n<p>I am giving out my API to allow users to call few methods which uses getCurrentUser. I can add a filter and control my authentication but I cannot force UserService to login a user which can be used in the rest of the app - User.getCurrentUser.</p>\n\n<p>I am stumped and am not sure how to continue at this point.</p>\n\n<p>Please help.</p>\n"},{"tags":["python","google-app-engine","import","module","concatenation"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":702,"score":2,"question_id":1580746,"title":"How to concatenate multiple Python source files into a single file?","body":"<p><em>(Assume that: application start-up time is absolutely critical; my application is started a lot; my application runs in an environment in which importing is slower than usual; many files need to be imported; and compilation to <code>.pyc</code> files is not available.)</em></p>\n\n<p>I would like to concatenate all the Python source files that define a collection of modules into a single new Python source file.</p>\n\n<p>I would like the result of importing the new file to be as if I imported one of the original files (which would then import some more of the original files, and so on).</p>\n\n<p>Is this possible?</p>\n\n<p>Here is a rough, manual simulation of what a tool might produce when fed the source files for modules 'bar' and 'baz'. You would run such a tool prior to deploying the code.</p>\n\n<pre><code>__file__ = 'foo.py'\n\ndef _module(_name):\n    import types\n    mod = types.ModuleType(name)\n    mod.__file__ = __file__\n    sys.modules[module_name] = mod\n    return mod\n\ndef _bar_module():\n\n    def hello():\n        print 'Hello World! BAR'\n\n    mod = create_module('foo.bar')\n    mod.hello = hello\n    return mod\n\nbar = _bar_module()\ndel _bar_module\n\ndef _baz_module():\n\n    def hello():\n        print 'Hello World! BAZ'\n\n    mod = create_module('foo.bar.baz')\n    mod.hello = hello\n    return mod\n\nbaz = _baz_module()\ndel _baz_module\n</code></pre>\n\n<p>And now you can:</p>\n\n<pre><code>from foo.bar import hello\nhello()\n</code></pre>\n\n<p>This code doesn't take account of things like import statements and dependencies. Is there any existing code that will assemble source files using this, or some other technique?</p>\n\n<p>This is very similar idea to tools being used to assemble and optimise JavaScript files before sending to the browser, where the latency of multiple HTTP requests hurts performance. In this Python case, it's the latency of importing hundreds of Python source files at startup which hurts.</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12830849,"title":"How can I integrate open source Apis on my website hosted by Google App Engine?","body":"<p>I'm making a cloud system and I want to integrate some open source APIs like Writer,Image Viewer etc..\nI'm using <strong>GWT</strong> framework and <strong>Google App Engine</strong> as a host server \nI know that my Apis must be in Python or Java which Google app Engine platform support so I searched for one of them and found API called<br>\n<strong>Zoho Writer</strong></p>\n"},{"tags":["jquery","python","ajax","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12829690,"title":"ajax post to App Engine not working","body":"<p>So I have this html/js trying to test an ajax post</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;script src=\"js/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"../js/bootstrap.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function() { \n            document.write(\"booo\");\n            var data = {\"lat\":5};\n            $.ajax({\n                    type: \"POST\",\n                    url: \"/geo\",\n                    data: data,\n                });\n            });\n            var data = {\"lat\":5};\n            $.ajax({\n                    type: \"POST\",\n                    url: \"/geo\",\n                    data: data,\n                });\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;form method=\"post\"&gt;\n        &lt;input name=\"lat\" type=\"text\"&gt;\n        &lt;input name=\"lon\" type=\"text\"&gt;\n        &lt;input type=\"submit\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Right now I'm just trying to post data, pick it up in python and write it back/store it in db but nothing is happening from my ajax post function. Here's my python,</p>\n\n<pre><code>class GeoHandler(Handler):\n\n    def get(self):\n        self.render(\"geo.html\")\n\n    def post(self):\n        lat = self.request.get(\"lat\")\n        lon = self.request.get(\"lon\")\n        self.write(lat)\n        loc = models.LocModel(coords = db.GeoPt(lat,lon), hm = str(lat).join(str(lon)))\n        loc.put()\n</code></pre>\n\n<p>My url handler is </p>\n\n<pre><code>    ('/geo', GeoHandler),   \n</code></pre>\n\n<p>Eventually i'm trying to use javascript to capture location data of my users and map it... but app engine/webapp2 only likes to grab the ipv6 of the client and there's no way to get the location data of an ipv5 but there are html5/js solns for geo data.. but i can't even post basic data to the server</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12829371,"title":"appcfg.cmd update warfolder does not update anymore","body":"<p>Until recently appcfg.cmd update warfolder worked fine, but not anymore.\nEverything works properly, the files are uploaded as before it seems. But the changes I made are not executed by the appengine. Instead the old version is still there. I can see this with the google debugger. The![enter image description here][1] appengine uses the old .html and .js files. What happened?</p>\n\n<p>This is how it looks like:</p>\n\n<pre><code>C:\\Users\\Lou&gt;c:\\users\\lou\\project_working_dir\\appengine-java-sdk-1.6.4.1\\bin\\app\ncfg.cmd update c:\\users\\lou\\workspace\\Buzz\\war\n</code></pre>\n\n<p>Reading application configuration data...</p>\n\n<pre><code>Oct 11, 2012 12:14:24 AM com.google.apphosting.utils.config.AppEngineWebXmlReade\nr readAppEngineWebXml\n\nINFO: Successfully processed c:/users/lou/workspace/Buzz/war\\WEB-\nINF/appengine-web.xml\nOct 11, 2012 12:14:24 AM com.google.apphosting.utils.config.AbstractConfigXmlRea\nder readConfigXml\n\nINFO: Successfully processed c:/users/lou/workspace/Buzz/war\\WEB-\nINF/web.xml\n\nOct 11, 2012 12:14:24 AM com.google.apphosting.utils.config.AbstractConfigXmlRea\nder readConfigXml\n\nINFO: Successfully processed c:/users/lou/workspace/Buzz/war\\WEB-\nINF/queue.xml\n\nOct 11, 2012 12:14:24 AM com.google.apphosting.utils.config.IndexesXmlReader rea\ndConfigXml\nINFO: Successfully processed c:/users/lou/workspace/Buzz/war\\WEB-\nINF/datastore-indexes.xml\n\nBeginning server interaction for Buzz...\n\n0% Created staging directory at: 'C:\\Users\\Lou\\AppData\\Local\\Temp\\appcfg48407773\n43837978537.tmp'\n\n5% Scanning for jsp files.\n\n20% Scanning files on local disk.\n\n25% Scanned 250 files.\n\n28% Initiating update.\n\n31% Cloning 190 static files.\n\n33% Cloned 100 files.\n\n34% Cloning 266 application files.\n\n35% Cloned 100 files.\n\n36% Cloned 200 files.\n\n40% Uploading 0 files.\n\n52% Initializing precompilation...\n\n90% Deploying new version.\n\n95% Will check again in 1 seconds.\n\n98% Will check again in 2 seconds.\n\n99% Will check again in 4 seconds.\n\n99% Will check again in 8 seconds.\n\n99% Closing update: new version is ready to start serving.\n\n99% Uploading index definitions.\n\n99% Uploading task queues.\n\nUpdate completed successfully.\n\nSuccess.\n\nCleaning up temporary files...\n\n\nC:\\Users\\Lou&gt;\n</code></pre>\n"},{"tags":["google-app-engine","protorpc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12811196,"title":"Is it possible to run a protorpc based service outside of GAE?","body":"<p>Is it possible to run a protorpc based service outside of GAE?  I see that there is a project hosted at <a href=\"http://code.google.com/p/google-protorpc/\" rel=\"nofollow\">http://code.google.com/p/google-protorpc/</a> but it seems to depend on the GAE.  The documentation is VERY vague on this point, does anyone have a clear answer?</p>\n\n<p>Thanks! </p>\n"},{"tags":["google-app-engine","gwt","requestfactory","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":11058737,"title":"GWT pass Objectify Cursor from Server to Client with RequestFactory and show more pages in DataGrid","body":"<p>I am brand new to cursors and have the following method:</p>\n\n<pre><code>public List&lt;Venue&gt; findPage(Subject subject, Objectify ofy, int pageSize) {\n  final Business business = (Business) subject.getSession().getAttribute(BUSINESS_ATTRIBUTE);\n  final Query&lt;Venue&gt; query = ofy.query(Venue.class).filter(BUSINESS_ATTRIBUTE, business);\n  final String encodedCursor = (String) subject.getSession().getAttribute(VENUE_CURSOR_CONDITION);\n  if (encodedCursor != null) {\n    query.startCursor(Cursor.fromWebSafeString(encodedCursor));\n  }\n  final QueryResultIterator&lt;Key&lt;Venue&gt;&gt; iterator = query.fetchKeys().iterator();\n  final List&lt;Key&lt;Venue&gt;&gt; data = new ArrayList&lt;Key&lt;Venue&gt;&gt;(pageSize);\n  boolean more = false;\n  for (int i = 0; i &lt; pageSize &amp;&amp; (more = iterator.hasNext()); i++) {\n    data.add(iterator.next());\n  }\n  subject.getSession().setAttribute(VENUE_CURSOR_CONDITION, iterator.getCursor().toWebSafeString());\n  return get(ofy, data);\n}\n</code></pre>\n\n<p>where get is the following method</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; get(Objectify ofy, List&lt;Key&lt;T&gt;&gt; keys) {\n  if (keys == null) {\n    return null;\n  }\n  final Map&lt;Key&lt;T&gt;, T&gt; map = ofy.get(keys);\n  final List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n  for (T t : map.values()) {\n    list.add(t);\n  }\n  return list;\n}\n</code></pre>\n\n<p>Now, here's what I'm doing currently - which is a little hackish.  I am using Apache Shiro to track User's sessions - in the user's session I am keeping the last cursor that was used - if the user navigates away from the page i set the cursor to false (obviously - this is very, very brittle as it requires every method to have a code to invalidate the last cursor).</p>\n\n<p>Now, here's where I'm getting caught.  I made a simple HasCursor interface, and was going to pass back a List with Cursor in it to the client side - the only problem is RequestFactory can only handle passing certain types from server to client - this Custom type isn't one of them.  So, right now with GWT RequestFactory - is there a good way to pass an Objectify Cursor from the Server to the Client?</p>\n\n<p>Also - another issue I'm running into - if I populate the DataGrid with this data it shows the data fine in the grid - but that's it - the pager says 1-25 out of 25.  So, what I'm wondering is, how do you actually tell the DataGrid that there is more data available on the server.  I'm a little confused as it seems there isn't a whole lot of documentation / examples available for this.</p>\n\n<p>Thank you very much</p>\n\n<hr>\n\n<p>for anybody else that runs into this problem i found out the answer to one part of it - i forgot all about ValueProxies that allow you to map standard java beans to return to the client side from the server with RequestFactory.</p>\n\n<p>Unfortunately, you can't use Generics with ValueProxies so I had to create a ListCursor wrapper for each individual type.</p>\n\n<p>Here's the proxy:</p>\n\n<pre><code>@ProxyFor(value = VenueListCursorWrapper.class)\npublic interface VenueListCursorWrapperProxy extends ValueProxy {\n\n  List&lt;VenueProxy&gt; getVenues();\n\n  String getCursor();\n\n  boolean isMoreAvailable();\n\n  void setVenues(List&lt;VenueProxy&gt; venues);\n\n  void setCursor(String cursor);\n\n  void setMoreAvailable(boolean moreAvailable);\n}\n</code></pre>\n\n<p>and here's the updated method on the server:</p>\n\n<pre><code>public VenueListCursorWrapper findPage(Subject subject, Objectify ofy, int pageSize, String cursor) {\n  final Business business = (Business) subject.getSession().getAttribute(BUSINESS_ATTRIBUTE);\n  final Query&lt;Venue&gt; query = ofy.query(Venue.class).filter(BUSINESS_ATTRIBUTE, business);\n  if (cursor != null) {\n    query.startCursor(Cursor.fromWebSafeString(cursor));\n  }\n  final QueryResultIterator&lt;Key&lt;Venue&gt;&gt; iterator = query.fetchKeys().iterator();\n  final List&lt;Key&lt;Venue&gt;&gt; data = new ArrayList&lt;Key&lt;Venue&gt;&gt;(pageSize);\n  boolean more = false;\n  for (int i = 0; i &lt; pageSize &amp;&amp; (more = iterator.hasNext()); i++) {\n    data.add(iterator.next());\n  }\n  return new VenueListCursorWrapper(get(ofy, data), iterator.getCursor().toWebSafeString(), more);\n}\n</code></pre>\n\n<p>So - that's that part of it - the one thing I still haven't quite figured out how to do is get the pager set up correctly - I would like to show the total count of items in the pager to allow you to page through it but I'm not sure exactly how to do this yet - if I find a solution I will post it</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12808866,"title":"Storing the Cursor for App Engine Pagination","body":"<p>I'm trying to implement pagination using App Engine's RPC and GWT (it's an app engine connected project). </p>\n\n<p>How can I pass both the query results and the web-safe cursor object to the GWT client from the RPC? </p>\n\n<p>I've seen examples using a servlet but I want to know how to do it without a servelt.</p>\n\n<p>I've considered caching the cursor on the server using memcache but I'm not sure if that's appropriate or what should be used as the key (session identifier I would assume, but I'm not sure how those are handled on App Engine).</p>\n\n<p>Links to example projects would be fantastic, I've been unable to find any.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12825930,"title":"Error saving entity with Objectify","body":"<p>This is the error when I try to persist an Entity: </p>\n\n<pre><code>com.googlecode.objectify.SaveException: Error saving com.mycomp.simplify.KeyValueVersion@60991f: You cannot create a Key for an object with a null @Id. Object was com.mycomp.simplify.Key@1bf3d87\n    at com.googlecode.objectify.impl.Transmog.save(Transmog.java:102)\n    at com.googlecode.objectify.impl.Concret\n\n&gt; Blockquote\n\neEntityMetadata.save(ConcreteEntityMetadata.java:150)\n    at com.googlecode.objectify.impl.engine.WriteEngine.save(WriteEngine.java:68)\n    at com.googlecode.objectify.impl.cmd.SaverImpl.entities(SaverImpl.java:56)\n    at com.googlecode.objectify.impl.cmd.SaverImpl.entity(SaverImpl.java:33)\n    at com.mycomp.simplify.core.ObjectifyGenericDao.put(ObjectifyGenericDao.java:52)\n    at com.mycomp.simplify.SimplifyImpl.access$0(SimplifyImpl.java:1)\n    at com.mycomp.simplify.SimplifyImpl$1.run(SimplifyImpl.java:43)\n    at com.mycomp.simplify.SimplifyImpl$1.run(SimplifyImpl.java:1)\n    at com.googlecode.objectify.impl.cmd.ObjectifyImpl.transactOnce(ObjectifyImpl.java:255)\n    at com.googlecode.objectify.impl.cmd.ObjectifyImpl.transactNew(ObjectifyImpl.java:232)\n    at com.googlecode.objectify.impl.cmd.ObjectifyImpl.transactNew(ObjectifyImpl.java:222)\n    at com.googlecode.objectify.impl.cmd.ObjectifyImpl.transact(ObjectifyImpl.java:214)\n    at com.googlecode.objectify.util.cmd.ObjectifyWrapper.transact(ObjectifyWrapper.java:165)\n    at com.mycomp.simplify.SimplifyImpl.put(SimplifyImpl.java:37)\n    at com.mycomp.simplify.ResourceTest.testCreateFetch(ResourceTest.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: java.lang.IllegalArgumentException: You cannot create a Key for an object with a null @Id. Object was com.mycomp.simplify.Key@1bf3d87\n    at com.googlecode.objectify.impl.translate.EntityClassTranslator.getRawKey(EntityClassTranslator.java:160)\n    at com.googlecode.objectify.ObjectifyFactory.getRawKey(ObjectifyFactory.java:270)\n    at com.googlecode.objectify.impl.translate.EntityReferenceTranslatorFactory$1.saveValue(EntityReferenceTranslatorFactory.java:39)\n    at com.googlecode.objectify.impl.translate.EntityReferenceTranslatorFactory$1.saveValue(EntityReferenceTranslatorFactory.java:1)\n    at com.googlecode.objectify.impl.translate.ValueTranslator.savePropertyValue(ValueTranslator.java:51)\n    at com.googlecode.objectify.impl.translate.PropertyValueNodeTranslator.saveAbstract(PropertyValueNodeTranslator.java:38)\n    at com.googlecode.objectify.impl.translate.AbstractTranslator.save(AbstractTranslator.java:38)\n    at com.googlecode.objectify.impl.TranslatableProperty.executeSave(TranslatableProperty.java:145)\n    at com.googlecode.objectify.impl.translate.ClassTranslator.saveMap(ClassTranslator.java:94)\n    at com.googlecode.objectify.impl.translate.MapNodeTranslator.saveAbstract(MapNodeTranslator.java:38)\n    at com.googlecode.objectify.impl.translate.AbstractTranslator.save(AbstractTranslator.java:38)\n    at com.googlecode.objectify.impl.Transmog.saveToNode(Transmog.java:109)\n    at com.googlecode.objectify.impl.Transmog.save(Transmog.java:96)\n    ... 39 more\n</code></pre>\n"},{"tags":["security","google-app-engine","rest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12819784,"title":"How to make sure that my mobile app back end is not called by other app?","body":"<p>I'm starting to have a look at mobile development and precisely Android Development.</p>\n\n<p>The mobile App will be mainly UI, and all the business will occur on a web application hosted by Google App Engine (the communicaiton will be in rest I think).</p>\n\n<p>How can I make sure that my rest api is not called by any other software/app ? Because anyone can sniff the network, get my api calls, then forge theirs. That shouldn't be a problem if my api was well designed and flawless, but that's certainly not gonna be the case.</p>\n\n<ul>\n<li><p>Login/Password is not a solution because it can be sniffed</p></li>\n<li><p>SSL communication also because the user can use the same certificate for his own app</p></li>\n</ul>\n\n<p>I think that there is not perfect way, but only partial solution (like hiding the certificate with any ugly technique so even the decompilation wouldn't help).</p>\n\n<p>EDIT :</p>\n\n<p>I found this : <a href=\"http://stackoverflow.com/questions/9823391/how-to-make-sure-api-requests-come-from-our-mobile-ios-android-app\">How to make sure API requests come from our mobile (ios/android) app?</a></p>\n\n<p>But I wonder if there is any already existing way of doing this in Http or App Engine or anything else. I don't really like to code security code myself.</p>\n\n<p>Rémi</p>\n"},{"tags":["google-app-engine","http","get","http-status-codes","channel-api"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12807753,"title":"HTTP Get with 204 No Content: Is that normal","body":"<p>Is it a normal occurrence for an <strong>HTTP GET Request</strong> to have a response with status code <code>204 - No Content</code>? Like, is this semantically correct with respect to what an HTTP GET is supposed to accomplish? I know that a <code>204 - No Content</code> is <em>okay</em> for an <strong>HTTP POST Request</strong>. For GET request, if no data is to be sent back, is the 204 status code appropriate, should I use 404, or just stick to 200 for success but have an empty response?</p>\n\n<p>The <strong>use case</strong> for this question is a Java application that I am writing for Google App Engine. I am sending a request to a servlet, but the data to be sent back tot eh client will be transmitted through a Channel API socket instead of in the HTTP Response. Currently, my client sends a POST with no content in the request body, and waits for a 204 response back from the servlet before polling the Channel API socket. Because no data I being sent in the body of the request, I am debating whether it makes more sense for me to send a GET instead of a POST.</p>\n"},{"tags":["javascript","python","html","google-app-engine","blobstore"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":517,"score":3,"question_id":6428911,"title":"Blobstore upload with javascript","body":"<p>This is the minimal declaration for the HTML in order to upload a file in Blobstore in the <code>upload_url</code>. What is required with this solution is required to click the Submit button in order the content to be submitted and get redirected. How can I do the post in the background with javascript or jQuery without losing the enctype?</p>\n\n<pre><code>&lt;form id=\"upload_file\" action=\"{{upload_url}}\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n    &lt;input type=\"file\" name=\"file\"&gt;\n    &lt;input type=\"submit\" name=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine","facebook-graph-api","oauth"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":356,"score":3,"question_id":8375283,"title":"Is the signed request required for a Facebook Canvas app?","body":"<p>I saw that OAuth is recommended also for facebook canvas apps and the code I had didn't work, it tried to use the signed_request but every time i changed the session I had to do a reload:</p>\n\n<pre><code>class Facebook(object):\n    \"\"\"Wraps the Facebook specific logic\"\"\"\n    def __init__(self, app_id=conf.FACEBOOK_APP_ID,\n            app_secret=conf.FACEBOOK_APP_SECRET):\n        self.app_id = app_id\n        self.app_secret = app_secret\n        self.user_id = None\n        self.access_token = None\n        self.signed_request = {}\n\n    def api(self, path, params=None, method=u'GET', domain=u'graph'):\n        \"\"\"Make API calls\"\"\"\n        if not params:\n            params = {}\n        params[u'method'] = method\n        if u'access_token' not in params and self.access_token:\n            params[u'access_token'] = self.access_token\n        result = json.loads(urlfetch.fetch(\n            url=u'https://' + domain + u'.facebook.com' + path,\n            payload=urllib.urlencode(params),\n            method=urlfetch.POST,\n            headers={\n                u'Content-Type': u'application/x-www-form-urlencoded'})\n            .content)\n        if isinstance(result, dict) and u'error' in result:\n            raise FacebookApiError(result)\n        return result\n\n    def load_signed_request(self, signed_request):\n        \"\"\"Load the user state from a signed_request value\"\"\"\n        try:\n            sig, payload = signed_request.split(u'.', 1)\n            sig = self.base64_url_decode(sig)\n            data = json.loads(self.base64_url_decode(payload))\n\n            expected_sig = hmac.new(\n                self.app_secret, msg=payload, digestmod=hashlib.sha256).digest()\n\n            # allow the signed_request to function for upto 1 day\n            if sig == expected_sig and \\\n                    data[u'issued_at'] &gt; (time.time() - 86400):\n                self.signed_request = data\n                self.user_id = data.get(u'user_id')\n                self.access_token = data.get(u'oauth_token')\n        except ValueError, ex:\n            pass # ignore if can't split on dot\n\n    @property\n    def user_cookie(self):\n        \"\"\"Generate a signed_request value based on current state\"\"\"\n        if not self.user_id:\n            return\n        payload = self.base64_url_encode(json.dumps({\n            u'user_id': self.user_id,\n            u'issued_at': str(int(time.time())),\n        }))\n        sig = self.base64_url_encode(hmac.new(\n            self.app_secret, msg=payload, digestmod=hashlib.sha256).digest())\n        return sig + '.' + payload\n\n    @staticmethod\n    def base64_url_decode(data):\n        data = data.encode(u'ascii')\n        data += '=' * (4 - (len(data) % 4))\n        return base64.urlsafe_b64decode(data)\n\n    @staticmethod\n    def base64_url_encode(data):\n        return base64.urlsafe_b64encode(data).rstrip('=')\n\n\nclass CsrfException(Exception):\n    pass\n\n\nclass BaseHandler(webapp.RequestHandler):\n    facebook = None\n    user = None\n    csrf_protect = True\n\n    def initialize(self, request, response):\n        \"\"\"General initialization for every request\"\"\"\n        super(BaseHandler, self).initialize(request, response)\n\n        try:\n            self.init_facebook()\n            self.init_csrf()\n            self.response.headers[u'P3P'] = u'CP=HONK' # iframe cookies in IE\n        except Exception, ex:\n            self.log_exception(ex)\n            raise\n\n    def handle_exception(self, ex, debug_mode):\n        \"\"\"Invoked for unhandled exceptions by webapp\"\"\"\n        self.log_exception(ex)\n        self.render(u'error',\n            trace=traceback.format_exc(), debug_mode=debug_mode)\n\n    def log_exception(self, ex):\n        \"\"\"Internal logging handler to reduce some App Engine noise in errors\"\"\"\n        msg = ((str(ex) or ex.__class__.__name__) +\n                u': \\n' + traceback.format_exc())\n        if isinstance(ex, urlfetch.DownloadError) or \\\n           isinstance(ex, DeadlineExceededError) or \\\n           isinstance(ex, CsrfException) or \\\n           isinstance(ex, taskqueue.TransientError):\n            logging.warn(msg)\n        else:\n            logging.error(msg)\n\n    def set_cookie(self, name, value, expires=None):\n        \"\"\"Set a cookie\"\"\"\n        if value is None:\n            value = 'deleted'\n            expires = datetime.timedelta(minutes=-50000)\n        jar = Cookie.SimpleCookie()\n        jar[name] = value\n        jar[name]['path'] = u'/'\n        if expires:\n            if isinstance(expires, datetime.timedelta):\n                expires = datetime.datetime.now() + expires\n            if isinstance(expires, datetime.datetime):\n                expires = expires.strftime('%a, %d %b %Y %H:%M:%S')\n            jar[name]['expires'] = expires\n        self.response.headers.add_header(*jar.output().split(u': ', 1))\n\n    def render(self, name, **data):\n        \"\"\"Render a template\"\"\"\n        if not data:\n            data = {}\n        data[u'js_conf'] = json.dumps({\n            u'appId': conf.FACEBOOK_APP_ID,\n            u'canvasName': conf.FACEBOOK_CANVAS_NAME,\n            u'userIdOnServer': self.user.user_id if self.user else None,\n        })\n        data[u'logged_in_user'] = self.user\n        data[u'message'] = self.get_message()\n        data[u'csrf_token'] = self.csrf_token\n        data[u'canvas_name'] = conf.FACEBOOK_CANVAS_NAME\n        self.response.out.write(template.render(\n            os.path.join(\n                os.path.dirname(__file__), 'templates', name + '.html'),\n            data))\n\n    def init_facebook(self):\n        \"\"\"Sets up the request specific Facebook and User instance\"\"\"\n        facebook = Facebook()\n        user = None\n\n        # initial facebook request comes in as a POST with a signed_request\n        if u'signed_request' in self.request.POST:\n            facebook.load_signed_request(self.request.get('signed_request'))\n            # we reset the method to GET because a request from facebook with a\n            # signed_request uses POST for security reasons, despite it\n            # actually being a GET. in webapp causes loss of request.POST data.\n            self.request.method = u'GET'\n            self.set_cookie(\n                'u', facebook.user_cookie, datetime.timedelta(minutes=1440))\n        elif 'u' in self.request.cookies:\n            facebook.load_signed_request(self.request.cookies.get('u'))\n\n        # try to load or create a user object\n        if facebook.user_id:\n            user = User.get_by_key_name(facebook.user_id)\n            if user:\n                # update stored access_token\n                if facebook.access_token and \\\n                        facebook.access_token != user.access_token:\n                    user.access_token = facebook.access_token\n                    user.put()\n                # refresh data if we failed in doing so after a realtime ping\n                if user.dirty:\n                    user.refresh_data()\n                # restore stored access_token if necessary\n                if not facebook.access_token:\n                    facebook.access_token = user.access_token\n\n            if not user and facebook.access_token:\n                me = facebook.api(u'/me', {u'fields': _USER_FIELDS})\n                try:\n                    friends = [user[u'id'] for user in me[u'friends'][u'data']]\n                    user = User(key_name=facebook.user_id,\n                        user_id=facebook.user_id, friends=friends,\n                        access_token=facebook.access_token, name=me[u'name'],\n                        email=me.get(u'email'), picture=me[u'picture'])\n                    user.put()\n                except KeyError, ex:\n                    pass # ignore if can't get the minimum fields\n\n        self.facebook = facebook\n        self.user = user\n\n    def init_csrf(self):\n        \"\"\"Issue and handle CSRF token as necessary\"\"\"\n        self.csrf_token = self.request.cookies.get(u'c')\n        if not self.csrf_token:\n            self.csrf_token = str(uuid4())[:8]\n            self.set_cookie('c', self.csrf_token)\n        if self.request.method == u'POST' and self.csrf_protect and \\\n                self.csrf_token != self.request.POST.get(u'_csrf_token'):\n            raise CsrfException(u'Missing or invalid CSRF token.')\n\n    def set_message(self, **obj):\n        \"\"\"Simple message support\"\"\"\n        self.set_cookie('m', base64.b64encode(json.dumps(obj)) if obj else None)\n\n    def get_message(self):\n        \"\"\"Get and clear the current message\"\"\"\n        message = self.request.cookies.get(u'm')\n        if message:\n            self.set_message() # clear the current cookie\n            return json.loads(base64.b64decode(message))\n</code></pre>\n\n<p>I changed the code above to OAuth serverside for the canvas app and then I could make the app behave like I wanted to. But if I use OAuth 2.0 do I really need the signed_request? If I use OAuth the signed_request seems unneccessary and OAuth can do it all. I changed the function <code>init_facebook</code>rather much:</p>\n\n<pre><code>def init_facebook(self):\n\n    facebook = Facebook()\n    user = None\n\n    # initial facebook request comes in as a POST with a signed_request\n    if 'signed_request' in self.request.POST:\n        fbdata= parse_signed_request(self.request.get('signed_request'), facebookconf.FACEBOOK_APP_SECRET)\n\n        facebook.signed_request = fbdata\n        facebook.user_id = fbdata.get('user_id')\n        facebook.access_token = fbdata.get('oauth_token')\n\n        if facebook.user_id:\n          graph = GraphAPI(facebook.access_token)\n          user = graph.get_object(\"me\")   #write the access_token to the datastore\n          fbuser = FBUser.get_by_key_name(user[\"id\"])\n          #logging.debug(\"fbuser \"+fbuser.name)\n          self.user = fbuser\n          if not fbuser:\n            fbuser = FBUser(key_name=str(user[\"id\"]),\n                            id=str(user[\"id\"]),\n                            name=user[\"name\"],\n                            profile_url=user[\"link\"],\n                            access_token=facebook.access_token)\n            fbuser.put()\n          elif fbuser.access_token != facebook.access_token:\n            fbuser.access_token = facebook.access_token\n            fbuser.put()\n\n    # try to load or create a user object\n    if facebook.user_id:\n        logging.debug(\"loading facebook.user_id\")\n        user = FBUser.get_by_key_name(facebook.user_id)\n        if user:\n            # update stored access_token\n            if facebook.access_token and \\\n                    facebook.access_token != user.access_token:\n                user.access_token = facebook.access_token\n                user.put()\n            # refresh data if we failed in doing so after a realtime ping\n            if user.dirty:\n                user.refresh_data()\n            # restore stored access_token if necessary\n            if not facebook.access_token:\n                facebook.access_token = user.access_token\n\n        if not user and facebook.access_token:\n            me = facebook.api('/me', {'fields': _USER_FIELDS})\n            try:\n                friends = [user['id'] for user in me['friends']['data']]\n                user = FBUser(key_name=facebook.user_id,\n                    id=facebook.user_id, friends=friends,\n                    access_token=facebook.access_token, name=me['name'],\n                    email=me.get('email'), picture=me['picture'])\n                user.put()\n            except KeyError, ex:\n                pass # ignore if can't get the minimum fields\n\n    self.facebook = facebook\n    self.user = user\n</code></pre>\n\n<p>Now it uses OAuth instead of changing the method from <code>POST</code> to <code>GET</code> which I never understodd why it had to do anyway. I have more code but maybe you know enough already to tell me if I'm doing this wrong and should go back to a more basic example.</p>\n\n<p>For example I had some problems logging out the user and I had to write a custom logout handler:</p>\n\n<pre><code>class FBLogoutHandler(webapp2.RequestHandler):\n    def get(self):\n    logging.debug('in fblogout')\n        current_user = main.get_user_from_cookie(self.request.cookies, facebookconf.FACEBOOK_APP_ID, facebookconf.FACEBOOK_APP_SECRET)\n        if current_user:\n          graph = main.GraphAPI(current_user[\"access_token\"])\n          profile = graph.get_object(\"me\")\n      accessed_token = current_user[\"access_token\"] \n    logging.debug('setting cookie')\n        self.set_cookie(\"fbsr_\" + facebookconf.FACEBOOK_APP_ID, None, expires=time.time() - 86400)\n    logging.debug('redirecting with token '+str(accessed_token))\n        self.redirect('https://www.facebook.com/logout.php?next=http://www.facebook.com&amp;access_token=%s' % accessed_token)\n    def set_cookie(self, name, value, expires=None):\n        if value is None:\n            value = 'deleted'\n            expires = datetime.timedelta(minutes=-50000)\n        jar = Cookie.SimpleCookie()\n        jar[name] = value\n        jar[name]['path'] = '/'\n        if expires:\n            if isinstance(expires, datetime.timedelta):\n                expires = datetime.datetime.now() + expires\n            if isinstance(expires, datetime.datetime):\n                expires = expires.strftime('%a, %d %b %Y %H:%M:%S')\n            jar[name]['expires'] = expires\n        self.response.headers.add_header(*jar.output().split(': ', 1))\n    def get_host(self):\n        return os.environ.get('HTTP_HOST', os.environ['SERVER_NAME']) \n</code></pre>\n\n<p>This solution might not be best so I wonder what alternatives there are for my canvas app?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","web-security","ddos","java-server"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12822566,"title":"How to make a servlet protected against DDos attack?","body":"<p>I'm launching a website soon, which works by having the client submit a get request to a java servlet with ajax, then presenting the result. The process that the java servlet does can take up to 10 seconds to complete.</p>\n\n<p>Is this susceptible to a Dos attack? Could a user send several get requests to the servlet to overload it? If yes, what is the best way to protect against this?</p>\n\n<p>I am running on Google App Engine.</p>\n"},{"tags":["google-app-engine"],"answer_count":10,"favorite_count":20,"up_vote_count":33,"down_vote_count":1,"view_count":8216,"score":32,"question_id":1306279,"title":"Pros & Cons of Google App Engine","body":"<p>[An Updated List 21st Aug 09]</p>\n\n<p>Help me Compile a  List of all the Advantages &amp; Disadvantages of Building an Application on the Google App Engine</p>\n\n<p><strong>Pros:</strong></p>\n\n<ol>\n<li>No need to buy servers or server space (no maintenance).</li>\n<li>Makes solving the problem of scaling easier.</li>\n<li>Free up to a certain level of consumed resources.</li>\n</ol>\n\n<p><strong>Cons:</strong></p>\n\n<ol>\n<li>Locked into Google App Engine ?</li>\n<li>Developers have read-only access to the filesystem on App Engine.</li>\n<li>App Engine can only execute code called from an HTTP request (except for scheduled background tasks).</li>\n<li>Users may upload arbitrary Python modules, but only if they are pure-Python; C and Pyrex modules are not supported.</li>\n<li>App Engine limits the maximum rows returned from an entity get to 1000 rows per Datastore call.  (<strong>Update</strong> - App Engine now supports cursors for accessing larger queries)</li>\n<li>Java applications may only use a subset (The JRE Class White List) of the classes from the JRE standard edition.</li>\n<li>Java applications cannot create new threads.</li>\n</ol>\n\n<p><strong>Known Issues!!</strong> : <a href=\"http://code.google.com/p/googleappengine/issues/list\" rel=\"nofollow\">http://code.google.com/p/googleappengine/issues/list</a></p>\n\n<p><strong>Hard limits</strong></p>\n\n<p>Apps per developer -    10<br>\nTime per request -  30 sec<br>\nFiles per app - 3,000<br>\nHTTP response size -    10 MB<br>\nDatastore item size -   1 MB<br>\nApplication code size - 150 MB<br>\n<b>Update</b> Blob store now allows storage of files up to 50MB</p>\n\n<p><strong>Pro or Con?</strong><br>\nApp Engine's infrastructure removes many of the system administration and development challenges of building applications to scale to millions of hits. Google handles deploying code to a cluster, monitoring, failover, and launching application instances as necessary.</p>\n\n<p>While other services let users install and configure nearly any *NIX compatible software, App Engine requires developers to use Python or Java as the programming language and a limited set of APIs. Current APIs allow storing and retrieving data from a BigTable non-relational database; making HTTP requests; sending e-mail; manipulating images; and caching. Most existing Web applications can't run on App Engine without modification, because they require a relational database.</p>\n"},{"tags":["java","google-app-engine","jce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12793869,"title":"AccessControlException when adding security provider on App Engine","body":"<pre><code>static {\n    Security.addProvider(new iaik.security.provider.IAIK());\n}\n</code></pre>\n\n<p>The above line of code is part of my GAE/Java project.\nUnfortunately, it raises an exception upon execution:</p>\n\n<pre><code>java.security.AccessControlException: access denied (java.security.SecurityPermission putProviderProperty.IAIK)\n</code></pre>\n\n<p>Can't I use my desired JCE (IAIK JCE in this case) on Google App Engine?</p>\n"},{"tags":["spring","google-app-engine","gwt","maven"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12820385,"title":"Is there maven archetypes for App Engine + Spring","body":"<p>Is there any maven archectypes for:</p>\n\n<ul>\n<li>GWT + Spring</li>\n<li>Spring + AppEngine</li>\n<li>GWT + Spring + AppEngine</li>\n</ul>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12819827,"title":"Google App Engine log download takes too long","body":"<p>I wrote an application running on Google App that generates logs at very high rate. Now I need to download and process them. It says in the Admin Console that the log is around 300MB. Ideally I would like to process only small parts of the logs. Could anybody give me some pointers on how to:</p>\n\n<ol>\n<li>Download only log entries in a specific time range (i.e. the timestamp of the log records fall into this range).</li>\n</ol>\n\n<p>OR</p>\n\n<ol>\n<li>If I have about 300Mb of logs, what is the quickest way to download it?. I've run the appcfg.sh command for almost an hour now and it's still running (around 250000 log records now). Is there a way to break the log down to small chunks and download them in parallel?</li>\n</ol>\n\n<p>Many thanks,\nAnh. </p>\n"},{"tags":["java","unit-testing","google-app-engine","memcached","testng"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12809336,"title":"NullPointerException calling tearDown() on Google App Engine LocalSErviceTestHelper","body":"<p>I am writing tests (integration and unit) for a Google App Engine Java app that relies heavily on Google App Engine services such as Memcache and Datastore. In order to test my application locally using these services, I have this line in the parent class of all my test cases:</p>\n\n<pre><code>private final LocalServiceTestHelper helper = new LocalServiceTestHelper(new LocalDatastoreServiceTestConfig(), new LocalMemcacheServiceTestConfig());\n</code></pre>\n\n<p>I begin every test with this function call (via TestNG's <code>@BeforeMethod</code> annotation):</p>\n\n<pre><code>helper.setUp();\n</code></pre>\n\n<p>And I end every test with this function call (via TestNG's <code>@AfterMethod</code> annotation):</p>\n\n<pre><code>helper.tearDown();\n</code></pre>\n\n<p>(Here's a reference to <a href=\"http://testng.org/doc/documentation-main.html#annotations\" rel=\"nofollow\">TestNG annotations</a> and <a href=\"https://developers.google.com/appengine/docs/java/tools/localunittesting\" rel=\"nofollow\">local unit testing for Google App Engine's Java Runtime</a>, in case you need it. Especially for the latter link, note that my code strictly follows the examples given by Google)</p>\n\n<p>One thing to note is that one of my servlets in the Java app uses an instance of MemcacheService. It is injected into the servlet's constructor by Guice.</p>\n\n<p>Now, I build my code and run it via a call to <code>mvn clean install</code>, which will start an instance of <em>Jetty</em> and run my tests after the code has been compiled. <strong>Much to my chagrin,</strong> I get this stack trace printed before TestNG reports mass test failure:</p>\n\n<pre><code>SEVERE: Received exception tearing down config of type com.google.appengine.tools.development.testing.LocalMemcacheServiceTestConfig\njava.lang.NullPointerException\nat com.google.appengine.tools.development.testing.LocalServiceTestHelper.getLocalService(LocalServiceTestHelper.java:495)\nat com.google.appengine.tools.development.testing.LocalMemcacheServiceTestConfig.getLocalMemcacheService(LocalMemcacheServiceTestConfig.java:71)\nat com.google.appengine.tools.development.testing.LocalMemcacheServiceTestConfig.tearDown(LocalMemcacheServiceTestConfig.java:47)\nat com.google.appengine.tools.development.testing.LocalServiceTestHelper.tearDown(LocalServiceTestHelper.java:438)\nat com.ea.pogosocial.AbstractTest.tearDown(AbstractTest.java:65)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:616)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\nat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:564)\nat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:213)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:796)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:907)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1237)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\nat java.lang.Thread.run(Thread.java:679)\n</code></pre>\n\n<p>I have tried almost everything I can thnk of to fix the problem, but I still run into this tearDown() problem, which is really stumping me. Beside put() and get(), I don't do anything fancy with the memcache instance in my servlet. Does anyone have any ideas as to what I should do?</p>\n\n<p>If more information or code is needed, I will be glad to provide. One thing to note: when I instead start my Jetty server with <code>mvn gae:run</code> and I execute the TestNG tests through Eclipse, I do not run into this issue. Perhaps this is because my servlet is being injected a non-local unit test helper instance of memcache, but rather an actual version of a memcache service.</p>\n"},{"tags":["java","google-app-engine","graphics","awt"],"answer_count":10,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":2067,"score":6,"question_id":2169138,"title":"Java: create graphics without awt?","body":"<p>Is there any library out there to create graphics without using AWT?<br>\nWhat I need is simple drawing functions (like to draw a line) and text drawing functions to create graphics in memory for a Google app engine application. App engine does not support AWT.</p>\n\n<p>Thanks! </p>\n"},{"tags":["python","google-app-engine","gps","coordinates","geocoding"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12811698,"title":"Sorting Database Query by GPS Location","body":"<p>I am writing a website on Google App Engine in Python and I have a Location datastore entity that has a string property containing GPS coordinates.  I want to let the user search by GPS coordinates and I want to return all locations that at within +/- 10 points of Latitude or Longitude.  Basically what I wanted to do is in the following code but I cannot sort the GPS that way, one because it is a string and two because it is the same property.</p>\n\n<pre><code>  inputlocation = self.request.get(\"userlocation\")\n\n        g = geocoders.Google()\n        try:\n            place, (lat, lng) = g.geocode(inputlocation)\n        except ValueError:\n            geocodespot = g.geocode(inputlocation, exactly_one=False)\n            place, (lat, lng) = geocodespot[0]\n         GPSlocation = \"(\"+str(lat)+\", \"+str(lng)+\")\"\n         GPSlocation = float(GPSlocation)\n\n         bound = 10\n         upper = GPSlocation + bound\n         lower = GPSlocation - bound\n         left = GPSlocation + bound\n         right = GPSlocation - bound\n\n        if GPSlocation:\n            locations = db.GqlQuery(\"select * from Location where GPSlocation&gt;:1 and where GPSlocation&gt;:2 and where GPSlocation &lt;:3 and where GPSlocation &lt;:4 order by created desc limit 20\", upper, lower, left, right)\n#example GPSlocation in the datastore = \"(37.7699298, -93.4469157)\"\n</code></pre>\n\n<p>Can you think of any way to do basically this without having to change the way my datastore is set up?  Is there any way to get that information without just making two properties one for Latitude and one for Longitude?</p>\n"},{"tags":["java","google-app-engine","datastore","operations","quota"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12816879,"title":"Can any one explain how to Understanding Datastore Read Costs in App Engine?","body":"<p>I am doing geoquery among 300 user entities with a result range 10.<br>\nI've maked a query for 120 times. For each query I got 10 user entity objects.<br>\nAfter this my app engine read operations reached 52% (26000 operations).<br>\nMy user entity has 12 single value properties and 3 multi-value properties(List type).<br>\nUser entity have 2 indexes for single value properties and 2 indexes on list type properties.<br>\nCan any one please help me to understand how google's appengine counts the datastore read operations?</p>\n"},{"tags":["java","google-app-engine","google-drive-sdk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12811705,"title":"Create folder if it does not exist in the Google Drive","body":"<p>My Application works with Google Drive Java API.</p>\n\n<p>I want to create folder in the root of the Google Drive only if it does not exist. I am using below code to creat folder.</p>\n\n<pre><code>  file = service.files().insert(body).execute();\n</code></pre>\n\n<p>How do i check the folder existance in the root folder. I have only the folder name 'Myapp', not the instance ID.</p>\n"},{"tags":["google-app-engine","bouncycastle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12815899,"title":"BouncyCastle on GAE/J","body":"<p>According to this Issue on Google Code for GAE, BouncyCastle should just work fine.\nCan anyone confirm this? Because I can't get it to run...</p>\n\n<p><a href=\"http://code.google.com/p/googleappengine/issues/detail?id=1612#c18\" rel=\"nofollow\">http://code.google.com/p/googleappengine/issues/detail?id=1612#c18</a></p>\n"},{"tags":["google-app-engine","google-cloud-storage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12764269,"title":"Google File Service closeFinally() timeout","body":"<p>I just faced a problem with writing data to Google Cloud Storage using AppEngine FileService.</p>\n\n<p>The problem is timeout related as I think. I created new GS file and write data to it using Tasks. Every task closes FileWriteChannel with close(). But closeFinally() is called in about 2 hours after last write (It is required by my DataFlow). So I do not see any file in GS. </p>\n\n<p>Is it any timeoute between last write and closeFinally()?</p>\n"},{"tags":["java","google-app-engine","servlets","restlet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12812391,"title":"Nested URL-pattern in the web.xml in Java Servlet","body":"<p>My application is based on the Java Servlet. We used Restlet based framework.</p>\n\n<p>we want to redirect all URI starts with /api/v1/* to Restlet Resource. I have following statements in the web.xml.</p>\n\n<pre><code>&lt;!--  Needed for the restlet --&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.restlet.ext.servlet.ServerServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;org.restlet.application&lt;/param-name&gt;\n        &lt;param-value&gt;com.post.PostApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/v1/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>But above statements DOES NOT WORK.\nBut if i change the url pattern to /*, then it works.</p>\n\n<p>What i missing here?</p>\n"},{"tags":["google-app-engine","gwt","goo.gl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":34,"score":-5,"question_id":12811918,"title":"I need an example for goo.gl service with use of the Google App Engine?","body":"<p>I need an application that is written in GWT .and that uses goo.gl service for url shortening.\nIt must be used with GAE</p>\n"},{"tags":["python","google-app-engine","google-cloud-print"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":8941365,"title":"Google Cloud Print - Python Code Sample - GaiaLogin returns None","body":"<p>Anyone got it to work?</p>\n\n<p><a href=\"https://code.google.com/intl/de-DE/apis/cloudprint/docs/pythonCode.html\" rel=\"nofollow\">https://code.google.com/intl/de-DE/apis/cloudprint/docs/pythonCode.html</a></p>\n\n<p>GaiaLogin returns None :(</p>\n"},{"tags":["python","google-app-engine","cloud","google-cloud-print"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":585,"score":1,"question_id":5821068,"title":"Print from server directly to Google Cloud Print on Google App Engine","body":"<p>I don't know if it's possible or practical yet, but if it is: How can one print to a printer using <a href=\"http://www.google.com/support/cloudprint/\" rel=\"nofollow\">Google Cloud Print</a> from a python application running on <a href=\"http://code.google.com/appengine/\" rel=\"nofollow\">Google App Engine</a>?</p>\n\n<p>For the purposes of an example, let's presume the user is logged into a Google or Google Apps account when accessing the App Engine application, and that account is attached to a cloud-aware printer (e.g. registered printers in Google Chrome with cloud print).</p>\n\n<p>I'd like to print, for example, a PDF file that's stored in a blob on GAE. Let's call this blob <code>pdf_contents</code>. I'd like a function:</p>\n\n<pre><code>def print_pdf(pdf_contents, printer, print_settings):\n    \"\"\"Prints `pdf_contents` (a blob conforming to the PDF standard) to `printer`\n     (a Google Cloud Printer) with the given `print_settings`\"\"\"\n    # what goes here?\n</code></pre>\n\n<p>I'd like to know how to go about doing this, and whether anyone else has made any efforts in this respect. Of course, I don't want to limit the printing to PDF files, but wanted to narrow down the example.</p>\n\n<p>Thank you for reading.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12792128,"title":"Google Appengine: User.equals throws NullPointerException","body":"<p>I have a frustrating issue that my app on Google Appengine throws NullPointerException like:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.google.appengine.api.users.User.equals(User.java:143)\n</code></pre>\n\n<p>My code looks like:</p>\n\n<pre><code>if (excludeUser.equals(someEntity.getProperty(\"user\")))\n</code></pre>\n\n<p>The user property in the entity was another User object previously stored in the datastore. Even if I change the code to something like the following, it does not raise the exception:</p>\n\n<pre><code>if (excludeUser.equals(null))\n</code></pre>\n\n<p>So I guess it's some internal logic in User.equals causes the problem, or some other tricky thing when storing the user object into the datastore? </p>\n\n<p>In addition, the logic works well in development environment. The problem only happens on GAE. </p>\n\n<p>I'm using the Google Accounts API, not the Federated login. I tried them both. The same result. Any clue is appreciated, thanks.</p>\n"},{"tags":["google-app-engine","gae-datastore","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12803150,"title":"Google App Engine Datastore Viewer How to Create Entity and Set String @Id (key) Field","body":"<p>I have a data model class where the String field \"customerUniqueId\" is tagged using Objectify annotation <strong>@Id</strong>.  Therefore I am using a string key field (not auto-number long) that I set in code when creating a new object to put to the data store.</p>\n\n<pre><code>@Id private String customerUniqueId;\n</code></pre>\n\n<p>While using the Datastore Viewer to view these objects, I can click the <strong>Create</strong> tab to create a new object.  However the \"customerUniqueId\" field is not offered as an input field.  I am only shown the fields tagged as <strong>@Indexed</strong> in my data model.</p>\n\n<p>Is this expected behavior or should I be able to input a value for the @Id field in the Datastore Viewer Create feature?  </p>\n\n<p>Am I using @Id incorrectly and must I name the field as \"id\" or \"name\"?</p>\n\n<p>Perhaps if I tag the @Id field as also @Indexed but that should be unnecessary right?  @Id fields should always be indexed be definition.  </p>\n\n<p>Perhaps it has something to do with the \"Namespace\" textboxes in the Create form that I left blank?  </p>\n\n<p>Anyone have this issue and know of a solution?  Thanks!</p>\n"},{"tags":["java","google-app-engine","transactions","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12800060,"title":"Google app engine transaction granularity","body":"<p>I am writing a java application on Google App Engine(GAE) using objectify for datastore interface. I need to use transaction to make sure some of the operations in my app are atomic.  But I am confused about granularity of the database transaction i.e. if I am using a particular entity object in a transaction in a thread then which one of the following is true ? :-</p>\n\n<p>1) Can I use some other object of the same entity in a transaction in a different thread concurrently ?</p>\n\n<p>2) OR, Is it that at a time I can be making changes to only one object of a particular entity type</p>\n\n<p>If (2) is true, then what should I do if I expect to have multiple request to be coming for updating a particular entity type even though they will be for different objects under that entity type ?</p>\n\n<p>Thanks...</p>\n"},{"tags":["google-app-engine","clojure"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":79,"score":5,"question_id":12772824,"title":"Is Clojure concurrency support still disabled on App Engine?","body":"<p>In a recent <a href=\"http://www.adrianmouat.com/bit-bucket/2012/08/clojure-and-google-app-engine/\">blog post</a>, Adrian Mouat said that App Engine doesn't support Clojure concurrency, such as agents. However, <a href=\"http://code.google.com/p/googleappengine/wiki/SdkForJavaReleaseNotes\">GAE Java supports threads</a> as of the App Engine 1.6.4 release.</p>\n\n<p>Is the Clojure concurrency model fully supported on App Engine?</p>\n"},{"tags":["java","eclipse","google-app-engine","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12808037,"title":"Datanucleus enhancer fails with class not found exception on Eclipse with GAE plugin","body":"<p>I have Eclipse with the Google App Engine plugin installed. Until recently the Datanucleus enhancer, which is run automatically when classes are saved worked nicely.</p>\n\n<p>One of my entity classes has since grown slightly more complicated with the introduction of a member of a type, that resides inside an external library located in the project's lib-directory.</p>\n\n<p>The field in question is marked with the @Transient annotation, but still the Datanucleus enhancer tries in vain to find the class in question. Apparently the jar-files in the project's lib-directory aren't scanned for dependencies.</p>\n\n<p>Is there a way to define the classpath for the Datanucleus enhancer?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":11731719,"title":"How do I get an instance Id of app engine front server?","body":"<p>And is there a way to send a request directly to that server?</p>\n"},{"tags":["google-app-engine","yaml"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1451,"score":2,"question_id":2633684,"title":"What does upload in Google AppEngine app.yaml do?","body":"<p>I am going through the various Google AppEngine tutorials sometimes, and I just noticed something odd in a StackOverflow question about favicon.ico - specifically this question: <a href=\"http://stackoverflow.com/questions/887328/favicon-ico-not-found-error-in-app-engine\">http://stackoverflow.com/questions/887328/favicon-ico-not-found-error-in-app-engine</a></p>\n\n<blockquote>\n  <p>- url: /favicon.ico<br>\n  static_files: media/img/favicon.ico<br>\n  <strong>upload:</strong> media/img/favicon.ico<br></p>\n  \n  <p>- url: /robots.txt<br>\n   static_files: media/robots.txt<br>\n   <strong>upload:</strong> media/robots.txt<br></p>\n</blockquote>\n\n<p>All of the posters included an <em>\"upload:\"</em> line in their app.yaml definitions The application appears to work the same with or without the upload: line, and I have not seen any mention of it in the official documentation.</p>\n\n<p>Where is it used, or what difference does it make if this line is included or not?</p>\n"},{"tags":["google-app-engine","python-2.7","openid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":12805418,"title":"user.nickname gives a URL instead of a nickname python GAE","body":"<p>I have the following code </p>\n\n<pre><code> def get(self):\n    user = users.get_current_user()\n    if user:  # signed in already\n        self.response.out.write(\"User Id =\" + user.user_id() + \" - User federated identity = \" +  user.federated_identity() + \" - User IdentityProvider = \"+user.federated_provider() + \" - User Email\" + user.email() + \"USer Nickname = \" + user.nickname())\n    else:     # let user choose authenticator\n        self.response.out.write('Hello world! Sign in at: ')\n        for name, uri in providers.items():\n            self.response.out.write('[&lt;a href=\"%s\"&gt;%s&lt;/a&gt;]' % (\n                users.create_login_url(federated_identity=uri), name))\n</code></pre>\n\n<p>I tried using the google as well as yahoo as an open id provider, But whenever i try to access the user attributes such as user federated identity or user nickname it outputs URL instead of a nickname, Can anyone tell me if I am doing anything wrong here.</p>\n\n<p>here is the output I am seeing</p>\n\n<pre><code>User federated identity = https://me.yahoo.com/a/JHqoh95mg8UqmFeDWlzSxKLW_SnNIOTlOcplbGQ\n\nand user.nickname() also outputs this\n</code></pre>\n\n<p>P.S: I have already configured my application to use the open ID in the application dashboard and my code is working </p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":222,"score":0,"question_id":10248642,"title":"Cannot run web project with GAE","body":"<p>I just started making a a new web project using GAE SDK without GWT but in the console all I get is this:</p>\n\n<pre><code>WARNING: Failed startup of context com.google.appengine.tools.development.DevAppEngineWebAppContext@689a1f91{/,C:\\Users\\Mike\\workspace\\project\\war}\njava.lang.IllegalStateException: No such servlet: default\n    at org.mortbay.jetty.servlet.ServletHandler.updateMappings(ServletHandler.java:1026)\n    at org.mortbay.jetty.servlet.ServletHandler.setServletMappings(ServletHandler.java:1110)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.initialize(WebXmlConfiguration.java:306)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.configure(WebXmlConfiguration.java:222)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.configureWebApp(WebXmlConfiguration.java:180)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1247)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n    at org.mortbay.jetty.Server.doStart(Server.java:224)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:196)\n    at com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:239)\n    at com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:146)\n    at com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:173)\n    at com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\n    at com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:120)\n    at com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:96)\n</code></pre>\n\n<p>Here is web.xml.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns=\"http://java.sun.com/xml/ns/javaee\"\nxmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\"&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.png&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n  &lt;filter&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter&lt;/filter-class&gt;\n  &lt;/filter&gt;\n  &lt;filter-mapping&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/filter-mapping&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;dispatcher&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  &lt;session-config&gt;\n    &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n  &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["eclipse","google-app-engine","jsp","classpath","noclassdeffounderror"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12781742,"title":"No Class Def Found Error in my JSP file","body":"<p>I have a jsp file called AddBidding.jsp which adds bids for a facility. I am using the Google App Engine's datastore (objectify). When I try to run the file using <code>localhost:8888/AddBidding.jsp</code>. However, it keeps giving me <code>NoClassDefinitionFound</code> Error. Can I know what causes this error? I know it's due to the classpath but how do I fix it in Eclipse GAE?</p>\n"},{"tags":["eclipse","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12802904,"title":"Eclipse Wont load after installing Google app engine plugins","body":"<p>I run eclipse 3.7 (indigo) and i use it for Java and Android development, lately i wanted to expend my knowledge and installed the Google app engine plug ins. well now when i load eclipse i get the \"welcoming\" purple box, which disappears in about 2 seconds without telling why. i checked the log on .metadata and i have 4 files full of errors with null pointers and stuff.</p>\n\n<p>Well, i guess all i can do now is reinstall eclipse and the ADT plugin and all that again (bumming as hell).. so at least what i want to ask now is which version of Eclipse would work fine with both ADT for android and GAE plugins?</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12796211,"title":"adding and retrieving collection data into data store using app engine","body":"<p>I am passing Jsonobject to store data into datastore .Now i would like to store an entity of type list into the kind of datastore using appengine.Can any one tell me how to add and retrieve collection types using appengine and without using JDO .   </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":12786256,"title":"Reuse a HRD migrated application's old identifier","body":"<p>I have an application hosted on GAE identifier foo.appspot.com. I recently migrated this app to bar.appspot.com. Now, can I use the application identifier foo.appspot.com to host a totally different application.</p>\n\n<p><br/> APP1 (Master/Slave) --> foo.appspot.com <br/> APP1 (HRD) --> bar.appspot.com <br/><br/> Now foo.appspot.com internally redirects to bar.appspot.com. Can I deploy a totally new application, APP2 on foo.appspot.com, whereas APP1 will be directly accessed from bar.appspot.com? (as below) <br/><br/></p>\n\n<p>APP1 (HRD) --> bar.appspot.com <br/>\nAPP2 (HRD) --> foo.appspot.com <br/></p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","google-app-engine","servlets","restlet-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12792481,"title":"Redirect All URL to retrun index.html in App Engine Java servlet","body":"<p>The web application uses Java Restlet in the backend running on Google App Engine.</p>\n\n<p>I want to return index.html for all url (/*). </p>\n\n<p>Here, I don't want to use <code>response.redirect</code>, i mean, client should not aware of redirection.</p>\n\n<p>i used following code in web.xml.</p>\n\n<pre><code>  &lt;servlet&gt;\n    &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.restlet.ext.servlet.ServerServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;org.restlet.application&lt;/param-name&gt;\n        &lt;param-value&gt;com.post.PostApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RestletServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/v1/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n &lt;servlet&gt;\n    &lt;servlet-name&gt;StartPageServlet1&lt;/servlet-name&gt;\n    &lt;jsp-file&gt;/client/index.html&lt;/jsp-file&gt;  \n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;StartPageServlet1&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>It served all /api/v1 request with Restlet. It works fine.\nBut /* should always return index.html. How do i do it?</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":12293189,"title":"Generated Servlet Configuration web.xml in AppEngine Project","body":"<p>Im curious about the generated servlet configuration in <code>web.xml</code> in my app engine project in eclipse. What's the purpose of this:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.google.api.server.spi.SystemServiceServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;services&lt;/param-name&gt;\n            &lt;param-value/&gt;\n        &lt;/init-param&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/_ah/spi/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12765629,"title":"Datastore (ndb) inserting linebreaks into content (type: TextProperty)","body":"<p>I have a model that looks like this:</p>\n\n<pre><code>class Foo(ndb.Model):\n    bar = ndb.TextProperty(required=True)\n    # other properties\n</code></pre>\n\n<p>I'm using jinja2 for templating:  </p>\n\n<pre><code>{{ bar|safe }}\n</code></pre>\n\n<p>I 'put' in <a href=\"http://cl.ly/image/1S3Z3b2v0v0U\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>&lt;p&gt;I think it is always going to be challenging planning a wedding in a foreign country. 1234 Weddings was able to pre-arrange everything before our arrival and even meet us at the airport to attend to last minute details.&lt;br&gt; The wedding itself was even more amazing than we could have imagined and flawless. For our day, 1234 Weddings became a part of our family and our memories. We are so greatful for the professional communication and creativity that made our day so special.&lt;/p&gt;\n</code></pre>\n\n<p>And ndb mangles the text, outputting <a href=\"http://cl.ly/image/291w1x2s0S3C\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>&lt;p&gt;I think it is always going to be challenging planning a wedding in a for=\neign country. 1234 weddings was able to pre-arrange everything before our a=\nrrival and even meet us at the airport to attend to last minute details.&lt;br=\n&gt;The wedding itself was even more amazing than we could have imagined and f=\nlawless. For our day, 1234 Weddings became a part of our family and our mem=\nories. We are so greatful for the professional communication and creativity=\n that made our day so special.&lt;/p&gt;\n</code></pre>\n\n<p>This only happens on my deployed site. The identical code on localhost doesn't produce this issue. </p>\n\n<p>Possibly relevant:  </p>\n\n<ul>\n<li>My local app engine doesn't have a persistant datastore.</li>\n<li>bar was originally of type 'StringProperty'. I noticed the issue after I changed the type to 'TextProperty', but there wasn't extensive testing before the change so it's possible the issue existed prior to that.</li>\n</ul>\n\n<p>Any help would be appreciated.<br>\nTIA.</p>\n"},{"tags":["google-app-engine","gwt","restlet"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":11385764,"title":"GWT Restlet Parameters Always Null","body":"<p>I am brand new to both REST and RESTlet- I got everything up and communicating last night but what I found this morning is that everything I pass into the server is always becoming null.</p>\n\n<p>just as a sample app i have the following - a User Objectify entity (id, emailAddress, and version), and a RESTUserProxy object (id, emailAddress) - I wasn't originally sure if i could pass Objectify Entities back and after  not being able to see anything switched it to the Proxy object - if i can get it to work this way I will try switching it back</p>\n\n<p>the front end is as follows:</p>\n\n<pre><code>public interface RESTUserResourceProxy extends ClientProxy {\n\n  @Get\n  public void find(String emailAddress, Result&lt;RESTUserProxy&gt; callback);\n\n  @Put\n  public void persist(RESTUserProxy user, Result&lt;Void&gt; callback);\n\n  @Delete\n  public void delete(RESTUserProxy user, Result&lt;Void&gt; callback);\n}\n</code></pre>\n\n<p>the backend code is as follows (this is currently extremely ugly - i got a little frustrated just trying to see something and put in a ton of sysouts)</p>\n\n<pre><code>public class RESTUserServerResource extends ServerResource implements RESTUserResource {\n\n  private final UserDao userDao;\n\n  public RESTUserServerResource() {\n    System.out.println(\"CREATED USER RESOURCE IMPL\");\n    userDao = new UserDao();\n  }\n\n  @Override\n  @Get\n  public RESTUserProxy find() {\n    System.out.println(\"reference = \" + getReference());\n    Form queryParams = getReference().getQueryAsForm();\n    System.out.println(\"query params = \" + queryParams);\n    System.out.println(\"query = \" + getQuery());\n    System.out.println(\"query string = \" + getQuery().getQueryString());\n    String searchQuery = (String) getRequest().getAttributes().get(\"searchQuery\");\n    System.out.println(\"search query = \" + searchQuery) ;\n    return null;\n//    if (emailAddress == null) {\n//      return null;\n//    }\n//    System.out.println(\"user resource impl find [\" + emailAddress + \"]\");\n//    final User user = userDao.find(emailAddress.getText());\n//    if (user != null) {\n//      System.out.println(\"found user \");\n//      return new RESTUserProxy(user.getId(), user.getEmailAddress());\n//    } else {\n//      System.out.println(\"found absolutely nothing\");\n//      return null;\n//    }\n  }\n\n  @Override\n  @Put\n  public void persist(RESTUserProxy userProxy) {\n    System.out.println(\"user proxy = \" + userProxy);\n    if (userProxy == null) {\n      return;\n    }\n    final User user = userDao.find(userProxy.getId());\n    user.setEmailAddress(userProxy.getEmailAddress());\n    user.setId(userProxy.getId());\n    userDao.persist(user);\n  }\n\n  @Override\n  @Delete\n  public void delete(RESTUserProxy userProxy) {\n    final User user = userDao.find(userProxy.getId());\n    userDao.delete(user);\n  }\n}\n</code></pre>\n\n<p>what im having problems with is that eerythings coming through as null - a lot of other answers on here said to get the query to get the params - but here the query is null</p>\n\n<p>below is the output of calling find and persist</p>\n\n<pre><code>reference = http://127.0.0.1:8888/users/123\nquery params = []\nquery = []\nquery string = \nsearch query = null\n</code></pre>\n\n<p>i'm sure i'm doing something stupid here i just have no idea how to proceed right now.  Any help as to what i'm doing wrong would be greatly appreciated.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12788757,"title":"App Engine Datastore - Data Model","body":"<p>I am working with App Engine since couple of days. The most important for me now is modeling data, so I have some question about that.\nLet's say that I have simple <code>MyUser</code> class. I have <code>Buddy</code> class as well which looks like that:</p>\n\n<pre><code>@Entity\npublic class Buddy {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Key id;\n  private Date createAt;\n  private MyUser user;\n  private Key buddyOf;\n}\n</code></pre>\n\n<p>In this class I have <code>MyUser</code> field because every buddy is an user and I have buddyOf field because there is another MyUser which has this buddy on his buddy list. \nThe question is If I get from Datastore one sample buddy, I get this <code>MyUser</code> as well? If yes what when in <code>MyUser</code> class will be embedded another <code>Entity</code> and in that <code>Entity</code> one more, etc...? Maybe I should persist only <code>Key</code> fields to other entities?\nThe main question is how I should store data in datastore? I should use composition and has objects inside other objects? If yes what with objects in objects in objects, etc...\nWhat is the best approach?</p>\n"},{"tags":["google-app-engine","google"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12792901,"title":"Google App Engine could not upload the project file","body":"<p>I made a change to <code>backends.py</code> and I'm trying to upload the project and am getting an error. I have used the rollback command as well but I keep getting the error. </p>\n\n<pre><code> Error 409: --- begin server output ---\n Another transaction by user admin is already in progress for app: s~test-appx, \n backend: urlstat. That user can undo the transaction with \"appcfg backends rollback\".\n--- end server output ---\n</code></pre>\n\n<p>Does anyone have any idea about this?</p>\n"},{"tags":["python","google-app-engine","encryption","base64"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":44,"score":-3,"question_id":12792777,"title":"as I add a decryption key in base64 python library?","body":"<p>is a library,as implemented in source code,as I add a decryption key</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12787730,"title":"Execute code on App Engine application initialization","body":"<p>When running a Python Web Application  on App Engine, we need to set up some mechanism to execute some code before (or during) the application's initialization.  This means that, in the optimal solution, the code that we need to run is executed as early as possible.  The purpose of this is to allow for the App Engine remote_api to be initialized before the <strong>local</strong> datastore is accessed, so as to prevent datastore access conflicts.</p>\n\n<p>This is a very rough example of what we're looking for:</p>\n\n<pre><code>imports (including remote_api)\n\ndef some_initialization_function_or_similar (args):\n    some_init_function_calls(...)\n\n    setup_remote_api(...)\n\n    access_datastore_the_first_time(...)\n</code></pre>\n\n<p>Please take this question as reference to the scenario we're looking at: <a href=\"http://stackoverflow.com/questions/12588327/using-gae-remote-api-for-debugging-from-localhost-connecting-too-late\">Using GAE remote api for debugging from localhost - Connecting too late?</a></p>\n"},{"tags":["java","google-app-engine","jsp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":11775945,"title":"Can't set JSP as welcome file in the GAE Guestbook example","body":"<p>i'm following the example here:</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/java/gettingstarted/usingjsps\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/gettingstarted/usingjsps</a></p>\n\n<p>so i created a really basic jsp file:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\ntesting\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and I'm trying to make this the welcome page, like it says in the tutorial:</p>\n\n<pre><code>    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;guestbook.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>but it doesn't get called at. when I go to <code>http://localhost:8888</code> it's as if it's missing a file (i renamed index.html. when there is index.html - it displays it).</p>\n\n<p>when i visit <code>http://localhost:8888/guestbook.jsp</code> i can see the jsp file with no problem</p>\n\n<p>UPDATE: this happens only on my development server. when i deployed to google app engine, it works as expected:</p>\n\n<p><a href=\"http://test-ishener.appspot.com/\" rel=\"nofollow\">http://test-ishener.appspot.com/</a></p>\n"},{"tags":["google-app-engine","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11592334,"title":"Google cloud storage - determine directory size for each user","body":"<p>I have created one bucket which will be used to store data for all my users. The structure of the directories is as follows :</p>\n\n<p>--> BUCKET_NAME/USER_IDENTIFIER/CREATION_DATE/OBJET_ID</p>\n\n<p>==> Is it possible with gsutil or through the API to get the overall size for each of the users ?</p>\n\n<p>For example, if USER X is identified by \"USER_1\", I'd like to get the size of all objects under BUCKET_NAME/USER_1 </p>\n\n<p>Would be great if someone has an idea how to implement this ? Using standard file name, it would be rather easy but I couldn't find an easy way to implement this with Google Cloud Storage.</p>\n\n<p>Thanks,</p>\n\n<p>Hugues</p>\n"},{"tags":["python","google-app-engine","encryption","pkcs7","passbook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":406,"score":0,"question_id":12465931,"title":"Encode PKCS7 in Google App Engine (python, passbook)","body":"<p>This question pertains to Passbook which is under NDA for the next few days, but this is a generic PKCS7 question.</p>\n\n<p>I have a .p12 file that is exported from my keychain.  I am able to separate this into 2 pems using the following commands</p>\n\n<pre><code>openssl pkcs12 -in \"mycert.p12\" -clcerts -nokeys -out certificate.pem\nopenssl pkcs12 -in \"mycert.p12\" -nocerts -out key.pem\n</code></pre>\n\n<p>The next step is to use this key and certificate to create a signed PKCS7 file.  This is easy to do with openssl:</p>\n\n<pre><code>openssl smime -binary -sign \\\n    -signer certificate.pem -inkey key.pem \\\n    -in &lt;datafile&gt; -out signature \\\n    -outform DER\n</code></pre>\n\n<p>The question is, what is the best way to do this in Google App Engine, assuming I have the certificate and key?  Unfortunately I'm a little new to cryptography, but I've been googling around and found PyCrypto and keyczar.  Is there an accepted way to do this on App Engine, or will I need to write something?  Any recommendations on which package to start with?<br>\nI know that openssl is not available on AppEngine, but PyCrypto is if you use python 2.7, right?  And I've seen posts of people getting keyczar to work with it.  I have not been able to find a simple way of generating PKCS7-encoded data given the key and certificate, though.</p>\n\n<p>Thanks in advance for any guidance.</p>\n"},{"tags":["java","eclipse","google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12773035,"title":" How do I make Eclipse recognize the Java compiler (1.6) and projects facet (1.6) do, in fact, match in GAE project?","body":"<p>I'm using Eclipse version 4.2, I have the GWT plugin installed, and created a new Web Application Project and enabled GAE and GWT. I'm getting an error stating \"Java compiler level does not match the version of the installed Java project facet.\" I have the compiler level set to 1.6. My version of eclipse does not seem to have an option to change the facet version in the UI (i.e. select project properties, no option on left for facets...), so after some searching I found that the org.eclipse.wst.common.project.facet.core.xml file could be edited (under my project/.settings/ folder), so I went in and changed \"version\" to \"1.6\" Rebuilt the project, closed and reopened eclipse a billion times, and tried changing every setting and searching for every instance of \"1.7\" in the project I could to ensure Java 1.6 is being used for everything, yet I still get an error stating the compiler level and installed Java project facet do not match. I have searched and searched, and most posts tend to recommend going to project, properties and selecting project facets on the left. This DOES NOT APPEAR, and I have changed the file in .settings to indicate 1.6 (i've closed and reopened several times to confirm this has saved, and rebuilt the project to ensure it knows this has been changed). Help, please! Oh, and I'm using Windows 7.</p>\n\n<p>Java 6 (JDK 1.6) is installed on my system.</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12789106,"title":"Read an XML file uploaded with app","body":"<p>I am using Java, GWT and Eclipse.  I have a static XML file I want to parse to get certain data that will fill in list boxes and other info. How can I read the static XML file in both the server and client side of the code?  Where do I put the XML file?  Also, where can I put it if I only want the server to have access to it (since it contains sensitive data)?</p>\n"},{"tags":["java","android","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12785943,"title":"App Engine Exception, how to catch in Android","body":"<p>I am trying to use App Engine with Google Endpoints and I just saw a strange behavior. If I throw exception by:</p>\n\n<pre><code>throw new Exception(\"MyException\");\n</code></pre>\n\n<p>then if I caught it on the android side in <code>AsyncTask</code> which is responsible for connect with Endpoint, I simply cannot get a message from it. If I call <code>e.getMessage()</code> I got something like that:</p>\n\n<pre><code>503 Service Unavailable\n[ code: \"503\",\n...\nmessage: \"MyException\"\n]\n</code></pre>\n\n<p>It is a little bit strange. Is anyone met with this behavior? How can I properly throw Exceptions on App Engine?</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12786244,"title":"Appengine 302 redirect after deleting alias domain from Google Apps","body":"<p>Our google apps account had two domains - a primary (abc.com) and an alias(def.com). We created an appengine app using @def.com. We later realized that there were issues with mapping a custom domain to an alias/secondary domain. So we created a new google apps account for def.com and in order to do that, we deleted all users and nicknames associated with def.com. Now, we're locked out of appengine - we have <a href=\"https://groups.google.com/forum/#!msg/google-appengine/Poo5cv_-9yA/jqTDdA_KcqYJ\" rel=\"nofollow\" title=\"302 Redirect Problem\">this problem</a>)</p>\n\n<p>Can't get in using any user account from either domain, although the same app appears as a linked app in both google apps admin accounts. We can't remove the app from our google apps accounts (we get a message saying we have insufficient permissions. We get that the app was linked to the deleted account. But now that we have a new domain, why can't we create new apps? Google doesn't seem to be of any help (both the Co and the search). Anybody know a solution to this?</p>\n"},{"tags":["query","google-app-engine","gwt","gae-datastore","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12773632,"title":"Queries with Objectify: UmbrellaException","body":"<p>I am using Objectify to manage GAE Datastore for my GWT app. The problem is that I am not using queries properly and I get UmbrellaExceptions as per below:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Server Error: java.lang.String cannot be cast to java.lang.Number\n    at com.google.web.bindery.requestfactory.shared.Receiver.onFailure(Receiver.java:44)\n</code></pre>\n\n<p>Say that I have a class <code>Box</code> with a unique field <code>String id</code>. I want to get the Box object whose <code>id == \"cHVQP6zZiUjM\"</code></p>\n\n<p>This is how I do it now:</p>\n\n<pre><code>public Box getBox(String boxId)\n{\n    Objectify ofy = ObjectifyService.begin();\n    Query&lt;Box&gt; q=ofy.query(Box.class).filter(\"id\",boxId);\n    Box targetBox = q.get();\n\n    return targetBox;\n}\n\n\n@Entity\npublic class Box extends DatastoreObject{\n    private String id;\n    private String title;\n}\n</code></pre>\n\n<p>I tried doing this with ofy.load() but that method is not defined in my class Objectify (I don't know why).</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12784648,"title":"Google App Engine converting string to propery(of Entity)","body":"<pre><code>class Personel(db.Model):\n  ismarried=db.StringProperty()\n\n\nclass AddPersonal(webapp.RequestHandler):\n  def get(self):\n    per=Personal()\n    #i want use a function at below, instead of per.ismarried\n    per.whatisthisfunction(\"ismarried\")=\"yes\"\n    per.put\n</code></pre>\n\n<p>I want convert string to entity's propery. Can it possible as above.</p>\n"},{"tags":["java","google-app-engine","servlets","restlet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12780246,"title":"Backbone History Push State with Google App Engine","body":"<p>My application is Backbone Single page App. It used Google App enginen as backend and RestLet Framework.  It uses history push state for user friendly URL.</p>\n\n<p><a href=\"http://example.com/post/:id\" rel=\"nofollow\">http://example.com/post/:id</a>. </p>\n\n<p>ABove link works when i navigate from Web site since i added Event Handler in the Backbone Views.</p>\n\n<p>But if i copy and paste URL in the browser and Hit enter, it says <code>The server has not found anything matching the request URI</code>. </p>\n\n<p>I understand that this URL is not configured in the server. </p>\n\n<p>How do i handle above URL in the server side in Google App Engine.</p>\n"},{"tags":["python","django","google-app-engine","django-compressor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12774696,"title":"Django-Compressor cannot find files when it's actually there","body":"<p>I just installed django-compressor to my project and I am getting below error message.</p>\n\n<blockquote>\n  <p>TemplateSyntaxError at / Caught UncompressableFileError while\n  rendering: 'js/jquery-1.7.2.min.js' could not be found in the\n  COMPRESS_ROOT '/Users/taelimoh/Dropbox/gluwa-git/static' or with\n  staticfiles.</p>\n</blockquote>\n\n<p>This also happens when I try to compress css files.</p>\n\n<p>Of course, the files are there and it works fine when I don't try to compress them with django-compressor.</p>\n\n<p>below is my template</p>\n\n<pre><code>...\n    {% compress js %}\n        &lt;!--Javascripts--&gt;\n        &lt;!--Libraries--&gt;\n        &lt;script type=\"text/javascript\" src=\"/static/js/jquery-1.7.2.min.js\"&gt;&lt;/script&gt;\n    {% endcompress %}\n...\n</code></pre>\n\n<p>and this is my settings.py</p>\n\n<pre><code>COMPRESS_ENABLED = True\n\nSTATICFILES_FINDERS = (\n    'django.contrib.staticfiles.finders.FileSystemFinder',\n    'django.contrib.staticfiles.finders.AppDirectoriesFinder',\n    'compressor.finders.CompressorFinder',\n)\n\nINSTALLED_APPS = (\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.admin',\n    'django.contrib.admindocs',\n    'django.contrib.humanize',\n    ##############################################\n    'appconf',# required by django-compressor\n    'versiontools',# required by django-compressor\n    'compressor',#https://github.com/jezdez/django_compressor\n    ...\n)\n</code></pre>\n\n<p>I am using google app engine and my django version is 1.3.\nThe issue was produced on my development server.</p>\n"},{"tags":["java","android","google-app-engine","xmpp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":102,"score":0,"question_id":12780069,"title":"XMPP in Google App Engine and Android for a chat application","body":"<p>I want to build a simple chat app where users can send messages to each other.\nCan I do it with XMPP service from Google App Engine?</p>\n\n<p>In theirs tutorials and all the tutorials I found in the web It was implementation of a bot server. I also found similar tutorials but they are in phyton.</p>\n\n<p>Is there a good and full tutorial that can guide in server and client side?  </p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine","ssl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":11245876,"title":"setup SSL on AppEngine... Assigned URLs \"empty\"","body":"<p>I have setup Custom Domain \"https://developers.google.com/appengine/docs/domain\"</p>\n\n<p>I have uploaded \"An SSL certificate and private key\"  (to create those i am using \"XCA\" on Ubuntu, available in the Ubuntu Software Center\" )</p>\n\n<p>Result ...\"Assign all matching URLs\" or \"Add\" Button is inactive.</p>\n\n<p>What are the details to follow setting up SSL for AppEgine Custom Domain?</p>\n\n<p>HELP: following the link on \"http://support.google.com/a/bin/answer.py?hl=en&amp;answer=2644386\" refers to a login see: (moma single sign on) ???-></p>\n\n<p><a href=\"https://login.corp.google.com/saml_idp?KeyID=w1n&amp;SAMLRequest=fVJNT%2BMwEL0j7X%2BwfM8nYoWsJqgLQluJhYgGDtwcZ1KctT3B47Tw70lTEN3DcvTz8%2FsYz%2BLi1Rq2BU8aXcGzOOUMnMJWu03BH%2Brr6JxflD9OFiStGcRyDM%2FuHl5GoMCml47EfFHw0TuBkjQJJy2QCEqsl39uRB6nYvAYUKHhbHVV8N4hdoPq26a1%2FeYvmB6taXXTY9%2FIRjfN4IbOSsXZ42esfB9rRTTCylGQLkxQmuVR%2BjPKz%2BvsVJzm4ix94qz6cPql3aHBd7GaA4nE77quoupuXc8CW92Cv53YBd8gbgzECu3evpJEejvBnTQEnC2JwIcp4CU6Gi34NfitVvBwf1Pw5xAGEkmy2%2B3iL5lEJscHRbycJyvmcv5opN9Hl5%2FWvPzSWyRHUuXHj%2B2LrK4qNFq9saUxuLv0IMPUIvhxKnGN3srwf7cszmZEt1E3U8XoaAClOw0tZ0l5cP13NaaFeQc%3D&amp;RelayState=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2FServiceLogin%3Fservice%3Dah%26passive%3Dtrue%26continue%3Dhttps%253A%252F%252Fappengine.google.com%252F_ah%252Fconflogin%253Fcontinue%253Dhttps%253A%252F%252Fdevsite.googleplex.com%252Fappengine%252Fdocs%252Fssl%26ltmpl%3Dga%26shdf%3DCioLEgZhaG5hbWUaHkdvb2dsZSBEZXZTaXRlIENvbnRlbnQgU3RhZ2luZwwSAmFoIhRMUzrDPeZIM0WftD9x6Ag2ike0YCgBMhQmSRWl793zR9on0qxjQb8iedMy3Q\" rel=\"nofollow\">https://login.corp.google.com/saml_idp?KeyID=w1n&amp;SAMLRequest=fVJNT%2BMwEL0j7X%2BwfM8nYoWsJqgLQluJhYgGDtwcZ1KctT3B47Tw70lTEN3DcvTz8%2FsYz%2BLi1Rq2BU8aXcGzOOUMnMJWu03BH%2Brr6JxflD9OFiStGcRyDM%2FuHl5GoMCml47EfFHw0TuBkjQJJy2QCEqsl39uRB6nYvAYUKHhbHVV8N4hdoPq26a1%2FeYvmB6taXXTY9%2FIRjfN4IbOSsXZ42esfB9rRTTCylGQLkxQmuVR%2BjPKz%2BvsVJzm4ix94qz6cPql3aHBd7GaA4nE77quoupuXc8CW92Cv53YBd8gbgzECu3evpJEejvBnTQEnC2JwIcp4CU6Gi34NfitVvBwf1Pw5xAGEkmy2%2B3iL5lEJscHRbycJyvmcv5opN9Hl5%2FWvPzSWyRHUuXHj%2B2LrK4qNFq9saUxuLv0IMPUIvhxKnGN3srwf7cszmZEt1E3U8XoaAClOw0tZ0l5cP13NaaFeQc%3D&amp;RelayState=https%3A%2F%2Fwww.google.com%2Fa%2Fgoogle.com%2FServiceLogin%3Fservice%3Dah%26passive%3Dtrue%26continue%3Dhttps%253A%252F%252Fappengine.google.com%252F_ah%252Fconflogin%253Fcontinue%253Dhttps%253A%252F%252Fdevsite.googleplex.com%252Fappengine%252Fdocs%252Fssl%26ltmpl%3Dga%26shdf%3DCioLEgZhaG5hbWUaHkdvb2dsZSBEZXZTaXRlIENvbnRlbnQgU3RhZ2luZwwSAmFoIhRMUzrDPeZIM0WftD9x6Ag2ike0YCgBMhQmSRWl793zR9on0qxjQb8iedMy3Q</a></p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":66,"score":0,"question_id":12722067,"title":"Does updating an objects property retrieved from memcache update the property in the datastore?","body":"<p>First, I retrieve an object from memcache:</p>\n\n<pre><code>player = memcache.get('%s' % id)\n</code></pre>\n\n<p>Then I update one of its properties:</p>\n\n<pre><code>player.score = newScore\n</code></pre>\n\n<p>I've done a bit of testing and it seems as it these two lines change the property player.score in my datastore. Now, I don't know much about memcache, but I do not expect this behavior.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12773405,"title":"Query entities wih a specific parent's property in GAE and python?","body":"<p>Is it possible in any way to query entities using one of their parent's property in GAE, like this (which doesn't work)?</p>\n\n<pre><code>class Car(db.Model):\n    title = db.StringProperty()\n    type = db.StringProperty()\n\nclass Part(db.Model):\n    title = db.StringProperty()\n\ncar = Car()\ncar.title = 'BMW X5'\ncar.type = 'SUV'\ncar.put()\n\npart = Part(parent = car)\npart.title = 'Left door'\npart.put()\n\nparts = Part.all()\nparts.filter('parent.type ==', 'SUV') # this in particular\n</code></pre>\n\n<p>I've read about <em>ReferenceProperty</em>, and <em>Indexes</em> but I'm not sure what I need.</p>\n\n<p>GAE lets me set a parent to the <em>Part</em> entity, but do I need an actually (kind of duplicate): </p>\n\n<pre><code>parent = db.ReferenceProperty(Car, required=True)\n</code></pre>\n\n<p>That would feel like duplicating what the system does already since it has a parent. Or is there an other way?</p>\n"},{"tags":["json","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":41,"score":-2,"question_id":12776814,"title":"Is there a similar site or source for http://json-head.appspot.com/","body":"<p>Is there a similar service or source for <a href=\"http://json-head.appspot.com/\" rel=\"nofollow\">http://json-head.appspot.com/</a>\nThis site is used by many projects and permanently under \"Over Quota\".</p>\n\n<p>// Yes I don't know Python, I js developer.</p>\n"},{"tags":["google-app-engine","gwt","jetty"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":748,"score":2,"question_id":8054472,"title":"\"HTTP ERROR: 500 No realm\" running GWT's \"MobileWebApp\" sample","body":"<p>I'm trying to run the GWT 2.4 sample app \"MobileWebApp\".  I get a 500 \"No Realm\" error when I try to run the app in dev mode through Eclipse.</p>\n\n<p>I understand this is an authentication problem.</p>\n\n<p>I'm not familiar with Google App Engine or Jetty but from looking at the web.xml I can see there is a servlet filter where it is using the appengine UserService to presumably redirect the user to Google for authentication.</p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>Eclipse 3.7 (Indigo SR1)</li>\n<li>Google Plugin for Eclipse 2.4</li>\n<li>m2eclipse</li>\n</ul>\n\n<p>I'm including an excerpt from the web.xml below.  I'm not sure what other info would be helpful in diagnosing this problem.</p>\n\n<pre><code>  &lt;security-constraint&gt;\n    &lt;display-name&gt;\n      Redirect to the login page if needed before showing\n      the host html page.\n    &lt;/display-name&gt;\n    &lt;web-resource-collection&gt;\n      &lt;web-resource-name&gt;Login required&lt;/web-resource-name&gt;\n      &lt;url-pattern&gt;/MobileWebApp.html&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n      &lt;role-name&gt;*&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n  &lt;/security-constraint&gt;\n\n  &lt;filter&gt;\n    &lt;filter-name&gt;GaeAuthFilter&lt;/filter-name&gt;\n    &lt;!--\n      This filter demonstrates making GAE authentication\n      services visible to a RequestFactory client.\n    --&gt;\n    &lt;filter-class&gt;com.google.gwt.sample.gaerequest.server.GaeAuthFilter&lt;/filter-class&gt;\n  &lt;/filter&gt;\n  &lt;filter-mapping&gt;\n    &lt;filter-name&gt;GaeAuthFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/gwtRequest/*&lt;/url-pattern&gt;\n  &lt;/filter-mapping&gt;\n</code></pre>\n\n<p>Below is the output in the Eclipse console:</p>\n\n<pre><code>[WARN] Request /MobileWebApp.html failed - no realm\n[ERROR] 500 - GET /MobileWebApp.html?gwt.codesvr=127.0.0.1:9997 (127.0.0.1) 1401 bytes\n   Request headers\n      Host: 127.0.0.1:8888\n      User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1\n      Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\n      Accept-Language: en-us,en;q=0.5\n      Accept-Encoding: gzip, deflate\n      Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\n      Connection: keep-alive\n   Response headers\n      Content-Type: text/html; charset=iso-8859-1\n      Content-Length: 1401\n</code></pre>\n\n<p>Many thanks for any helpful advice!</p>\n\n<p>Edit on 11/11/11: I added Jetty tag since it seems relevant to this problem.</p>\n"},{"tags":["java","google-app-engine","base64"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12775575,"title":"sun.misc.BASE64Encoder is not supported by Google App Engine's Java runtime environment","body":"<p>while trying encryption I came across with this in GAE\n\"sun.misc.BASE64Encoder is not supported by Google App Engine's Java runtime environment\"</p>\n\n<p>can any one help on which package I should use?\nI'm trying to get AES encryption.\nhere is code that I'm using.</p>\n\n<pre><code>import java.security.*;\nimport java.security.spec.InvalidKeySpecException;\nimport javax.crypto.*;\nimport javax.crypto.spec.SecretKeySpec;\n\n\nimport sun.misc.*;\n\npublic class AESencrp {\nprivate static final String ALGO = \"AES\";\nprivate static final byte[] keyValue = \n    new byte[] { 'T', 'h', 'e', 'B', 'e', 's', 't','S', 'e', 'c', 'r','e', 't', 'K', 'e', 'y' };\n\npublic static String encrypt(String Data) throws Exception {\n    Key key = generateKey();\n    Cipher c = Cipher.getInstance(ALGO);\n    c.init(Cipher.ENCRYPT_MODE, key);\n    byte[] encVal = c.doFinal(Data.getBytes());\n    String encryptedValue = new BASE64Encoder().encode(encVal);\n    return encryptedValue;\n}\n\npublic static String decrypt(String encryptedData) throws Exception {\n    Key key = generateKey();\n    Cipher c = Cipher.getInstance(ALGO);\n    c.init(Cipher.DECRYPT_MODE, key);\n    byte[] decordedValue = new BASE64Decoder().decodeBuffer(encryptedData);\n    byte[] decValue = c.doFinal(decordedValue);\n    String decryptedValue = new String(decValue);\n    return decryptedValue;\n}\n\nprivate static Key generateKey() throws Exception {\n    Key key = new SecretKeySpec(keyValue, ALGO);\n    return key;\n}\n\n\n\n}\n</code></pre>\n"},{"tags":["android","google-app-engine","tcp","udp","playing-cards"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1110,"score":1,"question_id":5190955,"title":"Developing online card game for android","body":"<p>I'm currently developing a multi player card game for android with Google App Engine as my back-end.\nI'd like to know which protocol should i use to communicate android clients with the server, UDP or TCP?\nI'm aware of the \"dry\" differences between them but i'm not sure what is appropriate for me in this case.\nThe game will consist several (10+) rooms which can populate 4-6 players each.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":12774705,"title":"Unwanted Hyperlinks Added After Deploy to Google App Engine","body":"<p>After I deployed my application to Google App Engine, there are unwanted hyperlink added to my text even though they are not present in my code. Does anyone know what causes this issue and how to solve it? Thanks!</p>\n"},{"tags":["android","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11626759,"title":"Could not launch debug, the App Engine project was not found","body":"<p>I used the App Engine connected Android wizard to create a linked GAE and Android project in Eclipse.  I've done a reinstall of Eclipse and managed to break the link between the AppEngine and Android projects such that when I try to debug the Android project as a 'Llocal App Engine connected Android Application' I get the message 'Could not launch debug, the App Engine project was not found'.</p>\n\n<p>As my installation no longer has the wizard for creating the App Engine/Android connected project (thanks Google), I can't start again.  So my question is How do I recreate the link?</p>\n\n<p>Thanks Tim</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12772768,"title":"Rot 13 Text Area","body":"<pre class=\"lang-python prettyprint-override\"><code>import webapp2\nimport cgi\n\ndef escape_html(s):\n    return cgi.escape(s, quote = True)\n\ndef rot13(s):\n    rot13Text = []\n    for i in s:\n        if ord(i) &lt;= ord('M') or ord(i) &lt;= ord('m'):\n            rot13Text.append(chr(ord(i)+13))\n        else:\n            rot13Text.append(chr(ord(i)-12))\n    return rot13Text\n\nform = \"\"\"\n&lt;form method=\"post\"&gt;\n    What is your birthday?\n    &lt;br&gt;\n    &lt;label&gt;\n        Month\n        &lt;input type=\"text\" name=\"month\" value=\"%(month)s\"&gt;\n    &lt;/label&gt;\n    &lt;label&gt;\n        Day\n        &lt;input type=\"text\" name=\"day\" value=\"%(day)s\"&gt;\n    &lt;/label&gt;\n    &lt;label&gt;\n        Year\n        &lt;input type=\"text\" name=\"year\" value=\"%(year)s\"&gt;\n    &lt;/label&gt;\n    &lt;div style=\"color: red\"&gt;%(error)s&lt;/div&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n\"\"\"\n\nrot13Form = \"\"\"\n    &lt;textarea method=\"post\" name = \"text\" value=\"%(text)s\"&gt;&lt;/textarea&gt;\n    &lt;input type=\"submit\"&gt;\n\"\"\"\n\nmonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August',\n                        'September', 'October', 'November', 'December']\n\ndef valid_day(day):\n        if(day and day.isdigit()):\n                day = int(day)\n        if(day &lt; 32 and day &gt; 0):\n                return day\n\ndef valid_month(month):\n        if(month):\n                month = month.capitalize()\n        if(month in months):\n                return month\n\ndef valid_year(year):\n        if(year and year.isdigit()):\n                year = int(year)\n        if(year &lt; 2020 and year &gt; 1980):\n                return year\n\nclass MainPage(webapp2.RequestHandler):\n    def write_form(self, error=\"\", month=\"\", day=\"\", year=\"\"):\n        self.response.out.write(form %{\"error\": error,\n                                       \"month\": escape_html(month),\n                                       \"day\": escape_html(day),\n                                       \"year\": escape_html(year)})\n\n    def get(self):\n        self.write_form()\n\n    def post(self):\n        user_month = self.request.get('month')\n        user_day = self.request.get('day')\n        user_year = self.request.get('year')\n\n        month = valid_month(user_month)\n        day = valid_day(user_day)\n        year = valid_year(user_year)\n\n        if not(month and day and year):\n            self.write_form(\"That doesn't look valid to me, friend.\", user_month, user_day, user_year)\n        else:\n            self.redirect(\"/thanks\")\n\nclass ThanksHandler(webapp2.RequestHandler):\n    def get(self):\n        self.response.out.write(\"Thanks! That's a totally valid day!\")\n\n\nclass Rot13Handler(webapp2.RequestHandler):\n    def writeForm(self, text = \"\"):\n        self.response.out.write(rot13Form % {\"text\" : escape_html(text)}) \n    def get(self):\n        self.writeForm()\n\n    def post(self):\n        userText = self.request.get('text')\n        self.writeForm(rot13(userText))\n\napp = webapp2.WSGIApplication([('/', MainPage),\n                              ('/thanks', ThanksHandler),\n                              ('/rot13', Rot13Handler)],\n                             debug=True)\n</code></pre>\n\n<p>I am trying to rot13 some text in a textarea. I don't know why the text does not change when I hit submit</p>\n"},{"tags":["java","spring","google-app-engine","annotations","tiles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12769046,"title":"How do I let spring set certain variables for all controllers/actions","body":"<p>\nI use a configuration of google app engine, spring and tiles where each controller actions results in some set of nested (tiles) jsp's to be rendered. Some of the elements of the jsp are to be calculated/set for (almost) each controller, for example the login/logout link somewhere on a page:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%\ncom.google.appengine.api.users.UserService userService =\n  com.google.appengine.api.users.UserServiceFactory.getUserService();\ncom.google.appengine.api.users.User user = userService.getCurrentUser();\nif (user != null) {%&gt;\n  &lt;li class=\"active\"&gt;&lt;a href=\"#feeds\"&gt;Feeds&lt;/a&gt;&lt;/li&gt;\n  &lt;li class=\"active\"&gt;&lt;a href=\"&lt;%=userService.createLogoutURL(\"\")%&gt;\"&gt;Logout&lt;/a&gt;&lt;/li&gt;\n&lt;%} else {%&gt;\n  &lt;li class=\"active\"&gt;&lt;a href=\"&lt;%=userService.createLoginURL(\"\")%&gt;\"&gt;Login&lt;/a&gt;&lt;/li&gt;\n&lt;%}%&gt;\n</code></pre>\n\n<p>Of course, this is possible and I could also make static-classes which can simplify such code. Yet this is not something I like to have in my jsp, moreover it is (possibly) impossible in templating engines like thymeleaf do execute code like that. Therefore, how do I do something like this:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>@RequestMapping(\"/foo\")\npublic class FooController {\n    @RequestMapping(value=\"/{bar}\", method = RequestMethod.GET)\n    public String getMovie(@PathVariable String bar, ModelMap model) {\n        model.addAttribute(\"bar\", bar);\n        model.addAttribute(\"message\", \"message\");\n        UserService userService = UserServiceFactory.getUserService();\n                    User user = userService.getCurrentUser();\n        model.addAttribute(\"isLoggedIn\", user==null);\n\n        return \"somepage\";\n\n    }\n}\n</code></pre>\n\n<p>So summarized: How do I prevent that the isLoggedIn-code is duplicated everywhere, preferably a solution different than needing to call some \"initUserModel(model)\" method.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12772639,"title":"Set Trace of GAE Web App Handler Function","body":"<p>I am used to using the following paradigm for setting and ending a trace of a python function:</p>\n\n<pre><code>sys.settrace(traceFunction)\nsomeFunction()\nsys.settrace(None)\n</code></pre>\n\n<p>This model seems to fail if someFunction() is a function (e.g. post()) defined in a handler in the production of a web app through google app engine.  Because said function is never instantiated specifically in the code, I am unsure as to how to set a trace on it.  Can anyone tell me of a method that would achieve the same result as the above model in this context?</p>\n"},{"tags":["java","google-app-engine","file-upload","struts2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":152,"score":0,"question_id":12672569,"title":"Struts2 exclude pattern not working","body":"<p>I'm using struts2 for GAE based app. I've a servlet to upload files like this - </p>\n\n<pre><code>@Override\n  protected void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {\n    try{\n      ServletFileUpload upload = new ServletFileUpload();\n      FileItemIterator it = upload.getItemIterator(req);\n      while (it.hasNext()){\n        FileItemStream item = it.next();\n        if(item.isFormField()){\n          System.out.println(item.getFieldName());\n        }else {\n          System.out.println(item.getFieldName()+\" : \"+item.getName());\n        }\n      }\n    }catch (Exception e){\n\n    }\n\n  }\n</code></pre>\n\n<p>In my struts.xml I've added exclude pattern as follows</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;constant name=\"struts.action.excludePattern\" value=\"/_ah/*,/upload/*\"/&gt;\n</code></pre>\n\n<p>Here is a snippet of my web.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;actionPackages&lt;/param-name&gt;\n      &lt;param-value&gt;com.tutorial.action&lt;/param-value&gt;\n    &lt;/init-param&gt;\n  &lt;/filter&gt;\n  &lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n  &lt;/filter-mapping&gt;\n\n  &lt;filter&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter&lt;/filter-class&gt;\n  &lt;/filter&gt;\n  &lt;filter-mapping&gt;\n    &lt;filter-name&gt;sitemesh&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n  &lt;/filter-mapping&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;ImageUpload&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.tutorial.servlet.ImageUploadServlet&lt;/servlet-class&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;ImageUpload&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/upload/file&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>When I try and upload a file It still goes to struts rather than to my servlet. How do I solve this problem? I want file upload via a servlet.</p>\n\n<p>Here is the stacktrace of the error - </p>\n\n<pre><code>Problem accessing /upload/file. Reason:\n\n    java.rmi.server.UID is a restricted class. Please see the Google  App Engine developer's guide for more details.\nCaused by:\n\njava.lang.NoClassDefFoundError: java.rmi.server.UID is a restricted class. Please see the Google  App Engine developer's guide for more details.\n    at com.google.appengine.tools.development.agent.runtime.Runtime.reject(Runtime.java:51)\n    at org.apache.commons.fileupload.disk.DiskFileItem.&lt;clinit&gt;(DiskFileItem.java:109)\n    at org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(DiskFileItemFactory.java:199)\n    at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:361)\n    at org.apache.struts2.dispatcher.multipart.JakartaMultiPartRequest.parseRequest(JakartaMultiPartRequest.java:151)\n    at org.apache.struts2.dispatcher.multipart.JakartaMultiPartRequest.processUpload(JakartaMultiPartRequest.java:90)\n    at org.apache.struts2.dispatcher.multipart.JakartaMultiPartRequest.parse(JakartaMultiPartRequest.java:80)\n    at org.apache.struts2.dispatcher.multipart.MultiPartRequestWrapper.&lt;init&gt;(MultiPartRequestWrapper.java:75)\n    at org.apache.struts2.dispatcher.Dispatcher.wrapRequest(Dispatcher.java:753)\n    at org.apache.struts2.dispatcher.ng.PrepareOperations.wrapRequest(PrepareOperations.java:140)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:83)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:176)\n    at org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\n    at org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\n    at org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.googlecode.objectify.cache.AsyncCacheFilter.doFilter(AsyncCacheFilter.java:59)\n    at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:49)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n"},{"tags":["asp.net-mvc","google-app-engine","asp.net-mvc-routing","webapp2"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12772037,"title":"Google App Engine Python do ASP.NET MVC routing with webapp2","body":"<p>I want to be able to route my requests in a similar way ASP.net MVC does.</p>\n\n<p>For example the address /Home/Index/query-string/ should map the request to HomeController and call the Index method.</p>\n\n<p>I made an implementation for this and it works, but I want to know a better way to do it. I've \njust started using Google App Engine and Python for the first time and I don't have much experience for developing websites and web applications.</p>\n\n<p>Here's my implementation</p>\n\n<p>The Yaml file:</p>\n\n<pre><code>- url: /.*\nscript: router.app\n</code></pre>\n\n<p>Routing Configuration:</p>\n\n<pre><code>def StartUp():\n    sys.path.append(os.path.join(os.getcwd(), 'System'))\n    sys.path.append(os.path.join(os.getcwd(), 'Controllers'))\n    sys.path.append(os.path.join(os.getcwd(), 'Models'))\n    app.run()\n\napp = webapp2.WSGIApplication([webapp2.Route('/', handler=Router, name='Default', defaults={'handler': 'home', 'method': 'index', 'query': ''}, build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;query&gt;', handler=Router, name='DefaultC', defaults={'handler': 'home', 'method': 'index'}, build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;handler&gt;/', handler=Router, name='DefaultCS', defaults={'method': 'index', 'query': ''}, build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;handler&gt;/&lt;query&gt;', handler=Router, name='DefaultCA', defaults={'method': 'index'}, build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;handler&gt;/&lt;method&gt;/', handler=Router, name='DefaultCAS', defaults={'query': ''}, build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;handler&gt;/&lt;method&gt;/&lt;query&gt;', handler=Router, name='DefaultAll', build_only=False, handler_method='map'),\n                            webapp2.Route('/&lt;handler&gt;/&lt;method&gt;/&lt;query&gt;/', handler=Router, name='DefaultAllS', build_only=False, handler_method='map')],\n                            debug=True)\n\nif __name__ == '__main__':\n    StartUp()\n</code></pre>\n\n<p>The router</p>\n\n<pre><code>class Router(webapp2.RequestHandler):\n\n    def getControllerName(self, handler):\n            handler = handler.lower()\n            if(len(handler) == 0):\n                    \"\"\" Error - redirect to error page \"\"\"\n                    return webapp2.redirect('/Error/')\n            if len(handler) == 1:\n                    handler = handler[0].capitalize()\n            else:\n                    handler = handler[0].capitalize() + handler[1:]\n\n            handler = handler + 'Controller'\n\n            return handler\n\n    def getActionName(self, method):\n            method = method.lower()\n            if(len(method) == 0):\n                    \"\"\" Error - redirect to error page \"\"\"\n                    return webapp2.redirect('/Error/')\n            if len(method) == 1:\n                    method = method[0].capitalize()\n            else:\n                    method = method[0].capitalize() + method[1:]\n\n            requestType = self.request.method.lower()\n            requestType = requestType[0].capitalize() + requestType[1:]\n\n            return method\n\n    def loadController(self, controllerName):\n            \"\"\" Load the controller \"\"\"\n            try:\n                    fileName, pathName, description = imp.find_module(controllerName, None)\n                    module = imp.load_module(controllerName, fileName, pathName, description)\n\n                    # Add checking if class was found\n                    controllerRef = getattr(module, controllerName)\n                    return controllerRef\n\n            except ImportError, args:\n                    logging.error('Error importing controller. ' + pprint.saferepr(args))\n            except Exception, args:\n                    logging.error('Exception. ' + pprint.saferepr(args))\n            finally:\n                    fileName.close()\n\n    def loadAction(self, controller, actionName):\n            try:\n                    actionRef = getattr(controller, actionName)\n            except Exception, args:\n                    logging.error('Exception. ' + pprint.saferepr(args))\n            return actionRef\n\n    def callController(self, controllerName, actionName, query):\n            try:\n                    \"\"\" Load the controller \"\"\"\n                    controllerRef = self.loadController(controllerName)\n                    controller = controllerRef(self, query)\n                    actionRef = self.loadAction(controller, actionName)\n                    actionRef()\n            except Exception, args:\n                    logging.error('Exception. ' + pprint.saferepr(args))\n\n    def map(self, handler, method, query):\n            query = query.lower()\n            \"\"\" Create Names for Controller and Action\"\"\"\n            controllerName = self.getControllerName(handler)\n            actionName = self.getActionName(method)\n\n            self.callController(controllerName, actionName, query)\n</code></pre>\n\n<p>Here's my Home controller:</p>\n\n<pre><code>class HomeController(MVC.Controller):\n\n    def Index(self):\n\n            path = os.path.join(os.path.dirname('Views/Home/'), 'home.html')\n            self.Request.response.out.write(template.render(path, None))\n</code></pre>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12765897,"title":"Max length of String stored with App Engine?","body":"<p>When storing <code>String</code> fields with App Engine:</p>\n\n<ul>\n<li>What is the maximum <code>length()</code> of the <code>String</code> that App Engine\ndatastore can handle?</li>\n<li>Also if using Objectify, is this max length the same or Objectify does some processing that affect this max length?</li>\n</ul>\n"},{"tags":["google-app-engine","gwt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12769838,"title":"Unable to load module error while running an appengine and gwt project in development mode","body":"<p><img src=\"http://i.stack.imgur.com/E2ZEN.png\" alt=\"enter image description here\">Please help me rectify this problem. I am not able to run my project in development mode locally, every time I have to upload the project to app-engine to run it.\nTerminal output:\n<img src=\"http://i.stack.imgur.com/79gRQ.png\" alt=\"enter image description here\"></p>\n"},{"tags":["ajax","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12684222,"title":"Google App Engine: AJAX without using RPC (Java)","body":"<p>I am new to GAE &amp; AJAX and have been trying to learn GAE by writing a few apps using JAVA (without GWT though). Could someone please tell me if it's possible to write AJAX application without using Python or RPC with Java? If yes, any sample?</p>\n\n<p>Thanks</p>\n"},{"tags":["python","google-app-engine","nose","gae-sessions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12770163,"title":"errors with gae-sessions and nose","body":"<p>I'm running into a few problems with adding gae-sessions to a relatively mature GAE app.  I followed the readme carefully and also looked at the demo.</p>\n\n<p>First, just adding the gaesesions directory to my app causes the following error when running tests with nose and nose-gae:</p>\n\n<pre><code>Exception ImportError: 'No module named threading' in &lt;bound method local.__del__ of &lt;_threading_local.local object at 0x103e10628&gt;&gt; ignored\n</code></pre>\n\n<p>All the tests run fine so not a big problem but suggests that something isn't right.</p>\n\n<p>Next, if I add the following two lines of code:</p>\n\n<pre><code>from gaesessions import get_current_session\nsession = get_current_session()\n</code></pre>\n\n<p>And run my tests, then I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/.../unit_tests.py\", line 1421, in testParseFBRequest\n    data = tasks.parse_fb_request(sr)\n  File \"/Users/.../tasks.py\", line 220, in parse_fb_request\n    session = get_current_session()\n  File \"/Users/.../gaesessions/__init__.py\", line 36, in get_current_session\n    return _tls.current_session\n  File \"/Library/.../python2.7/_threading_local.py\", line 193, in __getattribute__\n    return object.__getattribute__(self, name)\nAttributeError: 'local' object has no attribute 'current_session'\n</code></pre>\n\n<p>This error does not happen on the dev server.</p>\n\n<p>Any suggestions on fixing the above would be greatly appreciated.</p>\n"},{"tags":["google-app-engine","objectify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12769953,"title":"Which of these designs will perform better for queries? (GAE, Objectify, Full text search)","body":"<p>I have a domain class that's currently persisted in the Datastore using Objectify. Now that Full Text Search is here on GAE, I'm building a search index of the same data. Only about half the fields on the domain class are ones that I need to be able to search by. The others I just need to display in results.</p>\n\n<p>Which of the following designs will be faster for queries?</p>\n\n<ol>\n<li><p>Store only the fields I need to be able to search by in search documents. Include the key or ID for each domain class in the search document. Do a search, then iterate over the returned results building up a set of Objectify keys. Do a get() on those keys and merge the search results with the domain objects returned from the datastore by Objectify to produce the result set that gets set to the client.</p></li>\n<li><p>Almost do away with the domain class altogether and put everything on the search document, whether I need to be able to search by it or not. Do some conversion from search documents to domain classes before returning the results, but don't query the datastore at all.</p></li>\n</ol>\n\n<p>I'm expecting result set sizes of the order of 1000 for the search. Writes happen very seldom - a slow write is no problem. The search index has PER_DOCUMENT consistency.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["google-app-engine","google-chrome","gmail"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":26,"score":-2,"question_id":12768976,"title":"chrome plugin to schedule emails","body":"<p>i am developing a chrome extension to schedule gmail emails.that is there will be options for the user to send the mail  at a desired time/day.this feature will be in a button side by side with the \"send now\" button in gmail in \"compose\" tab.this plugin resembles with <a href=\"http://www.rightinbox.com/\" rel=\"nofollow\" title=\"this text appears when you mouse over\">here</a>!</p>\n\n<p>i will develop the plugin my self.i only need some advices or steps how to achieve my goal.what should i do to achieve it.thanks in advance</p>\n"},{"tags":["google-app-engine","migration"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12748304,"title":"How to migrate GAE alias to new application without migrating data","body":"<p>We have an existing application using the legacy Master-Slave database with an alias to one of our subdomains.  When we went to HRD, we re-engineered the application considerably and so we don't want to use the migration tool.  In fact, we don't care about the data at all (see <strong>background</strong> below for why).  I just want to change the alias so that the subdomain points to a new application, or in other words:</p>\n\n<p>subdomain.example.com --> oldapplication.appspot.com</p>\n\n<p>to </p>\n\n<p>subdomain.example.com --> newapplication.appspot.com</p>\n\n<p>Ordinarily (in a non-GAE environment) this would be a simple DNS change and once DNS propagates we could shut down the legacy application.  In GAE, we can delete the old alias and set the alias up on the new application, but we don't know how long this is going to take to complete (other than the 10 seconds it takes for someone to click the buttons and post to the control panel).  We're potentially willing to accept a very small window of downtime where subdomain.example.com won't be serving pages (because we know when peak loads are).  But does anyone know how long this change-over should take?</p>\n\n<p>We reported a production issue but have not had any feedback.</p>\n\n<p><strong>Background:</strong>\nThis application serves a bit of Javascript that can be embedded in parters' web sites.  The data for this gets fed from our main site (not on GAE) via an API on a daily basis.  So we don't care about migrating data and in fact we're already doing the daily feed to the new application and just need to change the alias.</p>\n"},{"tags":["python","google-app-engine","datetime","calendar","timezone"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":170,"score":2,"question_id":12697836,"title":"Bug creating recurring events in daylight savings time with Google Calendar API?","body":"<p>So I'm making a small App Engine application through python which reads a timetable from a file and puts it into your Google Calender. All times/dates in the timetable are independent of DST so I need to put in events in the same manner. This is complicated by the fact that all the events are recurring weekly over multiple DST periods. </p>\n\n<p>I am using Calender API V3.</p>\n\n<p>I start by creating my own Calender for this.</p>\n\n<pre><code>calander = {\n    'summary': 'Calender Name,\n    'location': 'Somewhere in Ireland',\n    'timeZone': 'GMT',\n}\n</code></pre>\n\n<p>Then I populate it with many different recurring events</p>\n\n<pre><code>event = {\n    'summary': 'CS101',\n    'description': 'Intro to Comp Sci',\n    'location': 'Bla bla bla',\n    'start': {\n        'dateTime': '2012-10-03T10:00:00.000-00:00',\n        'timeZone': 'GMT'\n    },\n    'end': {\n        'dateTime': '2012-10-03T11:00:00.000-00:00',\n        'timeZone': 'GMT'\n    },\n    'recurrence': [\n        'RRULE:FREQ=WEEKLY;UNTIL=20121231',\n    ],\n}\n</code></pre>\n\n<p>In my actual program of course, all of these strings are being generated dynamically, but i have no problems here.</p>\n\n<p>The problem is that any event occurring during the summertime DST period is automatically put 1 hour behind the time I am giving it. I am sure this is a bug because I am setting the timezone to GMT for the events and calender, but GMT does not observe daylight savings. Nothing should be done to the times I feed in.</p>\n\n<p>For instance, the timetable says an event lasts from 10AM to 11AM every monday from September 1st to December 31st. If this information is fed into the calender, all events before October 28th (the European fall back date) will one hour behind the timetable's time. All times outside of the summertime period are good.</p>\n\n<p>If I tell the calender that an event starts at 10AM, I don't want it to adjust for DST. How can this be avoided?</p>\n"},{"tags":["google-app-engine","full-text-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12680158,"title":"Can I query by document id with full text search on App Engine?","body":"<p>After creating a document with a explicit id like this:</p>\n\n<pre><code>Document(doc_id = 123)\n</code></pre>\n\n<p>Is it possible to find that document using the id, similar to <code>get_by_id</code> with the Datastore?</p>\n\n<p>I've tried queries with <code>id:123</code>, <code>_id:123</code>, <code>doc_id:123</code>, and <code>_doc_id:123</code>.</p>\n"},{"tags":["json","google-app-engine","templates","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12764205,"title":"parse json data in template Google App engine python","body":"<p>I am storing json data in the database in my google app engine, There is no problem in stroing the data to DB, But I am not sure how to parse it in the view, For e.g I get all the topics from my MODEL and pass it to the view which is using webapps template (I am not sure its django or jinja2 but it is the default provided by GAE), now my Model objext has one atribute which contains json, I want to parse this json in view without javascript as I am passing the object via template, can any one suggest me how to do it.</p>\n\n<p>for e.g. I query the app engine as </p>\n\n<pre><code>topics = Topic.all()\n//topic have many attributes including an attribute tags which contains json string\n//[\"test\", \"somekeyword\"]\n</code></pre>\n\n<p>I parse this string as individual tags in my view, Can I manipulate this list of objects in python to store as disctionary instead of tags when I retrieve it ? or is there a way to convert it to dictionary in django ?</p>\n\n<p>P.S: I cant parse the json in my handler as the model will have multiple entries and parsing and storing these entries will be difficult</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12766266,"title":"View Contents of Text File in browser from gae blobstore java","body":"<p>I have text files stored in GAE Blobstore.\nNow I want to read the contents of the file and view them in my browser, without actually downloading the file.</p>\n\n<p>I am accessing the servlet by clicking on link on my HTML page which access the servlet.</p>\n\n<p>I am serving the file with blobKey</p>\n\n<pre><code>    String blobKey = req.getParameter(\"blobKey\");\n    BlobKey blobKey = new BlobKey(blobKey);\n    resp.setContentType(\"text/plain\");\n    resp.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"\" +fileName +\"\\\"\");\n    blobstoreService.serve(blobKey, resp);\n</code></pre>\n\n<p>But the above code is downloading the file instead by displaying it in a browser.\nCan anyone help me please.</p>\n"},{"tags":["google-app-engine","ftp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12758227,"title":"Data via FTP in GAE","body":"<p>In Google App Engine is there any way to get a file via FTP or have a file \nFTPed to the application? I want to be able to send data to a vendor that only supports FTP.</p>\n\n<p>Any suggestion? I appreciate any help and/or ideas that anyone has</p>\n\n<p>Thanks\nAbhijeet</p>\n"},{"tags":["python","django","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12758581,"title":"Google App Engine: How to Set Default Value from a property to another property in db.Model Class?","body":"<p>My App having db class,</p>\n\n<pre><code>class invoice(db.Model):\n   location_code = db.StringProperty()\n   invoice_no = db.IntegerProperty()\n   product_tax_rate = db.FloatProperty()\n   basic_tax_rate = db.FloatProperty()\n   addl_tax_rate = db.FloatProperty()\n   .\n   .\n   .\n</code></pre>\n\n<p>In this, i wanted to set <strong>product_tax_rate</strong>'s value as default value for property <strong>basic_tax_rate</strong>'s property if <strong>addl_tax_rate</strong>'s value is <strong>0</strong>. </p>\n\n<p>How can i add a generic procedure for this logic in this class method?</p>\n\n<p>Please let me know if you still not getting this requirement.</p>\n"},{"tags":["security","google-app-engine","authentication"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1203,"score":3,"question_id":6711382,"title":"Google AppEngine: custom authentication","body":"<p>The way I can authenticate my users in AppEngine using Google Accounts is simply wonderful.</p>\n\n<p>However, I need to use my <strong>custom authentication-login system</strong>.</p>\n\n<p>I will have a AppUsers table, with usernames and encrypted passwords.</p>\n\n<p>I read something about sessions on gae, but I need help on starting up my app security.</p>\n\n<p>How can I track my authenticated user session? Setting a cookie?</p>\n\n<p>A beginner.</p>\n"},{"tags":["google-app-engine","authentication"],"answer_count":2,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1225,"score":3,"question_id":1672729,"title":"Google Appengine custom authentication","body":"<p>I would like to test appengine.  At this moment it is not clear to me if there are libraries that support custom authentication.  I want the user to be able to create an account on the site without having to have a google (or any other) account. </p>\n\n<p>Does that kind of libraries exists or do you have to write it from scratch?\nCan anyone provide me with some step by step example? (if such library exists of course..)</p>\n\n<p>(I would like to use Java if possible)</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12764523,"title":"app.yaml file for a python program","body":"<p>How do I write an <code>app.yaml</code> file for a particular Python app I'm trying to put on Google App Engine?</p>\n\n<p>Here is the simple python code I'm trying to work on:</p>\n\n<pre><code>import webapp2\nform=\"\"\"\n&lt;form action=\"http://www.google.com/search\"&gt;\n&lt;input name=\"q\"&gt;\n&lt;input type=\"submit\"&gt;\n&lt;/form&gt;\n\"\"\"\nclass MainPage(webapp2.RequestHandler):\n    def get(self):\n        self.response.out.write(form)\n\napp=webapp2.WSGIApplication([('/',MainPage)],\n                              debug=True)\n</code></pre>\n\n<p>Now whenever I'm trying to run it on Google App Engine, it simply doesn't work. Shows nothing  on localhost and shows server error while deploying it.</p>\n\n<p>Here is the <code>app.yaml</code> code:</p>\n\n<pre><code>application: saaps-2012\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /.*\nscript: program.py\n</code></pre>\n"},{"tags":["google-app-engine","app-engine-ndb"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12763938,"title":"Why doesn't appengine auto-convert datetime to UTC when calling put()","body":"<p>Here's what I'm trying to do: the user submits a time in pacific, once submitted I use .replace to set the timezone to Pacific. </p>\n\n<pre><code>Pacific = time.USTimeZone(-8, \"Pacific\",  \"PST\", \"PDT\")\naddEvent.date = addEvent.date.replace(tzinfo=Pacific)\n</code></pre>\n\n<p>Once i've set the tzinfo, I'm doing a put. According to the python documentation of google appengine it says: </p>\n\n<blockquote>\n  <p>\"If the datetime value has a tzinfo attribute, it will be converted to the UTC time zone for storage. Values come back from the datastore as UTC, with a tzinfo of None. An application that needs date and time values to be in a particular time zone must set tzinfo correctly when updating the value, and convert values to the timezone when accessing the value.\"</p>\n</blockquote>\n\n<p>However, when I do a put(), i get the following error: </p>\n\n<blockquote>\n  <p>WARNING  2012-10-06 21:10:14,579 tasklets.py:399] initial generator _put_tasklet(context.py:264) raised NotImplementedError(DatetimeProperty date can only support UTC. Please derive a new Property to support alternative timezones.)\n  WARNING  2012-10-06 21:10:14,579 tasklets.py:399] suspended generator put(context.py:703) raised NotImplementedError(DatetimeProperty date can only support UTC. Please derive a new Property to support alternative timezones.)</p>\n</blockquote>\n\n<p><strong>Please note I am using NDB</strong></p>\n\n<p>Ok, so after doing that I assumed that maybe NDB doesn't automatically convert it into UTC. So then I tried to convert it to UTC using the following code: </p>\n\n<pre><code>class UTC(tzinfo):\n  def utcoffset(self, dt):\n    return timedelta(0)\n  def tzname(self, dt):\n    return str(\"UTC\")\n  def dst(self, dt):\n    return timedelta(0)\n</code></pre>\n\n<p>and now I still get the same error even after I convert the pacific time to UTC and set the tzinfo name as \"UTC\". </p>\n\n<p>Could really use a ton of help here...\nthanks!</p>\n"},{"tags":["google-app-engine","google","jpa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":12763790,"title":"Google app engine and JPA","body":"<p>I am try to persist an instance (entity) that contains a predefined instances(entities), with JPA and GAE, the relation is oneToOne, as the following:</p>\n\n<pre><code>@Entity class Address{ ... @OneToOne(cascade = CascadeType.ALL)private City city;}\n\n@Entity class City{...}\n</code></pre>\n\n<p>I created city instance(entity) and persist it, works good, when trying to create Address instance that contains the created city instance(since from UI, it selected from dropdown box), I got the following exception: </p>\n\n<pre><code>javax.persistence.PersistenceException: Detected attempt to establish Address(no-id-yet) as the parent of City(20) but the entity identified by City(20) has already been persisted without a parent.  A parent cannot be established or changed once an object has been persisted.\n</code></pre>\n\n<p>Is there any annotation(s) should be used in order to make this happen?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12762980,"title":"How to make a Google Appengine task repeatable?","body":"<p>This is for a homework assignment. Normally I would use cron to do something like this, but teacher wants us to create a task queue that polls a server for information on a regular interval. </p>\n\n<p>So far I have something like this:</p>\n\n<pre><code>Queue queue = QueueFactory.getDefaultQueue();\nqueue.add(\n    withUrl(\"/MyPage\").\n    method(Method.GET).\n    param(\"user\", viewModel.getUserId()));\n</code></pre>\n\n<p>But this only runs once. How can I get it to repeat indefinitely?</p>\n"},{"tags":["python","google-app-engine","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12759873,"title":"Copying Blobs from one AppEngine application to another","body":"<p>I used the functionality provided by Google App Engine to copy all data from one application to another. What wasn't transfered though were my Blobs. How can I make a copy of it to my new application?</p>\n"},{"tags":["python","unit-testing","google-app-engine","webapp2","babel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12753595,"title":"Python Unit test with i18 but without webapp2","body":"<p>I encountered a problem with unit tests when use i18 in my project.\nMy project uses framewoks i18 and webapp2\nThe function uses the translation by i18. But when I test, I get the error - missing global variable request.\nFor example it is:\n<code></p>\n\n<pre><code>from unittest import TestCase, main\nfrom webapp2_extras.i18n import lazy_gettext as _\n\ndef Hello(a):\n    if a &gt; 0:\n       message = _('My great message!11 a &gt; 0')\n    else:\n       message = _('My great message!11 a =&lt; 0')\n    return message\n\nclass TestHandler(TestCase):\n\n    def testHello0(self):\n        self.assertEqual(Hello(0), 'My great message!11 a =&lt; 0')\n\n    def testHello3(self):\n        self.assertEqual(Hello(3), 'My great message!11 a &gt; 0')\n\nif __name__ == '__main__':\n     main()\n</code></pre>\n\n<p>and I have message:</p>\n\n<pre><code>FAIL: testHello0 (text3.TestHandler)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/home/text3.py\", line 14, in testHello0\n    self.assertEqual(Hello(0), 'My great message!11 a =&lt; 0')\nAssertionError: Request global variable is not set.\n</code></pre>\n\n<p>I have a solution to this problem, but I do not like it. This is a crutch. How can you test my function without using framewoks on similarity webapp2</p>\n\n<pre><code>from unittest import TestCase, main\nfrom webapp2_extras.i18n import lazy_gettext as _\nimport webapp2\n\ndef Hello(a):\n    if a &gt; 0:\n        message = _('My great message!11 a &gt; 0')\n    else:\n        message = _('My great message!11 a =&lt; 0')\n    return message\n\n\nclass OneHandler(webapp2.RequestHandler):\n    def get(self):\n        myNumber = self.request.get('myNumber')\n        myNumber = int(myNumber)\n        message = Hello(myNumber)\n        self.response.write(message)\n\n\nroutes = [('/One', OneHandler)]\napp = webapp2.WSGIApplication(routes = routes)\n\nclass TestHandler(TestCase):\n\n    def testHello0(self):\n        myNumber = 0\n        URL = '/One?myNumber=%s' % myNumber\n\n        self.response = app.get_response(URL)\n        self.mess = self.response.body\n        self.assertEqual(self.mess, 'My great message!11 a =&lt; 0') \n\n    def testHello3(self):\n        myNumber = 3\n        URL = '/One?myNumber=%s' % myNumber\n\n        self.response = app.get_response(URL)\n        self.mess = self.response.body\n        self.assertEqual(self.mess, 'My great message!11 a &gt; 0') \n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>and well done!</p>\n\n<pre>Ran 2 tests in 0.047s\n\nOK\n</code></pre>\n\n<p>But it's not a good solution. How I can testing my function and dont use webapp2, etc?</p>\n"},{"tags":["google-app-engine","gae-datastore","cassandra","alternative"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":880,"score":5,"question_id":2989415,"title":"Google appengine datastore alternative?","body":"<p>I'm using Google AppEngine with build-in datastore. But, I want move all datastore to my new VPS.</p>\n\n<p>I'll use Apache Cassandra. How to move from GAE Datastore to Apache Cassandra?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1220,"score":0,"question_id":1496296,"title":"Upload Static Files ONLY to Google App Engine","body":"<p>My intention is to upload just static html file to google app engine. <strong>No servlets, no JSPs.</strong></p>\n\n<p>I have the following directory structure</p>\n\n<pre><code>C:\\Users\\yccheok\\Desktop\\sandbox\\index.html\nC:\\Users\\yccheok\\Desktop\\sandbox\\WEB-INF\\appengine-web.xml\nC:\\Users\\yccheok\\Desktop\\sandbox\\WEB-INF\\web.xml\n</code></pre>\n\n<p>The content of appengine-web.xml is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;appengine-web-app xmlns=\"http://appengine.google.com/ns/1.0\"&gt;\n    &lt;application&gt;xiang-qi&lt;/application&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/appengine-web-app&gt;\n</code></pre>\n\n<p>The content of web.xml is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE web-app PUBLIC\n \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n \"http://java.sun.com/dtd/web-app_2_3.dtd\"&gt;\n\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" version=\"2.5\"&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I use the following command :</p>\n\n<pre><code>C:\\Users\\yccheok\\Desktop\\sandbox&gt;c:\\appengine-java-sdk-1.2.2\\bin\\appcfg.cmd upda\nte .\n</code></pre>\n\n<p>But it just hang there :</p>\n\n<pre><code>Reading application configuration data...\n2009-09-30 13:43:51.061::INFO:  Logging to STDERR via org.mortbay.log.StdErrLog\nBeginning server interaction for xiang-qi...\n0% Creating staging directory\n5% Scanning for jsp files.\n20% Scanning files on local disk.\n25% Initiating update.\nEmail: yancheng.cheok@gmail.com\nPassword for yancheng.cheok@gmail.com:\nEmail: yancheng.cheok@gmail.com\nPassword for yancheng.cheok@gmail.com:\n</code></pre>\n"},{"tags":["python","google-app-engine","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12761811,"title":"Using GAE Webapp2 with classes in more than one file","body":"<p>I'm having problems with Webapp2. When I put handlers for URLs that point to different python files in the app.yaml I get the following error:</p>\n\n<pre><code>ERROR    2012-10-06 16:44:57,759 wsgi.py:203] \nTraceback (most recent call last):\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/runtime/wsgi.py\", line 195, in Handle\n    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"/Applications/GoogleAppEngineLauncher.app/Contents/Resources/GoogleAppEngine-default.bundle/Contents/Resources/google_appengine/google/appengine/runtime/wsgi.py\", line 250, in _LoadHandler\n    __import__(cumulative_path)\nImportError: No module named application\n</code></pre>\n\n<p>My app.yaml:</p>\n\n<pre><code>application: [[app's name]]\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: yes\n\ninbound_services:\n- mail\n\nhandlers:\n\n- url: /send\n  script: email.application\n\n- url: /_ah/mail/update@sitdown-standup.appspotmail.com.*\n  script: email.application\n\n- url: /.*\n  script: SDSUmodels.application\n\nlibraries:\n- name: webapp2\n  version: \"2.5.1\"\n</code></pre>\n\n<p>SDSUmodels.py ends with:</p>\n\n<pre><code>application = webapp2.WSGIApplication([('/info', MakeBasicInfo)], \n                                   debug=True)`\n</code></pre>\n\n<p>and email.py ends with:</p>\n\n<pre><code>application = webapp2.WSGIApplication([('/request', Request_update),\n                                   ('/send', Send_report),\n                                   (Receive_email.mapping())], \n                                   debug=True)`\n</code></pre>\n\n<p>When I remove these lines</p>\n\n<pre><code>- url: /send\n  script: email.application\n</code></pre>\n\n<p>from app.yaml, the error stops, but this leaves me without a way to point a URL towards a particular file.</p>\n\n<p>I can see some alternative ways of handling this in <a href=\"http://stackoverflow.com/questions/11181957/how-to-organise-files-with-python27-app-engine-webapp2-framework\">this question</a> but I was wondering why this approach isn't working. I've done this previously with the old webapp version in a different project and it's worked – details below.</p>\n\n<p>app.yaml:</p>\n\n<pre><code>application: [[other app's name]]\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /stylesheets\n  static_dir: stylesheets\n\n- url: /twitter\n  script: twitter.py\n\n- url: /_ah/mail/kindle@shelvdtracker.appspotmail.com.*\n  script: kindle.py\n\n- url: /.*\n  script: web.py\n\ninbound_services:\n- mail\n</code></pre>\n\n<p>twitter.py ends with:</p>\n\n<pre><code>application = webapp.WSGIApplication(\n                                     [('/twitter', Process_new_DM)],\n                                     debug=True)\n\ndef main():\n    run_wsgi_app(application)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"},{"tags":["ios","google-app-engine","http","afnetworking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12757039,"title":"My app fails to connect to the server some times","body":"<p>I've been helplessly observing this problem for a couple months now, and have decided this is my best shot. </p>\n\n<p>I'm not sure what the cause of the problem is, but I can list some of the things I'm doing. I have an iOS app that uses AFNetworking to connect to a remote server hosted by Google App Engine using HTTP POST requests.</p>\n\n<p>Now, everything works great, but sometimes, very very sporadically and random, I get failed requests. The activity indicator spins and spins for about a minute, and I get no feedback at the end - just a failed request. I check my server logs, and I don't see any errors. After the failed request, I try again, and it works fine. It works fine for the whole day. And then another time randomly the issue repeats itself, sometimes spinning for 10 seconds with a fail, or a minute. </p>\n\n<p>Generally, what can possibly be the cause of this? Is it normal to have some failed connections randomly? Is that something on my part?</p>\n\n<p>But the weird thing is, is that while on my iPhone the app is running, and the indicator is spinning, and it's trying to connect, I try connecting on the iOS simulator, and the connection works just fine. I try again on the iPhone, and it doesn't work. </p>\n\n<p>If I close the app completely and start again, then it works again. So it sounds like it may be a software issue rather than connection issue, but then again I have no evidence or data what so ever.</p>\n\n<p>I know it's vague, but I'm hoping someone may have had a similar problem. Anything helps.</p>\n"},{"tags":["java","eclipse","google-app-engine","gwt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12761833,"title":"Using GAE on eclipse after I change a class the changes wont show at run after I restart eclipse. Why?","body":"<p>Why do I need to restart eclipse after I change class using gae so the changes show at run?</p>\n"},{"tags":["java","jquery","google-app-engine","cors"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":568,"score":5,"question_id":10366912,"title":"Google App Engine and CORS","body":"<p>I have a simple app (java servlet) hosted on GAE. The app returns json data. I have set the header info as following in the servlet: </p>\n\n<pre><code>resp.setContentType(\"application/json\");\nresp.setHeader(\"Access-Control-Allow-Origin\", \"*\");\nresp.setHeader(\"Access-Control-Allow-Methods\", \"GET, POST, OPTIONS\");\nresp.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n</code></pre>\n\n<p>Here's the header info when I go to the URL directly on the app engine: </p>\n\n<pre><code>Request Method:GET\nStatus Code:200 OK\nRequest Headersview source\nAccept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nCache-Control:max-age=0\nConnection:keep-alive\nHost:---------.appspot.com\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.19 (KHTML, like Gecko)         Chrome/18.0.1025.162 Safari/535.19\nResponse Headersview source\nAccess-Control-Allow-Credentials:true\nAccess-Control-Allow-Methods:GET, POST, OPTIONS\nAccess-Control-Allow-Origin:*\nCache-Control:private\nContent-Encoding:gzip\nContent-Length:340\nContent-Type:application/json; charset=ISO-8859-1\nDate:Sat, 28 Apr 2012 19:14:58 GMT\nServer:Google Frontend\nVary:Accept-Encoding\n</code></pre>\n\n<p>But when I try to access the url from a different domain I get the following response:</p>\n\n<pre><code>Request Method:OPTIONS\nStatus Code:500 Internal Server Error\nRequest Headersview source\nAccept:*/*\nAccept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nAccess-Control-Request-Headers:origin, x-requested-with, accept\nAccess-Control-Request-Method:GET\nConnection:keep-alive\nHost:----------.appspot.com\nOrigin:http://--------------.com\nReferer:http://-------------.com/map/\nUser-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.162 Safari/535.19\nResponse Headersview source\nContent-Length:466\nContent-Type:text/html; charset=UTF-8\nDate:Sat, 28 Apr 2012 19:15:14 GMT\nServer:Google Frontend\n</code></pre>\n\n<p>here is the exact error: </p>\n\n<pre><code>XMLHttpRequest cannot load http://----------.appspot.com/Locations. Origin http://-------------.com is not allowed by Access-Control-Allow-Origin.\n</code></pre>\n\n<p>The code that tries to access the GAE url looks like this: </p>\n\n<pre><code>$.getJSON(\"http://---------appspot.com/Locations\",function(result){\n    for (i=0; i &lt; result.length; i++)\n</code></pre>\n\n<p>Any help would be much appreciate it. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":12758636,"title":"Is -using ReferenceProperty in Google App Engine datastore- reasonable?","body":"<pre><code>class Author(db.Model):\n    name = db.StringProperty()\n\nclass Story(db.Model):\n    author = db.ReferenceProperty(Author)\n\nstory = db.get(story_key)\nauthor_name = story.author.name\n\nauthor = db.get(author_key)\nstories_by_author = author.story_set.get()\n</code></pre>\n\n<p>As is known; using ReferenceProperty is good solution for data relationship as exampled above.\nSo;\nFor example, we have a large amout of row in our \"Author\" and \"Story\" entities(tables). And after many years we deleted \"Author\" entity or replaced  name propery to another name. \nNaturally; our app sholud throw error.\nCan this situation (managing code) reasonable or  is performing relationships manually good?  Is there any alternative model for this case?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":9897483,"title":"Cannot sign in with google app engine plugin","body":"<p>When trying to sign in using the button in the lower left corner of the screen, I am unable to do so because it needs a verification code. However, I am not offered the chance to receive one, it only brings me directly to the \"allow this application page.\" The exact error in the log is </p>\n\n<p><code>Could not sign in. Make sure that you entered the correct verification code.</code></p>\n\n<p>Thanks for your help in advance.</p>\n"},{"tags":["python","django","web-services","google-app-engine","rest"],"answer_count":4,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":545,"score":7,"question_id":8631658,"title":"Appengine REST library - Python and Django","body":"<p>I want to provide a REST API for my Django application which will run on Google App engine. I stumbled upon <a href=\"http://code.google.com/p/appengine-rest-server/\">appengine-rest-server</a> and found to be useful. But i would like to get some real world usage examples if any, and any gotchas. Is there any better alternatives to consider?</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12759188,"title":"Deploying new version (com.google.common.cache.CacheBuilder)","body":"<p>Starting from yesterday trying to upload a new version of my app (changed only client side code), is giving me the following exception (app id is \"riparautonline-hrd\"):</p>\n\n<pre><code>Uncaught exception from servlet\njava.lang.NoClassDefFoundError: Could not initialize class com.google.common.cache.CacheBuilder\n    at com.google.common.eventbus.EventBus.&lt;init&gt;(EventBus.java:158)\n    at com.riparauto.server.guice.RestGuiceConfig.&lt;init&gt;(RestGuiceConfig.java:61)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:532)\n    at java.lang.Class.newInstance0(Class.java:372)\n    at java.lang.Class.newInstance(Class.java:325)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.newListenerInstance(WebXmlConfiguration.java:650)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.initListener(WebXmlConfiguration.java:631)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.initWebXmlElement(WebXmlConfiguration.java:368)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.initialize(WebXmlConfiguration.java:289)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.configure(WebXmlConfiguration.java:222)\n    at org.mortbay.jetty.webapp.WebXmlConfiguration.configureWebApp(WebXmlConfiguration.java:180)\n    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1247)\n    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\n    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\n    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.createHandler(AppVersionHandlerMap.java:219)\n    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:194)\n    at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:452)\n    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:459)\n    at com.google.tracing.TraceContext.runInContext(TraceContext.java:701)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:336)\n    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:328)\n    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:456)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n    at java.lang.Thread.run(Thread.java:679)\n</code></pre>\n\n<p>Does someone has/had the same problem?</p>\n"},{"tags":["google-app-engine","jdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12757638,"title":"Google App Engine JDO - Query result sets are not modifiable","body":"<p><a href=\"http://stackoverflow.com/questions/3913583/exception-query-result-sets-are-not-modifiable\">Exception: Query result sets are not modifiable</a>\ni saw a similar issue here but it did not answer my question so i decided to start a new one.</p>\n\n<p>I am trying to work around the consistently getting inconsistent reads issue ( <a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-appengine/E95wH0RkJUE\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-appengine/E95wH0RkJUE</a> ) with the High Replication datastore of Google App Engine by temporarily storing the last added object in a static variable.</p>\n\n<p>Whenever the user adds a new flight, instead of just directly persisting the new flight object, it store it in PMF as a static variable.</p>\n\n<p>So when the list of flights is fetched in a query, it stores the result it the list, and the list is compared with the last added object, if the last added object is not in the list, i manually add the last added object to the list.</p>\n\n<p>However using this method, i get the following exception whenever the newly added object is missing from the list and i manually add it.</p>\n\n<pre><code>Oct 6, 2012 2:19:38 PM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: /\njava.lang.UnsupportedOperationException: Query result sets are not modifiable\n    at org.datanucleus.store.query.AbstractQueryResult.add(AbstractQueryResult.java:222)\n    at com.jimfoo88.helloorm.GetFlights.queryJDO(GetFlights.java:101)\n    at com.jimfoo88.helloorm.GetFlights.doGet(GetFlights.java:50)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:370)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>My code below is based on the google app engine sample, HelloORM <a href=\"http://code.google.com/p/datanucleus-appengine/source/browse/trunk/demos/helloorm/src/com/google/appengine/demos/helloorm/GetFlights.java?r=736\" rel=\"nofollow\">http://code.google.com/p/datanucleus-appengine/source/browse/trunk/demos/helloorm/src/com/google/appengine/demos/helloorm/GetFlights.java?r=736</a></p>\n\n<p>I only show parts that i modify to simplify reading.</p>\n\n<h2>AddFlight.java</h2>\n\n<pre><code>private void doPostJDO(Flight f) {\n    PersistenceManager pm = PMF.get().getPersistenceManager();\n    PMF.setLastObjectAdded(f);\n    try {\n      pm.makePersistent(f);\n    } finally {\n      pm.close();\n    }\n  }\n</code></pre>\n\n<h2>PMF.java</h2>\n\n<pre><code>// Copyright 2008 Google Inc. All Rights Reserved.\npackage com.jimfoo88.helloorm;\n\nimport javax.jdo.JDOHelper;\nimport javax.jdo.PersistenceManagerFactory;\n\n/**\n * @author Max Ross &lt;maxr@google.com&gt;\n */\npublic final class PMF {\n\n    private static Object lastObjectAdded;\n\n  private static final PersistenceManagerFactory INSTANCE = JDOHelper.getPersistenceManagerFactory(\"transactions-optional\");\n\n  public static Object getLastObjectAdded() {\n    return lastObjectAdded;\n}\n\npublic static void setLastObjectAdded(Object lastObject) {\n    lastObjectAdded = lastObject;\n}\n\npublic static PersistenceManagerFactory get() {\n    return INSTANCE;\n  }\n\n  private PMF() {}\n}\n</code></pre>\n\n<h2>GetFlights.java</h2>\n\n<pre><code>private Collection&lt;Flight&gt; queryJDO(String query) {\n        PersistenceManager pm = PMF.get().getPersistenceManager();\n        try {\n            List&lt;Flight&gt; flights = (List&lt;Flight&gt;) pm.newQuery(query).execute();\n            // Force all results to be pulled back before we close the entity\n            // manager.\n            // We could have also called pm.detachCopyAll()\n            flights.size();\n            //pm.detachCopyAll(flights);\n            boolean found = false;\n            try {\n                for (Flight f : flights) {\n                    if ((Flight) PMF.getLastObjectAdded() == null) {\n                        found = true;\n                        break;\n                    }\n                    if (f.getDest() == ((Flight) PMF.getLastObjectAdded())\n                            .getDest()\n                            &amp;&amp; f.getOrig() == ((Flight) PMF\n                                    .getLastObjectAdded()).getOrig()) {\n                        logger.info(\"found object \" + f.toString()\n                                + \"in datastore\");\n                        found = true;\n                        break;\n                    }\n                }\n                if (found == false) {\n                    logger.info(\"did not find object \"\n                            + (Flight) PMF.getLastObjectAdded()\n                            + \" in datastore, need to add it\");\n                    flights.add((Flight) PMF.getLastObjectAdded());\n                }\n            } catch (NullPointerException e) {\n                logger.error(e.getMessage());\n            }\n            return flights;\n        } finally {\n            pm.close();\n        }\n    }\n</code></pre>\n\n<p>Will appreciate if anybody could point out my mistakes. If there is any better way to work around this issue, please let me know. Thanks.</p>\n"},{"tags":["google-app-engine","liferay-6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":127,"score":-1,"question_id":12747854,"title":"com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files","body":"<p>I can successfully deploy the GAE Guestbook sample application. This proves that the appcfg.sh uses the JDK. However when I try to deploy <a href=\"http://sourceforge.net/projects/lportal/files/Liferay%20Portal/6.1.1%20GA2/liferay-portal-6.1.1-ce-ga2-20120731132656558.war/download\" rel=\"nofollow\">Liferay 6.1.1 GA2</a> exploded war, I'm getting the error:</p>\n\n<p>......780889328952.tmp/WEB-INF/lib/spring-expression.jar: com.google.appengine.tools.development.LocalJspC -uriroot /tmp/appcfg6583939780889328952.tmp -p org.apache.jsp -l -v -webinc /tmp/appcfg6583939780889328952.tmp/WEB-INF/generated_web.xml -d /tmp/appcfg6583939780889328952.tmp/WEB-INF/classes -compile -javaEncoding UTF-8 </p>\n\n<p>com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files. \nUnable to update app: Failed to compile jsp files.\"\nPlease see the logs [/tmp/appcfg2009831034955829214.log] for further information.</p>\n\n<p>Below is what I get in the terminal:</p>\n\n<blockquote>\n  <p>~/Software/appengine-java-sdk-1.7.2/bin$ sudo ./appcfg.sh --enable_jar_splitting update /path/liferaysecondattempt/\n  Reading application configuration data...\n  05-Oct-2012 14:20:12 com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\n  INFO: Successfully processed /path/liferaysecondattempt/WEB-INF/appengine-web.xml\n  05-Oct-2012 14:20:12 com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\n  INFO: Successfully processed /path/liferaysecondattempt/WEB-INF/web.xml\n  Beginning server interaction for myserverblabla...\n  0% Created staging directory at: '/tmp/appcfg6583939780889328952.tmp'\n  5% Scanning for jsp files.\n  8% Compiling jsp files.\n  Error Details:\n  Error while executing: /path/jdk1.6.0_34/jre/bin/java -classpath /path/appengine-java-sdk-1.7.2/lib/impl/google_sql.jar:/path/appengine-java-sdk-1.7.2/lib/impl/appengine-api-labs.jar:/path/appengine-java-sdk-1.7.2/lib/impl/appengine-api-stubs.jar:/path/appengine-java-sdk-1.7.2/lib/impl/appengine-local-runtime.jar:/path/appengine-java-sdk-1.7.2/lib/impl/appengine-api.jar:/path/appengine-java-sdk-1.7.2/lib/shared/el-api.jar:/path/appengine-java-sdk-1.7.2/lib/shared/appengine-local-runtime-shared.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp-api.jar:/path/appengine-java-sdk-1.7.2/lib/shared/servlet-api.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp/repackaged-appengine-ant-launcher-1.7.1.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp/repackaged-appengine-tomcat-juli-6.0.29.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp/repackaged-appengine-ant-1.7.1.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp/repackaged-appengine-jasper-6.0.29.jar:/path/appengine-java-sdk-1.7.2/lib/shared/jsp/repackaged-appengine-jasper-el-6.0.29.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/classes:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/icq.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/c3p0.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm-commons.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jsonrpc.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jena.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/aopalliance.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-pool.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/rhino.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ical4j.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-ant-1.7.1.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-jasper-jdt-6.0.29.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jsr107cache.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chemistry-opencmis-commons-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/util-java.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-collections.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/portal-client.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jdom.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chemistry-opencmis-client-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jabsorb.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/tomcat-jdbc.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/cglib.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ecs.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/slf4j-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/daisydiff.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/gt-metadata.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/aspectj-rt.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/hessian.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/wstx.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ant.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-validator.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/msnm.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-jakarta-standard-1.1.2.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-codec.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chemistry-opencmis-client-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/easyconf.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ccpp-ri.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jaxws-rt.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jodd.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bnd.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/im4java.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/velocity-tools.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/log4j-extras.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jstl-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/kxml2.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xercesImpl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/rdffilter.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-ant-launcher-1.7.1.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jhlabs-filters.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-logging.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/lucene-highlighter.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jackrabbit-spi-commons.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/oscache.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm-analysis.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xmlsec.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/eclipse-core-runtime.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jodd-wot.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/odmg.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bsh.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xalan.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/axis.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-email.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jazzy.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/groovy.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/serializer.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jets3t.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/util-bridges.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/pdfbox.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/simplecaptcha.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/oro.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-httpclient.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/concurrent.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-context-support.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/tika-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/stringtemplate.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/portal-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-oxm.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/cas-client-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-discovery.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/equinox.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/truezip.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jaxb-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ridl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-lang.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xbean.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/oauth.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/java-diff.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chemistry-opencmis-commons-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/flexjson.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/liferay-yui-compressor.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-compress.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jgroups.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jempbox.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jackrabbit-jcr-commons.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jython.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ehcache-jgroupsreplication.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-digester.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/htmlparser.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jspwiki.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-fileupload.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/lucene-memory.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-beanutils.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/streambuffer.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/struts.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/saaj-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/wsdl4j.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/eclipselink.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/stax-ex.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/tika-parsers.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jackrabbit-spi.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/scribe.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bsf.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/lucene-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jsqlparser.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/hibernate3.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/fastutil.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-transaction.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ruby-gems.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-web-portlet.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jstl-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ccpp.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xbean-spring.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-web-struts.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-jakarta-jstl-1.1.2.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/json-java.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/antlr2.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jackrabbit-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jai_codec.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/gt-coverage.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/alloy-taglib.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bcmail.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bobo-browse.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jfreechart.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jamwiki-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/liferay-icu4j.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/portletbridge-portlet.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/rome.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/axiom-api.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jurt.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-aspects.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xpp3.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-math.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/vaadin.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-beans.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/axis-ant.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/daim.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/stax.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/struts-el.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-dbcp.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-io.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/quartz.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/poi.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/openid4java.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/poi-scratchpad.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/portletbridge-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/bcprov.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-orm.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/mimepull.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jrcs-diff.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xuggle-xuggler-noarch.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-jasper-6.0.29.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/httpcore.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jai_core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jcommon.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chemistry-opencmis-client-bindings.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/abdera.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/antlr3-runtime.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/commons-configuration.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/ehcache-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-aop.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/log4j.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/dom4j.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xml-apis.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/freshcookies-security.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-jms.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-web-servlet.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jaxen.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-asm.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/displaytag.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/tagsoup.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-context.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-tomcat-juli-6.0.29.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/velocity.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/chardet.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/aspectj-weaver.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/nekohtml.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-jdbc.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/lucene-analyzers.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jackrabbit-core.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/httpclient.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jruby.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/memcached.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm-util.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/gif89.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jaxrpc.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/backport-concurrent.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jodconverter.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/unoil.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-web.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/oauth-provider.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/javassist.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/util-taglib.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jericho-html.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/axiom-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/crypt.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/xstream.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/repackaged-appengine-jasper-el-6.0.29.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/antlr3.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm-xml.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/poi-ooxml.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jcifs.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/asm-tree.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/portals-bridges.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/metadata-extractor.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/poi-ooxml-schemas.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/urlrewrite.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/freemarker.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/juh.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/saaj-impl.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/jcr.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/fontbox.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/soap.jar:/tmp/appcfg6583939780889328952.tmp/WEB-INF/lib/spring-expression.jar: com.google.appengine.tools.development.LocalJspC -uriroot /tmp/appcfg6583939780889328952.tmp -p org.apache.jsp -l -v -webinc /tmp/appcfg6583939780889328952.tmp/WEB-INF/generated_web.xml -d /tmp/appcfg6583939780889328952.tmp/WEB-INF/classes -compile -javaEncoding UTF-8 \n  com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files.\n  Unable to update app: Failed to compile jsp files.\n  Please see the logs [/tmp/appcfg2009831034955829214.log] for further information.</p>\n</blockquote>\n\n<p>Below is what I have in the \"/tmp/appcfg2009831034955829214.log\" file:</p>\n\n<blockquote>\n  <p>Unable to update:\n  com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files.\n          at com.google.appengine.tools.admin.Application.compileJsps(Application.java:710)\n          at com.google.appengine.tools.admin.Application.createStagingDirectory(Application.java:551)\n          at com.google.appengine.tools.admin.AppAdminImpl.doUpdate(AppAdminImpl.java:327)\n          at com.google.appengine.tools.admin.AppAdminImpl.update(AppAdminImpl.java:52)\n          at com.google.appengine.tools.admin.AppCfg$UpdateAction.execute(AppCfg.java:1014)\n          at com.google.appengine.tools.admin.AppCfg.(AppCfg.java:210)\n          at com.google.appengine.tools.admin.AppCfg.(AppCfg.java:99)\n          at com.google.appengine.tools.admin.AppCfg.main(AppCfg.java:95)\n  com.google.appengine.tools.admin.AdminException: Unable to update app: Failed to compile jsp files.\n          at com.google.appengine.tools.admin.AppAdminImpl.doUpdate(AppAdminImpl.java:333)\n          at com.google.appengine.tools.admin.AppAdminImpl.update(AppAdminImpl.java:52)\n          at com.google.appengine.tools.admin.AppCfg$UpdateAction.execute(AppCfg.java:1014)\n          at com.google.appengine.tools.admin.AppCfg.(AppCfg.java:210)\n          at com.google.appengine.tools.admin.AppCfg.(AppCfg.java:99)\n          at com.google.appengine.tools.admin.AppCfg.main(AppCfg.java:95)\n  Caused by: com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files.\n          at com.google.appengine.tools.admin.Application.compileJsps(Application.java:710)\n          at com.google.appengine.tools.admin.Application.createStagingDirectory(Application.java:551)\n          at com.google.appengine.tools.admin.AppAdminImpl.doUpdate(AppAdminImpl.java:327)\n          ... 5 more</p>\n</blockquote>\n\n<p>The error and the log is very generic and thus I'm stuck... Your help is much appreciated!</p>\n\n<p>I see someone marked this question as \"This question does not show any research effort; it is unclear or not useful\". Could this person who voted this step forward and let me know why he/ she believes so? I tested GAE with the sample application. This in turn rules out that the JDK is the problem, which is typically the solution when you get this error. There are hundreds of posts concerning the error message \"com.google.appengine.tools.admin.JspCompilationException: Failed to compile jsp files\" but almost all of them get resolved pointing to the correct JDK. This in turn means that this particular problem here appears to be specific to Liferay, which I know is not officially supported to deployable on GAE. However this is because no one tried it yet. The problem I have here is that GAE only produces a very generic error message. What I hoping for here is that someone could provide an indication as to what possibly GAE might not like in order to throw this error. I don't necessarily expect a solution from you, I would be happy with any lead, which I could follow to derive a solution myself.</p>\n"},{"tags":["google-app-engine","google","jersey"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12756977,"title":"Jersey Google app engine - Resource not found","body":"<p>I am deploying a sample app in Google App Engine that uses Jersey. However when I try to do a GET or POST to the REST resource I get a - 404 NOT FOUND error. Looks like I am missing something.</p>\n\n<p>REST resource code:</p>\n\n<pre><code>    import javax.ws.rs.Consumes;\n    import javax.ws.rs.GET;\n    import javax.ws.rs.POST;\n    import javax.ws.rs.Path;\n    import javax.ws.rs.Produces;\n    import javax.ws.rs.core.MediaType;\n\n    import org.codehaus.jettison.json.JSONObject;\n\n    @Path(\"/stream\")\n    public class StreamingResource {\n        private static final Logger log = Logger\n        .getLogger(FacebookStreamingResource.class.getName());\n\n        @POST\n        @Path(\"/callback\")\n        @Consumes(MediaType.APPLICATION_JSON)\n        @Produces(MediaType.TEXT_PLAIN)\n        public String putStreamData(JSONObject jsonEntity) {\n            return jsonEntity.toString();\n        }\n\n        @GET\n        @Path(\"/get\")\n        @Produces(MediaType.TEXT_PLAIN)\n        public String getStreamData() {\n            return \"Get successful\";\n        }\n    }\n</code></pre>\n\n<p>Here is the web.xml file</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?&gt;\n    &lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\"\n        xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.5\"\n        xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee               http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;com.google.api.server.spi.SystemServiceServlet&lt;/servlet-class&gt;\n            &lt;init-param&gt;\n                &lt;param-name&gt;services&lt;/param-name&gt;\n                &lt;param-value /&gt;\n            &lt;/init-param&gt;\n        &lt;/servlet&gt;\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;SystemServiceServlet&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/_ah/spi/*&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n\n        &lt;servlet&gt;\n            &lt;servlet-name&gt;JerseyWebApplication&lt;/servlet-name&gt;\n            &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n            &lt;init-param&gt;\n                &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n                &lt;param-value&gt;com.vbv.fb&lt;/param-value&gt;\n            &lt;/init-param&gt;\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n        &lt;/servlet&gt;\n        &lt;servlet-mapping&gt;\n            &lt;servlet-name&gt;JerseyWebApplication&lt;/servlet-name&gt;\n            &lt;url-pattern&gt;/stream/*&lt;/url-pattern&gt;\n        &lt;/servlet-mapping&gt;\n        &lt;session-config&gt;\n            &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n        &lt;/session-config&gt;\n    &lt;/web-app&gt;\n</code></pre>\n\n<p>I have included the following jars:</p>\n\n<p>asm-3.1.jar\njersey-client-1.12.jar\njersey-core-1.12.jar\njersey-json-1.12.jar\njersey-server-1.12.jar\njersey-servlet-1.12.jar\njettison-1.1.jar\njackson-core-asl-1.7.1.jar\njackson-jaxrs-1.7.1.jar\njackson-mapper-asl-1.7.1.jar\njackson-xc-1.7.1.jar</p>\n\n<p>App Engine SDK version is 1.7.0</p>\n\n<p>Any suggestions would be greatly appreciated :)</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12752245,"title":"Interactive console on deployed GAE app","body":"<p>When you're testing a GAE app locally, there's an \"Interactive Console\" that you can use to run arbitrary code inside your application. Is there a way to do this for a deployed GAE app on <a href=\"http://appengine.google.com\" rel=\"nofollow\">appengine.google.com</a>?</p>\n\n<p>It would be useful to to be able to do datastore operations on a live application in the console.</p>\n"},{"tags":["python","regex","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":12754585,"title":"python enconding regex issue","body":"<p>I am trying to get this line out from a page:</p>\n\n<pre><code>                                            $ 55 326\n</code></pre>\n\n<p>I have made this regex to get the numbers:</p>\n\n<pre><code>    player_info['salary'] = re.compile(r'\\$ \\d{0,3} \\d{1,3}')\n</code></pre>\n\n<p>When I get the text I use bs4 and the text is of type 'unicode'</p>\n\n<pre><code>    for a in soup_ntr.find_all('div', id='playerbox'):\n       player_box_text = a.get_text()\n       print(type(player_box_text))\n</code></pre>\n\n<p>I can't seem to get the result.\nI have also tried with a regex like these</p>\n\n<pre><code>    player_info['salary'] = re.compile(ur'\\$ \\d{0,3} \\d{1,3}')\n    player_info['salary'] = re.compile(ur'\\$ \\d{0,3} \\d{1,3}', re.UNICODE)\n</code></pre>\n\n<p>But I can't find out to get the data.\nThe page I am reading has this header:</p>\n\n<pre><code>    Content-Type: text/html; charset=utf-8\n</code></pre>\n\n<p>Hope for some help to figure it out.</p>\n"},{"tags":["java","google-app-engine","logging"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12752749,"title":"How to see debug logs for JRE and/or GAE classes","body":"<p>Is it possible to change logging level for JRE and/or GAE classes? </p>\n\n<p>I tryed putting this into logging.properties file:</p>\n\n<pre><code>sun.net.www.protocol.http.HttpURLConnection.level = ALL\ncom.google.appengine.api.urlfetch.level = ALL \n</code></pre>\n\n<p>I tryed to change level from code:</p>\n\n<pre><code>Logger.getLogger(\"sun.net.www.protocol.http.HttpURLConnection\").setLevel(Level.ALL);\nLogger.getLogger(\"com.google.appengine.api.urlfetch\").setLevel(Level.ALL);\n</code></pre>\n\n<p>But so far i only see logs of my own app in the GAE console. I have no idea how to debug a problem that only happens in GAE but not in my local sandbox...(</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":28,"score":0,"question_id":12746008,"title":"AppEngine Search API on development server","body":"<p>The problem is really strange. I index some documents on my local development server. The indexes are visible in the admin console (Text Search link). Then i restart the server with --clear_datastore switch. All the datastore entities are gone but when I click on Text Search link in the Admin Console i still see text search indexes.</p>\n\n<p>How do I get read of them?</p>\n"},{"tags":["javascript","python","internet-explorer","google-app-engine","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12748975,"title":"Google App Engine won't set cookies in IE9","body":"<p>I'm using Google App Engine to build a website for my High School's drama club, and it works perfectly in Chrome, Firefox, etc. However, (as you would expect) it doesn't work in Internet Explorer.</p>\n\n<p>When a user logs in, it sets a cookie in the following form '4|55b4e2aea49a225f1a8e436df051c678', where 4 is the id of the user, followed by a hashed version.</p>\n\n<p>I have a custom handler that all of my classes inherit that sets cookies. </p>\n\n<pre><code>def set_cookie(self, name, value):\n  val = self.make_secure_val(value)\n  logging.debug(val)\n  return self.response.headers.add_header(\"Set-Cookie\", \"%s=%s; Path='/'\" % (name, val))\n\ndef make_secure_val(self, val):\n  return '%s|%s' % (val, hmac.new(secret, val).hexdigest())\n</code></pre>\n\n<p>After it sets the cookie, I have another logging line that outputs the value of the cookie.  The value that gets set to the cookie is correct, however, the cookie never gets set.</p>\n\n<p>I've tried changing all of IE's cookie settings to accept all cookies.  However, it doesn't make a difference.  I can set a cookie in Javascript and it works fine.  However, it should be working in Python as well.  I've tried adding an expiration date, but that doesn't make a difference as well.</p>\n\n<p>In my reasearch, I've noticed a lot of people have problems with IE cookies with an iframe, however, that doesn't apply to me.</p>\n\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12751407,"title":"Logs in Google App Engine Not Working","body":"<p>I am building a Java Google App using Google App Engine and I followed <a href=\"https://developers.google.com/appengine/docs/java/runtime#Logging\" rel=\"nofollow\">these instructions</a> on how to use Logging.</p>\n\n<p>Basically, what I'm trying to do is very simple. I am issuing a POST request to a servlet in the App Engine, and I just want to print out via the Logs to see if I'm getting the data correctly. There are no statements in the Logs at all, aside from the automatically generated one saying that a POST was received, but my debug statement is not there.</p>\n\n<p>Am I missing something simple outside of these directions? I'm baffled why this isn't working. </p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":12748119,"title":"Schema migration in Objectify: AlsoLoad List<Entity> did not return the \"whole\" entities","body":"<p>Objectify4+GAE 1.7.1</p>\n\n<p>Before migration: the entity has a field:</p>\n\n<pre><code>@Load\nList&lt;ChildEntity&gt; children=new ArrayList&lt;ChildEntity&gt;();\n</code></pre>\n\n<p>Now i want to delete this field and instead use:</p>\n\n<pre><code> List&lt;String&gt; childrenNames=new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>According to Objectify doc, i use below method:</p>\n\n<pre><code>    void importPreviousChildren( @AlsoLoad( \"children\" ) List&lt;ChildEntity&gt; children )\n    {\n        for( ChildEntity c: children )\n        {\n            if( !childrenNames.contains( c.getName() ) )\n                childrenNames.add( c.getName() );\n        }\n    }\n</code></pre>\n\n<p>But, the result is childrenNames field contain just \"null\". I guess the reason is, when loading children it does load the whole ChildEntity, So what's the correct way to solve this problem?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":34,"score":-1,"question_id":12750764,"title":"Using normalised google distance","body":"<p>We would like to send two terms and find the normalised google distance. The application will send the terms via a java application. Any help how to achieve this here is an e.g site which does it <a href=\"http://www.mechanicalcinderella.com/\" rel=\"nofollow\">http://www.mechanicalcinderella.com/</a>. </p>\n"},{"tags":["google-app-engine","app-engine-ndb"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12727233,"title":"NDB query fetch() and ContextOptions","body":"<p>I would like to disable context cache in only one of my queries. I thought I could do it like this:</p>\n\n<pre><code>MyModel.query(ancestor=user.key).fetch(100, options=ContextOptions(use_cache=False, use_memcache=False))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MyModel.query(ancestor=user.key).fetch(100, config=ContextOptions(use_cache=False, use_memcache=False))\n</code></pre>\n\n<p>But it does not seem to work for me. So my question is how do I disable cache and memcache for queries using <strong>fetch</strong>?</p>\n\n<p>PS:</p>\n\n<p>For get() it works perfectly:</p>\n\n<pre><code>MyModel.query(ancestor=user.key).get(use_cache=False, use_memcache=False)\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":11438798,"title":"Google App Engine, Permalinks and CSS","body":"<p>I've been working through the Udacity Web Enginnering course and have got stuck, on one of the homeworks.</p>\n\n<p>I've created a basic blog that allows me to create posts and displays them on the main page. Furthermore, each time a post is created a permalink is generated and the page displayed. However, while my HTML renders fine, all CSS is lost. The stylesheet is certainly referenced in the source returned from the server, but is not displayed.</p>\n\n<p>The same CSS file (stlye.css) is used successfully however elsewhere.</p>\n\n<p>The directory structure looks like this:</p>\n\n<pre><code>blog:\n    - app.yaml\n    - main.py\ntemplates:\n    - index.html\n    - newpost.html\n    - styles.css\nstylesheets\n    - styles.css\n</code></pre>\n\n<p>Here's my applications code:</p>\n\n<pre><code>import os\nimport webapp2\nimport jinja2\n\nfrom google.appengine.ext import db\n\njinja_environment = jinja2.Environment(autoescape=True,\n    loader=jinja2.FileSystemLoader(os.path.join(os.path.dirname(__file__), 'templates')))\n\n# Defines the database model\nclass Post(db.Model):\n    subject = db.StringProperty(required = True)\n    content = db.TextProperty(required = True)\n    created = db.DateTimeProperty(auto_now_add = True)\n\n# Base handler class with utility functions\nclass Handler(webapp2.RequestHandler):\n    def write(self, *a, **kw):\n        self.response.out.write(*a, **kw)\n    def render_str(self, template, **params):\n        t = jinja_environment.get_template(template)\n        return t.render(params)\n    def render(self, template, **kw):\n        self.write(self.render_str(template, **kw))\n\nclass Blog(Handler):\n    def get(self):\n        posts = db.GqlQuery(\"SELECT * FROM Post ORDER BY created DESC\")\n        self.render('index.html', posts = posts)\n\n# Render a single post\nclass Permalink(Handler):\n    def get(self, post_id):\n        post = Post.get_by_id(int(post_id))\n        self.render(\"index.html\", posts = [post])\n\n# Submission form\nclass NewPost(Handler):\n    def get(self):\n        self.render(\"newpost.html\")\n\n    def post(self):\n        subject = self.request.get(\"subject\")\n        content = self.request.get(\"content\")\n\n        if subject and content:\n            post = Post(subject = subject, content = content)\n            key = post.put()\n            self.redirect(\"/blog/%d\" % key.id())    \n        else:\n            error = \"Something went wrong. We need both a subject and content\"\n            self.render(\"newpost.html\",subject=subject, content=content, error=error)\n\napp = webapp2.WSGIApplication([('/blog', Blog), ('/newpost', NewPost), ('/blog/(\\d+)', Permalink)], debug=True)\n</code></pre>\n\n<p>And my app.yaml:</p>\n\n<pre><code>application: 20-khz-udacity\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nlibraries:\n- name: jinja2\n  version: latest\n\nhandlers:\n- url: /blog/(\\d+)\n  script: main.app\n\n- url: /stylesheets\n  static_dir: stylesheets\n\n- url: /.*\n  script: main.app\n</code></pre>\n\n<p>And, finally, the template used for the the index:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;link type=\"text/css\" rel=\"stylesheet\" href=\"stylesheets/styles.css\" /&gt;\n  &lt;title&gt;CS 253 Blog&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;a href=\"/blog\" class=\"main-title\"&gt;Ray's Blog&lt;/a&gt;\n  &lt;div class=\"age\"&gt;Queried 104973 seconds ago&lt;/div&gt;\n  &lt;div id=\"content\"&gt;\n    {% for post in posts %}\n    &lt;div class=\"post\"&gt;\n        &lt;div class=\"post-title\"&gt;{{post.subject}}&lt;/div&gt;\n        &lt;div class=\"post-date\"&gt;{{post.created}}&lt;/div&gt;\n        &lt;pre class=\"post-content\"&gt;{{post.content}}&lt;/pre&gt;\n    &lt;/div&gt;  \n    {% endfor %}\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And finally, the actual app can be found here:\n<a href=\"http://20-khz-udacity.appspot.com/blog/\" rel=\"nofollow\">http://20-khz-udacity.appspot.com/blog/</a></p>\n\n<p>Does anybody have an idea about what could be wrong?</p>\n"},{"tags":["query","google-app-engine","datastore"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12747321,"title":"appengine: How to query entities by key, in entities with ancester?","body":"<p>I have a problem with my app on Google AppEngine, especially with the datastore.\nThe story is a bit long. My data model looks like this:</p>\n\n<ol>\n<li>Users can create entities. Each entity has the following properties:\n#1). the auto generated key. #2). The creator. #3). A number.</li>\n<li>In the app, I'm doing the following queries:\na). Query entities by creator (#2). b). Query entities by the number property (#3). c). Query the entity by id(#1).</li>\n</ol>\n\n<p>I'm using the low level datastore API. Now, here are several problematic approaches I have tried:</p>\n\n<p>[Approach 1]: With the Datastore, if I make the entities parentless (no ancester), then things are good, especially the query 'c' can be easily achieved by Datastore.get(k). </p>\n\n<p>Problem of Approach1: Since the datastore is \"eventually consistent\", for query 'a' the result is ALWAYS not update to date. If a user creates an entity, then lists all entities he creates, the newly created one is always missing. It only appears by refresh in a few seconds later...Tried using memcache, does not help the case (or I'm not finding a good way?).</p>\n\n<p>To overcome the problem above, I changed the data structure. Here's [Approach 2]: when creating each entity, create a key based on the creator, and put the new entity as child of the key. So all entities created by a user are entities with an ancester. Thus query 'a' works in a timely manner, and query 'b' also seems to work. </p>\n\n<p>The new problem of Approach2: For query 'c', it always returns nothing. Here's my query 'c'. Both of them can not find the entity, always:</p>\n\n<p>method 1:<br>\n    Entity en = datastore.get(k)</p>\n\n<p>method2: </p>\n\n<pre><code>DatastoreService ds = DatastoreServiceFactory.getDatastoreService();\nQuery q = new Query(kind)\n    .setFilter(FilterOperator.EQUAL.of(Entity.KEY_RESERVED_PROPERTY, k));\nEntity en = ds.prepare(q).asSingleEntity();\n</code></pre>\n\n<p>Another try: Approach3:\nGroup all entities under one ancestor. This overcomes the problem in Approach1, and can be queried with an ancestor filter so it's ok to retrieve the result. </p>\n\n<p>Problem of Approach3: Such structure groups all entities as one entity group. Per Google datastore specification, write operation can happen 5 times at the most per second. This is a limit I'd not want to hit...</p>\n\n<p>I think this kind of data model is really common. Is there a proper way to structure the data? Any help is appreciated. Thanks...</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12747878,"title":"Blob Upload Hanging","body":"<p>I was wondering if anything had changed recently in relation to uploading blobs to appengine from external applications? What used to work perfectly only 3 months ago is now hanging when doing a http post to upload the blob.</p>\n\n<p>The code (see below) which was working fine previously consists in fetching a pull queue from AppEngine (using the REST API), doing some stuff with this task received and then uploading back the result as a Blob on AppEngine. The url to upload the blob to is created by appengine using  blobstoreService.createUploadUrl(\"/upload\"); </p>\n\n<p>and is of the form:</p>\n\n<pre><code>      http://myapp.appspot.com/_ah/upload/AMmfu6aAHnkuS4ngyRJDn7urFFZeBxb_-3P-r7RY9udMvRjLWkEZNJMgUX1DFczNVi-NhIxcFat2AEPXs2IRJ0AOmznSMgcrCKmL7mGAmS7nqtr-UyYFkglD88BwCfzIui9M2yez7DSQ/ALBNUaYAAAAAUGRlEwpeGEc5ozp8Z8sDO33qgCi2AiIE/\n</code></pre>\n\n<p>I had a look at the logs on AppEngine and it seems like the servlet in charge of /upload isn't being triggered. </p>\n\n<p>I'm honestly out of ideas at this stage, any help would be greatly appreciated ! :-)</p>\n\n<p>Cheers,</p>\n\n<p>Killian</p>\n\n<pre><code> public boolean uploadAsBlob(String dataToWrite, String uploadURL) {\n\n try {\n\n      BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(tempFileLocation));\n\n      bufferedWriter.write(dataToWrite);\n\n      bufferedWriter.newLine();\n\n      bufferedWriter.close();\n\n      MultipartEntity entity = new MultipartEntity();\n\n      entity.addPart(blobFileName, new FileBody(new File(tempFileLocation)));\n\n      HttpPost method = new HttpPost(uploadURL);\n\n      method.setEntity(entity);\n\n      final HttpParams httpParams = new BasicHttpParams();\n\n      HttpConnectionParams.setConnectionTimeout(httpParams, 10000);\n\n      DefaultHttpClient httpclient = new DefaultHttpClient(httpParams);\n\n\n      //It hangs at the following line!\n\n      HttpResponse response = httpclient.execute(method);\n\n      if (response.getStatusLine().getStatusCode() == 200) {\n\n           logger.info(\"Uploaded blob to url: \" + uploadURL);\n\n           return true;\n\n      } else {\n\n           logger.warning(\"Couldn't upload blob to url: \" + uploadURL);\n\n      }\n\n\n\n      } catch (Exception e) {\n\n      logger.warning(\"Exception \" + e.getMessage() + \" occured while uploading blob to url:\" + uploadURL);\n\n      logger.warning(\"Couldn't upload blob to url: \" + uploadURL);\n\n      }\n\n      return false;\n\n      }\n</code></pre>\n"},{"tags":["google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12746059,"title":"How to deploy GWT application with pretty compiled HTML using google plugin for Eclipse","body":"<p>I use google plugin for eclipse to deploy my GWT application, it works good until now, the deploy action first compiles my GWT project with \"obfuscated\" output style, now i want it change to \"Pretty\" because i have to debug the client side on the fly, i just can't see the obfuscated stack.</p>\n\n<p>Thanks.</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12747458,"title":"Autocomplete textbox in google app engine with ajax","body":"<p>Hello i am working with ajax in goolge app engine,\n    i am trying to make autocomplete textbox.</p>\n\n<pre><code>    HTML CODE\n    &lt;input id=\"search_form\"&gt;\n\n    Ajax function is ,\n    $('#search_form').autocomplete(/search)\n\n    And class search is,\n\n    class search(webapp2.RequestHandler):\n    def get(self):\n        data = ['A','B','C', 'D']\n        data = json.dumps(data)         \n        self.response.out.write(data)\n</code></pre>\n\n<p>I am not familier about ajax , whats wrong with this code ?\n   Is any thing is wrong with this code ?</p>\n"},{"tags":["java","google-app-engine","xmpp","openfire"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1190,"score":3,"question_id":1641959,"title":"implementing GAE XMPP service as an external component to an existing XMPP server (e.g. ejabberd or OpenFire)","body":"<p>may i know what integration technique that you folks use to implement external component to an existing XMPP server (e.g. ejabberd or OpenFire)  . Is it through sending xmpp message to another user@externaldomain directly or using mechanism like urlfetch?</p>\n"},{"tags":["php","google-app-engine","phpbb"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":446,"score":1,"question_id":10148450,"title":"Google App Engine phpBB","body":"<p>I was wondering whether it's possible to install a phpbb instance to Google App Engine since I saw this: <a href=\"https://developers.google.com/cloud-sql/\" rel=\"nofollow\">https://developers.google.com/cloud-sql/</a> and this: <a href=\"http://php-apps.appspot.com/\" rel=\"nofollow\">http://php-apps.appspot.com/</a></p>\n"},{"tags":["google-app-engine","blobstore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12741845,"title":"How to verify if Blobstore Files record already exists?","body":"<p>Looks like <code>get_file_name(blob_key)</code> can be used in accordance with <a href=\"https://developers.google.com/appengine/docs/python/blobstore/blobstorefiles?hl=en\" rel=\"nofollow\">Blobstore Files API Functions doc</a>. But this is in case I know blob_key (actually, I know it, but this is additional request to datastore).</p>\n\n<p>I would like to verify that the same file is not added to Blobstore second time. Filename is unique. So, can I check presence of record by file name?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1590,"score":0,"question_id":2653516,"title":"Fetch records using Group By from appengine datastore","body":"<p>I am trying something like this:</p>\n\n<pre><code>result = db.GqlQuery(\"SELECT * FROM myDataMode COUNT(Employee) GROUP BY(Department) WHERE Salary &gt; :1\"10000)\n</code></pre>\n\n<p>And I am getting error :</p>\n\n<pre><code>BadQueryError: Parse Error: Expected no additional symbols at symbol count\n</code></pre>\n\n<p>Can any one please help me.</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":438,"score":0,"question_id":7925853,"title":"Why am I not able to run/debug google app engine \"hello, world\" on eclipse 3.7 (indigo)?","body":"<p>I am starting to think something on my eclipse has gone completely wrong. I've tried uninstalling and re-installing the plugin, also restarting my computer but nothing has worked.</p>\n\n<p>I also don't think it's a bug, at least not a known one because I've been searching around and haven't found anything about such a problem (I'm doing the app using java).</p>\n\n<p>This is the error I get when I right click the project and select Run as Web Application:</p>\n\n<pre>\nAn internal error occurred during: \"Launching CodeLabEx0\".\norg/eclipse/jdt/debug/core/JDIDebugModel\n</pre>\n\n<p>And this is what happens when I right click and try to Debug as Web application:</p>\n\n<pre>\nAn internal error occurred during: \"Launching CodeLabEx0\".\ncom/sun/jdi/connect/IllegalConnectorArgumentsException\n</pre>\n\n<p>And when I select Run configurations... I get this:</p>\n\n<pre>\nAn error has occurred. See error log for more details.\ncom/google/gdt/eclipse/suite/launch/ui/WebAppArgumentsTab\n</pre>\n\n<p>and </p>\n\n<pre>\nNo tabs defined for launch configuration type Web Application\n</pre>\n\n<p>Am I missing something really dumb?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12578846,"title":"Is there any way to download Text Search to localhost dev server?","body":"<p>Now on Google App Engine you can download kinds to localhost dev server via appcfg command, is there any way to download Text Search indexes to localhost dev server for local test and debug?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","image","google-app-engine","pil"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12683920,"title":"Import Image works on GAE but not in dev_appserver.py","body":"<p>I'm using PIL for a GAE application, and have been importing the PIL modules directly using</p>\n\n<pre><code>import Image, ImageDraw, ImageChops,\n</code></pre>\n\n<p>The application works correctly with no complaints when uploaded to GAE but when trying to run with <code>dev_appserver.py</code> it refuses to import the modules.</p>\n\n<p>Is there a way to force <code>dev_appserver.py</code> to recognize them, as GAE obviously supports them?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12741266,"title":"passing object of a class to another class in goolge app engine","body":"<p>I am working with google app engine,\nI have 2 classes namely A and B and one db model say DB,\nI have processed object of DB model in class A , and i want\nto send the same object in class B , How can i do this ?\nHere is my Code ,</p>\n\n<pre><code>class Candidate(db.Model):\n    name = db.StringProperty()\n    lastname = db.StringProperty()\n    email = db.StringProperty()\n    mobno = db.StringProperty()\n\nclass A(webapp2.RequestHandler):\n    def post(self):\n        currCandidate = Candidate(key_name=self.request.get('email'))\n        currCandidate.name = self.request.get('name')\n        currCandidate.lastname=self.request.get('lname')\n        currCandidate.email=self.request.get('email')\n        currCandidate.mobno=self.request.get('mobno')\n\nclass B(webapp2.RequestHandler):\n    def get(self):\n        # currCandidate\n        # want to access currCandidate object here,\n        # currCandidate is from class A\n</code></pre>\n\n<p>I want to access the currCandidate object from class B.</p>\n"},{"tags":["java","google-app-engine","cron","backend"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":53,"score":4,"question_id":12739411,"title":"GAE :Process terminated because the backend took too long to shut down in backends job","body":"<p>My backend job is working on the basis of cron job(every 4 hour).But it is terminated with out processing the data. The server log displays as following :</p>\n\n<pre><code>500 15377121ms 0kb instance=0 AppEngine-Google; (+http://code.google.com/appengine)\nE 2012-10-05 01:50:18.044 Process terminated because the backend took too long to shutdown.\n</code></pre>\n\n<p>How to handle this kind of error in my program</p>\n"},{"tags":["python","google-app-engine","google-plus"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12725415,"title":"Integrate google plus circles in app engine?","body":"<p>I was wondering if there is a way to use google+ in a app engine app to create circles, add people in circles and push posts to circles?</p>\n\n<p>So for example a user logs in to my app, the app can then add/remove people from circles depending on the users setting within my app. </p>\n\n<p>If that is not possible is there a least a way to access who is in a users circles ?</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":168,"score":0,"question_id":12738943,"title":"Google App Engine Server in netbeans 7.2 Error Missing value for property jvmargs","body":"<p>I am trying to use Google App Engine on Netbeans 7.2. I get the plugin from <a href=\"http://kenai.com/downloads/nbappengine/NetBeans7.2/\" rel=\"nofollow\">http://kenai.com/downloads/nbappengine/NetBeans7.2/</a> , but when I am running it, I get \"Missing value for property jvmargs\".</p>\n\n<p>I use sample project, so there shouldn't be any problem at all.</p>\n\n<p>Does anyone know how to fix this?</p>\n"},{"tags":["google-app-engine","gwt","requestfactory","objectify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":12738341,"title":"How to GWT + GAE + Objectify + RequestFactory","body":"<p>I am having problems creating a simple GWT + GAE (objectify) + RequestFactory app.</p>\n\n<p>I followed the instructions here <a href=\"http://cgherb.com/?p=149\" rel=\"nofollow\">GWTP + RequestFactory + Objectify + App Engine</a> and here  <a href=\"http://turbomanage.wordpress.com/2011/03/25/using-gwt-requestfactory-with-objectify/\" rel=\"nofollow\">Using GWT RequestFactory with Objectify</a> I'm using the example by David Chandler to wire everything in my app</p>\n\n<p>I managed to create all the necessary classes (RequestFactory, entities, proxies,interfaces and services) without errors and compile in development mode the only problem I get is this</p>\n\n<pre><code>[ERROR] [gwtgaeobj] Annotation error: cannot resolve org.hibernate.validator.constraints.impl.ScriptAssertValidator\njava.lang.ClassNotFoundException: org.hibernate.validator.constraints.impl.ScriptAssertValidator\n    at java.net.URLClassLoader$1.run(Unknown Source)\n</code></pre>\n\n<p>Nevertheless the module loads correctly. Once I execute my code:</p>\n\n<pre><code>public void getList() {\n\n    eventBus = new SimpleEventBus();\n    requestFactory.initialize(eventBus);\n\n    NamedListService reqCtx = requestFactory.namedListService();\n    reqCtx.listAll().fire();\n\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public void persistList(String listName) {\n\n    eventBus = new SimpleEventBus();\n    requestFactory.initialize(eventBus);\n\n    NamedListService reqCtx = requestFactory.namedListService();\n\n    NamedListProxy newList = reqCtx.create(NamedListProxy.class);\n    newList.setName(listName);\n    reqCtx.save(newList).fire();\n\n}\n</code></pre>\n\n<p>Nothing happens, no error but no response there is also no database file in </p>\n\n<pre><code>WEB-INF/appengine-generated/local_db.bin\n</code></pre>\n\n<p>How can I see if it is working?</p>\n\n<p>What am I doing wrong am I missing something? Please Help !! all I want is a running GWT + RequestFactory + Objectify + App Engine example.</p>\n\n<p>Thanks a Lot</p>\n\n<p>By the way when I try to deploy the app to AppEngine I get a lot of GWT compilation errors which don't appear in development mode. I use the Google Plugin for Eclipse to deploy the app <a href=\"https://developers.google.com/web-toolkit/doc/1.6/tutorial/appengine\" rel=\"nofollow\">Google AppEngine Tutorial</a></p>\n\n<p>.................................................................................</p>\n\n<p>Some code of interest</p>\n\n<p>All my entities are declared in an entities package in the shared folder</p>\n\n<pre><code>package com.test.SHARED.entities;\n\n\n/**\n * POJO that represents a list of items such as a ToDo list. The items are\n * stored as an embedded object.\n */\n@Entity\npublic class NamedList extends DatastoreObject {\n    private String name;\n    private Key&lt;AppUser&gt; owner;\n......\n</code></pre>\n\n<p>The Entity that I want to persist\n    package com.test.server.service;\n    public class NamedListDao extends ObjectifyDao {\n        @Override\n        public List listAll() {\n            return this.listAllForUser();\n        }</p>\n\n<pre><code>    /**\n     * Wraps put() so as not to return a Key, which RF can't handle\n     * \n     * @param obj\n     */\n    public void save(NamedList list) {\n\n    try {\n        this.put(list);\n    } catch (Exception e) {\n        String error = e.toString();\n        return;\n    }\n}...........\n</code></pre>\n\n<p>Base class for the DAO</p>\n\n<pre><code>package com.test.server.service;\npublic class ObjectifyDao&lt;T&gt; extends DAOBase {\n\n    static final int BAD_MODIFIERS = Modifier.FINAL | Modifier.STATIC\n            | Modifier.TRANSIENT;\n\n    static {\n        ObjectifyService.register(NamedList.class);\n        ObjectifyService.register(AppUser.class);\n    }\n\n    protected Class&lt;T&gt; clazz;\n\n    public ObjectifyDao() {\n        Type genericSuperclass = getClass().getGenericSuperclass();\n        // Allow this class to be safely instantiated with or without a\n        // parameterized type\n        if (genericSuperclass instanceof ParameterizedType)\n            clazz = (Class&lt;T&gt;) ((ParameterizedType) genericSuperclass)\n                    .getActualTypeArguments()[0];\n    }\n\n    public Key&lt;T&gt; put(T entity)\n\n    {\n        return ofy().put(entity);\n    }\n    .....................\n</code></pre>\n\n<p>This is my .gwt.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;module rename-to='gwtgaeobj'&gt;\n  &lt;!-- Inherit the core Web Toolkit stuff.                        --&gt;\n  &lt;inherits name='com.google.gwt.user.User'/&gt;\n    &lt;inherits name='com.googlecode.objectify.Objectify' /&gt;\n     &lt;inherits name='com.google.web.bindery.requestfactory.RequestFactory' /&gt;\n      &lt;inherits name=\"org.hibernate.validator.HibernateValidator\" /&gt;\n\n\n\n  &lt;!-- Inherit the default GWT style sheet.  You can change       --&gt;\n  &lt;!-- the theme of your GWT application by uncommenting          --&gt;\n  &lt;!-- any one of the following lines.                            --&gt;\n  &lt;inherits name='com.google.gwt.user.theme.clean.Clean'/&gt;\n  &lt;!-- &lt;inherits name='com.google.gwt.user.theme.standard.Standard'/&gt; --&gt;\n  &lt;!-- &lt;inherits name='com.google.gwt.user.theme.chrome.Chrome'/&gt; --&gt;\n  &lt;!-- &lt;inherits name='com.google.gwt.user.theme.dark.Dark'/&gt;     --&gt;\n\n  &lt;!-- Other module inherits                                      --&gt;\n\n      &lt;inherits name='com.google.gwt.logging.Logging'/&gt;\n  &lt;set-property name=\"gwt.logging.enabled\" value=\"TRUE\"/&gt;\n  &lt;set-property name=\"gwt.logging.logLevel\" value=\"FINEST\"/&gt;\n  &lt;set-property name=\"gwt.logging.consoleHandler\" value=\"ENABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.developmentModeHandler\" value=\"ENABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.firebugHandler\" value=\"ENABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.hasWidgetsHandler\" value=\"DISABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.popupHandler\" value=\"DISABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.systemHandler\" value=\"ENABLED\" /&gt;\n  &lt;set-property name=\"gwt.logging.simpleRemoteHandler\" value=\"DISABLED\" /&gt;\n\n  &lt;!-- Specify the app entry point class.                         --&gt;\n  &lt;entry-point class='com.test.client.GWTGAEOBJ'/&gt;\n\n\n  &lt;!-- Specify the paths for translatable code                    --&gt;\n  &lt;source path='client'/&gt;\n  &lt;source path='shared'/&gt;\n\n&lt;/module&gt;\n</code></pre>\n\n<p>and my web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee \n              http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n         version=\"2.5\"\n         xmlns=\"http://java.sun.com/xml/ns/javaee\"&gt;\n\n  &lt;!-- Servlets --&gt;\n\n\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;requestFactoryServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt; com.google.web.bindery.requestfactory.server.RequestFactoryServlet &lt;/servlet-class&gt; \n    &lt;init-param&gt;\n        &lt;param-name&gt;symbolMapsDirectory&lt;/param-name&gt;\n        &lt;!-- You'll need to compile with -extras and move the symbolMaps directory \n            to this location if you want stack trace deobfuscation to work --&gt;\n        &lt;param-value&gt;WEB-INF/classes/symbolMaps/&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;requestFactoryServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/gwtRequest&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n  &lt;!-- Default page to serve --&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;GWTGAEOBJ.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here are my libraries in war/WEB-INF/lib</p>\n\n<pre><code>appengine-api-1.0-sdk-1.6.0.jar\nappengine-api-labs-1.6.0.jar\nappengine-jsr107cache-1.6.0.jar\ndatanucleus-appengine-1.0.10.final.jar\ndatanucleus-core-1.1.5.jar\ndatanucleus-jpa-1.1.5.jar\ngeronimo-jpa_3.0_spec-1.1.1.jar\ngeronimo-jta_1.1_spec-1.1.1.jar\ngwt-servlet.jar\ngwt-servlet-deps.jar\nhibernate-validator-4.3.0.Final.jar\nhibernate-validator-4.3.0.Final-sources.jar\njboss-logging-3.1.0.CR1.jar\njdo2-api-2.3-eb.jar\njsr107cache-1.1.jar\nlog4j-1.2.16.jar\nobjectify-3.1.jar\nrequestfactory-apt.jar\nrequestfactory-server-2.4.0.jar\nvalidation-api-1.0.0.GA.jar\nvalidation-api-1.0.0.GA-sources\n</code></pre>\n\n<p>The jar's  added to the Build Path</p>\n\n<pre><code>objectify-3.1.jar\nhibernate-validator-4.3.0.Final-sources.jar\nhibernate-validator-4.3.0.Final.jar\nrequestfactory-apt.jar\nvalidation-api-1.0.0.GA.jar\ngwt-servlet-deps.jar\ngwt-servlet.jar\njboss-logging-3.1.0.CR1.jar\nlog4j-1.2.16.jar\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12718178,"title":"Why am I getting this UnicodeEncodeError in production but not in development? App Engine Python","body":"<p>I know this has been asked many times before and I may deserve downvotes for the question\nbut I tried a lot of things with no success.</p>\n\n<p>My application is in production.</p>\n\n<p>I'm getting this error:</p>\n\n<pre><code>2012-10-03 15:08:29.385 'ascii' codec can't encode character u'\\xed' in position 2: ordinal not in range(128) Traceback (most recent call last): File \"/base/python27_runtim\nE 2012-10-03 15:08:29.447 Traceback (most recent call last):\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_dist/lib/python2.7/wsgiref/handlers.py\", line 85, in run\nE 2012-10-03 15:08:29.447 self.result = application(self.environ, self.start_response)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1519, in __call__\nE 2012-10-03 15:08:29.447 response = self._internal_error(e)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1511, in __call__\nE 2012-10-03 15:08:29.447 rv = self.handle_exception(request, response, e)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\nE 2012-10-03 15:08:29.447 rv = self.router.dispatch(request, response)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\nE 2012-10-03 15:08:29.447 return route.handler_adapter(request, response)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\nE 2012-10-03 15:08:29.447 return handler.dispatch()\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\nE 2012-10-03 15:08:29.447 return self.handle_exception(e, self.app.debug)\nE 2012-10-03 15:08:29.447 File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\nE 2012-10-03 15:08:29.447 return method(*args, **kwargs)\nE 2012-10-03 15:08:29.447 File \"/base/data/home/apps/s~sigs-enlanube/1.362200469572800834/SIGS.py\", line 231, in post\nE 2012-10-03 15:08:29.447 descripcion = str(self.request.get('txtDescripcion')).decode('utf-8')\nE 2012-10-03 15:08:29.447 UnicodeEncodeError: 'ascii' codec can't encode character u'\\xed' in position 2: ordinal not in range(128)\n</code></pre>\n\n<p>This is the line mentioned in the stacktrace:\n<img src=\"http://i.stack.imgur.com/KHOkR.png\" alt=\"enter image description here\"></p>\n\n<p>I'm using jinja2. This is the text entered in the text area.</p>\n\n<p><img src=\"http://i.stack.imgur.com/CwrfC.png\" alt=\"enter image description here\"></p>\n\n<p>This is how the page starts:\n<img src=\"http://i.stack.imgur.com/iyPig.png\" alt=\"enter image description here\"></p>\n\n<p>and this is the text-area code:</p>\n\n<p><img src=\"http://i.stack.imgur.com/a11zu.png\" alt=\"enter image description here\"></p>\n\n<p>I don understand why I get this error in production because when tested in localhost everything is OK.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ios","google-app-engine","amazon-ec2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":24,"score":-3,"question_id":12736499,"title":"Which framework I should use for a LBS service processing server?","body":"<p>I am building an iOS app to discover other users nearby. I need one server to process all the present user and reply to \"find nearby friends\" request. I don't know which framework I should use for my project. If it possible to use my framework in google app engine or Amazon EC2? Thank you for your advice!</p>\n"},{"tags":["google-app-engine","http-headers"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12737306,"title":"Is it possible to remove Set-Cookie in the HTTP response header?","body":"<p>I'm using a MCU to access a web server based on Google App Engine. the MCU has very limited resource and the response header is to big for it.\nIs there anyway to remove the whole \"set-Cookie\" header ? ( or just remove the ACSID; it's too long)\nAnyway to minimize the HTTP header overhead is appreciated. </p>\n"},{"tags":["google-app-engine","google-apps-script","google-apps"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12736765,"title":"Is it possible to access Secure Data Connector directly from Apps Script","body":"<p>Is it or will it be possible to access the Secure Data Connector protocol directly from Apps Script and not have to first draw into a Google Spreadsheet or piggy back on an App Engine app set-up just for the transfer of private data?</p>\n\n<p>I'd like to use Apps Script to help drive a 'dashboard' of sorts to our private servers. </p>\n\n<p>I have successfully connected to SDC using the spreadsheet method and given that works i'm sure i could set up an App Engine app to do the same. It would be better if there was a single SDC service available to Apps Script.</p>\n\n<p>'#google-secure-data-connector</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12719755,"title":"batch servlet requests in appengine","body":"<p>Is it possible to combine all requests received in a period (say, 1 second) and serve them in a batch.</p>\n\n<p>Basically, I am looking for a way to handle a list of 'http servlet request response' maps, instead of serving each and every req-resp pair separately. I hope, HttpServletReqRespMapList abstraction could share common state and it would be useful in appengine environment.</p>\n\n<p>Please share, any ideas, or known implementations, ideal way to implement this in google appengine environment.</p>\n"},{"tags":["mysql","google-app-engine","junit","google-cloud-sql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12697927,"title":"App Engine - Google Cloud SQL - Local MySQL database for jUnit - rdbms package not found","body":"<p>The offline database in MySQL is working fine when i launch the app but i would like to make it work also for my unit testing!</p>\n\n<p>But it tells me that the \"<strong>rdbms</strong>\" package is missing.</p>\n\n<p>May be am i'm missing an import or something because i got the following Exception :</p>\n\n<pre><code>java.lang.AssertionError: Exception = com.google.apphosting.api.ApiProxy$CallNotFoundException: The API package 'rdbms' or call 'OpenConnection()' was not found.\n    at org.junit.Assert.fail(Assert.java:93)\n    at testDb.DbUserUnitTestCase.testAdd(DbUserUnitTestCase.java:50)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:24)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>Looks like i'm not the only one have the trouble too: </p>\n\n<ul>\n<li><a href=\"https://groups.google.com/forum/?fromgroups=#!topic/google-cloud-sql-discuss/gyIOtJSrRkY\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups=#!topic/google-cloud-sql-discuss/gyIOtJSrRkY</a></li>\n<li><a href=\"http://googlecloudsql.blogspot.com/2012/03/unit-testing-google-cloud-sql-with.html\" rel=\"nofollow\">http://googlecloudsql.blogspot.com/2012/03/unit-testing-google-cloud-sql-with.html</a></li>\n<li><a href=\"https://groups.google.com/forum/#!msg/google-appengine/VOMSNqn2FWI/bNf5pmqvDQUJ\" rel=\"nofollow\">https://groups.google.com/forum/#!msg/google-appengine/VOMSNqn2FWI/bNf5pmqvDQUJ</a>\n:/</li>\n</ul>\n"},{"tags":["google-app-engine","authentication","google-account"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12716915,"title":"How to login with google account from client application into google app engine server?","body":"<p><strong>Important</strong>: API has changed - Read this first:\n<a href=\"https://developers.google.com/accounts/docs/AuthForInstalledApps\" rel=\"nofollow\">https://developers.google.com/accounts/docs/AuthForInstalledApps</a></p>\n\n<blockquote>\n  <p>ClientLogin has been officially deprecated as of April 20, 2012. It\n  will continue to work as per our deprecation policy, but we encourage\n  you to migrate to OAuth 2.0 as soon as possible.</p>\n</blockquote>\n\n<hr>\n\n<p>I want to build two application client (some python/java program) and server (Google App Engine application) and authenticated with google acount from client to server to get some secret information.</p>\n\n<p>Let me explain scenario:</p>\n\n<ol>\n<li>Server has address <a href=\"https://example.appspot.com\" rel=\"nofollow\">https://example.appspot.com</a>.</li>\n<li>Client want download restricted information from <a href=\"https://example.appspot.com/restricted\" rel=\"nofollow\">https://example.appspot.com/restricted</a> so this url is defined and login: required in app.yaml.</li>\n<li>Client use some Google Account example_login and example_password to get access.</li>\n</ol>\n\n<p>How properly authenticate from client into Google App Engine to get access to <a href=\"https://example.appspot.com/restricted\" rel=\"nofollow\">https://example.appspot.com/restricted</a>?</p>\n"},{"tags":["python","google-app-engine","app-engine-ndb"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12733098,"title":"How to fetch image and save to blobstore?","body":"<p>I would like to fetch images (~250Kb) from another site and save them to <a href=\"https://developers.google.com/appengine/docs/python/blobstore/overview\" rel=\"nofollow\">blobstore</a>. I would like to use Blobstore due to its quota (5Gb free) vs datastore (1Gb free). How can I do it? </p>\n\n<p>GAE docs say that I should create upload form to use blobstore, which I don't need.</p>\n"},{"tags":["java","google-app-engine","apache-httpclient-4.x"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12710865,"title":"The API package 'remote_socket' or call 'Resolve()' was not found - GAE Java","body":"<p>I'm trying to call a Google Service in a GAE application hosted in GAE cloud:</p>\n\n<pre><code>private String doPost(String URL) throws ClientProtocolException, IOException {\n    // Params:\n    List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n    params.add(new BasicNameValuePair(\"accountType\", \"HOSTED_OR_GOOGLE\"));\n    params.add(new BasicNameValuePair(\"Email\", _DEFAULT_USER));\n    params.add(new BasicNameValuePair(\"Passwd\", _DEFAULT_PASS));\n    params.add(new BasicNameValuePair(\"service\", \"ah\"));\n    // Call\n    HttpClient httpClient = new DefaultHttpClient();\n    HttpPost post = new HttpPost(URL); // URL:\n                                        // https://www.google.com/accounts/ClientLogin\n    post.setEntity(new UrlEncodedFormEntity(p_params, HTTP.UTF_8));\n    post.getParams().setBooleanParameter(\n            CoreProtocolPNames.USE_EXPECT_CONTINUE, false);\n    HttpResponse response = httpClient.execute(post);\n    return _ProcessResponse(response); // Process...\n}\n</code></pre>\n\n<p><strong>The execution throws:</strong> <code>com.google.apphosting.api.ApiProxy$CallNotFoundException: The API package 'remote_socket' or call 'Resolve()' was not found</code>.</p>\n\n<p>Any ideas? I'm totally lost...</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12733269,"title":"GAE NDB example useage of Future.wait_all()","body":"<p>sorry for my ignorance but my expectation is that this would work:</p>\n\n<pre><code>from google.appengine.ext import ndb\nfrom models import myModels\n\ndelete_futures = []\ndelete_futures.append(ndb.delete_multi_async(myModels.Kind1.query().fetch(999999, keys_only=True)))\ndelete_futures.append(ndb.delete_multi_async(myModels.Kind2.query().fetch(999999, keys_only=True)))\n\nndb.Future.wait_all(delete_futures)\n</code></pre>\n\n<p>but it throws \"TypeError: list objects are unhashable\".</p>\n"},{"tags":["google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12733191,"title":"Not configured to send requests securely (yellow box on grant access page) in GAE","body":"<p>We are trying to use the license api <a href=\"https://developers.google.com/google-apps/marketplace/licensing?hl=ja\" rel=\"nofollow\">https://developers.google.com/google-apps/marketplace/licensing?hl=ja</a> to determine if a domain has installed our application.  I've followed the directions in the example but get a ServiceForbiddenException: OK Unauthorized exception when opening the feed.  I'm using the correct key and secret.</p>\n\n<p>I also looked into using this API: <a href=\"https://developers.google.com/google-apps/marketplace/v2/developers_guide#customer_license\" rel=\"nofollow\">https://developers.google.com/google-apps/marketplace/v2/developers_guide#customer_license</a>.  However it requires using an old version of the google client api library.  We are using a newer version now and don't wish to return back to a 2 year version of the library.</p>\n\n<p>How is it best to determine if a domain still has our application installed?</p>\n"},{"tags":["google-app-engine","go","json-rpc","inconsistency"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":531,"score":2,"question_id":9074356,"title":"GAE Golang - HTTP JSON RPC call works in the dev_appserver, but not on the App Engine?","body":"<p>I'm creating a Go Google App Engine application that will be making HTTP JSON RPC calls to a <a href=\"https://en.bitcoin.it/wiki/API_reference_%28JSON-RPC%29\" rel=\"nofollow\">Bitcoin server</a>. I got my code to work properly on the dev_appserver, but when deployed on GAE, the code seems to not work. I'm using a library available on <a href=\"https://github.com/ThePiachu/Go-HTTP-JSON-RPC/blob/master/httpjsonrpc/httpjsonrpcClient.go\" rel=\"nofollow\">GitHub</a>, and call it like this:</p>\n\n<pre><code>func GetInfo(id interface{})(map[string]interface{}, os.Error){\n    resp, err:=httpjsonrpc.Call(\"user:pass@111.1.1.1:18332\", \"getinfo\", id, nil)\n    if err!=nil{\n        log.Println(err)\n        return resp, err\n    }\n    return resp, err\n}\n</code></pre>\n\n<p>Which when called should give:</p>\n\n<pre><code>map[proxy: keypoololdest:1.327368259e+09 blocks:45385 keypoolsize:101 connections:11 version:50200 difficulty:8.88353262 generate:false hashespersec:0 paytxfee:0 balance:0 genproclimit:-1 testnet:true errors:]\n</code></pre>\n\n<p>But on GAE calling the function seems to be causing an error. What part of the code could be working on dev_appserver, but fail on GAE?</p>\n"},{"tags":["android","google-app-engine","requestfactory"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":11278877,"title":"intermittment RequestFactory error in Eclipse","body":"<p>I have been using RequestFactory successfully for many months in my AppEngine connected Android project. Occasionally, though, I have a problem in the file in which I subclass RequestFactory</p>\n\n<pre><code>public interface MyRequestFactory extends RequestFactory {\n    ...\n}\n</code></pre>\n\n<p><strong>Eclipse gives me a red X</strong> on the line \"public interface...\" and the error I get is shown below. (Note this is not a run-time, it's just in the Eclipse window while I'm editing)</p>\n\n<p>The strange thing is, I usually can do a few Project->Clean and edit the code a few times, never making any actual code change, then \"Save\" and the problem always goes away.  This time it's stuck though.</p>\n\n<p>Any ideas?</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException at<br>\n  org.eclipse.jdt.apt.core.internal.AptCompilationParticipant.addJava6GeneratedFile(AptCompilationParticipant.java:272)\n  at<br>\n  org.eclipse.jdt.internal.apt.pluggable.core.dispatch.IdeProcessingEnvImpl.addNewUnit(IdeProcessingEnvImpl.java:132)\n  at<br>\n  org.eclipse.jdt.internal.apt.pluggable.core.filer.IdeJavaSourceOutputStream.close(IdeJavaSourceOutputStream.java:72)\n  at   sun.nio.cs.StreamEncoder.implClose(StreamEncoder.java:319) at\n  sun.nio.cs.StreamEncoder.close(StreamEncoder.java:148) at<br>\n  java.io.OutputStreamWriter.close(OutputStreamWriter.java:233) at\n  java.io.BufferedWriter.close(BufferedWriter.java:265) at<br>\n  java.io.PrintWriter.close(PrintWriter.java:312) at<br>\n  com.google.web.bindery.requestfactory.apt.DeobfuscatorBuilder.visitType(DeobfuscatorBuilder.java:146)\n  at<br>\n  com.google.web.bindery.requestfactory.apt.DeobfuscatorBuilder.visitType(DeobfuscatorBuilder.java:43)\n  at<br>\n  org.eclipse.jdt.internal.compiler.apt.model.TypeElementImpl.accept(TypeElementImpl.java:60)\n  at<br>\n  javax.lang.model.util.ElementScanner6.scan(ElementScanner6.java:139)\n  at<br>\n  com.google.web.bindery.requestfactory.apt.ScannerBase.scan(ScannerBase.java:63)\n  at<br>\n  com.google.web.bindery.requestfactory.apt.State.executeJobs(State.java:248)\n  at<br>\n  com.google.web.bindery.requestfactory.apt.RfValidator.process(RfValidator.java:83)\n  at<br>\n  org.eclipse.jdt.internal.compiler.apt.dispatch.RoundDispatcher.handleProcessor(RoundDispatcher.java:139)\n  at<br>\n  org.eclipse.jdt.internal.compiler.apt.dispatch.RoundDispatcher.round(RoundDispatcher.java:121)\n  at<br>\n  org.eclipse.jdt.internal.compiler.apt.dispatch.BaseAnnotationProcessorManager.processAnnotations(BaseAnnotationProcessorManag\n  er.java:159) at<br>\n  org.eclipse.jdt.internal.apt.pluggable.core.dispatch.IdeAnnotationProcessorManager.processAnnotations(IdeAnnotationProcessorMan\n  ager.java:134) at\n  org.eclipse.jdt.internal.compiler.Compiler.processAnnotations(Compiler.java:813)\n  at<br>\n  org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:432)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:364)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.compile(IncrementalImageBuilder.java:329)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:301)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build(IncrementalImageBuilder.java:134)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas(JavaBuilder.java:265)\n  at<br>\n  org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:193)\n  at org.eclipse.core.internal.events.BuildManager \n  $2.run(BuildManager.java:728) at\n  org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at<br>\n  org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:199)\n  at<br>\n  org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:239)\n  at org.eclipse.core.internal.events.BuildManager \n  $1.run(BuildManager.java:292) at\n  org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at<br>\n  org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:295)\n  at<br>\n  org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:351)\n  at<br>\n  org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:374)\n  at<br>\n  org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:143)\n  at<br>\n  org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:241)\n  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)</p>\n</blockquote>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12720233,"title":"How can I, inside a transaction, read an entity that I just wrote?","body":"<p>I am using Python2.7, GAE and High Replication datastore.\nI am trying to perform a transaction that first writes an entity and then reads it but the reading never finds the entity. This is a testcase I have:</p>\n\n<pre><code>class DemoTestCase(unittest.TestCase):\n  def setUp(self):\n    self.testbed = testbed.Testbed()\n    self.testbed.activate()\n    self.policy = datastore_stub_util.PseudoRandomHRConsistencyPolicy(probability=0)\n    self.testbed.init_datastore_v3_stub(consistency_policy=self.policy)\n\n  def tearDown(self):\n    self.testbed.deactivate()\n\n  def test1(self):\n    db.run_in_transaction(self._write)\n    db.run_in_transaction(self._read)\n\n  def test2(self):\n    db.run_in_transaction(self._write_read)\n\n  def _write(self):\n    self.root_key = db.Key.from_path(\"A\", \"root\")\n    a             = A(a=1, parent=self.root_key)\n    self.a_key    = a.put()\n\n  def _read(self):\n    b = sample.read_a(self.a_key)\n    self.assertEqual(1, b.a)\n    self.assertEqual(1, A.all().ancestor(self.root_key).count(5))\n\n  def _write_read(self):\n    root_key = db.Key.from_path(\"A\", \"root\")\n    a     = A(a=1, parent=root_key)\n    a_key = a.put()\n    b     = sample.read_a(a_key)\n    self.assertEqual(None, b)\n    self.assertEqual(0, A.all().ancestor(root_key).count(5))\n</code></pre>\n\n<p>Both testcases are passing now.</p>\n\n<p>Test1 is running a transaction which performs a write. Then it's running a second transaction that performs two reads, one by key and one by ancestor-query. Reads work just fine in this case.</p>\n\n<p>Test2 is running exactly the same code as test1, but this time everything gets run inside the same transaction. As you can see, reading the entity by key returns None. Doing a ancestor query returns 0 hits.</p>\n\n<p>My question is: how can I, inside a transaction, read an entity that I just wrote? Or is this not possible?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","google-app-engine","routing","subdomain","webapp2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12556977,"title":"Using webapp2's DomainRoute on google app engine","body":"<p>I'm trying to use webapp2's <a href=\"http://webapp-improved.appspot.com/api/webapp2_extras/routes.html#webapp2_extras.routes.DomainRoute\" rel=\"nofollow\">DomainRoute</a> to route requess to specific users. The definition of the routes looks like this:</p>\n\n<pre><code>app = webapp2.WSGIApplication([\n                                DomainRoute(\"&lt;subdomain&gt;.\" + os.environ[\"HTTP_HOST\"], [\n                                    webapp2.Route('/',ClientHandler)]),\n                            ('/', MainHandler)],\n                            debug=True)\n</code></pre>\n\n<p>the handlers all exist, and currently, my ClientHandler should just spit out the current subdomain but when I currently go to nosub.localhost:8090 it doesn't even reach the server. Do I need to edit my hosts file? And if so, is it valid to add a wildcart like *.localhost so any subdomain will work?</p>\n"},{"tags":["java","google-app-engine","netbeans"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":516,"score":1,"question_id":10423861,"title":"Google App Engine won't launch on NetBeans - Stuck on Deploy","body":"<p>I've tried for longer than I'd like to admit and I've tried using NetBeans 6.9 to 7.1.2 and I've tried using multiple JDKs and such.</p>\n\n<p>I'm following the directions here: <a href=\"http://rocky.developerblogs.com/tutorials/getting-started-google-app-engine-netbeans/\" rel=\"nofollow\">http://rocky.developerblogs.com/tutorials/getting-started-google-app-engine-netbeans/</a> and I'm trying to simply run the Guestbook sample project in NetBeans.</p>\n\n<p>I've gone into System Properties and edited/created the following variables:</p>\n\n<pre><code>ANT_HOME: C:\\Program Files\\NetBeans 6.9\\java\\ant\nCLASSPATH: C:\\Program Files (x86)\\Java\\jdk1.6.0_31\nJAVA_HOME: C:\\Program Files (x86)\\Java\\jdk1.6.0_31\nPATH: C:\\Program Files (x86)\\Java\\jdk1.6.0_31\\bin\n</code></pre>\n\n<p>Despite changing the variables, NetBeans would run the project and kept saying it couldn't find <code>tools.jar</code>.  I ended up just copying <code>tools.jar</code> into the folder it was looking in (kept looking in the JRE folder... I couldn't change it no matter what).</p>\n\n<p>The program runs \"fine\", but it gets stuck when it starts up Google App Engine and tries to deploy the project, but nothing happens... it just sits there and does nothing... I've noticed that in the Services tab, the icon for Google App Engine has a little time glass and never gets the green play icon...</p>\n\n<p>Any ideas? Is it an Ant issue?  I'm sorry if this is basic - I've been trying to do this for several days now...</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":140,"score":2,"question_id":9279677,"title":"Version name being rejected in Google App Engine.","body":"<p>I am trying to deploy version <code>0-8-1-SNAPSHOT</code> of my Java application to Google App Engine. I get the following error:</p>\n\n<pre><code>com.google.appengine.tools.admin.AdminException: Unable to update app: Error posting to URL: https://appengine.google.com/api/appversion/create?app_id=versature-dashboardhr&amp;version=0-8-1-SNAPSHOT&amp;\n400 Bad Request\nError when loading application configuration:\nUnable to assign value '0-8-1-SNAPSHOT' to attribute 'version':\nValue '0-8-1-SNAPSHOT' for version does not match expression '^(?!-)[a-z\\d\\-]{1,100}$'\n</code></pre>\n\n<p>I believe <code>0-8-1-SNAPSHOT</code> matches regex <code>^(?!-)[a-z\\d\\-]{1,100}$</code>…</p>\n\n<p>I am using the Maven plugin to deploy, if that makes a difference.</p>\n"},{"tags":["google-app-engine","app-engine-ndb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12719067,"title":"NDB caching temporary / helper properties. Can I turn it off?","body":"<p>It looks like temporary variables are also cached when using NDB.</p>\n\n<pre><code>class MyModel(ndb.Model)\n\n    def __init__(self, *args, **kwds):\n        self._temporary = []\n        ndb.Model.__init__(self, *args, **kwds)\n</code></pre>\n\n<p>Is there a way not to store the temporary / helper variables in the cache?</p>\n\n<p>EDIT:</p>\n\n<p>Here is a simple test case proving my problem:</p>\n\n<pre><code>#Python imports\nimport unittest\n\n# GAE imports\nfrom google.appengine.ext import testbed\nfrom google.appengine.datastore import datastore_stub_util\nfrom google.appengine.ext import ndb\n\n\nclass TestModel(ndb.Model):\n\n    username = ndb.StringProperty()\n\n    def __init__(self, *args, **kwds):\n        self._temp = []\n        ndb.Model.__init__(self, *args, **kwds)\n\nclass TestModels(unittest.TestCase):\n\n    def setUp(self):\n        self.testbed = testbed.Testbed()\n        self.testbed.activate()\n\n        self.testbed.init_taskqueue_stub()\n        self.testbed.init_urlfetch_stub()\n        self.testbed.init_mail_stub()\n        self.testbed.init_images_stub()\n        self.testbed.init_blobstore_stub()\n\n        self.policy = datastore_stub_util.PseudoRandomHRConsistencyPolicy(probability=1)\n        self.testbed.init_datastore_v3_stub(consistency_policy=self.policy)\n\n        self.testbed.init_memcache_stub()\n        self.testbed.setup_env(app_id='ndb-test')\n\n    def tearDown(self):\n        self.testbed.deactivate()\n\n    def test1(self):\n\n        test_model = TestModel()\n        test_model.username = 'Tom'\n        test_model._temp = 'Temporary'\n        test_model.put()\n\n        test = TestModel.query().fetch(10)\n\n        self.assertEqual(1, len(test))\n\n        test = test[0]\n\n        self.assertEqual('Tom', test.username)\n        self.assertEqual([], test._temp)\n</code></pre>\n\n<p>The last line of the test <strong>self.assertEqual([], test._temp)</strong> fails even though I would expect it to pass. </p>\n\n<p>Is there a way to either not store temporary / helper model properties or have a cleaver way of resetting them every time model is loaded from cache?</p>\n"},{"tags":["java","google-app-engine","thread-safety"],"answer_count":2,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":781,"score":3,"question_id":7948793,"title":"Checklist for thread-safe java on appengine","body":"<p>My java appengine project does not keep any state between requests except for the following uses of Memcache:</p>\n\n<ul>\n<li>Objectify uses memcache to cache datastore gets</li>\n<li>I use memcache as a way to batch cleanup tasks after multiple requests (e.g. <code>if (the memcache doesn't think a cleanup task is already running) schedule another cleanup task</code>).</li>\n</ul>\n\n<p>I have no global / static references to any objects, except:</p>\n\n<ul>\n<li>The current authenticated user is kept in a <code>static ThreadLocal&lt;User&gt;</code> object.  This means each request will get its own copy of a User, right?</li>\n<li>I have a class that handles all data manipulation, and an instance is kept as a sort of global variable in a <code>static DataCoordinator</code> object.</li>\n</ul>\n\n<p>What do I need to look out for to make my code thread-safe?  Do I need to throw a <code>synchronized</code> keyword into every method declaration in my <code>DataCoordinator</code> implementation, since multiple threads could access it?  Is it true that the <code>ThreadLocal&lt;User&gt;</code> object will always make a separate <code>User</code> object for each thread, so that each request will be authenticated separately?</p>\n\n<p>I'm a total newbie to thread-safe thinking.  What should I read?</p>\n\n<p>Thanks for any help, and sorry for the lack of specificity.</p>\n"},{"tags":["python","google-app-engine","gae-datastore","jinja2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12720897,"title":"Page not displaying results from datastore query, using jinja2 and python. Help finding issue?","body":"<p>When I load the html page the results from the database are not appearing.  I am using python and jinja2.  The {{ initial_city }} is displaying the correct results, the problem seems to be with get_deals or on the html file where I have used jinja2.  I want to display results that equal to the city chosen on the main page (it is a form).  Also, I have entities in the database, which appear when going onto the google datastore local extension</p>\n\n<p>the get_deals code is:</p>\n\n<pre><code>    def get(self):\n        def get_deals(choose_city, update=False):\n            key = str(choose_city)\n            all_deals = memcache.get(key)\n            if all_deals is None:\n                d = Deal.all()\n                all_deals = d.filter('city = ', choose_city)\n                all_deals = list(all_deals)\n                memcache.set(key, all_deals)\n           return all_deals\n</code></pre>\n\n<p>Below are my scripts:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom google.appengine.api import memcache\nfrom google.appengine.ext.db import stats\nfrom models import Deal\nimport os\nimport webapp2\nimport jinja2\n\n\n\nclass Deal(db.Model):\n   title = db.TextProperty()\n   description = db.TextProperty()\n   city = db.TextProperty()\n\n deal = Deal(title='Hello',\n        #description='Deal info here',\n        #city='New York')\n deal.put()\n\n\n\njinja_environment = jinja2.Environment(autoescape=True,\n    loader=jinja2.FileSystemLoader(os.path.join(os.path.dirname(__file__), 'templates')))\n\nclass MainPage(webapp2.RequestHandler):\n  def get(self):\n      template = jinja_environment.get_template('index.html')\n      self.response.out.write(template.render())\n\n\nclass DealHandler(webapp2.RequestHandler):\n    def get(self):\n        def get_deals(choose_city, update=False):\n            key = str(choose_city)\n            all_deals = memcache.get(key)\n            if all_deals is None:\n                d = Deal.all()\n                all_deals = d.filter('city = ', choose_city)\n                all_deals = list(all_deals)\n                memcache.set(key, all_deals)\n           return all_deals\n\n\n    choose_city = self.request.get('c')\n    try:\n        initial_city = str(choose_city)\n        choose_city = initial_city\n    except ValueError:\n        initial_city = 0\n        choose_city = initial_city\n\n\n    template = jinja_environment.get_template('deal.html')\n    self.response.out.write(template.render(initial_city = initial_city, get_deals = get_deals))\n\n\n\n    app = webapp2.WSGIApplication([('/', MainPage),\n                           ('/deal', DealHandler),\n                           ('/content', ContentHandler)],\n                          debug=True)\n</code></pre>\n\n<p>And my html page that is not displaying the results is:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" href=\"/twitter-bootstrap/twitter-bootstrap-      v2/docs/assets/css/bootstrap.css\"&gt;\n&lt;title&gt;\nDeallzz: Chosen City: {{ initial_city }}\n&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\nAll deals:\n\n{% for deal in deals %}\n&lt;li&gt;{{ get_deals }}&lt;/li&gt;\n{% endfor %}\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","google-app-engine","groovy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12721122,"title":"How to create an app spot index.html page with java","body":"<p>We're using an overnight Google backend process to harvest info from an external url. As part of this process, we wish to use groovy (java) to generate a static index.html page for our own google appspot.com project. I can't see how to architect this.</p>\n\n<ol>\n<li>What path do we use to write the index.html page into the google file system so it's visible as part of our app?</li>\n<li>Do we write a a blobstore or filesystem file or something else?</li>\n<li>Is this even possible ?</li>\n</ol>\n"},{"tags":["python","http","google-app-engine","urlfetch"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":367,"score":3,"question_id":8288133,"title":"Google App Engine URL Fetch Doesn't Work on Production","body":"<p>I am using google app engine's urlfetch feature to remotely log into another web service.  Everything works fine on development, but when I move to production the login procedure fails.  Do you have any suggestions on how to debug production URL fetch?  </p>\n\n<p>I am using cookies and other headers in my URL fetch (I manually set up the cookies within the header). One of the cookies is a session cookie. </p>\n\n<p>There is no error or exception. On production, posting a login to the URL command returns the session cookies but when you request a page using the session cookies, they are ignored and you are prompted for login information again. On development once you get the session cookies you can access the internal pages just fine.  I thought the problem was related to saving the cookies, but they look correct as the requests are nearly identical.  </p>\n\n<p>This is how I call it:</p>\n\n<pre><code>fetchresp = urlfetch.fetch(url=req.get_full_url(),\n    payload=req.get_data(),\n    method=method,\n    headers=all_headers,\n    allow_truncated=False,\n    follow_redirects=False,\n    deadline=10\n    )\n</code></pre>\n\n<p>Here are some guesses as to the problem:</p>\n\n<ul>\n<li>The distributed nature of google's url fetch implementation is messing things up.</li>\n<li>On production, headers are sent in a different order than in development, perhaps confusing the server.</li>\n<li>Some of google's servers are blacklisted by the target server.</li>\n</ul>\n\n<p>Here are some hypothesis that I've ruled out:</p>\n\n<ul>\n<li>Google caching is too aggressive. But I still get the problem after turning off cache by  using the header Cache-Control: no-store.</li>\n<li>Google's urlfetch is too fast for the target server. But I still get the problem after inserting delays between calls.</li>\n<li>Google appends some data to the User-Agent header. But I have added that header to development and I don't get the problem.</li>\n</ul>\n\n<p>What other differences are there between the production URL fetch and the development URL fetch? Do you have any ideas for debugging this?</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>(First update was incorporated above)\nI don't know if it was something I did (maybe adding delays or disabling caches mentioned above) but now the production environment works about 50% of the time. This definitely looks like a race condition. Unfortunately, I have no idea if the problem is in my code, google's code, or the target server's code.</p>\n"},{"tags":["java","eclipse","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":448,"score":1,"question_id":5867803,"title":"Getting Permission Denied on using app engine","body":"<p>Using eclispe Helios with Google app plugin.<br>\nI am learning to use google app engine and was trying to make guestbook as provided in demo.<br>\nwhen ran it as Web Application i got the following error:</p>\n\n<pre>\nMay 3, 2011 3:16:59 PM com.google.appengine.tools.info.RemoteVersionFactory getVersion\nINFO: Unable to access https://appengine.google.com/api/updatecheck?runtime=java&release=1.4.0&timestamp=1291156877&api_versions=['1.0']\njava.net.SocketException: Permission denied: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)**  \n</pre>\n\n<p>Please provide me with a solution.</p>\n"},{"tags":["google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12704918,"title":"Faceted search impact on GAE datastore reads","body":"<p>Let's say I have 1000 entities. I'd like users to find entities through a faceted search in this way:</p>\n\n<ol>\n<li>user selects filter</li>\n<li>an ajax request is sent to GAE</li>\n<li>server returns the count of matching entities</li>\n<li>repeat until there are only a few entities</li>\n</ol>\n\n<p>In other words every applied filter (just a checkbox) may cause up to 1000 reads (subsequent filters would cost less because fewer entities are returned). \nThis means that about 10 \"searches\" (= applying multiple filters) a day may eat up all my 50k free reads quota.</p>\n\n<p>Memcaching results isn't really an option: if I have 30 filters which one could apply, to store all combinations there would be 2^30=\"over a billion\" memcache entries (which would all have to be updated when an entity changes by making first a billion datastore reads).</p>\n\n<p>evidently I didn't get something. How would I efficiently cache or calculate results?</p>\n"},{"tags":["google-app-engine","content-management-system","seo","blogs"],"answer_count":5,"favorite_count":7,"up_vote_count":6,"down_vote_count":1,"view_count":8809,"score":5,"question_id":852793,"title":"CMS over Google App Engine, with SEO","body":"<p>Do you know a good CMS/Blogger application that could run over GoogleAppEngine (GAE) and that have Google Friendly Urls? \n I need to install an application like this for a small company, so they could publish their work and blog some interesting stuffs. Do you know any good and mature application?</p>\n\n<p>Thanks in advance,\n   Jonathan.</p>\n"},{"tags":["google-app-engine","caching","jpa-2.0","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":12719907,"title":"Datanucleus JPA 2 Level 2 cache in Google AppEngine","body":"<p>What am I missing in the following configuration that my Datanucleus JPA 2 Level 2 cache is not using Google App Engine Memcache service? I am using the GAE 1.7.2 SDK.</p>\n\n<p>In the persistence.xml:</p>\n\n<pre><code>&lt;persistence-unit name=\"transactions-optional\"&gt;\n    &lt;provider&gt;org.datanucleus.api.jpa.PersistenceProviderImpl&lt;/provider&gt;\n    &lt;properties&gt;\n        &lt;property name=\"datanucleus.NontransactionalRead\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.NontransactionalWrite\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.ConnectionURL\" value=\"appengine\"/&gt;\n        &lt;property name=\"datanucleus.appengine.datastoreReadConsistency\" value=\"EVENTUAL\" /&gt;\n        &lt;property name=\"javax.persistence.query.timeout\" value=\"5000\" /&gt;\n        &lt;property name=\"datanucleus.datastoreWriteTimeout\" value=\"10000\" /&gt;\n        &lt;property name=\"datanucleus.singletonEMFForName\" value=\"true\"/&gt;\n        &lt;property name=\"datanucleus.cache.level2.cacheName\" value=\"someName\"/&gt;\n        &lt;property name=\"datanucleus.cache.level2.type\" value=\"javax.cache\"/&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p>Entity annotations contain:</p>\n\n<pre><code>@Entity\n@Cacheable(true)\n</code></pre>\n\n<p>My WEB-INF/lib looks like this:</p>\n\n<pre><code>-rw-r--r--   1 501  20    27M Oct  3 16:13 appengine-api-1.0-sdk-1.7.2.jar\n-rw-r--r--   1 501  20   3.3M Oct  3 16:13 appengine-api-labs.jar\n-rw-r--r--   1 501  20   5.0M Oct  3 16:13 appengine-endpoints.jar\n-rw-r--r--   1 501  20   6.8K Oct  3 16:13 appengine-jsr107cache-1.7.2.jar\n-rw-r--r--   1 501  20    45K Oct  3 16:13 asm-4.0.jar\n-rw-r--r--   1 501  20   309K Oct  3 16:13 datanucleus-api-jdo-3.1.0-m3.jar\n-rw-r--r--   1 501  20   246K Oct  3 16:13 datanucleus-api-jpa-3.1.0-m3.jar\n-rw-r--r--   1 501  20   331K Oct  3 16:13 datanucleus-appengine-2.1.0-final.jar\n-rw-r--r--   1 501  20   1.6M Oct  3 16:13 datanucleus-core-3.1.0-m5.jar\n-rw-r--r--   1 501  20   112K Oct  3 16:13 geronimo-jpa_2.0_spec-1.0.jar\n-rw-r--r--   1 501  20   5.2M Oct  3 16:13 gwt-servlet.jar\n-rw-r--r--   1 501  20   196K Oct  3 16:13 jdo-api-3.0.1.jar\n-rw-r--r--   1 501  20   7.9K Oct  3 16:13 jsr107cache-1.1.jar\n-rw-r--r--   1 501  20    15K Oct  3 16:13 jta-1.1.jar\n</code></pre>\n\n<p>In the WEB-INF/lib directory, running:</p>\n\n<pre><code>for i in *.jar; do echo $i; jar -tf $i | grep Level2; done\n</code></pre>\n\n<p>yields:</p>\n\n<pre><code>appengine-api-1.0-sdk-1.7.2.jar\nappengine-api-labs.jar\nappengine-endpoints.jar\nappengine-jsr107cache-1.7.2.jar\nasm-4.0.jar\ndatanucleus-api-jdo-3.1.0-m3.jar\ndatanucleus-api-jpa-3.1.0-m3.jar\ndatanucleus-appengine-2.1.0-final.jar\ndatanucleus-core-3.1.0-m5.jar\norg/datanucleus/cache/WeakLevel2Cache.class\norg/datanucleus/cache/Level2Cache$PinnedClass.class\norg/datanucleus/cache/AbstractLevel2Cache.class\norg/datanucleus/cache/SoftLevel2Cache.class\norg/datanucleus/cache/Level2Cache.class\norg/datanucleus/cache/NullLevel2Cache.class\norg/datanucleus/cache/JavaxCacheLevel2Cache.class\ngeronimo-jpa_2.0_spec-1.0.jar\ngwt-servlet.jar\njdo-api-3.0.1.jar\njsr107cache-1.1.jar\njta-1.1.jar\n</code></pre>\n\n<p>which shows that org.datanucleus.cache.JavaxCacheLevel2Cache is present in datanucleus-core-3.1.0-m5.jar. Yet, when I try to access entities that have been persisted before this cache was enabled, I get the following error on the server side.</p>\n\n<pre><code>org.datanucleus.exceptions.NucleusUserException: Level 2 Cache \"javax.cache\" is registered to use class \"org.datanucleus.cache.JavaxCacheLevel2Cache\" yet this is not found. Please check your CLASSPATH and plugin specification.\n</code></pre>\n\n<p>Further down the exception stack trace, I find:</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/cache/Caching\n    at org.datanucleus.cache.JavaxCacheLevel2Cache.&lt;init&gt;(JavaxCacheLevel2Cache.java:63)\n</code></pre>\n\n<p>Now, that is clear but where can I find this javax.cache.Caching? Which JAR should I need to include in the classpath? A cursory Google search does not immediately answer my question.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","google-app-engine","sockets","configuration"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":224,"score":2,"question_id":12511005,"title":"Socket connection error with GAE 1.7.2","body":"<p>I've just updated my application to the latest java GAE SDK 1.7.2 and i have the following error.</p>\n\n<pre><code>ATTENTION: /_ah/channel/dev\ncom.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 2: Received exception executing http method POST against URL http://127.0.0.1:8888/_ah/channel/connected/: Permission denied: Not allowed to issue a socket connect: permission denied.\n        at com.google.appengine.api.urlfetch.dev.LocalURLFetchService.fetch(LocalURLFetchService.java:398)\n        at com.google.appengine.api.channel.dev.ChannelManager.sendChannelPost(ChannelManager.java:283)\n        at com.google.appengine.api.channel.dev.ChannelManager.connectClient(ChannelManager.java:221)\n        at com.google.appengine.api.channel.dev.LocalChannelServlet.doGet(LocalChannelServlet.java:119)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n        at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n        at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)\n        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n        at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)\n        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n        at org.mortbay.jetty.Server.handle(Server.java:326)\n        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)\n        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\n        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>It looks like i have to setup some permission for the use of the channel API with this new version. I can't find any trace of it.</p>\n\n<p>Anyone heard of something like that?</p>\n\n<p>Thx</p>\n"},{"tags":["java","web-services","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12720595,"title":"app engine simple java webservice","body":"<p>I like to expose one <strong>JAVA</strong> method as a <strong>Web service</strong> that will accept <code>POST</code> ,strip the parameters out of it and reply accordingly. I read I have to use <code>doPost(req,resp)</code> , but How can I get to the servlet code? what should be in <code>web.xml</code>? there will not be a welcome-file ? After mapping the servlet, can I read it without the need for a <code>index.html</code> as start point?</p>\n"},{"tags":["google-app-engine","virtualenv","web.py","virtualenvwrapper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12705260,"title":"GAE can't import Web.py module in virtualenv","body":"<p>I'm trying to set up a Web.py (0.37) project in a virtualenv to run on Google App Engine (1.7.2) but I'm getting a <code>ImportError: No module named web</code> from the appserver.</p>\n\n<p>I've installed web.py using <code>python setup.py install</code> from inside my virtualenv and can confirm that it's installed properly because I can import it from the python interpreter.</p>\n\n<p>My actual GAE folder is outside the virtualenv but linked like so:</p>\n\n<p><code>ln -s ~/Development/google_appengine $VIRTUAL_ENV/google_appengine</code></p>\n\n<p>and added to my python path in <code>$VIRTUAL_ENV/lib/python2.7/site-packages/gae.pth</code> </p>\n\n<p>There must be an extra step I'm missing, heres the error message:</p>\n\n<pre><code>    ERROR    2012-10-03 09:03:17,442 wsgi.py:203] \nTraceback (most recent call last):\n  File \"/home/sett/Development/google_appengine/google/appengine/runtime/wsgi.py\", line 195, in Handle\n    handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n  File \"/home/sett/Development/google_appengine/google/appengine/runtime/wsgi.py\", line 239, in _LoadHandler\n    handler = __import__(path[0])\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 719, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 1923, in load_module\n    return self.FindAndLoadModule(submodule, fullname, search_path)\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 719, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 1787, in FindAndLoadModule\n    description)\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 719, in Decorate\n    return func(self, *args, **kwargs)\n  File \"/home/sett/Development/google_appengine/google/appengine/tools/dev_appserver_import_hook.py\", line 1730, in LoadModuleRestricted\n    description)\n  File \"/home/sett/wip/rigmarolesoup/main.py\", line 1, in &lt;module&gt;\n    import web\nImportError: No module named web\n</code></pre>\n"},{"tags":["java","php","google-app-engine","quercus"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":294,"score":3,"question_id":8545213,"title":"Google AppEngine java.net.Socket is restricted error","body":"<p>I'm using Quercus/PHP on AppEngine. When I run a simple script with <code>file_get_contents($url);</code> I get an error: </p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: java.net.Socket is a restricted class.\n  Please  see the Google App Engine developer's guide for more details.</p>\n</blockquote>\n\n<p>I've googled and although I find that other's have run into the same error, but the cause seems the vary. What do you think is cousing this error for me?</p>\n\n<p>I'm using the latest AppEngine Java SDK, and the latest Quercus.</p>\n"},{"tags":["python","google-app-engine","python-2.7"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":11596138,"title":"Detect Errors to Improve Error Logging in Google App Engine Python","body":"<p>Is there an elegant way to detect whether my google app engine application has had an error during a request to the application, and write out a much more detailed log when it does?</p>\n\n<p>I have considerable \"debug\" level logging, but I would like to remove all that and only display the debug information when an error occurs. </p>\n"},{"tags":["google-app-engine","jstl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12711572,"title":"JSTL on AppEngine - tags not working","body":"<p>I want to use JSTL in my AppEngine JSP to render data. I have completed the <a href=\"https://developers.google.com/appengine/docs/java/gettingstarted/usingdatastore\" rel=\"nofollow\">Guestbook demo</a>, which works fine for me, including the JSTL calls like this one (from the linked example):</p>\n\n<pre><code>&lt;blockquote&gt;${fn:escapeXml(greeting_content)}&lt;/blockquote&gt;\n</code></pre>\n\n<p>However, I then tried to use JSTL through tags, e.g. this:</p>\n\n<pre><code>&lt;fn:out value=\"greeting_content\" /&gt;\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>&lt;fn:out value=\"\" /&gt;\n</code></pre>\n\n<p>I get a 500 error and an exception stack trace saying:</p>\n\n<pre><code>org.apache.jasper.JasperException: /guestbook.jsp(80,4) No tag \"out\" defined in tag library imported with prefix \"fn\"\n</code></pre>\n\n<p>The JSTL library is imported at the top of the file as in the example, i.e.</p>\n\n<pre><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %&gt;\n</code></pre>\n\n<p>And as expected, if I remove that line the ${fn:something} calls stop working.</p>\n\n<p>Does anyone have an idea why that is? JSTL is supposed to work that way, isn't it? I feel like I'm missing something fundamental here, but I just can't find what it is.</p>\n"},{"tags":["java","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12717984,"title":"Authenticating with GAE Datastore return null on Entity User","body":"<p>I'm trying to create my own authentication. Everytime I try to login, and the username is not found in the GAE datastore, I get to have INTERNAL_SERVER_ERROR. </p>\n\n<p>It says that: </p>\n\n<pre><code>java.lang.NullPointerException\nat com.pawnsoftware.User.authenticate(User.java:16)\nat com.pawnsoftware.UserLoginServlet.doPost(UserLoginServlet.java:24)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n</code></pre>\n\n<p>and so on...</p>\n\n<p>How do you avoid having this error?</p>\n\n<p>The error is on the line that says: </p>\n\n<pre><code>if (user==null) {\n    message = \"Username not found.\";\n}\n</code></pre>\n\n<p>Authenticate User: </p>\n\n<pre><code>public static String authenticate(String username, String password) {\n    String message;\n    Entity user = UserUtil.findUserEntity(username);\n    String pass = user.getProperty(\"password\").toString();\n    if (user==null) {\n        message = \"Username not found.\";\n    } else if (user!=null &amp;&amp; !password.equals(pass)) {\n        message = \"Password is incorrect.\";\n    } else if (user!=null &amp;&amp; password.equals(pass)) {\n        message = \"Successfully logged in!\";\n    } else {\n        message = \"Sorry, cannot find the username and password.\";\n    } \n    return message;\n}\n</code></pre>\n\n<p>Find User Entity: </p>\n\n<pre><code>public static Entity findUserEntity (String username) {\n    Key userKey = KeyFactory.createKey(\"User\", username);\n    try {\n      return datastore.get(userKey);\n    } catch (EntityNotFoundException e) {\n      return null;\n    }\n}\n</code></pre>\n\n<p><strong>Update on authentication:</strong></p>\n\n<pre><code>public static String authenticate(String username, String password) {\n    String message;\n    Entity user = UserUtil.findUserEntity(username);\n    password = encrypt(password);\n    String pass = \"\";   \n        try {\n            pass = user.getProperty(\"password\").toString();\n        } catch (NullPointerException e) {\n            message = \"Username not found.\";\n        }\n    if (user==null) {\n        message = \"Username not found.\";\n    } else if (user!=null &amp;&amp; !password.equals(pass)) {\n        message = \"Password is incorrect.\";\n    } else if (user!=null &amp;&amp; password.equals(pass)) {\n        message = \"Successfully logged in!\";\n    } else {\n        message = \"Sorry, cannot find the username and password.\";\n    } \n    return message;\n}\n</code></pre>\n"},{"tags":["google-app-engine","objectify"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12716107,"title":"Google App Engine: Objectify lib 3.1 does not include com.googlecode.objectify.annotation.Id annotation?","body":"<p>I downloaded the Objectify 3.1 lib from <a href=\"http://code.google.com/p/objectify-appengine/downloads/list\" rel=\"nofollow\">http://code.google.com/p/objectify-appengine/downloads/list</a>, and when I follow the guides, they say I should annotate my @Entity objects with @Id and @Index, but those aren't included in the lib at all!</p>\n\n<p>My com.googlecode.objectify.annotation package only includes these annotations:</p>\n\n<ul>\n<li>com.googlecode.objectify.annotation.AlsoLoad.class</li>\n<li>com.googlecode.objectify.annotation.Cached.class</li>\n<li>com.googlecode.objectify.annotation.Entity.class</li>\n<li>com.googlecode.objectify.annotation.Indexed.class</li>\n<li>com.googlecode.objectify.annotation.NotSaved.class</li>\n<li>com.googlecode.objectify.annotation.Parent.class</li>\n<li>com.googlecode.objectify.annotation.Serialized.class</li>\n<li>com.googlecode.objectify.annotation.Subclass.class</li>\n<li>com.googlecode.objectify.annotation.Unindexed.class</li>\n</ul>\n\n<p>Please help! Thanks!</p>\n"},{"tags":["spring","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":681,"score":0,"question_id":11440928,"title":"No declaration can be found for element 'context:component-scan'","body":"<p>i'm starting with Spring 3 (3.1.2) and Google App Engine.</p>\n\n<p>I've followed a tutoria online, now, i've my bean-realted xml which has a problem while starting.</p>\n\n<p>this is the code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context/\nhttp://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n&lt;context:component-scan base-package=\"my.example\"&gt;\n</code></pre>\n\n<p>where the root package of all the java file is \"my.example\". The subpackage are \"model\" and \"controller\" with subpackages as well.\nnow.</p>\n\n<p>when i start the app i receive back this error:</p>\n\n<pre><code>org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 10 in XML document from ServletContext resource [/WEB-INF/spring-servlet.xml] is invalid; nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'context:component-scan'.\n</code></pre>\n\n<p>with a lot of more stacktrace.</p>\n\n<p>does anyone know how i can solve this?\ni checked the XSD and they seems to be correct. </p>\n"},{"tags":["iphone","image","google-app-engine","upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12710108,"title":"upload images from iPhone application to server [google app engine]","body":"<p>I try to upload images from iPhone application to GAE but after make a connection and access the server i can't get the image data.</p>\n\n<h2>iPhone Code :</h2>\n\n<pre><code>[self uploadImage:UIImagePNGRepresentation(myImage.image) filename:[NSString stringWithFormat:@\"photo%i.png\", i]];\n\n\n\n-(void)uploadImage:(NSData *)imageData filename:(NSString *)filename{\n    NSString *url = @\"http://sprite-generator.appspot.com/upload\";\n\n    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:url]\n                                    cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:60]; \n\n    [request setHTTPMethod:@\"POST\"]; \n\n\n\n    NSString *boundary = @\"----WebKitFormBoundary6WWRgApRvRXBfj2O\";\n\n    NSString *contentType = [NSString stringWithFormat:@\"multipart/form-data; boundary=%@\",boundary];\n    [request addValue:contentType forHTTPHeaderField: @\"Content-Type\"];\n\n    NSString *accept = [NSString stringWithFormat:@\"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\"];\n    [request addValue:accept forHTTPHeaderField: @\"Accept\"];\n\n    NSString *ref = [NSString stringWithFormat:@\"http://sprite-generator.appspot.com/\"];\n    [request addValue:ref forHTTPHeaderField: @\"Referer\"];\n\n\n\n    NSMutableData *body = [NSMutableData data];\n    [body appendData:[[NSString stringWithFormat:@\"\\r\\n--%@\\r\\n\",boundary] dataUsingEncoding:NSUTF8StringEncoding]];\n    [body appendData:[[NSString stringWithString:[NSString stringWithFormat:@\"Content- Disposition: form-data; name=\\\"file\\\"; filename=\\\"%@\\\"\\r\\n\",filename]] dataUsingEncoding:NSUTF8StringEncoding]];\n\n\n\n    [body appendData:[[NSString stringWithString:@\"Content-Type: image/png\\r\\n\\r\\n\"] dataUsingEncoding:NSUTF8StringEncoding]];\n    [body appendData:[NSData dataWithData:imageData]];\n\n    [body appendData:[[NSString stringWithFormat:@\"\\r\\n--%@--\\r\\n\",boundary] dataUsingEncoding:NSUTF8StringEncoding]];\n\n    [request setHTTPBody:body];\n\n\n    NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:request delegate:self startImmediately:NO]; \n\n\n    [connection start]; \n\n\n}\n</code></pre>\n\n<h2>Server Side Code [GAE Webapp2]</h2>\n\n<pre><code>class UploadHandler(webapp2.RequestHandler):\n    def post(self):\n        try:\n\n\n            image_data = self.request.get('file')\n            self.response.out.write(image_data)\n            // here image content doesn't return !!! .. \n\n            image_name = self.request.POST['file'].filename\n\n\n            image_model = ImageData()\n            image_model.name = image_name\n            image_model.data = db.Blob(image_data)\n\n            image_model.put()\n            self.redirect('/')\n\n        except Exception as detail:\n            self.response.out.write(detail)\n\n\n\napp = webapp2.WSGIApplication([('/', MainHandler),\n                               ('/img', Image),\n                               ('/upload', UploadHandler),\n                               ('/downloadImage', DownloadImageHandler),\n                               ('/downloadMap', DownloadMapHandler),\n                               ('/delete', DataStoreHandler)],\n</code></pre>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12713803,"title":"Easy method to compare two kinds in app engine","body":"<p>In a project 'am using app engine with python 2.5. Is there an easy way to find out if two kinds (let's call them new and old) are identical: have identical entities / properties and keys. I want to compare the key names.</p>\n\n<p>From the answer below, I understand that I was misunderstood. Instead of kinds I mean two model instances (similar to tables in SQL). I want to know if the entities in both model instances are identical. The configuration is identical. </p>\n"},{"tags":["google-app-engine","asynchronous"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12699686,"title":"Is there a count_async() equivalent for db models?","body":"<p><strong>NB: I am using db (not ndb) here. I know ndb has a count_async() but I am hoping for a solution that does not involve migrating over to ndb.</strong></p>\n\n<p>Occasionally I need an accurate count of the number of entities that match a query. With db this is simply:</p>\n\n<pre><code>q = some Query with filters\nnum_entities = q.count(limit=None)\n</code></pre>\n\n<p>It costs a small db operation per entity but it gets me the info I need. The problem is that I often need to do a few of these in the same request and it would be nice to do them asynchronously but I don't see support for that in the db library.</p>\n\n<p>I was thinking I could use run(keys_only=True, batch_size=1000) as it runs the query asynchronously and returns an iterator. I could first call run() on each query and then later count the results from each iterator. It costs the same as count() however run() has proven to be slower in testing (perhaps because it actually returns results) and in fact it seems that batch_size is limited at 300 regardless of how high I set it which requires more RPCs to do a count of thousands of entities than the count() method does.</p>\n\n<p>My test code for run() looks like this:</p>\n\n<pre><code>queries = list of Queries with filters\niters = []\nfor q in queries:\n  iters.append( q.run(keys_only=True, batch_size=1000) )\nfor iter in iters:\n  count_entities_from(iter)\n</code></pre>\n"},{"tags":["android","google-app-engine"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12652721,"title":"implementing a server like drawSomething","body":"<p>I am making an android social game which is supposed to be something similar to drawsomething's application.\nnow I have already made a login to my app using facebook's API. \nWhat I don't know is how to implement the server side. I've heard alot of ideas, and I can't figure out which one will be the fastest to implement and the more convenient to work with.\nsome people offered google cloud sql, google DataStore, JDO and JAX-RS... \nIt would be highly appreciated if someone could just point me to a project or some walkthrough to get started building this kind of server.\nkeep in mind that I need to be able to send my game objects between specific users (just like drawsomething does)</p>\n\n<p>Thanks a lot!</p>\n\n<p>UPDATE: I've made some homework during the last week and came into the conclusion that using JAX-RS with GAE is not so good right now, since jersey uses asm-3.1.jar while GAE's SDK uses asm-4.0.jar, thus they're conflicting, and the messing around was too heavy.\nso I've been working with Java Servlets with GAE and used JDO for my objects.\nand it works really good, and it's pretty simple to learn and use. (yeah right, after the hard work it's easy to say:) .\ngood luck!</p>\n"},{"tags":["google-app-engine","random","gql","gae-datastore"],"answer_count":6,"favorite_count":6,"up_vote_count":8,"down_vote_count":0,"view_count":3229,"score":8,"question_id":1105004,"title":"Querying for N random records on Appengine datastore","body":"<p>I'm trying to write a GQL query that returns N random records of a specific kind. My current implementation works but requires N calls to the datastore. I'd like to make it 1 call to the datastore if possible. </p>\n\n<p>I currently assign a random number to every kind that I put into the datastore. When I query for a random record I generate another random number and query for records > rand ORDER BY asc LIMIT 1.</p>\n\n<p>This works, however, it only returns 1 record so I need to do N queries. Any ideas on how to make this one query? Thanks.</p>\n"},{"tags":["eclipse","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12700140,"title":"GAE Development Mode is not working","body":"<p>When i launch my application through:\nDebug As -> Web Application</p>\n\n<p>The Development Mode Windows doesn't seem to work because all the options stay gray :</p>\n\n<p><img src=\"http://i.stack.imgur.com/6un5x.png\" alt=\"dev mode\"></p>\n\n<p>I need to have that working to use the \"Reload Web Server\" button.</p>\n\n<p>(I guess that the Development Mode will work instead of the console but i'm not sure)</p>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p><strong>Edits</strong></p>\n\n<p>So i continued to do some research, i found this : <a href=\"https://developers.google.com/eclipse/docs/running_and_debugging_2_0\" rel=\"nofollow\">https://developers.google.com/eclipse/docs/running_and_debugging_2_0</a></p>\n\n<p>At the end: </p>\n\n<blockquote>\n  <p><strong>App Engine-only Applications</strong></p>\n  \n  <p>If your application uses App Engine but not GWT, the only indication\n  that the App Engine development server is running will be output in\n  the Console view. App Engine-only launches will not appear in the\n  development mode view. The console output includes the URL of the\n  server, which by default is localhost:8888/. You can change the\n  port number via Eclipse's launch configuration dialog by selecting\n  your Web Application launch and editing the Port value on the Main\n  tab.</p>\n  \n  <p>If you open a web browser and navigate to the server's address you\n  should see a welcome page with links to any servlets defined by the\n  application.</p>\n</blockquote>\n\n<p>It's not possible to simply restart the server to load the new changes if you don't use GWT?</p>\n"},{"tags":["google-app-engine","server-side","logfiles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":9733274,"title":"I need to process the log files daily on the app engine programmatically on the server side","body":"<p>My app runs on the google app engine\nTill now I have been downloading log files and processing them into meaningful data afterwards using python</p>\n\n<p>However, now for the use of management I would like to process the daily log files directly on the app engine so that the reports can then be directly send to the concerned people.....</p>\n\n<p>Is this possible....Please suggest some method.....</p>\n"},{"tags":["google-app-engine","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":31,"score":-1,"question_id":12704990,"title":"How get only a filtered entity from data store","body":"<p>How can i fetch the whole entity and get a filtered set of data, as we do in SQLITE DB.</p>\n"},{"tags":["android","google-app-engine","special-characters","android-gcm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12704567,"title":"GCM and Special characters","body":"<p>I recently changed my c2dm push aaplucation to GCM. A new problem appeared. Its now receiving  <code>'?'</code> instead of <code>'ö','ï', ...</code></p>\n\n<p>My server logs correct Strings, but the application receives '?' insteads.</p>\n\n<p>Do you think it could have something to do with GCM?</p>\n\n<p>My code is the following: </p>\n\n<pre><code>public static void displayMessage(Context context, Intent intent) {\n    Bundle extras = intent.getExtras();\n    if (extras != null) {\n        String message = (String) extras.get(\"message\");\n        Log.v(\"extras\", extras.toString());\n        Util.generateNotification(context, message, intent);\n    }\n}\n</code></pre>\n\n<p>and the log is then:</p>\n\n<pre><code>10-02 22:18:23.671: V/intent(29809): Bundle[{message={\"name\":\"j?rg\"},\nmessage_id=8bb60eee-3a93-4075-b606-40495511a4da, collapse_key=do_not_collapse, from=160085429222}]\n</code></pre>\n\n<p>Best regards!</p>\n"},{"tags":["python","google-app-engine","full-text-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12703678,"title":"Search API: snippeted_fields option return error UnboundLocalError: local variable 'prev_len' referenced before assignment","body":"<p>I'm using a \"snippeted_fields\" in GAE search api to search a product description.</p>\n\n<p>This is the Product Description in the Search index table : <strong>Multirate 10G IP Services Engine (Modular)+Phone</strong>. And i'm searching for <strong>Multirate 10G IP</strong>. No Error in appspot. But dev_appserver return following error.</p>\n\n<pre><code>ERROR    2012-10-03 04:22:40,497 functions.py:143] local variable 'prev_len' referenced before assignment\nTraceback (most recent call last):\n   File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1530, in __call__\n     rv = self.router.dispatch(request, response)\n   File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1278, in default_dispatcher\n     return route.handler_adapter(request, response)\n   File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 1102, in __call__\n     return handler.dispatch()\n   File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 572, in dispatch\n     return self.handle_exception(e, self.app.debug)\n   File \"C:\\Program Files\\Google\\google_appengine\\lib\\webapp2\\webapp2.py\", line 570, in dispatch\n     return method(*args, **kwargs)\n   File \"C:\\Users\\app_search\\search.py\", line 1664, in get\n     result = find_search_document(search_item)\n   File \"C:\\Users\\app_search\\search.py\", line 192, in find_search_document\n     result = index.search(query_string)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\search.py\", line 2722, in search\n     apiproxy_stub_map.MakeSyncCall('search', 'Search', request, response)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\apiproxy_stub_map.py\", line 94, in MakeSyncCall\n     return stubmap.MakeSyncCall(service, call, request, response)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\apiproxy_stub_map.py\", line 320, in MakeSyncCall\n     rpc.CheckSuccess()\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\apiproxy_rpc.py\", line 156, in _WaitImpl\n     self.request, self.response)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\apiproxy_stub.py\", line 160, in MakeSyncCall\n    method(request, response)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\simple_search_stub.py\", line 871, in _Dynamic_Search\n     results = index.Search(params)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\simple_search_stub.py\", line 510, in Search\n     docs = self._AttachExpressions(docs, search_request)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\simple_search_stub.py\", line 493, in _AttachExpressions\n     evaluator.Evaluate(expr)\n   File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\stub\\expression_evaluator.py\", line 198, in Evaluate\n    result = self._Eval(expression_tree)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\stub\\expression_evaluator.py\", line 156, in _Eval\n    return func(*node.children)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\stub\\expression_evaluator.py\", line 132, in _Snippet\n    doc_words, position, search_util.DEFAULT_MAX_SNIPPET_LENGTH)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\api\\search\\stub\\expression_evaluator.py\", line 95, in _GenerateSnippet\n    while (len(snippet) + next_len + prev_len + 6 &lt; max_length and\nUnboundLocalError: local variable 'prev_len' referenced before assignment\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>def find_search_document(query):\n   _INDEX_NAME = \"GPL_Description\"    \n   query = '\"{0}\"'.format(query.replace('\"',''))\n\n   options = search.QueryOptions(           \n        snippeted_fields=['description'])\n\n   query_string = search.Query(query_string = query, options = options)\n\n   index = search.Index(name=_INDEX_NAME)\n   return index.search(query_string)\n</code></pre>\n\n<p>Also Is that possible to highlight the search query for small description like \"Multirate 10G IP Services Engine\" using search api?</p>\n"},{"tags":["java","image","google-app-engine","resize"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":502,"score":0,"question_id":5532728,"title":"fail reducing Image size using goolge app engine images java API","body":"<p>I want to reduce image size (in KB) when its size is larger than 1MB. </p>\n\n<p>when I apply the resize transformation with smaller width and smaller height the size of the transformed image (in bytes) is larger than the orig image.</p>\n\n<p>The funny (or sad) part is even when I invoke the resize with the <strong>same</strong> width and height as the orig (i.e. dimensions are not changed) the size \"transformed\"  image is larger than the orig </p>\n\n<pre><code>    final byte[] origData = .....;\n    final ImagesService imagesService = ImagesServiceFactory.getImagesService();\n\n    final Image origImage = ImagesServiceFactory.makeImage(oldDate);\n    System.out.println(\"orig dimensions is \" + origImage.getWidth() + \" X \" + origImage.getHeight());\n\n    final Transform resize = ImagesServiceFactory.makeResize(origImage.getWidth(), origImage.getHeight());\n    final Image newImage = imagesService.applyTransform(resize, origImage);\n    final byte[] newImageData = newImage.getImageData();\n    //newImageData.length &gt; origData.length :-(\n</code></pre>\n"},{"tags":["google-app-engine","yaml","favicon"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12702718,"title":"Why do I have favicon.ico error in my GAE dashboard?","body":"<p>I have the following in my app.yaml (python is used):  </p>\n\n<pre><code>handlers:\n- url: /ico/\n  static_dir: templates/ico\n</code></pre>\n\n<p>So, <em>favicon.ico</em> is located as <em>templates\\ico\\favicon.ico</em>. HTML files (also located at <em>templates</em> folder, but used as templates from the main app) refer to this file as</p>\n\n<pre><code>&lt;link rel=\"shortcut icon\" href=\"ico/favicon.ico\"&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;link rel=\"shortcut icon\" href=\"/ico/favicon.ico\"&gt;\n</code></pre>\n\n<p>(depends on final URL)</p>\n\n<p>And favicon is displayed.\nShould I define it <a href=\"https://developers.google.com/appengine/kb/general#erroruris\" rel=\"nofollow\">additionally</a> as </p>\n\n<pre><code>handlers:\n- url: /favicon\\.ico\n  static_files: templates/ico/favicon.ico\n  upload: templates/ico/favicon\\.ico\n</code></pre>\n\n<p>What is the reason, if so?</p>\n"},{"tags":["google-app-engine","google-drive","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12667266,"title":"Reading and writing large files to and from Google Drive or Cloud Storage using Google App Engine","body":"<p>I was wondering if Google App Engine supports reading and writing large files ( example, text files of size more than 2GB ) into and from Google Drive or Cloud Storage ?</p>\n\n<p>What problems can I expect?</p>\n\n<p>I'm using the Python 2,7 Google App Engine SDK by the way.</p>\n\n<hr>\n\n<p>Updates.</p>\n\n<p>I intend to read up to a million rows of data from Google's Data Store ( or maybe the new NDB ), and save the data into a text file for further processing either on Google Cloud Compute or some third party services like PiCloud.</p>\n\n<p>The data is basically a network relationship and it goes like this:</p>\n\n<pre><code>A -&gt; B\nB -&gt; C\nA -&gt; D\n</code></pre>\n\n<p>The above means that A is linked to B, B is linked to C and A is linked to D and so on...</p>\n\n<p>As i have over a million edges, i think i might have to use the task queue or cron job to do this?</p>\n\n<p>So after i processed the relationships, i'll have another text file which contains some scores between each pair of nodes, which i will than write back into the database.</p>\n\n<p>Best Regards.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":65,"score":4,"question_id":12684958,"title":"GAE : How to configure backends.xml for long time working process","body":"<p>In my java application i'm processing one lack data per day using cron job but it cannot be properly do with cron jobs (DeadLineExceedException) and 10 minute is not enough to complete the process. So i would like switch the process to backends.xml. But i don't know how to move backends.xml. How can i start the process at a fixed time after moving to backends.</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":709,"score":2,"question_id":1668963,"title":"Filtering by dates in Google App Engine's Datastore","body":"<p>I'm having some issues trying to filter a set of objets by their date. Right now I can get all of a\nuser's transactions like this:</p>\n\n<pre><code>&gt; t = Transaction.all().filter(\"client_email =\", \"some_email\").filter(\"application_id =\", \"foo\").fetch(100)\n&gt; len(t)\n# =&gt; 4\n</code></pre>\n\n<p>Now, if I want to set up some date filters:</p>\n\n<pre><code>&gt; min = datetime.datetime(2009, 2, 3, 0, 0)\n&gt; max = datetime.datetime(2009, 11, 4, 0, 0)\n\n&gt; len(Transaction.gql(\"WHERE client_email =:1 AND date &gt;:2 AND date &lt;=:3 AND application_id =:4\", \n                      \"some_email\", min, max, \"foo\").fetch(100))\n# =&gt; 2\n</code></pre>\n\n<p>I know all those transactions have a date &lt; max &amp;&amp; > min:</p>\n\n<pre><code>&gt; map(lambda x: x.date, t)\n# =&gt; [datetime.datetime(2009, 10, 2, 22, 43, 51), datetime.datetime(2009, 10, 5, 2, 5, 24), datetime.datetime(2009, 10, 7, 16, 51, 5), datetime.datetime(2009, 10, 7, 16, 6, 53)]\n</code></pre>\n\n<p>Yup, all those transactions were made in October 2009. I filtered them in Python just to confirm\nthat it was right:</p>\n\n<pre><code>&gt; trans = filter(lambda x: x.date &lt; max and x.date &gt;= min, t)\n&gt; len(trans)\n# =&gt; 4\n</code></pre>\n\n<p>So yes, they all have the correct dates but due to something in my query the results don't match the\nexpected results, any idea of what might be wrong in the query?</p>\n"},{"tags":["java","google-app-engine","servlets","task-queue"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12638022,"title":"GAE Task Queue processing time in java","body":"<p>In my jsp web application, when i processed a report it always cause DeadlineExceededException. So i moved the process into Task Queue of app engine.\nBut using task queue, it will not generate report and never shows any eeror message. Is task queue a proper solution for DeadlineExceededException or Task Queue have a time limit of 1 minute for processing.</p>\n\n<p>My queue.xml is configured as below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;queue-entries&gt;\n    &lt;queue&gt;\n        &lt;name&gt;default&lt;/name&gt;\n        &lt;rate&gt;5/s&lt;/rate&gt;\n    &lt;/queue&gt;\n    &lt;queue&gt;\n        &lt;name&gt;subscription-queue&lt;/name&gt;\n        &lt;rate&gt;5/s&lt;/rate&gt;\n    &lt;/queue&gt;\n    &lt;queue&gt;\n        &lt;name&gt;excel-generator-queue&lt;/name&gt;\n        &lt;rate&gt;5/s&lt;/rate&gt;\n    &lt;/queue&gt;\n&lt;/queue-entries&gt;\n</code></pre>\n"},{"tags":["python","google-app-engine","http","post","proxy"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12701722,"title":"HTTP POST through proxy on Google App Engine","body":"<p>I can not make any HTTP POST requests through a proxy in Google App Engine, with httplib (set_tunnel, it seems that is not supported: <a href=\"http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/dist27/httplib.py?r=281&amp;spec=svn281\" rel=\"nofollow\">http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/dist27/httplib.py?r=281&amp;spec=svn281</a>) nor urllib2.</p>\n\n<p>The fact is that in the local test whether the requests seem to work, at least returns something, I do'n know if through proxy, or directly (both with httplib (set_tunnel) as with urllib2), but when I upload the changes to Google's servers nothing works.</p>\n\n<p>The functions I use to make the requests are:</p>\n\n<pre><code>def __urllib2Post(self, post_args, tokenizer):\n    Post = urllib.urlencode(post_args, doseq=True)\n    headers = {\n                \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0)\", \n                #\"Host\": \"servicios.mitele.es\", \n                #\"Accept-Encoding\": \"gzip\", \n                \"Accept-Charset\": \"ISO-8859-1,UTF-8;q=0.7,*;q=0.7\", \n                \"Referer\": \"http://static1.tele-cinco.net/comun/swf/playerMitele.swf\",\n                \"Connection\": \"close\", \n                \"Accept-Language\": \"de,en;q=0.7,en-us;q=0.3\", \n                \"Content-type\": \"application/x-www-form-urlencoded\"\n                }\n    url = \"http://servicios.mitele.es\" + tokenizer\n    proxy_h = urllib2Local.ProxyHandler({\"http\" : \"80.58.250.68:80\"})\n    opener = urllib2Local.build_opener(proxy_h)  \n    urllib2Local.install_opener(opener)  \n    req = urllib2Local.Request(url, Post, headers)\n    response = urllib2Local.urlopen(req)\n    return response.read()\n\ndef __post(self, post_args, tokenizer):\n    Post = urllib.urlencode(post_args, doseq=True)\n    headers = {\n                \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0)\", \n                #\"Host\": \"servicios.mitele.es\", \n                #\"Accept-Encoding\": \"gzip\", \n                \"Accept-Charset\": \"ISO-8859-1,UTF-8;q=0.7,*;q=0.7\", \n                \"Referer\": \"http://static1.tele-cinco.net/comun/swf/playerMitele.swf\",\n                \"Connection\": \"close\", \n                \"Accept-Language\": \"de,en;q=0.7,en-us;q=0.3\", \n                \"Content-type\": \"application/x-www-form-urlencoded\"\n                }\n    #conn = httplib.HTTPConnection(\"213.4.97.107\", 80)\n    conn = httplib.HTTPConnection(\"servicios.mitele.es\", 80)\n    conn.set_tunnel(\"80.58.250.68\", 80, headers)\n    conn.request(\"POST\", tokenizer, Post, headers)\n    response = conn.getresponse()\n\n    #print response.status, response.reason\n    if response.status == 404: #NOT FOUND\n        data = None\n    elif response.status == 400: #BAD REQUEST\n        data = None\n    else:\n        data = response.read()\n    conn.close()\n    return data\n</code></pre>\n\n<p>I need to do this because I have a website that finds the download links to the videos of the websites of the major Spanish televisions, and some are locked geographically and I need to make requests through a Spanish proxy. I can not use a web proxy because the request must be POST format.</p>\n\n<p>Is there any way to do HTTP POST requests through a proxy in Google App Engine?</p>\n\n<p>Any help much appreciated.. Sorry for my english.</p>\n"},{"tags":["python","google-app-engine","app-engine-ndb","polymodel"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12694569,"title":"how to cleanly remove ndb properties","body":"<p>in my app i need to remove a few of my models properties.<br>\ni checked out <a href=\"https://developers.google.com/appengine/articles/update_schema\" rel=\"nofollow\">this link</a> but the first issue is that the properties are on a <code>polymodel</code> and there is no way im going to switch to an <code>expando</code> for the time to remove the properties, im not even shure what could happen if i change a <code>polymodel</code> to an <code>expando</code>.</p>\n\n<p>so how do i remove properties from existing entities?</p>\n\n<p>i was thinking to set all <code>StringProperty</code> to <code>None</code> and then remove these from the model schema and redeploy. \none of those properties is a <code>BooleanProperty</code>, i can't set this one to <code>None</code> right?!\nor an <code>ndb.PickleProperty</code>... how should i remove that?</p>\n\n<p>does anybody know how to get this done properly?</p>\n"},{"tags":["google-app-engine","email","google-apps","sender-id"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":11917995,"title":"Sender ID record when sending email with GAE","body":"<p>My GAE app sends email, and I followed <a href=\"http://www.codinghorror.com/blog/2010/04/so-youd-like-to-send-some-email-through-code.html\" rel=\"nofollow\">Jeff Atwood's excellent article</a> to improve the likelihood of email delivery.  </p>\n\n<p>The first two steps are really easy, but setting up a Sender ID record is more challenging.  The article provides a link to a \"Wizard\" to help do this, but I don't know the answer to many of the questions in the wizard.</p>\n\n<p>I use Google Apps for email so I'm thinking the Sender ID record should be the same for many other people in my situation (Google Apps and GAE users).</p>\n\n<p>Can anyone point me to a Sender ID record for this? </p>\n"},{"tags":["python","google-app-engine","google-drive-sdk","google-docs-api"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":73,"score":3,"question_id":12665281,"title":"Python GAE upload to Google Docs","body":"<p>I need to upload a file/document to Google Docs on a GAE application. This should be simple enough, but I'm having a lot of trouble with the API.</p>\n\n<p>The context:</p>\n\n<pre><code>import gdata.docs.service\n\nclient = gdata.docs.service.DocsService()\nclient.ClientLogin('gmail', 'pass')\n\nms = gdata.MediaSource(#what goes in here?)\nclient.Upload(media_source=ms, title='title')\n</code></pre>\n\n<p>To upload I'm using <code>client.Upload()</code>, which takes a MediaSource (wrapper) object as a parameter. However, <code>MediaSource()</code> seems to only accept a filepath for a document: <code>'C:/Docs/ex.doc'</code>.</p>\n\n<p>Since I'm on GAE with no filesystem, I can only access the file through the Blobstore or a direct URL to the file. But how do I input that into <code>MediaSource()</code>?</p>\n\n<p>There seems to be a <a href=\"http://blog.essaytagger.com/2011/07/how-to-upload-file-to-google-docs-when.html\" rel=\"nofollow\">way in Java</a> to accomplish this by using <code>MediaByteArraySource()</code>, but nothing for Python.</p>\n"},{"tags":["python","image","google-app-engine","pil"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12695480,"title":"App Engine, PIL and overlaying text","body":"<p>I'm trying to overlay some text over an image on GAE. Now they expose the PIL library it should not be problem.</p>\n\n<p>Here's what I have. It works, but I can't help think I should be writing directly to the background image rather than creating a separate overlay image and then merging.</p>\n\n<p>Can I use <a href=\"http://www.pythonware.com/library/pil/handbook/image.htm\" rel=\"nofollow\">Image.frombuffer</a> or something, I've given it a go but I'm just not getting it...</p>\n\n<pre><code>from PIL import Image, ImageDraw, ImageFont\nfrom google.appengine.api import images\nfrom google.appengine.ext import blobstore\nfrom google.appengine.api import files\n\ndef compose(key):\n\n    # create new image\n    text_img = Image.new('RGBA', (800,600), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(text_img)\n    draw.text((0, 0), 'HELLO TEXT', font=ImageFont.load_default())\n\n    # no write access on GAE\n    output = StringIO.StringIO()\n    text_img.save(output, format=\"png\")\n    text_layer = output.getvalue()\n    output.close()\n\n    # read background image\n    blob_reader = blobstore.BlobReader(key)\n    background = images.Image(blob_reader.read())\n\n    # merge\n    merged = images.composite([(background, 0, 0, 1.0, images.TOP_LEFT), \n                               (text_layer, 0, 0, 1.0, images.TOP_LEFT)], \n                               800, 600)\n\n    # save\n    file_name = files.blobstore.create(mime_type='image/png')\n    with files.open(file_name, 'a') as f:\n        f.write(merged)\n    files.finalize(file_name)\n</code></pre>\n"},{"tags":["java","google-app-engine","jpa","reporting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12256193,"title":"Reporting framework for Google App Engine","body":"<p>All,\nIs there a proven working reporting framework for GAE that\n1) It's lightweight\n2) It can aggregate data from Cloud SQL (JPA)\n3) It's java base </p>\n\n<p>Amir</p>\n"},{"tags":["python","google-app-engine","pycrypto"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12699428,"title":"GAE Python - PyCrypto - No module named winrandom","body":"<p>I am trying to get PyCrypto up and running on my App Engine (Python) Development Server. I installed PyCrypto using a <a href=\"http://www.voidspace.org.uk/python/modules.shtml#pycrypto\" rel=\"nofollow\" title=\"Voidspace\">Voidspace</a> binary file (pycrypto-2.0.1.win-amd64-py2.6.exe).</p>\n\n<p>I am running Windows 7 64-bit. From what I found this binary from Voidspace does not install winrandom correctly because winrandom does not have a 64-bit binary. I have tried compiling a 64-bit version using VS 2008, but this is way outside of my knowledge and I don't know if I am doing it right. I followed the <a href=\"http://blog.victorjabur.com/2011/06/05/compiling-python-2-7-modules-on-windows-32-and-64-using-msvc-2008-express/\" rel=\"nofollow\" title=\"following\">following</a> directions for PyCrypto but instead tried to compile the winrandom source. </p>\n"},{"tags":["google-app-engine","gae-datastore","query-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12546553,"title":"google app engine query opimization","body":"<p>I am trying to do my reads and writes for GAE as efficiently as possible and I was wondering which is the best of the following two options.</p>\n\n<p>I have a website where users are able to post different things and right now whenever I want to show all posts by that user I do a query for all posts with that user's user ID and then I display them.  Would it be better to store all of the post IDs in the user entity and do a get_by_id(post_ID_list) to return all of the posts?  Or would that extra space being used up not be worth it?</p>\n\n<p>Is there anywhere I can find more information like this to optimize my web app?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","google-app-engine","database-design"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12699184,"title":"Best way to create an enum model class for google app engine in python?","body":"<p>I would like to create a base enum class which itself inherits from db.Model.  The idea would be to create several helper functions that would be available for any descendent of the enum class.  The properties might very to some extend, but there would be several common properties that I could declare in the base enum class ('Name', for example).  Is there a standard way of dealing with enumeration models in App Engine?</p>\n"},{"tags":["google-app-engine","utf-8","gae-datastore"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3351,"score":3,"question_id":3145266,"title":"Google App Engine DataStore Text UTF-8 Encoding Problem","body":"<p>I'm building a gwt app that stores the text of random webpages in a datastore text field.  Often the text is formatted UTF-8.  All the files of my app are stored as UTF-8 and when I run the application on my local machine the entire process works fine. UTF-8 text is stored as such and retrievable ftom the local version of the app engine as UTF-8.  However when I deploy the app to the google app engine somewhere between when I store the text and when I retrieve it it is no longer UTF-8 which causes non-ascii characters to be displayed as ?.</p>\n\n<p>When I view the datastore in the appengine control panel all the special characters appear as ? which leads me to believe that it is a problem when writing to the database.</p>\n\n<p>Does anyone know how to fix this?</p>\n\n<p>The app itself is a little big.\nHere's some pseudocode:  </p>\n\n<pre><code>Text webPageText = new Text(&lt;STRING THAT CONTAINS UNICODE CHARACTERS&gt;);\n\n/*Some Code to store Text object on datastore\nSpecifically I'm using javax.jdo.PersistenceManager to do this.\nSome Code to retrieve text from datastore. */\n\nString retrievedText = webPageText.getValue();\n</code></pre>\n\n<p>The problem is that retrievedText comes back with ? instead of unicode characters.</p>\n\n<p>Here's a similar problem in python that I found: <a href=\"http://stackoverflow.com/questions/3094391/trying-to-store-utf-8-data-in-datastore-getting-unicodeencodeerror\">Trying to store Utf-8 data in datastore getting UnicodeEncodeError</a>.  Though my app is not getting any errors.</p>\n\n<p>Unfortunately I think Java strings are default utf-8 and I can't find any code that will let me declare them explicitly as utf-8.</p>\n\n<p><strong>Edit: I've now built a small webapp that takes in unicode text and stores it in the datastore and then retrieves it with no problems.  I still have no idea where the problem is in my original source code but I'm going to change the way my code handles webpage retrieval to match the smaller app that I just built.  Thank you everyone for your help.</strong></p>\n"},{"tags":["python","google-app-engine","bottle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12662972,"title":"problems deploying bottle application with google app engine","body":"<p>newbie here--I've been trying to create a \"Hello World\" in bottle using google app engine. I got the \"hello world\" part to show up, but even on on index page, I get the following output: \"Hello world!Status: 500\"<br>\nIf I try to add new routes (like the '/page' route), and I navigate to the new route, I get \"Server error: The website encountered an error while retrieving... It may be down for maintenance or configured incorrectly.\" After I navigate to the improperly configured page, if I try to go back to '/', I will  also receive a server error. I have placed bottle.py in my root directory. Could someone please help me to configure my file properly? Thanks!</p>\n\n<pre><code>import bottle \nfrom bottle import route, template, request, error, debug\n\n@route('/')\ndef index():\n    return \"Hello World!\"\n\n@route('/page')\ndef page():\n    return 'page!'\n\nbottle.debug(True)\nbottle.run(server='gae')\n</code></pre>\n"},{"tags":["query","google-app-engine","store","synchronous","objectify"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12673255,"title":"Isolating app engine queries in java","body":"<p>Recently, I am trying to develop a simple chat server where its job is to query for unread messages, modify them to <code>read</code> (set them as <code>delivered</code>), save them back to db and return this list to the caller.</p>\n\n<p>The issue is that this action is not performed synchronously (isolated).\nIn other words it means that if I send a message (e.g. \"Hello World!\"), this message is queried twice. As long as there is a problem with setting its <code>delivered</code> attribute to <code>true</code>.</p>\n\n<p>What I found out by debugging is that the modification of message object and storing it back to DB does not finish even at second or third request for getting unread messages. \nI have read almost all Google tutorials but none of them help.</p>\n\n<p><strong>Here is the simplified code which does this:</strong></p>\n\n<pre><code>public class DBHandler {\n\n    private static Objectify ofy = null;\n\n    static {\n        ObjectifyService.register(MessageFromA.class);\n        ObjectifyService.register(MessageFromB.class);\n    }\n\n    public DBHandler() {\n        try {\n            ObjectifyService.register(MessageFromA.class);\n            } catch (Exception e) {\n        }\n\n        try {\n            ObjectifyService.register(MessageFromB.class);\n            } catch (Exception e){\n        }\n    }\n\n    private static boolean locked = false;\n\n    public static synchronized List&lt;? extends Message&gt; getUnreadMessagesFromA() {\n\n        while(locked); // wait if db is in access.\n        locked = true;\n        List&lt;MessageFromA&gt; returnList = new ArrayList&lt;MessageFromA&gt;();\n\n        try {\n            ObjectifyOpts oop = new ObjectifyOpts();\n            oop.setSessionCache(false);\n            oop.setGlobalCache(false);\n            oop.setConsistency(Consistency.STRONG);\n            ofy = ObjectifyService.begin(oop);\n            List&lt;MessageFromA&gt; tempResult =     ofy.query(MessageFromA.class).filter(\"delivered\", false).order(\"sendDate\").list();\n\n            for(MessageFromA message : tempResult) {\n                message.setDelivered(true);\n                returnList.add(message);\n            }\n\n            ofy.put(tempResult);\n            return returnList;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        } finally {\n            locked = false;\n        }\n    } \n}\n</code></pre>\n\n<p>Can somebody suggest me a solution? Any help is appreciated.</p>\n"},{"tags":["google-app-engine","gae-datastore","gql"],"answer_count":9,"favorite_count":18,"up_vote_count":50,"down_vote_count":0,"view_count":13361,"score":50,"question_id":47786,"title":"Google App Engine: Is it possible to do a Gql LIKE query?","body":"<p>Simple one really.  In SQL, if I want to search a text field for a couple of characters, I can do:</p>\n\n<pre><code>SELECT blah FROM blah WHERE blah LIKE '%text%'\n</code></pre>\n\n<p>The documentation for App Engine makes no mention of how to achieve this, but surely it's a common enough problem?</p>\n\n<p>Anthony</p>\n"},{"tags":["python","google-app-engine","nosetests"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12695592,"title":"Error on running transaction with multiple entity groups through nosetests","body":"<p>I am building an application with Python 2.7 using the Google App Engine framework.\nTo test my application I have a several tests that are run through nosetests making use of the nosegae plugin. I run them with the following command:</p>\n\n<pre><code>nosetests --with-gae --gae-lib-root=/usr/local/google_appengine/ -w . -w */test/ -v\n</code></pre>\n\n<p>In the model layer of my application, I have the need to run several database operations that affect multiple entity groups inside the same transaction. I do this by making use of the run_in_transaction_options function of the db package:\n<a href=\"https://developers.google.com/appengine/docs/python/datastore/functions#run_in_transaction\" rel=\"nofollow\">https://developers.google.com/appengine/docs/python/datastore/functions#run_in_transaction</a></p>\n\n<p>Unfortunately, when running my test suites, I get the following error in those testcases that try to run such transaction:</p>\n\n<blockquote>\n  <p>BadRequestError: transactions on multiple entity groups only allowed\n  with the High Replication datastore</p>\n</blockquote>\n\n<p>I cannot find any flag in nosetests that makes it possible to enable the HRD.</p>\n\n<p>I am wondering if it is possible at all to run HRD from nosetests and if so, how it can be set up.</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","google-app-engine","key","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12675664,"title":"Create a good looking url for a key with ancestors","body":"<p>I need to get an instance from a key from ndb. The key may have a parent key, but I don't want to pass any parent keys to the url, because I want a nice looking url.\nI don't want to pass the entire key string to the url either.\nIs this possible?</p>\n"},{"tags":["python","ios","json","google-app-engine","base64"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12681315,"title":"Google app engine base64 photo save from IOS application","body":"<p>Hi I am developing IOS application. I also use JSON web services. and I also use Google App Engine for python. I'm really new to python and google app engine. I can not figure out this problem;</p>\n\n<p>I am sending base64 image and other infos in json. I want to save other infos to database(GQL) and save to image google file folder (Blob Store) and this photo url save with other infos in google database.</p>\n\n<p>Can you help me thanx </p>\n\n<p><strong>UPDATED</strong></p>\n\n<pre><code>import cgi\nimport datetime\nimport time\nimport urllib\nimport wsgiref.handlers\nimport os, urllib2, re, base64\nimport simplejson as json\n\n\nfrom google.appengine.ext import db\nfrom google.appengine.api import users,images, files\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext import blobstore\nfrom google.appengine.ext.webapp.util import run_wsgi_app\nfrom google.appengine.ext.webapp import template\nfrom google.appengine.ext import blobstore\nfrom google.appengine.ext.webapp import blobstore_handlers\nimport logging\n\n\nclass PanoMessages(db.Model):\n    first_name=db.StringProperty();\n    last_name=db.StringProperty();\n    msg_text=db.TextProperty();\n    photo_url=blobstore.BlobReferenceProperty();\n\n\nclass IOSDeneme(webapp.RequestHandler):\n    def post(self):\n        received_content = self.request.body;\n\n        try:\n            decoded_json = json.loads(received_content);\n\n            panoMsg=PanoMessages();\n            panoMsg.photo_url=save_image_to_blobstore(decoded_json[\"picture\"],\"image/png\");\n            panoMsg.first_name=decoded_json[\"first_name\"];\n            panoMsg.last_name=decoded_json[\"last_name\"];\n            panoMsg.msg_text=decoded_json[\"msg_text\"];\n            panoMsg.put();\n\n\n\n            self.response.out.write(json.dumps({'StatusCode':'2', 'StatusMessage':'OK'}));\n\n        except ValueError:\n\n                logging.error(\"json-time sent data which simplejson couldn't parse\")\n                self.response.out.write(json.dumps({'StatusCode':'4', 'StatusMessage':'NO'}));\n\n        def save_image_to_blobstore(base64str, mimeType):\n            from google.appengine.api import files\n            import binascii\n            fileName1 = files.blobstore.create(mime_type=mimeType)\n            with files.open(fileName1, 'a') as f:\n                f.write(binascii.a2b_base64(base64str))\n                files.finalize(fileName1)\n            return files.blobstore.get_blob_key(fileName1)\n</code></pre>\n"},{"tags":["python","google-app-engine","hosting"],"answer_count":6,"favorite_count":14,"up_vote_count":24,"down_vote_count":0,"view_count":3813,"score":24,"question_id":3823577,"title":"Python cloud hosting other than Google App Engine?","body":"<p>What options exist for Python Cloud Hosting other than Google App Engine?</p>\n\n<p>I'm looking for solutions that let me write and publish code to servers that will scale up automatically to meet demand. I don't want to spend my time on IT tasks.</p>\n\n<p>So far, I've really only found this: <a href=\"https://www.picloud.com/\" rel=\"nofollow\">https://www.picloud.com/</a></p>\n\n<p>App Engine is great, but has some immaturity limitations such as lack of https support.</p>\n"},{"tags":["google-app-engine","gwt","service","user"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12687735,"title":"App Engine development server fails to detect logged-in user","body":"<p>I'm trying to use App Engine's UserService on a local development server and it's not behaving as I expect. I searched the forum for answers to my question but couldn't find any that specifically address my problem.</p>\n\n<p>The first thing I do is get a login URL from the UserService as follows:</p>\n\n<pre><code>UserService userService = UserServiceFactory.getUserService();\nif(userService.isUserLoggedIn())\n  String loginURL = userService.createLoginURL(\"/mycallbackservlet\");\nelse\n  ... do something else\n</code></pre>\n\n<p>Assuming the user is not logged in initially, I provide a 'mycallbackservlet' as destination URL to be redirected to after (successful) login. To start the login procedure I open a GWT window on the client side as follows:</p>\n\n<pre><code>Window.open(loginURL, \"Bla\", props);\n</code></pre>\n\n<p>The loginURL is the one created above. I'm presented with the local development server's simulated login screen where you can type in any user. I just click OK. Now my callback servlet is called (as expected) but when I retrieve the UserService object again it does not give me a logged in user, that is</p>\n\n<pre><code>UserServiceFactory.getUserService().isUserLoggedIn()\n</code></pre>\n\n<p>returns 'false'. How can this be? Is this typical development server behavior or am I doing something wrong? Should I have opened the initial URL differently, that is, not using Window.open() but something else?</p>\n\n<p>Any suggestions would be highly appreciated!</p>\n"},{"tags":["google-app-engine","e-commerce"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12694059,"title":"E-Commerce on App-engine: costs estimate","body":"<p>With the idea of an online shop on GAE in mind. If coded right, with proper caching and concurrent requests, what should I expect for the costs in the \"new\" pricing model?</p>\n\n<p>I didn't find any success stories involving e-commerce on GAE (should that be a hint?).\nTechnically there aren't any problems anymore, they now allow HTTPS on custom domains and I don't want to store credit card infos. </p>\n\n<p>Let's say I got 500 visitors each day, distributed on about 10 hours. Say, that makes about 10k pageviews. How many frontend instances would that approximately need? 1, 2, 5, 10, 50, more? </p>\n"},{"tags":["python","google-app-engine","numpy"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1061,"score":6,"question_id":5490723,"title":"What alternatives are there to numpy on Google App Engine?","body":"<p>What alternatives can you recommend to numpy to use on the Google App Engine?</p>\n\n<p>Specifically I'm interested in matrix manipulations on large matrices. </p>\n"},{"tags":["java","google-app-engine","jdo","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12683433,"title":"Google app engine JDO delayed data persistence","body":"<p>All,\nI have a code that writes something in the data store and immediately after I make a call to retrieve the data I just wrote to data store. My 2nd call always fails! However if I make the call again it works fine and finds the data!\nIt's really wired! The code was working fine on 1.7.1 and I this started happening after I upgraded to 1.7.2 (can't be 100% sure as I also did a few other changes at the same time but I thought I mention it as well).\nHere is my code to write the data:</p>\n\n<pre><code>    PersistenceManager pm = PMF.get().getPersistenceManager();\n    pm.evictAll();\n    Key userKey = KeyFactory.createKey(User.class.getSimpleName(), request.getUsername());\n    try {\n        User user = pm.getObjectById(User.class,userKey);\n        if (!user.getPassword().equals(request.getPassword())){\n            ret.setCode(ResultInfo.WRONG_PASSWORD);\n        }else{\n            ret.setCode(ResultInfo.FINE);\n            UUID sid = UUID.randomUUID();\n            ret.setCredit(user.getCredit());\n            ret.setSid(sid.toString());\n            ret.setUsername(user.getUsername());\n            ret.setName(user.getName());\n            user.setSid(sid.toString());\n            user.setLastLogin(new Date());\n        }\n    } catch (Exception e) {\n        ret.setCode(ResultInfo.USER_NOT_FOUND);\n    }finally{\n        pm.flush();\n        pm.close();\n    }\n</code></pre>\n\n<p>and this is the code to read the data:</p>\n\n<pre><code>    PersistenceManager pm = PMF.get().getPersistenceManager();\n    pm.evictAll();\n    try {\n           User user = getUserForSession(pm, sid);\n        if (user==null){\n            ret.setCode(ResultInfo.SESSION_NOT_FOUND);              \n        }else{\n            ret.setCode(ResultInfo.FINE);\n            ret.setCredit(user.getCredit());\n            ret.setSid(sid.toString());\n            ret.setUsername(user.getUsername());\n            ret.setName(user.getName());\n            if (user.getGid()!=null){\n                Game game = getGameByGameId(pm, user.getGid());\n                ret.populateGameResult(user,game);\n            }\n        }\n    } catch (Exception e) {\n        ret.setCode(ResultInfo.USER_NOT_FOUND);\n    } finally{\n        pm.flush();\n        pm.close();\n    }\n</code></pre>\n\n<p>getUserForSession simply uses the following code to retrieve the user:</p>\n\n<pre><code>static public User getUserForSession(PersistenceManager pm,String sid){\nQuery q = pm.newQuery(User.class);\nq.setFilter(\"sid == sidParam\");\nq.declareParameters(\"String sidParam\");\n    try {\n        List&lt;User&gt; users = (List&lt;User&gt;) q.execute(sid);\n        if (users.size()!=1){\n            return null;\n        }else{\n            return users.get(0);\n        }\n    } catch (Exception e) {\n        return null;\n    } finally {\n    }\n\n}\n</code></pre>\n\n<p>when I debug in this function size of the list is zero on first call and is 1 on next call with exact same parameters!\nAs result I always get SESSION_NOT_FOUND error on the first call and on the second call I get the data I want!</p>\n\n<p>The second code segment is called by Ajax so for now I've changed my code to check for error and call again! I don't like it and I want to know how I can get this resolved. Here is my Ajax code:</p>\n\n<pre><code>function fetchUserInfo(){\n    var sid = getCookie(\"sid\");\n    var urlStr = BURL + '/game/' + sid + \"/gameInfo\";\n    $.ajax({\n        type:'POST',\n        url: urlStr,\n        dataType: 'json',\n        data: null,\n        contentType: \"application/json; charset=utf-8\",\n        success: function(data) {\n            console.debug(data);\n            if (data.code == \"OK\"){\n                try{\n                    $(\"#client_name\").html(data.name);\n                    $(\"#client_credit\").html(data.credit);\n                }catch(e){\n                }\n            }else{\n                fetchUserInfo();\n            }\n        },\n        error: function(data){\n            alert(\"Error\");\n        }               \n    });\n\n    }\n</code></pre>\n\n<p>Any help/pointer is appreciated</p>\n\n<p>Amir</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12688894,"title":"How to access datastore information (Interactive Console)?","body":"<p>I am right now working in a project where I have two GAE servers. One for development, and the other one for production.</p>\n\n<p>So I needed to access the datastore to run some queries because I need some high level information about the entities we have. The way I did on the development server was by the \" URL/_ah/admin \", and there I used the Interactive Console to run my queries in the server.</p>\n\n<p>But the reality is obviously that I need to run that queries in my production server, I tried to acces there the same way by \"myapp.appspot.com/admin/interactive\" but I am getting a \"Page not found\", I cant acces either with \" URL/_ah/admin \".</p>\n\n<p>So I looking for the easiest way for me to be able to run that queries, by now it seems that I have found two posible ways that I would like to check with you.</p>\n\n<ul>\n<li>First, it seems that I could active that Interactive Console by:</li>\n</ul>\n\n<p><code>- url: /admin/.*\nscript: google.appengine.ext.admin.application\nlogin: admin</code></p>\n\n<p>And then I would have acces on the URL \"myapp.appspot.com/admin/interactive\". Is that correct?</p>\n\n<ul>\n<li>Second, I have also read about the remote_api and using the remote_shell as an Interactive Console with the server. Would that be harder? Can someone of you link me a guide to do that?</li>\n</ul>\n\n<p>I havent tried anything yet, because I must be sure of what I am going to do since this is a live project.</p>\n\n<p>Thanks a lot,</p>\n\n<p>Jose.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":12626667,"title":"Would pluggins uses classes not supported by GAE cause runtime errors or be brought up at deployment","body":"<p>If I use a plugin (jar) in my GAE app, and this plugin will have compiled dependency on class x that is not in the GAE jre whitelist, would this be detected at local run, deployment, or I will have to find out about it through runtime exceptions?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","gwt","caching","compression","gzip"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12681854,"title":"GWT generated HTML file too large","body":"<p>I have a huge GWT application where after I compile it, it generates a file <em>XXX.chace.html</em>. This file is very large -- about 3 MB -- and it requires the user to spend 30 seconds to load the webpage. Is there anyway to reduce this file other than using code splitting? I tried using the compress command in GZip, but apparently there's a bug filed to the effect that files larger than 1.5 MB wont be compressed.</p>\n\n<p>Has anyone faced this issue before? How were you able to solve it?</p>\n"},{"tags":["google-app-engine","quota"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12685994,"title":"How to display separate page if quota is exceeded?","body":"<p>I do it in accordance with <a href=\"https://developers.google.com/appengine/docs/python/config/appconfig#Custom_Error_Responses\" rel=\"nofollow\">Custom Error Responses</a> - app.yaml is updated with</p>\n\n<pre><code>error_handlers:\n- error_code: over_quota\n  file: templates/over_quota.html\n</code></pre>\n\n<p>and according file is created. But still error (exception) is shown instead of that page. I've tried to place the file in the root folder (with according update at app.yaml) - it didn't help. </p>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>Upd</strong>. I've defined that in the following way in accordance with @Gwyn Howell comment. </p>\n\n<pre><code>handlers:\n- url: /over_quota.html\n  static_files: templates/over_quota.html\n  upload: templates/over_quota.html\n\nerror_handlers:\n- error_code: over_quota\n  file: over_quota.html\n</code></pre>\n\n<p>But (1) how to test it, (2) which url user will see in result? <code>http://www.example.com/over_quota.html</code> or will it be original url?</p>\n"},{"tags":["java","google-app-engine","restlet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12561036,"title":"Google App Engine And Restlet","body":"<p>I've been tinkering with this <a href=\"http://wiki.restlet.org/docs_2.0/13-restlet/21-restlet/318-restlet/303-restlet.html#dsy303-restlet_common-classes\" rel=\"nofollow\">sample</a> trying to determine if restlet will work with Google app engine to meet my needs.  It seems fairly straight forward so far but I've been stuck on something for a couple of hours now and would appreciate some help...</p>\n\n<p>Client code</p>\n\n<pre><code> ClientResource cr = new ClientResource(\"my_gae_url\");\n ContactResource resource = cr.wrap(ContactResource.class);\n</code></pre>\n\n<p>This returns a null</p>\n\n<pre><code> Contact contact = resource.retrieve()\n</code></pre>\n\n<p>but this returns the expected json string</p>\n\n<pre><code> String s = cr.get(MediaType.APPLICATION_JSON).getText();\n</code></pre>\n\n<p>It won't return the object but it will return the json.  I don't know if I'm missing a jar or I haven't implemented something or what</p>\n\n<pre><code> I'm using Google Plugin 3.7 and app engine 1.7.2\n I'm using restlet app engine edition 2.0.15 \n The server includes the following jars org.restlet.jar, org.restlet.ext.gwt.jar,           \n org.restlet.ext.servlet.jar, org.restlet.ext.jackson.jar,\n org.codehaus.jackson.core.jar, org.codehaus.jackson.mapper.jar\n</code></pre>\n\n<p>If it matters the client i'm using to test things out is jsf with the following jars included</p>\n\n<pre><code> org.restlet.jar, org.restlet.ext.net.jar\n</code></pre>\n"},{"tags":["android","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12680168,"title":"Google App Engine returns HTML data and not a string. How can i get a simple string from the servlet i created","body":"<p>The below code returns HTML from the server instead of the string i send...How can i read the data i sent to the server as a string. </p>\n\n<p>when i send a string via the web application as a string, and try to read it from the client side, it returns html code instead of the code i sent it</p>\n\n<pre><code>public class QueryServer extends Activity implements OnClickListener\n{\nButton button;\nTextView outputText;\n\npublic static final String URL = \"http://10.0.2.2:8888/\";\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.get_codinates);\n\n    findViewsById(); \n    button.setOnClickListener(this);\n} \nprivate void findViewsById() \n{\n    button = (Button) findViewById(R.id.button);\n    outputText = (TextView) findViewById(R.id.outputTxt);\n} \n@Override\npublic void onClick(View v) \n{\n    try\n    {\n        GetXMLTask task = new GetXMLTask();\n        task.execute(new String[] { URL });\n    }\n    catch(Exception e)\n    {\n        Toast.makeText(getBaseContext(), \"Cant connect to server\", Toast.LENGTH_LONG).show();\n    }\n}\nprivate class GetXMLTask extends AsyncTask&lt;String, Void, String&gt;\n{\n    @Override\n    protected String doInBackground(String... urls)\n    {           \n        String output = null;           \n        try\n        {               \n             for (String url : urls) \n             {                      \n                output = getOutputFromUrl(url); \n                Log.d(\"Server Return\", output);\n             }               \n        }\n        catch(Exception e)\n        {\n            Log.d(\"Exception\", e.getMessage());\n        }\n        return output;\n    }           \n  } \n  private String getOutputFromUrl(String url)\n  {\n        StringBuffer output = new StringBuffer(\"\");\n        try \n        {\n            InputStream stream = getHttpConnection(url);\n            BufferedReader buffer = new BufferedReader(new InputStreamReader(stream));\n            String s = \"\";\n            while ((s = buffer.readLine()) != null)\n            {\n                output.append(s);\n                output.toString();\n            }\n        }\n        catch (IOException e1) \n        {\n            e1.printStackTrace();\n        }\n\n        return output.toString();\n    } \n    // Makes HttpURLConnection and returns InputStream\n    private InputStream getHttpConnection(String urlString) throws IOException \n    {\n        InputStream stream = null;\n        try \n        {                \n            java.net.URL url = new java.net.URL(urlString);\n            URLConnection connection = url.openConnection();      \n            HttpURLConnection httpConnection = (HttpURLConnection) connection;\n            httpConnection.setRequestMethod(\"GET\");\n            httpConnection.connect();\n\n            if (httpConnection.getResponseCode() == HttpURLConnection.HTTP_OK) \n            {\n                stream = httpConnection.getInputStream();\n            }\n        } \n        catch (Exception ex) \n        {\n            ex.printStackTrace();\n        }\n        return stream;\n    } \n    protected void onPostExecute(String output) \n    {\n        try\n        {\n            outputText.setText(output);\n        }\n        catch(Exception e)\n        {\n            Toast.makeText(getBaseContext(), output.toString(), Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n\n<p>Code for servlet</p>\n\n<pre><code>@SuppressWarnings(\"serial\")\npublic class CordinatesServerServlet extends HttpServlet\n{\n    public void doGet(HttpServletRequest req, HttpServletResponse resp) throws     IOException \n    {       \n        resp.setContentType(\"Application/json\");\n        PrintWriter out = resp.getWriter();\n            out.println(\"27.1111089 -27.9838902\");\n    }\n}\n</code></pre>\n"},{"tags":["python","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12678184,"title":"Multiple queries vs. manually sorting one large query (AppEngine NDB)","body":"<p>For a model like:</p>\n\n<pre><code>class Thing(ndb.Model):\n    visible = ndb.BooleanProperty()\n    made_by = ndb.KeyProperty(kind=User)\n    belongs_to = ndb.KeyProperty(kind=AnotherThing)\n</code></pre>\n\n<p>Essentially performing an 'or' query, but comparing different properties so I can't use a built in OR... I want to get all <code>Thing</code> (belonging to a particular <code>AnotherThing</code>) which either have <code>visible</code> set to <code>True</code> or <code>visible</code> is <code>False</code> and <code>made_by</code> is the current user. </p>\n\n<p>Which would be less demanding on the datastore (ie financially cost less):</p>\n\n<ol>\n<li><p>Query to get everything, ie:  <code>Thing.query(Thing.belongs_to == some_thing.key)</code> and iterate through the results, storing the visible ones, and the ones that aren't visible but are made_by the current user?</p></li>\n<li><p>Query to get the visible ones, ie: <code>Thing.query(Thing.belongs_to == some_thing.key, Thing.visible == \"True\")</code> and query separately to get the non-visible ones by the current user, ie: <code>Thing.query(Thing.belongs_to == some_thing.key, Thing.visible == \"False\", Thing.made_by = current_user)</code>?</p></li>\n</ol>\n\n<p>Number 1. would get many unneeded results, like non-visible <code>Thing</code>s by other users - which I think is many reads of the datastore?  2. is two whole queries though, which is also possibly unnecessarily heavy, right?  I'm still trying to work out what kinds of interaction with the database cause what kinds of costs.</p>\n\n<p>I'm using ndb, tasklets and memcache where necessary, in case that's relevant.</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12686685,"title":"How can I change the 'authentication options' in the 'application settings' to Federated Login","body":"<p>I created a HRD application by choosing the Authentication Option as \"Open to all Google Accounts users (default)\", but now I need change that option to: \"(Experimental) Federated Login\" in order to open the app to all users with an OpenID Provider.</p>\n\n<p>The problem is that the option box is disabled and I don't want delete and create the application again because I will lose the app Id.</p>\n\n<p>How can I do it?</p>\n\n<p>Thanks a lot in advance,\nCoto</p>\n"},{"tags":["google-app-engine","gwt","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12681727,"title":"How do I get GWT to receive the token created by the Python GAE Channel API?","body":"<p>I would like to use the GAE Channel API (Python 2.7) with my GWT app (using <a href=\"http://code.google.com/p/gwt-gae-channel/\" rel=\"nofollow\">GWT-GAE-Channel</a>), and I am having trouble figuring out how to get the token created on the server side Python into my GWT app (\"index.html\" in this example) so that the client side GWT can open the channel.  My server-side code currently looks like this:</p>\n\n<pre><code>import webapp2\nimport jinja2\nimport os\nimport uuid\nfrom google.appengine.ext import db\nfrom google.appengine.api import users\nfrom google.appengine.api import channel\n\njinja_environment = jinja2.Environment(\n    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))\n\nclass MainPage(webapp2.RequestHandler):\n    #The main page returns the GWT application\n    def get(self):\n\n        #Create a token when the GWT app is loaded to create a channel to return data\n        client_id = uuid.uuid4().hex\n        token = channel.create_channel(client_id, duration_minutes=None)     \n\n        context = {} #There are currently no template variables in the GWT app\n        template = jinja_environment.get_template('index.html')\n        self.response.out.write(template.render(**context))\n\nclass A_handler(webapp2.RequestHandler):\n    def post(self):\n        client_id = self.request.get('id')\n        channel.send_message(client_id, message)\n\n\n\napp = webapp2.WSGIApplication([('/', MainPage),\n                           ('/A', A_handler)],\n                          debug=True)\n</code></pre>\n\n<p>I have the same example GWT-GAE-Channel client code as <a href=\"http://stackoverflow.com/questions/7289519/gwt-channel-api\">this question</a>; however, what is the GWT code to receive \"token\" from the server for the GWT ChannelFactory.createChannel function?  Can the python server send this token to the GWT html in the GET request as a template variable, or would this need to be sent by RPC or some other method? </p>\n"},{"tags":["python","google-app-engine"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":870,"score":4,"question_id":5257456,"title":"Looking for a good book for Google App Engine Python","body":"<p>Can you recommend me book to Google App Engine in Python?\nEnglish/French books are both accepted.</p>\n\n<p>Thanks you</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11092825,"title":"multiple file handlers in google app engine","body":"<p>I want to have multiple pages in google-app engine (python 2.7) and the followoing is my directory structure: \nroot contains: pujaweb.py (the main script), index.html, stylesheets(folder), port(folder)...</p>\n\n<p>now my second script for the page is in the port folder and i want to configure my index.html such that it links to that page. I have tried a lot of stuff but somehow it does not work and always shows 404 page not found error and the command line says that PujaPort module does not exist (pujaport being the app handler for the second page).</p>\n\n<p>the following is my app.yaml file code:</p>\n\n<pre><code>application: thepujabhalerao\n\nversion: 1\n\nruntime: python27\n\napi_version: 1\n\nthreadsafe: true\n\n\n\nhandlers:\n\n- url: /images\n\n  static_dir: images\n\n\n\n\n\n- url: /stylesheets\n\n  static_dir: stylesheets\n\n\n- url: /port\n  script: pujaport.app\n\n\n- url: /.*\n\n  script: pujaweb.app\n\n\n\nlibraries:\n\n- name: jinja2\n\n  version: latest\n</code></pre>\n\n<p>this is my main handler (pujaweb.py)</p>\n\n<pre><code>import cgi\n\nimport webapp2 \n\nimport jinja2\n\nimport os\n\nfrom google.appengine.api import xmpp\n\nfrom google.appengine.ext import db\n\n\n\n\n\njinja_environment = jinja2.Environment(\n\n    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))\n\n\n\nclass MainPage(webapp2.RequestHandler):\n\n  def get(self):\n\n      template_values = {}\n\n      template = jinja_environment.get_template('index.html')\n\n      self.response.out.write(template.render(template_values))\n\n\n\n\napp = webapp2.WSGIApplication([('/', MainPage)],\n\n                              debug=True)\n</code></pre>\n\n<p>and the href in the index filer looks like this:</p>\n\n<pre><code>&lt;a href=\"/port/\"&gt;P&lt;/a&gt;\n</code></pre>\n\n<p>and finally this is the second page handler pujaport.py:</p>\n\n<pre><code>    import cgi\n\nimport webapp2 \n\nimport jinja2\n\nimport os\n\nfrom google.appengine.api import xmpp\n\nfrom google.appengine.ext import db\n\n\n\n\n\njinja_environment = jinja2.Environment(\n\n    loader=jinja2.FileSystemLoader(os.path.dirname(__file__)))\n\n\n\nclass PujaPort(webapp2.RequestHandler):\n\n  def get(self):\n\n        self.response.out.write(\"In handler\")\n\n\n\n\napp = webapp2.WSGIApplication([('/port', PujaPort)],\n\n                              debug=True)\n</code></pre>\n\n<p>I know its a minor glitch somewhere but please help me out as after being on it for too long i maybe missing the obvious.</p>\n"},{"tags":["python","google-app-engine","web-applications"],"answer_count":3,"favorite_count":4,"up_vote_count":9,"down_vote_count":1,"view_count":2948,"score":8,"question_id":1966974,"title":"Google App Engine - How do I split code into multiple files? (webapp)","body":"<p>I have a question about splitting up a main.py file.</p>\n\n<p>right now, I have everything in my main.py. I have no other .py files. And I always have to scroll long lines of code before reaching the section I wish to edit.</p>\n\n<p>How do I split it up? \n(i'm going to have more than 20 pages, so that means the main.py will be HUGE if I don't split it up.</p>\n\n<p>PS: also, I noticed that I had to setup the template values, template path, and call template.render each time. Any way of shortening them all?</p>\n\n<p>Code:</p>\n\n<pre><code>    # everything here in main.py\nclass MainPage(webapp.RequestHandler):\n    def get(self):\n        # Models are queried here, results transferred to template_values\n\n        template_values = {\n            'value1': value1,\n            'value2': value2,\n            'value3': value3,\n            }\n\n        path = os.path.join(os.path.dirname(__file__), 'index.html')\n        self.response.out.write(template.render(path, template_values))\n\nclass Page2(webapp.RequestHandler):\n    def get(self):\n        # Models are queried here, results transferred to template_values\n\n        template_values = {\n            'value1': value1,\n            'value2': value2,\n            'value3': value3,\n            }\n\n        path = os.path.join(os.path.dirname(__file__), 'index.html')\n        self.response.out.write(template.render(path, template_values))\n\nclass Page3(webapp.RequestHandler):\n    def get(self):\n        # Models are queried here, results transferred to template_values\n\n        template_values = {\n            'value1': value1,\n            'value2': value2,\n            'value3': value3,\n            }\n\n        path = os.path.join(os.path.dirname(__file__), 'index.html')\n        self.response.out.write(template.render(path, template_values))\n\n\napplication = webapp.WSGIApplication(\n                                     [('/', MainPage),\n                                      ('/page2', Page2)\n                                      ('/page3', Page3)],\n                                     debug=True)\n\ndef main():\n    run_wsgi_app(application)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"},{"tags":["python","google-app-engine","blobstore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12682983,"title":"Open a file from urlfetch in GAE","body":"<p>I'm trying to open a file in GAE that was retrieved using <code>urlfetch()</code>.</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>from google.appengine.api import urlfetch\n\nresult = urlfetch.fetch('http://example.com/test.txt')\ndata = result.content\n## f = open(...) &lt;- what goes in here?\n</code></pre>\n\n<p>This might seem strange but there's a <strong>very similar</strong> function in the BlobStore that can write <code>data</code> to a blobfile:</p>\n\n<pre><code>f = files.blobstore.create(mime_type='txt', _blobinfo_uploaded_filename='test')\nwith files.open(f, 'a') as data:\n    data.write(result.content)\n</code></pre>\n\n<p>How can I write <code>data</code> into an arbitrary file object?</p>\n\n<p>Edit: Should've been more clear; I'm trying to urlfetch <strong>any</strong> file and open <code>result.content</code> in a file object. So it might be a .doc instead of a .txt</p>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2989,"score":7,"question_id":4467944,"title":"How use AppEngine's Datastore Admin: Copy to Another App Feature","body":"<p>I recently enabled AppEngine's Datastore Admin.  I do not understand the instructions on how to copy my data to another app.</p>\n\n<blockquote>\n  <p>Note: The target application must\n  enable remote_api and must include\n  this application’s ID in its\n  HTTP_X_APPENGINE_INBOUND_APPID list.</p>\n  \n  <p>WARNING This application’s data is\n  writable. We can only guarantee a\n  consistent copy when the data being\n  copied is read-only. Note: Blobs\n  (binary data) will not be copied.</p>\n</blockquote>\n\n<p>To enable the remote_api I included the following in the app.yaml:</p>\n\n<pre><code> builtins:\n    - remote_api: on\n</code></pre>\n\n<p>I have no idea what HTTP_X_APPENGINE_INBOUND_APPID is, and a Google search yields no results....any ideas?\n<img src=\"http://i.stack.imgur.com/ytWNM.png\" alt=\"alt text\">\n<img src=\"http://i.stack.imgur.com/oJvRz.png\" alt=\"alt text\"></p>\n"},{"tags":["google-app-engine","google-cloud-sql"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12681972,"title":"Configure Google Cloud SQL instance in Eclipse","body":"<p>The name of my instance is </p>\n\n<blockquote>\n  <p>domain.com:my_project:xyz</p>\n</blockquote>\n\n<p>So i actually completed the form like this :\n<img src=\"http://i.stack.imgur.com/aev4X.png\" alt=\"form\"></p>\n\n<p>But i got the following error : </p>\n\n<p><img src=\"http://i.stack.imgur.com/L8zqI.png\" alt=\"error\"></p>\n\n<p>Any ideas? Thank you so much!</p>\n\n<p>I just created it like 20 mins ago may be i need to wait but i doubt that it is the problem.</p>\n"},{"tags":["google-app-engine","gae-datastore","go","mustache"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":417,"score":1,"question_id":9956342,"title":"Golang GAE - intID in struct for mustache","body":"<p>Here is an <a href=\"https://www.dropbox.com/sh/ur2ws1jnik6euef/PjVJSwDTUc/Blog-Golang.zip\" rel=\"nofollow\">Example</a> of the app. The essential code is in: golang-code/handler/handler.go (After the subject should appear an ID!)</p>\n\n<p>Im trying to build a little blog system in Golang on Google Appengine and use Mustache as template engine.</p>\n\n<p>So, i have a struct: </p>\n\n<pre><code>type Blogposts struct {\n    PostTitle   string\n    PostPreview string\n    Content     string\n    Creator     string\n    Date        time.Time\n}\n</code></pre>\n\n<p>The data is passed to GAE via </p>\n\n<pre><code>    datastore.Put(c, datastore.NewIncompleteKey(c, \"Blogposts\", nil), &amp;blogposts)\n</code></pre>\n\n<p>So, GAE assigns automatically a intID (int64).\nNow I tried to get the latest blogposts</p>\n\n<pre><code>// Get the latest blogposts\nc := appengine.NewContext(r)\nq := datastore.NewQuery(\"Blogposts\").Order(\"-Date\").Limit(10)\n\nvar blogposts []Blogposts\n_, err := q.GetAll(c, &amp;blogposts)\n</code></pre>\n\n<p>Until there all things works fine, but when I try to access intID (or stringID, whatever) I dont have access to this :-(</p>\n\n<pre><code>&lt;h3&gt;&lt;a href=\"/blog/read/{{{intID}}}\"&gt;{{{PostTitle}}}&lt;/a&gt;&lt;/h3&gt;\n</code></pre>\n\n<p>(PostTitle works, intID not, i've tried thousand of things, nothing worked :-( )</p>\n\n<p>Anyone an idea? This would be great!</p>\n\n<p>Edit:\nI use mustache.</p>\n\n<p><a href=\"http://mustache.github.com/\" rel=\"nofollow\">http://mustache.github.com/</a></p>\n\n<p>In the code I use:</p>\n\n<pre><code>x[\"Blogposts\"] = blogposts\ndata := mustache.RenderFile(\"templates/about.mustache\", x)\nsendData(w, data) // Equivalent to fmt.Fprintf\n</code></pre>\n\n<p>And then the data can be accessed in the .mustache template with {{{Content}}} or {{{PostTitle}}} etc. </p>\n"},{"tags":["python","excel","google-app-engine","spreadsheet","google-spreadsheet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12682965,"title":"Importing and processing a spreadsheet on Google App Engine","body":"<p>I have a spreadsheet full of information and one time only I need to put this data into the Datastore by reading the rows and creating model entities out of all of the data.  Each row is an entity and each column is a different property.</p>\n\n<p>I am a little confused how exactly I can put the data into a form that is process-able by GAE and then what I should use to process the spreadsheet in python.  I can easily move my data, which is currently in Excel, to Google Docs if that makes things easier but I am still not sure what to do from there.</p>\n"},{"tags":["google-app-engine","go","template-engine","mustache"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":248,"score":4,"question_id":11467731,"title":"Is it possible to have nested templates in Go using the standard library? (Google App Engine)","body":"<p>How do I get nested templates like Jinja has in the python runtime. TBC what I mean is how do I have a bunch of templates inherit from a base templates, just filing in blocks of the base templates, like Jinja/django-templates does. Is it possible using just <code>html/template</code> in the standard library.</p>\n\n<p>If that is not a possibility, what are my alternatives. Mustache seems to be an option but would I then be missing out on those nice subtle features of <code>html/template</code> like the context sensitive escaping etc.? What other alternatives are ther?</p>\n\n<p>(Environment: Google App Engin, Go runtime v1, Dev - Mac OSx lion)</p>\n\n<p>Thanks for reading.</p>\n"},{"tags":["eclipse","google-app-engine","google","eclipse-indigo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":173,"score":0,"question_id":12656533,"title":"Problems installing AppEngine plugin in Eclipse 3.7, on Mountain Lion","body":"<p>I've been trying to install the Appengine plugin for eclipse 3.7 Indigo, and I am getting an error which reads: </p>\n\n<pre><code>Cannot complete the install because one or more required items could not be found.\n    Software being installed: Google Web Toolkit SDK 2.4.0 2.4.0.v201208080120-rel-r37             (com.google.gwt.eclipse.sdkbundle.e37.feature.feature.group 2.4.0.v201208080120-rel-r37)\nMissing requirement: Google Plugin for Eclipse 3.7 3.1.0.v201208080120-rel-r37 (com.google.gdt.eclipse.suite.e37.feature.feature.group 3.1.0.v201208080120-rel-r37) requires 'org.eclipse.wst.sse.ui 0.0.0' but it could not be found\nCannot satisfy dependency:\n    From: Google Web Toolkit SDK 2.4.0 2.4.0.v201208080120-rel-r37 (com.google.gwt.eclipse.sdkbundle.e37.feature.feature.group 2.4.0.v201208080120-rel-r37)\n    To: com.google.gdt.eclipse.suite.e37.feature.feature.group 3.1.0\n</code></pre>\n\n<p>Steps to reproduce the problem:\nGo to \"Help\" menu\nSelect \"Install new software\"\nEnter into \"Work with:\" box: <a href=\"http://dl.google.com/eclipse/plugin/3.7\" rel=\"nofollow\">http://dl.google.com/eclipse/plugin/3.7</a>\nClick \"Add\"\nSelect packages, click next. And then it returns that error.</p>\n\n<p>I read through a bunch of solved stackoverflow problems already, but none seem to work for me. If it's any help, I'm on Mac OS X 10.8 Mountain Lion.\nI've installed the Appengine plugin a long time ago without a hitch on my laptop (10.6 Snow Leopard). Is there something that I am doing wrong or a known bug that is preventing me from installing this Eclipse plugin? Thanks.</p>\n"},{"tags":["java","unit-testing","google-app-engine","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12678384,"title":"How to unit test code relying on Channel API (Google App Engine, Java)","body":"<p>I have Java servlets that rely on the Channel API, from Google App Engine. I am trying to write unit tests for that code, but I am quite stumped with how to write a stub client to receive a response message from the servlet, instead of me always having to rely on using an actual web page as my test client. My servlet is quite simple:</p>\n\n<pre><code>ChannelService channelService = ChannelServiceFactory.getChannelService();\nchannelService.sendMessage(new ChannelMessage(someKey, \"ECHO: \" + someMsg));\n</code></pre>\n\n<p>Usually, I read this in my test client, which is a web page. But, I want to write unit tests that I can test using a framework like jUnit or TestNG. After reading Google's <a href=\"https://developers.google.com/appengine/docs/java/tools/localunittesting\" rel=\"nofollow\">page about unit testing their Java services</a>, I tried stuff such as using a <a href=\"https://developers.google.com/appengine/docs/java/tools/localunittesting/javadoc/com/google/appengine/tools/development/testing/LocalServiceTestHelper\" rel=\"nofollow\">LocalServiceTestHelper</a> object in my test class and configure it with a <a href=\"https://developers.google.com/appengine/docs/java/tools/localunittesting/javadoc/com/google/appengine/tools/development/testing/LocalChannelServiceTestConfig\" rel=\"nofollow\">LocalChannelServiceTestConfig</a> object. The result of this is that my test class can create an instance of <code>LocalChannelService</code>, a class which seems to implement the same methods as <code>ChannelService</code>.</p>\n\n<p><strong>However:</strong></p>\n\n<ul>\n<li>Neither classes have any robust relationship to each other (don't implement a similar interface, are not in the same class hierarchy...). Makes it impossible for me to inject a LocalChannelService object into my servlet as a mock object.</li>\n<li>No documentation whatsoever on LocalChannelService API (Thanks a lot, Google).</li>\n<li>Also no documentation on their Local Unit Testing page for how to test the Channel API (again, thanks a lot Google)</li>\n</ul>\n\n<p>So then I came across this <a href=\"http://stackoverflow.com/questions/11172174/how-can-i-unit-test-the-appengine-channel-service\">post</a> about how to test <code>ChannelService</code> in Java code. Unfortunately, the only relevant answer given was for <em>Python</em>. Well, lo and behold, Google indeed does provide Python GAE server developers with tools for writing stub clients for Google services, as outline in their <a href=\"https://developers.google.com/appengine/docs/python/tools/localunittesting?hl=en\" rel=\"nofollow\">Python Local Unit Testing guide</a>. Unbelievable how they neglected to do the same for Java!</p>\n\n<hr/>\n\n<p>Now that I've gotten all that off my chest (apologies if I sounded a bit too flustered), I would really like to know, what is the best way for testing Java code relying on Google App Engine's Channel API? I really wish to rely on testing tools instead of web pages. do I have to somehow call Google's <a href=\"https://developers.google.com/appengine/docs/java/channel/javascript\" rel=\"nofollow\">Javascript Client for Channel API</a> from Java? There must be a better way in which I can use a mock object or stub.</p>\n\n<hr/>\n\n<h3>Update 1</h3>\n\n<p>Used a better name, \"Google App Engine\" instead of just \"App Engine\"</p>\n"},{"tags":["google-app-engine","caching","rss"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12677430,"title":"How to cache RSS feed?","body":"<p>I generate RSS feed with latest 10 records from GAE NDB datastore. Records in database are updated weekly. How can I avoid queries to datastore each time user requests RSS feed display? I.e. how to cache that?</p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12681036,"title":"Is there a direct approach to format numbers in jinja2?","body":"<p>I need to format decimal numbers in jinja2. </p>\n\n<p>When I need to format dates, I call the strftime() method in my template, like this:</p>\n\n<pre><code>{{ somedate.strftime('%Y-%m-%d') }}\n</code></pre>\n\n<p>I wonder if there is a similar approach to do this over numbers.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["google-app-engine","redirect","http-status-code-301","domain-name"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12680844,"title":"HTML 301 Redirect in Google App Engine","body":"<p>I have 4 URLs that I would like to redirect to my main page.  They are all just common misspellings and I want to have my bases covered so that users can access the site even if they have a letter off.  How would I go about doing this with Google App Engine?</p>\n\n<p>I would imagine that I need a python handler to do the redirects but what would this look like?  Any resources or examples would be great.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12677728,"title":"Google App Engine not updating deployed files","body":"<p>I'm getting some strange issues with google app engine serving old versions of files. I have included some logging in one of my servlets and deployed to google app engine several times over the last 24 hours. However, instead of seeing the logging i added, I'm seeing logs from a previous version of the file every time the servlet runs.</p>\n\n<p>I've tried changing versions and redeploying but this doesnt seem to fix the problem.</p>\n\n<p>I'm using Eclipse Juno with the app engine plugin if that makes a difference.</p>\n\n<p>Any ideas what I can try or what I might be doing wrong?</p>\n"},{"tags":["google-app-engine","jersey","hateoas"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12393589,"title":"Jersey linking support with Google App Engine issue","body":"<p>I didn't manage to use the Jersey linking support with Google App Engine, I'm getting these exceptions when trying to access the application :</p>\n\n<pre><code>Caused by: javax.el.ELException: Could not find expression factory class\n...\nCaused by: java.lang.ClassNotFoundException: de.odysseus.el.ExpressionFactoryImpl\n</code></pre>\n\n<p>As specified in the documentation, I put this in the Jersey servlet section of the web.xml :</p>\n\n<pre><code>&lt;init-param&gt;\n &lt;param-name&gt;com.sun.jersey.spi.container.ContainerResponseFilters&lt;/param-name&gt;\n &lt;param-value&gt;com.sun.jersey.server.linking.LinkFilter&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>I also add the jersey-server-linking-1.13.jar to the WEB-INF/lib directory of my project.</p>\n\n<p>I tried to add el-api.jar first, then juel-2.1.0.jar to the WEB-INF/lib directory but I'm still getting these errors.</p>\n\n<p>I'd like to know if someone could give me some hints about the way to deal with this. When I don't use the Jersey linking jar, everything is working as expected.</p>\n"},{"tags":["python","google-app-engine","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12655678,"title":"Dynamically running python code on google app engine","body":"<p>I am trying to be able to dynamically run python code, with variables being able to be passed through to the code. I was able to do this on my computer before I added my project to the google app engine environment (because I can access all the files, but now, with google app engine, I can not do that. </p>\n\n<p>I am struggling to find a solution to this problem. It does not need to be too terribly fancy, just send variables in and get html out, as well as scripts being able to be added client side (the crucial part) to whatever database method that is used.</p>\n\n<p><strong>Edit:</strong>\nwell basically what I mean by dynamically is so that I can import (or thats what I did in IDLE when I tested the prototype, the solution will probably not be called importing) a python script with the name of the library being stored in a variable, as well as an unknown number of variables that would be added. I got this to work on Idle, but now I need to get it to work in the google app engine environment, and people need to be able to upload scripts as well (which is the main problem that cascades into many more problems)</p>\n\n<p><strong>Edit:</strong>\nWhen I say that I managed to get this to work on my local machine, I mean I was able to manually drop scripts into the same directory as my main script. The script would later import and execute the scripts when necessary. I was able to get this to work with the following code:</p>\n\n<pre><code>#calling function\nmod = __import__('actions.'+folder+'.'+FILE)\nVAR = getattr(getattr(mod, folder), FILE)\nresponse = VAR.Main()\nprint response\n</code></pre>\n\n<p>This code worked on both my laptop and in the google app engine environment, <em>But</em> When I try to add more scripts to the directory is when things get problematic. On my laptop I could just move the file over one way or another because I had full access to the file directory. On Google App engine I do not have the ability to just upload a file to the same directory or subdirectory of the rest of my python scripts. So basically the problem comes up when trying to design a way to allow more code to come into the system (in my case, adding more 'plugins').</p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":160,"score":3,"question_id":7845265,"title":"JDOObjectNotFoundException when trying to get a child object in GAE","body":"<p>I have designed a data model where there are parents and children objects (one to many). First I did all the job manually and stored ID's of parents in  children objects to keep the relation. Then I decided to use relationship with documentations of app engine. Now I have a parent with ID 21 and a child with ID 1 (I suppose ID is 1 because this child is the only and the first child of this parent). Now I am trying to get the key as:\nchild.getKey()</p>\n\n<p>And with the same String I am trying to get the object with:</p>\n\n<p>Child child = pm.getObjectById(Child.class, key);</p>\n\n<p>Somehow I get this error:\nWARNING: /admin.jsp\njavax.jdo.JDOObjectNotFoundException: Could not retrieve entity of kind Child with key Child(\"Parent(21)/Child(1)\")</p>\n\n<p>I know that this child exists in this parent. Can maybe someone help me? I have researched about this and nothing showed up...</p>\n"},{"tags":["google-app-engine","jenkins","jenkins-plugins"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12506889,"title":"How to manage asymetric keys without checking them into source control?","body":"<p>I have a google app engine application which needs to be given a public-private key pair. I don't want to check this into source control because it will be accessible by too many people. Since this is GAE I can't use the build system to write the keys to the file system of the server.</p>\n\n<p>Is there a known best practice for this? \nMy first thought was does Jenkins provide a way to manage keys securely? I know I can just copy the keys to a location on the jenkins server and copy them into the build but this project will be used by third party teams so I need to provide a UI based solution in jenkins. I did not find any relevant plugin but I would like to make sure there isn't a better way before writing my own. </p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12658097,"title":"How to update an arbitrary field in a POJO?","body":"<p>I have a POJO called MyClass.\nMyClass has a 100 getters and setters (for example)</p>\n\n<p>I create two instances. Instance A and Instance B.</p>\n\n<p>A user somehow changes the value of any arbitrary field on Instance B.</p>\n\n<p>Is there a way or shortcut I can compare Instance A and Instance B such that I can update the change in value to Instance A?</p>\n\n<p><strong>UPDATED</strong> Okay just to clarify some confusion.</p>\n\n<p>Let's just say </p>\n\n<p>Instance A = An instance of MyClass which represents an existing record persisted via JDO on the server-side. MyClass has an instance variable of foo=\"bar0\"; </p>\n\n<p>Instance B = An instance of MyClass which a user has edited any arbitrary field, i.e. foo=\"bar1\". Instance B comes from data supplied by an Android client.</p>\n\n<p>So it could be any instance variable on MyClass that could be in Instance B which represents how Instance A should be updated.</p>\n"},{"tags":["java","google-app-engine","jdo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12674796,"title":"org.datanucleus.transaction.Transaction rollback on Google App Engine","body":"<p>I am facing a serious error in our application on Google App Engine.</p>\n\n<p>When i do this:</p>\n\n<pre><code>CompanyUser.validate(\"email\", email);\n    CompanyUser.validate(\"password\", password, password);\n    Validator.checkValidation();\n\n    CompanyUser user;\n\n    try {\n        user = company.getUserByEmail(email);\n\n        //(user.getPassword() == \"\") se o usuário administrador resetar a senha, alterar o e-mail ou cadastrar um novo usuário\n        //(user.isWaitingConfirmation()) nos mesmos casos acima e mais quando o usuário alterar seu próprio e-mail ou o usuário administrador se cadastrar (cadastro na home do site)\n        if(Tools.isEmptyString(user.getPassword()) || user.isWaitingConfirmation()) {\n            if(user.getLastAccessDate() == null)    //Se for usuário novo\n                throw new AuthenticationException(\"Seu usuário encontra-se bloqueado.&lt;br /&gt;Para ativar seu acesso ao portal, acesse seu e-mail e siga as instruções.\");\n            else\n                throw new AuthenticationException(\"Seu usuário encontra-se bloqueado.&lt;br /&gt;Para reativar seu acesso ao portal, acesse seu e-mail e siga as instruções.\");\n        }\n\n        byte[] bDigest = user.getPasswordBytes();\n        byte[] bSalt = user.getPasswordSaltBytes();\n        byte[] proposedDigest = user.getHash(password, bSalt);\n\n        if (Arrays.equals(proposedDigest, bDigest)) {\n            try{\n                user.setLastAccessDate(Tools.getCurrentTime());\n                company.saveDetached();\n            } catch (DeadlineExceededException e) {\n                Tools.sendMail(\"ERRO Severidade média: Não esta salvando ultimo acesso de Usuario\", \"ERRO: Não esta salvando ultimo acesso do Usuario \" + user.getEmail() + \" da empresa \" + user.getCompany().getName()+ \"\" +\n                        \"Objeto esta com transação aberta.\", Tools.getChaintSupportEmail());\n            }\n            return user;\n        }\n\n    } catch (ObjectNotFoundException e) {\n        user = null;\n    }\n\n    throw new AuthenticationException(\"Usuário/Senha não conferem\");\n</code></pre>\n\n<hr>\n\n<pre><code>public Object saveDetached() throws InvalidFieldsValueException {\n\n    if(IdModel.getErrorList().isEmpty() == false) {\n        Vector&lt;ValidatorError&gt; el = IdModel.getErrorList();\n        Validator.clearError();\n        throw new InvalidFieldsValueException(el);\n    }\n\n    return  PersistenceManager.saveDetached(this, true);\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public static Object saveDetached(Object object, boolean detach) {\n    Object ob = null;\n    String msg =\"\";\n    javax.jdo.PersistenceManager pm = getPM();\n    pm.setDetachAllOnCommit(detach);\n\n    Transaction t = pm.currentTransaction();\n    try {\n        t.begin();\n        ob = pm.makePersistent(object);\n        t.commit();\n    } catch (Exception e) {\n        String[] fieldNames = NucleusJDOHelper.getDetachedObjectDirtyFields(object, pm);\n        for(String s:fieldNames) {\n            msg = msg.concat(s+\";\\n\");\n        }\n\n    } finally {\n        String[] fieldNames;\n        if (t.isActive()) {\n            fieldNames = NucleusJDOHelper.getDetachedObjectLoadedFields(object, pm);\n            msg = msg+\"NucleusJDOHelper.getDetachedObjectLoadedFields\";\n            for (String s : fieldNames) {\n                msg = msg.concat(s + \";\\n\");\n            }\n            Tools.getLogger().warning(msg);\n            t.rollback();\n        }\n        pm.close();\n    }\n    return ob;\n}\n</code></pre>\n\n<p>This happens:</p>\n\n<blockquote>\n  <p>201.86.195.206 - - [24/Sep/2012:14:24:48 -0700] \"GET / HTTP/1.1\" 500 0 - \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1\" \"tci.chainit.com.br\" ms=60020 cpu_ms=22858 exit_code=104 instance=00c61b117c6e51b4aec6d2e4089516b479c2a0\n  E2012-09-24 18:24:47.974\n  org.datanucleus.transaction.Transaction rollback: Operation rollback failed on resource: org.datanucleus.store.appengine.DatastoreXAResource@2d659, error code UNKNOWN and transaction: [DataNucleus Transaction, ID=Xid=\n  W2012-09-24 18:24:48.375\n  Error for /\n  com.google.apphosting.runtime.HardDeadlineExceededError: This request (b08d8999601781ee) started at 2012/09/24 21:23:48.426 UTC and was still executing at 2012/09/24 21:24:48.373 UTC.\n      at sun.misc.Unsafe.park(Native Method)\n      at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1037)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1326)\n      at com.google.common.util.concurrent.AbstractFuture$Sync.get(AbstractFuture.java:263)\n      at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:96)\n      at com.google.appengine.tools.development.TimedFuture.get(TimedFuture.java:41)\n      at com.google.common.util.concurrent.ForwardingFuture.get(ForwardingFuture.java:63)\n      at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n      at com.google.appengine.api.datastore.FutureHelper$CumulativeAggregateFuture.get(FutureHelper.java:145)\n      at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n      at com.google.appengine.api.datastore.FutureHelper.getInternal(FutureHelper.java:72)\n      at com.google.appengine.api.datastore.FutureHelper.quietGet(FutureHelper.java:33)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl$2.runInternal(DatastoreServiceImpl.java:113)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl$2.runInternal(DatastoreServiceImpl.java:110)\n      at com.google.appengine.api.datastore.TransactionRunner.runInTransaction(TransactionRunner.java:31)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl.put(DatastoreServiceImpl.java:110)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl.put(DatastoreServiceImpl.java:94)\n      at com.google.apphosting.runtime.jetty.DatastoreSessionStore.saveSession(DatastoreSessionStore.java:94)\n      at com.google.apphosting.runtime.jetty.SessionManager$AppEngineSession.save(SessionManager.java:167)\n      at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:41)\n      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n      at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n      at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n      at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n      at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n      at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n      at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n      at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\n      at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n      at org.mortbay.jetty.Server.handle(Server.java:326)\n      at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n      at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n      at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\n      at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n      at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\n      at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n      at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:452)\n      at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:459)\n      at com.google.tracing.TraceContext.runInContext(TraceContext.java:701)\n      at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:336)\n      at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:328)\n      at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:456)\n      at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n      at java.lang.Thread.run(Thread.java:679)\n  C2012-09-24 18:24:48.376\n  Uncaught exception from servlet\n  com.google.apphosting.runtime.HardDeadlineExceededError: This request (b08d8999601781ee) started at 2012/09/24 21:23:48.426 UTC and was still executing at 2012/09/24 21:24:48.373 UTC.\n      at sun.misc.Unsafe.park(Native Method)\n      at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1037)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1326)\n      at com.google.common.util.concurrent.AbstractFuture$Sync.get(AbstractFuture.java:263)\n      at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:96)\n      at com.google.appengine.tools.development.TimedFuture.get(TimedFuture.java:41)\n      at com.google.common.util.concurrent.ForwardingFuture.get(ForwardingFuture.java:63)\n      at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n      at com.google.appengine.api.datastore.FutureHelper$CumulativeAggregateFuture.get(FutureHelper.java:145)\n      at com.google.appengine.api.utils.FutureWrapper.get(FutureWrapper.java:90)\n      at com.google.appengine.api.datastore.FutureHelper.getInternal(FutureHelper.java:72)\n      at com.google.appengine.api.datastore.FutureHelper.quietGet(FutureHelper.java:33)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl$2.runInternal(DatastoreServiceImpl.java:113)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl$2.runInternal(DatastoreServiceImpl.java:110)\n      at com.google.appengine.api.datastore.TransactionRunner.runInTransaction(TransactionRunner.java:31)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl.put(DatastoreServiceImpl.java:110)\n      at com.google.appengine.api.datastore.DatastoreServiceImpl.put(DatastoreServiceImpl.java:94)\n      at com.google.apphosting.runtime.jetty.DatastoreSessionStore.saveSession(DatastoreSessionStore.java:94)\n      at com.google.apphosting.runtime.jetty.SessionManager$AppEngineSession.save(SessionManager.java:167)\n      at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:41)\n      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n      at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n      at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n      at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n      at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n      at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n      at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n      at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)\n      at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n      at org.mortbay.jetty.Server.handle(Server.java:326)\n      at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n      at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)\n      at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)\n      at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n      at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)\n      at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)\n      at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:452)\n      at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:459)\n      at com.google.tracing.TraceContext.runInContext(TraceContext.java:701)\n      at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:336)\n      at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:328)\n      at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:456)\n      at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)\n      at java.lang.Thread.run(Thread.java:679)\n  W2012-09-24 18:24:48.427</p>\n  \n  <p>A problem was encountered with the process that handled this request,\n  causing it to exit. This is likely to cause a new process to be used\n  for the next request to your application. If you see this message\n  frequently, you may be throwing exceptions during the initialization\n  of your application. (Error code 104)</p>\n</blockquote>\n\n<p>It seems, to me, the rollback operation is not finishing in the 60´s second wich each request has to ends and the roolback operation is canceled. In this way the object ends in this a state that we cant write on it.</p>\n\n<p>This problems seems to me very serious because the user object end in this \"unchangeble\" state and that could not be fixed by its own, netheir by the JDO our Datanucleous.</p>\n\n<p>Thanks for any Help.</p>\n"},{"tags":["php","linux","apache","google-app-engine","email"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12674618,"title":"Google Apps won't receive PHP mail() emails","body":"<p>From <a href=\"http://support.google.com/a/bin/answer.py?hl=en&amp;answer=55299\" rel=\"nofollow\">this</a> support thread in google. I believe this is the problem :</p>\n\n<p>\"Because your website and your Google Apps email address share the same domain name, the mail agent running on the server that hosts your website thinks that it is responsible for mail addressed to your domain name. This is a typical default setting.\nWhen someone submits the form on your website, the mail agent recognizes your domain name and concludes that it should be sending mail to itself. The mail agent will attempt to deliver the message locally.\"</p>\n\n<p>Where should I look at to resolve this, is it a PHP or Apache issue?</p>\n\n<p>Thanks In advance</p>\n"},{"tags":["google-app-engine","backend","task-queue","gae-quotas"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12670151,"title":"App Engine Backend Quota Not Touched","body":"<p>I have a dynamic backend process that gets called from within my frontend app code. To do this it must be visible via app.yaml. But when the backend gets run in this way I see no change in my backend quota on the admin panel, leading me to believe it's running on the frontend quota.</p>\n\n<p>The Backend is called via a <code>taskqueue.add(url='/path/to/backend')</code> from the frontend side.</p>\n\n<p>Should this not invoke a backend instance for a minimum of 15 mins and thus use that quota?</p>\n"},{"tags":["google-app-engine","memcached","app-engine-ndb","quota"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12654159,"title":"How automatic NDB caching works?","body":"<p>My website is movies catalog. Once user log in, I show him/her the latest movie added to my database:</p>\n\n<pre><code>movies = Movies.query()\nmovies = movies.order(-Movies.added)\nmovie = movies.get(keys_only = True) // get_latest_movie_id\n</code></pre>\n\n<p>Is it cached (movies are added to the database weekly, so it should be cached)? How to verify that (i.e. what is memcache key)? \nYesterday about 1000 users visited my site and I've got </p>\n\n<blockquote>\n  <p>OverQuotaError: The API call datastore_v3.RunQuery() required more\n  quota than is available.</p>\n</blockquote>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12670968,"title":"Primary key in google app engine","body":"<p>I am creating one to many relationship using the following data model. How can I make primary key and foreign key?</p>\n\n<pre><code>class Candidate(db.Model):\n    name = db.StringProperty()\n    lastname = db.StringProperty()\n    email = db.StringProperty()\n    mobno = db.StringProperty()\n    grad = db.StringProperty()\n    pg = db.StringProperty()\n    cloc = db.StringProperty()\n    ploc = db.StringProperty()\n\nclass Skills(db.Model)\n    skillcode=db.IntegerProperty()\n    skillname=StringProperty()\n</code></pre>\n\n<p>Each candidate have many skills. How can I make primary key and foreign key?</p>\n"},{"tags":["python","google-app-engine","oauth","openid"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12666037,"title":"what files do I need in my GAE project?","body":"<p>I am trying to use <a href=\"https://github.com/crhym3/simpleauth\" rel=\"nofollow\">SimpleAuth</a> in my google app engine project and it seems pretty simple but I wanted to see what files I actually need in my project.  Right now my project directory looks like this:</p>\n\n<pre><code>src/\n  main.py\n  app.yaml\n  index.yaml\n  #these three are the SimpleAuth ones\n  simpleauth/\n    __init.py__\n    handler.py\n  httplib2/\n  oauth2/\n</code></pre>\n\n<p>Do I need the entire SimpleAuth folder or are those two files all I need?  On the GitHub site it simply says to put the SimpleAuth subdir in the root but the main file is named SimpleAuth too.</p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine","amazon-ec2","google-cloud-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12643506,"title":"Amazon EC2 or Google App Engine - Video Upload, conversion and serving","body":"<p>I'm starting a new project that will mainly involve the following:</p>\n\n<ul>\n<li>uploading a large quantity of videos</li>\n<li>converting them</li>\n<li>serving them to users</li>\n</ul>\n\n<p>I'm looking into Google App Engine and using the new <a href=\"https://developers.google.com/storage/\" rel=\"nofollow\">Google Cloud storage API</a> to store the videos.</p>\n\n<p>But the Google Could storage API is still <a href=\"https://developers.google.com/appengine/docs/java/googlestorage/\" rel=\"nofollow\">experimental with Google App Engine</a> which is a bit scary.</p>\n\n<p>But i'm wondering if the EC2 from Amazon will not be a better choice, because it's more mature and may be more adapted to that kind of service that i'm trying to build.</p>\n"},{"tags":["python","google-app-engine","login","oauth","openid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12664486,"title":"Having trouble installing SimpleAuth for GAE","body":"<p>I have been working for a while, trying to install SimpleAuth on Google App Engine and I am running in to trouble.  First off in the bottom of the sample code they have this:</p>\n\n<pre><code>def _get_consumer_info_for(self, provider):\n       \"\"\"Should return a tuple (key, secret) for auth init requests.\n       For OAuth 2.0 you should also return a scope, e.g.\n       ('my app id', 'my app secret', 'email,user_about_me')\n\n       The scope depends solely on the provider.\n       See example/secrets.py.template\n       \"\"\"\n       return secrets.AUTH_CONFIG[provider]\n</code></pre>\n\n<p>and I don't see the secrets file anywhere nor what it is supposed to do.</p>\n\n<p>Then in addition to that small problem I am curious how I am supposed to render the providers and their login URLs to the user.  This page: <a href=\"https://github.com/crhym3/simpleauth/blob/master/example/handlers.py\" rel=\"nofollow\">https://github.com/crhym3/simpleauth/blob/master/example/handlers.py</a> has a great description of the general setup but it doesn't have any description of what we actually need to pass to the user to let them login.</p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine","python-2.7"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":704,"score":1,"question_id":10222342,"title":"ImportError while running Google App Engine test project","body":"<p>I am new to Google App Engine and so, I just followed the procedure to test an application which just prints \"hello world\".</p>\n\n<p>(followed according to Google App Engine Documentation)</p>\n\n<p>The project folder name is \"GoogleApp\"</p>\n\n<p>This is my Python file:</p>\n\n<p>File Name : sayHello.py</p>\n\n<pre><code>#!/usr/bin/env python\n\ndef main():\n    print \"hello\"\n    pass\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>This the yaml file </p>\n\n<p>File Name : app.yaml</p>\n\n<pre><code>application: GoogleApp\nversion: 1\nruntime: python27\napi_version: 1\nthreadsafe: true\n\nhandlers:\n- url: /.*\n  script: sayHello.py\n</code></pre>\n\n<p>When ever I just run the project in Google App Engine Launcher, this is the log error I am getting</p>\n\n<pre><code>2012-04-19 10:52:23 Running command: \"['C:\\\\Python27\\\\pythonw.exe', 'C:\\\\Program Files\\\\Google\\\\google_appengine\\\\dev_appserver.py', '--admin_console_server=', '--port=8080', 'D:\\\\Code\\\\Projects\\\\IRCmathBot\\\\GoogleApp']\"\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Google\\google_appengine\\dev_appserver.py\", line 125, in &lt;module&gt;\n    run_file(__file__, globals())\n  File \"C:\\Program Files\\Google\\google_appengine\\dev_appserver.py\", line 121, in run_file\n    execfile(script_path, globals_)\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\dev_appserver_main.py\", line 157, in &lt;module&gt;\n    from google.appengine.tools import appcfg\n  File \"C:\\Program Files\\Google\\google_appengine\\google\\appengine\\tools\\appcfg.py\", line 41, in &lt;module&gt;\n    import mimetypes\n  File \"C:\\Python27\\lib\\mimetypes.py\", line 29, in &lt;module&gt;\n    import urllib\n  File \"C:\\Python27\\lib\\urllib.py\", line 26, in &lt;module&gt;\n    import socket\n  File \"C:\\Python27\\lib\\socket.py\", line 47, in &lt;module&gt;\n    import _socket\nImportError: Module use of python25.dll conflicts with this version of Python.\n2012-04-19 10:52:25 (Process exited with code 1)\n</code></pre>\n\n<p>Actually, I use Python 2.7. The above log says that python25.dll conflicts with version of python. </p>\n\n<p>I don't know what exactly it means but I could interpret that</p>\n\n<ol>\n<li>It should either support only python 2.5 or </li>\n<li>It I should have used python 2.5 code.</li>\n</ol>\n\n<p>as the 2nd isn't possible and Google supports 2.7,  I don't know what is this error.</p>\n\n<p>Try to figure out myself but couldn't succeed.</p>\n"},{"tags":["java","database","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12669827,"title":"using google app engine for a simple dynamic web site","body":"<p>I want to upload a simple web site(Resume website) to google app engine.My web site is dynamic so i need to use database.I went through various tutorial where i found that google cloud sql can be used for a dyanamic website but it cost money.so my question is how can i use a database for my website without any payment.Is there any other ways.Plzz help me.</p>\n"},{"tags":["python","html","google-app-engine","jinja2"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":84,"score":2,"question_id":12666618,"title":"HTML output problems","body":"<p>I am writing a website with python and jinja2 in google app engine.  My html page is showing this on the page:</p>\n\n<pre><code>Status: 200\nContent-Type: text/html;\ncharset=utf-8\nCache-Control: no-cache\nContent-Length: 432\n</code></pre>\n\n<p>Any idea where this problem is coming from? Also, why is {{ initial_city }} not displaying the results?</p>\n\n<p>My main.py script is:</p>\n\n<pre><code>from google.appengine.ext import db\nfrom google.appengine.api import memcache\nfrom models import Deal\nimport os\nimport webapp2\nimport jinja2\n\n\n#databasestuff\ndeal = Deal(title='Hello',\n        description='Deal info here',\n        city='New York')\ndeal.put()\nprint deal\n\n\njinja_environment = jinja2.Environment(autoescape=True,\n    loader=jinja2.FileSystemLoader(os.path.join(os.path.dirname(__file__), 'templates')))\n\nclass MainPage(webapp2.RequestHandler):\ndef get(self):\n    template = jinja_environment.get_template('index.html')\n    self.response.out.write(template.render())\n\n\nclass DealHandler(webapp2.RequestHandler):\ndef get(self):\n    def get_deals(choose_city, update=False):\n        key = str(choose_city)\n        all_deals = memcache.get(key)\n        return all_deals\n\n    choose_city = self.request.get('c')\n    try:\n        initial_city = str(choose_city)\n        choose_city = initial_city\n    except ValueError:\n        initial_city = 0\n        choose_city = initial_city\n\n\n    template = jinja_environment.get_template('deal.html')\n    self.response.out.write(template.render())\n\n\n\n\nclass ContentHandler(webapp2.RequestHandler):\ndef get(self):\n    template = jinja_environment.get_template('content.html')\n    self.response.out.write(template.render())\n\napp = webapp2.WSGIApplication([('/', MainPage),\n                           ('/deal', DealHandler),\n                           ('/content', ContentHandler)],\n                          debug=True)\n</code></pre>\n\n<p>My html page:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;\n      Deallzz: Chosen City: {{ initial_city }}\n    &lt;/title&gt;\n  &lt;/head&gt;\n  ...\n</code></pre>\n"},{"tags":["python","google-app-engine","email","python-2.7","email-attachments"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":249,"score":0,"question_id":10695851,"title":"Receiving Email Attachments in App Engine Python errors on Unicode Text File","body":"<p>I have some code to parse an email and find the attachments then store them into the Datastore as db.BlobProperties (might change that to Blobstore later).  The problem is that when I send a UTF8 encoded text file it generates an error.</p>\n\n<p>The code basically saves the file and returns a key that is converted to a string then stored in the parent email entity.  As you can see I decode the file then store it as a blob.  I have sent lots of attachments and this code works on everything but Text encoded with Unicode.  Is there a better way to do this?  What can I do to handle Unicode text attachments?</p>\n\n<p>code snipit </p>\n\n<pre><code>    my_file = []\n    my_list = []\n    if hasattr(mail_message, 'attachments'):\n        file_name = \"\"\n        file_blob = \"\"\n        for filename, filecontents in mail_message.attachments:\n            file_name = filename\n            file_blob = filecontents.decode()\n            my_file.append(file_name)\n            my_list.append(str(store_file(self, file_name, file_blob)))\n</code></pre>\n\n<p>store_file</p>\n\n<pre><code>def store_file(self, file_name, file_blob):\n    new_file = myblob(file_name = file_name, \n                      file_blob = file_blob)\n    return new_file.put()\n</code></pre>\n\n<p>I have tried using <code>file_blob = str(file_blob)</code> in the above to no avail.  That just breaks the code and the file never gets stored.</p>\n\n<p>log 1 of Unicode Text File</p>\n\n<pre><code>Property file_blob must be convertible to a Blob instance (Blob() argument should be str instance, not unicode)\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/webapp/mail_handlers.py\", line 65, in post\n    self.receive(mail.InboundEmailMessage(self.request.body))\n  File \"/base/data/home/apps/s~ae-baseapp/1.359073377819595139/controllers/InboundHandler.py\", line 51, in receive\n    file_list.append(str(store_file(self, file_name, file_blob)))\n  File \"/base/data/home/apps/s~ae-baseapp/1.359073377819595139/models/MyModel.py\", line 63, in store_file\n    file_blob = file_blob)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 974, in __init__\n    prop.__set__(self, value)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 614, in __set__\n    value = self.validate(value)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 2780, in validate\n    (self.name, self.data_type.__name__, err))\nBadValueError: Property file_blob must be convertible to a Blob instance (Blob() argument should be str instance, not unicode)\n</code></pre>\n\n<p>Log 2 of removing the filecontents.decode() and replacing it with just filecontents.</p>\n\n<pre><code>Property file_blob must be convertible to a Blob instance (Blob() argument should be str instance, not EncodedPayload)\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1530, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.1/webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/webapp/mail_handlers.py\", line 65, in post\n    self.receive(mail.InboundEmailMessage(self.request.body))\n  File \"/base/data/home/apps/s~ae-baseapp/1.359097282640216691/controllers/InboundHandler.py\", line 57, in receive\n    file_list.append(str(store_file(self, file_name, file_blob)))\n  File \"/base/data/home/apps/s~ae-baseapp/1.359097282640216691/models/MyModel.py\", line 64, in store_file\n    file_blob = file_blob)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 974, in __init__\n    prop.__set__(self, value)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 614, in __set__\n    value = self.validate(value)\n  File \"/base/python27_runtime/python27_lib/versions/1/google/appengine/ext/db/__init__.py\", line 2780, in validate\n    (self.name, self.data_type.__name__, err))\nBadValueError: Property file_blob must be convertible to a Blob instance (Blob() argument should be str instance, not EncodedPayload)\n</code></pre>\n"},{"tags":["python","google-app-engine","cron"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":408,"score":2,"question_id":3508565,"title":"Is there a time limit to Cron jobs in Google Apps?","body":"<p>I have created a cron job to scan rss/atom feeds but want to know if there is a timeout on this.</p>\n\n<p>The documentation says that requests are limited to 30 seconds; is a cron job a regular request that is subject to this restriction?</p>\n\n<p>Should I break the job up into one scan per cron job just to be on the safe side, or is there a better way?</p>\n\n<p>I was thinking of maybe having the cron job spawn tasks into the task queue that would do the resource fetching (so each task could fetch one resource, and hopefully none would overrun the 30 second limit).</p>\n\n<p>Any advice would be appreciated.</p>\n"},{"tags":["python","google-app-engine","gwt","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":129,"score":1,"question_id":12654543,"title":"What Python Web Framework should I use with GWT to stream KML from Python Back-end?","body":"<p>I have a long-running process written in Python 2.7 that I would like to send KML files to my GWT application asynchronously as the KML files are generated.  </p>\n\n<p>I have been trying to determine what Python web framework I could use as the back-end with the Python process that could possibly allow the webapp to be hosted on Google AppEngine.  </p>\n\n<p>I was able to write a simple python webserver using Cherrypy that sent the kml using JSON from the back-end to GWT using an http request; however, I would like the files to be sent to GWT as they are generated since it may be several minutes between each one.  What would be a relatively simple but effective way to achieve this? (Comet? Long-polling? Websockets?)  </p>\n\n<p>After researching more python web frameworks, I started experimenting with Tornado because it is non-blocking and seems like it could return data as it is generated possibly using long-polling as mentioned in <a href=\"http://stackoverflow.com/questions/6144309/python-web-framework-async-tasks-long-polling-not-django\">this answer</a>. However, it looks like GAE requires WSGI which would not allow a Tornado webserver to be non-blocking. </p>\n\n<p>I have read answers to similar questions such as <a href=\"http://stackoverflow.com/questions/1904893/gwt-gae-python-frameworks-for-comet-rpc\">this one</a>.  However, I am not sure if updates in web frameworks, GWT, or GAE has changed what is the best option today, or whether some of these answers apply to my case.</p>\n\n<p>What Python web framework would you recommend I use to send data to my asynchronous GWT app using long-polling or another method relatively simply?  Could I use this web framework with GAE, or would I need to use something else?  </p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12253645,"title":"Continue with script when error with email google apps","body":"<p>I am using the below code in a loop to send emails from spreadsheets that are filled by users:</p>\n\n<pre><code>MailApp.sendEmail(Email, subject, body, {htmlBody: body, attachments: pdf});\n</code></pre>\n\n<p>The problem is that users sometimes have mistake with the email address and when the script run and find incorrect email address it halts the script.</p>\n\n<p>Is there away to continue the loop and skip the error? Can anyone advise me a solution?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12665987,"title":"python importing code from a string","body":"<p>I am using google app engine and I am trying to basically allow users to upload code, where it will later be executed by the server. I also have to be able to send variables to the scripts, which is why initially when I was running everything on my desktop, I Imported everything dynamically (as in- the name of the script is stored in a variable). But now I can not do this because of the filesystem in the google app engine environment.</p>\n\n<p>I already have a database setup so that I can get the code in plain-text. But now I would like to know if there was any way that I could import a python script, not from a file but from a variable containing python code.</p>\n\n<p>For example, If this was the plain-text code, how could I get this to execute properly:</p>\n\n<pre><code>code = \"\"\"\ndef Main(var):\n    print \"you entered: \" + var\n\"\"\"\n</code></pre>\n"},{"tags":["google-app-engine","email","script","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12665858,"title":"Force registration from specific email domain","body":"<p>I'm using google app engine and jinja to create a signup form that asks users to signup with their email address. However, I'd like emails to only come from a specific domain (e.g. gmail.com).  </p>\n\n<p>How do I send an email to the entered address to ask for confirmation?</p>\n\n<p>I'm not sure how to hook up Python with PHP/Ruby to write the email confirmation script.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"},{"tags":["json","google-app-engine","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":12664696,"title":"How to properly output JSON with app engine Python webapp2?","body":"<p>Right now I am currently just doing this:</p>\n\n<pre>self.response.headers['Content-Type'] = 'application/json'\nself.response.out.write('{\"success\": \"some var\", \"payload\": \"some var\"}')</pre>\n\n<p>Is there a better way to do it using some library?</p>\n"},{"tags":["google-app-engine","gae-datastore","go"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12659126,"title":"GAE filter entity key (Golang)","body":"<p>I want to use look like</p>\n\n<pre><code>datastore.NewQuery(\"Article\").Filter(\"ID =\", id)\n</code></pre>\n\n<p>to get entity key.</p>\n\n<p>How do this?</p>\n\n<p>Sorry for my poor English. Thanks!</p>\n"},{"tags":["java","google-app-engine","servlets"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12662875,"title":"Google App Engine (Java): servlets, datastore, and multithreading","body":"<p>I'm making a website with google app engine, but I have a question about the server-side servlets and how they inter act with the datastore database.</p>\n\n<p>Basically, it comes back to the traditional race condition of read-modify-write; i.e. I'm reading an entity out of the datastore, possibly updating it, and then writing the update if there is one.</p>\n\n<p>Basically, can I synchronize access to the datastore? Do I need to? From what I understand, the server can spawn as many instances of my servlets as it likes; I'm using static methods in my 'behind-the-scenes' stuff so I did think I could synchronize the static methods with a static lock object.</p>\n\n<p>Basically, I don't know what defences against race conditions/etc I do/don't need to take. If there's a handy guide somewhere, that'd be great, but I can't seem to find one.</p>\n"},{"tags":["algorithm","google-app-engine","go"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12663720,"title":"Appengine: use memcache counter","body":"<p>I want to implement counter on App Engine. The obvious way is to use memcache for this purpose. But docs state that memcache is not reliable and I have to implement fall-back method in case counter in memcache has wrong value or missing. I can easily detect that key is missing, but how can I know that counter has wrong value? I am speaking about following situation:</p>\n\n<ol>\n<li>key = 30</li>\n<li>incr(key), key = 31</li>\n<li>key is flushed by GAE</li>\n<li>incr(key), key = 1</li>\n</ol>\n\n<p>Is there any trick I don't know (checksum for numbers that works with memcache?)? Should I really care about such situation?</p>\n\n<p>Some probably useless details:</p>\n\n<ul>\n<li>Counter will have values in range 0-10000.</li>\n<li>Counters should be live 1 hour. I store them in datastore every hour.</li>\n<li>I am using Go.</li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12647213,"title":"Run arbitrary Java from AppEngine Dev Server","body":"<p>To help with development, I want to launch some programs that require access to the file system, execution environment, etc, from the appengine development server.  Essentially, I want to write:</p>\n\n<pre><code>if (SystemProperty.environment.value().equals(\n        SystemProperty.Environment.Value.Development)) {\n\n    doStuffICannotDoOnRealAppengineButShouldBeABleToDoOnMyMachine();\n\n}\n</code></pre>\n\n<p>Is this possible?</p>\n\n<p>My goal is to preview email that AppEngine is sending.  Right now I can print the contents to System.out, but I'd like to save them to a file and launch a browser so my designers can see the email content immediately.</p>\n"},{"tags":["html5","google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12661142,"title":"How to get AppEngine data to GWT client, only once","body":"<p>I have a 6MB binary file in my AppEngine backed app.  I need to get this file to my GWT client to do many computations.  I'm trying to avoid doing the computations on the server to save my instance hours quota.  But this means I have to get the file to my client somehow. </p>\n\n<p>I also don't want to download it to the app each time the app is opened, that would hurt my appengine outgoing bandwidth quota. </p>\n\n<p>It would be nice to download it once, then have the client somehow store it for use the next time the app is opened.</p>\n\n<p>How to best do this?</p>\n\n<p>A ClientBundle? Use HTML5 Storage?  Is this sort of thing just not done, and should I just do the computations on the server and send the result to the client?</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12392500,"title":"Are GAE namespaces safe to use with threadsafe?","body":"<p>I have a GAE application that organises data using Namespaces. My question is - are Namespaces managed on a per-thread basis, or on a per-instance basis?  If I enable threadsafe in the GAE configuration, is it possible that setting the namespace in one thread will affect other threads?</p>\n"},{"tags":["python","unit-testing","google-app-engine","datastore","testbed"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12653980,"title":"gae python changing datastore in testing proces","body":"<p>I solve the problem:</p>\n\n<p>I'm trying to test my app using <code>testbed</code> and <code>webtest</code>. And I want to see how handler method changing my datastore. Then after I start testing, I initialise <code>MyModel</code> instance object testmodel using <code>Testbed</code> and send it to <code>MyHandler</code> <code>MyMethod</code>.</p>\n\n<p>It's going there, <code>MyMethod</code> finds it by gql request and changes it. However, when it returns to test after response - <code>testmodel</code> stand without this changes.</p>\n\n<p>I suppose that this is due to <code>Testbed</code> and <code>init_datastore_v3_stub()</code> and its settings, but cant find any documents for exactly this case.  Can someone help me fix this problem?</p>\n\n<p>My code:</p>\n\n<pre><code>class MyModel(db.Model):\n    name = db.StringProperty()\n    code = db.IntegerProperty()\n\nclass MyHandler(webapp2.RequestHandler):\n\n    def MyMethod(self, name):\n        if self.request.method == 'POST':\n            model = MyModel.gql(\"WHERE name=:1\", name).get()\n            model.code = SOME_CODE\n            model.put()\n</code></pre>\n\n<p>And my tests code:</p>\n\n<pre><code>from google.appengine.ext import testbed\nimport unittest\nimport webtest\nimport MyModel\nfrom main import api_routes '''my WSGIapplication routes '''\n\nclass MyTestClass(unittest.TestCase):\n\n    def setUp(self):\n        app = webapp2.WSGIApplication(routes=api_routes)\n        self.testapp = webtest.TestApp(app)\n        self.testbed = testbed.Testbed()\n        self.testbed.activate()\n        self.testbed.init_datastore_v3_stub()\n        self.testmodel = MyModel(name='testname')\n        self.testmodel.put()\n\n    def tearDown(self):\n        self.testbed.deactivate()\n\n    def testOne(self):\n        url = SOME_URL # which call MyHandler MyMethod\n        params = {'name':'testname'}\n        response = self.testapp.post(url,params)\n        SOMEASSERTS\n</code></pre>\n\n<p>For solving I added get() reques after any response:</p>\n\n<pre><code>def testOne(self):\n        url = SOME_URL # which call MyHandler MyMethod\n        params = {'name':'testname'}\n        response = self.testapp.post(url,params)\n        model = MyModel.gql(\"WHERE name=:1\",'testname').get()\n        self.assertTrue(model.code == SOME_CODE)          \n</code></pre>\n"},{"tags":["java","google-app-engine","arraylist","jdo"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":12660759,"title":"ArrayList field not fetched by default with JDO","body":"<p>I'm writing my first App Engine project (with Java) and have run into an issue with retrieving a persisted field. I'm using JDO to access the datastore.</p>\n\n<p>The field is an ArrayList. The field persists fine, and I can see the values in the admin console, but when I retrieve the class, unless I make a call to that field before closing the persistenceManager, the field is null.</p>\n\n<p>I have tried the suggestions of others who have had this issue - adding @Persistent(defaultFetchGroup=\"true\") to the field, but it still won't get fetched.</p>\n\n<p>Heres my model class:</p>\n\n<pre><code>@PersistenceCapable(identityType = IdentityType.APPLICATION)\n public class TLDUserAccount  implements Serializable{\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate String id;\n@Persistent(defaultFetchGroup=\"true\")\nprivate ArrayList&lt;Long&gt; favourites= new ArrayList&lt;Long&gt;();\n\npublic TLDUserAccount(String id) {\n    this.id = id;\n}\n\npublic String getId() {\n    return id;\n}\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic ArrayList&lt;Long&gt; getFavourites() {\n    return favourites;\n}\n\npublic void setFavourites(ArrayList&lt;Long&gt; favourites) {\n    this.favourites = favourites;\n}\n}\n</code></pre>\n\n<p>And the methods to fetch the class:</p>\n\n<pre><code>    public static TLDUserAccount getUserAccount(User user) {\n    PersistenceManager mgr = getPersistenceManager();\n    TLDUserAccount ua = null;\n    try {\n        mgr.getFetchPlan().setGroup(FetchGroup.ALL);\n        ua = mgr.getObjectById(TLDUserAccount.class, user.getUserId());\n        //ua.getFavourites();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        mgr.close();\n    }\n    return ua;\n}\n</code></pre>\n\n<p>Is there something I'm missing? \nThanks for your help!</p>\n"},{"tags":["java","google-app-engine","datanucleus"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12653629,"title":"difference of owned one-to-many relationship between GAE/J low level datastore API and DataNucleus JDO","body":"<p>When creating an owned one-to-many relationship, in Java, I noticed that there is a difference in the resulting record between using the low level Datastore API and DataNucleus JDO. Not sure if this is intentional or any way to fix it.</p>\n\n<p>For example,</p>\n\n<p>If there are multiple addresses for an employee in the following link:</p>\n\n<p><a href=\"https://developers.google.com/appengine/docs/java/datastore/entities#Ancestor_Paths\" rel=\"nofollow\">https://developers.google.com/appengine/docs/java/datastore/entities#Ancestor_Paths</a></p>\n\n<p>Using the low level datastore api as following, the employee record doesn't show an address column(i.e. property):</p>\n\n<pre><code>Entity employee = new Entity(\"Employee\");\ndatastore.put(employee);\n\nEntity address_home = new Entity(\"Address\", employee.getKey());\ndatastore.put(address_home);\n\nEntity address_mailing = new Entity(\"Address\", employee.getKey());\ndatastore.put(address_mailing);\n</code></pre>\n\n<p>Using JDO, the employee record shows an address column(i.e. property):</p>\n\n<pre><code>@PersistenceCapable\npublic class Employee {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n\n    @Persistent(mappedBy = \"employee\")\n    private List&lt;Address&gt; addresses;\n\n    List&lt;Address&gt; getAddresses() {\n        return addresses;\n    }\n    void setAddresses(List&lt;Address&gt; addresses) {\n        this.addresses = addresses;\n    }\n\n    // ...\n}\n\n@PersistenceCapable\npublic class Address {\n    @PrimaryKey\n    @Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\n    private Key key;\n\n    @Persistent\n    private Employee employee;\n\n    @Persistent\n    private String Street;\n\n    ...\n }\n</code></pre>\n\n<p>The extra property is harmless. However why is this necessory for JDO?</p>\n\n<p>I'm using GAE/J 1.7.2 with DataNucleus v2 on dev server.</p>\n"},{"tags":["java","google-app-engine","gwt","intellij-idea"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12659691,"title":"IntelliJ: How to debug GAE and GWT at the same time?","body":"<p>I am developing a small project using GAE and GWT in IntelliJ. One question I have is that I cannot debug both part at the same time. </p>\n\n<p>I created a debug config for GWT and another one for GAE. If I debug with the GWT config, I cannot do anything with GAE and vice versa.</p>\n\n<p>How an I config IntelliJ so that I can debug both technologies at the same time?</p>\n\n<p>Many thanks</p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12655155,"title":"Jinja2 for loop with conditions","body":"<p>I have a data structure similar to</p>\n\n<pre><code>data = {{'value': 1, 'state': False},\n        {'value': 2, 'state': True}}\n</code></pre>\n\n<p>Where the state and value will change based on outside conditions.</p>\n\n<p>I want to use a Jinja2 for ... else loop with conditions, like</p>\n\n<pre><code>{% for item in data where item.state == True %}\n   {{ item.value }}\n{% else %}\n   no true items\n{% endfor %}\n</code></pre>\n\n<p>I use the data structure in multiple places, and sometimes it all needs to be displayed. I'd like to only keep one copy of the structure, and have the Jinja2 template take care of either displaying the items with state == True or a message that there aren't any items, rather than having to pre-process it in Python before giving it to the template, or splitting the structure into multiple pieces.</p>\n\n<p>This is running on Google App Engine with Python 2.7 and Jinja2 2.6, and the data structure is backed by memcache.</p>\n"},{"tags":["google-app-engine","jdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12633889,"title":"App Engine JDO Lazy Loading Objects by Stored Key","body":"<p>So I am not having any luck with loading the venue and artist object when I load my even object.  Basically when I create an event, I load the specific artist and specific venue and save the key in the event's artistKey and venueKey fields. However, when I load even it is always null.  I have tried annotations \"@Persistent(defaultFetchGroup = \"true\")\" and also \"@Persistent(mappedBy = \"venue\") @Element(dependent = \"true\")\" on my venue and artist with no luck as artist/venue still come up as null when I load an event (the keys are there).  When I try the defaultFetchGroup it says I cannot load a parent if it has already been persisted, which make sense I guess.</p>\n\n<pre><code>    public class Event {\n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key id; \n\n@Persistent\nprivate Key artistKey;\n\n@Persistent\nprivate Key venueKey;\n\nprivate Artist artist;\n\nprivate Venue venue;\n\n//other fields\n\n//getters and setters\n\n}\n\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)\npublic class Venue { \n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key id;\n\n//other fields\n\n//getters and setters\n\n}\n\n@PersistenceCapable(identityType = IdentityType.APPLICATION)\npublic class Artist { \n\n@PrimaryKey\n@Persistent(valueStrategy = IdGeneratorStrategy.IDENTITY)\nprivate Key id;\n\n//other fields\n\n//getters and setters\n}\n</code></pre>\n"},{"tags":["query","google-app-engine","jdo","ancestor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":209,"score":0,"question_id":7124772,"title":"Using JDO with HRD on Google App Engine","body":"<p>To get consistent queries with HRD, we are told to use ancestor queries.</p>\n\n<p>i am using JDO, however i cannot find an example of an ancestor query using JDO Query.</p>\n\n<p>can someone tell me if its possible, and if so can you point me to an example?</p>\n\n<p>thank you.</p>\n"},{"tags":["google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12654358,"title":"Schedule a GET request with GAE","body":"<p>I've been researching ways to schedule a GET request with a GAE application. Specifically, I want my application to respond 1 hour after it's been requested by fetching a different URL that points to another app's API.</p>\n\n<p>Are Deferred Tasks the way to handle this? </p>\n\n<p>I also found that Tasks have an \"eta\" argument that specifies earliest time of execution. Could this be preferred over \"_countdown\"?</p>\n\n<p>Or investigate Cron jobs? These GET requests won't be happening regularly, so I don't know if Cron jobs are appropriate.</p>\n\n<p>Thanks! Please help me clarify if necessary.</p>\n"},{"tags":["python","django","google-app-engine","logging"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12653725,"title":"App Engine logging.debug Not Being Logged on Server","body":"<p>For some reason, I do not see debug log messages on the <strong>production server</strong> when I use the <code>logging.debug</code> function. The <code>logging.info</code>, <code>logging.warning</code> and <code>logging.error</code> functions work just fine. I am using django on app engine and have the following settings in my <code>settings.py</code> file:</p>\n\n<pre><code>def config_logging(in_dict):\n    import logging\n    logging.basicConfig(\n        level = logging.DEBUG,\n        format = '%(asctime)s %(levelname)s %(message)s',\n    )\n\nLOGGING_CONFIG = \"settings.config_logging\"\n</code></pre>\n\n<p>Also note that when I use the <code>--debug</code> flag on the development server, the proper logs are displayed.</p>\n\n<p>I can't figure out why debug logs are not being recorded. Any suggestions?</p>\n"},{"tags":["python","google-app-engine","oauth","dropbox-api"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12557441,"title":"Getting a dropbox oauth authentication on google app engine","body":"<p>I am trying to upload files to dropbox in app I am making that is hosted on google app engine. Since I am using google app engine, I need to use the REST api from dropbox. For making the requests I am using <a href=\"http://code.google.com/p/python-rest-client/\" rel=\"nofollow\">this library</a>. Now I have already started hitting problems at square one. I have no idea what parameters, and I can not find for the life of me anywhere in the documentation (even though the api docs say that there are no needed parameters) anything about how to make the oauth request.</p>\n\n<pre><code>conn = Connection('http://api.dropbox.com/1/oauth/request_token', username='myusername', password='mypassword')\nconn.request_post('')\n</code></pre>\n\n<p>this is the code that I managed to get a 401 Error with (even though I know that it does not look right). </p>\n\n<p>Anyways, please help! for the record I am going to make a put request later (if that at all helps)</p>\n"},{"tags":["excel","google-app-engine","google","excel-formula","google-spreadsheet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":221,"score":0,"question_id":11054869,"title":"google spreadsheets multiple criteria in a filter/summation combined, entered into two columns for sorting","body":"<p>Bump :/ </p>\n\n<p>I have a spreadsheet that tallies sales over time, including sales person, office they work out of, and the price of whatever it is that they sold. I am attempting to create a two-column filtered list by multiple criteria. The data looks like this:</p>\n\n<p><strong>Date         Name             Office           Price</strong><br>\n5/5/12       Joe              OW               220000<br>\n6/1/12       Jim              SOL              100000</p>\n\n<p>What I want to be able to do is create a two column entry that sums the price column, but uses multiple critera from the first three to do so. For instance, \"everyone named jim who sold something in may\", and then I'd like to sort that by the top three.</p>\n\n<p>Using items like:</p>\n\n<pre><code>=FILTER( C1:C ; D1:D=\"OW\"; month(B1:B)=month(\"5/12/12\"))\n</code></pre>\n\n<p>and\n    =ARRAYFORMULA(frequency(MATCH(E1:E&amp;counta(E1:E),UNIQUE(E1:E&amp;counta(E1:E)),0), MATCH(UNIQUE(E1:E&amp;counta(E1:E)),UNIQUE(E1:E&amp;counta(E1:E)),0)))</p>\n\n<p>I can filter and tally, but I am unable to replace the frequency mentioned above with a summation of the price column. Thanks for your help.</p>\n"},{"tags":["google-app-engine","endpoints"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12655608,"title":"Google java appengine enpoints","body":"<p>I completed that form for becoming tester of Google appengine endpoints but nothing happened from that time . Do you know something to tell me about this?\nMany thanks,\nAurel</p>\n"},{"tags":["python","django","google-app-engine","django-templates"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12625571,"title":"GAE \"for each\" in template?","body":"<p>I'm using <code>for each</code> in template of GAE (which uses Django's template language)</p>\n\n<pre><code>{% for blog_info in blog_archive %}                         \n  {{ blog_info.time|date:\"M Y\" }}\n{% endfor %}\n</code></pre>\n\n<p>but I just want to loop only one time, I try to do like this:</p>\n\n<pre><code>{% for blog_info in blog_archive %}     \n  {{ blog_info.time|date:\"M Y\" }}\n  {% break %}\n{% endfor %}\n</code></pre>\n\n<p>but it doesn't work.</p>\n"},{"tags":["google-app-engine","dns","google-apps","cname"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":10958876,"title":"Redirecting domain (not google apps) to appengine without Host records","body":"<p>I would like to redirect a domain to app engine, but my Domain provider only allows me to set information for Primary DNS and Secondary DNS. It means that there is no possibilities to set host records (cname, A, etc)</p>\n\n<p>I think I do have to use a DNS Provider, but I'd like to know your opinion on what's the best way and where to do it.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["python","google-app-engine","full-text-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12650779,"title":"Search API retrun QueryError when Query which contains ','(Comma) or = or ()","body":"<p>Using app engine's search API, i tried to search the queries which contain ',', =, (, ) etc.\nIt returns the following error:</p>\n\n<pre><code>Failed to parse query \"engines (Modular)\"\nTraceback (most recent call last):\n  File \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1505, in __call__\n  rv = self.router.dispatch(request, response)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1253, in default_dispatcher\n  return route.handler_adapter(request, response)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 1077, in __call__\n  return handler.dispatch()\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 547, in dispatch\n  return self.handle_exception(e, self.app.debug)\nFile \"/base/python27_runtime/python27_lib/versions/third_party/webapp2-2.3/webapp2.py\", line 545, in dispatch\n  return method(*args, **kwargs)\nFile \"/base/data/home/apps/s~generatestock/12.362076640167792770/search.py\", line 1641, in get\n  result = find_search_document(search_item)\nFile \"/base/data/home/apps/s~generatestock/12.362076640167792770/search.py\", line 177, in find_search_document\n  return search.Index(name=_INDEX_NAME).search(query)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/search/search.py\", line 2715, in search\n  query = Query(query_string=query)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/search/search.py\", line 2286, in __init__\n_CheckQuery(self._query_string)\nFile \"/base/python27_runtime/python27_lib/versions/1/google/appengine/api/search/search.py\", line 1964, in _CheckQuery\n  raise QueryError('Failed to parse query \"%s\"' % query)\n\nQueryError: Failed to parse query \"Engines (Modular)\"\n</code></pre>\n\n<p>Why? Is the search api support there characters ? </p>\n"},{"tags":["python","internet-explorer","google-app-engine","localhost"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":391,"score":3,"question_id":7310672,"title":"Why does requesting an HTML page crash my local Google App Engine server?","body":"<p>Why does requesting an HTML page crash my local Google App Engine server?</p>\n\n<p>This only happens if it's the second or third time I do a request on Internet&nbsp;Explorer&nbsp;9, and it is not a problem with other browsers.</p>\n\n<p>This is very annoying as I have to restart my server all the time.</p>\n\n<p>The error:</p>\n\n<pre><code>    Traceback (most recent call last):\n      File \"C:\\Program Files\\Python25\\lib\\SocketServer.py\", line 222, in handle_request\n    ----------------------------------------\n    Exception happened during processing of request from ('127.0.0.1', 54978)\n        self.process_request(request, client_address)\n      File \"C:\\Program Files\\Python25\\lib\\SocketServer.py\", line 241, in process_request\n        self.finish_request(request, client_address)\n      File \"C:\\Program Files\\Python25\\lib\\SocketServer.py\", line 254, in finish_request\n        self.RequestHandlerClass(request, client_address, self)\n      File \"C:\\google_appengine\\google\\appengine\\tools\\dev_appserver.py\", line 3932, in __init__\n        BaseHTTPServer.BaseHTTPRequestHandler.__init__(self, *args, **kwargs)\n      File \"C:\\Program Files\\Python25\\lib\\SocketServer.py\", line 521, in __init__\n        self.handle()\n      File \"C:\\Program Files\\Python25\\lib\\BaseHTTPServer.py\", line 316, in handle\n        self.handle_one_request()\n      File \"C:\\Program Files\\Python25\\lib\\BaseHTTPServer.py\", line 310, in handle_one_request\n        method()\n      File \"C:\\google_appengine\\google\\appengine\\tools\\dev_appserver.py\", line 3942, in do_GET\n        self._HandleRequest()\n      File \"C:\\google_appengine\\google\\appengine\\tools\\dev_appserver.py\", line 4199, in _HandleRequest\n        raise e\n    error: (10053, 'Software caused connection abort')\n    ----------------------------------------\n</code></pre>\n"},{"tags":["google-app-engine","client","message","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12652132,"title":"Google Channel API sends a message to all clients","body":"<p>I created a working Google Channel AP and now I would like to send a message to all clients.</p>\n\n<p>I have two servlets. The first creates the channel and tells the clients the <code>userid</code> and <code>token</code>. The second one is called by an <code>http post</code> and should send the message.</p>\n\n<p>To send a message to a client, I use:</p>\n\n<pre><code>channelService.sendMessage(new ChannelMessage(channelUserId, \"This is a server message!\"));\n</code></pre>\n\n<p>This sends the message just to one client. How could I send this to all?</p>\n\n<p>Have I to store every Id which I use to create a channel and send the message for every id? How could I pass the Ids to the second servlet?</p>\n"},{"tags":["eclipse","google-app-engine","gwt","plugins"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1639,"score":2,"question_id":8096274,"title":"Eclipse (GWT) doesn't run google webapplication project","body":"<p>I've installed Eclipse(Indigo) and Java jdk1.7.0_01. I also installed the google appengine plugin with GWT SDK 2.4.0 and App Engine SDK 1.5.5 </p>\n\n<p>included.\nThe Java jdk1.7.0_01 is checked in the Eclipse preferences, installed JRE's.\nWhen I create a new google webapplication as a project in Eclipse with an example code, everything appears to be running normally and the google </p>\n\n<p>webapplication is being created as a project in Eclipse.\nBut when I try to run the project, the console comes up with the following anouncement:</p>\n\n<p><strong>Loading modules</strong></p>\n\n<p><strong>com.demo.Demo</strong></p>\n\n<p><strong>[ERROR] Unable to find 'com/demo/Demo.gwt.xml' on your classpath; could be a typo, or maybe you forgot to include a classpath entry for source?</strong></p>\n\n<p><strong>[ERROR] shell failed in doStartup method</strong></p>\n\n<p>When I try to ignore this error by unchecking this error in google settings. When I run the program and when I execute the demo, I get this error message:</p>\n\n<pre><code>nov 14, 2011 10:25:53 AM com.google.apphosting.utils.jetty.JettyLogger info\nINFO: Logging to JettyLogger(null) via com.google.apphosting.utils.jetty.JettyLogger\nnov 14, 2011 10:25:53 AM com.google.apphosting.utils.config.AppEngineWebXmlReader readAppEngineWebXml\nINFO: Successfully processed C:\\Users\\Oswin\\workspace2\\demo\\war\\WEB-INF/appengine-web.xml\nnov 14, 2011 10:25:53 AM com.google.apphosting.utils.config.AbstractConfigXmlReader readConfigXml\nINFO: Successfully processed C:\\Users\\Oswin\\workspace2\\demo\\war\\WEB-INF/web.xml\nnov 14, 2011 11:25:55 AM com.google.appengine.tools.development.DevAppServerImpl start\nINFO: The server is running at http://localhost:8888/\nnov 14, 2011 10:26:11 AM com.google.apphosting.utils.jetty.JettyLogger warn\nWARNING: Error for /demo/greet\njava.lang.VerifyError: Expecting a stackmap frame at branch target 17 in method com.googleapp.demo.server.GreetingServiceImpl.greetServer(Ljava/lang/String;)Ljava/lang/String; at offset 4\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2404)\n    at java.lang.Class.getConstructor0(Class.java:2714)\n    at java.lang.Class.newInstance0(Class.java:343)\n    at java.lang.Class.newInstance(Class.java:325)\n    at org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)\n    at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)\n    at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\n    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:58)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)\n    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\n    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\n    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\n    at com.google.apphosting.utils.jetty.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:70)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:351)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>How can I solve this problem?</p>\n"},{"tags":["python","google-app-engine"],"answer_count":3,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":2027,"score":8,"question_id":2710861,"title":"How to import modules in Google App Engine?","body":"<p>I have created a simple GAE app based on the default template. I want to add an external module like <a href=\"http://code.activestate.com/recipes/576918/\">short_url</a>. How do I do this? The directions that I have found so far are confusing and GAE doesn't seem to use PYTHONPATH for obvious reasons I guess.</p>\n"},{"tags":["java","eclipse","debugging","google-app-engine"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":237,"score":1,"question_id":9504153,"title":"How do I debug Google App Engine servlets?","body":"<p>I'm new to App Engine, and I'm trying out some sample web applications in Java. I haven't been able to figure out how to debug the java web application project in eclipse.</p>\n\n<p>When I start the debug configuration, jetty server thats part of the SDK starts up and I'm able to access my page from the browser. But none of my breakpoints in the servlets get hit. Am I missing some configuration for debugging? </p>\n"},{"tags":["image","google-app-engine","go"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12647194,"title":"Go + Appengine Blobstore, resize image uploads","body":"<p>I'm trying to get my head around Go + Appengine. I have been using Blobstore to store users image uploads. Is there anyway I can download the image from the BlobStore and manipulate it?</p>\n\n<p>Or is there another solution?</p>\n\n<p>The <a href=\"https://developers.google.com/appengine/docs/go/images/overview\" rel=\"nofollow\">image lib</a> is a bit limited. I would also like to convert others formats to jpeg.</p>\n"},{"tags":["python","google-app-engine","google-docs-api","blobstore","google-cloud-storage"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12640409,"title":"Storing text files > 1MB in GAE/P","body":"<p>I have a Google App Engine app where I need to store text files that are larger than 1 MB (the maximum entity size.  </p>\n\n<p>I'm currently storing them in the Blobstore and I make use of the Files API for reading and writing them.  Current operations including uploading them from a user, reading them to process and update, and presenting them to a user.  Eventually, I would like to allow a user to edit them (likely as a Google doc).</p>\n\n<p>Are there advantages to storing such text files in Google Cloud Storage, as a Google Doc, or in some other location instead of using the Blobstore?</p>\n"},{"tags":["javascript","google-app-engine","polling","channel-api"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12645894,"title":"Google App Engine Channel API Javascript Client: Set Poll Timer Manually","body":"<p>I am writing a web client that supports messages sent from a Google App Engine Java server, by using Google's official GAE Channel API Javascript client. I would like to know if it is possible for me to manually set the timer for the frequency of polls by my client to the server for new messages from a channel.</p>\n\n<p>I wish to use a slower timer between client polls because I'm trying to debug the messages being returned to the client by using a browser inspection tool, such as Firefox's Firebug, and having lots of GET HTTP requests being sent out by the client's polls makes this difficult.</p>\n"},{"tags":["java","facebook","google-app-engine","facebook-apps"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":324,"score":-1,"question_id":7790087,"title":"Converting to a Java Facebook application, from a Google App Engine application written in Java","body":"<p>I have created a web application hosted on <a href=\"http://en.wikipedia.org/wiki/Google_App_Engine\" rel=\"nofollow\">Google App Engine</a> (Java). Now my client wants a Facebook application of it. All I need to ask is: Is it possible?</p>\n\n<p>The problem is that all I see is the Python version of Google App Engine for Facebook development, so is it possible to **build a Facebook application (Java) with my application hosted on Google App Engine (Java platform).</p>\n"},{"tags":["google-app-engine","nltk","pos-tagger"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":203,"score":0,"question_id":10974282,"title":"POS tagging on GAE","body":"<p>I am trying to do Part of String tagging to pull out the nouns of a sentence in Python on Google App Engine. So far I have tried to use the nltk library. But I am unable to get nltk working in GAE. The error message complains about a missing numpy module.</p>\n\n<p>This person has had the same problem:\n<a href=\"https://groups.google.com/forum/?fromgroups#!topic/nltk-users/2nWZtLgFyvI\" rel=\"nofollow\">https://groups.google.com/forum/?fromgroups#!topic/nltk-users/2nWZtLgFyvI</a></p>\n\n<p>I cannot find clear instructions on how to get nltk running on GAE or an alternative POS tagger that runs on GAE</p>\n\n<p>EDIT:</p>\n\n<p>My steps trying to get nltk working (I'm on osx 10.7):</p>\n\n<ol>\n<li>install nltk via terminal \"easy_install nltk\"</li>\n<li>copy nltk to root of appengine project /Library/Python/2.7/site-packages/nltk-2.0.1-py2.7.egg/nltk/</li>\n<li><p>add the following settings to app.yaml:</p>\n\n<p>runtime: python27\nthreadsafe: false</p>\n\n<p>libraries:\n name: numpy\n  version: \"latest\"</p></li>\n<li><p>write test.py with \"import nltk\" in it</p></li>\n<li>deploy, run and get the following error (the numpy error is solved, but I get a new one):</li>\n</ol>\n\n<p>Traceback (most recent call last):\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/dynamic/test.py\", line 4, in \n    import nltk\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/<strong>init</strong>.py\", line 116, in \n    import ccg\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/ccg/<strong>init</strong>.py\", line 14, in \n    from nltk.ccg.combinator import (UndirectedBinaryCombinator, DirectedBinaryCombinator,\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/ccg/combinator.py\", line 8, in \n    from nltk.parse import ParserI\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/parse/<strong>init</strong>.py\", line 68, in \n    from nltk.parse.util import load_parser, TestGrammar, extract_test_sentences\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/parse/util.py\", line 15, in \n    from nltk.data import load\n  File \"/base/data/home/apps/s~domain/1.359540170137090086/nltk/data.py\", line 75, in \n    if os.path.expanduser('~/') != '~/': path += [\n  File \"/base/python27_runtime/python27_dist/lib/python2.7/posixpath.py\", line 259, in expanduser\n    import pwd\nImportError: No module named pwd</p>\n\n<p>The following is from nltk/data.py (around line 75):</p>\n\n<pre><code>######################################################################\n# Search Path\n######################################################################\n\npath = []\n\"\"\"A list of directories where the NLTK data package might reside.\nThese directories will be checked in order when looking for a\nresource in the data package.  Note that this allows users to\nsubstitute in their own versions of resources, if they have them\n(e.g., in their home directory under ~/nltk_data).\"\"\"\n\n# User-specified locations:\npath += [d for d in os.environ.get('NLTK_DATA', '').split(os.pathsep) if d]\nif os.path.expanduser('~/') != '~/': path += [\nos.path.expanduser('~/nltk_data')]\n\n# Common locations on Windows:\nif sys.platform.startswith('win'): path += [\nr'C:\\nltk_data', r'D:\\nltk_data', r'E:\\nltk_data',\nos.path.join(sys.prefix, 'nltk_data'),\nos.path.join(sys.prefix, 'lib', 'nltk_data'),\nos.path.join(os.environ.get('APPDATA', 'C:\\\\'), 'nltk_data')]\n\n# Common locations on UNIX &amp; OS X:\nelse: path += [\n'/usr/share/nltk_data',\n'/usr/local/share/nltk_data',\n'/usr/lib/nltk_data',\n'/usr/local/lib/nltk_data']\n</code></pre>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12524461,"title":"Can I change chat id?","body":"<p>I'm using the appengine. I'm going to use an app named Square for this example.</p>\n\n<p>We have the domain www.square.com.</p>\n\n<p>We cannot get square.appspot.com</p>\n\n<p>We do have squares.appspot.com.</p>\n\n<p>For moving the app over the www.square.com. We did this. Great! Very exciting.</p>\n\n<p>But we also built a chat bot. We now need people to friend 'squares'. What we want is for people to friend 'square'.</p>\n\n<p>So two questions please: Is there a way to get Square.appengine.com. From my research... I assume someone took it and it's now gone (remember 'square' just an example here).</p>\n\n<p>Knowing #1... is there a way to change the chat bot 'name'? From Squares.appspot.com --> Square.appspot.com?</p>\n\n<p>Thanks so much in advance!</p>\n"},{"tags":["java","google-app-engine","jsp","file-upload"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12645810,"title":"It's possible to directly add JSP files to a GAE app and run it?","body":"<p>This must sound a little out of mind, but what I want is to know if there is a possibility to upload \"static files\" to a project based on Google App Engine directly from itself? </p>\n\n<p>I mean, I have a little app, but I want that the user could \"directly\" load different \"layouts\" (jsp files, image files, css files) to custom it without changing the logical... </p>\n\n<p>.... more or less...</p>\n\n<p>I've been reading a lot of DataStore and BlobsStore, but it's not exactly what I need, because  I dont know how to get the jsp file and \"run it\" as part of my app...</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["google-app-engine","search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12645099,"title":"Search API Number Found Accuracy","body":"<p>When using the Search API we have the option of paging results by setting a limit and offset for the results. We also have the option to return the total number of search results by using the 'number_found' property. In the docs it clearly states that this number is an approximation and not an exact count. </p>\n\n<p>My issue is, in our production application this approximation is wildly inaccurate (e.g. it reports 1200 matches when only 200 records exist). For now we could simply set the 'number_found_accuracy' to the 'MAXIMUM_NUMBER_FOUND_ACCURACY' constant in our query options, however this will only suffice for a month or two until the number of indexed documents exceeds that constant.</p>\n\n<p>For our purposes the 'number_found' count doesn't have to be exact but we would prefer it be close. All that being said, what are my options for ensuring that as the number of documents stored and indexed grow that the document counts remain relatively accurate?</p>\n"},{"tags":["google-app-engine","velocity","picasa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12645289,"title":"Inconsistent loading of pictures in vosao","body":"<p>I am using the CMS for app engine Vosao.  I have linked my picasa account, and I'm trying to show pictures using the following code </p>\n\n<pre><code>#set($photos=${service.picasa.findPhotos(\"albumName\",20)}) #foreach($photo in $photos)\n    &lt;div class=\"slidePage\"&gt;\n       &lt;a href=\"$photo.getURL()?imgmax=800\"&gt;&lt;div class=\"imgHolder\"&gt;&lt;img class=\"slideImg\" src=\"$photo.getURL()\" /&gt;&lt;div class=\"frshadow_side_bottom_left\"&gt;&lt;/div&gt;&lt;div class=\"frshadow_side_bottom_right\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;\n    &lt;/div&gt;\n#end \n</code></pre>\n\n<p>I am getting weird results.  On some loads of the page, no images show, on others I get about 80-90% of the pictures.  Each reload of the page is a different number, hardly ever showing the entire album.  What is going on? Is the picasa plugin broken?</p>\n"},{"tags":["java","performance","google-app-engine","datastore"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":312,"score":2,"question_id":6693329,"title":"Google App Engine Performance - Checking Existence of an Object","body":"<p>I am coding a system using Google App Engine and I need to put an object in the datastore only if it doesn't exist yet. I would be fine using the <code>datastore.put()</code> method, except I need to know whether that object already existed to count the number of new objects I have.</p>\n\n<p>As far as I know I have the following options (suppose I have the key both as an attribute and as the entity key):</p>\n\n<pre><code>private Entity getEntity(String key)\n{\n    DatastoreService datastore =\n        DatastoreServiceFactory.getDatastoreService();\n\n    // Build a query to select this entity from the database:\n    Query q = new Query(\"MyEntity\");\n    q.setKeysOnly();\n    // Add a filter for the key attribute:\n    q.addFilter(\"key\", Query.FilterOperator.EQUAL, key);\n    PreparedQuery pq = datastore.prepare(q);\n    // Select a single entity from the database\n    // (there should be no more than one matching row anyway):\n    List&lt;Entity&gt; list = pq.asList(FetchOptions.Builder.withLimit(1));\n\n    if (!list.isEmpty())\n        // Return the found entity:\n        return list.get(0);\n    else\n        return null;\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>private Entity getEntity(String key)\n{\nDatastoreService datastore =\n    DatastoreServiceFactory.getDatastoreService();\n\n    // Get a key that matches this entity:\n    Key key = KeyFactory.createKey(\"MyEntity\", key);\n\n    try {\n        return datastore.get(key);\n    } catch (EntityNotFoundException e) {\n        // Entity does not exist in DB:\n        return null;\n    }\n}\n</code></pre>\n\n<p>I'm inclined to use the second one as it seems more straight forward, but I'm worried it might not meant to be used that way since it raises an exception, and it may incur overhead.</p>\n\n<p>Which of the methods are better for checking whether an entity exists in the database?</p>\n\n<p>Is there a better way to do that?</p>\n"},{"tags":["google-app-engine","gql"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12579546,"title":"Use GAE's GQL IN filter with more than 30 items?","body":"<p>The <code>IN</code> filter is limited to 30 items. Is it possible to override that limitation? Or is there a viable/recommended workaround?</p>\n"},{"tags":["google-app-engine","datastore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12621783,"title":"would reference counting in the appengine datastore be a good idea?","body":"<p>hen I was thinking about implementing a system, enabling users to send messages to eachother, I thought about the ammount of data you could save if, instead of saving a copy of the message for each of the receivers, I would save one message with a list of receivers.</p>\n\n<p>There would actually be 3 lists, one list of receivers, one list of booleans, where if b[i], then receiver[i] has read the message, and a third list containinging all the users that have not deleted the message. Every day, I would run a cron job, looking for messages with an empty list of such users, and remove them.</p>\n\n<p>Could there be any problems with this model?</p>\n"},{"tags":["java","google-app-engine","maven","maven-gae-plugin","illegalaccessexception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12642798,"title":"mvn:gae run IllegalAccessException","body":"<p>I have a Java Google App Engine project that I am trying to build using Maven's <code>mvn gae:run</code> command. Even though the app builds fine and I am able to run my app normally upon completion of the command, the following stack trace is printing:</p>\n\n<pre><code>java.lang.IllegalAccessException: Private fields can not be set on JRE classes.\nat com.google.appengine.tools.development.agent.runtime.Runtime.verifyWritable(Runtime.java:95)\nat com.google.appengine.tools.development.agent.runtime.Runtime.verifyAndRun(Runtime.java:369)\nat com.google.appengine.tools.development.agent.runtime.Runtime.set(Runtime.java:254)\nat com.google.common.base.internal.Finalizer.&lt;init&gt;(Finalizer.java:108)\nat com.google.common.base.internal.Finalizer.startFinalizer(Finalizer.java:82)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:616)\nat com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:115)\nat com.google.common.base.FinalizableReferenceQueue.&lt;init&gt;(FinalizableReferenceQueue.java:108)\nat com.google.common.collect.CustomConcurrentHashMap$QueueHolder.&lt;clinit&gt;(CustomConcurrentHashMap.java:651)\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:186)\nat com.google.appengine.tools.development.agent.runtime.RuntimeHelper.checkRestricted(RuntimeHelper.java:70)\nat com.google.appengine.tools.development.agent.runtime.Runtime.checkRestricted(Runtime.java:64)\nat com.google.common.collect.CustomConcurrentHashMap$WeakEntry.&lt;init&gt;(CustomConcurrentHashMap.java:1343)\nat com.google.common.collect.CustomConcurrentHashMap$EntryFactory$9.newEntry(CustomConcurrentHashMap.java:454)\nat com.google.common.collect.CustomConcurrentHashMap.newEntry(CustomConcurrentHashMap.java:1716)\nat com.google.common.collect.CustomConcurrentHashMap$Segment.put(CustomConcurrentHashMap.java:2429)\nat com.google.common.collect.CustomConcurrentHashMap.put(CustomConcurrentHashMap.java:3346)\nat com.google.sitebricks.routing.DefaultPageBook.at(DefaultPageBook.java:164)\nat com.google.sitebricks.routing.DefaultPageBook.serviceAt(DefaultPageBook.java:98)\nat com.google.sitebricks.DebugModePageBook.serviceAt(DebugModePageBook.java:89)\nat com.google.sitebricks.ScanAndCompileBootstrapper.scanPagesToCompile(ScanAndCompileBootstrapper.java:184)\nat com.google.sitebricks.ScanAndCompileBootstrapper.start(ScanAndCompileBootstrapper.java:96)\nat com.google.sitebricks.SitebricksFilter.init(SitebricksFilter.java:48)\nat com.google.inject.servlet.FilterDefinition.init(FilterDefinition.java:114)\nat com.google.inject.servlet.ManagedFilterPipeline.initPipeline(ManagedFilterPipeline.java:98)\nat com.google.inject.servlet.GuiceFilter.init(GuiceFilter.java:172)\nat org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:97)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)\nat org.mortbay.jetty.servlet.Context.startContext(Context.java:140)\nat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)\nat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)\nat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\nat org.mortbay.jetty.Server.doStart(Server.java:224)\nat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\nat com.google.appengine.tools.development.JettyContainerService.startContainer(JettyContainerService.java:202)\nat com.google.appengine.tools.development.AbstractContainerService.startup(AbstractContainerService.java:248)\nat com.google.appengine.tools.development.DevAppServerImpl.start(DevAppServerImpl.java:157)\nat com.google.appengine.tools.development.DevAppServerMain$StartAction.apply(DevAppServerMain.java:333)\nat com.google.appengine.tools.util.Parser$ParseResult.applyArgs(Parser.java:48)\nat com.google.appengine.tools.development.DevAppServerMain.&lt;init&gt;(DevAppServerMain.java:269)\nat com.google.appengine.tools.development.DevAppServerMain.main(DevAppServerMain.java:245)\n</code></pre>\n\n<p>Any ideas why? At first thought, because the stack trace referred to reflection, I thought that maybe I had a class with a private field that was missing a public setter. However, that is not the case: all attributes in my classes have public setters.</p>\n\n<p><strong>Versions:</strong> I am using Java 6, Maven 3.0.4, GAE SDK 1.7.2, maven-gae-plugin 0.9.4, and this command is run on Ubuntu 12.04 (although I highly doubt this problem has anything to do with my OS).</p>\n"},{"tags":["java","google-app-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12643040,"title":"GAE Java SDK: appengine-web.xml \"<static-file><include...\" priority","body":"<p>I'm using the Google App Engine Java SDK 1.7.2 to serve some static files. When combining multiple <code>&lt;include...</code> elements under <code>&lt;static-files&gt;</code> in appengine-web.xml, I am unsure which rules will take precedence.</p>\n\n<p>For example, I have the following:</p>\n\n<pre><code>&lt;static-files&gt;\n  &lt;include path=\"/**.swf\" expiration=\"365d\"&gt;&lt;/include&gt;\n  &lt;include path=\"/**.jpg\" expiration=\"365d\"&gt;&lt;/include&gt;\n  &lt;include path=\"/**\"&gt;&lt;/include&gt;    \n  &lt;exclude path=\"/**.php\"&gt;&lt;/exclude&gt;\n&lt;/static-files&gt;\n</code></pre>\n\n<p>I believe this specifies that everything should be included in static storage, except .php files, and that .swf and .jpg files should have \"cache-control\" and \"expires\" http headers set 365 days in the future.</p>\n\n<p>However, when using the Live HTTP Headers tool for Firefox, I could not see the expected headers for static files with the long expiration:</p>\n\n<pre><code>http://localhost:8888/swf/Logo.20120927.swf\n\nGET /swf/Logo.20120927.swf HTTP/1.1\nHost: localhost:8888\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:15.0) Gecko/20100101 Firefox/15.0.1\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-gb,en-us;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate\nDNT: 1\nConnection: keep-alive\nReferer: http://localhost:8888/\nIf-Modified-Since: Thu, 27 Sep 2012 15:49:03 GMT\nCache-Control: max-age=0\n\nHTTP/1.1 304 Not Modified\nServer: Jetty(6.1.x)\n----------------------------------------------------------\nhttp://localhost:8888/images/logo-and-buttons.20120927.jpg\n\nGET /images/logo-and-buttons.20120927.jpg HTTP/1.1\nHost: localhost:8888\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.7; rv:15.0) Gecko/20100101 Firefox/15.0.1\nAccept: image/png,image/*;q=0.8,*/*;q=0.5\nAccept-Language: en-gb,en-us;q=0.7,en;q=0.3\nAccept-Encoding: gzip, deflate\nDNT: 1\nConnection: keep-alive\nReferer: http://localhost:8888/\nIf-Modified-Since: Thu, 27 Sep 2012 15:49:03 GMT\nCache-Control: max-age=0\n\nHTTP/1.1 304 Not Modified\nServer: Jetty(6.1.x)\n</code></pre>\n\n<p>My question is, if this is not operating as expected, then how do I configure my <code>&lt;static-files&gt;</code> element to achieve the desired effect?</p>\n\n<p>Cheers,</p>\n\n<p>Jeff.</p>\n"},{"tags":["google-app-engine","python-2.7"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12581110,"title":"Dramatic increase startup time","body":"<p>1-2 days ago startup time increase from 1-3 second to 10-30 seconds with same code.</p>\n\n<p>I use python 2.7 multithreading.</p>\n\n<p>Code in this request read one value from memcache and return it to user. If memcache empty it read and render simple html-template from template in local filesystem. Both use equal cpu_ms.</p>\n\n<p>Same code work fine in test application. Startup time in test application about 1-2 second.</p>\n\n<p>I send production issue yesterday in night, but don't receive answer.</p>\n\n<p>I try change instance type from F1 to F4, startup time for F4 8-10 seconds.</p>\n\n<p>AppID of my app: f1f2ru</p>\n\n<p>Log record before problem:\n<img src=\"http://i.stack.imgur.com/r4OVF.png\" alt=\"enter image description here\"></p>\n\n<p>Log record at start problem:\n<img src=\"http://i.stack.imgur.com/d8dRB.png\" alt=\"enter image description here\"></p>\n\n<p>Log record now:\n<img src=\"http://i.stack.imgur.com/mhRJO.png\" alt=\"enter image description here\"></p>\n\n<p>Log record in test app:\n<img src=\"http://i.stack.imgur.com/DKnpx.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","google-app-engine","channel-api"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12641126,"title":"Google Channel API message from JavaScript client to server","body":"<p>After a while I got the first part of the <code>Google Channel API</code> working. Now I have some problems with sending a message from the JavaScript client to the server.\nHere is the servlet for the <code>Google Channel API</code> connection:</p>\n\n<pre><code>public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException {\n    UserService userService = UserServiceFactory.getUserService();\n    User user = userService.getCurrentUser();\n    if (user != null) {\n        ChannelService channelService = ChannelServiceFactory.getChannelService();\n        String token = channelService.createChannel(user.getUserId());\n\n        FileReader reader = new FileReader(\"index.html\");\n        CharBuffer buffer = CharBuffer.allocate(16384);\n        reader.read(buffer);\n        reader.close();\n\n        String index = new String(buffer.array());\n        index = index.replaceAll(\"\\\\{\\\\{ token \\\\}\\\\}\", token);\n\n        resp.setContentType(\"text/html\");\n        resp.getWriter().write(index);\n    } else {\n        resp.sendRedirect(userService.createLoginURL(req.getRequestURI()));\n    }\n</code></pre>\n\n<p>The <code>index.html</code> looks like following:</p>\n\n<pre><code>&lt;script src=\"/_ah/channel/jsapi\"&gt;&lt;/script&gt;\n\n&lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        onOpened = function() {\n            alert(\"opened\");\n        }\n\n        var token = \"{{ token }}\";\n        var channel = new goog.appengine.Channel(token);\n        var handler = {\n            'onopen' : onOpened,\n            'onmessage' : onMessage,\n            'onerror' : function() {\n            },\n            'onclose' : function() {\n            }\n        };\n        var socket = channel.open(handler);\n        socket.onopen = onOpened;\n        socket.onmessage = onMessage;\n\n        function sendMessage() {\n            // Send JSON object to server   \n        }\n    &lt;/script&gt;\n    &lt;h1&gt;Google Test Channel API&lt;/h1&gt;\n    &lt;form&gt;\n        &lt;input type=\"button\" value=\"Send\" onclick=\"sendMessage();\"&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>If I load the application I get the <code>opened</code> alert, I believe the connection is working. Now I would like to send a message to the server, if someone clicks on the button.</p>\n\n<p>I read that I have to use the XMLHttpRequest function with POST or GET. But I won’t pass a new url, I \nwould just pass a value. Is there a way to send a JSON object to the server?</p>\n\n<p>Something like:</p>\n\n<pre><code>{\n    \"message\": \"This is a JavaClient message!\"\n}\n</code></pre>\n"},{"tags":["python","google-app-engine","remoteapi"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":57,"score":4,"question_id":12377134,"title":"How do I get live data from my production App Engine app to my local dev app?","body":"<p>I'd like to know if anyone has pointers about how to configure AppEngine remote_api, to so that I can debug my code locally but use the remote_api to fetch some data from my server.  That way, I can test against real information.</p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine","search","version","robot"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":72,"score":-2,"question_id":12063417,"title":"How to avoid Google indexing specific app version on GAE?","body":"<p><sup>[translated using Google Translate, original below]</sup></p>\n\n<p>I have a website deployed on gae. This resource has purchased a domain, but of course you can go to the site and a standard domain types app_id.appspot.com plus this can also go there and version_id.app_id.appspot.com. More than that if you enter abrakadabra.app_id.appspot.com get on Default version.</p>\n\n<p>So google robot somehow found my version 1 and 2. For SEO is not very helpful :(. Plus all robots began to come to the site more often (increased load) quotas are spent quickly. Maybe someone has already encountered this problem, tell me the solution.</p>\n\n<hr>\n\n<p>У меня есть сайт развернутый на gae. Для этого ресурса есть купленный домен, но естественно на сайт можно выйти и через стандартный домен вида app_id.appspot.com плюс к этому туда же можно выйти и по version_id.app_id.appspot.com. Больше того если ввести абракадабра.app_id.appspot.com попадаешь на дефолтовую версию приложения.</p>\n\n<p>Так вот гуугловый робот каким-то образом нашёл мои версии 1 и 2. Для SEO это не очень полезно :(.Плюс к всему робот начал приходить на сайт чаще(нагрузка увеличилась)-квоты тратятся быстрее. Возможно кто то уже сталкивался с такой проблемой, подскажите решение.</p>\n"},{"tags":["python","google-app-engine","openid","oauth","oauth-provider"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":512,"score":1,"question_id":2934326,"title":"openid along with oauth?","body":"<p>In my application, users sign in/sign out via openid ( same as stackoverflow ). </p>\n\n<p>I would like to open up my application a bit via oauth to third party applications. </p>\n\n<p>How do I create my app  which is openid-consumer to make it oauth-provider?</p>\n\n<p>Is there some standard library etc out there? I am basically working in app engine and python.</p>\n\n<p>edit :</p>\n\n<p>Maybe I did not clearly state my problem. I am using OpenID for authentication. So I do not have user passwords, just their unique federated Identity. My application needs to use third party application. I.e. kind of application that runs inside orkut and facebook. (Do you think opensocial is a a viable option instead of OAuth??)</p>\n"},{"tags":["eclipse","google-app-engine","pydev"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12630282,"title":"Google App Engine Eclipse Launch Local Host Multiple App Conflict?","body":"<p>I have two GAE projects created through pydev in eclipse 4.2 (windows 7) and the first one I had no issues running the localhost:8080 but when I created a second project, I duplicated the Run Configuration for local run adn just changed the project name to the new one. \nHowever- when I run that config the inital HelloWorld project shows up[ in my browser, I tried completely removing the first project, but then it just ocmplains it cant fint app.yaml in the old directory (because the old directory isnt where it was).</p>\n\n<p>So clearly I'm missing some setting in the launch procedure where it sets the root path.\nThe run config is a PyDeb Google App Run, main module points to </p>\n\n<pre><code>C:\\program files (x86)\\google\\google_appengine\\dev_appserver.py\n</code></pre>\n\n<p>And the arguments are</p>\n\n<pre><code>${project_loc}\\src\n</code></pre>\n\n<p>Everything else is on the default settings.</p>\n\n<p>Any help would be greatly appreciated as pushing to Google (which works fine for both) for every little debug iteration is driving me a bit crazy.</p>\n\n<p>Thanks!</p>\n\n<p>*EDIT: Forgot to mention I have already tried to delete all runconfigs and remake.</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":56,"score":-1,"question_id":12634988,"title":"Google App Engine authentication with password","body":"<p>I am really fed up. All I see the Google App Engine tutorial was just making the example on how to authenticate without password. What if I want to authenticate directly from my gmail account, how can I do it???</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12613414,"title":"Get Administrators of Google App Engine Project - Java","body":"<p>Is it possible to get the list of administrators in google app engine project programmatically in Java?</p>\n"},{"tags":["api","google-app-engine","authentication","python-2.7","api-key"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":12625121,"title":"RESTful API authentication/security","body":"<p>im developing a RESTful API for my app on GAE python and right now im trying to figure out the best way to secure this api.\ni have my own member/authentication mechanism on this app.</p>\n\n<p>what is the best way to do this?</p>\n\n<ul>\n<li>having public/private key pairs</li>\n<li>becoming an oauth privider</li>\n<li>http authentication (seems very weak to me)</li>\n<li>other??</li>\n</ul>\n"},{"tags":["java","web-services","google-app-engine","servlets","wsdl"],"answer_count":1,"favorite_count":16,"up_vote_count":19,"down_vote_count":0,"view_count":9304,"score":19,"question_id":2216571,"title":"Creating Java Web Service using Google AppEngine","body":"<p>I'm trying to create a simple web service application where I can retrieve a collection of strings and store them into a data store on the AppEngine server.</p>\n\n<p>I have knowledge in Java and barely any knowledge of Java Servlets and its WAR standards.</p>\n\n<p>I would like to at least have some direction on how to create a web service using the Java technology AppEngine provides. I've searched but the articles are sparse and too lengthy while not providing any simple solutions.</p>\n\n<p>I'd love it if I can create a web service using Java's annotations just like you can do in .NET with attributes.</p>\n\n<p>I'd appreciate links to articles and guidance a full source answer is not required but would be appreciated.</p>\n\n<p>No python based answers please.</p>\n"},{"tags":["python","google-app-engine","gae-datastore"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":567,"score":2,"question_id":1042783,"title":"Does Key.from_path hit the datastore?","body":"<p>I have a list of key names that I want to bulk fetch \n(the key names are stored in a StringListProperty attached to an entity). \nMy general plan was to do: </p>\n\n<pre><code>usernames = userrefInstance.users # A collection of strings on another \nmodel. \nkeys = [Key.from_path('User', key_name) for username in usernames] \nusers = db.get(keys)\n</code></pre>\n\n<p>My questions does Key.from_path hit the datastore? I am trying to be as \nquick as possible and if Key.from_path hits the data store I need to work \nanother way to store a collection of keys - I don't particularly want to \nstore the Key object in a list property as I also provide user \nfriendly queries across the StringListPropererties. </p>\n"},{"tags":["python","google-app-engine","jinja2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12629818,"title":"How to get a page to react to information provided on the homepage?","body":"<p>My homepage consists of a form with drop-down options, specifically city names (i.e., New York, LA, Miami, etc...) When a user picks a city, he/she is redirected to another page, which is supposed to display deal results (call this the deal page).</p>\n\n<p>Basically, I am wondering how to get the deal page to display information based on the city picked on the homepage? I am using queries to retrieve results, but I want the queries to change based on the city picked so that the information of the deal page is relevant.</p>\n\n<p>If the answer is too detailed, can someone point me to the specific topic that this relates to and maybe a website that provides answers?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","google-app-engine","objectify"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12632231,"title":"Obtaining Query<T>","body":"<p>Before I use Objectfy3 to get a Query object like this: </p>\n\n<pre><code>@Override\npublic Query&lt;Question&gt; query() {\n    return ofy().query(clazz);\n}\n</code></pre>\n\n<p>However with version 4, </p>\n\n<pre><code>@Override\npublic Query&lt;Question&gt; query() {\n    return ofy().load().type(clazz);\n}\n</code></pre>\n\n<p>Is this the correct way to obtain <code>Query&lt;T&gt;</code>?</p>\n"},{"tags":["java","google-app-engine","datanucleus"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12615817,"title":"JDO3.0 enhance failure in GAE 1.7.2","body":"<p>I use ant to build my GAE WebApp. This is the datanucleus target:</p>\n\n<pre><code>&lt;target name=\"datanucleusenhance\" depends=\"compile\"\n    description=\"Performs enhancement on compiled data classes.\"&gt;\n    &lt;enhance_war war=\"war\"&gt;\n    &lt;/enhance_war&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>This is the error I got:</p>\n\n<p>org.datanucleus.exceptions.NucleusException: Plugin (Bundle) \"org.datanucleus\" is already registered. Ensure you dont have multiple JAR versions of the same plugin in the classpath. The URL\n\"file:/home/xxxx/.eclipse/org.eclipse.platform_4.2.0_1473617060/plugins/com.google.appengine.eclipse.sdkbundle_1.7.2/appengine-java-sdk-1.7.2/lib/opt/tools/datanucleus/v1/datanucleus-core-1.1.5.jar\" is already registered, and you are trying to register an identical plugin located at URL \"file:/war/WEB-INF/lib/datanucleus-core-3.1.0-m5.jar.\"</p>\n\n<p>I've tried this ant target:</p>\n\n<pre><code>&lt;target name=\"datanucleusenhance\" depends=\"compile\" description=\"Performs enhancement on compiled data classes.\"&gt;\n    &lt;enhance_war war=\"war\"&gt;\n        &lt;args&gt;\n            &lt;arg value=\"-enhancerVersion\" /&gt;\n            &lt;arg value=\"v3.1.0\" /&gt;\n        &lt;/args&gt;\n    &lt;/enhance_war&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>I've tried to delete \"datanucleus-core-1.1.5.jar\". The error then is:</p>\n\n<pre><code>java.lang.RuntimeException: Unexpected exception\n    at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:76)\n    at com.google.appengine.tools.enhancer.Enhance.&lt;init&gt;(Enhance.java:71)\n    at com.google.appengine.tools.enhancer.Enhance.main(Enhance.java:51)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.google.appengine.tools.enhancer.Enhancer.execute(Enhancer.java:74)\n    ... 2 more\nCaused by: java.lang.NoClassDefFoundError: org/datanucleus/OMFContext\n    at org.datanucleus.enhancer.DataNucleusEnhancer.&lt;init&gt;(DataNucleusEnhancer.java:172)\n    at org.datanucleus.enhancer.DataNucleusEnhancer.&lt;init&gt;(DataNucleusEnhancer.java:150)\n    at org.datanucleus.enhancer.DataNucleusEnhancer.main(DataNucleusEnhancer.java:1157)\n    ... 7 more\nCaused by: java.lang.ClassNotFoundException: org.datanucleus.OMFContext\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at com.google.appengine.tools.enhancer.EnhancerLoader.loadClass(EnhancerLoader.java:107)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    ... 10 more\n</code></pre>\n\n<p>How can I use JDO3.0 with GAE1.7.2?</p>\n"},{"tags":["google-app-engine","google-cloud-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12593464,"title":"Google App Engine + google cloud sql jpa query does not retrieve data from database","body":"<p>I have a simple test GAE + Google cloud sql application. I have a single table uploaded to the cloud sql db. I am using JPA to map the tables to entities in my application. When I do a query to retrieve data from the table, I get a non-null StreamingQueryResult that is empty. Can you guys help me out? I also have a snippet of the code doing the query attached:</p>\n\n<pre><code>    List result = null;\n    EntityManager mgr = EMFService.get().createEntityManager();\n    try\n    {\n        Query q = mgr.createQuery(\"select p from Pricesheet p\");\n        result = (List) q.getResultList();      \n\n    }\n    finally\n    {\n        mgr.close();\n    }\n</code></pre>\n"},{"tags":["android","eclipse","google-app-engine","gwt","eclipse-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12627230,"title":"How to make an App Engine Connected Android Project?","body":"<p>I used <a href=\"https://developers.google.com/eclipse/docs/appengine_connected_android\" rel=\"nofollow\">this Google documentation</a> to find out about App Engine Connected Android Projects. On <a href=\"https://developers.google.com/eclipse/docs/appeng_android_create_project\" rel=\"nofollow\">this page</a> Google explains how to make such a project, however, the menu item that should exist in Eclipse doesn't.</p>\n\n<p>I installed all the prerequisites, I have a recognized and working Android, App Engine and GWT SDK installed, and I installed most of the Google Eclipse plugins. (I only skipped those I was sure of they would not be needed for this.)</p>\n\n<p>So for some reason, that option was removed from the plugin. But the documentation does still exist. Is there an alternative way to easily achieve the same? I want to do exactly that what that type of projects was intended for: make a App Engine-backed Web App and corresponding Android App through C2DM.</p>\n\n<p>Am I missing some Eclipse plugin or is this type of projects really removed? Anyone that knows how to set up the same?</p>\n\n<p>(If not, is it possible to setup an Android and App Engine project as one Eclipse project? Note that this is not my main question.)</p>\n"},{"tags":["google-app-engine","ssl","redirect-loop"],"answer_count":1,"favorite_count":5,"up_vote_count":4,"down_vote_count":0,"view_count":246,"score":4,"question_id":11726248,"title":"Redirect Loop for Google Account login with SSL for Custom Domain on Google App Engine","body":"<p>I have setup SSL (VIP) for a custom domain on my Google App Engine app (https://www.gqueues.com).</p>\n\n<p>Everything works fine for most of my users.  There are no problems at all for users who login with their Google Apps accounts (which uses OpenId).  Most users who login with their Google Accounts don't have any problems either.  </p>\n\n<p>HOWEVER, a handful of Google Account users get a redirect loop error </p>\n\n<p>(ERR_TOO_MANY_REDIRECTS) like the image below when they attempt to login.</p>\n\n<p><img src=\"http://i.imgur.com/d04ve.png\" alt=\"redirectLoop\"></p>\n\n<p>This is the code I'm using to create the login url.  It's worked fine for the last 3 years, and the only thing that has changed is that it now goes to https instead of http:</p>\n\n<pre><code>loginURL = users.create_login_url(\"https://www.gqueues.com/main\")\n</code></pre>\n\n<p>The <em>main</em> page has login required:</p>\n\n<pre><code>@login_required\ndef get(self):\n</code></pre>\n\n<p>I am unable to reproduce the redirect loop with any of my test accounts or machines.  However, one of my users reported that it seemed to be looping between these two addresses:</p>\n\n<pre><code>https://appengine.google.com/_ah/loginform?state=xxxxxxxxxxx\nhttps://www.gqueues.com/_ah/conflogin?state=xxxxxxxxxxxxxx\n</code></pre>\n\n<p>On some other SO posts about redirect loops people suggest that some of these auth pages are getting cached, but I've checked and all of them use a 302 redirect which doesn't get cached.</p>\n\n<p><img src=\"http://i.imgur.com/4is5F.png\" alt=\"Imgur\"></p>\n\n<p>Also, I've had the users with the issue clear their browser cache and cookies and make sure they are NOT blocking third-party cookies, but none of this helps.  The problem occurs on various browsers and operating systems, so I don't think it pertains to a particular setup.</p>\n\n<p>The only thing that works is to have the users with the problem access my app on the appspot address:\n<a href=\"https://gqueues-hrd.appspot.com\" rel=\"nofollow\">https://gqueues-hrd.appspot.com</a></p>\n\n<p>This of course is not really a solution at all.  The reason I'm spending thousands of dollars for the SSL certificate and VIP on GAE is so that everything the user sees is on my custom domain (and so that I'm using my own certificate and not some shared one from Google).</p>\n\n<p>Does anyone (particularly from the App Engine team) have any idea what's going on?  It seems like the issue is somewhere in the Google Account login code implemented in App Engine or perhaps with the new SSL for custom domains code.</p>\n\n<p>Thanks much,</p>\n\n<p>Cameron</p>\n"},{"tags":["google-app-engine","gwt"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12616242,"title":"RPC failures on GAE app. How to debug GWT-App that works locally but not when deployed to GAE?","body":"<p>i've got a GWT app deployed on App Enigne more than a year ago.\nEverything is working fine with this app, you can see it here:\n<a href=\"http://6.flag-designer.appspot.com\" rel=\"nofollow\">http://6.flag-designer.appspot.com</a></p>\n\n<p>Now after a long time i came back to redo some development on the app.\nI only did minor cosmetic changes to the code, basically only strings that changed.\nSince my PC system changed, i reinstalled about everything from Eclipse to GWT and plugin with the latest versions of each.\nNow the problem is, i got everything back up and running on local development mode, but once i deploy everything on App Engine (as a new version), it always gives me an RPC failure for any AsyncCallback.\nSee <a href=\"http://7.flag-designer.appspot.com\" rel=\"nofollow\">http://7.flag-designer.appspot.com</a> .</p>\n\n<p>Since it works all well in the local dev mode, i wonder what i can do to debug this issue?</p>\n\n<p>I might mention that since GAE complained about a missing  specification in appengine-web.xml, i tried both with true and false.\nThe result is the same.</p>\n"},{"tags":["java","google-app-engine","email","javamail"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":412,"score":2,"question_id":9599461,"title":"Sending inline email attachments on Google App Engine (Java)","body":"<p>I'm having difficulty getting my inline attachments to show up inline. When the email client receives the message all of the attachments are with <strong><em>Content-Disposition</em></strong> \"attachment\" even though I can see from the logs that I'm setting some to \"inline\". Also anytime I set the CID header it is not making it to the email client (eg. if I view the source / original). Somehow it is being lost as with the content-disposition.</p>\n\n<p>I am using the following code:</p>\n\n<pre><code>public static void performSend(Event event, Guest guest) throws Exception {\n    Properties props = new Properties();\n    Session session = Session.getDefaultInstance(props, null);\n\n    String htmlBody = event.getEmail().getHtmlBody(event.getInlineInvitationImages(), guest);\n    Multipart mp = new MimeMultipart();\n\n    MimeBodyPart htmlPart = new MimeBodyPart();\n    htmlPart.setContent(htmlBody, \"text/html\");\n    mp.addBodyPart(htmlPart);\n\n    //Add attachments\n    for(InvitationImage image : event.getInvitationImages()) {\n        Logger.info(\"Now attaching image %s, with length %d, content type %s, cid %s and disposition %s\", image.filename, image.imageData.length, image.contentType, image.cid, image.getDisposition().toString());\n        MimeBodyPart attachment = new MimeBodyPart();\n        attachment.setDisposition(image.getDisposition());\n        attachment.setFileName(image.filename);\n        attachment.setContentID(\"&lt;\"+image.cid+\"&gt;\");\n\n        DataSource src = new ByteArrayDataSource(image.imageData, image.contentType); \n        attachment.setDataHandler(new DataHandler(src));\n        mp.addBodyPart(attachment);\n    }\n\n    Message msg = new MimeMessage(session);\n    msg.setFrom(new InternetAddress(\"myname@gmail.com\", \"My Name\"));\n    msg.addRecipient(Message.RecipientType.TO, new InternetAddress(guest.email, guest.getFullname()));\n    msg.setSubject(event.getEmail().subject);\n    msg.setContent(mp);\n    msg.saveChanges();\n\n    //Log the email\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    msg.writeTo(baos);\n    new Log(baos.toByteArray()).save();\n\n    Transport.send(msg);\n}\n</code></pre>\n\n<p>A relevant snippet from my GAE log is </p>\n\n<blockquote>\n  <p>play.Logger info: Now attaching image myimage.jpg, with length 73336,\n  content type image/jpeg, cid\n  e4ae3388-312d-498e-b958-12e814507934@rsvp-rocket.appspot.com and\n  disposition inline</p>\n</blockquote>\n\n<p>A relevant snippet of the email source looks like this :</p>\n\n<pre><code>Content-Type: multipart/mixed; boundary=20cf307f3beca61df004baa44d82\nReturn-Path: 3-jJXTwsJDD0qruo-qnbjdsflZhk.bnljZxcddcnqfZmgnslZhk.bnl@apphosting.bounces.google.com\nX-OriginalArrivalTime: 07 Mar 2012 10:05:47.0455 (UTC) FILETIME=[DE047CF0:01CCFC49]\n\n--20cf307f3beca61df004baa44d82\nContent-Type: multipart/alternative; boundary=20cf307f3beca61de604baa44d80\n\n--20cf307f3beca61de604baa44d80\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed; delsp=yes\n\nCome to my wedding!\n\n\n\n--20cf307f3beca61de604baa44d80\nContent-Type: text/html; charset=ISO-8859-1\n\n&lt;p style=\"color: gray;\"&gt;Come to my wedding!&lt;/p&gt;&lt;div&gt;&lt;img src=\"cid:e4ae3388-312d-498e-b958-12e814507934@rsvp-rocket.appspot.com\" border=\"0\" /&gt;&lt;/div&gt;\n--20cf307f3beca61de604baa44d80--\n--20cf307f3beca61df004baa44d82\nContent-Type: image/jpeg; name=\"DamianKathrynWeddingSaveTheDate.jpg\"\nContent-Disposition: attachment; \n    filename=\"DamianKathrynWeddingSaveTheDate.jpg\"\nContent-Transfer-Encoding: base64\n</code></pre>\n\n<p>Any thoughts? Why is the disposition and CID being cleared? Am I missing some obvious piece or is this an example of the arcane arts of email?</p>\n\n<h1>Update:</h1>\n\n<p>I've dumped the outgoing email to a Log entity in the datastore. In there I can see that the inline image does indeed have the Content-Disposition of \"inline\". So by the time it gets to the email clients, something has removed it. The weird thing is that the html part is base64 encoded (as per below). Is this normal?</p>\n\n<p>Here's what arrives at Gmail:</p>\n\n<pre><code>Message-ID: &lt;20cf307d02b099e30804bab9b98e@google.com&gt;\nDate: Thu, 08 Mar 2012 11:39:12 +0000\nSubject: Test invite\nFrom: My Name &lt;myname@gmail.com&gt;\nTo: My Name &lt;myname@gmail.com&gt;\nContent-Type: multipart/mixed; boundary=20cf307d02b099e2fb04bab9b98d\n\n--20cf307d02b099e2fb04bab9b98d\nContent-Type: multipart/alternative; boundary=20cf307d02b099e2f404bab9b98b\n\n--20cf307d02b099e2f404bab9b98b\nContent-Type: text/plain; charset=ISO-8859-1; format=flowed; delsp=yes\n\nCome to my wedding!\n\n\n\n--20cf307d02b099e2f404bab9b98b\nContent-Type: text/html; charset=ISO-8859-1\n\n&lt;p style=\"color: gray;\"&gt;Come to my wedding!&lt;/p&gt;&lt;div&gt;&lt;img src=\"cid:e4ae3388-312d-498e-b958-12e814507934@rsvp-rocket.appspot.com\" border=\"0\" /&gt;&lt;/div&gt;\n--20cf307d02b099e2f404bab9b98b--\n--20cf307d02b099e2fb04bab9b98d\nContent-Type: image/jpeg; name=\"DamianKathrynWeddingSaveTheDate.jpg\"\nContent-Disposition: attachment; \n    filename=\"DamianKathrynWeddingSaveTheDate.jpg\"\nContent-Transfer-Encoding: base64\n\n/9j/4AAQSkZJRgABAQEBLAEsAAD/7QBSUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAABkcAVoAAxsl\n</code></pre>\n\n<p>And here's what is logged by me for the same message:</p>\n\n<pre><code>From: My Name &lt;myname@gmail.com&gt;\nTo: My Name &lt;myname@gmail.com&gt;\nMessage-ID: &lt;29985819.01331206751990.JavaMail.javamailuser@localhost&gt;\nSubject: Test invite\nMIME-Version: 1.0\nContent-Type: multipart/mixed; \n    boundary=\"----=_Part_0_20814850.1331206751553\"\n\n------=_Part_0_20814850.1331206751553\nContent-Type: text/html\nContent-Transfer-Encoding: base64\n\nPHAgc3R5bGU9ImNvbG9yOiBncmF5OyI+Q29tZSB0byBteSB3ZWRkaW5nITwvcD48ZGl2PjxpbWcg\nc3JjPSJjaWQ6ZTRhZTMzODgtMzEyZC00OThlLWI5NTgtMTJlODE0NTA3OTM0QHJzdnAtcm9ja2V0\nLmFwcHNwb3QuY29tIiBib3JkZXI9IjAiIC8+PC9kaXY+\n------=_Part_0_20814850.1331206751553\nContent-Type: image/jpeg; name=DamianKathrynWeddingSaveTheDate.jpg\nContent-Transfer-Encoding: base64\nContent-Disposition: inline; filename=DamianKathrynWeddingSaveTheDate.jpg\nContent-ID: &lt;e4ae3388-312d-498e-b958-12e814507934@rsvp-rocket.appspot.com&gt;\n\n/9j/4AAQSkZJRgABAQEBLAEsAAD/7QBSUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAABkcAVoAAxsl\n</code></pre>\n\n<p>Any ideas? Email on GAE is quickly making it to the \"too-hard\" basket when I look at Amazon SES and Postmark.</p>\n"},{"tags":["python","google-app-engine","flask","jinja2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12623768,"title":"compare two variables in jinja2 template","body":"<p>Given I have two variables <code>{{ profile }}</code> with a value \"test\" and <code>{{ element.author }}</code> again with the value \"test\". In jinja2 when I try to compare them using an if, nothing shows up. I do the comparison as follows:</p>\n\n<pre><code>{% if profile == element.author %}\n{{ profile }} and {{ element.author }} are same\n{% else %}\n{{ profile }} and {{ element.author }} are **not** same\n{% endif %}\n</code></pre>\n\n<p>I get the output <code>test and test are not same</code> Whats wrong, how can I compare?</p>\n"},{"tags":["google-app-engine","webapp2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12627176,"title":"how to get static URL inside GAE app","body":"<p>my <code>app.yaml</code>:</p>\n\n<pre><code>handlers:\n  - url: /static\n    static_dir: static\n\n  - url: /.*\n    script: main.app\n</code></pre>\n\n<p>is there a way, inside my webapp2 code, to get the absolute URL of the <code>/static</code> route?</p>\n"},{"tags":["python","database","google-app-engine","app-engine-ndb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12612270,"title":"appengine many to many field update value and lookup efficiently","body":"<p>I am using appengine with python 2.7 and webapp2 framework. I am <strong>not</strong> using ndb.model. </p>\n\n<p>I have the following model:</p>\n\n<pre><code>class Story(db.Model);\n    name = db.StringProperty()\n\nclass UserProfile(db.Model):\n    name = db.StringProperty()\n    user = db.UserProperty()\n\nclass Tracking(db.Model):\n   user_profile = db.ReferenceProperty(UserProfile)\n   story = db.ReferenceProperty(Story)\n   upvoted = db.BooleanProperty()\n   flagged = db.BoolenProperty()\n</code></pre>\n\n<p>A user can upvote and/or flag a story but only once. Hence I came up with the above model.\nNow when a user clicks on the <code>upvote</code> link, on the database I try to see if the user has not already voted it, hence I do try to do the following:</p>\n\n<ol>\n<li><p>get the user instance with his id as <code>up = db.get(db.Key.from_path('UserProfile', uid))</code></p></li>\n<li><p>then get the story instance as follows <code>s_ins = db.get(db.Key.from_path('Story', uid))</code></p></li>\n<li><p>Now it is the turn to check if a <code>Tracking</code> based on these two exist, if <strong>yes</strong> then don't allow voting, else allow him to vote and <strong>update the Tracking</strong> instance. </p></li>\n</ol>\n\n<p>What is the most convenient way to <strong>fetch</strong> a <code>Tracking</code> instance given an id(<code>db.key().id()</code>) of <code>user_profile</code> and <code>story</code>?</p>\n\n<p>What is the most convenient way to <strong>save</strong> a <code>Tracking</code> model having given a user profile id and an story id?</p>\n\n<p>Is there a better way to implement tracking?</p>\n"},{"tags":["java","web-services","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":54,"score":-3,"question_id":12627468,"title":"deploying web services through google application engine","body":"<p>I have web service that is up and running that is in other words it is publish on my tomat on port 8080 and I can hit it through my browser now I want that my webservice to be get published on cloud so that I can pass wsdl uri to any one in the world and he can access my wsdl.I want to achieve this through google application Engine , Please advise how to achieve this..!!</p>\n"},{"tags":["java","google-app-engine","file-upload","apache-commons"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1192,"score":1,"question_id":1761869,"title":"Why ItemSkippedException?","body":"<p>I am trying to update content in Google sites and am reading the stream in exception VersionConflictException.</p>\n\n<p>When I check the stream it is all fine and is completely loaded in POST request but then I get following error.   </p>\n\n<pre><code>org.apache.commons.fileupload.FileItemStream$ItemSkippedException\nat org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:880)\nat java.io.BufferedInputStream.fill(BufferedInputStream.java:218)\nat java.io.BufferedInputStream.read1(BufferedInputStream.java:258)\nat java.io.BufferedInputStream.read(BufferedInputStream.java:317)\nat com.google.gdata.data.media.MediaSource$Output.writeTo(MediaSource.java:87)\nat com.google.gdata.data.media.MediaBodyPart$MediaSourceDataHandler.writeTo(MediaBodyPart.java:74)\nat javax.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:452)\nat javax.mail.internet.MimeMultipart.writeTo(MimeMultipart.java:157)\nat com.google.gdata.wireformats.output.media.MediaMultipartGenerator.generate(MediaMultipartGenerator.java:58)\nat com.google.gdata.wireformats.output.media.MediaMultipartGenerator.generate(MediaMultipartGenerator.java:37)\nat com.google.gdata.client.Service.writeRequestData(Service.java:1831)\nat com.google.gdata.client.media.MediaService.updateMedia(MediaService.java:497)\nat com.google.gdata.data.media.MediaEntry.updateMedia(MediaEntry.java:159)\nat morefile.UploadApp.updateAttachment(UploadApp.java:136)\n</code></pre>\n"},{"tags":["android","google-app-engine","authentication","login","oauth"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":977,"score":6,"question_id":10400428,"title":"Can I use Android's AccountManager for getting OAuth access token for AppEngine?","body":"<p>I have Android client to my AppEngine server, both using Google Accounts. I would like to use AccountManager for getting <em>accessToken</em> for OAuth. So far I'm using ClientLogin, but I would like to switch to OAuth. </p>\n\n<p>Setting up OAuth on AppEngine is easy - I followed <a href=\"http://ikaisays.com/2011/05/26/setting-up-an-oauth-provider-on-google-app-engine/\">this article</a>. But the client side is a mystery, in particular I don't know what to use for scope, in AccountManager terms <em>authTokenType</em>. For ClientLogin, I'm using \"ah\" for <em>authTokenType</em>. But what about OAuth?</p>\n"},{"tags":["iphone","google-app-engine","rest","iphone-web"],"answer_count":5,"favorite_count":7,"up_vote_count":5,"down_vote_count":0,"view_count":2316,"score":5,"question_id":4253722,"title":"Implementing REST Service (JSON) on Google AppEngine","body":"<p>I am playing around with implementing a REST service on the Google AppEngine. I would prefer using GAE Java and JSON for communication between the service and clients.</p>\n\n<p>What is everyone's favorite libraries for doing this?</p>\n\n<p>What type of security do you prefer to implement using REST? Basic authentication or something else?</p>\n\n<p>Also, as a side note, what is everyone's favorite libraries to use in iPhone development to consume REST + JSON services? The standard frameworks provided in the iPhone SDK? Or other libraries that wrap these services?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","junit"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12358372,"title":"How to jUnit test entity persistence with HRD w/o parent relationship","body":"<p>I'm struggling to find the right way to use jUnit to test the state of the datastore when using HRD.</p>\n\n<p>My setup: App Engine 1.7.1, HRD set. I use of transactions on multiple entities. All is fine when running the app in dev mode in the browser. </p>\n\n<p>My jUnit helper:\n  protected final LocalServiceTestHelper helper = new LocalServiceTestHelper(new   LocalDatastoreServiceTestConfig().setDefaultHighRepJobPolicyUnappliedJobPercentage(50));</p>\n\n<p>Problem: I persist few entities. They don't have a parent so I cannot consistently read the datastore to see if they are saved.</p>\n\n<p>Question: How do I test they are saved in the datastore since some of the save ops won't be applied and I cannot access the parent to really check the datastore (because I don't use parent relationship)? </p>\n\n<p>Note: HRD has to be used as I use XG transactions.</p>\n\n<p>Is there a way to 'flush' pending operations?</p>\n\n<p>Daniel</p>\n"},{"tags":["java","google-app-engine","lucene"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":9176993,"title":"Disable ConcurrentMergeScheduler in Lucene 3.5.0","body":"<p>I need to disable ConcurrentMergeScheduler in Lucene 3.5.0, because it does not work on Google AppEngine due to limitation on thread creation - it is not allowed to create any thread.</p>\n\n<p>Any hints how to do that?</p>\n"},{"tags":["google-app-engine","google","cron"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":37,"score":-2,"question_id":12623938,"title":"How to add a cron job for selected hours","body":"<p>I would like to add a cron job in google app engine that occurs every 5minutes but not every hour. Is that possible?</p>\n\n<p>something like every 5minutes of hours 7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0</p>\n\n<p>unix format would be something like that ... ? (not sure): \n*/5 0,7-23 * * * </p>\n\n<p>The goal is to reduce the instances used.</p>\n"},{"tags":["multithreading","google-app-engine","thread-safety"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12565172,"title":"What are the issues associated with enabling threadsafe in Google Appengine?","body":"<p>This is going to be a self-answered question, but I thought that such a specific question (and answer) could be of use to others...</p>\n\n<p>What are the potential issues associated with enabling multi-threading in Google App Engine (GAE/J) using the  element in appengine-web.xml?</p>\n"},{"tags":["google-app-engine","timeout","jax-rs","urlfetch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12601905,"title":"How to set globally the URL fetching timeout?","body":"<p>I'm developing an application running on App Engine. One of my Task calls a web service. To do that I use JAX-RS. However, one of the call reachs the time out set by app engine (5 secondes). I'd like to increase this timeout to 10s but I'm not able to modify it. Indeed, JAX-RS doesn't allow to catch the HttpConnection Object created.</p>\n\n<p>My question is : is it possible to configure globally the time out of URL Fetching?</p>\n\n<p>Thanks</p>\n"},{"tags":["google-app-engine","gwt","google"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":226,"score":0,"question_id":11511641,"title":"gwt sample project rpc call failure","body":"<p>When i try to run gwt sample project it gives \"RPC call failure.An error occurred while attempting to contact the server. Please check your network connection and try again\". It was running good before but after i update programs and libraries it gives that error. Which update causes this error or there is other things?</p>\n\n<p>Appengine version:1.7.0\nGWT version:2.4.0\nEclipse version:4.2(juno)\nJDK version:1.7.0_05</p>\n"},{"tags":["google-app-engine","datastore","billing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12621830,"title":"How does google app engine determinge your monthly stored data usage?","body":"<p>Google app engine bills you for stored data on a monthly basis, but how does it determine how much to bill? Does it bill for the amount of data at the end of the month, or for the largest amount of data that has been stored at a point in time during that month? Or some other way?</p>\n"},{"tags":["java","google-app-engine","subclass"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12620731,"title":"Storing subtype objects in a list in AppEngine Datastore","body":"<p>I'm trying to create single list of sequenced objects using the data store API.\n(the reason its in one list is because the objects are ordered when written - its basically like a glorified LOG file).</p>\n\n<p>My issue is that the things i want to store in the list are sub types of an interface/abstract class i've defined. </p>\n\n<p>I have a current store using my SQL, which looks like: \nID, Group ID, Sequence Number, Serialized String of subclass.</p>\n\n<p>I was hoping by pushing this into data store i would not have to Serialize, and could instead store the objects. But im now a little unsure as the best approach here. </p>\n\n<p>nb. Im using the direct data store API, not JDO/JPA etc. </p>\n\n<p>I guess one option is to continue to Serialize - im not clear how good the support is for various serialization methods on AppEngine?  I guess i can store as byte array - writing directly with the serialzable interface? </p>\n\n<p>Or, i can store some master meta list, and store each object sub type as its own Entity - im not sure able referencing this back, and speed implications? I have around 100 different sub types im needing to store.</p>\n\n<p>Anyone have any suggestions on how to do this? </p>\n\n<p>It seems like a pretty fundamental issue - one i presumed would be naturally no problem with a noSQL data store - but im new to this whole concept - im a relational database man until this point :) </p>\n\n<p>thanks!!</p>\n\n<p><em><strong>UPDATE / EDIT</em></strong></p>\n\n<p>mm, ive just re-read the documentation page for Entities/querying etc... and i think i maybe falling into the relational database thinker trap...</p>\n\n<p>A section under Entities states:</p>\n\n<p>Note: Datastore entities are schemaless: unlike traditional relational databases, the App Engine Datastore does not require that all entities of a given kind have the same properties or that all of an entity's values for a given property be of the same data type. If a formal schema is needed, the application itself is responsible for ensuring that entities conform to it; the Python SDK includes a rich library of data modeling features for this purpose.</p>\n\n<p>I think that means i can store all my sub classes under the \"Entity\" reference of the Interface eg..</p>\n\n<p>Class A extends Z</p>\n\n<p>Class B extends Z</p>\n\n<p>Save Class A and B as Entity \"Z\". not save as Entity A and Entity B.</p>\n\n<p>It seems it doesn't care that the majority of properties etc are completely different :)</p>\n\n<p>Is this right - for sanity, can anyone verify this is indeed what is expected in such a scenario ?</p>\n"},{"tags":["java","eclipse","google-app-engine","deployment","jar"],"answer_count":5,"favorite_count":7,"up_vote_count":18,"down_vote_count":0,"view_count":626,"score":18,"question_id":9397101,"title":"Configure Eclipse to pre-bundle App Engine classes into a single JAR for faster warm-up","body":"<p>After some discussion with a colleague from another company that also uses App Engine, he told me that he managed to cut down his app warm up time from ~15 seconds to ~5 seconds using the following steps:</p>\n\n<blockquote>\n  <ol>\n  <li>Configure Eclipse to bundle classes produced during compilation into a single JAR file.</li>\n  <li>Configure Eclipse to upload this single JAR file instead of hundreds (or thousands) of separate Java classes during App Engine deployment.</li>\n  </ol>\n</blockquote>\n\n<p>He argues that during instance warm up, since the instance need to load only a single bundled JAR file instead of thousands of separate classes, the warm up would be significantly faster. Any thoughts or opinions about this?</p>\n\n<p>I would definitely like to try it by myself, but I don't have enough Eclipse-mojo to know how to configure such steps. Does anyone know how to configure Eclipse or the Google Plugin for Eclipse to do the steps outlined above? (And have the deployed apps successfully runs in App Engine, of course)</p>\n\n<p>Thank You,</p>\n"},{"tags":["java","mvc","google-app-engine","frameworks"],"answer_count":6,"favorite_count":10,"up_vote_count":20,"down_vote_count":0,"view_count":9577,"score":20,"question_id":862003,"title":"MVC in a Google App Engine Java world","body":"<p>I'm coming to Java from C# &amp; ASP.NET MVC, I'd love to find an equivalent in the Java world that I could use on the Google App Engine. I've already started to have a play with <a href=\"http://thatismatt.blogspot.com/2009/05/mvc-in-java-world.html\" rel=\"nofollow\">FreeMarker</a> and even made the first steps towards writing a very simple framework. Ideally I wouldn't have to do all the hard work though, someone must have done this already! So my question is - what frameworks are there out there that would be familiar for me coming from ASP.NET MVC and I could use them on Google App Engine for Java.</p>\n\n<p>The key things I'd want are:</p>\n\n<ul>\n<li><strong>Simple Routing</strong> - <code>/products/view/1</code> gets mapped to the view action of the products controller with the productid of 1</li>\n<li><strong>Template Engine</strong> - some way of easily passing 'ViewData' to the view, and from the view easily accessing it, ideally I'd love to avoid anything that is too XMLy (thus why I like <a href=\"http://freemarker.org/\" rel=\"nofollow\">FreeMarker</a>).</li>\n</ul>\n"},{"tags":["google-app-engine"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12333111,"title":"Sending message from GAE server to a client program","body":"<p>My GAE application has a server-side program (run in Google App Engine) and a client-side program. Is there any elegant way to send message from the server to the client program? The socket is not allowed in GAE and the channel API is not applicable since the client program is not a browser. The only way I can think of is to let the client program check the server status from time to time (like every 5 seconds). The program is that it eats up the expensive frontend instance hours even only memcache is used. Any suggestions? Thanks!</p>\n"},{"tags":["google-app-engine","htmlunit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":242,"score":0,"question_id":6618137,"title":"GAE and HtmlUnit 2.9 - getting exception upon jsxGet_cookie","body":"<p>I'm trying to login to google using HtmlUnit in an app in GAE.\nHowever, I keep getting this error:</p>\n\n<pre><code>Exception invoking jsxGet_cookie\n</code></pre>\n\n<p>Which is because </p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid port: -1\n    at org.apache.http.cookie.CookieOrigin.&lt;init&gt;(CookieOrigin.java:58)\n    at com.gargoylesoftware.htmlunit.CookieManager.getCookies(CookieManager.java:127)\n    at com.gargoylesoftware.htmlunit.javascript.host.html.HTMLDocument.jsxGet_cookie(HTMLDocument.java:638)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at com.google.appengine.tools.development.agent.runtime.Runtime.invoke(Runtime.java:100)\n    at net.sourceforge.htmlunit.corejs.javascript.MemberBox.invoke(MemberBox.java:172)\n    ... 94 more\n</code></pre>\n\n<p>This occurs when running in GAE and in my computer.</p>\n\n<p>Has anybody ever seen this kind of error before?\nHow can I change the default Port?\nAre there any workarounds?</p>\n"},{"tags":["java","google-app-engine","ejb","esb","n-tier"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":146,"score":1,"question_id":12317948,"title":"GAE: Division of labor between instances and queues","body":"<p>I normally like to deploy my JBoss server apps with 2 or 3 \"tiers\" of components:</p>\n\n<ul>\n<li>A <code>my-ws.war</code> file consisting of all my server's web services, comprising the \"web tier\" and deployed to JBoss' web container; and</li>\n<li>A <code>my-esb.war</code> file consisting of my server's \"ESB\" (service bus), basically an ESB built with Apache Camel and used for servicing asynchronous requests</li>\n<li>1+ <code>EJB</code>s consisting of all my server's business logic, comprising the \"business tier\" and deployed to JBoss' app container; all EJBs are responsible for servicing synchronous requests</li>\n</ul>\n\n<p>So the Web Services (<code>my-ws.war</code>) are the \"gateway\" to the backend, and based on the nature of the request, the Web Services know to route them on to the appropriate EJB (in the case of a synchronous request that needs to be responded to in a timely manner), or it routes them on to a queue where they get picked up and processed by my Camel-based ESB (in the case of an asynchronous request). This has always worked for me and I really like the architecture.</p>\n\n<p>I am now designing my first GAE backend and am struggling with trying to figure out how to map this same architecture onto a GAE platform.</p>\n\n<p>Obviously, I have to deploy everything as a single WAR file (no more EARs or EJBs). But what I'm just not \"getting\" here are:</p>\n\n<ol>\n<li>If a Web Service determines the request is asynchronous and should go on the ESB, I can enqueue the request to a task queue, but not sure how I instruct the first endpoint of my Camel route to pick up the task and begin processing it (I'm used to working between Camel and ActiveMQ)</li>\n<li>I <em>assume</em> my ESB should be deployed to backend instances so its not limited by time or threading constraints, <strong>yes</strong>?</li>\n<li>If a Web Service determines the request is synchronous and must be quickly responded to, I need the GAE version of an EJB. Do I just make handler POJOS and route the requests to them? My Web Services will be as multi-threaded as possible (I believe 10 threads is the max for a frontend instance) so I assume such handler POJOs would need to be thread safe, <strong>yes</strong>? Or is there a better way to simulate EJBs/modularized-business-logic on GAE?</li>\n</ol>\n\n<p>Also, if anyone sees anything inherently <em>wrong</em> with trying to map my normal architecture to GAE, please speak up and let me know what/why! Thanks in advance!</p>\n"},{"tags":["android","google-app-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12619158,"title":"Fatal Exception: AsyncTask #1 While reading from google app engine","body":"<pre><code> private class GetXMLTask extends AsyncTask&lt;String, Void, String&gt;\n {\n        @Override\n        protected String doInBackground(String... urls)\n        {           \n        String output = null;           \n        try\n        {   \n            List&lt;String&gt; citations = new ArrayList&lt;String&gt;();\n             for (String url : urls) \n                 {                  \n                    output = getOutputFromUrl(url);   \n                    citations.add(output);\n                outputText.setText(output);\n             }               \n        }\n        catch(Exception e)\n        {\n            Toast.makeText(getBaseContext(), \"Cant connect to server\", Toast.LENGTH_LONG).show();\n        }\n        return output;\n    }           \n  } \n</code></pre>\n\n<p>//I am trying to read a string from Google App Engine and set it to a textbox. The rest of the code is fine. but async task throws a fatal exception...Help!</p>\n"},{"tags":["java","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":11279686,"title":"Google App Engine RuntimeHelper.checkRestricted taking 25X time from antlr GAE Java 1.7","body":"<p>We are using antlr parsing on GAE 1.7 and find a 25x overhead (running GAE in eclipse locally compared to running a standalone Java app) because it spends 96% of its time in RuntimeHelper.checkRestricted</p>\n\n<p>(We are NOT in GAE 1.6.4 which had a bug of extra calls to RuntimeHelper.checkRestricted)</p>\n\n<p>Does anyone know a list of which method calls trigger calls to RuntimeHelper.checkRestricted so that we can potentially avoid those please?  For some reason I can't find any documentation of this security manager and what triggers it.</p>\n\n<p>One call which repeatedly triggers a time-consuming call to checkRestricted seems to be\nantlr.runtime.DFA.predict(IntStream)</p>\n\n<p>Thanks!</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":12078267,"title":"How can I give my paid users a more responsive app than my free users in Google App Engine?","body":"<p>Anyone have an idea on how to achieve a differentiated service with Google App Engine? I have two types of users. One is premium while another one is free user. I would like to set different minimum latencies for firing up new GAE instances between the two. In other words, I am willing to pay extra for the traffic generated from the premium users. Nonetheless, for the free users, I would prefer to pay at minimum or within the daily free quota provided by Google. In my case, I expect that the free users are able to tolerate higher latency than the premium ones. I believe that this case should be quite general and apply to many people.</p>\n\n<p>Assuming that I can identify types of users by the URLs they use or via other mechanisms. The only way I could think of is creating two separated applications and letting the premium users access the one that enables billing, while free users access the one that doesn't. However, my free and premium users need to share the datastore because they are also have to communicate within the application. Unfortunately, it seems that sharing a datastore across applications without hurting performance is not possible at the moment. </p>\n"},{"tags":["java","google-app-engine","restlet"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12615776,"title":"Java restlet nested URL","body":"<p>I used Java Restlet for my server code. My application is simple Blogging site.</p>\n\n<p>It extends <code>org.restlet.Application</code> class to define the Router for the application.\nI set router for the posts comments as below</p>\n\n<pre><code> router.attach(\"/posts/{id}/comments\", CommentResource.class);\n  router.attach(\"/posts/{postId}/comments/{commentId}\", CommentResource.class);\n</code></pre>\n\n<p>But above router does not work. I always getting 500 Internal Server Error.</p>\n"},{"tags":["java","google-app-engine","gwt","asynchronous","requestfactory"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":164,"score":2,"question_id":12330886,"title":"Synchronous, Asynchronous and Command Client Requests with GWT and GAE","body":"<p>In designing my GWT/GAE app, it has become evident to me that my client-side (GWT) will be generating three types of requests:</p>\n\n<ul>\n<li><strong>Synchronous</strong> - \"answer me <em>right now</em>! I'm important and require a real-time response!!!\"</li>\n<li><strong>Asynchronous</strong> - \"answer me <em>when you can</em>; I need to know the answer at some point but it's really not all that ugent.\"</li>\n<li><strong>Command</strong> - \"I don't need an answer. This isn't really a request, it's just a command to do something or process something on the server-side.\"</li>\n</ul>\n\n<p>My <em>game plan</em> is to implement my GWT code so that I can specify, for each specific server-side request (<strong>note: I've decided to go with <code>RequestFactory</code> over traditional GWT-RPC</strong> for reasons outside the scope of this question), which type of request it is:</p>\n\n<ul>\n<li><code>SynchronousRequest</code> - Synchronous (from above); sends a command and eagerly awaits a response that it then uses to update the client's state somehow</li>\n<li><code>AsynchronousRequest</code> - Asynchronous (from above); makes an initial request and somehow - either through polling or the GAE Channel API, is notified when the response is finally received</li>\n<li><code>CommandRequest</code> - Command (from above); makes a server-side request and does not wait for a response (even if the server fails to, or refuses to, oblige the command)</li>\n</ul>\n\n<p>I guess my intention with <code>SynchronousRequest</code> is not to produce a totally blocking request, however it may block the user's ability to interact with a specific <code>Widget</code> or portion of the screen.</p>\n\n<p>The added kicker here is this: GAE strongly enforces a timeout on all of its frontend instances (60 seconds). Backend instances have much more relaxed constraints for timeouts, threading, etc. So it is obvious to me that <code>AsynchronousRequests</code> and <code>CommandRequests</code> should be routed to backend instances so that GAE timeouts do not become an issue with them.</p>\n\n<p>However, if GAE is behaving badly, or if we're hitting peak traffic, or if my code just plain sucks, I have to account for the scenario where a <code>SynchronousRequest</code> is made (which would have to go through a timeout-regulated frontend instance) and will timeout unless my GAE server code does something fancy. I know there is a method in the GAE API that I can call to see how many milliseconds a request has before its about to timeout; but although the name of it escapes me right now, it's what this \"fancy\" code would be based off of. Let's call it <code>public static long GAE.timeLeftOnRequestInMillis()</code> for the sake of this question.</p>\n\n<p>In this scenario, I'd like to detect that a <code>SynchronousRequest</code> is about to timeout, and somehow dynamically convert it into an <code>AsynchronousRequest</code> so that it doesn't time out. Perhaps this means sending an <code>AboutToTimeoutResponse</code> back to the client, and force the client to decide about whether to resend as an <code>AsynchronousRequest</code> or just fail. Or perhaps we can just transform the <code>SynchronousRequest</code> into an <code>AsynchronousRequest</code> and push it to a queue where a backend instance will consume it, process it and return a response. I don't have any preferences when it comes to implementation, so long as the request doesn't fail or timeout because the server couldn't handle it fast enough (because of GAE-imposed regulations).</p>\n\n<p>So then, here is what I'm actually asking here:</p>\n\n<ul>\n<li>How can I wrap a <code>RequestFactory</code> call inside <code>SynchronousRequest</code>, <code>AsynchronousRequest</code> and <code>CommandRequest</code> in such a way that the <code>RequestFactory</code> call behaves the way each of them is intended? In other words, so that the call either partially-blocks (synchronous), can be notified/updated at some point down the road (asynchronous), or can just fire-and-forget (command)?</li>\n<li>How can I implement my requirement to let a <code>SynchronousRequest</code> bypass GAE's 60-second timeout and still get processed without failing?</li>\n</ul>\n\n<p>Please note: timeout issues are easily circumvented by re-routing things to backend instances, but backends don't/can't scale. I need scalability here as well (that's primarily why I'm on GAE in the first place!) - so I need a solution that deals with scalable frontend instances and their timeouts. Thanks in advance!</p>\n"},{"tags":["google-app-engine","task-queue"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":11517166,"title":"Task Queue Premium Call Count","body":"<p>As we scale up our service and add backends that use the pull queue REST API, we find that we are hitting the 100k/day limit.  The documentation is not clear on whether or not this is billable.  Is it possible to exceed this limit with billing enabled?</p>\n"},{"tags":["google-app-engine","delete","gae-datastore","google-datastore"],"answer_count":18,"favorite_count":32,"up_vote_count":59,"down_vote_count":1,"view_count":30642,"score":58,"question_id":1062540,"title":"How to delete all datastore in Google App Engine?","body":"<p>Does anyone know how to delete all datastore in <a href=\"http://en.wikipedia.org/wiki/Google%5FApp%5FEngine\">Google App Engine</a>?</p>\n"},{"tags":["java","google-app-engine","wicket"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":420,"score":3,"question_id":3401525,"title":"Has anybody run Wicket application on Google-App-Engine?","body":"<p>We have a lot of Wicket based applications being run out of a standalone Java Tomcat server. We are planning to move some of this into Google App Engine. Has anybody tried running similar applications (Wicket heavy) on GAEJ? Are there any troubles with session handling in GAEJ (documentation indicates it should work - <a href=\"http://code.google.com/appengine/docs/java/config/appconfig.html#Enabling_Sessions\" rel=\"nofollow\">http://code.google.com/appengine/docs/java/config/appconfig.html#Enabling_Sessions</a>)? Anything else that I need to know before jumping into it?</p>\n"},{"tags":["google-app-engine","task-queue"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":11734606,"title":"Tasks queue up, nothing happens on retry (no log)","body":"<p>I noticed that over 1,000 tasks queued up in Google App Engine's task queue. When I hit \"Run Now\" nothing seems to happen, no error in the log entry, etc. I double checked everything, but everything seems fine. The only suspicious thing to me was under the \"Previous Run\" tab in the task queue console, it showed \"Last http response code: 404\". Despite the 404, the URL seems fine, I can call it in a browser. Also, tasks just like those also run as expected. Without a log, I do not know what else to check.</p>\n\n<p>Some tasks may have failed before, but after a fix, that error should be gone.</p>\n\n<p>I'm using Java App Engine SDK 1.7.0 and a custom queue like this:</p>\n\n<pre><code>&lt;queue&gt;\n    &lt;name&gt;data-import&lt;/name&gt;\n    &lt;rate&gt;1/s&lt;/rate&gt;\n    &lt;bucket-size&gt;3&lt;/bucket-size&gt;\n    &lt;max-concurrent-requests&gt;1&lt;/max-concurrent-requests&gt;\n&lt;/queue&gt;\n</code></pre>\n\n<p>So, any clues what's going on? Or what else to check?</p>\n"},{"tags":["google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12613624,"title":"Google App Engine not stopping apps","body":"<p>I downloaded eclipse (june 4.2) and started up an app engine project. Deploys fine, but it never seems to terminate properly. I make code changes and they don't show up in the browser with a refresh. When I hover my mouse over the run button it says \"already running\" in the tooltip. I have to completely restart eclipse to pick up the changes.</p>\n\n<p>I feel like I'm taking crazy pills here. What am I missing?</p>\n"},{"tags":["java","google-app-engine","jersey"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12612726,"title":"using JarJar repackaging tool","body":"<p>I have deployed a web application to the Google app engine and my web service uses the jersey 1.14 framework. When I try to consume or invoke the web services on the GAE I get a java.lang.IncompatibleClassChangeError: Implementing class. I searched around and got to realize that jersey 1.14 depends on asm 3.1 and google app engine uses asm 4.0 and realize that I had to use JarJar to package the dependencies to fix this problem but I don't have a clue about how to do this with JarJar. The tutorial I found was very cryptic and geared towards experience programmers.So can someone post a tutorial that is geared towards a beginner or walk me through the steps to solve this problem.</p>\n"},{"tags":["google-app-engine","pycrypto"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":332,"score":3,"question_id":11788508,"title":"PyCrypto on Google App Engine (1.7.0) with Python 2.7 on Mac OS X 10.8 causes ImportError","body":"<p>I am trying to get PyCrypto working with Google App Engine, and I have a lengthy description of an issue I have encountered that is reported as <strong><a href=\"http://code.google.com/p/googleappengine/issues/detail?id=7925\" rel=\"nofollow\">issue 7925</a></strong> for Google App Engine.</p>\n\n<p>Essentially, I do not know of a sensible way to install PyCrypto on Mac OS X 10.8 in such a way that <code>dev_appserver.py</code> will use it - other than the workaround of putting <code>Crypto/</code> into the project's root directory.</p>\n\n<p>Unfortunately an issue seems to have just cropped up that causes a project to crash when the project is deployed with <code>Crypto/</code> in the project's root.</p>\n\n<p>It may be possible to edit or monkeypatch the GAE code, but I am not familiar enough with GAE's code to be comfortable doing that. All of the suggestions I have seen were for Python2.5 and Mac OS X &lt; 10.8.</p>\n\n<p>I would be grateful for thoughts about alternative, sensible ways to get PyCrypto working with the GAE development appserver on Mac OS X 10.8.</p>\n"},{"tags":["google-app-engine","amazon-web-services","scalability","porting","pricing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":115,"score":1,"question_id":12580744,"title":"GAE Vs AWS 2012","body":"<p>Is GAE is a good option for the backend when compared with AWS? The information found mainly discusses the issues that GAE has resolved as of today. The mobile application under consideration deals with the images. Sharing and editing of images simultaneously with multiple users.</p>\n\n<p>I am mainly concerned with the Scalability &amp; flexibility in the implementation. The robust &amp; compability layer, Storage and data analysis (analysis (identifying the patterns)of the data stored). </p>\n\n<p>AWS lets use the popular open source technologies &amp; tools and has a granular pricing. GAE is good to get to market really fast, no administration pain, and a free quota. </p>\n\n<p>Can you please point out some important pros &amp; cons that I must consider before taking the decision.</p>\n"},{"tags":["android","eclipse","google-app-engine","eclipse-plugin","google-cloud-endpoints"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12597276,"title":"Error generating cloud endpoint in Eclipse 4.2","body":"<p>During the last days I keep getting this error while trying to generate cloud endpoint library within Eclipse.</p>\n\n<p>Here's the full error log:</p>\n\n<pre><code>eclipse.buildId=I20120608-1400\njava.version=1.6.0_31\njava.vendor=Sun Microsystems Inc.\nBootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=it_IT\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -product org.eclipse.epp.package.jee.product\n\nError\nWed Sep 26 09:39:46 CEST 2012\nUnexpected Exception\n\ncom.google.api.client.http.HttpResponseException: 503 Service Unavailable\n{\n \"error\": {\n  \"errors\": [\n   {\n    \"domain\": \"global\",\n    \"reason\": \"backendError\",\n    \"message\": \"Backend Error\"\n   }\n  ],\n  \"code\": 503,\n  \"message\": \"Backend Error\"\n }\n}\n\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:861)\nat com.google.api.server.spi.tools.CloudDiscoveryDocGenerator.postRequest(CloudDiscoveryDocGenerator.java:61)\nat com.google.api.server.spi.tools.CloudDiscoveryDocGenerator.generateDiscoveryDoc(CloudDiscoveryDocGenerator.java:53)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmApiCreator.generateAndWriteDiscovery(SwarmApiCreator.java:217)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmApiCreator.createClientLibFromApiConfig(SwarmApiCreator.java:177)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmApiCreator.createSwarmApi(SwarmApiCreator.java:169)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmServiceCreator.create(SwarmServiceCreator.java:190)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmServiceCreator$1.run(SwarmServiceCreator.java:271)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507)\nat com.google.gdt.eclipse.appengine.swarm.wizards.helpers.SwarmServiceCreator.createWebApi(SwarmServiceCreator.java:267)\nat com.google.gdt.eclipse.appengine.swarm.wizards.GenerateSwarmApiAction.run(GenerateSwarmApiAction.java:79)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1022)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:916)\nat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86)\nat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:585)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:540)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:584)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1438)\n</code></pre>\n\n<p>At first I thought it was my fault, but now I recreated a simple app-engine back-end project from android project but still the same problem.</p>\n\n<p>Please help me I'm on schedule and this is taking me so loooong.</p>\n\n<p>If I try to deploy on app-engine there are no problem however...</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","google-app-engine","rest","gae-datastore","jersey"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12600095,"title":"Patching Jersey to use asm-4","body":"<p>this is a follow-up post to the twitter discussion i had on Google App Engine (<a href=\"https://twitter.com/app_engine/statuses/250863665442594816\" rel=\"nofollow\">Twitter Conversation</a>)</p>\n\n<p>The Problem is that Jersey and GAE won't work together with datanuceleus 2.0, since GAE needs ASM 4.0 but Jersey needs 3.1. A detailed description and easy solution on that is available here: <a href=\"http://cloudvane.com/2012/09/23/problem-with-google-appengine-and-jersey-with-java/\" rel=\"nofollow\">GAE and Jersey Problem description</a></p>\n\n<p>There are several posts on questions here on Stackoverflow, so I opened this thread to collaborate with Google's Teams to solve this issue. </p>\n\n<p>I simply switched from Datanuceleus 2.0 to 1.0 and Jersey was working again. Do you have any other suggestions? Especially since 2.0 would be great to use.</p>\n\n<p>Greetings,</p>\n\n<p>Mario</p>\n"},{"tags":["google-app-engine","templates","go"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12609457,"title":"GAE: How to upload files to be accessed by the application?","body":"<p><strong>Update: I found the problem.</strong> My static rule for HTML files still matched the templates even though they were in a subdirectory. After changing the rule to not match them anymore, the files could be accessed by the application.</p>\n\n<p>I'm creating a Google AppEngine application. I'm using the Go language but I'm not sure that's relevant. I want to use a template with a separate template file. So the application must read the template file. Locally this works but after uploading the app to GAE, I get \"no such file or directory\" when calling template.ParseFiles().</p>\n\n<p>So I'm thinking that somehow I must indicate that the template files are application files so that they get uploaded in the right way. I thought maybe my template files were uploaded as static files because of this in my app.yaml</p>\n\n<pre><code>- url: /(.*\\.html)\n  static_files: \\1\n  upload: .*\\.html\n</code></pre>\n\n<p>So I moved them to their own directory. But that didn't make a difference.  I tried adding an upload directive for my script rule in app.yaml like this:</p>\n\n<pre><code>- url: /.*\n  script: _go_app\n  upload: templates/.*\n</code></pre>\n\n<p>But that didn't seem to be allowed. So can anyone tell me how do I access the template files (or any data files) from my GAE application?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","django","google-app-engine","jinja2","django-template-tags"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12608919,"title":"using django filters in jinja2","body":"<p>I am developing an application on appengine, and want to use the awesome <code>timesince</code> django templatetag. Since I am using jinja2, I do not have the timesince filter available. How can I import it from django and use in jinja template. </p>\n\n<p>I saw <a href=\"http://stackoverflow.com/questions/4799715/jinja2-templates-using-django-template-tags\">this question</a>, but it does not serve the need. </p>\n"},{"tags":["python","google-app-engine"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":548,"score":1,"question_id":3844488,"title":"cant upload file in google app engine","body":"<p>I don't know why I cant upload my file? When I hit submit instead of redirecting to the default page(which is <a href=\"http://localhost:8082\" rel=\"nofollow\">http://localhost:8082</a>) , it redirects to <a href=\"http://localhost:8082/sign\" rel=\"nofollow\">http://localhost:8082/sign</a>. I didn't build no such path, so it return link broken. Here's my html:</p>\n\n<pre><code>&lt;form action=\"/sign\" enctype=\"multipart/form-data\" method=\"post\"&gt;\n                &lt;div&gt;&lt;label&gt;Excel file submit:&lt;/label&gt;&lt;/div&gt;\n                &lt;div&gt;&lt;input type=\"file\" name=\"excel\"/&gt;&lt;/div&gt;\n                &lt;div&gt;&lt;input type=\"submit\" value=\"Upload file\"&gt;&lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>my app.yaml:</p>\n\n<pre><code>application: engineapp01\nversion: 1\nruntime: python\napi_version: 1\n\nhandlers:\n- url: /js\n  static_dir: js\n- url: /css\n  static_dir: css\n- url: .*\n  script: main.py\n</code></pre>\n\n<p>main.py:</p>\n\n<pre><code>import os;\nfrom google.appengine.ext import webapp\nfrom google.appengine.ext.webapp import util\nfrom google.appengine.ext.webapp import template\nfrom google.appengine.ext import db\nfrom mmap import mmap,ACCESS_READ\nfrom xlrd import open_workbook\n\nclass Account(db.Model):\n    name = db.StringProperty()\n    type = db.StringProperty()\n    no = db.IntegerProperty()\n    co = db.IntegerProperty()\n\nclass MyFile(db.Model): \n    filedata = db.BlobProperty()\n\nclass MainHandler(webapp.RequestHandler):\n    def get(self):\n        #delete all old temporary entries\n        query = Account.all()\n        results = query.fetch(limit=40)\n        db.delete(results)\n\n        #temporary entry\n        acc = Account(name='temporaryAccountName',\n                    type='temporaryType',\n                    no=0,\n                    co=500)\n        acc.put()\n        temp = os.path.join(os.path.dirname(__file__),'templates/index.htm')\n\n        tableData = ''\n        query = Account.all()\n        query.order('name')\n        results = query.fetch(limit=20)\n        for account in results:\n            tempStr= \"\"\"\n                    &lt;tr&gt;\n                        &lt;td align='left' valign='top'&gt;%s&lt;/td&gt;\n                        &lt;td align='left' valign='top'&gt;%s&lt;/td&gt;\n                        &lt;td align='left' valign='top'&gt;%d&lt;/td&gt;\n                        &lt;td align='left' valign='top'&gt;%d&lt;/td&gt;\n                    &lt;/tr&gt;\"\"\" % (account.name,account.type,account.no,account.co)\n            tableData = tableData + tempStr\n\n        outstr = template.render(\n                temp,\n                {'tabledata':tableData})\n        self.response.out.write(outstr)\n\n    def post(self):\n        myFile = MyFile()\n        excel = self.request.get(\"excel\")\n        myFile.fileData = db.Blob(excel)\n        myFile.put()\n        self.redirect('/')\n\ndef main():\n    application = webapp.WSGIApplication([('/', MainHandler)],\n                                            debug=True)\n    util.run_wsgi_app(application)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}]}
